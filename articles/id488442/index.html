<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏼‍🚒 🤰🏿 🖐🏿 Kode modern untuk membuat permintaan HTTP di Swift 5 menggunakan Combine dan menggunakannya di SwiftUI. Bagian 1 👨🏿‍✈️ 🌯 🏎️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Permintaan HTTPadalah salah satu keterampilan paling penting yang perlu Anda dapatkan ketika mengembangkan iOSaplikasi. Dalam versi sebelumnya Swift(h...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Kode modern untuk membuat permintaan HTTP di Swift 5 menggunakan Combine dan menggunakannya di SwiftUI. Bagian 1</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/488442/"><img src="https://habrastorage.org/webt/uk/tq/y4/uktqy4xvl1cqefjbmvzdzydqj-g.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Permintaan </font></font><code>HTTP</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adalah salah satu keterampilan paling penting yang perlu Anda dapatkan ketika mengembangkan </font></font><code>iOS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aplikasi. Dalam versi sebelumnya </font></font><code>Swift</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(hingga versi 5), terlepas dari apakah Anda membuat permintaan ini "dari awal" atau menggunakan kerangka </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alamofire yang</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> terkenal </font><font style="vertical-align: inherit;">, Anda berakhir dengan kode </font></font><code>callback </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jenis yang&nbsp; </font><font style="vertical-align: inherit;">kompleks dan membingungkan </font></font><code>completionHandler: @escaping(Result&lt;T, APIError&gt;) -&gt; Void</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Penampilan dalam </font></font><code>Swift 5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kerangka baru pemrograman reaktif fungsional </font></font><code>Combine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dalam hubungannya dengan yang ada </font></font><code>URLSession</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, dan </font></font><code>Codable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memberi Anda semua alat yang diperlukan untuk menulis kode yang sangat kompak secara independen untuk mengambil data dari Internet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam artikel ini, sesuai dengan konsepnya, </font></font><code>Combine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kami akan membuat "penerbit"</font></font><code>Publisher</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk memilih data dari Internet, yang dapat dengan mudah kita “berlangganan” di masa depan dan digunakan saat mendesain </font></font><code>UI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dengan&nbsp; </font></font><code>UIKit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan dengan bantuan&nbsp; </font></font><code>SwiftUI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karena&nbsp; </font></font><code>SwiftUI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">terlihat lebih ringkas dan lebih efektif, karena tindakan "penerbit"&nbsp; </font></font><code>Publisher</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tidak terbatas hanya pada data sampel, dan meluas lebih jauh hingga ke kontrol antarmuka pengguna ( </font></font><code>UI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). Faktanya adalah bahwa </font></font><code>SwiftUI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pemisahan data&nbsp; </font></font><code>View </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dilakukan menggunakan </font></font><code>ObservableObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kelas dengan </font></font><code>@Published</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">properti, perubahan yang secara otomatis&nbsp; </font></font><code>SwiftUI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dipantau dan sepenuhnya digambar ulang </font></font><code>View</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di </font></font><code>ObservableObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kelas </font><font style="vertical-align: inherit;">- </font><font style="vertical-align: inherit;">kelas </font><font style="vertical-align: inherit;">ini&nbsp; </font><font style="vertical-align: inherit;">, Anda dapat dengan mudah menempatkan logika bisnis tertentu dari aplikasi, jika beberapa di antaranya</font></font><code>@Published</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;properti adalah hasil dari sinkron dan / atau asynchronous transformasi lainnya </font></font><code>@Published </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;sifat yang dapat langsung diubah "aktif" seperti elemen antarmuka pengguna ( </font></font><code>UI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) kotak teks </font></font><code>TextField</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>Picker</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>Stepper</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>Toggle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dll</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk memperjelas apa yang dipertaruhkan, saya akan memberikan contoh spesifik. Sekarang banyak layanan seperti </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NewsAPI.org</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;dan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hacker News</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> menawarkan </font><font style="vertical-align: inherit;">agregator berita untuk&nbsp; </font><font style="vertical-align: inherit;">menawarkan kepada pengguna untuk memilih set artikel yang berbeda tergantung pada minat mereka. Dalam kasus </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">agregator</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> berita&nbsp; </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">NewsAPI.org,</font></a><font style="vertical-align: inherit;"> ini bisa berupa berita terbaru, atau berita dalam beberapa kategori - "olahraga", "kesehatan", "sains", "teknologi", "bisnis", atau berita dari sumber informasi spesifik "CNN" , Berita ABC, Bloomberg, dll. Pengguna biasanya "mengekspresikan" keinginannya untuk layanan dalam bentuk </font></font><code>Endpoint</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yang membentuk kebutuhan untuknya </font></font><code>URL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, menggunakan framework&nbsp; </font></font><code>Combine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, Anda bisa</font></font><code>ObservableObject </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kelas menggunakan kode yang sangat kompak (dalam kebanyakan kasus tidak lebih dari 10-12 baris) sekali untuk membentuk ketergantungan sinkron dan / atau tidak sinkron dari daftar artikel&nbsp; </font></font><code>Endpoint</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dalam bentuk "berlangganan" dari </font></font><code>@Published </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">properti </font><font style="vertical-align: inherit;">"pasif" </font><font style="vertical-align: inherit;">ke properti "aktif" </font></font><code>@Published </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. "Langganan" ini akan valid sepanjang seluruh "siklus hidup" instance&nbsp; </font></font><code>ObservableObject </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kelas. Dan kemudian di dalam </font></font><code>SwiftUI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;Anda akan memberikan pengguna kesempatan untuk mengelola hanya properti "aktif" </font></font><code>@Published </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dalam bentuk </font></font><code>Endpoint</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, yaitu, APA yang ingin ia lihat: apakah itu akan menjadi artikel dengan berita terbaru atau artikel di bagian "kesehatan". Penampilan artikel-artikel itu sendiri dengan berita-berita terbaru atau artikel-artikel di bagian "kesehatan" pada Anda </font></font><code>UI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;akan diberikan secara OTOMATIS oleh </font></font><code>ObservableObject </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kelas </font><font style="vertical-align: inherit;">- </font><font style="vertical-align: inherit;">kelas </font><font style="vertical-align: inherit;">ini&nbsp; </font><font style="vertical-align: inherit;">dan properti "pasif" @Published. Dalam kode</font></font><code>SwiftUI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;Anda tidak akan pernah perlu secara eksplisit meminta pilihan artikel, karena </font></font><code>ObservableObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kelas yang memainkan peran </font><font style="vertical-align: inherit;">bertanggung jawab atas tampilan yang benar dan sinkron di layar&nbsp; </font></font><code>View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya akan menunjukkan cara kerjanya dengan&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NewsAPI.org</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;dan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hacker News</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">basis data</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> film </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">TMDb</font></a><font style="vertical-align: inherit;"> dalam serangkaian artikel. Dalam ketiga kasus, kira-kira pola penggunaan yang sama akan beroperasi&nbsp; </font></font><code>Combine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, karena dalam aplikasi semacam ini Anda selalu harus membuat LISTS film atau artikel, pilih "GAMBAR" (gambar) yang menyertai mereka, CARI database untuk film atau artikel yang dibutuhkan menggunakan bilah pencarian.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saat mengakses layanan tersebut, kesalahan dapat terjadi, misalnya, karena Anda menetapkan kunci yang salah </font></font><code>API-key</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">atau melebihi jumlah permintaan yang diizinkan atau sesuatu yang lain. Anda perlu menangani kesalahan semacam ini, jika tidak Anda berisiko meninggalkan pengguna sepenuhnya kehilangan layar kosong. Oleh karena itu, Anda harus dapat tidak hanya memilih </font></font><code>&nbsp;Combine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;data dari Internet </font><font style="vertical-align: inherit;">menggunakan </font><font style="vertical-align: inherit;">, tetapi juga melaporkan kesalahan yang mungkin terjadi selama pengambilan sampel, dan mengontrol penampilan mereka di layar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">akan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mulai mengembangkan strategi kami dengan mengembangkan aplikasi yang berinteraksi dengan </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">agregator</font></a><font style="vertical-align: inherit;"> berita&nbsp; </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">NewsAPI.org</font></a><font style="vertical-align: inherit;"> . Saya harus mengatakan bahwa dalam aplikasi ini </font></font><code>SwiftUI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">akan digunakan seminimal mungkin tanpa embel-embel dan hanya untuk menunjukkan bagaimana </font></font><code>Combine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dengan "penerbit" nya</font></font><code>Publisher</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan "berlangganan" </font></font><code>Subscription</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">terpengaruh </font></font><code>UI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Disarankan agar Anda mendaftar di situs web </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NewsAPI.org</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan menerima kunci </font></font><code>API</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yang diperlukan untuk menyelesaikan segala permintaan ke layanan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NewsAPI.org</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Anda harus meletakkannya di file </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NewsAPI.swift</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dalam struktur </font></font><code>APIConstants</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kode aplikasi untuk artikel ini ada di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Github</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">NewsAPI.org</font></a><font style="vertical-align: inherit;"> Model Data Layanan dan API</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"></font></a></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Layanan&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NewsAPI.org</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> memungkinkan </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">Anda</font></a><font style="vertical-align: inherit;"> memilih informasi tentang artikel berita terkini </font></font><code> [Article]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan sumbernya&nbsp; </font></font><code>[Source]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Model data kami akan sangat sederhana, terletak di </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Articles.swift</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> berkas&nbsp; </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">import</span> Foundation<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">NewsResponse</span>: <span class="hljs-title">Codable</span> </span>{
    <span class="hljs-keyword">let</span> status: <span class="hljs-type">String?</span>
    <span class="hljs-keyword">let</span> totalResults: <span class="hljs-type">Int?</span>
    <span class="hljs-keyword">let</span> articles: [<span class="hljs-type">Article</span>]<font></font>
}<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Article</span>: <span class="hljs-title">Codable</span>, <span class="hljs-title">Identifiable</span> </span>{
    <span class="hljs-keyword">let</span> id = <span class="hljs-type">UUID</span>()
    <span class="hljs-keyword">let</span> title: <span class="hljs-type">String</span>
    <span class="hljs-keyword">let</span> description: <span class="hljs-type">String?</span>
    <span class="hljs-keyword">let</span> author: <span class="hljs-type">String?</span>
    <span class="hljs-keyword">let</span> urlToImage: <span class="hljs-type">String?</span>
    <span class="hljs-keyword">let</span> publishedAt: <span class="hljs-type">Date?</span>
    <span class="hljs-keyword">let</span> source: <span class="hljs-type">Source</span><font></font>
}<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">SourcesResponse</span>: <span class="hljs-title">Codable</span> </span>{
    <span class="hljs-keyword">let</span> status: <span class="hljs-type">String</span>
    <span class="hljs-keyword">let</span> sources: [<span class="hljs-type">Source</span>]<font></font>
}<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Source</span>: <span class="hljs-title">Codable</span>,<span class="hljs-title">Identifiable</span> </span>{
    <span class="hljs-keyword">let</span> id: <span class="hljs-type">String?</span>
    <span class="hljs-keyword">let</span> name: <span class="hljs-type">String?</span>
    <span class="hljs-keyword">let</span> description: <span class="hljs-type">String?</span>
    <span class="hljs-keyword">let</span> country: <span class="hljs-type">String?</span>
    <span class="hljs-keyword">let</span> category: <span class="hljs-type">String?</span>
    <span class="hljs-keyword">let</span> url: <span class="hljs-type">String?</span><font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Artikel ini </font></font><code>Article</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">akan berisi pengidentifikasi </font></font><code>id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, judul </font></font><code> title</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, deskripsi </font></font><code>&nbsp;description</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, penulis </font></font><code>author</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, URL dari "gambar" </font></font><code>urlToImage</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, tanggal publikasi </font></font><code>publishedAt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan sumber publikasi </font></font><code>source</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Di atas artikel </font></font><code>[Article]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adalah add- </font></font><code>NewsResponse</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in di mana kita hanya akan tertarik pada properti </font></font><code>articles</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, yang merupakan array artikel. Struktur </font></font><code>NewsResponse</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan </font><font style="vertical-align: inherit;">struktur root </font></font><code>&nbsp;Article</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adalah </font></font><code>Codable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, yang akan memungkinkan kita untuk secara harfiah dua baris kode decoding </font></font><code>JSON</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">data ke dalam Model. Struktur&nbsp; </font></font><code>Article</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;juga harus </font></font><code>Identifiable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, jika kita ingin membuat lebih mudah untuk diri kita sendiri untuk menampilkan array artikel </font></font><code>[Article]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sebagai daftar&nbsp; </font></font><code>List</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;di </font></font><code>SwiftUI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Protokol </font></font><code>Identifiable </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">membutuhkan keberadaan properti</font></font><code>id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yang akan kami berikan dengan pengidentifikasi unik buatan </font></font><code>UUID()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sumber informasi&nbsp; </font></font><code>Source</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">akan berisi pengidentifikasi </font></font><code> id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, nama </font></font><code> name</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, deskripsi&nbsp; </font></font><code>description</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, negara </font></font><code> country</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, kategori sumber publikasi </font></font><code>category</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, URL situs </font></font><code>url</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Di atas sumber informasi&nbsp; </font></font><code>[Source] </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ada add-&nbsp; </font></font><code>SourcesResponse</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in di mana kita hanya akan tertarik pada properti </font></font><code>sources</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, yang merupakan array dari sumber informasi. Struktur </font></font><code>SourcesResponse</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan&nbsp; </font><font style="vertical-align: inherit;">struktur root </font></font><code>Source</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adalah </font></font><code>Codable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, yang akan memungkinkan kita untuk dengan mudah mendekode </font></font><code> JSON</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">data menjadi model. Struktur&nbsp; </font></font><code>Source</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;juga harus </font></font><code>Identifiable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, jika kita ingin memfasilitasi tampilan berbagai sumber informasi </font></font><code>&nbsp;[Source]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dalam bentuk daftar </font></font><code>&nbsp;List</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;di</font></font><code>SwiftUI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Protokol </font></font><code>Identifiable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mensyaratkan keberadaan properti </font></font><code>id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yang sudah kita miliki, jadi tidak ada upaya tambahan yang diperlukan dari kami. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang pertimbangkan apa yang kita butuhkan&nbsp; </font></font><code>API</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk layanan&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NewsAPI.org</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan letakkan di file&nbsp; </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NewsAPI.swift</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Bagian utama dari kami </font></font><code>API</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;adalah kelas </font></font><code>NewsAPI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yang menyajikan dua metode untuk memilih data dari </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">agregator</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> berita&nbsp;&nbsp; </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">NewsAPI.org</font></a><font style="vertical-align: inherit;"> - artikel&nbsp; </font></font><code>[Article]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan sumber informasi </font></font><code>&nbsp;[Source]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<ul>
<li><code>fetchArticles (from endpoint: Endpoint) -&gt; AnyPublisher&lt;[Article], Never&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp; - pemilihan artikel&nbsp; </font></font><code>[Article]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">berdasarkan parameter </font></font><code>endpoint</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></li>
<li><code>fetchSources (for country: String)&nbsp;-&gt; AnyPublisher&lt;[Source], Never&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Pilihan sumber informasi </font></font><code>[Source]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk negara tertentu </font></font><code> country</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Metode-metode ini menghasilkan tidak hanya array artikel&nbsp; </font></font><code>[Article]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;atau array sumber informasi </font></font><code>&nbsp;[Source]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, tetapi "penerbit" yang sesuai dari&nbsp; </font></font><code>Publisher </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kerangka kerja baru </font></font><code>Combine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Kedua penerbit tidak mengembalikan kesalahan apa pun - </font></font><code>Never</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan jika kesalahan pengambilan sampel atau pengkodean masih terjadi, maka array kosong artikel </font></font><code>[Article]()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;atau sumber informasi&nbsp; </font><font style="vertical-align: inherit;">dikembalikan&nbsp; </font></font><code>[Source]()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tanpa pesan apa pun mengapa array ini kosong.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Artikel atau sumber informasi mana yang ingin kami pilih dari server </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NewsAPI.org</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , kami akan tunjukkan menggunakan enumerasi</font></font><code>enum Endpoint:</code><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">Endpoint</span> </span>{
    <span class="hljs-keyword">case</span> topHeadLines
    <span class="hljs-keyword">case</span> articlesFromCategory(<span class="hljs-number">_</span> category: <span class="hljs-type">String</span>)
    <span class="hljs-keyword">case</span> articlesFromSource(<span class="hljs-number">_</span> source: <span class="hljs-type">String</span>)
    <span class="hljs-keyword">case</span> search (searchFilter: <span class="hljs-type">String</span>)
    <span class="hljs-keyword">case</span> sources (country: <span class="hljs-type">String</span>)<font></font>
    <font></font>
    <span class="hljs-keyword">var</span> baseURL:<span class="hljs-type">URL</span> {<span class="hljs-type">URL</span>(string: <span class="hljs-string">"https://newsapi.org/v2/"</span>)!}<font></font>
    <font></font>
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">path</span><span class="hljs-params">()</span></span> -&gt; <span class="hljs-type">String</span> {
        <span class="hljs-keyword">switch</span> <span class="hljs-keyword">self</span> {
        <span class="hljs-keyword">case</span> .topHeadLines, .articlesFromCategory:
            <span class="hljs-keyword">return</span> <span class="hljs-string">"top-headlines"</span>
        <span class="hljs-keyword">case</span> .search,.articlesFromSource:
            <span class="hljs-keyword">return</span> <span class="hljs-string">"everything"</span>
        <span class="hljs-keyword">case</span> .sources:
            <span class="hljs-keyword">return</span> <span class="hljs-string">"sources"</span><font></font>
        }<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Itu:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">berita terbaru&nbsp; </font></font><code>.topHeadLines</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">berita dari kategori tertentu (olahraga, sehat, sains, bisnis, teknologi)&nbsp; </font></font><code>.articlesFromCategory(_ category: String)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">berita dari sumber informasi tertentu (CNN, ABC News, Fox News, dll.) </font></font><code>&nbsp;.articlesFromSource(_ source: String)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">berita apa pun&nbsp; </font></font><code>.search (searchFilter: String)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yang memenuhi persyaratan tertentu </font></font><code>searchFilter</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sumber informasi </font></font><code>.sources (country:String)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk negara tertentu </font></font><code>country</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk memfasilitasi inisialisasi opsi yang kita butuhkan, kami menambahkan </font></font><code>Endpoint</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">inisialisasi </font></font><code>init?</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ke </font><font style="vertical-align: inherit;">enumerasi </font><font style="vertical-align: inherit;">untuk berbagai daftar artikel dan sumber informasi tergantung pada indeks </font></font><code>index&nbsp;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan string </font></font><code> text</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, yang memiliki arti berbeda untuk opsi enumerasi yang berbeda:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">init</span>? (index: <span class="hljs-type">Int</span>, text: <span class="hljs-type">String</span> = <span class="hljs-string">"sports"</span>) {
        <span class="hljs-keyword">switch</span> index {
        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>: <span class="hljs-keyword">self</span> = .topHeadLines
        <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>: <span class="hljs-keyword">self</span> = .search(searchFilter: text)
        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>: <span class="hljs-keyword">self</span> = .articlesFromCategory(text)
        <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>: <span class="hljs-keyword">self</span> = .articlesFromSource(text)
        <span class="hljs-keyword">case</span> <span class="hljs-number">4</span>: <span class="hljs-keyword">self</span> = .sources (country: text)
        <span class="hljs-keyword">default</span>: <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span><font></font>
        }<font></font>
    }</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita kembali ke kelas </font></font><code> NewsAPI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;dan mempertimbangkan lebih detail metode pertama&nbsp; </font></font><code>fetchArticles (from endpoint: Endpoint)-&gt; AnyPublisher&lt;[Article], Never&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, yang memilih artikel </font></font><code>[Article]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">berdasarkan parameter </font></font><code>endpoint</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan tidak mengembalikan kesalahan apa pun - </font></font><code>Never</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">fetchArticles</span><span class="hljs-params">(from endpoint: Endpoint)</span></span> -&gt; <span class="hljs-type">AnyPublisher</span>&lt;[<span class="hljs-type">Article</span>], <span class="hljs-type">Never</span>&gt; {
        <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> url = endpoint.absoluteURL <span class="hljs-keyword">else</span> {              <span class="hljs-comment">// 0</span>
                    <span class="hljs-keyword">return</span> <span class="hljs-type">Just</span>([<span class="hljs-type">Article</span>]()).eraseToAnyPublisher()<font></font>
        }<font></font>
           <span class="hljs-keyword">return</span>
            <span class="hljs-type">URLSession</span>.shared.dataTaskPublisher(<span class="hljs-keyword">for</span>:url)        <span class="hljs-comment">// 1</span>
            .<span class="hljs-built_in">map</span>{$<span class="hljs-number">0</span>.data}                                       <span class="hljs-comment">// 2</span>
            .decode(type: <span class="hljs-type">NewsResponse</span>.<span class="hljs-keyword">self</span>,                    <span class="hljs-comment">// 3</span>
                    decoder: <span class="hljs-type">APIConstants</span> .jsonDecoder)<font></font>
            .<span class="hljs-built_in">map</span>{$<span class="hljs-number">0</span>.articles}                                   <span class="hljs-comment">// 4</span>
            .replaceError(with: [])                             <span class="hljs-comment">// 5</span>
            .receive(on: <span class="hljs-type">RunLoop</span>.main)                          <span class="hljs-comment">// 6</span>
            .eraseToAnyPublisher()                              <span class="hljs-comment">// 7</span>
    }</code></pre><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">atas dasar </font></font><code>endpoint</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;formulir </font></font><code>URL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk meminta daftar artikel yang diinginkan </font></font><code>endpoint.absoluteURL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, jika ini tidak dapat dilakukan, maka kembalikan array artikel kosong</font></font><code>[Article]()</code></li>
<li> «» <code>dataTaskPublisher(for:)</code>,     <code>Output </code>  <code>(data: Data, response: URLResponse)</code>, &nbsp; <code>Failure</code>&nbsp;-&nbsp;<code>URLError</code>,</li>
<li>  <code>map { }</code>       <code>(data: Data, response: URLResponse)</code>  &nbsp;<code>data</code>,&nbsp;</li>
<li> <code>JSON </code>&nbsp;<code>data</code>   ,   &nbsp;<code>NewsResponse</code>,    <code>articles:&nbsp;[Atricle]</code></li>
<li>  <code>map { }&nbsp;</code>        -&nbsp;<code>articles</code>,&nbsp;</li>
<li>  -        <code>[ ]</code>,</li>
<li>   <code>main </code>,          <code>UI</code>,</li>
<li>«»  «»   <code>eraseToAnyPublisher()</code>    <code>AnyPublisher</code>.</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tugas memilih sumber informasi ditugaskan ke metode kedua - </font></font><code>fetchSources (for country: String)&nbsp;-&gt; AnyPublisher&lt;[Source], Never&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yang merupakan salinan semantik yang tepat dari metode pertama, kecuali bahwa kali ini alih-alih artikel </font></font><code>[Article]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kami akan memilih sumber informasi </font></font><code>[Source]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">fetchSources</span><span class="hljs-params">()</span></span> -&gt; <span class="hljs-type">AnyPublisher</span>&lt;[<span class="hljs-type">Source</span>], <span class="hljs-type">Never</span>&gt; {
        <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> url = <span class="hljs-type">Endpoint</span>.sources.absoluteURL <span class="hljs-keyword">else</span> {      <span class="hljs-comment">// 0</span>
                       <span class="hljs-keyword">return</span> <span class="hljs-type">Just</span>([<span class="hljs-type">Source</span>]()).eraseToAnyPublisher()<font></font>
           }<font></font>
              <span class="hljs-keyword">return</span>
               <span class="hljs-type">URLSession</span>.shared.dataTaskPublisher(<span class="hljs-keyword">for</span>:url)      <span class="hljs-comment">// 1</span>
               .<span class="hljs-built_in">map</span>{$<span class="hljs-number">0</span>.data}                                     <span class="hljs-comment">// 2</span>
               .decode(type: <span class="hljs-type">SourcesResponse</span>.<span class="hljs-keyword">self</span>,               <span class="hljs-comment">// 3</span>
                       decoder: <span class="hljs-type">APIConstants</span> .jsonDecoder)<font></font>
               .<span class="hljs-built_in">map</span>{$<span class="hljs-number">0</span>.sources}                                  <span class="hljs-comment">// 4</span>
               .replaceError(with: [])                           <span class="hljs-comment">// 5</span>
               .receive(on: <span class="hljs-type">RunLoop</span>.main)                        <span class="hljs-comment">// 6</span>
               .eraseToAnyPublisher()                            <span class="hljs-comment">// 7</span>
    }</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ia mengembalikan kepada kita "penerbit" </font></font><code>AnyPublisher &lt;[Source], Never&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dengan nilai dalam bentuk array sumber informasi </font></font><code>[Source] </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan tidak adanya kesalahan </font></font><code>&nbsp;Never</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;(jika terjadi kesalahan, array kosong sumber dikembalikan&nbsp; </font></font><code>[ ]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami akan memilih bagian umum dari kedua metode ini, mengaturnya sebagai </font></font><code>Generic</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fungsi </font></font><code>fetch(_ url: URL) -&gt; AnyPublisher&lt;T, Error&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yang mengembalikan&nbsp; </font></font><code>Generic</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"penerbit" </font></font><code>AnyPublisher&lt;T, Error&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">berdasarkan </font></font><code>URL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-comment">//     URL</span>
     <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">fetch</span>&lt;T: Decodable&gt;<span class="hljs-params">(<span class="hljs-number">_</span> url: URL)</span></span> -&gt; <span class="hljs-type">AnyPublisher</span>&lt;<span class="hljs-type">T</span>, <span class="hljs-type">Error</span>&gt; {
                   <span class="hljs-type">URLSession</span>.shared.dataTaskPublisher(<span class="hljs-keyword">for</span>: url)             <span class="hljs-comment">// 1</span>
                    .<span class="hljs-built_in">map</span> { $<span class="hljs-number">0</span>.data}                                          <span class="hljs-comment">// 2</span>
                    .decode(type: <span class="hljs-type">T</span>.<span class="hljs-keyword">self</span>, decoder: <span class="hljs-type">APIConstants</span>.jsonDecoder) <span class="hljs-comment">// 3</span>
                    .receive(on: <span class="hljs-type">RunLoop</span>.main)                               <span class="hljs-comment">// 4</span>
                    .eraseToAnyPublisher()                                   <span class="hljs-comment">// 5</span>
    }</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini akan menyederhanakan dua metode sebelumnya:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-comment">//   </span>
     <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">fetchArticles</span><span class="hljs-params">(from endpoint: Endpoint)</span></span>
                                     -&gt; <span class="hljs-type">AnyPublisher</span>&lt;[<span class="hljs-type">Article</span>], <span class="hljs-type">Never</span>&gt; {
         <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> url = endpoint.absoluteURL <span class="hljs-keyword">else</span> {
                     <span class="hljs-keyword">return</span> <span class="hljs-type">Just</span>([<span class="hljs-type">Article</span>]()).eraseToAnyPublisher() <span class="hljs-comment">// 0</span><font></font>
         }<font></font>
         <span class="hljs-keyword">return</span> fetch(url)                                          <span class="hljs-comment">// 1</span>
             .<span class="hljs-built_in">map</span> { (response: <span class="hljs-type">NewsResponse</span>) -&gt; [<span class="hljs-type">Article</span>] <span class="hljs-keyword">in</span>        <span class="hljs-comment">// 2</span>
                             <span class="hljs-keyword">return</span> response.articles }<font></font>
                .replaceError(with: [<span class="hljs-type">Article</span>]())                    <span class="hljs-comment">// 3</span>
                .eraseToAnyPublisher()                              <span class="hljs-comment">// 4</span><font></font>
     }<font></font>
    <font></font>
    <span class="hljs-comment">//    </span>
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">fetchSources</span><span class="hljs-params">(<span class="hljs-keyword">for</span> country: String)</span></span>
                                       -&gt; <span class="hljs-type">AnyPublisher</span>&lt;[<span class="hljs-type">Source</span>], <span class="hljs-type">Never</span>&gt; {
        <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> url = <span class="hljs-type">Endpoint</span>.sources(country: country).absoluteURL
            <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">return</span> <span class="hljs-type">Just</span>([<span class="hljs-type">Source</span>]()).eraseToAnyPublisher() <span class="hljs-comment">// 0</span><font></font>
        }<font></font>
        <span class="hljs-keyword">return</span> fetch(url)                                         <span class="hljs-comment">// 1</span>
            .<span class="hljs-built_in">map</span> { (response: <span class="hljs-type">SourcesResponse</span>) -&gt; [<span class="hljs-type">Source</span>] <span class="hljs-keyword">in</span>     <span class="hljs-comment">// 2</span><font></font>
                            response.sources }<font></font>
               .replaceError(with: [<span class="hljs-type">Source</span>]())                    <span class="hljs-comment">// 3</span>
               .eraseToAnyPublisher()                             <span class="hljs-comment">// 4</span>
    }</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
"Penerbit" yang diperoleh tidak mengirimkan apa pun sampai seseorang "berlangganan" kepada mereka. </font><font style="vertical-align: inherit;">Kita bisa melakukan ini ketika mendesain </font></font><code>UI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Penerbit" </font></font><code>Publisher</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">seperti </font></font><code>View Model </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pada </font></font><code> SwiftUI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Daftar artikel.</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang sedikit tentang logika fungsi </font></font><code>SwiftUI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Satu- </font></font><code>SwiftUI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;satunya abstraksi dari "perubahan eksternal" yang mereka respons </font></font><code>View</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adalah "penerbit" </font></font><code>Publisher</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. "Perubahan eksternal" dapat dipahami sebagai timer </font></font><code> Timer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, pemberitahuan dengan </font></font><code>NotificationCenter </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">atau objek Model Anda, yang menggunakan protokol </font></font><code>ObservableObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dapat diubah menjadi "sumber kebenaran" tunggal eksternal (sumber kebenaran).&nbsp; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk tipe "penerbit" biasa </font></font><code>Timer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">atau </font></font><code>NotificationCenter</code> <code>View</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bereaksi menggunakan metode </font></font><code>onReceive (_: perform:)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Contoh penggunaan "penerbit" </font></font><code>Timer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">akan kami sajikan nanti di artikel ketiga tentang pembuatan aplikasi untuk </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hacker News</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada artikel ini, kita akan fokus pada bagaimana membuat Model kita&nbsp;</font></font><code>SwiftUI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eksternal "sumber kebenaran" (sumber kebenaran). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari pertama-tama kita lihat bagaimana </font></font><code>SwiftUI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"penerbit" yang dihasilkan harus berfungsi dalam contoh spesifik menampilkan berbagai jenis artikel: </font></font><br>
<br>
<code>.topHeadLines</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- berita terbaru,&nbsp; </font></font><code>.articlesFromCategory(_ category: String)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;- berita untuk kategori tertentu, </font></font><code>&nbsp;.articlesFromSource(_ source: String)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;- berita untuk sumber informasi tertentu, </font></font><code>.search (searchFilter: String)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;- berita yang dipilih oleh kondisi tertentu. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zr/ua/uv/zruauv9msu2nulm2ksuflhtxusi.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bergantung pada </font></font><code> Endpoint</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pengguna </font><font style="vertical-align: inherit;">mana yang </font><font style="vertical-align: inherit;">dipilih, kita perlu memperbarui daftar artikel yang </font></font><code>articles</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dipilih dari </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NewsAPI.org</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Untuk melakukan ini, kita akan membuat kelas </font></font><code>&nbsp;ArticlesViewModel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yang </font><font style="vertical-align: inherit;">sangat sederhana </font><font style="vertical-align: inherit;">yang mengimplementasikan protokol </font></font><code>ObservableObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;dengan tiga&nbsp; </font></font><code>@Published</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">properti:</font></font><br>
&nbsp;<br>
<img src="https://habrastorage.org/webt/ty/xj/cs/tyxjcsfctbxerl9oiyr6ljvda8c.png"><br>
<br>
<ul>
<li><code>@Published var indexEndpoint: Int</code> —   <code>Endpoint</code> (    «»,        <code>View</code>),&nbsp;&nbsp;</li>
<li><code>@Published var searchString: String</code> —  ,             &nbsp;&nbsp;(     «»,        <code>View</code>&nbsp;    <code>TextField</code>),</li>
<li><code>@Published var articles: [Article]</code>&nbsp;-    ( «»,          <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">NewsAPI.org</a>,  «»).</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Segera setelah kami menetapkan&nbsp; </font></font><code>@Published</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;properti </font></font><code>indexEndpoint&nbsp;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">atau </font></font><code> searchString</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, kami dapat mulai menggunakannya baik sebagai properti sederhana&nbsp; </font></font><code>indexEndpoint</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;dan&nbsp; </font></font><code>searchString</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, dan sebagai "penerbit"&nbsp; </font></font><code>$indexEndpoint</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan&nbsp; </font></font><code>$searchString</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di kelas&nbsp; </font></font><code>ArticlesViewModel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, Anda tidak hanya dapat mendeklarasikan properti yang menarik bagi kami, tetapi juga meresepkan logika bisnis dari interaksinya. Untuk tujuan ini, ketika menginisialisasi instance kelas&nbsp; </font></font><code>ArticlesViewModel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;, </font></font><code>init</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kita dapat membuat "langganan" yang akan bertindak di seluruh "siklus hidup" instance kelas&nbsp; </font></font><code>ArticlesViewModel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan mereproduksi ketergantungan dari daftar artikel </font></font><code>articles</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pada indeks&nbsp; </font></font><code>indexEndpoint</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;dan string pencarian </font></font><code>searchString</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk melakukan ini, </font></font><code>Combine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kami memperluas rantai "penerbit" </font></font><code>$indexEndpoint</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;dan </font></font><code>$searchString</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menghasilkan "penerbit"</font></font><code>AnyPublisher&lt;[Article], Never&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yang nilainya adalah daftar artikel&nbsp; </font></font><code>articles</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Kemudian kami "berlangganan" menggunakan operator </font></font><code>assign&nbsp;(to: \.articles, on: self)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan mendapatkan daftar artikel yang kami butuhkan </font></font><code>articles </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sebagai </font></font><code>@Published</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;properti </font><font style="vertical-align: inherit;">"output"&nbsp; </font><font style="vertical-align: inherit;">yang menentukan </font></font><code>UI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kita harus menarik rantai TIDAK hanya dari properti&nbsp; </font></font><code>indexEndpoint</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan </font></font><code>searchString</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, yaitu dari "penerbit" </font></font><code> $indexEndpoint</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan </font></font><code>$searchString</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yang berpartisipasi dalam pembuatan </font></font><code>UI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dengan bantuan </font></font><code>SwiftUI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan kami akan mengubahnya di sana menggunakan elemen antarmuka pengguna&nbsp; </font></font><code>Picker</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan </font></font><code>TextField</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bagaimana kita akan melakukan ini? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami sudah memiliki fungsi di gudang senjata kami </font></font><code>fetchArticles (from: Endpoint)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yang ada di kelas&nbsp; </font></font><code>NewsAPI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan mengembalikan "penerbit" </font></font><code>AnyPublisher&lt;[Article], Never&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, tergantung pada nilainya</font></font><code>Endpoint</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, dan kami hanya bisa menggunakan nilai "penerbit"&nbsp; </font></font><code>$indexEndpoint</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan&nbsp; </font></font><code>$searchString</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mengubahnya menjadi argumen untuk </font></font><code>endpoint</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fungsi ini.&nbsp; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertama, gabungkan "penerbit"&nbsp; </font></font><code>$indexEndpoint</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;dan&nbsp; </font></font><code>$searchString</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Untuk melakukan ini, </font></font><code>Combine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">operator ada </font></font><code>Publishers.CombineLatest </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ci/pg/wd/cipgwdfx2fxmlevrmkf8nnkc6u4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk membuat "penerbit" baru berdasarkan data yang diterima dari "penerbit" sebelumnya </font></font><code>Combine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;, operator digunakan&nbsp; </font></font><code>flatMap</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ln/s7/ur/lns7urzc9l64o8mswhliuggsyp4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selanjutnya, kami "berlangganan" ke "penerbit" yang baru diterima ini menggunakan "pelanggan" yang sangat sederhana&nbsp; </font></font><code>assign (to: \.articles, on: self)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan menetapkan yang diterima dari " penerbit "nilai untuk&nbsp; </font></font><code>@Published</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;array&nbsp; </font></font><code>articles</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/su/io/xi/suioxibgc3t31oewzgkbfaljina.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami baru saja membuat </font></font><code>init( )</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" penerbit "ASYNCHRONOUS" dan "berlangganan" untuk itu, sebagai akibat dari</font></font><code>AnyCancellable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Berlangganan" dan ini mudah untuk diverifikasi jika kita menjaga "langganan" kita dalam konstanta </font></font><code>let subscription</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gw/ig/ml/gwigml-zqpprclh76lzfnjhvzda.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Properti utama dari </font></font><code>AnyCancellable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"berlangganan" adalah bahwa begitu ia meninggalkan ruang lingkupnya, memori yang ditempati olehnya secara otomatis dibebaskan. Oleh karena itu, segera setelah </font></font><code>init( ) </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">selesai, "langganan" ini akan dihapus </font></font><code>ARC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, tanpa memiliki waktu untuk menetapkan informasi asinkron yang diterima dengan penundaan waktu ke array </font></font><code>articles</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Informasi asinkron tidak memiliki tempat untuk "mendarat", dalam arti harfiahnya, "bumi telah hilang dari kakinya." </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk menyimpan "langganan" seperti itu, perlu membuat </font></font><code> init() </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">variabel </font><font style="vertical-align: inherit;">DI LUAR penginisialisasi </font></font><code>var&nbsp;cancellableSet</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yang akan menyimpan&nbsp; </font></font><code>AnyCancellable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"langganan" kami dalam variabel ini di seluruh "siklus hidup" instance kelas&nbsp;  </font></font><code>ArticlesViewMode</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oleh karena itu, kami menghapus konstanta </font></font><code>let subscription</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan mengingat </font></font><code>AnyCancellable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"langganan" kami dalam variabel&nbsp; </font></font><code>cancellableSet</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menggunakan operator </font></font><code>.store ( in: &amp;self.cancellableSet)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/my/gt/xw/mygtxwz7uhcurfyfnblva9irfku.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
"Berlangganan" ke "penerbit" ASYNCHRONOUS yang kami buat </font></font><code>init( )</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">akan dipertahankan sepanjang seluruh "siklus hidup" instance kelas&nbsp; </font></font><code>ArticlesViewModel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami dapat secara sewenang-wenang mengubah arti "penerbit"&nbsp; </font></font><code>$indexEndpoint</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan / atau&nbsp; </font></font><code>searchString</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, dan selalu berkat "berlangganan" yang dibuat, kami akan memiliki serangkaian artikel yang sesuai dengan nilai-nilai dari dua penerbit&nbsp; </font></font><code>articles</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tanpa upaya tambahan. Ini&nbsp; </font></font><code>ObservableObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kelas biasanya disebut&nbsp; </font></font><code>View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk mengurangi jumlah panggilan ke server saat mengetik string pencarian </font></font><code>searchString</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, kita tidak boleh menggunakan "penerbit" dari string pencarian itu sendiri&nbsp;</font></font><code>$searchString</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, dan versinya yang dimodifikasi </font></font><code>validString</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kh/ir/2z/khir2z1rrmou-hks2rtfuq31bnm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang kita punya </font></font><code>View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">artikel, </font><font style="vertical-align: inherit;">mari kita </font><font style="vertical-align: inherit;">mulai membuat antarmuka pengguna ( </font></font><code>UI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). Untuk </font></font><code>SwiftUI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menyinkronkan </font></font><code>View</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dengan </font></font><code>ObservableObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;Model, </font></font><code>@ObservedObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">variabel </font><font style="vertical-align: inherit;">digunakan </font><font style="vertical-align: inherit;">yang merujuk pada instance kelas Model ini. Pasangan ini -&nbsp; </font></font><code>ObservableObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;kelas dan&nbsp; </font></font><code>@ObservedObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">variabel yang mereferensikan instance kelas ini - yang mengontrol perubahan dalam antarmuka pengguna ( </font></font><code>UI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) di&nbsp; </font></font><code>SwiftUI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami menambahkan struktur </font></font><code>ContentView</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;instance kelas </font></font><code>ArticleViewModel </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dalam bentuk variabel </font></font><code>var articleViewModel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan menggantinya </font></font><code>Text ("Hello, World!")</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dengan daftar artikel </font></font><code>ArticlesList</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">di mana kami menempatkan artikel yang&nbsp; </font></font><code>articlesViewModel.articles</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diperoleh dari kami&nbsp;</font></font><code>View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Akibatnya, kami mendapatkan daftar artikel untuk indeks tetap dan default&nbsp; </font></font><code>indexEndpoint = 0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, yaitu, untuk </font></font><code>.topHeadLines</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;berita terbaru: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/je/_f/j-/je_fj-0m2xews-ih7vptprkdpoy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tambahkan </font></font><code>UI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">elemen ke </font><font style="vertical-align: inherit;">layar kami&nbsp; </font><font style="vertical-align: inherit;">untuk mengontrol set artikel mana yang ingin kami tampilkan. Kami akan menggunakan&nbsp; </font></font><code>Picker</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">perubahan indeks </font></font><code>$articlesViewModel.indexEndpoint</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Kehadiran simbol adalah&nbsp; </font></font><code>$</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wajib, karena ini berarti perubahan dalam nilai yang diberikan oleh&nbsp; </font></font><code>@Published&nbsp;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"penerbit". "Berlangganan" ke "penerbit" ini dipicu segera, yang kami mulai </font></font><code>init ()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, "output"&nbsp; </font></font><code>@Published</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"penerbit" </font></font><code>&nbsp;articles</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;akan berubah dan kami akan melihat daftar artikel yang berbeda di layar: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zx/sd/pp/zxsdppfkp5y0nuk-j99uhovvmu8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan cara ini kami dapat menerima array artikel untuk ketiga opsi - "topHeadLines", "pencarian "Dan" dari kategori ":</font></font><br>
<br>
<img src="https://habrastorage.org/webt/jm/yc/a_/jmyca_mvm0n2___cswvcamuuqqm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... tetapi untuk string pencarian tetap dan default </font></font><code>searchString = "sports"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(jika diperlukan): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zq/pi/tw/zqpitwdhh3fsnciz9p2scvn1sas.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Namun, untuk opsi,&nbsp; </font></font><code>"search"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;Anda harus memberi pengguna bidang teks </font></font><code>SearchView</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk memasukkan string pencarian: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xk/d1/uu/xkd1uu0tmepthmsjlkzu--wlwse.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Akibatnya, pengguna dapat mencari berita apa pun dengan string pencarian yang diketik: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/x4/ch/5a/x4ch5apliuwesqxjzeds58ab1t8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk opsi,&nbsp; </font></font><code>"from category"&nbsp;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diperlukan untuk menyediakan pengguna kesempatan untuk memilih kategori dan kami mulai dengan kategori </font></font><code>science</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/2i/8e/3v/2i8e3vvly1r_ipfuflxwbtepglq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
sebagai hasilnya, pengguna dapat mencari berita pada kategori yang dipilih berita - </font></font><code>science</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code> health</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,&nbsp; </font></font><code>business</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>technology</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/p_/pn/li/p_pnli0chxenoalmms3ltch-iwo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
kita dapat melihat bagaimana yang sangat sederhana&nbsp; </font></font><code>ObservableObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;model yang memiliki dua dikendalikan oleh pengguna </font></font><code>@Published </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fitur - </font></font><code>indexEndpoint</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;dan</font></font><code>searchString</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- memungkinkan Anda memilih berbagai informasi dari situs web&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NewsAPI.org</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Daftar sumber informasi</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita lihat bagaimana </font></font><code>SwiftUI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;"penerbit" sumber informasi yang diterima di kelas NewsAPI akan berfungsi </font></font><code>fetchSources (for country: String)&nbsp;-&gt; AnyPublisher&lt;[Source], Never&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami akan mendapatkan daftar sumber informasi untuk berbagai negara: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hr/oh/le/hrohle3hq8pkyhnjf6frali7yao.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... dan kemampuan untuk mencarinya berdasarkan nama: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kg/ea/ll/kgeallzwaxnkvekct18th7knkyo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... serta informasi terperinci tentang sumber yang dipilih: nama, kategori, negara, deskripsi singkat, dan tautan ke situs:&nbsp; </font></font><br>
<br>
<img src="https://habrastorage.org/webt/k_/b7/9w/k_b79wirynz07feigtlhgdeyik4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda mengklik tautan, kami akan mengunjungi situs web ini sumber informasi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agar semua ini berfungsi, Anda memerlukan </font></font><code>ObservableObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Model yang </font><font style="vertical-align: inherit;">sangat sederhana&nbsp; </font><font style="vertical-align: inherit;">yang hanya memiliki dua </font></font><code>@Published</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">properti yang </font><font style="vertical-align: inherit;">dikontrol pengguna </font><font style="vertical-align: inherit;">- </font></font><code>searchString</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;dan&nbsp; </font></font><code>country</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rs/id/4b/rsid4bb5xmkjdkwuptkmwvhi-yc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan lagi, kami menggunakan skema yang sama: saat menginisialisasi instance kelas </font></font><code>SourcesViewModel </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kelas di</font></font><code> init</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kami membuat "langganan" yang akan beroperasi di seluruh "siklus hidup" instance kelas </font></font><code>&nbsp;SourcesViewModel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan memastikan bahwa daftar sumber informasi tergantung&nbsp; </font></font><code>sources</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pada negara&nbsp; </font></font><code>country</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan string pencarian </font></font><code>&nbsp;searchString</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan bantuan&nbsp; </font></font><code>Combine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kami menarik rantai dari "penerbit" </font></font><code>$searchString </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan </font></font><code>$country</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk menghasilkan "penerbit" </font></font><code>AnyPublisher&lt;[Source], Never&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, yang nilainya adalah daftar sumber informasi. Kami "berlangganan" untuk itu menggunakan operator </font></font><code>assign&nbsp;(to: \.sources, on: self)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, kami mendapatkan daftar sumber informasi yang kami butuhkan&nbsp; </font></font><code>sources</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. dan ingat </font></font><code>AnyCancellable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"langganan" yang </font><font style="vertical-align: inherit;">diterima&nbsp; </font><font style="vertical-align: inherit;">dalam variabel&nbsp; </font></font><code>cancellableSet</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menggunakan operator </font></font><code>.store ( in: &amp;self.cancellableSet)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang kita memiliki </font></font><code>View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sumber informasi, </font><font style="vertical-align: inherit;">mari </font><font style="vertical-align: inherit;">mulai membuat </font></font><code> UI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. B </font></font><code>SwiftUI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk menyinkronkan </font></font><code> View</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font><code>ObservableObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;Model ini menggunakan </font></font><code>@ObservedObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">variabel yang merujuk pada instance kelas Model ini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tambahkan </font></font><code>ContentViewSources</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;instance kelas </font><font style="vertical-align: inherit;">ke struktur&nbsp; </font></font><code>SourcesViewModel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dalam bentuk variabel </font></font><code>var sourcesViewModel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, hapus&nbsp; </font></font><code>Text ("Hello, World!")</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;dan tempatkan Anda sendiri </font></font><code>View</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk masing-masing 3&nbsp; </font></font><code>@Published</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">properti </font></font><code>&nbsp;sourcesViewModel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;:</font></font><br>
<br>
&nbsp;<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kotak teks&nbsp; </font></font><code>SearchView</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk bilah pencarian&nbsp; </font></font><code>searchString</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></li>
<li>&nbsp;<code>Picker</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;untuk negara </font></font><code>country</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">daftar&nbsp; </font></font><code>SourcesList&nbsp;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sumber informasi</font></font></li>
</ul><br>
<img src="https://habrastorage.org/webt/td/tk/kn/tdtkknev57l3b5avb8y0uheu7fa.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Akibatnya, kami mendapatkan apa yang kami butuhkan </font></font><code>View</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/jw/gg/ly/jwgglycniqr2e-jhpifypfzx4m8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di layar ini, kami hanya mengelola string pencarian menggunakan kotak teks </font></font><code>SearchView</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan "negara" dengan&nbsp; </font></font><code>Picker</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, dan sisanya terjadi secara OTOMATIS. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Daftar sumber informasi </font></font><code>SourcesList</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">berisi informasi minimal tentang setiap sumber - nama </font></font><code>source.name </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan deskripsi singkat </font></font><code>source.description</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sj/zi/1z/sjzi1zh-7leadeujwarkuka_ii8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... tetapi memungkinkan Anda untuk mendapatkan informasi lebih rinci tentang sumber yang dipilih menggunakan tautan </font></font><code>NavigationLink</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">di mana </font></font><code>destination</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kami menunjukkan&nbsp; </font></font><code>DetailSourceView</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sumber data mana yang merupakan sumber informasi&nbsp; </font></font><code>source</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan contoh kelas yang diperlukan </font></font><code>ArticlesViewModel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, yang memungkinkan dapatkan daftar artikelnya </font></font><code>articles</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ix/j_/uh/ixj_uheqhclwopwidsihztunn5e.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lihat betapa elegannya kita mendapatkan daftar artikel untuk sumber informasi yang dipilih di daftar sumber&nbsp; </font></font><code>SourcesList</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Teman lama kita membantu kita - kelas&nbsp; </font></font><code>ArticlesViewModel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yang harus kita atur </font></font><code>@Published</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">properti </font><font style="vertical-align: inherit;">"input"&nbsp; </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">indeks&nbsp; </font></font><code>indexEndpoint = 3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, yaitu, opsi yang&nbsp; </font></font><code>.articlesFromSource (_source:String)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sesuai dengan pemilihan artikel untuk sumber tetap </font></font><code>source</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">string&nbsp; </font></font><code>searchString</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;sebagai sumber itu sendiri (atau lebih tepatnya pengenalnya) </font></font><code>source.id&nbsp;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font></li>
</ul><br>
<img src="https://habrastorage.org/webt/ia/xi/lr/iaxilr4rlcyippxuvkbd46kequ4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Secara umum, jika Anda melihat seluruh aplikasi </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NewsApp</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , Anda tidak akan melihat di mana pun bahwa kami secara eksplisit meminta pilihan artikel atau sumber informasi dari situs web&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NewsAPI.org</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Kami hanya mengelola&nbsp; </font></font><code>@Published</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;data, tetapi </font></font><code>View Model </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">melakukan pekerjaan kami: memilih artikel dan sumber informasi yang kami butuhkan.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unduh gambar </font></font><code>UIImage</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk artikel </font></font><code>Article</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Model artikel&nbsp; </font></font><code>Article&nbsp;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">berisi </font></font><code>URL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gambar </font></font><code>urlToImage</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yang </font><font style="vertical-align: inherit;">menyertainya&nbsp; </font><font style="vertical-align: inherit;">: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/om/ny/fv/omnyfvhlcegrhltunqvjvyaq6l4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berdasarkan ini,&nbsp; </font></font><code>URL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">di masa depan kita harus mendapatkan gambar sendiri </font></font><code>UIImage</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;dari situs web&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NewsAPI.org</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami sudah terbiasa dengan tugas ini. </font><font style="vertical-align: inherit;">Di kelas </font></font><code>ImageLoader</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, menggunakan fungsi, </font></font><code>fetchImage(for url: URL?) -&gt; AnyPublisher&lt;UIImage?, Never&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">buat "penerbit"&nbsp;  </font></font><code>AnyPublisher&lt;UIImage?, Never&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dengan nilai gambar&nbsp; </font></font><code>UIImage?</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;dan tidak ada kesalahan&nbsp; </font></font><code>Never</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(pada kenyataannya, jika kesalahan terjadi, maka gambar dikembalikan </font></font><code> nil</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). </font><font style="vertical-align: inherit;">Anda dapat "berlangganan" ke "penerbit" ini untuk menerima gambar&nbsp; </font></font><code>UIImage?</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;saat merancang antarmuka pengguna ( </font></font><code>UI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). </font><font style="vertical-align: inherit;">Sumber data untuk fungsi </font></font><code>fetchImage(for url: URL?)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ini adalah&nbsp; </font></font><code>url</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, yang kami miliki:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/do/a-/hg/doa-hg5idk0ukdghj0snu0-nubm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita pertimbangkan secara rinci bagaimana formasi dengan bantuan </font></font><code> Combine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"penerbit" </font><font style="vertical-align: inherit;">ini terjadi </font></font><code>AnyPublisher &lt;UIImage?, Never&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, jika kita tahu </font></font><code>url</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jika </font></font><code>url</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sama </font></font><code>nil</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, kembali </font></font><code>Just(nil)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">berdasarkan pada </font></font><code>url</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bentuk "penerbit" </font></font><code>dataTaskPublisher(for:)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, yang nilai outputnya </font></font><code>Output</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adalah tuple </font></font><code>(data: Data, response: URLResponse)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan kesalahan </font></font><code>&nbsp;Failure</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-&nbsp; </font></font><code>URLError</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kami </font><font style="vertical-align: inherit;">hanya </font><font style="vertical-align: inherit;">mengambil </font><font style="vertical-align: inherit;">data </font></font><code>map {}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dari tuple </font></font><code>(data: Data, response: URLResponse)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk diproses lebih lanjut&nbsp; </font></font><code>data</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, dan membentuk </font></font><code>UIImage</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jika langkah sebelumnya kesalahan kembali terjadi </font></font><code>nil</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kami mengirimkan hasilnya ke </font></font><code>main</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aliran, karena kami menganggap penggunaan lebih lanjut dalam desain </font></font><code>UI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Hapus" JENIS "penerbit" dan kembalikan salinannya </font></font><code>AnyPublisher</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda melihat bahwa kodenya cukup kompak dan mudah dibaca, tidak ada </font></font><code>callbacks</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari mulai membuat&nbsp; </font></font><code>View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;untuk gambar </font></font><code>UIImage?</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Ini adalah kelas </font></font><code>ImageLoader</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yang mengimplementasikan protokol </font></font><code>ObservableObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, dengan dua&nbsp; </font></font><code>@Published</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">properti:</font></font><br>
<br>
<ul>
<li><code>@Published url: URL?</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;adalah </font></font><code>URL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gambar</font></font></li>
<li><code>@Published var image: UIImage?</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;adalah gambar itu sendiri dari </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NewsAPI.org</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font></li>
</ul><br>
<img src="https://habrastorage.org/webt/li/o6/kr/lio6krhn0v1eyeiwg_cgpwcigia.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan lagi, ketika menginisialisasi instance kelas,&nbsp; </font></font><code>ImageLoader</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;kita harus meregangkan rantai dari input "penerbit"&nbsp; </font></font><code>$url</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;ke output "penerbit" </font></font><code>AnyPublisher&lt;UIImage?, Never&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, yang akan kita </font><font style="vertical-align: inherit;">&nbsp;"berlangganan" </font><font style="vertical-align: inherit;">nanti dan mendapatkan gambar yang kita butuhkan </font></font><code>image</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ba/gi/2s/bagi2swivajzz0pkgqzzsswudww.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami menggunakan operator </font></font><code>&nbsp;flatMap</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan "pelanggan" yang sangat sederhana&nbsp; </font></font><code>assign (to: \image, on: self)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk menetapkannya ke yang diterima dari "penerbit" "Nilai ke properti </font></font><code>@Published image</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/eq/3k/4-/eq3k4-0pbruhk4qbcu8hmyinfmg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan lagi dalam variabel&nbsp; </font><font style="vertical-align: inherit;">" berlangganan " </font></font><code>cancellableSet </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">disimpan </font></font><code>AnyCancellable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menggunakan operator&nbsp; </font></font><code>store(in: &amp;self.cancellableSet)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Logika "pengunduh gambar" ini adalah Anda mengunduh gambar dari sesuatu selain yang </font></font><code> nil URL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">asalkan tidak dimuat sebelumnya, yaitu</font></font><code>image == nil</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Jika selama proses pengunduhan kesalahan terdeteksi, gambar akan tidak ada, yaitu, </font></font><code>image</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">akan tetap sama </font></font><code>nil</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di </font></font><code>SwiftUI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kami menunjukkan gambar dengan bantuan </font></font><code>ArticleImage</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yang menggunakan instance dari </font></font><code>imageLoader</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;kelas </font><font style="vertical-align: inherit;">untuk ini </font></font><code>ImageLoader</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Jika gambar gambarnya tidak sama </font></font><code>nil</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, maka itu ditampilkan menggunakan </font></font><code> Image (...)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, tetapi jika itu sama </font></font><code>nil</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, maka tergantung pada apa yang sama dengan </font></font><code>url </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, apakah tidak ada yang ditampilkan </font></font><code>EmptyView()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, atau persegi panjang </font></font><code>Rectangle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dengan teks T berputar </font><font style="vertical-align: inherit;">ditampilkan </font></font><code>ext("Loading...")</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/mh/nq/yi/mhnqyirurke0w6yibfxm86gap1i.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Logika ini berfungsi dengan baik untuk kasus ini ketika Anda tahu pasti bahwa untuk&nbsp; </font></font><code>url</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, selain&nbsp; </font></font><code>nil</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anda mendapatkan gambar </font></font><code>image</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, seperti halnya dengan database film&nbsp;</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TMDb</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Dengan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NewsAPI.org,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> agregator berita&nbsp; </font><font style="vertical-align: inherit;">&nbsp; berbeda. Artikel-artikel dari beberapa sumber informasi memberikan yang berbeda dari&nbsp; </font></font><code>nil&nbsp;URL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gambar, tetapi akses ke sana tertutup, dan kami mendapatkan persegi panjang </font></font><code>Rectangle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dengan teks berputar </font></font><code>Text("Loading...")</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yang tidak akan pernah diganti: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sh/tq/lp/shtqlpz4wx-iobt19-wv9j2pb7w.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam situasi ini, jika </font></font><code>&nbsp;URL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gambar berbeda dari&nbsp; </font></font><code>nil</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, maka kesetaraan&nbsp; </font></font><code>nil</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gambar&nbsp; </font></font><code>image</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dapat berarti bahwa gambar sedang memuat , dan fakta bahwa kesalahan terjadi saat memuat dan kami tidak akan pernah mendapatkan gambar </font></font><code>image</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Untuk membedakan antara dua situasi ini, kami menambahkan </font><font style="vertical-align: inherit;">satu lagi </font></font><code>ImageLoader</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;ke dua </font></font><code>@Published</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">properti yang </font><font style="vertical-align: inherit;">ada </font><font style="vertical-align: inherit;">di kelas&nbsp; </font><font style="vertical-align: inherit;">:&nbsp;</font></font><br>
<br>
<code>&nbsp;@Published var noData = false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;- ini adalah nilai Boolean yang dengannya kami akan menunjukkan tidak adanya data gambar karena kesalahan selama pemilihan: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kp/jc/sq/kpjcsqugrsfzyghmefnge0unscy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saat membuat "berlangganan", kami </font></font><code> init</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menangkap semua kesalahan </font></font><code> Error</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yang terjadi saat memuat gambar dan mengakumulasi kehadiran mereka di&nbsp; </font></font><code>@Published</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">properti </font></font><code>self.noData = true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Jika unduhan berhasil, maka kami mendapatkan gambar </font></font><code>image</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">
Kami membuat </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
"Penerbit"&nbsp; </font></font><code>AnyPublisher&lt;UIImage?, Error&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;berdasarkan&nbsp; </font></font><code>url</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;fungsi </font></font><code>fetchImageErr (for url: URL?)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/7f/ek/jf/7fekjfrbihaieypuxaovub1-op8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kami mulai membuat metode </font></font><code>fetchImageErr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dengan menginisialisasi "penerbit"&nbsp; </font></font><code>Future</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, yang dapat digunakan untuk secara asinkron memperoleh nilai TYPE tunggal </font></font><code>Result</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menggunakan penutupan. Penutupan memiliki satu parameter - </font></font><code>Promise</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yang merupakan fungsi dari TYPE&nbsp; </font></font><code>(Result&lt;Output, Failure&gt;) → Void</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font><font style="vertical-align: inherit;">Kami akan mengubah </font></font><br>
<br>
<img src="https://habrastorage.org/webt/iu/ch/_u/iuch_uvhdkz42-mfyuiuq3jiosg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
hasilnya </font></font><code>Future</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menjadi</font></font><code>AnyPublisher &lt;UIImage?, Error&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dengan bantuan operator "Hapus TIPE" </font></font><code>eraseToAnyPublisher()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selanjutnya, kami akan melakukan langkah-langkah berikut, dengan mempertimbangkan semua kesalahan yang mungkin terjadi (kami tidak akan mengidentifikasi kesalahan, penting bagi kami untuk mengetahui bahwa ada kesalahan): </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
0. periksa </font></font><code>url</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk </font></font><code>nil</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;dan&nbsp; </font></font><code>noData</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pada </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: jika demikian, kembalikan kesalahan, jika tidak, transfer </font></font><code>url</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lebih lanjut dengan rantai, </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. membuat "penerbit" </font></font><code>dataTaskPublisher(for:)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yang inputnya adalah - </font></font><code>url</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, dan nilai output </font></font><code>Output</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adalah tuple </font></font><code>(data: Data, response: URLResponse)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan kesalahan&nbsp; </font></font><code>URLError</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. menganalisis menggunakan </font></font><code> tryMap { }</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;tuple yang dihasilkan </font></font><code>(data: Data, response: URLResponse)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: jika </font></font><code>response.statusCode</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">berada dalam kisaran </font></font><code>200...299</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, maka untuk pemrosesan lebih lanjut kami hanya mengambil data&nbsp; </font></font><code>data</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Kalau tidak, kami "membuang" kesalahan (apa pun yang terjadi),</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. kami </font></font><code>map { }</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mengubah data </font></font><code>data</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menjadi </font></font><code>UIImage</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4. mengirimkan hasilnya ke </font></font><code>main</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aliran, karena kami berasumsi bahwa kami akan menggunakannya nanti dalam </font><font style="vertical-align: inherit;">proses </font><font style="vertical-align: inherit;">desain </font></font><code>UI</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - kami "berlangganan" ke "penerbit" yang diterima menggunakan </font></font><code>sink</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">penutupan </font></font><code>receiveCompletion</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan </font></font><code>receiveValue</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - 5. jika kami </font></font><code>receiveCompletion</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;menemukan kesalahan </font><font style="vertical-align: inherit;">dalam penutupan&nbsp; </font></font><code>error</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, kami melaporkan menggunakannya </font></font><code>promise (.failure(error)))</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - 6. pada penutupan,&nbsp; </font></font><code>receiveValue </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kami menginformasikan tentang penerimaan yang sukses dari array artikel yang menggunakan </font></font><code> promise (.success($0))</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
7. kita ingat "langganan" yang diterima dalam variabel&nbsp; </font></font><code>cancellableSet</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk memastikan kelangsungannya dalam "seumur hidup" dari instance kelas </font></font><code>ImageLoader</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
8. kita "menghapus" JENIS "penerbit" dan kembalikan instance </font></font><code>AnyPublisher</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami kembali ke </font></font><code>ArticleImage</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tempat kami akan menggunakan </font></font><code>@Published</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">variabel </font><font style="vertical-align: inherit;">baru&nbsp; </font></font><code>noData</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Jika tidak ada data gambar, maka kami tidak akan menampilkan apa pun, yaitu </font></font><code>EmptyView ()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/3k/wr/v_/3kwrv_cecjy2f8jea3rgnnpkzri.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Akhirnya, kami akan mengemas semua kemungkinan kami menampilkan data dari </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">agregator</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> berita </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">NewsAPI.org</font></a><font style="vertical-align: inherit;"> di </font></font><code>TabView</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/yq/xb/ra/yqxbraupq1d0tgeygy2lb05o4xo.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tampilkan kesalahan saat mengambil dan mendekode data JSON dari server&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NewsAPI.org</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saat mengakses server </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NewsAPI.org</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ,&nbsp; </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">kesalahan</font></a><font style="vertical-align: inherit;"> dapat terjadi, misalnya, karena Anda menetapkan kunci yang salah </font></font><code>API-key</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">atau, memiliki tarif pengembang yang tidak ada biaya, melebihi jumlah permintaan yang diizinkan atau hal lain. Pada saat yang sama, server&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NewsAPI.org</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;memberi Anda </font></font><code>HTTP</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kode dan pesan yang sesuai: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/_f/2n/zv/_f2nzv5bndlu8auo9cygjyk9fta.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda perlu menangani kesalahan server semacam ini. Jika tidak, pengguna aplikasi Anda akan jatuh ke dalam situasi ketika tiba-tiba, tanpa alasan, server&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NewsAPI.org akan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;berhenti memproses permintaan apa pun, membuat pengguna benar-benar bingung dengan layar kosong. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hingga saat ini, ketika memilih artikel&nbsp; </font></font><code>[Article]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan sumber informasi&nbsp; </font></font><code>[Source]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dari server&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NewsAPI.org</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;kami mengabaikan semua kesalahan, dan dalam kasus kemunculannya kembali array yang kosong </font></font><code>[Article]()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan&nbsp; </font><font style="vertical-align: inherit;">sebagai hasilnya&nbsp; </font></font><code>[Source]()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Memulai dengan penanganan kesalahan, mari kita </font></font><code>fetchArticles (from endpoint: Endpoint) -&gt; AnyPublisher&lt;[Article], Never&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;buat </font></font><code>NewsAPI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;metode lain </font><font style="vertical-align: inherit;">di kelas </font><font style="vertical-align: inherit;">berdasarkan </font><font style="vertical-align: inherit;">metode </font><font style="vertical-align: inherit;">pemilihan artikel yang&nbsp; </font><font style="vertical-align: inherit;">ada </font></font><code>fetchArticlesErr (from endpoint: Endpoint) -&gt; AnyPublisher&lt;[Article], NewsError&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yang akan mengembalikan tidak hanya array artikel </font></font><code>[Article]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, tetapi juga kemungkinan kesalahan&nbsp; </font></font><code>NewsError</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">fetchArticlesErr</span><span class="hljs-params">(from endpoint: Endpoint)</span></span> -&gt;
                            <span class="hljs-type">AnyPublisher</span>&lt;[<span class="hljs-type">Article</span>], <span class="hljs-type">NewsError</span>&gt; {<font></font>
<font></font>
. . . . . . . .<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Metode ini, serta metode ini </font></font><code>fetchArticles</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, menerima </font></font><code>endpoint</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;dan mengembalikan "penerbit" </font><font style="vertical-align: inherit;">pada input </font><font style="vertical-align: inherit;">dengan nilai dalam bentuk array artikel </font></font><code>[Article]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, tetapi alih-alih tidak ada kesalahan </font></font><code>Never</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, kami mungkin memiliki kesalahan yang ditentukan oleh pencacahan </font></font><code>NewsError</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/x9/es/ey/x9eseyq8jbapjkmgdoj7aggc6f0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita mulai membuat metode baru dengan menginisialisasi "penerbit"&nbsp; </font></font><code>Future</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, yang dapat berupa gunakan untuk secara sinkron mendapatkan nilai TYPE tunggal </font></font><code>Result</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menggunakan penutupan. </font><font style="vertical-align: inherit;">Penutupan memiliki satu parameter - </font></font><code>Promise</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yang merupakan fungsi dari TYPE&nbsp; </font></font><code>(Result&lt;Output, Failure&gt;) -&gt; Void</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font><font style="vertical-align: inherit;">Kami akan mengubah yang </font></font><br>
<br>
<img src="https://habrastorage.org/webt/3w/bw/ct/3wbwctuso0qweiz3a8qk_h1aiom.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
diterima </font></font><code>Future</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menjadi "penerbit" yang kami butuhkan&nbsp; </font></font><code>AnyPublisher &lt;[Article], NewsError&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menggunakan operator "TYPE Erase" </font></font><code>eraseToAnyPublisher()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lebih lanjut dalam metode baru, </font></font><code>fetchArticlesErr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kami akan mengulangi semua langkah yang kami ambil dalam metode&nbsp;</font></font><code>fetchArticles</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, tetapi kami akan memperhitungkan semua kemungkinan kesalahan:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/pb/xz/i0/pbxzi0rn5-cuandt3rtu74ofj8s.png"><br>
<br>
<ul>
<li>0.   endpoint&nbsp; <code>URL endpoint.absoluteURL </code>    , <code> url </code> <code>nil</code>:  <code>nil</code>,    <code>.urlError</code>,   —  <code>url</code>   ,</li>
<li>1.  «» <code>dataTaskPublisher(for:)</code>,     — <code>url</code>,    <code>Output</code>   <code>(data: Data, response: URLResponse)</code>  &nbsp;<code>URLError</code>,</li>
<li>2.    <code>tryMap { }</code>&nbsp;  <code>(data: Data, response: URLResponse)</code>:  <code>response.statusCode</code>    <code>200...299</code>,       &nbsp;<code>data</code>.    «»  <code>.responseError</code>,  &nbsp;&nbsp;<code>data</code>,    <code>String</code>,    ,</li>
<li>3. <code> JSON</code>    ,   &nbsp;<code>NewsResponse</code>,</li>
<li>4.    <code>main</code> ,         <code>UI</code></li>
<li>«»   «»   <code>sink</code>    <code>receiveCompletion</code>  <code>receiveValue</code>,<br>
 <ul>
<li>5.&nbsp; &nbsp;&nbsp;<code>receiveCompletion</code>&nbsp;  <code>error</code>,       <code>promise (.failure(...)))</code>,</li>
<li> 6.&nbsp;&nbsp;&nbsp;<code>receiveValue</code>         <code>promise (.success($0.articles))</code>,</li>
</ul>&nbsp;</li>
<li>7.&nbsp;  «»  &nbsp;<code>var subscriptions</code>,       « »   <code>NewsAPI</code>,</li>
<li>8. «»  «»    <code>AnyPublisher</code>.</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perlu dicatat bahwa "penerbit"&nbsp; </font></font><code>dataTaskPublisher(for:)</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">berbeda</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dari prototipe </font></font><code>dataTask</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dalam hal dalam hal kesalahan server ketika </font></font><code>response.statusCode</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;BUKAN dalam kisaran </font></font><code>200...299</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, itu masih memberikan nilai keberhasilan dalam bentuk tuple </font></font><code>(data: Data, response: URLResponse)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, dan bukan kesalahan dalam bentuk </font></font><code>(Error, URLResponse?)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Dalam hal ini, informasi galat server yang sebenarnya ada di </font></font><code>data</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. "Penerbit" </font></font><code>dataTaskPublisher(for:)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;memberikan kesalahan&nbsp; </font></font><code>URLError</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jika kesalahan terjadi di sisi klien (ketidakmampuan untuk menghubungi server, larangan sistem keamanan </font></font><code>ATS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, dll.). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika kita ingin menampilkan kesalahan </font></font><code>SwiftUI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, maka kita perlu yang sesuai </font></font><code>View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, yang akan kita panggil&nbsp; </font></font><code>ArticlesViewModelErr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/em/1o/qy/em1oqy5ob60o8xzmz_-kpdvzs4a.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di kelas </font></font><code>&nbsp;ArticlesViewModelErr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yang mengimplementasikan protokol </font></font><code>ObservableObject </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, kali ini kita memiliki </font></font><code>@Published</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">properti </font><font style="vertical-align: inherit;">EMPAT&nbsp; </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<ol>
<li><code>@Published var indexEndpoint: Int</code> —   <code>Endpoint</code> (    «»,     <code> View</code>),&nbsp;</li>
<li><code>@Published var searchString: String</code> —   ,    &nbsp;<code>Endpoint</code>:    «» ,       (      «»,        <code>View</code>),&nbsp;</li>
<li>&nbsp;<code>@Published var articles: [Article]</code>&nbsp;-    ( «»,        &nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">NewsAPI.org&nbsp;</a>)</li>
<li>&nbsp;&nbsp;<code>@Published var articlesError: NewsError?</code>&nbsp;-  ,      &nbsp;    &nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">NewsAPI.org&nbsp;</a>.</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketika Anda menginisialisasi instance kelas </font></font><code>ArticlesViewModelErr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, kita harus kembali memperpanjang rantai dari input "penerbit" </font></font><code>$indexEndpoint</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan </font></font><code>$searchString</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk menghasilkan "penerbit"&nbsp; </font></font><code>AnyPublisher&lt;[Article],NewsError&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, yang kami "tandatangani" dengan "Pelanggan" </font></font><code>sink</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan kami mendapatkan banyak artikel </font></font><code>articles</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">atau kesalahan&nbsp; </font></font><code>articlesError</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di kelas kami, </font></font><code>NewsAPI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kami telah membangun fungsi&nbsp; </font></font><code>fetchArticlesErr (from endpoint: Endpoint)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yang mengembalikan "penerbit"&nbsp; </font></font><code>AnyPublisher&lt;[Article], NewsError&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, tergantung pada nilainya </font></font><code>endpoint</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, dan kami hanya perlu entah bagaimana menggunakan nilai-nilai "penerbit"&nbsp; </font></font><code>$indexEndpoint</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan&nbsp; </font></font><code>$searchString</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mengubahnya menjadi argumen untuk fungsi ini </font></font><code>endpoint</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.&nbsp; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk memulainya, kami akan menggabungkan "penerbit"&nbsp; </font></font><code>$indexEndpoint</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;dan&nbsp; </font></font><code>$searchString</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Untuk melakukan ini, </font></font><code>Combine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">operator ada </font></font><code>Publishers.CombineLatest</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/5i/lz/zh/5ilzzh6h5_aity8uvzd6eladg7q.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kemudian kita harus menetapkan tipe kesalahan TYPE "publisher" sama dengan yang diperlukan&nbsp; </font></font><code>NewsError</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/oe/85/tt/oe85tthmperdfzf6yqiy5fmy2b4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selanjutnya, kita ingin menggunakan fungsi&nbsp; </font></font><code>fetchArticlesErr (from endpoint: Endpoint) </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dari kelas kita </font></font><code>NewsAPI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Seperti biasa, kami akan melakukan ini dengan bantuan operator&nbsp; </font></font><code>flatMap</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yang menciptakan "penerbit" baru berdasarkan data yang diterima dari "penerbit" sebelumnya: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bh/bu/kx/bhbukxfbhg2q9otl4rp-ksponec.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kemudian kami "berlangganan" ke "penerbit" yang baru diterima ini dengan bantuan "pelanggan" </font></font><code>sink</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan menggunakan penutupannya </font></font><code>receiveCompletion</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan </font></font><code>receiveValue</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk menerima dari "penerbit" baik nilai array artikel&nbsp; </font></font><code>articles</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">atau kesalahan </font></font><code>articlesError</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cq/x8/iy/cqx8iyvnwanwmv1vselki10ytv4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Secara alami, perlu untuk mengingat "berlangganan" yang dihasilkan dalam beberapa </font></font><code>init()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">variabel </font><font style="vertical-align: inherit;">eksternal </font></font><code>cancellableSet</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Kalau tidak, kita tidak akan bisa mendapatkan nilainya secara sinkron</font></font><code>articles</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">atau kesalahan </font></font><code>articlesError </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">setelah selesai </font></font><code>init()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kh/wh/_a/khwh_ao98y7zy9cdpenc0nzvntq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk mengurangi jumlah panggilan ke server saat mengetik string pencarian </font></font><code>searchString</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, kita tidak boleh menggunakan "penerbit" dari bar pencarian itu sendiri&nbsp; </font></font><code>$searchString</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, tetapi versi yang dimodifikasi </font></font><code>validString</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fl/op/ss/flopssp-pjixvbtesqabmpp1h2s.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
"Berlangganan" ke "penerbit" ASYNCHRONOUS yang kami buat </font></font><code>init( )</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">akan bertahan di seluruh "siklus hidup" instance kelas&nbsp; </font></font><code>ArticlesViewModelErr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/nt/iw/k4/ntiwk4eju6aneam-1wlymjqyu9a.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami melanjutkan ke koreksi kita </font></font><code> UI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk menampilkan kemungkinan kesalahan pengambilan sampel data di atasnya. Dalam </font></font><code>SwiftU</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I, dalam struktur yang ada, kami&nbsp; </font></font><code>ContentVieArticles</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;menggunakan yang lain, baru diperoleh&nbsp; </font></font><code>View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, hanya menambahkan huruf "Err" dalam nama. Ini adalah turunan dari kelas.&nbsp;&nbsp;</font></font><code>ArticlesViewModelErr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, yang “menangkap” kesalahan memilih dan / atau mendekode data artikel dari server&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NewsAPI.org</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kw/vy/uv/kwvyuvbthb08tcalkcdpnucqfbq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan kami juga menambahkan tampilan pesan darurat&nbsp; </font></font><code>Alert</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;jika terjadi kesalahan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Misalnya, jika kunci API yang salah adalah:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">APIConstants</span> </span>{
    <span class="hljs-comment">// News  API key url: https://newsapi.org</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">let</span> apiKey: <span class="hljs-type">String</span> = <span class="hljs-string">"API_KEY"</span> <font></font>
    <font></font>
   .  .  .  .  .  .  .  .  .  .  .  .  .<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... maka kami akan menerima pesan berikut: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/nb/ws/si/nbwssihj8ldlqqtcbti4tjwcv7o.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika batas permintaan telah habis, kami akan menerima pesan berikut: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cz/de/ux/czdeuxquiscc-6qklciy5a0w3jm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kembali ke metode pemilihan artikel&nbsp; </font></font><code>[Article] </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dengan kemungkinan kesalahan&nbsp; </font></font><code>NewsError</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, kami dapat menyederhanakan kodenya jika kami menggunakan&nbsp; </font></font><code>Generic</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;"penerbit" </font></font><code>AnyPublisher&lt;T,NewsError&gt;,</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yang, berdasarkan set,&nbsp; </font></font><code>url</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menerima </font></font><code>JSON</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">informasi secara </font><font style="vertical-align: inherit;">sinkron </font><font style="vertical-align: inherit;">, menempatkannya secara langsung dalam </font></font><code>Codable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Model </font></font><code>T</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;dan melaporkan kesalahan&nbsp; </font></font><code>NewsError</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/lc/v7/m9/lcv7m9fmdbq20ih5phivj7hl1go.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti yang kita ketahui, kode ini sangat mudah digunakan untuk mendapatkan "penerbit" tertentu jika sumber datanya </font></font><code>url</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adalah </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">agregator</font></a><font style="vertical-align: inherit;"> &nbsp;atau negara&nbsp; </font></font><code>Endpoint</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">berita&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NewsAPI.org</font></font></a><font style="vertical-align: inherit;"></font><code>country</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sumber informasi, dan hasilnya memerlukan berbagai Model - misalnya, daftar artikel atau sumber informasi:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ig/ff/4q/igff4qjqmxcxloixsshjbc36uxy.png"><br>
<br>
<img src="https://habrastorage.org/webt/bh/o_/7n/bho_7nbyxpl5yxth1ihweasjbec.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kesimpulan</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami belajar bagaimana mudahnya untuk memenuhi </font></font><code>HTTP</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">permintaan dengan bantuan </font></font><code> Combine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nya </font></font><code>URLSession</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“penerbit” </font></font><code>dataTaskPublisher</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan </font></font><code>Codable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Jika Anda tidak perlu melacak kesalahan, Anda mendapatkan </font></font><code> Generic</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kode 5-baris yang </font><font style="vertical-align: inherit;">sangat sederhana </font><font style="vertical-align: inherit;">untuk "penerbit" </font></font><code>AnyPublisher&lt;T, Never&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, yang secara tidak sinkron menerima </font></font><code>JSON </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">informasi dan menempatkannya langsung dalam </font></font><code>Codable </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Model </font></font><code>T</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;berdasarkan yang diberikan&nbsp; </font></font><code>url</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/2i/r_/6w/2ir_6wkuga1u9jcxsmqijle480e.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kode ini sangat mudah digunakan untuk mendapatkan penerbit tertentu, jika sumber datanya </font></font><code>url </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adalah, misalnya </font></font><code>Endpoint</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, dan output memerlukan berbagai Model - misalnya, satu set artikel atau daftar sumber informasi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda perlu memperhitungkan kesalahan akun, maka kode untuk&nbsp; </font></font><code>Generic</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"penerbit" akan sedikit lebih rumit, tetapi tetap saja itu adalah kode yang sangat sederhana tanpa ada panggilan balik:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fi/4d/ep/fi4depxf-hbngki4p5y3ktunbny.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menggunakan teknologi eksekusi </font></font><code>HTTP</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">permintaan menggunakan </font></font><code>Combine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, dapatkah Anda membuat "penerbit" </font></font><code>AnyPublisher&lt;UIImage?, Never&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yang secara sinkron memilih data dan menerima gambar UIImage? berdasarkan </font></font><code>URL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Pengunduh gambar di </font></font><code>ImageLoade</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-cache dalam memori untuk menghindari pengambilan data yang tidak sinkron berulang.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Segala macam "penerbit" yang diperoleh dapat dengan mudah "dibuat bekerja" di kelas ObservableObject, yang menggunakan properti @Published mereka untuk mengontrol UI Anda yang dirancang menggunakan SwiftUI. Kelas-kelas ini biasanya memainkan peran Model Lihat, karena mereka memiliki apa yang disebut "input" @ properti yang diterbitkan yang sesuai dengan elemen UI aktif (TextField, Stepper, kotak teks Picker, tombol radio Toggle, dll.) Dan "output" @ properti yang diterbitkan , yang sebagian besar terdiri dari elemen UI pasif (teks teks, gambar gambar, lingkaran () bentuk geometris, persegi panjang (), dll. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gagasan ini menyebar ke seluruh </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aplikasi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> agregator berita </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">NewsAPI.org yang</font></a><font style="vertical-align: inherit;"> disajikan dalam artikel ini. cukup universal dan digunakan saat</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mengembangkan aplikasi untuk </font></font></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">basis data </font></font></a><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">film </font></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">TMDb</font></a><font style="vertical-align: inherit;"> dan agregator berita&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hacker News</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , yang akan dibahas dalam artikel mendatang. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kode aplikasi untuk artikel ini ada di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Github</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PS </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. Saya ingin menarik perhatian Anda pada fakta bahwa jika Anda menggunakan simulator untuk aplikasi yang disajikan dalam artikel ini, maka ketahuilah bahwa </font></font><code>NavigationLink</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">simulator berfungsi dengan kesalahan. Kamu bisa menggunakan</font></font><code>NavigationLink</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pada simulator hanya 1 kali. </font><font style="vertical-align: inherit;">Itu </font><font style="vertical-align: inherit;">Anda menggunakan tautan, kembali, klik tautan yang sama - dan tidak ada yang terjadi. </font><font style="vertical-align: inherit;">Sampai Anda menggunakan tautan lain, yang pertama tidak akan berfungsi, tetapi yang kedua tidak akan bisa diakses. </font><font style="vertical-align: inherit;">Tapi ini hanya diamati pada simulator, pada perangkat nyata semuanya berfungsi dengan baik. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. Beberapa sumber informasi masih menggunakan </font></font><code>http</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sebagai gantinya </font></font><code>https</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"gambar" dari artikel mereka. </font><font style="vertical-align: inherit;">Jika Anda benar-benar ingin melihat "gambar" ini, tetapi tidak dapat mengontrol sumber penampilannya, maka Anda harus mengonfigurasi sistem keamanan </font></font><code>ATS ( App Transport Security)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk menerima </font></font><code>http</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"gambar" ini, tetapi ini, tentu saja, bukan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ide yang baik</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Anda dapat menggunakan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">opsi yang lebih aman</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Referensi:</font></font></h4><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">    HTTP   Swift 5   Combine     SwiftUI.  1 .</a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Modern Networking in Swift 5 with URLSession, Combine and Codable.</a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">URLSession.DataTaskPublisher’s failure type</a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Combine: Asynchronous Programming with Swift</a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">«SwiftUI &amp; Combine:  »</a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Introducing Combine — WWDC 2019 — Videos — Apple Developer. session 722</a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">(  722 «  Combine»   )</a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Combine in Practice — WWDC 2019 — Videos — Apple Developer. session 721</a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">(  721 «  Combine»   )</a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id488428/index.html">Bagaimana kami memprediksi masa depan dalam pencarian Yandex: dari perbaikan bug ke kueri penemuan</a></li>
<li><a href="../id488432/index.html">Snoop Project alat luar biasa untuk intelijen Internet, yang telah lama ditunggu-tunggu oleh pengguna RuNet - tersedia</a></li>
<li><a href="../id488436/index.html">Buat musik chiptune open-source dengan cepat</a></li>
<li><a href="../id488438/index.html">Sejarah format audio film: jawaban Jerman untuk kaset kompak - bagaimana nasib perkembangan</a></li>
<li><a href="../id488440/index.html">Lords of DOOM: bagaimana dua orang menciptakan penembak sekte dan mengguncang industri video game</a></li>
<li><a href="../id488446/index.html">Instrumentasi Rusia: kami mengubah desain Anda dengan jari</a></li>
<li><a href="../id488448/index.html">Berkendaralah di ITMO University: kelas-kelas master, lokakarya, kuliah dan kompetisi mahasiswa kami</a></li>
<li><a href="../id488450/index.html">Bagaimana generasi baru perbankan online bekerja</a></li>
<li><a href="../id488456/index.html">Kegiatan proyek di universitas dan manfaat apa yang diberikannya</a></li>
<li><a href="../id488458/index.html">FunCode Backend Java / Kotlin Challenge: Pemenang Diumumkan</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>