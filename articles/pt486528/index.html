<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧛🏻 😼 👨‍👩‍👧 Esta é a norma - 3: tipos normais de mapas 👩🏿‍🤝‍👩🏾 👨🏽‍🎤 🌅</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Parte 1: o que são mapas normais e como eles funcionam? 
 
 Parte 2: como os mapas normais são preparados
 
 Como muitas outras coisas em nosso setor,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Esta é a norma - 3: tipos normais de mapas</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/486528/"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parte 1: o que são mapas normais e como eles funcionam? </font></font></a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parte 2: como os mapas normais são preparados</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Como muitas outras coisas em nosso setor, os mapas normais evoluíram ao longo dos anos e hoje existem vários tipos que podem parecer diferentes. No artigo, listarei aqueles que me lembro, mas talvez existam outros. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mapa dos normais do espaço tangente</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (mapa normal do espaço tangente): o tipo mais comum hoje em dia, mapas normais; foi sobre isso que falamos nos artigos anteriores. Ele modifica a direção das normais do modelo com base na direção das normais de seus vértices (ou seja, precisamos controlar as normais dos vértices do modelo de baixa densidade).</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/862/0ac/5aa/8620ac5aaca576891aaa13188c1d3a75.jpg" alt="imagem"></div><a name="habracut"></a><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mapa normal do espaço tangente Mikk</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (mapa normal do espaço tangente Mikk). Nem todos os editores de 3D calculam a média de normais de vértices da mesma forma. Isso leva ao fato de que a aparência dos mapas normais é diferente em diferentes mecanismos, portanto, precisamos criar o mapa normal usando o mesmo método que o programa de renderização usa (isso é chamado de "usar um fluxo de trabalho sincronizado ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fluxo de trabalho sincronizado</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )")</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mikk propôs uma maneira de calcular valores normais de vértices, que deveriam ser universais para que todos os programas os calculassem da mesma maneira. Do ponto de vista do fluxo de trabalho, isso significa que você pode usar o modelo de baixo poli com todas as suas normais médias (com um grupo de suavização ou suavização de todas as faces), criar o mapa normal no espaço tangente do Mikk e ele parecerá exatamente assim como um modelo de alto poli, sem a necessidade de eliminar erros de suavização ou separar arestas duras em UV. No futuro, escreverei um tutorial sobre como fazer isso. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lembre-se de que este ainda é um mapa de normais do espaço tangente, mas as normais do modelo são calculadas de maneira universal e os modelos podem ser usados ​​em diferentes programas.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/327/02a/ab5/32702aab582f315e26e2560cf332395b.gif" alt="imagem"></div><br>
<b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mapa normal do espaço tangente de </font><b><font style="vertical-align: inherit;">dois</font></b><font style="vertical-align: inherit;"> canais: acontece que, usando as informações armazenadas em dois dos três canais do mapa normal, o computador pode calcular o terceiro, reduzindo a pegada de memória ao custo de aumentar o número de cálculos. Como a memória geralmente está em falta, essa otimização é frequentemente usada e alguns mecanismos a executam automaticamente (por exemplo, Unreal Engine, quando configuramos o parâmetro "normal map" para comprimir a textura normal). Depois de liberar um canal do mapa normal, podemos reduzir o tamanho da textura ou usar esse canal para metalidade / rugosidade / opacidade ...</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Normalmente, o canal azul do mapa normal é eliminado, de modo que essas texturas parecem amarelas. </font><font style="vertical-align: inherit;">Como essa otimização às vezes é realizada automaticamente por alguns mecanismos, você pode notar essas texturas no seu projeto.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/805/7f6/673/8057f667375cac84c5838caf29d9d5ef.jpg" alt="imagem"></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mapa das normais espaciais mundiais</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (mapa normal espacial mundial): esta carta é normal, em vez de modificar a direção das normais verticais, as ignora completamente e muda a maneira como o modelo de baixo reflexo da luz no espaço mundial (espaço mundial) (quando cozido, considera que os vértices são normais) paralelo aos eixos do mundo). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Podemos dizer que o mapa normal do espaço tangente diz ao modelo "você deve refletir a luz para a direita" e o mapa normal do espaço mundial - "você deve refletir a luz para o leste".</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/722/f07/479/722f07479fc336a72c697cf215f590d6.jpg" alt="imagem"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esses mapas normais são mais coloridos e têm gradientes mais perceptíveis; eles foram usados ​​porque, nesse caso, você não precisa pensar nas normais dos vértices de baixa densidade, mas eles têm uma desvantagem - você não pode mover o modelo porque ele parecerá estranho (definimos o rosto para que ele sempre reflita a luz para o leste. Se o rodarmos, então a borda continuará refletindo a luz para o leste.).</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/272/1a0/72e/2721a072e67f8ebbebc213c77cba9000.jpg" alt="imagem"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hoje, as normais do espaço mundial raramente são usadas em jogos, mas ainda podem ser usadas para criar belas texturas, por exemplo, o canal azul mostra como o modelo deve refletir a luz que cai sobre o modelo, para que você possa usá-lo para adicionar iluminação colorida à textura. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Também vale lembrar que as coordenadas do mundo em diferentes aplicativos são implementadas de maneira diferente: no Unreal, 3D Studio Max, Blender, o eixo Z é direcionado para cima e no Maya, Modo e Cinema4D, o eixo Y é direcionado, o que significa que, ao transferir normais mundiais entre aplicativos espaços podem se deteriorar. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mapa Normal do Espaço do Objeto</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Mapa normal do espaço do objeto): esta é uma versão aprimorada do tipo anterior de mapa e é muito semelhante a ela. A idéia é que, quando você move um modelo no mundo, seu mapa normal do espaço do mundo deve ser reorientado em relação ao objeto. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso pode ser descrito como "esse rosto deve refletir a luz à direita do modelo". Se você girar o modelo no mundo, o mapa normal deve mudar de acordo com essas alterações. No entanto, isso não funciona com malhas deformáveis, porque nesses mapas apenas o movimento do objeto é levado em consideração. É por esse motivo que os mapas normais do espaço tangente são os mais comuns atualmente. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mapas normais inclinados</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Mapas normais curvados): em essência, eles combinam informações de AO e mapas normais, inclinando as direções dos normais, de modo que a luz tenda a refletir nas partes do modelo atingidas pela luz. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Essas cartas são usadas para aprimorar a Oclussão Ambiental e evitar o efeito chamado “vazamento de luz”, no qual o modelo pode refletir luz em partes que não pode alcançar. Pessoalmente, nunca os usei, mas teria explorado suas capacidades se tivesse encontrado um "vazamento de luz" perceptível. Mais informações podem ser encontradas </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mapas normais de 16 bits</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Mapas normais de 16 bits): às vezes, quando há um gradiente muito suave no mapa normal, podemos notar o aparecimento de listras. Essas faixas são devidas à falta de cores para representar um gradiente suave, geralmente causado pela compressão da textura. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Porém, no caso de uma superfície grande e lisa, esses problemas podem surgir mesmo com uma textura não compactada. Em tal situação, mapas normais de 16 bits podem ser usados, geralmente no formato de arquivo .tga, que têm mais cores e são maiores que os mapas normais de 8 bits normais. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Você pode aprender mais sobre mapas normais de 16 bits no próprio tutorial - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Earthquake</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0aa/3dc/a55/0aa3dca55bf9928f7366d2313f63f36b.jpg" alt="imagem"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/540/d26/3d6/540d263d61737ce8b11fd5ae6cd32a6d.jpg" alt="imagem"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Também deve ser levado em consideração que existem outras técnicas para reduzir as conseqüências desse problema, por exemplo, eliminando completamente os mapas normais (apenas a geometria é usada para representar essa superfície lisa), transformando lowpoly para que pareça mais highpoly, para que os gradientes sejam menos perceptíveis, ou o uso de pontilhamento. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Então, que tipo devemos usar? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em 90% dos casos, a melhor solução são os mapas normais do espaço tangente Mikk. Diferentemente das opções que usam mapas normais do espaço do mundo ou de um objeto, o modelo poderá se deformar e a direção dos normais permanecerá correta.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Você deve assar o mapa normal no mesmo espaço tangente que no programa de renderização. </font><font style="vertical-align: inherit;">O espaço tangente mais comum é o Mikk, portanto, use-o sempre que possível. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se a pixelização aparecer no seu mapa normal, considere usar 16 mapas normais ou uma das soluções mencionadas acima. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De fato, esses são todos os tipos de mapas normais que eu lembro. </font><font style="vertical-align: inherit;">Se você souber de outros tipos, informe-me e os adicionarei a este tutorial! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obrigado pela leitura, espero que o artigo tenha sido útil para você. </font><font style="vertical-align: inherit;">Obrigado a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Shnya</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pelos comentários e ajuda.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt486528/">https://habr.com/ru/post/pt486528/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt486510/index.html">Exibindo informações de exceção antes da saída de emergência</a></li>
<li><a href="../pt486512/index.html">Brevemente sobre como ensinar as MFPs da Brother a digitalizar no Windows Server</a></li>
<li><a href="../pt486514/index.html">Leitura de fim de semana: 10 materiais sobre réplicas de placas de som, bibliotecas de som abertas e software de áudio</a></li>
<li><a href="../pt486516/index.html">Cientistas descobriram células T que abrem a promessa da terapia imunológica universal contra o câncer</a></li>
<li><a href="../pt486518/index.html">20 anos atrás</a></li>
<li><a href="../pt486530/index.html">Convencional. Trabalhadores Honorários. Novela biográfica</a></li>
<li><a href="../pt486532/index.html">Backup de dados usando um monte de FreeFileSync e 7-zip</a></li>
<li><a href="../pt486538/index.html">Como eu carreguei soft skills online e o que isso me deu</a></li>
<li><a href="../pt486540/index.html">HighLoad ++, Mikhail Makurov, Maxim Chernetsov (Intersvyaz): Zabbix, 100kNVPS em um servidor</a></li>
<li><a href="../pt486542/index.html">Analisar o som de um modem dial-up</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>