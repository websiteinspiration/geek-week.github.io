<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§≥üèª üë®üèª‚Äç‚öñÔ∏è üßòüèª Homemade submarine with surface wifi antenna üçö üßñüèΩ üßïüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="How it all began
 I welcome everyone. I‚Äôm Maxim and I want to share information about how I assembled a radio-controlled submarine without any knowled...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Homemade submarine with surface wifi antenna</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/490588/"><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How it all began</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I welcome everyone. I‚Äôm Maxim and I want to share information about how I assembled a radio-controlled submarine without any knowledge of electronics at the beginning of my journey. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bz/u5/cv/bzu5cveeopuetfrblpp_-cugg0i.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I myself am an animation and computer graphics artist - I have never done programming or electronics. I had only a small supply of knowledge about soldering, which my grandfather gave me when I was still a primary school student. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
All my life I was interested in the topic of underwater research, it all began at the same time, in childhood, with J.I. Cousteau, and ended with the development of a game about the icy oceans of Europe. But, however, now is not about that.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Having decided that it was time to transfer my hobbies to the plane of practice - I went to Youtube. </font><font style="vertical-align: inherit;">I got a handful of the most basic knowledge and then my path lay already on AliExpress, like many. </font><font style="vertical-align: inherit;">It all ended up with the purchase of 27 names of various modules and other components. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/k4/4b/gx/k44bgx07o5m0yezj2ozb2xgqb2s.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The post office employee was very unhappy when looking for 27 parcels ...</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The beginning of work on the submarine and the first failures</font></font></h3><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spoiler</font></font></b><div class="spoiler_text">   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="></a>   ,         ,           . <br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
At first I found a man who knows firsthand about submarines; he helped me with theory and tests. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Next, I immediately started writing my first code for Arduino. It was a code for controlling two submarine engines. Two potentiometers: the left controls the total power of the engines, and the right controls the rotation of the submarine (reduces the power of one of the engines, depending on the position of the potentiometer). All this I displayed on an inexpensive display, as I planned to make a separate control panel (as a result, the submarine is controlled via a smartphone).</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ba/tr/nd/batrndfvay3ft6zhgdnwub1o-84.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Considering that a week ago I did not know how potentiometers work, my enthusiasm was indescribable. </font><font style="vertical-align: inherit;">Not stopping there, I went to a hardware store and a pharmacy. </font><font style="vertical-align: inherit;">In the construction industry, I scored various polypropylene pipes, couplings and clamps, and in the pharmacy I took several Janet syringes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pipes, respectively, went to the hull of the submarine, and syringes to the module change buoyancy. </font><font style="vertical-align: inherit;">Just the module for changing buoyancy turned out to be the most problematic part for me.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Buoyancy Modulus</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The tasks of this module are quite simple, collect water and squeeze it back on command. </font><font style="vertical-align: inherit;">And the question arose - how to push the piston of a syringe, having a handful of servos, motors and a set of gears? </font><font style="vertical-align: inherit;">It‚Äôs not worth pushing like that: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/9h/er/6g/9her6gitp8uzl1io6bcms26qcwo.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It was the first experience of interacting with gears and other trifles. </font><font style="vertical-align: inherit;">By the way, I was able to remake the sg90 servo for 360 ¬∞ rotation: I sharpened the latch on the main gear, which turned the potentiometer, and glued the potentiometer shaft in the zero position, so that it would not accidentally rotate even with a trimmed limiter.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gear photo</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/webt/ek/py/84/ekpy84eratokd-scwdoxk2csug0.jpeg"><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This still did not help to solve the problem - I could not reliably fix the gear interacting with the gear rack. </font><font style="vertical-align: inherit;">The gained </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">engineering</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> experience helped me to master the buoyancy change module the second time: I took a more powerful servo, a thick threaded rod and a nut that I fixed on the piston. </font><font style="vertical-align: inherit;">This time I did not bother with the modification of the servo, I decided that it is easier to use an external driver and connect directly to the servo motor.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/pv/fn/l0/pvfnl0hcqik6ofdf37vg0x4olji.jpeg"><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I'm an engineer at mom</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/webt/9v/nh/an/9vnhanu96dtnw9kvzuemkltwvjs.jpeg"><br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wasyansky flexible coupling</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/webt/ve/i9/0e/vei90e6y1oezmmnql3kyuo4epac.jpeg"><br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aluminum frame for stiffness</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/webt/tc/qt/di/tcqtdi_-xnk4gpj5qhop-3qdvfa.jpeg"><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A laser rangefinder was placed on the piston so that I could determine in real time - in what position it is now. Well, based on this distance data, I prescribed a piston lock when it is in extreme positions. Perhaps there are simpler methods for determining the position of the piston, but I accidentally found a very cheap module from the Chinese - the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VL53L0X</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> range </font><b><font style="vertical-align: inherit;">finder</font></b><font style="vertical-align: inherit;"> and decided to use it. As a result, I was very pleased, the library is simple, it works as it should, I advise. The accuracy in the confined space of the syringe is somewhere around 5mm, in principle, that was enough for me.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/1j/7v/sj/1j7vsjyxxezkjxh95l1jku2-n2y.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
During testing, another problem arose - the piston adheres strongly to the walls of the syringe. </font><font style="vertical-align: inherit;">I don‚Äôt know what it‚Äôs connected with, but to start the movement of the piston it is necessary to apply considerable force, after the initial jam it goes on normally. </font><font style="vertical-align: inherit;">We tried almost all types of lubricants - many of them made it worse. </font><font style="vertical-align: inherit;">For this reason, I had to add an aluminum frame for the module.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Motors</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
With the propulsion system, I settled on the simplest solution and took ready-made underwater motors. </font><font style="vertical-align: inherit;">Prior to this, I tested the option with a motor inside the case. </font><font style="vertical-align: inherit;">I ordered a stern tube in a set with a shaft and screws, but as I studied the issue, it turned out that for my purposes I needed a whole system: a complex oil seal, flanges, etc. </font><font style="vertical-align: inherit;">Otherwise, it will proceed in any case. </font><font style="vertical-align: inherit;">I have plans for the future to throw the submarine somewhere on Ladoga and manage it via 3G networks, sitting at home on the couch, which means that any possible leaks will lead to a small autonomy of the device. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/tr/3u/j4/tr3uj4jx8thwre3o3v30lxhsirw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the future I plan to use only underwater motors, most likely brushless. </font><font style="vertical-align: inherit;">At the moment, these are used, collector:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/eu/1k/wp/eu1kwp6v9vpix4xkcmvkmncmjae.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I control them using PWM. </font><font style="vertical-align: inherit;">The seller says that they are maximum 8 meters deep, which, again, imposes some restrictions immediately.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Housing</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The case was an interesting task - to make a sealed connection, which would be easily disassembled. </font><font style="vertical-align: inherit;">I did not fulfill the task, I had to glue everything tightly. </font><font style="vertical-align: inherit;">When the syringe draws water, pressure is created inside the body and all of our fasteners simply squeezed out. </font><font style="vertical-align: inherit;">As a result, all the important wires were brought to a sealed connector, through which you can charge the device, and flash the onboard Arduino, and connect the antenna. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yes, our antenna is connected using a cable and is in the surface position, guaranteeing reliable communication. </font><font style="vertical-align: inherit;">But about the antenna a bit later.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/kz/hq/2b/kzhq2bwlzjvd-rw43ejh-ur-uxm.jpeg"><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Additional photos</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/webt/px/in/ec/pxinecpnfji9yl2ztbkmvd1byim.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/gv/lk/xp/gvlkxplb_bjmrqpeueba1dsf82g.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/ns/bg/o0/nsbgo00lclah8zll2nh7xc3o5aq.jpeg"><br>
<br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The housing consists of 50mm polypropylene pipes and couplings. </font><font style="vertical-align: inherit;">The joints are covered with sealed paste, and on top, for strength, filled with hot melt. </font><font style="vertical-align: inherit;">A syringe nozzle, an airtight connector, an inclusion toggle switch and two wires for searchlights were brought to the end. </font><font style="vertical-align: inherit;">Floodlights mounted on the bow of the flooded part, this design allowed to shift the center of gravity closer to the center of the submarine.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Submarine Brains</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is the most interesting part for me. When I started to work out the circuit, I still did not know how, for example, capacitors work and why they are needed. I was very happy when, when turning off the power, the LED on the Arduino slowly faded due to a capacitive capacitor. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In fact, they were useful in the circuit for smoothing the peaks arising in the circuit due to the operation of the collector motors. They are also needed to connect a voltage regulator. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We have a battery of two cells, respectively 8.4 V, the voltage goes to the motors, and 5 V after the stabilizer - to the Arduino and other sensors. Full-size </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">scheme</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (clickable):</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/8u/y5/j-/8uy5j-tm7ah4regwnriy-gsylg8.png"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
At first, a lot did not work out just for the reason that I collected everything on a breadboard. I just could not understand why this or that part of the circuit does not work. As a result, everything began to solder and positive test results were not long in coming. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rr/ms/rt/rrmsrt7g43ed7guybcbugkoj14q.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
One of the interesting problems arose with the rangefinder. He has a good library, but if you set the accuracy mode to medium or high, then the whole sketch will slow down and the control will exit with a ping of 2000 ms minimum. Because of this, the range finder is in FAST mode, but its accuracy is still enough for our tasks.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The next thing I came across is cable management. </font><font style="vertical-align: inherit;">Case diameter 50 mm. </font><font style="vertical-align: inherit;">It seems that this is a lot, until you start trying to place everything inside. </font><font style="vertical-align: inherit;">I used straight overly bold cables designed for audio, which let me down a lot. </font><font style="vertical-align: inherit;">I just wanted copper, because it is convenient to solder them, and so that they do not break, such as aluminum ones. </font><font style="vertical-align: inherit;">Next time I will spend more time looking for good wires. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/tg/rk/kr/tgrkkrteouyf1pqcyqpsqozmqfk.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/qs/lt/n4/qsltn4obefspud7rvoulugh0-hy.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Further difficulties arose only with the antenna.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Antenna</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As an antenna, I decided to use esp8266 and control the submarine via a smartphone via Wi-Fi. Only the Chinese have a wide variety of modules based on ESP8266, I purchased three different ones, but I was able to connect and flash only one of them - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ESP-01</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In theory, if you order now, they will already be with the necessary firmware. Management is via RemoteXY, and he needs a specific firmware version for AT commands. The problem of finding the right firmware to control via AT commands was solved only with the help of the RemoteXY guide. By the way, not advertising, I just liked the interface, and only then I found more convenient and well-developed interface designers for all kinds of IoT.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/sb/tw/y3/sbtwy3qqfrgnizav6ze85ogczes.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After successful firmware, I hung the module with the necessary components for work and soldered a USB connector for convenient connection. Integrated the USB mate into the cork from under a regular bottle and we got a simple wired antenna with the ability to change the case (bottle replacement). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/_h/hv/uh/_hhvuhtxp2dta1-hgnzv40yr9r0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There were more problems besides firmware. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The ESP-01 board should work from 3.3 V, and not from 5 V. Moreover, both the logic and the power supply. If I configured the logic through a level converter, then I was too lazy to mess with the power and I just stuck a small radiator child on the chip. From five volts it works fine, but it gets very hot. The radiator in the end helps not to burn the chip.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gv/vx/as/gvvxaswprxalwfcicrbr-omweuu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Another problem - I picked up the ideal cable for the sealed connector, but it is only 2 pins with shielding, while for the antenna you need 4 (power and RX and TX for communication between the antenna and Arduino on board). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It turned out that it would not be possible to simply power up our antenna separately, since for ESP + Arduino to work, it was necessary to have a common ground. </font><font style="vertical-align: inherit;">I had to use shielding as the ground near the cable, and add a separate battery to the antenna itself. </font><font style="vertical-align: inherit;">Inconvenient, but it works. </font><font style="vertical-align: inherit;">It‚Äôs easier, of course, to find a cable for 4 cores and feed the antenna with batteries from the submarine. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kr/lv/3d/krlv3djpq_xaaa6kgv63vofdsdc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the photo there is a good coincidence of the diameters of the cable, silicone tube and crimp hole at the sealed connector.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Management and firmware</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Management is carried out through the interface from the smartphone. The interface was made up of ready-made modules directly on the site, received the source code of the interface, and then it remained just to bind the various elements of the interface to the actions inside the firmware. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cv/lt/cb/cvltcbbbb9idvyj65gmr2tp_fi4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Before receiving the source code for the interface, you need to specify in the settings the type of wireless module with which the Arduino will interact. We only flash the Arduino itself - with the Wi-Fi module, communication goes on automatically through AT commands. An access point is created, connect to it from a smartphone and control it through a pre-installed application. The interface comes from Arduino, it is wired into the firmware and is recognized by the application itself in the smartphone.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This was my very first code, I won‚Äôt leave it right here, because it uses only basic programming skills and basic mathematics. There were some difficult moments for me - I couldn‚Äôt do the usual logical operation the first time ‚Äî so that at certain values ‚Äã‚Äãthe servo-drive of the syringe would be blocked for one-way movement. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example, when it comes to maximum water intake, the piston should stop backward, but should not block forward. And vice versa, when all the water is squeezed out, the piston should not go forward, but without any problems execute the return command.</font></font><br>
<br>
<pre><code class="cpp">  if ((RemoteXY.button_1 == 1) &amp;&amp; (RemoteXY.button_2 == 0) &amp;&amp; (val_f &lt; 100)) {<font></font>
    pwm_UP = 1;<font></font>
    pwm_DOWN = 0;<font></font>
  }<font></font>
<font></font>
  else if ((RemoteXY.button_1 == 0) &amp;&amp; (RemoteXY.button_2 == 1) &amp;&amp; (val_f &gt; 25)) {<font></font>
    pwm_UP = 0;<font></font>
    pwm_DOWN = 1;<font></font>
  }<font></font>
  else {<font></font>
    pwm_UP = 0;<font></font>
    pwm_DOWN = 0;<font></font>
  }</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is the logical construction in the end, where </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RemoteXY.button_ #</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> are buttons in the interface for diving or surfacing. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Also, from the difficult part for me in the code, this is a range finder filter (I took one of the simplest in the network), well, setting the values ‚Äã‚Äãfor the voltmeter. The filter was needed because of the aforementioned FAST mode on the rangefinder, the input values ‚Äã‚Äãjumped a lot and the filter just helped to cope with it. But the voltmeter was useful for indicating the discharge of the batteries. The Arduino has a reference pin, and if no more than 1.1 volts is applied to it, then the Arduino will be able to accurately determine the supplied voltage to this pin. We convert 8.4 V after the voltage divider to 1.1 V. And this conversion turned out to be inaccurate, I had to experimentally correct the voltage value by adding a variable to the firmware.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Testing</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Testing was carried out on an abandoned quarry with relatively clean water. </font><font style="vertical-align: inherit;">For tests, it was necessary to fix the camera and adjust the submarine trim (along with basic neutral buoyancy). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The first task was solved simply by installing the right screw for the camera mount. </font><font style="vertical-align: inherit;">To avoid camera rotations, a little clay was added.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ie/kq/un/iekqunj_kf29qryzxv5jpibhvms.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The trimmer was ruled by a bag, which turned out to be convenient to hook on the clamp, and already the clamp can be easily moved along the submarine. </font><font style="vertical-align: inherit;">By the number of nuts in the bag, we set up neutral buoyancy, and then we quickly picked up the position of the clamp so that the submarine would not bite its nose. </font><font style="vertical-align: inherit;">The decision on this option was made just before the trip to the quarry, there simply simply wasn‚Äôt time left to make an automatic trim trim system. </font><font style="vertical-align: inherit;">It, in theory, is very easy to make by moving the load along the threaded rod. </font><font style="vertical-align: inherit;">In the next submarine I‚Äôll try exactly this option. </font><font style="vertical-align: inherit;">Here, perhaps, is the whole submarine. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I recorded two videos where I talk in more detail about the assembly and show the shots that I managed to shoot under water. </font><font style="vertical-align: inherit;">Have a nice</font></font><anchor><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">of viewing</font></font></anchor><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/gTyJJSzhPgU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hope the material was interesting. </font><font style="vertical-align: inherit;">Next will be experiments on the pressure chamber (to check the tightness of the apparatus) and tests of underwater oars. </font><font style="vertical-align: inherit;">On them I will also prepare material in the form of an article, but already with graphs and comparisons of various decisions.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en490574/index.html">What do recursion, landing pages and content marketing have in common: says the founder of the agency Embacy</a></li>
<li><a href="../en490576/index.html">Ultrasonic bath. Part 1</a></li>
<li><a href="../en490578/index.html">The digest of interesting materials for the mobile developer # 335 (February 24 - March 1)</a></li>
<li><a href="../en490584/index.html">Infineon has implemented cross-signing certificates in its cryptographic chips</a></li>
<li><a href="../en490586/index.html">What is Spring Framework? From Dependency Injection to Web MVC</a></li>
<li><a href="../en490592/index.html">Installing VestaCP on VPS, using docker to downgrade PHP</a></li>
<li><a href="../en490594/index.html">FOSS News No. 5 - review of free and open source news for February 24 - March 1, 2020</a></li>
<li><a href="../en490596/index.html">The history of speech synthesizers: the first mechanical installations</a></li>
<li><a href="../en490598/index.html">Microsoft announcements about exams and certificates</a></li>
<li><a href="../en490602/index.html">Hack The Box. Walkthrough Scavenger. DNS, FTP and traces of another hack</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>