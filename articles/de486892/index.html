<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👵🏻 🚶 🤳🏼 Kontaktauswahl-API oder wie Sie Ihre Kontakte mit einem Browser teilen 🎉 📌 🤭</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Heute warten wir auf die Veröffentlichung von Chrome 80 , was bedeutet, dass die Contact Picker-API aus Origin Trials im Erwachsenenalter hervorgeht ,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Kontaktauswahl-API oder wie Sie Ihre Kontakte mit einem Browser teilen</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/486892/"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Heute warten wir auf die </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Veröffentlichung von Chrome 80</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , was bedeutet, </font><font style="vertical-align: inherit;">dass die </font><strong><font style="vertical-align: inherit;">Contact Picker-API</font></strong><font style="vertical-align: inherit;"> aus </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Origin Trials</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> im Erwachsenenalter hervorgeht </font><font style="vertical-align: inherit;">, </font><font style="vertical-align: inherit;">sodass </font><font style="vertical-align: inherit;">wir der Website Zugriff auf vom Benutzer ausgewählte Kontakte aus seinem Notizbuch gewähren können. </font><font style="vertical-align: inherit;">In diesem Artikel werden wir die sich ergebenden Möglichkeiten und einige möglicherweise nicht offensichtliche Punkte analysieren.</font></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"></font></p><a name="habracut"></a><br>
<h2 id="chto-eto-izachem"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Was ist das und warum?</font></font></h2><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stellen Sie sich vor: Sie möchten Ihren Freund zu Ihrer Lieblingsseite einladen. eine Online-Bestellung aufgeben und die Kontaktnummer der Frau als Empfänger angeben möchten; Rufen Sie ein Taxi für einen Kollegen und geben Sie seine Nummer als Passagiernummer an (ja, ich verstehe, dass der beliebteste Fall hier der erste ist, aber ich bin auch den anderen im letzten Monat begegnet) oder geben Sie irgendwie und irgendwo die Telefonnummer aus Ihrem Notizbuch an . Was machen sie? Schalten Sie den Browser oder die Anwendung aus, öffnen Sie die Telefonanwendung, gehen Sie von dort zu Kontakte, suchen Sie nach dem gewünschten Eintrag, gehen Sie hinein, kopieren Sie die Nummer, öffnen Sie den Browser oder die Anwendung erneut, wählen Sie das Eingabefeld aus und fügen Sie den kopierten Datensatz ein. Quest abgeschlossen!</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mit der Kontaktauswahl-API kann der Benutzer das gleiche Ziel viel schneller erreichen: Klicken Sie auf die Schaltfläche, suchen Sie den gewünschten Datensatz, wählen Sie ihn aus und klicken Sie auf "Fertig stellen". </font><font style="vertical-align: inherit;">Cool? </font><font style="vertical-align: inherit;">Ja. </font><font style="vertical-align: inherit;">Schwer zu implementieren? </font><font style="vertical-align: inherit;">Nein.</font></font></p><br>
<h2 id="gde-ikak-eto-rabotaet"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wo und wie funktioniert es?</font></font></h2><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bisher nur für Android 6+ und nur für Chrome 80+. </font><font style="vertical-align: inherit;">Wenn Sie diese Kombination besitzen, finden Sie hier eine </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Demo der Entwickler</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></p><br>
<p><img src="https://habrastorage.org/webt/q5/kz/o9/q5kzo9pufgfrwpnofcbblmama98.gif"></p><br>
<h2 id="api"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API</font></font></h2><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die API enthält eine Klasse </font></font><code>ContactsManager</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und eine Instanz dieser Klasse als Referenz </font></font><code>window.navigator.contacts</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es gibt zwei asynchrone Methoden: eine </font></font><code>getProperties</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, mit der Sie herausfinden können, welche Art von Kontaktinformationen die aktuelle Gruppe von Browsern und Betriebssystemen im Allgemeinen bereitstellen kann, und </font></font><code>select</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">die dem Benutzer lediglich eine Aufforderung zur Auswahl von Daten aus dem Notizbuch anzeigt.</font></font></p><br>
<p>&nbsp;     ,   API     : «address», «email», «icon», «name» &nbsp;«tel». &nbsp; ,     , , &nbsp; &nbsp; ,  &nbsp; , &nbsp; &nbsp;  .</p><br>
<pre><code class="plaintext hljs">const supportedProps = await navigator.contacts.getProperties();<font></font>
if&nbsp;(supportedProps.includes('address') &amp;&amp;&nbsp;supportedProps.includes('icon')) {<font></font>
    //  ,      <font></font>
}</code></pre><br>
<p>  &nbsp; &nbsp;       .</p><br>
<p> <code>navigator.contacts.select</code>       ,   .          &nbsp;,   &nbsp;. &nbsp;,  &nbsp;&nbsp; , &nbsp;&nbsp;. ,       .    <code>multiple</code> (&nbsp; <code>false</code>), ..      ,  .</p><br>
<p>&nbsp;  &nbsp;  (,   &nbsp; <code>multiple</code>) - ,      , &nbsp;&nbsp;—  &nbsp; (&nbsp;— ). :</p><br>
<pre><code class="plaintext hljs">[{<font></font>
    "email": [],<font></font>
    "name": ["Queen O’Hearts"],<font></font>
    "tel": ["+1-206-555-1000", "+1-206-555-1111"]<font></font>
}]</code></pre><br>
<p> «email», «name» &nbsp;«tel»   .   &nbsp;  .      ,   ,   Android, &nbsp;&nbsp;        &nbsp;    <code>&lt;&gt; &lt;&gt; &lt;&gt; &lt;&gt;, &lt;/&gt;</code>.  «address»    ,   <code>ContactAddress</code>,  (&nbsp; &nbsp;)  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><code>PaymentAddress</code></a>.  «icon»&nbsp;—   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Blob</a>-.</p><br>
<p> &nbsp;    &nbsp; . </p><br>
<h2 id="chto-mozhet-poyti-netak">   &nbsp;</h2><br>
<p>    ,     .  ,  &nbsp;       ,  &nbsp;&nbsp;.      &nbsp; &nbsp;   .</p><br>
<p>    &nbsp;?      «», &nbsp; .          &nbsp;  .</p><br>
<p>&nbsp;,  &nbsp;   &nbsp;  ( &nbsp; ),    &nbsp;  , &nbsp; <code>TypeError: Unable to&nbsp;open a&nbsp;contact selector.</code></p><br>
<h2 id="opredelenie-podderzhki"> </h2><br>
<p>      :</p><br>
<pre><code class="plaintext hljs">const supported = ('contacts' in&nbsp;navigator &amp;&amp; 'ContactsManager' in&nbsp;window);</code></pre><br>
<p> , ,  , &nbsp;&nbsp;Android 5-&nbsp;   .    &nbsp;.      ,       <code>Unable to&nbsp;open a&nbsp;contact selector.</code></p><br>
<h2 id="bezopasnost-ipredostavlenie-dostupa"> &nbsp; </h2><br>
<p>   &nbsp; API,   &nbsp;   &nbsp; ,      . &nbsp;  &nbsp;     &nbsp;.  ,    &nbsp; &nbsp;     &nbsp; API.   &nbsp;  <em>  </em>, &nbsp;   &nbsp; , , &nbsp;,    , &nbsp; &nbsp;   <em>  </em>,     &nbsp;  &nbsp; &nbsp;. &nbsp;, &nbsp;&nbsp;     API  Permission API, &nbsp;    &nbsp; .</p><br>
<p>   &nbsp; &nbsp; ?  . :    <code>navigator.contacts.select</code>    ,  , ,     &nbsp;. :   ,  &nbsp;,   &nbsp;&nbsp;, &nbsp;&nbsp;      &nbsp; . &nbsp;,          .  ,    &nbsp;  ,      , &nbsp;     ,    &nbsp;   ,    .</p><br>
<h2 id="osobennosti-dizayna"> </h2><br>
<p>  :</p><br>
<ul>
<li>  API;</li>
<li> ,  &nbsp; &nbsp;   &nbsp; ;</li>
<li>,    &nbsp;&nbsp; ;</li>
<li>,    &nbsp; &nbsp;  ,   (&nbsp;,     ).</li>
</ul><br>
<h2 id="drugie-operacionnye-sistemy">  </h2><br>
<p>&nbsp;   API   &nbsp;Android.  &nbsp;     &nbsp;&nbsp;&nbsp;, , &nbsp;Windows 10&nbsp;  Contact Picker API   API <code>Windows.ApplicationModel.Contacts</code>, &nbsp;&nbsp;macOS — API <code>Contacts</code>. &nbsp;&nbsp;    &nbsp; Chrome &nbsp;    &nbsp;&nbsp;.</p><br>
<h2 id="drugie-brauzery"> </h2><br>
<p>   Chroimum-based- &nbsp;Android    API    &nbsp; ,   &nbsp;&nbsp;.          Samsung Internet &nbsp;Miui,     .</p><br>
<p>Firefox  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">&nbsp;</a> &nbsp;      API,  &nbsp;   .</p><br>
<p> -  ,  ,  &nbsp; Safari  ,          , &nbsp;      .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"></a>   Safari.</p><br>
<h2 id="zaklyuchenie"></h2><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diese API ist ein weiterer Schritt </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">des Fugu-Projekts,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> um die Lücke zwischen dem Web und nativen Anwendungen zu schließen. </font><font style="vertical-align: inherit;">Natürlich können Sie keine alternative Kontaktverwaltungsanwendung schreiben, aber es scheint mir, dass die meisten Anwendungsfälle diese abdecken und Ihren Benutzer ein wenig glücklicher machen. </font><font style="vertical-align: inherit;">Schreiben Sie Ihre Gedanken dazu oder teilen Sie mögliche Anwendungsfälle mit!</font></font></p><br>
<h2 id="ssylki"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verweise</font></font></h2><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Entwürfe von Vorschlägen</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Angebotsbeschreibung</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artikel auf web.dev</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Demo</font></font></a></li>
</ul></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de486892/">https://habr.com/ru/post/de486892/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de486878/index.html">Flügel, Beine und Schwänze</a></li>
<li><a href="../de486880/index.html">Fehler von Übersetzern, die zu katastrophalen Folgen führten</a></li>
<li><a href="../de486884/index.html">Das japanische Pharmaunternehmen beginnt mit dem Testen von Arzneimitteln, die mithilfe eines neuronalen Netzwerks synthetisiert wurden</a></li>
<li><a href="../de486888/index.html">Das Buch „Objektorientierter Ansatz. 5th int. ed. "</a></li>
<li><a href="../de486890/index.html">Selbstentwicklung: Wie ich nicht auf zwei Stühlen saß und einen dritten fand</a></li>
<li><a href="../de486896/index.html">UID- und Stalker-Autorisierung auf dem MAG250</a></li>
<li><a href="../de486902/index.html">Protokollorientierte Programmierung in Swift 5.1</a></li>
<li><a href="../de486904/index.html">Anzeigen des Status der Qualitätskontrolle von Quellcode in SonarQube für Entwickler</a></li>
<li><a href="../de486908/index.html">Wulfric Ransomware ist ein Kryptor, den es nicht gibt</a></li>
<li><a href="../de486912/index.html">Lowkiq. Warum haben wir das gemacht?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>