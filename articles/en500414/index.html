<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🛵 🏝️ 🧝🏼 3D CNC machine or everything is already done before us 🐼 👡 😃</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The new PCB design required such a number of holes that the second time manually drilling was lacking in spirit. In addition, the change of drills wit...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>3D CNC machine or everything is already done before us</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/500414/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The new PCB design required such a number of holes that the second time manually drilling was lacking in spirit. </font><font style="vertical-align: inherit;">In addition, the change of drills without fail led me to holes in holes or errors in diameters. </font><font style="vertical-align: inherit;">It was decided to spend the day but in 5 minutes to </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fly to</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> drill.</font></font><br>
<a name="habracut"></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A short video of</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> how it all looks at work. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I was standing on my shelf bought a toy, not cheap at the time, a 3D printer called on the seller’s page “Anet A6”. Why not CNC? 3 axes, 2 cooling channels, table heating and filament feeding. An incomprehensible firmware completed the kit, as when loading, she wrote “OMNI 3D PRINTER A8” + a liquid plexiglass frame design. I use SprintLayout (Sprint) for drawing printed circuit boards, then laser-ironing technology. It was required to export a drill file in Exellion format from Sprint, the program has such an opportunity, and convert it into a machine </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> readable </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">G-code</font></a><font style="vertical-align: inherit;"> . The code is specific for 3D printers. It is further assumed that there is a first acquaintance with the theory and practice of printing. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Draw</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in SprintLayout 6 with pins, the Latin letter “F”, such a figure will allow you to unambiguously determine how the image with the holes on the board will look on the printer table. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/uq/iw/bx/uqiwbxtkqvkjfti8p5asw3salue.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Having exported the drilling file, we get a list of the coordinates of the holes with a title.</font></font><br>
<br>
<pre><code class="plaintext hljs">; Drill file<font></font>
; Format: 3.3 (000.000)<font></font>
M48<font></font>
METRIC<font></font>
T01C0.7<font></font>
%<font></font>
G05<font></font>
G90<font></font>
T01<font></font>
X38.100Y-43.180<font></font>
X38.100Y-38.100<font></font>
X38.100Y-33.020<font></font>
X38.100Y-27.940<font></font>
X38.100Y-22.860<font></font>
X38.100Y-17.780<font></font>
X38.100Y-12.700<font></font>
X38.100Y-7.620<font></font>
X43.180Y-7.620<font></font>
X48.260Y-7.620<font></font>
X53.340Y-7.620<font></font>
X58.420Y-7.620<font></font>
X48.260Y-22.860<font></font>
X43.180Y-22.860<font></font>
M30</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 This format is unsuitable, it is visible for "adult" machines, there is no movement along the Z axis. Using the very convenient Notepad ++ editor, you need to edit the file. He can create macros by recording actions and then apply them to any files. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
First, remove the “head” and “tail”, leaving only the coordinates. Using the “Search-Replace” menu, look for “X” and change to “G0 X”. Next, look for "Y-" and change to "Y" (with a space in front). It should turn out like this: G0 X38.100 Y43.180 - the first line and further. Then, after each line, we insert the drill movement using the macro: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
G1 F50 Z10.000 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
G0 F7200 Z15.000 In order </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
not to break the tool, before the first coordinate of the drill, we add a rise with a margin in the code: G0 F7200 Z50.000, the value of Z can later be adjusted to speed up the workflow.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It will be cheaper to clamp it into a chuck for tuning, or rather not a drill, but a piece of filament or a rod cut from a handle of equal length. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Add the header and “tail” from the G-code file of any model obtained in Repetier Host by the Cura slicer. The result should be the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">following:</font></font></a><br>
<br>
<pre><code class="plaintext hljs">G28;     !<font></font>
G0 F7200 Z50;     <font></font>
M107 ; Turn off fan<font></font>
G90 ; Absolute positioning<font></font>
M82 ; Extruder in absolute mode<font></font>
M190 S30<font></font>
; Activate all used extruder<font></font>
M104 T0 S30<font></font>
G92 E0 ; Reset extruder position<font></font>
; Wait for all used extruders to reach temperature<font></font>
M109 T0 S30<font></font>
M107<font></font>
;G10 F100 Y0; corr Y   <font></font>
G0 F7200 Z50;     <font></font>
G0 X38.100 Y43.180;   <font></font>
G1 F50 Z10.000;   <font></font>
G0 F7200 Z15.000;   ()   <font></font>
;     <font></font>
G0 X38.100 Y38.100;   <font></font>
G1 F50 Z10.000<font></font>
G0 F7200 Z15.000<font></font>
G0 X38.100 Y33.020; ...<font></font>
G1 F50 Z10.000<font></font>
G0 F7200 Z15.000<font></font>
<font></font>
***<font></font>
G0 X43.180 Y22.860<font></font>
G1 F50 Z10.000<font></font>
G0 F7200 Z15.000<font></font>
G0 Z50;  <font></font>
G0 F4800 X0 Y0;  <font></font>
M107 ; Turn off fan<font></font>
; Disable all extruder<font></font>
G91 ; Relative positioning<font></font>
T0<font></font>
G1 E-1 ; Reduce filament pressure<font></font>
M104 T0 S0<font></font>
G90 ; Absolute positioning<font></font>
G92 E0 ; Reset extruder position<font></font>
M140 S0 ; Disable heated bed<font></font>
M84 ; Turn steppers off</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We save with the extension .gcode which can already be given to the printer for </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eating,</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> having previously adjusted the initial position of the “X” axis with a steel stop of +100 mm as in the photo. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/8a/hx/gf/8ahxgfiofqfjjuilfmhf3kiw6km.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the code “S30” - neutralization of the heating of the table and the extruder, it will warm up to 30 Celsius. Further, I did not understand the code, perhaps there are safer header options. “Fxxxx” - execution speed, is not indicated until the G-code is changed to another. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A microdrill from DPR-52 with a diameter of 30 mm with a collet chuck, the holder is printed on the same machine. The holes of the holder are marked and drilled in place, through the holes where the nozzle of the hot end and the additional screw M4 of the extruder mount enter. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Its model for printing in G-code</font></font></a><br>
<br>
<img src="https://habrastorage.org/webt/7q/qq/td/7qqqtdnetvubvdt1i2wg3ecd87w.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To fix the DPR-52, a clerical clothespin is used, worn on the lips of the yoke holder obtained when printing. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wrapping the felt-tip pen with foamed polyethylene and inserting it into the holder, on paper we look how everything happens. The letter was located exactly as in Sprint, if you look at the print table lying down from below. The origin (“Origin” - “Left corner (Top)”) in Sprint is the same as the origin of the 3D printer.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the case of a real board on the circuit in Sprint, you need to put technological contacts - heels on which you can align the board before fixing it to the table. For example, at the corners of a rectangular board, not forgetting the allowance for the radius of the drill. Naturally, these coordinates must be put at the beginning of the drilling coordinate code, immediately after the header. It’s easy to find them, set the smallest grid in Sprint and use the “Meter” tool, the accuracy will be up to the second character. Further search in Notepad ++. Having reduced the speed to a convenient minimum, having determined the position of the board, we mark with a pencil on the table the position of the 2 sides of the same corner. It is more convenient to mark the position of the near side and the left. The board is attached using double-sided tape to the table. It’s easy to peel it off if you make an effort to wait a bit,then there will be no gaps in the thickness and it is not necessary to clean two surfaces, boards and tables.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To drill with a different diameter, you should find the T02 or T03 commands, etc. Txx in the import file, they mean tool change (if you checked the "sort by diameter" checkbox when exporting). Having set the G4 S180 command, we get a pause of 180 seconds. During this time, you need to have time to change the drill and set its level. You need to insert a pause on the drilling coordinates of the first point after the code for changing the drill and drilling a new (larger) diameter with the previous drill. After replacing the drill, we manually drill and fix the micro drill in the desired position with a clothespin. The change code Txx must be deleted, leaving a note for yourself.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can split the entire file into drilling files with different drill diameters. </font><font style="vertical-align: inherit;">This requires replacing the limit switches with reed switches or optical ones, since the standard ones are generally mounted on nylon ties and do this from one installation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Naturally, this method requires a lot of refinement and operator participation, but as a “take out and lay down” solution is more than suitable.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en500402/index.html">[Part 1/2] Guide to FFmpeg and SDL or How to write a video player in less than 1000 lines</a></li>
<li><a href="../en500404/index.html">How to make friends Electron and Webix. Part 2. Create an application with your View</a></li>
<li><a href="../en500406/index.html">The Story of the First Paralysis of the Internet: The Curse of the Busy Signal</a></li>
<li><a href="../en500408/index.html">Happiness in poverty</a></li>
<li><a href="../en500410/index.html">Creating backlash *</a></li>
<li><a href="../en500416/index.html">Why (not) need getters?</a></li>
<li><a href="../en500418/index.html">New earthquake calculations predict their probable destructiveness</a></li>
<li><a href="../en500420/index.html">sMock - Swift mocking framework for Unit-tests (thanks gMock for ideas)</a></li>
<li><a href="../en500422/index.html">Visual Debugger for Jupyter</a></li>
<li><a href="../en500424/index.html">Deferred use of directive functionality in Angular</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>