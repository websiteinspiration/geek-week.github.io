<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧝🏼 #⃣ 🤠 スパイラル：高性能PHP / Goフレームワーク 👩🏿‍🎤 🤚 🚐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="こんにちは、ハブル。スパイラルスカウトの最高技術責任者、アントン・ティトフです。今日は、PHPの象についてお話ししたいと思います。むしろ、オープンソースのフルスタックPHP / Goフレームワークの2番目のバージョン- スパイラルについてです。
 
 Spiralは、当社が11年以上にわたって開発し...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>スパイラル：高性能PHP / Goフレームワーク</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/495224/"><img src="https://habrastorage.org/webt/1_/ku/gu/1_kugualputdvwq2gxujopusshg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
こんにちは、ハブル。</font><font style="vertical-align: inherit;">スパイラルスカウトの最高技術責任者、アントン・ティトフです。</font><font style="vertical-align: inherit;">今日は、PHPの象についてお話ししたいと思います。</font><font style="vertical-align: inherit;">むしろ、オープンソースのフルスタックPHP / Goフレームワークの2番目のバージョン- </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スパイラルについて</font></font></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Spiralは、当社が11年以上にわたって開発したコンポーネントフルスタックフレームワークであり、実際のプロジェクトの何百にも対応しています。</font><font style="vertical-align: inherit;">このソフトウェアパッケージは、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RoadRunner</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">や</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cycle ORM</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">など、多くのオープンで独自仕様のライブラリに基づいています</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フレームワークは、ほとんどのPSR推奨事項と互換性があり、MVCをサポートし、Laravel / Symfonyの5〜10倍の速度で実行されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スパイラルについて聞いたことがなく、PHP / Goフレームワークとは何か、最初のバージョンがどこに行ったのか疑問に思っている場合は、catへようこそ。</font></font><br>
<a name="habracut"></a><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フレームワークについて</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スパイラル開発は、フリーランスアプリケーションのポータブルカーネルとして2008/09に始まりました。 2010年、ついにアウトソーシング会社を設立し、それ以来、スタックの改善に取り組んできました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その結果、フレームワークは、共通の統合層によって統合された一連の独立したコンポーネントに変換されました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初のバージョンの唯一の公式発表は2017年にRedditで行われ、技術的には、スパイラルはその時点では競合他社を本当に負かしていないことを私たちに明らかにしました。受け取ったフィードバック、より複雑なプロジェクトの経験を考慮して、2019年5月に2番目のバージョンを完成させました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1年間のドキュメント作成と実際のプロジェクトの実行後、この開発を一般に公開する準備が整いました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フレームワークの前世代と、おそらく他のすべての既存のPHPフレームワークとのSpiral 2.0の主な違いは、統合されたアプリケーションサーバーRoadRunnerと、アーキテクチャの長期実行モデル（デーモンモード）への適合です。 </font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ハイブリッドランハイム</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フレームワークの主な概念は、Golangで記述されたアプリケーションサーバーとPHPコアの間の共生です。</font><font style="vertical-align: inherit;">PHPアプリケーションコードはメモリに1回だけ読み込まれます。これにより、リソースを大幅に節約できますが、WordPressを実行できなくなります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/88/-o/fw/88-ofwfx3p83cjgqkkwuqmkuxk0.png"><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ハイブリッドモデルの詳細については、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">こちら</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">こちらをご覧ください</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サーバーはインフラストラクチャ部分全体（HTTP / FastCGI、キューブローカーとの通信、GRPC、WebSocket、Pub / Sub、キャッシュ、メトリックなど）を担当します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Spiralのコードの記述は、他のフレームワークのコードとほとんど同じです。</font><font style="vertical-align: inherit;">ただし、SOLIDの原則の方が責任を負う必要があります。</font><font style="vertical-align: inherit;">以前にシングルトンでユーザーデータをキャッシュすることでコードレビューに深刻な苦痛のみが生じた場合、このようなコードは正しく機能しなくなります。</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プラットフォームでの作業にGolangの知識は必要ありません。</font><font style="vertical-align: inherit;">ただし、第2言語を習得すれば、Golangライブラリとほぼシームレスに統合できます。</font><font style="vertical-align: inherit;">たとえば、全文検索エンジンを埋め込むか、独自のKafkaドライバーを作成します。</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
レッグで撃つことはもう少し難しいので、イベントとフックのシステムを放棄し、明示的な形式のコールスタックでの作業に優先順位を付けることが決定されました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フレームワークは、IoCクロージャー、ミドルウェア、ドメインレイヤースポイラー、不変のサービスなどの一連のツールを提供します。</font></font><br>
<br>
<pre><code class="php hljs">$container-&gt;runScope(<font></font>
    [UserContext::class =&gt; $user],<font></font>
    <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) <span class="hljs-title">use</span> (<span class="hljs-params">$container</span>) </span>{<font></font>
        dump($container-&gt;get(UserContext::class);<font></font>
    }<font></font>
);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そのようなアプローチは追加のオーバーヘッドを課しますが、プログラムのコア、データベースからの接続、およびメモリからのソケットをアンロードしない機能は、これらの制限をカバーします。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パフォーマンス</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PHPフレームワークのフルスタッククラスでは、Spiralは主にSwooleベースのアセンブリおよびいくつかのマイクロフレームワークと競合します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/nw/a5/tz/nwa5tzv_osg63cq6l2ha2xpbs2c.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
完全なベンチマークは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここに</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">あり</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちにとって、パフォーマンスは選択したアーキテクチャの副作用です。適切な構成とPSR-7の代わりに軽量の抽象化を使用すると、生産性を50〜80％向上させることができます（これは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ubiquity-roadrunnerの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例で証明されています</font><font style="vertical-align: inherit;">）。</font></font><br>
<br>
<blockquote> Swoole. Swoole     RoadRunner,     PHP        ++.       ,     Go.     ,   .<br>
<br>
   RoadRunner   (   ),    ,       Windows.<br>
<br>
   Spiral     Swoole,     !</blockquote><br>
<h4>PSR-*  </h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ほとんどのスパイラルコンポーネントはビルドではオプションです。マイクロビルドとフルビルドの違いはコンテンツのみ</font></font><code>composer.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。</font><font style="vertical-align: inherit;">必要に応じて、インターフェイスを使用して、標準ライブラリを代替実装に置き換えることができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フレームワークのHTTPレイヤーは、PSR-7 / 15/17標準を考慮して記述されている</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://spiral.dev/docs/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ため、ルーター</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">やメッセージの実装などを</font><font style="vertical-align: inherit;">安全に</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://spiral.dev/docs/" rel="nofollow"><font style="vertical-align: inherit;">変更</font></a><font style="vertical-align: inherit;">でき</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ほとんどのフレームワークライブラリは、フレームワークの外部で使用できます。</font><font style="vertical-align: inherit;">たとえば、RoadRunnerは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Symfony</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Laravel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で</font><font style="vertical-align: inherit;">うまく動作し</font><font style="vertical-align: inherit;">、Cycle ORMはYii3で利用できるようになります。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サーバーコンポーネント</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PHPコンポーネントに加えて、RoadRunnerアセンブリにはGolangで記述されたいくつかのライブラリが含まれています。</font><font style="vertical-align: inherit;">ほとんどのサーバーサービスは、PHP内から管理できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
特に、ブローカーAMQP、Amazon SQS、およびBeanstalkとの連携をサポートするキューコンポーネントがあります。</font><font style="vertical-align: inherit;">ライブラリは正しく停止し、再接続して、任意の数の受信キューを複数のワーカーに配布できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
初期状態では、Prometheusとヘルスチェックポイントの監視、ホットリブート、メモリ制限があります。</font><font style="vertical-align: inherit;">分散プロジェクトには、GRPCサーバーとクライアントがあります。</font><font style="vertical-align: inherit;">
Webソケットがあり、それらはPHPアプリケーションから認証され、（メモリ内またはRedisで）pub-subバスに接続できます。</font><font style="vertical-align: inherit;">Key-Valueドライバーは現在テスト中です。</font></font><br>
<br>
<code>INFO[0154] 10.42.5.55:51990 Ok {2.28ms} /images.Service/GetFiles<br>
INFO[0155] 10.42.3.95:50926 Ok {11.3ms} /images.Service/GetFiles<br>
INFO[0156] 10.42.5.55:52068 Ok {3.60ms} /images.Service/GetFiles<br>
INFO[0158] 10.42.5.55:52612 Ok {2.30ms} /images.Service/GetFiles<br>
INFO[0166] 10.42.5.55:52892 Ok {2.23ms} /images.Service/GetFiles<br>
INFO[0167] 10.42.3.95:49938 Ok {2.37ms} /images.Service/GetFiles<br>
INFO[0169] 10.42.5.55:52988 Ok {2.22ms} /images.Service/GetFiles</code><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">携帯性</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フレームワークは、PHP-FPMとNGINXを必要としません。</font><font style="vertical-align: inherit;">そして、すべてのGolangコンポーネントには、外部の依存関係なしで動作するためのドライバーがあります。</font><font style="vertical-align: inherit;">したがって、外部のブローカーやプログラムをインストールしなくても、キュー、WebSocket、メトリックを使用できます。</font></font><br>
<br>
<pre><code class="plaintext hljs">./spiral serve -v -d</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
巨大な分散アプリケーションを作成する場合でも、バックグラウンドで「書き込み」を送信する小さなサイトを作成する場合でも、スパイラルは関係ありません。</font><font style="vertical-align: inherit;">いずれの場合も、同じツールを使用して、ローカル環境と本番環境の動作を統合できます。</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTTPレイヤーはオプションであるため、キューパッケージを使用してバックグラウンドでデータを処理するコンソールアプリケーションを作成できます。</font><font style="vertical-align: inherit;">そのようなプログラムをデータ移行に使用します。</font></font></blockquote><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ORMを循環</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すぐに使えるORMとして、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cycle ORMがあり</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">このデータマッパーエンジンは、機能的にはDoctrineと非常に似ていますが、アーキテクチャが非常に異なります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Doctrineと同様に、Cycleは純粋なドメインモデルで動作し、独立して移行を生成し、外部キーを配置します。</font><font style="vertical-align: inherit;">マッピングスキームは、コードで記述したり、注釈から収集したりできます。</font><font style="vertical-align: inherit;">ただし、DQLの代わりに、従来のクエリビルダーが使用されます。</font></font><br>
<br>
<pre><code class="php hljs"><span class="hljs-comment">//    </span>
<span class="hljs-comment">//        </span><font></font>
$users = $orm-&gt;getRepository(User::class)<font></font>
    -&gt;select()<font></font>
    -&gt;where(<span class="hljs-string">'active'</span>, <span class="hljs-literal">true</span>)<font></font>
    -&gt;load(<span class="hljs-string">'orders'</span>, [
        <span class="hljs-string">'method'</span> =&gt; Select::SINGLE_QUERY, <span class="hljs-comment">// force LEFT JOIN</span>
        <span class="hljs-string">'load'</span>   =&gt; <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$query</span>) </span>{<font></font>
            $query-&gt;where(<span class="hljs-string">'paid'</span>, <span class="hljs-literal">true</span>)-&gt;orderBy(<span class="hljs-string">'timeCreated'</span>, <span class="hljs-string">'DESC'</span>);<font></font>
        }<font></font>
    ])<font></font>
    -&gt;fetchAll();<font></font>
<font></font>
$transaction = <span class="hljs-keyword">new</span> Transaction($orm);<font></font>
<font></font>
<span class="hljs-keyword">foreach</span>($users <span class="hljs-keyword">as</span> $user) {<font></font>
    $transaction-&gt;persist($user);<font></font>
}<font></font>
<font></font>
$transaction-&gt;run();</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サイクルは</font><font style="vertical-align: inherit;">、選択で</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Doctrine </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">よりも速く</font></a><font style="vertical-align: inherit;">実行され</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">が、永続化では遅くなります。</font><font style="vertical-align: inherit;">エンジンは、いくつかのロード戦略、プロキシクラス、埋め込みを使用した複雑なクエリをサポートし、グローバルEntityManagerの代わりにポータブルトランザクションを提供します。</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">詳細については、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PHP Russia 2020</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">をご覧ください</font><font style="vertical-align: inherit;">。</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ORMの主な「機能」は、実行時にデータとリンクのマッピングを変更する機能です。</font><font style="vertical-align: inherit;">簡単に言うと、ユーザーがデータスキーマを個別に定義できるようにすることができます（DBALは、データベーススキーマのイントロスペクションと宣言をサポートしています）。</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cycle、Eloquent、Doctrine 2の比較について詳しくは、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">こちらをご覧ください</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></blockquote><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ラピッドプロトタイピング</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Spiralには、開発を高速化および簡略化するためのいくつかのツールが含まれています。</font><font style="vertical-align: inherit;">主なものは、自動依存性注入、自動構成、静的分析を使用した自動モデル検索です。</font><font style="vertical-align: inherit;">コンソールコマンドを使用すると、必要なクラスのほとんどを生成でき、簡単にカスタマイズできます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IDEへの統合のために、ラピッドプロトタイピングシステムがあります。</font><font style="vertical-align: inherit;">魔法のPrototypeTraitを使用すると、IDEのヒントにすばやくアクセスできます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/33/9u/_a/339u_ac_8gelzkarpyljtgtisck.gif"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
トレイトはORMリポジトリ、標準コンポーネントを自動的に検出し、アノテーションによってサービスにインデックスを付けることができます。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内部</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">では、マジック</font><b><font style="vertical-align: inherit;">__get</font></b><font style="vertical-align: inherit;">メソッドが使用さ</font><font style="vertical-align: inherit;">れています。これにより、迅速なコードレビューが保証されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コマンド「php app.php prototype：inject -r」を実行するだけで、プロトタイピングシステムがすべての魔法を自動的に削除します。</font></font><br>
<br>
<pre><code class="php hljs"><span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Controller</span>;<font></font>
<font></font>
<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Database</span>\<span class="hljs-title">Repository</span>\<span class="hljs-title">UserRepository</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Spiral</span>\<span class="hljs-title">Views</span>\<span class="hljs-title">ViewsInterface</span>;<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HomeController</span>
</span>{
    <span class="hljs-comment">/** <span class="hljs-doctag">@var</span> ViewsInterface */</span>
    <span class="hljs-keyword">private</span> $views;<font></font>
<font></font>
    <span class="hljs-comment">/** <span class="hljs-doctag">@var</span> UserRepository */</span>
    <span class="hljs-keyword">private</span> $users;<font></font>
<font></font>
    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@param</span> ViewsInterface $views
     * <span class="hljs-doctag">@param</span> UserRepository $users
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params">ViewsInterface $views, UserRepository $users</span>)
    </span>{
        <span class="hljs-keyword">$this</span>-&gt;users = $users;
        <span class="hljs-keyword">$this</span>-&gt;views = $views;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">index</span>(<span class="hljs-params"></span>)
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;views-&gt;render(<span class="hljs-string">'profile'</span>, [
            <span class="hljs-string">'user'</span> =&gt; <span class="hljs-keyword">$this</span>-&gt;users-&gt;findByName(<span class="hljs-string">'Antony'</span>)<font></font>
        ]);<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内部では</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">PHP-Parserが使用されてい</font></a><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安全性</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ほとんどのアプリケーションはB2Bセグメント向けに開発されているため、セキュリティの問題を真剣に検討する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
複雑なリクエスト（リクエストフィルター）、CSRF、および暗号化（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">defuse / php-encryptionに</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基づく）を検証するためのコンポーネントが利用可能になります</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">Cookieとセッションで作業すると、サーバー側でデータの改ざん防止と署名がサポートされます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フレームワークは</font><font style="vertical-align: inherit;">、期限切れのトークンベースの</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">認証コンポーネント</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">提供</font><font style="vertical-align: inherit;">し</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">ドライバーとして、セッション、データベース、さらには純粋なJWTを使用できます。</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">または、「SAML / SSO / 2FAを緊急に接続する」という要件がある場合、すべてのタイプのトークンを同時に使用します </font><font style="vertical-align: inherit;">:(</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アクセス許可は</font><font style="vertical-align: inherit;">、DACおよびABACモードでの操作を可能にするいくつかの改善を加え</font><font style="vertical-align: inherit;">た</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RBACコンポーネント</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">介して実行され</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">多くの役割、コントローラーメソッドを保護するための注釈、およびルールのシステムがサポートされています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ドメインレイヤーの操作は、中間</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インターセプターレイヤーを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">介して行われ</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">したがって、コントローラーのグループに特別な制限を作成し、データを事前検証し、エラーをラップすることができます。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テンプレートエンジン</font></font></h4><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Twigだけが好きな場合-このセクションをスクロールするには、拡張機能をインストールして、使い慣れたツールを使用してください。</font><font style="vertical-align: inherit;">:)</font></font><br>
</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すぐに使えるのはStemperテンプレートエンジン、または独自のDSLマークアップを作成するためのライブラリです。特に、本格的なレクサー、いくつかの文法、パーサー、およびASTへのアクセス（NikitaのPHP-Parserに類似）があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
複数のネストされた文法を解析することが可能です。したがって、たとえば、同じテンプレート内でLaravel Bladeディレクティブと独自のDSL（HTMLタグの形式）マークアップを使用できます。サーバー側のWebコンポーネントのようなものがわかります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このコンポーネントを使用して、単純なプリミティブとルールを使用する複雑なインターフェースを記述します。</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">extends:admin.layout.tabs</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"User Information"</span>/&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">use:bundle</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"admin/bundle"</span>/&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;<span class="hljs-name">ui:tab</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"info"</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"Information"</span>&gt;</span><font></font>
  User, {{ $user-&gt;name }}<font></font>
<span class="hljs-tag">&lt;/<span class="hljs-name">ui:tab</span>&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;<span class="hljs-name">ui:tab</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"data"</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"User Settings"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">grid:table</span> <span class="hljs-attr">for</span>=<span class="hljs-string">{{</span> $<span class="hljs-attr">user-</span>&gt;</span>settings }}&gt;
    <span class="hljs-tag">&lt;<span class="hljs-name">grid:cell</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"Key"</span>&gt;</span>{{ $key }}<span class="hljs-tag">&lt;/<span class="hljs-name">grid:cell</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">grid:cell</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"Value"</span>&gt;</span>{{ $value }}<span class="hljs-tag">&lt;/<span class="hljs-name">grid:cell</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">grid:table</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ui:tab</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コンテキストサポート（たとえば、JSブロック内のPHPの出力がデータを自動的にJSONに変換する）、エラーを処理するためのソースマップを使用した自動エスケープをサポートしています。</font><font style="vertical-align: inherit;">テンプレートは、最適化されたPHPコードにコンパイルされ、アプリケーションメモリから直接提供されます。</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">StemperはドキュメントのDOMを完全に操作できます（専用ツールを使用すると遅くなります）。</font></font></blockquote><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フレームワーク開発</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もちろん、このツールの開発の10年以上の間に、私たちは多くの間違いを犯しました。それらのいくつかは第2バージョンのリリース用に修正されましたが、他の部分はいくつかのコンポーネントの概念の改訂を必要とします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、ファイルが必要なものがあることも否定しません。そして、いくつかの質問が初めて聞こえるかもしれません。ドキュメンテーションはコンポーネントの最大数をカバーしようとしますが、それでもいくつかの場所で垂れ下がることがあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たち自身がこのツールを積極的に使用しているため、私たちは批判や提案を受け入れています。改善の巨大なバックログは、私たちのチームとコミュニティによってゆっくりと整理されています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cycleの改善とスピードアップ、および最新のRFCに基づく要求フィルターの書き換えには、多くの作業が必要になります。</font><font style="vertical-align: inherit;">開発中は、Key-Valueデータベースを操作およびエミュレートするためのコンポーネントです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初のバージョンから多くのものを翻訳することはできませんでした。</font><font style="vertical-align: inherit;">計画は、ODMパッケージ、管理パネルの復元、優れたプロファイラーの作成などです。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コミュニティとリンク</font></font></h4> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
小さな</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Discord</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コミュニティにログインできます</font><font style="vertical-align: inherit;">。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">電報チャネル</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フレームワークサイト</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Githubフレームワーク</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Github標準アプリケーション</font></font></a></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべてのコードはMITライセンスに基づいて配布され、商用利用に関する制限はありません。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ご清聴ありがとうございました。</font><font style="vertical-align: inherit;">私たちのツールがあなたのプロジェクトに役立つことを願っています！</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja495210/index.html">ルネットの詐欺師がコロナウイルスにどのように反応したか</a></li>
<li><a href="../ja495212/index.html">Quarkusでのネイティブコンパイル-なぜ重要なのか</a></li>
<li><a href="../ja495214/index.html">誰もいないオフィス：リモートサイトでのゲーム開発</a></li>
<li><a href="../ja495216/index.html">リモートでの学習、交渉、コンサルティング-パート2：Vinteo Server-3か月の無料ビデオ会議</a></li>
<li><a href="../ja495220/index.html">太陽系は、形成直後に現在の構成を取得しました</a></li>
<li><a href="../ja495226/index.html">ほとんどの企業ネットワークでは、ハッカーと関連する脆弱性の痕跡があるかもしれません</a></li>
<li><a href="../ja495228/index.html">WebStorm 2020.1：インターフェースの改善、Vuexサポート、およびファイル保存時のPrettierの起動</a></li>
<li><a href="../ja495230/index.html">インタビューテクニック「MoSt」</a></li>
<li><a href="../ja495232/index.html">4月4〜5日は、フェスティバルRuCodeの枠組みの中で、オンライン集中のための選択になります</a></li>
<li><a href="../ja495234/index.html">BigQuery SQLを使用したGoogle Cloud Platform上のOpenStreetMapパブリックデータセット。OSMレイヤー分類子</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>