<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐬 💪🏽 🕢 Top Fakapov Cyan 😎 ⚫️ 🕡</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bon à tous! 
 
 Je m'appelle Nikita, je suis chef d'équipe d'ingénieurs cyan. L'une de mes responsabilités au sein de l'entreprise est de réduire à zé...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Top Fakapov Cyan</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/cian/blog/499542/"><img src="https://habrastorage.org/webt/zy/iu/-q/zyiu-qkcptbeezgf_c5adiagete.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bon à tous!&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je m'appelle Nikita, je suis chef d'équipe d'ingénieurs cyan. </font><font style="vertical-align: inherit;">L'une de mes responsabilités au sein de l'entreprise est de réduire à zéro le nombre d'incidents liés à l'infrastructure de la prod. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce qui sera discuté plus tard nous a apporté beaucoup de souffrance, et le but de cet article est d'empêcher d'autres personnes de répéter nos erreurs ou au moins de minimiser leur impact.&nbsp;</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Préambule</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il était une fois, lorsque Cyan consistait en monolithes, et qu'il n'y avait pas encore d'indices de microservices, nous avons mesuré la disponibilité de la ressource en vérifiant 3-5 pages.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Réponse - tout va bien, ne répondez pas longtemps - alerte. </font><font style="vertical-align: inherit;">Combien de temps ils ne devraient pas travailler pour que cela soit considéré comme un incident, ont décidé les gens lors des réunions. </font><font style="vertical-align: inherit;">Une équipe d'ingénieurs a toujours été impliquée dans l'enquête sur l'incident. </font><font style="vertical-align: inherit;">Une fois l'enquête terminée, ils ont écrit un post-mortem - une sorte de rapport au bureau de poste dans le format: ce qui était, combien de temps, ce qu'ils ont fait sur le moment, ce que nous ferons à l'avenir.&nbsp;</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les pages principales du site, ou si nous comprenons bien, ont cassé le fond</font></font></h3>&nbsp;<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Afin de comprendre d'une manière ou d'une autre la priorité de l'erreur, nous avons mis en évidence les pages les plus critiques du site pour la fonctionnalité commerciale. </font><font style="vertical-align: inherit;">Selon eux, nous considérons le nombre de demandes réussies / infructueuses et de délais d'attente. </font><font style="vertical-align: inherit;">Nous mesurons donc la disponibilité.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Supposons que nous découvrions qu'il existe un certain nombre de sections super importantes du site qui sont responsables du service principal - recherche et soumission d'annonces. </font><font style="vertical-align: inherit;">Si le nombre de demandes qui ont échoué est supérieur à 1%, il s'agit d'un incident critique. </font><font style="vertical-align: inherit;">Si, dans les 15 minutes en prime time, le pourcentage d'erreurs dépasse 0,1%, cela est également considéré comme un incident critique. </font><font style="vertical-align: inherit;">Ces critères couvrent la plupart des incidents, les autres dépassent le cadre de cet article.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ot/mw/k9/otmwk90qyl-jcomorjhkofebrgq.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les meilleurs incidents cyan</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Donc, nous avons précisément appris à déterminer le fait que l'incident s'est produit.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, chaque incident dans notre pays est décrit en détail et reflété dans l'épopée de Jira. </font><font style="vertical-align: inherit;">Soit dit en passant: pour cela, nous avons lancé un projet distinct, appelé FAIL - seules des épopées peuvent y être créées.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous collectez tous les échecs au cours des dernières années, les dirigeants sont:&nbsp;</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">incidents liés au mssql;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">incidents causés par des facteurs externes;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">erreurs d'administration.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Arrêtons-nous plus en détail sur les erreurs des administrateurs, ainsi que sur quelques autres échecs intéressants.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cinquième place - «Mettre de l'ordre dans le DNS»</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'était un mardi pluvieux. Nous avons décidé de nettoyer le cluster DNS.&nbsp; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je voulais transférer les serveurs DNS internes de bind vers powerdns, en mettant en évidence des serveurs complètement séparés, où il n'y a rien à part DNS.&nbsp; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons placé un serveur DNS à chaque emplacement de nos contrôleurs de domaine et le moment est venu de déplacer les zones de bind vers powerdns et de basculer l'infrastructure vers de nouveaux serveurs.&nbsp; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au plus fort du déménagement, parmi tous les serveurs indiqués dans la liaison de mise en cache locale sur tous les serveurs, un seul se trouvait dans le centre de données de Saint-Pétersbourg. Ce DC a été initialement déclaré non critique pour nous, mais est soudainement devenu un point de défaillance unique.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Juste au cours d'une telle période de délocalisation, le canal entre Moscou et Saint-Pétersbourg est tombé. </font><font style="vertical-align: inherit;">Nous sommes restés sans DNS pendant cinq minutes et nous nous sommes levés lorsque l'hébergeur a résolu les problèmes.&nbsp;</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusions:</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Si auparavant nous avons négligé les facteurs externes lors de la préparation du travail, maintenant ils sont également inclus dans la liste de ce pour quoi nous nous préparons. </font><font style="vertical-align: inherit;">Et maintenant, nous nous efforçons de garantir que tous les composants sont réservés n-2, et pour la durée du travail, nous pouvons abaisser ce niveau à n-1.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lors de l'élaboration d'un plan d'action, marquez les points où le service peut tomber et réfléchissez à l'avance au scénario où tout s'est «pire que nulle part».</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Distribuez les serveurs DNS internes par différentes géolocalisations / centres de données / racks / commutateurs / entrées.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sur chaque serveur, placez un serveur DNS de mise en cache local, qui redirige les demandes vers les serveurs DNS principaux, et s'il n'est pas disponible, il répondra à partir du cache.&nbsp;</font></font></li>
</ul><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quatrième place - «Nettoyage de Nginx»</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un beau jour, notre équipe a décidé que «assez pour le supporter», et le processus de refactoring des configurations nginx a commencé. </font><font style="vertical-align: inherit;">L'objectif principal est d'apporter des configs à une structure intuitive. </font><font style="vertical-align: inherit;">Auparavant, tout était «historiquement établi» et il n'y avait pas de logique en soi. </font><font style="vertical-align: inherit;">Maintenant, chaque nom_serveur a été extrait du fichier du même nom et distribué toutes les configurations dans des dossiers. </font><font style="vertical-align: inherit;">À propos, la configuration contient 253949 lignes ou 7836520 caractères et occupe près de 7 mégaoctets. </font><font style="vertical-align: inherit;">Structure de haut niveau:&nbsp;</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Structure Nginx</font></font></b>
                        <div class="spoiler_text"><pre><code class="plaintext hljs">├── access<font></font>
│ &nbsp; ├── allow.list<font></font>
...<font></font>
│ &nbsp; └── whitelist.conf<font></font>
├── geobase<font></font>
│ &nbsp; ├── exclude.conf<font></font>
...<font></font>
│ &nbsp; └── geo_ip_to_region_id.conf<font></font>
├── geodb<font></font>
│ &nbsp; ├── GeoIP.dat<font></font>
│ &nbsp; ├── GeoIP2-Country.mmdb<font></font>
│ &nbsp; └── GeoLiteCity.dat<font></font>
├── inc<font></font>
│ &nbsp; ├── error.inc<font></font>
...<font></font>
│ &nbsp; └── proxy.inc<font></font>
├── lists.d<font></font>
│ &nbsp; ├── bot.conf<font></font>
...<font></font>
│ &nbsp; ├── dynamic<font></font>
│ &nbsp; └── geo.conf<font></font>
├── lua<font></font>
│ &nbsp; ├── cookie.lua<font></font>
│ &nbsp; ├── log<font></font>
│ &nbsp; │ &nbsp; └── log.lua<font></font>
│ &nbsp; ├── logics<font></font>
│ &nbsp; │ &nbsp; ├── include.lua<font></font>
│ &nbsp; │ &nbsp; ├── ...<font></font>
│ &nbsp; │ &nbsp; └── utils.lua<font></font>
│ &nbsp; └── prom<font></font>
│ &nbsp; &nbsp; &nbsp; ├── stats.lua<font></font>
│ &nbsp; &nbsp; &nbsp; └── stats_prometheus.lua<font></font>
├── map.d<font></font>
│ &nbsp; ├── access.conf<font></font>
│ &nbsp; ├── ..&nbsp;<font></font>
│ &nbsp; └── zones.conf<font></font>
├── nginx.conf<font></font>
├── robots.txt<font></font>
├── server.d<font></font>
│ &nbsp; ├── cian.ru<font></font>
│ &nbsp; │ &nbsp; ├── cian.ru.conf<font></font>
│ &nbsp; │ &nbsp; ├── ...<font></font>
│ &nbsp; │ &nbsp; └── my.cian.ru.conf<font></font>
├── service.d<font></font>
│ &nbsp; ├── ...<font></font>
│ &nbsp; └── status.conf<font></font>
└── upstream.d<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;├── cian-mcs.conf<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;├── ...<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;└── wafserver.conf</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'est devenu beaucoup mieux, mais dans le processus de changement de nom et de distribution des configurations, certaines d'entre elles avaient la mauvaise extension et ne tombaient pas dans la directive include * .conf. </font><font style="vertical-align: inherit;">En conséquence, une partie des hôtes est devenue indisponible et a renvoyé 301 au principal. </font><font style="vertical-align: inherit;">Étant donné que le code de réponse n'était pas 5xx / 4xx, cela n'a pas été remarqué immédiatement, mais seulement le matin. </font><font style="vertical-align: inherit;">Après cela, nous avons commencé à écrire des tests pour tester les composants d'infrastructure. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Résultats:</font></font></b>&nbsp;<br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Structurez correctement les configurations (pas seulement nginx) et réfléchissez à la structure à un stade précoce du projet. </font><font style="vertical-align: inherit;">Vous les rendrez ainsi plus compréhensibles pour l'équipe, ce qui réduira à son tour le TTM.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour certains composants d'infrastructure, écrivez des tests. </font><font style="vertical-align: inherit;">Par exemple: vérifier que tous les noms de serveur clés renvoient l'état correct, + corps de réponse. </font><font style="vertical-align: inherit;">Il suffira d'avoir à portée de main quelques scripts qui vérifient les fonctions de base du composant pour que vous ne vous souveniez pas frénétiquement à 3 heures du matin de ce qui doit être vérifié.&nbsp;</font></font></li>
</ul><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Troisième place - «Place soudainement terminée à Cassandra»</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les données augmentaient régulièrement et tout allait bien jusqu'au moment où la réparation des gros cas a commencé à tomber dans le cluster Cassandra, car le compactage ne pouvait pas fonctionner sur eux.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un jour de pluie, la grappe s'est presque transformée en citrouille, à savoir:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">les places sont restées environ 20% du cluster total;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">il est impossible d'ajouter complètement des nœuds, car le nettoyage ne fonctionne pas après l'ajout d'un nœud en raison du manque d'espace sur les partitions;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">les performances diminuent légèrement, car le compactage ne fonctionne pas;&nbsp;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le cluster est en mode d'urgence.</font></font></li>
</ul><br>
<img src="https://habrastorage.org/webt/lp/ah/ie/lpahie7bann64sajoibumpqbr5g.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quitter - a ajouté 5 autres nœuds sans nettoyage, après quoi ils ont commencé à supprimer systématiquement du cluster et à les ressaisir en tant que nœuds vides sur lesquels la place s'est terminée. </font><font style="vertical-align: inherit;">Le temps a passé beaucoup plus que nous ne le souhaiterions. </font><font style="vertical-align: inherit;">Il y avait un risque d'inaccessibilité partielle ou totale du cluster.&nbsp;</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Résultats:</font></font></b><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tous les serveurs cassandra ne devraient pas occuper plus de 60% de l'espace sur chaque partition.&nbsp;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ils ne doivent pas être chargés à plus de 50% de CPU.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N'obstruez pas la planification des capacités et réfléchissez-y pour chaque composant, en fonction de ses spécificités.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plus il y a de nœuds dans le cluster, mieux c'est. </font><font style="vertical-align: inherit;">Les serveurs contenant une petite quantité de données sont migrés plus rapidement et un tel cluster est plus facile à réanimer.&nbsp;</font></font></li>
</ul><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Deuxième place - «Les données du stockage de valeur-clé du consul ont disparu»</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour la découverte de services, nous, comme beaucoup, utilisons le consul. Mais ici, sa valeur-clé est également utilisée pour les calculs de monolithes bleu-vert. Il stocke les informations en amont actives et inactives, qui changent de place pendant le déploiement. Pour cela, un service de déploiement a été écrit qui interagit avec KV. À un moment donné, les données de KV ont disparu. Récupéré de la mémoire, mais avec un certain nombre d'erreurs. En conséquence, lors du calcul, la charge sur l'amont a été inégalement répartie et nous avons eu beaucoup d'erreurs 502 en raison de la surcharge des backends sur le CPU. En conséquence, nous sommes passés du consul KV aux postgres, d'où il n'est pas si facile de les retirer.&nbsp;&nbsp; </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Résultats:</font></font><br>
</b><br>
<ul>
<li>  -           . ,       ES —        ,    ,   ,    action.destructive_requires_name: true.</li>
<li>      . ,    ( , &nbsp;python),      .</li>
</ul><br>
<h4>  — « »&nbsp;</h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
À un moment donné, nous avons remarqué une répartition inégale de la charge sur le nginx en amont dans les cas où il y avait 10+ serveurs dans le backend. Étant donné que le round-robin envoyait les demandes de 1 au dernier en amont dans l'ordre, et que chaque rechargement de nginx commençait depuis le début, le premier en amont avait toujours plus de demandes que les autres. En conséquence, ils travaillaient plus lentement et l'ensemble du site en souffrait. Cela est devenu plus visible à mesure que la quantité de trafic augmentait. La simple mise à jour de nginx pour activer random n'a pas fonctionné - vous devez refaire un tas de code lua qui n'a pas décollé sur la version 1.15 (à ce moment). J'ai dû patcher notre nginx 1.14.2, en y introduisant un support aléatoire. Cela a résolu le problème. Ce bug remporte la nomination "non-évidence du capitaine". </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusions:</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Il était très intéressant et passionnant d'étudier ce bug).&nbsp;</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configurez la surveillance de sorte qu'elle aide à trouver rapidement de telles fluctuations. </font><font style="vertical-align: inherit;">Par exemple, vous pouvez utiliser ELK pour surveiller les rps sur chaque backend de chaque amont, et surveiller leur temps de réponse du point de vue de nginx. </font><font style="vertical-align: inherit;">Dans ce cas, cela nous a aidés à identifier le problème.&nbsp;</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En conséquence, la plupart des échecs auraient pu être évités avec une approche plus scrupuleuse de ce que vous faites. </font><font style="vertical-align: inherit;">Vous devez toujours vous souvenir de la loi de Murphy:&nbsp; </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tout ce qui peut mal tourner va mal,</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et construire des composants en fonction de cela.&nbsp;</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr499528/index.html">Un pont mathématique "étonnant" qui s'étend au-delà du grand théorème de Fermat</a></li>
<li><a href="../fr499532/index.html">Les mots en chiffres: blog gratuit analytics habravebinary avec Yandex.Metrica</a></li>
<li><a href="../fr499534/index.html">Guide de développement du service backend Python</a></li>
<li><a href="../fr499536/index.html">Growbox comme méthode de se connaître</a></li>
<li><a href="../fr499540/index.html">Fonctionnement du rendu de jeu 3D: texturation et filtrage de texture</a></li>
<li><a href="../fr499544/index.html">Apprenez les réseaux de neurones dans Google Sheets</a></li>
<li><a href="../fr499546/index.html">Développement de firmware pour une caméra vidéo analogique EVR-Y2022F</a></li>
<li><a href="../fr499548/index.html">Masque - prendre soin des autres ou une illusion de sécurité?</a></li>
<li><a href="../fr499550/index.html">Solutions éco-low-code</a></li>
<li><a href="../fr499556/index.html">Serveur de jeu sur MS Orleans - Partie 3: Résumé</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>