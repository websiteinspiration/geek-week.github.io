<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏻‍💻 😨 🧑🏿‍🤝‍🧑🏿 DirectX 12 - De Léonard de Vinci à l'art contemporain 👩🏻‍🏫 🐳 🖼️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="L'infographie est une discipline étendue et en développement rapide. Chaque année, les interfaces de programmation d'applications deviennent plus flex...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>DirectX 12 - De Léonard de Vinci à l'art contemporain</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489282/"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'infographie est une discipline étendue et en développement rapide. </font><font style="vertical-align: inherit;">Chaque année, les interfaces de programmation d'applications deviennent plus flexibles, ce qui leur permet de mettre en œuvre des algorithmes de formation et de traitement d'images plus complexes. </font><font style="vertical-align: inherit;">Cependant, les possibilités des graphiques interactifs n'ont pas atteint le niveau des packages de modélisation et de visualisation 3D. </font><font style="vertical-align: inherit;">Tout cela encourage une recherche active dans ce domaine.</font></font></p><br>
<p><img src="https://habrastorage.org/webt/g5/dr/qv/g5drqvvxul_zgurprdoz4jwkz_g.jpeg" alt="image"></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DirectX 12 est un composant de l'interface de programmation graphique hautes performances. </font><font style="vertical-align: inherit;">Les principaux objectifs de la nouvelle interface sont de réduire les frais généraux du processeur du pilote, d'abaisser le niveau d'abstraction matérielle, la possibilité de combiner les cartes graphiques au niveau de l'API (auparavant, il n'y avait que des solutions CrossFireX, NVIDIA SLI spécifiques au fournisseur). </font><font style="vertical-align: inherit;">Publié officiellement par Microsoft en juillet 2015.</font></font></p><a name="habracut"></a><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'article est destiné à ceux qui ont déjà travaillé avec des bibliothèques graphiques (OpenGL, DirectX 11). </font><font style="vertical-align: inherit;">Cependant, pour les personnes qui envisagent de commencer à étudier les graphiques avec la version 12, cela peut également être utile.</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous y aborderons les sujets suivants:</font></font></p><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Environnement</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Brève description du pipeline graphique</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nouvelles fonctionnalités DirectX 12</font></font><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">États</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Équipes</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Synchronisation</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Attachement de ressource</font></font></li>
</ol></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Environnement</font></font></h2><br>
<p>DirectX 12   Windows SDK  Windows 10.   IDE  Visual Studio,   C++.    DirectX,    d3d12.h dxgi1_6.h   d3d12.lib, dxguid.lib, dxgi.lib, d3dcompiler.lib.       Windows SDK.    "D3D12 Helper Library"      d3dx12.h,     boilerplate .       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">d3dx12.h</a>    .</p><br>
<h2>   </h2><br>
<p>      ,     — -    .    ,  — .        ,       .       .       , ,       . ,   —  ,        .</p><br>
<p>,             . </p><br>
<h3> </h3><br>
<p>      ,  , ,  ,         , ,  .   —     .         ,     .      ,     ,      ,     ,      .            .     —          (clip space).</p><br>
<h3>   </h3><br>
<p>    —  ,      .       .     ,   .       ,   .          .        (    ).          API. ,  ,  .</p><br>
<h3>  </h3><br>
<p>  ,    ,      ,        ,      .               .</p><br>
<h3> </h3><br>
<p>      ,     (scissor test),   (stencil test)    (depth test).     ,        .  -    ,    .     ,         ,       .      ,           .</p><br>
<p>       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"> DirectX 11</a> (  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">DiretcX 12</a>      )</p><br>
<h2>  DirectX 12</h2><br>
<p>          DirectX 12. </p><br>
<h3></h3><br>
<p> 11         : RSSetState(), OMSetDepthStencilState(), OMSetBlendState(). ,       .         ,               .            ,      — PSO (Pipeline State Object).        :      " ",     .  ,    ,             Root Signature (  ).</p><br>
<h3></h3><br>
<p>         immideate context.            .  ,   DirectX 11    deferred context.  DirectX 12 immideate context    deferred   .     deferred command list,        .</p><br>
<p> ,         :    command list,    , CPU      . </p><br>
<p>     ,      .   ,   GPU,    . ,     Release()      —   ,          .</p><br>
<h3></h3><br>
<p>    GPU, DirectX 12   <em>fence</em>,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">ID3D12Fence</a> . <em>Fence</em> —   ,     GPU   .     «» ,  ID3D12CommandQueue::Signal()   .    ID3D12Fence::SetEventOnCompletion(UINT64 Value, HANDLE hEvent)      winapi event.     WaitForSingleObject()   event-        ,   .      GPU ,   fence ,  WaitForSingleObject()     .</p><br>
<h3> </h3><br>
<p>    —       DirectX.</p><br>
<h4></h4><br>
<p> DirectX 11    :        API. ,     (    )  5  6      : </p><br>
<pre><code class="plaintext hljs">ID3D11ShaderResourceView* srvs[] = { <font></font>
    texture1-&gt;GetShaderResourceView();<font></font>
    texture2-&gt;GetShaderResourceView();<font></font>
};<font></font>
context-&gt;PSSetShaderResources(5, 2, srvs);</code></pre><br>
<p> GetShaderResourceView()      ID3D11ShaderResourceView.<br>
     :</p><br>
<pre><code class="plaintext hljs">Texture2D texture1 : register(t5);<font></font>
Texture2D texture2 : register(t6);</code></pre><br>
<p>      ,       . ,        .       ?      GCN ISA,   :</p><br>
<blockquote>All vector memory operations use an image resource constant (T#) that is a 128- or 256-bit value in SGPRs. This constant is sent to the texture cache when the instruction is executed. This constant defines the address, data format, and characteristics of the surface in memory.</blockquote><p> ,      ,      (128  256-),       .      ,  ,           . ,       ,  «» .    :  (T#),  (S#)   (V#).  Direct3D 12  , ,      —   GPU.</p><br>
<h4></h4><br>
<p>          ,     <em></em>. <strong></strong> —   ,      (GPU  , , ,  , ).  <em></em>   <strong> </strong> —    <em></em>  . <em> </em>       :</p><br>
<ul>
<li>Constant buffer views (CBVs)</li>
<li>Unordered access views (UAVs)</li>
<li>Shader resource views (SRVs)</li>
<li>Samplers</li>
</ul><br>
<p>CBVs, UAVs, SRVs     <em> </em>,    —  .     ,      .</p><br>
<p>     <em>shader visible </em>. ,  <em>non shader visible </em>:</p><br>
<ul>
<li>Render Target Views (RTVs)</li>
<li>Depth Stencil Views (DSVs)</li>
<li>Stream Output Views (SOVs)</li>
</ul><br>
<p> views         (     ),        <em>non shader visible  </em> (   D3D12_DESCRIPTOR_HEAP_FLAGS::D3D12_DESCRIPTOR_HEAP_FLAG_SHADER_VISIBLE   ).</p><br>
<p>    view's,    (, , <em> </em>)  :</p><br>
<ul>
<li>Index Buffer View (IBV)</li>
<li>Vertex Buffer View (VBV)</li>
</ul><br>
<p>  D3D12_INDEX_BUFFER_VIEW  D3D12_VERTEX_BUFFER_VIEW .                  <em>Pipeline State Object</em>.    <em>PSO</em>   . </p><br>
<p> ,       ID3D11...View,   <em></em>  <em> </em>. </p><br>
<h4>Root signature</h4><br>
<p><strong>Root signature</strong> —  DirectX 12 API          . ,   ,         . <em>Root signature</em>      ,     () ,       . </p><br>
<p><em>Root signature</em>    ,   <strong>root parameter</strong>.   <em>root parameter</em>      <strong>root arguments</strong>.  <em>root argument</em>,     . <em>Root parameter</em>   :</p><br>
<ul>
<li>Root constants (1 DWORD == 32bit value)</li>
<li>Inline descriptors (  64-bit GPU virtual addresses,  2 DWORDs )</li>
<li>  (1 DWORD)</li>
</ul><br>
<p>  <em>root signature</em> — 64 DWORDs.          ,    . </p><br>
<p><strong>Root constant</strong>    <em>root signature</em> 32- ,      constant buffer.       (, MVP ),        (  4 ).           ,         .   :   "  ".</p><br>
<p>      <em>root signature</em>      <em> </em> —    <strong>inline descriptors</strong>.    —  per object.  ,        <em> </em>.    .    (   ),               GPU.    , ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">ID3D12GraphicsCommandList::SetGraphicsRootConstantBufferView</a>,     <em>root parameter</em>  <em>inline descriptor</em>    .</p><br>
<p>   ,      . <strong> </strong>   <em>descriptor range</em>. <em>Descriptor range</em> —      .     <em> </em>   :</p><br>
<pre><code class="plaintext hljs">typedef enum D3D12_DESCRIPTOR_RANGE_TYPE<font></font>
    {<font></font>
        D3D12_DESCRIPTOR_RANGE_TYPE_SRV = 0,<font></font>
        D3D12_DESCRIPTOR_RANGE_TYPE_UAV = ( D3D12_DESCRIPTOR_RANGE_TYPE_SRV + 1 ) ,<font></font>
        D3D12_DESCRIPTOR_RANGE_TYPE_CBV = ( D3D12_DESCRIPTOR_RANGE_TYPE_UAV + 1 ) ,<font></font>
        D3D12_DESCRIPTOR_RANGE_TYPE_SAMPLER = ( D3D12_DESCRIPTOR_RANGE_TYPE_CBV + 1 ) <font></font>
    }   D3D12_DESCRIPTOR_RANGE_TYPE;<font></font>
<font></font>
typedef struct D3D12_DESCRIPTOR_RANGE<font></font>
    {<font></font>
    D3D12_DESCRIPTOR_RANGE_TYPE RangeType;<font></font>
    UINT NumDescriptors;<font></font>
    UINT BaseShaderRegister;<font></font>
//...<font></font>
    }   D3D12_DESCRIPTOR_RANGE;</code></pre><br>
<p>,  RangeType —   <em></em>, NumDescriptors — , BaseShaderRegister —    .            .   <em></em>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">ID3D12GraphicsCommandList::SetGraphicsRootDescriptorTable</a>,     <em>root parameter</em>  <em> </em>   <em></em>.  <em></em>,    <em> </em>,  .   ,          <em>descriptor heap</em>.</p><br>
<h2></h2><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous avons examiné certaines des fonctionnalités de DirectX 12. Si vous êtes intéressé par ce sujet ou tout autre domaine de l'infographie, désabonnez-vous dans les commentaires.</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Liens: </font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://docs.microsoft.com/en-us/windows/win32/direct3d12/directx-12-programming-guide </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://developer.nvidia.com/dx12-dos-and-donts </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https: // gpuopen.com/performance-root-signature-descriptor-sets/</font></font></a></p></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr489270/index.html">WebAuthn dans la vraie vie</a></li>
<li><a href="../fr489272/index.html">Yeux, cerveau, qualité vidéo: réflexions sur 120fps, 8K, HDR, baguettes, cônes et «effet feuilleton»</a></li>
<li><a href="../fr489274/index.html">Affirmer des messages dans les tests</a></li>
<li><a href="../fr489276/index.html">Test sanguin pour le fer - comment contrôler le niveau, diagnostiquer les raisons pour lesquelles il est important</a></li>
<li><a href="../fr489280/index.html">Envoyez un ping à tous les hôtes IPv6 sur le canal</a></li>
<li><a href="../fr489284/index.html">Mes outils de développement Chrome préférés</a></li>
<li><a href="../fr489286/index.html">Slips, chaussettes et blaireau: anti-cotation des cadeaux le 23 février</a></li>
<li><a href="../fr489290/index.html">"Travailler dans l'informatique - 2020", ou Qui et pour ce que nous aimons</a></li>
<li><a href="../fr489294/index.html">Apprentissage des variables CSS avec un exemple pratique</a></li>
<li><a href="../fr489296/index.html">Options fonctionnelles sur les stéroïdes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>