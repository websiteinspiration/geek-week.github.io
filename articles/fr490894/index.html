<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏻‍🚒 🦗 💈 Réflexions subtiles sur l'architecture du site Web 👮 🎅🏽 👵🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nous sommes dans notre WIT-e, bien sûr, des amateurs. Propre système ERP (écrit à ce sujet ici - Comment pouvons-nous nous passer de 1C? ), Son propre...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Réflexions subtiles sur l'architecture du site Web</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/490894/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous sommes dans notre WIT-e, bien sûr, des amateurs. Propre système ERP (écrit à ce sujet ici - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment pouvons-nous nous passer de 1C?</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), Son propre système CRM, son propre M2M pour la communication avec les distributeurs ("quels autres mots et abréviations intelligents connaissez-vous?"). Et, bien sûr, votre approche de WWW, pour rester dans le cadre de ce paradigme à 3 lettres. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout a commencé avec l'amour de Microsoft, et certaines des premières versions du site à la fin des années 90 ont été créées à l'aide de la technologie ASP, et en tant que base de données, il contenait un fichier MS Access standard. Soit dit en passant, les fournisseurs proposent toujours l'hébergement sur le </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bon</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> vieux </font><font style="vertical-align: inherit;">ASP, 18 ans après sa mise à niveau vers ASP.NET - ici, vous avez des systèmes hérités dans toute sa splendeur.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En général, cela est assez pratique - puisque la base de données interne est également écrite en MS Access, la procédure de préparation des données pour le site était très simple, pas de retraductions d'un format de données à un autre (MySQL par exemple). Access prend en charge une extension du langage SQL de la forme «IN &lt;nom de la base de données externe&gt;», qui peut être ajoutée après toutes les instructions DML: INSERT, UPDATE, DELETE (voici une autre abréviation de 3 lettres). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au fur et à mesure que ce lien s'est développé, il a commencé à freiner sans vergogne (en plus, il n'est pas clair quand le fichier mdb se verrouille avec les verrous de la base de données, asservissant tout le site). La traduction du site en ASP.NET n'a pas résolu fondamentalement le problème, et il était également nécessaire de passer à MS SQL Server en tant que base, mais le processus est ensuite allé dans une direction différente. Examinons le problème de l'amélioration des performances du site Web dans une perspective légèrement différente.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
(Soit dit en passant, mon fournisseur 1Gb.ru écrit qu'ASP.NET est en moyenne plus rapide que le bundle LAMP standard (Linux / Apache / MySQL / PHP), qui est devenu une révélation pour moi. Mais à qui puis-je faire confiance ici si ce n'est l'opérateur de tout? ) </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Avertissement</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - les idées suivantes représentent, d'une part, une construction théorique élevée à l'absolu, ce qui signifie souvent réduit à l'absurdité, d'autre part, la mise en œuvre concrète, de sorte que l'on ne peut pas dire que l'auteur est dans ses fantasmes et complètement détaché de réalité. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Question 1. Pourquoi devrait-il y avoir une base de données sous le site?</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eh bien, vraiment, vous admirez tous la vitesse des bases de données en mémoire, non? Alors pourquoi aller loin, procurez-vous-en un sous votre site Web. Et encore plus. Lors de l'initialisation initiale, chargez toutes les données dans des tableaux disponibles au niveau du site dans son ensemble (objet Application dans ASP.NET, Variables globales en PHP, ci-après partout), et au lieu d'écrire des requêtes dans la base de données, parcourez simplement ces tableaux. Tout est adapté au chargement initial des données - la même base de données MS Access, mais au moins des fichiers CSV texte! - l'opération est rarement effectuée et son temps d'exécution ne joue aucun rôle. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y a des questions, mais nous avons déjà des réponses toutes faites.</font></font><br>
<br>
<ol>
<li> ,  -    ,    ?   –      (    ,     -),   —   ,</li>
<li>    (    )    .            .    –    (  )    ,    ?  ,           –     /  ,       –  ,   .           .   Catalog (   -!)  2  –         : <br>
<br>
<img src="https://habrastorage.org/webt/ph/rz/g9/phrzg9jyqni1zxsumyhzrcucqgy.png"><br>
<br>
           MinIndex  MaxIndex. ,    -         (   ) –         Parts     ID  Catalog,   –          .<br>
</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Notez que cette idée peut être poursuivie davantage. De la même manière que les données sont transférées de la base de données sous le site vers la structure de données du site lui-même, lors de la génération d'une page Web, les données dont il a besoin doivent être placées dans sa structure elle-même - c'est-à-dire dans des tableaux JavaScript. Et pas d'AJAX, asynchronie, gestion des erreurs de communication, etc. Et donc cela a été fait sur notre site sur des pages contenant toutes sortes de configurateurs. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Soit dit en passant, contrairement aux fichiers de base de données, les tableaux dans la mémoire du serveur Web (et le navigateur Web aussi, bien qu'avec des réservations) occupent une taille approximativement égale à leur représentation binaire, tandis qu'une base de données vide avec une seule table en elle s'appuie déjà sur plusieurs centaines de kilo-octets. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Question 2. Pourquoi dois-je utiliser des scripts sur un serveur Web?</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'apporte un fragment de code en plusieurs lignes, délibérément simplifié et dans le plus fou des langages de programmation - VBA (sauf pour 1C)</font></font><br>
<br>
<pre><code class="plaintext hljs">        Set IE = CreateObject("InternetExplorer.Application")<font></font>
<font></font>
        IE.Navigate "wit.ru"<font></font>
        While IE.ReadyState &lt; READYSTATE_COMPLETE<font></font>
        Wend<font></font>
<font></font>
        Set str = IE.Document.DocumentElement<font></font>
        HTML = str.innerhtml<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le code fait ce qui suit: exécute la page via le navigateur autrefois très populaire d'une entreprise bien connue et enregistre le résultat de l'élaboration du script de serveur au format HTML pur. Vous l'avez deviné, probablement, qu'est-ce qui sera proposé ensuite? Très bien - il est tout à fait possible de rendre un site purement HTML dans les années 90. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
(Encore une fois à partir de 1GB.ru: «IIS traite très rapidement et efficacement les demandes de fichiers statiques») </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le même temps, vous devrez peut-être vous soucier du transcodage d'adresses telles que </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
wit.ru/card.aspx?id=23&amp;prodid=1022985 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
en adresses Web statiques Les pages Web sont également une technologie de mise au point de serveur Web bien connue, inventée à l'origine pour tromper les moteurs de recherche et l'optimisation Web.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici, il est probablement nécessaire de formuler le principe de base dont dérivent tous les autres. </font><font style="vertical-align: inherit;">Plus nous consacrerons de temps et de ressources à la préparation des données pour le site Web, plus il lui sera facile de les afficher et plus vite il pourra le faire. </font><font style="vertical-align: inherit;">Dans ce cas, notre back-end peut fonctionner en mode continu, crachant des données prêtes sur le site avec la fréquence dont nous avons besoin. </font><font style="vertical-align: inherit;">Et cette approche fonctionnera dans tous les cas, sauf, bien sûr, pour échanger des résumés ou des fenêtres d'Amazon ou d'Alibaba, où les données changent à chaque seconde.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je suis conscient que les problèmes de l'article sont trop pointus et une solution non standard est proposée. </font><font style="vertical-align: inherit;">Je vais oser suggérer (ce n'est pas mon sujet du tout) qu'une telle approche pourrait fonctionner pour tous les systèmes embarqués, où sinon, sur un appareil informatique faible, vous devez placer un mini moteur de base de données et un gestionnaire de script au lieu du serveur Web le plus simple (au prix de plus de consommation de mémoire - opérationnelle et constante).</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr490882/index.html">Résoudre les problèmes sous Docker. Il semblerait, qu'est-ce que GIT a à voir avec ça?</a></li>
<li><a href="../fr490884/index.html">Conférence DEFCON 27. Votre voiture est ma voiture. Partie 1</a></li>
<li><a href="../fr490888/index.html">Choisir des cadeaux pour des femmes fantastiques</a></li>
<li><a href="../fr490890/index.html">Heroku et React: déployez votre première application</a></li>
<li><a href="../fr490892/index.html">Comment générer gratuitement des clés et des publicités pour Yandex et Google à partir d'un fichier YML</a></li>
<li><a href="../fr490896/index.html">Principes de travail pour l'unité de soins intensifs pour enfants sous la forme d'une réponse à «Programmer, the pack and John Steinbeck» ou</a></li>
<li><a href="../fr490906/index.html">Yandex a déployé une version bêta d'un Aura - aura.top indépendant. C'est top?</a></li>
<li><a href="../fr490908/index.html">Stockage des données de zone</a></li>
<li><a href="../fr490912/index.html">Comment nous, chez Sportmaster, avons choisi un système de mise en cache. Partie 1</a></li>
<li><a href="../fr490916/index.html">Problèmes d'interaction avec des équipes externes sur de grands projets</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>