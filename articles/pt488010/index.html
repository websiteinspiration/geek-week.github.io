<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üêÅ üÉè üë®üèª‚Äçüè´ Ferramentas de Design Orientadas a Dom√≠nios üçÜ üå™Ô∏è ü§õüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A baleia azul √© um √≥timo exemplo de como o design de um projeto complexo deu errado. A baleia parece um peixe, mas √© um mam√≠fero: alimenta os filhotes...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Ferramentas de Design Orientadas a Dom√≠nios</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/488010/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A baleia azul √© um √≥timo exemplo de como o design de um projeto complexo deu errado. A baleia parece um peixe, mas √© um mam√≠fero: alimenta os filhotes com leite, tem l√£ e os ossos do antebra√ßo e as m√£os com os dedos, como os de terra, ainda s√£o preservados nas barbatanas. Ele mora nos oceanos, mas n√£o consegue respirar debaixo d'√°gua, por isso sobe regularmente √† superf√≠cie para engolir ar, mesmo quando est√° dormindo. A baleia √© o maior animal do mundo, com uma casa de nove andares e pesando 75 carros Volkswagen Touareg, mas n√£o √© um predador, mas se alimenta de pl√¢ncton.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quando os desenvolvedores trabalharam na baleia, eles n√£o come√ßaram a escrever tudo do zero, mas usaram a experi√™ncia de projetos antigos. Parece ter sido constru√≠do com partes incompat√≠veis do c√≥digo que n√£o foram testadas, e todo o design se resumiu √† escolha de uma estrutura e de um ‚Äúciclo‚Äù urgente j√° em produ√ß√£o. Como resultado, o projeto mostrou-se bonito na apar√™ncia, mas com peda√ßos de legado denso e muletas sob o cap√¥. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/to/9e/qb/to9eqb8yxhrfep8tl32q9augiv4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para criar projetos que ajudam as empresas a ganhar dinheiro, em vez de parecer um animal marinho que n√£o pode respirar debaixo d'√°gua, existe o DDD. Essa √© uma abordagem que n√£o se concentra em ferramentas ou c√≥digo, mas no estudo da √°rea de assunto, processos de neg√≥cios individuais e como o c√≥digo ou as ferramentas funcionam para a l√≥gica de neg√≥cios. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O que √© DDD e quais ferramentas existem, contaremos em um artigo baseado no relat√≥rio</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artyom Malyshev</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">A abordagem DDD em Python, ferramentas, armadilhas, programa√ß√£o de contratos e design de produtos em torno do problema que est√° sendo resolvido, em vez da estrutura usada, est√£o todos em falta.</font></font><br>
<a name="habracut"></a><br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/LqTPRCLZffE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apresenta√ß√£o completa do relat√≥rio</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font></i><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artem Malyshev</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">proofit404</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) - um desenvolvedor independente, escreveu em Python por 5 anos, ajudou ativamente com o Django Channels 1.0. </font><font style="vertical-align: inherit;">Posteriormente, ele se concentrou nas abordagens arquitet√¥nicas: estudou quais ferramentas os arquitetos Python n√£o possuem e iniciou um projeto de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dry-python</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Co-fundador da Drylabs.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Complexidade</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O que √© programa√ß√£o?</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A programa√ß√£o √© uma luta constante com a complexidade que os pr√≥prios desenvolvedores criam quando tentam resolver problemas.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A complexidade √© dividida em dois tipos: introduzidos e naturais. </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O apresentado se</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> estende junto com linguagens de programa√ß√£o, frameworks, SO, modelo de assincronia. </font><font style="vertical-align: inherit;">Este √© um </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">desafio t√©cnico</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que n√£o se aplica aos neg√≥cios. </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> complexidade </font><strong><font style="vertical-align: inherit;">natural</font></strong><font style="vertical-align: inherit;"> est√° oculta no produto e simplifica a vida dos usu√°rios - pois essas pessoas pagam dinheiro.</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bons engenheiros devem reduzir a complexidade adicional e aumentar o natural para aumentar a utilidade do produto.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mas n√≥s programadores somos pessoas complexas e gostamos de adicionar complexidade t√©cnica aos projetos. Por exemplo, n√£o nos preocupamos com os padr√µes de codifica√ß√£o, n√£o usamos o linter, pr√°ticas de design modular e recebemos muito c√≥digo de estilo nos projetos </font></font><code>if c==1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como trabalhar com esse c√≥digo? Leia muitos arquivos, entenda vari√°veis, condi√ß√µes e quando e como tudo funcionar√°. √â dif√≠cil ter em mente esse c√≥digo - complexidade adicional absolutamente t√©cnica. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Outro exemplo de complexidade adicional √© o meu "inferno de retorno de chamada" favorito. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pa/1h/s5/pa1hs5z7giwwav8wxyvbllgqdaw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quando escrevemos na estrutura da arquitetura orientada a eventos (EDA) e escolhemos uma estrutura moderna n√£o t√£o boa, obtemos um c√≥digo no qual n√£o est√° claro o que acontece e quando. √â dif√≠cil ler esse c√≥digo. Essa √© novamente a complexidade adicionada.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os programadores n√£o apenas adoram dificuldades t√©cnicas, mas tamb√©m argumentam qual √© o melhor:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AsyncIO ou Gevent;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PostgreSQL ou MongoDB;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python ou Go;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Emacs ou Vim;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">abas ou espa√ßos;</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A resposta correta de um bom programador para todas essas perguntas: "N√£o faz diferen√ßa!" </font><font style="vertical-align: inherit;">Bons desenvolvedores n√£o discutem sobre cavalos esf√©ricos no v√°cuo, mas resolvem problemas de neg√≥cios e trabalham na utilidade do produto. </font><font style="vertical-align: inherit;">Alguns deles h√° muito estabelecem um conjunto de pr√°ticas que reduzem a complexidade introduzida e o ajudam a pensar mais sobre os neg√≥cios. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um deles √© </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eric Evans</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Em 2004, ele escreveu o livro Domain Driven Design. </font><font style="vertical-align: inherit;">Ela atirou e deu um impulso para pensar mais sobre os neg√≥cios e colocar os detalhes t√©cnicos em segundo plano.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/v6/4p/kr/v64pkrz6lrqylss53fxhvojvock.jpeg"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O que √© DDD?</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Primeiro, uma solu√ß√£o para o problema e, em seguida, ferramentas</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Antes de tudo, Evans investiu no conceito de DDD, que n√£o √© uma tecnologia, mas uma filosofia. Na filosofia, voc√™ primeiro precisa pensar em como resolver o problema e, somente ent√£o, com a ajuda de quais ferramentas. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Trabalhe em modelos com especialistas no assunto e desenvolvedores de software.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Precisamos nos comunicar com pessoas de neg√≥cios: procure uma linguagem comum, construa um modelo do mundo no qual nosso produto funcione e resolva problemas. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Escreva software que expresse explicitamente modelos</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">A diferen√ßa mais importante entre DDD e colabora√ß√£o simples em uma equipe √© que devemos escrever software no mesmo estilo que conversamos com especialistas em dom√≠nio. </font><font style="vertical-align: inherit;">Toda terminologia, abordagens para discuss√£o e tomada de decis√£o devem ser armazenadas no c√≥digo fonte, para que mesmo uma pessoa n√£o t√©cnica possa entender o que est√° acontecendo l√°. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fale o mesmo idioma com os neg√≥cios</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">DDD √© uma filosofia sobre como falar o mesmo idioma com especialistas em neg√≥cios em um campo espec√≠fico e aplicar terminologia a esse campo. </font><font style="vertical-align: inherit;">Temos uma linguagem ou dialeto comum dentro do contexto vinculado, que consideramos verdadeiro. </font><font style="vertical-align: inherit;">Criamos limites em torno de solu√ß√µes arquitet√¥nicas.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DDD n√£o √© sobre tecnologia.</font></font></blockquote><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Primeiro, a parte t√©cnica, ent√£o - DDD.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O escultor que esculpe a est√°tua em pedra n√£o l√™ o manual sobre como segurar um martelo e um cinzel - ele j√° sabe como trabalhar com eles. Para trazer o DDD para o seu projeto, domine a parte t√©cnica: aprenda o Django at√© o fim, leia o tutorial e pare de discutir sobre o uso do PostgreSQL ou MongoDB. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A maioria dos padr√µes e padr√µes de design s√£o ru√≠dos t√©cnicos.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> A maioria dos padr√µes que conhecemos e usamos √© t√©cnica. Eles dizem como reutilizar o c√≥digo, como estrutur√°-lo, mas n√£o dizem como us√°-lo para usu√°rios, empresas e modelar o mundo exterior. Portanto, f√°bricas ou classes abstratas s√£o fracamente ligadas ao DDD.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O primeiro livro "azul" saiu quase 20 anos atr√°s. As pessoas tentaram escrever nesse estilo, andaram bastante e perceberam que a filosofia √© boa, mas na pr√°tica incompreens√≠vel. Portanto, um segundo livro apareceu - "vermelho", sobre como os programadores pensam e escrevem no DDD. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/j3/nf/dd/j3nfdd-vnh3shjuuxvxrh7ogwj8.jpeg"><br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os livros "vermelho" e "azul" s√£o os pilares sobre os quais todos os DDD se apoiam. </font></font></em><br>
<br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nota. Os livros vermelho e azul s√£o uma fonte √∫nica de informa√ß√µes sobre DDD, mas s√£o pesados. Os livros n√£o s√£o f√°ceis de ler: no original por causa da linguagem e termos complexos, e em russo devido √† m√° tradu√ß√£o. Portanto, comece a aprender DDD com um </font></font></em><font style="vertical-align: inherit;"><em><font style="vertical-align: inherit;">livro </font></em></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">verde</font></font></em></a><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Esta √© uma vers√£o simplificada dos dois primeiros, com exemplos mais simples e descri√ß√µes gerais. Mas √© melhor do que se os livros em vermelho e azul superassem seu desejo de estudar e aplicar DDD. √â melhor ler no original.</font></font></em><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O livro vermelho ignora a id√©ia de como melhor inserir DDD no projeto, como estruturar o trabalho em torno dessa abordagem. </font><font style="vertical-align: inherit;">Uma nova terminologia aparece - ‚ÄúModel-Driven Design‚Äù, em que nosso modelo do mundo exterior √© colocado em primeiro lugar. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bq/oj/65/bqoj653kebtxlaj7fkvbcx8xhq8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O √∫nico local escolhido pela tecnologia √© a Smart UI. </font><font style="vertical-align: inherit;">Essa √© uma camada entre o mundo exterior, o usu√°rio e n√≥s (uma refer√™ncia a Robert Martin e sua arquitetura limpa com camadas). </font><font style="vertical-align: inherit;">Como voc√™ pode ver, tudo vai para o modelo. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O que √© um modelo? </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Essa √© a dor fantasma de qualquer arquiteto. </font><font style="vertical-align: inherit;">Todo mundo pensa que isso √© UML, mas n√£o √©.</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um modelo √© um conjunto de classes, m√©todos e links entre eles que refletem os cen√°rios de neg√≥cios no programa.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O modelo reflete um objeto real com todas as propriedades e fun√ß√µes necess√°rias. </font><font style="vertical-align: inherit;">Este √© um kit de ferramentas de alto n√≠vel para tomar decis√µes do ponto de vista dos casos de neg√≥cios. </font><font style="vertical-align: inherit;">M√©todos e classes, no entanto, s√£o um kit de ferramentas de baixo n√≠vel para solu√ß√µes de arquitetura.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pit√£o-seco</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para preencher o nicho do modelo, iniciei um projeto </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dry-python</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que se transformou em uma </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cole√ß√£o de bibliotecas de arquitetura de alto n√≠vel</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para a constru√ß√£o de Model Driven Design. </font><font style="vertical-align: inherit;">Cada uma das bibliotecas est√° tentando fechar um c√≠rculo na arquitetura e n√£o interfere na outra. </font><font style="vertical-align: inherit;">As bibliotecas podem ser usadas separadamente ou juntas, se voc√™ provar. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/un/kb/am/unkbampyzrvkbwwjwd4amsiahuw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A sequ√™ncia da narrativa corresponde √† cronologia da adi√ß√£o √≥tima de DDD ao projeto - por camadas. </font><font style="vertical-align: inherit;">A primeira camada √© </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">servi√ßos</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , uma descri√ß√£o dos cen√°rios de neg√≥cios (processos) em nosso sistema. </font><font style="vertical-align: inherit;">A biblioteca de hist√≥rias √© respons√°vel por essa camada.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hist√≥rias</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os cen√°rios de neg√≥cios s√£o divididos em tr√™s partes:</font></font><br>
<br>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">especifica√ß√£o</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - uma descri√ß√£o do processo de neg√≥cios;</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O estado</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> em que o cen√°rio de neg√≥cios pode existir</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">implementa√ß√£o de</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cada etapa do script.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Essas pe√ßas n√£o devem ser misturadas. </font><font style="vertical-align: inherit;">A biblioteca Stories separa essas partes e desenha uma linha clara entre elas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Considere a introdu√ß√£o de DDD e Stories com um exemplo. </font><font style="vertical-align: inherit;">Por exemplo, temos um projeto no Django com uma mistura de sinais do Django e modelos "grossos" obscuros. </font><font style="vertical-align: inherit;">Adicione um pacote de servi√ßos vazio a ele. </font><font style="vertical-align: inherit;">Usando a biblioteca Stories em partes, reescrevemos esse hash em um conjunto de scripts claro e compreens√≠vel em nosso projeto. </font></font><br>
<img src="https://habrastorage.org/webt/lo/r9/st/lor9stle7ok2tx_eiv4nx931abs.png"><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Especifica√ß√£o DSL. </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A biblioteca permite que voc√™ escreva uma especifica√ß√£o e fornece DSL para isso. </font><font style="vertical-align: inherit;">Essa √© uma maneira de descrever as a√ß√µes do usu√°rio passo a passo. </font><font style="vertical-align: inherit;">Por exemplo, para comprar </font></font><code>subscription</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, sigo v√°rias etapas: vou encontrar um pedido, verificar a relev√¢ncia do pre√ßo, verificar se o usu√°rio pode pagar. </font><font style="vertical-align: inherit;">Esta √© uma descri√ß√£o de alto n√≠vel. </font></font><br>
<img src="https://habrastorage.org/webt/pf/uy/rk/pfuyrkvzoktrxxjurabhbzfwmka.png"><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contrato.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abaixo desta classe, escreveremos um contrato para o estado do cen√°rio de neg√≥cios. Para isso, denotamos a √°rea de vari√°veis ‚Äã‚Äãque surgem no processo de neg√≥cios e, para cada vari√°vel, atribu√≠mos um conjunto de validadores. </font></font><br>
<img src="https://habrastorage.org/webt/e0/qy/de/e0qydendpyyrti651302r_6dxnm.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Assim que algu√©m tentar atribuir uma vari√°vel a essa √°rea como parte do processo de neg√≥cios, um conjunto de validadores ser√° elaborado. Garantiremos que o estado do processo no tempo de execu√ß√£o esteja sempre funcionando. Mas, se n√£o, cai dolorosamente e grita bem alto. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fase de implementa√ß√£o de cada etapa</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Na mesma classe, </font></font><code>subscription</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">escrevemos um conjunto de m√©todos cujos nomes correspondem √†s etapas de neg√≥cios. Cada m√©todo de entrada recebe um estado com o qual pode trabalhar, mas n√£o tem o direito de modific√°-lo. O m√©todo pode retornar algum marcador e relat√≥rio:</font></font><br>
<br>
<ul>
<li>  ,       ()   ;</li>
<li>  -   ,      .</li>
</ul><br>
<img src="https://habrastorage.org/webt/ny/pe/_-/nype_-46uz-nuannwmrcfsrhojq.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Existem marcadores mais complexos: eles podem confirmar que o estado est√° funcionando, sugerir excluir ou alterar algumas partes do processo de neg√≥cios. Voc√™ tamb√©m pode escrever nas aulas. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hist√≥ria de lan√ßamento.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Como executar o Story na execu√ß√£o? Este √© um objeto de neg√≥cios que funciona como um m√©todo: transferimos dados para a entrada, os valida, interpreta as etapas. A Hist√≥ria em execu√ß√£o lembra o hist√≥rico de execu√ß√£o, registra o estado que ocorreu no processo de neg√≥cios e nos diz </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quem influenciou esse estado</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<img src="https://habrastorage.org/webt/o7/e7/s5/o7e7s53zun6l9mprpqg-vkerp-s.png"><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Barra de ferramentas de depura√ß√£o.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Se escrevermos no Django e usarmos o painel de depura√ß√£o, podemos ver quais cen√°rios de neg√≥cios foram processados ‚Äã‚Äãem cada solicita√ß√£o e seu status. </font></font><br>
<img src="https://habrastorage.org/webt/i8/td/aq/i8tdaqss6_wf7uk0e6sdifdqhau.png"><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Py.test</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Se escrevermos em py.test, para o teste finalizado, podemos ver quais scripts de neg√≥cios foram executados em cada linha e o que deu errado. Isso √© conveniente - em vez de escolher o c√≥digo, lemos a especifica√ß√£o e entendemos o que aconteceu. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/4f/pr/gc/4fprgcpruxp3bbpgcapv7rc44je.png"><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sentinela.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Melhor ainda, quando recebemos o erro 500. Em um sistema regular, toleramos e come√ßamos a investigar. No Sentry, um relat√≥rio detalhado aparecer√° sobre o que o usu√°rio fez para cometer o erro. √â conveniente e agrad√°vel quando, √†s 3 da manh√£, essas informa√ß√µes foram coletadas para voc√™. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qk/dy/js/qkdyjspvszlg7vzy803gfqmpt5k.png"><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ELK</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Agora, estamos trabalhando ativamente em um plug-in que grava tudo isso no Elasticsearch na pilha Kibana e cria √≠ndices competentes. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/df/7i/7d/df7i7dk01va0ekvv7sxlkdhz9pg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por exemplo, temos um contrato para o status de um processo de neg√≥cios. Sabemos o que h√°, por exemplo,</font></font><code>relation ID</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">relat√≥rio. </font><font style="vertical-align: inherit;">Em vez de pesquisas arcaicas do que aconteceu l√°, escrevemos um pedido em Kibana. </font><font style="vertical-align: inherit;">Ele mostrar√° todas as hist√≥rias relacionadas a um usu√°rio espec√≠fico. </font><font style="vertical-align: inherit;">Em seguida, examinamos o estado em nossos processos e cen√°rios de neg√≥cios. </font><font style="vertical-align: inherit;">N√£o escrevemos uma √∫nica linha de c√≥digo de registro, mas o projeto √© registrado no mesmo n√≠vel de abstra√ß√£o no qual estamos interessados ‚Äã‚Äãem assistir. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas eu quero algo de n√≠vel superior, por exemplo, objetos leves. </font><font style="vertical-align: inherit;">Esses objetos cont√™m estruturas e m√©todos de dados alfabetizados relacionados √† ado√ß√£o de decis√µes de neg√≥cios e n√£o ao trabalho com o banco de dados, por exemplo. </font><font style="vertical-align: inherit;">Portanto, passamos √† pr√≥xima parte da arquitetura orientada a modelo - entidades, agregados e objetos de valor.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/oh/c4/hh/ohc4hhk6ru1lrn-ohyrp83byn1w.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Entidades, agregados e objetos de valor</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como tudo isso est√° interconectado? Por exemplo, um usu√°rio faz um pedido de produto e faturamos. Qual √© a raiz da agrega√ß√£o e o que √© um objeto simples? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ml/4g/kc/ml4gkcmc0-hajo2sk5apaklct6y.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tudo o que √© sublinhado √© a raiz da agrega√ß√£o. √â com isso que quero trabalhar diretamente: importante, valioso, hol√≠stico. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por onde come√ßar?</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Criaremos um pacote vazio no projeto, onde colocaremos nossas unidades. Os agregados s√£o melhor escritos com algo declarativo, como </font></font><code>dataclasses</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou </font></font><code>attrs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<img src="https://habrastorage.org/webt/7e/0z/dx/7e0zdxqhapwuerqxbs8zf6wocse.png"><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dataclasses</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Se </font><strong><font style="vertical-align: inherit;">indicarmos</font></strong><font style="vertical-align: inherit;"> algum tipo de </font></font><code>dataclass</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">agrega√ß√£o, escreveremos uma anota√ß√£o usando </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NewType</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Na anota√ß√£o, indicamos uma refer√™ncia expl√≠cita, que √© expressa no sistema de tipos. Se for </font></font><code>dataclass</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apenas uma estrutura de dados (entidade), salve-a dentro do agregado.</font></font><br>
<img src="https://habrastorage.org/webt/9y/g3/fe/9yg3fe7qn2_xj6pas4m1hewhikc.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No contexto de Hist√≥rias, apenas agregados podem mentir. </font><font style="vertical-align: inherit;">O acesso a algo incorporado neles s√≥ pode ser obtido atrav√©s de m√©todos p√∫blicos e regras de alto n√≠vel. </font><font style="vertical-align: inherit;">Isso permite que voc√™ construa de maneira l√≥gica e competente um modelo sobre o qual trabalhamos em conjunto com especialistas da √°rea. </font><font style="vertical-align: inherit;">Este √© o mesmo </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">idioma √∫nico</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xj/ov/7s/xjov7shv-7gsu-u0w6c6aejxkq8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O problema surge imediatamente - reposit√≥rios. </font><font style="vertical-align: inherit;">Eu tenho um banco de dados com o qual trabalho atrav√©s do Django, um microsservi√ßo vizinho para o qual envio solicita√ß√µes, existe JSON e uma inst√¢ncia do modelo Django. </font><font style="vertical-align: inherit;">Para receber dados e transferi-los manualmente, apenas para chamar ou testar o m√©todo lindamente? </font><font style="vertical-align: inherit;">Claro que n√£o. </font><font style="vertical-align: inherit;">O dry-python possui uma biblioteca Mappers que permite mapear abstra√ß√µes de alto n√≠vel e agrega√ß√µes de dom√≠nio para os locais onde as armazenamos.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mapeadores</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adicionamos mais um pacote ao nosso projeto - um reposit√≥rio no qual armazenaremos o nosso </font></font><code>mappers</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. √â assim que transferiremos a l√≥gica de neg√≥cios de alto n√≠vel para o mundo real. </font></font><br>
<img src="https://habrastorage.org/webt/gt/w8/zu/gtw8zusqmldesc-5m-sanew8hxy.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por exemplo, podemos descrever como mapeamos um </font></font><code>dataclass</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para um modelo do Django. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Django ORM.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Comparamos o modelo de pedidos com a descri√ß√£o do Django ORM - examinamos os campos. </font></font><br>
<img src="https://habrastorage.org/webt/gw/cp/v8/gwcpv8rjs4cs592qvob0tu0t_rw.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por exemplo, podemos reescrever alguns campos atrav√©s da configura√ß√£o opcional. O seguinte acontecer√°: </font></font><code>mapper</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">durante a declara√ß√£o, ele comparar√° como o </font></font><code>dataclass</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">modelo √© </font><font style="vertical-align: inherit;">escrito </font><font style="vertical-align: inherit;">. Por exemplo, as anota√ß√µes </font></font><code>int</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><code>Order dataclass</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">existe um campo </font></font><code>cost</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com anota√ß√£o </font></font><code>int</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) no modelo do Django correspondem </font></font><code>integer field</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√† op√ß√£o </font></font><code>nullable="true"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Aqui ele vai </font></font><code>dataclass</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">oferecer para adicionar </font></font><code>optional</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font><code>dataclass</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ou remover</font></font><code>nullable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de </font></font><code>field</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Atrav√©s dos mapeadores, voc√™ pode adicionar fun√ß√µes que leem ou escrevem algo. Leitores s√£o fun√ß√µes que recebem um agregado na entrada e retornam uma refer√™ncia a ele. Os escritores fazem o oposto - as unidades de retorno. Sob o cap√¥, por exemplo, pode haver uma solicita√ß√£o ao banco de dados atrav√©s do Django. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Defini√ß√µes do Swagger</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> As mesmas opera√ß√µes podem ser realizadas com microsservi√ßos. Voc√™ pode escrever uma parte do esquema de arrog√¢ncia nelas e verificar quanto o esquema de arrog√¢ncia de um servi√ßo espec√≠fico corresponde aos seus modelos de dom√≠nio. Al√©m disso, a solicita√ß√£o retornada da biblioteca Request ser√° traduzida de forma transparente para </font></font><code>dataclass</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<img src="https://habrastorage.org/webt/sk/2k/rv/sk2krveeieqjqkd5gmcn1hxettc.png"><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Consultas GraphQL.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> GraphQL e microsservi√ßos: o esquema de tipo de interface GraphQL funciona bem contra</font></font><code>dataclass</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Voc√™ pode converter consultas espec√≠ficas do GraphQL em estruturas de dados internas. </font></font><br>
<img src="https://habrastorage.org/webt/th/om/j0/thomj0ho9pgvu-n8_w7uhkvlmz4.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por que se preocupar com o modelo de dados interno de alto n√≠vel dentro do aplicativo? Para ilustrar o "porqu√™", contarei uma hist√≥ria "divertida". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em um de nossos projetos, os soquetes da Web funcionavam atrav√©s do servi√ßo Pusher. N√≥s n√£o nos incomodamos, envolvemos em uma interface para n√£o ligar diretamente. Essa interface foi vinculada a todas as hist√≥rias e foi satisfeita. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas os requisitos de neg√≥cios mudaram. Verificou-se que as garantias que o Pusher fornece para os soquetes da Web n√£o s√£o suficientes. Por exemplo, voc√™ precisa de entrega e hist√≥rico de mensagens garantidos nos √∫ltimos 2 minutos. Portanto, decidimos mudar para o servi√ßo Ably Realtime. Ele tamb√©m tem uma interface - vamos escrever um adaptador e amarr√°-lo em todos os lugares, tudo ser√° √≥timo. Na verdade n√£o.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As abstra√ß√µes que o Pusher usa (argumentos da fun√ß√£o) s√£o capturadas em todos os objetos de neg√≥cios. </font><font style="vertical-align: inherit;">Eu tive que consertar cerca de 100 hist√≥rias e consertar a forma√ß√£o do canal do usu√°rio para o qual estamos enviando alguma coisa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voltar para os testes.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Testes e zombarias</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como voc√™ costuma testar esse comportamento com servi√ßos externos? </font><font style="vertical-align: inherit;">Estamos molhando algo, estamos assistindo como uma biblioteca de terceiros √© chamada, e √© tudo - temos certeza de que est√° tudo bem. </font><font style="vertical-align: inherit;">Mas quando a biblioteca muda, os formatos dos argumentos tamb√©m mudam. </font></font><br>
<img src="https://habrastorage.org/webt/zo/ey/34/zoey341uas00jfbgt0e5nld69ta.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ pode economizar uma semana reescrevendo milhares de testes e centenas de casos de neg√≥cios se testar o comportamento do modelo interno de maneira diferente. </font><font style="vertical-align: inherit;">Por exemplo, algo semelhante ao teste de integra√ß√£o: escrevemos no fluxo do usu√°rio e, j√° dentro do adaptador, Pusher ou Ably, convertemos esse fluxo no nome do canal normal para n√£o gravar tudo na l√≥gica de neg√≥cios.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Depend√™ncias</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nessa arquitetura de modelo, muitas entidades sup√©rfluas aparecem. </font><font style="vertical-align: inherit;">Anteriormente, pegamos algum tipo de fun√ß√£o do Django e a escrevemos: solicita√ß√£o, resposta, movimentos m√≠nimos do corpo. </font><font style="vertical-align: inherit;">Aqui voc√™ precisa inicializar os Mapeadores, colocar Hist√≥rias e inicializar, processar a linha de solicita√ß√£o da solicita√ß√£o HTTP, ver qual resposta dar. </font><font style="vertical-align: inherit;">Tudo isso resulta em 30-50 linhas de clich√™ chamando o c√≥digo Stories dentro do Django-view. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por outro lado, j√° escrevemos interfaces e mapeadores. </font><font style="vertical-align: inherit;">Podemos verificar sua compatibilidade com um caso de neg√≥cios espec√≠fico, por exemplo, usando a biblioteca Dependencies. </font><font style="vertical-align: inherit;">Qu√£o? </font><font style="vertical-align: inherit;">Atrav√©s do padr√£o de inje√ß√£o de depend√™ncia, tudo √© declaradamente colado a um padr√£o m√≠nimo. </font></font><br>
<img src="https://habrastorage.org/webt/w9/_5/th/w9_5thkcuryvswlpy39x8dpkoio.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui indicamos a tarefa de fazer uma aula no pacote de servi√ßos, coloque tr√™s</font></font><code>mappers</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, inicialize o objeto Stories e forne√ßa-o. </font><font style="vertical-align: inherit;">Com essa abordagem, o n√∫mero de clich√™s no c√≥digo √© reduzido enormemente.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mapa de refatora√ß√£o</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Usando tudo o que falei, desenvolvemos um esquema pelo qual reescrevemos um grande projeto a partir de sinais do Django (impl√≠cito "inferno de retorno de chamada") para o Django usando DDD. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O primeiro passo sem DDD</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . No come√ßo, n√£o t√≠nhamos DDD - escrevemos MVP. Quando eles ganharam seu primeiro dinheiro, convidaram investidores e os convenceram a mudar para o DDD. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hist√≥rias sem contratos.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dividimos o projeto em casos de neg√≥cios l√≥gicos sem contratos de dados. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contratos e agregados</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Depois, um por um, arrastamos o contrato de dados para cada modelo que pode ser rastreado em nossa arquitetura. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mapeadores</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Os mapeadores escreveram para se livrar dos modelos de data warehouse. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Inje√ß√£o de depend√™ncia</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Livre-se dos padr√µes de colagem.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se o seu projeto superou o MVP e precisa urgentemente ser alterado na arquitetura para que n√£o caia no legado - observe o DDD.</font></font><br>
<br>
<blockquote>     legacy  Python-,     ,    ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Moscow Python Conf++</a> 27 .    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> </a>        Python       .       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">unconference</a>,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a>,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a>, ,   Drylabs.<br>
<br>
  DDD    Python,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">TechLead Conf</a> ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">    </a>   IT-,    DDD .   8 , Call for Papers   6 .</blockquote></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt487996/index.html">Como drivers de script e m√£es de servidor assumem a TI</a></li>
<li><a href="../pt488000/index.html">Tesla Plaid. Duas op√ß√µes para layout de acionamento com tr√™s motores</a></li>
<li><a href="../pt488002/index.html">O caso de um nerd</a></li>
<li><a href="../pt488006/index.html">No Moscow Python Conf ++, fale com os desenvolvedores da linguagem</a></li>
<li><a href="../pt488008/index.html">Domar a fera: c√≥digo legado, testes e voc√™</a></li>
<li><a href="../pt488012/index.html">Estacionamento para seus contras</a></li>
<li><a href="../pt488014/index.html">9. Introdu√ß√£o ao Fortinet v6.0. Registro e Relat√≥rios</a></li>
<li><a href="../pt488018/index.html">CAPTCHA, caso especial: quebramos uma rede neural com trinta linhas de c√≥digo</a></li>
<li><a href="../pt488020/index.html">Vivaldi 2.11 - Beleza com um toque</a></li>
<li><a href="../pt488024/index.html">Fechaduras consultivas fant√°sticas e onde elas moram</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>