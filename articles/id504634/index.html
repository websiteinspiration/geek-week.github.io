<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩‍👩‍👧‍👧 👨🏽‍🏫 🖐🏼 Kami menulis sistem operasi. Bagian 1. Loader 🥚 👉🏽 🎤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Halo semuanya! Hari ini kita akan menulis bootloader yang akan menampilkan "Hello World" dan menjalankannya di VirtualBox. Kami akan menulis FASM asse...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Kami menulis sistem operasi. Bagian 1. Loader</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/504634/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Halo semuanya! </font><font style="vertical-align: inherit;">Hari ini kita akan menulis bootloader yang akan menampilkan "Hello World" dan menjalankannya di VirtualBox. </font><font style="vertical-align: inherit;">Kami akan menulis FASM assembler. </font><font style="vertical-align: inherit;">Anda dapat mengunduhnya </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dari sini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Kami juga akan membutuhkan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VirtualBox</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UltraISO</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Sebelum menulis kode, kita akan memahami bagaimana sistem operasi memuat.</font></font><br>
<br>
<p></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jadi, ketika kita menekan tombol daya besar di komputer kita, sistem dimulai, yang ada di komputer mana pun - BIOS (Basic Input / Output System atau sistem input / output dasar). </font><font style="vertical-align: inherit;">Tugas BIOS adalah:</font></font></p><p></p><a name="habracut"></a><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Deteksi semua perangkat yang terhubung dan periksa operabilitasnya. </font><font style="vertical-align: inherit;">Program POST (Power On Self Test, power-on self-test) bertanggung jawab untuk ini. </font><font style="vertical-align: inherit;">Jika vital iron tidak terdeteksi, maka speaker sistem (jika ada) akan mencicit sesuatu yang tidak dapat dipahami dan unduhan tidak akan melangkah lebih jauh.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Menyediakan fungsi operasi sistem untuk bekerja dengan perangkat keras. </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Baca sektor pertama dari perangkat booting ke segmen nol RAM pada offset 0x7C00h dan transfer kontrol di sana. </font><font style="vertical-align: inherit;">1 sektor pada disk adalah 512 byte. </font><font style="vertical-align: inherit;">Karena itu, bootloader kami tidak boleh melebihi 512 byte. </font><font style="vertical-align: inherit;">BIOS menentukan bahwa sektor ini dapat di-boot dengan kehadiran 0x55 dan 0xAA dalam dua byte terakhirnya.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang Anda dapat mulai menulis kode. </font><font style="vertical-align: inherit;">Jalankan file FASMW.EXE, yang terletak di arsip dengan FASM, dan masukkan kode berikut di sana:</font></font><br>
<br>
<pre><code class="actionscript hljs">org <span class="hljs-number">7</span>C00h<font></font>
<font></font>
 start:<font></font>
    cli              ;  (   )<font></font>
    xor ax, ax       ;  ax<font></font>
    mov ds, ax       ; dataSegment   <font></font>
    mov es, ax       ;  es   <font></font>
    mov ss, ax       ; StackSegment   <font></font>
    mov sp, <span class="hljs-number">07</span>C00h   ;    <font></font>
    sti              ; <font></font>
<font></font>
  ; <font></font>
  mov ax, <span class="hljs-number">3</span>
  int <span class="hljs-number">10</span>h<font></font>
<font></font>
  mov ah, <span class="hljs-number">2</span>h<font></font>
  mov dh, <span class="hljs-number">0</span>
  mov dl, <span class="hljs-number">0</span><font></font>
  xor bh, bh<font></font>
  int <span class="hljs-number">10</span>h<font></font>
<font></font>
  ; <font></font>
  mov ax, <span class="hljs-number">1301</span>h<font></font>
  mov bp, message<font></font>
  mov cx, <span class="hljs-number">12</span>
  mov bl, <span class="hljs-number">02</span>h<font></font>
  int <span class="hljs-number">10</span>h<font></font>
<font></font>
  jmp $<font></font>
<font></font>
message db <span class="hljs-string">'Hello World!'</span>,<span class="hljs-number">0</span><font></font>
<font></font>
times <span class="hljs-number">510</span> - ($ - $$) db <span class="hljs-number">0</span> ;     <span class="hljs-number">510</span>- <font></font>
db <span class="hljs-number">0x55</span>, <span class="hljs-number">0xAA</span> ;   
</code></pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kode ini membutuhkan sedikit penjelasan. </font><font style="vertical-align: inherit;">Tim</font></font><br>
<br>
<pre><code class="plaintext hljs">org 7C00h</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 kita mengatakan bahwa kode harus dimuat ke dalam RAM pada 0x7C00. </font><font style="vertical-align: inherit;">Dalam antrean</font></font><br>
<br>
<pre><code class="plaintext hljs">  mov ax, 3<font></font>
  int 10h<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
kami mengatur mode video ke 80x25 (80 karakter per baris dan 25 baris) dan dengan demikian menghapus layar.</font></font><br>
<br>
<pre><code class="plaintext hljs">  mov ah, 2h<font></font>
  mov dh, 0<font></font>
  mov dl, 0<font></font>
  xor bh, bh<font></font>
  int 10h</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini kita mengatur kursor. </font><font style="vertical-align: inherit;">Fungsi interupsi 10j 2j bertanggung jawab atas hal ini. </font><font style="vertical-align: inherit;">Dalam register dh kita meletakkan koordinat kursor di Y, dan di register dl di X.</font></font><br>
<br>
<pre><code class="plaintext hljs">  mov ax, 1301h<font></font>
  mov bp, message<font></font>
  mov cx, 12<font></font>
  mov bl, 02h<font></font>
  int 10h</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami mencetak garis. </font><font style="vertical-align: inherit;">Fungsi interupsi 10 jam 13 jam bertanggung jawab untuk ini. </font><font style="vertical-align: inherit;">Dalam register bp kita meletakkan string itu sendiri, di cx mendaftarkan jumlah karakter dalam string, di bl mendaftarkan atribut, dalam kasus kita warna, itu akan menjadi hijau. </font><font style="vertical-align: inherit;">4 bit pertama mempengaruhi warna latar belakang, 4 bit kedua mempengaruhi warna teks. </font><font style="vertical-align: inherit;">Di bawah ini adalah bagan warna</font></font><br>
<br>
<pre><code class="plaintext hljs">0 - , 1 - , 2 - , 3 - , 4 - , 5 - , 6 - , 7 - -, 8 - -, 9 - -, A - -, B - -, C - -, D- -, E - -, F – .</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di barisan</font></font><br>
<br>
<pre><code class="plaintext hljs">jmp $</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Program membeku. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami mengkompilasi kode dengan menekan Ctrl + F9 dan menyimpan file yang dihasilkan sebagai boot.bin.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Meluncurkan</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Luncurkan UltraISO dan seret biner kami ke area khusus (ditandai dengan panah merah). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/92/bm/cj/92bmcjm-xj4clxo-jeonckqpyp0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selanjutnya, klik kanan pada binarink dan tekan tombol dengan tulisan berikut: "Install as boot file". Selanjutnya, simpan file kami dalam format ISO. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Buka VIrtualBox dan buat mesin virtual baru (jika Anda tidak tahu bagaimana melakukan ini, klik di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). Jadi, setelah Anda membuat mesin virtual, klik "Configure, pilih item" Media ", klik" Empty ", di mana" Drive "adalah ikon disk optik. Kami klik dan pilih "Select Optical Disk Image", cari file ISO kami, klik "Open". Kami menyimpan semua pengaturan dan memulai mesin virtual. Our "Hello World!" Muncul di layar.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/x3/m8/qh/x3m8qhqve5i2larphfrcec6sz6g.jpeg"><br>
<br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tentang ini, masalah pertama berakhir. </font><font style="vertical-align: inherit;">Pada bagian selanjutnya, kita akan mengajarkan bootloader kita untuk membaca sektor disk dan mem-boot kernel pertama!</font></font></p></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id504600/index.html">Apa yang menunggu maskapai setelah krisis: pendapat Warren Buffett</a></li>
<li><a href="../id504602/index.html">Telemetría → metrik bebas tegangan</a></li>
<li><a href="../id504604/index.html">Apa yang terjadi di pasar layanan video saat ini?</a></li>
<li><a href="../id504612/index.html">Anda Mungkin Tidak Perlu Langsing Untuk Mengurangi JavaScript Anda</a></li>
<li><a href="../id504622/index.html">Apa yang menjadikan Rust bahasa pemrograman universal</a></li>
<li><a href="../id504638/index.html">Shopify: siapa yang mewawancarai saya untuk posisi Staff Engineer? Muda?</a></li>
<li><a href="../pt486176/index.html">Memorando de correspondência por e-mail corporativo</a></li>
<li><a href="../pt486178/index.html">FOSS News No. 1 - revisão de notícias gratuitas e de código aberto de 27 de janeiro a 2 de fevereiro de 2020</a></li>
<li><a href="../pt486180/index.html">Dicas e fontes para criar aplicativos sem servidor</a></li>
<li><a href="../pt486184/index.html">Como usar a pesquisa efetivamente</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>