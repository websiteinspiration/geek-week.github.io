<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèôÔ∏è üßëüèø ü§òüèª Magento 2: Critical CSS ‚òÑÔ∏è üé≥ „äôÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article, we will look at how to configure and enable critical css in Magento 2.
 
 What are you, critical css?
 Both HTML and CSS slow down pa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Magento 2: Critical CSS</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/505280/"><img src="https://habrastorage.org/webt/-6/ys/4b/-6ys4becktoonoqh09e0w9xm8sm.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In this article, we will look at how to configure and enable critical css in Magento 2.</font></font><br>
<br>
<b><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">What are you, critical css?</font></font></h3></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Both HTML and CSS slow down page output. An HTML document needs to be processed to create a DOM model, without which there will be no content on the page. The CSS document must first be loaded and then processed (CSS Object Model). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To speed up the process, you need to simplify CSS and use media queries. Critical css also contributes to performance improvements. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As we said above, all CSS styles loaded from external files are treated as rendering blocking. This means that the web page will not be displayed until these files are downloaded. Using critical css, we provide the ‚Äúcritical CSS‚Äù built into and make loading all other styles asynchronous. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Asynchronous loading is achieved by adding a new </font><b><font style="vertical-align: inherit;">preload</font></b><font style="vertical-align: inherit;"> directive</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">to the rel attribute </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To support the cross-browser rel = "preload", Magento uses a polyfill. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
An important feature, the ‚Äúcritical css‚Äù includes only the visible part of the page.</font></font><br>
<a name="habracut"></a><br>
<img src="https://habrastorage.org/webt/vz/wp/o2/vzwpo2lqegyvoemz1lnid1mrbe8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Thus, we can significantly improve the time of the "first" display of our pages.</font></font><br>
<br>
<b><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How to turn it on?</font></font></h3></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Stores - Settings - Configuration - Advanced - Developer </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Advanced</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tab </font><b><font style="vertical-align: inherit;">is available only in the developer mode</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Set </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Use CSS critical path</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> to yes </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Or use the command line: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bin / magento config: set dev / css / use_css_critical_path 1</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Critical CSS must be located in app / design / frontend / </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vendor_name / theme_name / theme_name</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> /web/css/critical.css</font></font><br>
<br>
<img src="https://habrastorage.org/webt/9n/mn/yq/9nmnyqngr6ocecpedifofuux78k.jpeg"><br>
<br>
<b><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How to generate?</font></font></h3></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The completely manual creation process is quite time-consuming and time-consuming. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can use generators such as Penthouse or Critical to create critical CSS for your theme. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Or turn to a fairly good online resource. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/jc/qc/z2/jcqcz2nrr1rtquwtidnnqvsy-1e.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It is necessary to insert the url address to the resource in field (1), and insert css, which is used on the site, and click on the Create button in field (2). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xf/8b/xj/xf8bxjyxhfb4mrc-sz91luaddcm.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As a result, we will get the generated and minified critical css. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/t2/zp/3g/t2zp3g2ytabldlmvqkvlslm9res.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Part of the manual work, of course, you will have to:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Checking and adjusting the generated critical css</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Do not forget, also, that critical.css in Magento is one for all pages, so it is important not to forget about the listing, product page, registration page and login</font></font></li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en505264/index.html">As I wrote the html parser in php, and what came of it. Part one</a></li>
<li><a href="../en505268/index.html">Personal experience: from frontend developer to leader</a></li>
<li><a href="../en505274/index.html">Deadly sins of site security: what we learned from the vulnerability scanner statistics for the year</a></li>
<li><a href="../en505276/index.html">How we taught ABBYY FineReader PDF to edit whole paragraphs</a></li>
<li><a href="../en505278/index.html">39 abbreviations in English for beginner marketers and seoshnikov</a></li>
<li><a href="../en505284/index.html">wxpython Availability is even more affordable.</a></li>
<li><a href="../en505286/index.html">20% of the population with PTSD (post-traumatic stress disorder) after self-isolation and quarantine?</a></li>
<li><a href="../en505292/index.html">DATA VAULT Data Showcases</a></li>
<li><a href="../en505296/index.html">Koyaaniskatsi processor unit: Difficult to pronounce, easier to program</a></li>
<li><a href="../en505298/index.html">Flight of Crew Dragon in photos and video</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>