<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üõï üèéÔ∏è ü•É Travaux pratiques avec FPGA dans l'ensemble de Redd. Ma√Ætriser le DMA pour le bus Avalon-ST et basculer entre les bus Avalon-MM üöä üíâ üí†</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nous continuons d'√©voluer vers la cr√©ation de vrais appareils bas√©s sur le complexe Redd FPGA. Pour un autre projet All-Hardware, j'ai besoin d'un sim...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Travaux pratiques avec FPGA dans l'ensemble de Redd. Ma√Ætriser le DMA pour le bus Avalon-ST et basculer entre les bus Avalon-MM</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/500016/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous continuons d'√©voluer vers la cr√©ation de vrais appareils bas√©s sur le complexe Redd FPGA. </font><font style="vertical-align: inherit;">Pour un autre projet All-Hardware, j'ai besoin d'un simple analyseur logique, nous allons donc aller dans cette direction. </font><font style="vertical-align: inherit;">Heureusement - et acc√©dez √† l'analyseur de bus USB (mais c'est toujours √† long terme). </font><font style="vertical-align: inherit;">Le c≈ìur de tout analyseur est la RAM et une unit√© qui t√©l√©charge d'abord les donn√©es et les r√©cup√®re ensuite. </font><font style="vertical-align: inherit;">Aujourd'hui, nous allons le concevoir. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour ce faire, nous ma√Ætriserons le bloc DMA. </font><font style="vertical-align: inherit;">En g√©n√©ral, le DMA est mon sujet pr√©f√©r√©. </font><font style="vertical-align: inherit;">J'ai m√™me fait un excellent </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">article sur le DMA sur certains contr√¥leurs ARM</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">De cet article, il est clair que le DMA prend des cycles d'horloge du bus. </font><font style="vertical-align: inherit;">Dans l'article actuel, nous examinerons comment les choses se passent avec le syst√®me de processeur bas√© sur FPGA.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/cg/77/ve/cg77velzruiaao4svcvahmuumse.png"><br>
<a name="habracut"></a><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Articles du cycle pr√©c√©dent</font></font></b>
                        <div class="spoiler_text"><ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√©veloppement du ¬´firmware¬ª le plus simple pour les FPGA install√©s dans Redd, et d√©bogage en utilisant le test de m√©moire comme exemple.</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">  ¬´¬ª  ,   Redd.  2.  .</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">          .</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">     Redd     .</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">              Redd.</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> ,       .</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">    Redd.  1:  .</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">    Redd.  2:      .</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">  :        .</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">    Redd,    FTDI</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">     Redd</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">       Redd</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> USB-  Windows 10   </a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">   Nios II    Nios II</a></li>
</ol><br>
</div>
                    </div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cr√©ation de mat√©riel</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous commen√ßons √† cr√©er le mat√©riel. Afin de comprendre comment le bloc DMA entre en conflit au cours des cycles d'horloge, nous devrons effectuer des mesures pr√©cises √† haute charge sur le bus Avalon-MM (Avalon Memory-Mapped). Nous avons d√©j√† </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d√©couvert</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que le pont Altera JTAG-Avalon-MM ne peut pas fournir des charges de bus √©lev√©es. Par cons√©quent, nous devons aujourd'hui ajouter un c≈ìur de processeur au syst√®me afin qu'il acc√®de au bus √† grande vitesse. La proc√©dure √† suivre a √©t√© d√©crite </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Par souci d'optimalit√©, d√©sactivons les deux caches pour le c≈ìur du processeur, mais cr√©ons un bus fortement connect√©, comme nous l'avons fait </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<img src="https://habrastorage.org/webt/4z/a8/xx/4za8xxe_btr14mdgfjmzhpwxusi.png"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ajoutez 8 kilo-octets de m√©moire de programme et de m√©moire de donn√©es. N'oubliez pas que la m√©moire doit √™tre √† double port et avoir une adresse dans une plage sp√©ciale (pour l'emp√™cher de sauter, verrouillez-la, nous en avons discut√© les raisons </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br>
 <br>
<img src="https://habrastorage.org/webt/kp/km/3v/kpkm3vhuov70qf9zgfl89njhqum.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons d√©j√† cr√©√© le projet mille fois, il n'y a donc rien de particuli√®rement int√©ressant dans le processus de cr√©ation lui-m√™me (au contraire, toutes les √©tapes pour le cr√©er sont d√©crites </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La base est pr√™te. Maintenant, nous avons besoin d'une source de donn√©es que nous mettrons en m√©moire. L'id√©al est une minuterie qui tourne constamment. Si pendant une certaine mesure le bloc DMA n'a pas pu traiter les donn√©es, nous le verrons imm√©diatement par la valeur manquante. Eh bien, c'est-√†-dire que si en m√©moire il y a des valeurs 1234 et 1236, cela signifie que sur l'horloge, lorsque le temporisateur a √©mis 1235, le bloc DMA n'a pas transf√©r√© de donn√©es. Cr√©er un fichier</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Timer_ST.sv</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> avec un compteur aussi simple:</font></font><br>
<br>
<pre><code class="plaintext hljs">module Timer_ST (<font></font>
  input              clk,<font></font>
  input              reset,<font></font>
	<font></font>
  input  logic       source_ready,<font></font>
  output logic       source_valid,<font></font>
  output logic[31:0] source_data<font></font>
	<font></font>
);<font></font>
    logic [31:0] counter;<font></font>
    always @ (posedge clk, posedge reset)<font></font>
    if (reset == 1)<font></font>
    begin<font></font>
        counter &lt;= 0;<font></font>
    end else<font></font>
    begin<font></font>
        counter &lt;= counter + 1;<font></font>
    end<font></font>
<font></font>
    assign source_valid = 1;<font></font>
    assign source_data [31:24] = counter [7:0];<font></font>
    assign source_data [23:16] = counter [15:8];<font></font>
    assign source_data [15:8] = counter [23:16];<font></font>
    assign source_data [7:0] = counter [31:24];<font></font>
<font></font>
endmodule<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce compteur est comme un pionnier: il est toujours pr√™t (√† la sortie </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">source_valid est</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> toujours un) et il compte toujours (sauf pour les moments de l'√©tat reset). </font><font style="vertical-align: inherit;">Pourquoi le module a exactement ces signaux - nous avons discut√© </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dans cet article</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous cr√©ons maintenant notre propre composant (comment cela se fait est d√©crit </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">Automation a choisi par erreur le bus Avalon_MM pour nous. </font><font style="vertical-align: inherit;">Remplacez-le par </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">avalon_streaming_source</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font><b><font style="vertical-align: inherit;">mappez</font></b><font style="vertical-align: inherit;"> les signaux comme indiqu√© ci-dessous: </font></font><br>
 <br>
<img src="https://habrastorage.org/webt/to/u1/fb/tou1fbktluymact4id-sxeca5qq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Excellent. </font><font style="vertical-align: inherit;">Ajoutez notre composant au syst√®me. </font><font style="vertical-align: inherit;">Maintenant, nous recherchons le bloc DMA ... Et nous n'en trouvons pas un, mais trois. </font><font style="vertical-align: inherit;">Tous sont d√©crits dans le document </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Embedded Peripheral IP User Guide</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> d'Altera (comme toujours, je donne des noms, mais pas des liens, car les liens changent toujours).</font></font><br>
 <br>
<img src="https://habrastorage.org/webt/0q/a9/lo/0qa9lo90au55qrl5-02u3py-bb8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lequel utiliser? Je ne r√©siste pas √† la nostalgie. En 2012, j'ai cr√©√© un syst√®me bas√© sur le bus PCIe. Tous les manuels d'Altera contenaient un exemple bas√© sur le premier de ces blocs. Mais lui avec le composant PCIe a donn√© une vitesse ne d√©passant pas 4 m√©gaoctets par seconde. √Ä cette √©poque, j'ai crach√© et √©crit mon bloc DMA. Maintenant, je ne me souviens pas de sa vitesse, mais il a conduit les donn√©es des disques SATA √† la limite des capacit√©s des disques et SSD de l'√©poque. Autrement dit, j'ai aiguis√© une dent sur ce bloc. Mais je ne glisserai pas dans une comparaison des trois blocs. Le fait est qu'aujourd'hui nous devons travailler avec une source bas√©e sur Avalon-ST (Avalon Streaming Interface), et seul le bloc </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DMA Modular Scatter-Gather</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> prend en charge ces sources </font><font style="vertical-align: inherit;">. Ici, nous le mettons sur le diagramme. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans les param√®tres de blocage, s√©lectionnez le mode</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Streaming vers la m√©moire mapp√©e</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . De plus - je veux conduire les donn√©es du lancement au remplissage de la SDRAM, j'ai donc remplac√© l'unit√© de transfert de donn√©es maximale de 1 kilo-octet √† 4 m√©gaoctets. Certes, on m'a pr√©venu qu'√† la fin, le param√®tre FMax ne sera pas aussi chaud (m√™me si vous remplacez le bloc maximum par 2 kilo-octets). Mais pour aujourd'hui, FMax est acceptable (104 MHz), puis nous le d√©couvrirons. J'ai laiss√© les param√®tres restants inchang√©s. Vous pouvez √©galement d√©finir le mode de transmission sur Full Word Access Only, ce qui augmentera FMax √† 109 MHz. Mais nous ne nous battrons pas pour la performance aujourd'hui.</font></font><br>
 <br>
<img src="https://habrastorage.org/webt/u6/1y/8-/u61y8-h-wpei03u3xgkjsjtuurs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Donc. La source est, DMA est. R√©cepteur ... SDRAM? Dans les futures conditions de combat, oui. Mais aujourd'hui, nous avons besoin d'une m√©moire aux caract√©ristiques connues. Malheureusement, la SDRAM doit envoyer p√©riodiquement des commandes qui prennent plusieurs cycles d'horloge, et cette m√©moire peut √™tre occup√©e par la r√©g√©n√©ration. Par cons√©quent, au lieu de cela, nous allons maintenant utiliser la m√©moire FPGA int√©gr√©e. Tout fonctionne pour elle en une seule √©tape, sans retards impr√©visibles.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√âtant donn√© que le contr√¥leur SDRAM est √† port unique, la m√©moire int√©gr√©e peut √©galement √™tre utilis√©e exclusivement en mode port unique. C'est important. Le fait est que nous voulons √©crire dans la m√©moire √† l'aide du ma√Ætre de bloc DMA, mais d'un autre c√¥t√©, nous voulons lire √† partir de cette m√©moire en utilisant le c≈ìur du processeur ou le bloc Altera JTAG-to-Avalon-MM. La main tend la main et connecte les blocs d‚Äô√©criture et de lecture √† deux ports diff√©rents ... Mais vous ne pouvez pas! Il est plut√¥t interdit par les conditions du probl√®me. Parce qu'aujourd'hui c'est possible, mais demain nous remplacerons la m√©moire par une m√©moire exclusivement √† port unique. En g√©n√©ral, nous obtenons un tel bloc de trois composants (minuterie, DMA et m√©moire):</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vb/ws/rv/vbwsrvdbjsns34syktoliarkudy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eh bien, et juste pour le proforma, je vais ajouter UT et sysid au syst√®me JTAG (bien que le second n'a pas aid√©, je devais encore le conjurer avec un adaptateur JTAG). </font><font style="vertical-align: inherit;">Ce que c'est et comment leur ajout r√©sout de petits probl√®mes, nous avons d√©j√† √©tudi√©. </font><font style="vertical-align: inherit;">Je ne teinterai pas les pneus, tout est clair avec eux. </font><font style="vertical-align: inherit;">Montrez simplement √† quoi tout cela ressemble dans mon projet: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/t5/xk/qv/t5xkqv474idlwer3fnklkz5whbs.png"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
c'est tout. </font><font style="vertical-align: inherit;">Le syst√®me est pr√™t. </font><font style="vertical-align: inherit;">Nous attribuons des adresses, attribuons des vecteurs de processeur, g√©n√©rons un syst√®me (n'oubliez pas que vous devez enregistrer avec le m√™me nom que le projet lui-m√™me, puis il ira au niveau sup√©rieur de la hi√©rarchie), l'ajouter au projet. </font><font style="vertical-align: inherit;">Rendez la jambe de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r√©initialisation</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> virtuelle, connectez </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">clk</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √† la jambe </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pin_25</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Nous assemblons le projet, le versons dans le mat√©riel ... Comment est-il, pauvre chose, dans le bureau vide √† cause de la distance totale? ... C'est solitaire et effrayant pour elle, probablement, seul ... Mais j'√©tais distrait.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cr√©ation d'une partie logicielle</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Entra√Ænement</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans l'√©diteur BSP avec le mouvement habituel de la main, j'active le support C ++. </font><font style="vertical-align: inherit;">J'ai si souvent ins√©r√© une capture d'√©cran de cette affaire que j'arr√™te de le faire. </font><font style="vertical-align: inherit;">Mais une autre capture d'√©cran, bien qu'elle ait d√©j√† √©t√© vue, est toujours aussi courante. </font><font style="vertical-align: inherit;">Alors discutons-en une fois de plus. </font><font style="vertical-align: inherit;">Nous nous souvenons que le syst√®me essaie de mettre les donn√©es dans la plus grande m√©moire. </font><font style="vertical-align: inherit;">Et tel est </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Buffer</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Par cons√©quent, nous for√ßons tout sur les </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">donn√©es</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ck/ge/g_/ckgeg_tcmcuz0oa8retrmdrfiiw.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exp√©rience de programme</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous faisons un code qui remplit simplement la m√©moire avec le contenu de la source (dans le r√¥le du compteur).</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Afficher le code</font></font></b>
                        <div class="spoiler_text"><pre><code class="plaintext hljs">#include "sys/alt_stdio.h"<font></font>
#include &lt;altera_msgdma.h&gt;<font></font>
#include &lt;altera_msgdma_descriptor_regs.h&gt;<font></font>
#include &lt;system.h&gt;<font></font>
#include &lt;string.h&gt;<font></font>
<font></font>
int main()<font></font>
{ <font></font>
  alt_putstr("Hello from Nios II!\n");<font></font>
<font></font>
  memset (BUFFER_BASE,0,BUFFER_SIZE_VALUE);<font></font>
<font></font>
  //  ,   <font></font>
  IOWR_ALTERA_MSGDMA_CSR_CONTROL(MSGDMA_0_CSR_BASE,<font></font>
      ALTERA_MSGDMA_CSR_STOP_DESCRIPTORS_MASK);<font></font>
<font></font>
  //   ,      ,<font></font>
  //    ,   .  .<font></font>
<font></font>
  //    FIFO<font></font>
  IOWR_ALTERA_MSGDMA_DESCRIPTOR_READ_ADDRESS(MSGDMA_0_DESCRIPTOR_SLAVE_BASE,<font></font>
      (alt_u32)0);<font></font>
  IOWR_ALTERA_MSGDMA_DESCRIPTOR_WRITE_ADDRESS(MSGDMA_0_DESCRIPTOR_SLAVE_BASE,<font></font>
      (alt_u32)BUFFER_BASE);<font></font>
  IOWR_ALTERA_MSGDMA_DESCRIPTOR_LENGTH(MSGDMA_0_DESCRIPTOR_SLAVE_BASE,<font></font>
      BUFFER_SIZE_VALUE);<font></font>
  IOWR_ALTERA_MSGDMA_DESCRIPTOR_CONTROL_STANDARD(MSGDMA_0_DESCRIPTOR_SLAVE_BASE,<font></font>
      ALTERA_MSGDMA_DESCRIPTOR_CONTROL_GO_MASK);<font></font>
<font></font>
   //  ,    <font></font>
   IOWR_ALTERA_MSGDMA_CSR_CONTROL(MSGDMA_0_CSR_BASE,<font></font>
       ALTERA_MSGDMA_CSR_STOP_ON_ERROR_MASK<font></font>
       &amp; (~ALTERA_MSGDMA_CSR_STOP_DESCRIPTORS_MASK)<font></font>
       &amp;(~ALTERA_MSGDMA_CSR_GLOBAL_INTERRUPT_MASK)) ;<font></font>
<font></font>
<font></font>
   //   <font></font>
   static const alt_u32 errMask = ALTERA_MSGDMA_CSR_STOPPED_ON_ERROR_MASK |<font></font>
           ALTERA_MSGDMA_CSR_STOPPED_ON_EARLY_TERMINATION_MASK |<font></font>
           ALTERA_MSGDMA_CSR_STOP_STATE_MASK |<font></font>
           ALTERA_MSGDMA_CSR_RESET_STATE_MASK;<font></font>
<font></font>
  volatile alt_u32 status;<font></font>
  do<font></font>
  {<font></font>
     status = IORD_ALTERA_MSGDMA_CSR_STATUS(MSGDMA_0_CSR_BASE);<font></font>
  } while (!(status &amp; errMask) &amp;&amp;(status &amp; ALTERA_MSGDMA_CSR_BUSY_MASK));     <font></font>
<font></font>
  alt_putstr("You can play with memory!\n");<font></font>
<font></font>
  /* Event loop never exits. */<font></font>
  while (1);<font></font>
<font></font>
  return 0;<font></font>
}<font></font>
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
On commence, on attend le message </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Tu peux jouer avec la m√©moire!"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mettre le programme en pause et regarder la m√©moire, √† partir de l'adresse 0. Au d√©but, j'avais tr√®s peur: √† </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rw/yd/kb/rwydkbfypprtgoj5wspybiq3sv8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
partir de l'adresse 0x80, le compteur change brusquement sa valeur. De plus, une tr√®s grande quantit√©. Mais il s'est av√©r√© que tout allait bien. Chez nous, le compteur ne s'arr√™te jamais et est toujours pr√™t, et DMA a sa propre file d'attente de lecture anticip√©e. Permettez-moi de vous rappeler les param√®tres du bloc DMA:</font></font><br>
 <br>
<img src="https://habrastorage.org/webt/ty/hk/-6/tyhk-610qcr5r-jpmrr2dnxz4wg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
0x80 octets sont des mots de trente-deux bits 0x20. </font><font style="vertical-align: inherit;">Seulement 32 d√©cimales. </font><font style="vertical-align: inherit;">Tout s'embo√Æte. </font><font style="vertical-align: inherit;">Dans des conditions de d√©bogage, ce n'est pas effrayant. </font><font style="vertical-align: inherit;">Dans des conditions de combat, la source fonctionnera plus correctement (sa disponibilit√© sera r√©initialis√©e). </font><font style="vertical-align: inherit;">Par cons√©quent, nous ignorons simplement cette section. </font><font style="vertical-align: inherit;">Dans d'autres r√©gions, le compteur compte s√©quentiellement. </font><font style="vertical-align: inherit;">Je ne montrerai que le fragment de vidage en largeur. </font><font style="vertical-align: inherit;">Prenez un mot que je l'ai examin√© dans son int√©gralit√©. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pw/hg/eq/pwhgeqyxbian3_fg-m46yliilrk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ne me faisant pas confiance, j'ai √©crit un code qui v√©rifie automatiquement les donn√©es:</font></font><br>
<br>
<pre><code class="plaintext hljs">  volatile alt_u32* pData = (alt_u32*)BUFFER_BASE;<font></font>
  volatile alt_u32 cur = pData[0x10];<font></font>
  int nLine = 0;<font></font>
  for (volatile int i=0x11;i&lt;BUFFER_SIZE_VALUE/4;i++)<font></font>
  {<font></font>
	  if (pData[i]!=cur+1)<font></font>
	  {<font></font>
		  alt_printf("Problem at 0x%x\n",i*4);<font></font>
		  if (nLine++ &gt; 10)<font></font>
		  {<font></font>
			  break;<font></font>
		  }<font></font>
	  }<font></font>
	  cur = pData[i];<font></font>
  }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il ne r√©v√®le √©galement aucun probl√®me.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Essayer de trouver au moins quelques probl√®mes</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En fait, l'absence de probl√®mes n'est pas toujours bonne. </font><font style="vertical-align: inherit;">Dans le cadre de l'article, j'avais besoin de trouver les probl√®mes, puis de montrer comment ils sont r√©solus. </font><font style="vertical-align: inherit;">Apr√®s tout, les probl√®mes sont √©vidents. </font><font style="vertical-align: inherit;">Un bus occup√© ne peut pas transmettre de donn√©es sans retards! </font><font style="vertical-align: inherit;">Il devrait y avoir des retards! </font><font style="vertical-align: inherit;">Mais v√©rifions pourquoi tout se passe si bien. </font><font style="vertical-align: inherit;">Tout d'abord, il peut s'av√©rer que le tout se trouve dans la FIFO du bloc DMA. </font><font style="vertical-align: inherit;">R√©duisez leur taille au minimum: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/z3/vm/9i/z3vm9igmqgqcgynhiyzu-9dr7ss.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
tout continue de fonctionner! </font><font style="vertical-align: inherit;">Bien. </font><font style="vertical-align: inherit;">Assurez-vous que nous provoquons un nombre d'acc√®s au bus sup√©rieur √† la dimension FIFO. </font><font style="vertical-align: inherit;">Ajoutez un compteur d'acc√®s:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fa/f4/iq/faf4iqvpkc4ezbvhdz4uhpnrbjo.png"><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√™me texte:</font></font></b>
                        <div class="spoiler_text"><pre><code class="plaintext hljs">  volatile alt_u32 status;<font></font>
  volatile int n = 0;<font></font>
  do<font></font>
  {<font></font>
	  status = IORD_ALTERA_MSGDMA_CSR_STATUS(MSGDMA_0_CSR_BASE);<font></font>
	  n += 1;<font></font>
  } while (!(status &amp; errMask) &amp;&amp;(status &amp; ALTERA_MSGDMA_CSR_BUSY_MASK));  <font></font>
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä la fin du travail, il est de 29. C'est plus de 16. Autrement dit, le FIFO devrait d√©border. </font><font style="vertical-align: inherit;">Juste au cas o√π, ajoutons plus de lectures de registre d'√©tat. </font><font style="vertical-align: inherit;">N'aide pas. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avec chagrin, je me suis d√©connect√© du complexe distant de Redd, j'ai refait le projet sur ma maquette existante, √† laquelle je peux me connecter avec un oscilloscope en ce moment (au bureau, personne n'est √† distance, je ne peux pas atteindre l'oscilloscope). </font><font style="vertical-align: inherit;">Ajout de deux ports √† la minuterie:</font></font><br>
<br>
<pre><code class="plaintext hljs">   output    clk_copy,<font></font>
   output    ready_copy<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et les a nomm√©s:</font></font><br>
<br>
<pre><code class="plaintext hljs">    assign clk_copy = clk;<font></font>
    assign ready_copy = source_ready;<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En cons√©quence, le module a commenc√© √† ressembler √† ceci:</font></font><br>
<br>
<pre><code class="plaintext hljs">module Timer_ST (<font></font>
   input           clk,<font></font>
   input           reset,<font></font>
	<font></font>
   input logic     source_ready,<font></font>
   output logic    source_valid,<font></font>
   output logic[31:0] source_data,<font></font>
<font></font>
   output    clk_copy,<font></font>
   output    ready_copy<font></font>
	<font></font>
);<font></font>
    logic [31:0] counter;<font></font>
    always @ (posedge clk, posedge reset)<font></font>
    if (reset == 1)<font></font>
    begin<font></font>
        counter &lt;= 0;<font></font>
    end else<font></font>
    begin<font></font>
        counter &lt;= counter + 1;<font></font>
    end<font></font>
<font></font>
    assign source_valid = 1;<font></font>
    assign source_data [31:24] = counter [7:0];<font></font>
    assign source_data [23:16] = counter [15:8];<font></font>
    assign source_data [15:8] = counter [23:16];<font></font>
    assign source_data [7:0] = counter [31:24];<font></font>
<font></font>
    assign clk_copy = clk;<font></font>
    assign ready_copy = source_ready;<font></font>
<font></font>
endmodule<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä la maison, j'ai un mod√®le plus petit avec un cristal, j'ai donc d√ª r√©duire l'app√©tit de la m√©moire. Et il s'est av√©r√© que mon programme primitif ne rentrerait pas dans une section de 4 kilo-octets. Donc, le sujet soulev√© </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dans le dernier article</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est, oh, combien pertinent. M√©moire dans le syst√®me - √† peine suffisante! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque le d√©but du programme, nous obtenons un </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pr√™t</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> vague de </font><font style="vertical-align: inherit;">16 ou 17 mesures. Il est rempli avec le FIFO du bloc DMA. Le m√™me effet qui m'a fait peur au d√©but. Ce sont ces donn√©es qui formeront le tr√®s faux remplissage du tampon. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/i6/wy/-a/i6wy-a4xsnbwej_o9indj_plneg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, nous avons une belle image √† 40960 nanosecondes, soit 2048 cycles (avec un cristal domestique, le tampon a d√ª √™tre r√©duit √† 8 kilo-octets, soit 2048 mots de trente-deux bits). Voici son d√©but: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/9h/c5/1d/9hc51dpo8ur2_1whymyreqkvzre.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici la fin:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/5l/3y/le/5l3ylew4zpty3b9xf6bn_zjunlc.png"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eh bien, et tout au long - pas un seul √©chec. </font><font style="vertical-align: inherit;">Non, il √©tait clair que cela arriverait, mais il y avait de l'espoir ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Peut-√™tre devrions-nous essayer d'√©crire sur le bus, et pas seulement de le lire? </font><font style="vertical-align: inherit;">J'ai ajout√© un bloc GPIO au syst√®me: y ai ajout√© </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rj/lg/o8/rjlgo8iyaj30cxjr8jhkc1njap4.png"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
une entr√©e en attendant d'√™tre pr√™t:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/j4/ci/vp/j4civpmja0ccaz_9qinqqc247wu.png"><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√™me texte</font></font></b>
                        <div class="spoiler_text"><pre><code class="plaintext hljs">  volatile alt_u32 status;<font></font>
  volatile int n = 0;<font></font>
  do<font></font>
  {<font></font>
	status = IORD_ALTERA_MSGDMA_CSR_STATUS(MSGDMA_0_CSR_BASE);<font></font>
       IOWR_ALTERA_AVALON_PIO_DATA (PIO_0_BASE,0x01);<font></font>
       IOWR_ALTERA_AVALON_PIO_DATA (PIO_0_BASE,0x00);<font></font>
<font></font>
       n += 1;<font></font>
  } while (!(status &amp; errMask) &amp;&amp;(status &amp; ALTERA_MSGDMA_CSR_BUSY_MASK));  <font></font>
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il n'y a aucun probl√®me et c'est tout! </font><font style="vertical-align: inherit;">Qui est √† bl√¢mer?</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il n'y a pas de miracles, mais il y a des choses inexplor√©es</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Qui est √† bl√¢mer? Avec peine, j'ai commenc√© √† √©tudier tous les menus de l'outil </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Platform Designer</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et, semble-t-il </font><font style="vertical-align: inherit;">, j'ai </font><font style="vertical-align: inherit;">trouv√© un indice. √Ä quoi ressemble g√©n√©ralement un pneu? Ensemble de fils auxquels les clients sont connect√©s. Donc? Vraisemblablement. Nous le voyons dans les chiffres de l'√©diteur. Juste, le deuxi√®me objectif de l'article √©tait de montrer comment le bus peut √™tre divis√© en deux segments ind√©pendants, chacun fonctionnant sans interf√©rer avec l'autre. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais regardons les messages qui apparaissent lorsque le syst√®me est g√©n√©r√©. Mettez en surbrillance les mots cl√©s:</font></font><br>
 <br>
<img src="https://habrastorage.org/webt/di/ri/c1/diric1mrzwztjmu2bcw3nrxg5du.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et il y a beaucoup de messages similaires: il est ajout√©, il est ajout√©. Il s'av√®re qu'apr√®s l'√©dition avec des stylos, beaucoup de choses suppl√©mentaires sont ajout√©es au syst√®me. Comment envisagez-vous un sch√©ma dans lequel tout cela est d√©j√† disponible? Je nage toujours dans ce domaine, mais nous pouvons obtenir la r√©ponse la plus probable dans le cadre de l'article en choisissant cet √©l√©ment de menu: L' </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vv/7s/k_/vv7sk_blrrjycf7wfixijjcdzus.png"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
image ouverte est impressionnante en soi, mais je ne la donnerai pas. Et imm√©diatement, </font></font><br>
<br>
<img src="https://habrastorage.org/webt/y-/ub/dv/y-ubdvljrhcecquyc0rg5u5t16e.png"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
je </font><font style="vertical-align: inherit;">s√©lectionne cet onglet: </font><font style="vertical-align: inherit;">Et l√†, nous voyons ce qui suit: Je vais </font></font><br>
<br>
<img src="https://habrastorage.org/webt/18/zk/_9/18zk_94hudf6j0r9lfliuu9wjy8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
afficher plus grand le plus important:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gy/1u/if/gy1uifa4ln0x8_axbm4t9_juypq.png"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les pneus ne sont pas combin√©s! </font><font style="vertical-align: inherit;">Ils sont segment√©s! </font><font style="vertical-align: inherit;">Je ne peux pas le justifier (peut-√™tre que les experts me corrigeront dans les commentaires), mais il semble que le syst√®me ait ins√©r√© les interrupteurs pour nous! </font><font style="vertical-align: inherit;">Ce sont ces commutateurs qui cr√©ent les segments de bus isol√©s, et le syst√®me principal peut fonctionner en parall√®le avec l'unit√© DMA, qui peut actuellement acc√©der √† la m√©moire sans conflit!</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous provoquons de vrais probl√®mes</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ayant re√ßu toutes ces connaissances, nous concluons que nous pouvons tr√®s bien provoquer des probl√®mes. </font><font style="vertical-align: inherit;">Cela est n√©cessaire pour s'assurer que le syst√®me de test peut les cr√©er, ce qui signifie que l'environnement de d√©veloppement les r√©sout vraiment ind√©pendamment. </font><font style="vertical-align: inherit;">Nous ne ferons pas r√©f√©rence aux p√©riph√©riques abstraits sur le bus, mais √† la m√™me m√©moire tampon afin que le bloc </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cmd_mux_005</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> r√©partisse le bus entre le c≈ìur du processeur et le bloc DMA. </font><font style="vertical-align: inherit;">Nous r√©√©crivons la fonction d'attente longue comme ceci:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zm/ww/4n/zmww4n1xt_p-eo_2hqrfufgtmis.png"><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√™me texte</font></font></b>
                        <div class="spoiler_text"><pre><code class="plaintext hljs">  volatile alt_u32 status;<font></font>
  volatile int n = 0;<font></font>
  volatile alt_u32* pBuf = (alt_u32*)BUFFER_BASE;<font></font>
  volatile alt_u32 sum = 0;<font></font>
  do<font></font>
  {<font></font>
	  status = IORD_ALTERA_MSGDMA_CSR_STATUS(MSGDMA_0_CSR_BASE);<font></font>
	  sum += pBuf[n];<font></font>
<font></font>
	  n += 1;<font></font>
  } while (!(status &amp; errMask) &amp;&amp;(status &amp; ALTERA_MSGDMA_CSR_BUSY_MASK));<font></font>
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et enfin, des creux sont apparus sur la forme d'onde! </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vv/po/rc/vvporcmhdl2i9julycbcib6vnfe.png"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La fonction de v√©rification de la m√©moire a √©galement trouv√© beaucoup d'omissions: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xf/pf/8y/xfpf8ytbjo3wqlxsgqprx6eqnj0.png"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oui, et nous voyons tr√®s bien que les donn√©es sont d√©plac√©es d'une ligne √† l'autre: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/eu/eh/uu/euehuuf9rp-ilidebmcy_zsdcuq.png"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et voici un exemple d'un mauvais endroit sp√©cifique (6CCE488F est manquant): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/v_/5e/rj/v_5erjk_wbxw9ujfrhptcxpeudy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, nous voyons que l'exp√©rience a √©t√© effectu√©e correctement, juste l'environnement de d√©veloppement effectu√© optimisation pour nous. </font><font style="vertical-align: inherit;">C'est le cas lorsque je prononce la phrase ¬´Tous intelligemment bless√© tout l'acier¬ª non pas avec moquerie, mais avec gratitude. </font><font style="vertical-align: inherit;">Merci aux d√©veloppeurs Quartus pour cette question!</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons appris √† ins√©rer un bloc DMA dans le syst√®me pour transf√©rer des donn√©es de streaming vers la m√©moire. </font><font style="vertical-align: inherit;">Nous avons √©galement veill√© √† ce que le processus de t√©l√©chargement d'autres appareils sur le bus n'interf√®re pas avec le processus de t√©l√©chargement. </font><font style="vertical-align: inherit;">L'environnement de d√©veloppement cr√©era automatiquement un segment isol√© qui s'ex√©cutera en parall√®le avec d'autres sections du bus. </font><font style="vertical-align: inherit;">Bien s√ªr, si quelqu'un se tourne vers le m√™me segment, les conflits et le temps pass√© √† les r√©soudre sont in√©vitables, mais le programmeur peut tr√®s bien pr√©voir de telles choses. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le prochain article, nous allons remplacer la RAM par un contr√¥leur SDRAM, et le timer par une vraie "t√™te" et faire le premier analyseur logique. </font><font style="vertical-align: inherit;">Est-ce que √ßa va marcher? Je ne sais pas encore. </font><font style="vertical-align: inherit;">J'esp√®re que les probl√®mes n'apparaissent pas.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr500002/index.html">Sp√©cialistes informatiques vs vendeurs: et le monde a craqu√© en deux</a></li>
<li><a href="../fr500008/index.html">Rencontrez des ascendants</a></li>
<li><a href="../fr500010/index.html">Histoire de l'hydrog√®ne sale</a></li>
<li><a href="../fr500012/index.html">Entity Framework Core</a></li>
<li><a href="../fr500014/index.html">La conception enti√®rement r√©active est plus que de simples requ√™tes m√©diatiques</a></li>
<li><a href="../fr500018/index.html">Imitation de dessin √† main lev√©e sur l'exemple de RoughJS</a></li>
<li><a href="../fr500020/index.html">Google Earth Engine - Plate-forme unique d'analyse de grandes g√©odonn√©es</a></li>
<li><a href="../fr500022/index.html">Pourquoi participer √† la vie communautaire et comment cela contribue-t-il √† la croissance professionnelle?</a></li>
<li><a href="../fr500026/index.html">Un non-sens dans cette industrie * tout simplement incroyable</a></li>
<li><a href="../fr500028/index.html">Plateformes de gestion des donn√©es: p√©riph√©rique vers cloud</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>