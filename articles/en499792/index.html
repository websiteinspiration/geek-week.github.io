<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📤 👩🏿 🚪 Load Testing Atlassian Jira, Confluence, Bitbucket Part 1 🛅 🤚🏿 👵🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello everyone! 
 
 I want to share my experience with Atlassian Jira, Confluence and Bitbucket stress testing using the Atlassian dc-app-performance-...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Load Testing Atlassian Jira, Confluence, Bitbucket Part 1</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/499792/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hello everyone! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I want to share my experience with Atlassian Jira, Confluence and Bitbucket stress testing using the Atlassian </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dc-app-performance-toolkit</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This will be a series of articles in which I will not talk about the methodology of load testing, but I will only talk about the technical aspects of load testing using the tool.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you want to learn more about the load testing methodology in the context of Atlassian products, then I talked about this at </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Highload 2018</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So, let's move on to the dc-app-performance-toolkit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This tool allows you to load test Atlassian applications such as Jira, Confluence and Bitbucket. I learned about this tool when I needed to test the Atlassian Jira plug-in for certification on the Data Center, and immediately I liked this tool because I did not have to spend hours setting it up. Everything worked out of the box. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The tool uses </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Taurus</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jmeter</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Selenium</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can use this tool for the following purposes:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">You are developing plugins for the Atlassian Marketplace. In this case, you can use this tool to certify your plug-in for Data Center.</font></font></li>
<li>  Atlassian Jira, Confluence  Bitbucket           , ,      ,         .         .   ,          .      -   .     ,        Atlassian,          Atlassian,  ,  ,     .   ,         .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The steps that you need to perform to test Atlassian Jira, Confluence, and Bitbucket are the same in most cases, so I will do all the work on Atlassian Jira. </font><font style="vertical-align: inherit;">If there are any specific steps for the product, I will mention this.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Installation</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The first thing to do is get a tool with github:</font></font><br>
<br>
<pre><code class="plaintext hljs">git clone https://github.com/atlassian/dc-app-performance-toolkit.git</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And go to the created folder:</font></font><br>
<br>
<pre><code class="plaintext hljs">cd dc-app-performance-toolkit</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Next, you need to install all the dependencies for using the tool. </font><font style="vertical-align: inherit;">You can read how to do this in </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">path_to_dc_app_performance_toolkit / README.md</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configuration files</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Before using the tool, please read the documentation for this tool in the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">path_to_dc_app_performance_toolkit / doc</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> folder </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Here is a brief description of the contents of this folder:</font></font><br>
<br>
<ul>
<li>   3 md  (  Jira,   Confluence    Bitbucket).       ,             Data Center.</li>
<li> : jira, confluence  bitbucket    ,        .</li>
</ul><br>
<br>
<h2>jira.yml</h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Before starting load testing, you need to make changes to the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jira.yml</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ,&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">confluence.yml</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;or&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bitbucket.yml file</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , which are located in the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">path_to_dc_app_performance_toolkit / app</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> folder&nbsp; </font><font style="vertical-align: inherit;">, depending on which product you are going to test. </font><font style="vertical-align: inherit;">These are Taurus configuration files. </font><font style="vertical-align: inherit;">You can read about Taurus </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I will give comments on jira.yml. </font><font style="vertical-align: inherit;">Files for other products are built on the same principle.</font></font><br>
<br>
<pre><code class="kotlin hljs">settings:</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
settings is a section of the Taurus configuration file. </font><font style="vertical-align: inherit;">It contains top-level options for Taurus. </font><font style="vertical-align: inherit;">You can find more information on this section&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="kotlin hljs">  artifacts-dir: results/jira/%Y-%m-%d_%H-%M-%S</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
artifacts-dir - path template that will be used to store load testing artifacts. </font><font style="vertical-align: inherit;">Here is a partial list of artifacts:</font></font><br>
<br>
<ul>
<li><code>bzt.log</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;- the log of the bzt command. </font><font style="vertical-align: inherit;">This command starts load testing.</font></font></li>
<li><code>error_artifacts</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;- a folder for storing screenshots and html tests of Selenium, which ended with errors.</font></font></li>
<li><code>jmeter.err</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;- JMeter log.</font></font></li>
<li><code>kpi.jtl</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;- JMeter testing data.</font></font></li>
<li><code>pytest.out</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;- Selenum test execution log.</font></font></li>
<li><code>selenium.jtl</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;- Selenium testing data.</font></font></li>
<li><code>results.csv</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;- aggregated test results.</font></font></li>
<li><code>jira.yml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;- jira.yml, which was used for testing.</font></font></li>
</ul><br>
<br>
<pre><code class="kotlin hljs">  aggregator: consolidator</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
aggregator - the aggregator that will be used to collect test results and transfer the results to the reporting module. </font><font style="vertical-align: inherit;">You can read more about aggregators </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="kotlin hljs">  verbose: <span class="hljs-literal">false</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
verbose - parameter for launching Taurus in debug mode. </font><font style="vertical-align: inherit;">In our case, we turn off this mode.</font></font><br>
<br>
<pre><code class="kotlin hljs">  env:
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
env allows you to set environment variables. </font><font style="vertical-align: inherit;">You can read more&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="kotlin hljs">    application_hostname: localhost   # Jira DC hostname without protocol and port e.g. test-jira.atlassian.com or localhost<font></font>
    application_protocol: http      # http or https<font></font>
    application_port: <span class="hljs-number">2990</span>            # <span class="hljs-number">80</span>, <span class="hljs-number">443</span>, <span class="hljs-number">8080</span>, <span class="hljs-number">2990</span>, etc<font></font>
    application_postfix: /jira           # e.g. /jira <span class="hljs-keyword">in</span> case of url like http:<span class="hljs-comment">//localhost:2990/jira</span><font></font>
    admin_login: admin<font></font>
    admin_password: admin<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The parameters above contain information about your instance that you are going to test. </font><font style="vertical-align: inherit;">I specified the parameters for the Jira instance, which is located on my computer. </font><font style="vertical-align: inherit;">These parameters will be used in JMeter, Selenium and scripts.</font></font><br>
<br>
<pre><code class="kotlin hljs">    concurrency: <span class="hljs-number">200</span>
    test_duration: <span class="hljs-number">45</span>m
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
These parameters will be passed to the execution section. </font><font style="vertical-align: inherit;">I will explain the meaning of these parameters when they talk about this section.</font></font><br>
<br>
<pre><code class="kotlin hljs">  WEBDRIVER_VISIBLE: <span class="hljs-literal">false</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WEBDRIVER_VISIBLE sets the visibility of the Chrome browser during the execution of Selenium tests. </font><font style="vertical-align: inherit;">We are hiding Chrome.</font></font><br>
<br>
<pre><code class="kotlin hljs"> JMETER_VERSION: <span class="hljs-number">5.2</span><span class="hljs-number">.1</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JMETER_VERSION is the version of JMeter that we will use for testing.</font></font><br>
<br>
<pre><code class="kotlin hljs">    allow_analytics: Yes            # ,        Atlassian.    Atlassian ,   ,   ,       .
</code></pre><br>
<pre><code class="kotlin hljs">services:
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
services - section of the Taurus configuration file. </font><font style="vertical-align: inherit;">Information about which scripts you need to run before starting, after and during the test is indicated here. </font><font style="vertical-align: inherit;">You can read more about this section </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="kotlin hljs">  - module: shellexec
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Shell executor is used to execute scripts. </font></font><br>
<br>
<pre><code class="kotlin hljs">    prepare:<font></font>
      - python util/environment_checker.py<font></font>
      - python util/data_preparation/jira/prepare-<span class="hljs-keyword">data</span>.py<font></font>
    shutdown:<font></font>
      - python util/jmeter_post_check.py<font></font>
      - python util/jtl_convertor/jtls-to-csv.py kpi.jtl selenium.jtl<font></font>
    post-process:<font></font>
      - python util/analytics.py jira<font></font>
      - python util/cleanup_results_dir.py<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Prepare, shutdown and post-process are the stages of the Taurus life cycle. </font><font style="vertical-align: inherit;">You can read more about the Taurus life cycle </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">At each stage, scripts are run. </font><font style="vertical-align: inherit;">These scripts are:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">util / environment_checker.py - checks the version of Python and stops the test if the version is not the same.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">util / data_preparation / jira / prepare-data.py - prepares test data. </font><font style="vertical-align: inherit;">We will talk about this script in detail in the next part.</font></font></li>
<li>util/jmeter_post_check.py – ,    kpi.jtl.     ,  -       JMeter.</li>
<li>util/jtl_convertor/jtls-to-csv.py kpi.jtl selenium.jtl –   results.csv    kpi.jtl  selenium.jtl.  results.csv   .         :    , , 90% ,         .</li>
<li>util/analytics.py jira –    Atlassian.      Atlassian    allow_analytics.</li>
<li>util/cleanup_results_dir.py –   ,      .</li>
</ul><br>
<br>
<pre><code class="kotlin hljs">execution:
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
execution - section of the Taurus configuration file. Contains scripts that will be executed during testing. You can find more information </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="kotlin hljs">  - scenario: jmeter<font></font>
    concurrency: ${concurrency}<font></font>
    hold-<span class="hljs-keyword">for</span>: ${test_duration}<font></font>
    ramp-up: <span class="hljs-number">3</span>m
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
These are the script execution options for JMeter. You can find more information&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
concurrency is the number of virtual users. This parameter means how many concurrent users JMeter will simulate. In our case, we simulate 200 simultaneously working users. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ramp-up - test overclocking time. We will go to 200 simultaneously working users gradually. In our case, we will reach 200 simultaneously working users in 3 minutes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
hold-for - duration of the test after reaching a given number of concurrent users in the concurrency parameter.</font></font><br>
<br>
<pre><code class="kotlin hljs">  - scenario: selenium<font></font>
    executor: selenium<font></font>
    runner: pytest<font></font>
    hold-<span class="hljs-keyword">for</span>: ${test_duration}
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selenium test execution options. </font><font style="vertical-align: inherit;">You can find more information&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
executor - Selenium. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
runner - tests will be carried out using pytest. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
hold-for - duration of testing.</font></font><br>
<br>
<pre><code class="kotlin hljs">scenarios:
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
scenarios - section of the Taurus configuration file. </font><font style="vertical-align: inherit;">Here is the configuration for each script from the execution section.</font></font><br>
<br>
<pre><code class="kotlin hljs">  selenium:<font></font>
    script: selenium_ui/jira_ui.py<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
script - the path to the Selenium tests.</font></font><br>
<br>
<pre><code class="kotlin hljs">  jmeter:<font></font>
# provides path to the jmeter project file<font></font>
    script: jmeter/jira.jmx<font></font>
    properties:<font></font>
      application_hostname: ${application_hostname}<font></font>
      application_protocol: ${application_protocol}<font></font>
      application_port: ${application_port}<font></font>
      application_postfix: ${application_postfix}<font></font>
      # Workload model<font></font>
# the number of actions <span class="hljs-keyword">for</span> an hour. <font></font>
      total_actions_per_hr: <span class="hljs-number">54500</span>
# actions and the % of execution within one hour. The sum of all parameters must equal to <span class="hljs-number">100</span>%<font></font>
      perc_create_issue: <span class="hljs-number">4</span>
      perc_search_jql: <span class="hljs-number">13</span>
      perc_view_issue: <span class="hljs-number">43</span>
      perc_view_project_summary: <span class="hljs-number">4</span>
      perc_view_dashboard: <span class="hljs-number">12</span>
      perc_edit_issue: <span class="hljs-number">4</span>
      perc_add_comment: <span class="hljs-number">2</span>
      perc_browse_projects: <span class="hljs-number">4</span>
      perc_view_scrum_board: <span class="hljs-number">3</span>
      perc_view_kanban_board: <span class="hljs-number">3</span>
      perc_view_backlog: <span class="hljs-number">6</span>
      perc_browse_boards: <span class="hljs-number">2</span>
      perc_standalone_extension: <span class="hljs-number">0</span> # By <span class="hljs-keyword">default</span> disabled
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
script - the path to the JMeter project, which will be executed during testing. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
total_actions_per_hr the number of actions that will be performed in an hour. </font><font style="vertical-align: inherit;">One action is to perform one test. </font><font style="vertical-align: inherit;">The tests that will be run can be understood from the perc_ parameters. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
perc_ parameters - percentage of completion of each test. </font><font style="vertical-align: inherit;">The sum of all perc_ parameters must be equal to 100%.</font></font><br>
<br>
<pre><code class="kotlin hljs">modules:<font></font>
  consolidator:<font></font>
    rtimes-len: <span class="hljs-number">0</span> # CONFSRVDEV-<span class="hljs-number">7631</span> reduce sampling<font></font>
    percentiles: [] # CONFSRVDEV-<span class="hljs-number">7631</span> disable all percentiles due to Taurus<span class="hljs-string">'s excessive memory usage

</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
modules - section of the Taurus configuration file. </font><font style="vertical-align: inherit;">This section contains a description of all the modules that will be used during testing.</font></font><br>
<br>
<pre><code class="kotlin hljs">  jmeter:<font></font>
    version: ${JMETER_VERSION}<font></font>
    detect-plugins: <span class="hljs-literal">true</span>
    memory-xmx: <span class="hljs-number">8</span>G  # allow JMeter to use up to <span class="hljs-number">8</span>G of memory<font></font>
    plugins:<font></font>
      - bzm-parallel=<span class="hljs-number">0.4</span>
      - bzm-random-csv=<span class="hljs-number">0.6</span>
      - jpgc-casutg=<span class="hljs-number">2.5</span>
      - jpgc-dummy=<span class="hljs-number">0.2</span>
      - jpgc-ffw=<span class="hljs-number">2.0</span>
      - jpgc-fifo=<span class="hljs-number">0.2</span>
      - jpgc-functions=<span class="hljs-number">2.1</span>
      - jpgc-json=<span class="hljs-number">2.6</span>
      - jpgc-perfmon=<span class="hljs-number">2.1</span>
      - jpgc-prmctl=<span class="hljs-number">0.4</span>
      - jpgc-tst=<span class="hljs-number">2.4</span>
      - jpgc-wsc=<span class="hljs-number">0.3</span>
      - tilln-sshmon=<span class="hljs-number">1.0</span>
      - jpgc-cmd=<span class="hljs-number">2.2</span>
      - jpgc-synthesis=<span class="hljs-number">2.2</span><font></font>
    system-properties:<font></font>
      server.rmi.ssl.disable: <span class="hljs-literal">true</span><font></font>
      java.rmi.server.hostname: localhost<font></font>
      httpsampler.ignore_failed_embedded_resources: <span class="hljs-string">"true"</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
jmeter - parameters of the JMeter module. </font><font style="vertical-align: inherit;">You can read about the Jmeter module </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
detect-plugins - JMeter Plugins Manager allows you to install plugins for JMeter automatically. </font><font style="vertical-align: inherit;">We set this parameter to yes, so that Taurus tells Jmeter to install all the necessary plugins automatically. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
plugins - a list of JMeter plugins that were used when writing the tests. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
system-properties - additional parameters for JMeter.</font></font><br>
<br>
<pre><code class="kotlin hljs">  selenium:<font></font>
# version of the chrome driver<font></font>
    chromedriver:<font></font>
      version: <span class="hljs-string">"80.0.3987.106"</span> # Supports Chrome version <span class="hljs-number">80</span>. You can refer to http:<span class="hljs-comment">//chromedriver.chromium.org/downloads</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
selenium - parameters for Selenium. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
chromedriver is the version of the Chrome driver that we will use for testing.</font></font><br>
<br>
<pre><code class="kotlin hljs">reporting:<font></font>
- <span class="hljs-keyword">data</span>-source: sample-labels<font></font>
  module: junit-xml<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
reporting - section of the Taurus configuration file. </font><font style="vertical-align: inherit;">Here you set the settings for the analysis and reporting modules. </font><font style="vertical-align: inherit;">We use the JUnit xml reporting module. </font><font style="vertical-align: inherit;">You can find more information on this module </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Let's summarize. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We have 6 sections in the jira.xml file: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
settings - top-level settings and parameters. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You need to change the following parameters in this section:</font></font><br>
<br>
<pre><code class="kotlin hljs">application_hostname: localhost   # Jira DC hostname without protocol and port e.g. test-jira.atlassian.com or localhost<font></font>
    application_protocol: http      # http or https<font></font>
    application_port: <span class="hljs-number">2990</span>            # <span class="hljs-number">80</span>, <span class="hljs-number">443</span>, <span class="hljs-number">8080</span>, <span class="hljs-number">2990</span>, etc<font></font>
    application_postfix: /jira           # e.g. /jira <span class="hljs-keyword">in</span> case of url like http:<span class="hljs-comment">//localhost:2990/jira</span><font></font>
    admin_login: admin<font></font>
    admin_password: admin<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You may also need to change the following parameters:</font></font><br>
<br>
<pre><code class="kotlin hljs">concurrency: <span class="hljs-number">5</span>
test_duration: <span class="hljs-number">5</span>m
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I changed these parameters to small values ​​so that the tests work out quickly. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you changed test_duration and concurrency, be sure to check the ramp-up parameter in the execution section. You may need to change it too. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
services - scripts that will be executed at the stages of the Taurus test life cycle. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
execution - execution parameters of test scripts. First, run JMeter, and then Selenium. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
scenarios - test script parameters. Perhaps you will like to change the number of operations per hour and the percentage of tests. I’ll talk about how to add or remove tests in one of the following parts.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
modules - modules used for tests. </font><font style="vertical-align: inherit;">We use consolidator, JMeter and Selenium. </font><font style="vertical-align: inherit;">Taurus provides us with the availability of these modules during testing. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
reporting - parameters of the reporting module. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Good. </font><font style="vertical-align: inherit;">We have changed the configuration file and are ready to run the tests.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Run test</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
First, activate the Python virtual environment (you can find information about this in the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">README.md</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> file </font><font style="vertical-align: inherit;">), go to the app folder and run the test:</font></font><br>
<br>
<pre><code class="kotlin hljs">bzt jira.yml
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In my case, the test failed with an error:</font></font><br>
<br>
<pre><code class="kotlin hljs"><span class="hljs-number">17</span>:<span class="hljs-number">03</span>:<span class="hljs-number">26</span> WARNING: Errors <span class="hljs-keyword">for</span> python util/data_preparation/jira/prepare-<span class="hljs-keyword">data</span>.py:<font></font>
There are no software projects <span class="hljs-keyword">in</span> Jira
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
All is correct. </font><font style="vertical-align: inherit;">My copy of Jira is empty. </font><font style="vertical-align: inherit;">It is necessary to fill it with data for testing. </font><font style="vertical-align: inherit;">I will tell you how to do it, in part 2.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en499774/index.html">Not a day without sports - 2: reprogramming a Chinese bracelet</a></li>
<li><a href="../en499776/index.html">Features of the implementation of the MSH language</a></li>
<li><a href="../en499784/index.html">What touch virtual walls?</a></li>
<li><a href="../en499786/index.html">Weak heap sorting</a></li>
<li><a href="../en499788/index.html">Free online course "Technical documentation in IT projects"</a></li>
<li><a href="../en499794/index.html">PostgreSQL and JDBC squeeze all the juices. Vladimir Sitnikov</a></li>
<li><a href="../en499796/index.html">How Courts in the USA Are Held Through Zoom, and Why This Is Considered A Problem</a></li>
<li><a href="../en499798/index.html">Two tapas to money: how we developed a financial chat bot with instant card issuance in Azerbaijan</a></li>
<li><a href="../en499802/index.html">Gamedev, cyberpunk and eternal philosophy: 3 weekend mini-series</a></li>
<li><a href="../en499804/index.html">How to work effectively with issues on issues on GitHub</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>