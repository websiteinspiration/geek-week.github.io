<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ± ğŸ‘¢ ğŸŒ™ Raspberry Piã¨BeagleBone Blackç”¨ã®OpenCV 4ã®ã‚¯ãƒ­ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ« ğŸ§•ğŸ¼ ğŸ–²ï¸ ğŸˆ¶</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ã¿ãªã•ã‚“ã€ã“ã‚“ã«ã¡ã¯ã€‚
 
 ã‚ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãŸã‚ã«ãƒ©ã‚ºãƒ™ãƒªãƒ¼ã«OpenCVã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã„ã¨æ€ã£ãŸã¨ãã€ãã®çµæœã«ã¯éå¸¸ã«ãŒã£ã‹ã‚Šã—ã¾ã—ãŸã€‚Python3.7ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®Raspbianã‚¤ãƒ¡ãƒ¼ã‚¸ã®å ´åˆã€ä½¿ã„æ…£ã‚ŒãŸpip installã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ãƒªãƒã‚¸ãƒˆãƒªã‹ã‚‰ãƒ©ã‚¤ãƒ–...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Raspberry Piã¨BeagleBone Blackç”¨ã®OpenCV 4ã®ã‚¯ãƒ­ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/461693/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¿ãªã•ã‚“ã€ã“ã‚“ã«ã¡ã¯ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãŸã‚ã«ãƒ©ã‚ºãƒ™ãƒªãƒ¼ã«OpenCVã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã„ã¨æ€ã£ãŸã¨ãã€ãã®çµæœã«ã¯éå¸¸ã«ãŒã£ã‹ã‚Šã—ã¾ã—ãŸã€‚</font><font style="vertical-align: inherit;">Python3.7ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®Raspbianã‚¤ãƒ¡ãƒ¼ã‚¸ã®å ´åˆã€ä½¿ã„æ…£ã‚ŒãŸpip installã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ãƒªãƒã‚¸ãƒˆãƒªã‹ã‚‰ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã“ã¨ã¯ä¸å¯èƒ½ã§ã‚ã‚‹ã“ã¨ãŒåˆ¤æ˜ã—ã¾ã—ãŸã€‚</font></font><br>
<a name="habracut"></a><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åŸå› </font></font></b><div class="spoiler_text">pip install opencv-python     : Â«Could not find a version that satisfies the requirement ...Â».            ,    .<br>
<br>
       ,         25   ,   ,      .<br>
<br>
    opencv-python  pypi.org: <br>
<blockquote>â€¦ Note that the wheel (especially manylinux) format does not currently support properly ARM architecture so there are no packages for ARM based platforms in PyPI. However, opencv-python packages for Raspberry Pi can be found from <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">www.piwheels.org</a>.<br>
<br>
<i>â€¦  ,   wheel ( manylinux)         ARM,   PyPI       ARM.   opencv-python  Raspberry Pi     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">www.piwheels.org</a>.</i><br>
</blockquote> â€¦<br>
<br>
,  raspberry     ,         :<br>
<blockquote>Wheels provided support all Raspberry Pi models (Pi 3, Pi 2, Pi 1 and Pi Zero). Wheels are provided for Raspbian Jessie (Python 3.4) and Raspbian Stretch (Python 3.5). We plan to add support for Raspbian Buster (Python 3.7) in due course.<br>
<br>
<i> wheel    Raspberry Pi (Pi 3, Pi 2, Pi 1  Pi Zero. Wheel  Raspbian Jessie (Python 3.4)  Raspbian Stretch (Python 3.5)     Raspbian Buster (Python 3.7)   .</i><br>
</blockquote>         OpenCV  ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>  -  (            ).      (     python3  ,      OpenCV 4.1.0 ),       .<br>
<br>
   ,        .      .  ,              . ,      . <br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Paul Silisteanuã«ã‚ˆã‚‹</font><font style="vertical-align: inherit;">
è¨˜äº‹ã€Œ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Raspberry Piã¨BeagleBone Blackç”¨ã®OpenCV 4ã®ã‚¯ãƒ­ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€ã®ç„¡æ–™ç¿»è¨³ã‚’</font><font style="vertical-align: inherit;">ç´¹ä»‹ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ãŠãã‚‰ãèª°ã‹ãŒã€æ¢åµå°èª¬ã‚’å†ç”Ÿã™ã‚‹ã‚ˆã‚Šã‚‚é¢ç™½ã„ãƒ¬ãƒƒã‚¹ãƒ³ã«è²»ã‚„ã™ã“ã¨ãŒã§ãã‚‹åˆ†ã¾ãŸã¯æ™‚é–“ã‚’ç¯€ç´„ã™ã‚‹ã§ã—ã‚‡ã†ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç§è‡ªèº«ã€ç¿»è¨³ã«ã„ãã¤ã‹ã®ãƒ¡ãƒ¢ã‚’è¿½åŠ ã—ã¾ã—ãŸã€‚ã“ã‚Œã¯é‡è¦ã ã¨è€ƒãˆã¾ã—ãŸï¼š[ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãã‚Œã‚‰ã¯ãƒ†ã‚­ã‚¹ãƒˆã§å¼·èª¿è¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
èª­æ›¸ã‚’æ¥½ã—ã‚€ï¼</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Raspberry Piã¨BeagleBone Blackç”¨ã®OpenCV 4ã®ã‚¯ãƒ­ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®è¨˜äº‹ã§ã¯ã€</font><font style="vertical-align: inherit;">ã‚¯ãƒ­ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚’ä½¿ç”¨ã—ã¦ã€Raspberry Piã¨BeagleBone Black </font><font style="vertical-align: inherit;">ã®æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenCV</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹æ–¹æ³•ã‚’ç¤ºã—ã¾ã™</font><font style="vertical-align: inherit;">ã€‚ã“ã®è¨˜äº‹ã®åŸ·ç­†æ™‚ç‚¹ã§ã¯[ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç¿»è¨³æ™‚ã®æ›´æ–°ã¯2019å¹´7æœˆ17æ—¥ã§ã™</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]ã€OpenCVã®æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯4.1.0ã§ã€æ¨™æº–OSã«åŒæ¢±ã•ã‚Œã¦ã„ã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯3.2.0ã§ã—ãŸã€‚ã‚‚ã¡ã‚ã‚“ã€OpenCVã‚’ã‚½ãƒ¼ã‚¹ã‹ã‚‰ç›´æ¥Raspberryã¾ãŸã¯BeagleBone Blackã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã“ã¨ã¯å¯èƒ½ã§ã™ãŒã€ã“ã‚Œã«ã¯æ•°æ™‚é–“ã‹ã‹ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚ã¾ãŸã€armhfç”¨ã®OpenCVã®ã‚¯ãƒ­ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã¯ã€20ã€œ30åˆ†ç¶šããƒ—ãƒ­ã‚»ã‚¹ã§ã™ã€‚ã¾ãŸã€ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã®é€Ÿåº¦ã«ã‚ˆã£ã¦ã¯ã€ã•ã‚‰ã«é«˜é€Ÿã«ãªã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">Debian Buster</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ä»®æƒ³ãƒã‚·ãƒ³</font><font style="vertical-align: inherit;">ã¾ãŸã¯</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">Dockerã§</font></a><font style="vertical-align: inherit;">æ§‹ç¯‰ã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¾ã™</font></font></a><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚³ãƒ³ãƒ†ãƒŠã€ãƒ¡ã‚¤ãƒ³OSãŒä¹±é›‘ã«ãªã‚‰ãªã„ã‚ˆã†ã«ã—ã¾ã™ã€‚ä»®æƒ³ãƒã‚·ãƒ³ã«ãƒã‚¹ã‚¿ãƒ¼ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å ´åˆã¯ã€</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœ€å°é™ã®ãƒ“ãƒ«ãƒ‰</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„</font><font style="vertical-align: inherit;">[ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è‡ªåˆ†ã§å®Ÿè¡Œã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™-è‡ªåˆ†ã®ã‚¹ã‚­ãƒ³ã§ç¢ºèªã—ã¾ã—ãŸ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]ã€‚ armhfã®ãƒã‚¤ãƒŠãƒªã¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãŸã‚ã€ã‚·ãƒ³ãƒ—ãƒ«ãªã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰å§‹ã‚ã‚‹ã“ã¨ãŒéå¸¸ã«é‡è¦ã§ã™ã€‚æœ€å°é™ã®ã‚·ã‚¹ãƒ†ãƒ ã‚’ä½¿ç”¨ã—ã¦ã€ãƒã‚¤ãƒ†ã‚£ãƒ–x86-64ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¨ã®æ½œåœ¨çš„ãªç«¶åˆã‚’å›é¿ã—ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®è¨˜äº‹ã§ã¯ã€Raspbianã‚·ã‚¹ãƒ†ãƒ ã§Raspberry PIã®ã¿ã‚’æ“ä½œã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦èª¬æ˜ã—ã¦ã„ã¾ã™ãŒã€BeagleBone Blackã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã¯ã€ã™ã¹ã¦ãŒã¾ã£ãŸãåŒã˜ã‚ˆã†ã«æ©Ÿèƒ½ã™ã‚‹ã¯ãšã§ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚¯ãƒªãƒ¼ãƒ³ãª</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">Raspbian</font></a><font style="vertical-align: inherit;">ãŒã™ã§ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã¨æ€ã„ã¾ã™</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">åˆ©ç”¨å¯èƒ½ãªæœ€æ–°ã®ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ç”¨ã—ã¾ã—ãŸã€‚</font><font style="vertical-align: inherit;">å®Ÿéš›ã€Raspbian Liteã«é–¢ã™ã‚‹è¨˜äº‹ã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã§ãã¾ã™ãŒã€ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆã¯GUIãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ã¦è¡Œã„ã¾ã—ãŸã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã¾ãšã€ä»®æƒ³ãƒã‚·ãƒ³ã¾ãŸã¯ã‚³ãƒ³ãƒ†ãƒŠãŒæ›´æ–°ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">sudo apt update<font></font>
sudo apt upgrade<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¬¡ã«ã€armhfã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’æ¥ç¶šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">sudo dpkg --add-architecture armhf<font></font>
sudo apt update<font></font>
sudo apt install qemu-user-static<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®æ™‚ç‚¹ã§ã€armhfã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã‚·ã‚¹ãƒ†ãƒ ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦å®Ÿè¡Œã§ãã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pythonã¨C ++ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹OpenCVã‚’ãƒ“ãƒ«ãƒ‰ã—ã¾ã™ã€‚</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python2ã¨Python3ã¨</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€</font><font style="vertical-align: inherit;">ãã‚Œã‚‰ã®</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NumPy</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å”å®š</font><font style="vertical-align: inherit;">ã‚’</font><font style="vertical-align: inherit;">ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã—ã‚‡ã†</font><font style="vertical-align: inherit;">ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">sudo apt-get install python3-dev<font></font>
sudo apt-get install python3-numpy<font></font>
sudo apt-get install python-dev<font></font>
sudo apt-get install python-numpy<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
armhfã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«ã¯libpythonã‚‚å¿…è¦ã§ã™ã€‚ </font></font><br>
<br>
<pre><code class="bash hljs">sudo apt-get install libpython2-dev:armhf<font></font>
sudo apt-get install libpython3-dev:armhf<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¬¡ã«ã€libgtk-3ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã€ã‚°ãƒ©ãƒ•ã‚£ã‚«ãƒ«ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã§ç°¡å˜ãªãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½œæˆã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">OpenCVã‚’æ’ä»–çš„ã«ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ãƒ¢ãƒ¼ãƒ‰ã§ä½¿ç”¨ã™ã‚‹å ´åˆã¯ã€æ¬¡ã®2ã¤ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ç„¡è¦–ã—ã¦ã‚‚å•é¡Œã‚ã‚Šã¾ã›ã‚“ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo apt install libgtk-3-dev:armhf libcanberra-gtk3-dev:armhf
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
OpenCVã«å¿…è¦ãªä»–ã®ã„ãã¤ã‹ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼ˆã•ã¾ã–ã¾ãªç”»åƒãŠã‚ˆã³ãƒ“ãƒ‡ã‚ªå½¢å¼ã®ã‚µãƒãƒ¼ãƒˆï¼‰ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">sudo apt install libtiff-dev:armhf zlib1g-dev:armhf<font></font>
sudo apt install libjpeg-dev:armhf libpng-dev:armhf<font></font>
sudo apt install libavcodec-dev:armhf libavformat-dev:armhf libswscale-dev:armhf libv4l-dev:armhf<font></font>
sudo apt-get install libxvidcore-dev:armhf libx264-dev:armhf<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¬¡ã«ã€Debianã®ã‚¯ãƒ­ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãƒ¼ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚ã“ã‚Œã‚’ä½¿ç”¨ã—ã¦ã€Raspberry Piã®armhfãƒã‚¤ãƒŠãƒªã‚’ä½œæˆã§ãã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">sudo apt install crossbuild-essential-armhf<font></font>
sudo apt install gfortran-arm-linux-gnueabihf<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®è¨˜äº‹ã®åŸ·ç­†æ™‚ç‚¹ã§ã¯ã€ä¸Šè¨˜ã®ãƒ„ãƒ¼ãƒ«ã‚­ãƒƒãƒˆã¯GCCãƒãƒ¼ã‚¸ãƒ§ãƒ³8.3ã«åŸºã¥ã„ã¦ãŠã‚Šã€Raspbianã¨åŒã˜ã§ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æœ€å¾Œã«ã€</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cmake</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">git</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pkg-config</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€wget </font><font style="vertical-align: inherit;">ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ã¾ã™</font></a><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">sudo apt install cmake git pkg-config wget
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¬¡ã«ã€OpenCVã®ç¾åœ¨ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ãã¾ã™ã€‚</font><font style="vertical-align: inherit;">OpenCVã®ãƒ•ãƒ«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨contribãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼‰ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹æ–¹æ³•ã‚’ç¤ºã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-built_in">cd</span> ~<font></font>
mkdir opencv_all &amp;&amp; <span class="hljs-built_in">cd</span> opencv_all<font></font>
wget -O opencv.tar.gz https://github.com/opencv/opencv/archive/4.1.0.tar.gz<font></font>
tar xf opencv.tar.gz<font></font>
wget -O opencv_contrib.tar.gz https://github.com/opencv/opencv_contrib/archive/4.1.0.tar.gz<font></font>
tar xf opencv_contrib.tar.gz<font></font>
rm *.tar.gz<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
GTK +ã‚µãƒãƒ¼ãƒˆã‚’æ­£å¸¸ã«ãƒ“ãƒ«ãƒ‰ã™ã‚‹ãŸã‚ã«å¿…è¦ãª2ã¤ã®ã‚·ã‚¹ãƒ†ãƒ å¤‰æ•°ã‚’ä¸€æ™‚çš„ã«å¤‰æ›´ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-built_in">export</span> PKG_CONFIG_PATH=/usr/lib/arm-linux-gnueabihf/pkgconfig:/usr/share/pkgconfig
<span class="hljs-built_in">export</span> PKG_CONFIG_LIBDIR=/usr/lib/arm-linux-gnueabihf/pkgconfig:/usr/share/pkgconfig
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç¾æ™‚ç‚¹ã§ã¯ã€Cmakeã‚’ä½¿ç”¨ã—ã¦OpenCVãƒ“ãƒ«ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ç”Ÿæˆã§ãã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-built_in">cd</span> opencv-4.1.0<font></font>
mkdir build &amp;&amp; <span class="hljs-built_in">cd</span> build<font></font>
cmake -D CMAKE_BUILD_TYPE=RELEASE \<font></font>
    -D CMAKE_INSTALL_PREFIX=/opt/opencv-4.1.0 \<font></font>
    -D CMAKE_TOOLCHAIN_FILE=../platforms/linux/arm-gnueabi.toolchain.cmake \<font></font>
    -D OPENCV_EXTRA_MODULES_PATH=~/opencv_all/opencv_contrib-4.1.0/modules \<font></font>
    -D OPENCV_ENABLE_NONFREE=ON \<font></font>
    -D ENABLE_NEON=ON \<font></font>
    -D ENABLE_VFPV3=ON \<font></font>
    -D BUILD_TESTS=OFF \<font></font>
    -D BUILD_DOCS=OFF \<font></font>
    -D PYTHON2_INCLUDE_PATH=/usr/include/python2.7 \<font></font>
    -D PYTHON2_LIBRARIES=/usr/lib/arm-linux-gnueabihf/libpython2.7.so \<font></font>
    -D PYTHON2_NUMPY_INCLUDE_DIRS=/usr/lib/python2/dist-packages/numpy/core/include \<font></font>
    -D PYTHON3_INCLUDE_PATH=/usr/include/python3.7m \<font></font>
    -D PYTHON3_LIBRARIES=/usr/lib/arm-linux-gnueabihf/libpython3.7m.so \<font></font>
    -D PYTHON3_NUMPY_INCLUDE_DIRS=/usr/lib/python3/dist-packages/numpy/core/include \<font></font>
    -D BUILD_OPENCV_PYTHON2=ON \<font></font>
    -D BUILD_OPENCV_PYTHON3=ON \<font></font>
    -D BUILD_EXAMPLES=OFF ..<font></font>
</code></pre><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®èª¬æ˜</font></font></b><div class="spoiler_text">CMAKE_INSTALL_PREFIX â€” ,     <br>
CMAKE_TOOLCHAIN_FILE â€” ,  Cmake,   -<br>
OPENCV_EXTRA_MODULES_PATH â€”     OpenCV<br>
OPENCV_ENABLE_NONFREE=ON â€”      <br>
 ,     SIFT  SURF   .        , ,    ,    . <br>
ENABLE_NEON=ON â€”   NEON    ARM<br>
ENABLE_VFPV3=ON â€”   VFPv3-D32    ARM<br>
BUILD_TESTS=OFF â€”      (  )<br>
BUILD_DOCS=OFF â€”      <br>
PYTHON2_INCLUDE_PATH â€”   python2.7<br>
PYTHON2_LIBRARIES â€”      libpython2<br>
PYTHON2_NUMPY_INCLUDE_DIRS â€”   NumPy  python2.7<br>
PYTHON3_INCLUDE_PATH â€”   python3<br>
PYTHON3_LIBRARIES â€”      libpython3<br>
PYTHON3_NUMPY_INCLUDE_DIRS â€”   NumPy  python3<br>
BUILD_OPENCV_PYTHON2=ON â€”      python2<br>
BUILD_OPENCV_PYTHON3=ON â€”      python4<br>
BUILD_EXAMPLES=OFF â€”       <br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚¨ãƒ©ãƒ¼ãŒãªã‘ã‚Œã°ã€çµæœã¨ã—ã¦ã€ã‚¢ã‚»ãƒ³ãƒ–ãƒªãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã«MakefileãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã“ã‚Œã§å®Ÿéš›ã®ãƒ“ãƒ«ãƒ‰ã‚’é–‹å§‹ã§ãã¾ã™ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">make -j16
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¨˜äº‹ã§ã¯ã€ã‚¢ã‚»ãƒ³ãƒ–ãƒªä¸­ã«16ã®ä¸¦åˆ—ãƒ—ãƒ­ã‚»ã‚¹ãŒç¤ºã•ã‚Œã¦ã„ã¾ã™ãŒã€ã“ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã¯ãƒ›ã‚¹ãƒˆOSã«å¯¾ã—ã¦é¸æŠã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ] </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚¢ã‚»ãƒ³ãƒ–ãƒªãƒ•ã‚§ãƒ¼ã‚ºã®å®Œäº†å¾Œã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">sudo make install/strip
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¬¡ã«ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ãƒ¼ãŒèª¤ã£ã¦x86_64ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ¼ã‚’å‘¼ã³å‡ºã—ãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ¼ã®åå‰ã‚’å¤‰æ›´ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ãŒã€å®Ÿéš›ã«ã¯armhfã§ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-built_in">cd</span> /opt/opencv-4.1.0/lib/python3.7/dist-packages/cv2/python-3.7/<font></font>
sudo cp cv2.cpython-37m-x86_64-linux-gnu.so cv2.so<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒ•ã‚©ãƒ«ãƒ€ã‚’åœ§ç¸®ã—ã¦ã€ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã‚’ãƒ›ãƒ¼ãƒ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä¿å­˜ã—ã¾ã—ã‚‡ã†ã€‚</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-built_in">cd</span> /opt<font></font>
tar -cjvf ~/opencv-4.1.0-armhf.tar.bz2 opencv-4.1.0<font></font>
<span class="hljs-built_in">cd</span> ~
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç§ãŸã¡ã®ç”Ÿæ´»ã‚’æ¥½ã«ã™ã‚‹ãŸã‚ã«ã€opencv.pcã¨ã„ã†åå‰ã®ç°¡å˜ãªpkg-configè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ç”¨æ„ã—ã¾ã—ãŸã€‚</font><font style="vertical-align: inherit;">æ¬¡ã®æ–¹æ³•ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ãã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">git <span class="hljs-built_in">clone</span> https://gist.github.com/sol-prog/ed383474872958081985de733eaf352d opencv_cpp_compile_settings
<span class="hljs-built_in">cd</span> opencv_cpp_compile_settings<font></font>
cp opencv.pc ~<font></font>
<span class="hljs-built_in">cd</span> ~
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å®Ÿéš›ã«ã¯ã€ãƒ›ã‚¹ãƒˆãƒã‚·ãƒ³ã§ã“ã‚Œã‚’è¡Œã†å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</font><font style="vertical-align: inherit;">Raspberryã«ç›´æ¥ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ãã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã—ã‹ã—ã€è‘—è€…ã¯ã“ã®é †åºã§ãã‚Œã‚’ã—ãŸã„ã¨æ€ã£ãŸ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">opencv.pc</font></font></b><div class="spoiler_text"><i>   ,       :</i><br>
<br>
<pre><code class="plaintext hljs">libdir = /opt/opencv-4.1.0/lib<font></font>
includedir = /opt/opencv-4.1.0/include/opencv4<font></font>
<font></font>
Name: OpenCV<font></font>
Description: OpenCV (Open Source Computer Vision Library) is an open source computer vision and machine learning software library.<font></font>
Version: 4.1.0<font></font>
Libs: -L${libdir} -lopencv_aruco -lopencv_bgsegm -lopencv_bioinspired -lopencv_calib3d -lopencv_ccalib -lopencv_core -lopencv_datasets -lopencv_dnn_objdetect -lopencv_dnn -lopencv_dpm -lopencv_face -lopencv_features2d -lopencv_flann -lopencv_freetype -lopencv_fuzzy -lopencv_gapi -lopencv_hfs -lopencv_highgui -lopencv_imgcodecs -lopencv_img_hash -lopencv_imgproc -lopencv_line_descriptor -lopencv_ml -lopencv_objdetect -lopencv_optflow -lopencv_phase_unwrapping -lopencv_photo -lopencv_plot -lopencv_quality -lopencv_reg -lopencv_rgbd -lopencv_saliency -lopencv_shape -lopencv_stereo -lopencv_stitching -lopencv_structured_light -lopencv_superres -lopencv_surface_matching -lopencv_text -lopencv_tracking -lopencv_videoio -lopencv_video -lopencv_videostab -lopencv_xfeatures2d -lopencv_ximgproc -lopencv_xobjdetect -lopencv_xphoto<font></font>
Cflags: -I${includedir}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
opencv-4.1.0-armhf.tar.bz2ã¨opencv.pcã‚’ãƒ›ãƒ¼ãƒ ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‹ã‚‰RPiã«ã‚³ãƒ”ãƒ¼ã—ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¨˜äº‹ã®æ¬¡ã®éƒ¨åˆ†ã§ã¯</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€Raspberry Piã§ã™ã§ã«</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã™ã¹ã¦ã‚’å®Ÿè¡Œã—ã¦</font><b><font style="vertical-align: inherit;">ã„ã‚‹</font></b><font style="vertical-align: inherit;">ã¨æƒ³å®šã—</font><b><font style="vertical-align: inherit;">ã¦ã„</font></b><font style="vertical-align: inherit;">ã¾ã™</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RPiã«ã€ä½¿ç”¨ã—ãŸã™ã¹ã¦ã®é–‹ç™ºãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚</font><font style="vertical-align: inherit;">ä»¥å‰ã¨åŒæ§˜ã«ã€GTK +ã‚’ä½¿ç”¨ã™ã‚‹äºˆå®šãŒãªã„å ´åˆã¯ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã®æœ€åˆã®è¡Œã‚’ç„¡è¦–ã—ã¦ãã ã•ã„ã€‚</font><font style="vertical-align: inherit;">Raspbianã®ãƒ•ãƒ«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã€ã“ã‚Œã‚‰ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã»ã¨ã‚“ã©ã¯æ—¢ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã¯ãšã§ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">sudo apt install libgtk-3-dev libcanberra-gtk3-dev<font></font>
sudo apt install libtiff-dev zlib1g-dev<font></font>
sudo apt install libjpeg-dev libpng-dev<font></font>
sudo apt install libavcodec-dev libavformat-dev libswscale-dev libv4l-dev<font></font>
sudo apt-get install libxvidcore-dev libx264-dev<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’è§£å‡ã—ã¦ã€RPiã®/ optãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã«ç§»å‹•ã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">tar xfv opencv-4.1.0-armhf.tar.bz2<font></font>
sudo mv opencv-4.1.0 /opt<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¿…è¦ã«å¿œã˜ã¦ã€ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã‚’å‰Šé™¤ã§ãã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">rm opencv-4.1.0-armhf.tar.bz2
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¬¡ã«ã€opencv.pcã‚’pkg-configãŒè¦‹ã¤ã‘ã‚‰ã‚Œã‚‹ãƒ•ã‚©ãƒ«ãƒ€ã«ç§»å‹•ã—ã¾ã™ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">sudo mv opencv.pc /usr/lib/arm-linux-gnueabihf/pkgconfig
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚ªãƒšãƒ¬ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ãŒOpenCVãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ã€ãã‚Œã‚‰ã‚’ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ‘ã‚¹ã«è¿½åŠ ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-built_in">echo</span> <span class="hljs-string">'export LD_LIBRARY_PATH=/opt/opencv-4.1.0/lib:$LD_LIBRARY_PATH'</span> &gt;&gt; .bashrc
<span class="hljs-built_in">source</span> .bashrc
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—ã¦ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ã‹ã€ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’å†èµ·å‹•ã—ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¬¡ã«ã€PythonãŒæ–°ã—ãä½œæˆã—ãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ãƒ­ãƒ¼ãƒ‰ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã‚’ã„ãã¤ã‹ä½œæˆã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">sudo ln -s /opt/opencv-4.1.0/lib/python2.7/dist-packages/cv2 /usr/lib/python2.7/dist-packages/cv2<font></font>
sudo ln -s /opt/opencv-4.1.0/lib/python3.7/dist-packages/cv2 /usr/lib/python3/dist-packages/cv2<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®æ™‚ç‚¹ã§ã€C ++ã¾ãŸã¯Pythonã®OpenCVãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã“ã®è¨˜äº‹ã®</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ãƒªãƒã‚¸ãƒˆãƒª</font></a><font style="vertical-align: inherit;">ã«</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã¯ã€</font><font style="vertical-align: inherit;">C ++ã¨Pythonã®ã„ãã¤ã‹ã®ãƒ†ã‚¹ãƒˆãƒ—ãƒ­ã‚°ãƒ©ãƒ </font><font style="vertical-align: inherit;">ãŒã‚ã‚Š</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¾ã™</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ã€Piã«ã‚³ãƒ¼ãƒ‰ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ãã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">git <span class="hljs-built_in">clone</span> https://github.com/sol-prog/raspberry-pi-opencv.git
<span class="hljs-built_in">cd</span> raspberry-pi-opencv/tests
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RPiã«æ¥ç¶šã•ã‚Œã¦ã„ã‚‹ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ãŒãªã„å ´åˆã§ã‚‚ä½¿ç”¨ã§ãã‚‹ã‚¹ã‚¿ãƒ³ãƒ‰ã‚¢ãƒ­ãƒ³ãƒ†ã‚¹ãƒˆã¯ã€cli_cpp_test.cppã¨cli_python_test.pyã®2ã¤ã§ã™ã€‚</font><font style="vertical-align: inherit;">ã¾ãŸã€è¡¨ç¤ºãŒå¿…è¦ãª2ã¤ã®ã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚¹ãƒ†ã‚¹ãƒˆgui_cpp_test.cppã¨gui_python_test.pyã‚‚å«ã‚ã¾ã—ãŸã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¬¡ã®ã‚ˆã†ã«C ++ãƒ†ã‚¹ãƒˆã‚’ä½œæˆã—ã¦å®Ÿè¡Œã§ãã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">g++ cli_cpp_test.cpp -o cli_cpp_test `pkg-config --cflags --libs opencv`<font></font>
./cli_cpp_test<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã¾ãŸã€RPiã«ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ãŒæ¥ç¶šã•ã‚Œã¦ã„ã‚‹å ´åˆï¼š</font></font><br>
<br>
<pre><code class="bash hljs">g++ gui_cpp_test.cpp -o gui_cpp_test `pkg-config --cflags --libs opencv`<font></font>
./gui_cpp_test<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã‚Œã¯ã€ç§ã®Piã§å®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹C ++ GUIãƒ†ã‚¹ãƒˆã®ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã§ã™</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wu/fx/jt/wufxjtxgrqa-mymc6evbxj1jbx4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã€‚Pythonãƒ†ã‚¹ãƒˆã®å ´åˆã¯ã€æ¬¡ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">python3 cli_python_test.py
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã¾ãŸã¯</font></font><br>
<br>
<pre><code class="bash hljs">python3 gui_python_test.py
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ³¨æ„ã¨ã—ã¦ã€Debian x86-64ã‚·ã‚¹ãƒ†ãƒ ã§OpenCVã‚’ä½¿ç”¨ã—ã¦C ++ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ã‚¯ãƒ­ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã€RPiã§ãƒã‚¤ãƒŠãƒªã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã•ã‚‰ã«è¨˜äº‹ã®ä¸­ã§ã€RaspberryPiã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã«é–¢ã™ã‚‹Derek Molloyã®æœ¬ã‚’èª­ã‚€ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">æœ¬ã¸ã®ç´¹ä»‹ãƒªãƒ³ã‚¯ã¯ã€å…ƒã®è¨˜äº‹</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]ã«ã‚ã‚Šã¾ã™ã€‚</font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å…ƒã®è¨˜äº‹ã¸ã®ãƒªãƒ³ã‚¯</font></font></a><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç§ã‹ã‚‰ã®å°ã•ãªè¿½åŠ </font></font></b><div class="spoiler_text">  Dockerfile,       ,    . <br>
<br>
 :<br>
 Dockerfile.<br>
<br>
<pre><code class="bash hljs">mkdir opencv &amp;&amp; <span class="hljs-built_in">cd</span> opencv &amp;&amp; mkdir armhf_opencv<font></font>
touch armhf_opencv/Dockerfile<font></font>
nano armhf_opencv/Dockerfile<font></font>
</code></pre><br>
   Dockerfile       .<br>
<br>
<pre><code class="bash hljs">docker image build armhf_opencv/
</code></pre><br>
        :<br>
<br>
<pre><code class="bash hljs">&gt;&gt;&gt; Successfully built babdc99ba2d8
</code></pre><br>
          :<br>
<br>
<pre><code class="bash hljs">docker tag babdc99ba2d8 armhf_opencv:latest<font></font>
docker run armhf_opencv<font></font>
</code></pre><br>
           opencv.pc.      :<br>
<br>
<pre><code class="bash hljs">docker container ls  --all<font></font>
&gt;&gt;&gt; CONTAINER ID        IMAGE                   COMMAND                  CREATED             STATUS                      PORTS               NAMES<font></font>
&gt;&gt;&gt; 369dff5a0a9b        armhf_opencv            <span class="hljs-string">"bash"</span>                   9 seconds ago       Exited (0) 7 seconds ago                        affectionate_wu
</code></pre><br>
      :<br>
<br>
<pre><code class="bash hljs">docker cp 369dff5a0a9b:/root/opencv-4.1.0-armhf.tar.bz2 ./<font></font>
docker cp 369dff5a0a9b:/root/opencv.pc ./<font></font>
</code></pre><br>
    image,    2.5 .<br>
<br>
  docker   i59600  16   30-40 ,           . <br>
<br>
    Raspberry Pi       .<br>
<br>
 Dockerfile:<br>
<br>
<pre><code class="plaintext hljs">FROM debian:buster<font></font>
USER root<font></font>
<font></font>
RUN apt update &amp;&amp; apt upgrade<font></font>
<font></font>
RUN dpkg --add-architecture armhf &amp;&amp; \<font></font>
    apt update &amp;&amp; apt install -y qemu-user-static<font></font>
<font></font>
RUN apt install -y python3-dev python3-numpy python-dev python-numpy<font></font>
<font></font>
RUN apt install -y libpython2-dev:armhf libpython3-dev:armhf \<font></font>
    libgtk-3-dev:armhf libcanberra-gtk3-dev:armhf \ <font></font>
    libtiff-dev:armhf zlib1g-dev:armhf \<font></font>
    libjpeg-dev:armhf libpng-dev:armhf \ <font></font>
    libavcodec-dev:armhf libavformat-dev:armhf \<font></font>
    libswscale-dev:armhf libv4l-dev:armhf \<font></font>
    libxvidcore-dev:armhf libx264-dev:armhf<font></font>
<font></font>
RUN apt install -y crossbuild-essential-armhf gfortran-arm-linux-gnueabihf<font></font>
RUN apt install -y cmake git pkg-config wget<font></font>
<font></font>
RUN mkdir opencv_all &amp;&amp; cd opencv_all &amp;&amp; \<font></font>
    wget -O opencv.tar.gz https://github.com/opencv/opencv/archive/4.1.0.tar.gz  &amp;&amp; \<font></font>
    tar -xf opencv.tar.gz -C /tmp  &amp;&amp; \<font></font>
    wget -O opencv_contrib.tar.gz https://github.com/opencv/opencv_contrib/archive/4.1.0.tar.gz  &amp;&amp; \<font></font>
    tar -xf opencv_contrib.tar.gz -C /tmp  &amp;&amp; \<font></font>
    rm *.tar.gz  &amp;&amp; \<font></font>
    export PKG_CONFIG_PATH=/usr/lib/arm-linux-gnueabihf/pkgconfig:/usr/share/pkgconfig &amp;&amp; \<font></font>
    export PKG_CONFIG_LIBDIR=/usr/lib/arm-linux-gnueabihf/pkgconfig:/usr/share/pkgconfig &amp;&amp; \<font></font>
    cd /tmp/opencv-4.1.0 &amp;&amp; mkdir build &amp;&amp; cd build &amp;&amp; \<font></font>
    cmake -D CMAKE_BUILD_TYPE=RELEASE \<font></font>
        -D CMAKE_INSTALL_PREFIX=/opt/opencv-4.1.0 \<font></font>
        -D CMAKE_TOOLCHAIN_FILE=../platforms/linux/arm-gnueabi.toolchain.cmake \<font></font>
        -D OPENCV_EXTRA_MODULES_PATH=/tmp/opencv_contrib-4.1.0/modules \<font></font>
        -D OPENCV_ENABLE_NONFREE=ON \<font></font>
        -D ENABLE_NEON=ON \<font></font>
        -D ENABLE_VFPV3=ON \<font></font>
        -D BUILD_TESTS=OFF \<font></font>
        -D BUILD_DOCS=OFF \<font></font>
        -D PYTHON2_INCLUDE_PATH=/usr/include/python2.7 \<font></font>
        -D PYTHON2_LIBRARIES=/usr/lib/arm-linux-gnueabihf/libpython2.7.so \<font></font>
        -D PYTHON2_NUMPY_INCLUDE_DIRS=/usr/lib/python2/dist-packages/numpy/core/include \<font></font>
        -D PYTHON3_INCLUDE_PATH=/usr/include/python3.7m \<font></font>
        -D PYTHON3_LIBRARIES=/usr/lib/arm-linux-gnueabihf/libpython3.7m.so \<font></font>
        -D PYTHON3_NUMPY_INCLUDE_DIRS=/usr/lib/python3/dist-packages/numpy/core/include \<font></font>
        -D BUILD_OPENCV_PYTHON2=ON \<font></font>
        -D BUILD_OPENCV_PYTHON3=ON \<font></font>
        -D BUILD_EXAMPLES=OFF .. &amp;&amp; \<font></font>
    make -j6 &amp;&amp; make install/strip<font></font>
<font></font>
RUN cd /opt/opencv-4.1.0/lib/python3.7/dist-packages/cv2/python-3.7/ &amp;&amp; \<font></font>
    cp cv2.cpython-37m-x86_64-linux-gnu.so cv2.so<font></font>
<font></font>
RUN cd /opt &amp;&amp; tar -cjvf /root/opencv-4.1.0-armhf.tar.bz2 opencv-4.1.0 <font></font>
<font></font>
RUN git clone https://gist.github.com/sol-prog/ed383474872958081985de733eaf352d opencv_cpp_compile_settings &amp;&amp; \<font></font>
    cd opencv_cpp_compile_settings &amp;&amp; \<font></font>
    cp opencv.pc /root/ <font></font>
</code></pre><br>
</div></div></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja461679/index.html">ï»¿ã»ã¼é«˜å“è³ªã®é›»å­èŠ¸è¡“å›³æ›¸é¤¨</a></li>
<li><a href="../ja461685/index.html">LEDç™‚æ³•ã€ã¤ã¾ã‚Š21ä¸–ç´€ã®ã€Œè‹¥ã€…ã—ã„ãƒªãƒ³ã‚´ã€</a></li>
<li><a href="../ja461687/index.html">Docker + Laravel + RoadRunner =â¤</a></li>
<li><a href="../ja461689/index.html">é–‹ç™ºè€…ã®IoTè­˜åˆ¥</a></li>
<li><a href="../ja461691/index.html">Astra Linux Special Edition OSã®è„†å¼±æ€§ã‚’ã©ã®ã‚ˆã†ã«ã‚¯ãƒ­ãƒ¼ã‚ºã™ã‚‹ã‹</a></li>
<li><a href="../ja461695/index.html">VFXã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³ã‚·ãƒƒãƒ—</a></li>
<li><a href="../ja461697/index.html">ãƒ“ãƒ¼ãƒ«ã®çŸ¥æ€§</a></li>
<li><a href="../ja461699/index.html">Volcanic Pigletã€ã¾ãŸã¯æ—¥æ›œå¤§å·¥ã®SQL</a></li>
<li><a href="../ja461703/index.html">ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼ã®ä½œæ¥­ã«ãŠã‘ã‚‹ãƒã‚¤ã‚¯ãƒ­ã‚¹ãƒ†ãƒƒãƒ—ãƒ¬ãƒãƒ¼ãƒˆ</a></li>
<li><a href="../ja461707/index.html">ã¨ã‚‰ãˆã©ã“ã‚ã®ãªã„ãƒãƒ«ãƒ´ã‚¡ãƒªã®å†’é™ºã€ãƒ‘ãƒ¼ãƒˆVï¼šãã®ä»–ã®DDEãŠã‚ˆã³COMã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ¬ãƒƒãƒˆ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>