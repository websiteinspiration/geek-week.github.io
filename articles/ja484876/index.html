<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧗🏿 👓 🌱 修理、ハック、掘る。オンラインクエストDroid Missionの解決 👉🏻 👆 🚀</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="昨年、モバイルデベロッパー向けのオンラインクエストを実施しました-Droid Mission。1か月以内に、参加者は3つの方向で可能な限り多くの問題を解決する必要がありました。（バグ検索とコード研究）、それをハックしてください！（リバースエンジニアリング）それを掘る！（Androidの機能を学ぶ）。...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>修理、ハック、掘る。オンラインクエストDroid Missionの解決</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/484876/"><img src="https://habrastorage.org/webt/r_/ys/qs/r_ysqsq8esvuaug1phjeithvpji.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
昨年、モバイルデベロッパー向けのオンラインクエストを実施しました-Droid Mission。</font><font style="vertical-align: inherit;">1か月以内に、参加者は3つの方向で可能な限り多くの問題を解決する必要がありました。</font><font style="vertical-align: inherit;">（バグ検索とコード研究）、それをハックしてください！</font><font style="vertical-align: inherit;">（リバースエンジニアリング）それを掘る！</font><font style="vertical-align: inherit;">（Androidの機能を学ぶ）。</font><font style="vertical-align: inherit;">全体で、クエストには23のタスクがありました。これらは、Androidスペシャリストが実際の作業で遭遇するタスクと非常に似ています。</font><font style="vertical-align: inherit;">投稿では、すべての条件と適切な解決策を示します。</font></font><br>
<a name="habracut"></a><a name="start"></a><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エラーとコード調査を検索する</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リバースエンジニアリング</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Androidシステム</font></font></a></li>
</ul><br>
<a name="fix"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エラーとコード調査を検索する</font></font></h1><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">修理する！</font><font style="vertical-align: inherit;">＃1</font></font></h3><sup><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">投稿者Anastasia Laushkina</font></font></i></sup><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
静かな金曜日の夜、2人のエージェントが夜更かしをして、</font><sup><i><font style="vertical-align: inherit;">解決不可能</font></i></sup><font style="vertical-align: inherit;">な争いを抱えています。</font><font style="vertical-align: inherit;">彼らは、整数の鍵を持つSqliteデータベースに大量の秘密データを保存するように指示されました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
エージェントAは、CREATE TABLE t（キーINT PRIMARY KEY、secret_value_1、secret_value_2）という形式のクエリでテーブルを作成し、エージェントBは、CREATE TABLE t（キーINTEGER PRIMARY KEY ASC、secret_value_1、secret_value_2）のクエリでテーブルを作成します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
エージェントAはリクエストにエラーがないことを確信していますが、エージェントBはこれに反対の意見を持っています。エージェントAが接近したときのデータの整合性が侵害される可能性があると主張しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コンマを使用してリストします。エージェントBの整合性を担当するが、エージェントAを担当しない列。</font><font style="vertical-align: inherit;">ロシア語のデータ構造に加えて、エージェントBのリクエストがより高速になります。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ノート</font></font></b><div class="spoiler_text"> : [  1],[  N],[ ] ( ,   )<br>
<br>
 : x,y, </div></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソリューション</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
これは、rowIdとその主キーとの関係についてです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「CREATE TABLE t（キーINTEGER PRIMARY KEY ASC、secret_value_1、secret_value_2）」の場合、keyはrowIdのエイリアスです。</font><font style="vertical-align: inherit;">「CREATE TABLE t（キーINT PRIMARY KEY、secret_value_1、secret_value_2）」の場合-いいえ。</font><font style="vertical-align: inherit;">その理由</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はドキュメントにあります</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、rowIdとのキー関係がない場合、「INSERT INTO t VALUES（ "some"、 "y"、 "z"）」という形式のリクエストは正常に実行され、データの整合性に違反する可能性があります。</font><font style="vertical-align: inherit;">そのような接続がある場合、データ型の不一致エラーが発生します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
答えは、key、rowId、およびkey / rowIdのペアとして個別に解釈されました（接続がある場合、それらは同じ列を参照するため）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スピードは、検索ツリーの形で保存することで実現されます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">修理する！</font><font style="vertical-align: inherit;">＃2</font></font></h3><sup><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">著者：Anastasia Laushkina</font></font></i></sup><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バイナリファイル</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
エージェントキューは、既知の犯罪者のリストを使用して、最も迅速に敵を検出するアプリケーションを開発しています。</font><font style="vertical-align: inherit;">彼は簡単にこのリストをアプリケーションに表示することができましたが、この上で、そのような重要な情報をメイン画面に表示することにしました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを行うには、ウィジェットが必要です。</font><font style="vertical-align: inherit;">1つの問題：何らかの理由で、ウィジェットにリストが表示されません。</font><font style="vertical-align: inherit;">本能は、問題が1行だけにあることをエージェントに伝えます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最適なソリューションを取得するために、置換する必要がある行と同様に、コンマで名前を付けます。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ノート</font></font></b><div class="spoiler_text"> : [ 1],[ 2] ( )<br>
<br>
 : FrameLayout,ScrollView</div></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解決策</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
1.ウィジェットのレイアウトファイルを探しています。その中に無効なConstraintLayout要素が含まれています（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">developer.android.com/guide/topics/appwidgets#CreatingLayoutを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参照</font><font style="vertical-align: inherit;">）。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2.許容可能な最適な-LinearLayout / FrameLayoutに変更します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
FrameLayoutを使用するとウィジェットの要素のレイアウトが壊れたという事実にもかかわらず、それは依然として回答として受け入れられました。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">修理する！</font><font style="vertical-align: inherit;">＃3</font></font></h3><sup><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">著者：Artyom Viter</font></font></i></sup><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バイナリファイル</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
テスターは、R​​AM消費の異常な増加に気づきました。</font><font style="vertical-align: inherit;">どこかに漏れがあるのではないかと疑われています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
問題を調査して特定する必要があります。</font><font style="vertical-align: inherit;">応答で、アプリケーションクラスメソッドの名前と呼び出し場所を示します。これにより、メモリリークが発生します。</font><font style="vertical-align: inherit;">複数の問題を見つけた場合は、それらすべてをリストしてください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
回答形式：[メソッドが呼び出されるクラスの名前]：[このファイルの行番号]：[メソッド名]（角括弧なし）</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
いくつかの回答を辞書式の順序で、＃で区切って示します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
例：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ExampleFileName.javaファイルにメモリリークがあると思われる場合は、</font></font><br>
<br>
<pre><code class="plaintext hljs">class ExampleFileName {<font></font>
&nbsp;&nbsp;public problemMethodName(Sting arg) {}<font></font>
&nbsp;&nbsp;public test(Sting arg) {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;problemMethodName(arg); //  8   ExampleFileName.java<font></font>
&nbsp;&nbsp;}<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
回答例：ExampleFileName：8：problemMethodName </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解決策</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
最初の方法はコード分析です。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アプリケーションコードを勉強します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初のリークは明らかです。</font><font style="vertical-align: inherit;">これは、SecondActivityクラスのBroadCastReceiver登録です。</font><font style="vertical-align: inherit;">アプリケーションを実行すると、この問題に関するメッセージがlogcatに表示されます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">startTimer（）メソッドに注目すると、CountDownTimerクラスが、textViewへのリンクを持つメインスレッドハンドラーにクロージャーを追加することに気付くでしょう。</font><font style="vertical-align: inherit;">そして、アクティビティが破棄される前に、インスタンス（CountDownTimer）クラスはcancel（）メソッドを呼び出しません。</font><font style="vertical-align: inherit;">これは2番目のメモリリークです。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2番目の方法はツールです。</font><font style="vertical-align: inherit;">アプリケーションに</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">leakcanary</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ライブラリを実装し、</font><font style="vertical-align: inherit;">adbまたはandroidプロファイラを介し</font><font style="vertical-align: inherit;">て</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ヒープダンプを</font></a><font style="vertical-align: inherit;">取得し、受信したレポートを分析できます。</font><font style="vertical-align: inherit;">Eclipse Memory Analyzer（MAT）が分析に役立ちます。</font><font style="vertical-align: inherit;">MATでheapdumpを開くには、hprof-convdユーティリティを使用して、それをMATが理解できる形式に変換する必要があります。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">修理する！</font><font style="vertical-align: inherit;">＃4</font></font></h3><sup><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">著者：Vali Ibragimov</font></font></i></sup><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バイナリファイル</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
イヴァンは今日、オンライン映画館の初日です。彼はクールな開発者なので、映画を観ているときにすぐにクラッシュを修正するように求められました。彼は同時にリファクタリングをすることを決めました。コードはより簡潔でクリーンになり、エラーは再現されなくなりました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、後で映画を見る現在の位置がバックエンドに送信されないことが後で明らかになりました。イヴァンが混同したクラスを理解するのを助ける。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
応答は、使用するクラスの名前です。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">決定</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5秒ごとに視聴位置を送信してネットワークに送信するには、ExecutorServiceを使用します。</font><font style="vertical-align: inherit;">定期的なタスク用にScheduledThreadPoolExecutorを作成したので、Ivanはそれを使用してネットワークにアクセスしませんか？</font><font style="vertical-align: inherit;">結局のところ、ScheduledThreadPoolExecutorはThreadPoolExecutorの継承者です。</font><font style="vertical-align: inherit;">Ivanは、ScheduledThreadPoolExecutorが1つのスレッドしか使用しないとは考えていませんでした。ネットワークにアクセスするときは、定期的なタスクの完了を待つ必要があります。</font></font><br>
<br>
<pre><code class="plaintext hljs">scheduleFuture&nbsp;=&nbsp;scheduledExecutorService.scheduleAtFixedRate(()&nbsp;-&gt;&nbsp;{<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try&nbsp;{<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;timingsApi.sendTiming(filmId,&nbsp;player.getContentPosition()).get();<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;catch&nbsp;(Exception&nbsp;e)&nbsp;{<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.printStackTrace();<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0,&nbsp;PERIOD_SECONDS,&nbsp;TimeUnit.SECONDS);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
問題の解決策は、UIスレッドおよび新しいバージョン2.9ではExoPlayerにアクセスしなかったため、さらに複雑になりました。* ExoPlayerは、これに関する警告をログに書き込み始めました。</font><font style="vertical-align: inherit;">しかし、これは単なる警告であり、Ivanが犯した間違いではありません。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">修理する！</font><font style="vertical-align: inherit;">＃5</font></font></h3><sup><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">著者：Alexander Tsybin</font></font></i></sup><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バイナリファイル</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
1つの会社がFarmer Simulatorゲームを開発していました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このゲームでは、プレイヤーだけが自由に動くことができました。他のすべてのオブジェクトは動かないか、明確に定義された移動の軌跡を持っています。ある時点で、彼らはプレイヤーに障害となる敵をゲームに追加することを決定しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
開発者ヴァシャは敵を実現するように指示されました。実装中に、Vasyaはパフォーマンスの問題に遭遇しました。彼はマルチスレッド化のために修正することにしました。 Vasyaはマルチスレッドに慣れていないため、stackoverflowのソリューションを利用しました。だから彼はパフォーマンスの問題を取り除きました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、テスト段階で、ゲームがフリーズする場合があることが判明しました。 Vasyaが理由を見つけるのを手伝ってください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
応答として、問題のあるコード行の番号を入力します-スペースなしで、昇順でコンマで区切ってください。</font><font style="vertical-align: inherit;">ここでは、1,17,42 </font><font style="vertical-align: inherit;">
プリミティブ型</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ボクシング</font><b><font style="vertical-align: inherit;">の決定</font></b><font style="vertical-align: inherit;">（たとえば、Integerのint）-高価な演算。</font><font style="vertical-align: inherit;">最適化のために、Javaマシンはそのようなオブジェクトを再利用することがあります。</font><font style="vertical-align: inherit;">行も例外ではありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ENEMY_LOCK行とDECISIONS_LOCK行は、同期のコードで使用されます。</font><font style="vertical-align: inherit;">そのため、プロジェクト内で同じ行に同期がある場所があると、デッドロックが発生する可能性があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通常、同期にはString / Integerなどを使用できません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
正解：7.8</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">修理する！</font><font style="vertical-align: inherit;">＃6</font></font></h3><sup><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作成者：Ivan Pukhov</font></font></i></sup><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バイナリファイル</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
画像処理チームが新しいネイティブライブラリをリリースしました。試してみて、問題があれば指摘してください。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解決策</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
これは単純なウォームアップタスクです。リソースには、ライブラリ自体とそのヘッダーファイルがあります。ヘッダーで、jobjectを返す唯一の関数。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（NDKをインストールして）テストプロジェクトを作成して呼び出す以外に何も残っていません。メインスレッドの関数呼び出しは、このように呼び出さないように要求する例外をスローします。実行を何らかの方法で別のスレッドに転送します-それはすべて機能します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、返されたオブジェクトを確認する価値があります-それは本当にビットマップですか？</font><font style="vertical-align: inherit;">最も簡単な方法は、ImageViewにすぐに表示することです。</font><font style="vertical-align: inherit;">テキスト文字列を含む画像が表示され、タスクも文字列の形式で回答を要求します。</font><font style="vertical-align: inherit;">これはおそらく単なる偶然ではありません。</font><font style="vertical-align: inherit;">:)</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">修理する！</font><font style="vertical-align: inherit;">＃ 7</font></font></h3><sup><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">著者：Dmitry Zaitsev</font></font></i></sup><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バイナリファイル</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
必要なコードがフレームで強調表示されているコードを含むアプリケーションがあり</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">残念ながら、レイアウトは壊れており、コードを見つけるには復元する必要があります。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ノート</font></font></b><div class="spoiler_text">        22 ,      ,      .<br>
<br>
 : ScQG1jxbazmjbcARefbRMo</div></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソリューション</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Now Daggerは、Android開発における事実上の標準になりました。</font><font style="vertical-align: inherit;">DIが既に構成されている場合、コンストラクターの前にInjectを記述して、残りの作業をすべてDaggerに渡すのは非常に簡単です。</font><font style="vertical-align: inherit;">依存関係がどのように提供されるかについて後で考えるのをやめることができるほど簡単です。</font><font style="vertical-align: inherit;">また、Androidでは、Contextクラスとその子孫であるApplicationとActivityを操作する必要があります。</font><font style="vertical-align: inherit;">アプリケーションはアプリケーションのライフサイクルに関連付けられ、アクティビティは画面のライフサイクルに関連付けられます。</font><font style="vertical-align: inherit;">したがって、これらのクラスを使用する場合、多くの機能を観察することが重要です。</font><font style="vertical-align: inherit;">タスクは正確に間違ったコンテキストの使用に基づいており、これはすべてDIを使用してマスクされます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
解決するには、次の手順を実行します。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロジェクトファイルを調べて、ItemStyleがすべてのTextViewに適用されていることを確認します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スタイルが実際に適用されていないことを確認してください。</font><font style="vertical-align: inherit;">これは、問題がトピックに関連しているため、アクティビティのコンテキストに関連しているという考えにつながるはずです。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">依存関係グラフを理解し、アプリケーションコンテキストがアダプターで提供されることを理解します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ContestAdapterで、コンテキストタイプをActivityに変更します。</font></font></li>
</ol><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">修理する！</font><font style="vertical-align: inherit;">＃8</font></font></h3><sup><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">著者：Vali Ibragimov</font></font></i></sup><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バイナリファイル</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ivanには、DIを使用してContentProviderを通じてタスクのリストを取得するためにアプリケーションをリファクタリングするタスクが与えられました。</font><font style="vertical-align: inherit;">彼はDaggerを使用してアプリケーションをリファクタリングし、それが起動すると、アプリケーションがクラッシュし始めました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ivanが理由を理解できるようにしてください。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">別のクラスに転送するクラス名の行番号を指定します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アプリケーションがクラッシュする理由を理解するのに役立つ場所へのアンカーを備えたドキュメントへのリンクを提供します。</font></font></li>
</ol><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ノート</font></font></b><div class="spoiler_text"> : [ ]:[ ]-&gt;[ ]:[ ],[]<br>
<br>
 :<br>
<br>
FirstCLass:12- &gt;SecondClass:45,https://developer.android.com/reference/android/app/Activity#activity-lifecycle</div></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソリューション</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
タスクは2つの部分で構成されてい</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ました。1. DIコンポーネントにアクセスするときのContentProviderのクラッシュソリューションを理解して提供します。</font><font style="vertical-align: inherit;">正しい解決策は、DIコンポーネントの初期化をContentProviderに転送することでした。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fu/nr/n_/funrn_gbeansq3bwonjrrsaknoc.png" width="800"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ContentProviderのonCreateメソッドは、Applicationの前に呼び出されます。</font><font style="vertical-align: inherit;">これは、ActivityThreadクラスのアプリケーション開始コードとhandleBindApplicationメソッドを調べれば簡単に確認できます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/r9/xk/vr/r9xkvrg0kjjiefi0xtruxlvnhwm.png" width="620"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. ContentProviderのonCreateがApplicationより早く呼び出されることを説明するリンクを提供します。</font><font style="vertical-align: inherit;">GoogleはContentProviderのドキュメントページでこれについて言及していません。</font><font style="vertical-align: inherit;">しかし、これはonCreate Aplicationメソッドの説明からの抜粋です。</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アプリケーションの開始時、アクティビティ、サービス、またはレシーバーオブジェクト（コンテンツプロバイダーを除く）が作成される前に呼び出されます。</font></font></blockquote><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">修理する！</font><font style="vertical-align: inherit;">＃9</font></font></h3><sup><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">著者：Alexander Tsybin</font></font></i></sup><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バイナリファイル</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
開発者には、要素のリスト用にViewを実装するタスクが与えられました。</font><font style="vertical-align: inherit;">TKでは重要な要件がありました。リストを最初と最後の要素までスクロールして、これらの要素が画面の中央に表示されるようにする必要がありました。</font><font style="vertical-align: inherit;">開発者は機能を実装しましたが、テストすると、センタリングが機能しない場合があります。</font><font style="vertical-align: inherit;">開発者がコード内の問題のある行を見つけられるようにします。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ノート</font></font></b><div class="spoiler_text"> :<br>
<br>
&lt;   &gt;:&lt;   &gt;<br>
<br>
&lt;   &gt;:&lt;   &gt;<br>
<br>
      .       .<br>
<br>
 :<br>
<br>
BarFoo:1<br>
<br>
FooBar:12,13,14,99</div></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解決策</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
コードに</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
は2つの問題</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">があります。1.コードから判断すると、onViewDetachedFromWindowの呼び出しは常にonBindViewHolderの後に発生すると想定されていますが、そうではありません。 onViewDetachedFromWindowのツインメソッドはonViewAttachedToWindowです。その結果、holder.view.reset（）が呼び出され、スクロールが遅いと中央揃えが消えます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2.バージョン7より前のAndroidでは、addView（rootView、params）が期待どおりに機能しません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
あなたはビューを追加すると、LayoutParamはこのようになりますこれは、生成されます：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-マシュマロ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/aosp-mirror/platform_frameworks_base/blob/marshmallow-release/core/java/android/widget/FrameLayout.java#L403</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ヌガー-</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/aosp-mirror/platform_frameworks_base/blob/nougat-release/core/java/android/widget/FrameLayout.java#L384</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
FrameLayout.LayoutParamsには2つのコンストラクターがあり、そのうちの1つはViewGroup.MarginLayoutParamsを受け取り、それ自体をコピーします</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/aosp-mirror/platform_frameworks_base/blob/nougat-release/core/java/android/view/ViewGroup.java#L7314</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
2番目のコンストラクターはViewGroup.LayoutParamsを受け入れ、マージンを無視します：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/aosp-mirror/platform_frameworks_base/ /nougat-release/core/java/android/view/ViewGroup.java#L7328</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
その結果、バージョン7までのAndroidではセンタリングが機能しません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
回答：</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ItemView：35 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MainActivity：53</font></font><br>
<br>
<a name="hack"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リバースエンジニアリング</font></font></h1><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ハック！</font><font style="vertical-align: inherit;">＃1</font></font></h3><sup><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">著者：Valentin Baryshev</font></font></i></sup><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バイナリファイル</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
1人の開発者が急いで、コンテストに送信する前に最終的な.apkをテストしませんでした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
彼はactivity_main.xmlでいくつかのビューグループを混同していることがわかりました。さらに、キーの各文字を個別のテキストビューに配置しました。その結果、レイアウト上のすべてのビューが分離し、画面上に完全な怒りが生じました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
現在のビューグループの代わりに使用するビューグループを決定してください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
問題に対する答えは、正しいビューグループを置き換えた後に画面に表示されるコードです。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解決</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
方法.apkを可能な限り何らかの方法で逆コンパイルし（たとえば、オンライン逆コンパイラ）、コードを使用してプロジェクトを再作成する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
main_layoutを分析すると、属性からルートビューグループがConstraintLayoutであると推測できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
回答：tniartsnoc</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ハック！</font><font style="vertical-align: inherit;">＃2</font></font></h3><sup><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">著者：Alexander Tsybin</font></font></i></sup><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バイナリファイル</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
経験豊富なユーザーがアプリケーションをクラッシュさせました。</font><font style="vertical-align: inherit;">彼はびっくりせず、ログを開いて、エラーの原因となった行を見つけました：N72XbphDx5NnFl6CKMNl8w ==、それをテクニカルサポートに送信しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
彼は、コードリポジトリを使用する前に開発された古いバージョンのアプリケーションを使用していることが判明したため、復号化コードは失われました。</font><font style="vertical-align: inherit;">ただし、古いバージョンのアプリケーションの.apkを見つけることは可能でした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
メッセージの解読にご協力ください。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解決</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
方法.apkを可能な限り何らかの方法で逆コンパイルし（たとえば、オンライン逆コンパイラ）、コードを使用してプロジェクトを再作成する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コード自体には暗号化関数と復号化関数の両方が含まれており、暗号化された文字列を渡して答えを得ることができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
回答：</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
TF：よくできました！</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ハック！</font><font style="vertical-align: inherit;">＃3</font></font></h3><sup><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">著者：Valentin Baryshev</font></font></i></sup><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バイナリファイル</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Androidアプリケーションのライフサイクルをどのくらい知っていますか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
システムがアプリケーションプロセスを強制終了できる場合があることをご存知ですか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アプリケーションでこの状況をシミュレートします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アプリケーションを復元すると、コードの形式で回答が表示されます。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソリューション</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
電話に.apkをインストールし、システムがアプリケーションをアンロードするときに開始してケースを取得するだけで十分でしたが、同時にそれはカーテンに残りました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1つのオプションは、アプリケーションをインストールして起動し、最小化する（または単に別のアプリケーションに切り替える）ことです。</font><font style="vertical-align: inherit;">次に、adb経由でコンピューターに接続します。</font><font style="vertical-align: inherit;">Android Studioで、[Logcat]タブを選択し、このアプリケーションのプロセスを選択して、赤い停止アイコンをクリックします。</font><font style="vertical-align: inherit;">次に、以前に最小化したアプリケーションをカーテンから開きます。</font><font style="vertical-align: inherit;">画面に答えが表示されます：sss2384gxcxxX。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ハック！</font><font style="vertical-align: inherit;">＃4</font></font></h3><sup><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">著者：Ivan Pukhov</font></font></i></sup><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バイナリファイル</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
フロントエンドの同僚が新しいモジュールのデモ版を投稿しましたが、仕様を送信するのを忘れていました。現在、彼は別のタイムゾーンで寝ており、デモは数分で完了する必要があります。同僚との会話から、「はい、そこにいるのは簡単です。スタブを書くだけで機能します」という彼のフレーズを覚えています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アーカイブをダウンロードして、同僚なしで対処してみてください。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解決策</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
これは簡単な作業ですが、好奇心と忍耐力が必要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アーカイブをダウンロードし、その内容をローカルテストサーバーにアップロードし、WebViewでプロジェクトを作成して実行します。しばらくすると、「向きを調整してください」というメッセージが表示されます。以上です。しかし、メッセージはおそらくあなたはあなたの手で電話をひねるべきであることを示唆しますか？その後、スローされた例外に関する疑わしいメッセージが表示されます-コンソール出力を確認するための呼び出しが含まれます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コンソールを開くと、APIオブジェクトに存在しないメソッドの呼び出しが表示されています。 WebViewにオブジェクトを追加してJS APIを実装し、アプリケーションのテストを再度試みます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どうやら、それは戻り値を追加する価値があります。</font><font style="vertical-align: inherit;">選択して追加します-機能します。</font><font style="vertical-align: inherit;">しかし、どこにも答えを出す道はありません。</font><font style="vertical-align: inherit;">もう一度電話を回します-新しいメソッドが呼び出されます。</font><font style="vertical-align: inherit;">それも追加します。</font><font style="vertical-align: inherit;">数回繰り返した後、finalizeCalibrating呼び出しを取得してから、行が到着するstoreResultを取得します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ソースをダウンロードするとき、あなたは何も解決したくないかもしれませんが、それらを開いて答えを引き出します。</font><font style="vertical-align: inherit;">この方法は機能しますが、途中でいくつかの小さな熊手があなたを待っています。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ハック！</font><font style="vertical-align: inherit;">＃5</font></font></h3><sup><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">著者：</font></font></i></sup><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
新しいバージョンのandroidの</font><sup><i><font style="vertical-align: inherit;"> Ivan Pukhov</font></i></sup><font style="vertical-align: inherit;"> Dev-assemblyがネットワークにリークし、新しいアプリケーション署名メカニズムがデバイスで直接デバッグされました。</font><font style="vertical-align: inherit;">このアセンブリでは、署名用の秘密鍵がシステムソースに組み込まれ、開発者はそれを受け取るためにUIの一部を残しました。</font><font style="vertical-align: inherit;">キーを見つけます。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ノート</font></font></b><div class="spoiler_text"> :   32  <br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">   (Mac OS X)</a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">   (Windows)</a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">   (Linux)</a></div></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解決策</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
1.エミュレーターを実行すると、SecretActivityアプリケーションが表示されます。</font><font style="vertical-align: inherit;">それを開くと、トーストが表示され、ログを確認できます。</font><font style="vertical-align: inherit;">これはデバッグアセンブリであるため、多くのログがあり、アプリケーションの名前でフィルター処理する必要があります。</font></font><br>
<br>
<pre><code class="bash hljs">adb logcat | grep <span class="hljs-string">'SecretActivity'</span></code></pre><br>
<code>1898 1898 E SecretActivity: Try broadcast ZggwxXsaQ9SapPKyHpnwnYmALHazVFWX</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2.ログからアクション付きのブロードキャストをスローしようとします。</font></font><br>
<br>
<pre><code class="bash hljs">adb shell am broadcast -a ZggwxXsaQ9SapPKyHpnwnYmALHazVFWX</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3.画面にトーストが表示され、SecretReceiverタグによるログの表示が提案されます。</font></font><br>
<br>
<pre><code class="bash hljs">adb logcat | grep <span class="hljs-string">'SecretReceiver'</span></code></pre><br>
<code>&nbsp;&nbsp;1898 1898 E SecretReceiver: ISecretService.aidl<br>
&nbsp;&nbsp;1898 1898 E SecretReceiver: package android.app;<br>
&nbsp;&nbsp;1898 1898 E SecretReceiver: interface ISecretService {<br>
&nbsp;&nbsp;1898 1898 E SecretReceiver: String getSecret();<br>
&nbsp;&nbsp;1898 1898 E SecretReceiver: }<br>
&nbsp;&nbsp;1898 1898 E SecretReceiver: See global settings to bind SecretService</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4.グローバル設定を見て、SecretServiceに接続するアクションを見つけます。</font></font><br>
<br>
<pre><code class="bash hljs">adb shell settings list global</code></pre><br>
<code>&nbsp;&nbsp;...<br>
&nbsp;&nbsp;bind_secret_service_action=g8mNyGQZR8aHLTXNWcjdwJJYZ85Ewx83<br>
&nbsp;&nbsp;...</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5.このエイドルインターフェイスを使用して、ISecretServiceサービスのクライアントを作成しています。</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Activity</span> </span>{<font></font>
<font></font>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> </span>{
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState);<font></font>
<font></font>
        Intent intent = <span class="hljs-keyword">new</span> Intent();<font></font>
        intent.setAction(<span class="hljs-string">"g8mNyGQZR8aHLTXNWcjdwJJYZ85Ewx83"</span>);<font></font>
<font></font>
        PackageManager pm = getPackageManager();<font></font>
        List&lt;ResolveInfo&gt; resolveInfoList = pm.queryIntentServices(intent, <span class="hljs-number">0</span>);<font></font>
<font></font>
        <span class="hljs-keyword">if</span> (resolveInfoList == <span class="hljs-keyword">null</span> || resolveInfoList.size() != <span class="hljs-number">1</span>) {
            <span class="hljs-keyword">return</span>;<font></font>
        }<font></font>
<font></font>
        ResolveInfo serviceInfo = resolveInfoList.get(<span class="hljs-number">0</span>);<font></font>
        ComponentName component = <span class="hljs-keyword">new</span> ComponentName(serviceInfo.serviceInfo.packageName, serviceInfo.serviceInfo.name);<font></font>
        Intent explicitIntent = <span class="hljs-keyword">new</span> Intent(intent);<font></font>
        explicitIntent.setComponent(component);<font></font>
<font></font>
        bindService(explicitIntent, <span class="hljs-keyword">new</span> ServiceConnection() {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onServiceConnected</span><span class="hljs-params">(ComponentName name, IBinder service)</span> </span>{<font></font>
                ISecretService secretService = ISecretService.Stub.asInterface(service);<font></font>
                <span class="hljs-keyword">try</span> {<font></font>
                    Log.d(<span class="hljs-string">"MainActivity"</span>, secretService.getSecret());<font></font>
                } <span class="hljs-keyword">catch</span> (Exception e) {<font></font>
                    Log.e(<span class="hljs-string">"MainActivity"</span>, <span class="hljs-string">"RemoteException"</span>, e);<font></font>
                }<font></font>
            }<font></font>
<font></font>
            <span class="hljs-meta">@Override</span>
            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onServiceDisconnected</span><span class="hljs-params">(ComponentName name)</span> </span>{<font></font>
<font></font>
            }<font></font>
        }, Context.BIND_AUTO_CREATE);<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
6.実行すると、ログで答えが得られます。</font></font><br>
<br>
<pre><code class="bash hljs">adb logcat | grep <span class="hljs-string">'MainActivity'</span></code></pre><br>
<code>&nbsp;&nbsp;1898 1898 E MainActivity: VENHz=qWr7y!t3ZhP!8Skw!!kcTkt7V%</code><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ハック！</font><font style="vertical-align: inherit;">＃6</font></font></h3><sup><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作成者：Pavel Vorobkalov</font></font></i></sup><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バイナリファイル</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
タッパー氏は、メッセージを送信するAndroid用のアプリケーションを作成しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
メッセージを復号化して次に進みます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
回答形式：リンクとしての文字列。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解決策</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
デバイスにアプリケーションをインストールして実行します。メッセージの送信と数式の送信の2つのボタンが表示されます。それらをクリックしても、何も表示されません。アプリケーションが送信する方法と場所を把握する必要があります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/d7/1k/ea/d71kea2oipwhydwmurf5hroelpy.png" width="300"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リバースエンジニアリングの手段を使用して.apkアプリケーションを開き、メインのアクティビティを確認します。</font><font style="vertical-align: inherit;">そこで、onSendMessageClickメソッドとonSendFormulaClickメソッドを確認できます。</font><font style="vertical-align: inherit;">彼らは、アクション「com.yandex.tupper.action.NEW_MESSAGE」とキー「com.yandex.tupper.message」を使用してインテントを作成し、リストからアプリケーションに送信します（一般的な方法を使用）。</font><font style="vertical-align: inherit;">彼らはPackageManager.queryBroadcastReceiversを呼び出すことによってリストを取得します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アプリケーションコードから分離して、リバースエンジニアリングを使用してメッセージの調査を続けることができます。</font><font style="vertical-align: inherit;">ただし、このパスは、RSA暗号化が追加されているため、意図的に（多少ではありますが）複雑になっています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Androidプログラミングによりよく一致する別の方法があります。</font><font style="vertical-align: inherit;">このブロードキャストインテントを処理するアプリケーションを作成する必要があります。</font><font style="vertical-align: inherit;">マニフェストレジスタレシーバーにアプリケーションを作成します。</font></font><br>
<br>
<pre><code class="xml hljs">        <span class="hljs-tag">&lt;<span class="hljs-name">receiver</span>
            <span class="hljs-attr">android:name</span>=<span class="hljs-string">".TupperMessageReceiver"</span>
            <span class="hljs-attr">android:enabled</span>=<span class="hljs-string">"true"</span>
            <span class="hljs-attr">android:exported</span>=<span class="hljs-string">"true"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">intent-filter</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"com.yandex.tupper.action.NEW_MESSAGE"</span> /&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">intent-filter</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">receiver</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ハンドラーでは、extraからメッセージを取得して独自のアクティビティを実行し、処理の結果を表示します。</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TupperMessageReceiver</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">BroadcastReceiver</span> </span>{
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onReceive</span><span class="hljs-params">(Context context, Intent intent)</span> </span>{<font></font>
        String message = intent.getStringExtra(MainActivity.EXTRA_MESSAGE);<font></font>
        <span class="hljs-keyword">if</span> (message == <span class="hljs-keyword">null</span>) {
            <span class="hljs-keyword">return</span>;<font></font>
        }<font></font>
<font></font>
        Intent activityIntent = <span class="hljs-keyword">new</span> Intent(context, MainActivity.class);<font></font>
        activityIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);<font></font>
        activityIntent.putExtra(MainActivity.EXTRA_MESSAGE, message);<font></font>
        context.startActivity(activityIntent);<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、メッセージ自体の復号化について説明します。</font><font style="vertical-align: inherit;">Yandexで「タッパーのメッセージ」を検索</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すると</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、タッパーの式に関するワッパーの式</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">に関する記事</font></a><font style="vertical-align: inherit;">が見つかります</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">数値の形式でエンコードされた式の例があります。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">48584 ...</font></font></b><div class="spoiler_text"><pre><code class="plaintext hljs">4858450636189713423582095962494202044581400587983244549483093085061934704708809928450644769865524364849997247024915119110411605739177407856919754326571855442057210445735883681829823754139634338225199452191651284348332905131193199953502413758765239264874613394906870130562295813219481113685339535565290850023875092856892694555974281546386510730049106723058933586052544096664351265349363643957125565695936815184334857605266940161251266951421550539554519153785457525756590740540157929001765967965480064427829131488548259914721248506352686630476300</code></pre></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この番号は、[式の送信]ボタンをクリックするとメッセージとして送信されます。</font><font style="vertical-align: inherit;">数字をデコードした結果は、ウィキペディアの記事にもあります。</font><font style="vertical-align: inherit;">デコードアルゴリズムの実装のデバッグに使用できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デコードアルゴリズムをJavaで実装し、美しさのために、結果の2進数をモノクロのビットマップに変換します。</font></font><br>
<br>
<pre><code class="java hljs"> <span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TupperCodec</span> </span>{
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> TUPPER_R = <span class="hljs-number">17</span>;<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">TupperCodec</span><span class="hljs-params">()</span> </span>{}<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> BigInteger <span class="hljs-title">decodeFromDecString</span><span class="hljs-params">(String decString)</span> <span class="hljs-keyword">throws</span> NumberFormatException </span>{<font></font>
        BigInteger data = <span class="hljs-keyword">new</span> BigInteger(decString, <span class="hljs-number">10</span>);
        <span class="hljs-keyword">return</span> data.divide(BigInteger.valueOf(TUPPER_R));<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">getNumberAsBinImage</span><span class="hljs-params">(BigInteger number)</span> </span>{<font></font>
        String binString = number.toString(<span class="hljs-number">2</span>);<font></font>
        StringBuffer result = <span class="hljs-keyword">new</span> StringBuffer(binString.length());<font></font>
<font></font>
        <span class="hljs-keyword">int</span> i;
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; binString.length(); i++) {
            <span class="hljs-keyword">if</span> ((i % TUPPER_R) == <span class="hljs-number">0</span> &amp;&amp; i &gt; <span class="hljs-number">0</span>) {<font></font>
                result.append(<span class="hljs-string">'\n'</span>);<font></font>
            }<font></font>
            result.append(binString.charAt(binString.length() - <span class="hljs-number">1</span> - i));<font></font>
        }<font></font>
        <span class="hljs-keyword">int</span> numberOfRows = (binString.length() + TUPPER_R - <span class="hljs-number">1</span>) / TUPPER_R;
        <span class="hljs-keyword">for</span> (; i &lt; numberOfRows * TUPPER_R; i++) {<font></font>
            result.append(~_~quot�quot~_~);<font></font>
        }<font></font>
        <span class="hljs-keyword">return</span> result.toString();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Bitmap <span class="hljs-title">getBinImageAsBitmap</span><span class="hljs-params">(String binImage)</span> </span>{<font></font>
        String[] lines = binImage.split(<span class="hljs-string">"\n"</span>);
        <span class="hljs-keyword">int</span>[] colors = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[lines.length * TUPPER_R];
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; lines.length; i++) {<font></font>
            String line = lines[i];<font></font>
            <span class="hljs-keyword">assert</span> line.length() == TUPPER_R;
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; line.length(); j++) {<font></font>
                colors[i * TUPPER_R + j] = line.charAt(j) == <span class="hljs-string">'0'</span> ? Color.WHITE : Color.BLACK;<font></font>
            }<font></font>
        }<font></font>
        <span class="hljs-keyword">return</span> Bitmap.createBitmap(colors, TUPPER_R, lines.length, Bitmap.Config.ARGB_8888);<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アクティビティでは、デコードを呼び出し、結果をImageViewのビットマップとして表示します。</font></font><br>
<br>
<pre><code class="java hljs"> <span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AppCompatActivity</span> </span>{<font></font>
<font></font>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String EXTRA_MESSAGE = <span class="hljs-string">"com.yandex.tupper.message"</span>;<font></font>
<font></font>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> </span>{
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState);<font></font>
        setContentView(R.layout.activity_main);<font></font>
<font></font>
        Intent intent = getIntent();<font></font>
        <span class="hljs-keyword">if</span> (intent != <span class="hljs-keyword">null</span> &amp;&amp; intent.hasExtra(MainActivity.EXTRA_MESSAGE)) {<font></font>
            String message = intent.getStringExtra(MainActivity.EXTRA_MESSAGE);<font></font>
<font></font>
            <span class="hljs-keyword">try</span> {<font></font>
                BigInteger data = TupperCodec.decodeFromDecString(message);<font></font>
                String binImage = TupperCodec.getNumberAsBinImage(data);<font></font>
                Bitmap bitmap = TupperCodec.getBinImageAsBitmap(binImage);<font></font>
<font></font>
                ImageView imageView = findViewById(R.id.message_image);<font></font>
                imageView.setImageBitmap(bitmap);<font></font>
<font></font>
                CharSequence toastText =<font></font>
                        TextUtils.ellipsize(message, <span class="hljs-keyword">new</span> TextPaint(), <span class="hljs-number">400</span>, TextUtils.TruncateAt.END);<font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, toastText, Toast.LENGTH_SHORT).show();<font></font>
            } <span class="hljs-keyword">catch</span> (NumberFormatException ex) {<font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, getString(R.string.invalid_message), Toast.LENGTH_LONG).show();<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
}</code></pre><br>
<img src="https://habrastorage.org/webt/zf/ji/7b/zfji7bvxc9uz3avkrwqz65hc7lo.png" width="300"><br>
<b><sup><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デコードされたメッセージのスクリーンショット</font></font></sub></sup></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
-回答</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">clck.ru/FevR5</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ハック！</font><font style="vertical-align: inherit;">＃ 7</font></font></h3><sup><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作成者：Igor Eremeev</font></font></i></sup><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バイナリファイル</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
アプリケーションのキー検証アルゴリズムをハックする必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アプリケーションでは、アクティベーションキーを入力する必要があります。あなたは彼を知りませんが、それに実装されている鍵検証アルゴリズムをダウンロードしてハッキングして、この鍵を見つけることができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
回答形式：正しいキーを入力すると、このタスクを渡すためのソリューション文字列が取得されます。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソリューション</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
.apkをzipアーカイブとして開き、そこからclasses.dex（アプリケーションのコンパイル済みJavaコード）を取得します。さらに、ファイルは、たとえばdex2jarの束とAndroid Studioを使用して、読み取り可能な形式に逆コンパイルできます。 dex2jarはJavaバイトコードを復元し、Android Studioにはクラスファイル用の優れた逆コンパイラが標準で付属しています。他にも同様のプログラムがあり、どれでも選択できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プロガードの後で名前を保存した数少ないクラスの1つ（android.support。*とandroidx。*を除きますが、これらは私たちにとって興味深いものではありません）は、com.yandex.contest.keygenme.MainActivity、アプリケーションのアクティビティです。インライン化により、アルゴリズムが2つの部分（MainActivity.a＃doInBackgroundとクラスbbaab）に分割されたことがわかります。クラスbでは、キーを形成するソースデータの配列を確認できます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/6d/sa/vb/6dsavb2ct67ou-f8hknj6c7twpy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらは配列cおよびdです。アルゴリズムで、数πのN番目の16進符号（ベイリーボーワインプラッフ式）の計算を推測できた場合、最も効率的な方法で解を見つけることができます。答えは、πが</font><sub><font style="vertical-align: inherit;">16進数になる</font></sub><font style="vertical-align: inherit;">ようなキー値</font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[c [i] +キー[i]] = d [i]、i = 0..11。答えが可能な唯一のものになるように値が選択されます。答えは、数πの最初の5万桁の16進文字についてインターネットで公開されているデータにあります。 537306089144.この場合、プログラムはkey_2056BE33E064コンテストに回答します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
逆アセンブルされたコードを使用してアルゴリズムを推測するスキルがあまり良くない場合は、それを解決するためのより単純で効果的な方法があります。それは値の列挙です。 doInBackgroundメソッドのコードを見てみましょう。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/4o/io/62/4oio62zqs03jzqonptpka1tb_rs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
各反復は他とは独立して処理され、反復の成功は条件（var12 [0] == var8）{...}によって決定されることがわかります。</font><font style="vertical-align: inherit;">反復の開始時のvar7の値は、ユーザー入力のi番目の桁です。</font><font style="vertical-align: inherit;">各反復のvar7値が0から9まで実行され、条件がループの最後で満たされた場合にのみコンソールに表示されるように、コードを変更するのは簡単です。</font><font style="vertical-align: inherit;">これが鍵になります。</font><font style="vertical-align: inherit;">コードを書き直し、.apkを再パッケージして（またはこのフラグメントをデスクトップJVMで実行して）、回答を得ることができました。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ハック！</font><font style="vertical-align: inherit;">＃8</font></font></h3><sup><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">著者：Alexander Vasin</font></font></i></sup><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バイナリファイル</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
中国広東省の小さな都市Nのラジオ市場を歩いていると、あなたの友人は彼の古い車のラジオを見ました。その特徴は尊敬を呼び起こします。Androidオペレーティングシステムのバージョン4.4、解像度1200×600の画面、プロセッサの4つのコア、さらには統合されたFMラジオです。友人が出張から家に帰ったとき、車にラジオを取り付けたところ、FMラジオが機能していないことに気付きました。彼はFMラジオアプリケーションをUSBフラッシュドライブにコピーすることができ、長年の経験を持つプログラマーとしてあなたに連絡することにしました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アプリケーションを逆コンパイルしてその中のクラスを見つける必要があります。これにより、アプリケーションはラジオに組み込まれているFMラジオを制御します。タスク内のこのクラスのメソッドは空のままで、他のメソッドを呼び出しません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この問題に対する答えは、メソッドの順序になり、次の手順を実行するために必要な：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1.変更の無線周波数106.00 kHzの</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2.自動アップ次のラジオ局求める</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
戻り、現在の周波数があること3.メソッドを</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
あなたの友人の送信されたアプリケーションをダウンロードしてください。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ノート</font></font></b><div class="spoiler_text"> :            .        .<br>
<br>
 : ,   a(106.00)     106.00 ,  b(true)   ,   c()  ,     a(106.00);b(true);c()</div></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソリューション</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
私たちの仕事：FMラジオがアプリケーションによって制御される方法を見つけること。 .apkのすべてのコードはdexファイルにあります。アプリケーションを逆コンパイルしてJavaに戻す必要があります。私たちの意見では、最も便利な逆コンパイラ-jadxは簡単です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
逆コンパイルされた.apkを受け取ったら、そのリソースを確認できます。マニフェストで宣言されるMainActivityは1つだけです。そのコードを見てみましょう。fragment_holderはRadioFullFragmentに置き換わっています。私たちはクラスを旅し始めます。フラグメントのソースコードには、ChangeRadioFrequencyUsecaseを含むRadioFullPresenterがあり、そこからRadioRepoインターフェイスにアクセスします。その実装を見つけます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべての「実装RadioRepo」ファイルを検索します。 1つの実装：RadioRepoImpl。特定のクラスが必要であることが明らかになるb。 ServiceConnection-サービスへの明示的な接続。フィールドbはラムダ$ new $ 0 $ RadioRepoImplでのみ割り当てられることに注意してください。検索後、$$ Lambda $ RadioRepoImpl $ FYTR9gAgZEGvrLjkbkpAIup7OKwに到達します。これはIRadioService radioServiceのserviceConnectionメソッドに渡されます。これはインターフェースであり、RadioServiceクラスによって実装されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを開きます。onServiceConnectedには、「b radioManager = Stub.asInterface（service）」という行があります。私たちが接続しているサービスを理解することはまだ残っています。これを行うには、「bindService」を探します。 「com.some_company.help_service」インテントを持つbindServiceを見つけます。サービスはマニフェストに登録され、そこに戻ってcom.some_company.carradio.FmUtilsに入る必要があります。私たちが正しい軌道に乗っていると言う手がかりを見る。見回すと、jは周波数を返し、整数値として8880は88.00 MHzに相当します。したがって、頻度を変更するには、8800を渡す必要があります。整数はメソッドaのみを受け入れます。彼が頻度を変えることは論理的です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
自動検索を見つけるために残っています。</font><font style="vertical-align: inherit;">kとzの2つの候補があります。</font><font style="vertical-align: inherit;">チェーン全体に戻り、RadioRepoImplでenableRadio（）メソッドとdisableRadio（）メソッドの両方がkメソッドを呼び出していることに注意してください。</font><font style="vertical-align: inherit;">近くにはz（boolean isForwardDirection）メソッドがあります。これは、次のラジオ局を「シーク」するのとよく似ています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべてをまとめて答えを得る：a（10600）; z（true）; j（）。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ハック！</font><font style="vertical-align: inherit;">＃9</font></font></h3><sup><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作者：Eduard Matsukov。Binary</font></font></i></sup><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> file。</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ポイントの配列をフラットバッファから抽出して、マップに配置する必要があります。</font><font style="vertical-align: inherit;">GPX形式などでマッピングすることをお勧めします。</font><font style="vertical-align: inherit;">地図上に座標を表示します。</font><font style="vertical-align: inherit;">ソースデータはバイナリ形式で提供されます。ファイルをダウンロードしてください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
タスク内のFlatBuffersデータスキーマ：</font></font><br>
<br>
<pre><code class="plaintext hljs">namespace ru.yandex.android.task;<font></font>
struct GeoPoint { latitude:double; longitude:double; }<font></font>
table Points { items:[GeoPoint]; }<font></font>
root_type Points;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
回答形式：sha256アルゴリズムで変換する単語。これが問題の答えになります。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソリューション</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
最初に、FlatBuffersとは何かを理解する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. fbs-schemesのコンパイラを見つけて、問題のステートメントで提供されているスキームを彼に提供しようとします。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2.出力はJavaコードです。テストJVMプロジェクトを作成し、コードをコンパイルして、Gradleに応じてフラットバッファランタイムライブラリを追加します。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3.生成されたfbs-schemaコードを使用して空のプロジェクトをコンパイルしようとしています。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4. fbsコンパイラの最新バージョンを使用している場合、生成されたコードのエラーにより、プロジェクトはコンパイルされません。存在しないメソッドがそこに示されます。生成されたコードを修正するには、FlatBuffersのデータ型と構造に関するドキュメントを読みます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5.ドキュメントの必要なセクションから、コードの修正方法を簡単に理解できます。現在、構造体はテーブルと呼ばれているため、構造体を作成および操作するための存在しないすべてのメソッドをテーブルに変更する必要があります。その後、コードはコンパイルできるようになります。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
6.もう少し進んで、生成されたコードをKotlinですぐに書き直すことができます。したがって、変換の本質とFlatBufferを使用した作業のメカニズムをよりよく理解できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
fbsのドキュメントにブックマークを残し、タスクの条件からバイナリファイルを解析するアプリケーションコードの作成を開始します。これを行うには、FlatBufferBuilderを作成し、バイナリ入力全体をフィードします。次に、入力を構造に変換してみます。</font></font><br>
<br>
<pre><code class="plaintext hljs">val pointsList = Points.getRootAsPoints(buffer)<font></font>
    val restoredPoints = (0 until pointsList.itemsLength())<font></font>
            .mapNotNull(pointsList::items)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
構造の説明がすべて問題なければ、変換は成功し、地理的ポイント（緯度、経度）のリストが取得されます。</font><font style="vertical-align: inherit;">このリストは、そのままのカードに重ねたり、GPXトラックに変換したりできます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
GPXトラック（または類似の形式）に変換するために、形式仕様を見つけます。</font><font style="vertical-align: inherit;">GPXの場合、これはプレーンXMLです。</font><font style="vertical-align: inherit;">それぞれのジオポイントを、必要な属性を持つXMLノードに向けるコードを書いています。</font><font style="vertical-align: inherit;">XMLノードのリストがGPXトラックノードに送信されます。</font><font style="vertical-align: inherit;">結果のXMLファイルがMAPサービスに読み込まれ、このファイルに基づいてトラックが作成されます。</font><font style="vertical-align: inherit;">地図に「yandroid」という単語が表示されています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後に、結果の単語に対して変換を実行する必要があります。</font><font style="vertical-align: inherit;">これを行うには、CLIコマンドを実行するだけです。</font></font><br>
<br>
<pre><code class="plaintext hljs">echo "yandroid" | shasum -a 256</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
結果は問題の答えになります。</font></font><br>
<br>
<a name="dig"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Androidシステム</font></font></h1><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">掘る！</font><font style="vertical-align: inherit;">＃1</font></font></h3><sup><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作成者：Artyom Viter</font></font></i></sup><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Binaryファイル</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
QAエンジニアがエラーレポートを送信しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
再生手順：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-アプリケーションを起動します（「画面1」画面が開きます）</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-GO NEXTボタンを押します（「画面2」画面</font><font style="vertical-align: inherit;">
が</font><font style="vertical-align: inherit;">表示され</font><font style="vertical-align: inherit;">ます</font><font style="vertical-align: inherit;">）</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-GO BACKボタンを押します</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-GO NEXTボタンが表示されたらすぐに押します</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-5〜10秒待ち</font><font style="vertical-align: inherit;">ます</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
期待される結果：「画面2」画面が開きます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際の結果：アプリケーションがフリーズし、「アプリケーションが応答していません」というメッセージが表示されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
.apkアプリケーションしかない。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ノート</font></font></b><div class="spoiler_text"><b> </b><br>
<br>
C   stack trace,     .<br>
<br>
<b></b><br>
<br>
 stack trace     …<br>
<br>
<pre><code class="plaintext hljs">at android.os.MessageQueue.nativePollOnce(Native method)<font></font>
at android.os.MessageQueue.next(MessageQueue.java:326)<font></font>
at android.os.Looper.loop(Looper.java:160)<font></font>
at com.android.server.SystemServer.run(SystemServer.java:454)<font></font>
at com.android.server.SystemServer.main(SystemServer.java:294)<font></font>
at java.lang.reﬂect.Method.invoke(Native method)<font></font>
at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)<font></font>
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:838)</code></pre><br>
…   ,     RuntimeInit.java,   493,   : <br>
<br>
<pre><code class="plaintext hljs">com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)</code></pre></div></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解決策</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
バグの再現を試みます。「アプリケーションが応答していません」というメッセージが実際に表示されることを確認してください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
/data/anr/traces.txtまたは/ data / anr / anr_ *（https://developer.android.com/topic/performance/vitals/anr#pull_a_traces_file）からアプリケーションフローをダンプしてファイルを取得します。</font><font style="vertical-align: inherit;">これを行うには、次のadbコマンドを使用できます。</font></font><br>
<br>
<pre><code class="plaintext hljs">adb root<font></font>
adb shell ls /data/anr<font></font>
adb pull /data/anr/&lt;filename&gt;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（エミュレーターでadb rootコマンドを実行するには、Google APIなしでイメージを実行する必要があります。）</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
メインアプリケーションスレッドのスタックトレースを見つけます。</font><font style="vertical-align: inherit;">答えは、アプリケーションパッケージに関連するスタックトレースの最初の行です。</font></font><br>
<br>
<pre><code class="plaintext hljs">com.droid.mission.anrapk.MainActivity$2.onClick(MainActivity.java:43)</code></pre><br>
<img src="https://habrastorage.org/webt/ww/ae/yf/wwaeyflqgvj5ahgbw0ldeui2vo0.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">掘る！</font><font style="vertical-align: inherit;">＃2</font></font></h3><sup><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">著者：アレクセイイワノフ</font></font></i></sup><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Android Studioで新しいプロジェクトを作成し、多数の重いライブラリを依存関係として追加して、プロジェクトがMultiDexでコンパイルされるようにします。デフォルトでは、apkファイルのビルドプロセス中に、すべてのクラスが制限（65536）の下で.dexファイルにパックされます。 Andorid Studio自体でコンパイル済みのapkを開き、目的の.dexファイルを強調表示すると、結果のクラス/メソッドの数を確認できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
タスクは、dexコンパイラを使用してクラスのパッケージ化を最適化し、可能な限り最大の空き領域が常に最初のdexファイル（アプリケーションのロード元のメインファイル）に残るようにすることです。 dexファイルの数に制限はありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
条件：multidexプロジェクト、android gradleプラグインバージョン3.0.0-3.1.4</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それに応じてアセンブリを構成します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
望ましい結果を得るには、どのような組み立て操作が必要ですか？</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソリューション</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
単一のdexファイルに収まらない膨大な数の追加ライブラリを含むプロジェクトを作成または検索します。 Gradleを使用してプロジェクトアセンブリチェーンを調査します。.apkが成功する前に、プロジェクトがどのようなステップを経るかを理解する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JavaバイトコードをART / Dalvik仮想マシンのdexバイトコードに再コンパイルするタスクに興味があります：transformClassesWithDexBuilderForDebug。</font><font style="vertical-align: inherit;">私たちはインターネット上でdexコンパイラのデバイス、その動作メカニズムを探しています。</font><font style="vertical-align: inherit;">Android Gradleプラグイン（AGP）のソースコードを調べて、Gradleがコンパイラーとどのように連携するかのメカニズムを学ぶと便利です。</font><font style="vertical-align: inherit;">実際、コンパイラは外部ツールであり、Gradleはそのためのソースファイルを準備し、特定のフラグと設定で実行します。</font><font style="vertical-align: inherit;">さまざまなフラグの原因と設定が原因であることがわかります。</font><font style="vertical-align: inherit;">情報の一部はAGPソースコードにあり、別の部分は、build.gradleファイルでパラメーターを設定するときにGradle DSLモデルに直接あります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プラグイン3.1のバージョンでは、* mini-main-dexパラメータに遭遇します。</font><font style="vertical-align: inherit;">彼は答えとして機能します、これは彼の説明から理解できます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">掘る！</font><font style="vertical-align: inherit;">＃3</font></font></h3><sup><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作成者：Alexey Ivanov</font></font></i></sup><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
あなたはAndroidデバイス用の悪意のあるファームウェアの開発者であり、バナーを使用してスマートフォン画面でのユーザーアクションをブロックしたいと考えています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どのシステムウィンドウをバナーに置き換えますか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
回答形式：数値-このシステムウィンドウのタイプ。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解決策</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
まず、どのような種類のウィンドウが必要かを理解する必要があります。 Androidのウィンドウの場合、同じ名前のWindowManagerが責任を負います。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内部</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">には、2つのメソッドと2つの宣言された実行があります。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> WindowManager.LayoutParams</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以外に興味深いものはありません</font><font style="vertical-align: inherit;">。多くの定数があり、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> TYPE_APPLICATION</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で始まる必要なウィンドウのタイプもリストします</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
タイプの説明を読むと、一部のウィンドウが残りのウィンドウの上に表示されていることがわかります。しかし、それらを試して正しいものを見つけなかったので、他の場所を探す必要があることを理解しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アプリケーションで使用できるAndroid SDKでは、フレームワーク内のクラスのすべてのコンポーネントが該当するわけではないことを思い出してください。</font><font style="vertical-align: inherit;">AOSPの</font><font style="vertical-align: inherit;">元の</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WindowManagerの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内容を見てみましょう</font><font style="vertical-align: inherit;">。より多くの種類のウィンドウがあり、すべてのウィンドウを反復処理できますが、何が一番上に描画され、ユーザーのアクションをブロックすると想定できます。</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">TYPE_BOOT_PROGRESS</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
の例を使用して、これらのタイプのウィンドウがシステムのどこで使用されているかを見てみましょう</font><font style="vertical-align: inherit;">。 WindowManagerPolicyにgetWindowLayerFromTypeLwメソッドが含まれていることがわかります。彼のjavadocは次のように書いています。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ウィンドウタイプのレイヤー割り当てを返します。</font><font style="vertical-align: inherit;">さまざまな種類のウィンドウを画面上でどのように並べるかを制御できます</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
欲しいものが見つかったようです。</font><font style="vertical-align: inherit;">内部の大きなスイッチケースを見ると、タイプ2018のTYPE_POINTERが最大のレイヤーを持っていることがわかりますこれが答えです。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">掘る！</font><font style="vertical-align: inherit;">＃4</font></font></h3><sup><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">著者：Alexey Ivanov</font></font></i></sup><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Androidのセキュリティを向上させるために、既存の悪意のあるAndroidアプリケーションコンポーネントの名前を分析し、機械学習を使用して、それらを認識できるルールを作成しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらのルールをファームウェアに統合することにしました。現在実行中のコンポーネントの名前によって、マルウェアが検出されたかどうかを判断できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アプリケーションのインテントフィルタリングルールを配置する必要があるAndroidシステム上のディレクトリの名前は何ですか？</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解決策</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
アプリケーションコンポーネントへのインテントをブロックする必要があるため、インテントを実行するAndroid SDKメソッドの内部を確認するのが合理的です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">、ContextインターフェースのstartActivity</font></a><font style="vertical-align: inherit;">メソッドを考え</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。 Contextインターフェースの実装の1つはActivity </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。startActivity</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メソッドがどのように実装されているか見てみましょう</font><font style="vertical-align: inherit;">。いくつかのネストされた呼び出しの後、startActivityForResultメソッドに到達します。その実装で</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">mInstrumentation.execStartActivityが</font></a><font style="vertical-align: inherit;"> Activityの開始に使用されていることが</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">わかり</font></a><font style="vertical-align: inherit;">ます</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メソッド</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の実装は何</font><font style="vertical-align: inherit;">ですか？最後に、ServiceManager.getService（Context.ACTIVITY_SERVICE）を通じて取得されるActivityManagerServiceのstartActivityが呼び出されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このメソッドの実装を</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ActivityManagerService</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で調べます</font><font style="vertical-align: inherit;">。 startActivityが移動するstartActivityAsUser実装では、ActivityStarterが作成され、それに対して実行が呼び出されます。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中身</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を見てみます</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
いくつかのネストされた呼び出しの後、かなり大規模な</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">startActivity</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メソッドに</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">到達し</font></a><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">その実装を注意深く見ると、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中止</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フラグがわかります</font><font style="vertical-align: inherit;">。trueに設定すると、エラーコードSTART_ABORTEDが返され、アクティビティが開始されません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このフラグの定義方法を見ると、mService.mIntentFirewall.checkStartActivityの呼び出しがすぐに注目されます。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このメソッドが何であるか</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を調べます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">説明は言う：</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これはActivityManagerから呼び出され、開始アクティビティインテントを許可する必要があるかどうかを確認します。</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IntentFirewallがルールを読み取る場所を見つけるだけです。</font><font style="vertical-align: inherit;">ファイルの最初に、定数</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RULES_DIR</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が表示されます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">回答：ifw。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">掘る！</font><font style="vertical-align: inherit;">＃5</font></font></h3><sup><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">著者：Ilya Malakhov</font></font></i></sup><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Androidにシステムエラーがあります。ユーザーの連絡先に連絡先番号（たとえば、銀行）があるとします-8800XXXXXXX。同時に、1桁目が国番号（+ 8800XXXXXXX）である番号があります。明らかに、8800XXXXXXXと+ 8800XXXXXXXXは異なりますが、着信/発信コールでは、連絡先に保存されているものに関する情報が表示されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Androidには、通話を連絡先の番号と照合するための特別なメカニズムがあります。そこに問題があります。デフォルトでは、数値+ 8800XXXXXXXと8800XXXXXXXは同じであると見なされます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
問題を調査し、ソースコード（java / c / c ++）を変更せずに標準のプラットフォームツールで修正する方法を見つける必要があります。答えは、変更が行われる行です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このページでソースをダウンロードできます：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">source.android.com</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ここにコードを表示：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">androidxref.com </font></font></a><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解決策</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Dialerでコードを分析すると、番号に関する情報がアプリケーションに直接格納されていないが、からのURIによって要求されていることが</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">わかり</font></a><font style="vertical-align: inherit;">ます</font></font><code>authorities = "content://com.android.contacts"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ContentProviderを探しています。これを行うには、ソースからこのURIを取得し、ContactsPoviiderを見つけます。コードを見てみましょう。SQLクエリが収集され、電話番号で連絡先を検索する場所を見つけます。興味深い行があります：</font></font><br>
<br>
<pre><code class="plaintext hljs">sb.append("PHONE_NUMBERS_EQUAL(" + Tables.DATA + "." + Phone.NUMBER + ", ");</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PHONE_NUMBERS_EQUALはカスタムSQLメソッドです。</font><font style="vertical-align: inherit;">ソースツリーでsqliteの実装を探しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
sqliteメソッドを研究すると、電話番号の正確な比較を使用できることが明らかになります。</font><font style="vertical-align: inherit;">ContactsProviderに戻り、システムリソースconfig_use_strict_phone_number_comparationを変更して、明示的な比較メソッドが呼び出されることで十分であることがわかります。</font><font style="vertical-align: inherit;">回答：</font></font><br>
<br>
<pre><code class="plaintext hljs">&lt;bool name="config_use_strict_phone_number_comparation"&gt;true&lt;/bool&gt;</code></pre></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja484866/index.html">ARM組み込みコンピューターでのAstra Linuxの使用</a></li>
<li><a href="../ja484868/index.html">チームの改善を測定する方法は？パート2</a></li>
<li><a href="../ja484870/index.html">20年間で英語のイロナマスクがどのように変化したか</a></li>
<li><a href="../ja484872/index.html">物理レベルでのフラッシュメモリ内の消去された情報の回復</a></li>
<li><a href="../ja484874/index.html">「あなたのITスペシャリストは壊れています、新しいものを持参してください」：ITでキャリアを築き、夢中にならない方法</a></li>
<li><a href="../ja484878/index.html">レベルデザインの基本：フロー効果、またはプレイヤーを飽きさせない方法</a></li>
<li><a href="../ja484882/index.html">Windowsターミナルプレビューv0.8がリリースされました</a></li>
<li><a href="../ja484884/index.html">HIPEC。腹腔の悪性腫瘍の数か月ではなく、生涯</a></li>
<li><a href="../ja484886/index.html">RTLスタイリング101-CSS RTLスタイリングの詳細ガイド</a></li>
<li><a href="../ja484890/index.html">SSAS表形式モデルのディメンション属性へのアクセスの制限</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>