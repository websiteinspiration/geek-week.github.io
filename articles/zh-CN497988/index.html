<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ³ â¿ ğŸ—½ ååº”åº”ç”¨ç¨‹åºæ€§èƒ½åˆ†æ ğŸ¤¶ğŸ¼ ğŸ‘ˆğŸ» ğŸ‘¨ğŸ»â€ğŸ’»</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ä»Šå¤©ï¼Œæˆ‘ä»¬å°†è®¨è®ºä½¿ç”¨React Profiler APIæµ‹é‡æ¸²æŸ“Reactç»„ä»¶çš„æ€§èƒ½ã€‚æˆ‘ä»¬è¿˜å°†ä½¿ç”¨æ–°çš„å®éªŒæ€§Interaction Tracing APIè¯„ä¼°ä¸ç»„ä»¶çš„äº¤äº’ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ç”¨æˆ·è®¡æ—¶APIè¿›è¡Œè‡ªå·±çš„æµ‹é‡ã€‚
 
 æˆ‘ä»¬å°†ä½¿ç”¨React Movies Queueåº”ç”¨ç¨‹åºä½œä¸ºå®éªŒå¹³å°ã€‚
 
...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ååº”åº”ç”¨ç¨‹åºæ€§èƒ½åˆ†æ</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/497988/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»Šå¤©ï¼Œæˆ‘ä»¬å°†è®¨è®ºä½¿ç”¨React Profiler APIæµ‹é‡æ¸²æŸ“Reactç»„ä»¶çš„æ€§èƒ½ã€‚</font><font style="vertical-align: inherit;">æˆ‘ä»¬è¿˜å°†ä½¿ç”¨æ–°çš„å®éªŒæ€§Interaction Tracing APIè¯„ä¼°ä¸ç»„ä»¶çš„äº¤äº’ã€‚</font><font style="vertical-align: inherit;">æ­¤å¤–ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ç”¨æˆ·è®¡æ—¶APIè¿›è¡Œè‡ªå·±çš„æµ‹é‡ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬å°†ä½¿ç”¨React Movies Queueåº”ç”¨ç¨‹åºä½œä¸ºå®éªŒå¹³å°ã€‚</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5ef/452/51a/5ef45251ae6a761a3fec98e14c4eefa1.jpg"></div></a><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ååº”ç”µå½±é˜Ÿåˆ—åº”ç”¨ç¨‹åº</font></font></font></i><br>
<a name="habracut"></a><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">React Profiler API</font></font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">React Profiler API</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ—¨åœ¨è¡¡é‡æ¸²æŸ“æ€§èƒ½å¹¶å¸®åŠ©è¯†åˆ«åº”ç”¨ç¨‹åºæ€§èƒ½ç“¶é¢ˆã€‚</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> React, { Fragment, unstable_Profiler <span class="hljs-keyword">as</span> Profiler} <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¯¥ç»„ä»¶</font></font><code>Profiler</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¥å—å›è°ƒ</font></font><code>onRender</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½œä¸ºå±æ€§ã€‚</font><font style="vertical-align: inherit;">æ¯æ¬¡åœ¨åˆ†ææ ‘ä¸­çš„ç»„ä»¶æäº¤æ›´æ–°æ—¶éƒ½ä¼šè°ƒç”¨å®ƒã€‚</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> Movies = <span class="hljs-function">(<span class="hljs-params">{ movies, addToQueue }</span>) =&gt;</span> (<font></font>
&nbsp;&nbsp;&lt;Fragment&gt;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;Profiler id="Movies" onRender={callback}&gt;<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸ºäº†æµ‹è¯•ç›®çš„ï¼Œè®©æˆ‘ä»¬å°è¯•æµ‹é‡æ¸²æŸ“ç»„ä»¶é›¶ä»¶æ‰€éœ€çš„æ—¶é—´</font></font><code>Movies</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">è¿™æ˜¯å®ƒçš„å¤–è§‚ã€‚</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/10a/9d0/3ec/10a9d03ece4b7636876ab9b72998dea1.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½¿ç”¨Reactå¼€å‘äººå‘˜</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
å›è°ƒå·¥å…·</font><i><font color="#999999"><font style="vertical-align: inherit;">çš„React Movies Queueåº”ç”¨ç¨‹åºå’ŒMoviesç ”ç©¶</font></font></i></font><code>onRender</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¥å—æ¥å—å‚æ•°ï¼Œè¿™äº›å‚æ•°æè¿°äº†æ­£åœ¨æ¸²æŸ“çš„å†…å®¹ä»¥åŠæ¸²æŸ“æ‰€éœ€çš„æ—¶é—´ã€‚</font><font style="vertical-align: inherit;">è¿™åŒ…æ‹¬ä»¥ä¸‹å†…å®¹ï¼š</font></font><br>
<br>
<ul>
<li><code>id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼š</font></font><code>id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¥è‡ª</font></font><code>Profiler</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ›´æ”¹æäº¤</font><font style="vertical-align: inherit;">çš„ç»„ä»¶æ ‘çš„</font><font style="vertical-align: inherit;">å±æ€§</font><font style="vertical-align: inherit;">ã€‚</font></font></li>
<li><code>phase</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼šæˆ–</font></font><code>mount</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆå¦‚æœå·²å®‰è£…æ ‘ï¼‰ï¼Œæˆ–</font></font><code>update</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆå¦‚æœæ ‘å·²é‡æ–°æ¸²æŸ“ï¼‰ã€‚</font></font></li>
<li><code>actualDuration</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼šå‘ˆç°å›ºå®šæ›´æ–°æ‰€èŠ±è´¹çš„æ—¶é—´ã€‚</font></font></li>
<li><code>baseDuration</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼šä¼°è®¡çš„æ—¶é—´æ¥å‘ˆç°æ•´ä¸ªå­æ ‘è€Œä¸è¿›è¡Œç¼“å­˜ã€‚</font></font></li>
<li><code>startTime</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼šReactå¼€å§‹å‘ˆç°æ­¤æ›´æ–°çš„æ—¶é—´ã€‚</font></font></li>
<li><code>commitTime</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼šReactæäº¤æ­¤æ›´æ–°çš„æ—¶é—´ã€‚</font></font></li>
<li><code>interactions</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼šæ­¤æ›´æ–°æœ‰è®¸å¤šâ€œäº¤äº’ä½œç”¨â€ã€‚</font></font></li>
</ul><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> callback = <span class="hljs-function">(<span class="hljs-params">id, phase, actualTime, baseTime, startTime, commitTime</span>) =&gt;</span> {
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">console</span>.log(<span class="hljs-string">`<span class="hljs-subst">${id}</span>'s <span class="hljs-subst">${phase}</span> phase:`</span>);
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Actual time: <span class="hljs-subst">${actualTime}</span>`</span>);
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Base time: <span class="hljs-subst">${baseTime}</span>`</span>);
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Start time: <span class="hljs-subst">${startTime}</span>`</span>);
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Commit time: <span class="hljs-subst">${commitTime}</span>`</span>);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬å°†åŠ è½½é¡µé¢å¹¶è½¬åˆ°Chromeå¼€å‘è€…å·¥å…·æ§åˆ¶å°ã€‚</font><font style="vertical-align: inherit;">åœ¨é‚£é‡Œï¼Œæˆ‘ä»¬åº”è¯¥çœ‹åˆ°ä»¥ä¸‹å†…å®¹ã€‚</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cc8/baf/9c9/cc8baf9c9500419f587874bae69acf96.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨å¼€å‘äººå‘˜å·¥å…·ä¸­åˆ†æç»“æœ</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æ‰“å¼€Reactå¼€å‘äººå‘˜å·¥å…·ï¼Œè½¬åˆ°ä¹¦ç­¾ï¼Œ</font></font><code>Profiler</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¹¶å¯è§†åŒ–æœ‰å…³ç»„ä»¶æ¸²æŸ“æ—¶é—´çš„ä¿¡æ¯ã€‚</font><font style="vertical-align: inherit;">ä¸‹é¢æ˜¯ç«ç„°å›¾å½¢å¼çš„å¯è§†åŒ–è§†å›¾ã€‚</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c56/138/d61/c56138d6154866df33b45014966aa2cb.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨React Developer Toolsä¸­ä½¿ç”¨æ¦‚è¦åˆ†æç»“æœï¼Œ</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
æˆ‘ä¹Ÿå–œæ¬¢åœ¨è¿™é‡Œä½¿ç”¨è§†å›¾æ¨¡å¼</font></font><code>Ranked</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œå®ƒæä¾›äº†æ•°æ®çš„æœ‰åºè§†å›¾ã€‚</font><font style="vertical-align: inherit;">å› æ­¤ï¼ŒèŠ±è´¹æœ€å¤šæ—¶é—´æ¸²æŸ“çš„ç»„ä»¶ä½äºåˆ—è¡¨çš„é¡¶éƒ¨ã€‚</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/224/324/1b6/2243241b6de115dbbd7c0a94270d3868.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨æ’åæ¨¡å¼ä¸‹æŸ¥çœ‹æ€§èƒ½åˆ†æç»“æœ</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
æ­¤å¤–ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å¤šä¸ªç»„ä»¶åœ¨åº”ç”¨ç¨‹åºçš„ä¸åŒéƒ¨åˆ†è¿›è¡Œæµ‹é‡</font></font><code>Profiler</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼š</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> React, { Fragment, unstable_Profiler <span class="hljs-keyword">as</span> Profiler} <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;<font></font>
<font></font>
render(<font></font>
&nbsp;&nbsp;<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">App</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">Profiler</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"Header"</span> <span class="hljs-attr">onRender</span>=<span class="hljs-string">{callback}</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">Header</span> {<span class="hljs-attr">...props</span>} /&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;/<span class="hljs-name">Profiler</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">Profiler</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"Movies"</span> <span class="hljs-attr">onRender</span>=<span class="hljs-string">{callback}</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">Movies</span> {<span class="hljs-attr">...props</span>} /&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;/<span class="hljs-name">Profiler</span>&gt;</span>
&nbsp;&nbsp;<span class="hljs-tag">&lt;/<span class="hljs-name">App</span>&gt;</span></span><font></font>
);<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»¥åŠå¦‚ä½•åˆ†æç”¨æˆ·ä¸ç»„ä»¶çš„äº¤äº’ï¼Ÿ</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">äº’åŠ¨è¿½è¸ªAPI</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
èƒ½å¤Ÿè·Ÿè¸ªç”¨æˆ·ä¸åº”ç”¨ç¨‹åºç•Œé¢çš„äº¤äº’ï¼ˆä¾‹å¦‚å¯¹é¡¹ç›®çš„ç‚¹å‡»ï¼‰å°†æ˜¯å¾ˆå¥½çš„ã€‚</font><font style="vertical-align: inherit;">è¿™å°†ä½¿æ‚¨èƒ½å¤Ÿæ‰¾åˆ°æœ‰è¶£çš„é—®é¢˜çš„ç­”æ¡ˆï¼Œä¾‹å¦‚ï¼šâ€œå•å‡»æ­¤æŒ‰é’®åï¼Œæ›´æ–°DOMéœ€è¦å¤šé•¿æ—¶é—´ï¼Ÿâ€ã€‚</font><font style="vertical-align: inherit;">å¹¸è¿çš„æ˜¯ï¼ŒReactæä¾›äº†å®éªŒæ€§æ”¯æŒï¼Œå¯ä½¿ç”¨æ–°</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è°ƒåº¦</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç¨‹åºåŒ…ä¸­çš„Interaction Tracing APIåˆ†æç”¨æˆ·ä¸åº”ç”¨ç¨‹åºçš„äº¤äº’</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">æ‚¨å¯ä»¥åœ¨</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ­¤å¤„</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é˜…è¯»æœ‰å…³æ–‡æ¡£</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æœ‰å…³ç”¨æˆ·å’Œåº”ç”¨ç¨‹åºä¹‹é—´äº¤äº’çš„ä¿¡æ¯å°†é™„å¸¦è¯´æ˜ï¼ˆä¾‹å¦‚ï¼Œâ€œç”¨æˆ·å•å‡»äº†æ·»åŠ åˆ°è´­ç‰©è½¦â€æŒ‰é’®ï¼‰å’Œæ—¶é—´æˆ³ã€‚</font><font style="vertical-align: inherit;">å¦å¤–ï¼Œåœ¨è®¾ç½®äº¤äº’åˆ†ææ—¶ï¼Œä½¿ç”¨å›è°ƒæ¥æ‰§è¡Œä¸ä¸€ä¸ªæˆ–å¦ä¸€ä¸ªäº¤äº’ç›¸å¯¹åº”çš„åŠ¨ä½œã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¸­ï¼Œæœ‰ä¸€ä¸ª</font></font><code>Add Movie To Queue</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ˜¾ç¤ºå›¾æ ‡</font><font style="vertical-align: inherit;">çš„æŒ‰é’®</font></font><code>+</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">å®ƒç”¨äºå°†ç”µå½±æ·»åŠ åˆ°è§‚çœ‹é˜Ÿåˆ—ã€‚</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6f7/75c/af2/6f775caf25ad484e73ae70354752b879.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç”¨äºå°†å½±ç‰‡æ·»åŠ åˆ°è§‚çœ‹é˜Ÿåˆ—çš„æŒ‰é’®</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
è¿™æ˜¯ä¸€ä¸ªä»£ç ç¤ºä¾‹ï¼Œç”¨äºç›‘è§†æ­¤ç”¨æˆ·ä¸åº”ç”¨ç¨‹åºäº¤äº’çš„çŠ¶æ€æ›´æ–°ï¼š</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> { unstable_Profiler <span class="hljs-keyword">as</span> Profiler } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> { render } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-dom"</span>;
<span class="hljs-keyword">import</span> { unstable_trace <span class="hljs-keyword">as</span> trace } <span class="hljs-keyword">from</span> <span class="hljs-string">"scheduler/tracing"</span>;<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyComponent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{<font></font>
&nbsp;&nbsp;addMovieButtonClick = <span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span> {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;trace(<span class="hljs-string">"Add To Movies Queue click"</span>, performance.now(), () =&gt; {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">this</span>.setState({ <span class="hljs-attr">itemAddedToQueue</span>: <span class="hljs-literal">true</span> });<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;});<font></font>
&nbsp;&nbsp;};<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬å¯ä»¥è®°å½•æœ‰å…³æ­¤äº¤äº’çš„ä¿¡æ¯å¹¶é€šè¿‡è”ç³»Reactå¼€å‘äººå‘˜å·¥å…·äº†è§£å…¶æŒç»­æ—¶é—´ã€‚</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d93/fc1/ea0/d93fc1ea00661d926e2f9a183b32ebb7.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç”¨æˆ·ä¸åº”ç”¨ç¨‹åºå…ƒç´ </font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
çš„äº¤äº’</font><i><font color="#999999"><font style="vertical-align: inherit;">åˆ†æ</font></font></i><font style="vertical-align: inherit;">ä½¿ç”¨Interaction Tracing APIï¼Œæ‚¨è¿˜å¯ä»¥æ”¶é›†æœ‰å…³ç¬¬ä¸€ä¸ªç»„ä»¶æ¸²æŸ“çš„ä¿¡æ¯ï¼š</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> { unstable_trace <span class="hljs-keyword">as</span> trace } <span class="hljs-keyword">from</span> <span class="hljs-string">"scheduler/tracing"</span>;<font></font>
<font></font>
trace(<span class="hljs-string">"initial render"</span>, performance.now(), () =&gt; {<font></font>
&nbsp;&nbsp;&nbsp;ReactDom.render(<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">App</span> /&gt;</span></span>, <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"app"</span>));<font></font>
});<font></font>
</code></pre><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b3c/4ab/310/b3c4ab310fd105fc83697e4a7b5a61fb.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç»„ä»¶é¦–æ¬¡æ¸²æŸ“çš„åˆ†æ</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
APIä½œè€…æä¾›</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">äº†</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å…¶ç”¨æ³•çš„</font><font style="vertical-align: inherit;">å…¶ä»–</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">ç¤ºä¾‹</font></a><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ä¾‹å¦‚ï¼Œè¯´æ˜å¼‚æ­¥ä»»åŠ¡çš„æ¦‚è¦åˆ†æã€‚</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœ¨å¶æˆ</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸ºäº†è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨æˆ·ä¸åº”ç”¨ç¨‹åºå…ƒç´ çš„äº¤äº’ï¼Œä½¿ç”¨</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Puppeteer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¼¼ä¹å¾ˆæœ‰è¶£</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">è¿™æ˜¯ä¸€ä¸ªNode.jsåº“ï¼Œå®ƒæä¾›å¯¹é«˜çº§APIçš„è®¿é—®ï¼Œè¯¥APIè®¾è®¡ä¸ºæ— éœ€ä½¿ç”¨DevToolsåè®®çš„ç”¨æˆ·ç•Œé¢å³å¯æ§åˆ¶Chromeæµè§ˆå™¨ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä½¿ç”¨Puppeteeræ—¶ï¼Œä¼šä¸ºå¼€å‘äººå‘˜æä¾›å¸®åŠ©</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–¹æ³•ï¼Œ</font></font></a> <code>tracing.start()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¹¶</font></font><code>tracing.stop()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç”¨äºæ”¶é›†DevToolsæ€§èƒ½æŒ‡æ ‡ã€‚</font><font style="vertical-align: inherit;">ä»¥ä¸‹æ˜¯ä½¿ç”¨è¿™äº›æœºåˆ¶æ”¶é›†æœ‰å…³æ‚¨å•å‡»æˆ‘ä»¬æ„Ÿå…´è¶£çš„æŒ‰é’®æ—¶å‘ç”Ÿçš„æƒ…å†µçš„æ•°æ®çš„ç¤ºä¾‹ã€‚</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> puppeteer = <span class="hljs-built_in">require</span>(<span class="hljs-string">'puppeteer'</span>);<font></font>
<font></font>
<span class="hljs-function">(<span class="hljs-params"><span class="hljs-keyword">async</span> (</span>) =&gt;</span> {
&nbsp;&nbsp;<span class="hljs-keyword">const</span> browser = <span class="hljs-keyword">await</span> puppeteer.launch();
&nbsp;&nbsp;<span class="hljs-keyword">const</span> page = <span class="hljs-keyword">await</span> browser.newPage();
&nbsp;&nbsp;<span class="hljs-keyword">const</span> navigationPromise = page.waitForNavigation();
&nbsp;&nbsp;<span class="hljs-keyword">await</span> page.goto(<span class="hljs-string">'https://react-movies-queue.glitch.me/'</span>)
&nbsp;&nbsp;<span class="hljs-keyword">await</span> page.setViewport({ <span class="hljs-attr">width</span>: <span class="hljs-number">1276</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">689</span> });
&nbsp;&nbsp;<span class="hljs-keyword">await</span> navigationPromise;<font></font>
<font></font>
&nbsp;&nbsp;<span class="hljs-keyword">const</span> addMovieToQueueBtn = <span class="hljs-string">'li:nth-child(3) &gt; .card &gt; .card__info &gt; div &gt; .button'</span>;
&nbsp;&nbsp;<span class="hljs-keyword">await</span> page.waitForSelector(addMovieToQueueBtn);<font></font>
<font></font>
&nbsp;&nbsp;<span class="hljs-comment">//  ...</span>
&nbsp;&nbsp;<span class="hljs-keyword">await</span> page.tracing.start({ <span class="hljs-attr">path</span>: <span class="hljs-string">'profile.json'</span> });
&nbsp;&nbsp;<span class="hljs-comment">//   </span>
&nbsp;&nbsp;<span class="hljs-keyword">await</span> page.click(addMovieToQueueBtn);
&nbsp;&nbsp;<span class="hljs-comment">//  </span>
&nbsp;&nbsp;<span class="hljs-keyword">await</span> page.tracing.stop();<font></font>
<font></font>
&nbsp;&nbsp;<span class="hljs-keyword">await</span> browser.close();<font></font>
})()<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨ï¼Œå°†æ–‡ä»¶åŠ è½½</font></font><code>profile.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åˆ°</font></font><code>Performance</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¼€å‘äººå‘˜çš„å·¥å…·æ ä¸­åï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å•å‡»æŒ‰é’®è§¦å‘äº†å“ªäº›å‡½æ•°è°ƒç”¨ã€‚</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3ed/42f/623/3ed42f62350db7d110d4ba53c80973b6.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å•å‡»æŒ‰é’®åæœçš„åˆ†æ</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
å¦‚æœæ‚¨å¯¹ç»„ä»¶æ€§èƒ½åˆ†æçš„ä¸»é¢˜æ„Ÿå…´è¶£ï¼Œè¯·é˜…è¯»</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ­¤</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ææ–™ã€‚</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç”¨æˆ·è®¡æ—¶API</font></font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç”¨æˆ·è®¡æ—¶API</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å…è®¸å¼€å‘äººå‘˜ä½¿ç”¨é«˜åº¦å‡†ç¡®çš„æ—¶é—´æˆ³åˆ›å»ºè‡ªå®šä¹‰æ€§èƒ½æŒ‡æ ‡ã€‚</font><font style="vertical-align: inherit;">è¯¥æ–¹æ³•</font></font><code>window.performance.mark()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åˆ›å»ºä¸€ä¸ªæ—¶é—´æˆ³ï¼Œè¯¥åç§°è¢«åˆ†é…ç»™è¯¥æ—¶é—´æˆ³ã€‚</font><font style="vertical-align: inherit;">è¯¥æ–¹æ³•</font></font><code>window.performance.measure()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½¿æ‚¨å¯ä»¥æ‰¾å‡ºä¸¤æ¬¡æµ‹é‡ä¹‹é—´ç»è¿‡çš„æ—¶é—´ã€‚</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">//     </span>
performance.mark(<span class="hljs-string">'Movies:updateStart'</span>);
<span class="hljs-comment">//  </span><font></font>
<font></font>
<span class="hljs-comment">//     </span>
performance.mark(<span class="hljs-string">'Movies:updateEnd'</span>);<font></font>
<font></font>
<span class="hljs-comment">//        </span>
performance.measure(<span class="hljs-string">'moviesRender'</span>, <span class="hljs-string">'Movies:updateStart'</span>, <span class="hljs-string">'Movies:updateEnd'</span>);
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä½¿ç”¨</font></font><code>Performance</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chromeå¼€å‘è€…å·¥å…·</font><font style="vertical-align: inherit;">æ ‡ç­¾å¯¹Reactåº”ç”¨ç¨‹åºè¿›è¡Œæ€§èƒ½åˆ†ææ—¶</font><font style="vertical-align: inherit;">ï¼Œæ‚¨ä¼šå‘ç°ä¸€ä¸ªéƒ¨åˆ†ï¼Œ</font></font><code>Timing</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å…¶ä¸­åŒ…å«æœ‰å…³Reactç»„ä»¶çš„ä¸´æ—¶æŒ‡æ ‡ã€‚</font><font style="vertical-align: inherit;">åœ¨æ¸²æŸ“æœŸé—´ï¼ŒReactå¯ä»¥ä½¿ç”¨User Timing APIå‘å¸ƒæ­¤ä¿¡æ¯ã€‚</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ed0/f07/ebb/ed0f07ebb5939839c088bc5d56e4b330.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chromeå¼€å‘äººå‘˜å·¥å…·çš„â€œæ€§èƒ½â€é€‰é¡¹å¡</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
è¯·æ³¨æ„ï¼Œç”¨æˆ·è®¡æ—¶APIå·²ä»React DEVç¨‹åºé›†ä¸­åˆ é™¤ï¼Œå¹¶ç”¨React Profiler APIä»£æ›¿ï¼Œåè€…å¯æä¾›æ›´å‡†ç¡®çš„æ—¶é—´æˆ³ã€‚</font><font style="vertical-align: inherit;">ä¹Ÿè®¸å°†æ¥ä¼šé€šè¿‡å¯¹é‚£äº›æ”¯æŒUser Timing Level 3è§„èŒƒçš„æµè§ˆå™¨çš„æ”¯æŒæ¥è¿”å›å¯¹è¯¥APIçš„æ”¯æŒï¼›&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨Internetä¸Šï¼Œæ‚¨å¯èƒ½ä¼šå‘ç°ä½¿ç”¨User Timing APIç¡®å®šå…¶æŒ‡æ ‡çš„Reactç½‘ç«™ã€‚</font><font style="vertical-align: inherit;">ä¾‹å¦‚ï¼Œè¿™åŒ…æ‹¬Reddit</font></font><code>Time to first post title visible</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æŒ‡æ ‡å’ŒSpotifyæŒ‡æ ‡</font></font><code>Time to playback ready</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/18a/28a/c19/18a28ac19bf3b14050cde0731cf09e71.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨Reactç½‘ç«™ä¸Šä½¿ç”¨çš„ç‰¹æ®ŠæŒ‡æ ‡</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ç”±ç”¨æˆ·è®¡æ—¶APIå·¥å…·åˆ›å»ºçš„æŒ‡æ ‡</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¯ä»¥</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–¹ä¾¿åœ°</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">æ˜¾ç¤º</font></a><font style="vertical-align: inherit;">åœ¨</font><font style="vertical-align: inherit;">Chromeå¼€å‘è€…å·¥å…·</font><font style="vertical-align: inherit;">çš„</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Lighthouse</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é¢æ¿ä¸­</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9b1/b97/961/9b1b979616527fd88511ecbadcd0a260.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lighthouseé¢æ¿ä¸­çš„åº¦é‡æ ‡å‡†</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ä¾‹å¦‚ï¼Œ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Next.js</font></font></a> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çš„æœ€æ–°ç‰ˆæœ¬</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åŒ…æ‹¬</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è‡ªå®šä¹‰åº¦é‡æ ‡å‡†å’Œç”¨äºåº¦é‡è®¸å¤šä¸åŒäº‹ä»¶çš„æœºåˆ¶ã€‚</font><font style="vertical-align: inherit;">åŒ…æ‹¬ä»¥ä¸‹å†…å®¹ï¼š</font></font><br>
<br>
<ul>
<li><code>Next.js-hydration</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼šä½¿é¢„æ¸²æŸ“æ ‡è®°è¾¾åˆ°å·¥ä½œçŠ¶æ€æ‰€éœ€çš„æ—¶é—´ã€‚</font></font></li>
<li><code>Next.js-nav-to-render</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼šä»å¯¼èˆªå¼€å§‹åˆ°æ¸²æŸ“å¼€å§‹çš„æ—¶é—´ã€‚</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ‰€æœ‰è¿™äº›æµ‹é‡å€¼éƒ½æ˜¾ç¤ºåœ¨è¯¥åŒºåŸŸä¸­</font></font><code>Timings</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/248/8c5/ee9/2488c5ee9d6bd6ccf9da8e6c36436c26.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Next.jsæŒ‡æ ‡åˆ†æ</font></font></font></i><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¼€å‘äººå‘˜å·¥å…·å’Œç¯å¡”</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æé†’æ‚¨ï¼ŒLighthouseå’Œ</font></font><code>Performance</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chromeå¼€å‘è€…å·¥å…·æ å¯ç”¨äºæ·±å…¥åˆ†æåŠ è½½è¿‡ç¨‹å’ŒReactåº”ç”¨ç¨‹åºçš„æ€§èƒ½ã€‚</font><font style="vertical-align: inherit;">åœ¨è¿™é‡Œï¼Œæ‚¨å¯ä»¥æ‰¾åˆ°ç‰¹åˆ«å½±å“ç”¨æˆ·å¯¹ç½‘é¡µçš„æ„ŸçŸ¥çš„æŒ‡æ ‡ã€‚</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ce2/5c7/2ee/ce25c72eedd5c79edd5dbc1a42685b10.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é¡µé¢æ€§èƒ½åˆ†æ</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä½¿ç”¨Reactçš„äººå¯èƒ½ä¼šå–œæ¬¢è¿™æ ·ä¸€ä¸ªäº‹å®ï¼Œå³ä»–ä»¬å°†æ‹¥æœ‰æ–°çš„æŒ‡æ ‡å¯ä¾›ä½¿ç”¨-ä¾‹å¦‚</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ€»é˜»æ­¢æ—¶é—´</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆTBTï¼‰</font><font style="vertical-align: inherit;">æŒ‡æ ‡</font><font style="vertical-align: inherit;">ï¼Œè¯¥</font><font style="vertical-align: inherit;">æŒ‡æ ‡</font><font style="vertical-align: inherit;">å¯æä¾›æœ‰å…³é¡µé¢åœ¨éäº¤äº’æ¨¡å¼ä¸‹ç›´åˆ°é¡µé¢</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">åœç•™çš„æ—¶é—´çš„</font></a><font style="vertical-align: inherit;">ä¿¡æ¯ã€‚å¯ä»¥å¯é åœ°åœ¨äº¤äº’æ¨¡å¼ä¸‹å·¥ä½œï¼ˆäº¤äº’</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ—¶é—´</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰ã€‚ä»¥ä¸‹æ˜¯é‡‡ç”¨å®éªŒæ€§ç«äº‰æ¨¡å¼çš„åº”ç”¨ç¨‹åºçš„TBTæŒ‡æ ‡ï¼ˆâ€œä¹‹å‰â€å’Œâ€œä¹‹åâ€ï¼‰ï¼Œè¯¥æŒ‡æ ‡çš„ä½¿ç”¨æœ‰åŠ©äºåº”ç”¨ç¨‹åºé€‚åº”å…¶è¿è¡Œç¯å¢ƒçš„ç‰¹å¾ã€‚</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9b7/074/96d/9b707496d500da0883027da3a571a030.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¿®æ”¹TBT</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
è¿™äº›å·¥å…·å¯ç”¨äºåˆ†æåº”ç”¨ç¨‹åºæ€§èƒ½ç“¶é¢ˆï¼Œä¾‹å¦‚</font><font style="vertical-align: inherit;">éœ€è¦å¾ˆé•¿æ—¶é—´æ‰èƒ½å®Œæˆçš„</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»»åŠ¡</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œä»è€Œå»¶è¿Ÿäº†åº”ç”¨ç¨‹åºçš„åœ¨çº¿è½¬æ¢ã€‚</font><font style="vertical-align: inherit;">ä¾‹å¦‚ï¼Œè¿™å¯èƒ½ä¸åˆ†æåº”ç”¨ç¨‹åºå¯¹æŒ‰é’®æŒ‰ä¸‹çš„ååº”é€Ÿåº¦æœ‰å…³ã€‚</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/98b/3ac/803/98b3ac8031d84cdfb9765fde2f399a70.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ­¤å¤–ï¼Œ</font><i><font color="#999999"><font style="vertical-align: inherit;">å¯¹</font></font></i><font style="vertical-align: inherit;"> Lighthouse</font><i><font color="#999999"><font style="vertical-align: inherit;">åº”ç”¨ç¨‹åºçš„åˆ†æ</font></font></i><font style="vertical-align: inherit;">ä¸ºReactå¼€å‘äººå‘˜æä¾›äº†è®¸å¤šæœ‰å…³è®¸å¤šé—®é¢˜çš„ç‰¹å®šæŠ€å·§ã€‚</font><font style="vertical-align: inherit;">ä»¥ä¸‹æ˜¯</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Lighthouse 6.0ä¸­</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çš„åˆ†æç»“æœ</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">åœ¨æ­¤å¤„ï¼Œå°†</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ‰“å¼€â€œåˆ é™¤æœªä½¿ç”¨çš„JavaScriptâ€</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">éƒ¨åˆ†</font><font style="vertical-align: inherit;">ï¼Œå…¶ä¸­æŠ¥å‘Šäº†å·²åŠ è½½åˆ°åº”ç”¨ç¨‹åºä¸­çš„æœªä½¿ç”¨çš„JavaScriptä»£ç ï¼Œå¯ä»¥ä½¿ç”¨å¯¼å…¥è¯¥ä»£ç </font></font><code>React.lazy()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1e3/9b2/f3a/1e39b2f3a323a74744ee16e68550c6c2.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨Lighthouseä¸­åˆ†æ</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
åº”ç”¨ç¨‹åºåº”ç”¨ç¨‹åºå¯¹æµ‹è¯•ç¡¬ä»¶æ€»æ˜¯å¾ˆæœ‰ç”¨çš„ï¼Œå®ƒæœ€æœ‰å¯èƒ½ä¾›æœ€ç»ˆç”¨æˆ·ä½¿ç”¨ã€‚</font><font style="vertical-align: inherit;">åœ¨è¿™ç§æƒ…å†µä¸‹</font><font style="vertical-align: inherit;">ï¼Œ</font><font style="vertical-align: inherit;">æˆ‘ç»å¸¸ä¾é </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Webpagetest</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»¥åŠ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> RUM</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> CrUX</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ•°æ®</font><font style="vertical-align: inherit;">ï¼Œè¿™ä½¿æˆ‘å¯ä»¥è·å¾—æœ‰å…³åº”ç”¨ç¨‹åºæ€§èƒ½çš„æ›´å®Œæ•´ä¿¡æ¯ã€‚</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">äº²çˆ±çš„è¯»è€…ä»¬ï¼</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ‚¨å¦‚ä½•ç ”ç©¶Reactåº”ç”¨ç¨‹åºçš„æ€§èƒ½ï¼Ÿ</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/webt/iq/fi/b4/iqfib45pgphfrxv--zfemt0qnmw.jpeg"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN497968/index.html">Webå¼€å‘äººå‘˜èµ„æºï¼šAPIå’ŒUIå…ƒç´ </a></li>
<li><a href="../zh-CN497980/index.html">å¤šå°‘æ°´æ³„æ¼äº†ï¼Ÿæˆ‘ä»¬é€šè¿‡åœ¨Haskellä¸Šçš„æœˆçƒæ¼«æ­¥è§£å†³äº†é—®é¢˜</a></li>
<li><a href="../zh-CN497982/index.html">åŠŸèƒ½å’Œè¿‡ç¨‹ç®¡ç†æ–¹æ³•ã€‚å¦‚ä½•ä»¥åŠå¦‚ä½•ç®¡ç†ï¼Ÿ</a></li>
<li><a href="../zh-CN497984/index.html">ä»reCAPTCHAè¿ç§»åˆ°Cloudflareä¸­çš„hCaptcha</a></li>
<li><a href="../zh-CN497986/index.html">ç›‘è§†ç½‘é¡µä½¿ç”¨çš„æ‰€æœ‰å†…å­˜ï¼šperformance.measureMemoryï¼ˆï¼‰</a></li>
<li><a href="../zh-CN497990/index.html">PostgreSQLï¼šç”¨Cè¯­è¨€å¼€å‘æ‰©å±•ï¼ˆåŠŸèƒ½ï¼‰</a></li>
<li><a href="../zh-CN497994/index.html">è¯­è¨€åŠ›å­¦é€ƒé€¸åˆ†æ</a></li>
<li><a href="../zh-CN497996/index.html">æ‚¨ä¸æƒ³å¢å¼ºå…ç–«åŠ›ã€‚è¿˜æ˜¯äººä½“çš„æç«¯</a></li>
<li><a href="../zh-CN498000/index.html">åœ¨å¼€å‘è‡ªå·±çš„æ¸¸æˆä¹‹å‰æˆ‘æƒ³çŸ¥é“çš„äº‹æƒ…</a></li>
<li><a href="../zh-CN498002/index.html">Z3è¢–çæŒ‡å—</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>