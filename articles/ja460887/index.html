<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💖 🦗 💚 別のプログラミング言語ではありません。パート3：物理学 🤷🏾 🚃 🎇</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="lsFusion言語に関する一連の記事の3番目と最後の部分（最初と2番目の部分へのリンク）
 
 物理モデルに焦点を当てます。データが多すぎる場合は、システムの機能には関係しませんが、開発とパフォーマンスの最適化に関係しています。
 
 この記事は、以前の記事と同様に、楽しい読書にはあまり適していま...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>別のプログラミング言語ではありません。パート3：物理学</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/lsfusion/blog/460887/"><img src="https://habrastorage.org/webt/4i/rl/y5/4irly5rc9xjxdf1v-zdadc_ijgg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
lsFusion言語に関する一連の記事の3番目と最後の部分（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2番目の</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分</font><font style="vertical-align: inherit;">へのリンク</font><font style="vertical-align: inherit;">）</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
物理モデルに焦点を当てます。データが多すぎる場合は、システムの機能には関係しませんが、開発とパフォーマンスの最適化に関係しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事は、以前の記事と同様に、楽しい読書にはあまり適していませんが、他の記事とは異なり、技術的な詳細と「ホット」トピック（タイピングやメタプログラミングなど）があり、この記事では質問に対する回答の一部を提供します。内部で動作します。</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、写真なしで（このようなスタックはありません）行いますが、前の記事で要求されているように、目次を作成します。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目次</font></font></b><div class="spoiler_text"><ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">大規模プロジェクトの開発</font></font></a><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アイテムの識別</font></font></a><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名前空間</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">明示的なタイピング</font></font></a></li>
</ul></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モジュール性</font></font></a><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">拡張</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モジュール</font></font></a></li>
</ul></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メタプログラミング</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">統合</font></font></a><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外部システムへのアピール</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外部システムからの申し立て</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内部システムへのアピール</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内部システムからのアピール</font></font></a></li>
</ul></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マイグレーション</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国際化</font></font></a></li>
</ul></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">大規模なデータプロジェクトのパフォーマンスを最適化する</font></font></a><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">具現化</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指数</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テーブル</font></font></a></li>
</ul></li>
</ul></div></div><br>
<a name="id"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アイテムの識別</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プロジェクトが複数の小さなファイルで構成されている場合、通常、要素の命名に関する問題は発生しません。</font><font style="vertical-align: inherit;">すべての名前が見え、重複しないようにするのは簡単です。</font><font style="vertical-align: inherit;">反対に、プロジェクトが多数の異なる人々によって開発された多くのモジュールで構成されており、これらのモジュールを1つのドメインドメインから抽象化すると、名前の競合が発生しやすくなります。</font><font style="vertical-align: inherit;">LsFusionには、これらの問題を解決する2つのメカニズムがあります。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名前空間-名前をフルネームとショートネームに分離し、要素にアクセスするときにショートネームのみを使用する機能</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">明示的な型指定（より正確には、関数のオーバーロード）-同じ方法でプロパティ（およびアクション）に名前を付け、その後、それらにアクセスすると、引数のクラスに応じて、呼び出し先のプロパティを自動的に決定します</font></font></li>
</ul><br>
<a name="namespace"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名前空間</font></font></h3> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
複雑なプロジェクトは通常、名前を付ける必要のある多数の要素で構成されています。また、ドメインドメインが交差する場合、異なるコンテキストで同じ名前を使用する必要が生じることがよくあります。たとえば、クラスまたはフォームの名前がInvoice（invoice）であり、この名前をさまざまなファンクションブロックで使用したいとします。たとえば、購入（Purchase）、Sale（Sale）、返品（PurchaseReturn）、返品（SaleReturn）などです。クラス/フォームPurchaseInvoice、SaleInvoiceなどを呼び出すことができるのは明らかです。しかし、第一に、そのような名前自体はかさばりすぎます。次に、1つの機能ブロックで、原則として同じ機能ブロックの要素を呼び出します。これは、たとえば、開発時に機能ブロック購入（購入）は、購入という単語が繰り返し繰り返されることにより、目に波紋が生じるだけです。これを防ぐために、プラットフォームには名前空間のような概念があります。次のように機能します。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プラットフォームのすべての要素は、いくつかの名前空間に作成されます</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要素の作成中に他の要素にアクセスしている場合は、同じ名前空間で作成された要素が優先されます</font></font><br>
</li>
</ul><div class="scrollable-table"><table>
<tbody><tr>
<td><code><font color="#a626a4">MODULE</font>&nbsp;PurchaseInvoice;<br>
<font color="#a626a4">NAMESPACE</font>&nbsp;Purchase;<br>
<font color="#a626a4">CLASS</font>&nbsp;Invoice&nbsp;<font color="#50a14f">'&nbsp;()'</font>;<br>
</code></td>
</tr>
</tbody></table></div><div class="scrollable-table"><table>
<tbody><tr>
<td><code><font color="#a626a4">MODULE</font>&nbsp;SaleInvoice;<br>
<font color="#a626a4">NAMESPACE</font>&nbsp;Sale;<br>
<font color="#a626a4">CLASS</font>&nbsp;Invoice&nbsp;<font color="#50a14f">'&nbsp;()'</font>;<br>
</code></td>
</tr>
</tbody></table></div><div class="scrollable-table"><table>
<tbody><tr>
<td><code><font color="#a626a4">MODULE</font>&nbsp;PurchaseShipment;<br>
<font color="#a626a4">REQUIRE</font>&nbsp;PurchaseInvoice,&nbsp;SaleInvoice;<br>
<font color="#a626a4">NAMESPACE</font>&nbsp;Purchase;<br>
<font color="#808080"><i>//&nbsp;&nbsp;&nbsp;Invoice&nbsp;&nbsp;&nbsp;&nbsp;Purchase.Invoice,&nbsp;&nbsp;&nbsp;Sale.invoice</i></font><br>
<font color="#808080"><i>//&nbsp;&nbsp;&nbsp;namespace&nbsp;&nbsp;&nbsp;Purchase&nbsp;&nbsp;&nbsp;&nbsp;namespace&nbsp;Purchase&nbsp;</i></font><br>
shipment(Invoice&nbsp;invoice)&nbsp;=&nbsp;<font color="#a626a4">AGGR</font>&nbsp;ShipmentInvoce&nbsp;<font color="#a626a4">WHERE</font>&nbsp;createShipment(invoice);<br>
</code></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">現在のバージョンの言語の名前空間は、モジュールヘッダーですぐにモジュール全体に設定されます。</font><font style="vertical-align: inherit;">デフォルトでは、名前空間が指定されていない場合、モジュール名と同じ名前で暗黙的に作成されます。</font><font style="vertical-align: inherit;">優先度のない名前空間から要素にアクセスする必要がある場合は、要素の完全な名前（たとえば、Sale.Invoice）を指定することによってこれを行うことができます。</font></font><br>
<br>
<a name="exptype"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">明示的なタイピング</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
名前空間は重要ですが、コードを短くして読みやすくする唯一の方法ではありません。</font><font style="vertical-align: inherit;">それらに加えて、プロパティ（およびアクション）を検索するときに、入力で渡された引数のクラスを考慮することもできます。</font><font style="vertical-align: inherit;">例えば：</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><code>sum&nbsp;=&nbsp;<font color="#a626a4">DATA</font>&nbsp;<font color="#a626a4">NUMERIC</font>[<font color="#986801">10</font>,<font color="#986801">2</font>]&nbsp;(OrderDetail);<br>
sum&nbsp;=&nbsp;<font color="#a626a4">GROUP</font>&nbsp;<font color="#a626a4">SUM</font>&nbsp;sum(OrderDetail&nbsp;od)&nbsp;<font color="#a626a4">BY</font>&nbsp;order(od);<br>
<font color="#808080"><i>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Order</i></font><br>
<font color="#808080"><i>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OrderDetail</i></font><br>
<font color="#a626a4">CONSTRAINT</font>&nbsp;sum(Order&nbsp;o)&nbsp;&lt;&nbsp;<font color="#986801">0</font>&nbsp;<font color="#a626a4">MESSAGE</font>&nbsp;<font color="#50a14f">'&nbsp;&nbsp;&nbsp;&nbsp;'</font>;<br>
</code></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">もちろん、ここで問題が発生する可能性があります。目的のプロパティの名前空間が優先されない場合はどうなりますか？しかし、クラスには適していますか？実際、一般的な検索アルゴリズムは非常に複雑で（その完全な説明は</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここに</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">あり</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">）、</font><font style="vertical-align: inherit;">その</font><font style="vertical-align: inherit;">ような「あいまい」なケースがたくさんあるため、不確実な場合は、目的のプロパティの名前空間/クラスを明示的に指定するか、IDEでダブルチェックする（宣言に移動-を使用） CTRL + B）見つかったプロパティは、まさに意図したものです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、lsFusionでの明示的な型指定は通常必要ないことにも注意してください。</font><font style="vertical-align: inherit;">パラメータクラスは省略できます。必要なプロパティを見つけるのに十分な情報がプラットフォームにある場合は、そのようにします。</font><font style="vertical-align: inherit;">一方、本当に複雑なプロジェクトでは、コードの簡潔さの観点からだけでなく、早期エラー診断、IDEからのスマートな自動補完などのさまざまな追加機能の観点からも、パラメータークラスを明示的に設定することをお勧めします。</font><font style="vertical-align: inherit;">私たちは暗黙の型付け（最初の5年間）と明示的な（残りの時間）の両方で作業した広範な経験があり、暗黙の型付けの時代は身震いで記憶されていると言わなければなりません（ただし、それは単に「調理方法がわからなかった」かもしれません）。</font></font><br>
<br>
<a name="moduleness"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モジュール性</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
モジュール性はシステムの最も重要な特性の1つであり、その拡張性、コードの再利用、および開発チームの効果的な相互作用を保証することができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LsFusionは、次の2つのメカニズムでモジュール性を提供します。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">拡張機能-作成後にシステムの要素を拡張（変更）する機能。</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モジュール-さらなる再利用のためにいくつかの機能をグループ化する機能。</font></font><br>
</li>
</ul><br>
<a name="extend"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">拡張</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
lsFusionは、最初の記事で説明されているポリモーフィズムのメカニズムを通じて、クラスとフォーム、およびプロパティとアクションを拡張する機能をサポートしています。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><code>sum&nbsp;=&nbsp;<font color="#a626a4">DATA</font>&nbsp;<font color="#a626a4">NUMERIC</font>[<font color="#986801">10</font>,<font color="#986801">2</font>]&nbsp;(OrderDetail);<br>
sum&nbsp;=&nbsp;<font color="#a626a4">GROUP</font>&nbsp;<font color="#a626a4">SUM</font>&nbsp;sum(OrderDetail&nbsp;od)&nbsp;<font color="#a626a4">BY</font>&nbsp;order(od);<br>
<font color="#808080"><i>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Order</i></font><br>
<font color="#808080"><i>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OrderDetail</i></font><br>
<font color="#a626a4">CONSTRAINT</font>&nbsp;sum(Order&nbsp;o)&nbsp;&lt;&nbsp;<font color="#986801">0</font>&nbsp;<font color="#a626a4">MESSAGE</font>&nbsp;<font color="#50a14f">'&nbsp;&nbsp;&nbsp;&nbsp;'</font>;<br>
<font color="#a626a4">CLASS</font>&nbsp;<font color="#a626a4">ABSTRACT</font>&nbsp;Shape;<br>
<font color="#a626a4">CLASS</font>&nbsp;Box&nbsp;:&nbsp;Shape;<br>
<br>
<font color="#a626a4">CLASS</font>&nbsp;Quadrilateral;<br>
<font color="#a626a4">EXTEND</font>&nbsp;<font color="#a626a4">CLASS</font>&nbsp;Box&nbsp;:&nbsp;Quadrilateral;&nbsp;<font color="#808080"><i>//&nbsp;&nbsp;</i></font><br>
<br>
<font color="#a626a4">CLASS</font>&nbsp;ShapeType&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;point&nbsp;<font color="#50a14f">''</font>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;segment&nbsp;<font color="#50a14f">''</font><br>
}&nbsp;<br>
&nbsp;<br>
<font color="#a626a4">EXTEND</font>&nbsp;<font color="#a626a4">CLASS</font>&nbsp;ShapeType&nbsp;{&nbsp;<font color="#808080"><i>//&nbsp;&nbsp;&nbsp;</i></font><br>
&nbsp;&nbsp;&nbsp;&nbsp;circle&nbsp;<font color="#50a14f">''</font><br>
}<br>
<br>
<font color="#a626a4">CLASS</font>&nbsp;ItemGroup;<br>
name&nbsp;=&nbsp;<font color="#a626a4">DATA</font>&nbsp;<font color="#a626a4">ISTRING</font>[<font color="#986801">100</font>]&nbsp;(ItemGroup);<br>
<br>
itemGroup&nbsp;=&nbsp;<font color="#a626a4">DATA</font>&nbsp;ItemGroup&nbsp;(Item);<br>
<br>
<font color="#a626a4">EXTEND</font>&nbsp;<font color="#a626a4">FORM</font>&nbsp;items<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>(i)&nbsp;<font color="#a626a4">NEWSESSION</font>&nbsp;<font color="#a626a4">DELETE</font>&nbsp;<font color="#808080"><i>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</i></font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">OBJECTS</font>&nbsp;g&nbsp;=&nbsp;ItemGroup&nbsp;<font color="#a626a4">BEFORE</font>&nbsp;i&nbsp;<font color="#808080"><i>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</i></font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>(g)&nbsp;<font color="#a626a4">READONLY</font>&nbsp;name<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">FILTERS</font>&nbsp;itemGroup(i)&nbsp;==&nbsp;g&nbsp;<font color="#808080"><i>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;&nbsp;&nbsp;&nbsp;</i></font><br>
;<br>
</code></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">また、他のほとんどすべてのプラットフォーム設計（ナビゲーター、フォーム設計など）は定義により拡張可能であるため、それらの個別の拡張ロジックはありません。</font></font><br>
<br>
<a name="module"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モジュール</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
モジュールは、プロジェクトの機能的に完全な一部です。 lsFusionの現在のバージョンでは、モジュールはモジュールのヘッダーと本体で構成される個別のファイルです。モジュールヘッダーは、モジュールの名前と、必要に応じて、使用されているモジュールのリストとこのモジュールの名前空間の名前で構成されます。モジュールの本体は、システム要素の宣言または拡張、あるいはその両方で構成されます：プロパティ、アクション、制限、フォーム、メタコードなど。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通常、モジュールは他のモジュールの要素を使用して、独自のモジュールを宣言するか、既存の要素を展開します。したがって、モジュールBがモジュールAの要素を使用する場合は、モジュールBでAに依存していることを示す必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
依存関係に基づいて、プロジェクト内のすべてのモジュールは、初期化された特定の順序で配置されます（この順序は、前述の拡張メカニズムを使用するときに重要な役割を果たします）。</font><font style="vertical-align: inherit;">モジュールBがモジュールAに依存している場合、モジュールAの初期化はモジュールBの初期化よりも早く行われることが保証されています。プロジェクト内のモジュール間の循環依存は許可されていません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
モジュール間の依存関係は推移的です。</font><font style="vertical-align: inherit;">つまり、モジュールCがモジュールBに依存し、モジュールBがモジュールAに依存している場合、モジュールCもモジュールAに依存していると見なされます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
明示的に指定されているかどうかに関係なく、どのモジュールも常に自動的にシステムモジュールSystemに</font><font style="vertical-align: inherit;">依存します。</font><font style="vertical-align: inherit;">か否か。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><code><font color="#a626a4">MODULE</font>&nbsp;EmployeeExample;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#808080"><i>//&nbsp;&nbsp;&nbsp;</i></font><br>
<br>
<font color="#a626a4">REQUIRE</font>&nbsp;Authentication,&nbsp;Utils;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#808080"><i>//&nbsp;&nbsp;,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Employee</i></font><br>
<font color="#a626a4">NAMESPACE</font>&nbsp;Employee;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#808080"><i>//&nbsp;&nbsp;&nbsp;</i></font><br>
&nbsp;<br>
<font color="#a626a4">CLASS</font>&nbsp;Employee&nbsp;<font color="#50a14f">''</font>;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#808080"><i>//&nbsp;&nbsp;</i></font><br>
<font color="#a626a4">CLASS</font>&nbsp;Position&nbsp;<font color="#50a14f">''</font>;&nbsp;<font color="#808080"><i>//&nbsp;&nbsp;&nbsp;&nbsp;</i></font><br>
&nbsp;<br>
employeePosition(employee)&nbsp;=&nbsp;<font color="#a626a4">DATA</font>&nbsp;Position&nbsp;(Employee);&nbsp;<font color="#808080"><i>//&nbsp;&nbsp;</i></font><br>
</code></td>
</tr>
</tbody></table></div><br>
<a name="meta"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メタプログラミング</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
メタプログラミングは、結果として他のプログラムコードを生成するプログラムコードの記述に関連するプログラミングの一種です。</font><font style="vertical-align: inherit;">LsFusionは、メタプログラミングにいわゆるメタコードを使用します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
メタコードは次のもので構成されています。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メタコード名</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メタコードパラメータ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メタコードの本体-システム要素（プロパティ、アクション、イベント、その他のメタコードなど）の宣言および/または拡張で構成されるコードブロック</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、コードのメイン処理を開始する前に、プラットフォームはそれを前処理します-メタコードのすべての使用をこれらのメタコードの本体で置き換えます。</font><font style="vertical-align: inherit;">この場合、識別子/文字列リテラルで使用されるすべてのメタコードパラメータは、このメタコードに渡される引数に置き換えられます：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
宣言：</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><code><font color="#a626a4">META</font>&nbsp;addActions(formName)<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">EXTEND</font>&nbsp;<font color="#a626a4">FORM</font>&nbsp;formName<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>()&nbsp;showMessage,&nbsp;closeForm<br>
&nbsp;&nbsp;&nbsp;&nbsp;;<br>
<font color="#a626a4">END</font><br>
</code></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用：</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><code><font color="#4078f2">@addActions</font>(documentForm);<br>
<font color="#4078f2">@addActions</font>(orderForm);<br>
</code></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結果のコード：</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><code><font color="#a626a4">EXTEND</font>&nbsp;<font color="#a626a4">FORM</font>&nbsp;documentForm<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>()&nbsp;showMessage,&nbsp;closeForm<br>
;&nbsp;&nbsp;<br>
<font color="#a626a4">EXTEND</font>&nbsp;<font color="#a626a4">FORM</font>&nbsp;orderForm<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>()&nbsp;showMessage,&nbsp;closeForm<br>
;<br>
</code></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メタコードパラメータを単に置き換えることに加えて、プラットフォームでは、これらのパラメータを既存の識別子/文字列リテラル（または相互）と組み合わせることができます。次に例を示します</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><code><font color="#a626a4">META</font>&nbsp;objectProperties(object,&nbsp;caption)<br>
&nbsp;&nbsp;&nbsp;&nbsp;object<font color="#4078f2">##</font>Name&nbsp;<font color="#50a14f">'&nbsp;'</font><font color="#4078f2">##</font>caption&nbsp;=&nbsp;<font color="#a626a4">DATA</font>&nbsp;<font color="#a626a4">BPSTRING</font>[<font color="#986801">100</font>](object);<br>
&nbsp;&nbsp;&nbsp;&nbsp;object<font color="#4078f2">##</font>Type&nbsp;<font color="#50a14f">'&nbsp;'</font><font color="#4078f2">##</font>caption&nbsp;=&nbsp;<font color="#a626a4">DATA</font>&nbsp;Type&nbsp;(object);<br>
&nbsp;&nbsp;&nbsp;&nbsp;object<font color="#4078f2">##</font>Value&nbsp;<font color="#50a14f">'&nbsp;'</font><font color="#4078f2">##</font>caption&nbsp;=&nbsp;<font color="#a626a4">DATA</font>&nbsp;<font color="#a626a4">INTEGER</font>&nbsp;(object);<br>
<font color="#a626a4">END</font><br>
</code></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用：</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><code><font color="#4078f2">@objectProperties</font>(document,&nbsp;<font color="#50a14f">''</font>);<br>
</code></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結果のコード：</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><code>DocumentName&nbsp;<font color="#50a14f">'&nbsp;'</font>&nbsp;=&nbsp;<font color="#a626a4">DATA</font>&nbsp;<font color="#a626a4">BPSTRING</font>[<font color="#986801">100</font>](Document);<br>
DocumentType&nbsp;<font color="#50a14f">'&nbsp;'</font>&nbsp;=&nbsp;<font color="#a626a4">DATA</font>&nbsp;Type&nbsp;(Document);<br>
DocumentValue&nbsp;<font color="#50a14f">'&nbsp;'</font>&nbsp;=&nbsp;<font color="#a626a4">DATA</font>&nbsp;<font color="#a626a4">INTEGER</font>&nbsp;(Document);<br>
</code></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メタコードはCのマクロと非常に似ていますが、後者とは異なり、テキストレベルでは機能せず（たとえば、パラメーターでキーワードを渡すことはできません）、識別子/文字列リテラルのレベルでのみ機能します（特に、この制限により、 IDEでメタコード本文を解析します）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
lsFusionでは、メタコードはJavaのジェネリック（パラメーターとしてクラスを渡す）およびFPのラムダ（パラメーターとして関数を渡す）と同様の問題を解決しますが、非常に美しくはありません。しかし、その一方で、より一般的なケースでこれを行います（たとえば、識別子を組み合わせたり、構文構造で使用したりできます-フォーム、デザイン、ナビゲーターなど）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
メタコードの「デプロイメント」は、プラットフォーム自体だけでなくIDEでもサポートされていることに注意してください。</font><font style="vertical-align: inherit;">そのため、IDEには、メタを有効にする特別なモードがあり、結果のコードをソースに直接生成します。これにより、生成されたコードを使用、自動補完などの検索に参加させることができます。</font><font style="vertical-align: inherit;">この場合、メタコードの本文が変更されると、IDEはこのメタコードのすべての使用を自動的に更新します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/_x/3p/xo/_x3pxoomnmxrrrxk7qinrjkmca4.gif"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、メタコードは自動だけでなく、手動のコード生成（テンプレートとして）にも使用できます。</font><font style="vertical-align: inherit;">これを行うには、@の代わりに@@を記述するだけで十分であり、メタコードの使用法の文字列が完全に入力されると（セミコロンまで）、IDEはこのメタコードの使用法をこのメタコードによって生成されたコードに置き換えます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bd/jr/lv/bdjrlvo5a2fkwgyosx07rg56-20.gif"><br>
<br>
<a name="integration"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">統合</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
統合には、lsFusionシステムと他のシステムとの相互作用に関連するすべてが含まれます。</font><font style="vertical-align: inherit;">この相互作用の方向性の観点から、統合は次のように分類できます。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">別のシステムからlsFusionシステムにアクセスする。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lsFusionシステムから別のシステムへのアクセス。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
物理モデルの観点から見ると、統合は次のように分類できます。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lsFusionシステムと同じ「環境」で実行されているシステム（つまり、lsFusionサーバーのJava仮想マシン（JVM）で、またはlsFusionシステムと同じSQLサーバーを使用しているシステム）との相互作用。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ネットワークプロトコルを介したリモートシステムとの相互作用。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、最初のシステムは内部、2番目は外部と呼ばれます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、プラットフォームには4つの異なるタイプの統合があります。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外部システムへのアピール</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外部システムからの申し立て</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内部システムへのアピール</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内部システムからのアピール</font></font></li>
</ul><br>
<a name="toext"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外部システムへのアピール</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
lsFusionでの外部システムへのアクセスは、ほとんどの場合、特別なEXTERNAL演算子を使用して実装されます。</font><font style="vertical-align: inherit;">この演算子は、特定の外部システムの言語/パラダイムで特定のコードを実行します。</font><font style="vertical-align: inherit;">さらに、この演算子を使用すると、プリミティブ型のオブジェクトをそのような呼び出しのパラメーターとして転送したり、呼び出しの結果を（パラメーターなしで）指定したプロパティに書き込んだりできます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
現時点では、プラットフォームは次のタイプの対話/外部システムをサポートしています：</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTTP-Webサーバーのhttp要求の実行。</font></font></b><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このタイプの対話では、サーバー名と実行する必要のある要求の両方を同時に決定するクエリ文字列（URL）を指定する必要があります。パラメーターは、クエリ行（パラメーターを参照するために、特殊文字$とこのパラメーターの番号（1から始まる））とその本文（BODY）の両方で送信できます。クエリ文字列で使用されていないすべてのパラメーターがBODYに渡されることを前提としています。 BODYに複数のパラメーターがある場合、送信中のBODYコンテンツタイプはmultipart / mixedに設定され、パラメーターはこのBODYのコンポーネントとして転送されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BODYでファイルクラス（FILE、PDFFILEなど）のパラメーターを処理する場合、パラメーターのコンテンツタイプはファイル拡張子に応じて決定されます（次の</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">表</font></a><font style="vertical-align: inherit;">に従って</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ください）。</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）ファイル拡張子がこの表にない場合、コンテンツタイプはapplication / &lt;ファイル拡張子&gt;に設定されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
必要に応じて、特別なオプション（HEADERS）を使用して、実行されたリクエストのヘッダーを設定できます。これを行うには、タイトルが格納される文字列クラスのパラメーターを1つだけ含むプロパティと、このヘッダーの値が格納される文字列クラスの値を指定します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
http-requestの結果は、そのパラメーターと同様に、反対方向にのみ処理されます。たとえば、結果のコンテンツタイプが次の</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">表</font></a><font style="vertical-align: inherit;">にあるか、次の</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表にある場合</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、またはapplication / *と等しい場合、結果はファイルと見なされ、値FILEのプロパティに書き込む必要があります。 http-requestの結果のヘッダーは、このリクエスト自体のヘッダーと同様に処理されます（唯一の違いは、オプションがHEADERSではなくHEADERSTOと呼ばれることです）。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><code><font color="#a626a4">EXTERNAL</font>&nbsp;<font color="#a626a4">HTTP</font>&nbsp;<font color="#a626a4">GET</font>&nbsp;<font color="#50a14f">'https://www.cs.cmu.edu/~chuck/lennapg/len_std.jpg'</font>&nbsp;<font color="#a626a4">TO</font>&nbsp;exportFile;&nbsp;<br>
open(exportFile());&nbsp;<br>
<br>
<font color="#a626a4">LOCAL</font>&nbsp;headers&nbsp;=&nbsp;<font color="#a626a4">STRING</font>&nbsp;(<font color="#a626a4">STRING</font>);<br>
headers(<font color="#50a14f">'Authentication&nbsp;:&nbsp;Bearer'</font>)&nbsp;&lt;-&nbsp;<font color="#50a14f">'d43ks43ds343dd233'</font>';<br>
<font color="#a626a4">EXTERNAL</font>&nbsp;<font color="#a626a4">HTTP</font>&nbsp;<font color="#50a14f">'http://tryonline.lsfusion.org/exec?action=getExamples'</font>&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">HEADERS</font>&nbsp;headers&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">HEADERSTO</font>&nbsp;headers&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">PARAMS</font>&nbsp;<font color="#a626a4">JSONFILE</font>(<font color="#50a14f">'\{"mode"=1\}'</font>)&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">TO</font>&nbsp;exportFile;<br>
<br>
<font color="#a626a4">IMPORT</font>&nbsp;<font color="#a626a4">FROM</font>&nbsp;exportFile()&nbsp;<font color="#a626a4">FIELDS</font>&nbsp;()&nbsp;<font color="#a626a4">STRING</font>&nbsp;caption,&nbsp;<font color="#a626a4">STRING</font>&nbsp;code&nbsp;<font color="#a626a4">DO</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">MESSAGE</font>&nbsp;<font color="#50a14f">'Example&nbsp;:&nbsp;'</font>&nbsp;+&nbsp;caption&nbsp;+&nbsp;<font color="#50a14f">',&nbsp;code&nbsp;:&nbsp;'</font>&nbsp;+&nbsp;code;<br>
<font color="#a626a4">FOR</font>&nbsp;v&nbsp;=&nbsp;headers(<font color="#a626a4">STRING</font>&nbsp;s)&nbsp;<font color="#a626a4">DO</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">MESSAGE</font>&nbsp;<font color="#50a14f">'Result&nbsp;Header&nbsp;is&nbsp;:&nbsp;Key&nbsp;-&nbsp;'</font>&nbsp;+&nbsp;s&nbsp;+&nbsp;<font color="#50a14f">',&nbsp;Value&nbsp;-&nbsp;'</font>&nbsp;+&nbsp;v;<br>
</code></td>
</tr>
</tbody></table></div><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SQL-SQLサーバーコマンドの実行。</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このタイプの対話では、実行する接続文字列とSQLコマンドを指定します。</font><font style="vertical-align: inherit;">パラメータは、接続文字列とSQLコマンドの両方で渡すことができます。</font><font style="vertical-align: inherit;">パラメータにアクセスするには、特殊文字$とこのパラメータの数を使用します（1から開始）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ファイルクラスのパラメータ（FILE、PDFFILEなど）は、SQLコマンドでのみ使用できます。</font><font style="vertical-align: inherit;">同時に、実行時のパラメーターのいずれかがTABLEファイル（TABLEFILEまたはFILEがテーブル拡張子を持つ）である場合、このパラメーターもこの場合はテーブルと見なされます。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SQLコマンドを実行する前に、そのような各パラメーターの値が一時テーブルでサーバーにロードされます。</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パラメータを置き換える場合、置換されるのはパラメータ値自体ではなく、作成された一時テーブルの名前</font></font><br>
</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実行結果は次のとおりです。DMLクエリの場合-処理されたレコードの数に等しい数、SELECTクエリの場合-これらのクエリの結果を含むTABLE形式のファイル（拡張子テーブルを含むFILE）。これらの結果の順序は、SQLコマンドの対応するクエリの実行順序と一致します。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><code>externalSQL&nbsp;()&nbsp;&nbsp;{&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">EXPORT</font>&nbsp;<font color="#a626a4">TABLE</font>&nbsp;<font color="#a626a4">FROM</font>&nbsp;bc=barcode(Article&nbsp;a)&nbsp;<font color="#a626a4">WHERE</font>&nbsp;name(a)&nbsp;<font color="#a626a4">LIKE</font>&nbsp;<font color="#50a14f">'%%'</font>;&nbsp;<font color="#808080"><i>//&nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;&nbsp;&nbsp;</i></font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">EXTERNAL</font>&nbsp;<font color="#a626a4">SQL</font>&nbsp;<font color="#50a14f">'jdbc:mysql://$1/test?user=root&amp;password='</font>&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">EXEC</font>&nbsp;<font color="#50a14f">'select&nbsp;price&nbsp;AS&nbsp;pc,&nbsp;articles.barcode&nbsp;AS&nbsp;brc&nbsp;from&nbsp;$2&nbsp;x&nbsp;JOIN&nbsp;articles&nbsp;ON&nbsp;x.bc=articles.barcode'</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">PARAMS</font>&nbsp;<font color="#50a14f">'localhost'</font>,exportFile()&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">TO</font>&nbsp;exportFile;&nbsp;<font color="#808080"><i>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-</i></font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#808080"><i>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;</i></font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">LOCAL</font>&nbsp;price&nbsp;=&nbsp;<font color="#a626a4">INTEGER</font>&nbsp;(<font color="#a626a4">INTEGER</font>);<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">LOCAL</font>&nbsp;barcode&nbsp;=&nbsp;<font color="#a626a4">STRING</font>[<font color="#986801">30</font>]&nbsp;(<font color="#a626a4">INTEGER</font>);<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">IMPORT</font>&nbsp;<font color="#a626a4">FROM</font>&nbsp;exportFile()&nbsp;<font color="#a626a4">TO</font>&nbsp;price=pc,barcode=brc;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">FOR</font>&nbsp;barcode(Article&nbsp;a)&nbsp;=&nbsp;barcode(<font color="#a626a4">INTEGER</font>&nbsp;i)&nbsp;<font color="#a626a4">DO</font>&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;price(a)&nbsp;&lt;-&nbsp;price(i);<br>
}<br>
</code></td>
</tr>
</tbody></table></div><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LSF-別のlsFusionサーバーのアクションを呼び出します。</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
このタイプの相互作用の場合、lsFusionサーバー（または、存在する場合はそのWebサーバー）への接続文字列、実行されるアクション、およびプロパティのリスト（パラメーターなし）が、呼び出しの結果が書き込まれる値で指定されます。転送されるパラメーターは、実行されるアクションのパラメーターと数およびクラスが一致している必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このタイプの対話でアクションを設定する方法は、外部システムからアクセスするときのアクションを設定する方法と完全に一貫しています（次のセクションでこのタイプのアクセスについて）。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><code>externalLSF()&nbsp;&nbsp;{&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">EXTERNAL</font>&nbsp;<font color="#a626a4">LSF</font>&nbsp;<font color="#50a14f">'http://localhost:7651'</font>&nbsp;<font color="#a626a4">EXEC</font>&nbsp;<font color="#50a14f">'System.testAction[]'</font>;&nbsp;<br>
}<br>
</code></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デフォルトでは、このタイプの対話は、外部システムへのアクセスや外部システムからのアクセスに適切なインターフェースを使用するHTTPプロトコルを使用して実装されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記とは異なるプロトコルを使用してシステムにアクセスする必要がある場合は、Javaでアクションを作成し、そこにこの呼び出しを実装することでいつでもこれを行うことができます（詳細は、「内部システムへのアクセス」のセクションで後ほど説明します）。</font></font><br>
<br>
<a name="fromext"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外部システムからの申し立て</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このプラットフォームにより、外部システムは、HTTPネットワークプロトコルを使用してlsFusionで開発されたシステムにアクセスできます。</font><font style="vertical-align: inherit;">この相互作用のインターフェースは、指定されたパラメーターでいくつかのアクションを呼び出し、必要に応じて、いくつかのプロパティ（パラメーターなし）の値を結果として返します。</font><font style="vertical-align: inherit;">パラメータと結果のすべてのオブジェクトはプリミティブ型のオブジェクトであると想定されています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
呼び出されるアクションは、次の3つの方法のいずれかで設定できます。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ exec？action = &lt;action name&gt;-呼び出されたアクションの名前を設定します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ eval？script = &lt;code&gt;-lsFusionにコードを設定します。</font><font style="vertical-align: inherit;">このコードでは、runという名前のアクションの宣言があると想定されています。呼び出されるのはこのアクションです。</font><font style="vertical-align: inherit;">スクリプトパラメータが指定されていない場合、コードは最初のBODYパラメータとして渡されると見なされます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ eval / action？script = &lt;action code&gt;-lsFusionにアクションコードを設定します。</font><font style="vertical-align: inherit;">パラメータにアクセスするには、特殊文字$とパラメータ番号（1から始まる）を使用できます。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2番目と3番目のケースでは、スクリプトパラメータが指定されていない場合、コードは最初のBODYパラメータによって渡されると見なされます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
パラメータと結果の処理は、HTTPプロトコルを使用した外部システムへのアクセスと対称的です（唯一の違いは、パラメータが結果として処理され、逆に結果がパラメータとして処理されることです）。したがって、あまり繰り返しません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、アクションがある場合：</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><code>importOrder(<font color="#a626a4">INTEGER</font>&nbsp;no,&nbsp;<font color="#a626a4">DATE</font>&nbsp;date,&nbsp;<font color="#a626a4">FILE</font>&nbsp;detail)&nbsp;{<br>
&nbsp;&nbsp;&nbsp;<font color="#a626a4">NEW</font>&nbsp;o&nbsp;=&nbsp;FOrder&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;no(o)&nbsp;&lt;-&nbsp;no;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;date(o)&nbsp;&lt;-&nbsp;date;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">LOCAL</font>&nbsp;detailId&nbsp;=&nbsp;<font color="#a626a4">INTEGER</font>&nbsp;(<font color="#a626a4">INTEGER</font>);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">LOCAL</font>&nbsp;detailQuantity&nbsp;=&nbsp;<font color="#a626a4">INTEGER</font>&nbsp;(<font color="#a626a4">INTEGER</font>);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">IMPORT</font>&nbsp;<font color="#a626a4">FROM</font>&nbsp;detail&nbsp;<font color="#a626a4">TO</font>&nbsp;detailId,&nbsp;detailQuantity;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">FOR</font>&nbsp;imported(<font color="#a626a4">INTEGER</font>&nbsp;i)&nbsp;<font color="#a626a4">DO</font>&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">NEW</font>&nbsp;od&nbsp;=&nbsp;FOrderDetail&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id(od)&nbsp;&lt;-&nbsp;detailId(i);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quantity(od)&nbsp;&lt;-&nbsp;detailQuantity(i);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;price(od)&nbsp;&lt;-&nbsp;<font color="#986801">5</font>;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;order(od)&nbsp;&lt;-&nbsp;o;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">APPLY</font>;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">EXPORT</font>&nbsp;<font color="#a626a4">JSON</font>&nbsp;<font color="#a626a4">FROM</font>&nbsp;price&nbsp;=&nbsp;price(FOrderDetail&nbsp;od),&nbsp;id&nbsp;=&nbsp;id(od)&nbsp;<font color="#a626a4">WHERE</font>&nbsp;order(od)&nbsp;=&nbsp;o;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">EXPORT</font>&nbsp;<font color="#a626a4">FROM</font>&nbsp;orderPrice(o),&nbsp;exportFile();<br>
&nbsp;&nbsp;&nbsp;}<br>
}<br>
</code></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次に、POSTリクエストを使用してそれにアクセスできます。</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">URL-http：// server_address / exec？Action = importOrder＆p = 123＆p = 2019-01-01</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BODY-クエリ文字列を含むjsonファイル</font></font></li>
</ul><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python呼び出しの例</font></font></b><div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword">import</span> json
<span class="hljs-keyword">import</span> requests
<span class="hljs-keyword">from</span> requests_toolbelt.multipart <span class="hljs-keyword">import</span> decoder<font></font>
 <font></font>
lsfCode = (<span class="hljs-string">"run(INTEGER no, DATE date, FILE detail) {\n"</span>
           <span class="hljs-string">"    NEW o = FOrder {\n"</span>
           <span class="hljs-string">"        no(o) &lt;- no;\n"</span>
           <span class="hljs-string">"        date(o) &lt;- date;\n"</span>
           <span class="hljs-string">"        LOCAL detailId = INTEGER (INTEGER);\n"</span>
           <span class="hljs-string">"        LOCAL detailQuantity = INTEGER (INTEGER);\n"</span>
           <span class="hljs-string">"        IMPORT JSON FROM detail TO detailId, detailQuantity;\n"</span>
           <span class="hljs-string">"        FOR imported(INTEGER i) DO {\n"</span>
           <span class="hljs-string">"            NEW od = FOrderDetail {\n"</span>
           <span class="hljs-string">"                id(od) &lt;- detailId(i);\n"</span>
           <span class="hljs-string">"                quantity(od) &lt;- detailQuantity(i);\n"</span>
           <span class="hljs-string">"                price(od) &lt;- 5;\n"</span>
           <span class="hljs-string">"                order(od) &lt;- o;\n"</span>
           <span class="hljs-string">"            }\n"</span>
           <span class="hljs-string">"        }\n"</span>
           <span class="hljs-string">"        APPLY;\n"</span>
           <span class="hljs-string">"        EXPORT JSON FROM price = price(FOrderDetail od), id = id(od) WHERE order(od) == o;\n"</span>
           <span class="hljs-string">"        EXPORT FROM orderPrice(o), exportFile();\n"</span>
           <span class="hljs-string">"    }\n"</span>
           <span class="hljs-string">"}"</span>)<font></font>
 <font></font>
order_no = <span class="hljs-number">354</span>
order_date = <span class="hljs-string">'10.10.2017'</span>
order_details = [dict(id=<span class="hljs-number">1</span>, quantity=<span class="hljs-number">10</span>),<font></font>
                 dict(id=<span class="hljs-number">2</span>, quantity=<span class="hljs-number">15</span>),<font></font>
                 dict(id=<span class="hljs-number">5</span>, quantity=<span class="hljs-number">4</span>),<font></font>
                 dict(id=<span class="hljs-number">10</span>, quantity=<span class="hljs-number">18</span>),<font></font>
                 dict(id=<span class="hljs-number">11</span>, quantity=<span class="hljs-number">1</span>),<font></font>
                 dict(id=<span class="hljs-number">12</span>, quantity=<span class="hljs-number">3</span>)]<font></font>
 <font></font>
order_json = json.dumps(order_details)<font></font>
 <font></font>
url = <span class="hljs-string">'http://localhost:7651/eval'</span>
payload = {<span class="hljs-string">'script'</span>: lsfCode, <span class="hljs-string">'no'</span>: str(order_no), <span class="hljs-string">'date'</span>: order_date,
           <span class="hljs-string">'detail'</span>: (<span class="hljs-string">'order.json'</span>, order_json, <span class="hljs-string">'text/json'</span>)}<font></font>
 <font></font>
response = requests.post(url, files=payload)<font></font>
multipart_data = decoder.MultipartDecoder.from_response(response)<font></font>
 <font></font>
sum_part, json_part = multipart_data.parts<font></font>
sum = int(sum_part.text)<font></font>
data = json.loads(json_part.text)<font></font>
 <font></font>
<span class="hljs-comment">##############################################################</span><font></font>
 <font></font>
print(sum)<font></font>
<span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> data:<font></font>
    print(<span class="hljs-string">'{0:3}: price {1}'</span>.format(int(item[<span class="hljs-string">'id'</span>]), int(item[<span class="hljs-string">'price'</span>])))<font></font>
 <font></font>
<span class="hljs-comment">##############################################################</span>
<span class="hljs-comment"># 205</span>
<span class="hljs-comment">#   4: price 5</span>
<span class="hljs-comment">#  18: price 5</span>
<span class="hljs-comment">#   3: price 5</span>
<span class="hljs-comment">#   1: price 5</span>
<span class="hljs-comment">#  10: price 5</span>
<span class="hljs-comment">#  15: price 5</span>
</code></pre></div></div><br>
<a name="toint"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内部システムへのアピール</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
内部相互作用には2つのタイプがあります</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。Java相互作用</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
このタイプの相互作用により、JVM lsFusionサーバー内でJavaコードを呼び出すことができます。</font><font style="vertical-align: inherit;">これを行うには、次のことを行う必要があります。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンパイルされたJavaクラスがアプリケーションサーバーのクラスパスで使用可能であることを確認してください。</font><font style="vertical-align: inherit;">このクラスがlsfusion.server.physics.dev.integration.internal.to.InternalActionを継承することも必要です。</font></font><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Javaクラスの例</font></font></b><div class="spoiler_text"><pre><code class="java hljs"><span class="hljs-keyword">import</span> lsfusion.server.data.sql.exception.SQLHandledException;
<span class="hljs-keyword">import</span> lsfusion.server.language.ScriptingErrorLog;
<span class="hljs-keyword">import</span> lsfusion.server.language.ScriptingLogicsModule;
<span class="hljs-keyword">import</span> lsfusion.server.logics.action.controller.context.ExecutionContext;
<span class="hljs-keyword">import</span> lsfusion.server.logics.classes.ValueClass;
<span class="hljs-keyword">import</span> lsfusion.server.logics.property.classes.ClassPropertyInterface;
<span class="hljs-keyword">import</span> lsfusion.server.physics.dev.integration.internal.to.InternalAction;<font></font>
 <font></font>
<span class="hljs-keyword">import</span> java.math.BigInteger;
<span class="hljs-keyword">import</span> java.sql.SQLException;<font></font>
 <font></font>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CalculateGCD</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">InternalAction</span> </span>{<font></font>
 <font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">CalculateGCD</span><span class="hljs-params">(ScriptingLogicsModule LM, ValueClass... classes)</span> </span>{
        <span class="hljs-keyword">super</span>(LM, classes);<font></font>
    }<font></font>
 <font></font>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">executeInternal</span><span class="hljs-params">(ExecutionContext&lt;ClassPropertyInterface&gt; context)</span> <span class="hljs-keyword">throws</span> SQLException, SQLHandledException </span>{<font></font>
        BigInteger b1 = BigInteger.valueOf((Integer)getParam(<span class="hljs-number">0</span>, context));<font></font>
        BigInteger b2 = BigInteger.valueOf((Integer)getParam(<span class="hljs-number">1</span>, context));<font></font>
        BigInteger gcd = b1.gcd(b2);<font></font>
        <span class="hljs-keyword">try</span> {<font></font>
            findProperty(<span class="hljs-string">"gcd[]"</span>).change(gcd.intValue(), context);<font></font>
        } <span class="hljs-keyword">catch</span> (ScriptingErrorLog.SemanticErrorException ignored) {<font></font>
        }<font></font>
    }<font></font>
}<font></font>
</code></pre></div></div></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特別な内部呼び出し演算子（INTERNAL）を使用してアクションを登録する</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><code>calculateGCD&nbsp;<font color="#50a14f">'&nbsp;'</font>&nbsp;<font color="#a626a4">INTERNAL</font>&nbsp;<font color="#50a14f">'CalculateGCD'</font>&nbsp;(<font color="#a626a4">INTEGER</font>,&nbsp;<font color="#a626a4">INTEGER</font>);<br>
</code></td>
</tr>
</tbody></table></div></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">登録されたアクションは、他のアクションと同様に、callオペレーターを使用して呼び出すことができます。</font><font style="vertical-align: inherit;">この場合、指定したJavaクラスのexecuteInternalメソッド（lsfusion.server.logics.action.controller.context.ExecutionContext context）が実行されます。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><code><font color="#808080"><i>//&nbsp;&nbsp;</i></font><br>
<font color="#a626a4">FORM</font>&nbsp;gcd&nbsp;<font color="#50a14f">''</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">OBJECTS</font>&nbsp;(a&nbsp;=&nbsp;<font color="#a626a4">INTEGER</font>,&nbsp;b&nbsp;=&nbsp;<font color="#a626a4">INTEGER</font>)&nbsp;<font color="#a626a4">PANEL</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>&nbsp;<font color="#50a14f">'A'</font>&nbsp;=&nbsp;<font color="#a626a4">VALUE</font>(a),&nbsp;<font color="#50a14f">'B'</font>&nbsp;=&nbsp;<font color="#a626a4">VALUE</font>(b)<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTIES</font>&nbsp;gcd(),&nbsp;calculateGCD(a,&nbsp;b)<br>
;<br>
<br>
<font color="#808080"><i>//&nbsp;&nbsp;&nbsp;</i></font><br>
run()&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;calculateGCD(<font color="#986801">100</font>,&nbsp;<font color="#986801">200</font>);<br>
}<br>
</code></td>
</tr>
</tbody></table></div></li>
</ul><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SQLインタラクション</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
このタイプのインタラクションにより、開発されたlsFusionシステムで使用されるSQLサーバーのオブジェクト/構文構造にアクセスできます。このタイプの相互作用を実装するために、プラットフォームは特別な演算子-FORMULAを使用します。この演算子を使用すると、SQL言語で式を評価するプロパティを作成できます。式は文字列として指定され、その中で特殊文字$とこのパラメーターの数を使用してパラメーターにアクセスします（1から開始）。したがって、取得されたプロパティのパラメータの数は、使用されるパラメータの数の最大値に等しくなります。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><code>round(number,&nbsp;digits)&nbsp;=&nbsp;<font color="#a626a4">FORMULA</font>&nbsp;<font color="#50a14f">'round(CAST(($1)&nbsp;as&nbsp;numeric),$2)'</font>;&nbsp;&nbsp;<font color="#808080"><i>//&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</i></font><br>
jumpWorkdays&nbsp;=&nbsp;<font color="#a626a4">FORMULA</font>&nbsp;<font color="#a626a4">NULL</font>&nbsp;<font color="#a626a4">DATE</font>&nbsp;<font color="#a626a4">PG</font>&nbsp;<font color="#50a14f">'jumpWorkdays($1,&nbsp;$2,&nbsp;$3)'</font>,&nbsp;<font color="#a626a4">MS</font>&nbsp;<font color="#50a14f">'dbo.jumpWorkdays($1,&nbsp;$2,&nbsp;$3)'</font>;&nbsp;<font color="#808080"><i>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SQL</i></font><br>
</code></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この演算子は、他の演算子を使用してもタスクを解決できない場合、および使用できる特定のSQLサーバーが保証されている場合、または使用されている構文構造が最新のSQL標準のいずれかに準拠している場合にのみ使用することをお勧めします。</font></font><br>
<br>
<a name="fromint"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内部システムからのアピール</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべてが内部システムへのアピールと対称的です。相互作用には2つのタイプがあります</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。Java相互作用</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
このタイプの相互作用のフレームワーク内で、内部システムはlsFusionシステムのJava要素に直接アクセスできます（通常のJavaオブジェクトのように）。したがって、ネットワークプロトコルを使用する場合と同じ操作をすべて実行できますが、同時に、そのような相互作用の大きなオーバーヘッドを回避できます（たとえば、パラメーターのシリアル化/結果の非シリアル化など）。さらに、この通信方法は、相互作用が非常に近い場合（つまり、1つの操作の実行中に、lsFusionシステムから別のシステムへ、およびその逆の両方向で一定の接触が必要）、および/または特定のプラットフォームノードへのアクセスが必要な場合に、はるかに便利で効率的です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
lsFusionシステムのJava要素に直接アクセスするには、まず、これらのJava要素を検索するためのインターフェイスを持つオブジェクトへのリンクを取得する必要があります。</font><font style="vertical-align: inherit;">これは通常、次の2つの方法のいずれかで行われます。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初に呼び出しがlsFusionシステムから（上記のメカニズムを介して）行われる場合、「検索オブジェクト」として、この呼び出しを「経由する」アクションオブジェクトを使用できます（このアクションのクラスはlsfusion.server.physics.dev.integrationから継承する必要があります。 internal.to.InternalAction。これには、必要なすべてのインターフェースがあります）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lsFusionシステムにアクセスする必要があるメソッドのオブジェクトがSpring Beanである場合、ビジネスロジックオブジェクトへのリンクは、依存性注入を使用して取得できます（BeanはそれぞれbusinessLogicsと呼ばれます）。</font></font></li>
</ul><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Javaクラスの例</font></font></b><div class="spoiler_text"><pre><code class="java hljs"><span class="hljs-keyword">import</span> lsfusion.server.data.sql.exception.SQLHandledException;
<span class="hljs-keyword">import</span> lsfusion.server.data.value.DataObject;
<span class="hljs-keyword">import</span> lsfusion.server.language.ScriptingErrorLog;
<span class="hljs-keyword">import</span> lsfusion.server.language.ScriptingLogicsModule;
<span class="hljs-keyword">import</span> lsfusion.server.logics.action.controller.context.ExecutionContext;
<span class="hljs-keyword">import</span> lsfusion.server.logics.classes.ValueClass;
<span class="hljs-keyword">import</span> lsfusion.server.logics.property.classes.ClassPropertyInterface;
<span class="hljs-keyword">import</span> lsfusion.server.physics.dev.integration.internal.to.InternalAction;<font></font>
 <font></font>
<span class="hljs-keyword">import</span> java.math.BigInteger;
<span class="hljs-keyword">import</span> java.sql.SQLException;<font></font>
 <font></font>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CalculateGCDObject</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">InternalAction</span> </span>{<font></font>
 <font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">CalculateGCDObject</span><span class="hljs-params">(ScriptingLogicsModule LM, ValueClass... classes)</span> </span>{
        <span class="hljs-keyword">super</span>(LM, classes);<font></font>
    }<font></font>
 <font></font>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">executeInternal</span><span class="hljs-params">(ExecutionContext&lt;ClassPropertyInterface&gt; context)</span> <span class="hljs-keyword">throws</span> SQLException, SQLHandledException </span>{
        <span class="hljs-keyword">try</span> {<font></font>
            DataObject calculation = (DataObject)getParamValue(<span class="hljs-number">0</span>, context);<font></font>
            BigInteger a = BigInteger.valueOf((Integer)findProperty(<span class="hljs-string">"a"</span>).read(context, calculation));<font></font>
            BigInteger b = BigInteger.valueOf((Integer)findProperty(<span class="hljs-string">"b"</span>).read(context, calculation));<font></font>
            BigInteger gcd = a.gcd(b);<font></font>
            findProperty(<span class="hljs-string">"gcd[Calculation]"</span>).change(gcd.intValue(), context, calculation);<font></font>
        } <span class="hljs-keyword">catch</span> (ScriptingErrorLog.SemanticErrorException ignored) {<font></font>
        }<font></font>
    }<font></font>
}<font></font>
</code></pre></div></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SQLの相互作用</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
lsFusionシステムのSQLサーバーにアクセスできるシステム（そのようなシステムの1つは、たとえばSQLサーバー自体です）は、SQLサーバーツールを使用して、lsFusionシステムによって作成されたテーブルとフィールドに直接アクセスできます。データの読み取りが比較的安全な場合（テーブルとそのフィールドの削除/変更の可能性を除いて）、データの記録中にイベントがトリガーされないことに注意してください（したがって、それらを使用するすべての要素-制限、集計など）。 n。）また、マテリアライゼーションは再カウントされません。したがって、lsFusionシステムのテーブルに直接データを書き込むことはお勧めできません。それでも必要な場合は、上記の機能をすべて考慮することが重要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この直接的な対話（ただし、読み取りのみ）は、プロセス全体が最小限のオーバーヘッドで発生する必要があるさまざまなOLAPシステムとの統合に特に便利です。</font></font><br>
<br>
<a name="migration"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マイグレーション</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際には、さまざまな理由でシステムの既存の要素の名前を変更する必要がある場合がよくあります。名前を変更する要素がプライマリデータに関連付けられていない場合、これは不要なジェスチャーなしで実行できます。しかし、この要素がプライマリプロパティまたはクラスである場合、そのような「静かな」名前変更は、このプライマリプロパティまたはクラスのデータが単に消えるという事実につながります。これを防ぐために、開発者は特別な移行ファイルmigration.scriptを作成し、それをサーバーのクラスパスに配置して、古い要素名が新しい名前にどのように対応するかを示すことができます。すべては次のように機能します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
移行は、指定されたバージョンのデータベース構造で行われた変更を説明するブロックで構成されています。</font><font style="vertical-align: inherit;">サーバーを起動すると、データベースに保存されているバージョンよりも新しいバージョンの移行ファイルからのすべての変更が適用されます。</font><font style="vertical-align: inherit;">変更はバージョンに応じて、小さいバージョンから大きいバージョンに適用されます。</font><font style="vertical-align: inherit;">データベース構造の変更が成功した場合、適用されたすべてのブロックの最大バージョンが現在のものとしてデータベースに書き込まれます。</font><font style="vertical-align: inherit;">各ブロックの説明の構文は次のとおりです。</font></font><br>
<br>
<pre><code class="plaintext hljs">V&lt; &gt; {<font></font>
    1<font></font>
    ...<font></font>
    N<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、変更には次のタイプがあります。 </font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><code><font color="#a626a4">DATA</font>&nbsp;<font color="#a626a4">PROPERTY</font>&nbsp;oldNS.oldName[class1,...,classN]&nbsp;-&gt;&nbsp;newNS.newName[class1,...,classN]<br>
<font color="#a626a4">CLASS</font>&nbsp;oldNS.oldName&nbsp;-&gt;&nbsp;newNS.newName<br>
<font color="#a626a4">OBJECT</font>&nbsp;oldNS.oldClassName.oldName&nbsp;-&gt;&nbsp;newNS.newClassName.newName<br>
<br>
<font color="#a626a4">TABLE</font>&nbsp;oldNS.oldName&nbsp;-&gt;&nbsp;newNS.newName<br>
<font color="#a626a4">PROPERTY</font>&nbsp;oldNS.oldName[class1,...,classN]&nbsp;-&gt;&nbsp;newNS.newName[class1,...,classN]<br>
<font color="#a626a4">FORM</font>&nbsp;<font color="#a626a4">PROPERTY</font>&nbsp;oldNS.oldFormName.oldName(object1,...,objectN)&nbsp;-&gt;&nbsp;newNS.newFormName.newName(object1,...,objectN)&nbsp;<br>
<font color="#a626a4">NAVIGATOR</font>&nbsp;oldNS.oldName&nbsp;-&gt;&nbsp;newNS.newName<br>
</code></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユーザーデータの移行では、最初の3種類の変更のみが関連します（プライマリプロパティ、クラス、静的オブジェクトの変更）。</font><font style="vertical-align: inherit;">残りの4種類の変更が必要です。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メタデータの移行（セキュリティポリシー、テーブル設定など）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユーザーデータの移行を最適化する（集計を再計算せず、テーブル間でデータを再度転送しないようにするため）。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、メタデータの移行が必要ない場合やデータが少ない場合は、移行スクリプトのこのような変更を省略できます。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">移行の例</font></font></b><div class="spoiler_text"><div class="scrollable-table"><table>
<tbody><tr>
<td><code>V0.<font color="#986801">3.1</font>&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">DATA</font>&nbsp;<font color="#a626a4">PROPERTY</font>&nbsp;Item.gender[Item.Article]&nbsp;-&gt;&nbsp;Item.dataGender[Item.Article]&nbsp;<font color="#808080"><i>//&nbsp;&nbsp;&nbsp;DATA&nbsp;</i></font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">PROPERTY</font>&nbsp;System.SIDProperty[Reflection.Property]&nbsp;-&gt;&nbsp;Reflection.dbNameProperty[Reflection.Property]&nbsp;<font color="#808080"><i>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</i></font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">FORM</font>&nbsp;<font color="#a626a4">PROPERTY</font>&nbsp;Item.itemForm.name(i)&nbsp;-&gt;&nbsp;Item.itemForm.itemName(i)<br>
}<br>
&nbsp;&nbsp;<br>
V0.<font color="#986801">4</font>&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">FORM</font>&nbsp;<font color="#a626a4">PROPERTY</font>&nbsp;Document.documentForm.name(i)&nbsp;-&gt;&nbsp;Document.itemForm.itemName(i)<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">FORM</font>&nbsp;<font color="#a626a4">PROPERTY</font>&nbsp;Item.itemForm.itemName(i)&nbsp;-&gt;&nbsp;Item.itemForm.iname&nbsp;<font color="#808080"><i>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;iname&nbsp;=&nbsp;itemName(i)</i></font><br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">CLASS</font>&nbsp;Date.DateInterval&nbsp;-&gt;&nbsp;Date.Interval<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">OBJECT</font>&nbsp;Geo.Direction.North&nbsp;-&gt;&nbsp;Geo.Direction.north<br>
&nbsp;&nbsp;&nbsp;&nbsp;<font color="#a626a4">TABLE</font>&nbsp;User.oldTable&nbsp;-&gt;&nbsp;User.newTable<br>
}<br>
</code></td>
</tr>
</tbody></table></div><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通常、移行スクリプトの生成に関するほとんどの作業はIDEを使用して実行されます。</font><font style="vertical-align: inherit;">そのため、ほとんどの要素の名前を変更するときに、特別なチェックボックス[移行ファイルを変更]（デフォルトで有効）を指定すると、IDEが必要なすべてのスクリプトを自動的に生成します。</font></font><br>
<br>
<a name="internationalization"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国際化</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際には、1つのアプリケーションを別の言語で使用できるようにする必要がある場合があります。</font><font style="vertical-align: inherit;">このタスクは通常、ユーザーに表示されるすべての文字列データ、つまりテキストメッセージ、プロパティヘッダー、アクション、フォームなどをローカライズすることになります。</font><font style="vertical-align: inherit;">lsFusionのこのすべてのデータは、それぞれ文字列リテラル（単一引用符付きの文字列、たとえば 'abc'）を使用して指定され、ローカライズは次のように実行されます。</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ローカライズされるテキストの代わりに、文字列は中括弧で囲まれた文字列データを識別します（たとえば、 '{button.cancel}'）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この文字列がサーバー上のクライアントに送信されると、文字列で見つかったすべての識別子が検索され、次に</font><font style="vertical-align: inherit;">、目的のロケール（つまり、クライアントロケール）の</font><font style="vertical-align: inherit;">すべての</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ResourceBundle</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロジェクトファイルで</font><font style="vertical-align: inherit;">それらが検索され</font><font style="vertical-align: inherit;">ます。正​​しいオプションが見つかると、角かっこ内の識別子が対応するテキストに置き換えられます。</font></font></li>
</ul><div class="scrollable-table"><table>
<tbody><tr>
<td><code>script&nbsp;<font color="#50a14f">'{scheduler.script.scheduled.task.detail}'</font>&nbsp;=&nbsp;<font color="#a626a4">DATA</font>&nbsp;<font color="#a626a4">TEXT</font>&nbsp;(ScheduledTaskDetail);<br>
<font color="#a626a4">CONSTRAINT</font>&nbsp;script(ScheduledTaskDetail&nbsp;d)&nbsp;<font color="#a626a4">AND</font>&nbsp;action(d)&nbsp;<font color="#a626a4">MESSAGE</font>&nbsp;<font color="#50a14f">'{scheduler.constraint.script.and.action}'</font>;<br>
<font color="#a626a4">FORM</font>&nbsp;scheduledTask&nbsp;<font color="#50a14f">'{scheduler.form.scheduled.task}'</font>;<br>
</code></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ServerResourceBundle.properties：</font></font><br>
<pre><code class="plaintext hljs">scheduler.script.scheduled.task.detail=Script<font></font>
scheduler.constraint.script.and.action=In the scheduler task property and script cannot be selected at the same time<font></font>
scheduler.form.scheduled.task=Tasks<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ServerResourceBundle_ru.properties</font></font><br>
<pre><code class="plaintext hljs">scheduler.script.scheduled.task.detail=<font></font>
scheduler.constraint.script.and.action=          <font></font>
scheduler.form.scheduled.task=<font></font>
</code></pre><br>
<a name="optimization"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">大規模なデータプロジェクトのパフォーマンスを最適化する</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
システムが小さく、データが比較的少ない場合、原則として、追加の最適化を行わなくても非常に効率的に機能します。ロジックが非常に複雑になり、データの量が大幅に増加する場合、これらすべてのデータを保存および処理する方法をプラットフォームに伝えることが理にかなっていることがあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プラットフォームには、データを操作するための2つの主要なメカニズム（プロパティとアクション）があります。 1つ目はデータの保存と計算を担当し、2つ目はシステムをある状態から別の状態に移行するためのものです。そして、アクションの作業を非常に限定的に最適化できる場合（後遺症によるものを含む）、プロパティには特定の操作の応答時間を短縮し、システム全体のパフォーマンスを向上させる機能のセット全体があります。</font></font><br>
<br>
<ul>
<li>.      ( ,  ),     ,   ,  .</li>
<li>.        ,  ,       .</li>
<li>.           /       ,         .       «»  .</li>
</ul><br>
<a name="materialized"></a><h3></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プラットフォーム内のほぼすべての集約プロパティを具体化できます。この場合、プロパティはデータベースに保存され、このプロパティが依存するデータが変更されると、自動的に更新されます。さらに、そのような具体化されたプロパティの値を読み取るとき、これらの値は、プロパティがプライマリである（そして毎回計算されていない）かのように、データベースから直接読み取られます。したがって、すべての主要なプロパティは、定義によって具体化されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プロパティは、このプロパティの値がNULLではないオブジェクトのセットが有限数である場合にのみ具体化できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一般的に、具体化のトピックは</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">最近の記事</font></a><font style="vertical-align: inherit;">で十分に詳しく調べられました</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> データベースでの書き込みと読み取りのバランスについてですので、ここで詳しく説明することは、私の意見ではあまり意味がありません。</font></font><br>
<br>
<a name="index"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指数</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プロパティによってインデックスを作成すると、そのようなプロパティのすべての値を、データベース内の順序付けられた形式で格納できます。</font><font style="vertical-align: inherit;">したがって、インデックスは、インデックス付きプロパティの値が変更されるたびに更新されます。</font><font style="vertical-align: inherit;">インデックスのおかげで、たとえば、インデックス付きプロパティによるフィルタリングが進行中の場合、システム内のすべての既存のオブジェクトを表示するのではなく、必要なオブジェクトをすばやく見つけることができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
インデックスを作成できるのは、マテリアライズドプロパティのみです（上記のセクションから）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
インデックスは、一度に複数のプロパティに基づいて構築することもできます（これは、たとえば、これらの複数のプロパティに対してフィルタリングがすぐに実行される場合に効果的です）。</font><font style="vertical-align: inherit;">さらに、プロパティパラメータをこのような複合インデックスに含めることができます。</font><font style="vertical-align: inherit;">指定されたプロパティが異なるテーブルに格納されている場合、インデックスを作成しようとすると、対応するエラーが発生します。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><code><font color="#a626a4">INDEX</font>&nbsp;customer(Order&nbsp;o);<br>
<br>
date&nbsp;=&nbsp;<font color="#a626a4">DATA</font>&nbsp;<font color="#a626a4">DATE</font>&nbsp;(Order);<br>
<font color="#a626a4">INDEX</font>&nbsp;date(Order&nbsp;o),&nbsp;o;<br>
<br>
<font color="#a626a4">INDEX</font>&nbsp;name(Sku&nbsp;s),&nbsp;price(s,&nbsp;<font color="#a626a4">DATE</font>&nbsp;d),&nbsp;d;<br>
</code></td>
</tr>
</tbody></table></div><a name="table"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テーブル</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LsFusionは、リレーショナルデータベースを使用して、プロパティ値を格納および計算します。すべてのプライマリプロパティと、マテリアライズドとしてマークされているすべての集計プロパティは、データベーステーブルのフィールドに格納されます。各テーブルには、key0、key1、...、keyNという名前のキーフィールドのセットがあり、オブジェクトの値が格納されています（たとえば、カスタムクラスの場合、これらのオブジェクトの識別子）。他のすべてのフィールドは、各行の対応するフィールドにキーフィールドのオブジェクトのプロパティ値になるようにプロパティ値を格納します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テーブルを作成するときは、このテーブルのキーとなるオブジェクトのクラスのリストを指定する必要があります。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><code><font color="#a626a4">TABLE</font>&nbsp;book&nbsp;(Book);<br>
<br>
in&nbsp;=&nbsp;<font color="#a626a4">DATA</font>&nbsp;<font color="#a626a4">BOOLEAN</font>&nbsp;(Sku,&nbsp;Stock);<br>
<font color="#a626a4">TABLE</font>&nbsp;skuStock&nbsp;(Sku,&nbsp;Stock);&nbsp;<font color="#808080"><i>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in</i></font><br>
<br>
price&nbsp;=&nbsp;<font color="#a626a4">DATA</font>&nbsp;<font color="#a626a4">NUMERIC</font>[<font color="#986801">10</font>,<font color="#986801">2</font>]&nbsp;(Sku,&nbsp;<font color="#a626a4">DATE</font>);<br>
<font color="#a626a4">TABLE</font>&nbsp;skuDate&nbsp;(Sku,&nbsp;<font color="#a626a4">DATE</font>);&nbsp;<font color="#808080"><i>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sku</i></font><br>
<br>
<font color="#a626a4">TABLE</font>&nbsp;sku&nbsp;(Sku);<br>
</code></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロパティごとに、どのテーブルに格納するかを指定できます。</font><font style="vertical-align: inherit;">この場合、テーブルキーの数はプロパティパラメーターの数と一致し、パラメータークラスはこのテーブルのキークラスと一致する必要があります。</font><font style="vertical-align: inherit;">プロパティを格納するテーブルが明示的に設定されていない場合、プロパティはシステムに存在する「最も近い」テーブルに自動的に配置されます（つまり、プロパティのパラメーターの数と一致するキーの数と、キークラスがパラメータークラスに最も近いキー） ）</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プロパティがDBMSに格納されるテーブルとフィールドの名前は、指定された命名ポリシーに従って形成されます。</font><font style="vertical-align: inherit;">現在、プラットフォームは3つの標準命名ポリシーをサポートしています。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方針</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テーブル名</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フィールド名</font></font></th>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完全な署名付き（デフォルト）</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スペースName_NameTables</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スペース</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Name_PropertyName_ClassName1 _ClassName2 ..._ ClassNameN</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">署名なしで完了する</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スペースName_NameTables</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SpaceName_NameProperties</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">簡単な</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NameTables</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロパティ名</font></font></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必要に応じて、プロパティごとに、開発者はこのプロパティが格納されるフィールドの名前を明示的に指定できます。</font><font style="vertical-align: inherit;">また、上記が何らかの理由で適切でない場合は、プロパティフィールドに名前を付けるための独自のポリシーを作成できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
命名ポリシーを選択するとき、プロパティ命名ポリシーが短すぎると、具体化されたプロパティの数が十分に多い場合、これらのプロパティの命名が非常に複雑になる可能性があるため（一意になるため）、明示的に名前を付ける必要が生じる可能性が高まることに注意してください。これらのプロパティが格納されるフィールド。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
彼らが1つの有名な漫画で言ったように：「私たちは作り、作り、そしてついに作りました」。</font><font style="vertical-align: inherit;">もちろん、それは少し表面的なものかもしれませんが、これら3つの記事のlsFusion言語/プラットフォームの基本的な機能を理解できると思います。</font><font style="vertical-align: inherit;">それでは、他のテクノロジーと比較して、最も興味深い部分に移りましょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
経験とHabrのフォーマットが示したように、それを自分でではなく外国のフィールドでより効率的にプレイすること。</font><font style="vertical-align: inherit;">つまり、機会からではなく、問題から行き、したがって、それらの利点についてではなく、代替テクノロジーの欠点について、および独自の用語で話すことです。</font><font style="vertical-align: inherit;">そのようなアプローチは通常、保守的な市場ではるかによく認識されており、私の意見では、それはソビエト後の空間における情報システムの開発市場です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
だからまもなく、「Why not ...？」というスタイルの記事がさらにいくつかあります。そして、これらの非常に退屈なチュートリアルよりもはるかに興味深い記事になると思います。</font></font><br></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja460877/index.html">Kubernetes Dailymotionアドベンチャー：クラウド+オンプレミスでインフラストラクチャを構築する</a></li>
<li><a href="../ja460879/index.html">DUMP Kazan 2019-タタールスタン開発者会議。報告の申し込みを受け付けます</a></li>
<li><a href="../ja460881/index.html">DLPシステムでのOCRテクノロジーの適用の難しさ、またはOCRの準備方法</a></li>
<li><a href="../ja460883/index.html">変化する要件の世界での生活と小さな機能の利点について</a></li>
<li><a href="../ja460885/index.html">PleskによるHighLoad ++ Siberia 2019に関する興味深いレポート</a></li>
<li><a href="../ja460891/index.html">量子コンピューティングの創設者のアプローチを使用して、良いSCRUMを悪いものから区別する方法</a></li>
<li><a href="../ja460893/index.html">完全にエストニアへの移転を検討する-長所、短所、および落とし穴</a></li>
<li><a href="../ja460897/index.html">Kubernetesを使用したGitLab CIのJUnit</a></li>
<li><a href="../ja460899/index.html">7月26日、Deworkacy-RostelecomのDocOps</a></li>
<li><a href="../ja460901/index.html">シニアデベロッパーが就職できない理由</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>