<!doctype html>
<html class="no-js" lang="hi">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯОк тЫ╖я╕П ЁЯТЖЁЯП╝ рд╣рдо PostgreSQL рдбреЗрдЯрд╛рдмреЗрд╕ рдХреА рдирд┐рдЧрд░рд╛рдиреА рдХрд░рддреЗ рд╣реИрдВ - рдХрд┐рд╕реЗ рджреЛрд╖ рджреЗрдирд╛ рд╣реИ рдФрд░ рдХреНрдпрд╛ рдХрд░рдирд╛ рд╣реИ ЁЯОС ЁЯд╢ ЁЯПВЁЯП╝</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдореИрдВрдиреЗ рдкрд╣рд▓реЗ рд╣реА рдмрд╛рдд рдХреА рдереА рдХрд┐ рд╣рдо рдПрдХ рд╣реА рд╕рдордп рдореЗрдВ рд╕реИрдХрдбрд╝реЛрдВ рд╕рд░реНрд╡рд░реЛрдВ рдкрд░ рдмрдбрд╝реЗ рдкреИрдорд╛рдиреЗ рдкрд░ рд▓реЙрдЧ рдореЙрдиреАрдЯрд░рд┐рдВрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХреИрд╕реЗ "рдХреИрдЪ" рдкреЛрд╕реНрдЯрдЧреНрд░реЗрдХреНрдпреВрдПрд▓ рдХреА рд╕рдорд╕реНрдпрд╛рдУрдВ рдХрд╛ рд╕рд╛...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>рд╣рдо PostgreSQL рдбреЗрдЯрд╛рдмреЗрд╕ рдХреА рдирд┐рдЧрд░рд╛рдиреА рдХрд░рддреЗ рд╣реИрдВ - рдХрд┐рд╕реЗ рджреЛрд╖ рджреЗрдирд╛ рд╣реИ рдФрд░ рдХреНрдпрд╛ рдХрд░рдирд╛ рд╣реИ</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/tensor/blog/502478/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдореИрдВрдиреЗ рдкрд╣рд▓реЗ рд╣реА рдмрд╛рдд рдХреА рдереА </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХрд┐ рд╣рдо</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдПрдХ рд╣реА рд╕рдордп рдореЗрдВ рд╕реИрдХрдбрд╝реЛрдВ рд╕рд░реНрд╡рд░реЛрдВ рдкрд░ рдмрдбрд╝реЗ рдкреИрдорд╛рдиреЗ рдкрд░ рд▓реЙрдЧ рдореЙрдиреАрдЯрд░рд┐рдВрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;">рдХреИрд╕реЗ "рдХреИрдЪ" рдкреЛрд╕реНрдЯрдЧреНрд░реЗрдХреНрдпреВрдПрд▓ рдХреА рд╕рдорд╕реНрдпрд╛рдУрдВ</font></a><font style="vertical-align: inherit;"> рдХрд╛ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;">рд╕рд╛рдордирд╛</font></a><font style="vertical-align: inherit;"> рдХрд░рддреЗ рд╣реИрдВред рд▓реЗрдХрд┐рди рд▓реЙрдЧ рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдпрд╣ рдбреАрдмреАрдПрдордПрд╕ рд╣рдореЗрдВ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЕрдкрдиреЗ рд░рд╛рдЬреНрдп рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрдИ рдЙрдкрдХрд░рдг</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рднреА рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ </font><font style="vertical-align: inherit;">- рдЙрдирдХрд╛ рдЙрдкрдпреЛрдЧ рди рдХрд░рдирд╛ рдкрд╛рдк рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╕рдЪ рд╣реИ, рдЕрдЧрд░ рдЖрдк рдмрд╕ рдЙрдиреНрд╣реЗрдВ рдХрдВрд╕реЛрд▓ рд╕реЗ рджреЗрдЦрддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рдмрд╣реБрдд рдЬрд▓реНрджреА рдмрд┐рдирд╛ рдХрд┐рд╕реА рд▓рд╛рдн рдХреЗ рдЪрдХреНрдХрд░ рд▓рдЧрд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдХреНрдпреЛрдВрдХрд┐ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдЙрдкрд▓рдмреНрдз рдбреЗрдЯрд╛ рдХреА рдорд╛рддреНрд░рд╛ рд╕рднреА рдЙрдЪрд┐рдд рд╕реАрдорд╛рдУрдВ рд╕реЗ рдЕрдзрд┐рдХ рд╣реИред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/s1/za/d-/s1zad-d3claa2klkewtgrj8zdaa.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕рд▓рд┐рдП, рд╕реНрдерд┐рддрд┐ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рд░рдЦрдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдордиреЗ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zabbix рдХреЗ рд▓рд┐рдП рдПрдХ рдРрдб-рдСрди рд╡рд┐рдХрд╕рд┐рдд рдХрд┐рдпрд╛ рд╣реИ рдЬреЛ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдореИрдЯреНрд░рд┐рдХреНрд╕ рд╡рд┐рддрд░рд┐рдд рдХрд░рддрд╛ рд╣реИ, рд╕реНрдХреНрд░реАрди рдмрдирд╛рддрд╛ рд╣реИ рдФрд░ </font><font style="vertical-align: inherit;">рдЙрди рдкрд░ рд╕рднреА рд╕рд░реНрд╡рд░ рдФрд░ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рд▓рд┐рдП </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рдорд╛рди рдирд┐рдЧрд░рд╛рдиреА рдирд┐рдпрдо</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕реЗрдЯ рдХрд░рддрд╛ </font><font style="vertical-align: inherit;">рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЖрдЬ рдХрд╛ рд▓реЗрдЦ рдЗрд╕ рдмрд╛рд░реЗ рдореЗрдВ рд╣реИ рдХрд┐ рдбрд╛рдпрдирд╛рдорд┐рдХреНрд╕ рдХреЛ рдкреЛрд╕реНрдЯрдЧреНрд░реЗрдПрд╕рдХреНрдпреВрдПрд▓ рд╕рд░реНрд╡рд░ рдмреЗрд╕ рдХреЗ рд╡рд┐рднрд┐рдиреНрди рдореЗрдЯреНрд░рд┐рдХреНрд╕ рдореЗрдВ рджреЗрдЦ рдХрд░ рдХреНрдпрд╛ рдирд┐рд╖реНрдХрд░реНрд╖ рдирд┐рдХрд╛рд▓рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдФрд░ рдЬрд╣рд╛рдВ рд╕рдорд╕реНрдпрд╛ рдЫрд┐рдкреА рд╣реЛ рд╕рдХрддреА рд╣реИред</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рдВрдкрд░реНрдХ рд╕реНрдерд┐рддрд┐</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдмрд╣реБрдд рдкрд╣рд▓реЗ рдмрд╛рдд рдпрд╣ рд╣реИ рдХрд┐ "рдбреЗрдЯрд╛рдмреЗрд╕ рдХрд╛ рдХреНрдпрд╛ рд╣реБрдЖ / рдпрд╣ рдмреБрд░рд╛ рдерд╛" рд╡рд┐рд╖рдп рдкрд░ рд╕рднреА </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЕрд╕рд╣рдорддрд┐ pg_stat_activity</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХреА рд╕рд╛рд░рд╛рдВрд╢ рд╕реНрдерд┐рддрд┐ рдХреА рдирд┐рдЧрд░рд╛рдиреА рдХрд░ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;">рд░рд╣реА рд╣реИ</font></a><font style="vertical-align: inherit;"> : </font></font><br>
<br>
<img src="https://habrastorage.org/webt/az/zv/9k/azzv9kl_xmnaxjdfgsgjkmikr48.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдмрд╛рдПрдВ рдЧреНрд░рд╛рдлрд╝ рдкрд░ рд╣рдо рдЙрди рд╕рднреА рдХрдиреЗрдХреНрд╢рдиреЛрдВ рдХреЛ рджреЗрдЦрддреЗ рд╣реИрдВ рдЬреЛ рдХрд┐рд╕реА рдЪреАрдЬрд╝ рдХреА рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рджрд╛рдИрдВ рдУрд░ - рдЬреЛ рдХреБрдЫ рд╣реИрдВ рдХрд░рдирд╛ред </font><font style="vertical-align: inherit;">рдкреАрдЬреА рд╕рдВрд╕реНрдХрд░рдг рдХреЗ рдЖрдзрд╛рд░ рдкрд░, рдХрдиреЗрдХреНрд╢рди рдХреА рд╕реНрдерд┐рддрд┐ </font></font><code>pg_stat_activity.state/wait_event</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдФрд░ / рдпрд╛ рдЕрдиреБрд░реЛрдз рдХреЗ рдкрд╛рда рд╕реЗ рд╣реА </font><font style="vertical-align: inherit;">рдирд┐рд░реНрдзрд╛рд░рд┐рдд рд╣реЛрддреА </font><font style="vertical-align: inherit;">рд╣реИред </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреНрдпрд╛ рджреЗрдЦрдирд╛ рд╣реИ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдмрд╣реБрдд </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХрдо</font></font><code>idle</code></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - рдХреБрдЫ рдмрд┐рдВрджреБ рдкрд░ рдЖрдкрдХреЗ рдЖрд╡реЗрджрди рдореЗрдВ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рд▓рд┐рдП рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдкрд░реНрдпрд╛рдкреНрдд рдХрдиреЗрдХреНрд╢рди рдирд╣реАрдВ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ рдЬрдм рдЖрдк рдПрдХ рдФрд░ рдПрдХ рдХреЛ рдЦреЛрд▓рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рдПрдХ рдирдП рдХрдиреЗрдХреНрд╢рди рдХреА рд╕реЗрд╡рд╛ рдХреЗ рд▓рд┐рдП рдЖрд░рдВрдн рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреА рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░реЗрдВрдЧреЗред</font></font></li>
<li> <b> <code>idle</code></b>      ┬л┬╗    ,         <code>max_connections</code>.</li>
<li><b> <code>idle in transaction</code></b> тАФ  ,    -  pgbouncer.            .<br>
<br>
        ,  <b>   </b>  ,     <code>idle_in_transaction_session_timeout</code>.</li>
<li><b> <code>wait</code></b> тАФ   - ┬л┬╗  .       тАФ     .<br>
<br>
     ,  <b>  ┬л┬╗ </b>  <code>pg_terminate_backend(pid)</code>.</li>
<li><b> <code>active</code></b> ( max-) ,        ┬л┬╗.     -     (, ┬л ┬╗)      ,   ,    тАж<br>
<br>
   тАФ       ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">┬л┬╗ </a>.</li>
<li><b><code>maintenance</code></b> тАФ    ,     - :<br>
<br>
<pre><code class="plaintext hljs">query ~* E'^(\\s*(--[^\\n]*\\n|/\\*.*\\*/|\\n))*(autovacuum|VACUUM|ANALYZE|REINDEX|CLUSTER|CREATE|ALTER|TRUNCATE|DROP)'</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЬреНрдпрд╛рджрд╛рддрд░ рдорд╛рдорд▓реЛрдВ рдореЗрдВ, рдПрдХ рд╣реА рд╕рдордп рдореЗрдВ рдХрд╛рдо рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдСрдЯреЛрд╡реИрдХреНрдпреВрдо / рдСрдЯреЛрдПрдирд▓рд┐рдЬрд╝ рдХреА рд╕рдВрдЦреНрдпрд╛ рд╣реЛрдЧреА, рдЬрд┐рдирдореЗрдВ рд╕реЗ рдиреБрдХрд╕рд╛рди рдХреЗрд╡рд▓ "рдПрдХреНрд╕рдЯреНрд░реЙрдирд┐рдХ" рдорд╛рдорд▓реЛрдВ рдХреЗ рд▓рд┐рдП рд╕рд░реНрд╡рд░ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдореЗрдВ рд╣реЛрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдпрджрд┐ рдпрд╣ рдЖрдкрдХреЗ рд▓рд┐рдП рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ - рдореЛрдбрд╝ </font></font><code>autovacuum_max_workers</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдФрд░ </font></font><code>autovacuum_naptime</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рд▓реЗрдХрд┐рди </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрд╕реЗ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдмрдВрдж рдХрд░ рджреЗрдВ - рдЖрдкрдХреЛ рдирд╣реАрдВ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд▓реЗрдХрд┐рди рдЕрдЧрд░ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдХ рд╣реА рд╕рдордп рдореЗрдВ рдмрдврд╝рдирд╛ рд╢реБрд░реВ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ </font></font><code>wait</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рдФрд░</font></font><code>maintenance</code></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , рдпрд╣ рджреЗрдЦрдиреЗ рдХрд╛ рдореМрдХрд╛ рд╣реИ рдХрд┐ рдХреНрдпрд╛ рдХрд┐рд╕реА рдиреЗ рдбреАрдмреАрдП рдпрд╛ рдбреЗрд╡рд▓рдкрд░ рдХреЛрдб рд╕реЗ рдмрд╛рд╣рд░ рдирд┐рдХрд▓рдиреЗ рдХрд╛ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛ рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдХрд╛рд░реНрдпрд╛рддреНрдордХ рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреЗ рдЖрдзреЗ рдЕрд╡рд╕рд░ рдХреЛ рдЕрд╡рд░реБрджреНрдз рдХрд░рдирд╛ред</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЪреВрдВрдХрд┐ рд╣рдорд╛рд░реЗ рд▓рд┐рдП рди рдХреЗрд╡рд▓ рдмрд╣реБрдд рд╕рд╛рд░реЗ рдореИрдЯреНрд░рд┐рдХреНрд╕ рдХреЛ рд╣рдЯрд╛рдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ, рдмрд▓реНрдХрд┐ рдЗрд╕реЗ рдпрдерд╛рд╕рдВрднрд╡ рдХреБрд╢рд▓рддрд╛ рд╕реЗ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо рдЙрдирдореЗрдВ рд╕реЗ рдХреБрдЫ рдХреЛ рдПрдХ рдЕрдиреБрд░реЛрдз рдХреЗ рдврд╛рдВрдЪреЗ рдХреЗ рднреАрддрд░ рд╕рд┐рдВрдХреНрд░реЛрдирд╛рдЗрдЬрд╝ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддреЗ рд╣реИрдВ:</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХрдиреЗрдХреНрд╢рди рдФрд░ рд▓реЙрдХ рдХреА рд╕реНрдерд┐рддрд┐</font></font></b>
                        <div class="spoiler_text"><pre><code class="sql hljs"><span class="hljs-keyword">WITH</span> event_types(wait_event_type) <span class="hljs-keyword">AS</span>(
  <span class="hljs-keyword">VALUES</span>
    (<span class="hljs-string">'lwlock'</span>)<font></font>
  , (<span class="hljs-string">'lock'</span>)<font></font>
  , (<span class="hljs-string">'bufferpin'</span>)<font></font>
  , (<span class="hljs-string">'client'</span>)<font></font>
  , (<span class="hljs-string">'extension'</span>)<font></font>
  , (<span class="hljs-string">'ipc'</span>)<font></font>
  , (<span class="hljs-string">'timeout'</span>)<font></font>
  , (<span class="hljs-string">'io'</span>)<font></font>
)<font></font>
, <span class="hljs-keyword">events</span>(wait_event) <span class="hljs-keyword">AS</span>(
  <span class="hljs-keyword">VALUES</span>
    (<span class="hljs-string">'walwritelock'</span>)<font></font>
  , (<span class="hljs-string">'wal_insert'</span>)<font></font>
  , (<span class="hljs-string">'buffer_content'</span>)<font></font>
  , (<span class="hljs-string">'buffer_io'</span>)<font></font>
  , (<span class="hljs-string">'lock_manager'</span>)<font></font>
  , (<span class="hljs-string">'relation'</span>)<font></font>
  , (<span class="hljs-string">'extend'</span>)<font></font>
  , (<span class="hljs-string">'page'</span>)<font></font>
  , (<span class="hljs-string">'tuple'</span>)<font></font>
  , (<span class="hljs-string">'transactionid'</span>)<font></font>
  , (<span class="hljs-string">'virtualxid'</span>)<font></font>
  , (<span class="hljs-string">'speculative token'</span>)<font></font>
  , (<span class="hljs-string">'object'</span>)<font></font>
  , (<span class="hljs-string">'userlock'</span>)<font></font>
  , (<span class="hljs-string">'advisory'</span>)<font></font>
  , (<span class="hljs-string">'clientread'</span>)<font></font>
  , (<span class="hljs-string">'datafileextend'</span>)<font></font>
  , (<span class="hljs-string">'datafileread'</span>)<font></font>
  , (<span class="hljs-string">'datafilewrite'</span>)<font></font>
  , (<span class="hljs-string">'slruread'</span>)<font></font>
  , (<span class="hljs-string">'slruwrite'</span>)<font></font>
)<font></font>
, states(state) <span class="hljs-keyword">AS</span>(
  <span class="hljs-keyword">VALUES</span>
    (<span class="hljs-string">'running'</span>)<font></font>
  , (<span class="hljs-string">'maintenance'</span>)<font></font>
  , (<span class="hljs-string">'waiting'</span>)<font></font>
  , (<span class="hljs-string">'transaction'</span>)<font></font>
  , (<span class="hljs-string">'idle'</span>)<font></font>
)<font></font>
, stats <span class="hljs-keyword">AS</span>(
  <span class="hljs-keyword">SELECT</span><font></font>
    pid<font></font>
  , datname<font></font>
  , state<font></font>
  , <span class="hljs-keyword">lower</span>(wait_event_type) wait_event_type<font></font>
  , <span class="hljs-keyword">lower</span>(wait_event) wait_event<font></font>
  , <span class="hljs-keyword">query</span>
  <span class="hljs-keyword">FROM</span><font></font>
    pg_stat_activity<font></font>
  <span class="hljs-keyword">WHERE</span><font></font>
    pid &lt;&gt; pg_backend_pid()<font></font>
)<font></font>
, dbs <span class="hljs-keyword">AS</span>(
  <span class="hljs-keyword">SELECT</span><font></font>
    datname<font></font>
  <span class="hljs-keyword">FROM</span><font></font>
    pg_database db<font></font>
  <span class="hljs-keyword">WHERE</span>
    <span class="hljs-keyword">NOT</span> db.datistemplate<font></font>
)<font></font>
  <span class="hljs-keyword">SELECT</span>
    date_part(<span class="hljs-string">'epoch'</span>, <span class="hljs-keyword">now</span>())::<span class="hljs-built_in">integer</span> ts<font></font>
  , <span class="hljs-keyword">coalesce</span>(s.qty, <span class="hljs-number">0</span>) val<font></font>
  , dbs.datname dbname<font></font>
  , states.state<font></font>
  , <span class="hljs-literal">true</span> total
  <span class="hljs-keyword">FROM</span><font></font>
    dbs<font></font>
  <span class="hljs-keyword">CROSS</span> <span class="hljs-keyword">JOIN</span><font></font>
    states<font></font>
  <span class="hljs-keyword">NATURAL</span> <span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span><font></font>
    (<font></font>
      <span class="hljs-keyword">SELECT</span><font></font>
        datname<font></font>
      , <span class="hljs-keyword">CASE</span>
          <span class="hljs-keyword">WHEN</span> <span class="hljs-keyword">query</span> ~* E<span class="hljs-string">'^(\\s*(--[^\\n]*\\n|/\\*.*\\*/|\\n))*(autovacuum|VACUUM|ANALYZE|REINDEX|CLUSTER|CREATE|ALTER|TRUNCATE|DROP)'</span> <span class="hljs-keyword">THEN</span>
            <span class="hljs-string">'maintenance'</span>
          <span class="hljs-keyword">WHEN</span> wait_event <span class="hljs-keyword">IS</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span> <span class="hljs-keyword">AND</span>
            wait_event &lt;&gt; <span class="hljs-string">'clientread'</span> <span class="hljs-keyword">AND</span>
            state = <span class="hljs-string">'active'</span> <span class="hljs-keyword">THEN</span>
            <span class="hljs-string">'waiting'</span>
          <span class="hljs-keyword">WHEN</span> state = <span class="hljs-string">'active'</span> <span class="hljs-keyword">THEN</span>
            <span class="hljs-string">'running'</span>
          <span class="hljs-keyword">WHEN</span> state = <span class="hljs-string">'idle'</span> <span class="hljs-keyword">THEN</span>
            <span class="hljs-string">'idle'</span>
          <span class="hljs-keyword">WHEN</span> state <span class="hljs-keyword">IN</span> (<span class="hljs-string">'idle in transaction'</span>, <span class="hljs-string">'idle in transaction (aborted)'</span>) <span class="hljs-keyword">THEN</span>
            <span class="hljs-string">'transaction'</span>
          <span class="hljs-keyword">WHEN</span> state = <span class="hljs-string">'fastpath function call'</span> <span class="hljs-keyword">THEN</span>
            <span class="hljs-string">'fastpath'</span>
          <span class="hljs-keyword">ELSE</span>
            <span class="hljs-string">'disabled'</span>
        <span class="hljs-keyword">END</span> state<font></font>
      , <span class="hljs-keyword">count</span>(*) qty
      <span class="hljs-keyword">FROM</span><font></font>
        stats<font></font>
      <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span>
        <span class="hljs-number">1</span>, <span class="hljs-number">2</span><font></font>
    ) s<font></font>
<span class="hljs-keyword">UNION</span>
  <span class="hljs-keyword">SELECT</span>
    date_part(<span class="hljs-string">'epoch'</span>, <span class="hljs-keyword">now</span>())::<span class="hljs-built_in">integer</span> ts<font></font>
  , <span class="hljs-keyword">coalesce</span>(t.qty, <span class="hljs-number">0</span>) val<font></font>
  , dbs.datname dbname<font></font>
  , event_types.wait_event_type<font></font>
  , <span class="hljs-literal">false</span> total
  <span class="hljs-keyword">FROM</span><font></font>
    dbs<font></font>
  <span class="hljs-keyword">CROSS</span> <span class="hljs-keyword">JOIN</span><font></font>
    event_types<font></font>
  <span class="hljs-keyword">NATURAL</span> <span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span><font></font>
    (<font></font>
      <span class="hljs-keyword">SELECT</span><font></font>
        datname<font></font>
      , wait_event_type<font></font>
      , <span class="hljs-keyword">count</span>(*) qty
      <span class="hljs-keyword">FROM</span><font></font>
        stats<font></font>
      <span class="hljs-keyword">WHERE</span>
        wait_event_type <span class="hljs-keyword">IS</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>
      <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span>
        <span class="hljs-number">1</span>, <span class="hljs-number">2</span><font></font>
    ) t<font></font>
<span class="hljs-keyword">UNION</span>
  <span class="hljs-keyword">SELECT</span>
    date_part(<span class="hljs-string">'epoch'</span>, <span class="hljs-keyword">now</span>())::<span class="hljs-built_in">integer</span> ts<font></font>
  , <span class="hljs-keyword">coalesce</span>(e.qty, <span class="hljs-number">0</span>) val<font></font>
  , dbs.datname dbname<font></font>
  , events.wait_event<font></font>
  , <span class="hljs-literal">false</span> total
  <span class="hljs-keyword">FROM</span><font></font>
    dbs<font></font>
  <span class="hljs-keyword">CROSS</span> <span class="hljs-keyword">JOIN</span>
    <span class="hljs-keyword">events</span>
  <span class="hljs-keyword">NATURAL</span> <span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span><font></font>
    (<font></font>
      <span class="hljs-keyword">SELECT</span><font></font>
        datname<font></font>
      , wait_event<font></font>
      , <span class="hljs-keyword">count</span>(*) qty
      <span class="hljs-keyword">FROM</span><font></font>
        stats<font></font>
      <span class="hljs-keyword">WHERE</span>
        wait_event <span class="hljs-keyword">IS</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>
      <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span>
        <span class="hljs-number">1</span>, <span class="hljs-number">2</span><font></font>
    ) e;<font></font>
</code></pre></div>
                    </div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рддрд╛рд▓реЗ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЪреВрдВрдХрд┐ рд╣рдордиреЗ рдкрд┐рдЫрд▓реЗ рдкреИрд░рд╛рдЧреНрд░рд╛рдл рдореЗрдВ рддрд╛рд▓реЗ рдХреА рдирд┐рдЧрд░рд╛рдиреА рдкрд░ рдЫреБрдЖ рдерд╛, рдЗрд╕рд▓рд┐рдП рдпрд╣ рдзреНрдпрд╛рди рджреЗрдиреЗ рдпреЛрдЧреНрдп рд╣реИ рдХрд┐ PostgreSQL рдЙрдиреНрд╣реЗрдВ рдмрд╛рдПрдВ рдФрд░ рджрд╛рдПрдВ рд▓рд╛рдЧреВ рдХрд░рдирд╛ рдкрд╕рдВрдж рдХрд░рддрд╛ рд╣реИ: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/nz/jl/vd/nzjlvdmvxaaqxdotpshnyuhydlo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрдирдореЗрдВ рд╕реЗ, рд╣рдо рджреЛ рдкреНрд░рдХрд╛рд░реЛрдВ рдореЗрдВ рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рд░реБрдЪрд┐ рд░рдЦрддреЗ рд╣реИрдВ:</font></font><br>
<br>
<ul>
<li><b><code>Exclusive</code></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - рдЖрдорддреМрд░ рдкрд░ рддрдм рд╣реЛрддрд╛ рд╣реИ рдЬрдм рдХрд┐рд╕реА рд╡рд┐рд╢реЗрд╖ рд░рд┐рдХреЙрд░реНрдб рдкрд░ рддрд╛рд▓рд╛ рд▓рдЧрд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред</font></font></li>
<li><b><code>AccessExclusive</code></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - рдореЗрдЬ рдкрд░ рд░рдЦрд░рдЦрд╛рд╡ рдХреЗ рд╕рдВрдЪрд╛рд▓рди рдХрд░рддреЗ рд╕рдордпред</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд▓реЗрдХрд┐рди рдпрд╣ рдордд рднреВрд▓реЛ рдХрд┐ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рддрд╛рд▓реЛрдВ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХреА рдХреБрд▓ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;">рд╕рдВрдЦреНрдпрд╛ рд░рдмрд░ рдирд╣реАрдВ рд╣реИ</font></a><font style="vertical-align: inherit;"> :</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рджреЛрдиреЛрдВ рд╕рд▓рд╛рд╣рдХрд╛рд░ рдФрд░ рдирд┐рдпрдорд┐рдд рддрд╛рд▓реЗ рд╕рд╛рдЭрд╛ рдореЗрдореЛрд░реА рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ, рдЬрд┐рдирдореЗрдВ рд╕реЗ рдЖрдХрд╛рд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдорд╛рдкрджрдВрдбреЛрдВ </font></font><code>max_locks_per_transaction</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдФрд░ </font><font style="vertical-align: inherit;">рджреНрд╡рд╛рд░рд╛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ </font></font><code>max_connections</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рдпрд╣ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ рдХрд┐ рдпрд╣ рдореЗрдореЛрд░реА рдкрд░реНрдпрд╛рдкреНрдд рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЕрдиреНрдпрдерд╛ рд╕рд░реНрд╡рд░ </font></font><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХрд┐рд╕реА рднреА</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд▓реЙрдХ </font><font style="vertical-align: inherit;">рдХреЛ рдЬрд╛рд░реА рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рдирд╣реАрдВ рд╣реЛрдЧрд╛</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред </font><font style="vertical-align: inherit;">рдЗрд╕ рдкреНрд░рдХрд╛рд░, рд╕рд░реНрд╡рд░ рджреНрд╡рд╛рд░рд╛ рдЬрд╛рд░реА рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдЕрдиреБрд╢рдВрд╕рд┐рдд рддрд╛рд▓реЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдЖрдорддреМрд░ рдкрд░ рд╕рд░реНрд╡рд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рджрд╕рд┐рдпреЛрдВ рдпрд╛ рд╕реИрдХрдбрд╝реЛрдВ рд╣рдЬрд╛рд░реЛрдВ рддрдХ рд╕реАрдорд┐рдд рд╣реЛрддреА рд╣реИред</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЖрдорддреМрд░ рдкрд░, рдпрд╣ рд╕реНрдерд┐рддрд┐ рддрдм рдкреИрджрд╛ рд╣реЛрддреА рд╣реИ рдЬрдм рдЖрдкрдХрд╛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди "рдкреНрд░рд╡рд╛рд╣" рдФрд░ рд╕рдВрд╕рд╛рдзрди рдЬрд╛рд░реА рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ: рдбреЗрдЯрд╛рдмреЗрд╕, рд▓реЗрдирджреЗрди рд╕рдВрджрд░реНрдн, рдпрд╛ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рд▓рд╛рд╣рдХрд╛рд░ рддрд╛рд▓реЗ рд╕реЗ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХрдиреЗрдХреНрд╢рди </font><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рдЗрд╕рд▓рд┐рдП, рд╕рдордЧреНрд░ рдЧрддрд┐рд╢реАрд▓рддрд╛ рдкрд░ рдзреНрдпрд╛рди рджреЗрдВред</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд░рддрд┐ рд╕реЗрдХрдВрдб рд▓реЗрдирджреЗрди (рдЯреАрдкреАрдПрд╕)</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╡рд░реНрддрдорд╛рди рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдк рд╕рд┐рд╕реНрдЯрдо рджреГрд╢реНрдп </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pg_stat_database рдХрд╛</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ </font><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рд▓реЗрдХрд┐рди рдЕрдЧрд░ рд╕рд░реНрд╡рд░ рдкрд░ рдХрдИ рдбреЗрдЯрд╛рдмреЗрд╕ рд╣реИрдВ, рддреЛ рдЙрди рд╕рднреА рдХреЗ рд▓рд┐рдП рддреБрд░рдВрдд рдРрд╕рд╛ рдХрд░рдирд╛ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд╣реИ, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЬрд┐рд╕рд╕реЗ рдХрдиреЗрдХреНрдЯ рд╣реЛ рд░рд╣рд╛ рд╣реИ</font></font><code>postgres</code></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЯреАрдкреАрдПрд╕ рдФрд░ рдЯреНрдпреВрдкрд▓реНрд╕</font></font></b>
                        <div class="spoiler_text"><pre><code class="sql hljs"><span class="hljs-keyword">SELECT</span>
  <span class="hljs-keyword">extract</span>(epoch <span class="hljs-keyword">from</span> <span class="hljs-keyword">now</span>())::<span class="hljs-built_in">integer</span> ts<font></font>
, datname dbname<font></font>
, pg_stat_get_db_tuples_returned(<span class="hljs-keyword">oid</span>) tup_returned<font></font>
, pg_stat_get_db_tuples_fetched(<span class="hljs-keyword">oid</span>) tup_fetched<font></font>
, pg_stat_get_db_tuples_inserted(<span class="hljs-keyword">oid</span>) tup_inserted<font></font>
, pg_stat_get_db_tuples_updated(<span class="hljs-keyword">oid</span>) tup_updated<font></font>
, pg_stat_get_db_tuples_deleted(<span class="hljs-keyword">oid</span>) tup_deleted<font></font>
, pg_stat_get_db_xact_commit(<span class="hljs-keyword">oid</span>) xact_commit<font></font>
, pg_stat_get_db_xact_rollback(<span class="hljs-keyword">oid</span>) xact_rollback
<span class="hljs-keyword">FROM</span><font></font>
  pg_database<font></font>
<span class="hljs-keyword">WHERE</span>
  <span class="hljs-keyword">NOT</span> datistemplate;
</code></pre></div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдореИрдВ рдЕрд▓рдЧ рд╕реЗ рдЬреЛрд░ рджреЗрдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВ - </font><font style="vertical-align: inherit;">рдореИрдЯреНрд░рд┐рдХреНрд╕ </font><font style="vertical-align: inherit;">рдХреЗ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЕрдзрд┐рдХрддрдо рдореВрд▓реНрдпреЛрдВ рдХреЗ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЙрддреНрдкрд╛рджрди рдХреА рдЙрдкреЗрдХреНрд╖рд╛ рди рдХрд░реЗрдВ </font><font style="vertical-align: inherit;">! </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ls/yn/yt/lsynyt4rkawj8hvp2pcrnvjiozk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕ рдЧреНрд░рд╛рдл рдореЗрдВ, рд╣рдо рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдЖрдпреЛрдЬрд┐рдд ( </font></font><b><code>commit</code></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) рд▓реЗрдирджреЗрди </font><font style="vertical-align: inherit;">рдХреА рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рдЕрдЪрд╛рдирдХ рд╢рд┐рдЦрд░ рд╡реГрджреНрдзрд┐ рдХреА рд╕реНрдерд┐рддрд┐ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ </font><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рдпрд╣ рдПрдХ-рдкрд░-рдПрдХ рд╕рд░реНрд╡рд░ рдкрд░ рд▓реЛрдб рд╕реЗ рдореЗрд▓ рдирд╣реАрдВ рдЦрд╛рддрд╛ рд╣реИ рдФрд░ рд▓реЗрдирджреЗрди рдЕрд▓рдЧ-рдЕрд▓рдЧ рдЬрдЯрд┐рд▓рддрд╛ рдХрд╛ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди 4 рдЧреБрдирд╛ рд╡реГрджреНрдзрд┐ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рджрд┐рдЦрд╛рддреА рд╣реИ рдХрд┐ </font><font style="vertical-align: inherit;">рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЗ рдмрд┐рдирд╛ рдЗрд╕ рддрд░рд╣ рдХреЗ рд╢рд┐рдЦрд░ рдХреЛ рдЬреАрд╡рд┐рдд рд░рдЦрдиреЗ рдХреЗ рд▓рд┐рдП </font><font style="vertical-align: inherit;">рд╕рд░реНрд╡рд░ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдореЗрдВ рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рдкреНрд░рджрд░реНрд╢рди рдЖрд░рдХреНрд╖рд┐рдд рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЦреИрд░, </font></font><b><code>rollback</code></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд▓реЗрди-рджреЗрди рдХрд╛ </font><font style="vertical-align: inherit;">рд░реЛрд▓рдмреИрдХ ( </font><font style="vertical-align: inherit;">) рдпрд╣ рдЬрд╛рдВрдЪрдиреЗ рдХрд╛ рдПрдХ рдЕрд╡рд╕рд░ рд╣реИ рдХрд┐ рдХреНрдпрд╛ рдЖрдкрдХрд╛ рдЖрд╡реЗрджрди рдЬрд╛рдирдмреВрдЭрдХрд░ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рд╣реЛ рд░рд╣рд╛ рд╣реИ </font></font><code>ROLLBACK</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рдпрд╛ рдпрджрд┐ рд╕рд░реНрд╡рд░ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдПрдХ рддреНрд░реБрдЯрд┐ рдХреЗ рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк рдРрд╕рд╛ рдХрд░рддрд╛ рд╣реИред</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЕрднрд┐рд▓реЗрдЦреЛрдВ рдкрд░ рд╕рдВрдЪрд╛рд▓рди рдХреА рд╕рдВрдЦреНрдпрд╛</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдЙрди рдЕрднрд┐рд▓реЗрдЦреЛрдВ рдкрд░ рдзреНрдпрд╛рди рджреЗрдВ рдЬрд┐рдиреНрд╣реЗрдВ рд╣рдо рдЕрдиреБрдХреНрд░рдорд┐рдд / рддрд╛рд▓рд┐рдХрд╛рдУрдВ рд╕реЗ рдШрдЯрд╛рддреЗ рд╣реИрдВ:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/dm/av/sw/dmavswryoevflquj7krtbykqgtw.png"><br>
<br>
<ul>
<li><b><code>tuples.returned</code></b> тАФ   ,   ┬л┬╗   .</li>
<li><b><code>tuples.fetched</code></b> тАФ   ,     ┬л ┬╗   <code>Rows Removed by Filter</code>,   ┬л┬╗   .</li>
<li><b><code>tuples.ratio</code></b> тАФ ,    ,  <b>   1</b>,   тАФ  .   ,  ,       ,     .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрджрд┐ рдЖрдк рдПрдХ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рддреЗрдЬ рдЪреЛрдЯреА рдХрд╛</font></font><code>tuples.ratio</code></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдирд┐рд░реАрдХреНрд╖рдг рдХрд░рддреЗ рд╣реИрдВ </font><font style="vertical-align: inherit;">, рддреЛ рдЖрдк рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдЖрдкрдХреЛ рд▓реЙрдЧ рдХреЗ рдмрдЧрд▓ рдореЗрдВ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЙрдирдХреЗ рдЙрдкрдЪрд╛рд░ рдХреЗ рд▓рд┐рдП рд╡реНрдпрдВрдЬрдиреЛрдВ рдХреЗ рдмрд╛рд░реЗ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдореЗрдВ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;">рд▓реЗрдЦ рдореЗрдВ</font></a><font style="vertical-align: inherit;"> рд╡рд░реНрдгрд┐рдд рд╢реНрд░реЗрдгреА рд╕реЗ рдХреБрдЫ рдЕрдкреНрд░рднрд╛рд╡реА рдЕрдиреБрд░реЛрдз рдорд┐рд▓реЗрдЧрд╛ </font><font style="vertical-align: inherit;">ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рд╛рд▓рд╛рдВрдХрд┐, рднрд▓реЗ рд╣реА </font></font><code>ratio</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЖрджрд░реНрд╢ рд░реВрдк рд╕реЗ 1 рдХреЗ рдмрд░рд╛рдмрд░ рд╣реИ, рд▓реЗрдХрд┐рди </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╢рд┐рдЦрд░ рдкрд░ рдЧрд┐рд░ рдЧрдпрд╛</font></font><code>returned/fetched</code></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - рдпрд╣ рднреА рдЕрдЪреНрдЫреА рдЙрдореНрдореАрдж рдирд╣реАрдВ рд╣реИред рдЖрдорддреМрд░ рдкрд░ рдЗрд╕рдХрд╛ рдорддрд▓рдм рдпрд╣ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдпреЛрдЬрдирд╛ рдореЗрдВ рдХрд┐рд╕реА рддрд░рд╣ рдХреА рдкрд░реЗрд╢рд╛рдиреА рд╣реИ, рдЬреИрд╕реЗ:</font></font><br>
<br>
<pre><code class="plaintext hljs">Hash Join<font></font>
  - Hash<font></font>
    - Seq Scan on BIG_TABLE<font></font>
  - Index Scan ...</code></pre><br>
<pre><code class="plaintext hljs">Merge Join<font></font>
  - Index Scan on BIG_INDEX<font></font>
  - Index Scan ...</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЬрдм рд╕реЗ рд╣рдордиреЗ рдЬрд╛рдВрдЪ рд╢реБрд░реВ рдХреА рдХрд┐ рд╡рд╣рд╛рдВ рдХреНрдпрд╛ рдкрдврд╝рд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИ, рддреЛ рдЖрдЗрдП рджреЗрдЦреЗрдВ рдХрд┐ рдпрд╣ рдХреИрд╕реЗ рд╣реЛрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдпрд╣реА рд╣реИ, рд╣рдо рдЗрдВрдбреЗрдХреНрд╕ рджреНрд╡рд╛рд░рд╛ рдХрд┐рддрдирд╛ рд░рд┐рдХреЙрд░реНрдб рдкрдврд╝рддреЗ рд╣реИрдВ, рдФрд░ </font><font style="vertical-align: inherit;">
рдЗрд╕рдХреЗ </font><font style="vertical-align: inherit;">рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк рдХрд┐рддрдирд╛ </font></font><b><code>Seq Scan</code></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/7y/3o/xq/7y3oxqadodpa_zgrhyv0nfxzzua.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд╣реИ рдХрд┐ рдпрд╣рд╛рдВ рд╕рдВрдХреЗрддрдХреЛрдВ рдореЗрдВ рдХрд┐рд╕реА рднреА рдЕрдирд┐рдпреЛрдЬрд┐рдд рд╡реГрджреНрдзрд┐ рд╕реЗ рд╕рдВрджреЗрд╣ рдкреИрджрд╛ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред </font><font style="vertical-align: inherit;">рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрджрд┐ рдХрд┐рд╕реА рдХрд╛рд░рдг рд╕реЗ рдЖрдкрдХреЛ рд╣рд░ рд░рд╛рдд 10M рд░рд┐рдХреЙрд░реНрдб рдХреА рдПрдХ рдкреВрд░реА рдкреНрд▓реЗрдЯ рдкрдврд╝рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рддреЛ рджрд┐рди рдХреЗ рджреМрд░рд╛рди рдЗрд╕ рддрд░рд╣ рдХреА рдЪреЛрдЯреА рдХреА рдЙрдкрд╕реНрдерд┐рддрд┐ disassembly рдХреЗ рд▓рд┐рдП рдПрдХ рдХрд╛рд░рдг рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╕рд╛рде рд╣реА рдХрд┐рд╕реА рднреА рдорд╛рд╕-рд╡рд┐рд╕рдВрдЧрддрд┐ рдЖрд╡реЗрд╖рдг / рдЕрджреНрдпрддрди / рд╣рдЯрд╛рддрд╛ рд╣реИ:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/85/pn/dl/85pndlf5hstls4os3jwmtsuserc.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдбреЗрдЯрд╛ рдХреИрд╢ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрд╣ рд╕рдордЭрдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рд░рд┐рдХреЙрд░реНрдб рдХрд╛ рд╡реНрдпрд╛рдкрдХ рдкреНрд░рд╕рд╛рд░ рд╕рд░реНрд╡рд░ рдХреЗ рдЬреАрд╡рди рдХреЛ рдХреИрд╕реЗ рдЦрд░рд╛рдм рдХрд░рддрд╛ рд╣реИ, рдЖрдЗрдП рджреЗрдЦреЗрдВ рдХрд┐ рд╕рд░реНрд╡рд░ рдбреЗрдЯрд╛ рдкреГрд╖реНрдареЛрдВ рдФрд░ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЕрдиреБрдкрд╛рдд рдХреЗ</font></font><code>block.read/hit</code></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕рд╛рде рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ </font><b><font style="vertical-align: inherit;">рд╣реИ</font></b><font style="vertical-align: inherit;"> ред </font><font style="vertical-align: inherit;">рдПрдХ рдЖрджрд░реНрд╢ рджреБрдирд┐рдпрд╛ рдореЗрдВ, рд╕рд░реНрд╡рд░ рдХреЛ рдбрд┐рд╕реНрдХ рд╕реЗ ( </font></font><code>shared read</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпреЛрдЬрдирд╛ рдиреЛрдб рдкрд░) </font><font style="vertical-align: inherit;">"рдкрдврд╝рдирд╛" </font><font style="vertical-align: inherit;">рдмрд┐рд▓реНрдХреБрд▓ рдирд╣реАрдВ рдЪрд╛рд╣рд┐рдП, рд╕рдм рдХреБрдЫ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдореЗрдореЛрд░реА рдореЗрдВ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП ( </font></font><code>shared hit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), рдЪреВрдВрдХрд┐ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдбрд┐рд╕реНрдХ рддрдХ рдкрд╣реБрдВрдЪ рд╣рдореЗрд╢рд╛ рдзреАрдореА рд╣реЛрддреА рд╣реИ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рдпрд╣ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рд╕рдЪ рдирд╣реАрдВ рд╣реИ, рдФрд░ рдкреАрдХ рд╕рдордп рдХреЗ рдЖрд╕рдкрд╛рд╕ рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЗ рдЧрд╣рди рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд╛ рдХрд╛рд░рдг рд╣реИ:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bt/ue/xl/btuexl-qt3d384qarrm0n6chlr0.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рдмрд╕реЗ рд▓рдВрдмрд╛ рдЕрдиреБрд░реЛрдз / рд▓реЗрди-рджреЗрди</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MVCC рдХреЗ рд▓рд┐рдП, рд╡реНрдпрд╕реНрдд рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рд▓рдВрдмреЗ рд╕рдордп рддрдХ рдЪрд▓рдиреЗ рд╡рд╛рд▓реЗ рдкреНрд░рд╢реНрди рдФрд░ рд▓реЗрдирджреЗрди рдПрдХ рдкреНрд░рджрд░реНрд╢рди рдЖрдкрджрд╛ рд╣реИрдВред </font><font style="vertical-align: inherit;">рдЗрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╡рд┐рд╡рд░рдг рдФрд░ рдЪрд┐рддреНрд░ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрд╣рд╛рдВ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдФрд░ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрд╣рд╛рдВ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдкрдврд╝реЗ рдЬрд╛ рд╕рдХрддреЗ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;">рд╣реИрдВ</font></a><font style="vertical-align: inherit;"> - рдЖрдк рдРрд╕реА рдкрд░рд┐рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдореЗрдВ рднреА рдХреИрд╕реЗ рдЬреАрд╡рд┐рдд рд░рд╣ рд╕рдХрддреЗ рд╣реИрдВред </font></font><br>
<br>
<img src="https://habrastorage.org/webt/a0/jl/ls/a0jllsvlvmsny6hhyq_mjnhnmli.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдРрд╕реЗ рдЦрд▓рдирд╛рдпрдХреЛрдВ рдХреЛ рдкрдХрдбрд╝рдиреЗ рд╕реЗ рд╣рдореЗрдВ рдорджрдж рдорд┐рд▓рддреА рд╣реИ </font></font><code>pg_stat_activity.query_start/xact_start</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЬреИрд╕рд╛ рдХрд┐ рд╣рдорд╛рд░реЗ рдЕрдиреБрднрд╡ рд╕реЗ рдкрддрд╛ рдЪрд▓рддрд╛ рд╣реИ, рдЗрди рдореИрдЯреНрд░рд┐рдХреНрд╕ рдХрд╛ рдПрдХ рджреГрд╢реНрдп рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдореЛрдЯреЗ рддреМрд░ рдкрд░ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рд╣реИ рдЬрд╣рд╛рдВ "рдЖрдЧреЗ" рдЦреЛрджрдирд╛ рд╣реИ:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЖрд╡реЗрджрди рдореЗрдВ рд╕рдВрд╕рд╛рдзрди рд▓реАрдХ рдХреА рддрд▓рд╛рд╢ рдХрд░реЗрдВ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЕрд╕рдлрд▓ рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЛ рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд░реЗрдВ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЕрдзрд┐рдХ рдЙрддреНрдкрд╛рджрдХ рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдбрд╛рд▓реЗрдВ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">... рдпрд╛ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рд▓реЛрдб рд╕рд╣реА рдврдВрдЧ рд╕реЗ рд╕рдордп рдореЗрдВ рдлреИрд▓рд╛ рд╣реБрдЖ рд╣реИ</font></font></li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi502460/index.html">2020 рдореЗрдВ рдпреВрдХреНрд░реЗрди рдХреЗ рд╕реНрдЯрд╛рд░реНрдЯрдЕрдк рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рдХреНрдпрд╛ рдЙрдореНрдореАрдж рд╣реИ?</a></li>
<li><a href="../hi502462/index.html">18 рд╕реЗ 24 рдордИ рддрдХ рдореЙрд╕реНрдХреЛ рдореЗрдВ рдбрд┐рдЬрд┐рдЯрд▓ рдХрд╛рд░реНрдпрдХреНрд░рдо</a></li>
<li><a href="../hi502464/index.html">18 рд╕реЗ 24 рдордИ рддрдХ рд╕реЗрдВрдЯ рдкреАрдЯрд░реНрд╕рдмрд░реНрдЧ рдореЗрдВ рдбрд┐рдЬрд┐рдЯрд▓ рдХрд╛рд░реНрдпрдХреНрд░рдо</a></li>
<li><a href="../hi502466/index.html">рдирдИ рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдореЗрдВ рдирдпрд╛ рдЖрд░рдЖрдИрдЯреА ++</a></li>
<li><a href="../hi502472/index.html">рдорд╛рдЗрдХреНрд░реЛрд╕рд░реНрд╡рд┐рд╕ рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреЗ рдкреНрд░реЛрдореЗрдерд┐рдпрд╕ рдореЙрдирд┐рдЯрд░рд┐рдВрдЧред рд╡рд┐рдЯрд╛рд▓реА рд▓реЗрд╡рдЪреЗрдВрдХреЛ</a></li>
<li><a href="../hi502480/index.html">рдбреАрдПрдЪрд╕реАрдкреА рд╕реНрдиреВрдкрд┐рдВрдЧ рдХреНрдпрд╛ рд╣реИ рдФрд░ рдпрд╣ рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ?</a></li>
<li><a href="../hi502486/index.html">рдорд╣рд╛рдорд╛рд░реА рдХреЗ рд╕рд╛рде рдкреБрд╕реНрддрдХ "рд░реЗрд╕ред рд╕реБрдкрд░рдмрдЧ рдХреЗ рдЦрд┐рд▓рд╛рдл рдПрдВрдЯреАрдмрд╛рдпреЛрдЯрд┐рдХреНрд╕ "</a></li>
<li><a href="../hi502490/index.html">рдЪрдордХрддреА рдкреНрд░рддрд┐рдмрдВрдзрд╛рддреНрдордХ рдорд╛рдиреНрдпрддрд╛рдПрдВред рдХрд┐рд╕ рд▓рд┐рдП рдФрд░ рдХреНрдпрд╛ рджреЗрддрд╛ рд╣реИ</a></li>
<li><a href="../hi502492/index.html">рдЬрд╝реЗрдХреНрдЯреНрд░рд╛рд╕ рд╕реВрдЯ рдФрд░ рдЬреЛрдореНрдмреНрд░рд╛ рдУрдПрд╕рдИ рдореЗрдВ рдирд╡рд╛рдЪрд╛рд░</a></li>
<li><a href="../hi502494/index.html">рдПрдХ рдмреНрд▓реИрдХ рдлреНрд░рд╛рдЗрдбреЗ рдХреА 7 рдЧрд▓рддрд┐рдпрд╛рдБ рдФрд░ рдореИрдЧреЗрдВрдЯреЛ рдХреНрд▓рд╛рдЙрдб рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ - рд╡реАрдбрд┐рдпреЛ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>