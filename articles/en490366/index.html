<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßòüèæ üÉè üéñÔ∏è Should I store Google Fonts on my server? üôáüèº ü¶ë ‚ò¢Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the past few weeks, by coincidence at work and in third-party projects, I have learned a lot about web fonts, as well as a lot about Google Fonts i...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Should I store Google Fonts on my server?</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/vdsina/blog/490366/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In the past few weeks, by coincidence at work and in third-party projects, I have learned a lot about web fonts, as well as a lot about Google Fonts in particular. Thanks to this, I can give a more detailed answer to a question that seemed simple to me in the past: should you store Google Fonts on your server?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Objectively speaking, I admit that fonts are not my forte. I prefer a more practical approach and do not focus on design (look at this site and make sure that it is) and before that I did not feel the need to use non-standard fonts. Of course, they look a little nicer and ‚Äúbrand‚Äù the text. But for the main text there is little sense in them. I never rated the article (or related to its content differently), just because a beautiful font was used to submit it. However, I was fully aware of the negative impact of additional fonts on the performance and page loading speed, so maybe because of this I am biased.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
However, many may disagree with me, and the fonts, whether they are important to me personally or not, are regularly used by many other developers, and often they simply have no choice. </font><font style="vertical-align: inherit;">Let's see what can be done so as not to lose in the speed of the site, and leave designers happy.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Self-Hosted vs External Resources</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A few years ago it was considered normal to use CDN to connect shared resources (for example, jQuery with </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">code.jquery.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - and </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://almanac."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yes, they still use it very much</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). To clarify, by CDN here I mean loading resources from someone else's domain, not your own CDN. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The reason was that browsers supposedly limited the number of connections to each domain (usually to 6 connections), so using another domain gave you another 6 connections. This could be true in the past (especially when the restriction was &lt;6 domains) and before </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.tunetheweb.com/security/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTTPS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> became the norm, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">significantly increasing</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> connection </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;">costs</font></a><font style="vertical-align: inherit;"> . In addition, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.tunetheweb.com/performance/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTTP / 2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">actually benefits from using one connection (mostly!), so using other domains is often a loss in performance rather than an acquisition. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Another way to achieve the same was by sharding the main domain with one or more technical subdomains (for example, assets.example.com), and in this case, fonts again do not appear on your main domain, where your web page is loaded from. Nevertheless, this method has the same connection problems, so this cannot be called a performance gain, even if it once was. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Another advantage of a public CDN was the high probability that visitors already had this version of conditional jQuery in the cache. But, again, I am convinced that this is too much. There are so many libraries and their versions, and</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.speedshop.co/2015/11/05/page-weight-doesnt-matter.html&amp;usg=ALkJrhg7rLP1WRd5EN0GjjUZ-WB6M0Y9xQ#"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The browser cache is smaller</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> than it might seem, so such a match is very unlikely. In addition, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Safari uses a unique HTTP cache</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> for each domain visited, for privacy reasons (double-keyed cache), and </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chrome will also introduce this function soon</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Thus, there is nothing more to argue about. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This topic smoothly turns into a conversation about the impact of third-party CDNs on privacy. You have no idea how and why they are tracking your users, which cannot happen with a self-hosted solution. And recent innovations in the law oblige many sites to explicitly list all cookies used on the site. Not the easiest task when using third-party CDNs.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For a long time, I have been convinced that third-party CDNs or even sharding of your own domains are very far from the promised performance gain. Too often you can find sites where the main domain distributes only index.html, and then a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lot of time is wasted wasting setting up new connections</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is not to mention the security implications of downloading resources from third-party sites. Yes, there is </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SRI</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , but it can </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://nooshu.github.io/blog/2019/12/17/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cause unexpected problems</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , and I honestly don‚Äôt see the point. If it is a static resource (where you can use SRI), then store it locally, and if it is not static (because the contents may change), then you cannot use SRI.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Also, the use of resources from third-party sources threatens that they will become a single point of failure (SPOF) and disable your site. </font><font style="vertical-align: inherit;">This has </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">happened more than once</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , and although it may seem unlikely that Google Fonts will fall, it may be blocked by company proxies or by </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">entire countries</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In general, more and more people are advising </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">to keep their static resources at home</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , ideally on the domain from which you are distributing web pages. </font><font style="vertical-align: inherit;">Fonts are static resources, so the same thing applies to them, right? </font><font style="vertical-align: inherit;">Well, it turns out that everything is not so simple, because fonts have their own peculiarities and optimization techniques, which can make local storage a little more complicated ...</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google Fonts and how they work</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google Fonts</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> is an awesome resource if you like fonts. 977 free fonts that anyone can use for free. Commercial fonts are often ridiculously expensive and usually licensed rather than sold, that is, fees are charged based on the expected number of page views. Therefore, having so many free and so easy to use fonts in one collection is very useful. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But that is not all. Google Fonts, like many resource providers for sites (see the jQuery example above), provides CDNs and stores fonts for everyone to use directly from their servers. This means that you can start using fonts by simply adding one line of code on your site to load the stylesheet:</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://fonts.googleapis.com/css?family=Lato&amp;display=swap"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can also add more properties and fonts in one line to load several fonts and variations of each of them:</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://fonts.googleapis.com/css?family=Lato:400,400i,700,700i,900%7CPoppins:300,400,700,900&amp;display=swap"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The disadvantage is a drop in performance (the advantage is also in performance, but this is not so obvious, we will get to this). </font><font style="vertical-align: inherit;">The problem is that your site (say </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.example.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) loads a stylesheet from fonts.googleapis.com, which returns some CSS with font-fac√© rules. </font><font style="vertical-align: inherit;">Here is the source for the link in the example above:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-comment">/* latin-ext */</span>
<span class="hljs-keyword">@font-face</span> {
  <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'Lato'</span>;
  <span class="hljs-attribute">font-style</span>: normal;
  <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">400</span>;
  <span class="hljs-attribute">font-display</span>: swap;
  <span class="hljs-attribute">src</span>: <span class="hljs-built_in">local</span>(<span class="hljs-string">'Lato Regular'</span>), <span class="hljs-built_in">local</span>(<span class="hljs-string">'Lato-Regular'</span>), <span class="hljs-built_in">url</span>(https://fonts.gstatic.com/s/lato/v16/S6uyw4BMUTPHjxAwXiWtFCfQ7A.woff2) <span class="hljs-built_in">format</span>(<span class="hljs-string">'woff2'</span>);
  <span class="hljs-attribute">unicode-range</span>: U+<span class="hljs-number">0100</span>-<span class="hljs-number">024</span>F, U+<span class="hljs-number">0259</span>, U+<span class="hljs-number">1</span>E00-<span class="hljs-number">1</span>EFF, U+<span class="hljs-number">2020</span>, U+<span class="hljs-number">20</span>A0-<span class="hljs-number">20</span>AB, U+<span class="hljs-number">20</span>AD-<span class="hljs-number">20</span>CF, U+<span class="hljs-number">2113</span>, U+<span class="hljs-number">2</span>C60-<span class="hljs-number">2</span>C7F, U+A720-A7FF;<font></font>
}<font></font>
<span class="hljs-comment">/* latin */</span>
<span class="hljs-keyword">@font-face</span> {
  <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'Lato'</span>;
  <span class="hljs-attribute">font-style</span>: normal;
  <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">400</span>;
  <span class="hljs-attribute">font-display</span>: swap;
  <span class="hljs-attribute">src</span>: <span class="hljs-built_in">local</span>(<span class="hljs-string">'Lato Regular'</span>), <span class="hljs-built_in">local</span>(<span class="hljs-string">'Lato-Regular'</span>), <span class="hljs-built_in">url</span>(https://fonts.gstatic.com/s/lato/v16/S6uyw4BMUTPHjx4wXiWtFCc.woff2) <span class="hljs-built_in">format</span>(<span class="hljs-string">'woff2'</span>);
  <span class="hljs-attribute">unicode-range</span>: U+<span class="hljs-number">0000</span>-<span class="hljs-number">00</span>FF, U+<span class="hljs-number">0131</span>, U+<span class="hljs-number">0152</span>-<span class="hljs-number">0153</span>, U+<span class="hljs-number">02</span>BB-<span class="hljs-number">02</span>BC, U+<span class="hljs-number">02</span>C6, U+<span class="hljs-number">02</span>DA, U+<span class="hljs-number">02</span>DC, U+<span class="hljs-number">2000</span>-<span class="hljs-number">206</span>F, U+<span class="hljs-number">2074</span>, U+<span class="hljs-number">20</span>AC, U+<span class="hljs-number">2122</span>, U+<span class="hljs-number">2191</span>, U+<span class="hljs-number">2193</span>, U+<span class="hljs-number">2212</span>, U+<span class="hljs-number">2215</span>, U+FEFF, U+FFFD;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We will talk about what some of these settings mean later (and also about why there are two font-face rules), but for now this means that you can use this font in your styles like this:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-tag">body</span> {
    <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'Lato'</span>, sans-serif;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
However, now you have to connect to fonts.googleapis.com, download CSS, and then connect to fonts.gstatic.com and download the fonts themselves (why Google cannot host both CSS and fonts on the same domain - I really don‚Äôt understand!). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fonts are often detected by the browser with a delay when loading the page (after all, you need to load CSS to find links to them). But Google Fonts are discovered even later, because CSS needs to be downloaded from </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">another</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> domain, and then fonts from the third domain and, as I mentioned, establishing an HTTPS connection is also not instant. This can be seen in the cascading diagram below generated by </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebPageTest</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (note that all tests were run with Chrome - 3GSlow):</font></font><br>
<br>
<img src="https://habrastorage.org/webt/94/si/uk/94siukfgpsuc3y8vvcenns7d8rm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Line 1 shows that HTML is loaded first. </font><font style="vertical-align: inherit;">Then, as soon as it is downloaded and read in less than 2 seconds, the browser detects the need to load the Google Fonts CSS and loads it in line 4. It takes a second to establish a connection, and then a file is downloaded for 3.5 seconds. </font><font style="vertical-align: inherit;">Finally, the browser found out about the existence of our font and loads it on line 6, having lost another 1 ¬º second on the way to the connection with fonts.gstatic.com. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Thus, using this font from Google Fonts costs us three whole seconds of productivity from the moment HTML is available, not taking into account the time to download the font itself!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Speeding up Google Fonts by preloading resources </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can mitigate this terrible performance hit when loading CSS and fonts from two different domains. The first domain (for CSS) should be located closer to the beginning of the index.html file so that the browser reads it as soon as possible, but the second is still hidden. However, we know what this domain will be like (fonts.gstatic.com), so we can open the connection in advance in order to save some time on the second connection later:</font></font><br>
<br>
<pre><code class="xml hljs">
<span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://fonts.gstatic.com"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"preconnect"</span> <span class="hljs-attr">crossorigin</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://fonts.googleapis.com/css?family=Lato&amp;display=swap"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When re-testing, we see the following picture: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/0-/ab/1r/0-ab1rf2caybdrxaloc5xrs6d0k.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Here we see that the connection on line 5 is open in advance, before loading CSS. So we win more than one second (downloading fonts in 4 seconds, not 5.25), because we managed to avoid wasting time during the connection and the fonts are downloaded immediately after reading the CSS Google Fonts. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You might think that you could go ahead and preload the entire font, instead of being content with only joining the domain, but Google Fonts calls fonts unique hashes. In the example above, the downloaded font is called S6uyw4BMUTPHjx4wXg.woff2, not lato.woff2, so preloading is not possible unless you want your site to crash one day when Google suddenly decides to change this hash.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In any case, if you use Google Fonts and do not intend to do anything else after reading this note, add at least a preliminary connection to the domain, if it is not already. This is just one line of code and it should significantly improve the performance of your page. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Actually, Google Fonts gives a similar command in HTTP headers when it renders CSS:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/1g/7n/lg/1g7nlg8c-qteofu6cr1t3eep2bi.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But in many cases this will not help much, because by the time you receive the HTTP response headers from the server with CSS, the browser already knows that you want to connect to this domain to download fonts. </font><font style="vertical-align: inherit;">So it‚Äôs better for you to specify this in the HTML code so that the preload works earlier (it doesn‚Äôt matter that it is duplicated in this way, the second attempt will be simply ignored). </font><font style="vertical-align: inherit;">However, if your page is still being processed by the time the headers from the Google Fonts CSS server are received, and the DOM is not ready (maybe this is a sign of too much JavaScript on your page?), This can help improve performance when it finally becomes clear which font to download.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Font Display: Swap</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the font-face code above, you can see the font-display: swap; line. This is a relatively new instruction. It can be added to the font declaration and it will tell the browser to use fallback first, i.e. the system font (sans-serif in this example), and then replace it with the real font after downloading it. This way you can avoid delays in loading content when the font has not yet been loaded and also improve performance well.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yes, this leads to an outbreak of unstyled text (FOUT) - the same ‚Äújumps‚Äù in content during page loading, but some people don‚Äôt like it (my opinion is agree, the content is more important than styling, but the text jumping across the page is annoying, though this can be mitigated by tweaking the spare font). An alternative is flash invisible text (FOIT). In this case, the text is hidden until the font appears, which obviously delays the download and can cause other problems </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if some text loads, but some don't</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> !</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In any case, before the introduction of font-display: swap, different browsers dealt with this differently - some, like IE and Edge, used FOUT, others used FOIT, and they had different times until they waited for the fonts to wait. Because of this, if the font did not load, your content could remain invisible for a long time. The introduction of font-display: swap allowed website developers to decide for themselves how this would happen. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Most browsers support</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> font-display: swap, with the exception of IE and Edge, but as mentioned above, they use this by default anyway. Google fonts </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">also support</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> various font display options and offer font-display: swap by default.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So, another tip if you use Google fonts is to check that you have the &amp; display = swap parameter in the URL, and if not (it has only recently become supported), then add it: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example, replace this:</font></font><br>
<br>
<pre><code class="xml hljs">
<span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://fonts.gstatic.com"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"preconnect"</span> <span class="hljs-attr">crossorigin</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://fonts.googleapis.com/css?family=Lato"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
On this:</font></font><br>
<br>
<pre><code class="xml hljs">
<span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://fonts.gstatic.com"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"preconnect"</span> <span class="hljs-attr">crossorigin</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://fonts.googleapis.com/css?family=Lato&amp;display=swap"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can also </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">specify one of the other font display values</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , for example </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">optional</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , if you wish. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unfortunately, this solves only half the problem. </font><font style="vertical-align: inherit;">This instruction is in CSS, which returns Google Fonts, so it is only useful after you have downloaded the CSS file. </font><font style="vertical-align: inherit;">Thus, it helps to cope with the delay while loading the fonts themselves, but it does not help while you are waiting for this CSS to load. </font><font style="vertical-align: inherit;">So this is a good improvement (at least for those who prefer FOUT), but still not the whole solution as a whole.</font></font><br>
<br>
<h2>  Google Fonts</h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">helped create Web Almanac</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (a fantastic look at the state of the Internet - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://almanac."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">see for</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> yourself if you haven‚Äôt seen it yet) and the slow download of Google fonts on our site annoyed me and I wanted to fix it. Especially FOUT with font-display: swap. I was wondering if we could reduce the impact of this, and the local solution seemed to be storing files locally, possibly using preloading. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We have already used the above techniques (preloading and font-display: swap;), but, of course, it would be better to get away from connecting CSS from the outside. We know what will be in this CSS. So, confidently choose self-hosted? This is where it gets interesting ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I found a convenient script on GitHub ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google Font Download</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), which helped me download all the different font options (since there were a lot of them, up to 9 depending on the page), and then copied the CSS, which it displayed in our main stylesheet, and uploaded the fonts to the server. There are </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">other online tools</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> that do the same. It all seemed to work, and we got rid of the annoying CSS loading and the need to work with two domains. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
However, upon closer inspection, I noticed that the fonts were larger:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/1w/hk/fs/1whkfsun5mb15p76jzen2eft4wk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As you can see, there has been a significant increase in size (up to 74% extra for some of them!) In comparison with downloaded Google fonts (right) and locally placed fonts (left). Initially, I thought this was due to my local web server, for example, due to compression being turned off. But WOFF2 fonts are served without compression by the web server ‚Äî or at least it should be ‚Äî since the format includes Brotli compression. Also, the screenshot above shows the downloaded bytes (black at the top), as well as the uncompressed bytes (slightly lighter at the bottom) for each column (they are quite similar in both columns, since the fonts are really sent without compression by the web server, but the downloaded bytes include HTTP headers , so they are a bit larger), and there were differences in both compressed and uncompressed bytes, so that‚Äôs not the point.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comparison of font-face rules obtained using the tool with the original ones revealed one difference: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
From Google Fonts:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-comment">/* latin-ext */</span>
<span class="hljs-keyword">@font-face</span> {
    <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'Lato'</span>;
    <span class="hljs-attribute">font-style</span>: normal;
    <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">400</span>;
    <span class="hljs-attribute">font-display</span>: swap;
    <span class="hljs-attribute">src</span>: <span class="hljs-built_in">local</span>(<span class="hljs-string">'Lato Regular'</span>), <span class="hljs-built_in">local</span>(<span class="hljs-string">'Lato-Regular'</span>), <span class="hljs-built_in">url</span>(https://fonts.gstatic.com/s/lato/v16/S6uyw4BMUTPHjxAwXiWtFCfQ7A.woff2) <span class="hljs-built_in">format</span>(<span class="hljs-string">'woff2'</span>);
    <span class="hljs-attribute">unicode-range</span>: U+<span class="hljs-number">0100</span>-<span class="hljs-number">024</span>F, U+<span class="hljs-number">0259</span>, U+<span class="hljs-number">1</span>E00-<span class="hljs-number">1</span>EFF, U+<span class="hljs-number">2020</span>, U+<span class="hljs-number">20</span>A0-<span class="hljs-number">20</span>AB, U+<span class="hljs-number">20</span>AD-<span class="hljs-number">20</span>CF, U+<span class="hljs-number">2113</span>, U+<span class="hljs-number">2</span>C60-<span class="hljs-number">2</span>C7F, U+A720-A7FF;<font></font>
}<font></font>
<span class="hljs-comment">/* latin */</span>
<span class="hljs-keyword">@font-face</span> {
    <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'Lato'</span>;
    <span class="hljs-attribute">font-style</span>: normal;
    <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">400</span>;
    <span class="hljs-attribute">font-display</span>: swap;
    <span class="hljs-attribute">src</span>: <span class="hljs-built_in">local</span>(<span class="hljs-string">'Lato Regular'</span>), <span class="hljs-built_in">local</span>(<span class="hljs-string">'Lato-Regular'</span>), <span class="hljs-built_in">url</span>(https://fonts.gstatic.com/s/lato/v16/S6uyw4BMUTPHjx4wXiWtFCc.woff2) <span class="hljs-built_in">format</span>(<span class="hljs-string">'woff2'</span>);
    <span class="hljs-attribute">unicode-range</span>: U+<span class="hljs-number">0000</span>-<span class="hljs-number">00</span>FF, U+<span class="hljs-number">0131</span>, U+<span class="hljs-number">0152</span>-<span class="hljs-number">0153</span>, U+<span class="hljs-number">02</span>BB-<span class="hljs-number">02</span>BC, U+<span class="hljs-number">02</span>C6, U+<span class="hljs-number">02</span>DA, U+<span class="hljs-number">02</span>DC, U+<span class="hljs-number">2000</span>-<span class="hljs-number">206</span>F, U+<span class="hljs-number">2074</span>, U+<span class="hljs-number">20</span>AC, U+<span class="hljs-number">2122</span>, U+<span class="hljs-number">2191</span>, U+<span class="hljs-number">2193</span>, U+<span class="hljs-number">2212</span>, U+<span class="hljs-number">2215</span>, U+FEFF, U+FFFD;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
From the download tool:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-keyword">@font-face</span> {
    <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'Lato'</span>;
    <span class="hljs-attribute">font-style</span>: normal;
    <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">400</span>;
    <span class="hljs-attribute">src</span>:
        <span class="hljs-built_in">local</span>(<span class="hljs-string">'Lato Regular'</span>),
        <span class="hljs-built_in">local</span>(<span class="hljs-string">'Lato-Regular'</span>),
        <span class="hljs-comment">/* from https://fonts.gstatic.com/s/lato/v16/S6uyw4BMUTPHjx4wXg.woff2 */</span>
        <span class="hljs-built_in">url</span>(<span class="hljs-string">'Lato_400.woff2'</span>) <span class="hljs-built_in">format</span>(<span class="hljs-string">'woff2'</span>),
        <span class="hljs-comment">/* from https://fonts.gstatic.com/s/lato/v16/S6uyw4BMUTPHjx4wWA.woff */</span>
        <span class="hljs-built_in">url</span>(<span class="hljs-string">'Lato_400.woff'</span>) <span class="hljs-built_in">format</span>(<span class="hljs-string">'woff'</span>);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The first difference is that we lost the font-display: swap line, but this can be fixed without problems. </font><font style="vertical-align: inherit;">Much more interesting is the fact that Google Fonts distributes two fonts - and includes different Unicode ranges in them. </font><font style="vertical-align: inherit;">This is due to font-subsetting and reduces font files.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Font subsetting</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Font subsetting is the removal of characters that you are not going to use to reduce the size of the font file. Typically, most Westerners use only Latin characters, and downloading a font with all the characters that you probably won't use is irrational. I had heard about this before, but I never thought how significant this could have! Google Fonts automatically renders a font-face with a set of Latin characters, and also, where possible, connects a second font for extended Latin characters (for example, ƒÄ), which will be downloaded only if necessary. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In fact, you can also request a special font that contains only those characters that you need with the text parameter: </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://fonts.googleapis.com/css?family=Lato&amp;text=ABC</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Judging by further observations, the font-loading tool that I used apparently supports font subsetting, but only for the whole ‚Äúlanguage‚Äù (Latin or extended Latin), and it combines both subsets of characters into a single file. </font><font style="vertical-align: inherit;">In the end, I returned to using what my browser used and stopped using this tool. </font><font style="vertical-align: inherit;">This gave similar file sizes (with a slight difference due to the HTTP headers in my development environment), but I soon found that it was not just font subsetting.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google Fonts smartly distributes fonts</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Google Fonts do not always render the same CSS and it </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">depends on the user-agent used</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">For example, for Internet Explorer 11, it sends the following:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-keyword">@font-face</span> {
    <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'Lato'</span>;
    <span class="hljs-attribute">font-style</span>: normal;
    <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">400</span>;
    <span class="hljs-attribute">font-display</span>: swap;
    <span class="hljs-attribute">src</span>: <span class="hljs-built_in">local</span>(<span class="hljs-string">'Lato Regular'</span>), <span class="hljs-built_in">local</span>(<span class="hljs-string">'Lato-Regular'</span>), <span class="hljs-built_in">url</span>(https://fonts.gstatic.com/s/lato/v16/S6uyw4BMUTPHjx4wWA.woff) <span class="hljs-built_in">format</span>(<span class="hljs-string">'woff'</span>);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Here you can see that it provides only the WOFF format, since IE 11 </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">does not support WOFF2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , and for the same reason unicode-range is not specified. It gives font-display: swap (as I pointed out in the URL for CSS), although the browser does not support it, but it does not harm. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It's not just the manufacturer and version of the browser. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Font hinting</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">includes additional instructions in the font file, which are then used to provide the best display of the font - especially on low resolution screens or for really small sizes. Font hinting is used on Windows, but not on MacOS, so depending on which OS you work with when receiving Google Fonts, using a browser (even if you use Chrome on each platform), you may get font files with hinting or without him. If you download the Windows version and use it for yourself, you will actually make MacOS users suffer from the need to process large font files full of unused hinting, and if you do the opposite, you will potentially make Windows users suffer from worse font display, without font hinting.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When I used Google Fonts, and when I downloaded fonts for local use, I did it on my Mac, so I got smaller files. </font><font style="vertical-align: inherit;">When I used the tool, I got full fonts, with hinting. </font><font style="vertical-align: inherit;">So that was another reason for the big size difference! </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Is font hinting still relevant</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, because high-definition screens have become more common - this is a good question, and many fonts are initially delivered without hinting, since it takes a lot of time to create it. </font><font style="vertical-align: inherit;">When it is present - it can significantly increase the font size. </font><font style="vertical-align: inherit;">In the case of Lato, the size is doubled. </font><font style="vertical-align: inherit;">Is it worth the extra workload you'll encounter by abandoning Google Fonts and locating fonts locally? </font><font style="vertical-align: inherit;">This is another decision that you need to make for yourself.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So, Google Fonts CDN is supported by a smart script that gives away the most suitable fonts, optimizing them to maintain maximum performance. Switching to the local storage of fonts you will have to configure all this yourself, and there is a chance to lose the correct display of your fonts in some browsers if you do not. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For Web Almanac, we looked at statistics on visitors' browsers and decided to support only WOFF2, and also use versions of MacOS without hinting, since they weigh half as much. This simplified CSS (especially since </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">unicode-range is</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> supported by all browsers that </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">support WOFF2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), and users of IE 11 and other old browsers see sans-serif by default, which doesn‚Äôt look very good, but in our opinion, fonts are a progressive improvement, and even without them the site is still more than usable. In addition, older browsers may even benefit from using system default fonts, as they are likely to be used on older, low-powered machines. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can also </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">make other adjustments to your fonts</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> if you want (check the licenses first!), But copying the default Google fonts used in Chrome on MacOS is probably enough for most of us if you want to support only WOFF2 browsers without hinting .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nevertheless, if we settled on Google Fonts, then we would have WOFF (and even older formats) and hinting where necessary, without the need for deep configuration of substitution of the correct font depending on the browser. </font><font style="vertical-align: inherit;">Thus, using Google Fonts for fonts still has certain advantages, and choosing local storage you refuse them. </font><font style="vertical-align: inherit;">This also applies to </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">any future enhancements to Google Fonts</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Future Fonts Enhancements</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Since I delved into the topic of fonts, and warned that you could lose any future benefits of Google Fonts by going to local storage, I want to move away from the main topic a bit and talk about other interesting things that I discovered. </font><font style="vertical-align: inherit;">What are the upcoming big changes in the font world? </font><font style="vertical-align: inherit;">Well, there are two changes that are currently being actively discussed and which may affect fonts in the future (and therefore may be supported by Google Fonts, possibly by default if you chose to use this service): variable fonts and progressive font enrichment .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Variable fonts</font></font></h3><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Variable fonts</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> allow you to use different font styles without having to download individual files. I mentioned earlier that Web Almanac uses up to 9 different font files, but in reality it is only 2 fonts. The reason is simple - the site also uses bold, italics, bold, and even thinner versions of one or both of them. So many variations of the same font may seem inappropriate and you might think that the browser itself will cope with the task of changing the thickness of the text or writing italic. Yes it is possible. But each browser does this a little differently, and the results </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">can be radically different</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , so many call them ‚Äúartificial fonts‚Äù.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The only way to ensure the same display is to use a ‚Äúreal font‚Äù specifically for each style you need. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Variable fonts </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">standardize the display of various font variations</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and the need for additional files disappears. Theoretically, we could replace these 9 fonts with 2 when their variable font versions become available. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This opens up a ton of possibilities for using fonts on the Internet. Although it may seem to me that the 9 options for the two fonts are too much, in reality it is not too much, while variable fonts would allow endless variations. On mobile devices, you can set a slightly different thickness for the "bold" than on desktops and tablets. Variable fonts with a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">few simple CSS instructions</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">allow this without the cost of resources for downloading an additional font. Recently at </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DotCSS, </font></font></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jason Pamental</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> talked about variable fonts and </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">demonstrated</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> how you can get a beautifully designed page with what seems to be a lot of different fonts - all using one file! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Using variable fonts also </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">means loading all font variations at the same time</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , avoiding the confusion caused by the problems mentioned earlier. This also leads to fewer redraws of the layout: without variable fonts, the page </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">will be redrawn by the</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> browser again and again as each individual font variant loads. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Variable fonts have good support</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in modern browsers, but their drawback is the large size, because storing different font variations requires more space, as is the case with font hinting. </font><font style="vertical-align: inherit;">It depends on the font, but usually they are twice as large after compression, so to justify their use, you must need at least two styles. </font><font style="vertical-align: inherit;">Even so, you might be better off preferring one smaller file that is uploaded to display critical text, rather than one larger file for displaying all text. </font><font style="vertical-align: inherit;">And again, can using font-display: swap be a less problematic solution? </font><font style="vertical-align: inherit;">This is up to each site owner to decide!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Progressive Font Enrichment</font></font></h3><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Progressive Font Enrichment</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , in essence, takes subsetting to a new level and allows you to download additional character definitions as needed in the form of a stream of additional information that complements the currently loaded font, but does not add an additional one. This may seem like a small advantage for us Westerners, but for other languages ‚Äã‚Äã- especially in the Far East - font files can be very massive (for example, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2Mb</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), due to the huge number of characters in these languages. For this reason, web fonts are less commonly used in such countries and progressive font enrichment can have a positive effect on the situation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Progressive Font Enrichment, as I understand it, is at a much earlier stage than variable fonts, but there are</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">online demo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">In any case, this is another potentially interesting change related to fonts.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Will Google Fonts continue to improve?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Given how Google Fonts works, it‚Äôs easy to imagine that it can continue to grow with new enhancements, such as those described in this article (or many others!), Just by changing the CSS you give. And he can do it wisely. For example, determining if your browser supports new technology (as it does now with the font format - WOFF or WOFF2), or in other ways. For example, if you request more than two fonts, and giving variable font less resource-intensive, then you can automate and link to the same font file in several font-face ads, and if you request only one option, then refer to a more lightweight one, traditional font. Sounds far-fetched? </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">They already did it with one font.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Oswald)! Honestly, I don‚Äôt know if the same is possible with the Progressive Font Enrichment, because I don‚Äôt fully understand the principle of its work, but it will be interesting to see. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Also, it is worth mentioning that using Google Fonts, when updating fonts, for example, to add new character sets or correct errors in glyphs, you get new fonts automatically. With local storage, this will not work - at least not without one-hand intervention. Perhaps you could look in the direction of proxying requests through your domain and thus take the best of both options, but this will most likely be slower and require additional configuration and management.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
On the other hand, local storage provides stability, as some updates may affect your design, for example, if a title in one line starts to stretch to two due to a font change. </font><font style="vertical-align: inherit;">There is a category of people who are very upset because of this</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Benefits of local font storage</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So, we have discussed a lot of theory, and although there are obvious potential benefits of local storage, there are also difficulties to consider, and so using Google Fonts also has some obvious benefits. So is self-hosted worth it? It depends on the real amenities in a particular situation. If the difference in performance is insignificant, it may be worth continuing to use Google Fonts, if large, respectively. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For Web Almanac, we recently </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://github.com/HTTPArchive/almanac."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">selected</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Google Fonts </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://github.com/HTTPArchive/almanac."><font style="vertical-align: inherit;">local storage</font></a><font style="vertical-align: inherit;"> , and testing showed dramatic changes:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/oa/xy/ha/oaxyhappghsnk9rj-l4qoicboki.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The lower image contains local fonts on our test server, and you can see that the download time was halved - from 6 to 3 seconds! After a deeper analysis, I saw that productivity increased even more (3 ‚Öì seconds of savings)! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
What is not so obvious (but what we will see later) - at this point the fonts are not fully loaded on any of the images - with local storage it takes 7.5 seconds and 10.5 seconds when using Google Fonts. However, the fonts used are pretty similar to the standard ones, and there are no noticeable jumps in layout. This can be seen in the diagram below:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ai/zw/vu/aizwvu3sstjfwd68gd7gzhez4im.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The diagram shows that the page with local storage (in red) is almost completely loaded in 2.4 seconds, and then is updated several more times as the images load, after which the fonts are also displayed. Yes, I would like to make everything even smoother, but still it‚Äôs impossible to optimize some font download costs.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The reason that the improvements are really tangible is because of one more thing that I didn‚Äôt take into account at first: CSS blocks rendering. So if there is a link to Google Fonts CSS, the browser does not just delay the display of text - it delays the display of the entire content of the page! The font is a progressive improvement, so we can safely render the rest of the page, and even the text itself (with standard / fallback fonts), but the browser doesn‚Äôt - it just sees that there is some CSS and tries to load it, postponing the download the rest of the page. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">There is no asynchronous loading for CSS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- but perhaps it should be for such cases? Nevertheless, we risk that in case of problems connecting to Google Fonts, your entire site will be inaccessible until the browser stops trying to process the link! </font></font><br>
<br>
<img src="https://habrastorage.org/webt/v6/3_/oo/v63_oow5ktzvixadg7tpirrthcs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the comparison chart above, the vertical green line Start Render occurs as early as 6 seconds - since it has to wait until Google Fonts CSS loads on line 12, spending half the time connecting to the domain and the other half actually loading. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Compare this with the local version: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/x6/hm/4c/x6hm4c_omalxhr4ogx_5pueneci.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Here we can start rendering as soon as the CSS of the site is loaded and processed in 2.5 seconds. This is because there is no delay in connecting to the Google Fonts domain.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In both cases, we see that the start of rendering happens before the fonts are loaded, and thanks to the magic of font-display: swap, the text is still visible. Therefore, at least when using font-display: swap, it would be better if Google Fonts were not loaded using CSS blocking rendering, but, for example, loaded via asynchronous JavaScript, which inserts CSS fonts into the page only after how they are downloaded. If the process were implemented like this, rendering delays would not occur, however, there are still delays when connecting and a long wait for the text to be displayed correctly. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
UPD: I created an </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">issue on GitHub Google Fonts</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> with a proposal to add a way to download Google Fonts without blocking the render - vote if you want it too!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zach Leatherman advocates this approach to </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reduce the number of redraws</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , and shows that this is also possible with JavaScript alone, without the need for a CSS file. </font><font style="vertical-align: inherit;">Then it shows other advantages of managing your fonts with JavaScript, for example, you can refuse to download fonts at all if the site is open from a slow network (using the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Network Information API</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), or if the user has </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Save-Data</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> or </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prefers-Reduced-Motion</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> settings enabled </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Interesting features!</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Preloading Fonts</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Once you‚Äôve moved away from Google‚Äôs hashed URLs, you‚Äôll be able to preload the font to further improve performance. However, this option has some potential flaws, as Andy Davies discussed in the article </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Preloading Fonts and the Puzzle of Priorities</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Basically, by preloading fonts and moving them up in the priority order, you implicitly lower the priority of other critical downloads (for example, CSS), and due to an error in Chrome, fonts </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">can even jump</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> above some of them.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In addition, preloading when the font will not be used will cause unnecessary undue load - for example, if the local version exists and can be used with priority, or if the browser does not support this font format (although all browsers that support preloading also support WOFF2 ) Along with the recommendation to use pre-loading, Google clearly </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">warns you about this</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , and it's nice to see that they pay attention to it.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When using the font-display: swap function, the need for preload may not be as strong. </font><font style="vertical-align: inherit;">Although in this case, you can still gain time by downloading the minimum required number of fonts and thus avoiding FOUT and redrawing. </font><font style="vertical-align: inherit;">At the moment, we do not use preloading in Web Almanac and before we start, we need a few more tests, but for now I am satisfied with what is.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Answering a question in the title of the article: yes, it‚Äôs worth it, since the performance gain is significant. </font><font style="vertical-align: inherit;">Of course, your results may vary, because it all depends on the particular site, so test, test, and test again. </font><font style="vertical-align: inherit;">But, I think, this is still the best option, in terms of performance, for most sites.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
However, Google Fonts is not just a repository of hundreds of free fonts - it‚Äôs also a smart delivery mechanism that uses many of the latest optimization techniques to render the most suitable fonts with minimal effort on the part of the site owner. Switching to self-hosted, you should ideally re-implement many useful improvements, such as font-display: swap, removal of font hinting (at least for some browsers), or otherwise, you can only harm the performance of heavy ones font files.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is not an easy task (and Google Fonts does it for you, yes). But since now using only the WOFF2 format is the only realistic option, and browsers well support most optimization techniques, everything has become much easier than before. Nevertheless, it‚Äôs worth having some knowledge about web fonts before setting it all up (I hope this post helped!), And at the same time keep an eye on new changes in the font world, as there will undoubtedly be further improvements. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Well, maybe we were too keen on optimization and with local storage we can afford to use the full font, without subsetting and with hinting? On the Google Fonts website, you can download any font and it is relatively simple, although it is strange that the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">archive does not include the WOFF and WOFF2 formats</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">when using this loading method, which is completely incomprehensible to me! </font><font style="vertical-align: inherit;">However, if you are really interested in improving performance (and you should be interested!), Then you should try to do the right thing. </font><font style="vertical-align: inherit;">This article only shows that it is a little more complicated than just downloading and placing fonts on your site, as I always expected. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wow, something text turned out to be longer than I expected! </font><font style="vertical-align: inherit;">But I hope that you were just as interested in understanding the topic as you are and you now have a couple of new ideas for speeding up font downloads on your site. </font><font style="vertical-align: inherit;">I highly recommend you follow </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jason</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zach</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> on Twitter to learn more about fonts, and </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Andy</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> to learn more about overall web application speed.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/9fa/cf4/a34/9facf4a348ef01048b4eb5e16ae66daa.png"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en490354/index.html">Enhancing the culture of information security in fintech companies</a></li>
<li><a href="../en490356/index.html">Introducing Kubernetes CCM (Cloud Controller Manager) for Yandex.Cloud</a></li>
<li><a href="../en490358/index.html">Does a modern programmer need to be able to create algorithms?</a></li>
<li><a href="../en490362/index.html">Kubernetes in the spirit of piracy: our path to microservices and a ready-made template for implementation</a></li>
<li><a href="../en490364/index.html">Data centers consume a lot of electricity, but not yet threaten the climate</a></li>
<li><a href="../en490372/index.html">Interview at Dodo Pizza</a></li>
<li><a href="../en490376/index.html">Plural</a></li>
<li><a href="../en490378/index.html">IPv6 - a wonderful world worth a quick transition to it</a></li>
<li><a href="../en490380/index.html">Delayed completion of the pod when it is deleted</a></li>
<li><a href="../en490382/index.html">FunCorp iOS meetup # 2 content</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>