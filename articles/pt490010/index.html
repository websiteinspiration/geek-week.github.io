<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíà üõÄüèæ üë©üèª‚Äçüé§ Exame do sistema de tipos para verificar a exatid√£o da m√∫sica üõ∑ üõ£Ô∏è üõê</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hoje, fala-se muito sobre a apresenta√ß√£o de m√∫sica usando linguagens de programa√ß√£o, porque, por um lado, √© uma tarefa interessante para os engenheiro...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Exame do sistema de tipos para verificar a exatid√£o da m√∫sica</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/nix/blog/490010/"><img src="https://habrastorage.org/webt/ge/ng/6l/geng6lj6ji51qdtlif1kb8izjnm.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hoje, fala-se muito sobre a apresenta√ß√£o de m√∫sica usando linguagens de programa√ß√£o, porque, por um lado, √© uma tarefa interessante para os engenheiros e, por outro, faz parte da descri√ß√£o universal da m√∫sica. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Com o que se parece? Para muitos idiomas, os ambientes de programa√ß√£o musical foram criados. Os mais populares s√£o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TidalCycles</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> for Haskell e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sonic Pi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> for Ruby no Raspberry Pi. H√° tamb√©m uma ferramenta usando </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a biblioteca do compositor de Leipzig</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Como est√° escrito em Clojure, falta verifica√ß√£o de tipo.</font></font><br>
<br>
<pre><code class="plaintext hljs">(def row-row-row-your-boat<font></font>
  (phrase [3/3 3/3 2/3 1/3 3/3]<font></font>
          [  0   0   0   1   2]))<font></font>
<font></font>
-&gt;&gt; row-row-row-your-boat<font></font>
  (canon (simple 4))<font></font>
  (where :pitch (comp C major))<font></font>
  (where :time (bpm 90))<font></font>
  play)<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A dura√ß√£o e o tom dos sons s√£o representados como n√∫meros inteiros e coeficientes literais, o que n√£o √© muito conveniente. Quando se trata de transforma√ß√£o musical, a programa√ß√£o pode ser uma grande ajuda. Digamos, no exemplo acima, a tecla est√° definida como C maior e o tempo √© de 90 batimentos por minuto.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quando os programadores veem o c√≥digo da m√∫sica, na maioria das vezes perguntam se √© poss√≠vel impedir a execu√ß√£o falsa usando um sistema de tipos. Quest√£o justa. Se a m√∫sica pode ser representada como c√≥digo, os erros na composi√ß√£o podem ser considerados erros de programa√ß√£o? E se sim, por que n√£o melhorar o processo de escrever m√∫sicas usando as t√©cnicas que usamos para escrever programas? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em particular, existe uma analogia √≥bvia entre erros que o sistema de tipos pode impedir e casos comuns de imprecis√£o musical. Se sua linguagem de programa√ß√£o conseguir verificar se voc√™ passou uma string para uma fun√ß√£o que espera obter um n√∫mero, poder√° verificar se voc√™ n√£o usa f-sharp em uma passagem escrita em </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√≥ maior</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, cuja chave n√£o h√° sinais de altera√ß√£o. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Neste artigo, descobriremos o que torna a m√∫sica correta e como ela pode ser representada usando um sistema de tipos.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prescritivismo</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os te√≥ricos v√™m discutindo h√° s√©culos sobre o que torna a m√∫sica certa. </font><font style="vertical-align: inherit;">Na maioria das vezes, eles operam dentro da estrutura do prescritivismo musical: avaliando a m√∫sica quanto √† conformidade com algum conjunto de regras. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ pode descrever a metodologia dominante para a forma√ß√£o de regras:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aprendendo o c√¢none</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Defini√ß√£o de padr√µes</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Formulando-os como um conjunto de regras</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ent√£o, pode-se argumentar que:</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A m√∫sica que n√£o cumpre essas regras est√° incorreta.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por exemplo, a regra de composi√ß√£o declara que n√£o √© permitido saltar para um septo grande de para s na melodia. Essa abordagem levou a in√∫meras descobertas valiosas. A m√∫sica cl√°ssica possui padr√µes extremamente interessantes, e uma generaliza√ß√£o de nossas observa√ß√µes como um conjunto de regras ajuda a discutir o fen√¥meno da m√∫sica. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al√©m disso, √© √∫til seguir as regras ao dominar instrumentos musicais. √â bom quando os professores corrigem as crian√ßas que praticam violino em D√≥ maior, mas se desviam. H√° situa√ß√µes em que √© √∫til aderir √†s defini√ß√µes de m√∫sica correta e incorreta. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No entanto, essa abordagem tem duas principais desvantagens.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Primeiro, as regras decorrentes desse processo s√£o altamente dependentes daquilo que o te√≥rico considera c√¢none. O vi√©s do conjunto de dados leva ao vi√©s das conclus√µes, e a m√∫sica cl√°ssica ocidental n√£o reflete toda a experi√™ncia musical da humanidade. Criar regras baseadas nas m√∫sicas de Bach e Mozart pode ser divertido, mas elas n√£o falam muito sobre m√∫sica em geral. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A situa√ß√£o √© complicada quando voc√™ percebe que os g√™neros musicais geralmente est√£o fortemente associados a certas culturas e grupos √©tnicos e que, ao priorizar certos tipos de m√∫sica, voc√™ prioriza inconscientemente certos tipos de pessoas. Por exemplo, na teoria acad√™mica da m√∫sica, muita aten√ß√£o √© dada ao estudo das tradi√ß√µes cl√°ssicas europ√©ias e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">relativamente pouca m√∫sica originada nas di√°sporas de imigrantes da √Åfrica</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: blues, jazz, rock and roll e hip hop. Se avaliarmos a corre√ß√£o da m√∫sica atrav√©s de uma teoria tradicional, isso pode levar a uma vers√£o culturol√≥gica do problema, quando os </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">algoritmos de reconhecimento de faces funcionaram melhor com caucasianos do que com negr√≥ides.</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
A segunda grande desvantagem da cria√ß√£o de regras, identificando e generalizando padr√µes, √© que, dessa maneira, sempre focaremos no passado. E a m√∫sica se excita mais quando quebra as regras. Antes de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jimmy Page usar o efeito de distor√ß√£o</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , os engenheiros consideraram o corte do sinal durante a amplifica√ß√£o como um defeito. E, embora os padr√µes revelados ajudem a entender a m√∫sica moderna, eles s√£o completamente inadequados para avaliar m√∫sicas futuras.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um bom sistema de tipos de m√∫sica deve evitar as duas armadilhas descritas de prescritivismo. </font><font style="vertical-align: inherit;">N√£o deve ser baseado em crit√©rios inaceit√°veis ‚Äã‚Äãou subjetivos para a m√∫sica correta. </font><font style="vertical-align: inherit;">Ao mesmo tempo, tentando </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tornar estados err√¥neos irrepresent√°veis</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , o sistema de tipos n√£o deve interferir no aparecimento de novos estados.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Descritivismo</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Uma alternativa ao prescritivismo √© o descritivismo. </font><font style="vertical-align: inherit;">Se, no primeiro caso, os padr√µes musicais s√£o considerados regras vinculativas, no segundo eles s√£o considerados padr√µes formados no curso da pr√°tica. </font><font style="vertical-align: inherit;">Uma abordagem descritiva para o estudo das regras musicais √© assim:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Explorando o corpo da m√∫sica</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Identificar tend√™ncias</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N√≥s os formulamos na forma de um modelo</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pode-se argumentar que:</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A m√∫sica que se desvia do modelo √© incomum.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para fazer isso, precisamos de um bom modelo de estruturas musicais que descreva o comum ou o incomum, e n√£o o certo ou o errado. </font><font style="vertical-align: inherit;">David Huron, em seu livro </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sweet Anticipation,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> oferece uma teoria descritiva que pode ser reduzida a tr√™s aspectos principais:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A m√∫sica √© classificada atrav√©s de treinamento estat√≠stico</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voc√™ est√° satisfeito com a previs√£o correta</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Novidade n√£o deixa voc√™ ficar entediado</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em nosso exemplo prescritivista anterior, pular de uma nota para C √© considerado um erro. </font><font style="vertical-align: inherit;">E, de acordo com a teoria de Huron, isso ser√° muito incomum. </font><font style="vertical-align: inherit;">Aqueles que ouviram muita m√∫sica ocidental descobrir√£o que, quando ouvirem uma nota, a pr√≥xima nota ser√° com mais freq√º√™ncia, ou uma nota um passo mais alto ou mais baixo. </font><font style="vertical-align: inherit;">Saltar para o B surpreender√° o p√∫blico, e eles podem encarar isso negativamente.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Uma das conseq√º√™ncias curiosas da teoria de Huron √© que escrever m√∫sica n√£o √© um exerc√≠cio para maximizar ou minimizar a fic√ß√£o. A m√∫sica se equilibra na fronteira entre ordem e caos, e a localiza√ß√£o dos ouvintes depende da capacidade do m√∫sico de equilibrar o choque da novidade com a satisfa√ß√£o de receber o esperado. Se voc√™ realmente deseja verificar a exatid√£o da composi√ß√£o, precisar√° garantir que ela n√£o v√° muito longe das tradi√ß√µes aceitas, mas tamb√©m n√£o as observe estritamente.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A seguir, s√£o apresentados dados de uma an√°lise estat√≠stica de tend√™ncias mel√≥dicas. Cores mais escuras indicam resultados mais prov√°veis. Selecione uma linha com uma das notas e encontre nela uma c√©lula com uma nota com maior probabilidade de seguir sua escolha - o cruzamento destacado em escuro com a coluna de outra nota. Por exemplo, neste conjunto de dados em 33,53% dos casos ap√≥s a nota remetida √† nota.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d5f/958/cf0/d5f958cf07219b7f4d092ab67b2e9529.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estes dados s√£o retirados do livro de Huron, s√£o o resultado da an√°lise de mais de 250.000 pares de tons de can√ß√µes folcl√≥ricas germ√¢nicas em sua maioria. Outra matriz de dados, digamos, hip-hop ou rock and roll, demonstrar√° probabilidades diferentes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todas essas probabilidades podem ser representadas equivalentemente como bits de entropia: uma probabilidade de 50% corresponde a um bit, uma probabilidade de 25% a dois bits, etc. Para evitar a divis√£o por zero, assumimos que para transi√ß√µes que nunca ocorrem no conjunto de dados, a probabilidade √© de 1/100 000. Agora, a cor mais escura mostra transi√ß√µes que s√£o mais caras em termos de entropia - ou seja, menos prov√°vel. Por exemplo, para re after √© igual a 6 bits de entropia, ou seja, tem uma probabilidade de 1/64.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a3f/ae7/419/a3fae7419ea6c759ee7ff137cc6810db.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A representa√ß√£o na forma de entropia nos ajuda a combinar surpresa de uma s√©rie de notas nas quais cada transi√ß√£o de um som para outro √© um contador de entropia, com surpresa de toda a melodia como a soma das transi√ß√µes.</font></font><br>
<br>
<pre><code class="plaintext hljs"> -&gt;  -&gt;  -&gt;  = 2,20 + 2,71 + 5,94 = 10,85 <font></font>
 -&gt;  -&gt;  -&gt;  = 2,48 + 7,43 + 5,94 = 15,85 <font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso √© muito semelhante ao </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">modelo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> oculto de </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">Markov</font></a><font style="vertical-align: inherit;"> , mas, em vez de gerar sequ√™ncias de notas, usamos probabilidades ponderadas para estimar a probabilidade de uma melodia. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ deve ter notado que a transi√ß√£o da nota para C √© de apenas 2,48 bits, embora √† primeira vista isso contradiga o fato de que a transi√ß√£o de C para C foi descrita acima como muito incomum. </font><font style="vertical-align: inherit;">Na maioria das vezes, transi√ß√µes incomuns s√£o aproximadamente 10 bits de entropia. </font><font style="vertical-align: inherit;">A raz√£o para a discrep√¢ncia √© que os dados do Huron n√£o distinguem entre um salto de seis notas de para para si (muito incomum) e uma transi√ß√£o para uma nota de para um si mais baixo (uma situa√ß√£o bastante comum). </font><font style="vertical-align: inherit;">Se os dados nos permitirem separar esses dois casos, o modelo mostrar√° que a cadeia pr√©-si-mi-fa soar√° ainda mais n√£o convencional do que a pr√©-re-mi-fa.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas digitadas</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Idealmente, um sistema de tipos ajuda os programadores a tomar as decis√µes corretas e elimina a possibilidade de erros. </font><font style="vertical-align: inherit;">Uma boa analogia musical √© o solfejo. </font><font style="vertical-align: inherit;">Se voc√™ n√£o tem educa√ß√£o musical, pode se familiarizar com solfeggio na m√∫sica </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Do-Re-Mi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> do musical </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The Sound of Music</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Cada nota de uma oitava tem seu pr√≥prio nome e qualquer nota fora da tonalidade do nome n√£o possui:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para (nota mais baixa deste conjunto)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R√©</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mi</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sal</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para (agora uma oitava acima)</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este sistema permite que os m√∫sicos sigam as notas corretas, define um mini-idioma que pro√≠be tocar notas fora da tecla selecionada. </font><font style="vertical-align: inherit;">Existem infinitas frequ√™ncias entre d e re, mas elas n√£o s√£o reproduzidas no solfeggio. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso pode ser facilmente representado no c√≥digo como dados do tipo alg√©brico:</font></font><br>
<br>
<pre><code class="plaintext hljs">data Solfege = Do | Re | Mi | Fa | So | La | Ti
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora voc√™ pode definir fun√ß√µes musicais que n√£o permitem notas fora das teclas. Por exemplo, esta fun√ß√£o repete uma nota </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> vezes:</font></font><br>
<br>
<pre><code class="plaintext hljs">repeat : Nat -&gt; Solfege -&gt; List Solfege<font></font>
repeat 0 s = [s]<font></font>
repeat n s = s :: repeat (n - 1) s<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Com esta defini√ß√£o, a repeti√ß√£o tripla de uma nota re √© uma express√£o que ser√° facilmente compreendida no campo musical. </font><font style="vertical-align: inherit;">Uma repeti√ß√£o tripla de uma nitidez acentuada √© um erro de verifica√ß√£o de tipo, porque a nitidez acentuada n√£o √© um valor de tipo </font></font><code>Solfege</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso nos d√° um certo tipo de seguran√ßa. </font><font style="vertical-align: inherit;">Nosso sistema nos permite evitar as notas erradas, mas ainda n√£o protege contra </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">combina√ß√µes</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> incorretas </font><i><font style="vertical-align: inherit;">de</font></i><font style="vertical-align: inherit;"> notas. </font><font style="vertical-align: inherit;">Se toc√°ssemos em D√≥ maior, n√£o tocar√≠amos F n√≠tido, mas poder√≠amos tocar C, depois pularemos para um septo grande em uma nota B, que √© proibida pelas regras de composi√ß√£o (tradicionais). </font><font style="vertical-align: inherit;">Essa verifica√ß√£o de tipo contextual √© poss√≠vel, mas requer uma abordagem mais complexa.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transi√ß√µes digitadas</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A biblioteca </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mezzo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Haskell </font><font style="vertical-align: inherit;">usa tipos relacionados para verificar a corre√ß√£o musical. </font><font style="vertical-align: inherit;">A descri√ß√£o diz que este √© um "teste muito estrito para a m√∫sica", a biblioteca pode verificar a conformidade com v√°rias regras de composi√ß√£o, e n√£o apenas a tonalidade. </font><font style="vertical-align: inherit;">No Mezzo, o c√≥digo a seguir √© compilado porque a melodia pre-re-mi-fa consiste nos intervalos permitidos:</font></font><br>
<br>
<pre><code class="plaintext hljs">comp = defScore $ start $ melody :| c :| d :| e :| f :&gt;&gt; g
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas se violarmos a regra que pro√≠be saltar de para para si, o Mezzo n√£o compilar√° esse c√≥digo:</font></font><br>
<br>
<pre><code class="plaintext hljs">comp = defScore $ start $ melody :| c :| b :| e :| f :&gt;&gt; g
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√â √≥timo que Mezzo at√© aponte um problema:</font></font><br>
<br>
<pre><code class="plaintext hljs">Major sevenths are not permitted in melody: C and B<font></font>
In the first argument of ‚Äò(:|)‚Äô, namely ‚Äòmelody :| c :| b‚Äô<font></font>
In the first argument of ‚Äò(:|)‚Äô, namely ‚Äòmelody :| c :| b :| e‚Äô<font></font>
In the first argument of ‚Äò(:&gt;&gt;)‚Äô, namely<font></font>
    ‚Äòmelody :| c :| b :| e :| f_‚Äô<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pode parecer que o sonho de apresentar m√∫sicas incorretas como erros de digita√ß√£o se tornou realidade. </font><font style="vertical-align: inherit;">Mas √†s vezes surgem situa√ß√µes embara√ßosas. </font><font style="vertical-align: inherit;">Quando o autor da biblioteca codificou o prel√∫dio de Chopin, verificou-se que em v√°rias ocasi√µes o compositor n√£o seguiu as regras tradicionais:</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O trabalho foi transcrito quase inteiramente, mas √†s vezes era necess√°rio pular algumas notas, porque criavam os intervalos proibidos que Mezzo apontava.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ pode perguntar quem se comprometeu a proibi-lo? </font><font style="vertical-align: inherit;">Se Chopin n√£o tem permiss√£o para falar sobre o que √© permitido na m√∫sica ocidental e o que n√£o √©, ent√£o quem √©? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O problema √© que, embora o Mezzo possa levar em considera√ß√£o o contexto, a estimativa de tipo continua sendo uma tarefa de escolha bin√°ria. </font><font style="vertical-align: inherit;">Todas as notas est√£o corretas e o trabalho √© compilado, se uma das notas est√° nocauteada e o trabalho n√£o √© compilado. </font><font style="vertical-align: inherit;">E, apesar do Mezzo permitir que voc√™ escolha regras de composi√ß√£o, a decis√£o de aplicar ou n√£o a regra √© global. </font><font style="vertical-align: inherit;">Se voc√™ desativar a regra porque alguma decis√£o musical viola o acordo usual, voc√™ cancelar√° a verifica√ß√£o de outras partes do trabalho.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Entropia digitada</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Uma maneira de quebrar ou burlar as regras de digita√ß√£o musical √© modelar as transi√ß√µes entre as notas em termos de similaridade, seguindo os conselhos de Huron. </font><font style="vertical-align: inherit;">Em vez de declarar uma transi√ß√£o espec√≠fica certa ou errada, voc√™ pode calcular a quantidade de entropia que reflete a surpresa do p√∫blico com as combina√ß√µes de notas emparelhadas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O c√≥digo a seguir est√° escrito na linguagem funcional de tipo dependente </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idris</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">No c√≥digo, verifica-se que a melodia correspondente √†s regras come√ßa com e termina com sal e que o caminho entre essas notas gera de 8 a 16 bits de entropia. </font><font style="vertical-align: inherit;">Primeiro, voc√™ precisa determinar o tipo </font></font><code>Melody</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que reflete nossa representa√ß√£o da melodia com uma certa semelhan√ßa ou magnitude de entropia. </font><font style="vertical-align: inherit;">Este tipo possui tr√™s construtores:</font></font><br>
<br>
<ul>
<li><code>Pure</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: Reflete a cria√ß√£o de uma melodia a partir de uma √∫nica nota, com um n√≠vel de entropia superior e inferior igual a zero.</font></font></li>
<li><code>(&gt;&gt;=)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: pega duas melodias e adiciona seus limites de entropia com o custo de alternar de uma nota no final da primeira melodia para uma nota no final da segunda.</font></font></li>
<li><code>Relax</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: pega uma melodia e expande seus limites de entropia.</font></font></li>
</ul><br>
<pre><code class="plaintext hljs">data Melody : (Solfege, Solfege) -&gt; (Nat, Nat) -&gt; Type where<font></font>
<font></font>
  Pure  : x -&gt; Melody (x, x) (0, 0)<font></font>
<font></font>
  (&gt;&gt;=) : Melody (w, x) (low, high) -&gt;<font></font>
          (() -&gt; Melody (y, z) (low2, high2)) -&gt;<font></font>
          Melody (w, z) (cost x y + low + low2, cost x y + high + high2)<font></font>
<font></font>
  Relax : Melody (x, y) (low + dl, high) -&gt;<font></font>
          Melody (x, y) (low, high + dh)<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Essa defini√ß√£o de tipo √© mais complicada, mas gra√ßas a ela, Idris pode compor uma melodia usando nota√ß√£o </font></font><code>do</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, e o compilador rastrear√° os limites da entropia para n√≥s. </font><font style="vertical-align: inherit;">Aqui est√° a melodia relevante com o baixo custo de todas as transi√ß√µes:</font></font><br>
<br>
<pre><code class="plaintext hljs">conventional : Melody (Do, So) (8, 16)<font></font>
conventional = Relax $ do<font></font>
  Pure Do<font></font>
  Pure Re<font></font>
  Pure Mi<font></font>
  Pure Fa<font></font>
  Pure So<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A m√∫sica a seguir n√£o est√° em conformidade com as regras, porque salta para um septo grande. </font><font style="vertical-align: inherit;">No Mezzo, isso ser√° proibido ou voc√™ precisar√° desativar completamente a regra. </font><font style="vertical-align: inherit;">Aqui, apenas expandimos os limites da complexidade da melodia para que ela caiba no intervalo de 8 a 24 bits de entropia:</font></font><br>
<br>
<pre><code class="plaintext hljs">unconventional : Melody (Do, So) (8, 24)<font></font>
unconventional = Relax $ do<font></font>
  Pure Do<font></font>
  Pure Ti<font></font>
  Pure Mi<font></font>
  Pure Fa<font></font>
  Pure So<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se, em vez disso </font></font><code>Melody (Do, So) (8, 24)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, atribu√≠ssemos um tipo que n√£o est√° em conformidade com as regras da melodia </font></font><code>Melody (Do, So) (8, 16)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ele n√£o seria compilado! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A novidade da abordagem √© que ela permite que voc√™ entenda quando a m√∫sica se torna muito chata. Se a entropia da melodia n√£o atingir o limite inferior, ser√° gerado um erro de tipo. Portanto, se voc√™ atribuir um tipo a uma melodia que esteja em conformidade com as regras, </font></font><code>Melody (Do, So) (16, 24)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ela tamb√©m n√£o ser√° compilada, porque sua entropia n√£o atinge o limite inferior. Isso nos inspira a acreditar na teoria de Huron, segundo a qual ser√° muito dif√≠cil para as pessoas ouvirem uma m√∫sica que √© muito incomum ou imprevis√≠vel.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No caso degenerado, as transi√ß√µes entre notas dentro da chave n√£o aumentam a entropia e as transi√ß√µes fora da chave d√£o um aumento arbitrariamente grande na entropia. </font><font style="vertical-align: inherit;">√â aconselh√°vel reverter para uma avalia√ß√£o bin√°ria, na qual cada nota ser√° considerada permitida ou proibida, sem status intermedi√°rio.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Importante, mas dif√≠cil de verificar</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A verifica√ß√£o de tipos de m√∫sica √© dif√≠cil, porque √© dif√≠cil determinar a corre√ß√£o da m√∫sica. Se n√£o podemos modelar matematicamente com precis√£o a defini√ß√£o de corre√ß√£o musical, n√£o podemos transferi-la para o sistema de tipos. Mesmo que possamos formalizar autenticamente nosso entendimento, precisaremos fazer um esfor√ßo e aplicar um poderoso sistema de tipos para que o compilador possa avaliar adequadamente a melodia. No entanto, isso √© poss√≠vel com alguma defini√ß√£o e algumas suposi√ß√µes simplificadoras. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso √© apenas curiosidade? Talvez. √â improv√°vel que a ind√∫stria da m√∫sica adote em breve um sistema de tipos para evitar erros de composi√ß√£o. Mas se o estudo da computa√ß√£o no campo da m√∫sica nos ajudar a avaliar diferentemente o que desempenha um papel t√£o importante na vida de quase todos n√≥s, ent√£o isso por si s√≥ justifica todos os esfor√ßos.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Talvez n√£o menos importante seja o fato de a m√∫sica ser apenas uma das √°reas em que a corre√ß√£o √© importante, mas dif√≠cil de verificar. </font><font style="vertical-align: inherit;">Quanto mais ativamente a esfera social e cultural √© automatizada com a ajuda da programa√ß√£o, mais frequentemente surgem situa√ß√µes em que √© dif√≠cil avaliar a resposta, que √© crucial para as pessoas. </font><font style="vertical-align: inherit;">Fa√ßa o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uso de um programa de computador que decida quanto tempo a pris√£o</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">A corre√ß√£o das senten√ßas impostas depende de trocas complexas entre custos e probabilidades, e se n√£o podemos rastrear a l√≥gica da tomada de decis√µes pelo sistema, como podemos avaliar a justi√ßa do resultado? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sempre que automatizamos processos de tomada de decis√£o opacos, precisamos nos perguntar: "Como sabemos que o sistema est√° funcionando corretamente?"</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt489992/index.html">Corrigir o desligamento do pod no cluster Kubernetes</a></li>
<li><a href="../pt489994/index.html">Dicas e truques do Kubernetes: recursos graciosos de tempo de execu√ß√£o de desligamento no NGINX e PHP-FPM</a></li>
<li><a href="../pt489998/index.html">11. Introdu√ß√£o ao Fortinet v6.0. Licenciamento</a></li>
<li><a href="../pt490002/index.html">Como fazer GraphQL no Kotlin e Micronaut e criar um √∫nico ponto de acesso √† API de v√°rios microsservi√ßos</a></li>
<li><a href="../pt490006/index.html">Programa educacional para especifica√ß√µes t√©cnicas</a></li>
<li><a href="../pt490012/index.html">Alerta-e erro-s de armazenamento, como lidar com eles?</a></li>
<li><a href="../pt490014/index.html">√Årvore JavaScript tremendo, como um profissional</a></li>
<li><a href="../pt490018/index.html">Como projetar aplicativos m√≥veis por um lado</a></li>
<li><a href="../pt490034/index.html">Meetup de ML REPA em Raffeisenbank: continue transmitindo</a></li>
<li><a href="../pt490040/index.html">Python-Aipo no Windows com o gerenciamento do Docker</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>