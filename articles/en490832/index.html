<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíô üç¶ üõ¥ Shoe marking: as we put into circulation 2 million marking codes ‚Äú1C‚Äù + ‚ÄúHonest Sign‚Äù üö∂ ‚óæÔ∏è üöë</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Earlier, we wrote about solving the problem of scanning and uploading to 1C . Now we will talk about the features of label printing, uploading to a Pr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Shoe marking: as we put into circulation 2 million marking codes ‚Äú1C‚Äù + ‚ÄúHonest Sign‚Äù</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/490832/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Earlier, we wrote about </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">solving the problem of scanning and uploading to 1C</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Now we will talk about the features of label printing, uploading to a Private Sign and putting into circulation. </font></font><br>
<br>
<img src="https://leonardo.osnova.io/ecfad8a6-6c66-b794-83ed-07eb0e59b412/-/resize/1200/" alt="Entering codes honest sign shoes, CSV, 1C prof-it.ru"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">From March 1, you can only sell labeled shoes</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , while the law on the postponement of time is pending and that only applies to wholesalers.</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To begin with, both honest Znak and 1C work rather poorly with large amounts of data, we needed to print and put into circulation about 2 million codes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We will not go into technical features, but we will tell you the main problems that you encountered when entering into circulation a large number of codes and how we solved them, alas, standard 1C tools do not allow you to quickly and conveniently, but by and large do not allow :) to put into circulation a large number of codes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After receiving the codes from the ChZ, we only need to print and put into circulation. We divided this work into 3 stages and hope that we have found the optimal solution. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1) Processing of codes and preparation for printing.</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Of all the codes received, we form one continuous array, after which, according to a predetermined number, we recommend 970 (since there are a little less than 1000 labels in coils for printing + about 10 defective ones, in thermal glue) we divide into files with a unique serial number. </font></font><br>
<br>
<img src="https://leonardo.osnova.io/d7cc5426-866f-253b-9628-407c4dda6296/" alt="marking shoes, CSV, 1C"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2) Printing codes. </font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Processing for printing works with the clipboard directly, unloads all CSV files from the source folder, forms a table with 3 values.</font></font><br>
<br>
<img src="https://leonardo.osnova.io/05fb0580-72f0-e49f-1733-2896b8136a62/" alt="CSV, 1C, shoe marking"><br>
<br>
<ol>
<li><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Human readable marking code value</font></font></u></li>
<li><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The marking code without a ‚Äúcrypto-tail‚Äù</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (if the marking code is corrupted so that you can visually evaluate it, find the code and write it off)</font></font></li>
<li><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The hash encoded base 64 line with the marking code</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , in this form is transmitted and decrypted.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It is extremely inconvenient to use the standard printing form for these purposes, for a long time, therefore it is impossible. </font><font style="vertical-align: inherit;">I had to create an additional form for printing ... </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In which we created a layout with specific parameters</font></font></i><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the marking code without a ‚Äúcrypto-tail‚Äù (since it cannot be recognized with a crypto-tail 1C) is automatically displayed in the layout,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ChZ logo,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">name of organization etc.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Logo of the ‚ÄúHonest Sign‚Äù, company, name, etc. can be set arbitrarily. </font></font><br>
<br>
<img src="https://leonardo.osnova.io/79bec03e-b115-4314-968e-bcf0935763e1/-/resize/600/" alt="label printing, honest sign, 1C, processing 1C"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Since it </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">is impossible to print in command mode through processing</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , the code for printing forms a printed form, removes lines from the visual table field and transfers it to the tab in the text field - ‚Äúforehead print‚Äù, so that you can visually evaluate it. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Formed layouts that are sent to print after each file is printed - it is loaded into the CSV folder files, which contain all actually printed codes. CSV data is not tied to the original files, which allows you to track whether all codes have been printed. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We also added a control break</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Manually, you can interrupt the operation and clear all the logs, while the coincidence of the source files is controlled.</font></font><br>
<br>
<img src="https://leonardo.osnova.io/5144ea2c-65d2-caa8-f1bb-7a554ac86af4/" alt="Entering codes honest sign shoes, CSV, 1C prof-it.ru pskov"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The service offers us to download 678 codes, despite the fact that each download takes a long time and moreover, it always writes that it is successful, but sometimes it needs to be downloaded several times ... We do the upload via the API ChZ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Again, I had to write a processing that allows us to form 1 CSV array from the source CSV, select the first group to the ‚Äúgroup separator‚Äù and generate XML from them for sending to the emergency. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 1C starts to ‚Äúslow down‚Äù when you read a text document in the form of text and iterate over the lines by index, so I had to ‚Äúwrite a revision‚Äù which allows you to quickly iterate over the indices through the ‚ÄúSTR-split‚Äù function, which allows you to reduce tens of times by enumeration.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Applying this set of improvements, we were able to avoid a huge number of errors, inconveniences when downloading and printing large volumes of codes.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en490822/index.html">The best materials for hacking cars with DEF CON 2019-2020</a></li>
<li><a href="../en490824/index.html">PostgreSQL index health through the eyes of a Java developer</a></li>
<li><a href="../en490826/index.html">The source of production efficiency</a></li>
<li><a href="../en490828/index.html">Creating roguelike in Unity from scratch</a></li>
<li><a href="../en490830/index.html">Password Management in Zimbra Collaboration Suite Open-Source Edition</a></li>
<li><a href="../en490836/index.html">How to open comments and not drown in spam</a></li>
<li><a href="../en490838/index.html">WiFi 6 is here: what the market offers and why do we need this technology</a></li>
<li><a href="../en490840/index.html">Resource Planning. Part 4.1. Before you make a resource plan</a></li>
<li><a href="../en490842/index.html">GPT-2 in pictures (visualization of Transformer language models)</a></li>
<li><a href="../en490844/index.html">Book ‚ÄúKubernetes Patterns: Native Cloud Application Development Patterns‚Äù</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>