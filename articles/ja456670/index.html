<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏼‍🤝‍👨🏻 🔈 🗾 超スパイ認証方式について 👩 💇🏼 🤛🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="そこで、スーパーシークレットエージェントのアリスとボブを敵国の秘密捜査に送ります。ミッションの間、彼らは連絡を取り合い、協力し、情報を交換し、通常のスパイ活動を行わなければなりません。もちろん、これはすべて、可能なすべてのルールと安全手順に従って行われなければなりません。
 

確かに、最後のターン...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>超スパイ認証方式について</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/456670/"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">そこで、スーパーシークレットエージェントのアリスとボブを敵国の秘密捜査に送ります。</font><font style="vertical-align: inherit;">ミッションの間、彼らは連絡を取り合い、協力し、情報を交換し、通常のスパイ活動を行わなければなりません。</font><font style="vertical-align: inherit;">もちろん、これはすべて、可能なすべてのルールと安全手順に従って行われなければなりません。</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">確かに、最後のターンで、私たちはそれらを明らかにしたいと思います。ミッション自体とエージェント自体の両方、そしてすべての国家安全保障が危険にさらされています。</font><font style="vertical-align: inherit;">したがって、スパイに必要最小限の情報を提供することは私たちの利益になります。</font><font style="vertical-align: inherit;">特に、彼らがお互いやコミュニケーション技術についてあまり知らないほど、より良いです。</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">しかし、彼らはどうやって彼らの本部同志を識別するのでしょうか？</font></font></p><br>
<p><img src="https://habrastorage.org/getpro/habr/post_images/ceb/454/721/ceb4547217be4972a9e5f8fe323cf257.gif" alt="KDPV"></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TL; DR-実在しない国の架空の3文字の代理店のために、ステガノグラフィーを使用したユーザー認証メカニズムを発明しました。</font></font></p><a name="habracut"></a><br>
<h2 id="o-volkah-i-ovechih-shkurah"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オオカミと羊の皮について</font></font></h2><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表紙は表紙なので、アリスもボブも彼らの行動によって疑惑を抱かせるべきではありません。</font><font style="vertical-align: inherit;">適切な計画には、すべての可能なレベルでのそれらの継続的な監視に関する妄想が含まれます。</font><font style="vertical-align: inherit;">この投稿では、情報を直接交換するタスク（独自のシリーズに値する）は扱いませんが、必要な人から必要な人に情報が送信されるようにする方法のみを取り上げます。</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最も可能性が高いのは、両方のスパイが一般市民の形式で歴史を持っていることです。</font><font style="vertical-align: inherit;">したがって、すぐに従来の暗号化ツールと安全なチャネルの使用を拒否する必要があります。各諜報活動エージェントは、密接な接続を持たない正直な人々には隠すべきものがないことを知っています。</font></font></p><br>
<h2 id="chto-delat"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">何をすべきか？</font></font></h2><br>
<p>,    ,           .   ,  ,             ,   .</p><br>
<p>     :              .      ,    ,       "Top Secret"     .</p><br>
<p>     —       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a>,   -     .    ,            ,      ,  ,   ,  . </p><br>
<p><img src="https://habrastorage.org/webt/pl/pe/sh/plpeshe7ifcmijrxlaziosekgey.png"></p><br>
<p>,    ,    . ,  ,       -     ,     .        ,         - .</p><br>
<p><img src="https://habrastorage.org/getpro/habr/post_images/984/c5d/c5d/984c5dc5dae5cba450b58907693ceed6.png"></p><br>
<h2 id="steganografiya-opyat"> (?)</h2><br>
<p> ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">    </a>       .    ,       —            .</p><br>
<p>     ,             .         ,  -  PGP-,    .</p><br>
<h3 id="a-o-chem-togda">   ?</h3><br>
<p>   ,     —  .  , ,   .        <strong></strong>          -,       .</p><br>
<p>   ,            :</p><br>
<ul>
<li> -&gt; :        ;</li>
<li>:   <em>C</em>,     ; </li>
<li>:     <em>M</em>;</li>
<li> -&gt; : <em>C' = Embed(C, M, K)</em>;</li>
<li>:  <em>C'</em>    ;</li>
<li> -&gt; : <em>M' = Extract(C', K)</em>;</li>
<li>: ,   <em>M</em>  <em>M'</em>.</li>
</ul><br>
<p>     —        ,      .                  ,    .  - .</p><br>
<h2 id="ispolnitel-ne-cherepashka">  </h2><br>
<p>        ,           ,   .                 .          .</p><br>
<p><img src="https://habrastorage.org/webt/nc/lo/lo/nclolotljunb2zzbkgr2-4qo0ri.png" alt="えっと、かわいくないですか？"></p><br>
<p>                ,      .      -  ,                     .</p><br>
<p>  ,               .    ,  .</p><br>
<p>       : <em>(f1, S1, i, D1), (f2, S2, j, D2)...</em>, :</p><br>
<ul>
<li><em>Di</em> —    ;</li>
<li><em>i, j</em> —   ;</li>
<li><em>fi: (State, Element, D) -&gt; (State, Element)</em> —  ;</li>
<li><em>Si</em> —  ,  , <em>(El', S[i+1]) = fi(Si, El, Di)</em>.</li>
</ul><br>
<p>       (..),   : <em>(g1, S1, I1), (g2, S2, I2)...</em>   ,  <em>gi: (State, Element) -&gt; (State, D)</em>.</p><br>
<p>      .   -      ,   ,   .</p><br>
<p><img src="https://habrastorage.org/webt/l7/yk/pk/l7ykpkwfi8sfkcebwxryswzo1r0.png" alt="まあまたはもう"></p><br>
<p>,        .     ,   ,          —    . , , , -           :</p><br>
<ol>
<li>            (       )        .                        ;</li>
<li>         ,         .                .         .   ,         ,       .</li>
</ol><br>
<p>     ,      ,        .    ,   .</p><br>
<h2 id="i-zachem-ono-nam">   ?</h2><br>
<p>,   ,         ,                   .  ,   , ,    .</p><br>
<h3 id="dobavlyaem-asimmetrichnost"> </h3><br>
<p>        ,       .  ,                . </p><br>
<p> ,     ,   ,   ,  ,     .  ,   ,           .     , .</p><br>
<p>  ,            ,    , , :    <em>N</em>    <em>N!</em>    —       .    <em>N</em>    .       —         ,      .</p><br>
<p>         (        ),     ,          .         ,   , ,     ,    .    .</p><br>
<p>   ?   ,         .      —     .</p><br>
<h3 id="ekspluatiruem"></h3><br>
<p>   -      —          , : </p><br>
<ul>
<li>     </li>
<li>      </li>
<li>          ?</li>
</ul><br>
<p>     ,           ,   .       .         <em>Embed</em>  <em>Extract</em>,      . ,   ,       .</p><br>
<p>   <strong>  </strong>       :</p><br>
<ul>
<li>:       K,    :<br>
<ul>
<li>  <em>Ex</em>;</li>
<li>    ()  <em>Ctx</em>;</li>
</ul></li>
<li> -&gt; : <em>Ctx, Ex</em>;</li>
<li>:  <em>Ex</em>   , :<br>
<ul>
<li>       <em>M</em>    <em>|Ex|</em>;</li>
<li>  <em>Em</em>,      ;</li>
</ul></li>
<li> -&gt; : <em>Em, h(M)</em>,     .</li>
</ul><br>
<p> ,              ,           ,  .</p><br>
<p>   <strong>  </strong>  :</p><br>
<ul>
<li> -&gt; :   <em>IM</em>    <em>Ctx</em>   ;</li>
<li>:   <em>C ~ IM</em>;</li>
<li> -&gt; : <em>C' = Em( C )</em>;</li>
<li>:    <em>C' ~ IM</em> (   ,  );</li>
<li> -&gt; : <em>M' = Ex( C' )</em>,  M'  ;</li>
<li>: , <em>h(M') == h(M)</em>,  <em>Em, h(M)</em>.</li>
</ul><br>
<p>  ,      ,      ,          ,    ,      " ".</p><br>
<p>      ,     .     <em>M</em> ( ,    <em>Em</em>)    ,     "" — .</p><br>
<p>        ,              ,        .  ,  ,  .</p><br>
<p><img src="https://habrastorage.org/webt/bv/6v/0h/bv6v0hcim8kmzndrvn5__thsp1y.png"></p><br>
<p>,          . -   ?</p><br>
<p>    ,            ,      .     ,     .</p><br>
<h2 id="vysokie-tehnologii"> </h2><br>
<p>,        .       (   ).      … <em>  </em>… ?   ,    STL' ,    .</p><br>
<p>   API.                 :</p><br>
<pre><code class="java hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyContainer</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">StegoContainer</span>&lt;<span class="hljs-title">MyElement</span>&gt; </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> MyElement <span class="hljs-title">get</span><span class="hljs-params">(<span class="hljs-keyword">int</span> i)</span> </span>{
        <span class="hljs-comment">//  i- </span><font></font>
    }<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">set</span><span class="hljs-params">(<span class="hljs-keyword">int</span> i, MyElement v)</span> </span>{
        <span class="hljs-comment">//  i- </span><font></font>
    }<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">size</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-comment">//   </span><font></font>
    }<font></font>
}</code></pre><br>
<p>                   :</p><br>
<pre><code class="java hljs">StegoMachine&lt;MyState, MyElement&gt; myMachine = <span class="hljs-keyword">new</span> StegoMachine(<font></font>
    initialState, <span class="hljs-keyword">new</span> MyContainer&lt;MyElement&gt;(<span class="hljs-comment">/*   */</span>)<font></font>
);<font></font>
<span class="hljs-keyword">final</span> StegoEmbed myEmbed = (st, el, dp) -&gt; {
    <span class="hljs-comment">//    dp   el   st</span><font></font>
};<font></font>
<span class="hljs-keyword">final</span> StegoExtract myExtract = (st, el) -&gt; {
   <span class="hljs-comment">//     el   st</span>
    <span class="hljs-keyword">return</span> dp;<font></font>
};<font></font>
<font></font>
<span class="hljs-comment">//   </span>
MyDataPart part = <span class="hljs-comment">/*    */</span>;<font></font>
myMachine.exec(<span class="hljs-number">1337</span>, myEmbed, part);
<span class="hljs-comment">//...</span><font></font>
<font></font>
<span class="hljs-comment">//    /,  </span>
<span class="hljs-comment">//     </span><font></font>
State currState = myMachine.getState();<font></font>
<span class="hljs-comment">//...</span><font></font>
<font></font>
<span class="hljs-comment">//   </span>
part = myMachine.exec(<span class="hljs-number">80085</span>, myExtract);
<span class="hljs-comment">//...</span><font></font>
<font></font>
<span class="hljs-comment">//       </span>
MyContainer container = (MyContainer) myMachine.getContainer();</code></pre><br>
<p>      Stateless,  ,         .</p><br>
<p>          API.          ,         .</p><br>
<h3 id="primer-realizacii"> </h3><br>
<h4 id="o-metode"> </h4><br>
<p>   ,           LSB       .    ,         RGB.                  (   ).</p><br>
<p> ,      ,          ,          .   ,   <em>SecureRandom</em>,          .</p><br>
<p><em>  ,    ,      .</em></p><br>
<h4 id="o-heshah"> </h4><br>
<p>            (   ,      ,   ),        sha256,     ,    :</p><br>
<pre><code class="plaintext hljs">h("Hello world?...") == h("hello, world!11")</code></pre><br>
<h4 id="ob-interfeyse"> </h4><br>
<p>      —         ,          .</p><br>
<p>            -,     (  ). -    ,   —   - .     —     .</p><br>
<div class="spoiler"><b class="spoiler_title">   </b><div class="spoiler_text"><p><img src="https://habrastorage.org/webt/yx/1m/ge/yx1mge8ligshzbsv7hxi3olw__g.png" alt=" usage"></p><br>
</div></div><br>
<h3 id="chto-im-vsem-delat-to">   -?</h3><br>
<p> ,       .  ,   ,     . </p><br>
<p>,    ,  ,   —  .          /  / - .</p><br>
<p>         .      <em>M.txt</em>,     : "     ".  <em>Em</em>  <em>Ex</em>     :</p><br>
<pre><code class="bash hljs">Trent@HQWorkstation:~$ java -jar HQUtil.jar -ex $(<span class="hljs-built_in">stat</span> -c%s <span class="hljs-string">"M.txt"</span>) 4096  &gt; Ex.txt<font></font>
Trent@HQWorkstation:~$ cat Ex.txt | java -jar HQUtil.jar -em <span class="hljs-string">"<span class="hljs-subst">$(cat M.txt)</span>"</span> 0.25 4096 &gt; Em.txt<font></font>
Trent@HQWorkstation:~$ cat M.txt | java -jar HQUtil.jar -h &gt; hash.bin</code></pre><br>
<p> <code>$(stat -c%s "M.txt")</code>     ,  4096 —      (    ). , <code>$(cat M.txt)</code>         .  ,     ,    ,    .</p><br>
<p><em>Ex.txt</em>  , <em>Em.txt</em>  <em>hash.bin</em> — .  ,           —    .         - ,    :</p><br>
<pre><code class="plaintext hljs">: ,     %_%<font></font>
:        ,   .  ?<font></font>
: ,   </code></pre><br>
<p>   ,     ,   ,   /   (     )  :</p><br>
<pre><code class="bash hljs">Bob@PC:~$ cat Em.txt | java -jar SpyUtil.jar -e umbrella.png</code></pre><br>
<p>  ,  ,      ,     , ,  :</p><br>
<pre><code class="plaintext hljs">: ,  ,     </code></pre><br>
<div class="spoiler"><b class="spoiler_title">   , 670</b><div class="spoiler_text"><p><img src="https://habrastorage.org/webt/qw/nk/in/qwnkinuhpppynf6ve9gkrmpnehm.png"></p></div></div><br>
<p>,   ,    :</p><br>
<pre><code class="bash hljs">Alice@PC:~$ cat Ex.txt | java -jar SpyUtil.jar -e umbrella.png<font></font>
     </code></pre><br>
<p>         : </p><br>
<pre><code class="plaintext hljs">: ,  ,   ?
</code></pre><br>
<p>   :</p><br>
<pre><code class="java hljs">Bob<span class="hljs-meta">@PC</span>:~$ java -jar SpyUtil.jar -c hash.bin <span class="hljs-string">",  ,   ?"</span><font></font>
,  ,   ? - Correct<font></font>
</code></pre><br>
<p>   ,   .       - :</p><br>
<div class="spoiler"><b class="spoiler_title">  500 </b><div class="spoiler_text"><p><img src="https://habrastorage.org/webt/ff/ye/he/ffyeheonv4qo9dxdjygalg8kvtq.gif"></p></div></div><br>
<p> ,    -      .   ,            —   -  5   , ,   .      ,     .    , .</p><br>
<p>-&gt; <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">GitHub</a></p></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja456658/index.html">成長：チームでのスキルの評価方法</a></li>
<li><a href="../ja456662/index.html">テスト駆動開発を使用して心理療法士にお金を節約する方法</a></li>
<li><a href="../ja456664/index.html">ロボットがあなたのお金を失ったときに誰を訴えるか</a></li>
<li><a href="../ja456666/index.html">WebTotemまたはインターネットをより安全にしたい方法</a></li>
<li><a href="../ja456668/index.html">Microsoft ML Spark：SparkMLをより人道的にするSpark拡張機能とボーナスとしてLightGBM</a></li>
<li><a href="../ja456672/index.html">Nginxレシピ：PostgreSQLからWebSocketへの非同期通知</a></li>
<li><a href="../ja456674/index.html">あなたが知らなかったFacebookでのプロモーションの新しい機会</a></li>
<li><a href="../ja456676/index.html">分散PHPアプリケーションへのログイン</a></li>
<li><a href="../ja456678/index.html">未来の電子状態。パート4</a></li>
<li><a href="../ja456680/index.html">UXデザインにおける8つの命名法（パート2）</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>