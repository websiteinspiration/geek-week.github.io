<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë≤üèø üê• üëõ Sorbet: Ergonomische Gaming-Tastatur üè´ üåÑ üöî</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="√úbersetzung eines Artikels aus dem Billiam Do- it - yourself- Blog
 
 Einige Zeit, nachdem mein Logitech G13 nicht mehr produziert wurde, brach er mit...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Sorbet: Ergonomische Gaming-Tastatur</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/491742/"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√úbersetzung eines Artikels aus dem </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Billiam</font></font></a></i><font style="vertical-align: inherit;"><i><font style="vertical-align: inherit;"> Do- </font></i><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">it</font></a></i><i><font style="vertical-align: inherit;"> - </font></i><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">yourself-</font></a></i><i><font style="vertical-align: inherit;"> Blog</font></i></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Einige Zeit, nachdem mein Logitech G13 nicht mehr produziert wurde, brach er mit mir zusammen und ich beschloss, einen Ersatz daf√ºr zu entwickeln, den Sherbet nannte. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zuerst - was ist passiert: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/5fe/9be/905/5fe9be90508fd2dc4fca7ae27a53485c.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tastatur mit Joystick.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Dateien und Montageanleitungen </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">drucken</font></a><font style="vertical-align: inherit;"> : </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.prusaprinters.org/prints/5072-sherbet-gaming-keypad</font></font></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Design</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich wollte einen analogen Daumen-Joystick wie den G13 herstellen und entschied mich, einige ergonomische Verbesserungen anderer Tastaturen in das Projekt aufzunehmen - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dactyl-Tastatur</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dactyl-Manuform</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kinesis Advantage</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ergodox</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Insbesondere - die Verschiebung der Tasten von der Vertikalen, die Verschiebung der H√∂he, die Kr√ºmmung der S√§ulen und eine bequemere Neigung.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe Tastaturschalter mit niedriger Geschwindigkeit (lineare NovelKeys Kailh Chocs) gew√§hlt, um die H√∂he der Tastatur zu verringern - insbesondere, weil mein Schreibtisch h√∂her ist, als Sie f√ºr ein komfortables Tastaturset ben√∂tigen, und sich darunter ein gro√ües Regal befindet. Zwischen dem Regal und der Tischplatte verbleiben ca. 10 cm, sowohl f√ºr die Tastatur als auch f√ºr den Pinsel. Wenn Sie keine Probleme mit dem Ort haben, empfehle ich einen kompatibleren Schalter - dann werden Sie keine Probleme mit der Auswahl der Tasten daf√ºr haben. Ich empfehle auch, mit Dactyl oder Dactyl-Manuform zu beginnen, da dieses Projekt viel mehr Zeit und M√ºhe gekostet hat, als ich erwartet h√§tte.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich begann damit, Schl√ºssel basierend auf Kailhs Spezifikationen f√ºr die Schalter zu modellieren, bevor sie √ºberhaupt zu mir kamen. Dann versuchte ich, eine geeignete Spaltenkr√ºmmung zu finden, druckte einige Testversionen und druckte dann einige weitere, um die vertikale Einkerbung zu √ºberpr√ºfen. Das habe ich bekommen: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/a9c/aca/4f7/a9caca4f772cdeb5d31b65295d4292fa.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Auswahl der Biegeradien Lautsprecherauswahllayout </font></font></i><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/53a/e4c/cb6/53ae4ccb6f44518c645658e3f0178c8e.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und Spaltenh√∂he </font></font></i><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/9a6/390/d28/9a6390d2852d97f1ccfcbb4ba324395d.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Designtasten, eine Ansicht der ¬æ- </font></font></i><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/3b7/8d1/9dd/3b78d19dd6d244f1203571677d9fc8ec.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansicht von oben, man kann einen Schaltlautsprecher sehen Vorderansicht </font></font></i><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/157/383/62b/15738362be99cba91001aa60f72428ef.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, gesehenes</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Schema f√ºr die </font><i><font style="vertical-align: inherit;">H√∂he der ausgebreiteten Spalten</font></i><font style="vertical-align: inherit;"> , ich begann mit dem Entwerfen von Steckverbindern f√ºr Schalter, deren Erfolg erfolgreich sein muss Haupttr√§gerplatte. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/3c2/43b/7de/3c243b7deb0904664f2a1f88d248bb44.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schl√ºsselplattenmodell </font></font></i><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/41a/674/94c/41a67494c3724c0b5fe4c63ff33ff6e8.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zuerst nach dem Entfernen und Reinigen der St√ºtzen drucken. </font></font></i><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/c16/a71/6ca/c16a716ca177c4bd116bfdc04a1378ce.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Platte mit Schaltern. </font></font></i><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/567/0b3/37a/5670b337a8e3d762decae74de75c30a8.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nach dem Hinzuf√ºgen von Schl√ºsseln</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich nahm verschiedene Winkel der Tastatur auf und blieb in einem Winkel von etwa 20 Grad stehen. </font><font style="vertical-align: inherit;">Und dies wurde erneut gemacht, so dass es einen Platz √ºber der Tastatur gab. </font><font style="vertical-align: inherit;">Es w√§re bequemer, den Winkel etwas gr√∂√üer zu machen, aber es ist immer noch bequemer als das flache G13 und meine aktuelle ergonomische Tastatur. </font><font style="vertical-align: inherit;">In Fusion 360 habe ich den Neigungswinkel so ge√§ndert, dass sich der Rest des Projekts daran anpasst. </font><font style="vertical-align: inherit;">Nach der Komplikation des Projekts konnte dieser Parameter nicht mehr konfiguriert werden, ohne andere zu besch√§digen. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/0bc/59f/d91/0bc59fd91d64431fcfe883f20090274e.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gedruckte Tr√§gerplatte zur Neigungsauswahl</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">B√ºrstenst√§nder</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dann fing ich an, am B√ºrstenst√§nder zu arbeiten. Ich brauchte einen bequemen St√§nder, der zu meiner Hand passte, und ich wollte eine Form daf√ºr machen. Ich habe einen Ton-Ton-St√§nder hergestellt, dann mit </font><font style="vertical-align: inherit;">dem </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">photogrammetrischen </font></font></a><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Meshroom-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Paket </font><font style="vertical-align: inherit;">(und einer Reihe von Fotos) ein 3D-Modell erstellt und es dann so skaliert, dass seine Gr√∂√üe dem Original entspricht. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/032/b1a/914/032b1a914fff07c3cf4b62f0659cf938.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grobe Ann√§herung an den Stand mit </font></font></i><font style="vertical-align: inherit;"><i><font style="vertical-align: inherit;">Fimo </font></i><i><font style="vertical-align: inherit;">. </font></i></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/716/b1d/dc2/716b1ddc2138be5c425d37a68737e0b8.gif"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Viele Fotos. Rahmen </font></font></i><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/06b/912/6ee/06b9126eef78fe036679db727e99b980.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">des St√§nders mit Texturen aus Meshroom. </font></font></i><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/3ef/387/5fc/3ef3875fc3cdf50aa014b7fdd399c620.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das in Fusion 360 importierte Modell.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Dann ging ich einfach die Hauptkonturen des Modells entlang, gl√§ttete es und erhielt den gew√ºnschten Druck: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/d91/201/053/d91201053695fca1c28db81484dcfb7c.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein gescanntes Modell mit einem √ºberlagerten 3D- </font></font></i><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/804/f86/1f4/804f861f4c44c87139755fbbb61b467b.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modell aus Fimo daneben mit einer gegl√§tteten und gedruckten Version</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es war interessant, dies zu tun, und das Ergebnis war praktisch, aber dann stellte ich fest, dass all diese Biegungen beim Drucken verhindern, dass sich die Hand bewegt, sodass die sp√§teren Versionen alle flach sind. </font><font style="vertical-align: inherit;">Gut‚Ä¶</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Geh√§use</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dann fing ich an, am allgemeinen Fall des Ger√§ts zu arbeiten, und dies stellte sich als die schwierigste Phase von allen heraus. Ich arbeite immer noch unsicher im CAD und habe noch nie etwas so Kompliziertes getan. Versuche, Wege zu finden, um die zusammengesetzten Kurven zu beschreiben und die beiden Oberfl√§chen zu verbinden, erwiesen sich als sehr schwierig und dauerten in diesem Projekt die meiste Zeit. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/426/8c4/605/4268c460505c8418b5dc6f2714ce5133.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein Computermodell des Geh√§uses zusammen mit einem Arduino-Joystick und Daumentasten.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ich fand auch f√ºr mich eine bequemere </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Umgebung zum Rendern</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , wodurch die Bilder besser wurden. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/377/416/165/377416165dba6fe31639706e58668f04.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√úberarbeitetes Computergeh√§usemodell </font></font></i><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/f67/d02/6b0/f67d026b0f028c20643d02ed2e2a1a16.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Computergeh√§usemodell, Ansicht in,</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe nur den Daumenbereich gedruckt, um die Bequemlichkeit und Position zu √ºberpr√ºfen. Alles stellte sich als normal heraus, aber das Joystick-Modul war zu volumin√∂s, um genau dort platziert zu werden, wo es aus ergonomischer Sicht am besten w√§re. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/a90/bcc/af5/a90bccaf58b1ee665453369a43c5055e.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein gedruckter Joystick mit Tasten.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Stattdessen habe ich einen viel kleineren Joy-Con-Controller f√ºr den Nintendo Switch von einem Dritthersteller gekauft, der viel n√§her an den Tasten platziert werden kann und noch Platz f√ºr Verbindungen bietet. Es wird an ein (weniger praktisches) Flachkabel mit 5 Dr√§hten von 0,5 mm angeschlossen. Ich habe die Schnittstellenkarte f√ºr 6 Kontakte bei Amazon genommen, aber es ist viel billiger, sie von eBay oder AliExpress zu nehmen. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/d60/e9b/a5d/d60e9ba5d34936b32a772cde4c56bf14.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vergleich von </font></font></i><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/683/ee0/069/683ee00692c1faa16648961a4fa2d27a.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Joysticks mit Joy-Con Joystick mit Schaltern</font></font></i><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/b65/d3a/b40/b65d3ab402644fb0b669ffaee067a341.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modifiziertes Geh√§use f√ºr einen kleinen Joystick</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Nachdem ich mit einer Schale fertig war, f√ºgte ich Unterst√ºtzung f√ºr elektronische Komponenten hinzu. </font><font style="vertical-align: inherit;">F√ºr den Joystick musste eine kleine Schutzplatte hergestellt werden, die an der Seite des Geh√§uses angeschraubt war. </font><font style="vertical-align: inherit;">F√ºr den </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Teensy-Mikrocontroller habe</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ich einen Halter hergestellt, in den er einfach fest </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">sitzt</font></a><font style="vertical-align: inherit;"> , und Schrauben daf√ºr. </font><font style="vertical-align: inherit;">Zus√§tzlicher Platz f√ºr Kunststoffklammern und 4 mm L√∂cher zum Befestigen des St√§nders f√ºr die B√ºrste. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich verwende auch die Micro-USB-Schnittstelle f√ºr den Haupt-USB-Controller, damit sich der Mikrocontroller nicht abnutzt und besch√§digt wird. </font><font style="vertical-align: inherit;">
Ich denke, das </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/65d/36b/fc3/65d36bfc3323afd5c75ca7322bf624fd.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Innere des Falles</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> hat w√§hrend der gesamten Entwurfsphase insgesamt einen Monat gedauert. </font><font style="vertical-align: inherit;">Ich werde nicht versuchen, die Anzahl der Stunden zu erraten, die daf√ºr aufgewendet wurden - sagen wir, es gab "viele von ihnen".</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Drucken</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem ich so viel Zeit mit Entwerfen und Testen verbracht hatte, schien mir der endg√ºltige Druck des Projekts langweilig und ohne Zwischenf√§lle zu sein. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/61b/4dd/aee/61b4ddaee9f35360c5138142a9ed4f84.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das Drucken mit einer Aufl√∂sung von 0,2 mm auf Maker Select Plus dauerte 15 Stunden. </font></font></i><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/16e/ab0/459/16eab0459d1192864fbae29e6c08781b.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nachbearbeitung: Entfernen von Backups und Reinigen. </font><font style="vertical-align: inherit;">Der Schaden erwies sich als gering. </font></font></i><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/745/6b1/a4d/7456b1a4d8d987a557735a4ef6d673c9.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der obere Teil des Geh√§uses mit installierter Elektronik.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ich habe auch die Abdeckung mit wei√üem Kunststoff bedruckt und eine Korkbeschichtung darauf geklebt. </font><font style="vertical-align: inherit;">Um die Abdeckung mit dem Geh√§use zu verbinden, verwende ich M3-Schrauben und eine mit Gewinde versehene Gegenh√ºlse </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, die durch Erhitzen in den Kunststoff eingef√ºhrt wird</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/de4/ae5/d59/de4ae5d592abc9997a2fcfb993ab7f30.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rutschfeste Korkabdeckung</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gem√§lde</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
W√§hrend des Entwurfs ging ich mehrere Farbl√∂sungen durch und entschied mich schlie√ülich f√ºr eine √§hnliche. Es gibt nicht viele Farboptionen, da die Tasten nur schwarzwei√ü sind. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/994/fa8/55f/994fa855fc81963bdb1860cf0b3dc07c.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Farbprojekt</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
F√ºr das endg√ºltige Finish habe ich das Teil zuerst mit 220er Schleifpapier geschliffen, um die Streifen von den Schichten und anderen Problemen zu gl√§tten, und dann alles mit einer Grundierung bedeckt. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/2f2/946/923/2f2946923720feca63e29f332dc791ac.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die erste Erdschicht</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Nach der Grundierung habe ich Kitt von Bondo verwendet, das Teil (Schleifpapier 220 und 600) geschliffen, dann wieder mit Grundierung, Kitt bedeckt und erneut geschliffen. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/862/66a/807/86266a807a16d878d64564d5a2d41637.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nach zwei Durchg√§ngen mit Grundierung und Kitt und hartem Schleifen. </font></font></i><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/b4a/921/1eb/b4a9211ebb575abda6789040fbac84a2.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eine weitere Schicht mit wei√üer Grundierung</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
machte ich einen Streifen mit einer d√ºnnen Vinylfolie und bedeckte diese Stelle dann mit rosa Farbe aus einer Spritzpistole. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/b93/623/387/b936233872bdce5af77c8a9e3756104f.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Geh√§use- und Farbreste</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nach dem Lackieren habe ich das Teil mit 4-5 Schichten gl√§nzender Beschichtung beschichtet und es dann mit 1200er K√∂rnung geschliffen, um Staub, Flusen und Insekten zu entfernen, und dann erneut lackiert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es sieht gut aus, aber die Rauheit und Flecken von √ºbersch√ºssigem Lack sind sichtbar. </font><font style="vertical-align: inherit;">Ich habe die schlechtesten Stellen ein wenig mit Sandpapier 1200 poliert und dann mit einer speziellen Mischung poliert. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/344/295/c12/344295c1290a422d2ae4ac78b9ed67c8.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nach dem Schleifen und Polieren</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Versammlung</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich machte Pickel zur blinden Orientierung, indem ich 1,5 mm Keramikkugeln aus den Lagern in die Tasten dr√ºckte. Das Foto zeigt ein zu gro√ües und ein zu kleines Loch, in das ich den Ball gedr√ºckt habe (ohne Kleber). Ich wei√ü nicht, es w√§re besser, es mit Klebstoff in ein gro√ües Loch einzuf√ºhren, als den Kunststoff durch Dr√ºcken des Balls dorthin zu verformen. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/74a/f15/8a0/74af158a097bd1b6a8cc2a0afa972d0e.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als ich alle Aufgaben ersch√∂pft hatte, die mir helfen w√ºrden, den Aufschub weiter zu bew√§ltigen, begann ich, Dr√§hte anzuschlie√üen, beginnend mit Zeilen und Spalten von Schl√ºsseln. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In den √∂rtlichen Gesch√§ften fand ich keine d√ºnneren Dr√§hte, und der einzige einadrige Draht, der verkauft wurde, war 22 awg [ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Querschnitt 0,325 mm¬≤. / ca. perev.</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">] - und es w√§re zu schwierig, sich um die S√§ulenvers√§tze zu biegen und sie in einen kleinen Raum zwischen dem Geh√§use und den Schaltern zu stopfen. Stattdessen habe ich einen 28-AWG-Litzendraht verwendet [ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Querschnitt 0,089 mm.kv. / ca. perev.</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ], das aus einem Flachkabel gezogen, mit einem Abisolierer abgezogen und dann an den Enden Schlaufen gemacht wurden. Mit einem d√ºnneren einadrigen Kabel w√§re alles einfacher. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/05f/e23/807/05fe2380755538ccde6f4e23cb3117e4.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schl√ºsselschalter mit gel√∂teten Zeilen und Spalten Mit </font></font></i><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/938/f91/ed1/938f91ed1b41695eea20df2d9139bd7f.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">einem Flachkabel verbundene </font></font></i><font style="vertical-align: inherit;"><i><font style="vertical-align: inherit;">Zeilen und Spalten Zeilen, Spalten, ein Joystick und eine USB-Schnittstellenkarte sind </font></i><i><font style="vertical-align: inherit;">verbunden</font></i></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/591/0e7/077/5910e7077b3bfc2c14cc4a75c21a35a5.jpg"><br>
<i><font style="vertical-align: inherit;"></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe einen B√ºrstenst√§nder an zwei M4-Schrauben befestigt, die durch Erhitzen in eine H√ºlse geschraubt werden, die in den Kunststoff des Hauptk√∂rpers eingef√ºhrt wird. </font><font style="vertical-align: inherit;">Nach dem Einbau der Kupplungen stellte sich heraus, dass die L√∂cher nicht sehr gut zusammenpassen, sodass ich sie noch nicht zusammenbauen kann. </font><font style="vertical-align: inherit;">Ich habe vor, das Geh√§use mit dem Loch, in das die M4-Mutter eingesetzt wird, erneut einzugeben. Es ist einfacher, es auszurichten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der Praxis m√ºssen Sie die Tastatur irgendwie auf dem Tisch sichern. </font><font style="vertical-align: inherit;">Selbst mit einem Korkboden und zus√§tzlichem Gewicht verschiebt sich die Tastatur bei Verwendung des Joysticks. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PS: Ich habe den St√§nder √ºberarbeitet und neu getippt, sodass zwei M4-Muttern verwendet wurden und alles einwandfrei funktioniert.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erledigt!</font></font></h2><br>
<img src="https://habrastorage.org/getpro/habr/post_images/9de/aac/e03/9deaace036b1d73e1c1ae1333c5fc3b6.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fertiges Geh√§use und tempor√§rer B√ºrstenhalter </font></font></i><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/c70/a5c/32e/c70a5c32eb4c9c7c6515609b454cbb0e.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Geh√§use, Ansicht von unten</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Firmware</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Urspr√ºnglich plante ich, QMK als Firmware zu verwenden und eine Poolanforderung mit einer Joystick-Unterst√ºtzung zu verwenden, die noch nicht in der Hauptniederlassung enthalten war. </font><font style="vertical-align: inherit;">QMK unterst√ºtzt die neuen ARM Teensy-Controller (Versionen gr√∂√üer als 3.2) jedoch nicht sehr gut. </font><font style="vertical-align: inherit;">Der folgende Patch unterst√ºtzt ARM-Controller noch nicht. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn dieser Patch sowie die ARM-Unterst√ºtzung implementiert sind, werde ich die Version mit QMK fertigstellen und ver√∂ffentlichen. </font><font style="vertical-align: inherit;">In der Zwischenzeit habe ich eine Skizze f√ºr Arduino entworfen, die auf der Arbeit eines anderen basiert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt zwei Modi, einen ist das Standard-QWERTZ-Layout und einen Joystick mit einer Taste, und im zweiten sind alle Tasten den Joystick-Tasten zugeordnet. </font><font style="vertical-align: inherit;">Daher gibt es gen√ºgend Schaltfl√§chen, um den Steam-Controller-Konfigurator zu konfigurieren, und er kann als XInput-Ger√§t verwendet werden, das eine gr√∂√üere Auswahl an Spielen unterst√ºtzt.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Optionaler Code, um dem Ger√§t einen Namen zu geben</font></font></b><div class="spoiler_text">//  ,    .     ,   sherbet.ino.<br>
#include ¬´usb_names.h¬ª<br>
<br>
#define PRODUCT_NAME {'s', 'h', 'e', 'r', 'b', 'e', 't'}<br>
#define PRODUCT_NAME_LEN 7<br>
<br>
struct usb_string_descriptor_struct usb_string_product_name = {<br>
 2 + PRODUCT_NAME_LEN * 2,<br>
 3,<br>
 PRODUCT_NAME<br>
};<br>
<br>
</div></div><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Firmware</font></font></b><div class="spoiler_text">/*<br>
 Original programming by Stefan Jakobsson, 2019<br>
 Released to public domain<br>
 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">forum.pjrc.com/threads/55395-Keyboard-simple-firmware</a><br>
*/<br>
/*<br>
Copyright 2019 Colin Fein<br>
Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the ¬´Software¬ª), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:<br>
The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.<br>
THE SOFTWARE IS PROVIDED ¬´AS IS¬ª, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.<br>
*/<br>
<br>
// Use USB Type: Keybord+Mouse+Joystick<br>
<br>
#include &lt;Bounce2.h&gt;<br>
<br>
const int ROW_COUNT = 4; //Number of rows in the keyboard matrix<br>
const int COL_COUNT = 6; //Number of columns in the keyboard matrix<br>
<br>
const int DEBOUNCE = 5; //Adjust as needed: increase if bouncing problem, decrease if not all keypresses register; not less than 2<br>
const int SCAN_DELAY = 5; //Delay between scan cycles in ms<br>
<br>
const int JOYSTICK_X_PIN = 14; // Analog pin used for the X axis<br>
const int JOYSTICK_Y_PIN = 15; // Analog pin used for the Y axis<br>
const bool REVERSE_X = true; // Reverses X axis input<br>
const bool REVERSE_Y = true; // Reverses Y axis input<br>
const int MIN_X = 215; // Minimum range for the X axis<br>
const int MAX_X = 780; // Maxixmum range for the X axis<br>
const int MIN_Y = 280; // Minimum range for the Y axis<br>
const int MAX_Y = 815; // Maximum range for the Y axis<br>
const int BUTTON_COUNT = 1; // Number of joystick buttons<br>
<br>
const int JOY_MIN = 0;<br>
const int JOY_MAX = 1023;<br>
<br>
Bounce buttons[BUTTON_COUNT];<br>
Bounce switches[ROW_COUNT * COL_COUNT];<br>
<br>
boolean buttonStatus[ROW_COUNT * COL_COUNT + BUTTON_COUNT]; //store button status so that inputs can be released<br>
boolean keyStatus[ROW_COUNT * COL_COUNT]; //store keyboard status so that keys can be released<br>
<br>
const int rowPins[] = {3, 2, 1, 0}; //Teensy pins attached to matrix rows<br>
const int colPins[] = {11, 10, 9, 8, 7, 6}; //Teensy pins attached to matrix columns<br>
const int buttonPins[] = {12}; //Teensy pins attached directly to switches<br>
<br>
int axes[] = {512, 512};<br>
<br>
int keyMode = true; // Whether to begin in standard qwerty mode or joystick button mode<br>
<br>
// Keycodes for qwerty input<br>
const int layer_rows[] = {<br>
 KEY_ESC, KEY_1, KEY_2, KEY_3, KEY_4, KEY_5,<br>
 KEY_TAB, KEY_Q, KEY_W, KEY_E, KEY_R, KEY_T,<br>
 KEY_CAPS_LOCK, KEY_A, KEY_S, KEY_D, KEY_F, KEY_G,<br>
 MODIFIERKEY_SHIFT, KEY_Z, KEY_X, KEY_C, KEY_V, KEY_B<br>
};<br>
// keystroke to use (counting from top left to top right of keypad) to switch between standard qwerty input and joystick buttons<br>
// default uses B+5<br>
const int mode_swap_keystroke[2] = {23, 5};<br>
int pivoted_keystroke[2]; //rows to columns<br>
boolean keystrokeModifier = false; //whether beginning of keystroke is active<br>
<br>
// rows to columns<br>
int layer[ROW_COUNT * COL_COUNT];<br>
<br>
void setup() {<br>
 int i;<br>
 //pivot key array for row-to-column diodes<br>
 for (i = 0; i &lt; ROW_COUNT * COL_COUNT; i++) {<br>
 layer[rotateIndex(i)] = layer_rows[i];<br>
<br>
// create debouncers for row pins<br>
 Bounce debouncer = Bounce();<br>
 debouncer.attach(rowPins[i % ROW_COUNT]);<br>
 debouncer.interval(DEBOUNCE);<br>
 switches[i] = debouncer;<br>
 }<br>
<br>
//convert keystroke to (pivoted) indexes<br>
 for (i = 0; i &lt; 2; i++) {<br>
 pivoted_keystroke[i] = rotateIndex(mode_swap_keystroke[i]);<br>
 }<br>
<br>
// create debouncers for non-matrix input pins<br>
 for (i = 0; i &lt; BUTTON_COUNT; i++) {<br>
 Bounce debouncer = Bounce();<br>
<br>
debouncer.attach(buttonPins[i], INPUT_PULLUP);<br>
 debouncer.interval(DEBOUNCE);<br>
 buttons[i] = debouncer;<br>
 }<br>
<br>
// Ground first column pin<br>
 pinMode(colPins[0], OUTPUT);<br>
 digitalWrite(colPins[0], LOW);<br>
<br>
for (i = 1; i &lt; COL_COUNT; i++) {<br>
 pinMode(colPins[i], INPUT);<br>
 }<br>
<br>
//Row pins<br>
 for (i = 0; i &lt; ROW_COUNT; i++) {<br>
 pinMode(rowPins[i], INPUT_PULLUP);<br>
 }<br>
}<br>
<br>
void loop() {<br>
 scanMatrix();<br>
 scanJoy();<br>
 delay(SCAN_DELAY);<br>
}<br>
<br>
/*<br>
 Scan keyboard matrix, triggering press and release events<br>
*/<br>
void scanMatrix() {<br>
 int i;<br>
<br>
for (i = 0; i &lt; ROW_COUNT * COL_COUNT; i++) {<br>
 prepareMatrixRead(i);<br>
 switches[i].update();<br>
<br>
if (switches[i].fell()) {<br>
 matrixPress(i);<br>
 } else if (switches[i].rose()) {<br>
 matrixRelease(i);<br>
 }<br>
 }<br>
}<br>
<br>
/*<br>
 Scan physical, non-matrix joystick buttons<br>
*/<br>
void scanJoy() {<br>
 int i;<br>
 boolean anyChange = false;<br>
<br>
for (i=0; i &lt; BUTTON_COUNT; i++) {<br>
 buttons[i].update();<br>
 if (buttons[i].fell()) {<br>
 buttonPress(i);<br>
 anyChange = true;<br>
 } else if (buttons[i].rose()) {<br>
 buttonRelease(i);<br>
 anyChange = true;<br>
 }<br>
 }<br>
<br>
int x = getJoyDeflection(JOYSTICK_X_PIN, REVERSE_X, MIN_X, MAX_X);<br>
 int y = getJoyDeflection(JOYSTICK_Y_PIN, REVERSE_Y, MIN_Y, MAX_Y);<br>
 Joystick.X(x);<br>
 Joystick.Y(y);<br>
<br>
if (x != axes[0] || y != axes[y]) {<br>
 anyChange = true;<br>
<br>
axes[0] = x;<br>
 axes[1] = y;<br>
 }<br>
<br>
if (anyChange) {<br>
 Joystick.send_now();<br>
 }<br>
}<br>
<br>
/*<br>
 Return a remapped and clamped analog value<br>
*/<br>
int getJoyDeflection(int pin, boolean reverse, int min, int max) {<br>
 int input = analogRead(pin);<br>
 if (reverse) {<br>
 input = JOY_MAX ‚Äî input;<br>
 }<br>
<br>
return map(constrain(input, min, max), min, max, JOY_MIN, JOY_MAX);<br>
}<br>
/*<br>
 Returns input pin to be read by keyScan method<br>
 Param key is the keyboard matrix scan code (col * ROW_COUNT + row)<br>
*/<br>
void prepareMatrixRead(int key) {<br>
 static int currentCol = 0;<br>
 int p = key / ROW_COUNT;<br>
<br>
if (p != currentCol) {<br>
 pinMode(colPins[currentCol], INPUT);<br>
 pinMode(colPins[p], OUTPUT);<br>
 digitalWrite(colPins[p], LOW);<br>
 currentCol = p;<br>
 }<br>
}<br>
<br>
/*<br>
 Sends key press event<br>
 Param keyCode is the keyboard matrix scan code (col * ROW_COUNT + row)<br>
*/<br>
void matrixPress(int keyCode) {<br>
 if (keyMode) {<br>
 keyPress(keyCode);<br>
 } else {<br>
 buttonPress(BUTTON_COUNT + keyCode);<br>
 }<br>
<br>
keystrokePress(keyCode);<br>
}<br>
<br>
/*<br>
 Sends key release event<br>
 Param keyCode is the keyboard matrix scan code (col * ROW_COUNT + row)<br>
*/<br>
void matrixRelease(int keyCode) {<br>
 //TODO: Possibly do not trigger keyboard.release if key not already pressed (due to changing modes)<br>
 if (keyMode) {<br>
 keyRelease(keyCode);<br>
 } else {<br>
 buttonRelease(BUTTON_COUNT + keyCode);<br>
 }<br>
<br>
keystrokeRelease(keyCode);<br>
}<br>
<br>
/*<br>
 Send key press event<br>
*/<br>
void keyPress(int keyCode) {<br>
 Keyboard.press(layer[keyCode]);<br>
 keyStatus[keyCode]=true;<br>
}<br>
<br>
/*<br>
 Send key release event<br>
*/<br>
void keyRelease(int keyCode) {<br>
 Keyboard.release(layer[keyCode]);<br>
 keyStatus[keyCode]=false;<br>
}<br>
<br>
/*<br>
 Send joystick button press event<br>
 Param buttonId 0-indexed button ID<br>
*/<br>
void buttonPress(int buttonId) {<br>
 Joystick.button(buttonId + 1, 1);<br>
 buttonStatus[buttonId] = true;<br>
}<br>
<br>
/*<br>
 Send joystick button release event<br>
 Param buttonId 0-indexed button ID<br>
*/<br>
void buttonRelease(int buttonId) {<br>
 Joystick.button(buttonId + 1, 0);<br>
 buttonStatus[buttonId] = false;<br>
}<br>
<br>
/*<br>
 Listen for keystroke keys, and change keyboard mode when condition is met<br>
*/<br>
void keystrokePress(int keyCode) {<br>
 if (keyCode == pivoted_keystroke[0]) {<br>
 keystrokeModifier = true;<br>
 } else if (keystrokeModifier &amp;&amp; keyCode == pivoted_keystroke[1]) {<br>
 releaseLayer();<br>
 keyMode = !keyMode;<br>
 }<br>
}<br>
<br>
/*<br>
 Listen for keystroke key release, unsetting keystroke flag<br>
*/<br>
void keystrokeRelease(int keyCode) {<br>
 if (keyCode == pivoted_keystroke[0]) {<br>
 keystrokeModifier = false;<br>
 }<br>
}<br>
<br>
/*<br>
 Releases all matrix and non-matrix keys; called upon change of key mode<br>
*/<br>
void releaseLayer() {<br>
 int i;<br>
 for (i = 0; i &lt; ROW_COUNT * COL_COUNT; i++) {<br>
 matrixRelease(i);<br>
 }<br>
<br>
for (i=0; i &lt; BUTTON_COUNT; i++) {<br>
 if (buttonStatus[i]) {<br>
 buttonRelease(i);<br>
 }<br>
 }<br>
}<br>
<br>
/*<br>
 Converts an index in a row-first sequence to column-first<br>
 [1, 2, 3] [1, 4, 7]<br>
 [4, 5, 6] =&gt; [2, 5, 8]<br>
 [7, 8, 9] [3, 6, 9]<br>
*/<br>
int rotateIndex(int index) {<br>
 return index % COL_COUNT * ROW_COUNT + index / COL_COUNT;<br>
}<br>
<br>
</div></div></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de491726/index.html">Erweitern Sie verschachtelte Spalten - Listen mit der R-Sprache (tidyr-Paket und unnest Familienfunktionen)</a></li>
<li><a href="../de491728/index.html">TROCKENES Prinzip mit Laravel</a></li>
<li><a href="../de491732/index.html">Gibt es ein Leben nach Scratch oder wie man ein Kind in Python einf√ºhrt?</a></li>
<li><a href="../de491736/index.html">TMS1000: der erste im Handel erh√§ltliche Mikrocontroller</a></li>
<li><a href="../de491740/index.html">Das Internet der Dinge in Yandex.Cloud: Wie Yandex IoT Core- und Yandex Cloud-Funktionsdienste angeordnet sind</a></li>
<li><a href="../de491744/index.html">Iranische Hacker nutzten Schwachstellen in VPN aus</a></li>
<li><a href="../de491746/index.html">Die Geschichte der Sprachsynthese: die √Ñra der elektrischen L√∂sungen</a></li>
<li><a href="../de491748/index.html">Technologien, die Blinden helfen, Englisch zu lernen</a></li>
<li><a href="../de491780/index.html">GitLab 12.8 mit Log Browser, NuGet und Compliance Dashboard ver√∂ffentlicht</a></li>
<li><a href="../de491792/index.html">Drahtloser HiFiMan als Stufe in der Entwicklung isodynamischer Kopfh√∂rer</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>