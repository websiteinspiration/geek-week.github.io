<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏪 🐞 🤲🏿 Responsif atau responsif? Parsing React Component Structure 🚄 🕞 🏭</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pada artikel ini, kita akan memahami kompleksitas penulisan komponen adaptif, berbicara tentang pemecahan kode, mempertimbangkan beberapa cara untuk m...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Responsif atau responsif? Parsing React Component Structure</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/youla/blog/493292/"><img src="https://habrastorage.org/webt/86/uj/wu/86ujwufflu-omcpppq0p9s0nnng.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada artikel ini, kita akan memahami kompleksitas penulisan komponen adaptif, berbicara tentang pemecahan kode, mempertimbangkan beberapa cara untuk mengatur struktur kode, mengevaluasi kelebihan dan kekurangannya, dan mencoba memilih yang terbaik (tetapi ini tidak akurat).</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertama, mari kita berurusan dengan terminologi. Kita sering mendengar istilah </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adaptif</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">responsif</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Apa yang mereka maksud? Apa bedanya? Bagaimana ini berhubungan dengan komponen kami? </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adaptive</font></font></strong></a><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (adaptif)</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adalah kompleks antarmuka visual yang dibuat untuk ukuran layar tertentu. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Responsif</font></font></strong></a><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Responsif)</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adalah antarmuka tunggal yang beradaptasi dengan ukuran layar apa pun. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selain itu, ketika antarmuka didekomposisi menjadi fragmen kecil, perbedaan antara adaptif dan responsif menjadi semakin kabur, hingga menghilang sepenuhnya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saat mengembangkan tata letak, desainer kami, serta pengembang, paling sering tidak membagikan konsep-konsep ini dan menggabungkan logika adaptif dan responsif.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selanjutnya, saya akan menyebut komponen yang mengandung logika adaptif dan responsif sebagai </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hanya adaptif</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Pertama, karena saya suka kata ini lebih dari "responsif" atau, maafkan saya, "responsif". Dan kedua, saya menemukannya lebih umum. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya akan fokus pada dua area tampilan antarmuka - ponsel dan desktop. Yang kami maksud dengan tampilan seluler adalah lebar, misalnya, ≤ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">991 piksel</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(angka itu sendiri tidak penting, itu hanya konstanta, yang tergantung pada sistem desain dan aplikasi Anda), dan di bawah tampilan desktop - lebarnya lebih besar dari ambang yang dipilih. </font><font style="vertical-align: inherit;">Saya sengaja akan melewatkan display untuk tablet dan monitor layar lebar, karena, pertama, tidak semua orang membutuhkannya, dan kedua, akan lebih mudah untuk membuatnya seperti ini. </font><font style="vertical-align: inherit;">Tetapi pola yang akan kita bahas tentang ekspansi sama untuk sejumlah "pemetaan". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Juga, saya hampir tidak akan berbicara tentang </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CSS</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , terutama kita akan berbicara tentang komponen logika.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Frontend @youla </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya akan berbicara singkat tentang tumpukan kami di Yulia sehingga jelas dalam kondisi apa kami membuat komponen kami. Kami menggunakan </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">React / Redux</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , kami bekerja di monorep, kami menggunakan </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TypeScript</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan kami menulis </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CSS</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pada </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">komponen-style</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Sebagai contoh, mari kita lihat tiga paket kami (paket dalam konsep monoreps adalah paket NPM yang saling berhubungan, yang dapat berupa aplikasi, pustaka, utilitas atau komponen yang terpisah - Anda dapat memilih sendiri tingkat dekomposisi). Kami akan melihat dua aplikasi dan satu perpustakaan UI. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@ youla / ui</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- perpustakaan komponen. Mereka digunakan tidak hanya oleh kami, tetapi juga oleh tim lain yang membutuhkan antarmuka "Yulian". Pustaka memiliki banyak hal, dimulai dengan tombol dan bidang input, dan berakhir, misalnya, dengan header atau formulir otorisasi (lebih tepatnya, bagian UI-nya). Kami menganggap perpustakaan ini sebagai ketergantungan eksternal dari aplikasi kami. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@ youla-web / aplikasi-diklasifikasikan</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - aplikasi yang bertanggung jawab untuk bagian katalog / produk / otorisasi. Menurut persyaratan bisnis, semua antarmuka di sini harus </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adaptif</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@ youla-web / app-b2b</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adalah aplikasi yang bertanggung jawab untuk bagian dari akun pribadi Anda untuk pengguna profesional. Antarmuka aplikasi ini adalah </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">desktop</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> khusus </font><font style="vertical-align: inherit;">.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selanjutnya kami akan mempertimbangkan untuk menulis komponen adaptif menggunakan contoh dari paket ini. </font><font style="vertical-align: inherit;">Tetapi pertama-tama Anda harus berurusan dengan </font></font><code>isMobile</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Definisi Mobilitas isMobile &amp;&amp; &lt;Komponen /&gt;</font></font></h2><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span><font></font>
<font></font>
<span class="hljs-keyword">const</span> App = <span class="hljs-function">(<span class="hljs-params">props</span>) =&gt;</span> {
 <span class="hljs-keyword">const</span> { isMobile } = props<font></font>
<font></font>
 <span class="hljs-keyword">return</span> (
   <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Layout</span>&gt;</span>
     {isMobile &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">HeaderMobile</span> /&gt;</span>}
     <span class="hljs-tag">&lt;<span class="hljs-name">Content</span> /&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">Footer</span> /&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">Layout</span>&gt;</span></span><font></font>
 )<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebelum Anda mulai menulis komponen adaptif, Anda perlu belajar cara mendefinisikan "mobilitas". </font><font style="vertical-align: inherit;">Ada banyak cara untuk mengimplementasikan definisi mobilitas. </font><font style="vertical-align: inherit;">Saya ingin memikirkan beberapa poin penting.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menentukan mobilitas berdasarkan lebar layar dan agen pengguna </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebagian besar dari Anda tahu benar bagaimana menerapkan kedua opsi tersebut, tetapi mari kita secara singkat membahas poin-poin utama lagi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saat bekerja dengan lebar layar, biasanya menetapkan titik batas, setelah itu aplikasi harus berperilaku sebagai ponsel atau desktop. </font><font style="vertical-align: inherit;">Prosedurnya adalah sebagai berikut:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Buat konstanta dengan titik batas dan simpan di subjek (jika solusi CSS Anda memungkinkan). </font><font style="vertical-align: inherit;">Nilai-nilai itu sendiri mungkin merupakan apa yang menurut desainer Anda paling tepat untuk </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sistem UI</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Anda </font><font style="vertical-align: inherit;">.</font></font></li>
<li><font style="vertical-align: inherit;"></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kami menyimpan</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ukuran layar saat ini di </font><strong><font style="vertical-align: inherit;">redux / mobx / context /</font></strong><font style="vertical-align: inherit;"> sumber data </font><strong><font style="vertical-align: inherit;">apa pun</font></strong><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Di mana saja, jika hanya komponen dan, lebih disukai, logika aplikasi memiliki akses ke data ini.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kami berlangganan ke acara mengubah ukuran dan memperbarui nilai lebar layar ke salah satu yang akan memicu rantai pembaruan pohon komponen.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kami membuat fungsi pembantu sederhana yang, menggunakan lebar dan konstanta layar, menghitung keadaan saat ini ( </font></font><code>isMobile</code><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></strong><code>isDesktop</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berikut adalah kode semu yang mengimplementasikan model kerja ini:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> breakpoints = {
 <span class="hljs-attr">mobile</span>: <span class="hljs-number">991</span><font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> state = {
 <span class="hljs-attr">ui</span>: {
   <span class="hljs-attr">width</span>: <span class="hljs-literal">null</span><font></font>
 }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">const</span> handleSubscribe = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {<font></font>
 state.ui.width = <span class="hljs-built_in">window</span>.innerWidth<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> onSubscribe = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
 <span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">'resize'</span>, handleSubscribe)<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> offSubscribe = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span>
 <span class="hljs-built_in">window</span>.removeEventListener(<span class="hljs-string">'resize'</span>, handleSubscribe)<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> getIsMobile = <span class="hljs-function">(<span class="hljs-params">state: any</span>) =&gt;</span> {
 <span class="hljs-keyword">if</span> (state.ui.width &lt;= breakpoints.mobile) {
   <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span><font></font>
 }<font></font>
<font></font>
 <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span><font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> getIsDesktop = <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> !getIsMobile(state)<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> App = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {<font></font>
 React.useEffect(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {<font></font>
   onSubscribe()<font></font>
<font></font>
   <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> offSubscribe()<font></font>
 }, [])<font></font>
<font></font>
 <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">MyComponentMounted</span> /&gt;</span></span><font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">const</span> MyComponent = <span class="hljs-function">(<span class="hljs-params">props</span>) =&gt;</span> {
 <span class="hljs-keyword">const</span> { isMobile } = props<font></font>
<font></font>
 <span class="hljs-keyword">return</span> isMobile ? <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">MobileComponent</span> /&gt;</span></span> : <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">DesktopComponent</span> /&gt;</span></span><font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> MyComponentMounted = anyHocToConnectComponentWithState(
 <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> ({
   <span class="hljs-attr">isMobile</span>: getIsMobile(state)<font></font>
 })<font></font>
)(MyComponent)<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketika layar berubah, nilai-nilai </font></font><code>props</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk komponen akan diperbarui, dan itu akan digambar ulang dengan benar. Ada banyak perpustakaan yang mengimplementasikan fungsi ini. Ini akan menjadi lebih nyaman bagi seseorang untuk menggunakan solusi siap pakai, misalnya, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bereaksi-media</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bereaksi-responsif</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dll, dan untuk seseorang lebih mudah untuk menulis Anda </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">sendiri</font></a><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berbeda dengan ukuran layar, </font></font><code>user-agent</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">itu tidak dapat berubah secara dinamis saat aplikasi sedang berjalan (secara tegas, mungkin melalui alat pengembang, tetapi ini bukan skenario pengguna). Dalam hal ini, kami tidak perlu menggunakan logika kompleks dengan menyimpan nilai dan penghitungan ulang, cukup parsing string sekali </font></font><code>window.navigator.userAgent,</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk menyimpan nilai, dan </font><font style="vertical-align: inherit;">Anda </font><font style="vertical-align: inherit;">selesai. Ada banyak perpustakaan untuk membantu Anda dengan hal ini, misalnya, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">deteksi seluler</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reaksi-deteksi perangkat</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dll. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pendekatannya </font></font><code>user-agent</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lebih sederhana, tetapi hanya menggunakannya saja tidak cukup. Siapa pun yang telah mengembangkan antarmuka adaptif secara serius tahu tentang "sentuhan ajaib" iPad dan perangkat serupa, yang pada posisi vertikal berada di bawah definisi seluler, dan horizontal - desktop, tetapi pada saat yang sama memiliki </font></font><code>user-agent</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">perangkat seluler. Perlu juga dicatat bahwa dalam aplikasi yang sepenuhnya adaptif / responsif, </font></font><code>user-agent </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tidak mungkin untuk menentukan mobilitas </font><font style="vertical-align: inherit;">berdasarkan informasi tentang hanya </font><font style="vertical-align: inherit;">jika pengguna menggunakan, misalnya, browser desktop, tetapi telah meremas jendela ke ukuran "mobile". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Juga, jangan mengabaikan informasi tentang </font></font><code>user-agent</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Sangat sering dalam kode Anda dapat menemukan konstanta seperti </font></font><code>isSafari</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font><code>isIE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dll. yang menangani "fitur" perangkat dan browser ini. Yang terbaik adalah menggabungkan kedua pendekatan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di basis kode kami, kami menggunakan konstanta </font></font><code>isCheesySafari</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yang, seperti namanya, mendefinisikan keanggotaan </font></font><code>user-agent</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dalam keluarga browser Safari. Namun selain itu, kami memiliki konstanta </font></font><code>isSuperCheesySafari</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, yang menyiratkan Safari seluler yang sesuai dengan iOS versi 11, yang telah menjadi terkenal karena banyak bug seperti ini: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://hackernoon.com/how-to-fix-the-ios-11-input-element -in-fixed-modals-bug-aaf66c7ba3f8</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> isMobileUA = <span class="hljs-function">(<span class="hljs-params">(</span>) =&gt;</span> magicParser(<span class="hljs-built_in">window</span>.navigator.userAgent))()<font></font>
<font></font>
<span class="hljs-keyword">import</span> isMobileUA <span class="hljs-keyword">from</span> <span class="hljs-string">'./isMobileUA'</span><font></font>
<font></font>
<span class="hljs-keyword">const</span> MyComponent = <span class="hljs-function">(<span class="hljs-params">props</span>) =&gt;</span> {
 <span class="hljs-keyword">const</span> { isMobile } = props<font></font>
<font></font>
 <span class="hljs-keyword">return</span> (isMobile || isMobileUA) ? <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">MobileComponent</span> /&gt;</span></span> : <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">DesktopComponent</span> /&gt;</span></span><font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bagaimana dengan pertanyaan media? </font><font style="vertical-align: inherit;">Ya, memang, CSS memiliki alat bawaan untuk bekerja dengan kemampuan beradaptasi: pertanyaan media dan metode analognya </font></font><code>window.matchMedia</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Mereka dapat digunakan, tetapi logika "memperbarui" komponen ketika mengubah ukuran masih harus diimplementasikan. </font><font style="vertical-align: inherit;">Meskipun bagi saya pribadi, menggunakan sintaks kueri media daripada operasi perbandingan biasa di JS untuk logika aplikasi dan komponen adalah keuntungan yang meragukan.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Organisasi struktur komponen</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami telah menemukan definisi mobilitas, sekarang mari kita renungkan penggunaan data yang telah kami peroleh dan pengaturan struktur kode komponen. Dalam kode kami, sebagai aturan, dua jenis komponen berlaku. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jenis pertama</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adalah komponen, dipertajam baik di bawah ponsel, atau di bawah desktop. Dalam komponen seperti itu, nama-nama sering mengandung kata Mobile / Desktop, yang jelas menunjukkan bahwa komponen tersebut termasuk salah satu dari jenis. Sebagai contoh komponen semacam itu dapat dipertimbangkan </font></font><code>&lt;MobileList /&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dari </font></font><code>@youla/ui</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> { Panel, Cell, Content, afterBorder } <span class="hljs-keyword">from</span> <span class="hljs-string">'./styled'</span>
<span class="hljs-keyword">import</span> Group <span class="hljs-keyword">from</span> <span class="hljs-string">'./Group'</span>
<span class="hljs-keyword">import</span> Button, { IMobileListButtonProps } <span class="hljs-keyword">from</span> <span class="hljs-string">'./Button'</span>
<span class="hljs-keyword">import</span> ContentOrButton, { IMobileListContentOrButton } <span class="hljs-keyword">from</span> <span class="hljs-string">'./ContentOrButton'</span>
<span class="hljs-keyword">import</span> Action, { IMobileListActionProps } <span class="hljs-keyword">from</span> <span class="hljs-string">'./Action'</span><font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> { Panel, Group, Cell, Content, Button, ContentOrButton, Action }
<span class="hljs-keyword">export</span> {<font></font>
 afterBorder,<font></font>
 IMobileListButtonProps,<font></font>
 IMobileListContentOrButton,<font></font>
 IMobileListActionProps<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Komponen ini, selain sangat verbose ekspor, adalah daftar dengan data, pemisah, pengelompokan berdasarkan blok, dll. Desainer kami sangat menyukai komponen ini dan di mana-mana menggunakannya di antarmuka Ula. Misalnya, dalam deskripsi di halaman produk atau di fungsionalitas tarif baru kami: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/e5/m_/p-/e5m_p-fw1vefwo2330gmeh21kbw.jpeg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan di N tempat di sekitar situs. Kami juga memiliki komponen serupa </font></font><code>&lt;DesktopList /&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yang mengimplementasikan fungsionalitas daftar ini untuk resolusi desktop. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Komponen </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tipe kedua</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> berisi logika desktop dan seluler. Mari kita lihat versi sederhana dari rendering komponen kami </font></font><code>&lt;HeaderBoard /&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, yang hidup di @ youla / aplikasi-diklasifikasikan.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami telah menemukan untuk diriku sendiri sangat nyaman untuk membuat semua gaya-komponen untuk komponen dalam satu file dan impor di bawah ruang nama S, untuk memisahkan kode dari komponen lain: </font></font><code>import * as S from ‘./styled’</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Dengan demikian, "S" adalah objek yang kuncinya adalah nama-nama komponen yang ditata, dan nilainya adalah komponen itu sendiri.</font></font><br>
<br>
<pre><code class="javascript hljs"> <span class="hljs-keyword">return</span> (
   <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">HeaderWrapper</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">Logo</span> /&gt;</span>
     {isMobile &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">S.Arrow</span> /&gt;</span>}
     <span class="hljs-tag">&lt;<span class="hljs-name">S.Wraper</span> <span class="hljs-attr">isMobile</span>=<span class="hljs-string">{isMobile}</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">Video</span> <span class="hljs-attr">src</span>=<span class="hljs-string">{bgVideo}</span> /&gt;</span>
       {!isMobile &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">Header</span>&gt;</span>{headerContent}<span class="hljs-tag">&lt;/<span class="hljs-name">Header</span>&gt;</span>}
       <span class="hljs-tag">&lt;<span class="hljs-name">S.WaveWrapper</span> /&gt;</span>
     <span class="hljs-tag">&lt;/<span class="hljs-name">S.Wraper</span>&gt;</span>
     {isMobile &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">S.MobileHeader</span>&gt;</span>{headerContent}<span class="hljs-tag">&lt;/<span class="hljs-name">S.MobileHeader</span>&gt;</span>}
     <span class="hljs-tag">&lt;<span class="hljs-name">Info</span> <span class="hljs-attr">link</span>=<span class="hljs-string">{link}</span> /&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">PaintingInfo</span> <span class="hljs-attr">isMobile</span>=<span class="hljs-string">{isMobile}</span> /&gt;</span>
     {isMobile ? <span class="hljs-tag">&lt;<span class="hljs-name">CardsMobile</span> /&gt;</span> : <span class="hljs-tag">&lt;<span class="hljs-name">CardsDesktop</span> /&gt;</span>}
     {isMobile ? <span class="hljs-tag">&lt;<span class="hljs-name">UserNavigation</span> /&gt;</span> : <span class="hljs-tag">&lt;<span class="hljs-name">UserInfoModal</span> /&gt;</span>}
   <span class="hljs-tag">&lt;/<span class="hljs-name">HeaderWrapper</span>&gt;</span></span><font></font>
 )<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini </font></font><code>isMobile</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, itu adalah ketergantungan komponen, atas dasar mana komponen itu sendiri akan memutuskan antarmuka mana yang akan di-render. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk penskalaan yang lebih nyaman, kita sering menggunakan pola inversi kontrol di bagian yang digunakan kembali dari kode kita, tetapi hati-hati untuk tidak membebani abstraksi tingkat atas dengan logika yang tidak perlu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang mari kita abstraksi sedikit dari komponen "Yulian" dan perhatikan lebih dekat kedua komponen ini:</font></font><br>
<br>
<ul>
<li><code>&lt;ComponentA /&gt;</code><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dengan pemisahan ketat antara desktop dan mobile logic.</font></font></li>
<li><code>&lt;ComponentB /&gt;</code><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> digabungkan.</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;ComponentA /&gt; vs &lt;ComponentB /&gt;</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Struktur folder dan file root </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">index.ts</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="javascript hljs">./ComponentA<font></font>
- ComponentA.tsx<font></font>
- ComponentADesktop.tsx<font></font>
- ComponentAMobile.tsx<font></font>
- index.ts<font></font>
- styled.desktop.ts<font></font>
- styled.mobile.ts<font></font>
</code></pre><br>
<pre><code class="javascript hljs">
<span class="hljs-keyword">import</span> ComponentA  <span class="hljs-keyword">from</span> <span class="hljs-string">'./ComponentA'</span>
<span class="hljs-keyword">import</span> ComponentAMobile  <span class="hljs-keyword">from</span> <span class="hljs-string">'./ComponentAMobile'</span>
<span class="hljs-keyword">import</span> ComponentADesktop  <span class="hljs-keyword">from</span> <span class="hljs-string">'./ComponentADesktop'</span><font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
 <span class="hljs-attr">ComponentACombined</span>: ComponentA,<font></font>
 ComponentAMobile,<font></font>
 ComponentADesktop<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berkat webpack pengguncang pohon teknologi baru (atau menggunakan kolektor lain), Anda dapat membuang modul yang tidak digunakan ( </font></font><code>ComponentADesktop</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>ComponentACombined</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), bahkan dengan ini ekspor kembali melalui file root:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> ComponentA <span class="hljs-keyword">from</span> ‘@youla/ui’<font></font>
&lt;ComponentA.ComponentAMobile /&gt;<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hanya kode file ./ComponentAMobile yang masuk ke bundel terakhir. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Komponen </font></font><code>&lt;ComponentA /&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">berisi impor asinkron menggunakan </font></font><code>React.Lazy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">versi spesifik komponen </font></font><code>&lt;ComponentAMobile /&gt; || &lt;ComponentADesktop /&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk situasi tertentu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami di Yule mencoba mematuhi pola titik masuk tunggal ke dalam komponen melalui file indeks. Ini membuat komponen menemukan dan refactoring lebih mudah. Jika konten komponen tidak diekspor kembali melalui file root, maka kita dapat mengeditnya dengan aman, karena kita tahu bahwa itu tidak digunakan di luar konteks komponen ini. Yah, naskah akan lindung nilai dalam keadaan darurat. Folder dengan komponen memiliki "antarmuka" sendiri: ekspor pada tingkat modul di file root, dan detail implementasinya tidak diungkapkan. Akibatnya, saat refactoring, Anda tidak perlu takut menyimpan antarmuka.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span><font></font>
<font></font>
<span class="hljs-keyword">const</span> ComponentADesktopLazy = React.lazy(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'./ComponentADesktop'</span>))
<span class="hljs-keyword">const</span> ComponentAMobileLazy = React.lazy(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'./ComponentAMobile'</span>))<font></font>
<font></font>
<span class="hljs-keyword">const</span> ComponentA = <span class="hljs-function">(<span class="hljs-params">props</span>) =&gt;</span> {
 <span class="hljs-keyword">const</span> { isMobile } = props<font></font>
<font></font>
<span class="hljs-comment">//    </span><font></font>
<font></font>
 <span class="hljs-keyword">return</span> (
   <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">React.Suspense</span> <span class="hljs-attr">fallback</span>=<span class="hljs-string">{props.fallback}</span>&gt;</span>
     {isMobile ? (
       <span class="hljs-tag">&lt;<span class="hljs-name">ComponentAMobileLazy</span> {<span class="hljs-attr">...props</span>} /&gt;</span>
     ) : (
       <span class="hljs-tag">&lt;<span class="hljs-name">ComponentADesktopLazy</span> {<span class="hljs-attr">...props</span>} /&gt;</span>
     )}
   <span class="hljs-tag">&lt;/<span class="hljs-name">React.Suspense</span>&gt;</span></span><font></font>
 )<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> ComponentA
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selanjutnya, komponen tersebut </font></font><code>&lt;ComponentADesktop /&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">berisi impor komponen desktop:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span><font></font>
<font></font>
<span class="hljs-keyword">import</span> { DesktopList, UserAuthDesktop, UserInfo } <span class="hljs-keyword">from</span> <span class="hljs-string">'@youla/ui'</span><font></font>
<font></font>
<span class="hljs-keyword">import</span> Banner <span class="hljs-keyword">from</span> <span class="hljs-string">'../Banner'</span><font></font>
<font></font>
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> S <span class="hljs-keyword">from</span> <span class="hljs-string">'./styled.desktop'</span><font></font>
<font></font>
<span class="hljs-keyword">const</span> ComponentADesktop = <span class="hljs-function">(<span class="hljs-params">props</span>) =&gt;</span> {
 <span class="hljs-keyword">const</span> { user, items } = props<font></font>
<font></font>
 <span class="hljs-keyword">return</span> (
   <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">S.Wrapper</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">S.Main</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">Banner</span> /&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">DesktopList</span> <span class="hljs-attr">items</span>=<span class="hljs-string">{items}</span> /&gt;</span>
     <span class="hljs-tag">&lt;/<span class="hljs-name">S.Main</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">S.SideBar</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">UserAuthDesktop</span> <span class="hljs-attr">user</span>=<span class="hljs-string">{user}</span> /&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">UserInfo</span> <span class="hljs-attr">user</span>=<span class="hljs-string">{user}</span> /&gt;</span>
     <span class="hljs-tag">&lt;/<span class="hljs-name">S.SideBar</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">S.Wrapper</span>&gt;</span></span><font></font>
 )<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> ComponentADesktop
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Komponen </font></font><code>&lt;ComponentAMobile /&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">berisi impor komponen seluler:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span><font></font>
<font></font>
<span class="hljs-keyword">import</span> { MobileList, MobileTabs, UserAuthMobile } <span class="hljs-keyword">from</span> <span class="hljs-string">'@youla/ui'</span><font></font>
<font></font>
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> S <span class="hljs-keyword">from</span> <span class="hljs-string">'./styled.mobile'</span><font></font>
<font></font>
<span class="hljs-keyword">const</span> ComponentAMobile = <span class="hljs-function">(<span class="hljs-params">props</span>) =&gt;</span> {
 <span class="hljs-keyword">const</span> { user, items, tabs } = props<font></font>
<font></font>
 <span class="hljs-keyword">return</span> (
   <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">S.Wrapper</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">S.Main</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">UserAuthMobile</span> <span class="hljs-attr">user</span>=<span class="hljs-string">{user}</span> /&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">MobileList</span> <span class="hljs-attr">items</span>=<span class="hljs-string">{items}</span> /&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">MobileTabs</span> <span class="hljs-attr">tabs</span>=<span class="hljs-string">{tabs}</span> /&gt;</span>
     <span class="hljs-tag">&lt;/<span class="hljs-name">S.Main</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">S.Wrapper</span>&gt;</span></span><font></font>
 )<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> ComponentAMobile
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Komponennya </font></font><code>&lt;ComponentA /&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adaptif: dengan flag itu </font></font><code>isMobile</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dapat memutuskan versi yang akan diundi, hanya dapat mengunduh file yang diperlukan secara serempak, yaitu, versi seluler dan desktop dapat digunakan secara terpisah. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita lihat komponennya sekarang </font></font><code>&lt;ComponentB /&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Di dalamnya, kita tidak akan membusuk secara mendalam logika ponsel dan desktop, kita akan meninggalkan semua kondisi dalam kerangka satu fungsi. </font><font style="vertical-align: inherit;">Demikian pula, kami tidak akan memisahkan komponen style. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berikut adalah struktur foldernya. </font><font style="vertical-align: inherit;">File root index.ts hanya mengekspor ulang </font></font><code>./ComponentB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="javascript hljs">./ComponentB<font></font>
- ComponentB.tsx<font></font>
- index.ts<font></font>
- styled.ts<font></font>
</code></pre><br>
<pre><code class="javascript hljs">
<span class="hljs-keyword">export</span> { <span class="hljs-keyword">default</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./ComponentB'</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
File ./ComponentB dengan komponen itu sendiri:</font></font><br>
<br>
<pre><code class="javascript hljs">
<span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span><font></font>
<font></font>
<span class="hljs-keyword">import</span> {<font></font>
 DesktopList,<font></font>
 UserAuthDesktop,<font></font>
 UserInfo,<font></font>
 MobileList,<font></font>
 MobileTabs,<font></font>
 UserAuthMobile<font></font>
} <span class="hljs-keyword">from</span> <span class="hljs-string">'@youla/ui'</span><font></font>
<font></font>
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> S <span class="hljs-keyword">from</span> <span class="hljs-string">'./styled'</span><font></font>
<font></font>
<span class="hljs-keyword">const</span> ComponentB = <span class="hljs-function">(<span class="hljs-params">props</span>) =&gt;</span> {
 <span class="hljs-keyword">const</span> { user, items, tabs, isMobile } = props<font></font>
<font></font>
 <span class="hljs-keyword">if</span> (isMobile) {
   <span class="hljs-keyword">return</span> (
     <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">S.Wrapper</span> <span class="hljs-attr">isMobile</span>=<span class="hljs-string">{isMobile}</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">S.Main</span> <span class="hljs-attr">isMobile</span>=<span class="hljs-string">{isMobile}</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-name">UserAuthMobile</span> <span class="hljs-attr">user</span>=<span class="hljs-string">{user}</span> /&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-name">MobileList</span> <span class="hljs-attr">items</span>=<span class="hljs-string">{items}</span> /&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-name">MobileTabs</span> <span class="hljs-attr">tabs</span>=<span class="hljs-string">{tabs}</span> /&gt;</span>
       <span class="hljs-tag">&lt;/<span class="hljs-name">S.Main</span>&gt;</span>
     <span class="hljs-tag">&lt;/<span class="hljs-name">S.Wrapper</span>&gt;</span></span><font></font>
   )<font></font>
 }<font></font>
<font></font>
 <span class="hljs-keyword">return</span> (
   <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">S.Wrapper</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">S.Main</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">Banner</span> /&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">DesktopList</span> <span class="hljs-attr">items</span>=<span class="hljs-string">{items}</span> /&gt;</span>
     <span class="hljs-tag">&lt;/<span class="hljs-name">S.Main</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">S.SideBar</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">UserAuthDesktop</span> <span class="hljs-attr">user</span>=<span class="hljs-string">{user}</span> /&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">UserInfo</span> <span class="hljs-attr">user</span>=<span class="hljs-string">{user}</span> /&gt;</span>
     <span class="hljs-tag">&lt;/<span class="hljs-name">S.SideBar</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">S.Wrapper</span>&gt;</span></span><font></font>
 )<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> ComponentB
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita coba memperkirakan kelebihan dan kekurangan komponen ini. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ji/l-/px/jil-pxa15xccew0cgnm6zeauch8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Total tiga argumen pro dan kontra tersedot keluar dari jari mereka masing-masing. </font><font style="vertical-align: inherit;">Ya, saya perhatikan bahwa beberapa kriteria disebutkan segera dalam keuntungan dan kerugian: ini dilakukan dengan sengaja, semua orang akan menghapusnya dari grup yang salah.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pengalaman kami dengan @youla</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami di perpustakaan komponen kami @ youla / ui berusaha untuk tidak menggabungkan komponen desktop dan seluler bersama-sama, karena ini adalah ketergantungan eksternal untuk banyak paket kami dan yang lainnya. Siklus hidup komponen-komponen ini selama mungkin, saya ingin menjaganya tetap ramping dan seringan mungkin. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ada </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dua poin penting yang</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> perlu diperhatikan </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertama, semakin kecil file JS rakitan, semakin cepat akan dikirim ke pengguna, ini jelas dan semua orang tahu. Tetapi karakteristik ini penting hanya untuk unduhan file pertama, selama </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kunjungan berulang</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> file akan dikirim dari cache, dan tidak akan ada masalah pengiriman kode.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini kita beralih ke alasan nomor dua, yang mungkin segera menjadi, atau sudah menjadi, masalah utama aplikasi web besar. Banyak yang sudah menebak: ya, kita berbicara tentang </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">durasi penguraian.</font></font></strong><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Mesin modern seperti V8 dapat melakukan cache dan hasil parsing, tetapi sejauh ini tidak berfungsi dengan sangat efisien. Eddie Osmani memiliki artikel bagus tentang topik ini: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://v8.dev/blog/cost-of-javascript-2019 </font></font></a><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Anda juga dapat berlangganan blog V8: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://twitter.com/v8js</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini adalah durasi penguraian yang akan kami kurangi secara signifikan, ini sangat penting untuk </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">perangkat seluler dengan prosesor yang lemah</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam paket aplikasi @ youla-web / app- * pengembangannya lebih "berorientasi bisnis". Dan demi kecepatan / kesederhanaan / preferensi pribadi, keputusan dipilih bahwa pengembang sendiri menganggap yang paling benar dalam situasi ini. Sering terjadi bahwa ketika mengembangkan fitur MVP kecil, lebih baik menulis versi yang lebih sederhana dan lebih cepat (&lt;ComponentB /&gt;), dalam komponen seperti itu ada beberapa baris. Dan, seperti yang kita tahu, semakin banyak kode - semakin banyak kesalahan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah memeriksa relevansi fitur, dimungkinkan untuk mengganti komponen dengan versi yang lebih optimal dan produktif &lt;ComponentA /&gt;, jika perlu.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya juga menyarankan Anda untuk mengintip komponen. </font><font style="vertical-align: inherit;">Jika UI dari versi seluler dan desktop sangat berbeda, maka mungkin mereka harus dipisahkan, menjaga beberapa logika umum di satu tempat. </font><font style="vertical-align: inherit;">Ini akan memungkinkan Anda untuk menghilangkan rasa sakit saat menulis CSS yang kompleks, masalah dengan kesalahan di salah satu tampilan ketika refactoring atau mengubah yang lain. </font><font style="vertical-align: inherit;">Dan sebaliknya, jika UI sedekat mungkin, lalu mengapa bekerja ekstra?</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kesimpulan</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk meringkas. </font><font style="vertical-align: inherit;">Kami memahami terminologi antarmuka adaptif / responsif, memeriksa beberapa cara untuk menentukan mobilitas dan beberapa opsi untuk mengatur struktur kode komponen adaptif, dan mengidentifikasi kelebihan dan kekurangan masing-masing. </font><font style="vertical-align: inherit;">Tentunya banyak hal di atas sudah diketahui oleh Anda, tetapi pengulangan adalah cara terbaik untuk melakukan konsolidasi. </font><font style="vertical-align: inherit;">Saya harap Anda belajar sesuatu yang baru untuk diri Anda sendiri. </font><font style="vertical-align: inherit;">Lain kali kami ingin menerbitkan sekumpulan rekomendasi untuk menulis aplikasi web progresif, dengan tips mengatur, menggunakan kembali, dan memelihara kode.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id493274/index.html">30+ rekomendasi profesional ringkas untuk pengembang Android</a></li>
<li><a href="../id493278/index.html">Нужно ли курить для защиты от SARS-CoV-2</a></li>
<li><a href="../id493282/index.html">Memahami Kebijakan Jaringan dengan Calico</a></li>
<li><a href="../id493284/index.html">Kubernetes 1.18: Tinjauan Umum Inovasi-inovasi Utama</a></li>
<li><a href="../id493288/index.html">Lima Kutipan Pemrograman Terkenal Terkenal</a></li>
<li><a href="../id493294/index.html">Kami melihat ke dalam sirkuit terintegrasi Soviet dengan TTL</a></li>
<li><a href="../id493298/index.html">C ++, register pemrograman dan mikrokontroler</a></li>
<li><a href="../id493300/index.html">Perhitungan pusat massa untuk O (1) menggunakan gambar terintegrasi</a></li>
<li><a href="../id493302/index.html">Teknologi apa yang telah dipanggil untuk memerangi coronavirus?</a></li>
<li><a href="../id493304/index.html">Mengembangkan hexapod dari awal (bagian 8) - peningkatan pergerakan matematika</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>