<!doctype html>
<html class="no-js" lang="ar">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ ๐ฅ ๐ง๐ฟ ููู ุฃุฌุฑูุช ูุธุงู ูุจูู ููุฏูุน Minecraft ุจุงุณุชุฎุฏุงู PowerShell ุฎุงูุต ๐ง๐ฝ ๐๐ฟ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูู ูุฐู ุงูููุงูุฉ ุ ุณูููู ุจุชุซุจูุท ุงููุนู ุงููููู ุฅูู ุฎุงุฏู Minecraft vanilla ุจุงุณุชุฎุฏุงู Powershell. ููุฒุฉ ุงูุทุฑููุฉ ูู ุฃู ูุงูู ูุฑุงูุช ููุณุช ุณูู ุญุงูุฉ ุฎุงุตุฉ ูุชูููุฐ ุงูู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ููู ุฃุฌุฑูุช ูุธุงู ูุจูู ููุฏูุน Minecraft ุจุงุณุชุฎุฏุงู PowerShell ุฎุงูุต</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/501568/"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/webt/pc/hh/se/pchhsenr29snjnzmnfro-xdfjug.jpeg"></div></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ูุฐู ุงูููุงูุฉ ุ ุณูููู ุจุชุซุจูุท ุงููุนู ุงููููู ุฅูู ุฎุงุฏู Minecraft vanilla ุจุงุณุชุฎุฏุงู Powershell. ููุฒุฉ ุงูุทุฑููุฉ ูู ุฃู ูุงูู ูุฑุงูุช ููุณุช ุณูู ุญุงูุฉ ุฎุงุตุฉ ูุชูููุฐ ุงููุฏููุนุงุช ุงูุชููุงุฆูุฉ ุจุงุณุชุฎุฏุงู ุฃูุงูุฑ ูุญุฏุฉ ุงูุชุญูู. ูุณุชูุน ููุท ุฅูู ูุง ูุฑุณูู ููุง ูุธุงู ุงูุฏูุน ูููู ูู ูุฑูู. ูุงูุฃูู ูู ุฐูู - ูุง ููุญูุงุช. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุณูู ููุจู ุงููุฏููุนุงุช ูู ุฎูุงู PayPal. ุงูุฃูู ูู ุฐูู ุ ูู ุฃุฌู ุงูุจุฏุก ูู ูุจูู ุงููุฏููุนุงุช ุ ูุง ุชุญุชุงุฌ ุฅูู ุชุบููุฑ ุงูุฑูุฒ ุ ุณูุฑุณู ููุง PayPal ูู ูุง ุชุญุชุงุฌู. ุณูุณุชุฎุฏู ุงูุฃุฒุฑุงุฑ ุงูููุฌูุฏุฉ ุนูู ุงููููุน ุ ุจุญูุซ ูููู ูููููุน ุงูููุงู ุจู ุจุงุณุชุฎุฏุงู HTML ุฎุงูุต. ูุณุชุฎูุต ูู ุชุนููุฏุงุช ูุธุงู ุงูุฏูุน ููุณู ููุฑูุฒ ููุท ุนูู ุงูููุงุท ุงูุฑุฆูุณูุฉ ูู ุงูุดูุฑุฉ.</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุจุงูููุงุณุจุฉ ุ ุณูููู ุงููุคูู ุณุนูุฏูุง ุฌุฏูุง ุฅุฐุง ูุธุฑุช ูู ุฎูุงู ุฌููุน ูุญุฏุงุชู ููุฌุฏุช ุฃุฎุทุงุก ุฃุทูุงู ูููุง ุชุดูุฑ ุฅูููุง ุฃู ุชุตุญุญูุง. </font><font style="vertical-align: inherit;">ููุง </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฑุงุจุท</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุดุฑูุน </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;">ุฌูุซุจ</font></a><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุถุน ูููุงุช ุญูู IPN</font></font></font></h2><br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IPN</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุณููุจู ุงููุฏููุนุงุช ูู ุฎูุงู ุงูุฃุฒุฑุงุฑ. </font><font style="vertical-align: inherit;">ูุง ุชุชุทูุจ ุงูุฃุฒุฑุงุฑ ุฃู ุฎูููุฉ ููู ุ ููู ุชุนูู ุจุชูุณูู HTML ุฎุงูุต ุ ููุฏููุง ุฃูุถูุง ุญููููุง ุงูุฎุงุตุฉ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุชุนูู ุงูุฃุฒุฑุงุฑ ุนูู ุชุดุบูู IPN - ุฅุดุนุงุฑ ุงูุฏูุน ุงูููุฑู ุ ุญูุซ ูุชู ุฅุฑุณุงู ุงูุจูุงูุงุช ุฅูู WebListener. </font><font style="vertical-align: inherit;">ุณููุธุฑ ูู ุจููุฉ IPN ุฃุฏูุงู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูููู ูุฃู ุดุฎุต ูุฏูู ุญุณุงุจ PayPal ุฅูุดุงุก ุฒุฑ ุฎุงุต ุจู. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุง ููุชูู IPN ูุงุฌูุฉ PayPal REST API ุงููุงููุฉ ุ ูููู ูููู ุชูููุฐ ุงููุธุงุฆู ุงูุฃุณุงุณูุฉ ุนููู. </font><font style="vertical-align: inherit;">ูู ุงููุงูุน ุ IPN ุงูุฐู ูุนุชุจุฑู ููุณ REST API ุจุงููุนูู ุงููุงูู ูููููุฉ ููุฌุฑุฏ ุฃู PayPal ููุณูุง ูุง ุชุชููุน ุฃู ุดูุก ููุง ุจุงุณุชุซูุงุก ุงูุฑูุฒ 200.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฑูุน WebListener</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฃุณุจุงุจ ุฃูููุฉ ุ ูุง ูุฑุณู PayPal ุงูุทูุจุงุช ุนุจุฑ HTTP ุ ูุฐุง ูุญุชุงุฌ ุฅูู ุฅุตุฏุงุฑ ุดูุงุฏุฉ ููุจุฏุก.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุงุณุชุฎุฏู ุงููุคูู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WinAcme</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">ููููู ุฅุตุฏุงุฑ ุดูุงุฏุฉ ุฅูู ุฃู ูุฌุงู ุ ูุชุญุชุงุฌ ุฅูู ูุถุน ุงูุดูุงุฏุฉ ูู ูุชุฌุฑ ุดูุงุฏุงุช ูุญูู. </font><font style="vertical-align: inherit;">ุจุงูููุงุณุจุฉ ุ ููุน WinAcme ูู ุฌุฐุฑ ุงููุฑุต ูู ุงูุตูุฑุฉ.</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-comment">#     </span>
<span class="hljs-built_in">Get-ChildItem</span> <span class="hljs-literal">-Path</span> Cert:\LocalMachine\My <font></font>
 <font></font>
<span class="hljs-comment">#      443 .</span>
netsh http add sslcert ipport=<span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span>:<span class="hljs-number">443</span> certhash=D106F5676534794B6767D1FB75B58D5E33906710 <span class="hljs-string">"appid={00112233-4455-6677-8899-AABBCCDDEEFF}"</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูููู ูู Powershell ุงุณุชุฎุฏุงู ูุฆุงุช ูู .net ุ ููุง ูุฌุนููุง ุชุณุงูู ุชูุฑูุจูุง .net. </font><font style="vertical-align: inherit;">ุฃููุงู ุ ุจุงุณุชุฎุฏุงู ูุฆุฉ HttpListener ุ ูู ุจุฑูุน ุฎุงุฏู ุงูููุจ.</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-comment">#   .net</span>
<span class="hljs-variable">$http</span> = [<span class="hljs-type">System.Net.HttpListener</span>]::new() <font></font>
 <font></font>
<span class="hljs-comment">#   </span>
<span class="hljs-variable">$http</span>.Prefixes.Add(<span class="hljs-string">"http://donate.to/"</span>)
<span class="hljs-variable">$http</span>.Prefixes.Add(<span class="hljs-string">"https://donate.to/"</span>)<font></font>
 <font></font>
<span class="hljs-comment"># </span>
<span class="hljs-variable">$http</span>.Start()</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุชุญูู ูู ุฃู ูู ุดูุก ุนูู ูุง ูุฑุงู ุ ูู ุจุชุดุบูู netstat. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xs/k4/lc/xsk4lcebgvakhxtchlq38svsc1y.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฅุฐุง ุจุฏุฃ ุงูุจุฑูุงูุฌ ุงููุตู ุจุงูุงุณุชูุงุน ุฅูู ุงููููุฐ 443 ูู ุงููุงุฆูุฉ ุ ููุฐุง ูุนูู ุฃูู ูุนูุช ูู ุดูุก ุจุดูู ุตุญูุญ ุ ููููููุง ูุชุงุจุนุฉ ูุจูู ุงูุทูุจ. </font><font style="vertical-align: inherit;">ููุท ูุง ุชูุณู ุฌุฏุงุฑ ุงูุญูุงูุฉ.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุจูู ุงูุทูุจ</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุจุงุณุชุฎุฏุงู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IPN Simulator ุ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูููููุง ุฅุฑุณุงู ุทูุจ POST ุงุฎุชุจุงุฑู ููุฑู ูุง ูู. </font><font style="vertical-align: inherit;">ูููู ูุง ููููู ุชุถููู ุงูุญููู ุงูุฎุงุตุฉ ุจู ูู ุฐูู ุ ูุฐูู ููุตู ุงููุคูู ุจุนูู ุฒุฑ ูุดุฑุงุก ุดูุก ูู ููุณู ุนูู ุงูููุฑ. </font><font style="vertical-align: inherit;">ุณูุนุฑุถ IPN History ุทูุจูุง ุนุงุฏููุง ูู ุงูุฒุฑ ุงูุฐู ุณุชุณุชุฎุฏูู. </font><font style="vertical-align: inherit;">ูุนู ุงููุคูู ุฐูู ููุท ุนู ุทุฑูู ุดุฑุงุก ูุญู ูุงุญุฏ ููุงุจู ุฑูุจู ูุงุญุฏ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุณููุจู ุจุงุณุชุฎุฏุงู ุญููุฉ while. </font><font style="vertical-align: inherit;">ุฃุซูุงุก ุชุดุบูู ุฎุงุฏู ุงูููุจ ุ ูููููุง ูุฑุงุกุฉ ุฏูู ุงูุจูุงูุงุช ุงููุงุฑุฏุฉ.</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-keyword">while</span> (<span class="hljs-variable">$http</span>.IsListening) {<font></font>
 <font></font>
  <span class="hljs-variable">$context</span> = <span class="hljs-variable">$http</span>.GetContext()<font></font>
 <font></font>
  <span class="hljs-keyword">if</span> (<span class="hljs-variable">$context</span>.Request.HttpMethod <span class="hljs-operator">-eq</span> <span class="hljs-string">'POST'</span> <span class="hljs-operator">-and</span> <span class="hljs-variable">$context</span>.Request.RawUrl <span class="hljs-operator">-eq</span> <span class="hljs-string">'/'</span>) {<font></font>
 <font></font>
    <span class="hljs-comment">#  POST </span>
    <span class="hljs-variable">$Reader</span> = [<span class="hljs-type">System.IO.StreamReader</span>]::new(<span class="hljs-variable">$context</span>.Request.InputStream).ReadToEnd()<font></font>
    <font></font>
    <span class="hljs-comment">#  .</span>
    <span class="hljs-variable">$DecodedContent</span> = [<span class="hljs-type">System.Web.HttpUtility</span>]::UrlDecode(<span class="hljs-variable">$Reader</span>)<font></font>
 <font></font>
    <span class="hljs-comment">#   .</span>
    <span class="hljs-variable">$Payment</span> | <span class="hljs-built_in">Format-Table</span><font></font>
 <font></font>
    <span class="hljs-comment">#  200 OK   .</span>
    <span class="hljs-variable">$context</span>.Response.Headers.Add(<span class="hljs-string">"Content-Type"</span>, <span class="hljs-string">"text/plain"</span>)
    <span class="hljs-variable">$context</span>.Response.StatusCode = <span class="hljs-number">200</span>
    <span class="hljs-variable">$ResponseBuffer</span> = [<span class="hljs-type">System.Text.Encoding</span>]::UTF8.GetBytes(<span class="hljs-string">""</span>)
    <span class="hljs-variable">$context</span>.Response.ContentLength64 = <span class="hljs-variable">$ResponseBuffer</span>.Length
    <span class="hljs-variable">$context</span>.Response.OutputStream.Write(<span class="hljs-variable">$ResponseBuffer</span>, <span class="hljs-number">0</span>, <span class="hljs-variable">$ResponseBuffer</span>.Length)
    <span class="hljs-variable">$context</span>.Response.Close()<font></font>
  }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฅุฐุง ุญุตูุช ุนูู ุดุนูุฑูุฉ ูุซู ูุฐู ุ ููู ุจุชุทุจูู:</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-variable">$Payment</span> = <span class="hljs-variable">$DecodedContent</span> <span class="hljs-operator">-split</span> <span class="hljs-string">"&amp;"</span> | <span class="hljs-built_in">ConvertFrom-StringData</span></code></pre><br>
<img src="https://habrastorage.org/webt/dj/sy/l4/djsyl4jvhe5qp9v9hyjb6jvmqzu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุจุนุฏ ุฐูู ุ ุณุชุชููู ุฃุฎูุฑูุง ูุงุฆููุง ุนุงุฏููุง ุ ุญูุซ ุชููู ูู ุงููููุฉ ุนุจุงุฑุฉ ุนู ุณูุณูุฉ. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sc/ws/xp/scwsxp7gvaglfdzqc5swthhd6do.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููููู ุฅููุงุก ุงููุฑุงุกุฉ ููุง</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฅุฐุง ููุช ูุง ุชุฑูุฏ ุงูุชุนูู ูู ุงูุดูุฑุฉ ุ ููููู ุชุฑุบุจ ููุท ูู ูุจูู ุงูุทูุจุงุช ูู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ุดุฎุต ูุง. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฅููู ุงูุดูุฑุฉ ุงูุชู ุชุนูู ููุฑูุง ุฎุงุฑุฌ ุงูุตูุฏูู ุ ุงูุณุฎูุง ูุงุณุชุฎุฏููุง:</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-comment"># </span>
<span class="hljs-variable">$http</span> = [<span class="hljs-type">System.Net.HttpListener</span>]::new() <font></font>
 <font></font>
<span class="hljs-comment"># ,   </span>
<span class="hljs-variable">$http</span>.Prefixes.Add(<span class="hljs-string">"http://localhost/"</span>)
<span class="hljs-variable">$http</span>.Prefixes.Add(<span class="hljs-string">"https://localhost/"</span>)<font></font>
 <font></font>
<span class="hljs-variable">$http</span>.Start()<font></font>
 <font></font>
<span class="hljs-keyword">while</span> (<span class="hljs-variable">$http</span>.IsListening) {<font></font>
 <font></font>
  <span class="hljs-variable">$context</span> = <span class="hljs-variable">$http</span>.GetContext()<font></font>
 <font></font>
  <span class="hljs-keyword">if</span> (<span class="hljs-variable">$context</span>.Request.HttpMethod <span class="hljs-operator">-eq</span> <span class="hljs-string">'POST'</span> <span class="hljs-operator">-and</span> <span class="hljs-variable">$context</span>.Request.RawUrl <span class="hljs-operator">-eq</span> <span class="hljs-string">'/'</span>) {<font></font>
 <font></font>
    <span class="hljs-comment">#  POST </span>
    <span class="hljs-variable">$Reader</span> = [<span class="hljs-type">System.IO.StreamReader</span>]::new(<span class="hljs-variable">$context</span>.Request.InputStream).ReadToEnd()<font></font>
    <font></font>
    <span class="hljs-comment">#  .</span>
    <span class="hljs-variable">$DecodedContent</span> = [<span class="hljs-type">System.Web.HttpUtility</span>]::UrlDecode(<span class="hljs-variable">$Reader</span>)<font></font>
          <font></font>
    <span class="hljs-comment">#  IPN   </span>
    <span class="hljs-variable">$Payment</span> = <span class="hljs-variable">$DecodedContent</span> <span class="hljs-operator">-split</span> <span class="hljs-string">"&amp;"</span> | <span class="hljs-built_in">ConvertFrom-StringData</span><font></font>
 <font></font>
    <span class="hljs-comment">#   .</span>
    <span class="hljs-variable">$Payment</span> | <span class="hljs-built_in">Format-Table</span><font></font>
 <font></font>
    <span class="hljs-comment">#  200 OK   .</span>
    <span class="hljs-variable">$context</span>.Response.Headers.Add(<span class="hljs-string">"Content-Type"</span>, <span class="hljs-string">"text/plain"</span>)
    <span class="hljs-variable">$context</span>.Response.StatusCode = <span class="hljs-number">200</span>
    <span class="hljs-variable">$ResponseBuffer</span> = [<span class="hljs-type">System.Text.Encoding</span>]::UTF8.GetBytes(<span class="hljs-string">""</span>)
    <span class="hljs-variable">$context</span>.Response.ContentLength64 = <span class="hljs-variable">$ResponseBuffer</span>.Length
    <span class="hljs-variable">$context</span>.Response.OutputStream.Write(<span class="hljs-variable">$ResponseBuffer</span>, <span class="hljs-number">0</span>, <span class="hljs-variable">$ResponseBuffer</span>.Length)
    <span class="hljs-variable">$context</span>.Response.Close()<font></font>
  }<font></font>
}<font></font>
</code></pre><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Minecraft ุงููุฑูู ุงูุฏูููุฉ</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฐูู ุงูุชุดููุง ููู ูููููุง ุชููู ุชูุจููุงุช ุญูู ุงููุฏููุนุงุช ุ ูุงูุขู ูููููุง ุฃู ููุณุจ ููู. ูููู ููุง ุฃูุถุง ููุณุช ุจูุฐู ุงูุจุณุงุทุฉ. ุงููุดููุฉ ูู ุฃู ุงููุนุจุฉ ูุง ุชุนุทู ุนูุงุตุฑ ุฃู ุชุบูุฑ ุญุงูุฉ ุงููุงุนุจูู ุงูุฐูู ููุณูุง ุนูู ุงูุฎุงุฏู. ุฃู ุฃููุง ุจุญุงุฌุฉ ุฅูู ุงูุงูุชุธุงุฑ ุญุชู ูุฏุฎู ุงูุดุฎุต ุฅูู ุงูุฎุงุฏู ููุนุทูู ูุง ุฏูุน ุซููู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฐูู ุ ูุชู ุนุฑุถ ุงูุชุจุงูู ุนูู ุงูููููู ุงูุนุงู ูููุฏุฎู ุ ูููุฏ ุงููุฏููุนุงุช. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sj/tl/9d/sjtl9dgiovppbc6kreduniwz8o0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุชู ุงุณุชูุงู ุงููุฏููุนุงุช ูู ุฎูุงู ุงููุณุชูุน ุฃุนูุงู ุ ุชูุช ุฅุถุงูุฉ ุณุทุฑ ูุงุญุฏ ููุท ููุชุงุจุฉ ุงููุงุฆู ุฅูู ุงูููู. ููุธุฑ ุงูุฏูุน ุงููุงูู (ุงููุนุงูุฌ) ุฅูู ุงูููุจ ููุทุงุจูู ูุน ุงุณู ุงูููู. ุฅุฐุง ูุฌุฏ ููููุง ุ ูุฌูุน ุฃูุฑูุง ูู rcon ููููุฐู. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงุจุฏุฃ ูุงูู ูุฑุงูุช</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุญูู ุงูุชู ูุชุจูุง ุงููุคูู ูู ููุงู ุณุงุจู ุชู ุชุนุฏููู ุจุดูู ุทููู. </font><font style="vertical-align: inherit;">ูุณุชูุน ุงูุขู ุฅูู ุงูุงุณุชูุชุงุฌ ุ ูููุธุฑ ุฅูู ุงูุฃุณูุงุก ุงููุณุชุนุงุฑุฉ ููุงุนุจูู ูููุฑุฑูุง ุฅูู ูุนุงูุฌ ุงูุฏูุน.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุฌุฑุงุก ุนูููุงุช ุฑุฏ ุญููููุฉ</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุจุฏูู ุงุณุชุฎุฏุงู ุงูุฅุถุงูุงุช ุ ุณูููู ุจุฅุฌุฑุงุก ุนูููุงุช ุฑุฏ ุญููููุฉ. </font><font style="vertical-align: inherit;">ููุฐุง ุ ุชู ุชุนุฏูู Start-Minecraft. </font><font style="vertical-align: inherit;">ุงูุขู ูุง ูุนุฑู ููุท ููููุฉ ุฅุถุงูุฉ StdOut ุฅูู ููู ุ ูููู ุฃูุถูุง ููุดู ุนูู ุทูู ูู ุณุทุฑ ุจุฌุฏูู ููุชุธู. </font><font style="vertical-align: inherit;">ูุญุณู ุงูุญุธ ุ ุชุชุฑู ูุนุจุฉ ูุงูู ูุฑุงูุช ุฑุณุงูุฉ ูุญุฏุฏุฉ ููุบุงูุฉ ุนูุฏูุง ูุฏุฎู ุงููุงุนุจ ุฅูู ุงูุฎุงุฏู.</font></font><br>
<br>
<pre><code class="powershell hljs">[<span class="hljs-number">04</span>:<span class="hljs-number">20</span>:<span class="hljs-number">00</span> <span class="hljs-type">INFO</span>]: UUID of player XXPROHUNTERXX is <span class="hljs-number">23</span>e93d2e<span class="hljs-literal">-r34d</span><span class="hljs-literal">-7h15</span> <span class="hljs-literal">-5h17</span><span class="hljs-literal">-a9192cd70b48</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ุงูุณูู ุฌุฏูุง ุงุฎุชูุงุฑ ููุจ ูู ูุฐุง ุงูุณุทุฑ. </font><font style="vertical-align: inherit;">ุฅููู ูู ุงูุดูุฑุฉ ุงูุชู ูุญุชุงุฌูุง ููุญุตูู ุนูู ุงูุจูุงูุงุช ูู ุณูุงุณู Stdout.</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-variable">$Regex</span> = [<span class="hljs-type">Regex</span>]::new(<span class="hljs-string">"of player ([^ ]+)"</span>)<font></font>
 <font></font>
powershell.exe <span class="hljs-operator">-file</span> <span class="hljs-string">".\Start-MinecraftHandler.ps1"</span> <span class="hljs-literal">-type</span> <span class="hljs-variable">$type</span> <span class="hljs-literal">-MinecraftPath</span> <span class="hljs-variable">$MinecraftPath</span> | <span class="hljs-built_in">Tee-Object</span> <span class="hljs-variable">$LogFile</span> <span class="hljs-literal">-Append</span> | <span class="hljs-built_in">ForEach-Object</span> {<font></font>
 <font></font>
     <span class="hljs-built_in">Write-host</span> <span class="hljs-variable">$_</span><font></font>
        <font></font>
    <span class="hljs-variable">$Player</span> = <span class="hljs-variable">$Regex</span>.Matches(<span class="hljs-variable">$_</span>).value <span class="hljs-operator">-replace</span> <span class="hljs-string">"of player "</span><font></font>
        <font></font>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable">$true</span> <span class="hljs-operator">-eq</span> <span class="hljs-variable">$Regex</span>.Matches(<span class="hljs-variable">$_</span>).Success) {
        <span class="hljs-comment">#   </span><font></font>
    }<font></font>
}<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุชู ุฅุฏุฎุงู ุฎุท ุฌุฏูุฏ ูู ุฎุท ุงูุฃูุงุจูุจ $ _ ุ ููุชุจู ูู ูุงูุฐุฉ ูุญุฏุฉ ุงูุชุญูู ููุชุตูุญู ุจุงูุชุธุงู. </font><font style="vertical-align: inherit;">ูุฎุทุฑูุง ุงููุธุงู ุงูุนุงุฏู ููุณู ุนูุฏูุง ูุนูู ุ ููู ุฃูุฑ ูุฑูุญ ููุบุงูุฉ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ููุง ูููููุง ุงุณุชุฏุนุงุก ุฃู ุฑูุฒ. </font><font style="vertical-align: inherit;">ุนูู ุณุจูู ุงููุซุงู ุ ุจุงุณุชุฎุฏุงู ููุณ RCON ุ ูููููุง ุชุญูุฉ ุงููุงุนุจ ูู PM ุ ุจุงุณุชุฎุฏุงู ุจุฑูุงูุฌ ุงูุชุชุจููุน ูู ุงูุฎูุงู ูุฅุนูุงู ุฃู ุดุฎุตูุง ูุง ูุงู ุจุชุณุฌูู ุงูุฏุฎูู ุฅูู ุงูุฎุงุฏู ุ ูุญุธุฑ ูุด ููู ุ ููุง ุฅูู ุฐูู.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุณุฏูุฏ ุงููุฏููุนุงุช</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุฐ ุฃู ุจุฏุฃูุง ูู ูุนุงูุฌุฉ ุงููุฏููุนุงุช ุ ููุฏ ุฃู ูุญุตู ุนูู ุงูุฃูู ุนูู ุจูุงูุงุช ูุงููุฉ ุชูุงููุง ุญูู ุงูุนูููุฉ ูุชุงุฑูุฎ ุงูุนูููุงุช ุงูุชู ุชู ุฅุฌุฑุงุคูุง ุ ูุฃููุง ูุชุญุฏุซ ุนู ุฃุฑูุงู ุฐุงุช ุตูุฑูู ุ ุฅุฐุง ุฌุงุฒ ุงูุชุนุจูุฑ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฑุบุจ ุงููุคูู ูู ุชุฑู ูู ุดูุก ุจุณูุท ููุบุงูุฉ ูุนุฏู ูุญุงูุงุฉ ูุงุนุฏุฉ ุญุชู ุงูุขู. </font><font style="vertical-align: inherit;">ุฏุนููุง ูููู ูุธุฑุฉ ุนูู ููุฌ NoSQL. </font><font style="vertical-align: inherit;">ูููู ุจุฅูุดุงุก ูุตู ุฎุงุต ุจูุง ุ ูุงูุฐู ุณูููู ุจุงุณุชูุฑุงุฏ ุฌููุน ุงููุฏููุนุงุช ุงูููุจููุฉ ุฅูู / ุงููุฏููุนุงุช / ุงููุฌูุฏ ูู ูููุงุช Json.</font></font><br>
<br>
<pre><code class="powershell hljs">    <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Payment</span></span> {
        <span class="hljs-comment">#  .</span>
        [<span class="hljs-built_in">datetime</span>]<span class="hljs-variable">$Date</span> = [<span class="hljs-built_in">datetime</span>]::ParseExact(<span class="hljs-variable">$i</span>.payment_date, <span class="hljs-string">"HH:mm:ss MMM dd, yyyy PDT"</span>, [<span class="hljs-type">System.Globalization.CultureInfo</span>]::InvariantCulture)
        <span class="hljs-comment"># </span>
        [<span class="hljs-built_in">string</span>]<span class="hljs-variable">$Item</span> = <span class="hljs-variable">$i</span>.item_name
        <span class="hljs-comment"># </span>
        [<span class="hljs-type">UInt16</span>]<span class="hljs-variable">$Quantity</span> = <span class="hljs-variable">$i</span>.Quantity
        <span class="hljs-comment">#    </span>
        [<span class="hljs-type">UInt16</span>]<span class="hljs-variable">$AmountPaid</span> = <span class="hljs-variable">$AmountPaid</span> <span class="hljs-operator">-as</span> [<span class="hljs-type">UInt16</span>]
        <span class="hljs-comment">#     </span>
        [<span class="hljs-built_in">string</span>]<span class="hljs-variable">$Currency</span> = <span class="hljs-variable">$i</span>.mc_currency
        <span class="hljs-comment"># ,   </span>
        [<span class="hljs-built_in">string</span>]<span class="hljs-variable">$Player</span> = <span class="hljs-variable">$i</span>.option_selection1<font></font>
    <font></font>
        [<span class="hljs-built_in">bool</span>]<span class="hljs-variable">$Completed</span> = <span class="hljs-variable">$false</span>
        [<span class="hljs-type">UInt16</span>]<span class="hljs-variable">$ItemId</span> = <span class="hljs-variable">$i</span>.item_number<font></font>
    }<font></font>
/source&gt;<font></font>
<font></font>
    , , ,          .<font></font>
<font></font>
 ,    &lt;b&gt;option_selection1&lt;/b&gt; โ   .      input,   ,     .<font></font>
     &lt;b&gt;option_selection1&lt;/b&gt;,&lt;b&gt;option_selection2&lt;/b&gt;   .<font></font>
<font></font>
      ,     ,      .<font></font>
<font></font>
&lt;source lang=<span class="hljs-string">"powershell"</span>&gt; <span class="hljs-comment">#     Payment,        .</span>
    <span class="hljs-variable">$Payment</span> = [<span class="hljs-type">Payment</span>]::new()
    <span class="hljs-variable">$Payment</span> | <span class="hljs-built_in">Format-Table</span>
    <span class="hljs-comment">#  ,   ----</span>
    <span class="hljs-variable">$FileName</span> = <span class="hljs-variable">$Payment</span>.Player + <span class="hljs-string">"-"</span> + <span class="hljs-variable">$Payment</span>.date.Hour + <span class="hljs-string">"-"</span> + <span class="hljs-variable">$Payment</span>.date.Minute + <span class="hljs-string">"-"</span> + <span class="hljs-variable">$Payment</span>.date.Day + <span class="hljs-string">"-"</span> + <span class="hljs-variable">$Payment</span>.date.Month + <span class="hljs-string">"-"</span> + <span class="hljs-variable">$Payment</span>.date.Year + <span class="hljs-string">".json"</span><font></font>
 <font></font>
<span class="hljs-comment"># ,      </span>
    <span class="hljs-variable">$JsonPath</span> = <span class="hljs-built_in">Join-Path</span> <span class="hljs-variable">$MinecraftPath</span> \payments\Pending <span class="hljs-variable">$FileName</span><font></font>
    <font></font>
    <span class="hljs-comment">#   </span>
    <span class="hljs-variable">$Payment</span> | <span class="hljs-built_in">ConvertTo-Json</span> | <span class="hljs-built_in">Out-File</span> <span class="hljs-variable">$JsonPath</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฐุง ูู ูุง ูุงู ูุทููุจูุง ูู ูุณุชูุนูุง. </font><font style="vertical-align: inherit;">ุชููู ุงูุจูุงูุงุช ูู PayPal ูุงููุชุงุจุฉ ุฅูู ููู.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ุจูุนุงูุฌุฉ ุงูุฏูุน</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุณูุชู ุงุณุชุฏุนุงุก ุงููุนุงูุฌ ุงูุนุงุฏู ุงูุฐู ูุชุจ ุนูู ูู ููุช ุณุงุจู. </font><font style="vertical-align: inherit;">ูููู ุจููู ููุจ ุงููุงุนุจ ุฅูู ุงููุญุฏุฉ ุงูููุทูุฉ ููุฐุง ูู ุดูุก. </font><font style="vertical-align: inherit;">ุจุนุฏ ุฐูู ุ ูุชู ุชุดุบูู ุจุฑูุงูุฌ ูุตู ุฌุฏูุฏ ุ ูุจุญุซ ุนู ุงูููู ุ ูุฅุฐุง ูุงู ููุงู ููู ุ ูุฅูู ูููุญ ุงููุงุนุจ ุงูุนูุตุฑ ุงูููุชูุจ ูู ุงูููู.</font></font><br>
<br>
<pre><code class="powershell hljs">powershell.exe <span class="hljs-operator">-file</span> <span class="hljs-string">"C:\mc.fern\Start-MinecraftHandler.ps1"</span> <span class="hljs-literal">-type</span> <span class="hljs-variable">$type</span> <span class="hljs-literal">-MinecraftPath</span> <span class="hljs-variable">$MinecraftPath</span> | <span class="hljs-built_in">Tee-Object</span> <span class="hljs-variable">$LogFile</span> <span class="hljs-literal">-Append</span> | <span class="hljs-built_in">ForEach-Object</span> {<font></font>
       <font></font>
        <span class="hljs-comment">#     ,      .</span>
        <span class="hljs-built_in">Write-host</span> <span class="hljs-variable">$_</span>   <font></font>
 <font></font>
        <span class="hljs-comment"># Regex     </span>
        <span class="hljs-keyword">if</span> (<span class="hljs-variable">$true</span> <span class="hljs-operator">-eq</span> <span class="hljs-variable">$Regex</span>.Matches(<span class="hljs-variable">$_</span>).Success) {<font></font>
            <font></font>
            <span class="hljs-comment">#       </span>
            <span class="hljs-variable">$Player</span> = <span class="hljs-variable">$Regex</span>.Matches(<span class="hljs-variable">$_</span>).value <span class="hljs-operator">-replace</span> <span class="hljs-string">"of player "</span><font></font>
            <font></font>
            <span class="hljs-comment">#  ,       </span>
            <span class="hljs-built_in">Complete-Payment</span> <span class="hljs-literal">-Player</span> <span class="hljs-variable">$Player</span><font></font>
        }<font></font>
    }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุนูุฏูุง ูุชู ุชุดุบูู ุงูุงูุชุธุงู ุ ูุชู ุชุดุบูู ูุญุฏุฉ ุชููู ุงูุฏูุน ุ ุฃู ุฃููุง ุชููุญ ุงููุงุนุจ ุนูุตุฑูุง. </font><font style="vertical-align: inherit;">ููููุงู ุจุฐูู ุ ูู ุงููุฌูุฏ / Payments / Pending / ุ ูุจุญุซ ุงูุจุฑูุงูุฌ ุงููุตู ุนู ุงููููุงุช ุงูุชู ุชุญุชูู ุนูู ููุจ ุงููุงุนุจ ุงูุฐู ุฏุฎู ุงููุนุจุฉ ูููุฑุฃ ูุญุชููุงุชูุง. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุงูุขู ุชุญุชุงุฌ ุฅูู ุฌูุน ุงูุฃูุฑ ููุฎุงุฏู ูุฅุฑุณุงูู ุฅูู ููุงู. </font><font style="vertical-align: inherit;">ุณูุชู ุฌูุนูุง ูู ููู. </font><font style="vertical-align: inherit;">ูุญู ูุนูู ููุจ ุงููุงุนุจ ุ ูุงุณู ุงูุนูุตุฑ ููุนุฑูู ุงูุฐู ุชู ุชุณุฌููู ุ ูุนุฏุฏ ุงููุทุน ุงูุชู ุชู ุชุณุฌูููุง ุฃูุถูุง ุ ููุจูู ููุท ูุฅุฑุณุงู ุฃูุฑ ุฅูู ุฎุงุฏู ุงููุนุจุฉ. </font><font style="vertical-align: inherit;">ููุฐุง ุณูุณุชุฎุฏู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mcrcon</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-comment">#    </span>
    <span class="hljs-variable">$JsonPath</span> = <span class="hljs-built_in">Join-Path</span> <span class="hljs-variable">$MinecraftPath</span>\payments\Pending <span class="hljs-literal">-ChildPath</span> <span class="hljs-variable">$Player</span>*
    <span class="hljs-variable">$i</span> = <span class="hljs-variable">$JsonPath</span> | <span class="hljs-built_in">Get-Item</span> | <span class="hljs-built_in">Where-Object</span> { !<span class="hljs-variable">$_</span>.PSIsContainer } | <span class="hljs-built_in">Get-Content</span> | <span class="hljs-built_in">ConvertFrom-Json</span> <span class="hljs-literal">-ErrorVariable</span> Errored<font></font>
 <font></font>
    <span class="hljs-comment">#      </span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable">$null</span> <span class="hljs-operator">-ne</span> <span class="hljs-variable">$i</span>) {<font></font>
 <font></font>
        <span class="hljs-comment">#  </span>
        <span class="hljs-variable">$Command</span> = <span class="hljs-string">'"'</span> + <span class="hljs-string">"give "</span> + <span class="hljs-variable">$i</span>.Player + <span class="hljs-string">" "</span> + <span class="hljs-variable">$i</span>.Item + <span class="hljs-string">" "</span> + <span class="hljs-variable">$i</span>.Quantity + <span class="hljs-string">'"'</span>
        <span class="hljs-built_in">Write-host</span> <span class="hljs-variable">$Command</span> <span class="hljs-literal">-ForegroundColor</span> Green<font></font>
    <font></font>
        <span class="hljs-comment">#   </span>
        <span class="hljs-built_in">Start-Process</span> <span class="hljs-literal">-FilePath</span> mcrcon.exe <span class="hljs-literal">-ArgumentList</span> <span class="hljs-string">"-H localhost -p 123 -w 5 <span class="hljs-variable">$Command</span>"</span><font></font>
    <font></font>
        <span class="hljs-comment"># ,      </span>
        <span class="hljs-variable">$JsonPath</span> = <span class="hljs-built_in">Join-Path</span> <span class="hljs-variable">$MinecraftPath</span>\payments\Pending <span class="hljs-literal">-ChildPath</span> <span class="hljs-variable">$FileName</span><font></font>
        <font></font>
        <span class="hljs-comment">#   </span>
        <span class="hljs-variable">$i</span> | <span class="hljs-built_in">ConvertTo-Json</span> | <span class="hljs-built_in">Out-File</span> <span class="hljs-variable">$JsonPath</span><font></font>
    <font></font>
        <span class="hljs-comment">#     </span>
        <span class="hljs-built_in">Move-Item</span>  <span class="hljs-literal">-Path</span> <span class="hljs-variable">$JsonPath</span> <span class="hljs-literal">-Destination</span> <span class="hljs-variable">$MinecraftPath</span>\payments\Completed<font></font>
    }<font></font>
</code></pre><br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุญู ูุตูุน ูู ุดูุก ูู ูุญุฏุฉ ููุงุณุจุฉ</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุชุชุทูุจ ุนูููุฉ Java ูุนูููุฉ WebListener ูุคุดุฑุงุช ุชุฑุงุจุท ูุฎุชููุฉ ุ ูููู ุงููุคูู ุบูุฑ ุฑุงุถู ุนู ุงูุญุงุฌุฉ ุฅูู ุชุดุบูู WebListener ุจุดูู ูููุตู ูุงูุฎุงุฏู ุจุดูู ูููุตู. </font><font style="vertical-align: inherit;">ูุฑูุฏ ุงููุคูู ูู ุดูุก ุฏูุนุฉ ูุงุญุฏุฉ ูุน ูุฑูู ูุงุญุฏ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฐูู ุ ุจุงุณุชุฎุฏุงู Powershell 7 ุ ุณูุทูู ูุฐุง ูุฐุงู. </font><font style="vertical-align: inherit;">ูุณูู ูุณุงุนุฏูุง:</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-built_in">ForEach-Object</span> <span class="hljs-literal">-Parallel</span> {}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุนูู ุงูุฃูุฑ cmdlet ูุน inputObject ุ ูุฐูู ูููู ุจุฅุทุนุงูู ุตููููุง ุบูุฑ ูุนูุฏ ููุดุงุฑูุฉ ุงูุชุฏููุงุช ุจุงุณุชุฎุฏุงู ุงููุญูู.</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span> | <span class="hljs-built_in">ForEach-Object</span> <span class="hljs-literal">-Parallel</span> {<font></font>
 <font></font>
    <span class="hljs-built_in">Import-Module</span> <span class="hljs-string">".\Start-Minecraft.ps1"</span><font></font>
 <font></font>
    <span class="hljs-built_in">Import-Module</span> <span class="hljs-string">".\Start-WebListener.ps1"</span><font></font>
 <font></font>
    <span class="hljs-keyword">switch</span> (<span class="hljs-variable">$_</span>) {
        <span class="hljs-string">"A"</span> {
            <span class="hljs-built_in">Start-WebListener</span> <span class="hljs-literal">-Path</span> <span class="hljs-string">"C:\mc\"</span><font></font>
        }<font></font>
        <span class="hljs-string">"B"</span> {
            <span class="hljs-built_in">Start-Minecraft</span> <span class="hljs-literal">-Type</span> Vanilla <span class="hljs-literal">-LogFile</span> <span class="hljs-string">".\stdout.txt"</span> <span class="hljs-literal">-MinecraftPath</span> <span class="hljs-string">"C:\mc\"</span><font></font>
        }<font></font>
        <font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฐูู ุ ุจุทุฑููุฉ ุนูุณูุฉ ุ ุจุฏุฃูุง ุนูููุชูู ูุฎุชููุชูู ูู ูุญุทุฉ ูุงุญุฏุฉ ููู ูููุฏ ุญุชู ุงููุฏุฎูุงุช. </font><font style="vertical-align: inherit;">ูููู ูุงูุช ููุงู ูุดููุฉ ุฃุฎุฑู. </font><font style="vertical-align: inherit;">ูููู WebListener ุจุชุฃููู ูุญุฏุฉ ุงูุชุญูู ุจุนุฏ ุฅููุงู ุชุดุบูู ุงูุฎุงุฏู ุจุดูู ููุชุธู ููุง ูุฑูุฏ ุงูุงูุชูุงู ุฅูู ุฃู ููุงู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููู ูุง ูุชู ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฌูุงุฒ ุงูุทุฑูู ูู ูู ูุฑุฉ ุ ุชูุช ุฅุถุงูุฉ ููุชุงุญ ุนุดูุงุฆู ุฅูู Start-MinecraftHandler.ps1 ูุฅูู Start-WebListener.ps1 ุ ููุง ุณูุคุฏู ุฅูู ุฅููุงู ุงูุฎุงุฏู ุนุจุฑ POST ุนูู WebListener. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Start-MinecraftHandler.ps1 ุ ุนูุฏูุง ูุณุฌู ุฅููุงู ูุงุฌุญ ุ ูููุฐ ุงูุฃูุฑ:</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-built_in">Invoke-WebRequest</span> <span class="hljs-literal">-Method</span> Post <span class="hljs-literal">-Uri</span> localhost <span class="hljs-literal">-Body</span> <span class="hljs-variable">$StopToken</span> | <span class="hljs-built_in">Out-Null</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุญุชูู StopToken $ ุนูู ูููุฉ ุฑูููุฉ ุนุดูุงุฆูุฉ ูุชู ุชูุฑูุฑูุง ูุณุจููุง ุจูุงุณุทุฉ ุงูุจุฑูุงูุฌ ุงููุตู ูุจุฏุก ุงูุชุดุบูู ุฅูู ูู ูู ุงููุณุชูุน ูุงููุนุงูุฌ. </font><font style="vertical-align: inherit;">ููุธุฑ ุงููุณุชูุน ุฅูู ูุง ุงุณุชููู ูู ุงูุทูุจ ูููุทูุฆ ุฅุฐุง ูุงู ูุต ุงูุทูุจ ูุทุงุจู $ StopToken.</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-keyword">if</span> (<span class="hljs-variable">$DecodedContent</span> <span class="hljs-operator">-eq</span> <span class="hljs-variable">$StopToken</span>) {
        <span class="hljs-built_in">Write-Host</span> <span class="hljs-string">"Stopping WebListener"</span>
        <span class="hljs-variable">$context</span>.Response.Headers.Add(<span class="hljs-string">"Content-Type"</span>, <span class="hljs-string">"text/plain"</span>)
        <span class="hljs-variable">$context</span>.Response.StatusCode = <span class="hljs-number">200</span>
        <span class="hljs-variable">$ResponseBuffer</span> = [<span class="hljs-type">System.Text.Encoding</span>]::UTF8.GetBytes(<span class="hljs-string">""</span>)
        <span class="hljs-variable">$context</span>.Response.ContentLength64 = <span class="hljs-variable">$ResponseBuffer</span>.Length
        <span class="hljs-variable">$context</span>.Response.OutputStream.Write(<span class="hljs-variable">$ResponseBuffer</span>, <span class="hljs-number">0</span>, <span class="hljs-variable">$ResponseBuffer</span>.Length)
        <span class="hljs-variable">$context</span>.Response.Close()
        <span class="hljs-variable">$http</span>.Close()
        <span class="hljs-keyword">break</span><font></font>
      }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฅูู ุขูู ุจูุง ููู ุงูููุงูุฉ ุ ููุท ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ุชุนุฑู ุนู ุงูุฑูุฒ ุงููููุฒ ููุง ุฃุญุฏ ุบูุฑู. </font><font style="vertical-align: inherit;">ูุชู ุฅุทูุงู ุฌููุน ุงููุญุฏุงุช ูู ุชุญุช PowerShell 7 ุ ููุฎุชูู ุงููุณุงุฑ ุฅูู ุงููุญุฏุงุช ุงูููุทูุฉ ูู PowerShell 7 ุนู ุงููุณุงุฑ ูู Windows Powershell. </font><font style="vertical-align: inherit;">ุชู ุชูุฏูุณ ูู ุดูุก ููุง. </font><font style="vertical-align: inherit;">ุถุน ูู ุงุนุชุจุงุฑู ุนูุฏ ูุชุงุจุฉ ุงูุฎุงุตุฉ ุจู.</font></font><br>
<br>
<pre><code class="powershell hljs">C:\Program Files\PowerShell\<span class="hljs-number">7</span>\Modules</code></pre><br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุตูุน ููู ุงูุชูููู</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุญุชู ูููู ุงุณุชุฎุฏุงู ูู ูุฐุง ุงูุฎุฒู ุจุฏูู ุตุฏุงุน ุดุฏูุฏ ุ ุชุญุชุงุฌ ุฅูู ุฅูุดุงุก ููู ุชูููู ุนุงุฏู. </font><font style="vertical-align: inherit;">ุณูุญุชูู ุงูููู ุนูู ูุชุบูุฑุงุช ูููุณ ุฃูุซุฑ. </font><font style="vertical-align: inherit;">ูุชูุณู ุงูุชููููุงุช ุจุงุณุชุฎุฏุงู ุงููุนูุงุฑ:</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-built_in">Import-Module</span> <span class="hljs-variable">$MinecraftPath</span>\config.ps1 <span class="hljs-literal">-Force</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุญู ุจุญุงุฌุฉ ุฅูู ุงูุฅุดุงุฑุฉ ุฅูู ุฃูู ุดูุก. </font><font style="vertical-align: inherit;">ุงููุทุงู ุงูุฐู ูุชู ุงูููุฑ ุนููู ูู ุงููุทุงู ุงูุนุงุฏู ุงูุฐู ูุจุญุซ ุนู ููุจ ุงููุงุนุจ ุ ููุฏ ูุฎุชูู ุงููุงุชุฌ ูู ุฅุตุฏุงุฑ ุฅูู ุขุฎุฑ ุ ููููุฉ ุงููุฑูุฑ ูู rcon. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุชุจุฏู ููุฐุง:</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-comment">#,    </span>
<span class="hljs-variable">$DomainName</span> = <span class="hljs-string">"localhost"</span><font></font>
 <font></font>
<span class="hljs-comment"># ,      </span>
<span class="hljs-comment"># ,  </span>
<span class="hljs-variable">$RegExp</span> = <span class="hljs-string">"of player ([^ ]+)"</span>
<span class="hljs-comment">#    ,   ,  .</span>
<span class="hljs-variable">$RegExpCut</span> = <span class="hljs-string">"of player "</span><font></font>
 <font></font>
<span class="hljs-comment">#  rcon,     server.properties</span>
<span class="hljs-variable">$rconPassword</span> = <span class="hljs-string">"123"</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ุงููุณุชุญุณู ูุถุน ุงูุชูููู ูู ูุฌูุฏ ุงูุฎุงุฏู ุ ูุฃู ุงูุจุฑูุงูุฌ ุงููุตู ูุจุญุซ ุนูู ูู ุงูุฌุฐุฑ MinecraftPath</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููู ุชุณุชุฎุฏู ูู ูุฐุงุ</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุจุงุฏุฆ ุฐู ุจุฏุก </font><font style="vertical-align: inherit;">ุ </font><font style="vertical-align: inherit;">ูุชู ุชุซุจูุช ูุฐู ุงูุจุฑุงูุฌ ุงููุตูุฉ ูุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู ูู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุณูู</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ruvds </font><font style="vertical-align: inherit;">ุ ูููู ุฅุฐุง ูู ููู ูุฏูู ุนููู ุจุนุฏ ุฃู ูู ุชุฌุฑุจ ุงูุตูุฑุฉ ุ ูุฅููู ุฑุงุจุทูุง ูุฌููุน ุงููููุงุช ุงูููุฌูุฏุฉ ูู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุณุชูุฏุน</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ ููุง ุชุชุฑุฏุฏ ูู ุงูุงูุชุฒุงู.&nbsp;</font></font><br>
<br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชูุฒูู</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุชุซุจูุช PowerShell 7</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุจุชูุฒูู ุฃุฑุดูู ุงููุญุฏุงุช ููู ุถุบุทู</font></font><br>
</li>
</ol><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุงูุขู ุธูุฑุช ุฌููุน ุงููุญุฏุงุช ูุงูุฃูุงูุฑ ุงููุงุฒูุฉ. </font><font style="vertical-align: inherit;">ูุงุฐุง ููุนูููุ</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงุจุฏุฃ ูุงูู ูุฑุงูุช</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุงูุฎูุงุฑุงุช: - </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุชุจ</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Forge ุฃู Vanilla. </font><font style="vertical-align: inherit;">ูุจุฏุฃ ุงูุฎุงุฏู ุฅูุง ูู Server.Jar ุฃู Forge ุ ุจุงุฎุชูุงุฑ ุฃุญุฏุซ ุฅุตุฏุงุฑ ููุฌูุฏ ูู ุงููุฌูุฏ. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-MinecraftPath ูุดูุฑ</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ุฅูู ุงููุฌูุฏ ุงูุฐู ุณูุชู ุชุดุบูู ุงูุฎุงุฏู ููู. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-LogFile</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ุทุฑููุฉ ุจุฏููุฉ ูุฌูุน ุงูุณุฌูุงุช. </font><font style="vertical-align: inherit;">ูุดูุฑ ุฅูู ููู ุณูุชู ููู ูุชุงุจุฉ ูู ุดูุก ูุธูุฑ ูู ูุญุฏุฉ ุงูุชุญูู. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-StartPaymentListener</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ุฅูู ุฌุงูุจ ุงูุฎุงุฏู ุ ูุจุฏุฃ ูููุจู ุงููุฏููุนุงุช. </font><font style="vertical-align: inherit;">ูุจูู ุงูุฏูุน ููุณู ูุชุงุญ ููุญุฏุฉ ูููุตูุฉ. </font><font style="vertical-align: inherit;">ูุณุชุจุฏู cmdlet Start-Weblistener</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุฏุก ูุงุฆูุฉ ุงูููุจ</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุชุจุฏุฃ ูุญุฏุฉ ูุจูู ุงูุฏูุน. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-MinecraftPath ูุดูุฑ</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ุฅูู ุงููุฌูุฏ ูุน ููู ุงูุชูููู. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-StopToken</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ูุญุฏุฏ </font><b><font style="vertical-align: inherit;">-Body</font></b><font style="vertical-align: inherit;"> HTTP POST ุทูุจ ูุฅููุงู WebListener'a.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงุณุชูุชุงุฌ:</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุญุณููุง ุ ุชุญุฏุซ ุงููุนุฌุฒุงุช.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><img src="https://habrastorage.org/webt/a_/bs/aa/a_bsaactpbr8fltzymtkhqbw1d4.png"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar501554/index.html">ูููู ุจุจูุงุก ุญุณุงุจ ุดุฎุตู ูุฎุฏูุฉ SaaS ููุฃูู</a></li>
<li><a href="../ar501558/index.html">ุฑู ูุชุจ ุงูุทุจ ุงูุดุฑุนู ููููุจููุชุฑ: ุฃูุถู 11 ูุชุงุจูุง ุนู ุงูุทุจ ุงูุดุฑุนู ุงูุฑููู ูุงูุงุณุชุฌุงุจุฉ ููุญูุงุฏุซ ูุชุญููู ุงูุจุฑุงูุฌ ุงูุถุงุฑุฉ</a></li>
<li><a href="../ar501560/index.html">"ุฃูุง ุฃูุซุฑ ูุฏูุกูุง ูู ุงูููุณ ูู ุญูู ููุชูุญ" ุฃู ูุง ูู Ninjutsu-OS</a></li>
<li><a href="../ar501564/index.html">ุงุชุฌุงูุงุช ุงูุงุฎุชุจุงุฑ ูู ุนุงู 2020</a></li>
<li><a href="../ar501566/index.html">ุชูููุฉ ุงููุงู ูุฃููุงุน ุงููุงุฆุฏุฉ ูุงูุฎุตููุงุช ูุงูุฃุณุนุงุฑ ุงูุขุฌูุฉ. ุงูุจุฑูุงูุฌ ุงูุชุนูููู ููููุณ ุงูุฌุฒุก 1</a></li>
<li><a href="../ar501570/index.html">ูุดุฑ ุงุณุชุจูุงู ุงูููุจ Meduza: ุฏููู ุฎุทูุฉ ุจุฎุทูุฉ ูููุจุชุฏุฆูู</a></li>
<li><a href="../ar501572/index.html">ุงูุญุฑุจ 68000 ุ ุงูุฌุฒุก 2: ุนูุฏุฉ ุฌุงู</a></li>
<li><a href="../ar501574/index.html">ุชูููู. ุงุญุณุจ ู ุงูุชูู</a></li>
<li><a href="../ar501576/index.html">ุงุณุชุนุฏ ููุฅุถุงุกุฉ</a></li>
<li><a href="../ar501578/index.html">ุงูุจูุงุบุฉ ูุฃุฏุงุฉ ููุณูุงูุฉ. ุชูููุงุช ุงูููุงู ุงูุดููู ูุงูุฌุฐุจ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>