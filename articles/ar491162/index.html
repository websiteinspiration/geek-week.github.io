<!doctype html>
<html class="no-js" lang="ar">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>โ๏ธ ๐ โ๏ธ PostgreSQL Antipatterns: ุญูุงูุฉ ุญูู ุงูุชุญุณูู ุงูุชูุฑุงุฑู ููุจุญุซ ุจุงูุงุณู ุ ุฃู "ุงูุชุญุณูู ุฐูุงุจูุง ูุฅูุงุจูุง" ๐ ๐ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุณุฌู ุงูุขูุงู ูู ุงููุฏูุฑูู ูู ููุงุชุจ ุงููุจูุนุงุช ูู ุฌููุน ุฃูุญุงุก ุงูุจูุงุฏ ุนุดุฑุงุช ุงูุขูุงู ูู ุฌูุงุช ุงูุงุชุตุงู ูู ูุธุงู ุฅุฏุงุฑุฉ ุนูุงูุงุช ุงูุนููุงุก ูุฏููุง  ูู ููู - ุญูุงุฆู ุงูุชูุงุตู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>PostgreSQL Antipatterns: ุญูุงูุฉ ุญูู ุงูุชุญุณูู ุงูุชูุฑุงุฑู ููุจุญุซ ุจุงูุงุณู ุ ุฃู "ุงูุชุญุณูู ุฐูุงุจูุง ูุฅูุงุจูุง"</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/tensor/blog/491162/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุณุฌู ุงูุขูุงู ูู ุงููุฏูุฑูู ูู ููุงุชุจ ุงููุจูุนุงุช ูู ุฌููุน ุฃูุญุงุก ุงูุจูุงุฏ </font><b><font style="vertical-align: inherit;">ุนุดุฑุงุช ุงูุขูุงู ูู ุฌูุงุช ุงูุงุชุตุงู</font></b><font style="vertical-align: inherit;"> ูู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุธุงู ุฅุฏุงุฑุฉ ุนูุงูุงุช ุงูุนููุงุก ูุฏููุง </font></font></a> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ููู</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - ุญูุงุฆู ุงูุชูุงุตู ูุน ุงูุนููุงุก ุงููุญุชูููู ุฃู ุงูุฐูู ูุนูููู ุจุงููุนู ูุนูุง. ูุจุงููุณุจุฉ ููุฐุง ุงูุนููู ุ ูุฌุจ ุนููู ุฃููุงู ุงูุนุซูุฑ ุนููู ุ ูููุถู ุฃู ูููู ุฐูู ุจุณุฑุนุฉ ูุจูุฑุฉ. ููุฐุง ูุญุฏุซ ูู ุงูุบุงูุจ ุจุงูุงุณู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฐูู ุ ููุณ ูู ุงููุณุชุบุฑุจ ุฃูู ุจุนุฏ ุชุญููู ุงูุทูุจุงุช "ุงูุซูููุฉ" ูุฑุฉ ุฃุฎุฑู ูู ุฅุญุฏู ููุงุนุฏ ุงูุจูุงูุงุช ุงูุฃูุซุฑ ุชุญููููุง - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุญุณุงุจ VLSI</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุฎุงุต ุจุดุฑูุชูุง </font><font style="vertical-align: inherit;">ุ ูุฌุฏุช "ูู ุงูุฃุนูู" </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุทูุจูุง ููุจุญุซ "ุงูุณุฑูุน" ุจุงูุงุณู</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุจุทุงูุงุช ุงูุดุฑูุฉ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุนูุงูุฉ ุนูู ุฐูู ุ ูุดู ุชุญููู ุขุฎุฑ ุนู ูุซุงู ูุซูุฑ ููุงูุชูุงู </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุชุญุณูู ุซู ุชุฏููุฑ ุงูุฃุฏุงุก</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุทูุจ ูู ุตูููุง ุงููุงุญู ูู ูุจู ุงูุนุฏูุฏ ูู ุงููุฑู ุ ูู ูููุง ุชุตุฑู ููุท ูู ุญุณู ุงูููุฉ.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0: ูุงุฐุง ูุฑูุฏ ุงููุณุชุฎุฏู</font></font></h2><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/du/k9/mg/duk9mgzeofw0ka5_lrg8lewch7k.png"></div><font color="#c0c0c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[KDPV </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ููุง</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]</font></font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ูุงุฐุง ูุนูู ุงููุณุชุฎุฏู ุนุงุฏุฉ ุนูุฏูุง ูููู ุงูุจุญุซ "ุงูุณุฑูุน" ุจุงูุงุณูุ </font><font style="vertical-align: inherit;">ุฃุจุฏุง ุชูุฑูุจุง ุงุชุถุญ ุฃู ุชููู "ุตุงุฏูุฉ" ุงูุจุญุซ ุนูู ุณูุณูุฉ ูุฑุนูุฉ ูู ููุน </font></font><code>... LIKE '%%'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- ูุฃููุง ุนูุฏุฆุฐ ููุณ ููุท </font><font style="vertical-align: inherit;">ู </font><font style="vertical-align: inherit;">ุ ูููู </font><font style="vertical-align: inherit;">ุญุชู ุญุชู </font><font style="vertical-align: inherit;">ุงูุญุตูู ุนูู ุงููุชูุฌุฉ </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">
ูุดูุฑ ุงููุณุชุฎุฏู ุนูู ูุณุชูู ุงูุฃุณุฑุฉ ุฅูู ุฃูู ุณุชุฒูุฏู </font><b><font style="vertical-align: inherit;">ุจุจุญุซ ูู ุจุฏุงูุฉ ูููุฉ</font></b><font style="vertical-align: inherit;"> ูู ุงูุนููุงู ูุชุธูุฑ ุฃูุซุฑ ุตูุฉ ุจูุง </font><b><font style="vertical-align: inherit;">ูุจุฏุฃ </font></b><b><font style="vertical-align: inherit;">ุจูููุฉ ุชู</font></b><font style="vertical-align: inherit;"> ุฅุฏุฎุงููุง. </font><font style="vertical-align: inherit;">ูููุนู ุฐูู </font><b><font style="vertical-align: inherit;">ุนูู ุงูููุฑ ุชูุฑูุจูุง</font></b><font style="vertical-align: inherit;"> - ูุน ุฅุฏุฎุงู ุจูู ุงูุณุทูุฑ.</font></font><code>'<u></u>'</code><font style="vertical-align: inherit;"></font><code>' <u></u>'</code><font style="vertical-align: inherit;"></font><code>'<u></u>'</code><font style="vertical-align: inherit;"></font><code>'  <u></u>'</code><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1: ุชุญุฏูุฏ ุงููููุฉ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฃูุซุฑ ูู ุฐูู ุ ูู ูุฏุฎู ุงูุดุฎุต ุนูู ูุฌู ุงูุชุญุฏูุฏ </font></font><code>' '</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุญูุซ ูููู ุนููู ุงูุจุญุซ ุนู ูู ุจุงุฏุฆุฉ ููููุฉ. </font><font style="vertical-align: inherit;">ูุง ุ ูุณูู ุนูู ุงููุณุชุฎุฏู ุงูุงุณุชุฌุงุจุฉ ูุชูููุญ ุณุฑูุน ูููููุฉ ุงูุฃุฎูุฑุฉ ุจุฏูุงู ูู "ููุฏุงู" ุงููููุงุช ุงูุณุงุจูุฉ ุนูุฏุงู - ุงูุธุฑ ููู ูุนูู ุฃู ูุญุฑู ุจุญุซ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุจุดูู ุนุงู ุ ูุฅู </font><font style="vertical-align: inherit;">ุตูุงุบุฉ ูุชุทูุจุงุช ุงููููุฉ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุดูู ุตุญูุญ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูู ุฃูุซุฑ ูู ูุตู ุงูุญู. </font><font style="vertical-align: inherit;">ูู ุจุนุถ ุงูุฃุญูุงู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ุฃู ูุคุซุฑ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุชุญููู ุงูุฏููู ูุญุงูุฉ ุงูุงุณุชุฎุฏุงู </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;">ุจุดูู ูุจูุฑ ุนูู ุงููุชูุฌุฉ</font></a><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุงุฐุง ููุนู ุงููุทูุฑ ุงููุฌุฑุฏุ</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.0: ูุญุฑู ุจุญุซ ุฎุงุฑุฌู</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฃูู ุ ุงูุจุญุซ ุตุนุจ ุ ูุง ุฃุฑูุฏ ุฃู ุฃูุนู ุฃู ุดูุก ุนูู ุงูุฅุทูุงู - ุฏุนูุง ูุนุทูู ูููุทูุฑูู! </font><font style="vertical-align: inherit;">ุฏุนูู ููุดุฑูู ููุง ูุญุฑู ุจุญุซ ุฎุงุฑุฌู ุจุงููุณุจุฉ ููุงุนุฏุฉ ุงูุจูุงูุงุช: Sphinx ุ ElasticSearch ุ ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฎูุงุฑ ุนูู ุ ูุฅู ูุงู ูุถูุนุฉ ููููุช ุ ูู ุญูุซ ุงููุฒุงููุฉ ูุณุฑุนุฉ ุงูุชุบููุฑ. </font><font style="vertical-align: inherit;">ูููู ููุณ ูู ุญุงูุชูุง ุ ุญูุซ ูุชู ุงูุจุญุซ ุนู ูู ุนููู ููุท ูู ุฅุทุงุฑ ุจูุงูุงุช ุญุณุงุจู. </font><font style="vertical-align: inherit;">ููุฏู ุงูุจูุงูุงุช ุชููุน ูุจูุฑ ุฅูู ุญุฏ ูุง - ูุฅุฐุง ูุงู ุงููุฏูุฑ ูุฏ ุฃุฏุฎู ุงูุจุทุงูุฉ ุงูุขู </font></font><code>' '</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ูููููู ุจุนุฏ 5-10 ุซูุงูู ุฃู ูุชุฐูุฑ ุจุงููุนู ุฃูู ูุณู ุงูุฅุดุงุฑุฉ ุฅูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ููุงู ููุฑูุฏ ุงูุนุซูุฑ ุนููู ูุชุตุญูุญู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฐูู - ุฏุนูุง </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุจุญุซ "ูุจุงุดุฑุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">ูุญุณู ุงูุญุธ ุ ุชุชูุญ ููุง PostgreSQL ุงูููุงู ุจุฐูู ุ ูููุณ ุฎูุงุฑูุง ูุงุญุฏูุง ููุท - ุณููุธุฑ ูููุง.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.1: ุณูุณูุฉ ูุฑุนูุฉ "ุตุงุฏูุฉ"</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุญู ูุชูุณู ุจูููุฉ "ุณูุณูุฉ ูุฑุนูุฉ". </font><font style="vertical-align: inherit;">ูููู ุจุงูุถุจุท ููุจุญุซ ุนู ุงูููุฑุณ ุจูุงุณุทุฉ ุงูุณูุงุณู ุงููุฑุนูุฉ (ูุญุชู ุจุงูุชุนุจูุฑุงุช ุงูุนุงุฏูุฉ!) ููุงู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุญุฏุฉ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุชุงุฒุฉ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;">pg_trgm</font></a><font style="vertical-align: inherit;"> ! </font><font style="vertical-align: inherit;">ุนูุฏูุง ููุท ุณูููู ูู ุงูุถุฑูุฑู ุงููุฑุฒ ุจุดูู ุตุญูุญ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฏุนูุง ูุญุงูู ุฃู ูุฃุฎุฐ ููุญุฉ ูู ุฃุฌู ุจุณุงุทุฉ ุงููููุฐุฌ:</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> firms(
  <span class="hljs-keyword">id</span>
    <span class="hljs-built_in">serial</span>
      PRIMARY <span class="hljs-keyword">KEY</span>
, <span class="hljs-keyword">name</span>
    <span class="hljs-built_in">text</span>
);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูููุฃ 7.8 ููููู ุณุฌู ููููุธูุงุช ูุงูููุฑุณ ุงูุญูููููู:</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">CREATE</span> EXTENSION pg_trgm;
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> <span class="hljs-keyword">ON</span> firms <span class="hljs-keyword">USING</span> gin(<span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>) gin_trgm_ops);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฏุนููุง ูุจุญุซ ุนู ุฃูู 10 ุฅุฏุฎุงูุงุช ููุจุญุซ ุจูู ุงูุณุทูุฑ:</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">SELECT</span><font></font>
  *<font></font>
<span class="hljs-keyword">FROM</span><font></font>
  firms<font></font>
<span class="hljs-keyword">WHERE</span>
  <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>) ~ (<span class="hljs-string">'(^|\s)'</span> || <span class="hljs-string">''</span>)
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span>
  <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>) ~ (<span class="hljs-string">'^'</span> || <span class="hljs-string">''</span>) <span class="hljs-keyword">DESC</span> <span class="hljs-comment">--  " "</span>
, <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>) <span class="hljs-comment">--   </span>
<span class="hljs-keyword">LIMIT</span> <span class="hljs-number">10</span>;
</code></pre><br>
<img src="https://habrastorage.org/webt/0m/pk/su/0mpksuspk5xdasdj7mtg5ch4jvw.png"><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ุฅููุงุก ูุธุฑุฉ ุนูู Expl.tensor.ru]</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ุญุณููุง ุ ูุฐุง ... </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26 ูููู ุซุงููุฉ ู 31 ููุบุงุจุงูุช ูู</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุจูุงูุงุช ุงูููุฑูุกุฉ ูุฃูุซุฑ ูู 1.7 ุฃูู ุณุฌู ููุตูู - ูู 10 ุฃุดุฎุงุต. </font><font style="vertical-align: inherit;">ุงููููุงุช ุงูุนุงูุฉ ูุฑุชูุนุฉ ููุบุงูุฉ ุ ูู ูู ุงููููู ุฃู ุชููู ุฃูุซุฑ ููุงุกุฉ ุจุทุฑููุฉ ูุงุ</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.2: ุงูุจุญุซ ุนู ูุตุ </font><font style="vertical-align: inherit;">ุฅูู FTS!</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ุงููุงูุน ุ ูููุฑ PostgreSQL </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุขููุฉ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูููุฉ ุฌุฏูุง </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;">ููุจุญุซ ุนู ุงููุต ุงููุงูู</font></a><font style="vertical-align: inherit;"> (ุจุญุซ ุงููุต ุงููุงูู) ุ ุจูุง ูู ุฐูู ุงููุฏุฑุฉ ุนูู ุฅุถุงูุฉ ุงูุจุงุฏุฆุฉ ุฅูู ุงูุจุญุซ. </font><font style="vertical-align: inherit;">ุฎูุงุฑ ุฑุงุฆุน ุ ุญุชู ุงูููุญูุงุช ูุง ุชุญุชุงุฌ ุฅูู ุชุซุจูุช! </font><font style="vertical-align: inherit;">ููุฌุฑุจ:</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> <span class="hljs-keyword">ON</span> firms <span class="hljs-keyword">USING</span> gin(to_tsvector(<span class="hljs-string">'simple'</span>::regconfig, <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>)));</code></pre><br>
<pre><code class="sql hljs"><span class="hljs-keyword">SELECT</span><font></font>
  *<font></font>
<span class="hljs-keyword">FROM</span><font></font>
  firms<font></font>
<span class="hljs-keyword">WHERE</span>
  to_tsvector(<span class="hljs-string">'simple'</span>::regconfig, <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>)) @@ to_tsquery(<span class="hljs-string">'simple'</span>, <span class="hljs-string">':*'</span>)
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span>
  <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>) ~ (<span class="hljs-string">'^'</span> || <span class="hljs-string">''</span>) <span class="hljs-keyword">DESC</span>
, <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>)
<span class="hljs-keyword">LIMIT</span> <span class="hljs-number">10</span>;</code></pre><br>
<img src="https://habrastorage.org/webt/wd/ln/tq/wdlntqgqo_zvb4sbhcq-wln_jrw.png"><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ุฅููุงุก ูุธุฑุฉ ุนูู Expl.tensor.ru]</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ููุง </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;">ุณุงุนุฏูุง</font></a><font style="vertical-align: inherit;"> ููุงุฒุงุฉ ุชูููุฐ ุงูุงุณุชุนูุงู ููููุงู ุ ููุง ููู ุงูููุช ุจููุฏุงุฑ ุงููุตู ุฅูู 11 </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ุซุงููุฉ</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">ูุนู ุ ููุงู ุนูููุง ุฃู ููุฑุฃ ุฃูู 1.5 ูุฑุฉ - </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20 ููุบุงุจุงูุช</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุท </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ูููุง ุ ูููุง ูุงู ุฃุตุบุฑ ูููุง ูุงู ุฐูู ุฃูุถู ุ ูุฃูู ูููุง ุฒุงุฏ ุงููุจูุบ ุงูุฐู ูุทุฑุญู ุ ุฒุงุฏุช ูุฑุต ููุฏุงู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุ ููู ุตูุญุฉ ุจูุงูุงุช ุฅุถุงููุฉ ุชุชู ูุฑุงุกุชูุง ูู ุงููุฑุต ูู "ููุจุญ" ูุญุชูู ููุทูุจ.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.3: ูู ูุงุฒูุช ุชุฑุบุจุ</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุงูุทูุจ ุงูุณุงุจู ุฌูุฏ ููุฌููุน ุ ูููู ููุท ุฅุฐุง ููุช ุจุณุญุจู ูุงุฆุฉ ุฃูู ูุฑุฉ ูู ุงูููู ุ ูุณูุชู ุชุดุบูู </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 ุชูุฑุงุจุงูุช ูู</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุจูุงูุงุช ุงูููุฑูุกุฉ. </font><font style="vertical-align: inherit;">ูู ุฃุญุณู ุงูุฃุญูุงู - ูู ุงูุฐุงูุฑุฉ ุ ูููู ุฅุฐุง ูู ุชูู ูุญุธูุธูุง ุ ููู ุงููุฑุต. </font><font style="vertical-align: inherit;">ูุฐุง ุฏุนูุง ูุฌุนูู ุฃุตุบุฑ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุชุฐูุฑ ุฃู ุงููุณุชุฎุฏู ูุฑูุฏ ุฃู ูุฑู </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃููุงู "ูุจุฏุฃ ุจู ..."</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">ูุฐูู ูุฐุง ูู ูู ุดููู ุงูููู ู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุญุซ ุจุงุฏุฆุฉ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุน </font></font><code>text_pattern_ops</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">! </font><font style="vertical-align: inherit;">ูููุท ุฅุฐุง ููุง "ุบูุฑ ูุงูููู" ุญุชู 10 ุณุฌูุงุช ูุทููุจุฉ ุ ูุณูู ูุถุทุฑ ููุฑุงุกุชูุง ุจุงุณุชุฎุฏุงู ุจุญุซ FTS:</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> <span class="hljs-keyword">ON</span> firms(<span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>) text_pattern_ops);</code></pre><br>
<pre><code class="sql hljs"><span class="hljs-keyword">SELECT</span><font></font>
  *<font></font>
<span class="hljs-keyword">FROM</span><font></font>
  firms<font></font>
<span class="hljs-keyword">WHERE</span>
  <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>) <span class="hljs-keyword">LIKE</span> (<span class="hljs-string">''</span> || <span class="hljs-string">'%'</span>)
<span class="hljs-keyword">LIMIT</span> <span class="hljs-number">10</span>;</code></pre><br>
<img src="https://habrastorage.org/webt/_7/e_/jx/_7e_jxpnkc7n97e9rj2rbbk2ukq.png"><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ุงูุธุฑ ุฅูู ุดุฑุญ.tensor.ru]</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ุฃุฏุงุก ููุชุงุฒ - ููุท </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.05 ูููู ุซุงููุฉ</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุฑุงุกุฉ </font><i><b><font style="vertical-align: inherit;">ุชุฒูุฏ ููููุงู ุนู 100 ููููุจุงูุช</font></b></i><font style="vertical-align: inherit;"> ! </font><font style="vertical-align: inherit;">ููุท ูุณููุง </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุฑุฒ ุญุณุจ ุงูุงุณู</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุญุชู ูุง ูุถูุน ุงููุณุชุฎุฏู ูู ุงููุชุงุฆุฌ:</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">SELECT</span><font></font>
  *<font></font>
<span class="hljs-keyword">FROM</span><font></font>
  firms<font></font>
<span class="hljs-keyword">WHERE</span>
  <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>) <span class="hljs-keyword">LIKE</span> (<span class="hljs-string">''</span> || <span class="hljs-string">'%'</span>)
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span>
  <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>)
<span class="hljs-keyword">LIMIT</span> <span class="hljs-number">10</span>;</code></pre><br>
<img src="https://habrastorage.org/webt/ku/d4/r1/kud4r1oipobzbsljhvbavzd2ypa.png"><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ุงูุธุฑ ุฅูู ุดุฑุญ.tensor.ru]</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ุฃูู ุ ูู ูุนุฏ ููุงู ุดูุก ุฌููู ุฌุฏูุง - ูุจุฏู ุฃู ููุงู ููุฑุณูุง ุ ูููู ูุฑุฒ ุงูุฐุจุงุจ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;">ุชุฌุงูุฒู</font></a><font style="vertical-align: inherit;"> ... ุจุงูุทุจุน ุ ูู ุจุงููุนู ุฃูุซุฑ ูุนุงููุฉ ุนุฏุฉ ูุฑุงุช ูู ุงูุฅุตุฏุงุฑ ุงูุณุงุจู ุ ูููู ...</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.4: "ุชุนุฏูู ุจููู"</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูููู ููุงู ููุฑุณ ูุณูุญ ูู ุจุงูุจุญุซ ุญุณุจ ุงููุทุงู ุ ููู ุงูุทุจูุนู ุงุณุชุฎุฏุงู ุงููุฑุฒ - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">btree ุงูุนุงุฏู</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> !</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> <span class="hljs-keyword">ON</span> firms(<span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>));</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฌุจ ููุท "ุชุฌููุนู ูุฏูููุง" ูุทูุจ ุงูุญุตูู ุนููู:</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">SELECT</span><font></font>
  *<font></font>
<span class="hljs-keyword">FROM</span><font></font>
  firms<font></font>
<span class="hljs-keyword">WHERE</span>
  <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>) &gt;= <span class="hljs-string">''</span> <span class="hljs-keyword">AND</span>
  <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>) &lt;= (<span class="hljs-string">''</span> || <span class="hljs-keyword">chr</span>(<span class="hljs-number">65535</span>)) <span class="hljs-comment">--  UTF8,   - chr(255)</span>
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span>
   <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>)
<span class="hljs-keyword">LIMIT</span> <span class="hljs-number">10</span>;</code></pre><br>
<img src="https://habrastorage.org/webt/eh/o3/-i/eho3-irvjqbcpgpmmp7fuheb9nm.png"><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ุฅููุงุก ูุธุฑุฉ ุนูู Expl.tensor.ru]</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ุฑุงุฆุน - </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;">ุชุธู</font></a><font style="vertical-align: inherit;"> ูู ูู ุฃุนูุงู ุงููุฑุฒ ูุงุณุชููุงู ุงูููุงุฑุฏ "ูุฌูุฑูุฉ" ุ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฃูุซุฑ ููุงุกุฉ ุจุขูุงู ุงููุฑุงุช ูู FTS "ุงูููู"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ! </font><font style="vertical-align: inherit;">ูุจูู ุฃู ูุฌูุน ูู ุทูุจ ูุงุญุฏ:</font></font><br>
<br>
<pre><code class="sql hljs">(
  <span class="hljs-keyword">SELECT</span><font></font>
    *<font></font>
  <span class="hljs-keyword">FROM</span><font></font>
    firms<font></font>
  <span class="hljs-keyword">WHERE</span>
    <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>) &gt;= <span class="hljs-string">''</span> <span class="hljs-keyword">AND</span>
    <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>) &lt;= (<span class="hljs-string">''</span> || <span class="hljs-keyword">chr</span>(<span class="hljs-number">65535</span>)) <span class="hljs-comment">--  UTF8,    - chr(255)</span>
  <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span>
     <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>)
  <span class="hljs-keyword">LIMIT</span> <span class="hljs-number">10</span><font></font>
)<font></font>
<span class="hljs-keyword">UNION</span> <span class="hljs-keyword">ALL</span><font></font>
(<font></font>
  <span class="hljs-keyword">SELECT</span><font></font>
    *<font></font>
  <span class="hljs-keyword">FROM</span><font></font>
    firms<font></font>
  <span class="hljs-keyword">WHERE</span>
    to_tsvector(<span class="hljs-string">'simple'</span>::regconfig, <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>)) @@ to_tsquery(<span class="hljs-string">'simple'</span>, <span class="hljs-string">':*'</span>) <span class="hljs-keyword">AND</span>
    <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">LIKE</span> (<span class="hljs-string">''</span> || <span class="hljs-string">'%'</span>) <span class="hljs-comment">-- " "    </span>
  <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span>
    <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>) ~ (<span class="hljs-string">'^'</span> || <span class="hljs-string">''</span>) <span class="hljs-keyword">DESC</span> <span class="hljs-comment">--    ,     btree-</span>
  , <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>)
  <span class="hljs-keyword">LIMIT</span> <span class="hljs-number">10</span><font></font>
)<font></font>
<span class="hljs-keyword">LIMIT</span> <span class="hljs-number">10</span>;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฃูุงุญุธ ุฃู ุงูุงุณุชุนูุงู ุงููุฑุนู ุงูุซุงูู ูุชู ุชูููุฐู </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุท ุฅุฐุง ุฃุฑุฌุน ุงูุฃูู ุฃูู ูู</font></font></b><font style="vertical-align: inherit;"></font><code>LIMIT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุนุฏุฏ ุงูุตููู </font><b><font style="vertical-align: inherit;">ุงููุชููุนุฉ ูุจู</font></b><font style="vertical-align: inherit;"> ุงูุฃุฎูุฑ </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ููุฏ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชุจุช ุจุงููุนู</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุนู ุทุฑููุฉ ุชุญุณูู ุงูุงุณุชุนูุงู ูุฐู </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฐุง ูุนู ุ ูุฏููุง ุงูุขู btree ู gin ุนูู ุงูุทุงููุฉ ูู ููุณ ุงูููุช ุ ูููู ุงุชุถุญ ุฅุญุตุงุฆููุง ุฃู </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃูู ูู 10 ูช ูู ุงูุทูุจุงุช ุชุตู ุฅูู ุงููุชูุฉ ุงูุซุงููุฉ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">ุฃู ุ ูุน ูุฐู ุงููููุฏ ุงููููุฐุฌูุฉ ุงููุนุฑููุฉ ูููููุฉ ุ ุชูููุง ูู ุชูููู ุฅุฌูุงูู ุงุณุชููุงู ููุงุฑุฏ ุงูุฎุงุฏู ุจูุง ููุฑุจ ูู ุฃูู ูุฑุฉ!</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.5 *: ุงูุงุณุชุบูุงุก ุนู ุงูููู</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฃุนูุงู </font></font><code>LIKE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชู ููุนูุง ูู ุงุณุชุฎุฏุงู ุงูููุน ุงูุฎุงุทุฆ. </font><font style="vertical-align: inherit;">ูููู ูููู "ุชุนูููู ุนูู ุงููุณุงุฑ ุงูุตุญูุญ" ุนู ุทุฑูู ุชุญุฏูุฏ ุนุจุงุฑุฉ ุงูุงุณุชุฎุฏุงู:</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุนูู ุงูุงูุชุฑุงุถู </font></font><code>ASC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ููููู ุชุญุฏูุฏ ุงุณู ุนุงูู ูุฑุฒ ูุญุฏุฏ ูู ุฌููุฉ </font></font><code>USING</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ูุฌุจ ุฃู ูููู ุนุงูู ุงููุฑุฒ ุนุถููุง ุฃูู ูู ุฃู ุฃูุจุฑ ูู ุนุงุฆูุฉ ูุนููุฉ ูู ุนูุงูู ุชุดุบูู B-tree. </font></font><code>ASC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุนุงุฏุฉ ูุง ูุนุงุฏููุง </font></font><code>USING &lt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ู </font></font><code>DESC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุนุงุฏู ุนุงุฏุฉ </font></font><code>USING &gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุญุงูุชูุง ุ "ุฃูู" ูู </font></font><code>~&lt;~</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">SELECT</span><font></font>
  *<font></font>
<span class="hljs-keyword">FROM</span><font></font>
  firms<font></font>
<span class="hljs-keyword">WHERE</span>
  <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>) <span class="hljs-keyword">LIKE</span> (<span class="hljs-string">''</span> || <span class="hljs-string">'%'</span>)
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span>
  <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>) <span class="hljs-keyword">USING</span> ~&lt;~
<span class="hljs-keyword">LIMIT</span> <span class="hljs-number">10</span>;</code></pre><br>
<img src="https://habrastorage.org/webt/s8/6r/4u/s86r4ujfiklgl9rqwn0fl7_g44i.png"><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ุงูุธุฑ ุฅูู ุดุฑุญ.tensor.ru]</font></font></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2: ููู "ุชุนูุฑ" ุงูุทูุจุงุช</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุงูุขู ูุชุฑู ุทูุจูุง "ููุฅุตุฑุงุฑ" ููุฏุฉ ูุตู ุนุงู ุฃู ุนุงู ุ </font><b><font style="vertical-align: inherit;">ูููุง ูุซูุฑ</font></b><font style="vertical-align: inherit;"> ุงูุฏูุดุฉ ุฃููุง ูุฌุฏูุง ูุฑุฉ ุฃุฎุฑู "ูู ุงูุฃุนูู" ุจูุคุดุฑุงุช "ุงูุถุฎ" ุงููููู ููุฐุงูุฑุฉ ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุถุฑุจ ุงููุดุชุฑู ูููุฎุงุฒู ุงููุคูุชุฉ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) ูู </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.5 ุชูุฑุงุจุงูุช</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - ุฃู ุฃูุซุฑ ููุง ูุงูุช ุนููู ูู ุงูุฃุตู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุง ุ ุจุงูุทุจุน ุ ููุง ุนูููุง ุ ูุฒุงุฏ ุงูุญูู ุ ูููู ููุณ ูุซูุฑูุง! </font><font style="vertical-align: inherit;">ูุฐูู ููุงู ุดูุก ูุฐุฑ ููุง - ูููุชุนุฑู ุนููู.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.1: ููุงุฏุฉ ุงูุชุฑุญูู</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ูุฑุญูุฉ ูุง ุ ุฃุฑุงุฏ ูุฑูู ุชุทููุฑ ุขุฎุฑ ุฃู ูุฌุนู ูู ุงููููู "ุงูููุฒ" ุฅูู ุงูุชุณุฌูู ูู ุจุญุซ ููุฎูุถ ุณุฑูุน ุจููุณ ุงููุชุงุฆุฌ ุ ูููู ูุน ุชูุณูุน ุงููุชุงุฆุฌ. </font><font style="vertical-align: inherit;">ููุง ุงูุชุณุฌูู ุจุฏูู ุงูุชููู ุงูุตูุญุฉุ </font><font style="vertical-align: inherit;">ุฏุนููุง ุงููุณูุงุฑ!</font></font><br>
<br>
<pre><code class="sql hljs">( ... LIMIT &lt;N&gt; + 10)<font></font>
UNION ALL<font></font>
( ... LIMIT &lt;N&gt; + 10)<font></font>
LIMIT 10 OFFSET &lt;N&gt;;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุงูุขู ุฃุตุจุญ ูู ุงููููู ุฏูู ุฌูุฏ ูููุทูุฑ ูุฅุธูุงุฑ ุณุฌู ูุชุงุฆุฌ ุงูุจุญุซ ูุน ุชุญููู "ููุน ุงูุตูุญุฉ". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุจุงูุทุจุน ุ ูู ุงููุงูุน ุ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููู ุตูุญุฉ ูู ุงูุจูุงูุงุช ุงูุชุงููุฉ ุ ุชุชู ูุฑุงุกุฉ ุงููุฒูุฏ ูุงููุฒูุฏ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (ูู ุงูููุช ุงูุณุงุจู ุ ุงูุฐู ูุชุฌุงููู ุ ุจุงูุฅุถุงูุฉ ุฅูู "ุงูุฐูู" ุงููุทููุจ) - ุฃู ุฃู ูุฐุง ูุถุงุฏ ูุถุงุฏ ููุงูุชุจุงุณ. </font><font style="vertical-align: inherit;">ูุณูููู ูู ุงูุฃุตุญ ุจุฏุก ุงูุจุญุซ ูู ุงูุชูุฑุงุฑ ุงูุชุงูู ูู ุงูููุชุงุญ ุงููุฎุฒู ูู ุงููุงุฌูุฉ ุ ูููู ุญููู - ูุฑุฉ ุฃุฎุฑู.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.2: ุชุฑูุฏ ุงูุบุฑูุจุฉ</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ูุฑุญูุฉ ูุง ุ ุฃุฑุงุฏ ุงููุทูุฑ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชูููุน ุงูุชุญุฏูุฏ ุงููุงุชุฌ ุจุจูุงูุงุช</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูู ุฌุฏูู ุขุฎุฑ ุ ูููุฐุง ุงูุบุฑุถ ุชู ุฅุฑุณุงู ุงูุทูุจ ุงูุณุงุจู ุจุฃูููู ุฅูู CTE:</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">WITH</span> q <span class="hljs-keyword">AS</span> (<font></font>
  ...<font></font>
  <span class="hljs-keyword">LIMIT</span> &lt;N&gt; + <span class="hljs-number">10</span><font></font>
)<font></font>
<span class="hljs-keyword">SELECT</span><font></font>
  *<font></font>
, (<span class="hljs-keyword">SELECT</span> ...) sub_query <span class="hljs-comment">-- -    </span>
<span class="hljs-keyword">FROM</span><font></font>
  q<font></font>
<span class="hljs-keyword">LIMIT</span> <span class="hljs-number">10</span> <span class="hljs-keyword">OFFSET</span> &lt;N&gt;;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุญุชู ูุน ุฐูู - ููุณ ุณูุฆูุง ุ ูุฃูู ูุชู ุญุณุงุจ ุงุณุชุนูุงู ูุฑุนู ููุท ูู 10 ุณุฌูุงุช ูุฑุชุฌุนุฉ ุ ุฅู ูู ููู ...</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3: ูุชููุฒ ุจูุง ูุนูู ููุง ุฑุญูุฉ</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ููุงู ูุง ูู ุนูููุฉ ูุซู ูุฐุง ุงูุชุทูุฑ ุ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุฏุช </font></font><code>NOT LIKE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุญุงูุฉ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูู ุทูุจ ุงูุจุญุซ ุงููุฑุนู ุงูุซุงูู </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ูู ุงููุงุถุญ ุฃูู ุจุนุฏ ุฐูู </font></font><code>UNION ALL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุฏุฃุช ุจุฅุฑุฌุงุน </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุนุถ ุงูุณุฌูุงุช ูุฑุชูู</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - ุชู ุงูุนุซูุฑ ุนูููุง ุฃููุงู ูู ุจุฏุงูุฉ ุงูุณุทุฑ ุ ุซู ูุฑุฉ ุฃุฎุฑู - ูู ุจุฏุงูุฉ ุงููููุฉ ุงูุฃููู ูู ูุฐุง ุงูุณุทุฑ. </font><font style="vertical-align: inherit;">ูู ุงูุญุฏ ุ ูููู ุฃู ุชุชุทุงุจู ุฌููุน ุณุฌูุงุช ุงูุงุณุชุนูุงู ุงููุฑุนู ุงูุซุงูู ูุน ุณุฌูุงุช ุงูุฃูู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุงุฐุง ููุนู ุงููุทูุฑ ุจุฏูุง ูู ุงูุจุญุซ ุนู ุณุจุจุ .. ูุง ุดู!</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุถุนู ุญุฌู</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุนููุงุช ุงูุฃุตููุฉ</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุถุน DISTINCT</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุจุญูุซ ูุญุตู ุนูู ุฃูุซูุฉ ูุงุญุฏุฉ ููุท ููู ุตู</font></font></li>
</ul><br>
<pre><code class="sql hljs"><span class="hljs-keyword">WITH</span> q <span class="hljs-keyword">AS</span> (<font></font>
  ( ... <span class="hljs-keyword">LIMIT</span> &lt;<span class="hljs-number">2</span> * N&gt; + <span class="hljs-number">10</span>)
  <span class="hljs-keyword">UNION</span> <span class="hljs-keyword">ALL</span>
  ( ... <span class="hljs-keyword">LIMIT</span> &lt;<span class="hljs-number">2</span> * N&gt; + <span class="hljs-number">10</span>)
  <span class="hljs-keyword">LIMIT</span> &lt;<span class="hljs-number">2</span> * N&gt; + <span class="hljs-number">10</span><font></font>
)<font></font>
<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DISTINCT</span><font></font>
  *<font></font>
, (<span class="hljs-keyword">SELECT</span> ...) sub_query
<span class="hljs-keyword">FROM</span><font></font>
  q<font></font>
<span class="hljs-keyword">LIMIT</span> <span class="hljs-number">10</span> <span class="hljs-keyword">OFFSET</span> &lt;N&gt;;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฃู ุฃูู ูู ุงููุงุถุญ ุฃู ุงููุชูุฌุฉ ุ ูู ุงูููุงูุฉ ุ ูู ููุณูุง ุชูุงููุง ุ ููู ูุฑุตุฉ "ุงูุชุญููู" ุฅูู ุงุณุชุนูุงู CTE ุงูุซุงูู ุฃุตุจุญุช ุฃุนูู ุจูุซูุฑ ุ ููู ุฏูู ุฐูู ุ ูู </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุงุถุญ ุฃููุง ุชูุฑุฃ ุฃูุซุฑ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููู ูุฐุง ููุณ ุงูุดูุก ุงูุฃูุซุฑ ุญุฒูุง. </font><font style="vertical-align: inherit;">ูุธุฑูุง ูุฃู ุงููุทูููุฑ ุทูุจ ููู </font></font><b><code>DISTINCT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุนุฏู ุงูุชุญุฏูุฏ ุจุดูู ูุญุฏุฏ ุ ูููู ููุฑูุง ูู ุฎูุงู ุฌููุน ุญููู</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุณุฌู ุ ูุฅู ุญูู ุงูุงุณุชุนูุงู ุงููุฑุนู - ูุชูุฌุฉ ุงูุงุณุชุนูุงู ุงููุฑุนู - ูุฏ ูุตู ุฅูู ููุงู ุชููุงุฆููุง. </font><font style="vertical-align: inherit;">ุงูุขู ุ ูู ุฃุฌู ุงูุชูููุฐ </font></font><code>DISTINCT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ูุงู ุนูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุชูููุฐ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุณ 10 ุงุณุชุนูุงูุงุช ูุฑุนูุฉ ุ ูููู ูู &lt;2 * N&gt; + 10</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> !</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.4: ุงูุชุนุงูู ูุจู ูู ุดูุก!</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฐูู ุ ุนุงุด ุงููุทูุฑูู - ูู ูุฒุนุฌูุง ุฃููุณูู ุ ูุฃููู ูู ุงูุณุฌู "ุชู ุฅุตูุงุญูู" ุฅูู ููู N ุงููููุฉ ูุน ุชุจุงุทุค ูุฒูู ูู ุงุณุชูุจุงู ูู "ุตูุญุฉ" ุชุงููุฉ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุญุชู ูุตู ุฅูููู ูุทูุฑูู ูู ูุณู ุขุฎุฑ ุ ููู ูุฑุบุจูุง ูู ุงุณุชุฎุฏุงู ูุซู ูุฐู ุงูุทุฑููุฉ ุงููุฑูุญุฉ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุจุญุซ ุงูุชูุฑุงุฑู</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - ุฃู ุฃููุง ูุฃุฎุฐ ูุทุนุฉ ูู ุนููุฉ ูุง ุ ููุฑุดุญูุง ุจุดุฑูุท ุฅุถุงููุฉ ุ ููุฑุณู ุงููุชูุฌุฉ ุ ุซู ุงููุทุนุฉ ุงูุชุงููุฉ (ุงูุชู ูุชู ุชุญููููุง ูู ุญุงูุชูุง ุนู ุทุฑูู ุฒูุงุฏุฉ N) ุ ูููุฐุง ุญุชู ูููุฃ ุงูุดุงุดุฉ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุจุดูู ุนุงู ุ ูู ุงูุนููุฉ ุงูุชู ุชู ุงูุชูุงุทูุง </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N ูุตูุช ุงูููู ุฅูู ูุง ููุฑุจ ูู 17 ุฃูููุง</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ ูุฎูุงู 24 ุณุงุนุฉ ููุท ุชู ุชูููุฐ 4K ุนูู ุงูุฃูู ูู ูุฐู ุงูุทูุจุงุช "ูู ุงูุณูุณูุฉ". </font><font style="vertical-align: inherit;">ุชู ูุณุญ ุขุฎุฑ ูููู ุจุฌุฑุฃุฉ ุจุงููุนู</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 ุบูุบุงุจุงูุช ูู ุงูุฐุงูุฑุฉ ุนูุฏ ูู ุชูุฑุงุฑ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ...</font></font><br>
<br>
<h2></h2><br>
<img src="https://habrastorage.org/webt/zt/yx/ss/ztyxssr661ga_wndmpmqmvgtrq0.png"></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar491138/index.html">ุชูุงูู ุงูุฃููุงุฑ ุงูุตูุงุนูุฉ ูุงูุจุฑุฌ ุบูุฑ ุงููุฑุฆู</a></li>
<li><a href="../ar491146/index.html">UML ูููุทูุฑูู</a></li>
<li><a href="../ar491150/index.html">ููู ููุช ุจุงุฎุชุฑุงู ุงููุญุชุงููู ุ ุฃู ููุท ุงูุฏูุงุฎู ูู ููุญุงุช ุงูุชุตูุฏ</a></li>
<li><a href="../ar491154/index.html">ุงูุจุญุซ ุนู ุงูุฏูุฑุฉ: ููููุฉ ุจูุงุก ูุณุงุฑ ุงูุชุนูู</a></li>
<li><a href="../ar491156/index.html">ุงูุชุนุงุทู ุงููุงุจู ููููุงุณ: ุชููุน ุงูุชุนุงุทู ูุน ุงูุชุตููุฑ ุจุงูุฑููู ุงููุบูุงุทูุณู ููุฏูุงุบ</a></li>
<li><a href="../ar491164/index.html">ููู ุชูุชุจ ูุจุฑูุฌ ุฏุจููู. ุฏููู ูุงูู</a></li>
<li><a href="../ar491170/index.html">ููู ูุณุชุฎุฏู Amplifer Logux - ุฃุฏุงุฉ ููุชูุงุตู ุจูู ุงูุนููู ูุงูุฎุงุฏู</a></li>
<li><a href="../ar491172/index.html">ูุชู ูุฌุจ ุนูู ูุทูุฑ ุงููุงุฌูุฉ ุงูุฃูุงููุฉ ุงูุชุจุฏูู ูู React ุฅูู Vue ุ ููุชู ุณูุนููุฏ ุงูุชุทููุฑ</a></li>
<li><a href="../ar491174/index.html">ูุง ุชูุชุจ ุงูุดูุก ููุณู: ููู ุณุชุณุงุนุฏ ููููุงุช React ุงููุนุงุฏ ุงุณุชุฎุฏุงููุง ูุทูุฑู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ ุนูู ุฅูุดุงุก ุงูุชุทุจููุงุช ุจุดูู ุฃุณุฑุน</a></li>
<li><a href="../ar491176/index.html">5 ุนูุงูุงุช ุนูู ุจูุน ุงูููุชุฌ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>