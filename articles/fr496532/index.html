<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üìÜ ‚öóÔ∏è üë©üèø‚Äçüé® Nous v√©rifions nous-m√™mes: comment d√©ployer et administrer 1C: Flux de documents au sein de l'entreprise 1C üßöüèæ üèóÔ∏è üêÖ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Chez 1C, nous utilisons largement nos propres d√©veloppements pour organiser le travail de l'entreprise. En particulier, ¬´1C: Gestion des documents 8¬ª ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Nous v√©rifions nous-m√™mes: comment d√©ployer et administrer 1C: Flux de documents au sein de l'entreprise 1C</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/1c/blog/496532/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chez 1C, nous utilisons largement nos propres d√©veloppements pour organiser le travail de l'entreprise. En particulier, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬´1C: Gestion des documents 8¬ª</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . En plus de la gestion des documents (comme son nom l'indique), il s'agit √©galement d'un </font><font style="vertical-align: inherit;">syst√®me </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ECM</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> moderne </font><font style="vertical-align: inherit;">(Enterprise Content Management - gestion de contenu d'entreprise) avec un large √©ventail de fonctionnalit√©s - courrier, calendriers de travail des employ√©s, organisation de l'acc√®s partag√© aux ressources (par exemple, r√©servation de salles de conf√©rence), comptabilit√© heures de travail, forum d'entreprise et bien plus encore. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chez 1C, plus d'un millier d'employ√©s utilisent des documents. La base de donn√©es est d√©j√† devenue impressionnante (11 milliards d'enregistrements), ce qui signifie qu'elle n√©cessite une maintenance plus approfondie et un √©quipement plus puissant.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comment le travail de notre syst√®me est organis√©, quelles difficult√©s nous rencontrons dans l'entretien de la base de donn√©es et comment nous les r√©solvons (nous utilisons MS SQL Server comme SGBD), nous d√©crirons dans l'article. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour ceux qui ont lu pour la premi√®re fois les produits 1C. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1C: La gestion de documents est une solution applicative (configuration) mise en ≈ìuvre sur la base d'un framework de d√©veloppement d'applications m√©tiers - 1C: Plateforme d'entreprise.</font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/5a/ts/rb/5atsrbr1r_0dfqiyrdimcyze4by.png" alt="image"><br>
<br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬´1C: Document Management 8¬ª (sous forme abr√©g√©e - DO) vous permet d'automatiser le travail avec les documents dans l'entreprise. </font><font style="vertical-align: inherit;">L'un des principaux outils d'interaction avec les employ√©s est le courrier √©lectronique. </font><font style="vertical-align: inherit;">En plus du courrier, DO r√©sout √©galement d'autres t√¢ches:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suivi du temps</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comptabilisation des absences</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Demandes de coursiers / transport</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Calendriers des employ√©s</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enregistrement de la correspondance</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contacts avec les employ√©s (carnet d'adresses)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Forum d'entreprise</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reservation de chambre</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Planification d'√©v√©nements</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CRM</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Travail collectif avec des fichiers (avec conservation des versions de fichiers)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et etc. </font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans Document Management, nous entrons le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">client l√©ger</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (application ex√©cutable native) √† partir de Windows, Linux, macOS, le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">client Web</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (√† partir des navigateurs) et le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">client mobile</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - selon la situation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et gr√¢ce √† notre autre produit connect√© √† la gestion des documents - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le syst√®me d'interaction</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- directement dans la gestion des documents, nous obtenons la fonctionnalit√© de messagerie - chats, appels audio et vid√©o (y compris les appels de groupe, qui est maintenant devenu particuli√®rement important, y compris √† partir d'un client mobile), le partage rapide de fichiers ainsi que la possibilit√© d'√©crire des robots de chat qui simplifient le travail avec le syst√®me. Un autre avantage de l'utilisation du syst√®me d'interaction (par rapport √† d'autres messagers) est la possibilit√© de mener des discussions contextuelles li√©es √† des objets sp√©cifiques de la gestion de documents - documents, √©v√©nements, etc. Autrement dit, le syst√®me d'interaction s'int√®gre profond√©ment avec l'application cible et n'agit pas comme un ¬´bouton s√©par√©¬ª.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le nombre de lettres dans notre DL a d√©j√† d√©pass√© 100 millions, et en g√©n√©ral dans le SGBD - plus de 11 milliards d'enregistrements. </font><font style="vertical-align: inherit;">Au total, le syst√®me utilise pr√®s de 30 To de stockage: la base de donn√©es est de 7,5 To, les fichiers pour le travail collectif sont s√©par√©s et occupent encore 21 To. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si nous parlons de chiffres plus sp√©cifiques, voici le nombre de lettres et de fichiers en ce moment:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lettres sortantes - 14,7 millions.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lettres entrantes - 85,4 millions</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Versions de fichiers - 70,8 millions</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Documents internes - 30,6 milliers</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans DO, il n'y a pas que du courrier et des fichiers. </font><font style="vertical-align: inherit;">Voici les nombres d'autres objets comptables:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R√©servation de salle de conf√©rence - 52 126</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rapports hebdomadaires - 153940</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rapports quotidiens - 628 153</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Approbation de visa - 11,821</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Documents entrants - 79 677</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Documents sortants - 28 357</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enregistrements d'√©v√©nements dans les calendriers de travail des utilisateurs - 168 228</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Demandes de coursiers - 21 883</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contreparties - 82029</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dossiers de travail avec les entrepreneurs - 45 632</font></font></li>
<li>   ‚Äì 41 795</li>
<li> ‚Äì 10 243</li>
<li> ‚Äì 6 320</li>
<li>  ‚Äì 245 980</li>
<li>   ‚Äì 26 282</li>
<li>   ‚Äì 891 095</li>
<li>- ‚Äì 109 056.       ‚Äì , , , ,   ..     ,  ,  ,  ,     .      ,  ,           .</li>
</ul><br>
<h2>      ?</h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ces chiffres indiquent une quantit√© impressionnante de t√¢ches, nous avons donc √©t√© confront√©s √† la n√©cessit√© d'allouer un √©quipement assez productif aux besoins des filiales internes. </font><font style="vertical-align: inherit;">A ce jour, ses caract√©ristiques sont les suivantes: 38 c≈ìurs, 240 Go de RAM, 26 To de disques. </font><font style="vertical-align: inherit;">Nous </font></font><br>
<img src="https://habrastorage.org/webt/lt/l1/8t/ltl18tfpfsmxrdo8drblk-04r2o.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
donnons la </font><font style="vertical-align: inherit;">table des serveurs: √† </font><font style="vertical-align: inherit;">l'avenir, nous pr√©voyons d'augmenter la capacit√© de l'√©quipement.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qu'en est-il du chargement du serveur?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'activit√© r√©seau n'a jamais √©t√© un probl√®me pour nous ou nos clients. En r√®gle g√©n√©rale, le point faible est le processeur et les disques, car tout le monde sait d√©j√† comment faire face √† un manque de m√©moire. Voici des captures d'√©cran de nos serveurs de Resource Monitor, qui montrent que nous n'avons pas de charge terrible, c'est tr√®s modeste. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, dans la capture d'√©cran ci-dessous, nous voyons un serveur SQL o√π le CPU est charg√© √† 23%. Et c'est un tr√®s bon indicateur (√† titre de comparaison: si la charge approche 70%, alors, tr√®s probablement, les employ√©s observeront des ralentissements assez importants). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vz/-w/oo/vz-woobphp0n1zll7bnpvwlxflk.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La deuxi√®me capture d'√©cran montre le serveur d'applications sur lequel la plate-forme 1C: Enterprise s'ex√©cute - elle ne sert que les sessions utilisateur. Ici, la charge du processeur est l√©g√®rement plus √©lev√©e - 38%, elle est lisse et calme. Il y a un chargement de disque, mais il est acceptable.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bz/qd/uv/bzqduvuuvjk4i0dchiimfrauum0.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La troisi√®me capture d'√©cran montre un autre serveur 1C: Enterprise (c'est le deuxi√®me, nous en avons deux dans le cluster). </font><font style="vertical-align: inherit;">Seul le pr√©c√©dent sert les utilisateurs, et les robots y travaillent. </font><font style="vertical-align: inherit;">Par exemple, ils re√ßoivent du courrier, acheminent des documents, √©changent des donn√©es, consid√®rent les droits, etc. </font><font style="vertical-align: inherit;">Toutes ces activit√©s d'arri√®re-plan effectuent environ 90 √† 100 t√¢ches d'arri√®re-plan. </font><font style="vertical-align: inherit;">Et ce serveur est tr√®s occup√© - √† 88%. </font><font style="vertical-align: inherit;">Mais cela n'affecte pas les gens, et cela impl√©mente juste toute l'automatisation que la gestion de documents devrait faire.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fi/k7/o3/fik7o3yrdbucybkekjymjrgq1aa.png" alt="image"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quelles sont les mesures pour d√©terminer les performances?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons int√©gr√© au BS un sous-syst√®me s√©rieux pour mesurer les indicateurs de performance et calculer diverses m√©triques. </font><font style="vertical-align: inherit;">Cela est n√©cessaire pour comprendre √† l'heure actuelle et dans la perspective historique ce qui se passe dans le syst√®me, ce qui empire, ce qui s'am√©liore. </font><font style="vertical-align: inherit;">Des outils de surveillance - m√©triques et mesures du temps - sont inclus dans le package standard "1C: Document Management 8". </font><font style="vertical-align: inherit;">Les m√©triques n√©cessitent un r√©glage sur l'impl√©mentation, mais le m√©canisme lui-m√™me est typique. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les mesures sont des mesures de divers indicateurs commerciaux √† certains moments (par exemple, le d√©lai moyen de livraison du courrier au moment de 10 minutes). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'une des mesures indique le nombre d'utilisateurs actifs dans la base de donn√©es. </font><font style="vertical-align: inherit;">En moyenne, il y en a 1000 √† 1400 par jour. </font><font style="vertical-align: inherit;">Le graphique montre qu'au moment de la capture d'√©cran, il y avait 2144 utilisateurs actifs dans la base de donn√©es.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/pr/ca/is/prcaismpjrysr1jm8pr3m77w4j8.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y a plus de 30 actions de ce type, la liste est sous la coupe.</font></font><div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">liste</font></font></b><div class="spoiler_text"><ul>
<li>  </li>
<li>  </li>
<li> </li>
<li>  </li>
<li>  </li>
<li>  </li>
<li>   </li>
<li>  </li>
<li> </li>
<li> </li>
<li>  </li>
<li> </li>
<li> </li>
<li> </li>
<li>  </li>
<li> </li>
<li> </li>
<li> </li>
<li></li>
<li></li>
<li> </li>
<li></li>
<li>  </li>
<li> </li>
<li>  </li>
<li> </li>
<li>    </li>
<li>  </li>
<li>  </li>
<li></li>
<li> </li>
</ul><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'avant-derni√®re semaine, notre activit√© moyenne des utilisateurs a augment√© d'une fois et demie (le graphique appara√Æt en rouge) - ceci est d√ª √† la transition de la plupart des employ√©s vers le travail √† distance (en lien avec des √©v√©nements connus). De plus, le nombre d'utilisateurs actifs a augment√© de 3 fois (affich√© en bleu sur l'√©cran), les employ√©s ayant commenc√© √† utiliser activement le mobile: chaque client mobile cr√©e une connexion avec le serveur. Maintenant, en moyenne, pour chacun de nos employ√©s, il y a 2 connexions au serveur.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/_p/la/oy/_plaoyah-fhvkshuadl9ftidsty.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour nous, comme pour les administrateurs, c'est un signal que nous devons √™tre plus attentifs aux probl√®mes de vitesse, pour voir si cela a empir√©. Et nous le consid√©rons d'autres mani√®res. Par exemple, le temps de livraison du courrier pour le routage interne change (la capture d'√©cran ci-dessous montre le bleu). Nous voyons qu'il a bondi jusqu'√† cette ann√©e, et maintenant il est stable - pour nous, c'est un indicateur que tout est en ordre avec le syst√®me. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ws/-j/es/ws-jes5n002oaglztg92x6rhc70.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une autre mesure appliqu√©e pour nous est le temps d'attente moyen pour t√©l√©charger des lettres depuis le serveur de messagerie (indiqu√© en rouge sur la capture d'√©cran). En gros, combien de temps la lettre restera-t-elle sur Internet avant d'√™tre envoy√©e √† notre employ√©. La capture d'√©cran montre que cette heure n'a √©galement pas chang√© r√©cemment. Il y a des explosions distinctes - mais elles ne sont pas associ√©es √† des retards, mais au fait que du temps est perdu sur les serveurs de messagerie.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/e-/tq/yk/e-tqykeehhyd-ztfieowpmodpro.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ou, par exemple, une autre m√©trique (affich√©e en bleu dans la capture d'√©cran) - mise √† jour des lettres dans un dossier. L'ouverture d'un dossier de messagerie est une op√©ration tr√®s courante et doit √™tre effectu√©e rapidement. Nous mesurons sa vitesse d'ex√©cution. Cet indicateur est mesur√© pour chaque client. Vous pouvez voir l'image globale de l'entreprise et la dynamique, par exemple, d'un employ√© individuel. La capture d'√©cran montre que jusqu'√† cette ann√©e, la m√©trique √©tait d√©s√©quilibr√©e, puis nous avons apport√© un certain nombre d'am√©liorations, et maintenant cela ne va pas en empirant - un calendrier presque uniforme. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/w-/ew/ay/w-eway3c2wyaubpqk1onjq4ptjm.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les m√©triques sont essentiellement un outil d‚Äôadministrateur pour surveiller le syst√®me, pour r√©pondre rapidement √† tout changement dans le comportement du syst√®me. Sur une capture d'√©cran - mesures du DO interne pendant un an. Le saut dans les graphiques est d√ª au fait que nous avons √©t√© charg√©s de d√©velopper des filiales internes.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fj/pt/d1/fjptd1wgq42u1dpgl6p96cwuwv4.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici une liste de quelques mesures suppl√©mentaires (sous la coupe).</font></font><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√©trique</font></font></b><div class="spoiler_text"><ul>
<li> </li>
<li> </li>
<li> </li>
<li> </li>
<li>  ()</li>
<li> </li>
<li>    </li>
<li> </li>
<li> </li>
<li>          10 </li>
<li>  :  </li>
<li>    </li>
<li> </li>
<li> </li>
<li>      </li>
<li>      ( )</li>
<li>      ( )</li>
<li>      ( )</li>
<li>      ( )</li>
<li>      ()</li>
<li>  </li>
<li>  </li>
<li>  ¬´    ¬ª</li>
<li>    </li>
<li>   </li>
<li>    </li>
<li>   </li>
</ul><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Notre syst√®me effectue des mesures de plus de 150 indicateurs 24 heures sur 24, mais tous ne peuvent pas √™tre surveill√©s rapidement. </font><font style="vertical-align: inherit;">Ils peuvent √™tre utiles plus tard, dans une certaine perspective historique, et vous pouvez vous concentrer sur les plus importants pour les entreprises.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans l'une des impl√©mentations, par exemple, seuls 5 indicateurs ont √©t√© s√©lectionn√©s. Le client s'est fix√© pour objectif de faire un minimum d'indicateurs, mais en m√™me temps de mani√®re √† couvrir les principaux sc√©narios de travail. Il serait injustifi√© d'inclure 150 indicateurs dans l'acte d'acceptation, car m√™me au sein de l'entreprise, il est difficile de s'entendre sur les indicateurs jug√©s acceptables. Et ils connaissaient ces 5 indicateurs et les avaient d√©j√† pr√©sent√©s au syst√®me avant le d√©but du projet de mise en ≈ìuvre, y compris dans le dossier d'appel d'offres: temps d'ouverture de la carte pas plus de 3 secondes, temps d'ex√©cution de la t√¢che avec un fichier pas plus de 5 secondes, etc. Dans nos filiales, il y avait pr√©cis√©ment des mesures qui refl√©taient tr√®s clairement la demande initiale des exigences du client.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et nous avons √©galement une analyse de profil des mesures de performance. </font><font style="vertical-align: inherit;">Les indicateurs de performance sont la fixation de la dur√©e de chaque op√©ration effectu√©e (r√©daction d'une lettre dans la base de donn√©es, envoi d'une lettre au serveur de messagerie, etc.). </font><font style="vertical-align: inherit;">Il est utilis√© exclusivement par des sp√©cialistes techniques. </font><font style="vertical-align: inherit;">Nous avons beaucoup d'indicateurs de performance dans notre programme. </font><font style="vertical-align: inherit;">Nous mesurons d√©sormais environ 1 500 op√©rations cl√©s, r√©parties par profil. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kp/kw/ht/kpkwhtmfno5e6log8ozegzltuie.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'un des profils les plus importants pour nous est la ¬´Liste des indicateurs cl√©s du courrier du point de vue des consommateurs¬ª. </font><font style="vertical-align: inherit;">Ce profil comprend, par exemple, les indicateurs suivants:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ex√©cution de commande: filtrer par balise</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ouverture d'un formulaire: formulaire de liste</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ex√©cution des commandes: s√©lection par dossier</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Afficher les lettres dans la zone de lecture</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enregistrer une lettre dans votre dossier pr√©f√©r√©</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rechercher des lettres par d√©tails</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cr√©er une lettre</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si nous voyons que la m√©trique d'un indicateur commercial est devenue trop grande (par exemple, les lettres d'un utilisateur sp√©cifique ont commenc√© √† arriver depuis tr√®s longtemps), nous commen√ßons √† comprendre, nous nous tournons vers la mesure du temps des op√©rations techniques. </font><font style="vertical-align: inherit;">Nous avons l'op√©ration technique ¬´Archivage des lettres sur le serveur de messagerie¬ª - nous constatons l'exc√©dent de temps pour cette op√©ration pour la derni√®re p√©riode. </font><font style="vertical-align: inherit;">Cette op√©ration, √† son tour, se d√©compose en d'autres op√©rations - par exemple, l'√©tablissement d'une connexion au serveur de messagerie. </font><font style="vertical-align: inherit;">Nous voyons que pour une raison quelconque, il est soudainement devenu tr√®s grand (nous avons toutes les mesures en un mois - nous pouvons comparer cela la semaine derni√®re 10 millisecondes, et maintenant 1000 millisecondes). </font><font style="vertical-align: inherit;">Et nous comprenons que quelque chose ici est cass√© - nous devons le r√©parer.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment entretenons-nous une si grande base de donn√©es?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Notre DO interne est un exemple de projet tr√®s charg√© et vraiment fonctionnel. </font><font style="vertical-align: inherit;">Parlons des caract√©ristiques techniques de sa base de donn√©es.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quelle est la dur√©e de la restructuration de grandes tables de base de donn√©es?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le serveur SQL n√©cessite une maintenance p√©riodique, nettoyant les tables. </font><font style="vertical-align: inherit;">Dans le bon sens, cela devrait √™tre fait au moins une fois par jour, et pour les tables tr√®s demand√©es - encore plus souvent. </font><font style="vertical-align: inherit;">Mais si la base est grande (et que notre nombre d'enregistrements a d√©j√† d√©pass√© 11 milliards), il n'est pas facile de s'en occuper. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons fait la restructuration des tables il y a 6 ans, mais cela a commenc√© √† prendre tellement de temps que nous ne cadrions plus dans les intervalles nocturnes. </font><font style="vertical-align: inherit;">Et puisque ces op√©rations chargent fortement le serveur SQL, il ne peut pas fournir des services de qualit√© aux autres utilisateurs.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par cons√©quent, nous devons maintenant appliquer diverses astuces. Par exemple, nous ne pouvons pas effectuer ces proc√©dures sur des ensembles de donn√©es complets. Vous devez recourir √† la proc√©dure Mettre √† jour un √©chantillon de 500 000 lignes - cela prend 14 minutes. Il ne met pas √† jour les statistiques pour toutes les donn√©es du tableau, mais s√©lectionne un demi-million de lignes et calcule √† partir de celles-ci les statistiques qu'il utilise pour l'ensemble du tableau. Il s'agit d'une hypoth√®se, mais nous sommes oblig√©s d'y aller, car pour un tableau particulier, la collecte de statistiques pour le milliard d'enregistrements entier sera inacceptablement longue. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dl/mq/9q/dlmq9qvlqsafte96p7yjhllxegm.png" alt="image"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons √©galement optimis√© d'autres op√©rations de maintenance en les rendant partielles.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La maintenance d'un SGBD est g√©n√©ralement une t√¢che difficile. </font><font style="vertical-align: inherit;">Dans le cas d'une interaction active entre les employ√©s, la base de donn√©es se d√©veloppe rapidement, il devient de plus en plus difficile pour les administrateurs de la g√©rer - mise √† jour des statistiques, d√©fragmentation, indexation. </font><font style="vertical-align: inherit;">Ici, nous devons appliquer diff√©rentes strat√©gies, nous savons tr√®s bien comment proc√©der, nous avons de l'exp√©rience, nous pouvons la partager.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment la sauvegarde est-elle impl√©ment√©e avec de tels volumes?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une sauvegarde compl√®te du SGBD est effectu√©e une fois par jour la nuit, de mani√®re incr√©mentielle - toutes les heures. </font><font style="vertical-align: inherit;">En outre, un r√©pertoire de fichiers est cr√©√© chaque jour et constitue une partie de la sauvegarde incr√©mentielle du stockage de fichiers.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Combien de temps dure une sauvegarde compl√®te?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sur un disque dur, une sauvegarde compl√®te est effectu√©e en trois heures, partielle - en une heure. </font><font style="vertical-align: inherit;">Il faut plus de temps pour √©crire sur la bande (un p√©riph√©rique sp√©cial qui effectue une copie de sauvegarde sur une cassette sp√©ciale stock√©e √† l'ext√©rieur du bureau; une copie ali√©nable est effectu√©e sur la bande, qui sera enregistr√©e si, par exemple, le serveur est en panne). </font><font style="vertical-align: inherit;">La sauvegarde se fait exactement sur le m√™me serveur, dont les param√®tres √©taient plus √©lev√©s - SQL-server avec 20% de charge processeur. </font><font style="vertical-align: inherit;">Au moment de la sauvegarde, bien s√ªr, le syst√®me devient bien pire, mais il est toujours op√©rationnel.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xq/sb/6j/xqsb6jqlw7y8fg5pgpwwhghhm74.png" alt="image"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Y a-t-il une d√©duplication?</font></font></h3><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il y a </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">d√©duplication des</font></a><font style="vertical-align: inherit;"> fichiers, nous l'ex√©cutons sur nous-m√™mes, et bient√¥t il sera inclus dans la nouvelle version de Document Management. </font><font style="vertical-align: inherit;">Nous utilisons √©galement le m√©canisme de d√©duplication des contreparties. </font><font style="vertical-align: inherit;">Il n'y a pas de d√©duplication des enregistrements au niveau du SGBD, car cela n'est pas n√©cessaire. </font><font style="vertical-align: inherit;">La plateforme 1C: Enterprise stocke des objets dans le SGBD et seule la plateforme peut √™tre responsable de leur coh√©rence.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Existe-t-il des n≈ìuds en lecture seule?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il n'y a pas de n≈ìuds pour la lecture (n≈ìuds syst√®me d√©di√©s qui servent ceux qui ont besoin de recevoir des donn√©es de lecture). </font><font style="vertical-align: inherit;">DO n'est pas un syst√®me de comptabilit√© √† mettre sur un n≈ìud BI distinct, mais il existe un n≈ìud distinct pour le service de d√©veloppement, qui est √©chang√© avec des messages au format JSON, et les temps de r√©plication typiques sont des unit√©s et des dizaines de secondes. </font><font style="vertical-align: inherit;">Le n≈ìud est encore petit, il compte environ 800 millions d'entr√©es, mais il cro√Æt rapidement.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Et les messages marqu√©s pour suppression ne sont pas supprim√©s du tout?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pas encore. </font><font style="vertical-align: inherit;">Nous n'avons aucune t√¢che pour faciliter la base. </font><font style="vertical-align: inherit;">Il y a eu plusieurs cas assez graves o√π j'ai d√ª me tourner vers des lettres marqu√©es pour suppression, dont 2009. </font><font style="vertical-align: inherit;">Par cons√©quent, pour l'instant, nous avons d√©cid√© de tout garder. </font><font style="vertical-align: inherit;">Mais lorsque le co√ªt de cela deviendra injustifi√©, nous penserons √† la suppression. </font><font style="vertical-align: inherit;">Mais, si vous devez supprimer une lettre distincte de la base de donn√©es avec les extr√©mit√©s afin qu'il n'y ait aucune trace, cela peut √™tre fait sur demande sp√©ciale.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pourquoi le stocker? </font><font style="vertical-align: inherit;">Existe-t-il des statistiques sur l'acc√®s aux anciens documents?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il n'y a pas de statistiques. </font><font style="vertical-align: inherit;">Plus pr√©cis√©ment, il se pr√©sente sous la forme d'un journal utilisateur, mais il n'est pas stock√© longtemps. </font><font style="vertical-align: inherit;">Les enregistrements de plus d'un an sont supprim√©s du protocole. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y avait des situations o√π il fallait remonter l'ancienne correspondance d'il y a cinq ou m√™me dix ans. </font><font style="vertical-align: inherit;">Et cela a toujours √©t√© fait non par simple curiosit√©, mais pour prendre des d√©cisions commerciales complexes. </font><font style="vertical-align: inherit;">Il y a eu un cas o√π sans l'historique de la correspondance, la mauvaise d√©cision commerciale serait prise.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment est l'examen de la valeur et de la destruction des documents selon la p√©riode de stockage?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour les documents papier, cela se fait de la mani√®re traditionnelle habituelle, comme tout le monde. </font><font style="vertical-align: inherit;">Pour l'√©lectronique, nous ne le faisons pas - laissez-le √™tre stock√©. </font><font style="vertical-align: inherit;">Le sit est ici. </font><font style="vertical-align: inherit;">Il y a un avantage. </font><font style="vertical-align: inherit;">Tout est bien.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quelles sont les perspectives de d√©veloppement?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, notre DO r√©sout environ 30 probl√®mes internes, dont certains que nous avons √©num√©r√©s au d√©but de l'article. </font><font style="vertical-align: inherit;">DO est √©galement utilis√© pour pr√©parer des conf√©rences que nous organisons deux fois par an pour nos partenaires: l'ensemble du programme, tous les rapports, toutes les sections parall√®les, les salles - tout cela est compos√© dans DO, puis il est t√©l√©charg√© √† partir de celui-ci, et un programme imprim√© est cr√©√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sur le chemin de DO, il y a plusieurs autres t√¢ches, en plus de celles qu'il r√©sout d√©j√†. </font><font style="vertical-align: inherit;">Il existe des t√¢ches √† l'√©chelle de l'entreprise, mais il existe des t√¢ches uniques et rares qui ne sont n√©cessaires qu'√† une unit√© particuli√®re. </font><font style="vertical-align: inherit;">Il est n√©cessaire de les aider et, par cons√©quent, d'√©largir la "g√©ographie" de l'utilisation du syst√®me √† l'int√©rieur de 1C - d'√©largir la port√©e, de r√©soudre les t√¢ches de tous les d√©partements. </font><font style="vertical-align: inherit;">Ce serait le meilleur test de performance et de fiabilit√©. </font><font style="vertical-align: inherit;">J'aimerais voir le syst√®me fonctionner sur des milliards de documents, des p√©taoctets d'informations.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr496512/index.html"># 05 - Et un octet entier ne suffit pas ... | Manga</a></li>
<li><a href="../fr496514/index.html">Tunnel VPN IPsec IPIP entre la machine Linux et Mikrotik derri√®re le fournisseur NAT</a></li>
<li><a href="../fr496516/index.html">Bot t√©l√©gramme en python vs COVID-19</a></li>
<li><a href="../fr496518/index.html">Comment sommes-nous arriv√©s √† la t√©l√©commande</a></li>
<li><a href="../fr496528/index.html">La localisation d'un code QR est une t√¢che importante, sans raison, sans attention</a></li>
<li><a href="../fr496536/index.html">DeepCode: vue lat√©rale</a></li>
<li><a href="../fr496538/index.html">Fractales en Python. Proc√©dure pas √† pas</a></li>
<li><a href="../fr496542/index.html">Le trafic Internet en Europe a augment√© une fois et demie. Les fournisseurs de backbone enregistrent les enregistrements de charge</a></li>
<li><a href="../fr496544/index.html">Hackathon en ligne de projets pour les ind√©pendants: 500 mille roubles pour leurs id√©es et le soutien du Service f√©d√©ral des imp√¥ts</a></li>
<li><a href="../fr496546/index.html">D√©marrage au sein de l'entreprise</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>