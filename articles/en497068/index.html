<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§≤ üòï üëÜüèø Setting up auto phase alignment in differential pairs in CAD Cadence Allegro ü•á ‚õèÔ∏è üîÉ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sometimes even your favorite programs can be tormenting - especially if you do not know how to properly configure this or that function. The Cadence A...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Setting up auto phase alignment in differential pairs in CAD Cadence Allegro</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/497068/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sometimes even your favorite programs can be tormenting - especially if you do not know how to properly configure this or that function. The Cadence Allegro PCB editor has such an awesomely useful option, High Speed, that really helps in tracing speed signals, DDR, and differential pairs. However ... not everything there turns out so smoothly and simply, if you do not know some of the nuances. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
One of these functions is the ability to automatically align the static and dynamic phases in differential pairs, using the "humps", the so-called bumps. However, this tool will not work well without tuning, and get good results by simply running the tool with the Route - Auto-interactive phase tune command and clicking on a few diffs. couples will not work.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I bring to your attention my experience with this tool:</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The first thing to do is set the PinUSE property on the component pins (pins) to IN at the input, OUT at the output. This is a prerequisite, since the phase equalization algorithm takes into account the direction of signal propagation. If both ends of the line can serve as a source and receiver of signals, then you need to independently choose what to consider as the source and what to be the receiver, and set the PinUse properties accordingly. In order to assign a property to a component pin, you must complete all the commands. While in General edit mode, in the Find tab, leave one checkmark opposite the Pins pins, and click LMB (with the left mouse button) on the pin. Then click RMB (right click) and select Property Edit from the drop-down menu. Then find the desired property in the property list: PINUSE. And finally, set its value accordingly to either IN,either in OUT.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
How to get to the pin properties: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/d1/ob/tx/d1obtxblwspisghi8nfyckzygds.png"><br>
<br>
<img src="https://habrastorage.org/webt/ob/ph/yn/obphynnnled0s1i4r49mz7l_5hq.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The sequence of actions for assigning additional properties to component pins.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Then you need to set the clearance for the gap between the differential conductors. pairs in Constraint Manager at least 0.01 mm or more. This eliminates the errors of defining a pair as Uncoupled (non-connected) when laying at 45 degrees and erroneously affixing markers of this Uncoupled state. In addition, the phase on such ‚ÄúUncoupled‚Äù segments is not compensated. Those. a diffpara after a turn at 45 is considered Uncoupled if the gap is outside the tolerance, and naturally, the humps for phase equalization are not automatically set after each turn of the diff.pairs, as we would like. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ot/xo/5c/otxo5co9oixi0of4o43hmch22vw.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Required differential tolerance settings in Constraint Manager</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The addition of humps occurs on visible sections of the tracks. Those. if the trace is on the off layer, then the addition will not occur. And also the addition stops working when switching from layer to layer. Those. when activating the phase equalization tool, you need to look at the entire circuit from the source to the receiver, and after each vias (VIA), you must additionally click on the conductor located on another layer. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It is better to first deal with static phases, and only then with dynamic ones. Do not try to level everything all at once in 1 pass. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I recommend setting adequate boundaries for the size of the humps. It works well for me with the values ‚Äã‚Äãshown in the figure below: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/2m/xs/t3/2mxst3nh47qr3m4uad_k-bppmuo.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parameters of added compensation sections (humps)</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After activating the tool itself, you need to pay attention to the Uncoupled bumps option. Without this option, the user will fail, because everything is added to the differential. a couple of objects will be considered uncoupled. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zn/yj/im/znyjimjjwvani_p9xh1flk5mbkc.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Do not forget to select this option to get the result.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
As for the Pad Entry Shortening and Pad Entry Lengthening options, these are options that allow you to gain length or vice versa to remove excess by drawing additional segments near the contact pads. I do not recommend using them, since the engineer knows better how to approach the contact area, and fixing this place with a computer can be inefficient. It is better to draw the length of the humps on the trace segments, and do not touch the place of approach to the CP.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I hope that these tips will help users get the expected results when using this tool and not spoil their nerves by rummaging through the settings and trying to ‚Äúget the program to work‚Äù.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en497054/index.html">Product and prioritization: how to evaluate project objectives?</a></li>
<li><a href="../en497056/index.html">STM32 Debug Board</a></li>
<li><a href="../en497058/index.html">Returning to the Voyager 2 data, scientists discovered another secret about Uranus</a></li>
<li><a href="../en497060/index.html">Lifehacks for organizing online events</a></li>
<li><a href="../en497062/index.html">Simple robot on MK esp8266 with micropython</a></li>
<li><a href="../en497072/index.html">How to make color music when you are a programmer</a></li>
<li><a href="../en497074/index.html">About Phrasal Verbs-3 (on / off)</a></li>
<li><a href="../en497080/index.html">‚ÄúYou Can‚Äôt Get Bored Here: How It Works at Solar JSOC Regional Branches</a></li>
<li><a href="../en497082/index.html">Presentations of the second ROS Meetup on the topics: Gazebo and tools for robots</a></li>
<li><a href="../en497086/index.html">CQRS and Microservices in Product Development</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>