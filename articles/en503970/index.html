<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üàÅ üçΩÔ∏è üñï PuppetConf 2016. Kubernetes for system administrators. Part 1 üö∏ üê§ üöÆ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I am a system administrator, dealing with computers, and today we will talk about Kubernetes. I will try to delve deeper into the topic, considering w...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>PuppetConf 2016. Kubernetes for system administrators. Part 1</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/503970/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I am a system administrator, dealing with computers, and today we will talk about Kubernetes. I will try to delve deeper into the topic, considering what problems the system administrator can solve with this application, and also touch upon some aspects of Puppet operation, which seemed to fit into this world with the help of a new set of abstractions for the application to work. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Five or six years ago, Luis Andre Barroso and Urs Hoesl in the article ‚ÄúData Center as a Computer‚Äù suggested that we should perceive the data center as one massive computer. It is necessary to abstract from the fact that the data center consists of separate machines, and consider it as one logical entity. As soon as you try to use this idea in practice, you can apply the principles of building distributed systems and distributed computing to data centers.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/w9/q7/sg/w9q7sgxchzl3fuuhlrymsv4xcsa.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In order to treat the data center as a computer, you need an operating system. It looks very similar to the one you use on a separate computer, but must have a different interface, because you do not need access to a separate machine and you do not need access to the kernel. So, let's think of the data center as a big computer. Today I will tell you what to do if you seem to be deprived of the ability to control any machine using SSH. You will not be able to log in, and although some people believe that without this it is impossible to control the system, I will tell you how much can be done with Kubernetes. First, you should think of Kubernetes as a framework for building distributed platforms.</font></font><a name="habracut"></a><br>
<br>
<img src="https://habrastorage.org/webt/wf/d2/5c/wfd25cjupilzhtu1ndkpci11cfs.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This does not mean that after downloading Kubernetes, you will get a user interface that will provide you with everything you want to do with the system. No, this is just the foundation for creating the tools you need to run your infrastructure. I'll show you how to create integration using the Let's Encrypt Certificate Authority to automate the certificate process for my application using Kubernetes as a framework.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ol/ty/g3/oltyg3s-gtbgticzc-omgefrq04.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Many people ask exactly what Kubernetes is good for. I worked with Puppet Labs for many years and saw that this thing was installed on computers in order to provide the system with an API that has not existed so far. Instead of Bash, YAML scripts, and similar things, Puppet provided a DSL user who allowed him to interact with the machines programmatically without shell scripts. The difference between Kubernetes is that it is located above the level of "iron". Let's focus not so much on automation and abstraction of this system as on the relationships, or on the contract, between our infrastructure and applications that we are going to pull from any node. In Kubernetes, we don‚Äôt assign any applications to machines, there is no such thing as a ‚Äúnode manifest‚Äù, the scheduler considers individual nodes simply as data center resources,representing one big computer.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Questions: ‚ÄúDoes Kubernetes run on OpenStack, on VMware, on Bare Metal, in the cloud?‚Äù don't make sense. The correct question is: ‚ÄúCan I run the Kubernetes agent to retrieve these resources?‚Äù And the answer will be ‚Äúyes‚Äù. Because the operation of this application is completely independent of the platform you choose. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/an/km/hl/ankmhlzzmnaitmix8t0hppm8idi.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kubernetes is platform independent. Kubernetes is declarative in the same way as Puppet. Therefore, you are reporting for which application you are going to use it - in this example it is nginx. This is a contract between you, the developer, and Kubernetes as a means to create container images.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I like to use the analogy with the express company FedEx - you cannot drag them a whole wagon of things and wait until they sort it all and send it to where it should be. They have a rule: pack your things in a box. Once you do, they will send your box and will be able to tell when it will arrive at its destination. ‚ÄúIf you don‚Äôt have a box, then you will not be able to work with our system.‚Äù</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Therefore, when working with containers, it is useless to discuss what you have - Python, Java and or something else, it does not matter - just take all your dependencies and put them in the container. Many people say about containers that they seem to solve the problems of the whole infrastructure. However, the problem is that people don‚Äôt perceive containers as two different things that they really are. The first thing is the idea of ‚Äã‚Äãa packaging format, the second is the idea of ‚Äã‚Äãa container runtime. These are two different things that do not necessarily require the same tools.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Which of those present created the containers? And who uses Puppet to build containers? That's right, I do not agree with this either! You can say: ‚Äúhow so? You are at the Puppet conference, you have to agree! ‚Äù The reason I disagree with the idea of ‚Äã‚Äãbuilding containers in Puppet is this: I don‚Äôt know if we need it at all, because the things we need to create an image are different from the things we need to start the prod process. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let's think of it as building a software pipeline and take a look at this Dockerfile. Close your eyes to those who have never seen these files, because for you they can look intimidating. This file shows how to create a Ruby on Rails application - a Ruby application with a Rails framework.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/f3/ra/3r/f3ra3rkhngjp08t7beuyoeihc7i.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It says ‚ÄúFROM ruby ‚Äã‚Äã2.3.1‚Äù, which will probably insert the entire operating system into the container, in this case the basic alpine-linux Ruby image. Does anyone know why we embed Ubuntu or Red Hat images in these containers? Most people do not know what dependencies are, and use a haphazard approach, simply stuffing the entire OS into a container to ensure they have their dependencies somewhere inside. So, after you have built this thing, you need to run it only once. This is where the misunderstanding comes from: if this thing doesn't work, change the line of code until it works. Just check! You do not need to be too smart with these files, your goal is to build an offline representation of your application with all the dependencies. This is just a crutch that we use from Ubuntu as a starting point.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you just created the application and launched it, you would use something like a static link. No dependencies on the host, in your container you would just have a binary of a single-line Docker file and no basic images. In fact, it‚Äôs just a transfer of things that are familiar to us. See how this assembly will look. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/jf/pr/uq/jfpruqpgtrrrwwchkadl34kxn_y.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I previously created this file, but usually it looks like an attempt to build the entire Internet. I am a little afraid of this assembly, because I'm not sure that the local Internet can handle Ruby. See what happened.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/jo/1i/a6/jo1ia6qqo37wr63tazkn-yco38e.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
How do you like this volume of 1 Gig? Moreover, the source file, that is, your application itself, can occupy, say, only 100 kB. So how did we get a whole gigabyte? This is because we use inefficient tools for building stand-alone applications. All of them are designed to run on computers and use dynamic libraries loaded from the external environment. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now we will try to do what we do on a mobile phone - portable versions of applications for the use of which there is a contract between you and the infrastructure. As soon as we have such a contract, we will be able to tell the system exactly what it should do, and it will not care what to do.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You do not have any special, specially created application. I came across companies that say: ‚Äúwe have a special application!‚Äù. I say: ‚ÄúLet‚Äôs guess what it does: it starts, binds to the port, receives traffic, does something with the data,‚Äù and they are: ‚ÄúWow, how do you know that?‚Äù I know, because there is nothing special here!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So, we take the sample that we placed in the container and send it to the API server. Next, we need to turn this into something that will work on our machine. However, in order to collect resources from the machine, we need to install several things: a container runtime for the Docker file, an agent who understands how to communicate with the wizard in order to run everything necessary, what the system response should be for the application to start working . This agent is simply observing - there are no 30 second intervals, repeated checks, nothing like that. He simply observes, saying: ‚Äúif there is work for me, let me know about it, and I will start and will constantly inform you of the status of the process‚Äù, so that you will know that it works.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/2q/s1/dq/2qs1dq2ks5exprh4iljfwyiyydu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As soon as we do this by car, we need a scheduler. How many people use the scheduler? You all have to raise your hands! It‚Äôs the same as the answer to the question: ‚Äúwhich of you has a laptop with more than a single-core processor?‚Äù. Indeed, when I ask a question about the planner, most do not raise their hands. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When you start your process on a machine, something should choose which processor to use. Who does this work? That's right, the core. Now I will explain to you guys what a planner is. The fastest way to do this is to play Tetris. The first thing we will discuss is automatic deployment.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/on/qu/bb/onqubbexwsv2hscesmqhfvanli4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
How many of you have used fully automatic deployment? Clearly, I think that‚Äôs why we are all here. So, I press the button, the blocks start to fall from above, and now you can go for a beer. But notice what happens on the left and on the right: your processor and your memory turn into the trash. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/9c/gc/nd/9cgcndnl9ybdbg7t5fdhjei0930.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This happens because most people use no more than 5% of computer resources. You automate processes, but lose a ton of money. I work as a cloud provider, I have huge reserves of resources, but it's just awful when people spend money in a similar way.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When you use the scheduler, by analogy with Tetris, control the playing field and control each block, directing it to the right place, that is, use the resources of the machine in the most optimal way. Kubernetes uses a couple of algorithms for this. The main algorithm is called Bin Packing - the same ‚ÄúTetris‚Äù will help to understand it. Kubernetes receives a workload of various shapes and sizes, and our task is to pack it in machines in an optimal way.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Our goal is to reuse all the resources that become available as work progresses. Not all workloads are the same, so it‚Äôs hard to put them in the same box. But in Kubernetes, when a ‚Äúpiece‚Äù of the workload appears (or the Tetris block, if we continue our analogy), there is always the right cluster where you can put it and run it. And as with any batch processing, after the task is completed, we get back all the resources previously occupied so that we can use them for future tasks. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Since we live not in the game, but in the real world, you have solutions developed many years ago. Then you become a system administrator, employers show you their production, and you notice that their deployment is not good enough.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/2u/h_/hs/2uh_hsyrdmkfnkg5pnes9jlopr4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can install cluster managers on parts of your machines and let them manage certain resources. In this particular case, you can use Kubernetes, which will begin to fill in the empty spaces of your Tetris as you move forward. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let those who work in the industry raise their hands. Yes, this is a classic called salary. Suppose you have several problems in your enterprise. The first is that everything is written in Java or even in COBOL - usually no one is ready for this.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The second problem often encountered in enterprises is the Oracle DBMS. This is such a thing, which is located in the rear of the software and says: "Do not try to automate anything!". If you automate the software, your cost will increase. Therefore, no automation - we are promoting our consulting ecosystem! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Typically, in such circumstances, people ask if Kubernetes can simply be used to solve these problems. I answer: ‚Äúno,‚Äù because in a situation similar to losing in Tetris, nothing will help you. You need to do something else, namely to use the scheduler. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now that we have a scheduler that successfully understands workloads, you can simply put everything in boxes, and the scheduler will begin its work.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rg/yz/ei/rgyzeivhzivkgknoock70b7rcym.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let's talk about the key entities of Kubernetes. Firstly, these are Pods pods, which are a collection of containers. In most cases, an application consists of more than one component. You can attach yourself an application written without Java scripts, but you might want to use nginx to complete TLS and just a proxy in the application‚Äôs background, and then these things should be connected together because they are tightly connected dependencies. A loosely coupled dependency is a database that you independently scale. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/e4/ca/zh/e4cazhfmbeim5egpejksnv42ce8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The second important thing is the Replication Controller, which is a manager of the processes occurring in the Kubernetes cluster. It allows you to create multiple instances of hearths and monitor their condition.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When you say that you would like to start some process, it means that it will work all the time somewhere in the cluster. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The third important element is the Service, a set of collaborative hearths. Your deployment is based on the dynamic determination of the desired state - where the applications should work, with what IP address, etc., so you need some form of service.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The fourth element is the Volumes repositories, which can be viewed as directories available for containers in the hearth. Kubernetes has different types of Volumes that determine how this store is created and what it contains. The concept of Volume was also present in Docker, but the problem was that the storage there was limited to a specific hearth. As soon as under ceased to exist, Volume disappeared with it. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The storage that Kubernetes creates is not limited to any container. It supports any or all containers deployed inside the hearth. A key advantage of Kubernetes Volume is its support for various types of storage that Pod can use simultaneously.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let's look at what a container is. This is the image format in which our application with all the dependencies is packed, and the main configuration of the runtime environment, showing how this application should work. These are two different elements, although you can pack anything you like into this thing, in particular, the Root Filesystem as a compressed Tarball tar file, which contains many configuration files for a specific system. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ed/lg/9w/edlg9wz2ttlinfb3udleerb0id0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Then we can perform the distribution, a process that is familiar to you all ‚Äî RPM or another repository system is used here. You take all these things and put them in the repository. This process is very similar to what we do with OS packages, only for containers that are created from images.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/pe/4p/dg/pe4pdggvudbe3l5ufp5l6gei6pc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pod allows you to compose everything that our logical application needs. A logical application is a tool for managing multiple applications within the same system profile. A sub is a resource package that includes one or more containers and storages, a common namespace, and one IP address per sub. Vaults can be distributed between containers.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ht/rw/cf/htrwcfvuetyk6vhgqjh6zgsjeoe.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In general, the hearth design resembles a virtual machine. It ensures that the application will start and stop as an atomic unit. The next slide shows what the replication controller looks like. If I send this declaration to the server and say: ‚ÄúHey, I want one replica of the Foo application to work!‚Äù, The controller will create it from the template and send it to the scheduler, which will place the application on Node 1. We do not specify on which machine it should run, although we can do it. Now increase the number of replicas to 3. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ta/qe/ld/taqeldbd6scvq7oyst2ff3dooyu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
What actions do you expect from the system if one of the machines fails? In this case, the replication controller will bring the current state of the system to the desired state, moving it under the container from the third, non-working machine, to the second.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/oy/d7/_i/oyd7_i1a1dvfpllkj_s7hek_37e.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You do not need to delve into this process and direct it - entrusting the work to the controller, you can be sure that the application will be ensured properly by constantly monitoring changes in the current state of the infrastructure and making decisions that ensure the system is working. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
These things are ahead of their time - you just tell the system: ‚ÄúI want these three machines to work!‚Äù, And this is where your control ends. This approach is very different from scripting and pure automation, when you really need to manage what is happening right now to influence the future decision. You cannot codify all this without the ability to receive incoming information in order to respond to the situation properly. The approach described above provides you with this opportunity.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
How do you imagine the configuration - the concept of configuration files for services? A lot of people are silent about this issue when it comes to containers, but we still need configuration, it does not disappear anywhere! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kubernetes also uses the Secrets concept, which is used to store and transfer encrypted data between managers and Nods nodes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We never run Puppet in a container because there is no reason to do this. You can use Puppet to generate a config file, but you still want to store it in Kubernetis because it allows you to distribute it using the runtime. Let's see how it looks.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vv/i3/f3/vvi3f3c-8dhftpdedfe23me1xbg.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In this example, we create a secret from a file and save it on the Kubernetes API server. You can imagine that you replaced this part with something like Puppet, which uses the eRB template and hidden data to fill in the contents of the secret - it does not matter who does it, but you can do it anyway. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Once the secret is in place, it can serve as a link to create a deployment that says, ‚ÄúI want to use this secret!‚Äù In this case, Kubernetes does the following.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/cm/um/nu/cmumnufkw4ffxmhcggn2ppulcva.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It creates a pod, takes data from secret, puts it in a temporary file system and presents it as a container, just like Puppet creates a copy on a machine. This follows the life cycle of the application, and when the application dies, the configuration disappears with it. If you need 10,000 application instances, you will need to create and inject into under 10,000 temporary file systems. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Services allows you to run all of these elements in a cluster and synchronize them with another endpoint. In fact, a service is a group of hearths that function as a single hearth. It contains a permanent IP address and port, provides integration into DNS, uses load balancing and is updated when the firmware changes.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/8t/cr/co/8tcrcolf5hrgnqfcrdf3nzkdr2a.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now let's look at the collaboration of the conceptual components of Kubernetes. We have Lego bricks and configurations that must interact with each other. If you intend to run a database in a cluster, then you can really do it on Kubernetes. Many say that you will not be able to run stateful applications in containers, but this is completely wrong. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you think about how hypervisors work, you can understand that they do almost the same thing as you: create a virtual machine, the scheduler moves it to the hypervisor and attaches the storage. Sometimes you work with local storage that comes from the hypervisor, and there are no reasons why containers could not do the same.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
However, the problem with containers is that most people are not accustomed to having an explicit list of file paths that they must provide to the application. Most people will not be able to tell you exactly the devices and files that the data warehouse needs. They pack everything in containers, and as a result, nothing good comes of it. Therefore, do not believe that containers are not capable of running state-saving applications - you can very well do this. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bj/hm/ve/bjhmvetwbvkbjbqirup-xb_ya-0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
On the slide you see an example of Ruby-on-Rails, and before we can use our application, we need to migrate the database. Let's get down to the live demo of the program. In order to carry out the deployment, I use MY_SQL, and you see a lot of data on the screen.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/dp/ai/or/dpaioryaowiq9c4yevmvd9uqkqg.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I am showing you all this because, as a system administrator, you have to understand many things. In this deployment, I refine some of the metadata of my application, but the main thing I will highlight in gray: I want to start 1 copy of the mysql application and use the mysql container version 5.6.32. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qv/kr/ev/qvkrev67_otmvqqvdhtiha07mec.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Notice that here I select some secret from Kubernetes as links, which in this case I am going to inject as environment variables. Later I will show you another case when we insert them into the file system. Thus, I do not need to ‚Äúbake‚Äù secrets in my configuration. The next important line is the resource block.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/hm/b4/jt/hmb4jtgyd1dupdt4dfoapzcppli.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You cannot play Tetris until you know the size of the blocks. </font><font style="vertical-align: inherit;">Many people start deploying without using resource limits for this process. </font><font style="vertical-align: inherit;">As a result, RAM is completely clogged, and you "stack" the entire server. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
22:09 min </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To be continued very soon ...</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/HlAXp0-M6SY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A bit of advertising :)</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Thank you for staying with us. Do you like our articles? Want to see more interesting materials? Support us by placing an order or recommending to your friends, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cloud VPS for developers from $ 4.99</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , a </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">unique analog of entry-level servers that was invented by us for you: </font></font></b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The whole truth about VPS (KVM) E5-2697 v3 (6 Cores) 10GB DDR4 480GB SSD 1Gbps from $ 19 or how to divide the server?</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (options are available with RAID1 and RAID10, up to 24 cores and up to 40GB DDR4). </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dell R730xd 2 times cheaper at the Equinix Tier IV data center in Amsterdam?</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Only we have </font></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 x Intel TetraDeca-Core Xeon 2x E5-2697v3 2.6GHz 14C 64GB DDR4 4x960GB SSD 1Gbps 100 TV from $ 199</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in the Netherlands!</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dell R420 - 2x E5-2430 2.2Ghz 6C 128GB DDR3 2x960GB SSD 1Gbps 100TB - from $ 99! </font></font></b></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Read about</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> How to Build Infrastructure Bldg. </font><font style="vertical-align: inherit;">class c using Dell R730xd E5-2650 v4 servers costing 9,000 euros for a penny?</font></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en503960/index.html">How Linux sort sorts strings</a></li>
<li><a href="../en503962/index.html">Autonomous Driving - hype in cars, but the need for data center network services</a></li>
<li><a href="../en503964/index.html">DataStore - CRUD (Create Read Update Delete)</a></li>
<li><a href="../en503966/index.html">The Social Monitoring app was made from a garbage truck tracker</a></li>
<li><a href="../en503968/index.html">How to make the robot move accurately? Studuino Platform Robotics Overview and Features</a></li>
<li><a href="../en503972/index.html">Streaming test in 4 social networks and choosing the best option</a></li>
<li><a href="../en503980/index.html">Monitoring temperature at a remote site by ‚Äúimprovised‚Äù means</a></li>
<li><a href="../en503982/index.html">About orcs and frameworks</a></li>
<li><a href="../en503988/index.html">How "swirling light" got into optical networks</a></li>
<li><a href="../en503990/index.html">I'm tired of the fact that ordinary programmers impersonate developers and dishonor the industry. They make the world worse</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>