<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏾‍🤝‍👨🏻 👩‍🔧 ☝🏼 Pequeñas mediciones de capacitancia (sensor capacitivo analógico) 💇🏿 ♋️ 🈶</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ofrezco a la comunidad un pequeño sensor de capacitancia, que opera desde casi 0 pF. Se puede utilizar en electrónica amateur, robótica. 
 
 Al desarr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Pequeñas mediciones de capacitancia (sensor capacitivo analógico)</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/488138/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ofrezco a la comunidad un pequeño sensor de capacitancia, que opera desde casi 0 pF. </font><font style="vertical-align: inherit;">Se puede utilizar en electrónica amateur, robótica. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al desarrollar una electrónica de hobby, necesitaba un sensor de distancia simple con un efecto capacitivo. </font><font style="vertical-align: inherit;">Al buscar en Internet, encontré solo sensores táctiles, pero tienen una distancia de respuesta corta y una salida digital. </font><font style="vertical-align: inherit;">Otros sensores son demasiado complejos o con una configuración larga. </font><font style="vertical-align: inherit;">Necesitaba una muy simple y barata, trabajando desde un microcontrolador. </font><font style="vertical-align: inherit;">Lo que sucedió, debajo del corte ...</font></font><br>
<a name="habracut"></a><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Esquema</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Después de varios experimentos </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, el circuito apareció</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en la Fig. </font><font style="vertical-align: inherit;">1. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pl/ck/n4/plckn4ewvlpav7mqtomvgpc0dig.png" alt="imagen"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. </font><font style="vertical-align: inherit;">1. El esquema. </font><font style="vertical-align: inherit;">Microcap 10</font></font></i><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como funciona</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El principio de funcionamiento se basa en medir la carga acumulada en la placa del condensador durante la carga. La segunda cubierta es un objeto llevado al sensor. Para el modelado, se muestra conectado a la "tierra", pero esto no es importante. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La placa del condensador está conectada a la salida del microcontrolador, que está configurado para emitir una frecuencia de meandro de 120 - 180 kHz, en el diagrama es una fuente de voltaje V2. Además, el revestimiento está conectado a la base del transistor Q1. El emisor está conectado al mismo generador. Dado que la salida MK es complementaria, esto significa que la salida está conectada alternativamente a la fuente de alimentación "+" y luego a "0". Qué sucede durante estos medios períodos:</font></font><br>
<br>
<ul>
<li>   . <b>1</b>:     R1, R2.     ,     ,  R2    ,     .  ,       U<sub></sub>&lt;0.</li>
<li>    . <b>0</b>:  1   R3,   Q1   .         «0V»,         .      ,    1. </li>
</ul><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/0d5/6c1/20a/0d56c120a2bb8f1e69c40143786bf385.jpg" alt="image"><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El diodo D1 y el condensador C2 forman un detector de amplitud: se crea un voltaje proporcional a la capacitancia C1 en R5. El transistor Q2 es necesario para hacer coincidir las resistencias con el ADC MK. El voltaje de salida se elimina de R6. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los resultados de la simulación (Fig. 2) en las clasificaciones que se muestran en el diagrama. La relación lineal se mantiene aproximadamente hasta 10 pF. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cp/ff/cx/cpffcxh8r_mkcutiaoq-y82jrjm.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Higo. 2. Capacitancia gráfica - voltaje:</font></font></i> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
cuando R3 disminuye a 2 kOhm, la sensibilidad aumenta y la sección lineal disminuye a aproximadamente 0 ... 4 pF. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gz/cu/bf/gzcubfza-kkw7dhkypthokqcpa8.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Higo. 3.</font></font></i> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Capacitancia </font><i><font style="vertical-align: inherit;">-</font></i><font style="vertical-align: inherit;"> gráfico de </font><i><font style="vertical-align: inherit;">voltaje </font></i></font><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nota</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : un aumento del gráfico de aproximadamente 0 pF es un error de simulación, la linealidad en realidad continúa allí. Probado en hardware.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El circuito anterior difiere de otros (con aislamiento de diodos o puentes e inclusión constante del transistor BE) en que la relación capacitancia / voltaje está disponible con casi 0 pF, sin una zona muerta. </font><font style="vertical-align: inherit;">Además, solo una placa de condensador está involucrada en el circuito. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cuando se ejecuta en el tablero, la capacidad del circuito es mucho menor que la capacidad de una cubierta: una placa de 20 cm </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Sensibilidad del sensor: para una mano levantada de aproximadamente 50 mm a la placa, el cambio en la señal de salida es superior al 10%. </font><font style="vertical-align: inherit;">El cambio estimado en la capacitancia es de aproximadamente 2 pF. </font><font style="vertical-align: inherit;">El sensor no responde a interferencias de red, EMF y GSM.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Refinamientos para la implementación</font></font></h4><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Los transistores deben estar con una frecuencia de operación de 100 MHz y una capacidad base mínima (aquí 2 pF).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diodo D1 - tipo de alta frecuencia BAV99, la capacidad de una unidad pF.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C2 en el rango de 10 - 30 nF, ya no es necesario, la corriente de salida del MK aumenta. </font><font style="vertical-align: inherit;">Para suavizar los pulsos, puede colocar un condensador paralelo a R6</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Una resistencia R1 de 100 ohmios limita la corriente de salida del MK, pulso 5mA, un promedio de 0.2 mA.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El microcontrolador en este circuito es Atmega8A, la salida es una onda cuadrada de 166 kHz, su ADC. </font><font style="vertical-align: inherit;">No se recomienda aumentar la frecuencia por encima de 300 kHz, debido a la influencia de las capacidades parásitas.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quién implementa y aplica en sus manualidades: darse de baja, interesante.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uso alternativo</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En los comentarios del artículo, se discute el uso de la humedad del suelo como sensor. </font><font style="vertical-align: inherit;">Decidí comprobar si es posible. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tomó la placa del sensor de 40x60 mm, bien envuelta en 4 capas de cinta de plomería (por ejemplo, sellada). </font><font style="vertical-align: inherit;">La capacidad propia aumentó, tuve que cambiar las clasificaciones en el circuito, reduciendo la sensibilidad al nivel de 15 pF. </font><font style="vertical-align: inherit;">El nuevo diagrama está </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aquí</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br>
<img src="https://habrastorage.org/webt/d1/yy/_w/d1yy_wc3znzrt2pafsy74zhno3s.png" alt="imagen"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. </font><font style="vertical-align: inherit;">4. Esquema del sensor de humedad del suelo.</font></font></i><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Los experimentos</font></font></h4><br>
<s><font style="vertical-align: inherit;"></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No tengo tierra </font><s><font style="vertical-align: inherit;">plana</font></s><font style="vertical-align: inherit;"> , hay arena que vertí en un frasco con un volumen de aproximadamente 300 ml. </font><font style="vertical-align: inherit;">Agregué agua cada vez unos 15 ... 20 ml. </font></font><br>
<img src="https://habrastorage.org/webt/2r/ad/vn/2radvnrp-95qx2jucr3vo7o959e.jpeg" width="50%" alt="imagen1"> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Arena seca. </font><font style="vertical-align: inherit;">Propia capacidad del sensor. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/d-/jw/ox/d-jwoxuuaegks_jav6ccxivrgkc.jpeg" width="50%" alt="imagen"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Arena + 20ml de agua. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/j9/ff/mp/j9ffmpxwq8ddb9zvhrycajedgee.jpeg" width="50%" alt="imagen"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
También agregó agua y embistió un poco. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yl/hu/7o/ylhu7odvxfoov_enbchztx1spke.jpeg" width="50%" alt="imagen"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... y más agua. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/o9/bs/ct/o9bsctqlgprpigxpncmgw4s4ice.jpeg" width="50%" alt="imagen"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... y más agua. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/f8/ap/nd/f8apndhsm_2hcwn6t70u6qdkt4a.jpeg" width="50%" alt="imagen"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... y más agua. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/aa/2x/r-/aa2xr-nbsbln4gtxvpuomxfnyv0.jpeg" width="50%" alt="imagen"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... y más agua. </font><font style="vertical-align: inherit;">Se volvió bastante tropical húmedo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El voltaje se eliminó de R5, por lo que con un aumento en la capacidad, el voltaje aumenta. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se puede ver que la capacidad aumenta con cada cobertura. </font><font style="vertical-align: inherit;">Sin embargo, esta arena, o no sé qué, pero las lecturas aumentan inmediatamente cuando se completa. </font><font style="vertical-align: inherit;">Esperaba un cambio más suave en U al remojar arena con agua.</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sí, sé sobre sensores táctiles para Arduino con Ali. </font><font style="vertical-align: inherit;">Pero quería resolverlo yo mismo y hacerlo con los parámetros dados.</font></font></i></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es488122/index.html">Destilador de toallas de papel, aluminio y papel compacto de $ 1.5</a></li>
<li><a href="../es488128/index.html">Paquetes preferenciales: ¿qué se agrega a los salarios de los especialistas de TI en Armenia?</a></li>
<li><a href="../es488130/index.html">Aprende inglés con Telegram bot</a></li>
<li><a href="../es488134/index.html">Elevar CI en github para Android en un día</a></li>
<li><a href="../es488136/index.html">¿Cómo aprendió el robot Atlas a hacer acrobacias insoportables para una persona común?</a></li>
<li><a href="../es488140/index.html">Cómo simplificar la vida con la ayuda de la ley de Pareto</a></li>
<li><a href="../es488142/index.html">Avalonia pensativa</a></li>
<li><a href="../es488146/index.html">[Discusión]: ¿Son ingenieros de TI, son ingenieros de TI?</a></li>
<li><a href="../es488148/index.html">HighLoad ++, Mikhail Raichenko (ManyChat): casi sin magia, o lo fácil que es distribuir la transmisión de video terabit</a></li>
<li><a href="../es488150/index.html">Antigüedades: ThinkPad X200 y código cerrado</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>