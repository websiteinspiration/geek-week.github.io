<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤣 👩🏾‍🎓 🧕🏻 Levenshtein reconnaissance de caractères à distance 🙇🏿 👩🏽‍✈️ 🌍</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Récemment, la tâche de reconnaissance des caractères dans les programmes d'application n'est pas particulièrement difficile - vous pouvez utiliser de ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Levenshtein reconnaissance de caractères à distance</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/488690/"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Récemment, la tâche de reconnaissance des caractères dans les programmes d'application n'est pas particulièrement difficile - vous pouvez utiliser de nombreuses bibliothèques OCR prêtes à l'emploi, dont beaucoup sont presque perfectionnées. </font><font style="vertical-align: inherit;">Mais néanmoins, il peut parfois arriver que vous développiez votre propre algorithme de reconnaissance sans utiliser de bibliothèques OCR «sophistiquées» tierces.</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C'est exactement la tâche qui a surgi au cours de mon travail, et il y a plusieurs raisons pour lesquelles il vaut mieux ne pas utiliser de bibliothèques prêtes à l'emploi: le projet fermé, avec sa certification supplémentaire, une certaine restriction sur le nombre de lignes de code et la taille des bibliothèques connectées, d'autant plus qu'il faut en reconnaître suffisamment dans le domaine jeu de caractères spécifique.</font></font></p><a name="habracut"></a><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'algorithme de reconnaissance est simple et, bien sûr, ne prétend pas être le plus précis, le plus rapide et le plus efficace, mais fait bien face à sa petite tâche. </font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Supposons que nous ayons saisi sous forme d'images numérisées de documents sous une forme structurée. </font><font style="vertical-align: inherit;">Ces documents ont un code spécial à un caractère situé dans le coin supérieur gauche. </font><font style="vertical-align: inherit;">Notre tâche consiste à reconnaître ce symbole puis à effectuer certaines actions, par exemple classer le document source selon les règles données.</font></font></p><br>
<img src="https://habrastorage.org/webt/0d/ci/sx/0dcisxfqw3hrvhzyyygmjbw7lvu.png"><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le diagramme d'algorithme est le suivant:</font></font></p><br>
<img src="https://habrastorage.org/webt/j7/fq/hw/j7fqhwh0jck5mgbo1l3lx9yspbe.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puisque nous savons à l'avance où se trouve notre symbole, couper une certaine zone n'est pas difficile. </font><font style="vertical-align: inherit;">Afin de supprimer toutes les «irrégularités» des bords du symbole, nous traduisons l'image en monochrome (noir et blanc).</font></font><br>
<br>
<img src="https://habrastorage.org/webt/pq/l_/tg/pql_tg-oyx-ra39gqe55hvlkz50.png"><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">short</span> width = <span class="hljs-number">45</span>, height = <span class="hljs-number">40</span>, offsetTop = -<span class="hljs-number">10</span>, offsetLeft = -<span class="hljs-number">70</span>;<font></font>
BufferedImage image = ImageIO.read(file);<font></font>
BufferedImage symbol = <span class="hljs-keyword">new</span> BufferedImage(width, height, BufferedImage.TYPE_BYTE_BINARY);<font></font>
Graphics2D g = symbol.createGraphics();<font></font>
g.drawImage(image, offsetLeft, offsetTop, <span class="hljs-keyword">null</span>);
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, vous devez convertir le fragment résultant «pixel par pixel» en une chaîne binaire, c'est-à-dire une chaîne où, par exemple, «*» correspond à un pixel noir et un espace au blanc.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/9u/gb/q_/9ugbq_okwhabztyjhv6tef2b_u0.png"><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">short</span> whiteBg = -<span class="hljs-number">1</span>;<font></font>
StringBuilder binaryString = <span class="hljs-keyword">new</span> StringBuilder();  
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">short</span> y = <span class="hljs-number">1</span>; y &lt; height; y++)
   <span class="hljs-keyword">for</span> (<span class="hljs-keyword">short</span> x = <span class="hljs-number">1</span>; x &lt; width; x++) {
       <span class="hljs-keyword">int</span> rgb = symbol.getRGB(x, y);<font></font>
       binaryString.append(rgb == whiteBg ? <span class="hljs-string">" "</span> : <span class="hljs-string">"*"</span>);<font></font>
   }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, vous devez trouver la distance Levenshtein minimale entre la chaîne reçue et les chaînes de référence pré-préparées (en fait, vous pouvez prendre n'importe quelle méthode de comparaison de chaînes).</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">int</span> min = <span class="hljs-number">1000000</span>;
<span class="hljs-keyword">char</span> findSymbol = <span class="hljs-string">""</span>;
<span class="hljs-keyword">for</span> (Map.Entry&lt;Character, String&gt; entry : originalMap.entrySet()) {
     <span class="hljs-keyword">int</span> levenshtein = levenshtein(binaryString.toString(), entry.getValue());
     <span class="hljs-keyword">if</span> (levenshtein &lt; min) {<font></font>
             min = levenshtein;<font></font>
             findSymbol = entry.getKey();<font></font>
     }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La fonction de recherche de la distance de Levenshtein est implémentée comme une méthode selon l'algorithme standard:</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">levenshtein</span><span class="hljs-params">(String targetStr, String sourceStr)</span> </span>{
        <span class="hljs-keyword">int</span> m = targetStr.length(), n = sourceStr.length();
        <span class="hljs-keyword">int</span>[][] delta = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[m + <span class="hljs-number">1</span>][n + <span class="hljs-number">1</span>];
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; i++)<font></font>
            delta[i][<span class="hljs-number">0</span>] = i;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; j++)<font></font>
            delta[<span class="hljs-number">0</span>][j] = j;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; j++)
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; i++) {
                <span class="hljs-keyword">if</span> (targetStr.charAt(i - <span class="hljs-number">1</span>) == sourceStr.charAt(j - <span class="hljs-number">1</span>))<font></font>
                    delta[i][j] = delta[i - <span class="hljs-number">1</span>][j - <span class="hljs-number">1</span>];
                <span class="hljs-keyword">else</span>
                    delta[i][j] = Math.min(delta[i - <span class="hljs-number">1</span>][j] + <span class="hljs-number">1</span>,<font></font>
                            Math.min(delta[i][j - <span class="hljs-number">1</span>] + <span class="hljs-number">1</span>, delta[i - <span class="hljs-number">1</span>][j - <span class="hljs-number">1</span>] + <span class="hljs-number">1</span>));<font></font>
            }<font></font>
        <span class="hljs-keyword">return</span> delta[m][n];<font></font>
    }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le findSymbol résultant sera notre caractère reconnu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cet algorithme peut être optimisé pour améliorer les performances et complété par diverses vérifications pour améliorer l'efficacité de la reconnaissance. De nombreux indicateurs dépendent du domaine spécifique du problème à résoudre (nombre de caractères, variété de polices, qualité d'image, etc.). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De manière pratique, il a été constaté que la méthode résout qualitativement même les problèmes problématiques tels que la «similitude» des caractères, par exemple, «L» &lt;-&gt; "P", "5" &lt;-&gt; "S", "O" &lt;-&gt; "0". Puisque, par exemple, la distance entre les chaînes binaires «L» et «P» sera toujours supérieure à celle entre le «L» reconnu et la chaîne de référence «L», même avec quelques «irrégularités».</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En général, si vous devez résoudre un problème similaire (par exemple, la reconnaissance des cartes à jouer), avec un certain nombre de restrictions sur l'utilisation des neurones et d'autres solutions prêtes à l'emploi, vous pouvez prendre et modifier cette méthode en toute sécurité.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr488668/index.html">Chaînage CI / CD et automatisation Docker</a></li>
<li><a href="../fr488674/index.html">Infographie avec Excel et PowerPoint</a></li>
<li><a href="../fr488678/index.html">Big Appetites for Little Buffers sur Node.js</a></li>
<li><a href="../fr488682/index.html">Comment tester les compétences de programmation Python? Tâches de Yandex</a></li>
<li><a href="../fr488686/index.html">Utilisation des réseaux Flowmon pour surveiller les performances des applications et des bases de données distribuées</a></li>
<li><a href="../fr488692/index.html">Comment migrer un processus volumineux d'IBM BPM vers Camunda et ne pas arrêter le développement de fonctionnalités</a></li>
<li><a href="../fr488696/index.html">Diriger les tendances</a></li>
<li><a href="../fr488698/index.html">Le contrôle d'accès en tant que service: la vidéosurveillance cloud dans les systèmes de contrôle d'accès</a></li>
<li><a href="../fr488700/index.html">Micro-marquage implémenté, mais pas d'extraits étendus: 10 raisons possibles</a></li>
<li><a href="../fr488702/index.html">Un modèle d'une série naturelle de nombres et de ses éléments. Cellules à plusieurs lignes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>