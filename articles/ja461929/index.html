<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🌲 🎖️ 🚎 LinuxでのSSDステータスの監視と確認 ✊ 👨🏽 🎷</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="また会いましたね。以下の記事の翻訳は、特にLinux管理者コースの学生向けに用意されています。行こう！
 
 
 
 SMARTとは？
 SMART （自己監視、分析、およびレポートテクノロジの略）は、ハードドライブやSSDなどのドライブに組み込まれたテクノロジです。その主なタスクは、状態を監視する...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>LinuxでのSSDステータスの監視と確認</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/461929/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">また会いましたね。</font><font style="vertical-align: inherit;">以下の記事の翻訳は、特に</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linux管理者</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コースの学生向けに用意されてい</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">行こう！</font></font><br>
<br>
<img src="https://habrastorage.org/webt/r8/a7/rh/r8a7rhja_tnttyz88qrhq-ewmrq.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SMARTとは？</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 SMART </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（自己監視、分析、およびレポートテクノロジの略）</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、ハードドライブやSSDなどのドライブに組み込まれたテクノロジです。</font><font style="vertical-align: inherit;">その主なタスクは、状態を監視することです。</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際、SMARTは通常のディスク操作中にいくつかのパラメータを制御します。</font><font style="vertical-align: inherit;">読み取りエラーの数、ディスクの起動時間、さらには環境の状態などのパラメーターを監視します。</font><font style="vertical-align: inherit;">さらに、SMARTはドライブを使用してテストを実行することもできます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
理想的には、SMARTは、機械的摩耗またはディスク表面の劣化によって引き起こされる障害や、予期しない欠陥によって引き起こされる予測できない障害など、予測可能な障害を予測します。</font><font style="vertical-align: inherit;">通常、ディスクは突然クラッシュしないため、SMARTはオペレーティングシステムまたはシステム管理者がすぐに故障するディスクを特定し、交換してデータの損失を回避するのに役立ちます。</font></font><br>
 <br>
 <h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SMARTには適用されないものは何ですか？</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 もちろん、これはすべてクールです。ただし、SMARTは水晶玉ではありません。彼は絶対的な確率で故障を予測できず、警告なしにドライブが故障しないことを保証できません。最良のケースでは、故障の可能性を評価するためにSMARTを使用する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
障害予測の統計的性質を考えると、SMARTテクノロジは、多数のストレージデバイスを使用する企業に特に関心があります。 SMARTがどの程度正確に障害を予測し、データセンターやサーバーのメインフレームのディスクを交換する必要があるかを報告できるようにするために、特別な調査も行われています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2016年、マイクロソフトとペンシルベニア大学は</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SSDに</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">関連する調査を実施しました</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この研究によると、いくつかのSMART属性は、失敗の不可避性の良い指標と考えられています。特に、この記事は次のように言及しています</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。Reallocカウンター</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
基盤となるテクノロジーが根本的に異なるという事実にもかかわらず、このインジケーターはSSDの世界でもハードドライブの世界でも需要が残っています。 SSDで使用されるウェアバランシングアルゴリズムの機能により、いくつかのセクターが失敗した場合、高い確率でさらに多くのセクターがすぐに失敗することを想定できます。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プログラム/消去（P / E）ループのエラー：</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、ディスクがデータをブロックから削除したり、ブロックに保存したりできないため、メインフラッシュメモリ機器に問題があることを示しています。実際のところ、製造プロセスは不完全であるため、このようなエラーの発生が予想されます。ただし、フラッシュメモリの書き込み/削除サイクルの数は限られています。このため、イベント数の急激な増加は、ディスクが限界に達していることを示している可能性があり、他のメモリセルも故障し始めることが予想されます。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CRCおよび致命的エラー（「データエラー」）：</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このタイプのイベントは、ストレージエラーまたはドライブの内部通信チャネルの問題が原因で発生する可能性があります。このインジケーターは、修正されたエラー（問題なくホストシステムに報告されます）と修正されていないエラー（ディスクがロックするため、ホストシステムに読み取り不能を通知したため）の両方を考慮します。つまり、修正されたエラーはオペレーティングシステムからは見えませんが、ドライブのパフォーマンスに影響し、セクターを再割り当てする可能性が高くなります。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SATAダウンシフト数：</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一時的な干渉、ドライブとホスト間の通信チャネルの問題、またはドライブの内部の問題により、SATAインターフェースがより低い信号伝送速度に切り替わることがあります。接続速度を公称レベルより低くすると、ディスクのパフォーマンスに明らかな影響があります。したがって、この指標は、特に1つ以上の以前の指標の存在と相関している場合に最も重要です。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
調査によると、故障したSSDの62％は、上記の症状の少なくとも1つの存在を示しました。一方、調査したドライブの38％は、これらの症状の兆候なしに故障したと言えます。研究は、他の「症状」のためのSMARTの拒絶に関する他の報告があるかどうかについて言及しなかった。このため、Googleの記事の36％のケースでは、警告なしにこれらの値を失敗と直接関連付けることはできません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
マイクロソフトとペンシルバニア大学による研究ではテストディスクのモデルは明らかにされていませんが、著者によれば、ほとんどのディスクは同じサプライヤから数世代にわたって提供されています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
研究はまた、異なるモデル間の信頼性の有意差を指摘しました。たとえば、調査した「最悪の」モデルでは、最初の再割り当てエラーの9か月後の20％の失敗率と、データエラーの最初の発生後9か月以内の最大36％の失敗を示しています。 「最悪の」モデルは、この記事で検討されている古い世代のディスクと呼ばれていました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一方、上記と同じ症状で、新世代のドライブは同じエラーに従って3％と20％失敗しました。ドライブの設計と製造プロセスの改善によってこれらの数値を説明できるのか、それとも陳腐化の影響がここで役割を果たすのかはわかりません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
記事で言及されている最も興味深いこと（すでにこれについてはすでに書いています）は、登録されたエラーの数の増加が警告インジケータとして発生する可能性があることです。</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「SSDの障害の前に症状が発生する可能性が高くなり、SSDが活発に現れて急速に進行するため、ドライブの寿命が数か月に大幅に短縮されます。」</font></font></blockquote><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">言い換えると、SMARTによって報告された1つのランダムなエラーは、差し迫った障害の信号とは見なされないはずです。</font><font style="vertical-align: inherit;">ただし、正常なSSDがますますエラーを報告し始めたら、短期または中期の障害が予想されます。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、SSDの現在の状態をどのようにして知るのですか？</font><font style="vertical-align: inherit;">好奇心を満たすため、またはドライブを綿密に監視し始めたいという欲求から、監視ツールを使用できます</font></font><code>smartctl</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"></font><code>smartctl</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LinuxでSSDのステータスを監視</font><font style="vertical-align: inherit;">する</font><font style="vertical-align: inherit;">ために</font><font style="vertical-align: inherit;">使用</font><font style="vertical-align: inherit;">します</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ドライブのSMARTステータスを監視するに</font></font><code>smartctl</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、パッケージの一部で</font><font style="vertical-align: inherit;">あるツール</font></font><code>smartmontool</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（少なくともDebian / Ubuntu）</font><font style="vertical-align: inherit;">を使用することをお勧めし</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<pre><code class="bash hljs">sudo apt install smartmontools</code></pre><br>
 <code>smartctl</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-これは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンドラインツールです</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が、サーバーなどからのデータ収集を自動化する必要がある場合に特に役立ちます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
使用する最初のステップ</font></font><code>smartctl</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、ドライブにSMARTがあり、ツールでサポートされているかどうかを確認することです。</font></font><br>
<br>
<pre><code class="bash hljs">sh$ sudo smartctl -i /dev/sdb<font></font>
smartctl 6.6 2016-05-31 r4324 [x86_64-linux-4.9.0-6-amd64] (<span class="hljs-built_in">local</span> build)<font></font>
Copyright (C) 2002-16, Bruce Allen, Christian Franke, www.smartmontools.org<font></font>
<font></font>
=== START OF INFORMATION SECTION ===<font></font>
Model Family:     Seagate Momentus 7200.4<font></font>
Device Model:     ST9500420AS<font></font>
Serial Number:    5VJAS7FL<font></font>
LU WWN Device Id: 5 000c50 02fa0b800<font></font>
Firmware Version: D005SDM1<font></font>
User Capacity:    500,107,862,016 bytes [500 GB]<font></font>
Sector Size:      512 bytes logical/physical<font></font>
Rotation Rate:    7200 rpm<font></font>
Device is:        In smartctl database [<span class="hljs-keyword">for</span> details use: -P show]<font></font>
ATA Version is:   ATA8-ACS T13/1699-D revision 4<font></font>
SATA Version is:  SATA 2.6, 3.0 Gb/s<font></font>
Local Time is:    Mon Mar 12 15:54:43 2018 CET<font></font>
SMART support is: Available - device has SMART capability.<font></font>
SMART support is: Enabled</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 ご覧のとおり、私のラップトップの内蔵ハードドライブは本当にSMARTをサポートしており、電源が入っています。</font><font style="vertical-align: inherit;">では、SMARTステータスを取得するにはどうすればよいですか？</font><font style="vertical-align: inherit;">修正されたエラーはありますか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「すべてのSMARTディスク情報について」のレポートはオプション</font></font><code>-a</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。</font></font><br>
<br>
<pre><code class="bash hljs">sh$ sudo smartctl -i -a /dev/sdb<font></font>
smartctl 6.6 2016-05-31 r4324 [x86_64-linux-4.9.0-6-amd64] (<span class="hljs-built_in">local</span> build)<font></font>
Copyright (C) 2002-16, Bruce Allen, Christian Franke, www.smartmontools.org<font></font>
<font></font>
=== START OF INFORMATION SECTION ===<font></font>
Model Family:     Seagate Momentus 7200.4<font></font>
Device Model:     ST9500420AS<font></font>
Serial Number:    5VJAS7FL<font></font>
LU WWN Device Id: 5 000c50 02fa0b800<font></font>
Firmware Version: D005SDM1<font></font>
User Capacity:    500,107,862,016 bytes [500 GB]<font></font>
Sector Size:      512 bytes logical/physical<font></font>
Rotation Rate:    7200 rpm<font></font>
Device is:        In smartctl database [<span class="hljs-keyword">for</span> details use: -P show]<font></font>
ATA Version is:   ATA8-ACS T13/1699-D revision 4<font></font>
SATA Version is:  SATA 2.6, 3.0 Gb/s<font></font>
Local Time is:    Mon Mar 12 15:56:58 2018 CET<font></font>
SMART support is: Available - device has SMART capability.<font></font>
SMART support is: Enabled<font></font>
<font></font>
=== START OF READ SMART DATA SECTION ===<font></font>
SMART overall-health self-assessment <span class="hljs-built_in">test</span> result: PASSED<font></font>
See vendor-specific Attribute list <span class="hljs-keyword">for</span> marginal Attributes.<font></font>
<font></font>
General SMART Values:<font></font>
Offline data collection status:  (0x82)    Offline data collection activity<font></font>
                    was completed without error.<font></font>
                    Auto Offline Data Collection: Enabled.<font></font>
Self-test execution status:      (   0)    The previous self-test routine completed<font></font>
                    without error or no self-test has ever<font></font>
                    been run.<font></font>
Total time to complete Offline<font></font>
data collection:         (    0) seconds.<font></font>
Offline data collection<font></font>
capabilities:              (0x7b) SMART execute Offline immediate.<font></font>
                    Auto Offline data collection on/off support.<font></font>
                    Suspend Offline collection upon new<font></font>
                    <span class="hljs-built_in">command</span>.<font></font>
                    Offline surface scan supported.<font></font>
                    Self-test supported.<font></font>
                    Conveyance Self-test supported.<font></font>
                    Selective Self-test supported.<font></font>
SMART capabilities:            (0x0003)    Saves SMART data before entering<font></font>
                    power-saving mode.<font></font>
                    Supports SMART auto save timer.<font></font>
Error logging capability:        (0x01)    Error logging supported.<font></font>
                    General Purpose Logging supported.<font></font>
Short self-test routine<font></font>
recommended polling time:      (   2) minutes.<font></font>
Extended self-test routine<font></font>
recommended polling time:      ( 110) minutes.<font></font>
Conveyance self-test routine<font></font>
recommended polling time:      (   3) minutes.<font></font>
SCT capabilities:            (0x103f)    SCT Status supported.<font></font>
                    SCT Error Recovery Control supported.<font></font>
                    SCT Feature Control supported.<font></font>
                    SCT Data Table supported.<font></font>
<font></font>
SMART Attributes Data Structure revision number: 10<font></font>
Vendor Specific SMART Attributes with Thresholds:<font></font>
ID<span class="hljs-comment"># ATTRIBUTE_NAME          FLAG     VALUE WORST THRESH TYPE      UPDATED  WHEN_FAILED RAW_VALUE</span><font></font>
  1 Raw_Read_Error_Rate     0x000f   111   099   006    Pre-fail  Always       -       29694249<font></font>
  3 Spin_Up_Time            0x0003   100   098   085    Pre-fail  Always       -       0<font></font>
  4 Start_Stop_Count        0x0032   095   095   020    Old_age   Always       -       5413<font></font>
  5 Reallocated_Sector_Ct   0x0033   100   100   036    Pre-fail  Always       -       3<font></font>
  7 Seek_Error_Rate         0x000f   071   060   030    Pre-fail  Always       -       51710773327<font></font>
  9 Power_On_Hours          0x0032   070   070   000    Old_age   Always       -       26423<font></font>
 10 Spin_Retry_Count        0x0013   100   100   097    Pre-fail  Always       -       0<font></font>
 12 Power_Cycle_Count       0x0032   096   037   020    Old_age   Always       -       4836<font></font>
184 End-to-End_Error        0x0032   100   100   099    Old_age   Always       -       0<font></font>
187 Reported_Uncorrect      0x0032   072   072   000    Old_age   Always       -       28<font></font>
188 Command_Timeout         0x0032   100   096   000    Old_age   Always       -       4295033738<font></font>
189 High_Fly_Writes         0x003a   100   100   000    Old_age   Always       -       0<font></font>
190 Airflow_Temperature_Cel 0x0022   056   042   045    Old_age   Always   In_the_past 44 (Min/Max 21/44 <span class="hljs-comment">#22)</span><font></font>
191 G-Sense_Error_Rate      0x0032   100   100   000    Old_age   Always       -       184<font></font>
192 Power-Off_Retract_Count 0x0032   100   100   000    Old_age   Always       -       104<font></font>
193 Load_Cycle_Count        0x0032   001   001   000    Old_age   Always       -       395415<font></font>
194 Temperature_Celsius     0x0022   044   058   000    Old_age   Always       -       44 (0 13 0 0 0)<font></font>
195 Hardware_ECC_Recovered  0x001a   050   045   000    Old_age   Always       -       29694249<font></font>
197 Current_Pending_Sector  0x0012   100   100   000    Old_age   Always       -       1<font></font>
198 Offline_Uncorrectable   0x0010   100   100   000    Old_age   Offline      -       1<font></font>
199 UDMA_CRC_Error_Count    0x003e   200   200   000    Old_age   Always       -       0<font></font>
240 Head_Flying_Hours       0x0000   100   253   000    Old_age   Offline      -       25131 (246 202 0)<font></font>
241 Total_LBAs_Written      0x0000   100   253   000    Old_age   Offline      -       3028413736<font></font>
242 Total_LBAs_Read         0x0000   100   253   000    Old_age   Offline      -       1613088055<font></font>
254 Free_Fall_Sensor        0x0032   100   100   000    Old_age   Always       -       0<font></font>
<font></font>
SMART Error Log Version: 1<font></font>
ATA Error Count: 3<font></font>
    CR = Command Register [HEX]<font></font>
    FR = Features Register [HEX]<font></font>
    SC = Sector Count Register [HEX]<font></font>
    SN = Sector Number Register [HEX]<font></font>
    CL = Cylinder Low Register [HEX]<font></font>
    CH = Cylinder High Register [HEX]<font></font>
    DH = Device/Head Register [HEX]<font></font>
    DC = Device Command Register [HEX]<font></font>
    ER = Error register [HEX]<font></font>
    ST = Status register [HEX]<font></font>
Powered_Up_Time is measured from power on, and printed as<font></font>
DDd+hh:mm:SS.sss <span class="hljs-built_in">where</span> DD=days, hh=hours, mm=minutes,<font></font>
SS=sec, and sss=millisec. It <span class="hljs-string">"wraps"</span> after 49.710 days.<font></font>
<font></font>
Error 3 occurred at disk power-on lifetime: 21171 hours (882 days + 3 hours)<font></font>
  When the <span class="hljs-built_in">command</span> that caused the error occurred, the device was active or idle.<font></font>
<font></font>
  After <span class="hljs-built_in">command</span> completion occurred, registers were:<font></font>
  ER ST SC SN CL CH DH<font></font>
  -- -- -- -- -- -- --<font></font>
  40 51 00 ff ff ff 0f  Error: UNC at LBA = 0x0fffffff = 268435455<font></font>
<font></font>
  Commands leading to the <span class="hljs-built_in">command</span> that caused the error were:<font></font>
  CR FR SC SN CL CH DH DC   Powered_Up_Time  Command/Feature_Name<font></font>
  -- -- -- -- -- -- -- --  ----------------  --------------------<font></font>
  60 00 08 ff ff ff 4f 00      00:45:12.580  READ FPDMA QUEUED<font></font>
  60 00 08 ff ff ff 4f 00      00:45:12.580  READ FPDMA QUEUED<font></font>
  60 00 08 ff ff ff 4f 00      00:45:12.579  READ FPDMA QUEUED<font></font>
  60 00 08 ff ff ff 4f 00      00:45:12.571  READ FPDMA QUEUED<font></font>
  60 00 20 ff ff ff 4f 00      00:45:12.543  READ FPDMA QUEUED<font></font>
<font></font>
Error 2 occurred at disk power-on lifetime: 21171 hours (882 days + 3 hours)<font></font>
  When the <span class="hljs-built_in">command</span> that caused the error occurred, the device was active or idle.<font></font>
<font></font>
  After <span class="hljs-built_in">command</span> completion occurred, registers were:<font></font>
  ER ST SC SN CL CH DH<font></font>
  -- -- -- -- -- -- --<font></font>
  40 51 00 ff ff ff 0f  Error: UNC at LBA = 0x0fffffff = 268435455<font></font>
<font></font>
  Commands leading to the <span class="hljs-built_in">command</span> that caused the error were:<font></font>
  CR FR SC SN CL CH DH DC   Powered_Up_Time  Command/Feature_Name<font></font>
  -- -- -- -- -- -- -- --  ----------------  --------------------<font></font>
  60 00 00 ff ff ff 4f 00      00:45:09.456  READ FPDMA QUEUED<font></font>
  60 00 00 ff ff ff 4f 00      00:45:09.451  READ FPDMA QUEUED<font></font>
  61 00 08 ff ff ff 4f 00      00:45:09.450  WRITE FPDMA QUEUED<font></font>
  60 00 00 ff ff ff 4f 00      00:45:08.878  READ FPDMA QUEUED<font></font>
  60 00 00 ff ff ff 4f 00      00:45:08.856  READ FPDMA QUEUED<font></font>
<font></font>
Error 1 occurred at disk power-on lifetime: 21131 hours (880 days + 11 hours)<font></font>
  When the <span class="hljs-built_in">command</span> that caused the error occurred, the device was active or idle.<font></font>
<font></font>
  After <span class="hljs-built_in">command</span> completion occurred, registers were:<font></font>
  ER ST SC SN CL CH DH<font></font>
  -- -- -- -- -- -- --<font></font>
  40 51 00 ff ff ff 0f  Error: UNC at LBA = 0x0fffffff = 268435455<font></font>
<font></font>
  Commands leading to the <span class="hljs-built_in">command</span> that caused the error were:<font></font>
  CR FR SC SN CL CH DH DC   Powered_Up_Time  Command/Feature_Name<font></font>
  -- -- -- -- -- -- -- --  ----------------  --------------------<font></font>
  60 00 00 ff ff ff 4f 00      05:52:18.809  READ FPDMA QUEUED<font></font>
  61 00 00 7e fb 31 45 00      05:52:18.806  WRITE FPDMA QUEUED<font></font>
  60 00 00 ff ff ff 4f 00      05:52:18.571  READ FPDMA QUEUED<font></font>
  ea 00 00 00 00 00 a0 00      05:52:18.529  FLUSH CACHE EXT<font></font>
  61 00 08 ff ff ff 4f 00      05:52:18.527  WRITE FPDMA QUEUED<font></font>
<font></font>
SMART Self-test <span class="hljs-built_in">log</span> structure revision number 1<font></font>
Num  Test_Description    Status                  Remaining  LifeTime(hours)  LBA_of_first_error<font></font>
<span class="hljs-comment"># 1  Short offline       Completed without error       00%     10904         -</span>
<span class="hljs-comment"># 2  Short offline       Completed without error       00%        12         -</span>
<span class="hljs-comment"># 3  Short offline       Completed without error       00%         0         -</span><font></font>
<font></font>
SMART Selective self-test <span class="hljs-built_in">log</span> data structure revision number 1<font></font>
 SPAN  MIN_LBA  MAX_LBA  CURRENT_TEST_STATUS<font></font>
    1        0        0  Not_testing<font></font>
    2        0        0  Not_testing<font></font>
    3        0        0  Not_testing<font></font>
    4        0        0  Not_testing<font></font>
    5        0        0  Not_testing<font></font>
Selective self-test flags (0x0):<font></font>
  After scanning selected spans, <span class="hljs-keyword">do</span> NOT <span class="hljs-built_in">read</span>-scan remainder of disk.<font></font>
If Selective self-test is pending on power-up, resume after 0 minute delay.</code></pre><br>
 <h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンドの出力について </font></font><code>smartctl</code></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 出力は、常に理解しやすいとは限らない多くの情報です。最も興味深い部分は、おそらく「しきい値を持つベンダー固有のSMART属性」というラベルの付いた部分でしょう。これは、SMARTデバイスによって収集されたさまざまな統計情報を報告し、これらの値（常に最新または最悪）をサプライヤーが定義した特定のしきい値と比較できるようにします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、ディスク上の再割り当てされたセクターに関する私のレポートは次のとおりです。</font></font><br>
<br>
<pre><code class="bash hljs">ID<span class="hljs-comment"># ATTRIBUTE_NAME          FLAG     VALUE WORST THRESH TYPE      UPDATED  WHEN_FAILED RAW_VALUE</span>
  5 Reallocated_Sector_Ct   0x0033   100   100   036    Pre-fail  Always       -       3</code></pre><br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「事前失敗」</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
 属性に気づくかもしれ</font><i><font style="vertical-align: inherit;">ません</font></i><font style="vertical-align: inherit;">。異常値です。したがって、値がしきい値を超えると、失敗の可能性が高くなります。</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「Old_age」の</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">別のカテゴリは</font><font style="vertical-align: inherit;">、「通常の摩耗」の値に対応する属性に使用されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後のフィールド（ここでは「3」の値）は、ディスクが報告する元の属性値に対応します。通常、この数値には物理的な値があります。これは、再割り当てされたセクターの実際の数です。その他の属性には、摂氏温度、時間または分単位の時間、またはディスクで特定の条件が満たされた回数があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SMART対応ドライブは、初期値に加えて、「正規化された値」（フィールド値、最悪およびしきい値）を報告する必要があります。これらの値は、1-254（しきい値の場合は0-255）の範囲で正規化されます。ディスクのファームウェアは、内部アルゴリズムを使用してこの正規化を実行します。さらに、メーカーが異なれば、同じ属性を異なる方法で正規化できます。ほとんどの値はパーセンテージで表示され、値が大きいほど良いですが、常にそうであるとは限りません。パラメータが製造元によって指定されたしきい値以下の場合、ディスクはこの属性に関して障害があると見なされます。記事の最初の部分からのすべての指示を念頭に置いて、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「事前失敗」</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">値を示す属性が</font><font style="vertical-align: inherit;">まだ失敗する場合、ディスクがすぐに失敗する可能性が最も高いです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2番目の例として、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「シークエラー率」を</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">取り上げ</font><i><font style="vertical-align: inherit;">ます</font></i><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="bash hljs">ID<span class="hljs-comment"># ATTRIBUTE_NAME          FLAG     VALUE WORST THRESH TYPE      UPDATED  WHEN_FAILED RAW_VALUE</span>
  7 Seek_Error_Rate         0x000f   071   060   030    Pre-fail  Always       -       51710773327</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 実際（これがSMARTレポートの主な問題です）、各属性のフィールドの正確な値を理解できるのはプロバイダーだけです。</font><font style="vertical-align: inherit;">私の場合、Seagateは対数スケールを使用して値を正規化しています。</font><font style="vertical-align: inherit;">したがって、「71」は、1,000万リクエストごとに約1つのエラーを意味します（7.1の10乗）。</font><font style="vertical-align: inherit;">史上最悪の指標は、100万リクエスト（10度から6度）ごとに1つのエラーでした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私が正しく理解していれば、これは私のディスクのヘッドが以前よりも正確に配置されていることを意味します。</font><font style="vertical-align: inherit;">私はこのディスクを注意深く監視していなかったので、非常に主観的に得られたデータを分析します。</font><font style="vertical-align: inherit;">おそらく、ドライブは稼働してから少し「慣らし」をしなければならないのでしょうか。</font><font style="vertical-align: inherit;">または、これは部品の機械的摩耗の結果であり、したがって、摩擦が少なくなっていますか？</font><font style="vertical-align: inherit;">いずれにせよ、理由が何であれ、この値はエラーの早期警告よりもパフォーマンスの測定値です。</font><font style="vertical-align: inherit;">だから私はそれほど気になりません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記と約6か月前に記録された3つの非常に疑わしいエラーに加えて、このディスクは、1,100日（26,423時間）以上稼働したラップトップの在庫ディスクに対して（SMARTによれば）驚くほど良好な状態です。</font></font><br>
<br>
<pre><code class="bash hljs">ID<span class="hljs-comment"># ATTRIBUTE_NAME          FLAG     VALUE WORST THRESH TYPE      UPDATED  WHEN_FAILED RAW_VALUE</span>
  9 Power_On_Hours          0x0032   070   070   000    Old_age   Always       -       26423</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 好奇心から、私はSSDを搭載したはるかに新しいラップトップで同じテストを行いました：</font></font><br>
<br>
<pre><code class="bash hljs">sh$ sudo smartctl -i /dev/sdb<font></font>
smartctl 6.5 2016-01-24 r4214 [x86_64-linux-4.10.0-32-generic] (<span class="hljs-built_in">local</span> build)<font></font>
Copyright (C) 2002-16, Bruce Allen, Christian Franke, www.smartmontools.org<font></font>
<font></font>
=== START OF INFORMATION SECTION ===<font></font>
Device Model:     TOSHIBA THNSNK256GVN8<font></font>
Serial Number:    17FS131LTNLV<font></font>
LU WWN Device Id: 5 00080d 9109b2ceb<font></font>
Firmware Version: K8XA4103<font></font>
User Capacity:    256 060 514 304 bytes [256 GB]<font></font>
Sector Sizes:     512 bytes logical, 4096 bytes physical<font></font>
Rotation Rate:    Solid State Device<font></font>
Form Factor:      M.2<font></font>
Device is:        Not <span class="hljs-keyword">in</span> smartctl database [<span class="hljs-keyword">for</span> details use: -P showall]<font></font>
ATA Version is:   ACS-3 (minor revision not indicated)<font></font>
SATA Version is:  SATA 3.2, 6.0 Gb/s (current: 6.0 Gb/s)<font></font>
Local Time is:    Tue Mar 13 01:03:23 2018 CET<font></font>
SMART support is: Available - device has SMART capability.<font></font>
SMART support is: Enabled</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 最初に目を引くのは、SMARTが存在するにもかかわらず、デバイスがデータベースにないこと</font></font><code>smartctl</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。</font><font style="vertical-align: inherit;">しかし、これはツールがSSDからデータを収集することを妨げませんが、プロバイダーに固有のさまざまな属性の正確な値を報告することはできません：</font></font><br>
<br>
<pre><code class="bash hljs">sh$ sudo smartctl -a /dev/sdb<font></font>
smartctl 6.5 2016-01-24 r4214 [x86_64-linux-4.10.0-32-generic] (<span class="hljs-built_in">local</span> build)<font></font>
Copyright (C) 2002-16, Bruce Allen, Christian Franke, www.smartmontools.org<font></font>
<font></font>
=== START OF READ SMART DATA SECTION ===<font></font>
SMART overall-health self-assessment <span class="hljs-built_in">test</span> result: PASSED<font></font>
<font></font>
General SMART Values:<font></font>
Offline data collection status:  (0x00)    Offline data collection activity<font></font>
                    was never started.<font></font>
                    Auto Offline Data Collection: Disabled.<font></font>
Self-test execution status:      (   0)    The previous self-test routine completed<font></font>
                    without error or no self-test has ever<font></font>
                    been run.<font></font>
Total time to complete Offline<font></font>
data collection:         (  120) seconds.<font></font>
Offline data collection<font></font>
capabilities:              (0x5b) SMART execute Offline immediate.<font></font>
                    Auto Offline data collection on/off support.<font></font>
                    Suspend Offline collection upon new<font></font>
                    <span class="hljs-built_in">command</span>.<font></font>
                    Offline surface scan supported.<font></font>
                    Self-test supported.<font></font>
                    No Conveyance Self-test supported.<font></font>
                    Selective Self-test supported.<font></font>
SMART capabilities:            (0x0003)    Saves SMART data before entering<font></font>
                    power-saving mode.<font></font>
                    Supports SMART auto save timer.<font></font>
Error logging capability:        (0x01)    Error logging supported.<font></font>
                    General Purpose Logging supported.<font></font>
Short self-test routine<font></font>
recommended polling time:      (   2) minutes.<font></font>
Extended self-test routine<font></font>
recommended polling time:      (  11) minutes.<font></font>
SCT capabilities:            (0x003d)    SCT Status supported.<font></font>
                    SCT Error Recovery Control supported.<font></font>
                    SCT Feature Control supported.<font></font>
                    SCT Data Table supported.<font></font>
<font></font>
SMART Attributes Data Structure revision number: 16<font></font>
Vendor Specific SMART Attributes with Thresholds:<font></font>
ID<span class="hljs-comment"># ATTRIBUTE_NAME          FLAG     VALUE WORST THRESH TYPE      UPDATED  WHEN_FAILED RAW_VALUE</span><font></font>
  1 Raw_Read_Error_Rate     0x000a   100   100   000    Old_age   Always       -       0<font></font>
  2 Throughput_Performance  0x0005   100   100   050    Pre-fail  Offline      -       0<font></font>
  3 Spin_Up_Time            0x0007   100   100   050    Pre-fail  Always       -       0<font></font>
  5 Reallocated_Sector_Ct   0x0013   100   100   050    Pre-fail  Always       -       0<font></font>
  7 Unknown_SSD_Attribute   0x000b   100   100   050    Pre-fail  Always       -       0<font></font>
  8 Unknown_SSD_Attribute   0x0005   100   100   050    Pre-fail  Offline      -       0<font></font>
  9 Power_On_Hours          0x0012   100   100   000    Old_age   Always       -       171<font></font>
 10 Unknown_SSD_Attribute   0x0013   100   100   050    Pre-fail  Always       -       0<font></font>
 12 Power_Cycle_Count       0x0012   100   100   000    Old_age   Always       -       105<font></font>
166 Unknown_Attribute       0x0012   100   100   000    Old_age   Always       -       0<font></font>
167 Unknown_Attribute       0x0022   100   100   000    Old_age   Always       -       0<font></font>
168 Unknown_Attribute       0x0012   100   100   000    Old_age   Always       -       0<font></font>
169 Unknown_Attribute       0x0013   100   100   010    Pre-fail  Always       -       100<font></font>
170 Unknown_Attribute       0x0013   100   100   010    Pre-fail  Always       -       0<font></font>
173 Unknown_Attribute       0x0012   200   200   000    Old_age   Always       -       0<font></font>
175 Program_Fail_Count_Chip 0x0013   100   100   010    Pre-fail  Always       -       0<font></font>
192 Power-Off_Retract_Count 0x0012   100   100   000    Old_age   Always       -       18<font></font>
194 Temperature_Celsius     0x0023   063   032   020    Pre-fail  Always       -       37 (Min/Max 11/68)<font></font>
197 Current_Pending_Sector  0x0012   100   100   000    Old_age   Always       -       0<font></font>
240 Unknown_SSD_Attribute   0x0013   100   100   050    Pre-fail  Always       -       0<font></font>
<font></font>
SMART Error Log Version: 1<font></font>
No Errors Logged<font></font>
<font></font>
SMART Self-test <span class="hljs-built_in">log</span> structure revision number 1<font></font>
No self-tests have been logged.  [To run self-tests, use: smartctl -t]<font></font>
<font></font>
SMART Selective self-test <span class="hljs-built_in">log</span> data structure revision number 1<font></font>
 SPAN  MIN_LBA  MAX_LBA  CURRENT_TEST_STATUS<font></font>
    1        0        0  Not_testing<font></font>
    2        0        0  Not_testing<font></font>
    3        0        0  Not_testing<font></font>
    4        0        0  Not_testing<font></font>
    5        0        0  Not_testing<font></font>
Selective self-test flags (0x0):<font></font>
  After scanning selected spans, <span class="hljs-keyword">do</span> NOT <span class="hljs-built_in">read</span>-scan remainder of disk.<font></font>
If Selective self-test is pending on power-up, resume after 0 minute delay.</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 上の図は、新しいSSDの出力を示しています。</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「Unknown_SSD_Attribute」の</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">場合のように、特定のプロバイダーのデータの正規化やメタ情報がなくても、データは理解可能</font><i><font style="vertical-align: inherit;">です。</font></i><font style="vertical-align: inherit;">今後のバージョンでは</font></font><code>smartctl</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、このディスクモデルのデータがデータベースに表示され、潜在的な問題をより適切に特定できるようになることを</font><font style="vertical-align: inherit;">願って</font><font style="vertical-align: inherit;">います。</font></font><br>
 <br>
 <h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">smartctlを使用してLinuxでSSDをテストする</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 これまでに、通常のドライブ操作中に収集されたデータを確認しました。ただし、SMARTプロトコルは、オンデマンド診断を実行するためのオフラインテスト用のいくつかのコマンドもサポートしています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
特に指定のない限り、オフラインテストは通常​​のディスク操作中に実行できます。テストとホストI / O要求が競合するため、テスト中にディスクのパフォーマンスが低下します。 SMART仕様は、いくつかのタイプのスタンドアロンテストを定義しています。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ショートスタンドアロンテスト（</font></font><code>-t short</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
 このテストは、ドライブの電気的および機械的、パフォーマンス、読み取りパフォーマンスをチェックします。短い自律テストは通常​​、数分（通常は2〜10分）かかります。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">拡張スタンドアロンテスト（</font></font><code>-t long</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
 このテストには、ほぼ2倍の時間がかかります。</font><font style="vertical-align: inherit;">これは通常、短いスタンドアロンテストのより詳細なバージョンです。</font><font style="vertical-align: inherit;">さらに、このテストでは、ディスクの全面をスキャンして、時間制限なしにデータエラーを検出します。</font><font style="vertical-align: inherit;">テストの継続時間は、ディスクのサイズに比例します。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オフライン輸送テスト（</font></font><code>-t conveyance</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
 このテストキットは、デバイスの輸送中に発生した可能性のある損傷をチェックする比較的迅速な方法として提案されています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下は、上記と同じドライブから取得した例です。</font><font style="vertical-align: inherit;">私はあなたがどちらを推測することをお勧めします：</font></font><br>
<br>
<pre><code class="bash hljs">sh$ sudo smartctl -t short /dev/sdb<font></font>
smartctl 6.5 2016-01-24 r4214 [x86_64-linux-4.10.0-32-generic] (<span class="hljs-built_in">local</span> build)<font></font>
Copyright (C) 2002-16, Bruce Allen, Christian Franke, www.smartmontools.org<font></font>
<font></font>
=== START OF OFFLINE IMMEDIATE AND SELF-TEST SECTION ===<font></font>
Sending <span class="hljs-built_in">command</span>: <span class="hljs-string">"Execute SMART Short self-test routine immediately in off-line mode"</span>.<font></font>
Drive <span class="hljs-built_in">command</span> <span class="hljs-string">"Execute SMART Short self-test routine immediately in off-line mode"</span> successful.<font></font>
Testing has begun.<font></font>
Please <span class="hljs-built_in">wait</span> 2 minutes <span class="hljs-keyword">for</span> <span class="hljs-built_in">test</span> to complete.<font></font>
Test will complete after Mon Mar 12 18:06:17 2018<font></font>
<font></font>
Use smartctl -X to abort <span class="hljs-built_in">test</span>.</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 チェックが進行中です。</font><font style="vertical-align: inherit;">完了を待って結果を確認しましょう。</font></font><br>
<br>
<pre><code class="bash hljs">sh$ sudo sh -c <span class="hljs-string">'sleep 120 &amp;&amp; smartctl -l selftest /dev/sdb'</span>
smartctl 6.5 2016-01-24 r4214 [x86_64-linux-4.10.0-32-generic] (<span class="hljs-built_in">local</span> build)<font></font>
Copyright (C) 2002-16, Bruce Allen, Christian Franke, www.smartmontools.org<font></font>
<font></font>
=== START OF READ SMART DATA SECTION ===<font></font>
SMART Self-test <span class="hljs-built_in">log</span> structure revision number 1<font></font>
Num  Test_Description    Status                  Remaining  LifeTime(hours)  LBA_of_first_error<font></font>
<span class="hljs-comment"># 1  Short offline       Completed without error       00%       171         -</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
別のドライブで同じテストを実行してみましょう：</font></font><br>
<br>
<pre><code class="bash hljs">sh$ sudo smartctl -t short /dev/sdb<font></font>
smartctl 6.6 2016-05-31 r4324 [x86_64-linux-4.9.0-6-amd64] (<span class="hljs-built_in">local</span> build)<font></font>
Copyright (C) 2002-16, Bruce Allen, Christian Franke, www.smartmontools.org<font></font>
<font></font>
=== START OF OFFLINE IMMEDIATE AND SELF-TEST SECTION ===<font></font>
Sending <span class="hljs-built_in">command</span>: <span class="hljs-string">"Execute SMART Short self-test routine immediately in off-line mode"</span>.<font></font>
Drive <span class="hljs-built_in">command</span> <span class="hljs-string">"Execute SMART Short self-test routine immediately in off-line mode"</span> successful.<font></font>
Testing has begun.<font></font>
Please <span class="hljs-built_in">wait</span> 2 minutes <span class="hljs-keyword">for</span> <span class="hljs-built_in">test</span> to complete.<font></font>
Test will complete after Mon Mar 12 21:59:39 2018<font></font>
<font></font>
Use smartctl -X to abort <span class="hljs-built_in">test</span>.</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして再び、2分間スリープさせて結果を確認します。</font></font><br>
<br>
<pre><code class="bash hljs">sh$ sudo sh -c <span class="hljs-string">'sleep 120 &amp;&amp; smartctl -l selftest /dev/sdb'</span>
smartctl 6.6 2016-05-31 r4324 [x86_64-linux-4.9.0-6-amd64] (<span class="hljs-built_in">local</span> build)<font></font>
Copyright (C) 2002-16, Bruce Allen, Christian Franke, www.smartmontools.org<font></font>
<font></font>
=== START OF READ SMART DATA SECTION ===<font></font>
SMART Self-test <span class="hljs-built_in">log</span> structure revision number 1<font></font>
Num  Test_Description    Status                  Remaining  LifeTime(hours)  LBA_of_first_error<font></font>
<span class="hljs-comment"># 1  Short offline       Completed without error       00%     26429         -</span>
<span class="hljs-comment"># 2  Short offline       Completed without error       00%     10904         -</span>
<span class="hljs-comment"># 3  Short offline       Completed without error       00%        12         -</span>
<span class="hljs-comment"># 4  Short offline       Completed without error       00%         0         -</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
興味深いことに、このケースでは、ディスクとコンピュータの製造元が既にディスクをテストしているようです（寿命は0時間と12時間）。</font><font style="vertical-align: inherit;">私自身はドライブの状態について彼らよりもずっと心配していませんでした。</font><font style="vertical-align: inherit;">したがって、すでに簡単なテストを示したので、高度なテストも実行して、これがどのように行われるかを確認します。</font></font><br>
<br>
<pre><code class="bash hljs">sh$ sudo smartctl -t long /dev/sdb<font></font>
smartctl 6.6 2016-05-31 r4324 [x86_64-linux-4.9.0-6-amd64] (<span class="hljs-built_in">local</span> build)<font></font>
Copyright (C) 2002-16, Bruce Allen, Christian Franke, www.smartmontools.org<font></font>
<font></font>
=== START OF OFFLINE IMMEDIATE AND SELF-TEST SECTION ===<font></font>
Sending <span class="hljs-built_in">command</span>: <span class="hljs-string">"Execute SMART Extended self-test routine immediately in off-line mode"</span>.<font></font>
Drive <span class="hljs-built_in">command</span> <span class="hljs-string">"Execute SMART Extended self-test routine immediately in off-line mode"</span> successful.<font></font>
Testing has begun.<font></font>
Please <span class="hljs-built_in">wait</span> 110 minutes <span class="hljs-keyword">for</span> <span class="hljs-built_in">test</span> to complete.<font></font>
Test will complete after Tue Mar 13 00:09:08 2018<font></font>
<font></font>
Use smartctl -X to abort <span class="hljs-built_in">test</span>.</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どうやら、今回は短いテスト中よりも待つのにはるかに長い時間がかかるでしょう。</font><font style="vertical-align: inherit;">見てみましょう：</font></font><br>
<br>
<pre><code class="bash hljs">sh$ sudo bash -c <span class="hljs-string">'sleep $((110*60)) &amp;&amp; smartctl -l selftest /dev/sdb'</span>
[sudo] password <span class="hljs-keyword">for</span> sylvain:<font></font>
smartctl 6.6 2016-05-31 r4324 [x86_64-linux-4.9.0-6-amd64] (<span class="hljs-built_in">local</span> build)<font></font>
Copyright (C) 2002-16, Bruce Allen, Christian Franke, www.smartmontools.org<font></font>
<font></font>
=== START OF READ SMART DATA SECTION ===<font></font>
SMART Self-test <span class="hljs-built_in">log</span> structure revision number 1<font></font>
Num  Test_Description    Status                  Remaining  LifeTime(hours)  LBA_of_first_error<font></font>
<span class="hljs-comment"># 1  Extended offline    Completed: read failure       20%     26430         810665229</span>
<span class="hljs-comment"># 2  Short offline       Completed without error       00%     26429         -</span>
<span class="hljs-comment"># 3  Short offline       Completed without error       00%     10904         -</span>
<span class="hljs-comment"># 4  Short offline       Completed without error       00%        12         -</span>
<span class="hljs-comment"># 5  Short offline       Completed without error       00%         0         -</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後のテストでは、短いテストと拡張テストで得られた結果の違いに注意してください。</font><font style="vertical-align: inherit;">まあ、多分このドライブはそれほど良い状態ではありません！</font><font style="vertical-align: inherit;">最初の読み取りエラーの後でテストが停止したことに注意してください。</font><font style="vertical-align: inherit;">したがって、すべての読み取りエラーに関する包括的な情報を取得したい場合は、エラーごとにテストを続行する必要があります。</font><font style="vertical-align: inherit;">私は1回の非常によく書か今回smartctl（8）のオプションの詳細についてはマニュアルページを見てみることをお勧め</font></font><code>-t select</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>N-max</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">そして</font></font><code>-t select</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これを行うことができるように：</font></font><br>
<br>
<pre><code class="bash hljs">sh$ sudo smartctl -t select,810665230-max /dev/sdb<font></font>
smartctl 6.6 2016-05-31 r4324 [x86_64-linux-4.9.0-6-amd64] (<span class="hljs-built_in">local</span> build)<font></font>
Copyright (C) 2002-16, Bruce Allen, Christian Franke, www.smartmontools.org<font></font>
<font></font>
=== START OF OFFLINE IMMEDIATE AND SELF-TEST SECTION ===<font></font>
Sending <span class="hljs-built_in">command</span>: <span class="hljs-string">"Execute SMART Selective self-test routine immediately in off-line mode"</span>.<font></font>
SPAN         STARTING_LBA           ENDING_LBA<font></font>
   0            810665230            976773167<font></font>
Drive <span class="hljs-built_in">command</span> <span class="hljs-string">"Execute SMART Selective self-test routine immediately in off-line mode"</span> successful.<font></font>
Testing has begun.</code></pre><br>
<pre><code class="bash hljs">smartctl 6.6 2016-05-31 r4324 [x86_64-linux-4.9.0-6-amd64] (<span class="hljs-built_in">local</span> build)<font></font>
Copyright (C) 2002-16, Bruce Allen, Christian Franke, www.smartmontools.org<font></font>
<font></font>
=== START OF READ SMART DATA SECTION ===<font></font>
SMART Self-test <span class="hljs-built_in">log</span> structure revision number 1<font></font>
Num  Test_Description    Status                  Remaining  LifeTime(hours)  LBA_of_first_error<font></font>
<span class="hljs-comment"># 1  Selective offline   Completed without error       00%     26432         -</span>
<span class="hljs-comment"># 2  Extended offline    Completed: read failure       20%     26430         810665229</span>
<span class="hljs-comment"># 3  Short offline       Completed without error       00%     26429         -</span>
<span class="hljs-comment"># 4  Short offline       Completed without error       00%     10904         -</span>
<span class="hljs-comment"># 5  Short offline       Completed without error       00%        12         -</span>
<span class="hljs-comment"># 6  Short offline       Completed without error       00%         0         -</span></code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
間違いなく、SMARTは、サーバードライブの状態を監視するためにツールキットに追加する必要があるテクノロジです。</font><font style="vertical-align: inherit;">また、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">syslog</font></a><font style="vertical-align: inherit;">レポートを使用して監視を自動化するのに役立つ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SMARTディスク監視デーモンsmartd（8）</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">も確認する必要があります</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">
障害予測の統計的な性質を考えると、積極的なSMART監視がパーソナルコンピュータで非常に役立つかどうかはわかりません。</font><font style="vertical-align: inherit;">ドライブが何であっても、いつの日かそれが失敗することを覚えておいてください-先に見たように、ケースの3分の1では警告なしに失敗します。</font><font style="vertical-align: inherit;">したがって、RAIDテクノロジーとバックアップほどデータの整合性を保証するものはありません。</font><font style="vertical-align: inherit;">
コースでお会いしましょう！</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja461913/index.html">eコマースにおけるモバイルユーザビリティ：ロシアのTOP-20オンラインストアの分析</a></li>
<li><a href="../ja461919/index.html">Reactでフォームを再利用する</a></li>
<li><a href="../ja461921/index.html">HDMI-LVDS。MStarのTSUMV59での開発</a></li>
<li><a href="../ja461923/index.html">JetBrains Open Day in St. Petersburg：ビデオ</a></li>
<li><a href="../ja461927/index.html">アクティブランキング学習</a></li>
<li><a href="../ja461935/index.html">GoでPostgresを使用する方法：プラクティス、機能、ニュアンス</a></li>
<li><a href="../ja461937/index.html">パーキンソンの法則とそれを破る方法</a></li>
<li><a href="../ja461939/index.html">グラフェンパイソンの冒険の年</a></li>
<li><a href="../ja461941/index.html">マッサージする</a></li>
<li><a href="../ja461945/index.html">2019年8月のIT分野の人事担当者向けイベントのダイジェスト</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>