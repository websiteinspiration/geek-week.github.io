<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘¨ğŸ½â€ğŸš’ ğŸ‘©ğŸ»â€âœˆï¸ ğŸ‘¨ğŸ¿â€ğŸ¨ Cara membuat model transportasi multi-agen ğŸ‘°ğŸ» ğŸ§‘ğŸ¾â€ğŸ¤â€ğŸ§‘ğŸ» ğŸ¥“</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Halo, Habr! 
 
 Bayangkan kita memiliki tugas untuk membangun jalan baru. Anda dapat membangun jalan raya dengan dua jalur di setiap arah, tetapi baga...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Cara membuat model transportasi multi-agen</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/494596/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Halo, Habr! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bayangkan kita memiliki tugas untuk membangun jalan baru. Anda dapat membangun jalan raya dengan dua jalur di setiap arah, tetapi bagaimana jika ini tidak cukup? Atau, sebaliknya, ternyata satu jalur cukup, tetapi untuk pelaksanaan proyek itu perlu membeli banyak bidang tanah? Dalam kedua kasus, keputusan tidak akan efektif. Untuk meminimalkan risiko seperti itu, perencana transportasi beralih ke pemodelan komputer untuk meminta bantuan. Artikel ini adalah penyimpangan singkat ke dunia pemodelan multi-agen.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bq/k0/kj/bqk0kjbb814y7q7twu1uvqk3yf4.png"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menggunakan model, yang merupakan salinan dari sistem transportasi nyata, Anda dapat memperkirakan throughput yang diperlukan pada setiap bagian dari jalan yang diproyeksikan, mencoba berbagai opsi penelusuran, atau, misalnya, memperkirakan periode pengembalian suatu proyek jika sampai pada jalan tol dalam kerangka kemitraan publik-swasta. Tetapi tugas-tugas penting lainnya dapat diselesaikan: bagaimana mengatur rute angkutan umum yang optimal dan menghitung pendapatan potensial dari operator, bagaimana menilai keberadaan kekurangan ruang parkir di area tertentu, dan banyak lainnya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yang paling menarik adalah siapa pun dapat membangun model serupa di era perangkat lunak bebas! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Salah satu alat pemodelan multi-agen yang paling umum adalah open source.</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MATSim (Simulasi Transportasi Multi-Agen)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MATSim mensimulasikan perilaku agen individu. Agen adalah representasi komputer dari individu di dunia nyata. Setiap agen tersebut memiliki rencana harian, dengan dasar di mana ia bergerak dari satu kegiatan ke kegiatan lainnya (misalnya, pekerjaan rumah di rumah, di rumah di rumah di institut di rumah, di rumah di toko di tempat di rumah di tempat di tempat di rumah, dll.), Menciptakan dengan demikian permintaan akan infrastruktur jalan. Representasi skematis dari rencana harian terlihat seperti ini:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/n6/xt/m_/n6xtm_ps8u0stk6f8doybvsxzq8.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk membuat rencana realistis bagi agen yang akan mencerminkan perilaku nyata orang pada siang hari, jumlah total penduduk agen, pemukiman kembali mereka, tempat kerja, studi, lokasi toko, pusat perbelanjaan, stasiun kereta api dan tempat kegiatan lainnya dipertimbangkan. Untuk memvalidasi permintaan, model ini juga dikalibrasi berdasarkan survei lapangan: pengakuan dan perhitungan arus kamera pengintai dan drone menggunakan jaringan saraf atau, misalnya, pengukuran manual intensitas di jalan.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/0x/t-/ke/0xt-kelsnwf39k3mmu2saye2zky.gif" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selama simulasi, agen-agen didistribusikan melalui jaringan, meniru perilaku orang yang realistis: melaksanakan rencana mereka, mobil menempati tempat di jalan dan tempat parkir, pengguna angkutan umum mengambil tempat di bus, dan juga berinteraksi satu sama lain dan, jika banyak agen memilih satu jalan pada suatu waktu, kemacetan lalu lintas dan kemacetan dibuat. Semuanya seperti di dunia nyata! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah simulasi selesai, penilaian dibuat dari pemenuhan rencana harian agen, yang disebut penilaian. Agen memperoleh unit utilitas dalam proses kegiatan dan kehilangan mereka selama pergerakan. Dengan demikian, agen yang terjebak dalam kemacetan lalu lintas kehilangan lebih banyak unit utilitas daripada agen yang bergerak di sepanjang jalan bebas hambatan.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah setiap iterasi, beberapa agen membangun kembali rencana mereka berdasarkan informasi tentang beban jaringan jalan sedemikian rupa untuk meningkatkan kinerja mereka: agen dapat mengubah waktu keberangkatan, mengubah moda transportasi, atau mengubah rute. </font><font style="vertical-align: inherit;">Agen yang tersisa mematuhi rencana mereka sebelumnya, yang disimpan dalam memori program. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Idealnya, setelah simulasi, keseimbangan Nash harus dicapai - yaitu, situasi di mana tidak ada agen yang dapat memperbaiki posisinya tanpa memperburuk posisi agen lain. </font><font style="vertical-align: inherit;">Biasanya ini adalah situasi yang berkembang dari waktu ke waktu di jalan-jalan kota, mengingat pemikiran ulang sehari-hari dari pengalaman hari sebelumnya oleh penduduknya. </font><font style="vertical-align: inherit;">Untuk ini, setidaknya 200 iterasi dilakukan dalam kerangka satu skenario. </font><font style="vertical-align: inherit;">Seluruh siklus kerja MATSim terlihat seperti ini:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/mr/zv/ds/mrzvds3njmsli5hbkiqvzhnuoju.png" alt="gambar"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dari teori ke praktek! </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk menjalankan skenario pertama, kita perlu Intellij IDEA (atau Eclipse) dengan Java 1.8. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami membuka IDE, mengkloning </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">repositori MATSim</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dari github dan skenario pertama kami siap dijalankan! </font><font style="vertical-align: inherit;">Sangat sederhana. </font><font style="vertical-align: inherit;">Tapi pertama mari kita lihat file input apa yang kita gunakan. </font><font style="vertical-align: inherit;">Untuk simulasi paling sederhana, ada tiga di antaranya: jaringan, paket, konfigurasi.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jaringan</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
File jaringan adalah jaringan tempat agen bergerak. </font><font style="vertical-align: inherit;">Terdiri dari node dan node / tautan. </font><font style="vertical-align: inherit;">Setiap tautan memiliki atribut yang berbeda: jenis, panjang ruas, throughput, kecepatan maksimum, jumlah jalur, lalu lintas satu arah, moda transportasi yang diizinkan, dll. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/_n/5p/rx/_n5prxnenyiuei82fndy2uekigy.jpeg" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Membuat kisi-kisi kota secara manual sulit, tidak praktis dan tidak efisien. </font><font style="vertical-align: inherit;">Sebagai contoh, jaringan St. Petersburg kami terdiri dari 26 ribu node dan 46 ribu tautan. </font><font style="vertical-align: inherit;">Tapi ada kabar baik. </font><font style="vertical-align: inherit;">Grid dapat dikonversi dari OpenStreetMap dan kemudian diedit menggunakan JOSM, yang juga merupakan open-source.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rencana</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
File rencana adalah representasi terstruktur dari rencana harian agen. </font><font style="vertical-align: inherit;">Dalam skenario awal, kami memiliki 100 agen yang pergi dengan mobil (mode = "mobil") di pagi hari (end_time = "05:59") dari rumah (ketik = "h", tautan = "1") untuk bekerja (ketik = â€Wâ€, tautan = â€20â€), setelah itu setelah beberapa waktu (dur = â€02:30â€) mereka kembali ke rumah.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/8g/vh/sp/8gvhsph0hfmjwzpfspy0liqv7xo.png"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Konfigurasi</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Akhirnya, dalam file konfigurasi, semua pengaturan yang diperlukan diatur untuk menjalankan skrip. </font><font style="vertical-align: inherit;">MATSim terdiri dari modul yang dapat Anda sesuaikan, tambah, atau hapus sesuai kebutuhan. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Banyak pengaturan dalam file konfigurasi bersifat intuitif, tetapi Anda juga dapat selalu melihat apa yang disebut. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Buku MATSim</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Sekarang kita akan mempertimbangkan hanya dua modul.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam modul planCalcScore, parameter penilaian ditetapkan: misalnya, untuk kedatangan terlambat, agen menerima denda 18 unit. </font><font style="vertical-align: inherit;">utilitas per jam (masing-masing, terlambat selama 10 menit sama dengan kehilangan 3 unit utilitas); </font><font style="vertical-align: inherit;">kinerja beberapa aktivitas (misalnya, kinerja) menghasilkan 6 unit utilitas per jam, dan mengendarai mobil menghabiskan biaya 6 unit utilitas yang sama per jam. Untuk menemukan parameter penilaian realistis, jajak pendapat paling sering digunakan untuk menganalisis "biaya" waktu. " </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam modul strategi, parameter perencanaan ulang dikonfigurasikan, misalnya, berapa persen agen (ModuleProbability) akan mencoba rute baru (ReRoute) selama iterasi berikutnya. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dc/jf/yo/dcjfyoldbtrsg_zgrydyrrkc6ce.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan demikian, tujuan simulasi adalah untuk membantu agen mendapatkan dari titik A ke titik B dengan biaya terendah.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jalankan skrip</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saatnya membuka RunMatsim runner dan jalankan skrip pertama kami! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hasil simulasi akan berada di folder output di root proyek. File utama untuk visualisasi adalah jaringan dan acara. File peristiwa berisi informasi per detik tentang semua tindakan masing-masing agen, jadi berdasarkan file ini Anda dapat mengembalikan gambaran lengkap tentang pergerakan semua agen. Anda dapat memvisualisasikan hasil menggunakan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Via</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk hasil yang lebih representatif, saya akan meningkatkan jumlah agen menjadi 500. Ini adalah bagaimana distribusi 500 agen terlihat setelah iterasi pertama ... </font></font><br>
<br>
<img src="https://habrastorage.org/webt/by/o3/zk/byo3zk14bt0yj1y7od2sth35nok.gif"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada awal iterasi, agen menghitung cara terpendek menggunakan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dijkstra</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Akibatnya, intensitas lalu lintas di satu bagian jaringan melebihi throughputnya, kemacetan terbentuk. </font><font style="vertical-align: inherit;">Tetapi bagaimana jika Anda memberi mereka kesempatan untuk mencoba rute yang berbeda? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/7l/_j/5_/7l_j5_q_n2g3roivtbnht8iwqfq.gif"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah 200 iterasi (~ 5 menit), agen didistribusikan kembali melalui jaringan, level beban tautan sekarang tidak melebihi 0,5, dan waktu tempuh rata-rata untuk semua agen menurun 14% (5 menit). </font><font style="vertical-align: inherit;">Hore, kita sudah mengatasi gabus! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oh, seandainya itu sesederhana itu! </font><font style="vertical-align: inherit;">Pada kenyataannya, sistem transportasi jauh lebih rumit. </font><font style="vertical-align: inherit;">Dalam artikel-artikel berikut, saya akan memberi tahu Anda bagaimana saya berpartisipasi dalam pengembangan model St. Petersburg dan kota-kota lain dan bagaimana kami memecahkan masalah praktis pada kasus nyata. </font><font style="vertical-align: inherit;">Scientia potentia est! </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cj/v-/t0/cjv-t0plurhha0_szf4vhthcubo.gif"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diposting oleh Andrey Kolomatsky, Analis Transportasi di OTSLab.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id494580/index.html">Fraktal di pasir, atau Lebih dari tiga tidak berkumpul</a></li>
<li><a href="../id494582/index.html">Microsoft tidak akan lagi mengeluarkan sertifikat MCSE / MCSD / MCSA</a></li>
<li><a href="../id494586/index.html">Pemrograman fungsional sebagai contoh bekerja dengan matriks dari teori aljabar linier</a></li>
<li><a href="../id494590/index.html">Coronavirus - pendewaan dari kepanikan</a></li>
<li><a href="../id494592/index.html">Laser Uap Mangan Buatan Rumah</a></li>
<li><a href="../id494598/index.html">Para peneliti di Stanford telah mengembangkan exoskeleton untuk berlari</a></li>
<li><a href="../id494600/index.html">Membuat bot Perselisihan sederhana menggunakan perpustakaan discord.py</a></li>
<li><a href="../id494604/index.html">Kotak sterilisasi UV untuk penggunaan kembali masker sekali pakai</a></li>
<li><a href="../id494606/index.html">Cara mengamati bulan dan planet-planet</a></li>
<li><a href="../id494608/index.html">Mempersiapkan Ludum Dare</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>