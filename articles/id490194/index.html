<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏻‍🤝‍👨🏾 🧖🏼 🍰 Menggunakan RabbitMQ dengan MonsterMQ Bagian 4 💤 👰 🧓🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dalam artikel sebelumnya, kami menulis sistem logging sederhana. Di mana kami mengirim pesan ke beberapa penerima sekaligus. Dalam artikel ini, kami a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Menggunakan RabbitMQ dengan MonsterMQ Bagian 4</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/490194/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dalam </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">artikel sebelumnya,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> kami menulis sistem logging sederhana. </font><font style="vertical-align: inherit;">Di mana kami mengirim pesan ke beberapa penerima sekaligus. </font><font style="vertical-align: inherit;">Dalam artikel ini, kami akan menambahkan fungsi baru yang memungkinkan penerima hanya menerima subset pesan tertentu. </font><font style="vertical-align: inherit;">Karena itu, kita dapat, misalnya, hanya mengirim pesan penting ke file log, pada saat yang sama menampilkan semua pesan yang dikirim dalam jendela terminal.</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tautan antara antrian dan penukar</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada artikel sebelumnya, kami belajar cara menghubungkan antrian dengan penukar. </font><font style="vertical-align: inherit;">Tentang kode ini:</font></font><br>
<br>
<pre><code class="php hljs">$producer-&gt;queue(<span class="hljs-string">'queue-1'</span>)-&gt;bind(<span class="hljs-string">'logs'</span>);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selanjutnya, metode pengikatan dapat menerima </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kunci rute</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> argumen kedua </font><font style="vertical-align: inherit;">(kunci routing). </font><font style="vertical-align: inherit;">Agar tidak membingungkan dengan kunci perutean, yang mengadopsi metode </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Producer :: publish ()</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sebagai parameter kedua, mari kita menyebutnya </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kunci</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> penjilidan (kunci penjilidan). </font><font style="vertical-align: inherit;">Inilah cara kami dapat mengikat exchanger dengan antrian menggunakan kunci bind:</font></font><br>
<br>
<pre><code class="php hljs">$producer-&gt;queue(<span class="hljs-string">'queue-2'</span>)-&gt;bind(<span class="hljs-string">'logs'</span>, <span class="hljs-string">'binding-key'</span>);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nilai kunci penjilidan tergantung pada jenis penukar. </font><font style="vertical-align: inherit;">Penukar fanout dari pelajaran sebelumnya mengabaikan nilai ini.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Penukar langsung</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sistem pencatatan kami dari artikel terakhir mengirim semua pesan ke semua penerima. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita ubah sedikit sehingga memfilter pesan berdasarkan tingkat keparahan. Misalnya, sehingga dia hanya menulis pesan penting ke file log, dan tidak membuang ruang disk pada pesan peringatan dan info. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Penukar fanout tidak memberi kita kesempatan seperti itu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tetapi kita dapat menggunakan penukar langsung yang hanya mengirim pesan ke antrian yang kunci pengikatnya cocok dengan kunci perutean pesan yang dikirim (argumen kedua ke metode publish ()). Mekanisme aksi ini diilustrasikan oleh gambar berikut: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/88f/f5a/047/88ff5a047336bcdbb5a627d379195f7a.png" alt="gambar"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(gambar diambil dari </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">situs resmi RabbitMQ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Gambar ini menunjukkan exchanger </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">X</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tipe langsung dan dua antrian - satu dengan kunci penjilidan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">oranye</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan yang kedua dengan dua kunci pengikat </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hitam</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hijau</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam instalasi ini, pesan dengan kunci perutean </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">oranye</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> akan dikirim terlebih dahulu, dan pesan dengan kunci perutean </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hitam</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> atau </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hijau</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> akan dikirim ke yang kedua. </font><font style="vertical-align: inherit;">Pesan lain akan dibuang.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Penjilidan berganda</font></font></h3><br>
<img src="https://habrastorage.org/getpro/habr/post_images/479/530/89c/47953089c9198e6029763988b4012fb3.png" alt="gambar"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(gambar diambil dari </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">situs web resmi RabbitMQ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Sangat dapat diterima untuk mengikat exchanger dengan beberapa antrian dengan satu kunci ikat. </font><font style="vertical-align: inherit;">Dalam contoh kita, kita dapat menambahkan koneksi antara penukar </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">X</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan antrian </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Q1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> menggunakan kunci </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hitam</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mengikat </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Dalam hal ini, penukar tipe langsung kami akan berperilaku seperti penukar jenis fanout, penukar akan mengirimkan pesan ke semua antrian dengan kunci penjilidan yang cocok. </font><font style="vertical-align: inherit;">Pesan dengan kunci perutean </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hitam</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> akan dikirim ke </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Q1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Q2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pesan Rilis</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami akan menggunakan model yang dijelaskan di atas untuk sistem logging kami. </font><font style="vertical-align: inherit;">Alih-alih mengirim pesan ke exchanger fanout, kami akan mengirimkannya ke exchanger langsung. </font><font style="vertical-align: inherit;">Kami akan menunjukkan tingkat keparahan pesan sebagai kunci perutean. </font><font style="vertical-align: inherit;">Dengan demikian, skrip penerima akan dapat memilih pesan dengan tingkat keparahan yang diinginkan. </font><font style="vertical-align: inherit;">Tapi pertama-tama, mari kita fokus pada merilis pesan. </font><font style="vertical-align: inherit;">Seperti biasa, untuk ini pertama-tama kita perlu membuat exchanger.</font></font><br>
<br>
<pre><code class="php hljs">
$producer-&gt;newDirectExchange(<span class="hljs-string">'my-logs'</span>);
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang kita dapat mengirim pesan:</font></font><br>
<br>
<pre><code class="php hljs">
$producer-&gt;newDirectExchange(<span class="hljs-string">'my-logs'</span>);<font></font>
$producer-&gt;publish($message, $severity, <span class="hljs-string">'my-logs'</span>);
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agar tidak menyulitkan, mari kita asumsikan bahwa tingkat keparahan ($ severity) hanya dapat berupa 'info', 'peringatan', 'kesalahan'.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Berlangganan</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti pada bagian sebelumnya, kami akan membuat dua pekerja yang akan mengumumkan antrian dan mengaitkannya dengan exchanger sebagai berikut:</font></font><br>
<br>
<pre><code class="php hljs">
<span class="hljs-comment">// Worker 1</span>
<span class="hljs-keyword">foreach</span> ($severities <span class="hljs-keyword">as</span> $severity) {<font></font>
   $consumer-&gt;queue(<span class="hljs-string">'queue-1'</span>)-&gt;bind(<span class="hljs-string">'my-logs'</span>, $severity);<font></font>
}<font></font>
</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menyatukan semuanya</font></font></h3><br>
<img src="https://habrastorage.org/getpro/habr/post_images/45a/2cc/b70/45a2ccb7094cb54f647ee0f04c020fc6.png" alt="gambar"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(gambar diambil dari situs </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">resmi RabbitMQ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
kode </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">send.php</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="php hljs">
<span class="hljs-keyword">try</span> {<font></font>
   $producer = \MonsterMQ\Client\Producer();<font></font>
<font></font>
   $producer-&gt;connect(<span class="hljs-string">'127.0.0.1'</span>, <span class="hljs-number">5672</span>);<font></font>
   $producer-&gt;logIn(<span class="hljs-string">'guest'</span>, <span class="hljs-string">'guest'</span>);<font></font>
<font></font>
   $producer-&gt;newDirectExchange(<span class="hljs-string">'my-logs'</span>);<font></font>
<font></font>
   $severity = <span class="hljs-keyword">isset</span>($argv[<span class="hljs-number">1</span>]) &amp;&amp; !<span class="hljs-keyword">empty</span>($argv[<span class="hljs-number">1</span>]) ? $argv[<span class="hljs-number">1</span>] : <span class="hljs-string">'info'</span>;<font></font>
<font></font>
   $message = implode(<span class="hljs-string">' '</span>, array_slice($argv, <span class="hljs-number">2</span>));<font></font>
   $message = <span class="hljs-keyword">empty</span>($message) ? <span class="hljs-string">"Hello World!"</span> : $message;<font></font>
<font></font>
   $producer-&gt;publish($message, $severity, <span class="hljs-string">'my-logs'</span>);<font></font>
<font></font>
   <span class="hljs-keyword">echo</span> <span class="hljs-string">"\n Sent {$message} \n"</span>;<font></font>
} <span class="hljs-keyword">catch</span>(\<span class="hljs-built_in">Exception</span> $e) {<font></font>
   var_dump($e);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pekerja</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
kode </font><b><font style="vertical-align: inherit;">-1.php</font></b><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="php hljs">
<span class="hljs-keyword">try</span> {<font></font>
   $consumer = \MonsterMQ\Client\Consumer();<font></font>
<font></font>
   $consumer-&gt;connect(<span class="hljs-string">'127.0.0.1'</span>, <span class="hljs-number">5672</span>);<font></font>
   $consumer-&gt;logIn(<span class="hljs-string">'guest'</span>, <span class="hljs-string">'guest'</span>);<font></font>
<font></font>
   $producer-&gt;queue(<span class="hljs-string">'queue-1'</span>)-&gt;setExclusive()-&gt;declare();<font></font>
<font></font>
   $severities = array_slice($argv, <span class="hljs-number">1</span>);
   <span class="hljs-keyword">if</span> (<span class="hljs-keyword">empty</span>($severities)) {<font></font>
      file_put_contents(<span class="hljs-string">'php://stderr'</span>, <span class="hljs-string">"Usage: $argv[0] [info] [warning] [error]\n"</span>);
      <span class="hljs-keyword">exit</span>(<span class="hljs-number">1</span>);<font></font>
   }<font></font>
<font></font>
   <span class="hljs-keyword">foreach</span> ($severities <span class="hljs-keyword">as</span> $severity) {<font></font>
      $producer-&gt;queue(<span class="hljs-string">'queue-1'</span>)-&gt;bind(<span class="hljs-string">'my-logs'</span>, $severity);<font></font>
   }<font></font>
<font></font>
   $consumer-&gt;consume(<span class="hljs-string">'queue-1'</span>);<font></font>
<font></font>
  <span class="hljs-keyword">echo</span> <span class="hljs-string">" \n Waiting for logs. To exit press CTRL+C\n"</span>;<font></font>
<font></font>
   $consumer-&gt;wait(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">$message, $channelNumber</span>) <span class="hljs-title">use</span> (<span class="hljs-params">$consumer</span>)</span>{
      <span class="hljs-keyword">echo</span> <span class="hljs-string">"\n $message \n"</span>;<font></font>
   });<font></font>
} <span class="hljs-keyword">catch</span>(\<span class="hljs-built_in">Exception</span> $e) {<font></font>
   var_dump($e);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kode </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pekerja-2.php</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> akan berbeda dari </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pekerja-1.php</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> hanya dalam nama antrian yang terkait dengan penukar dan diteruskan ke metode </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">konsumsi ()</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ganti 'antrian-1' dengan 'antrian-2'. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang, jika Anda ingin pekerja pertama menyimpan pesan tingkat 'kesalahan' dan 'peringatan' ke file, jalankan perintah berikut di terminal:</font></font><br>
<br>
<pre><code class="bash hljs">php worker-1.php warning error &gt; logs_from_rabbit.log</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan jika Anda ingin pekerja kedua menampilkan semua pesan di jendela terminal, lakukan hal berikut:</font></font><br>
<br>
<pre><code class="bash hljs">php worker-2.php info warning error
<span class="hljs-comment"># =&gt; Waiting for logs. To exit press CTRL+C</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan untuk mengeluarkan pesan kesalahan tulis yang berikut:</font></font><br>
<br>
<pre><code class="bash hljs">php send.php error <span class="hljs-string">"Run. Run. Or it will explode."</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Itu saja. </font><font style="vertical-align: inherit;">Di bagian </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">selanjutnya,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> kita akan belajar cara menerima pesan berdasarkan pola tertentu.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id490178/index.html">Sementara semua orang menuju ke barat, saya pindah ke Armenia</a></li>
<li><a href="../id490180/index.html">Pola Penyimpanan Kubernetes</a></li>
<li><a href="../id490184/index.html">Alphabet memiliki kelompok kedua, pengembang rahasia komputer kuantum</a></li>
<li><a href="../id490186/index.html">Dari mana kami membuat JET BI. Arsitektur Sistem Kecerdasan Bisnis tanpa penyimpangan lirik</a></li>
<li><a href="../id490190/index.html">Saya akan mencari: host geo-positioning dengan alamat IP di Internet global menggunakan pertukaran Binance crypto sebagai contoh</a></li>
<li><a href="../id490196/index.html">[Flipper Zero] menolak Raspberry Pi, buat papan sendiri dari awal. Menemukan chip WiFi yang tepat</a></li>
<li><a href="../id490198/index.html">Percaya tapi verifikasi! Zona demo dengan proyektor Epson untuk home theatre di aula demo Pult.ru</a></li>
<li><a href="../id490202/index.html">Penghitungan Kueri: Pengujian Kinerja Django Dasar</a></li>
<li><a href="../id490204/index.html">Intisari acara untuk perekrut SDM dan TI pada bulan Maret 2020</a></li>
<li><a href="../id490208/index.html">Bagian Backend pada DUMP2020: olok-olok, kipas, gagal</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>