<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧒🏻 🧑🏿‍🤝‍🧑🏻 🚪 Ansible vs Puppet 👨‍🌾 🤵🏻 🍪</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="AnsibleとPuppetは、反復的なインフラストラクチャを構築するために必要な構成管理システム（SCM）です。
 
 Ansibleは使いやすく、エージェントレスアーキテクチャ（ターゲットシステムにエージェント/クライアントをインストールする必要がない）と、Pythonで記述され、モジュールによ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Ansible vs Puppet</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/490502/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AnsibleとPuppetは、反復的なインフラストラクチャを構築するために必要な構成管理システム（SCM）です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ansibleは使いやすく、エージェントレスアーキテクチャ（ターゲットシステムにエージェント/クライアントをインストールする必要がない）と、Pythonで記述され、モジュールによって簡単に拡張できるYAMLのようなDSLを備えています。通常、Linux構成を管理します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puppetはクライアントサーバーアーキテクチャ（定期的にサーバーをポーリングしてネットワーク管理者が行った構成に変更を加える）であり、Rubyで記述されており、RubyのようなDSLを備えています。このアプリケーションを使用すると、複数のコンピューターにインストールされているソフトウェアの構成を集中管理できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、これらのSCMの利点と欠点を比較します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/x1/ic/q3/x1icq3wsfkfmjfv3iqhkfc9nqh8.jpeg"><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
90年代と比較すると、今日のシステム管理者と開発者は、より多くのアプリケーションをホストする非常に多くのサーバーを管理する必要があります。これは、仮想化やクラウドコンピューティングなどの新しいテクノロジーの登場に伴い、組織や企業のコンピューティングが飛躍的に成長したためです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、PuppetやAnsibleなどのツールは、たとえばデータセンター内の多数のサーバーを管理するために必要なコンポーネントになります。</font><font style="vertical-align: inherit;">これらは、構成管理ツール（CM）およびリモート実行（RE）と呼ばれ、ソフトウェア更新ツールでよく使用されます。</font><font style="vertical-align: inherit;">これらの便利なアプリケーションを使用すると、たとえば、ネットワーク管理者は複数のサーバーで同時にアクションを実行し、ワンクリックで複数のアプリケーションを展開できます。これにより、数十、数百、さらには数千のサーバーの構成とメンテナンスが大幅に簡素化されます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansible対Puppet：簡単なレビュー</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
パペットは、CM市場で最も有名なブランドの1つです。それは2005年以来存在しており、CMツールにとっては人類の誕生以来の存在と同等です。 Google、Reddit、Dell、PayPal、Oracle、Los Alamos Labs、スタンフォード大学など、多くの有名企業がPuppetを使用してデータセンターを管理しています。そのような顧客を乗せることは常に製品に一定の信頼を与えます。また、Puppetは最も成熟したインターフェースを誇り、すべての主要なオペレーティングシステム（Linux、Windows、Unix、さらにはMac OS X）で動作します。Linuxのさまざまなバージョンによって作成されたモデルに従って、このオープンソースアプリケーションはRubyで開発されています。ただし、PuppetLabsの確固たる定評のあるサポートとスポンサー企業があります。ソフトウェアのプロフェッショナルサポートと商用の企業バージョンを提供します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、Puppetはシンプルなインストール手順と、クライアントサーバーへの迅速な展開などのタスクのためのいくつかのツールを提供します。 GUIに加えて、RubyベースのCLIがあります。実際、ほとんどの高度なタスクでは、CLIに依存する必要があり、GUIは表示、管理、および監視のためのインターフェイスです。つまり、システム管理者として働くことに加えて、Rubyを学ぶ必要があります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/hu/9v/wc/hu9vwcjf6nwscjrgdyfpxfgtfjq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次のように思うかもしれません。欠点はありますか、それとも今すぐPuppetを購入する価値がありますか？」..専門のCMフォーラムでこのSCMを使用することについての議論は、Puppetが他の多くのソフトウェアジャイアントと同様に、独自の成功と規模の犠牲になっていることです。 「機敏」および「機敏」は、人形の作品を説明するために使用できる言葉ではありません。ユーザーは、新しいリクエストを修正して無視するのに時間がかかりすぎるバグを報告します。また、PuppetLabsが永続的に顧客に商用バージョンの受け入れを要求しているという事実にも、いくつかの不満があります。最後に、PuppetはCLIで純粋なRubyとその構成済みDSLの両方をサポートしていますが、Rubyのみのサポートは非​​推奨です。これはDSLではなくRubyだけを勉強した人にとっては悪いニュースです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AnsibleはPuppetをバイパス</font><font style="vertical-align: inherit;">し、構成管理業界で</font><font style="vertical-align: inherit;">最大の</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">市場シェアを獲得し</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ました-26.5％。その後、Microsoft System Center CM（21.8％）とPuppet（12％）が続きます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/cm/b2/tm/cmb2tmfw7wmtdruecpelzl7snkc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、2012年にリリースされ、それ以来AnsibleWorksによってサポートされているオープンソース製品でもあります。 RubyではなくPythonで開発されたため、Puppetより精神的にソルト（別の新しいCMツール）に近くなります。 Pythonのもう1つの利点は、ほとんどのUnixおよびLinuxアプリケーションに組み込まれているため、この言語で記述されたSCMのインストールと動作が速くなることです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ansibleのユニークなマーケティング戦略は、その簡単で迅速な導入にあります。実際、このシステムでは、デプロイされたエージェントを使用してマスタークライアントと通信することすらなく、すべての機能がSSHを介して実行されます。ルートSSHをサポートしない構成の場合、Ansibleは「sudo」をルートとして実行できます。 Ansibleは、サービスの動作の確認や更新の開始や再起動などの単純なタスクに構成ファイルを使用せずに、CLIから起動できます。より複雑なタスクの場合、Ansible設定は、「プレイブック」と呼ばれる設定ファイルのYAML構文を使用して処理されます。 Ansibleコマンドは、ほぼすべてのプログラミング言語で記述でき、ユニバーサルJSONモジュールとして配布できます。これは、1つの特定の言語を選択するよりも明らかに有利です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ansibleは、従来の構成タスクへの新しいアプローチにより人気が高まり、多くの企業がそれを使用して大規模なデータセンターを展開しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
愛好家のAnsibleコミュニティは、サポートされるデバイスの数を増やし、より優れたWindowsサポートを統合し、エコシステムを改善するなど、その成功を築くために懸命に取り組んでいます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansible vs. Puppet：インストールの違い</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AnsibleとPuppetの違いは、システムがインストールされた瞬間から明らかになります。</font><font style="vertical-align: inherit;">それらは異なるアーキテクチャパラダイムに従っているため、設定は大きく異なります。</font><font style="vertical-align: inherit;">したがって、Ansibleには、セットアッププロセスをできるだけ簡単にするという明確な目標があり、これはユーザーエクスペリエンスに反映されています。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gq/hr/me/gqhrmedn8unjfxxq3tcdsjfzrtw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ansibleを設定するには、最初に1つのノードを制御ノードとして指定する必要があります。実際、任意のノードを管理ノードにすることができます。ディストリビューションのパッケージリポジトリから最新のAnsibleパッケージを使用して、このノードにAnsibleをインストールできます。他のノードでクライアントソフトウェアを構成する必要はありません。管理ノードでSSH鍵ペアを作成し、それを他のノードにコピーするだけです。次に、Ansibleノードのインベントリファイルを作成します-通常、Red Hat Linux、Ubuntu、DebianなどのLinux OSでは、これは/ etc / ansible / hostsで行われます。これで、Ansibleを使用して、ホストと残りのネットワークインフラストラクチャの両方でPlayBookを起動する準備ができました。Ansibleは、コントロールノードとのSSH接続を使用して、PlayBookベースの構成管理をトリガーします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puppetの設定はもう少し複雑に見えますが、難しいケースで役立つインターネット上のドキュメントがたくさんあります。最初に、マスターノードとエージェントノードが同じ時間とタイムゾーンを持つように設定する必要があります。次に、root権限でマスターサーバーに移動し、Puppetサーバーソフトウェアをインストールする必要があります。次に、すべての管理対象クライアントを接続するようにPuppetウィザードファイル/ etc / hostsを構成し、PuppetServerサービスを開始して「有効」モードにして、ポート8140でクライアント接続を受信します。Puppetはクライアントソフトウェアに依存しているため、Puppetソフトウェアエージェントをインストールする必要があります。それらのそれぞれに。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、マスターサーバーのIPアドレスを/ etc / hostsに追加して、クライアントがマスターサーバーに接続できるようにする必要があります。</font><font style="vertical-align: inherit;">これを行うには、このCMシステムがマスタークライアント通信にHTTPSを使用するため、各クライアントでPuppetエージェントサービスを開始して有効にし、SSL証明書を生成する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どちらの場合も、不正な接続の可能性を排除するためにサーバーのセキュリティを強化する必要があります。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AnsibleとPuppet：スケーラビリティと構成の転送メカニズム</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どちらのSCMも適切にスケーリングしますが、これを実現するには、異なる構成トランスポートメカニズムを使用します。実際、数百または数万のノードを管理する必要があるかどうかに関係なく、目的のレベルに簡単にスケーリングするために各プラットフォームで使用できるトリックと戦略があります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/3y/pe/u6/3ypeu6xorodq8eixu9xnnqbvtvc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ansibleはデフォルトで、信頼できるSSH証明書に基づくスマート転送メカニズムを使用します。 AnsibleはまずPlayBookを分析し、影響を受けるインフラストラクチャ要素を特定します。次に、SSH接続を開き、一時ディレクトリを作成します。この接続を閉じた後、Ansibleは2番目の接続を開き、AnsibleモジュールコードとAnsibleテンプレートコードをコピーします。 Ansibleは、3番目の最後の接続を開いてコードを実行する前に、この接続を閉じます。この設定はほとんどの目的に役立ちますが、インフラストラクチャのスケーリングに応じて変更できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ansibleが使用できる最初の関数はControlPersistと呼ばれ、複数の接続に必要なハンドシェイクの交換にかかる時間を短縮するために、永続的で永続的なソケットに依存しています。 Ansibleは、必要な接続数を3から1に減らす構成であるパイプライン処理もサポートしています。最後に、Ansibleは、このシステムの構成でフォーク変数を設定することにより、同時により多くのインベントリノードを処理するように構成できます。デフォルトでは、この値は5ですが、より高い値を設定して処理を高速化できます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/kw/du/wz/kwduwz2vqawecyp_530h99vo-o0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PuppetトランスポートメカニズムはHTTPSであり、SSL証明書を使用して管理されます。 1つのPuppetサーバーが、Puppetクライアントのリスト全体の構成要求を処理します。各クライアントはPuppetファクトをPuppetディレクトリへのリクエストと共にマスターサーバーに送信し、その後マスターサーバーはこのディレクトリを応答として送信します。次に、クライアントはディレクトリを処理し、ディレクトリで指定された必要な構成状態で各ソフトウェアリソースをチェックします。リソースが望ましい状態でない場合、Puppetクライアントはこのコンピューター上のリソースを更新し、更新が完了した後、完了した構成変更に関するレポートをPuppetサーバーに送信します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/kx/_7/nz/kx_7nzpnuvxgislidrtlelkp1s4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
特に、Puppet処理モデルは、各着信クライアント接続を処理するためにスレッドプールからJRubyスレッドを割り当てます。ノードの数が増えると、プールで使用できるJRubyスレッドの数を増やすことで、Puppetのスケーリングを最適化できます。これは、Puppet構成パラメーター「max-active-instances」の値をデフォルト値である1よりも高く設定することで実行できます。原則として、この値はコンピューターのプロセッサーコアの数と同じであると想定されますが、さらに多くの値が必要になることに注意してくださいCPUメモリはRAM RAMを使用しました。一般的なルールとして、PuppetサーバーのJVMの「最大ヒープサイズ」を大きく設定して、追加のJRubyスレッドは、Javaのメモリ不足エラーなしで割り当てることができます。この設定を行うときは、パフォーマンスが低下する可能性があるため、注意が必要です。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CM Ansibleコード例</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
日常の構成作業の場合、Ansibleコードの記述は、PlayBooksのYAML形式の使用と、「鋭い角」を切り取る宣言型の構成管理スタイルの組み合わせにより、驚くほど簡単です。</font><font style="vertical-align: inherit;">これは、DevOpsコマンドのパフォーマンスをすばやく改善し、複雑な構成タスクでもコードを管理できるようにするために重要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ansibleコードはべき等です。つまり、サーバーをめちゃくちゃにすることなく、システムコンポーネントのPlayBookを何度も安全に実行できます。 Ansibleは、サーバーのソフトウェアリソースの構成を、それが望ましい状態から外れている場合にのみ変更します。たとえば、PlayBookがパッケージをインストールして特定の構成ファイルをディスクに作成する必要がある場合、Ansibleはそのパッケージのみをインストールし、PlayBookがホストで最初に起動されたときに指定された構成ファイルを作成します。その後のPlayBookの起動では、指定されたファイルまたはパッケージ構成を削除または変更する変更があるまで、パッケージは自動的にそのままになります。これにより、構成のドリフトが発生する可能性がほとんどまたはまったくない状態で、ノードが予測可能な確定的な状態に保たれます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下は、サイトにTomcat WebサーバーをインストールするAnsible PlayBookコードの例です。</font><font style="vertical-align: inherit;">この例は</font><font style="vertical-align: inherit;">、Ansibleイディオマティックスタイルをよく理解するために、目を通す必要がある</font><font style="vertical-align: inherit;">公式の</font><font style="vertical-align: inherit;">Ansibleサンプル</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リポジトリ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">から取得した</font><font style="vertical-align: inherit;">もの</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">です</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="plaintext hljs">---<font></font>
- name: Install Java 1.7<font></font>
yum: name=java-1.7.0-openjdk state=present<font></font>
<font></font>
- name: add group "tomcat"<font></font>
group: name=tomcat<font></font>
<font></font>
- name: add user "tomcat"<font></font>
user: name=tomcat group=tomcat home=/usr/share/tomcat createhome=no<font></font>
become: True<font></font>
become_method: sudo<font></font>
<font></font>
- name: Download Tomcat<font></font>
get_url: url=http://archive.apache.org/dist/tomcat/tomcat-7/v7.0.61/bin/apache-tomcat-7.0.61.tar.gz dest=/opt/apache-tomcat-7.0.61.tar.gz<font></font>
<font></font>
- name: Extract archive<font></font>
command: chdir=/usr/share /bin/tar xvf /opt/apache-tomcat-7.0.61.tar.gz -C /opt/ creates=/opt/apache-tomcat-7.0.61<font></font>
<font></font>
- name: Symlink install directory<font></font>
file: src=/opt/apache-tomcat-7.0.61 path=/usr/share/tomcat state=link<font></font>
<font></font>
- name: Change ownership of Tomcat installation<font></font>
file: path=/usr/share/tomcat/ owner=tomcat group=tomcat state=directory recurse=yes<font></font>
<font></font>
- name: Configure Tomcat server<font></font>
template: src=server.xml dest=/usr/share/tomcat/conf/<font></font>
notify: restart tomcat<font></font>
<font></font>
- name: Configure Tomcat users<font></font>
template: src=tomcat-users.xml dest=/usr/share/tomcat/conf/<font></font>
notify: restart tomcat<font></font>
<font></font>
- name: Install Tomcat init script<font></font>
copy: src=tomcat-initscript.sh dest=/etc/init.d/tomcat mode=0755<font></font>
<font></font>
- name: Start Tomcat<font></font>
service: name=tomcat state=started enabled=yes<font></font>
<font></font>
- name: deploy iptables rules<font></font>
template: src=iptables-save dest=/etc/sysconfig/iptables<font></font>
when: "ansible_os_family == 'RedHat' and ansible_distribution_major_version == '6'"<font></font>
notify: restart iptables<font></font>
<font></font>
- name: insert firewalld rule for tomcat http port<font></font>
firewalld: port=/tcp permanent=true state=enabled immediate=yes<font></font>
when: "ansible_os_family == 'RedHat' and ansible_distribution_major_version == '7'"<font></font>
<font></font>
- name: insert firewalld rule for tomcat https port<font></font>
firewalld: port=/tcp permanent=true state=enabled immediate=yes<font></font>
when: "ansible_os_family == 'RedHat' and ansible_distribution_major_version == '7'"<font></font>
<font></font>
- name: wait for tomcat to start<font></font>
wait_for: port=</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この特定のAnsibleタスクは、依存するJava JDK 1.7とともにApache Tomcatをダウンロードしてインストールし、次にTomcatを構成、起動、およびインストールします。</font><font style="vertical-align: inherit;">この例からわかるように、Ansible駆動型ファイルにはJinjaテンプレートを含めることができます。これにより、値の計算が簡素化され、構成がより柔軟になります。</font><font style="vertical-align: inherit;">YAMLコードは、システム管理者と開発者のどちらにとっても読み書きが簡単です。</font><font style="vertical-align: inherit;">これは、Ansibleが上級ユーザーと初心者ユーザーの両方にとって手頃な構成管理システムになりつつあるという事実につながります。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMパペットのコード例</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サブジェクト指向の言語PuppetはRubyに基づいていますが、その構文はPerl、Java、C ++などの命令型Cスタイル言語に非常に近いです。</font><font style="vertical-align: inherit;">このアプローチは、Rubyに精通している開発者と、この言語に精通していない可能性がある開発者との間の仲介者です。</font><font style="vertical-align: inherit;">その結果、Puppet DSLを生産的に学習して使用するために、Rubyをまったく知る必要がない場合があります。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、MySQLクライアントパッケージをインストールして構成するPuppetLabs MySQL Puppet ModuleリポジトリのPuppetマニフェストの例です。</font></font><br>
<br>
<pre><code class="plaintext hljs"># @summary<font></font>
#     Installs and configures the MySQL client.<font></font>
#<font></font>
# @example Install the MySQL client<font></font>
#     class {'::mysql::client':<font></font>
#         package_name =&gt; 'mysql-client',<font></font>
#         package_ensure =&gt; 'present',<font></font>
#         bindings_enable =&gt; true,<font></font>
#     }<font></font>
#<font></font>
# @param bindings_enable<font></font>
#     Whether to automatically install all bindings. Valid values are `true`, `false`. Default to `false`.<font></font>
# @param install_options<font></font>
#     Array of install options for managed package resources. You must pass the appropriate options for the package manager.<font></font>
# @param package_ensure<font></font>
#     Whether the MySQL package should be present, absent, or a specific version. Valid values are 'present', 'absent', or 'x.y.z'.<font></font>
# @param package_manage<font></font>
#     Whether to manage the MySQL client package. Defaults to `true`.<font></font>
# @param package_name<font></font>
#     The name of the MySQL client package to install.<font></font>
#<font></font>
class mysql::client (<font></font>
    $bindings_enable = $mysql::params::bindings_enable,<font></font>
    $install_options = undef,<font></font>
    $package_ensure = $mysql::params::client_package_ensure,<font></font>
    $package_manage = $mysql::params::client_package_manage,<font></font>
    $package_name = $mysql::params::client_package_name,<font></font>
)  inherits mysql::params {<font></font>
    <font></font>
    include '::mysql::client::install'<font></font>
<font></font>
    if $bindings_enable {<font></font>
        class { 'mysql::bindings':<font></font>
            java_enable =&gt; true,<font></font>
            perl_enable =&gt; true,<font></font>
            php_enable =&gt; true,<font></font>
            python_enable =&gt; true,<font></font>
            ruby_enable =&gt; true,<font></font>
        }<font></font>
    }<font></font>
<font></font>
# Anchor pattern workaround to avoid resources of mysql::client::install to<font></font>
# "float off" outside mysql::client<font></font>
anchor { 'mysql::client::start': }<font></font>
-&gt; Class['mysql::client::install']<font></font>
-&gt; anchor { 'mysql::client::end': }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puppetの重要な利点は、上記の命令型プログラミング言語とは異なり、Puppet DSLは、XMLに似た方法で宣言型であること、および上記のAnsibleコード例のYAMLコードであることです。</font><font style="vertical-align: inherit;">PuppetとAnsibleの両方の宣言的アプローチは、両方のコード例で実際にトレースされています。</font><font style="vertical-align: inherit;">コーディングの点では、それらはChefのようなツールよりも似ており、互いに近いです。</font><font style="vertical-align: inherit;">ただし、宣言型言語Puppetは、条件式や反復などのRubyに似た構成も提供します。これも、Rubyユーザーと言語を話さないユーザーにとっては妥協です。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansible対Puppet：使いやすさ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
開発チームにとって、使いやすさはSCMを評価する上で重要な部分です。 Ansible開発者がシステムの使いやすさに多くの努力を注いでいることを考えると、これには競合他社はありません。ノードの構成、プログラミング、および管理は、開発エンジニアとシステム管理者の両方に非常にシンプルなインターフェースを提供します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、Puppetが使いにくいことを意味するのではなく、提案されたインフラストラクチャの自動化方法に従っている間、このシステムが自信を持って動作するというだけです。この領域では、Puppetはかなり強力であり、各リソースを明示的にモデル化し、マニフェストで効率的に使用される標準的な動作を備えたモジュールをユーザーに提供します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ユーザー学習に関しては、どちらのプラットフォームも使いやすいですが、Ansibleにはわずかな利点があります。</font><font style="vertical-align: inherit;">宣言的なYAMLスタイルを実現するのは簡単なので、Ansibleコードは複雑すぎません。</font><font style="vertical-align: inherit;">一方、Puppetは、同じソースファイルでデータとコードを組み合わせることに関連する問題のいくつかを認識するようになりました。</font><font style="vertical-align: inherit;">これにより、YAML形式を使用して構成データのキーと値のペアを格納するストレージソリューションであるPuppet Hieraが登場しました。</font><font style="vertical-align: inherit;">Hieraは、Puppet DevOpsエクスペリエンスの簡素化と最適化に大きく貢献します。</font><font style="vertical-align: inherit;">YAML形式は構成管理で非常に人気があることが証明されており、SaltStackのSaltもこの形式を使用しています。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
両方のSCMには、構文チェックからコードとしてのインフラストラクチャの統合まで、CMを検証およびテストする機能があります。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AnsibleとPuppetの比較：ライセンスと実装のコスト</font></font></h3><br>
<br>
<img src="https://habrastorage.org/webt/hc/dr/ex/hcdrexeefe8ias0zzyh2f7lqngu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
オープンソースツールとして、AnsibleとPuppetはライセンスポリシーに多くの共通点があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ansibleのオープンソースリリースは完全に無料です。</font><font style="vertical-align: inherit;">セキュリティ、安定性、信頼性の保証をさらに必要とする企業は、Red Hat Linuxに同梱されているエンタープライズクラスの製品であるAnsible Engineにアップグレードすることをお勧めします。</font><font style="vertical-align: inherit;">Ansible Engineライセンスのコストは通常​​、ノードあたり年間47.50ドルから70ドルの範囲で、希望する構成によって異なります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
迅速なトラブルシューティングを行うテクニカルサポートが必要な場合は、企業バージョンを使用してください。</font><font style="vertical-align: inherit;">Ansible Tower Large Enterprise Management Toolはサービスパッケージとして提供されており、グラフィカルなコントロールパネルを通じて、より多くのトレーニング、管理、およびジョブスケジューリング機能を企業に提供します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ansibleと同様に、オープンソースのPuppetリリースは無料で入手できます。</font><font style="vertical-align: inherit;">追加の企業機能と技術サポートについては、組織はPuppet Enterpriseにアップグレードできます。これはノードあたり年間$ 112から$ 199のコストです。</font><font style="vertical-align: inherit;">Puppet Enterpriseは、エンタープライズインフラストラクチャのステータスのレポートとモニタリングを含む、いくつかのツールのパッケージを提供します。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansible vs Puppet：コミュニティ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2005年にリリースされたPuppetは古いDevOpsツールであるため、独自のコミュニティーとユーザーベースを作成するのに時間がかかりました。それにもかかわらず、2012年に発売されたAnsibleは、その新しいアプローチのおかげで、さらに多くのオーディエンスを引き付け、開発者の熱狂的なユーザーとユーザーの非常にダイナミックなコミュニティを作成することができました。 PuppetユーザーにはUber、Salesforce、Paypalなどの企業が含まれ、AnsibleコミュニティにはDigital Ocean、9GAG、TypeFormなどの企業が含まれます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
GitHubでの開発に参加している貢献者の数としてオープンソース製品の開発の重要な指標を比較すると、4,800以上の貢献者を持つAnsibleは、527以上の貢献者を持つPuppetよりもはるかに優れています。近年のAnsibleの開発は非常に速く、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansible Galaxyの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">別個の「銀河」リポジトリの作成が生み出されました</font><font style="vertical-align: inherit;">。これは、Ansibleコミュニティがそのコードの共有に努め、それにより製品のさらなる開発に貢献することを意味します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その間、よりゆっくりと着実に発展しているPuppetコミュニティーは、SCMのニーズを満たすソリューションを見つけやすくするためのインフラストラクチャを作成しました。</font><font style="vertical-align: inherit;">Puppet Forgeは、Puppetコミュニティの一般的な構成管理タスク用のモジュールを提供します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どちらのシステムにも、コマンドラインを介して構成管理プロジェクトのライフサイクルを監視するための第一級のツールがあります。</font><font style="vertical-align: inherit;">PuppetとAnsibleはどちらも、Docker、Kubernetes、Jenkins、AWSやAzureクラウドコンピューティングプラットフォームなど、広く使用されている他のDevOpsシステムとうまく統合できます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansible vs Puppet：どちらが良いですか？</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この問題では、選択はあなた次第です。 AnsibleとPuppetの両方の宣言型スタイルは、これらのツールが他の構成管理システムよりもはるかに共通していることを意味します。ただし、最良の選択を行うには、チームのニーズと特定のSCMの設計および利点をどのように組み合わせるかに特に注意を払う必要があります。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ansibleは、YAMLスタイルの設定に関心があり、Ansibleの哲学を共有して、大規模なマシンのプールを迅速かつ同時に管理しながら、できるだけシンプルであるという方に適しています。さらに、この哲学は、ユーザーエージェントを作成する代わりに、既存のSSH機能を使用することに重点を置いています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puppetは、システムリソースを一貫した繰り返しの方法でモデル化するDSLを好むチームに適しています。</font><font style="vertical-align: inherit;">これはまさに、Puppet DSLが行うことであり、大規模なチームを予測可能かつ簡単にするツールのエコシステム全体と一緒です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どの構成管理の原則がニーズに最適であるかが正確にわかっている場合、PuppetとAnsibleのどちらを選択しても問題はありません。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">調査結果</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
選択を容易にするために、両方のシステムの主な長所と短所を理解することをお勧めします。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bx/i8/j6/bxi8j6fcayvlx5bn80fdevkr8hy.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">広告のビット:)</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
いつもご利用いただきありがとうございます。私たちの記事は好きですか？もっと面白い資料を見たいですか？</font><b><font style="vertical-align: inherit;">私たちがあなたのために私たちが発明したエントリーレベルのサーバーのユニークなアナログで</font></b><font style="vertical-align: inherit;">ある</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ 4.99から</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注文またはお友達</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">に開発者向けのクラウドベースのVPS</font></a><font style="vertical-align: inherit;">をお勧めすることで私たちをサポートして</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ください：</font></font></b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VPS（KVM）E5-2697 v3（6コア）10GB DDR4 480GB SSD 1Gbpsの真実19ドルから、またはサーバーを分割する方法？</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（オプションは、RAID1およびRAID10、最大24コア、最大40GB DDR4で利用可能です）。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dell R730xdは、アムステルダムのEquinix Tier IVデータセンターで2倍安いですか？</font></font></b><font style="vertical-align: inherit;"><b><font style="vertical-align: inherit;">オランダでは</font></b><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">199ドルのIntel TetraDeca-Core Xeon 2x E5-2697v3 2.6GHz 14C 64GB DDR4 4x960GB SSD 1Gbps 100 TV</font></a></b><font style="vertical-align: inherit;">が</font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">2つ</font></a></b><font style="vertical-align: inherit;">だけあり</font><b><font style="vertical-align: inherit;">ます！</font></b></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デルR420-2x E5-2430 2.2Ghz 6C 128GB DDR3 2x960GB SSD 1Gbps 100TB-$ 99から！</font></font></b></b><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">インフラストラクチャビルディングの構築方法</font></a><font style="vertical-align: inherit;">について</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">お</font></a><font style="vertical-align: inherit;">読みください</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">Dell R730xd E5-2650 v4サーバーを使用するクラスcは、1ペニーで9,000ユーロかかりますか？</font></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja490492/index.html">倉庫ロボットは非標準のものを分類することを学ぶ</a></li>
<li><a href="../ja490494/index.html">ネズミ、ウィディオット、ゲーマーを購入する：80年代のビデオゲームの危険性に関する宣伝</a></li>
<li><a href="../ja490496/index.html">Nuxt.jsでのオンラインストアの作成2チュートリアルパート1</a></li>
<li><a href="../ja490498/index.html">私がPHPで半分散型の暗号通貨を書いたとき。（パート2-開発）</a></li>
<li><a href="../ja490500/index.html">ECSの前後</a></li>
<li><a href="../ja490510/index.html">企業は8兆の市場を獲得するためにドローンに160億ドルを費やしています</a></li>
<li><a href="../ja490512/index.html">（ほぼ）自動生成色</a></li>
<li><a href="../ja490516/index.html">AIは存在しますが、それは私たちが考えたことではありませんか？</a></li>
<li><a href="../ja490518/index.html">Lenaデータ分析アーキテクチャフレームワークの概要</a></li>
<li><a href="../ja490520/index.html">数学の起源：論理的なアイデア</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>