<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚¨õÔ∏è üöµüèø üßíüèø Doom Boy ESP32 üë® ‚úÖ üíö</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Doom-Pr√§fix f√ºr ESP32 Do-it-yourself im MCP23017-Treiber f√ºr Schaltfl√§chen von UncleRus
 
 
 
 In Erwartung der Doom-Stunden kam der Vorstand eines la...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Doom Boy ESP32</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/495700/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Doom-Pr√§fix f√ºr ESP32 Do-it-yourself im MCP23017-Treiber f√ºr Schaltfl√§chen von UncleRus</font></font><br>
<br>
<div style="text-align:center;"><img width="500" src="https://habrastorage.org/webt/e_/br/13/e_br13t_nva7dv5lrbr8b9-8rpo.jpeg"></div><br>
<div style="text-align:center;"><img width="500" src="https://habrastorage.org/webt/it/_4/wj/it_4wjuhc9m8api63gzolghcwlq.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In Erwartung der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Doom-Stunden</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> kam der Vorstand eines langj√§hrigen Projekts. </font><font style="vertical-align: inherit;">Der externe MCP23017 und CS4344 und viele andere Dinge sind auf der Platine geschieden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F√ºr Tasten wird der √ºber I2C angeschlossene MCP23017-Port-Expander verwendet. </font><font style="vertical-align: inherit;">F√ºr ihn gibt es einen Treiber, den Sie von </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UncleRus</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bekommen </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">k√∂nnen</font></a><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es wurde versucht, einen externen ADC CS4344 zu starten.</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Doom von Espressif</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem Doom den Port heruntergeladen hatte, musste er ein wenig basteln, um ihn zu sammeln. </font><font style="vertical-align: inherit;">Am Ende kam alles zusammen und flutete in ESP32, aber ... ich hatte am Anfang einen Absturz. </font><font style="vertical-align: inherit;">In der Githab-Ausgabe des Projekts sah ich eine √§hnliche Diskussion des Problems: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vy/cp/kj/vycpkjmc1qkwolkxdlxsvcutgqu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Autor des Hafens schlug vor, dies zu </font><font style="vertical-align: inherit;">tun</font></font><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sie m√ºssen wahrscheinlich die Option malloc () verwenden und Speicher f√ºr DMA reservieren. </font><font style="vertical-align: inherit;">Ich werde sehen, ob ich diese Kompilierung auf Master bekommen und die sdkconfig aktualisieren kann, wenn ich Zeit habe.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Im Allgemeinen habe ich ‚Äûohne nachzudenken‚Äú alle portierten Speicherzuweisungsfunktionen durch malloc () ersetzt. Die </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Demo wurde gestartet. </font><font style="vertical-align: inherit;">Vor mir verband ich Kn√∂pfe</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MCP23017 GPIO Extender</font></font></h3><br>
<img src="https://habrastorage.org/webt/a8/e0/zx/a8e0zxgbcoljjm4vgecqqft5pxm.png"><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MCP23017</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Mit gro√üen Pl√§nen zur Erweiterung der Funktionalit√§t √ºber die Controller-Ports habe ich beschlossen, durch die Installation von MCP23017 ein wenig an den Eingangs- / Ausgangsports des Mikrocontrollers selbst zu sparen. </font><font style="vertical-align: inherit;">Es ist ein einfacher Expander mit Zugriff auf Eingangs- / Ausgangssignale √ºber die I2C-Schnittstelle. </font><font style="vertical-align: inherit;">Ich habe den Treiber nicht erfunden, sondern ihn einfach von </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UncleRus √ºbernommen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F√ºnf Tasten verwenden den Joystick zum Navigieren. </font><font style="vertical-align: inherit;">Ein paar Tasten auf der Aufnahme und Men√ºauswahl. </font><font style="vertical-align: inherit;">In der Tat ist dies nicht genug, Sie m√ºssen immer noch die T√ºren √∂ffnen und sich nach links und rechts bewegen, ohne sich zu drehen, das hei√üt wie eine Krabbe. </font><font style="vertical-align: inherit;">Die Ergebnisse werden im MCP23017 auf VDD √ºbertragen. </font><font style="vertical-align: inherit;">Der Kontakt schlie√üt gegen Masse. </font><font style="vertical-align: inherit;">Es ist sehr cool, dass sich im Mikrokreis Pull-Up-Widerst√§nde befinden. </font><font style="vertical-align: inherit;">Man k√∂nnte immer noch mit Unterbrechungen vom MCP23017 verwechselt werden. </font><font style="vertical-align: inherit;">Es hat zwei Pins f√ºr jeden Port, INTA und INTB, aber irgendwie ein anderes Mal.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vollst√§ndige Liste der Teams</font></font></b>
                        <div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> JsKeyMap keymap[]={<font></font>
	{<span class="hljs-number">0x10</span>, &amp;key_up},<font></font>
	{<span class="hljs-number">0x40</span>, &amp;key_down},<font></font>
	{<span class="hljs-number">0x80</span>, &amp;key_left},<font></font>
	{<span class="hljs-number">0x20</span>, &amp;key_right},<font></font>
	<font></font>
	{<span class="hljs-number">0x4000</span>, &amp;key_use},				<span class="hljs-comment">//cross</span>
	{<span class="hljs-number">0x2000</span>, &amp;key_fire},			<span class="hljs-comment">//circle</span>
	{<span class="hljs-number">0x2000</span>, &amp;key_menu_enter},		<span class="hljs-comment">//circle</span>
	{<span class="hljs-number">0x8000</span>, &amp;key_pause},			<span class="hljs-comment">//square</span>
	{<span class="hljs-number">0x1000</span>, &amp;key_weapontoggle},	<span class="hljs-comment">//triangle</span><font></font>
<font></font>
	{<span class="hljs-number">0x8</span>, &amp;key_escape},				<span class="hljs-comment">//start</span>
	{<span class="hljs-number">0x1</span>, &amp;key_map},				<span class="hljs-comment">//select</span><font></font>
	<font></font>
	{<span class="hljs-number">0x400</span>, &amp;key_strafeleft},		<span class="hljs-comment">//L1</span>
	{<span class="hljs-number">0x100</span>, &amp;key_speed},			<span class="hljs-comment">//L2</span>
	{<span class="hljs-number">0x800</span>, &amp;key_straferight},		<span class="hljs-comment">//R1</span>
	{<span class="hljs-number">0x200</span>, &amp;key_strafe},			<span class="hljs-comment">//R2</span><font></font>
<font></font>
	{<span class="hljs-number">0</span>, <span class="hljs-literal">NULL</span>},<font></font>
};</code></pre><br>
</div>
                    </div><br>
 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> war einfacher, </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">die Tastenverarbeitung zu durchbrechen,</font></a><font style="vertical-align: inherit;"> als ich dachte. </font><font style="vertical-align: inherit;">Ich habe die Frequenz von I2C gesenkt, um die Stabilit√§t zu verbessern. </font><font style="vertical-align: inherit;">In jedem Fall ging das deklarierte 1MHz nicht. </font><font style="vertical-align: inherit;">Die Frequenz von 100 kHz reichte v√∂llig aus, um in einem Zyklus mit einer Verz√∂gerung von 20 ms abzufragen.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe viel Zeit beim Hinzuf√ºgen von CMakeList.txt f√ºr Komponenten verloren. </font><font style="vertical-align: inherit;">Mit make funktionierte etwas nicht. </font><font style="vertical-align: inherit;">Und ich wollte ein frischeres SDK nehmen. </font><font style="vertical-align: inherit;">Der urspr√ºngliche Port ging nicht einmal auf 3.2.x. </font><font style="vertical-align: inherit;">Hat esp-idf-v3.3.1 genommen, es wird wahrscheinlich auf esp-idf-4.0 funktionieren</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ton durch den DAC</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eigentlich gibt es noch eine </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gabel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Es verf√ºgt √ºber eine angeschlossene SD-CARD und Sound √ºber den eingebauten DAC. √úber den urspr√ºnglichen Port von Espressif k√∂nnen Sie eine Wad-Datei nur in den internen Flash-Speicher von Programmen laden. Anschlie√üend m√ºssen Sie eine Schnittdatei verwenden, in der kein Ton zu h√∂ren ist. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das Schema hier</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Die Idee, einen externen DAC anstelle des eingebauten DAC anzuschlie√üen, hat mich gefangen genommen. Zumindest der Penny von Cirrus Logic. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ni/wl/cw/niwlcwgsprqestpufw2qfwjousq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als n√§chstes habe ich den DAC auf CS4344 eingerichtet und war dann entt√§uscht. Der Ton arbeitete mit Unterbrechungen. Als ich die Datei </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">i_sound.c</font></a><font style="vertical-align: inherit;"> in meinem Projekt sah</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich habe festgestellt, dass eine dma.h-Datei nicht verwendet wird. Als ob es eine Verbindung zu ihm gibt und er selbst, aber alles wird kommentiert. Vielleicht habe ich unaufmerksam zugesehen? Aber ich denke, der Autor hat auch bemerkt, dass etwas mit dem Sound nicht stimmt und versucht, ihn zu beseitigen. M√∂glicherweise beseitigt und das letzte Commit nicht ver√∂ffentlicht. Oder vielleicht funktioniert alles so, wie es auf dem internen DAC sollte. Sie k√∂nnen jedoch Verzerrungsunterbrechungen vernachl√§ssigen, um Ton √ºber den eingebauten DAC und √ºber einen winzigen Lautsprecher auszugeben. Ich habe mit der Bitrate und der allgemeinen Code√§nderung herumgespielt. Es brachte nichts. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und ja, bez√ºglich des Anschlusses von SD-CARD. Anfangs habe ich es parallel zum Display am SPI-Bus aufgeh√§ngt und das CS-Chip-Auswahlsignal separat getrennt. Die Idee ist gescheitert. Durch L√ºften der Frage </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unterst√ºtzung der SD-SPI-Busfreigabe</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kam zu dem Schluss, dass nicht alle SD-Karten gleich sind oder meine H√§nde nicht so gerade sind. </font><font style="vertical-align: inherit;">Ich musste es durch den Adapter auf die Platine anstelle des Mikrofons entl√∂ten. </font><font style="vertical-align: inherit;">Es wurde ohne Klimmz√ºge durch externe Widerst√§nde gegen VDD aufgewickelt.</font></font><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Interne Widerst√§nde behandelt</font></font></b>
                        <div class="spoiler_text"><pre><code class="cpp hljs"><font></font>
    gpio_set_pull_mode(PIN_NUM_MOSI, GPIO_PULLUP_ONLY);<font></font>
    gpio_set_pull_mode(PIN_NUM_MISO, GPIO_PULLUP_ONLY);<font></font>
    gpio_set_pull_mode(PIN_NUM_CLK, GPIO_PULLUP_ONLY);<font></font>
    gpio_set_pull_mode(PIN_NUM_CS, GPIO_PULLUP_ONLY);</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Daraufhin habe ich diese Lektion beendet und den Quellcode auf </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gepostet </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es w√§re notwendig, eine weitere Ausgabe der Leiterplatte herzustellen. </font><font style="vertical-align: inherit;">Dieser ist nicht gut!</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/TFE2ri2Zgu4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Video enth√§lt keinen Ton. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und ich hatte auch einen Joystick-Kontakt zum Drehen, wenn ich gel√∂tet habe. </font><font style="vertical-align: inherit;">Im Allgemeinen ist der erste Pfannkuchen klumpig </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
UPD </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe es geschafft, einen Sound zu etablieren. </font><font style="vertical-align: inherit;">Idioten sind vorhanden, aber nicht kritisch. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Code√§nderungen </font><font style="vertical-align: inherit;">: </font><font style="vertical-align: inherit;">spi_lcd.c </font></font><br>
<code>dmamem[x]=heap_caps_malloc(MEM_PER_TRANS*2, MALLOC_CAP_DMA);</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
i_sound.c</font></font><br>
<code>void IRAM_ATTR updateTask(void *arg)<br>
{<br>
 // size_t bytesWritten;<br>
 while(1)<br>
 {<br>
 I_UpdateSound();<br>
 i2s_write(I2S_NUM_0, mixbuffer, SAMPLECOUNT*SAMPLESIZE, &amp;bytesWritten, portMAX_DELAY);<br>
 }<br>
}</code><br>
<br>
<code>.dma_buf_count = 2,<br>
 .dma_buf_len = 512,</code><br>
<br>
<code>xTaskCreatePinnedToCore(&amp;updateTask, "updateTask", 1000, NULL, 7, NULL, 0);</code></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de495690/index.html">Web Audio API-Konzepte</a></li>
<li><a href="../de495692/index.html">DIY und Open Source helfen √Ñrzten</a></li>
<li><a href="../de495694/index.html">Referenzdienst f√ºr mobile Anwendungen</a></li>
<li><a href="../de495696/index.html">Wie Prince of Persia Creator die Speicherbeschr√§nkungen von Apple II √ºberwindet</a></li>
<li><a href="../de495698/index.html">Client-Server-Architektur in Bildern</a></li>
<li><a href="../de495702/index.html">Wir untersuchen die Mediastreamer2 VoIP-Engine. Teil 1</a></li>
<li><a href="../de495704/index.html">√úberwachung von Netzwerkger√§ten √ºber SNMPv3 in Zabbix</a></li>
<li><a href="../de495706/index.html">Nachrichten aus der Welt von OpenStreetMap Nr. 505 (17.03.2020-23.03.2020)</a></li>
<li><a href="../de495708/index.html">Openconnect-Notfall-VPN-Server mit Zwei-Faktor-Berechtigung unter Centos 8</a></li>
<li><a href="../de495712/index.html">Wir setzen Entwicklungsziele (in einem blutigen Unternehmen und nicht nur)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>