<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>↗️ 👩🏿‍🤝‍👩🏻 🚣🏾 How to organize testing in order to accelerate and stabilize product releases. Part 2 👩🏾‍🎓 👨🏼‍🍳 🌷</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The tester has many opportunities to improve the quality of the product and make the team work more comfortable. The main thing is to discuss any chan...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>How to organize testing in order to accelerate and stabilize product releases. Part 2</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/X5RetailGroup/blog/502158/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The tester has many opportunities to improve the quality of the product and make the team work more comfortable. </font><font style="vertical-align: inherit;">The main thing is to discuss any changes with the team and implement only what is convenient and useful for everyone.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
My name is Victoria Dezhkina, I am responsible for testing a number of products in the Big Data Directorate of X5 Retail Group. </font><font style="vertical-align: inherit;">In the last part of the article, I began to talk about how we changed the processes in the product team "Automation system for procurement of a retail network." </font><font style="vertical-align: inherit;">Product releases were constantly delayed for several days and often came out raw. </font><font style="vertical-align: inherit;">We changed the order of the code layout and task planning, which allowed us to shorten the release cycle by several days, but we still had to work out the optimal format for setting and accepting tasks, establish test points in the release cycle and learn to prioritize problems for fixing defects.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/3k/yn/zj/3kynzjagj_n63l4afiucbevkv2c.jpeg"><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The format of the formulation and acceptance of tasks and defects</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The method of setting the task largely determines how quickly and correctly it will be completed. You can describe tasks in different ways, for example, using user stories that reflect the needs of the end user of the system. It sounds something like this: "the user wants to receive a report by pressing the green button." </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The disadvantage of this approach is that it does not explain what will be “under the hood” of this decision. User stories leave developers too much freedom, and sometimes it becomes a problem: the team begins to reinvent the wheel or saws something too laborious. And given that in conditions of rapid development there is almost never enough time for complete documentation, with this approach you get cryptic code that greatly complicates the integration of new developers into the product.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We discussed several design options for tasks and defects and settled on a “hybrid” approach: use case + technical subtasks. </font><font style="vertical-align: inherit;">The business customer writes the use case, that is, describes the options for using the new functionality, and the analyst with the tester, on the basis of this, are technically sub-tasks for developers. </font><font style="vertical-align: inherit;">In the description of the task in Jira, we add the use case from which it is made, or a test case that allows you to reproduce the error, while the name and description of the main task remains “human-readable”. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let’s see, for example, what’s inside the defect with the name “The user does not understand how the errors that occur when choosing a purchase rate” are handled. </font><font style="vertical-align: inherit;">The task description contains:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a case where you can reproduce the error;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">real and expected result;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">subtasks for the backend and frontend with clear instructions for developers to fix. </font><font style="vertical-align: inherit;">“Backend: for this API, give the appropriate answer to the frontend” + a matrix of options showing what answers should be in each of the possible situations. </font><font style="vertical-align: inherit;">"Frontend: for this API, depending on the response from the back, issue the corresponding error text" + matrix of options.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When the developer finishes his subtask, he simply closes it. </font><font style="vertical-align: inherit;">If all subtasks are closed, the defect is returned to retest. </font><font style="vertical-align: inherit;">If additional problems are detected, the corresponding subtask is created again. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The corresponding </font><b><font style="vertical-align: inherit;">rule for defect description is</font></b><font style="vertical-align: inherit;"> obtained </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font></b><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Create a task with a description of a functional problem, a case for reproducing the error, and a link to the history, during the verification of which a defect was found.</font></font></li>
<li>        .        :   ,     ,  API    ,        use case    .        ,     ,   API,   ,   , ,         ,   ,    .</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We also refused to form AC (acceptance criteria) on our product, since at the planning stage we discuss not only what we are developing and testing, but also how. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
What did it give? This approach allowed us at any time to understand what was wrong with the functionality on the part of the user, at what stage the work on the defect and, depending on the load on the back and front, prioritize the subtasks to the same defect in different ways. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As a result, even before the start of development, the whole team understands which part of each task will affect it personally, and at the end, each task contains information: how it was developed, how it was tested, whether there was documentation on it, and also what was corrected in it during the development process.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This approach is used only on our product, because it turned out to be the most convenient for us. Other products of the X5 Big Data Directorate use their own schemes: for example, User stories with AC. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It would seem that our option does not contribute at all to accelerate development, because it requires more steps to get started. But this is not so. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We organized the process so that testing was conducted in parallel with development. Thanks to this, the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">developer does not sit idle while the tester works out and localizes the task as much as possible.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plus, we always see which specific developer worked on the task, how it was implemented - this allows us to understand in the future which of the developers will cope faster with new similar problems. </font><font style="vertical-align: inherit;">The logic is simple: the less a developer does things that are not directly related to writing code, the better, and the most accurate localization of a defect allows deeper thinking of possible connections and problems caused by a particular error. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The question may also arise whether the rules that we have established in our product do not interfere with the formation of uniform testing and development standards in the department. </font><font style="vertical-align: inherit;">Actually not: the general rules of the department determine what the task should contain at a certain stage of development, and we comply with these requirements, we simply work out the task at earlier stages.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Test Moments</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We discussed for a long time the question of at what stage to conduct testing. At first there was an idea to check each individual task in the local branch, but with this approach it would be impossible to check how these tasks work together, and their conflicts would be revealed only at the stage of the assembled release, when it is too late to change anything. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Therefore, we agreed to test each task separately, but on one test bench. At first we wanted to roll out several tasks at once, but above I already told you what risks this idea carries. One at a time much faster. This is a known effect: reducing the number of parallel tasks does not slow down, but rather accelerates the process. In Kanban, for example, there is such a thing as a WIP limit (WIP is work in progress), which limits the number of tasks that can be solved simultaneously by each role.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As a result, we established </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">five points where testers are actively involved in the development process:</font></font></b><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">At the documentation stage. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We make sure that there are no problems that conflict with the logic of what has already been done; we fix the details of the implementation of each task.</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">At the stage of setting the problem. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We speak with the analyst all the possible cases related to the task and take them into account when forming the task</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">At the planning stage. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We talk about how the planned implementation can hook on the related functionality and what problems it can bring. </font><font style="vertical-align: inherit;">We coordinate with the product all critical defects and complement the sprint.</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In preparation for the release. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We iteratively check each task on a test bench, and on the day before the planned release we collect all the tasks together and check on one bench.</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">After the release. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We check how the release works on the prod.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
At the start, when we had releases every 2 weeks, the scheme of work looked like this: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pb/zk/bm/pbzkbmlkbmjakpej-nei0qw1xuu.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It has become (release once a week):</font></font><br>
<br>
<img src="https://habrastorage.org/webt/u-/lw/jx/u-lwjxh56mh1bgib2uwpzeyloaw.png"><br>
 <br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rules for interaction of the backend-testing-frontend connection</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When a lot of different data is sent between the backend and frontend in the API, it is not always clear why they are needed and how they interact. Because of this, malfunctions can occur at the front end. For example, the calculation number, demand cal, is transferred from the back. Nominally, this is one parameter, but eight more fields should be “attracted” to the backing to perform the calculation along with it. If you do not pass them along with the costing number, this operation will not be performed on the front end.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To avoid such situations, we began to describe the parameters passed, indicating them in the comments to the sub-task for developing the API in Jira, which explained what data the back and front will exchange. We tried to describe all the APIs in the Swagger framework, but with its help when automatically generating documentation, it was not possible to transfer the frontend, what exactly the backend will do with the passed parameters. Therefore, we agreed that if we are talking about a parameter that is not just written on the back, but uses other parameters, it is necessary to describe its purpose in the task.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We also began to control the designation of variables so that in the same API all fields were standardized. </font><font style="vertical-align: inherit;">Our product consists of microservices, and each can have its own field names. </font><font style="vertical-align: inherit;">In one field with the name of the supplier can be supplier, in another - supplierID, in the third name, etc. </font><font style="vertical-align: inherit;">When transferring this data to one component of the front-end, difficulties may begin, so we went through all the parameters and began to standardize all variable names. </font><font style="vertical-align: inherit;">To do this, we collected a summary table of all current designations, a table of all front components and the variables used by them (with which the front-end developer helped a lot) and compared them. </font><font style="vertical-align: inherit;">Now all new APIs get standard variable names, and old APIs are corrected when tasks arise for their completion.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Accelerate Defect Repair </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
At the stage of setting the task, the business customer determines the priorities - he knows best what and in what order is needed for the development of the product. But after rolling out to dev, when there are tasks to fix defects, the tester commits their priorities. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sometimes there is a need to urgently change the priorities of these tasks - for example, we find a minor defect in the back-end, without which the front-end team cannot start fixing.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Previously, in such situations, we immediately went to the developers and asked them to change the priority of the tasks, but this distracted them. </font><font style="vertical-align: inherit;">Therefore, we agreed that we will contact only at certain times - after the code freeze, up to 5 times a day. </font><font style="vertical-align: inherit;">What did it give? </font><font style="vertical-align: inherit;">We stopped reducing the productivity of developers by sudden calls, got rid of downtime, and increased the time for the analyst to work through the tasks. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Moreover, due to the fact that tasks no longer appear spontaneously for developers, we always know who has what kind of load, who used to work on a task and will be able to deal with it faster. </font><font style="vertical-align: inherit;">As a result, we understand much better whether we will manage to prepare the release on schedule or not. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
These measures, together with the unified logic of rolling out the code on dev, release and prod, allowed</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reduce the period of correction of defects from 3 days to 3-4 hours.</font></font></b> <br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">results</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Over the 9 months of the work of our procurement automation product, we managed to shorten the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">release cycle from 2.5 weeks to 1 week with the possibility of daily rolling out, significantly increasing the stability of releases. </font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
What changed:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We got rid of the need to correct defects after development, since we took this work to the stage of preparing tasks to the maximum.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reduced the period of correction of defects from 3 days to 3-4 hours. </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We got the opportunity to roll out releases "on command." </font><font style="vertical-align: inherit;">Now we can pack up any day, roll out the tasks, and by evening everything will be ready and debugged.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">They increased the transparency of processes for all participants in the process: now all developers and testers of the team understand what is happening at the moment, who are busy with what tasks, how much more time is needed to develop and fix errors, etc. </font></font></li>
</ol><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BONUS:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> it was possible to reduce the level of stress in the team (I hope), and thanks to the coordinated work of the team (thanks to the delivery), I could easily go to the remote :-) Implementing </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
these improvements, we adhered to several rules:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Testers and developers are in the same boat (repeat it like a mantra!), So the first thing a tester needs to do is get along with the team and find out what worries her most, enlist its support. </font><font style="vertical-align: inherit;">My allies and partners in the team were the distribution manager and developers.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">There is no ready-made ideal solution, and it needs to be sought. </font><font style="vertical-align: inherit;">The tester does not impose his rules on anyone, he adapts to the team and changes his approaches with it, while keeping in mind the image of a bright future and gently introducing measures to achieve it)).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Too severe restrictions and standardization are not a method. </font><font style="vertical-align: inherit;">If you overdo it, teams can lose flexibility.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The rules of interaction, which helped us accelerate the development of this product, cannot be transferred in a pure form to other products of the Directorate - they are arranged differently, and the needs of the developers there differ. </font><font style="vertical-align: inherit;">But the principle of creating these rules will be the same: establish the order of the calculation of the code, find the optimal points for testing, document the code and API. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In parallel with working inside the products, we are developing rules that are designed to facilitate the interaction between the products, and we will tell about this in the following materials. </font><font style="vertical-align: inherit;">So in the Big Data Directorate, a strategy for developing product quality is gradually being formed.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en502146/index.html">Online roundtable "I want to gamedev"</a></li>
<li><a href="../en502148/index.html">Using third-party components in storage using Qsan as an example</a></li>
<li><a href="../en502150/index.html">Scaling a high-load network with Nutanix: features and challenges with a personal case</a></li>
<li><a href="../en502154/index.html">Writing Autotests Effectively - Subcutaneous tests</a></li>
<li><a href="../en502156/index.html">Rambler v. NGINX Case: Criminal Risks of Digitalization Roundtable May 16</a></li>
<li><a href="../en502160/index.html">Custom mobile app development is inexpensive: reality or illusion</a></li>
<li><a href="../en502166/index.html">Ghosts Windows 3.1</a></li>
<li><a href="../en502176/index.html">Go: JSON deserialization with incorrect typing, or how to work around API developer errors</a></li>
<li><a href="../en502178/index.html">oVirt in 2 hours. Part 3. Advanced settings</a></li>
<li><a href="../en502180/index.html">The day the perimeter disappeared. Security Solutions from Microsoft and Partners</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>