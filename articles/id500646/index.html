<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèæ‚Äçüè≠ üé™ üêò Memasak bytecode di dapur JVM üëêüèº üåø üê™</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nama saya Alexander Kotsyuruba, saya memimpin pengembangan layanan internal di DomKlik. Banyak pengembang Java yang berpengalaman memahami struktur in...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Memasak bytecode di dapur JVM</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/domclick/blog/500646/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nama saya Alexander Kotsyuruba, saya memimpin pengembangan layanan internal di DomKlik. </font><font style="vertical-align: inherit;">Banyak pengembang Java yang berpengalaman memahami struktur internal JVM. </font><font style="vertical-align: inherit;">Untuk memfasilitasi perjalanan Java Samurai ini, saya memutuskan untuk meletakkan dasar-dasar Java Virtual Machine (JVM) dan bekerja dengan bytecode dalam bahasa yang sederhana. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apa itu bytecode misterius dan di mana ia tinggal? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya akan mencoba menjawab pertanyaan ini menggunakan contoh pengawetan.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/e7/qk/0e/e7qk0ed8rejsgfy30aaosw8yrya.jpeg" width="400" height="600"></div><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mengapa saya membutuhkan JVM dan bytecode?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JVM berasal dari slogan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Write Once Run Anywhere (WORA)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> di Sun Microsystems. </font><font style="vertical-align: inherit;">Tidak seperti </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Write Setelah Kompilasi Anywhere (WOCA) konsep</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , Wora menyiratkan mesin virtual untuk setiap OS yang mengeksekusi </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sekali-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> kode dikompilasi (bytecode).</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/h_/lz/xv/h_lzxvvnwtozocqxyybcwgkypu8.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Write Once Run Anywhere (WORA)</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/d-/ze/19/d-ze19v7ddfbstdjb8hyfuaq0s8.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Write Once Compile Anywhere (WOCA)</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
JVM dan bytecode adalah dasar dari konsep WORA dan menyelamatkan kita dari nuansa dan kebutuhan untuk mengkompilasi untuk setiap OS.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bytecode</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk memahami apa itu bytecode, mari kita lihat sebuah contoh. </font><font style="vertical-align: inherit;">Tentu saja, kode ini tidak melakukan sesuatu yang bermanfaat, itu hanya akan berfungsi untuk analisis lebih lanjut. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sumber:</font></font><br>
<br>
<pre><code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solenya</span></span>(<span class="hljs-keyword">val</span> jarForPickles: Any? = Any(), <span class="hljs-keyword">var</span> ingredientsCount: <span class="hljs-built_in">Int</span> = <span class="hljs-number">0</span>) {<font></font>
<font></font>
<font></font>
    <span class="hljs-comment">/**
     *   
     *  <span class="hljs-doctag">@param</span> ingredient -  
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">add</span><span class="hljs-params">(ingredient: <span class="hljs-type">Any</span>)</span></span> {<font></font>
        ingredientsCount = ingredientsCount.inc()<font></font>
        <span class="hljs-comment">//- </span><font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">/**
     *   
     *  <span class="hljs-doctag">@param</span> duration -   
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">warmUp</span><span class="hljs-params">(duration: <span class="hljs-type">Int</span>)</span></span> {
        <span class="hljs-keyword">for</span> (x <span class="hljs-keyword">in</span> <span class="hljs-number">1</span>..duration)<font></font>
            println(<span class="hljs-string">"Warming"</span>)<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">init</span> {
        <span class="hljs-comment">//   </span>
        <span class="hljs-keyword">val</span> jarForPickles = takeJarForPickles()
        <span class="hljs-comment">// </span>
        <span class="hljs-keyword">val</span> pickles = Any()
        <span class="hljs-comment">// </span>
        <span class="hljs-keyword">val</span> water = Any()<font></font>
<font></font>
        <span class="hljs-comment">//</span><font></font>
        add(pickles)<font></font>
        add(water)<font></font>
<font></font>
        <span class="hljs-comment">//</span>
        warmUp(<span class="hljs-number">10</span>)<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">/**
     *   
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">takeJarForPickles</span><span class="hljs-params">()</span></span>: Any = openLocker()<font></font>
<font></font>
    <span class="hljs-comment">/**
     *   
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">openLocker</span><span class="hljs-params">()</span></span>: Any = takeKeyForLocker()<font></font>
<font></font>
    <span class="hljs-comment">/**
     *     
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">takeKeyForLocker</span><span class="hljs-params">()</span></span>: Any = {}<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan menggunakan alat Intellij IDEA bawaan ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alat Bantu -&gt; Kotlin -&gt; Tampilkan Kotlin Bytecode</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) kami mendapatkan bytecode yang dibongkar (hanya sebagian yang diperlihatkan dalam contoh):</font></font><br>
<br>
<pre><code class="kotlin hljs">...<font></font>
   INVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/Object;)V<font></font>
   L5<font></font>
   L6<font></font>
    LINENUMBER <span class="hljs-number">12</span> L6<font></font>
    RETURN<font></font>
   L7<font></font>
    LOCALVARIABLE <span class="hljs-keyword">this</span> Lcom/company/Solenya; L0 L7 <span class="hljs-number">0</span>
    LOCALVARIABLE ingredient Ljava/lang/Object; L0 L7 <span class="hljs-number">1</span>
    LOCALVARIABLE $i$f$add I L1 L7 <span class="hljs-number">2</span>
    MAXSTACK = <span class="hljs-number">2</span>
    MAXLOCALS = <span class="hljs-number">5</span><font></font>
<font></font>
  <span class="hljs-comment">// access flags 0x11</span>
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> warmUp(I)V
    <span class="hljs-comment">// annotable parameter count: 1 (visible)</span>
    <span class="hljs-comment">// annotable parameter count: 1 (invisible)</span><font></font>
   L0<font></font>
    LINENUMBER <span class="hljs-number">19</span> L0<font></font>
    ICONST_1<font></font>
    ISTORE <span class="hljs-number">2</span><font></font>
...<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekilas - seperangkat instruksi yang tidak bisa dipahami. </font><font style="vertical-align: inherit;">Untuk memahami bagaimana dan dengan apa mereka bekerja, Anda perlu masuk ke dapur bagian dalam JVM.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JVM Kitchen</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita lihat memori runtime JVM:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/oa/jh/6q/oajh6quzgdfk5evb5waoetjmmtc.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kita dapat mengatakan bahwa JVM adalah dapur kita. </font><font style="vertical-align: inherit;">Selanjutnya, pertimbangkan peserta yang tersisa:</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Area metode - Cookbook</font></font></h4><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/is/m-/v2/ism-v2gh1keewv8lsjhoni3g-vg.jpeg" width="300" height="300"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Area Metode menyimpan kode yang dikompilasi untuk setiap fungsi. </font><font style="vertical-align: inherit;">Ketika utas mulai melakukan fungsi, secara umum, ia menerima instruksi dari area ini. </font><font style="vertical-align: inherit;">Bahkan, itu adalah buku resep kuliner yang merinci cara memasak semuanya dari telur orak hingga Catalan zarzuela.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thread 1..N - Cook Tim</font></font></h4><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/x7/8b/qs/x78bqsqikxzixqylllxflpjm3fi.jpeg" width="300" height="300"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Streaming dengan ketat mengikuti instruksi yang ditentukan oleh mereka (area metode), untuk ini mereka memiliki Daftar PC dan JVM Stack. </font><font style="vertical-align: inherit;">Anda dapat membandingkan setiap aliran dengan juru masak yang melakukan tugas yang diberikan kepadanya, persis mengikuti resep dari buku masak.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Daftar PC - Catatan Lapangan</font></font></h4><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/m1/tl/c2/m1tlc2rtzsubzyuebeigvvfotrm.png" width="300" height="300"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Program Counter Register - penghitung perintah dari aliran kami. </font><font style="vertical-align: inherit;">Ini menyimpan alamat instruksi yang dieksekusi. </font><font style="vertical-align: inherit;">Di dapur, ini akan menjadi beberapa catatan di halaman buku resep kita sekarang.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tumpukan JVM</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tumpukan bingkai. </font><font style="vertical-align: inherit;">Bingkai dialokasikan untuk setiap fungsi, di mana utas saat ini bekerja dengan variabel dan operan. </font><font style="vertical-align: inherit;">Sebagai bagian dari analogi dengan persiapan acar kami, ini bisa menjadi serangkaian operasi bersarang:</font></font><br>
<br>
<code>  -&gt;   -&gt;   -&gt;  ...</code><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bingkai - Desktop</font></font></h4><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ti/3k/fy/ti3kfyzgveqkh726jelzbedkpvk.jpeg" width="300" height="300"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bingkai bertindak sebagai desktop juru masak, di mana terletak papan pemotong dan wadah yang ditandatangani.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Variabel lokal - Wadah yang ditandatangani</font></font></h4><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/tl/as/rl/tlasrl-j3ocbkzd-irebk0usgsu.jpeg" width="300" height="300"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini adalah array variabel lokal (tabel variabel lokal), yang, sesuai namanya, menyimpan nilai, jenis, dan cakupan variabel lokal. </font><font style="vertical-align: inherit;">Ini mirip dengan wadah bertanda tangan, di mana Anda dapat menambahkan hasil sementara dari aktivitas profesional.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Operand tumpukan - talenan</font></font></h4><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ic/90/m1/ic90m1h3sbynrbt-2kfyuixn0je.jpeg" width="300" height="300"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Operand stack menyimpan argumen untuk instruksi JVM. </font><font style="vertical-align: inherit;">Misalnya, nilai integer untuk operasi penjumlahan, referensi ke objek tumpukan, dll </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
. Contoh terdekat yang dapat saya berikan adalah talenan di mana tomat dan mentimun berubah menjadi salad pada satu titik. </font><font style="vertical-align: inherit;">Tidak seperti variabel lokal, kami hanya menerapkan apa yang akan kami lakukan dengan instruksi selanjutnya.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Heap - Tabel Distribusi</font></font></h2><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/5o/gn/s5/5ogns5shcmsgcv8k5huixqrtw8q.jpeg" width="300" height="300"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebagai bagian dari bekerja dengan frame, kami beroperasi pada tautan ke objek, objek itu sendiri disimpan dalam tumpukan. </font><font style="vertical-align: inherit;">Perbedaan penting adalah bahwa bingkai hanya dimiliki oleh satu utas, dan variabel lokal "hidup" saat bingkai masih hidup (fungsi dijalankan). </font><font style="vertical-align: inherit;">Dan heap dapat diakses oleh aliran lain, dan hidup sampai pengumpul sampah dihidupkan. </font><font style="vertical-align: inherit;">Dengan analogi dengan dapur, kita bisa memberikan contoh dengan tabel distribusi, yang saja sudah umum. </font><font style="vertical-align: inherit;">Dan itu dibersihkan oleh tim pembersih yang terpisah.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dapur JVM. </font><font style="vertical-align: inherit;">Tampak dari dalam. </font><font style="vertical-align: inherit;">Bekerja dengan Frame</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita mulai dengan fungsinya </font></font><code>warmUp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="kotlin hljs">    <span class="hljs-comment">/**
     *   
     *  <span class="hljs-doctag">@param</span> duration -   
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">warmUp</span><span class="hljs-params">(duration: <span class="hljs-type">Int</span>)</span></span> {
        <span class="hljs-keyword">for</span> (x <span class="hljs-keyword">in</span> <span class="hljs-number">1</span>..duration)<font></font>
            println(<span class="hljs-string">"Warming..."</span>)<font></font>
    }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fungsi bytecode dibongkar:</font></font><br>
<br>
<pre><code class="kotlin hljs">  <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> warmUp(I)V
    <span class="hljs-comment">// annotable parameter count: 1 (visible)</span>
    <span class="hljs-comment">// annotable parameter count: 1 (invisible)</span><font></font>
   L0<font></font>
    LINENUMBER <span class="hljs-number">19</span> L0<font></font>
    ICONST_1<font></font>
    ISTORE <span class="hljs-number">2</span>
    ILOAD <span class="hljs-number">1</span>
    ISTORE <span class="hljs-number">3</span>
    ILOAD <span class="hljs-number">2</span>
    ILOAD <span class="hljs-number">3</span><font></font>
    IF_ICMPGT L1<font></font>
   L2<font></font>
    LINENUMBER <span class="hljs-number">20</span> L2<font></font>
    LDC <span class="hljs-string">"Warming..."</span>
    ASTORE <span class="hljs-number">4</span><font></font>
   L3<font></font>
    ICONST_0<font></font>
    ISTORE <span class="hljs-number">5</span><font></font>
   L4<font></font>
    GETSTATIC java/lang/System.<span class="hljs-keyword">out</span> : Ljava/io/PrintStream;<font></font>
    ALOAD <span class="hljs-number">4</span><font></font>
    INVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/Object;)V<font></font>
   L5<font></font>
   L6<font></font>
    LINENUMBER <span class="hljs-number">19</span> L6<font></font>
    ILOAD <span class="hljs-number">2</span>
    ILOAD <span class="hljs-number">3</span><font></font>
    IF_ICMPEQ L1<font></font>
    IINC <span class="hljs-number">2</span> <span class="hljs-number">1</span><font></font>
   L7<font></font>
    GOTO L2<font></font>
   L1<font></font>
    LINENUMBER <span class="hljs-number">21</span> L1<font></font>
    RETURN<font></font>
   L8<font></font>
    LOCALVARIABLE x I L2 L7 <span class="hljs-number">2</span>
    LOCALVARIABLE <span class="hljs-keyword">this</span> Lcom/company/Solenya; L0 L8 <span class="hljs-number">0</span>
    LOCALVARIABLE duration I L0 L8 <span class="hljs-number">1</span>
    MAXSTACK = <span class="hljs-number">2</span>
    MAXLOCALS = <span class="hljs-number">6</span>
</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Frame Inisialisasi - Persiapan Tempat Kerja</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk menjalankan fungsi ini, sebuah frame akan dibuat dalam aliran tumpukan JVM. </font><font style="vertical-align: inherit;">Biarkan saya mengingatkan Anda bahwa tumpukan terdiri dari array variabel lokal dan tumpukan operan.</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agar kita dapat memahami berapa banyak memori yang dialokasikan untuk frame ini, kompiler menyediakan meta-informasi tentang fungsi ini (penjelasan dalam komentar kode):</font></font><br>
<br>
<pre><code class="kotlin hljs">    MAXSTACK = <span class="hljs-number">2</span> <span class="hljs-comment">//    2*32bit</span>
    MAXLOCALS = <span class="hljs-number">6</span> <span class="hljs-comment">//    6*32bit</span>
</code></pre></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kami juga memiliki informasi tentang beberapa elemen array variabel lokal:</font></font><br>
<br>
<pre><code class="kotlin hljs">    LOCALVARIABLE x I L2 L7 <span class="hljs-number">2</span> <span class="hljs-comment">//  x  Int(I),      L2-L7   2</span>
    LOCALVARIABLE <span class="hljs-keyword">this</span> Lcom/company/Solenya; L0 L8 <span class="hljs-number">0</span>
    LOCALVARIABLE duration I L0 L8 <span class="hljs-number">1</span>
</code></pre></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Argumen fungsi ketika menginisialisasi frame jatuh ke dalam variabel lokal. </font><font style="vertical-align: inherit;">Dalam contoh ini, nilai durasi akan ditulis ke array dengan indeks 1.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, awalnya bingkai akan terlihat seperti ini:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/5v/9t/7j/5v9t7jckxf046dd8ov-6yuuvaoq.png"></div><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mulai jalankan instruksi</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk memahami cara kerja frame, cukup lengkapi diri Anda dengan daftar instruksi JVM ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">daftar instruksi bytecode Java</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) dan lewati labelnya </font></font><code>L0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="kotlin hljs">   L0<font></font>
    LINENUMBER <span class="hljs-number">19</span> L0 <span class="hljs-comment">//     </span><font></font>
    ICONST_1<font></font>
    ISTORE <span class="hljs-number">2</span>
    ILOAD <span class="hljs-number">1</span>
    ISTORE <span class="hljs-number">3</span>
    ILOAD <span class="hljs-number">2</span>
    ILOAD <span class="hljs-number">3</span><font></font>
    IF_ICMPGT L1<font></font>
</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ICONST_1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - add </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Int) di tumpukan operan: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ha/e_/vj/hae_vjnnoyi5goccte90gebvap8.png" width="68"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iStore 2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - nilai tarik (jenis Int) dari stack operan dan menulis ke variabel lokal dengan indeks 2: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ay/4p/oa/ay4poad-qt13zbsp15hbnxosou4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
dua operasi ini dapat diartikan di Jawa-kode: </font></font><code>int x = 1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ILOAD 1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - memuat nilai variabel lokal dengan indeks 1 di stack operan: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ut/1x/ul/ut1xulhulghlom_1l9yle_j4naq.png" width="69"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iStore 3</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - nilai tarik (jenis Int) dari stack operan dan menulis ke variabel lokal dengan indeks 3: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/oz/hd/gz/ozhdgzi8r53br6gk8dxbnp06owi.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
dua operasi ini dapat diartikan di Jawa-kode: </font></font><code>int var3 = duration</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ILOAD 2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - memuat nilai dari variabel lokal dengan indeks 2 di tumpukan operan. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ILOAD 3</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - memuat nilai dari variabel lokal dengan indeks 3 di tumpukan operan: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bt/sj/wj/btsjwjhugp0ett33ssfuaj5bjua.png" width="69"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IF_ICMPGT L1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- instruksi untuk membandingkan dua nilai integer dari stack. </font><font style="vertical-align: inherit;">Jika nilai "lebih rendah" lebih besar dari "atas", buka label </font></font><code>L1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Setelah menjalankan instruksi ini, tumpukan akan menjadi kosong. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inilah tampilan garis bytecode Java ini:</font></font><br>
<br>
<pre><code class="java hljs">      <span class="hljs-keyword">int</span> x = <span class="hljs-number">1</span>;
      <span class="hljs-keyword">int</span> var3 = duration;
      <span class="hljs-keyword">if</span> (x &gt; var3) {<font></font>
         ....L1...<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami mendekompilasi kode menggunakan Intellij IDEA di sepanjang </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kotlin -&gt;</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> path </font><i><font style="vertical-align: inherit;">Java</font></i><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="java hljs">   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">void</span> <span class="hljs-title">warmUp</span><span class="hljs-params">(<span class="hljs-keyword">int</span> duration)</span> </span>{
      <span class="hljs-keyword">int</span> x = <span class="hljs-number">1</span>;
      <span class="hljs-keyword">int</span> var3 = duration;
      <span class="hljs-keyword">if</span> (x &lt;= duration) {
         <span class="hljs-keyword">while</span>(<span class="hljs-keyword">true</span>) {<font></font>
            String var4 = <span class="hljs-string">"Warming"</span>;
            <span class="hljs-keyword">boolean</span> var5 = <span class="hljs-keyword">false</span>;<font></font>
            System.out.println(var4);<font></font>
            <span class="hljs-keyword">if</span> (x == var3) {
               <span class="hljs-keyword">break</span>;<font></font>
            }<font></font>
            ++x;<font></font>
         }<font></font>
      }<font></font>
   }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini Anda dapat melihat variabel yang tidak digunakan ( </font></font><code>var5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) dan tidak adanya panggilan fungsi </font></font><code>println()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Jangan khawatir, ini karena spesifikasi fungsi inline kompilasi ( </font></font><code>println()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) dan ekspresi lambda. </font><font style="vertical-align: inherit;">Praktis tidak ada overhead untuk pelaksanaan instruksi ini, apalagi, kode mati akan dihapus berkat JIT. </font><font style="vertical-align: inherit;">Ini adalah topik yang menarik, yang harus dikhususkan untuk artikel terpisah. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menggambar analogi dengan dapur, fungsi ini dapat digambarkan sebagai tugas juru masak untuk "merebus air selama 10 menit". </font><font style="vertical-align: inherit;">Selanjutnya, profesional kami di bidangnya:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">membuka buku resep (area metode);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menemukan instruksi tentang cara merebus air ( </font></font><code>warmUp()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menyiapkan tempat kerja, mengalokasikan hot plate (operan stack) dan wadah (variabel lokal) untuk penyimpanan sementara produk.</font></font></li>
</ol><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dapur JVM. </font><font style="vertical-align: inherit;">Tampak dari dalam. </font><font style="vertical-align: inherit;">Bekerja dengan Heap</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertimbangkan kodenya:</font></font><br>
<br>
<pre><code class="kotlin hljs"><span class="hljs-keyword">val</span> pickles = Any()</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bytecode dibongkar:</font></font><br>
<br>
<pre><code class="kotlin hljs">    NEW java/lang/Object<font></font>
    DUP<font></font>
    INVOKESPECIAL java/lang/Object.&lt;<span class="hljs-keyword">init</span>&gt; ()V<font></font>
    ASTORE <span class="hljs-number">3</span>
</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Java / lang / Object BARU</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - alokasi memori untuk objek kelas </font></font><code>Object</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dari heap. </font><font style="vertical-align: inherit;">Objek itu sendiri tidak akan ditempatkan di tumpukan, tetapi tautan ke sana di tumpukan:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/5l/gg/p9/5lggp9fqms9rmhrvvgj5wzsn0s4.png"></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DUP</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - duplikasi elemen "atas" dari tumpukan. </font><font style="vertical-align: inherit;">Satu tautan diperlukan untuk menginisialisasi objek, yang kedua untuk menyimpannya dalam variabel lokal:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ow/2u/fl/ow2uflabd3qw5iurha9jmltfvta.png"></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">INVOKESPECIAL java / lang / Object. &lt;init&gt; () V</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - inisialisasi objek dari kelas yang sesuai ( </font></font><code>Object</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) dengan tautan dari stack:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/3x/hm/h6/3xhmh6bsf0sgryvuxlujw7ve-we.png"></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ASTORE 3</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adalah langkah terakhir, menyimpan referensi ke objek dalam variabel lokal dengan indeks 3. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menggambar analogi dengan dapur, saya akan membandingkan penciptaan objek kelas dengan memasak di atas meja bersama (heap). </font><font style="vertical-align: inherit;">Untuk melakukan ini, Anda perlu mengalokasikan ruang yang cukup untuk diri Anda sendiri pada tabel distribusi, kembali ke tempat kerja dan melemparkan catatan dengan alamat (referensi) dalam wadah yang sesuai (variabel lokal). </font><font style="vertical-align: inherit;">Dan hanya setelah itu mulai membuat objek kelas.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dapur JVM. </font><font style="vertical-align: inherit;">Tampak dari dalam. </font><font style="vertical-align: inherit;">Multithreading</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang perhatikan contoh ini:</font></font><br>
<br>
<pre><code class="kotlin hljs">    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">add</span><span class="hljs-params">(ingredient: <span class="hljs-type">Any</span>)</span></span> {<font></font>
        ingredientsCount = ingredientsCount.inc()<font></font>
        <span class="hljs-comment">//- </span><font></font>
    }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini adalah contoh klasik dari masalah threading. </font><font style="vertical-align: inherit;">Kami memiliki jumlah bahan </font></font><code>ingredientsCount</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Fungsi </font></font><code>add</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, selain menambahkan bahan, melakukan penambahan </font></font><code>ingredientsCount</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bytecode yang dibongkar terlihat seperti ini:</font></font><br>
<br>
<pre><code class="kotlin hljs">    ALOAD <span class="hljs-number">0</span>
    ALOAD <span class="hljs-number">0</span><font></font>
    GETFIELD com/company/Solenya.ingredientsCount : I<font></font>
    ICONST_1<font></font>
    IADD<font></font>
    PUTFIELD com/company/Solenya.ingredientsCount : I<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Status tumpukan operan kami sebagai instruksi yang dijalankan:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/os/ng/c9/osngc9s9nkrgoo8dmx3foigyej8.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saat bekerja dalam satu utas, semuanya akan dieksekusi dengan benar. </font><font style="vertical-align: inherit;">Jika ada beberapa utas, maka masalah berikut mungkin terjadi. </font><font style="vertical-align: inherit;">Bayangkan bahwa kedua utas secara bersamaan mendapatkan nilai bidang </font></font><code>ingredientsCount</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan menulisnya ke tumpukan. </font><font style="vertical-align: inherit;">Maka keadaan tumpukan operan dan bidang </font></font><code>ingredientsCount</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mungkin terlihat seperti ini:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ne/oe/wh/neoewhd9o_qmry48pv9mqv6hrt4.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fungsi dieksekusi dua kali (sekali oleh setiap utas) dan nilainya </font></font><code>ingredientsCount</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">harus sama dengan 2. Namun pada kenyataannya, salah satu utas bekerja dengan nilai yang kedaluwarsa </font></font><code>ingredientsCount</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, dan oleh karena itu hasil aktualnya adalah 1 (masalah Pembaruan Hilang). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Situasinya mirip dengan pekerjaan paralel dari tim koki yang menambahkan rempah-rempah ke hidangan. </font><font style="vertical-align: inherit;">Membayangkan:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ada tabel distribusi tempat piring (Heap) berada.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ada dua koki di dapur (Thread * 2).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Setiap juru masak memiliki meja potong sendiri, di mana mereka menyiapkan campuran rempah-rempah (JVM Stack * 2).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tugas: tambahkan dua porsi bumbu ke piring.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Di atas meja distribusi terdapat selembar kertas yang mereka baca dan di mana mereka menulis bagian mana yang ditambahkan ( </font></font><code>ingredientsCount</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). </font><font style="vertical-align: inherit;">Dan untuk menyimpan rempah-rempah:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sebelum memulai persiapan rempah-rempah, juru masak harus membaca di selembar kertas bahwa jumlah rempah yang ditambahkan tidak cukup; </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">setelah menambahkan rempah-rempah, juru masak dapat menulis berapa banyak, menurut pendapatnya, rempah-rempah ditambahkan ke piring.</font></font></li>
</ul> </li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam kondisi seperti itu, sebuah situasi dapat muncul:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Masak # 1 membaca bahwa 3 porsi bumbu ditambahkan.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Masak # 2 membaca bahwa 3 porsi bumbu ditambahkan.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Keduanya pergi ke meja masing-masing dan menyiapkan campuran rempah-rempah.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kedua koki menambahkan rempah-rempah (3 + 2) ke piring.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cook # 1 menulis bahwa 4 porsi bumbu telah ditambahkan.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cook # 2 menulis bahwa 4 porsi bumbu telah ditambahkan.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Intinya: produknya hilang, hidangannya pedas, dll. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk menghindari situasi seperti itu, ada berbagai alat seperti kunci, fungsi pengaman benang, dll.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Untuk meringkas</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sangat jarang bagi pengembang untuk perlu merangkak ke bytecode, kecuali ini khusus untuk pekerjaannya. </font><font style="vertical-align: inherit;">Pada saat yang sama, memahami karya bytecode membantu untuk lebih memahami multithreading dan keuntungan dari bahasa tertentu, dan juga membantu untuk tumbuh secara profesional. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perlu dicatat bahwa ini jauh dari semua bagian JVM. </font><font style="vertical-align: inherit;">Ada banyak "hal" yang lebih menarik, misalnya, kumpulan konstan, bytecode verifier, JIT, cache kode, dll. </font><font style="vertical-align: inherit;">Tetapi agar tidak membebani artikel itu, saya hanya fokus pada elemen-elemen yang diperlukan untuk pemahaman bersama. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tautan yang bermanfaat:</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Daftar instruksi JVM</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="> JVM</a>.</li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id500632/index.html">Membangun penjaga dan ketergantungannya dalam rpm. Menginstal penjaga dari rpm, pengaturan dasar. Koneksi LDAP</a></li>
<li><a href="../id500638/index.html">Kapal berawak Cina yang baru menjanjikan. Sejarah dan perannya dalam lomba bulan modern</a></li>
<li><a href="../id500640/index.html">Cara membuat perusahaan outsourcing yang sukses</a></li>
<li><a href="../id500642/index.html">Igrostroy: ambang batas untuk memasuki industri, spesialisasi dan kemungkinan pendapatan</a></li>
<li><a href="../id500644/index.html">Random Coffee Habr Edition - jaringan untuk komunitas IT</a></li>
<li><a href="../id500648/index.html">Apa model arsitektur kematangan perusahaan?</a></li>
<li><a href="../id500654/index.html">WebRTC di Android: cara mengaktifkan penyandian perangkat keras pada banyak perangkat</a></li>
<li><a href="../id500656/index.html">Pencatatan hierarki aplikasi ke basis data</a></li>
<li><a href="../id500660/index.html">Sejarah pengembangan "awan" yang disederhanakan dan sangat singkat</a></li>
<li><a href="../id500666/index.html">Sertifikasi online Microsoft - Anda, ruang Anda, dan komputer Anda</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>