<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙎🏻 👩🏼‍🏭 👩🏿‍⚖️ TodoMVCはdapで書いています。パート2 🧚🏿 👊🏻 🌅</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="これは、チュートリアルの最後、パート2で、最小限のリアクティブjapフレームワークdapを使用してTodoMVCクライアントを記述します。最初の部分の
 
 概要：サーバーからTo-doリストをJSON形式で受け取り、そこからHTMLリストを作成し、各ケースの名前と完了のサインを編集する機能を追加し...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>TodoMVCはdapで書いています。パート2</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/481680/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これは、チュートリアルの最後、パート2で、最小限のリアクティブ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jap</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フレームワークdapを使用してTodoMVCクライアントを記述します</font><font style="vertical-align: inherit;">。</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">最初の部分の</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
概要</font><font style="vertical-align: inherit;">：サーバーからTo-doリストをJSON形式で受け取り、そこからHTMLリストを作成し、各ケースの名前と完了のサインを編集する機能を追加し、これらの編集に関するサーバー通知を実装しました。</font><font style="vertical-align: inherit;">
任意のケースの削除、新しいケースの追加、一括インストール/リセット、および完了に基づくケースのフィルタリングと、完了したすべてのケースを削除する機能は実現されません。これが私たちがすることです。この記事で取り上げるクライアントの最終バージョンは、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">こちら</font></a><font style="vertical-align: inherit;">で確認でき</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br>
<a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
前回解決したオプションは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で更新でき</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これが彼のコードです：</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-string">'#todoapp'</span>.d(<span class="hljs-string">""</span>
  ,<span class="hljs-string">'#header'</span>.d(<span class="hljs-string">""</span>
    ,<span class="hljs-string">'H1'</span>.d(<span class="hljs-string">""</span>)<font></font>
    ,<span class="hljs-string">'INPUT#new-todo placeholder="What needs to be done?" autofocus'</span>.d(<span class="hljs-string">""</span>)<font></font>
  )<font></font>
  ,<span class="hljs-string">'#main'</span>.d(<span class="hljs-string">""</span>
    ,<span class="hljs-string">'#toggle-all type=checkbox'</span>.d(<span class="hljs-string">""</span>)<font></font>
    ,<span class="hljs-string">'UL#todo-list'</span>.d(<span class="hljs-string">"*@ todos:query"</span>
      ,<span class="hljs-string">'LI'</span>.d(<span class="hljs-string">"$completed=.completed $editing= $patch=; a!"</span><font></font>
<font></font>
        ,<span class="hljs-string">'INPUT.toggle type=checkbox'</span>
          .d(<span class="hljs-string">"#.checked=.completed"</span>)<font></font>
          .ui(<span class="hljs-string">"$patch=($completed=#.checked)"</span>)<font></font>
<font></font>
        ,<span class="hljs-string">'LABEL.view'</span>
          .d(<span class="hljs-string">"? $editing:!; ! .title"</span>)<font></font>
          .e(<span class="hljs-string">"dblclick"</span>,<span class="hljs-string">"$editing=`yes"</span>)<font></font>
<font></font>
        ,<span class="hljs-string">'INPUT.edit'</span>
          .d(<span class="hljs-string">"? $editing; !! .title@value"</span>)<font></font>
          .ui(<span class="hljs-string">"$patch=(.title=#.value)"</span>)<font></font>
          .e(<span class="hljs-string">"blur"</span>,<span class="hljs-string">"$editing="</span>)<font></font>
<font></font>
        ,<span class="hljs-string">'BUTTON.destroy'</span>.d(<span class="hljs-string">""</span>)<font></font>
      )<font></font>
      .a(<span class="hljs-string">"!? $completed $editing"</span>)<font></font>
      .u(<span class="hljs-string">"? $patch; (@method`PATCH .url:dehttp headers $patch@):query $patch="</span>)<font></font>
    )<font></font>
  )<font></font>
  ,<span class="hljs-string">'#footer'</span>.d(<span class="hljs-string">""</span>
    ,<span class="hljs-string">'#todo-count'</span>.d(<span class="hljs-string">""</span>)<font></font>
    ,<span class="hljs-string">'UL#filters'</span>.d(<span class="hljs-string">""</span>
      ,<span class="hljs-string">'LI'</span>.d(<span class="hljs-string">""</span>)<font></font>
    )<font></font>
    ,<span class="hljs-string">'#clear-completed'</span>.d(<span class="hljs-string">""</span>)<font></font>
  )<font></font>
)<font></font>
.DICT({<font></font>
  <span class="hljs-attr">todos</span>  : <span class="hljs-string">"//todo-backend-express.herokuapp.com/"</span>,
  <span class="hljs-attr">headers</span>: {<span class="hljs-string">"Content-type"</span>:<span class="hljs-string">"application/json"</span>}<font></font>
})<font></font>
.FUNC({<font></font>
  <span class="hljs-attr">convert</span>:{
    <span class="hljs-attr">dehttp</span>: <span class="hljs-function"><span class="hljs-params">url</span>=&gt;</span>url.replace(<span class="hljs-regexp">/^https?\:/</span>,<span class="hljs-string">''</span>)<font></font>
  }<font></font>
})<font></font>
.RENDER()<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
現在は50行しかありませんが、記事の終わりまでに2倍、つまり100になります。サーバーへのHTTPリクエストは多数あるため、開発者ツールを開いてください（覚えているように、ChromeではCtrl + Shift + I）-ありますまず第一に、[ネットワーク]タブは興味深いものであり、2つ目はコンソールです。</font><font style="vertical-align: inherit;">また、ページの各バージョンのコードを確認することを忘れないでください-ChromeではCtrl + Uです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで、少し余談があります。</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">最初の部分を</font></a><font style="vertical-align: inherit;">読んでいない場合</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">チュートリアル、私はまだそれから始めることをお勧めします。</font><font style="vertical-align: inherit;">読んでも何もわからない場合は、もう一度読むことをお勧めします。</font><font style="vertical-align: inherit;">私の以前の2つの記事へのコメントが示すように、dapの構文と原理は、準備ができていない読者によってすぐに理解されるとは限りません。</font><font style="vertical-align: inherit;">別の記事は、siに似ていない構文の外観に不快な人には読むことをお勧めしません。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wj/-n/br/wj-nbrh5eflirkcich69glgnooo.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
チュートリアルのこの2番目の部分は、最初の部分よりも少し複雑で興味深いものになります。</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[TODO：尋ねる</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">トークン</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インターネットで生徒の脳が爆発する写真を見つけてください]</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
あなたの許可を得て、パート1の章に番号を付けていきます。</font><font style="vertical-align: inherit;">そこで7に数えました。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.状態変数のto-doリストを作成する</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リストからケースを削除するためのボタンがあります</font></font><code>BUTTON.destroy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">削除は、サーバーにDELETEリクエストを送信し、実際に目から見えないところにある</font></font><code>UL#todo-list &gt; LI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべてのコンテンツを含む</font><font style="vertical-align: inherit;">対応する要素</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">削除すること</font><font style="vertical-align: inherit;">です。</font><font style="vertical-align: inherit;">DELETEリクエストを送信すると、すべてが明確になります。</font></font><br>
<br>
<pre><code class="javascript hljs">        ,<span class="hljs-string">'BUTTON.destroy'</span>.ui(<span class="hljs-string">"(@method`DELETE .url:dehttp):query"</span>)
</code></pre><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、画面から要素を削除すると、オプションが可能になります。</font><font style="vertical-align: inherit;">たとえば</font></font><code>$deleted</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font><font style="vertical-align: inherit;">別の状態変数を導入して</font><font style="vertical-align: inherit;">、CSSクラスを含むCSSで要素を非表示にする</font><font style="vertical-align: inherit;">ことができます</font></font><code>deleted</code><br>
<br>
<pre><code class="javascript hljs">     ,<span class="hljs-string">'LI'</span>.d(<span class="hljs-string">"$completed=.completed $editing= $patch= $deleted=; a!"</span>
        <span class="hljs-comment">//  $deleted   ""</span><font></font>
        ...<font></font>
        ,<span class="hljs-string">'BUTTON.destroy'</span>.d(<span class="hljs-string">"(@method`DELETE .url:dehttp):query $deleted=`yes"</span>)
          <span class="hljs-comment">//  $deleted -    </span><font></font>
      )<font></font>
      .a(<span class="hljs-string">"!? $completed $editing $deleted"</span>) <span class="hljs-comment">//   CSS  .deleted{display:none}</span>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、それはうまくいくでしょう。しかし、それは不正行為でしょう。さらに、ラインのさらに下には、アクティブなケースと完了したケースのフィルターとカウンターがあります（の内容</font></font><code>#footer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。したがって、オブジェクトをto-doリストから正直に「物理的に」すぐに削除することをお勧めします。つまり、最初にサーバーから受け取った配列自体を変更する機能が必要です。つまり、この配列も状態変数になる必要があります。彼女に電話しましょう</font></font><code>$todos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">この変数にアクセスするすべての要素の共通の祖先を選択するために必要な</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
変数のスコープ</font></font><code>$todos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。そして、それにアクセス</font></font><code>INPUT#new-todo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">し</font></font><code>#header</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font><font style="vertical-align: inherit;">そして</font></font><code>#footer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">実際には</font><font style="vertical-align: inherit;">カウンターに</font><font style="vertical-align: inherit;">アクセスします</font></font><code>UL#todo-list</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。それらすべての共通の祖先-これはルートテンプレート要素</font></font><code>#todoapp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。したがって、そのdルールで変数を定義します</font></font><code>$todos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">同じ場所で、サーバーからデータをすぐにアップロードします。</font><font style="vertical-align: inherit;">そして</font></font><code>UL#todo-list</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">今度はそれから</font><font style="vertical-align: inherit;">リスト</font><font style="vertical-align: inherit;">も</font><font style="vertical-align: inherit;">作成します</font><font style="vertical-align: inherit;">：</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-string">'#todoapp'</span>.d(<span class="hljs-string">"$todos=todos:query"</span> <span class="hljs-comment">//   $todos     </span><font></font>
      ...<font></font>
    ,<span class="hljs-string">'UL#todo-list'</span>.d(<span class="hljs-string">"*@ $todos"</span> <span class="hljs-comment">//     $todos	</span>
</code></pre><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重要。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テスト中に突然to-doリストが読み込まれない場合-誰かがそれらをすべて削除した可能性があります（これはパブリックサーバーであり、そこで何が発生する可能性もあります）。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この場合は、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フル機能の例に移動</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">して、いくつかのケースを作成して実験してください。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">見ます</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">ここで</font><font style="vertical-align: inherit;">要素dルール</font><font style="vertical-align: inherit;">で</font></font><code>$todos</code> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">宣言さ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">れ、</font></font><code>#todoapp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すぐに</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">初期化されます</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必要なデータ。すべてが機能しているようですが、1つの不快な機能が現れています。サーバーがリクエストに長時間応答する場合（Chromeではこの状況をシミュレートできます。開発者ツールの[ネットワーク]タブで、低速ネットワークをシミュレートするためにさまざまなモードを選択できます）、リクエストが完了するまで、新しいバージョンのアプリケーションは少し悲しげに見えます-いくつかのCSSしかありませんアーティファクト。このような写真は、ユーザーに熱意を与えるものではありません。以前のバージョンではこの問題はありませんでしたが、ページでデータが受信されるまで、リスト自体は存在しませんでしたが、他の要素はデータを待たずにすぐに表示されました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
つまりね。ご存じのとおり、コンバーター</font></font><code>:query</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-非同期。</font><font style="vertical-align: inherit;">この非同期性は、要求が完了するまで現在のルールの実行のみがブロックされる、つまり実際には要求されたデータ（論理）を必要とする要素の生成のみがブロックされるという事実で表されます。</font><font style="vertical-align: inherit;">他の要素の生成はブロックされません。</font><font style="vertical-align: inherit;">サーバーにアクセスするときしたがって、</font></font><code>UL#todo-list</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">それだけではなく、ブロックされた</font></font><code>#header</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">とない</font></font><code>#footer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すぐに描かれました、。</font><font style="vertical-align: inherit;">これでリクエストは完了</font></font><code>#todoapp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9.データ読み込みの遅延</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
状況を修正し、関係のない要素がブロックされないようにするために、すべてが描画されるまで、データの初期ロードを延期します。</font><font style="vertical-align: inherit;">これを行うために、</font></font><code>$todos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データ</font><font style="vertical-align: inherit;">を変数</font><font style="vertical-align: inherit;">に</font><font style="vertical-align: inherit;">すぐにロードするのではなく</font><font style="vertical-align: inherit;">、まず「nothing」で単に初期化します。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-string">'#todoapp'</span>.d(<span class="hljs-string">"$todos="</span> <span class="hljs-comment">//   $todos    ""</span>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そのため、彼女は何もブロックせず、テンプレート全体が機能します。現時点では空の「to-doリスト」を使用します。しかし、今では、退屈な初期画面で</font><font style="vertical-align: inherit;">、to-doリストをロード</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">する</font></font></i> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ことで安全に</font><i><font style="vertical-align: inherit;">変更</font></i><font style="vertical-align: inherit;">できます</font></font><code>$todos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。これを行うには、</font></font><code>#todoapp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この子孫</font><font style="vertical-align: inherit;">に追加し</font><font style="vertical-align: inherit;">ます</font></font><br>
<br>
<pre><code class="javascript hljs">  ,<span class="hljs-string">'loader'</span>
    .u(<span class="hljs-string">"$todos=todos:query"</span>) <span class="hljs-comment">//  $todos,      </span>
    .d(<span class="hljs-string">"u"</span>) <span class="hljs-comment">//   (u-)   </span>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この要素には、拒否したブロックルールとまったく同じように見えるuルールがありますが、基本的な違いが1つあります。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私は（からD-ルールということを思い出してみましょう</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ダウン</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）テンプレートが上からに構築されたときに実行される要素の生成規則である</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の親から子孫に、。 u-rules（from </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">up</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）は</font><font style="vertical-align: inherit;">、子から親へと</font><font style="vertical-align: inherit;">下から</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">へポップアップするイベントに応答して実行される反応ルールです</font><font style="vertical-align: inherit;">。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d-rule</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で</font><font style="vertical-align: inherit;">変数に何か（「nothing」を含む）が割り当てられている場合</font><font style="vertical-align: inherit;">、それはその</font><i><font style="vertical-align: inherit;">宣言と初期化を</font></i><font style="vertical-align: inherit;">意味し</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この要素とその子孫のスコープ（ネストされたスコープは、JSのようにdapで実装されます）。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アップルールでの</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">割り当て</font><b><font style="vertical-align: inherit;">は</font></b><font style="vertical-align: inherit;">、スコープ内で以前に宣言され</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">た</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">変数の</font><i><font style="vertical-align: inherit;">変更を</font></i><font style="vertical-align: inherit;">意味</font><font style="vertical-align: inherit;">します。 dルールでの変数の宣言と初期化により、親は子孫に構築に必要な情報を渡すことができ、変更により親はこの情報への更新を渡すことができるため、それに依存するすべての要素の適切な再構築を開始できます。</font><font style="vertical-align: inherit;">uルールの</font><font style="vertical-align: inherit;">子孫</font><font style="vertical-align: inherit;">である</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
要素</font><b><font style="vertical-align: inherit;">が</font></b><font style="vertical-align: inherit;">変数を</font><b><font style="vertical-align: inherit;">変更し</font></b><font style="vertical-align: inherit;">ます</font></font><code>loader</code><font style="vertical-align: inherit;"></font><code>#todoapp</code><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><code>$todos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、サーバーからサーバーにデータをロードすると、この変数のすべてのコンシューマ要素が自動的に再生成されます（重要なのはそれらのみです！）。</font><font style="vertical-align: inherit;">変数のコンシューマーは、dルールがこの変数を右辺値として含む要素です。</font><font style="vertical-align: inherit;">構築時に（スコープを考慮して）この変数</font><font style="vertical-align: inherit;">を</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">読んだ人</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">これで</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
変数コンシューマ</font></font><code>$todos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が1つあり</font><font style="vertical-align: inherit;">ます。</font></font><code>UL#todo-list</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">それに応じて、データのロード後に</font><font style="vertical-align: inherit;">コンシューマ</font><font style="vertical-align: inherit;">が再構築されます。</font></font><br>
<br>
<pre><code class="javascript hljs">    ,<span class="hljs-string">'UL#todo-list'</span>.d(<span class="hljs-string">"*@ $todos"</span> <span class="hljs-comment">//  ,   $todos	</span>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
だから、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">今、</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私たちは、to-doリストは、中の状態変数である必要があり</font></font><code>#todoapp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、テンプレートの最初のレンダリングをブロックしていないながら、。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.タスクの削除と追加</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これ</font></font><code>$todos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">であらゆる方法で変更</font><font style="vertical-align: inherit;">でき</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">アイテムを削除することから始めましょう。</font><font style="vertical-align: inherit;">私たちはすでに十字ボタンを持っています</font></font><code>BUTTON.destroy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、これは今のところサーバーの削除リクエストを送信するだけです</font></font><br>
<br>
<pre><code class="javascript hljs">        ,<span class="hljs-string">'BUTTON.destroy'</span>.ui(<span class="hljs-string">"(@method`DELETE .url:dehttp):query"</span>)
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
対応するオブジェクトも変数から削除されていることを確認する必要があります。</font></font><code>$todos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これは変更になるため、</font></font><code>UL#todo-list</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この変数のコンシューマーは自動的に再構築されますが、削除された要素はありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dap自体は、データを操作するための特別な手段を提供しません。</font><font style="vertical-align: inherit;">操作はJSの関数で完全に記述でき、DAPルールはデータをそれらに送信して結果を取得するだけです。</font><font style="vertical-align: inherit;">JS関数を記述して、オブジェクトの数を知らずに配列からオブジェクトを削除します。</font><font style="vertical-align: inherit;">たとえば、これ：</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> remove = <span class="hljs-function">(<span class="hljs-params">arr,tgt</span>)=&gt;</span> arr.filter( <span class="hljs-function"><span class="hljs-params">obj</span> =&gt;</span> obj!=tgt );
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
あなたはおそらくもっと効果的なものを書くことができますが、それは今のところそれについてではありません。</font><font style="vertical-align: inherit;">私たちのアプリケーションが何百万ものアイテムのto-doリストを処理する必要があるとは考えられません。</font><font style="vertical-align: inherit;">重要なことは、関数が新しい配列オブジェクトを返すことであり、要素をその要素から削除するだけではありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この関数をDAPルールからアクセスできるようにするには、セクションに追加する必要がありますが</font></font><code>.FUNC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、その前に、どのように呼び出すかを決定します。</font><font style="vertical-align: inherit;">この場合の最も簡単なオプションは、おそらく、オブジェクトを受け取り、</font></font><code>{ todos, tgt }</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フィルタリングされた配列を返す</font><font style="vertical-align: inherit;">コンバーターから呼び出すことです。</font></font><br>
<br>
<pre><code class="javascript hljs">.FUNC({
  <span class="hljs-attr">convert</span>:{
    <span class="hljs-attr">dehttp</span>: <span class="hljs-function"><span class="hljs-params">url</span> =&gt;</span> url.replace(<span class="hljs-regexp">/^https?\:/</span>,<span class="hljs-string">''</span>), <span class="hljs-comment">//       </span>
    <span class="hljs-attr">remove</span>: <span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> remove(x.todos,x.tgt) <span class="hljs-comment">//    </span><font></font>
  }<font></font>
})<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、この関数を直接内部で定義することを妨げるものは何もありません</font></font><code>.FUNC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><code>.FUNC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これは実際には通常のJSメソッドであり、その引数は通常のJSオブジェクトであると</font><font style="vertical-align: inherit;">既に述べました</font><font style="vertical-align: inherit;">）。</font></font><br>
<br>
<pre><code class="javascript hljs">.FUNC({
  <span class="hljs-attr">convert</span>:{
    <span class="hljs-attr">dehttp</span>: <span class="hljs-function"><span class="hljs-params">url</span> =&gt;</span> url.replace(<span class="hljs-regexp">/^https?\:/</span>,<span class="hljs-string">''</span>),
    <span class="hljs-attr">remove</span>: <span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x.todos.filter( <span class="hljs-function"><span class="hljs-params">todo</span> =&gt;</span> todo!=x.tgt )<font></font>
  }<font></font>
})<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、dapルールからこのコンバーターにアクセスできます</font></font><br>
<br>
<pre><code class="javascript hljs">        ,<span class="hljs-string">'BUTTON.destroy'</span>
	    .ui(<span class="hljs-string">"$todos=($todos $@tgt):remove (@method`DELETE .url:dehttp):query"</span>)
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでは、最初にJS表記</font></font><code>{ todos, tgt:$ }</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で</font><font style="vertical-align: inherit;">対応するオブジェクトを形成し、</font><font style="vertical-align: inherit;">それをで</font></font><code>:remove</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">説明され</font><font style="vertical-align: inherit;">ているコンバーターに渡し</font></font><code>.FUNC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、フィルタリングされた結果をに返し、</font></font><code>$todos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">それによって変更します。以下</font></font><code>$</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、</font><font style="vertical-align: inherit;">要素</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データのコンテキストです</font></font></i><font style="vertical-align: inherit;"></font><code>$todos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。テンプレートが構築されている</font><font style="vertical-align: inherit;">配列のビジネスオブジェクト</font><font style="vertical-align: inherit;">です。文字の</font></font><code>@</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">後に引数のエイリアスが続きます。場合は</font></font><code>@</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不在で、その後、引数自身の名前が使用されています。これは、最近のES6イノベーション- </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロパティの省略表現に</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">似てい</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同様に、要素</font></font><code>INPUT#new-todo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">とPOSTリクエスト</font><font style="vertical-align: inherit;">を使用して、リストに新しいケースを追加し</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<pre><code class="javascript hljs">    ,<span class="hljs-string">'INPUT#new-todo placeholder="What needs to be done?" autofocus'</span>
      .ui(<span class="hljs-string">"$=(#.value@title) (@method`POST todos@url headers $):query $todos=($todos $@tgt):insert #.value="</span>)<font></font>
	...<font></font>
.FUNC({<font></font>
  <span class="hljs-attr">convert</span>:{
    <span class="hljs-attr">dehttp</span>: <span class="hljs-function"><span class="hljs-params">url</span> =&gt;</span> url.replace(<span class="hljs-regexp">/^https?\:/</span>,<span class="hljs-string">''</span>),
    <span class="hljs-attr">remove</span>: <span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x.todos.filter( <span class="hljs-function"><span class="hljs-params">todo</span> =&gt;</span> todo!=x.tgt ), <span class="hljs-comment">//    </span>
    <span class="hljs-attr">insert</span>: <span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x.todos.concat( [x.tgt] ) <span class="hljs-comment">//    </span><font></font>
  }<font></font>
})<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"></font><code>INPUT#new-todo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">標準のUIイベント</font><font style="vertical-align: inherit;">
に対する要素の反応のルール</font><font style="vertical-align: inherit;">（</font></font><code>INPUT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">イベントの場合、イベントは標準のdapと見なさ</font></font><code>change</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">れます）には、</font></font><code>value</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この要素</font><font style="vertical-align: inherit;">のプロパティからのユーザー入力の読み取り</font></font><code>$</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、この値をフィールドとして使用する</font><font style="vertical-align: inherit;">ローカルコンテキストの形成</font><font style="vertical-align: inherit;">、POSTメソッドを使用</font></font><code>.title</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">した</font></font><code>$</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サーバー</font><font style="vertical-align: inherit;">へのコンテキストの送信</font><font style="vertical-align: inherit;">、新しい要素として</font></font><code>$todos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンテキスト</font></font><code>$</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">追加すること</font><font style="vertical-align: inherit;">による配列の変更が含まれ</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">最後に、</font></font><code>value</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要素</font><font style="vertical-align: inherit;">のプロパティをクリーニングします</font></font><code>INPUT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで若い読者が尋ねるかもしれません：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><code>concat()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通常の</font><font style="vertical-align: inherit;">要素を使用して</font><font style="vertical-align: inherit;">これを行うことができるのであれば</font><font style="vertical-align: inherit;">、要素を配列に追加するときになぜそれ</font><font style="vertical-align: inherit;">を使用するの</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><code>push()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ですか？経験豊富な読者であれば、すぐに問題が何であるかを理解し、彼の答えをコメントに書き込みます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
あれ見て</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">それは判明</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（[ネットワーク]タブを右、このすべての時間を開いたまま？）サーバへの対応要求が正しく送信され、追加されたケースを、正常に削除されました。しかし、新しく追加されたケースの名前またはステータスを変更したい場合はどうなりますか？問題は、これらの変更をサーバーに通知するには、</font></font><code>.url</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このビジネスを割り当てるサーバーが</font><font style="vertical-align: inherit;">必要な</font><font style="vertical-align: inherit;">ことです。私たちがビジネスを作成したとき、私たち</font></font><code>.url</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はそれぞれそれを知りませんでした、変更のための正しいPATCHリクエストを形成することはできません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際、ケースに関する必要な情報はすべてPOSTリクエストに対するサーバーの応答に含まれています。ユーザー入力からだけでなく、サーバーの応答からも新しいビジネスオブジェクトを作成し、</font></font><code>$todos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このオブジェクトをサーバーに提供されたすべての情報とともに追加して</font><font style="vertical-align: inherit;">おく方が正しいでしょう。</font><font style="vertical-align: inherit;">フィールドを含む</font></font><code>.url</code><br>
<br>
<pre><code class="javascript hljs">    ,<span class="hljs-string">'INPUT#new-todo placeholder="What needs to be done?" autofocus'</span>
      .ui(<span class="hljs-string">"$todos=($todos (@method`POST todos@url headers (#.value@title)):query@tgt ):insert #.value="</span>)
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちは見て-さて、今、すべてが正しく解決されています。新たに作成されたケースの編集に関するサーバーへの通知は適切です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これでやめることもできますが...よく見ると、新しいケースの名前を入力してからリストに表示されるまでにわずかな遅れが見られます。シミュレートされた低速ネットワークをオンにすると、この遅延がはっきりとわかります。ご想像のとおり、問題はサーバーへのリクエストです。最初に、新しいケースのデータをサーバーにリクエストし、それを受け取ってから変更し</font></font><code>$todos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。次のステップでは、この状況の修正を試みますが、最初に別の興味深い点に注目します。少し戻ると、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">前のオプション</font></a><font style="vertical-align: inherit;">に戻り</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、次に注意：リクエストもそこにありますが、リクエストが終了するのを待たずに、新しいケースがすぐにリストに追加されます</font></font><br>
<br>
<pre><code class="javascript hljs">      <span class="hljs-comment">//    , :query  </span>
      .ui(<span class="hljs-string">"$=(#.value@title) (@method`POST todos@url headers $):query $todos=($todos $@tgt):insert #.value="</span>)
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、DAPで非同期コンバーターを実行するもう1つの機能です。非同期コンバーターの結果が使用されない（つまり、何にも割り当てられない）場合、その完了を待つことができず、ルールの実行はブロックされません。これは多くの場合に便利です。リストからケースを削除すると、DELETEリクエストの結果を待たずに、画面からすぐにケースが消えることにお気づきかもしれません。これは、複数のケースを続けてすばやく削除し、[ネットワーク]パネルでリクエストを追跡する場合に特に顕著です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、POSTリクエストの結果を使用するため（コンテキストに割り当てる）、リクエスト</font></font><code>$</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が完了するまで待機する必要があります。したがって、</font></font><code>$todos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">POSTリクエストを実行する前</font><font style="vertical-align: inherit;">に、それを変更する別の方法を見つける必要があります</font><font style="vertical-align: inherit;">。解決策：それでも、最初に新しいビジネスオブジェクトを作成し、すぐに追加します</font></font><code>$todos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、リストを描画し、レンダリングした後、ケースが見つからない場合</font></font><code>.url</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（つまり、ケースが作成された直後）にPOSTリクエストを実行し、その結果をこのケースのデータコンテキストにオーバーレイします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、最初に、リストに空白のみを含む空白を追加します</font></font><code>.title</code><br>
<br>
<pre><code class="javascript hljs">    ,<span class="hljs-string">'INPUT#new-todo placeholder="What needs to be done?" autofocus'</span>
      .ui(<span class="hljs-string">"$todos=($todos (#.value@title)@tgt):insert #.value="</span>)
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
要素生成規則</font><font style="vertical-align: inherit;">には、要素が最初に描画された後にa規則を開始</font></font><code>UL#todo-list &gt; LI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">する演算子</font></font><code>a!</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が</font><font style="vertical-align: inherit;">既に含まれています</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">そこで、不在時にPOSTリクエストの起動を追加でき</font></font><code>.url</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">追加のフィールドをコンテキストに挿入するために、dapには演算子があります</font></font><code>&amp;</code><br>
<br>
<pre><code class="javascript hljs">      .a(<span class="hljs-string">"!? $completed $editing; ? .url:!; &amp; (@method`POST todos@url headers $):query"</span>)
</code></pre><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">見ます</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">別物！</font><font style="vertical-align: inherit;">ネットワークが遅い場合でも、To Doリストは即座に更新され、更新されたリストを描画した後、サーバー通知と欠落データの読み込みがバックグラウンドで発生します。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.みなさん、おめでとう！</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
要素</font></font><code>#header</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">には、リスト内のすべてのケースの一括インストール/完了のサインのリセット用のボタンがあります。</font><font style="vertical-align: inherit;">配列の要素のフィールドに値を一括して割り当てるには、別のコンバーターを作成</font></font><code>:assign</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">し</font></font><code>$todos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、クリックして</font><font style="vertical-align: inherit;">適用します</font></font><code>INPUT#toggle-all</code><br>
<br>
<pre><code class="javascript hljs">    ,<span class="hljs-string">'INPUT#toggle-all type=checkbox'</span>
      .ui(<span class="hljs-string">"$todos=($todos (#.checked@completed)@src):assign"</span>)<font></font>
    ...<font></font>
    assign: <span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x.todos &amp;&amp; x.todos.map(<span class="hljs-function"><span class="hljs-params">todo</span> =&gt;</span> <span class="hljs-built_in">Object</span>.assign(todo,x.src))
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この場合、フィールドのみに関心がありますが</font></font><code>.completed</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、このようなコンバーターを使用すると、配列要素の任意のフィールドの値を大幅に変更できることが簡単にわかります。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
配列内の</font></font><code>$todos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">チェックマークが切り替わりました。変更をサーバーに通知する必要があります。</font><font style="vertical-align: inherit;">元の例では、これはケースごとにPATCHリクエストを送信することで行われています。あまり効果的な戦略ではありませんが、もはや私たちに依存していません。</font><font style="vertical-align: inherit;">OK、それぞれのケースでPATCHリクエストを送信します</font></font><br>
<br>
<pre><code class="javascript hljs">      .ui(<span class="hljs-string">"*@ $todos=($todos (#.checked@completed)@src):assign; (@method`PATCH .url:dehttp headers (.completed)):query"</span>)
</code></pre><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">よく見る</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：共通のDawをクリックすると、すべての個々のDawが整列し、サーバーは適切なPATCHリクエストによって通知されます。</font><font style="vertical-align: inherit;">ノルム</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12.完了に基づくケースのフィルタリング</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際のタスクリストに加えて、アプリケーションは完了のサインによってケースをフィルタリングし、完了したタスクと未完了のタスクのカウンターを表示することもできます。</font><font style="vertical-align: inherit;">もちろん、フィルタリングには</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><code>filter()</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、JS自体が提供</font><font style="vertical-align: inherit;">するのと同じ方法を使用するのは簡単</font><font style="vertical-align: inherit;">です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、最初に、</font></font><code>.completed</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">各ケース</font><font style="vertical-align: inherit;">のフィールド</font><font style="vertical-align: inherit;">が常にtrueで</font><font style="vertical-align: inherit;">あることを確認する必要があり</font><font style="vertical-align: inherit;">ます。クリックすると、ケースの個々のデータが変数とともに更新されます</font></font><code>$completed</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">以前は、これは私たちにとって重要ではありませんでしたが、今は重要になります。</font></font><br>
<br>
<pre><code class="javascript hljs">        ,<span class="hljs-string">'INPUT.toggle type=checkbox'</span>
          .d(<span class="hljs-string">"#.checked=.completed"</span>)<font></font>
          .ui(<span class="hljs-string">"$patch=(.completed=$completed=#.checked) $recount=()"</span>)
	      <span class="hljs-comment">//  .completed       </span>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで重要な点は、各ケースのデータコンテキストは、配列にあるオブジェクトケース自体であるということ</font></font><code>$todos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。単一のコピーや関連する構造ではなく、オブジェクト自体。そして、すべてのフィールドへの呼び出し</font></font><code>.title</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>.completed</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、。</font></font><code>url</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-読み取りと書き込みの両方-このオブジェクトに直接適用します。したがって、配列フィルタリングが</font></font><code>$todos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正しく機能するためには、ケースの完了が画面上のDawだけでなく、</font></font><code>.completed</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オブジェクトケースの</font><font style="vertical-align: inherit;">フィールドにも反映されていることを確認する必要があり</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リストに完全性の望ましい兆候があるケースのみを表示</font><font style="vertical-align: inherit;">するには、選択した</font></font><code>.completed</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フィルター</font></font><code>$todos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に従って</font><font style="vertical-align: inherit;">単純にフィルタリングし</font><font style="vertical-align: inherit;">ます。選択したフィルターは、ご想像のとおり、アプリケーションの別の状態変数なので、呼び出します。</font></font><code>$filter</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><code>$todos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">選択したものに従って</font><font style="vertical-align: inherit;">フィルタリング</font><font style="vertical-align: inherit;">するには</font></font><code>$filter</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、サムトラックに沿って</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{list、filter} =&gt;ザフィルタードリスト</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の形式の別のコンバーターを追加</font><font style="vertical-align: inherit;">し、「連想配列」（つまり、通常のJSオブジェクト）から名前とフィルタリング関数を取得します</font></font><code>todoFilters</code><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> todoFilters={
  <span class="hljs-string">"All"</span>: <span class="hljs-literal">null</span>,
  <span class="hljs-string">"Active"</span>: <span class="hljs-function"><span class="hljs-params">todo</span> =&gt;</span> !todo.completed, 
  <span class="hljs-string">"Completed"</span>: <span class="hljs-function"><span class="hljs-params">todo</span> =&gt;</span> !!todo.completed<font></font>
};<font></font>
<font></font>
<span class="hljs-string">'#todoapp'</span>.d(<span class="hljs-string">"$todos= $filter="</span> <span class="hljs-comment">//   $filter</span><font></font>
    ...<font></font>
    ,<span class="hljs-string">'UL#todo-list'</span>.d(<span class="hljs-string">"* ($todos $filter):filter"</span><font></font>
    ...<font></font>
    ,<span class="hljs-string">'UL#filters'</span>.d(<span class="hljs-string">"* filter"</span> <span class="hljs-comment">//  filter      .DICT</span>
      ,<span class="hljs-string">'LI'</span>
	  .d(<span class="hljs-string">"! .filter"</span>)<font></font>
	  .ui(<span class="hljs-string">"$filter=."</span>) <span class="hljs-comment">//    "$filter=.filter"</span><font></font>
    )<font></font>
    ...<font></font>
.DICT({<font></font>
  ...<font></font>
  filter: <span class="hljs-built_in">Object</span>.keys(todoFilters) <span class="hljs-comment">//["All","Active","Completed"]</span><font></font>
})<font></font>
.FUNC({<font></font>
  <span class="hljs-attr">convert</span>:{<font></font>
    ...    <font></font>
    filter: <span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span>{
	<span class="hljs-keyword">const</span><font></font>
	  a = x.todos,<font></font>
	  f = x.filter &amp;&amp; todoFilters[x.filter];<font></font>
	<span class="hljs-keyword">return</span> a&amp;&amp;f ? a.filter(f) : a;<font></font>
    }<font></font>
  }<font></font>
})<font></font>
</code></pre><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">チェックし</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">フィルターは適切に機能します。</font><font style="vertical-align: inherit;">フィルターの名前が一緒に表示されるというニュアンスがあります。</font><font style="vertical-align: inherit;">ここでは、元のDOM構造から少し離れて、CSSから抜け出しました。</font><font style="vertical-align: inherit;">しかし、これは少し後で戻ってきます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13.完了したアクティブなケースのカウンター。</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
完了したケースとアクティブなケースのカウンターを表示するには、</font></font><code>$todos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">適切なフィルターでフィルターし、結果の配列の長さを表示します</font></font><br>
<br>
<pre><code class="javascript hljs">  ,<span class="hljs-string">'#footer'</span>.d(<span class="hljs-string">"$active=($todos @filter`Active):filter $completed=($todos @filter`Completed):filter"</span>
    ,<span class="hljs-string">'#todo-count'</span>.d(<span class="hljs-string">"! (active $active.length)format"</span>) <span class="hljs-comment">//  length    active</span><font></font>
    ...<font></font>
    ,<span class="hljs-string">'#clear-completed'</span>.d(<span class="hljs-string">"! (completed $completed.length)format"</span>)<font></font>
  )<font></font>
...<font></font>
.DICT({<font></font>
  ...<font></font>
  active: <span class="hljs-string">"{length} items left"</span>,
  <span class="hljs-attr">completed</span>: <span class="hljs-string">"Clear completed items ({length})"</span><font></font>
})<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
では</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このフォーム、</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">カウンターは、ブート時に正しい値を示すが、（のDAWをクリック）業務の完了で、その後の変化に対応しません。事実は、個々のケースの状態を変更してジャックダウをクリックしても状態は変更されないということです</font></font><code>$todos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-配列要素の変更は配列自体の変更ではありません。したがって、ケースを再登録する必要があることについて、追加のシグナルが必要です。このような信号は、追加の状態変数である可能性があり、再カウントが必要になるたびに変更されます。彼女に電話しましょう</font></font><code>$recount</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。 dルールで共通の祖先を宣言し、dawをクリックしたときにそれを更新し</font></font><code>#footer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font><font style="vertical-align: inherit;">要素を</font><font style="vertical-align: inherit;">コンシューマーにします。これを行うには、dルールでこの変数に言及します</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-string">'#todoapp'</span>.d(<span class="hljs-string">"$todos= $filter= $recount="</span> <span class="hljs-comment">//  $recount    </span><font></font>
      ...<font></font>
	  ,<span class="hljs-string">'INPUT.toggle type=checkbox'</span>
          .d(<span class="hljs-string">"#.checked=.completed"</span>)<font></font>
          .ui(<span class="hljs-string">"$patch=(.completed=$completed=#.checked) $recount=()"</span>)
              <span class="hljs-comment">//  $recount   </span><font></font>
	...<font></font>
  ,<span class="hljs-string">'#footer'</span>.d(<span class="hljs-string">"$active=($todos @filter`Active):filter $completed=($todos @filter`Completed):filter $recount"</span> <span class="hljs-comment">//  $recount</span>
</code></pre><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これで</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべてが正常に機能し、カウンターが正しく更新されます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">14.完了したケースをすべて削除します。</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
TodoMVCでのケースのバッチ削除は、複数のリクエストにより、バッチ変更として非コーシャとして実装されます。</font><font style="vertical-align: inherit;">さて、ため息をついて、手をすくめて、完了したジョブごとにDELETEリクエストを実行してみましょう</font></font><code>$completed</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">したがって、</font></font><code>$todos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完了したケースを削除した後、すでに</font></font><code>$active</code><br>
<br>
<pre><code class="javascript hljs">    ,<span class="hljs-string">'#clear-completed'</span>
      .d(<span class="hljs-string">"! (completed $completed.length)format"</span>)<font></font>
      .ui(<span class="hljs-string">"$todos=$active; *@ $completed; (@method`DELETE .url:dehttp):query"</span>)
</code></pre><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私たちは見ています</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：不要な事柄をいくつか作成し、それらにdawsのマークを付けて削除します。</font><font style="vertical-align: inherit;">[ネットワーク]タブには、バッチ操作に対するこのアプローチの恐怖が表示されます。</font></font><br>
 <br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15.アドレスバーのステータス</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フィルター選択に戻ります。</font><font style="vertical-align: inherit;">元の例では、選択したフィルターは＃の後にアドレスバーに反映されています。</font><font style="vertical-align: inherit;">アドレスバーの＃フラグメントを手動で変更したり、ナビゲートしたりすると、選択したフィルターも変更されます。</font><font style="vertical-align: inherit;">これにより、すでに選択されているタスクフィルタを使用して、URLでアプリケーションページに移動できます。</font><font style="vertical-align: inherit;">たとえば、要素</font><font style="vertical-align: inherit;">（またはその子孫のいずれか）</font><font style="vertical-align: inherit;">のaルールに</font><font style="vertical-align: inherit;">演算子を</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
使用して書き込むことができます</font><font style="vertical-align: inherit;">。これは、更新ごとに実行されます</font></font><code>location.hash</code><font style="vertical-align: inherit;"></font><code>urlhash</code><font style="vertical-align: inherit;"></font><code>#todoapp</code><font style="vertical-align: inherit;"></font><code>$filter</code><br>
<br>
<pre><code class="javascript hljs">.a(<span class="hljs-string">"urlhash $filter"</span>)
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また</font></font><code>$filter</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、アドレスバーの値で</font><font style="vertical-align: inherit;">変数を初期化し</font><font style="vertical-align: inherit;">、現在の状態を返す</font><font style="vertical-align: inherit;">疑似コンバーター</font><font style="vertical-align: inherit;">（＃なし）</font><font style="vertical-align: inherit;">を使用</font><font style="vertical-align: inherit;">して、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hashchange</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">イベントで更新</font></font><code>:urlhash</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">できます。</font></font><code>location.hash</code><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="javascript hljs">.d(<span class="hljs-string">"$todos= $filter=:urlhash $recount="</span>
.e(<span class="hljs-string">"hashchange"</span>,<span class="hljs-string">"$filter=:urlhash"</span>)
</code></pre><br>
<br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hashchange</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
イベントは</font><font style="vertical-align: inherit;">、アドレスバーの＃フラグメントが変更されると、ブラウザによって</font><i><font style="vertical-align: inherit;">発生</font></i><font style="vertical-align: inherit;">します。</font><font style="vertical-align: inherit;">ただし、何らかの理由でのみ</font></font><code>window</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>document.body</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このイベントをリッスンできます。</font><font style="vertical-align: inherit;">要素からこのイベントを追跡</font></font><code>#todoapp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">するには</font></font><code>listen</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、オブジェクトにイベントをリレーするために要素に署名</font><font style="vertical-align: inherit;">する演算子をそのDルールに追加する必要があり</font><font style="vertical-align: inherit;">ます</font></font><code>window</code><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-string">'#todoapp'</span>
.a(<span class="hljs-string">"urlhash $filter"</span>)<font></font>
.e(<span class="hljs-string">"hashchange"</span>,<span class="hljs-string">"$filter=:urlhash"</span>)<font></font>
.d(<span class="hljs-string">"$todos= $filter=:urlhash $recount=; listen @hashchange"</span>
</code></pre><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私たちは見て</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：スイッチフィルタは、アドレスバーの変化を追跡して、リンクに従う</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#Active</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#ALL</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#Completedを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">すべてが機能しています。</font><font style="vertical-align: inherit;">しかし、元に戻ります。</font><font style="vertical-align: inherit;">そこには、フィルターの選択が実装されているようです-リンクをクリックすることによって。</font><font style="vertical-align: inherit;">あまり実用的ではありませんが、完全を期すために同じようにします。</font></font><br>
<br>
<pre><code class="javascript hljs">    ,<span class="hljs-string">'UL#filters'</span>.d(<span class="hljs-string">"* filter"</span>
      ,<span class="hljs-string">'LI'</span>.d(<span class="hljs-string">""</span>
        ,<span class="hljs-string">'A'</span>.d(<span class="hljs-string">"!! (`# .filter)concat@href .filter@"</span>)<font></font>
      )<font></font>
    )<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
選択したフィルターを目立たせるには</font><font style="vertical-align: inherit;">、</font><font style="vertical-align: inherit;">コンテキスト</font><font style="vertical-align: inherit;">フィールド</font><font style="vertical-align: inherit;">の値が変数の値と等しい</font><font style="vertical-align: inherit;">場合に</font></font><code>!?</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要素にCSSクラスを</font><font style="vertical-align: inherit;">追加する条件付きスタイル演算子</font><font style="vertical-align: inherit;">を追加</font><font style="vertical-align: inherit;">します</font></font><code>selected</code><font style="vertical-align: inherit;"></font><code>.filter</code><font style="vertical-align: inherit;"></font><code>$filter</code><br>
<br>
<pre><code class="javascript hljs">        ,<span class="hljs-string">'A'</span>.d(<span class="hljs-string">"!! (`# .filter)concat@href .filter@; !? (.filter $filter)eq@selected"</span>)
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
では</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、このフォーム、</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私たちのDAPアプリケーションの機能は完全に（私の知る限り）何すでに</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=http://www.todobackend.com/client/index.html%3F" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元が</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ありません</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16.いくつかの仕上げ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
オリジナルではカーソルの形状がアクティブな要素で変化しないことはあまり好きではないので、</font></font><code>head</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このスタイル</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">HTMLドキュメントに</font><font style="vertical-align: inherit;">追加し</font><font style="vertical-align: inherit;">ます</font></font><br>
<br>
<pre><code class="javascript hljs">    [ui=click]{<span class="hljs-attr">cursor</span>:pointer}
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、少なくともクリックできる場所がわかります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そうそう！</font><font style="vertical-align: inherit;">「todos」という単語を大文字で書くことは残っています。</font><font style="vertical-align: inherit;">しかし、ここで私はおそらく、私自身が最終的に少しの想像力と創造性を示すことを許可し、単に「todos」の代わりに「dap todos」を書きます</font></font><br>
<br>
<pre><code class="javascript hljs">    ,<span class="hljs-string">'H1'</span>.d(<span class="hljs-string">""</span>,<span class="hljs-string">"dap todos"</span>)
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ワオ。</font><font style="vertical-align: inherit;">これで</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、アプリケーション</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は完全であると見なされ、チュートリアルが保持されます（これらの行を正直に読んだ場合）。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最終的に</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
おそらく、読んでいると、DAPプログラムが試行錯誤で書かれているという印象を受けました。これらはすべて、「何が起こったのかを見てみましょう」、「うまくいくようですが、ニュアンスがあります」などです。</font><font style="vertical-align: inherit;">これは実際にはそうではありません。</font><font style="vertical-align: inherit;">これらのニュアンスはすべて、コードを書くときに非常に明白で予測可能です。</font><font style="vertical-align: inherit;">しかし、私はこれらのニュアンスの例を示すことによって、なぜこれまたはその決定がルールに存在し、なぜそれがこのように行われ、他の方法では行われないのかを示すことは有用だと思いました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
彼らが言うように、質問します。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja481670/index.html">AWSクラウド導入フレームワークを使用してアクションプランを作成する</a></li>
<li><a href="../ja481672/index.html">ブラウザのセルオートマトン</a></li>
<li><a href="../ja481674/index.html">自動車販売の目標到達プロセス、またはどのようにして顧客を統合し、サービスを拒否した人と協力しないようにするか？</a></li>
<li><a href="../ja481676/index.html">セキュリティウィーク52：スマートスピーカーとIPカメラのセキュリティ</a></li>
<li><a href="../ja481678/index.html">ホリデー前のレビュー：N6IIT01プレーヤーとYB04補強ヘッドフォン-中国南部のHi-Fi</a></li>
<li><a href="../ja481684/index.html">Powerbankのラップトップ？</a></li>
<li><a href="../ja481688/index.html">なぜJavaを学び、それを効率的に行う方法。Yandexレポート</a></li>
<li><a href="../ja481692/index.html">インテルプロセッサートレースを使用したシステム管理モードコードのトレース</a></li>
<li><a href="../ja481694/index.html">PostgreSQLのパーティション化パス</a></li>
<li><a href="../ja481696/index.html">ruleguard：Goの動的チェック</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>