<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍸 😪 ⚙️ Gestion des gestes: gestion des conflits de gestes. 3e partie 👨🏾‍🤝‍👨🏼 🐮 🧛🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Une traduction de l'article a été préparée avant le lancement d'un cours de développement avancé et de base pour Android.
 
 
 Il s'agit du troisième ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Gestion des gestes: gestion des conflits de gestes. 3e partie</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/504556/"><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une traduction de l'article a été préparée avant le lancement d'un </font><font style="vertical-align: inherit;">cours de développement </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">avancé</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">base pour</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Android.</font></font></i></b><br>
<br>
<hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il s'agit du troisième article d'une série sur le contrôle gestuel. Vous pouvez vous familiariser avec les traductions des </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">première</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">deuxième</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> parties si vous les avez manquées. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans les articles précédents, nous avons abordé le sujet du remplissage de l'espace d'écran d'un bord à l'autre. Dans cet article, nous verrons comment gérer les conflits qui surviennent entre les gestes de votre application et les nouveaux </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gestes du système</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Android 10</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Qu'entendons-nous par conflits de gestes? Regardons un exemple. Disons que nous avons un lecteur de musique qui permet à l'utilisateur de faire défiler la chanson en cours par glisser-déposer </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SeekBar</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ws/l7/c6/wsl7c6atgtlocnpki8mseujekpe.gif"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Malheureusement, il </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SeekBar</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">est trop proche de la zone du geste de retour à l'écran d'accueil, à cause de quoi le geste de basculer rapidement vers l'application précédente (QuickSwitch) commence, ce qui gêne l'utilisateur. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La même chose peut se produire sur n'importe quel bord de l'écran où se trouvent les zones gestuelles. Il existe de nombreux exemples courants qui peuvent provoquer des conflits, tels que: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tiroirs de navigation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">DrawerLayout</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), carrousels ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ViewPager</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">curseurs</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SeekBar</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">glisser</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans les listes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce qui nous amène à la question "comment pouvons-nous résoudre ce problème?" Pour faciliter cette question, nous avons créé un organigramme qui vous propose une réponse en fonction de la situation.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/dt/em/vg/dtemvg_izc9txl88myfhkrih_5a.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez trouver une version PDF de l'organigramme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'espère que les questions ne nécessitent pas d'explication, mais juste au cas où, je passerai en revue chacune d'elles:</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. L'application doit-elle masquer les barres de navigation et d'état?</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La première question est de savoir si le cas d'utilisation principal de votre application nécessite de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">masquer</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> les barres de navigation et / ou d'état. </font><font style="vertical-align: inherit;">Par masquage, nous voulons dire que ces panneaux système ne sont pas visibles du tout. </font><font style="vertical-align: inherit;">Cela </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ne</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> signifie </font><i><font style="vertical-align: inherit;">pas</font></i><font style="vertical-align: inherit;"> que vous avez mis en œuvre le concept de «bord à bord» ou quelque chose de similaire dans votre application. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Raisons possibles pour répondre «oui» à cette question:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous utilisez l'indicateur WindowManager </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">FLAG_FULLSCREEN</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Veuillez noter que cela peut également être fait à l'aide de l'attribut de thème </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">android:windowFullscreen</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou étendu à partir de l'une des options de thème </font></font><code>Theme.XXX.Fullscreen</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous utilisez l'indicateur de visibilité system-ui </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SYSTEM_UI_FLAG_FULLSCREEN</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous utilisez l'un des indicateurs de visibilité système-interface utilisateur en mode immersif: </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SYSTEM_UI_FLAG_IMMERSIVE</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SYSTEM_UI_FLAG_IMMERSIVE_STICKY</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Des exemples courants d'applications qui devraient répondre «oui» à cette question sont les jeux, les lecteurs vidéo, les visionneuses de photos et les applications de dessin.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Le scénario principal d'utilisation de l'interface utilisateur implique des glissements dans / autour de la zone de geste?</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette question permet de savoir si votre interface utilisateur contient des éléments dans / à côté des zones de gestes (à la fois «arrière» et «maison») que l'utilisateur doit balayer. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les jeux disent généralement oui, car</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les commandes à l'écran sont généralement situées près du bord gauche / droit et du bas de l'écran.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans certains jeux, vous devez balayer les éléments qui peuvent se trouver n'importe où sur l'écran.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 En plus des jeux, des exemples courants d'interfaces utilisateur qui devraient dire oui sont:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'interface utilisateur recadre les photos où les cadres déplaçables sont également proches des bords gauche et droit de l'écran.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une application de dessin où l'utilisateur peut dessiner sur une toile qui couvre tout l'écran.</font></font></li>
</ul><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. Vue fréquemment utilisée dans / autour de la zone gestuelle?</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'espère que c'est une question assez simple. </font><font style="vertical-align: inherit;">Cela inclut également les vues, qui couvrent la zone des gestes, puis s'étendent sur une grande partie de l'écran, par exemple, </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">DrawerLayout</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou sur une grande </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ViewPager</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. La vue implique un glissement / glisser?</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous changeons un peu de tactique et commençons à regarder les points de vue individuels. </font><font style="vertical-align: inherit;">Pour tous les points de vue pour lesquels vous avez répondu par l'affirmative à la troisième question, nous apportons une petite précision: l'utilisateur doit-il glisser / glisser? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y a de </font><font style="vertical-align: inherit;">nombreux exemples où vous devez répondre « oui»: </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SeekBars</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BottomSheet</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou même </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">PopupMenu</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(vous devez glisser pour ouvrir).</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. La vue est-elle entièrement / généralement située sous les zones gestuelles?</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sur la base de la quatrième question, nous clarifions maintenant si la vue est entièrement ou principalement située dans la zone gestuelle. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si votre vue se trouve dans un conteneur déroulant comme celui-ci </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">RecyclerView</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, pensez à cette question un peu différemment: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la vue entièrement / essentiellement développée tombe-t-elle sous la zone de mouvement dans toutes les positions de défilement</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ? Si l'utilisateur peut faire défiler la vue sous la zone des gestes, vous n'avez rien à faire. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le diagramme ci-dessus, vous remarquerez peut-être un carrousel plein écran ( </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ViewPager</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) comme exemple de réponse négative et vous vous demandez pourquoi ce cas n'a pas besoin d'être traité. Cela est dû au fait que les zones de gestes gauche / droite sont relativement petites en largeur (par défaut: </font></font><code>20dp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chacune) par rapport à la largeur de la vue. Typique</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la largeur de l'écran de votre téléphone</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en orientation portrait est de ~ 360dp, laissant ~ 320dp d'espace libre dans lequel l'utilisateur n'a pas de difficulté (c'est presque </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">90% de l'</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> écran). </font><font style="vertical-align: inherit;">Même avec des marges / retraits internes, l'utilisateur peut toujours faire défiler confortablement le carrousel.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6. La bordure de vue chevauche-t-elle les zones de mouvement requises?</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La dernière question précise si la vue se trouve sous l'une des zones de mouvement requises. </font><font style="vertical-align: inherit;">Si vous vous souvenez de notre </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">article précédent</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , vous vous souviendrez que les </font><font style="vertical-align: inherit;">zones </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">obligatoires</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> des gestes du système sont des zones de l'écran où les gestes du système ont toujours la priorité. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans Android 10, il n'y a qu'une seule zone de geste obligatoire, située au bas de l'écran, qui permet à l'utilisateur de rentrer chez lui ou d'ouvrir ses dernières applications. </font><font style="vertical-align: inherit;">Cela pourrait changer dans les futures versions de la plate-forme, mais maintenant nous n'avons plus qu'à travailler avec la vue en bas de l'écran. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Des exemples typiques sont:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modeless </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BottomSheet</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , car ils ont tendance à se </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">réduire</font></a><font style="vertical-align: inherit;"> en une petite vue glisser-déposer en bas de l'écran.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un carrousel à défilement horizontal en bas de l'écran, par exemple, une interface avec des autocollants.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant que nous avons trié les questions, nous espérons que vous pourrez arriver à l'une des solutions, alors examinons chacune d'elles plus en détail.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aucun conflit à gérer</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Commençons par la «solution» la plus simple, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ne faites rien</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien sûr, il y a peut-être encore de la place pour les optimisations que vous pouvez faire (voir la section ci-dessous), mais heureusement, il n'y a pas de problèmes sérieux en utilisant l'application avec le mode de navigation gestuelle activé. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si l'horaire vous a amené ici, mais que vous pensez toujours qu'il y a un problème, veuillez </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nous en informer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Peut-être que nous avons manqué quelque chose.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Déplacement de la vue depuis les zones de mouvement</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme nous l'avons appris dans notre </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">article précédent</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , des encarts existent pour indiquer à votre application où se trouvent les zones de gestes du système à l'écran. L'une des méthodes que nous pouvons utiliser pour résoudre les conflits de mouvements consiste à déplacer toutes les vues conflictuelles des zones de mouvements. Ceci est particulièrement important pour la vue en bas de l'écran, car cette zone est la zone des gestes obligatoires et les applications ne peuvent pas y utiliser les API d'exclusion de gestes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Prenons un autre regard sur un exemple. Nous avons une </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">interface de lecteur de musique</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que nous avons montrée ci-dessus. Il contient </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SeekBar</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, situé en bas de l'écran, permettant à l'utilisateur de faire défiler la chanson. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/lt/ww/rd/ltwwrdft6rnq4dmzynsq_hl8wuq.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lecteur de musique UI avec une barre de recherche en bas de l'écran</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais lorsqu'un utilisateur essaie de sauter une chanson, cela se produit: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ws/l7/c6/wsl7c6atgtlocnpki8mseujekpe.gif"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enregistrer un geste système en conflit avec SeekBar</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
En effet, la zone inférieure du geste chevauche la SeekBar, donc le geste de retour à la maison est prioritaire. </font><font style="vertical-align: inherit;">Voici la visualisation des zones gestuelles:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/mv/rb/k_/mvrbk_u3vsfq9pqh1dmc-tcmsca.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une solution simple</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La solution la plus simple ici consiste à ajouter un retrait / marge supplémentaire afin que la barre de recherche se déplace vers le haut depuis la zone de mouvement. </font><font style="vertical-align: inherit;">Quelque chose comme ceci: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kp/ss/q4/kpssq4kwardpz89ds4lhvcolidq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
si nous faisons glisser le SeekBar dans cet exemple, vous verrez que nous </font></font><br>
<br>
<img src="https://habrastorage.org/webt/so/kt/rm/soktrm6wlfskrj16nm1yrhh853q.gif"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n'activons plus</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> le geste de retour: </font><i><font style="vertical-align: inherit;">SeekBar n'entre plus en conflit avec le geste du système inférieur. </font></i></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour l'implémenter, nous devons utiliser les nouveaux </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">encarts de gestes système</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> disponibles dans l'API 29 et la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bibliothèque</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Jetpack </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">Core</font></a><font style="vertical-align: inherit;"> v1.2.0 (actuellement en </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alpha</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">Dans l'exemple, nous augmentons le retrait inférieur </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SeekBar</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour correspondre à la valeur de l' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">encart</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> inférieur du </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">geste</font></a><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-type">ViewCompat</span>.setOnApplyWindowInsetsListener(seekBar) { view, insets -&gt;
     <span class="hljs-comment">//      view ,    system gesture insets</span><font></font>
    view.updatePadding(<font></font>
        bottom = insets.systemGestureInsets.bottom<font></font>
    )<font></font>
    insets<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous souhaitez apprendre à simplifier l'utilisation </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">WindowInsets</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, vous pouvez lire notre autre article sur ce sujet: </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WindowInsets - Disposition des écouteurs</font></font></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Actions supplémentaires</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
À ce stade, vous pouvez décider que le travail est déjà terminé, et pour une mise en page, cela peut très bien être la solution finale. </font><font style="vertical-align: inherit;">Mais dans notre exemple, l'interface utilisateur a régressé visuellement avec beaucoup d'espace perdu sous </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SeekBar</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Ainsi, au lieu de simplement pousser la vue vers le haut, nous pouvons plutôt repenser la mise en page pour éviter de perdre de l'espace: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/5p/pw/yn/5ppwyncrvyrbr9vbnsm3ehdlfbs.gif"><br>
<i><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SeekBar</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">déplacé vers le haut du panneau de lecture. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici, nous nous sommes déplacés </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SeekBar</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vers le haut du panneau de lecture, complètement en dehors de la zone des gestes. </font><font style="vertical-align: inherit;">Cela signifie que nous n'avons plus besoin d'augmenter artificiellement la hauteur du panneau pour l'adapter </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SeekBar</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<i>          ,     .          <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">«  »</a>.</i><br>
<br>
<h3> API  </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans notre </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">précédent article,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nous mentionnions que </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«les applications ont la possibilité d'exclure les mouvements du système pour certaines parties de l'écran»</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Les applications le font à l'aide des API d'exclusion de gestes, qui sont apparues pour la première fois dans Android 10. Le </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
système propose deux fonctions différentes pour exclure les zones de gestes: </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">View.setSystemGestureExclusionRects()</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Window.setSystemGestureExclusionRects()</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Ce que vous devez utiliser dépend de l'application: si vous utilisez Android </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">View</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, le système préfère l'API de vue, sinon utilisez l' </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Window</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La principale différence entre les deux API est que l' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API Window</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s'attend à ce que tous les rectangles soient dans l'espace de coordonnées de la fenêtre. Si vous utilisez la vue, vous travaillerez généralement dans l'espace de coordonnées de la vue. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'API View</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> prend en charge la transformation entre les espaces de coordonnées, c'est-à-dire que vous devez raisonner uniquement en termes de contenu de la vue. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Regardons un exemple. Nous allons utiliser à nouveau notre exemple de lecteur de musique, qui </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SeekBar</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">est situé sur toute la largeur de l'écran. Nous avons résolu le conflit </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SeekBar</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">avec le geste de revenir à l'écran d'accueil dans la section précédente, mais nous avons encore des zones de gestes gauche et droite dont nous devons prendre soin. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voyons ce qui se passe lorsqu'un utilisateur essaie de sauter une chanson lorsque le «curseur»</font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SeekBar</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(glissement circulaire) est situé près de l'un des bords: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sy/8f/ef/sy8fefu9q7swxqmxqqefbt8sabk.gif"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SeekBar a un conflit avec la zone de geste arrière.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Comme le curseur est sous la zone de geste droite, le système pense que l'utilisateur essaie de revenir en arrière en utilisant le geste, par conséquent, affiche la flèche arrière. Cela n'est pas pratique pour les utilisateurs, car ils ne voulaient probablement pas revenir en arrière pour le moment. Nous pouvons résoudre ce problème en utilisant les API d'exclusion de gestes mentionnées ci-dessus pour exclure les bordures du curseur. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les API d'exception de geste sont généralement appelées à partir de deux endroits: </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">onDraw()</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lorsque votre vue est rendue, et </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">onLayout()</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">autrement. Votre vue passe</font></font><code><code>List&lt;</code>Rect&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contenant tous les rectangles à exclure. </font><font style="vertical-align: inherit;">Comme mentionné précédemment, ces rectangles doivent être dans leur propre système de coordonnées de vue. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Habituellement, vous créez une fonction comme celle-ci qui sera appelée depuis </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">onLayout()</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et / ou </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">onDraw()</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">private</span> val gestureExclusionRects = mutableListOf&lt;<span class="hljs-type">Rect</span>&gt;()
<span class="hljs-keyword">private</span> fun updateGestureExclusion() {
   <span class="hljs-comment">//   ,      Android 10+</span>
   <span class="hljs-keyword">if</span> (<span class="hljs-type">Build</span>.<span class="hljs-type">VERSION</span>.<span class="hljs-type">SDK_INT</span> &lt; <span class="hljs-number">29</span>) <span class="hljs-keyword">return</span>
  <span class="hljs-comment">// -,     </span><font></font>
   gestureExclusionRects.clear()<font></font>
      <span class="hljs-comment">//   ,    .  SeekBar    .</span><font></font>
   thumb?.also { t -&gt;<font></font>
       gestureExclusionRects += t.copyBounds()<font></font>
   }<font></font>
   <span class="hljs-comment">//            view,       ,     </span>
   <span class="hljs-comment">// ,       </span><font></font>
   systemGestureExclusionRects = gestureExclusionRects<font></font>
}</code></pre><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un exemple complet peut être trouvé </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Après avoir ajouté cela, le rembobinage près des bords fonctionne comme prévu: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pu/ph/oi/puphoicsuu768lcmuhs0vwp9plc.gif"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SeekBar fonctionne dans la zone de geste arrière </font></font></i><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque sur l'exemple ci-dessus. </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SeekBar</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le fait déjà automatiquement pour vous dans Android 10, il n'est donc pas nécessaire de le faire vous-même. </font><font style="vertical-align: inherit;">Ici, nous le faisons juste à titre d'exemple pour vous montrer les grandes lignes.</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Limites</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien que les API d'exclusion de gestes puissent sembler être la solution parfaite pour résoudre tous les conflits de gestes, ce n'est en fait pas le cas. En utilisant les API d'exclusion de gestes, vous déclarez que le geste de votre application est plus important que les actions de retour du système. Ceci est une déclaration forte, donc cette API est conçue pour être une issue de secours lorsque vous ne pouvez rien faire d'autre. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En utilisant les API d'exclusion de gestes, vous déclarez que le geste de votre application est plus important que l'action système de retour en arrière.</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Étant donné que le comportement fourni par l'API peut violer une expérience utilisateur confortable, le système limite son utilisation: les applications ne peuvent exclure que jusqu'à </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">200 dp</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> par bord. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici quelques questions courantes que les développeurs se posent lorsqu'ils entendent cela:</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pourquoi la restriction est-elle nécessaire?</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> J'espère que l'explication ci-dessus vous a déjà conduit à une raison. Nous pensons qu'il est très important pour l'utilisateur de pouvoir revenir en arrière de façon constante depuis le balayage latéral. De manière cohérente sur l'ensemble de l'appareil, pas une seule application. Cette restriction peut sembler trop restrictive, mais une seule application, à l'exclusion de tout le bord de l'écran, suffit pour gêner l'utilisateur, ce qui conduit soit à la suppression de l'application, soit à quelque chose de plus radical. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En d'autres termes, le système de navigation doit toujours être cohérent et facile à utiliser. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pourquoi 200dp?</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'argument pour 200dp est assez simple. Comme nous l'avons mentionné précédemment, les API d'exclusion de gestes sont destinées à être utilisées en dernier recours, donc cette limite a été calculée comme un multiple de plusieurs cibles tactiles importantes. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La taille minimale recommandée</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour une cible sensorielle est de </font></font><code>48dp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.4 cibles sensorielles × </font></font><code>48dp = 192dp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Ajoutez un peu plus d'indentation et nous obtenons la valeur </font></font><code>200dp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Que faire si j'ai besoin d'exclure plus de 200dp par front?</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Le système exclura uniquement les 200dp les plus bas que vous avez demandés. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cq/vs/b4/cqvsb4btibhnqpfd8xvxhigsyxk.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le système permet une demande pour une hauteur totale de 200 dp, à partir du bord inférieur de </font></font></i><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ma vue en dehors de l'écran, est-ce considéré comme une limite?</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Non, le système ne prend en compte que les rectangles exclus qui se trouvent à l'écran. </font><font style="vertical-align: inherit;">De même, si la vue est partiellement à l'écran, seule la partie visible du rectangle demandé est prise en compte.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plongez dans le prochain post</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Peut-être qu'après avoir lu ceci, vous vous demandez pourquoi nous n'avons pas considéré le côté droit de l'organigramme. </font><font style="vertical-align: inherit;">Les solutions ci-dessous sont conçues spécifiquement pour les applications qui utilisent tout l'écran dans le rendu. </font><font style="vertical-align: inherit;">Nous en parlerons dans la prochaine partie.</font></font><br>
<br>
<hr><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Développeur Android. </font><font style="vertical-align: inherit;">Cours avancé</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Développeur Android. </font><font style="vertical-align: inherit;">Cours de base</font></font></a></li>
</ul><br>
<hr></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr504516/index.html">Tactiques hacker préférées</a></li>
<li><a href="../fr504520/index.html">Comment faire 70 publications gratuites sur un projet inconnu en une semaine</a></li>
<li><a href="../fr504522/index.html">Que voir en quarantaine? Une sélection de matériaux de Technostream (partie 6)</a></li>
<li><a href="../fr504524/index.html">Modèle typique de développement d'épidémie COVID-19</a></li>
<li><a href="../fr504554/index.html">Unity Terrane et Mesh Blending</a></li>
<li><a href="../fr504558/index.html">La vaccination obligatoire est-elle une nouvelle réalité?</a></li>
<li><a href="../fr504560/index.html">Parlons du visage du crowdfunding domestique</a></li>
<li><a href="../fr504562/index.html">Sauvegarde incrémentielle Proxmox VE avec VBR</a></li>
<li><a href="../fr504564/index.html">IoT dans ma vie. Comment créer un bureau intelligent et suivre la croissance des pommes de terre dans votre appartement grâce à l'IoT</a></li>
<li><a href="../fr504566/index.html">Table dans Atlassian Confluence basée sur les données d'une demande REST</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>