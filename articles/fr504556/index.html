<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üç∏ üò™ ‚öôÔ∏è Gestion des gestes: gestion des conflits de gestes. 3e partie üë®üèæ‚Äçü§ù‚Äçüë®üèº üêÆ üßõüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Une traduction de l'article a √©t√© pr√©par√©e avant le lancement d'un cours de d√©veloppement avanc√© et de base pour Android.
 
 
 Il s'agit du troisi√®me ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Gestion des gestes: gestion des conflits de gestes. 3e partie</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/504556/"><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une traduction de l'article a √©t√© pr√©par√©e avant le lancement d'un </font><font style="vertical-align: inherit;">cours de d√©veloppement </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">avanc√©</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">base pour</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Android.</font></font></i></b><br>
<br>
<hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il s'agit du troisi√®me article d'une s√©rie sur le contr√¥le gestuel. Vous pouvez vous familiariser avec les traductions des </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">premi√®re</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">deuxi√®me</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> parties si vous les avez manqu√©es. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans les articles pr√©c√©dents, nous avons abord√© le sujet du remplissage de l'espace d'√©cran d'un bord √† l'autre. Dans cet article, nous verrons comment g√©rer les conflits qui surviennent entre les gestes de votre application et les nouveaux </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gestes du syst√®me</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Android 10</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Qu'entendons-nous par conflits de gestes? Regardons un exemple. Disons que nous avons un lecteur de musique qui permet √† l'utilisateur de faire d√©filer la chanson en cours par glisser-d√©poser </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SeekBar</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ws/l7/c6/wsl7c6atgtlocnpki8mseujekpe.gif"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Malheureusement, il </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SeekBar</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">est trop proche de la zone du geste de retour √† l'√©cran d'accueil, √† cause de quoi le geste de basculer rapidement vers l'application pr√©c√©dente (QuickSwitch) commence, ce qui g√™ne l'utilisateur. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La m√™me chose peut se produire sur n'importe quel bord de l'√©cran o√π se trouvent les zones gestuelles. Il existe de nombreux exemples courants qui peuvent provoquer des conflits, tels que: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tiroirs de navigation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">DrawerLayout</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), carrousels ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ViewPager</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">curseurs</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SeekBar</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">glisser</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans les listes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce qui nous am√®ne √† la question "comment pouvons-nous r√©soudre ce probl√®me?" Pour faciliter cette question, nous avons cr√©√© un organigramme qui vous propose une r√©ponse en fonction de la situation.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/dt/em/vg/dtemvg_izc9txl88myfhkrih_5a.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez trouver une version PDF de l'organigramme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'esp√®re que les questions ne n√©cessitent pas d'explication, mais juste au cas o√π, je passerai en revue chacune d'elles:</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. L'application doit-elle masquer les barres de navigation et d'√©tat?</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La premi√®re question est de savoir si le cas d'utilisation principal de votre application n√©cessite de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">masquer</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> les barres de navigation et / ou d'√©tat. </font><font style="vertical-align: inherit;">Par masquage, nous voulons dire que ces panneaux syst√®me ne sont pas visibles du tout. </font><font style="vertical-align: inherit;">Cela </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ne</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> signifie </font><i><font style="vertical-align: inherit;">pas</font></i><font style="vertical-align: inherit;"> que vous avez mis en ≈ìuvre le concept de ¬´bord √† bord¬ª ou quelque chose de similaire dans votre application. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Raisons possibles pour r√©pondre ¬´oui¬ª √† cette question:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous utilisez l'indicateur WindowManager </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">FLAG_FULLSCREEN</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Veuillez noter que cela peut √©galement √™tre fait √† l'aide de l'attribut de th√®me </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">android:windowFullscreen</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou √©tendu √† partir de l'une des options de th√®me </font></font><code>Theme.XXX.Fullscreen</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous utilisez l'indicateur de visibilit√© system-ui </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SYSTEM_UI_FLAG_FULLSCREEN</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous utilisez l'un des indicateurs de visibilit√© syst√®me-interface utilisateur en mode immersif: </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SYSTEM_UI_FLAG_IMMERSIVE</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SYSTEM_UI_FLAG_IMMERSIVE_STICKY</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Des exemples courants d'applications qui devraient r√©pondre ¬´oui¬ª √† cette question sont les jeux, les lecteurs vid√©o, les visionneuses de photos et les applications de dessin.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Le sc√©nario principal d'utilisation de l'interface utilisateur implique des glissements dans / autour de la zone de geste?</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette question permet de savoir si votre interface utilisateur contient des √©l√©ments dans / √† c√¥t√© des zones de gestes (√† la fois ¬´arri√®re¬ª et ¬´maison¬ª) que l'utilisateur doit balayer. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les jeux disent g√©n√©ralement oui, car</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les commandes √† l'√©cran sont g√©n√©ralement situ√©es pr√®s du bord gauche / droit et du bas de l'√©cran.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans certains jeux, vous devez balayer les √©l√©ments qui peuvent se trouver n'importe o√π sur l'√©cran.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 En plus des jeux, des exemples courants d'interfaces utilisateur qui devraient dire oui sont:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'interface utilisateur recadre les photos o√π les cadres d√©pla√ßables sont √©galement proches des bords gauche et droit de l'√©cran.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une application de dessin o√π l'utilisateur peut dessiner sur une toile qui couvre tout l'√©cran.</font></font></li>
</ul><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. Vue fr√©quemment utilis√©e dans / autour de la zone gestuelle?</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'esp√®re que c'est une question assez simple. </font><font style="vertical-align: inherit;">Cela inclut √©galement les vues, qui couvrent la zone des gestes, puis s'√©tendent sur une grande partie de l'√©cran, par exemple, </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">DrawerLayout</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou sur une grande </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ViewPager</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. La vue implique un glissement / glisser?</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous changeons un peu de tactique et commen√ßons √† regarder les points de vue individuels. </font><font style="vertical-align: inherit;">Pour tous les points de vue pour lesquels vous avez r√©pondu par l'affirmative √† la troisi√®me question, nous apportons une petite pr√©cision: l'utilisateur doit-il glisser / glisser? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y a de </font><font style="vertical-align: inherit;">nombreux exemples o√π vous devez r√©pondre ¬´ oui¬ª: </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SeekBars</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BottomSheet</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou m√™me </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">PopupMenu</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(vous devez glisser pour ouvrir).</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. La vue est-elle enti√®rement / g√©n√©ralement situ√©e sous les zones gestuelles?</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sur la base de la quatri√®me question, nous clarifions maintenant si la vue est enti√®rement ou principalement situ√©e dans la zone gestuelle. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si votre vue se trouve dans un conteneur d√©roulant comme celui-ci </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">RecyclerView</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, pensez √† cette question un peu diff√©remment: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la vue enti√®rement / essentiellement d√©velopp√©e tombe-t-elle sous la zone de mouvement dans toutes les positions de d√©filement</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ? Si l'utilisateur peut faire d√©filer la vue sous la zone des gestes, vous n'avez rien √† faire. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le diagramme ci-dessus, vous remarquerez peut-√™tre un carrousel plein √©cran ( </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ViewPager</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) comme exemple de r√©ponse n√©gative et vous vous demandez pourquoi ce cas n'a pas besoin d'√™tre trait√©. Cela est d√ª au fait que les zones de gestes gauche / droite sont relativement petites en largeur (par d√©faut: </font></font><code>20dp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chacune) par rapport √† la largeur de la vue. Typique</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la largeur de l'√©cran de votre t√©l√©phone</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en orientation portrait est de ~ 360dp, laissant ~ 320dp d'espace libre dans lequel l'utilisateur n'a pas de difficult√© (c'est presque </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">90% de l'</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √©cran). </font><font style="vertical-align: inherit;">M√™me avec des marges / retraits internes, l'utilisateur peut toujours faire d√©filer confortablement le carrousel.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6. La bordure de vue chevauche-t-elle les zones de mouvement requises?</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La derni√®re question pr√©cise si la vue se trouve sous l'une des zones de mouvement requises. </font><font style="vertical-align: inherit;">Si vous vous souvenez de notre </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">article pr√©c√©dent</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , vous vous souviendrez que les </font><font style="vertical-align: inherit;">zones </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">obligatoires</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> des gestes du syst√®me sont des zones de l'√©cran o√π les gestes du syst√®me ont toujours la priorit√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans Android 10, il n'y a qu'une seule zone de geste obligatoire, situ√©e au bas de l'√©cran, qui permet √† l'utilisateur de rentrer chez lui ou d'ouvrir ses derni√®res applications. </font><font style="vertical-align: inherit;">Cela pourrait changer dans les futures versions de la plate-forme, mais maintenant nous n'avons plus qu'√† travailler avec la vue en bas de l'√©cran. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Des exemples typiques sont:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modeless </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BottomSheet</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , car ils ont tendance √† se </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">r√©duire</font></a><font style="vertical-align: inherit;"> en une petite vue glisser-d√©poser en bas de l'√©cran.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un carrousel √† d√©filement horizontal en bas de l'√©cran, par exemple, une interface avec des autocollants.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant que nous avons tri√© les questions, nous esp√©rons que vous pourrez arriver √† l'une des solutions, alors examinons chacune d'elles plus en d√©tail.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aucun conflit √† g√©rer</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Commen√ßons par la ¬´solution¬ª la plus simple, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ne faites rien</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien s√ªr, il y a peut-√™tre encore de la place pour les optimisations que vous pouvez faire (voir la section ci-dessous), mais heureusement, il n'y a pas de probl√®mes s√©rieux en utilisant l'application avec le mode de navigation gestuelle activ√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si l'horaire vous a amen√© ici, mais que vous pensez toujours qu'il y a un probl√®me, veuillez </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nous en informer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Peut-√™tre que nous avons manqu√© quelque chose.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√©placement de la vue depuis les zones de mouvement</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme nous l'avons appris dans notre </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">article pr√©c√©dent</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , des encarts existent pour indiquer √† votre application o√π se trouvent les zones de gestes du syst√®me √† l'√©cran. L'une des m√©thodes que nous pouvons utiliser pour r√©soudre les conflits de mouvements consiste √† d√©placer toutes les vues conflictuelles des zones de mouvements. Ceci est particuli√®rement important pour la vue en bas de l'√©cran, car cette zone est la zone des gestes obligatoires et les applications ne peuvent pas y utiliser les API d'exclusion de gestes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Prenons un autre regard sur un exemple. Nous avons une </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">interface de lecteur de musique</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que nous avons montr√©e ci-dessus. Il contient </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SeekBar</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, situ√© en bas de l'√©cran, permettant √† l'utilisateur de faire d√©filer la chanson. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/lt/ww/rd/ltwwrdft6rnq4dmzynsq_hl8wuq.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lecteur de musique UI avec une barre de recherche en bas de l'√©cran</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais lorsqu'un utilisateur essaie de sauter une chanson, cela se produit: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ws/l7/c6/wsl7c6atgtlocnpki8mseujekpe.gif"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enregistrer un geste syst√®me en conflit avec SeekBar</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
En effet, la zone inf√©rieure du geste chevauche la SeekBar, donc le geste de retour √† la maison est prioritaire. </font><font style="vertical-align: inherit;">Voici la visualisation des zones gestuelles:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/mv/rb/k_/mvrbk_u3vsfq9pqh1dmc-tcmsca.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une solution simple</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La solution la plus simple ici consiste √† ajouter un retrait / marge suppl√©mentaire afin que la barre de recherche se d√©place vers le haut depuis la zone de mouvement. </font><font style="vertical-align: inherit;">Quelque chose comme ceci: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kp/ss/q4/kpssq4kwardpz89ds4lhvcolidq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
si nous faisons glisser le SeekBar dans cet exemple, vous verrez que nous </font></font><br>
<br>
<img src="https://habrastorage.org/webt/so/kt/rm/soktrm6wlfskrj16nm1yrhh853q.gif"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n'activons plus</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> le geste de retour: </font><i><font style="vertical-align: inherit;">SeekBar n'entre plus en conflit avec le geste du syst√®me inf√©rieur. </font></i></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour l'impl√©menter, nous devons utiliser les nouveaux </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">encarts de gestes syst√®me</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> disponibles dans l'API 29 et la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">biblioth√®que</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Jetpack </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">Core</font></a><font style="vertical-align: inherit;"> v1.2.0 (actuellement en </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alpha</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">Dans l'exemple, nous augmentons le retrait inf√©rieur </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SeekBar</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour correspondre √† la valeur de l' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">encart</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> inf√©rieur du </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">geste</font></a><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-type">ViewCompat</span>.setOnApplyWindowInsetsListener(seekBar) { view, insets -&gt;
     <span class="hljs-comment">//      view ,    system gesture insets</span><font></font>
    view.updatePadding(<font></font>
        bottom = insets.systemGestureInsets.bottom<font></font>
    )<font></font>
    insets<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous souhaitez apprendre √† simplifier l'utilisation </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">WindowInsets</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, vous pouvez lire notre autre article sur ce sujet: </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WindowInsets - Disposition des √©couteurs</font></font></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Actions suppl√©mentaires</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä ce stade, vous pouvez d√©cider que le travail est d√©j√† termin√©, et pour une mise en page, cela peut tr√®s bien √™tre la solution finale. </font><font style="vertical-align: inherit;">Mais dans notre exemple, l'interface utilisateur a r√©gress√© visuellement avec beaucoup d'espace perdu sous </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SeekBar</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Ainsi, au lieu de simplement pousser la vue vers le haut, nous pouvons plut√¥t repenser la mise en page pour √©viter de perdre de l'espace: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/5p/pw/yn/5ppwyncrvyrbr9vbnsm3ehdlfbs.gif"><br>
<i><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SeekBar</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d√©plac√© vers le haut du panneau de lecture. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici, nous nous sommes d√©plac√©s </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SeekBar</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vers le haut du panneau de lecture, compl√®tement en dehors de la zone des gestes. </font><font style="vertical-align: inherit;">Cela signifie que nous n'avons plus besoin d'augmenter artificiellement la hauteur du panneau pour l'adapter </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SeekBar</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<i>          ,     .          <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">¬´  ¬ª</a>.</i><br>
<br>
<h3> API  </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans notre </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pr√©c√©dent article,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nous mentionnions que </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬´les applications ont la possibilit√© d'exclure les mouvements du syst√®me pour certaines parties de l'√©cran¬ª</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Les applications le font √† l'aide des API d'exclusion de gestes, qui sont apparues pour la premi√®re fois dans Android 10. Le </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
syst√®me propose deux fonctions diff√©rentes pour exclure les zones de gestes: </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">View.setSystemGestureExclusionRects()</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Window.setSystemGestureExclusionRects()</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Ce que vous devez utiliser d√©pend de l'application: si vous utilisez Android </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">View</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, le syst√®me pr√©f√®re l'API de vue, sinon utilisez l' </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Window</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La principale diff√©rence entre les deux API est que l' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API Window</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s'attend √† ce que tous les rectangles soient dans l'espace de coordonn√©es de la fen√™tre. Si vous utilisez la vue, vous travaillerez g√©n√©ralement dans l'espace de coordonn√©es de la vue. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'API View</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> prend en charge la transformation entre les espaces de coordonn√©es, c'est-√†-dire que vous devez raisonner uniquement en termes de contenu de la vue. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Regardons un exemple. Nous allons utiliser √† nouveau notre exemple de lecteur de musique, qui </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SeekBar</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">est situ√© sur toute la largeur de l'√©cran. Nous avons r√©solu le conflit </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SeekBar</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">avec le geste de revenir √† l'√©cran d'accueil dans la section pr√©c√©dente, mais nous avons encore des zones de gestes gauche et droite dont nous devons prendre soin. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voyons ce qui se passe lorsqu'un utilisateur essaie de sauter une chanson lorsque le ¬´curseur¬ª</font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SeekBar</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(glissement circulaire) est situ√© pr√®s de l'un des bords: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sy/8f/ef/sy8fefu9q7swxqmxqqefbt8sabk.gif"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SeekBar a un conflit avec la zone de geste arri√®re.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Comme le curseur est sous la zone de geste droite, le syst√®me pense que l'utilisateur essaie de revenir en arri√®re en utilisant le geste, par cons√©quent, affiche la fl√®che arri√®re. Cela n'est pas pratique pour les utilisateurs, car ils ne voulaient probablement pas revenir en arri√®re pour le moment. Nous pouvons r√©soudre ce probl√®me en utilisant les API d'exclusion de gestes mentionn√©es ci-dessus pour exclure les bordures du curseur. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les API d'exception de geste sont g√©n√©ralement appel√©es √† partir de deux endroits: </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">onDraw()</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lorsque votre vue est rendue, et </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">onLayout()</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">autrement. Votre vue passe</font></font><code><code>List&lt;</code>Rect&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contenant tous les rectangles √† exclure. </font><font style="vertical-align: inherit;">Comme mentionn√© pr√©c√©demment, ces rectangles doivent √™tre dans leur propre syst√®me de coordonn√©es de vue. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Habituellement, vous cr√©ez une fonction comme celle-ci qui sera appel√©e depuis </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">onLayout()</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et / ou </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">onDraw()</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">private</span> val gestureExclusionRects = mutableListOf&lt;<span class="hljs-type">Rect</span>&gt;()
<span class="hljs-keyword">private</span> fun updateGestureExclusion() {
   <span class="hljs-comment">//   ,      Android 10+</span>
   <span class="hljs-keyword">if</span> (<span class="hljs-type">Build</span>.<span class="hljs-type">VERSION</span>.<span class="hljs-type">SDK_INT</span> &lt; <span class="hljs-number">29</span>) <span class="hljs-keyword">return</span>
  <span class="hljs-comment">// -,     </span><font></font>
   gestureExclusionRects.clear()<font></font>
      <span class="hljs-comment">//   ,    .  SeekBar    .</span><font></font>
   thumb?.also { t -&gt;<font></font>
       gestureExclusionRects += t.copyBounds()<font></font>
   }<font></font>
   <span class="hljs-comment">//            view,       ,     </span>
   <span class="hljs-comment">// ,       </span><font></font>
   systemGestureExclusionRects = gestureExclusionRects<font></font>
}</code></pre><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un exemple complet peut √™tre trouv√© </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s avoir ajout√© cela, le rembobinage pr√®s des bords fonctionne comme pr√©vu: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pu/ph/oi/puphoicsuu768lcmuhs0vwp9plc.gif"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SeekBar fonctionne dans la zone de geste arri√®re </font></font></i><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque sur l'exemple ci-dessus. </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SeekBar</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le fait d√©j√† automatiquement pour vous dans Android 10, il n'est donc pas n√©cessaire de le faire vous-m√™me. </font><font style="vertical-align: inherit;">Ici, nous le faisons juste √† titre d'exemple pour vous montrer les grandes lignes.</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Limites</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien que les API d'exclusion de gestes puissent sembler √™tre la solution parfaite pour r√©soudre tous les conflits de gestes, ce n'est en fait pas le cas. En utilisant les API d'exclusion de gestes, vous d√©clarez que le geste de votre application est plus important que les actions de retour du syst√®me. Ceci est une d√©claration forte, donc cette API est con√ßue pour √™tre une issue de secours lorsque vous ne pouvez rien faire d'autre. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En utilisant les API d'exclusion de gestes, vous d√©clarez que le geste de votre application est plus important que l'action syst√®me de retour en arri√®re.</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
√âtant donn√© que le comportement fourni par l'API peut violer une exp√©rience utilisateur confortable, le syst√®me limite son utilisation: les applications ne peuvent exclure que jusqu'√† </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">200 dp</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> par bord. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici quelques questions courantes que les d√©veloppeurs se posent lorsqu'ils entendent cela:</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pourquoi la restriction est-elle n√©cessaire?</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> J'esp√®re que l'explication ci-dessus vous a d√©j√† conduit √† une raison. Nous pensons qu'il est tr√®s important pour l'utilisateur de pouvoir revenir en arri√®re de fa√ßon constante depuis le balayage lat√©ral. De mani√®re coh√©rente sur l'ensemble de l'appareil, pas une seule application. Cette restriction peut sembler trop restrictive, mais une seule application, √† l'exclusion de tout le bord de l'√©cran, suffit pour g√™ner l'utilisateur, ce qui conduit soit √† la suppression de l'application, soit √† quelque chose de plus radical. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En d'autres termes, le syst√®me de navigation doit toujours √™tre coh√©rent et facile √† utiliser. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pourquoi 200dp?</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'argument pour 200dp est assez simple. Comme nous l'avons mentionn√© pr√©c√©demment, les API d'exclusion de gestes sont destin√©es √† √™tre utilis√©es en dernier recours, donc cette limite a √©t√© calcul√©e comme un multiple de plusieurs cibles tactiles importantes. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La taille minimale recommand√©e</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour une cible sensorielle est de </font></font><code>48dp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.4 cibles sensorielles √ó </font></font><code>48dp = 192dp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Ajoutez un peu plus d'indentation et nous obtenons la valeur </font></font><code>200dp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Que faire si j'ai besoin d'exclure plus de 200dp par front?</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Le syst√®me exclura uniquement les 200dp les plus bas que vous avez demand√©s. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cq/vs/b4/cqvsb4btibhnqpfd8xvxhigsyxk.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le syst√®me permet une demande pour une hauteur totale de 200 dp, √† partir du bord inf√©rieur de </font></font></i><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ma vue en dehors de l'√©cran, est-ce consid√©r√© comme une limite?</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Non, le syst√®me ne prend en compte que les rectangles exclus qui se trouvent √† l'√©cran. </font><font style="vertical-align: inherit;">De m√™me, si la vue est partiellement √† l'√©cran, seule la partie visible du rectangle demand√© est prise en compte.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plongez dans le prochain post</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Peut-√™tre qu'apr√®s avoir lu ceci, vous vous demandez pourquoi nous n'avons pas consid√©r√© le c√¥t√© droit de l'organigramme. </font><font style="vertical-align: inherit;">Les solutions ci-dessous sont con√ßues sp√©cifiquement pour les applications qui utilisent tout l'√©cran dans le rendu. </font><font style="vertical-align: inherit;">Nous en parlerons dans la prochaine partie.</font></font><br>
<br>
<hr><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√©veloppeur Android. </font><font style="vertical-align: inherit;">Cours avanc√©</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√©veloppeur Android. </font><font style="vertical-align: inherit;">Cours de base</font></font></a></li>
</ul><br>
<hr></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr504516/index.html">Tactiques hacker pr√©f√©r√©es</a></li>
<li><a href="../fr504520/index.html">Comment faire 70 publications gratuites sur un projet inconnu en une semaine</a></li>
<li><a href="../fr504522/index.html">Que voir en quarantaine? Une s√©lection de mat√©riaux de Technostream (partie 6)</a></li>
<li><a href="../fr504524/index.html">Mod√®le typique de d√©veloppement d'√©pid√©mie COVID-19</a></li>
<li><a href="../fr504554/index.html">Unity Terrane et Mesh Blending</a></li>
<li><a href="../fr504558/index.html">La vaccination obligatoire est-elle une nouvelle r√©alit√©?</a></li>
<li><a href="../fr504560/index.html">Parlons du visage du crowdfunding domestique</a></li>
<li><a href="../fr504562/index.html">Sauvegarde incr√©mentielle Proxmox VE avec VBR</a></li>
<li><a href="../fr504564/index.html">IoT dans ma vie. Comment cr√©er un bureau intelligent et suivre la croissance des pommes de terre dans votre appartement gr√¢ce √† l'IoT</a></li>
<li><a href="../fr504566/index.html">Table dans Atlassian Confluence bas√©e sur les donn√©es d'une demande REST</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>