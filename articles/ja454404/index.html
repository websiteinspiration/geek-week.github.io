<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨‍🌾 🎊 🧣 Cisco 200-125 CCNA v3.0のトレーニング。6日目：空白を入力します（DHCP、TCP、「ハンドシェイク」、一般的なポート番号） 👇🏼 🤟🏻 🔬</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="今日のビデオチュートリアルを始める前に、YouTubeでの私のコースの人気に貢献してくれたすべての人に感謝したいと思います。約8か月前にそれを始めたとき、私はそのような成功を期待していませんでした-今日、312724人が私のレッスンを見て、私は11208人の購読者を持っています。この控えめな事業がそ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Cisco 200-125 CCNA v3.0のトレーニング。6日目：空白を入力します（DHCP、TCP、「ハンドシェイク」、一般的なポート番号）</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/454404/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">今日のビデオチュートリアルを始める前に、YouTubeでの私のコースの人気に貢献してくれたすべての人に感謝したいと思います。約8か月前にそれを始めたとき、私はそのような成功を期待していませんでした-今日、312724人が私のレッスンを見て、私は11208人の購読者を持っています。この控えめな事業がそのような高さに達するとは夢にも思いませんでした。しかし、時間を無駄にせず、すぐに今日のレッスンに移りましょう。今日は、最後の7つのビデオチュートリアルで発生したギャップを埋めます。今日はたったの6日ですが、3日目は3つのビデオレッスンに分かれているので、実際に今日は8番目のビデオレッスンを視聴します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今日は、3つの重要なトピックを扱います。DHCP、TCP送信、および最も一般的なポート番号です。 IPアドレスについてはすでに説明しましたが、IPアドレスを構成する上で最も重要な要素の1つはDHCPです。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ci/ei/ae/cieiaep4hjupmelfynpggeap1my.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DHCPは「動的ホスト構成プロトコル」の略で、ホストのIPアドレスを動的に構成するのに役立ちます。だから私たちは皆この窓を見ました。 「IPアドレスを自動的に取得する」オプションをクリックすると、コンピューターは同じサブネット上に構成されているDHCPサーバーを検索し、さまざまなパケットとIPアドレスの要求を送信します。 DHCPには6つのメッセージがあり、そのうち4つはIPアドレスの割り当てに重要です。</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初のメッセージはDHCP DISCOVERY検出メッセージです。 DHCP検出メッセージは挨拶のようなものです。新しいデバイスがネットワークに入ると、ネットワークにDHCPサーバーが存在するかどうかを尋ねられます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スライドに表示されているのはブロードキャストリクエストのようです。デバイスコードは、DHCPサーバーを探してネットワーク上のすべてのデバイスにアクセスしています。先ほど言ったように、これはブロードキャストリクエストなので、すべてのネットワークデバイスがそれを聞きます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/l2/et/0u/l2et0uhga_r5aljbrztx7bp6smq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ネットワーク上にDHCPサーバーがある場合は、パケットを送信します-DHCP OFFER文。この提案は、ディスカバリー要求に応答して、DHCPサーバーが構成をクライアントに送信し、特定のIPアドレスを受け入れるようクライアントに促すことを意味します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/_i/ab/7s/_iab7saijauecezzkrft-gbi2he.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DHCPサーバーはIPアドレス（この場合は192.168.1.2）を予約しません。つまり、このアドレスをデバイス用に予約します。同時に、オファーパッケージには、DHCPサーバーの独自のIPアドレスが含まれています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このネットワーク上に複数のDHCPサーバーがある場合、クライアントからブロードキャスト要求を受信した別のDHCPサーバーも、192.168.1.50などのIPアドレスを提供します。通常、2つの異なるDHCPサーバーが同じネットワーク上に構成されていませんが、これが発生する場合があります。したがって、DHCPプロポーザルがクライアントに送信されると、クライアントは2つのDHCPプロポーザルを受信し、受け入れるDHCPプロポーザルを決定する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
クライアントが最初のアプリケーションを受け入れると仮定しましょう。これは、クライアントがDHCP REQUEST要求を送信することを意味し、文字通り「DHCPサーバー192.168.1.1によって提供されるIPアドレス192.168.1.2を受け入れます。」</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xg/b8/l3/xgb8l3oa5ult-onr_djirxpww-0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
要求を受信すると、DHCPサーバー192.168.1.1は「OK、認めます」と応答します。つまり、要求を確認し、このDHCP ACK確認をクライアントに送信します。しかし、別のDHCP DHCPサーバーがクライアント用に1.50のIPアドレスを予約したことを覚えています。クライアントのブロードキャスト要求を受信すると、彼は障害を見つけてこのIPアドレスをプールに戻し、別の要求を受信した場合に別のクライアントに割り当てることができるようにします。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/kz/wo/fw/kzwofwtka7k_b3ufebyzeb9nmxq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらは、DHCPがIPアドレス割り当ての最初に交換する4つの重要なメッセージです。さらに、DHCPにはさらに2つの情報メッセージがあります。 2番目のステップのDHCP OFFER文で受け取ったよりも多くの情報が必要な場合、クライアントは情報メッセージを発行します。 DHCPサーバーがDHCPプロポーザルで十分な情報を提供しなかった場合、またはクライアントがプロポーザルパケットに含まれている情報よりも多くの情報を必要とする場合は、追加のDHCP情報を要求します。クライアントがサーバーに送信する別のメッセージがあります-これはDHCP RELEASEのリリースです。これは、クライアントが自分の既存のIPアドレスを解放したいことを示しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、ほとんどの場合、クライアントがサーバーにDHCP RELEASEを送信する前に、ユーザーがネットワークから切断されます。これは、コンピュータの電源を切ると発生します。同時に、ネットワーククライアントまたはコンピュータは、使用されたアドレスの解放についてサーバーに通知する時間がないので、DHCP RELEASEは必須の手順ではありません。 IPアドレスを取得するために必要な手順は、DHCP検出、DHCPオファー、DHCP要求、およびDHCP確認です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次のレッスンの1つでは、DNCPプールを作成するときにDHCPサーバーを構成する方法について説明します。プールとは、192.168.1.1から192.168.1.254の範囲のIPアドレスの割り当てについてサーバーに通知することを意味します。したがって、DHCPサーバーはプールを作成し、その中に254個のIPアドレスを配置し、このプールからのみネットワーククライアントアドレスを割り当てることができます。これは、ユーザーが実行できる管理設定のようなものです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、TCPの伝送について考えます。写真に写っている「電話」をご存知かと思いますが、子どもの頃はコードでつないだ缶を使って話していました。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/63/gm/rz/63gmrzqyd_3alrjqzkz4f0zqq7u.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
残念ながら、今日の世代はそのような「贅沢」を買う余裕はありません。</font><font style="vertical-align: inherit;">つまり、今日、子供たちは1歳からテレビの前にいて、PSPをプレイしています。これは問題点かもしれませんが、子供の頃はもっと良かったと思います。外に出てゲームをして、今日の子供たちをソファから引き裂くことはできません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私の息子はまだ1歳で、iPadに夢中になっていることはすでにわかっています。つまり、彼はまだ非常に小さいということですが、今日の子供たちは電子機器の取り扱い方法に関する知識をすでに持っているようです。</font><font style="vertical-align: inherit;">だから、私は子供の頃、私たちが遊んでいたときに缶を引き裂いていて、彼らが紐で縛って片方の缶で何かを言ったとき、もう一方の端では人は自分の言っていることを聞くことができ、耳に缶を入れただけでした。</font><font style="vertical-align: inherit;">したがって、これはネットワーク接続に非常に似ています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今日、TCP伝送の場合でも、実際のデータ転送が始まる前に確立する必要のある接続が必要です。前のレッスンで説明したように、TCPはネットワークへの接続の事前確立に重点を置いた伝送であり、UDPは接続を確立する必要のない伝送です。 UDPは私がボールを投げるときだと言うことができ、それをキャッチできるかどうかはあなた次第です。あなたはそれをする準備ができているかどうか、これは私の問題ではありません、私はそれをあきらめるつもりです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
TCPは、相手に話しかけ、ボールを投げるつもりであることを事前に警告するようなものです。つまり、あなたとの間に接続が確立され、それから初めてボールを投げるので、パートナーが彼を捕まえる準備ができる可能性が非常に高くなります。したがって、TCPは実際に接続を構築し、実際の転送を開始します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それがそのような接続を作成する方法を検討してください。接続を作成するために、このプロトコルは3ステップのハンドシェイクを使用します。これはあまり技術的な用語ではありませんが、TCP接続を説明するために長い間使用されてきました。 3ステージハンドシェイクは送信側デバイスによって開始され、クライアントはSYNフラグ付きのパケットをサーバーに送信します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
顔が見える手前の女の子がデバイスA、顔が見えない背景の女の子がデバイスBであるとします。女の子Aは女の子BにSYNパケットを送信します。彼は私と話したいです。だから、私はコミュニケーションの準備ができていると答える必要があります！」どうやってするの？単に別のSYNパケットを送り返してから、元のSYNパケットの受信を示すACK確認応答を送り返すことができます。ただし、サーバーはACKを個別に送信する代わりに、SYNとACKを含む共通のパケットを形成し、ネットワーク経由で送信します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/yn/tk/vq/yntkvqoqob-zrdvrvhx1ecyx-kq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、現時点では、デバイスAがSYNパケットを送信し、SYN / ACKパケットを受信しました。これで、デバイスAはデバイスBにACKを送信する必要があります。つまり、デバイスBが通信を確立するための同意を受け取ったことを確認します。したがって、両方のデバイスがSYNパケットとACKパケットを受信し、接続が確立されたと言えます。つまり、TCPを介した3ステージハンドシェイクが実装されています。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fj/vp/vd/fjvpvdj6s4utkhjnukcc_b2lxoa.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、TCPウィンドウ技術について説明します。簡単に言えば、これは送信側と受信側の機能をネゴシエートするためにTCP / IPで使用される方法です。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gj/q6/bo/gjq6booikvyjk0qxa5smdf6h-k0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Windowsで、あるドライブから別のドライブに、たとえば2 GBのサイズの大きなファイルを転送しようとしているとします。転送の最初に、ファイル転送に約1年かかるとシステムから通知されます。しかし、数秒後、システムは回復し、「ああ、ちょっと待ってください。1年ではなく6か月ほどかかると思います。」と言うでしょう。もう少し時間が経つとWindowsは「1か月でファイルを転送できると思います。」というメッセージが表示されます。次に、「1日」、「6時間」、「3時間」、「1時間」、「20分」というメッセージが表示されます。 "、" 10分 "、" 3分。 "実際、ファイル転送のプロセス全体は3分しかかかりません。どのようにして発生しましたか？最初に、デバイスが別のデバイスに接続しようとしたとき、1つのパケットを送信して確認を待ちます。デバイスが待機している場合長い間確認、それは考えています：「その速度で2 GBのデータを転送する必要がある場合、約2年かかります。」しばらくすると、デバイスはACKを受信して​​次のように考えます。「OK、1つのパケットを送信してACKを受信したため、受信者は1つのパケットを受信できます。今、私は彼に1パケットではなく10パケットを送信しようとするでしょう。」送信者は10パケットを送信し、しばらくすると受信デバイスからACK確認を受信します。つまり、受信者は次の11番目のパケットを待機しています。送信者は次のように考えています。「優秀です。受信者はすぐに10パケットに対処したので、今度は10パケットではなく100パケットを送信しようとします。」彼は100パケットを送信し、受信者は受信したパケットに応答して現在101パケットを待機しています。したがって、時間の経過とともに、送信されるパケットの数が増加します。しばらくすると、デバイスはACKを受信して​​次のように考えます。「OK、1つのパケットを送信してACKを受信したため、受信者は1つのパケットを受信できます。今、私は彼に1パケットではなく10パケットを送信しようとするでしょう。」送信者は10パケットを送信し、しばらくすると受信デバイスからACK確認を受信します。つまり、受信者は次の11番目のパケットを待機しています。送信者は次のように考えています。「優秀です。受信者はすぐに10パケットに対処したので、今度は10パケットではなく100パケットを送信しようとします。」彼は100パケットを送信し、受信者は受信したパケットに応答して現在101パケットを待機しています。したがって、時間の経過とともに、送信されるパケットの数が増加します。しばらくすると、デバイスはACKを受信して​​次のように考えます。「OK、1つのパケットを送信してACKを受信したため、受信者は1つのパケットを受信できます。今、私は彼に1パケットではなく10パケットを送信しようとするでしょう。」送信者は10パケットを送信し、しばらくすると受信デバイスからACK確認を受信します。つまり、受信者は次の11番目のパケットを待機しています。送信者は次のように考えています。「優秀です。受信者はすぐに10パケットに対処したので、今度は10パケットではなく100パケットを送信しようとします。」彼は100パケットを送信し、受信者は受信したパケットに応答して現在101パケットを待機しています。したがって、時間の経過とともに、送信されるパケットの数が増加します。今、私は彼に1パケットではなく10パケットを送信しようとするでしょう。」送信者は10パケットを送信し、しばらくすると受信デバイスからACK確認を受信します。つまり、受信者は次の11番目のパケットを待機しています。送信者は次のように考えています。「優秀です。受信者はすぐに10パケットに対処したので、今度は10パケットではなく100パケットを送信しようとします。」彼は100パケットを送信し、受信者は受信したパケットに応答して現在101パケットを待機しています。したがって、時間の経過とともに、送信されるパケットの数が増加します。今、私は彼に1パケットではなく10パケットを送信しようとするでしょう。」送信者は10パケットを送信し、しばらくすると受信デバイスからACK確認を受信します。つまり、受信者は次の11番目のパケットを待機しています。送信者は次のように考えています。「優秀です。受信者はすぐに10パケットに対処したので、今度は10パケットではなく100パケットを送信しようとします。」彼は100パケットを送信し、受信者は受信したパケットに応答して現在101パケットを待機しています。したがって、時間の経過とともに、送信されるパケットの数が増加します。今、私は彼に10個ではなく100個のパケットを送信しようとします。」彼は100パケットを送信し、受信者は受信したパケットに応答して現在101パケットを待機しています。したがって、時間の経過とともに、送信されるパケットの数が増加します。今、私は彼に10個ではなく100個のパケットを送信しようとします。」彼は100パケットを送信し、受信者は受信したパケットに応答して現在101パケットを待機しています。したがって、時間の経過とともに、送信されるパケットの数が増加します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そのため、最初に述べたものと比較して、ファイルのコピー時間が大幅に短縮されます。これは、大量のデータを転送する能力が向上したためです。しかし、それ以上の送信量の増加が不可能になる時期が来る。 10,000パケットを送信したものの、受信側のデバイスバッファが受信できるのは9,000パケットのみであるとします。この場合、受信側は「私は9000パケットを受信し、9001を受信する準備ができました」というメッセージとともにACKを送信します。このことから、送信側は、受信側デバイスのバッファの容量は9000のみであると結論付けています。つまり、これから一度に送信できるパケットは9000パケットまでです。この場合、送信者は、残りのデータ量を9000パケットの部分で転送するのにかかる時間をすばやく計算し、3分を割り当てます。この3分が実際の送信時間です。これがTCPウィンドウ処理です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、送信側デバイスが実際のネットワーク帯域幅を把握するためのトラフィック制御メカニズムの1つです。なぜ受信側デバイスの容量について事前に合意できないのでしょうか。実際には、ネットワーク上にはさまざまな種類のデバイスがあるため、これは技術的に不可能です。 iPadを使用していて、そのデータ転送/受信速度がiPhoneと異なる場合、異なるタイプの電話を使用している場合、または非常に古いコンピュータを使用している場合があります。したがって、誰もが異なるネットワーク帯域幅を持っています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、データ転送が低速で、または最小数のパケットの送信で開始され、トラフィックの「ウィンドウ」が徐々に増加する場合に、TCPウィンドウ技術が開発されました。 1つのパケット、5パケット、10パケット、1000パケット、10000パケットを送信し、「拡張」が特定の期間のトラフィック量を送信するための可能な最大値に達するまで、このウィンドウを徐々に徐々に開きます。したがって、ウィンドウ処理の概念はTCPプロトコルの一部です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、最も一般的なポート番号を見ていきます。典型的な状況は、メインサーバーが1つある場合です。これはおそらくデータセンターです。これには、ファイルサーバー、Webサーバー、メールサーバー、およびDHCPサーバーが含まれます。これで、クライアントコンピューターの1つが画像の中央にあるデータセンターに接続すると、クライアントサーバーへのファイルサーバートラフィックの送信が開始されます。このトラフィックは赤で表示され、特定のサーバーからの特定のアプリケーション用の特定のポートを使用して送信されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/af/in/sv/afinsvdolm711hypu3ext9upfoa.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サーバーは、特定のトラフィックの行き先をどのようにして知りましたか？宛先ポート番号から調べます。フレームを見ると、各データ転送で宛先ポート番号と送信元ポートの言及があることがわかります。青と赤のトラフィック、および青のトラフィックはWebサーバーのトラフィックであり、どちらも、異なるサーバーがインストールされている同じ物理サーバーに到着します。データセンターの場合は、仮想サーバーを使用します。では、赤のトラフィックがこの左のラップトップに戻り、このIPアドレスが返されるはずだったことをどのようにして知りましたか？彼らはポート番号のおかげでこれを知っています。ウィキペディアの記事「TCP and UDP Port List」を参照すると、すべての標準ポート番号がリストされていることがわかります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/o7/mv/li/o7mvliqzkeb8is-nxlwer-a7twg.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このページをスクロールすると、このリストの大きさがわかります。約61,000室の客室があります。 1から1024までのポート番号は、最も一般的なポート番号として知られています。たとえば、ポート21 / TCPは、ftpコマンドの送信、sshのポート22、Telnetのポート23、つまり暗号化されていないメッセージの送信を目的としています。非常に一般的なポート80は、HTTPを介してデータを送信するために使用され、ポート443は、HTTPSを介して暗号化されたデータを送信するために使用されます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一部のポートは同時にTCPとUDP用に設計されており、使用されている接続（TCPまたはUDP）に応じて異なるタスクを実行するポートもあります。したがって、公式にはポート80 TCPがHTTPに使用され、非公式にはポート80 UDPがHTTPに使用されていますが、別のHTTPプロトコル-QUICを使用しています。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/kp/wg/4i/kpwg4ie51ffwfupqhiwzgr72cyu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、TCPのポート番号は、UDPと同じように設計されているとは限りません。このリストを暗記する必要はありません。覚えておくのは不可能ですが、よく使われる最も一般的なポート番号を知っておく必要があります。私が言ったように、これらのポートのいくつかは標準で説明されている公式の目的を持っています、そしていくつかはクロムの場合のように非公式の目的を持っています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、この表にはすべての一般的なポート番号がリストされ、これらの番号は特定のアプリケーションを使用するときにトラフィックを送受信するために使用されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、私たちが知っている小さな情報に基づいて、データがネットワーク上でどのように移動するかを見てみましょう。コンピューター10.1.1.10が、アドレスが30.1.1.10であるこのコンピューターまたはこのサーバーに接続したいとします。各デバイスのIPアドレスの下に、そのMACアドレスがあります。例として、最後の4文字のみのMACアドレスを示しますが、実際には、12ビットの48ビットの16進数です。これらの数値はそれぞれ4ビットで構成されるため、12桁の16進数は48ビットの数値を表します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/qx/oq/_y/qxoq_y8qbtqnz284r9gewzso4ys.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ご存知のように、このデバイスがこのサーバーに接続する場合、3ステージハンドシェイクの最初のステップを最初に実行する必要があります。つまり、SYNパケットが送信されます。この要求を作成するとき、コンピューター10.1.1.10は、Windowsが動的に作成するソースポート番号を示します。 Windowsは、1〜65,000のポート番号をランダムに選択します。ただし、1から1024までの範囲の開始番号は広く知られているため、この場合、システムは25000より大きい番号を考慮し、たとえば、番号25113の下でランダムな送信元ポートを作成します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、システムは宛先ポートをパケット（この場合はポート21）に追加します。このFTPサーバーに接続しようとしているアプリケーションは、FTPトラフィックを送信する必要があることを知っているためです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、私たちのコンピューターは、「OK、私のIPアドレスは10.1.1.10です。IPアドレス30.1.1.10に連絡する必要があります。」これらのアドレスは両方ともパケットに含まれ、SYN要求を形成します。このパケットは、接続が終了するまで変更されません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このビデオから、データがネットワーク上をどのように移動するかを理解してほしい。リクエストを送信するコンピューターが送信元IPアドレスと宛先IPアドレスを確認すると、宛先アドレスがこのローカルネットワークにないことがわかります。これらはすべて24個のIPアドレスであることを忘れていました。したがって、IPアドレス/ 24を見ると、コンピューター10.1.1.10と30.1.1.10が同じネットワーク上にないことがわかります。したがって、送信側コンピュータは、このネットワークを終了するために、ルーターインターフェイスの1つで構成されているゲートウェイ10.1.1.1に向かう必要があることを理解しています。彼は10.1.1.1に行く必要があることを知っており、自分のMACアドレス1111を知っていますが、ゲートウェイ10.1.1.1のMACアドレスを知りません。彼は何をしているの？ネットワーク上のすべてのデバイスが受信するブロードキャストARP要求を送信しますが、IPアドレスが10.1のルーターのみが応答します。1.1。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/_6/zv/t7/_6zvt7h7bd2t2m3ylm7qxwdebbq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ルータはAAAA MACアドレスで応答し、送信元と宛先の両方のMACアドレスもこのフレームに配置されます。フレームが準備できたら、ネットワークを出る前に、CRCデータ整合性チェックが実行されます。これは、エラーを検出するためにチェックサムを見つけるためのアルゴリズムです。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
巡回冗長CRCコードは、SYNから最後のMACアドレスまでのこのフレーム全体がハッシュアルゴリズム（MD5など）を介して実行され、ハッシュ値になることを意味します。次に、ハッシュ値、つまりMD5チェックサムがフレームの先頭に配置されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/yt/k6/vl/ytk6vlqvgel8pukfjrhyishpjdu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
FCSはフレームチェックシーケンスであり、4バイトのCRC値であるため、FCS / CRCと指定しました。 FCSという名称を使用する人もいれば、CRCを使用する人もいるので、両方を示しただけです。しかし、基本的に、これは単なるハッシュ値です。ネットワークを介して送られるすべてのデータにエラーが含まれていないことを確認するために必要です。したがって、このフレームがルーターに到達すると、ルーターが最初に行うのは、独自にチェックサムを計算し、受信したフレームに含まれているFCSまたはCRC値と比較することです。したがって、ネットワーク経由で受信したデータにエラーが含まれていないことを確認でき、その後、フレームからチェックサムを削除します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、ルーターはMACアドレスを見て、「OK、AAAA MACアドレスはフレームが私宛てであることを意味します」と言って、MACアドレスを含むフレームの一部を削除します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ma/cu/pm/macupmm3aomnxwpcc8qbisqxlpo.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
宛先IPアドレス30.1.1.10を見ると、このパケットは自分宛ではなく、ルーターをさらに通過する必要があることがわかります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これでルータは、ネットワークがアドレス30.1.1.10で配置されている場所を確認する必要があるかどうかについて「考えています」。ルーティングの完全な概念はまだ検討していませんが、ルーターにはルーティングテーブルがあることはわかっています。このテーブルには、アドレス30.1.1.0のネットワークのエントリがあります。ご存じのとおり、これはホストIPアドレスではなく、ネットワーク識別子です。ルーターは、ルーター20.1.1.2を経由することでアドレス30.1.1.0/24に到達できると「考え」ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
あなたは尋ねるかもしれません、彼はどのようにこれを知っていますか？これについては、ルーティングプロトコルから、または管理者が静的ルートを設定している場合は設定から​​、彼がこのことを学習することを覚えておいてください。しかし、いずれにしても、このルーターのルーティングテーブルには目的のエントリが含まれているため、このパケットを20.1.1.2に送信する必要があることがわかります。ルーターがすでに宛先MACアドレスを知っていると想定して、パケットの転送を続けます。このアドレスがわからない場合は、ARPを再度開始し、ルーター20.1.1.2のMACアドレスを取得します。フレームの送信プロセスは再び続行されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、彼がすでにMACアドレスを知っていると想定すると、BBBの送信元MACアドレスとCCCの宛先MACアドレスが取得されます。ルータは再びFCS / CRCを計算し、それをフレームの先頭に配置します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vw/pf/vy/vwpfvynakpjxfx_mr358z9fafg4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、このフレームをネットワーク経由で送信し、フレームが20.1.12のルーターに到達し、チェックサムをチェックして、データが破損していないことを確認し、FCS / CRCを削除します。次に、MACアドレスを「切り捨て」、宛先を調べ、それがアドレス30.1.1.10であることを確認します。彼は、このアドレスが自分のインターフェースに接続されていることを知っています。フレーム形成と同じプロセスが繰り返され、ルーターは送信元と宛先のMACアドレスを追加し、ハッシュを実行し、ハッシュをフレームに付加して、ネットワーク経由で送信します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/3i/o4/xk/3io4xkbewxlrqu4yr3ckm-z8obe.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
自分宛のSYN要求を最終的に受信したサーバーは、ハッシュチェックサムをチェックし、パケットにエラーが含まれていない場合は、ハッシュを削除します。次に、MACアドレスを削除し、IPアドレスを調べて、このパケットが自分宛であることを認識します。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その後、OSIモデルの第3レベルに関連するIPアドレスをトリミングし、ポート番号を調べます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/g0/vg/io/g0vgiom_ihswcyzmyi-zua4k2lk.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
FTPトラフィックを意味するポート21が表示され、SYNが表示されるため、誰かが彼との接続を確立しようとしていることがわかります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで、ハンドシェイクについて学習した内容に従って、サーバー30.1.1.10はSYN / ACKパケットを作成し、コンピューター10.1.1.10に送り返します。このパケットを受信すると、デバイス10.1.1.10はACKを作成し、SYNパケットと同じようにネットワークを通過し、サーバーがACKを受信した後、接続が確立されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
知っておくべきことの1つは、すべてが1秒未満で発生することです。これは非常に高速なプロセスなので、すべてを理解できるように速度を落としました。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このチュートリアルで学んだことがお役に立てば幸いです。質問がある場合は、imran.rafai @ nwking.orgまでご連絡いただくか、このビデオの下に質問を投稿してください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次のレッスンから始めて、YouTubeから最も興味深い質問を3つ選択します。各質問の最後でこれを検討します。今後は「ベストクエスチョン」のセクションを設けますので、お名前を添えて掲載し、ライブでお答えします。いいと思います。</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/GXUwwg5Pl-k" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
いつもご利用いただきありがとうございます。私たちの記事は好きですか？もっと面白い資料を見たいですか？注文またはお友達にそれを推奨することで私たちをサポートしてください、私たちがあなたの</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ために発明したエントリーレベルのサーバーのユニークなアナログのHabrユーザーのための30％割引：</font></font></b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VPS（KVM）E5-2650 v4（6コア）10GB DDR4 240GB SSD 1Gbpsの真実20ドルまたはサーバーを分割する方法？</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（オプションは、RAID1およびRAID10、最大24コア、最大40GB DDR4で利用可能です）。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VPS（KVM）E5-2650 v4（6コア）10GB DDR4 240GB SSD 1Gbpsまで</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 6か月の期間の支払いで</font><b><font style="vertical-align: inherit;">夏まで無料で</font></b><font style="vertical-align: inherit;">、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここから</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注文でき</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dell R730xdは2倍安いですか？</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">唯一の我々は</font></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ 199×2インテルテトラデカコアのXeon E5-2697v3 2倍の2.6GHzの14C 64ギガバイトDDR4 4x960GB SSDの1Gbps 100テレビを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オランダで！</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デルR420-2x E5-2430 2.2Ghz 6C 128GB DDR3 2x960GB SSD 1Gbps 100TB-$ 99から！</font></font></b></b><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">インフラストラクチャビルディングの構築方法</font></a><font style="vertical-align: inherit;">について</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">お</font></a><font style="vertical-align: inherit;">読みください</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">Dell R730xd E5-2650 v4サーバーを使用するクラスcは、1ペニーで9,000ユーロかかりますか？</font></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja454394/index.html">ミニマリスト4パートMIDIプレーヤー</a></li>
<li><a href="../ja454396/index.html">主要なディストリビューションにsdl2をインストールする</a></li>
<li><a href="../ja454398/index.html">批評家からアルゴリズムへ：民主主義とテクノクラシーが音楽業界にどのようにやってきたか</a></li>
<li><a href="../ja454400/index.html">RおよびPowerShellを使用した仮想マシンステータスの日次レポート</a></li>
<li><a href="../ja454402/index.html">ユニットの動作を整理するためのUnityステートマシンアーキテクチャ</a></li>
<li><a href="../ja454406/index.html">秋葉原：オタク営巣地</a></li>
<li><a href="../ja454408/index.html">CortexM3 / M4（ARM）ハードウェアビットバンディング、カーネルアーキテクチャ、アセンブラ、C / C ++ 14、および一連のメタプログラミング</a></li>
<li><a href="../ja454410/index.html">PHP 7.4の新機能</a></li>
<li><a href="../ja454414/index.html">SDL 2レッスン：レッスン2-ゴム以外のメイン</a></li>
<li><a href="../ja454416/index.html">Hadoopディストリビューションのインポート</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>