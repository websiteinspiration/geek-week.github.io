<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💧 🐲 🍙 Kassandra. Wie man nicht stirbt, wenn man nur Oracle kennt 👠 🚣🏼 🧗🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo Habr. 
 
 Mein Name ist Misha Butrimov, ich möchte ein wenig über Cassandra sprechen. Meine Geschichte wird für diejenigen nützlich sein, die no...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Kassandra. Wie man nicht stirbt, wenn man nur Oracle kennt</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/qiwi/blog/486800/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hallo Habr. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mein Name ist Misha Butrimov, ich möchte ein wenig über Cassandra sprechen. Meine Geschichte wird für diejenigen nützlich sein, die noch nie auf NoSQL-Datenbanken gestoßen sind - sie enthält viele Implementierungsfunktionen und Fallstricke, die Sie kennen müssen. Und wenn Sie außer Oracle oder einer anderen relationalen Basis nichts gesehen haben, werden diese Dinge Ihr Leben retten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was ist gut an Cassandra? Dies ist eine NoSQL-Datenbank, die ohne einen einzigen Fehlerpunkt entwickelt wurde und sich gut skalieren lässt. Wenn Sie für eine Basis ein paar Terabyte hinzufügen müssen, fügen Sie dem Ring einfach Knoten hinzu. Erweitern Sie es auf ein anderes Rechenzentrum? Fügen Sie dem Cluster Knoten hinzu. Verarbeitete RPS erhöhen? Fügen Sie dem Cluster Knoten hinzu. Der andere Weg funktioniert auch.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/4s/4m/jn/4s4mjnltsraqofl5-ey4g2fi9t0.png" width="700"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was kann sie sonst noch? </font><font style="vertical-align: inherit;">Es geht darum, viele Anfragen zu bearbeiten. </font><font style="vertical-align: inherit;">Aber wie viel ist wie viel? </font><font style="vertical-align: inherit;">10, 20, 30, 40 Tausend Anfragen pro Sekunde - das ist nicht viel. </font><font style="vertical-align: inherit;">Auch 100.000 Anfragen pro Sekunde zur Aufnahme. </font><font style="vertical-align: inherit;">Es gibt Unternehmen, die angeben, 2 Millionen Anfragen pro Sekunde zu haben. </font><font style="vertical-align: inherit;">Hier müssen sie wahrscheinlich glauben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und im Prinzip hat Cassandra einen großen Unterschied zu relationalen Daten - es sieht überhaupt nicht so aus. </font><font style="vertical-align: inherit;">Und das ist sehr wichtig zu beachten.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nicht alles, was gleich aussieht, funktioniert gleich</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Einmal kam ein Kollege zu mir und fragte: „Hier ist die CQL Cassandra-Abfragesprache, und sie hat eine select-Anweisung, sie hat wo, sie hat und. Ich schreibe Briefe und es funktioniert nicht. Warum?". Wenn Sie Cassandra als relationale Datenbank behandeln, ist dies ein idealer Weg, um Ihr Leben durch brutalen Selbstmord zu beenden. Und ich befürworte nicht, es ist in Russland verboten. Sie entwerfen nur etwas Falsches.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zum Beispiel kommt ein Kunde zu uns und sagt: „Erstellen wir eine Datenbank für Fernsehsendungen oder eine Datenbank für ein Verzeichnis von Rezepten. Wir werden dort Speisen oder eine Liste von Serien und Schauspielern haben. “ Wir sagen freudig: "Komm schon!". Dies sind zwei Bytes zum Senden, ein paar Platten und alles ist fertig, alles wird sehr schnell und zuverlässig funktionieren. Und alles ist in Ordnung, bis die Kunden kommen und sagen, dass die Hausfrauen auch das umgekehrte Problem lösen: Sie haben eine Liste von Produkten und wollen wissen, welches Gericht sie kochen möchten. Du bist tot. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das liegt daran, dass Cassandra eine hybride Datenbank ist: Sie ist sowohl ein Schlüsselwert als auch speichert Daten in breiten Spalten. In Java oder Kotlin könnte es folgendermaßen beschrieben werden:</font></font><br>
<br>
<code>Map&lt;RowKey, SortedMap&lt;ColumnKey, ColumnValue&gt;&gt;</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das heißt, eine Karte, in der sich auch eine sortierte Karte befindet. Der erste Schlüssel zu dieser Zuordnung ist der Zeilenschlüssel oder Partitionsschlüssel - der Partitionsschlüssel. Der zweite Schlüssel, der der Schlüssel zur bereits sortierten Karte ist, ist der Clustering-Schlüssel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um die Verteilung der Datenbank zu veranschaulichen, zeichnen wir drei Knoten. Jetzt müssen Sie verstehen, wie Daten in Knoten zerlegt werden. Denn wenn wir alles in eins schieben (es können übrigens tausend, zweitausend, fünf sein - so viele, wie Sie möchten), geht es nicht wirklich um Verteilung. Daher benötigen wir eine mathematische Funktion, die eine Zahl zurückgibt. Nur eine Zahl, ein langer Int, der in einen Bereich fällt. Und wir haben einen Knoten, der für einen Bereich verantwortlich ist, den zweiten - für den zweiten, n-ten - für den n-ten.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vl/xn/mn/vlxnmnvvigtwc_ho-wkjqy5r60e.png" width="900"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diese Nummer wird mit einer Hash-Funktion verwendet, die nur für den Partitionsschlüssel gilt. </font><font style="vertical-align: inherit;">Dies ist die Spalte, die in der Primärschlüsselanweisung angegeben ist, und dies ist die Spalte, die der erste und grundlegendste Zuordnungsschlüssel ist. </font><font style="vertical-align: inherit;">Es bestimmt, welcher Knoten welche Daten erhält. </font><font style="vertical-align: inherit;">In Cassandra wird eine Tabelle mit fast derselben Syntax wie in SQL erstellt:</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-keyword">users</span> (<font></font>
	user_id uu <span class="hljs-keyword">id</span>,
	<span class="hljs-keyword">name</span> <span class="hljs-built_in">text</span>,
	<span class="hljs-keyword">year</span> <span class="hljs-built_in">int</span>,<font></font>
	salary <span class="hljs-built_in">float</span>,<font></font>
	PRIMARY <span class="hljs-keyword">KEY</span>(user_id)<font></font>
<font></font>
)<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Primärschlüssel besteht in diesem Fall aus einer Spalte und ist auch ein Partitionsschlüssel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie werden Benutzer mit uns fallen? </font><font style="vertical-align: inherit;">Ein Teil wird auf eine Note fallen, ein Teil auf eine andere und ein Teil auf eine dritte. </font><font style="vertical-align: inherit;">Es stellt sich heraus, dass es sich um eine gewöhnliche Hash-Tabelle handelt, es ist auch eine Map, es ist auch ein Wörterbuch in Python, es ist auch eine einfache Schlüsselwertstruktur, aus der wir alle Werte lesen, lesen und schreiben können.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vp/3_/xa/vp3_xa1bupu1wawi77ytwk0pike.png" width="900"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wählen Sie: Wenn das Zulassen des Filterns zum vollständigen Scan wird oder nicht</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lassen Sie uns eine Aussage schreiben </font></font><code>select * from users where, userid = </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Es stellt sich heraus, wie es in Oracle scheint: Wir schreiben select, wir geben Bedingungen an und alles funktioniert, Benutzer bekommen es. Wenn Sie beispielsweise einen Benutzer mit einem bestimmten Geburtsjahr auswählen, schwört Cassandra, dass sie die Anforderung nicht erfüllen kann. Da sie nichts darüber weiß, wie wir Daten zum Geburtsjahr verteilen, hat sie nur eine Spalte als Schlüssel angegeben. Dann sagt sie: „Okay, ich kann diese Bitte immer noch erfüllen. Hinzufügen erlauben Filterung. " Wir fügen eine Richtlinie hinzu, alles funktioniert. Und in diesem Moment passiert etwas Schreckliches.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn wir mit Testdaten fahren, ist alles in Ordnung. Und wenn Sie die Anfrage in der Produktion erfüllen, wo wir zum Beispiel 4 Millionen Platten haben, dann ist bei uns nicht alles sehr gut. Da das Zulassen von Filtern eine Anweisung ist, die es Cassandra ermöglicht, alle Daten aus dieser Tabelle von allen Knoten, allen Rechenzentren (wenn sich viele davon in diesem Cluster befinden) zu erfassen und erst dann zu filtern. Dies ist ein Analogon zu Full Scan, und kaum jemand ist davon begeistert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn wir nur Benutzer nach Kennungen benötigen würden, würde dies zu uns passen. Aber manchmal müssen wir andere Abfragen schreiben und der Auswahl andere Einschränkungen auferlegen. Deshalb erinnern wir uns: Wir haben alle eine Karte, die einen Partitionsschlüssel hat, aber darin befindet sich eine sortierte Karte.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und sie hat auch einen Schlüssel, den wir Clustering Key nennen. Dieser Schlüssel, der wiederum aus den von uns ausgewählten Spalten besteht, mit denen Cassandra versteht, wie ihre Daten physisch sortiert sind und auf jedem Knoten liegen. Das heißt, für einige Partitionsschlüssel gibt der Clustering-Schlüssel genau an, wie die Daten in diesen Baum verschoben werden und an welcher Stelle sie dort platziert werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies ist wirklich ein Baum, ein Komparator wird dort einfach genannt, in den wir eine bestimmte Menge von Spalten in Form eines Objekts übergeben, und es wird auch in Form einer Spaltenliste gesetzt.</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> users_by_year_salary_id (<font></font>
	user_id <span class="hljs-keyword">uuid</span>,
	<span class="hljs-keyword">name</span> <span class="hljs-built_in">text</span>,
	<span class="hljs-keyword">year</span> <span class="hljs-built_in">int</span>,<font></font>
	salary <span class="hljs-built_in">float</span>,<font></font>
	PRIMARY <span class="hljs-keyword">KEY</span>((<span class="hljs-keyword">year</span>), salary, user_id)
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beachten Sie die Primärschlüssel-Direktive. Das erste Argument (in unserem Fall das Jahr) ist immer der Partitionsschlüssel. </font><font style="vertical-align: inherit;">Es kann aus einer oder mehreren Spalten bestehen, es spielt keine Rolle. </font><font style="vertical-align: inherit;">Wenn mehrere Spalten vorhanden sind, müssen Sie sie erneut in Klammern entfernen, damit der Sprachpräprozessor versteht, dass dies der Primärschlüssel ist, und dahinter alle anderen Spalten - der Clustering-Schlüssel. </font><font style="vertical-align: inherit;">In diesem Fall werden sie im Komparator in der Reihenfolge übertragen, in der sie sich befinden. </font><font style="vertical-align: inherit;">Das heißt, die erste Spalte ist bedeutender, die zweite ist weniger bedeutsam und so weiter. </font><font style="vertical-align: inherit;">Wenn wir beispielsweise für Datenklassen schreiben, sind Felder gleich: Wir listen Felder auf und für sie schreiben wir, welche größer und welche kleiner sind. </font><font style="vertical-align: inherit;">In Cassandra ist dies relativ gesehen das Datenklassenfeld, auf das die dafür geschriebenen Gleichungen angewendet werden.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir legen die Sortierung fest, legen Einschränkungen fest</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es muss beachtet werden, dass die Sortierreihenfolge (abnehmend, ansteigend, es spielt keine Rolle) gleichzeitig mit der Erstellung des Schlüssels festgelegt wird und Sie sie später nicht mehr ändern können. Es bestimmt physikalisch, wie die Daten sortiert werden und wie sie liegen werden. Wenn Sie den Clustering-Schlüssel oder die Sortierreihenfolge ändern müssen, müssen Sie eine neue Tabelle erstellen und Daten in diese Tabelle einfügen. Mit dem vorhandenen wird dies nicht funktionieren. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kg/qh/qt/kgqhqtjece2c4irbhyll0mxsl10.png" width="900"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir füllten unseren Tisch mit Benutzern und stellten fest, dass sie zuerst nach Geburtsjahr und dann nach Gehalt und Benutzer-ID auf jedem Knoten in einen Ring gingen. Jetzt können wir auswählen und Einschränkungen auferlegen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unsere Arbeit erscheint wieder</font></font><code>where, and</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und Benutzer kommen zu uns, und alles ist wieder in Ordnung. </font><font style="vertical-align: inherit;">Wenn wir jedoch versuchen, nur den weniger wichtigen Clustering-Schlüsselteil zu verwenden, schwört Cassandra sofort, dass wir in unserer Karte nicht finden können, wo dieses Objekt diese Felder für den Komparator null hat, sondern dieses, das Sie gerade festgelegt haben - wo es liegt. </font><font style="vertical-align: inherit;">Ich muss alle Daten von diesem Knoten erneut aufnehmen und filtern. </font><font style="vertical-align: inherit;">Und dies ist ein Analogon von Full Scan innerhalb des Knotens, das ist schlecht.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erstellen Sie in jeder unverständlichen Situation eine neue Tabelle</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was sollen wir tun, wenn wir Benutzer nach ID, Alter oder Gehalt erhalten möchten? Nichts. Verwenden Sie einfach zwei Tabellen. Wenn Sie Benutzer auf drei verschiedene Arten abrufen müssen, gibt es drei Tabellen. Vorbei sind die Zeiten, in denen wir Platz auf der Schraube gespart haben. Dies ist die billigste Ressource. Es kostet viel weniger als die Antwortzeit, was für den Benutzer fatal sein kann. Der Benutzer ist viel netter, in einer Sekunde etwas zu bekommen als in 10 Minuten.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir tauschen übermäßigen Speicherplatz aus, denormalisierte Daten gegen die Fähigkeit, gut zu skalieren und zuverlässig zu arbeiten. Tatsächlich kann ein Cluster, der aus drei Rechenzentren besteht, von denen jeder fünf Knoten hat, mit einer akzeptablen Datenspeicherung (wenn nichts sicher verloren geht), den Tod eines Rechenzentrums vollständig überleben. Und zwei weitere Knoten in jedem der beiden verbleibenden. Und erst danach beginnen die Probleme. Dies ist eine ziemlich gute Redundanz, sie kostet ein paar unnötige SSD-Laufwerke und Prozessoren. Um Cassandra zu verwenden, das niemals SQL ist, in dem es keine Beziehungen, keine Fremdschlüssel gibt, müssen Sie daher einfache Regeln kennen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir gestalten alles auf Anfrage. Die Hauptsache sind nicht die Daten, sondern wie die Anwendung mit ihnen arbeiten wird. Wenn er unterschiedliche Daten auf unterschiedliche Weise oder dieselben Daten auf unterschiedliche Weise empfangen muss, müssen wir sie so platzieren, wie es für die Anwendung bequem ist. Andernfalls schlagen wir bei Full Scan fehl und Cassandra verschafft uns keinen Vorteil. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Denormalisierung von Daten ist die Norm. Vergessen Sie normale Formen, wir haben keine relationalen Datenbanken mehr. Wir setzen etwas 100 mal, es wird 100 mal liegen. Es ist sowieso billiger als es zu stoppen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir wählen die Schlüssel für die Partitionierung so aus, dass sie normal verteilt sind. </font><font style="vertical-align: inherit;">Wir brauchen den Hash von unseren Schlüsseln nicht, um in einen engen Bereich zu fallen. </font><font style="vertical-align: inherit;">Das heißt, das Geburtsjahr im obigen Beispiel ist ein schlechtes Beispiel. </font><font style="vertical-align: inherit;">Es ist eher gut, wenn unsere Benutzer normalerweise nach Geburtsjahr verteilt sind, und schlecht, wenn wir über Schüler der 5. Klasse sprechen - es wird nicht sehr gut sein, dort zu partitionieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Sortierung wird einmal beim Erstellen des Clustering-Schlüssels ausgewählt. </font><font style="vertical-align: inherit;">Wenn Sie es ändern müssen, müssen Sie unsere Tabelle mit einem anderen Schlüssel überfüllen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und das Wichtigste: Wenn wir dieselben Daten auf 100 verschiedene Arten erfassen müssen, haben wir 100 verschiedene Tabellen.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de486800/">https://habr.com/ru/post/de486800/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de486788/index.html">Webinar „Fernüberwachung und Gerätediagnose. Winnum CNC Solution Fallstudien »</a></li>
<li><a href="../de486790/index.html">Und wieder Qbot - eine neue Art von Banking-Trojanern</a></li>
<li><a href="../de486792/index.html">Der Weg des Roboters zum eisigen Satelliten eines anderen Planeten beginnt in den Tiefen der Antarktis</a></li>
<li><a href="../de486794/index.html">Die Prozesse menschlicher Neuronen zeigten eine unerwartete Rechenfähigkeit</a></li>
<li><a href="../de486798/index.html">Gibt es ein GameDev in Sachalin? Ende</a></li>
<li><a href="../de486802/index.html">Menschen treffen auf Empfehlungssysteme. Faktorisierung</a></li>
<li><a href="../de486804/index.html">Globale Gesundheitsinformatik: Cloud-Technologien</a></li>
<li><a href="../de486808/index.html">Elektronischer Schwangerschaftstest aus einer Apotheke: wie es funktioniert</a></li>
<li><a href="../de486810/index.html">Neues Odnoklassniki-Frontend: React in Java starten. Teil II</a></li>
<li><a href="../de486814/index.html">Zabbix: Die Netzwerktopologie ist klar und automatisch</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>