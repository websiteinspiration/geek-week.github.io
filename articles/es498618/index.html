<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§≤üèΩ ü§¥üèæ üç¥ Android en un controlador industrial üë©‚Äçüíº üíáüèæ üíÜüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En cualquier trabajo de ingenier√≠a, el pensamiento se mueve de tal manera que se apliquen las soluciones m√°s adecuadas simult√°neamente en todos los pa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Android en un controlador industrial</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/498618/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En cualquier trabajo de ingenier√≠a, el pensamiento se mueve de tal manera que se apliquen las soluciones m√°s adecuadas simult√°neamente en todos los par√°metros del desarrollo. Y en una industria donde se requiere automatizaci√≥n, control t√°cito de algunos procesos, la intervenci√≥n humana es incluso indeseable. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aquellos. si necesita monitorear algunos objetos en talleres industriales sin contacto, sin recopilar cables largos, recopilar estad√≠sticas en una base de datos para su an√°lisis, entonces, ¬øpor qu√© no intentarlo durante tanto tiempo?</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si tiene algunas habilidades de programaci√≥n para Android, entonces, por as√≠ decirlo, todo el hardware para el controlador industrial en el tel√©fono inteligente ya tiene: sensores, comunicaci√≥n m√≥vil y una bater√≠a para cierta autonom√≠a. Bueno, la pantalla, por supuesto, tambi√©n es necesaria por un tiempo. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero, aunque, de repente, alguien hiciera un dispositivo Android compacto y confiable con hardware exactamente igual que un tel√©fono inteligente, pero sin pantalla, ser√≠a ideal. Y s√≠, esto no es solo un dongle HDMI-WiFi para un televisor, es decir, con una bater√≠a, un m√≥dulo GSM y una c√°mara.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En la asignaci√≥n: no se pueden usar sensores, caliente. Muy caliente. Aquellos. necesita controlar el no contacto, nada m√°s que una c√°mara servir√°. Hay suficientes c√≥digos QR para que la c√°mara controle los objetos necesarios. Pero al mismo tiempo, el controlador debe ubicarse en un lugar fresco, con temperaturas normales. Todo resulta ser real. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Internet m√≥vil ahora est√° dentro de las ciudades, incluso en las empresas: es bastante soportable, al menos el operador puede ser detectado con un nivel de se√±al tolerante. E incluso 4G ya se puede usar, aunque, por supuesto, el nivel de se√±al puede equilibrarse a punto de apagarse, pero m√°s sobre eso m√°s adelante. Por lo tanto, enviar datos al servidor (con acumulaci√≥n preliminar en la base de datos local) ya que Internet est√° disponible no es un problema.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despu√©s del desarrollo preliminar del software y las pruebas, resulta que las condiciones de temperatura para el tel√©fono inteligente se proporcionan por completo, temperaturas de hasta 40 grados. Las bater√≠as de litio modernas en los tel√©fonos inteligentes est√°n completamente declaradas hasta 45 ¬∞ C, y a 50 - tel√©fonos inteligentes modernos que controlan la temperatura con un sensor integrado en la bater√≠a - comienzan a "gritar" sobre el sobrecalentamiento y apagan la carga mediante programaci√≥n si est√° conectado. Por lo tanto, se debe tener en cuenta el enfriamiento. Para que la viabilidad ya est√© completamente probada, el sistema es simple en la estructura general, todas las piezas del sistema encajan perfectamente en la cabeza, es decir, "hacia adelante y con la canci√≥n", para codificar.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se trata del desarrollo de la carcasa del controlador, incluimos un tel√©fono inteligente Android con un adaptador de corriente, con una cuidadosa entrada en el cable de alimentaci√≥n. Y un sistema de enfriamiento. Lo cual, como resulta m√°s tarde, es muy necesario, y no solo para enfriar el hierro. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Llega el momento, y el sistema ya est√° funcionando completamente, el servidor muestra a los usuarios las placas de datos y los gr√°ficos, verifica los rangos de los par√°metros medidos y notifica a los usuarios sobre los pr√≥ximos f ... k-ups, y luego gradualmente ... comienzan a aparecer los matices de un sistema estructuralmente "simple". ...</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No, no hay problemas con la bater√≠a, el tel√©fono inteligente est√° constantemente conectado al cargador, el controlador de la bater√≠a interna es excelente, se hincha y hace su trabajo continuo. Pero resulta que para el reconocimiento confiable de los c√≥digos QR, el √°ngulo de la c√°mara, la iluminaci√≥n y las sombras que cubren parcialmente el c√≥digo, y el estado del c√≥digo, que se desvanece gradualmente a altas temperaturas, son importantes al mismo tiempo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Luego, despu√©s de un mes de pruebas de "combate", de repente parece que la calidad del reconocimiento de los c√≥digos QR ha empeorado gradualmente todo este tiempo, y ahora no es del todo adecuado: resulta que el polvo est√° constantemente presente en el aire, que no es visible durante una breve inspecci√≥n del taller, pero que gradualmente se asienta sobre el vidrio que cubre la lente de la c√°mara. Una capa de polvo se acumula lentamente y ... est√° claro c√≥mo termina esto, al final.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqu√≠ es donde el sistema de enfriamiento fue √∫til, no solo para enfriar, sino tambi√©n para proteger contra el polvo, creando una presi√≥n de aire "excesiva" desde el interior, soplando alrededor de la lente y evitando que el polvo se asiente en la lente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Durante todos estos eventos, por supuesto, hay una depuraci√≥n continua de software, algoritmos, en hardware, a los cuales los desarrolladores no tienen acceso f√≠sico, todo solo a trav√©s del control remoto. Un par de lanzamientos por d√≠a, como El algoritmo general de operaci√≥n del equipo en el taller, descrito de antemano, perfectamente entendido en los dibujos y dibujos, tambi√©n contiene en realidad un mont√≥n de peque√±os matices. Y los algoritmos de verificaci√≥n en el c√≥digo se multiplican continuamente.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para la administraci√≥n remota y las actualizaciones de software en Android, se usa TeamViewer Host (¬°usado!), No hubo problemas con √©l, probablemente de 4 a 5 meses, todo estuvo maravillosamente conectado, el acceso a la pantalla del tel√©fono inteligente. Todo funcion√≥ a trav√©s de 4g-Internet de un operador federal ruso, en modo gratuito. Por supuesto, pensamos que tarde o temprano ser√≠a necesario adquirir una licencia comercial, porque componer todo el sistema de control remoto por ti mismo no es conveniente.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todo no estuvo mal hasta que los desarrolladores de TeamViewer comenzaron a actualizar algo en su sistema all√≠ y no tuvimos acceso. Bueno, l√≥gicamente, pensamos que esto se deb√≠a a una limitaci√≥n gratuita, aunque fue un honor saberlo, y adquirimos una licencia (durante mucho tiempo y no completamente censurados por su costo). Pero esto no ayud√≥: fue el comienzo de los problemas t√©cnicos de TeamViewer, que requirieron reinstalar el cliente, la configuraci√≥n y la confirmaci√≥n en la pantalla del tel√©fono inteligente. Para lo cual no hab√≠a acceso f√≠sico ni virtual. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El acceso al sistema se restaur√≥ m√°s tarde solo alcanzando f√≠sicamente el tel√©fono inteligente: olvid√© mencionar que el tel√©fono inteligente era nuevo en la tienda, con firmware oficial. Sin acceso de root a todas las funciones del sistema operativo. Y funcion√≥ bastante bien por un tiempo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En resumen, sobre TeamViewer (TV): despu√©s de estos primeros tormentos, se devolvi√≥ el pago de la cuenta comercial (solo por tel√©fono, no es realista obtener ayuda a trav√©s de Internet). Qued√≥ claro que necesit√°bamos alternativas a la televisi√≥n. M√°s tarde, cuando la situaci√≥n se repiti√≥, por alguna raz√≥n pisamos este rastrillo por segunda vez con la adquisici√≥n de una cuenta comercial de TeamViewer, pero qued√≥ claro que no estamos atormentados solos, sino un grupo de usuarios con monta√±as de dispositivos Android con una licencia comercial. Y el trabajo con este software ha sido suspendido.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y qued√≥ claro que para cualquier equipo industrial lo m√°s importante es la capacidad de reiniciar. Incluyendo un comando remoto externo. Para recuperar el acceso al sistema, independientemente de cualquier falla de software. Y de acuerdo con esto, se decidi√≥ hacer un tel√©fono inteligente con root y desarrollar su software de control remoto adicional, a trav√©s de su propio servidor, por supuesto, con la posibilidad de reiniciar el tel√©fono inteligente. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y dicho software fue desarrollado, y su uso fue confirmado m√°s de una vez: adem√°s del control remoto a trav√©s del servidor, los comandos se implementaron a trav√©s de mensajes SMS.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todo este tiempo, solo un componente del sistema no fue satisfactorio y funcion√≥ casi todo el d√≠a, e incluso se sorprendi√≥, porque Ya han pasado m√°s de seis meses de operaci√≥n continua del sistema a trav√©s de 4G. El tel√©fono inteligente se control√≥, los datos fluyeron, la capacidad de reiniciar remotamente varias veces ayud√≥ a superar las fallas de su propio software principal que funciona con la c√°mara y los c√≥digos QR. Internet desapareci√≥ muy raramente y literalmente en unas pocas decenas de segundos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero nada es "para siempre bajo la luna", y una vez que el sistema desapareci√≥. Absolutamente. Ni los datos en el servidor, ni los datos del seguimiento geogr√°fico de Google, ni una respuesta a trav√©s de su propio software de control remoto. Bueno, es hora de reiniciar el sistema a trav√©s de un comando en un mensaje SMS. Pero la fig. Y no sirvi√≥ de nada. Y el comando para encender la conexi√≥n a Internet no ayud√≥.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al mismo tiempo, una llamada entrante al n√∫mero de la tarjeta SIM insertada en el tel√©fono inteligente pas√≥ completamente por s√≠ misma, sin importar cu√°ntas veces la verifique. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ya pens√© que los malvados kulhackers entraron al sistema, eliminaron todo mi software de Android y al final "cerraron la puerta", cortaron el Internet m√≥vil. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Finalmente, el operador de telecomunicaciones respondi√≥ que "nos disculpamos por el problema t√©cnico con la celda que est√° utilizando". Pero la llamada funciona, pero el SMS no.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y luego record√© que en un momento hab√≠a previsto la inclusi√≥n forzada de WiFi en el software, no s√© por qu√©: esta conexi√≥n no se usa en las tiendas de la empresa. Y el tel√©fono inteligente se conect√≥ una vez a WiFi en la etapa de desarrollo, por supuesto. Queda por probar en otro tel√©fono inteligente para encender el punto de acceso WiFi, nombrarlo con el nombre de mi red dom√©stica, establecer la contrase√±a correspondiente a la red y ... y BINGO: ¬°la iron√≠a se puso en contacto! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ni un solo SMS despu√©s de que la falla del operador lleg√≥ a Android, mi software no los recibi√≥. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y solo reiniciando la pieza de hierro mientras hab√≠a WiFi-Internet, fue posible restaurar la tarjeta SIM del operador e Internet m√≥vil. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y ahora la capacidad de reiniciar usando una llamada entrante regular est√° incluida en el software de control remoto, de modo que una jamba del operador no interfiera con el trabajo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Conclusi√≥n: el sistema funciona durante unos 10 meses, la bater√≠a del tel√©fono inteligente est√° bien, la c√°mara est√° bien. </font><font style="vertical-align: inherit;">Por lo tanto, no es necesario ensamblar o comprar una computadora industrial costosa, conectar perif√©ricos externos a ella; es bastante posible hacerlo con un tel√©fono inteligente Android moderno. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero estoy seguro de que no lograr√° evitar las "hemorroides" y todo tipo de matices desagradables. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y llegu√© a esta conclusi√≥n: los pasos para configurar un tel√©fono inteligente Android para el trabajo remoto sin conexi√≥n como parte de un controlador industrial</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Elegir un dispositivo para uso industrial, solo con la capacidad de obtener Root (para la posibilidad de reiniciar)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Actualice todo lo posible autom√°ticamente y deshabilite las actualizaciones</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Obtenga Root en el dispositivo (!)</font></font></li>
<li>  ()  Google Play Market ‚Äî  (   ),       </li>
<li>      : ¬´    ¬ª</li>
<li>   :  ¬´ ¬ª</li>
<li>  SIM- ‚Äì  - ( SIM ‚Äî  !)</li>
<li>    SIM-:   </li>
<li>    RemoteControl ‚Äî       </li>
<li>      (AirDroid, Teamviewer Host)  </li>
<li>   -  ( ,  )</li>
<li>     -</li>
<li>   </li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Instale el iniciador predeterminado (aplicaci√≥n host) (si es posible, config√∫relo en el √∫ltimo momento)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Instalar su utilidad RemoteReset - reiniciar el Android rooteado por SMS y llamar (!) - verifique el reinicio y el inicio autom√°tico de todo lo anterior (y verifique la operaci√≥n a trav√©s de Internet)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Active WiFi y con√©ctese a las redes con anticipaci√≥n: especialmente al punto de acceso m√≥vil desde el tel√©fono inteligente del operador; para el acceso alternativo del tel√©fono inteligente a Internet con activaci√≥n local de este punto de acceso)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Carga la bater√≠a</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Inicie la aplicaci√≥n principal de host</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Desconecte el dispositivo hasta que se encienda durante la instalaci√≥n.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PD: los detalles m√°s detallados, por supuesto, no permiten compartir obligaciones comerciales / legales.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es498604/index.html">Retire a sus hijos de nuestras pantallas azules, o por qu√© no puede comprar Yandex. Estaci√≥n para un ni√±o</a></li>
<li><a href="../es498608/index.html">Realizaci√≥n de NES gameinvitro "MULTIDEFENDER"</a></li>
<li><a href="../es498610/index.html">¬øC√≥mo reutilizar el c√≥digo con los paquetes de Symfony 5? Parte 3. Integraci√≥n del paquete con el host: plantillas, estilos, JS</a></li>
<li><a href="../es498612/index.html">No decida por el dise√±ador la tarea del dise√±ador</a></li>
<li><a href="../es498614/index.html">An√°lisis de una serie de videos promocionales para el juego Spin Voyage</a></li>
<li><a href="../es498620/index.html">Tocando el mundo: biomec√°nica del receptor de la piel humana</a></li>
<li><a href="../es498624/index.html">[Instrucci√≥n] Creaci√≥n de pruebas de Google (formularios de Google)</a></li>
<li><a href="../es498628/index.html">C√≥mo construir un acelerador de cohetes para scripts de PowerCLI¬†</a></li>
<li><a href="../es498630/index.html">Simulaci√≥n f√≠sica de cientos de miles de part√≠culas en Unity + DOTS</a></li>
<li><a href="../es498632/index.html">P√©ptido para una hermosa mulata</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>