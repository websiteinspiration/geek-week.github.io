<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>▪️ 🚻 😪 Haruskah saya menyimpan Google Font di server saya? 🍬 👧🏿 🔂</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dalam beberapa minggu terakhir, secara kebetulan di tempat kerja dan dalam proyek pihak ketiga, saya telah belajar banyak tentang font web, serta bany...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Haruskah saya menyimpan Google Font di server saya?</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/vdsina/blog/490366/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dalam beberapa minggu terakhir, secara kebetulan di tempat kerja dan dalam proyek pihak ketiga, saya telah belajar banyak tentang font web, serta banyak hal baru tentang Google Font khususnya. Berkat ini, saya dapat memberikan jawaban yang lebih terperinci untuk pertanyaan yang tampak sederhana bagi saya di masa lalu: haruskah Anda menyimpan Google Font di server Anda?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Secara obyektif, saya akui bahwa font bukan keahlian saya. Saya lebih suka pendekatan yang lebih praktis dan tidak fokus pada desain (lihat situs ini dan pastikan ya) dan sebelum itu saya tidak merasa perlu menggunakan font yang tidak standar. Tentu saja, mereka terlihat sedikit lebih bagus dan "merek" teks. Tetapi untuk teks utama ada sedikit akal di dalamnya. Saya tidak pernah memberi peringkat pada artikel (atau terkait dengan kontennya secara berbeda), hanya karena font yang indah digunakan untuk mengirimkannya. Namun, saya sepenuhnya menyadari dampak negatif font tambahan pada kinerja dan kecepatan pemuatan halaman, jadi mungkin karena ini saya bias.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Namun, banyak yang mungkin tidak setuju dengan saya, dan font-font itu, apakah penting bagi saya secara pribadi atau tidak, sering digunakan oleh banyak pengembang lain, dan seringkali mereka tidak punya pilihan. </font><font style="vertical-align: inherit;">Mari kita lihat apa yang bisa dilakukan agar tidak kehilangan kecepatan situs, dan membuat para desainer senang.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Self-Hosted vs Sumber Daya Eksternal</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beberapa tahun yang lalu dianggap normal untuk menggunakan CDN untuk menghubungkan sumber daya bersama (misalnya, jQuery dengan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">code.jquery.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - dan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://almanac."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ya, mereka masih sangat menggunakannya</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). Untuk memperjelas, dengan CDN di sini yang saya maksud memuat sumber daya dari domain orang lain, bukan CDN Anda sendiri. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alasannya adalah browser seharusnya membatasi jumlah koneksi untuk setiap domain (biasanya sampai 6 koneksi), jadi menggunakan domain lain memberi Anda 6 koneksi lagi. Ini bisa benar di masa lalu (terutama ketika batasannya adalah &lt;6 domain) dan sebelum </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://www.tunetheweb.com/security/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTTPS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> menjadi norma, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">secara signifikan meningkatkan biaya</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> koneksi. Selain itu, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://www.tunetheweb.com/performance/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTTP / 2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sebenarnya manfaat dari menggunakan satu koneksi (kebanyakan!), jadi menggunakan domain lain sering kali merupakan kerugian dalam kinerja daripada akuisisi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cara lain untuk mencapai hal yang sama adalah dengan sharding domain utama dengan satu atau lebih subdomain teknis (misalnya, assets.example.com), dan dalam hal ini, font lagi tidak muncul di domain utama Anda, tempat halaman web Anda diambil. Namun demikian, metode ini memiliki masalah koneksi yang sama, jadi ini tidak dapat disebut sebagai peningkatan kinerja, bahkan jika pernah ada. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Keuntungan lain dari CDN publik adalah probabilitas tinggi bahwa pengunjung sudah memiliki versi jQuery bersyarat ini di cache. Tetapi, sekali lagi, saya yakin ini terlalu banyak. Ada begitu banyak perpustakaan dan versinya, dan</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://www.speedshop.co/2015/11/05/page-weight-doesnt-matter.html&amp;usg=ALkJrhh_DNFC-pRuvKVt2v-Fj58SR5mWVA#"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tembolok peramban lebih kecil</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dari yang terlihat, jadi kecocokan seperti itu sangat tidak mungkin. Selain itu, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Safari menggunakan cache HTTP unik</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> untuk setiap domain yang dikunjungi, untuk alasan privasi (cache dua-kunci), dan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chrome juga akan segera memperkenalkan fungsi ini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Jadi, tidak ada lagi yang perlu diperdebatkan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Topik ini dengan lancar berubah menjadi percakapan tentang dampak CDN pihak ketiga pada privasi. Anda tidak tahu bagaimana dan mengapa mereka melacak pengguna Anda, yang tidak dapat terjadi dengan solusi yang di-host-sendiri. Dan inovasi terbaru dalam undang-undang mengharuskan banyak situs untuk secara eksplisit mendaftar semua cookie yang digunakan di situs. Bukan tugas termudah saat menggunakan CDN pihak ketiga.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk waktu yang lama, saya telah diyakinkan bahwa CDN pihak ketiga atau bahkan pecahan domain Anda sendiri sangat jauh dari perolehan kinerja yang dijanjikan. Terlalu sering Anda dapat menemukan situs di mana domain utama hanya mendistribusikan index.html, dan kemudian </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">banyak waktu terbuang untuk menyiapkan koneksi baru</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini belum lagi implikasi keamanan dari mengunduh sumber daya dari situs pihak ketiga. Ya, ada </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SRI</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , tetapi dapat </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://nooshu.github.io/blog/2019/12/17/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menyebabkan masalah yang tidak terduga</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dan saya jujur ​​tidak mengerti intinya. Jika itu adalah sumber daya statis (di mana Anda dapat menggunakan SRI), kemudian simpan secara lokal, dan jika itu tidak statis (karena isinya dapat berubah), maka Anda tidak dapat menggunakan SRI.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Juga, penggunaan sumber daya dari sumber pihak ketiga mengancam bahwa mereka akan menjadi satu titik kegagalan (SPOF) dan menonaktifkan situs Anda. </font><font style="vertical-align: inherit;">Ini telah </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">terjadi lebih dari satu kali</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dan meskipun sepertinya Google Fonts tidak akan jatuh, ini mungkin diblokir oleh proksi perusahaan atau oleh </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">seluruh negara</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Secara umum, semakin banyak orang yang menyarankan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk menjaga sumber daya statis mereka di rumah</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , idealnya pada domain dari mana Anda mendistribusikan halaman web. </font><font style="vertical-align: inherit;">Font adalah sumber daya statis, jadi hal yang sama berlaku untuk mereka, bukan? </font><font style="vertical-align: inherit;">Nah, ternyata semuanya tidak begitu sederhana, karena font memiliki kekhasan dan teknik optimasi sendiri, yang dapat membuat penyimpanan lokal sedikit lebih rumit ...</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google Font dan cara kerjanya</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google Fonts</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adalah sumber yang luar biasa jika Anda suka font. 977 font gratis yang dapat digunakan siapa saja secara gratis. Font komersial seringkali sangat mahal dan biasanya dilisensikan daripada dijual, yaitu, biaya dibebankan berdasarkan jumlah halaman yang diharapkan. Oleh karena itu, memiliki begitu banyak font gratis dan sangat mudah digunakan dalam satu koleksi sangat berguna. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tapi itu belum semuanya. Google Font, seperti banyak penyedia sumber daya untuk situs (lihat contoh jQuery di atas), menyediakan CDN dan menyimpan font untuk semua orang untuk digunakan langsung dari server mereka. Ini berarti Anda dapat mulai menggunakan font dengan hanya menambahkan satu baris kode di situs Anda untuk memuat stylesheet:</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://fonts.googleapis.com/css?family=Lato&amp;display=swap"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda juga dapat menambahkan lebih banyak properti dan font dalam satu baris untuk memuat beberapa font dan variasi masing-masing:</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://fonts.googleapis.com/css?family=Lato:400,400i,700,700i,900%7CPoppins:300,400,700,900&amp;display=swap"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kerugiannya adalah penurunan kinerja (keuntungannya juga dalam kinerja, tetapi ini tidak begitu jelas, kita akan membahas ini). </font><font style="vertical-align: inherit;">Masalahnya adalah bahwa situs Anda (mengatakan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.example.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) beban stylesheet dari fonts.googleapis.com, yang mengembalikan beberapa CSS dengan aturan font-face. </font><font style="vertical-align: inherit;">Berikut adalah sumber untuk tautan dalam contoh di atas:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-comment">/* latin-ext */</span>
<span class="hljs-keyword">@font-face</span> {
  <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'Lato'</span>;
  <span class="hljs-attribute">font-style</span>: normal;
  <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">400</span>;
  <span class="hljs-attribute">font-display</span>: swap;
  <span class="hljs-attribute">src</span>: <span class="hljs-built_in">local</span>(<span class="hljs-string">'Lato Regular'</span>), <span class="hljs-built_in">local</span>(<span class="hljs-string">'Lato-Regular'</span>), <span class="hljs-built_in">url</span>(https://fonts.gstatic.com/s/lato/v16/S6uyw4BMUTPHjxAwXiWtFCfQ7A.woff2) <span class="hljs-built_in">format</span>(<span class="hljs-string">'woff2'</span>);
  <span class="hljs-attribute">unicode-range</span>: U+<span class="hljs-number">0100</span>-<span class="hljs-number">024</span>F, U+<span class="hljs-number">0259</span>, U+<span class="hljs-number">1</span>E00-<span class="hljs-number">1</span>EFF, U+<span class="hljs-number">2020</span>, U+<span class="hljs-number">20</span>A0-<span class="hljs-number">20</span>AB, U+<span class="hljs-number">20</span>AD-<span class="hljs-number">20</span>CF, U+<span class="hljs-number">2113</span>, U+<span class="hljs-number">2</span>C60-<span class="hljs-number">2</span>C7F, U+A720-A7FF;<font></font>
}<font></font>
<span class="hljs-comment">/* latin */</span>
<span class="hljs-keyword">@font-face</span> {
  <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'Lato'</span>;
  <span class="hljs-attribute">font-style</span>: normal;
  <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">400</span>;
  <span class="hljs-attribute">font-display</span>: swap;
  <span class="hljs-attribute">src</span>: <span class="hljs-built_in">local</span>(<span class="hljs-string">'Lato Regular'</span>), <span class="hljs-built_in">local</span>(<span class="hljs-string">'Lato-Regular'</span>), <span class="hljs-built_in">url</span>(https://fonts.gstatic.com/s/lato/v16/S6uyw4BMUTPHjx4wXiWtFCc.woff2) <span class="hljs-built_in">format</span>(<span class="hljs-string">'woff2'</span>);
  <span class="hljs-attribute">unicode-range</span>: U+<span class="hljs-number">0000</span>-<span class="hljs-number">00</span>FF, U+<span class="hljs-number">0131</span>, U+<span class="hljs-number">0152</span>-<span class="hljs-number">0153</span>, U+<span class="hljs-number">02</span>BB-<span class="hljs-number">02</span>BC, U+<span class="hljs-number">02</span>C6, U+<span class="hljs-number">02</span>DA, U+<span class="hljs-number">02</span>DC, U+<span class="hljs-number">2000</span>-<span class="hljs-number">206</span>F, U+<span class="hljs-number">2074</span>, U+<span class="hljs-number">20</span>AC, U+<span class="hljs-number">2122</span>, U+<span class="hljs-number">2191</span>, U+<span class="hljs-number">2193</span>, U+<span class="hljs-number">2212</span>, U+<span class="hljs-number">2215</span>, U+FEFF, U+FFFD;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kita akan berbicara tentang apa arti beberapa pengaturan ini nanti (dan juga tentang mengapa ada dua aturan font-face), tetapi untuk sekarang ini berarti Anda dapat menggunakan font ini dalam gaya Anda seperti ini:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-tag">body</span> {
    <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'Lato'</span>, sans-serif;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Namun, sekarang Anda harus terhubung ke fonts.googleapis.com, unduh CSS, lalu sambungkan ke fonts.gstatic.com dan unduh fontnya sendiri (mengapa Google tidak dapat meng-host CSS dan font pada domain yang sama - Saya benar-benar tidak mengerti!). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Font sering terdeteksi oleh browser dengan penundaan saat memuat halaman (setelah semua, Anda perlu memuat CSS untuk menemukan tautan ke mereka). Tetapi Google Font ditemukan lebih lambat, karena CSS perlu diunduh dari </font><font style="vertical-align: inherit;">domain </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lain</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dan kemudian font dari domain ketiga dan, seperti yang saya sebutkan, membangun koneksi HTTPS juga tidak instan. Ini dapat dilihat pada diagram cascading di bawah ini yang dihasilkan oleh </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebPageTest</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (perhatikan bahwa semua tes dijalankan dengan Chrome - 3GSlow):</font></font><br>
<br>
<img src="https://habrastorage.org/webt/94/si/uk/94siukfgpsuc3y8vvcenns7d8rm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Baris 1 menunjukkan bahwa HTML dimuat lebih dulu. </font><font style="vertical-align: inherit;">Kemudian, segera setelah diunduh dan dibaca dalam waktu kurang dari 2 detik, peramban mendeteksi kebutuhan untuk memuat Google Fonts CSS dan memuatnya dalam baris 4. Diperlukan satu detik untuk membangun koneksi, dan kemudian sebuah file diunduh selama 3,5 detik. </font><font style="vertical-align: inherit;">Akhirnya, peramban mengetahui tentang keberadaan font kami dan memuatnya di baris 6, setelah kehilangan 1 on detik dalam perjalanan ke koneksi dengan fonts.gstatic.com. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, menggunakan font ini dari Google Fonts memerlukan biaya produktivitas tiga detik penuh sejak HTML tersedia, tidak memperhitungkan waktu untuk mengunduh font itu sendiri!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mempercepat Font Google dengan preloading sumber daya </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda dapat mengurangi hit performa buruk ini ketika memuat CSS dan font dari dua domain yang berbeda. Domain pertama (untuk CSS) harus ditempatkan lebih dekat ke awal file index.html sehingga browser membacanya sesegera mungkin, tetapi yang kedua masih disembunyikan. Namun, kami tahu seperti apa domain ini nantinya (fonts.gstatic.com), sehingga kami dapat membuka koneksi terlebih dahulu untuk menghemat waktu pada koneksi kedua nanti:</font></font><br>
<br>
<pre><code class="xml hljs">
<span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://fonts.gstatic.com"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"preconnect"</span> <span class="hljs-attr">crossorigin</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://fonts.googleapis.com/css?family=Lato&amp;display=swap"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saat menguji ulang, kita melihat gambar berikut: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/0-/ab/1r/0-ab1rf2caybdrxaloc5xrs6d0k.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini kita melihat bahwa koneksi pada saluran 5 terbuka terlebih dahulu, sebelum memuat CSS. Jadi kami menang lebih dari satu detik (mengunduh font dalam 4 detik, bukan 5,25), karena kami berhasil menghindari buang waktu selama koneksi dan font diunduh segera setelah membaca CSS Google Fonts. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda mungkin berpikir bahwa Anda dapat melanjutkan dan memuat ulang seluruh font, alih-alih konten dengan hanya bergabung dengan domain, tetapi Google Fonts memanggil font hash unik. Pada contoh di atas, font yang diunduh disebut S6uyw4BMUTPHjx4wXg.woff2, bukan lato.woff2, jadi preloading tidak dimungkinkan kecuali Anda ingin situs Anda mogok pada suatu hari ketika Google tiba-tiba memutuskan untuk mengubah hash ini.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam kasus apa pun, jika Anda menggunakan Google Font dan tidak bermaksud melakukan hal lain setelah membaca catatan ini, tambahkan setidaknya koneksi awal ke domain, jika belum. Ini hanya satu baris kode dan harus secara signifikan meningkatkan kinerja halaman Anda. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebenarnya, Google Fonts memberikan perintah serupa di header HTTP ketika membuat CSS:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/1g/7n/lg/1g7nlg8c-qteofu6cr1t3eep2bi.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tetapi dalam banyak kasus ini tidak akan banyak membantu, karena pada saat Anda menerima header respons HTTP dari server dengan CSS, browser sudah tahu bahwa Anda ingin terhubung ke domain ini untuk mengunduh font. </font><font style="vertical-align: inherit;">Jadi lebih baik bagi Anda untuk menentukan ini dalam kode HTML sehingga preload berfungsi lebih awal (tidak masalah jika digandakan dengan cara ini, upaya kedua akan diabaikan begitu saja). </font><font style="vertical-align: inherit;">Namun, jika halaman Anda masih diproses pada saat header dari server Google Fonts CSS diterima, dan DOM tidak siap (mungkin ini adalah tanda terlalu banyak JavaScript di halaman Anda?), Ini dapat membantu meningkatkan kinerja ketika akhirnya menjadi jelas font mana yang akan diunduh.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tampilan Font: Tukar</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada kode font-face di atas, Anda dapat melihat font-display: swap; line. Ini adalah instruksi yang relatif baru. Ini dapat ditambahkan ke deklarasi font dan itu akan memberi tahu browser untuk menggunakan fallback pertama, yaitu font sistem (sans-serif dalam contoh ini), dan kemudian menggantinya dengan font asli setelah mengunduhnya. Dengan cara ini Anda dapat menghindari keterlambatan dalam memuat konten ketika font belum dimuat dan juga meningkatkan kinerja dengan baik.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ya, ini mengarah pada pecahnya teks tanpa gaya (FOUT) - "lompatan" yang sama dalam konten selama pemuatan halaman, tetapi beberapa orang tidak menyukainya (pendapat saya setuju, konten lebih penting daripada gaya, tetapi teks yang melompati halaman itu menyebalkan, meskipun ini dapat dikurangi dengan mengutak-atik font cadangan). Alternatifnya adalah flash invisible text (FOIT). Dalam hal ini, teks disembunyikan sampai font muncul, yang jelas-jelas menunda pengunduhan dan dapat menyebabkan masalah lain </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jika beberapa teks dimuat, tetapi beberapa tidak</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> !</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bagaimanapun, sebelum pengenalan font-display: swap, browser yang berbeda berurusan dengan ini secara berbeda - beberapa, seperti IE dan Edge, menggunakan FOUT, yang lain menggunakan FOIT, dan mereka memiliki waktu yang berbeda sampai mereka menunggu font untuk menunggu. Karena itu, jika font tidak dimuat, konten Anda dapat tetap tidak terlihat untuk waktu yang lama. Pengenalan font-display: swap memungkinkan pengembang situs web untuk memutuskan sendiri bagaimana ini akan terjadi. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sebagian besar browser mendukung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> font-display: swap, dengan pengecualian IE dan Edge, tetapi seperti yang disebutkan di atas, mereka tetap menggunakan ini secara default. Font Google </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">juga mendukung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> berbagai opsi tampilan font dan menawarkan tampilan font: swap secara default.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, tip lain jika Anda menggunakan font Google adalah untuk memeriksa bahwa Anda memiliki parameter &amp; display = swap di URL, dan jika tidak (baru saja didukung), lalu tambahkan: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Misalnya, ganti ini:</font></font><br>
<br>
<pre><code class="xml hljs">
<span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://fonts.gstatic.com"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"preconnect"</span> <span class="hljs-attr">crossorigin</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://fonts.googleapis.com/css?family=Lato"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hal ini:</font></font><br>
<br>
<pre><code class="xml hljs">
<span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://fonts.gstatic.com"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"preconnect"</span> <span class="hljs-attr">crossorigin</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://fonts.googleapis.com/css?family=Lato&amp;display=swap"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda juga dapat </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menentukan salah satu nilai tampilan font lainnya</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , misalnya </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">opsional</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , jika diinginkan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sayangnya, ini hanya memecahkan setengah dari masalah. </font><font style="vertical-align: inherit;">Instruksi ini menggunakan CSS, yang mengembalikan Google Font, jadi ini hanya berguna setelah Anda mengunduh file CSS. </font><font style="vertical-align: inherit;">Jadi, ini membantu untuk mengatasi keterlambatan saat memuat font sendiri, tetapi tidak membantu saat Anda sedang menunggu untuk memuat CSS ini. </font><font style="vertical-align: inherit;">Jadi ini adalah peningkatan yang baik (setidaknya bagi mereka yang lebih suka FOUT), tetapi masih belum keseluruhan solusi secara keseluruhan.</font></font><br>
<br>
<h2>  Google Fonts</h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">membantu membuat Web Almanac</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (tampilan fantastis pada kondisi Internet - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://almanac."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lihat</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sendiri apakah Anda belum melihatnya) dan unduhan font Google yang lambat di situs kami mengganggu saya dan saya ingin memperbaikinya. Terutama FOUT dengan font-display: swap. Saya bertanya-tanya apakah kita dapat mengurangi dampak dari ini, dan solusi lokal tampaknya menyimpan file secara lokal, mungkin menggunakan preloading. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami telah menggunakan teknik-teknik di atas (preloading dan font-display: swap;), tetapi, tentu saja, akan lebih baik untuk menghindari menghubungkan CSS dari luar. Kami tahu apa yang akan ada di CSS ini. Jadi, dengan percaya diri pilih self-host? Di sinilah mulai menarik ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya menemukan skrip yang nyaman di GitHub ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google Font Download</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), yang membantu saya mengunduh semua opsi font yang berbeda (karena ada banyak, hingga 9 tergantung pada halaman), dan kemudian menyalin CSS, yang ditampilkan di stylesheet utama kami, dan mengunggah font ke server. Ada </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alat online lain</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> yang melakukan hal yang sama. Itu semua tampaknya bekerja, dan kami menyingkirkan pemuatan CSS yang mengganggu dan kebutuhan untuk bekerja dengan dua domain. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Namun, setelah diperiksa lebih dekat, saya perhatikan bahwa fontnya lebih besar:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/1w/hk/fs/1whkfsun5mb15p76jzen2eft4wk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti yang Anda lihat, ada peningkatan ukuran yang signifikan (hingga 74% ekstra untuk beberapa di antaranya!) Dibandingkan dengan font Google yang diunduh (kanan) dan font yang ditempatkan secara lokal (kiri). Awalnya, saya pikir ini karena server web lokal saya, misalnya, karena kompresi dimatikan. Tetapi font WOFF2 disajikan tanpa kompresi oleh server web - atau setidaknya seharusnya - karena formatnya mencakup kompresi Brotli. Juga, tangkapan layar di atas menunjukkan byte yang diunduh (hitam di bagian atas), serta byte yang tidak terkompresi (sedikit lebih ringan di bagian bawah) untuk setiap kolom (mereka sangat mirip di kedua kolom, karena font benar-benar dikirim tanpa kompresi oleh server web, tetapi byte yang diunduh menyertakan header HTTP) , jadi mereka sedikit lebih besar), dan ada perbedaan dalam byte terkompresi dan tidak terkompresi, jadi bukan itu intinya.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perbandingan aturan font-face yang diperoleh menggunakan alat dengan yang asli mengungkapkan satu perbedaan: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dari Google Font:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-comment">/* latin-ext */</span>
<span class="hljs-keyword">@font-face</span> {
    <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'Lato'</span>;
    <span class="hljs-attribute">font-style</span>: normal;
    <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">400</span>;
    <span class="hljs-attribute">font-display</span>: swap;
    <span class="hljs-attribute">src</span>: <span class="hljs-built_in">local</span>(<span class="hljs-string">'Lato Regular'</span>), <span class="hljs-built_in">local</span>(<span class="hljs-string">'Lato-Regular'</span>), <span class="hljs-built_in">url</span>(https://fonts.gstatic.com/s/lato/v16/S6uyw4BMUTPHjxAwXiWtFCfQ7A.woff2) <span class="hljs-built_in">format</span>(<span class="hljs-string">'woff2'</span>);
    <span class="hljs-attribute">unicode-range</span>: U+<span class="hljs-number">0100</span>-<span class="hljs-number">024</span>F, U+<span class="hljs-number">0259</span>, U+<span class="hljs-number">1</span>E00-<span class="hljs-number">1</span>EFF, U+<span class="hljs-number">2020</span>, U+<span class="hljs-number">20</span>A0-<span class="hljs-number">20</span>AB, U+<span class="hljs-number">20</span>AD-<span class="hljs-number">20</span>CF, U+<span class="hljs-number">2113</span>, U+<span class="hljs-number">2</span>C60-<span class="hljs-number">2</span>C7F, U+A720-A7FF;<font></font>
}<font></font>
<span class="hljs-comment">/* latin */</span>
<span class="hljs-keyword">@font-face</span> {
    <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'Lato'</span>;
    <span class="hljs-attribute">font-style</span>: normal;
    <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">400</span>;
    <span class="hljs-attribute">font-display</span>: swap;
    <span class="hljs-attribute">src</span>: <span class="hljs-built_in">local</span>(<span class="hljs-string">'Lato Regular'</span>), <span class="hljs-built_in">local</span>(<span class="hljs-string">'Lato-Regular'</span>), <span class="hljs-built_in">url</span>(https://fonts.gstatic.com/s/lato/v16/S6uyw4BMUTPHjx4wXiWtFCc.woff2) <span class="hljs-built_in">format</span>(<span class="hljs-string">'woff2'</span>);
    <span class="hljs-attribute">unicode-range</span>: U+<span class="hljs-number">0000</span>-<span class="hljs-number">00</span>FF, U+<span class="hljs-number">0131</span>, U+<span class="hljs-number">0152</span>-<span class="hljs-number">0153</span>, U+<span class="hljs-number">02</span>BB-<span class="hljs-number">02</span>BC, U+<span class="hljs-number">02</span>C6, U+<span class="hljs-number">02</span>DA, U+<span class="hljs-number">02</span>DC, U+<span class="hljs-number">2000</span>-<span class="hljs-number">206</span>F, U+<span class="hljs-number">2074</span>, U+<span class="hljs-number">20</span>AC, U+<span class="hljs-number">2122</span>, U+<span class="hljs-number">2191</span>, U+<span class="hljs-number">2193</span>, U+<span class="hljs-number">2212</span>, U+<span class="hljs-number">2215</span>, U+FEFF, U+FFFD;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dari alat unduhan:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-keyword">@font-face</span> {
    <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'Lato'</span>;
    <span class="hljs-attribute">font-style</span>: normal;
    <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">400</span>;
    <span class="hljs-attribute">src</span>:
        <span class="hljs-built_in">local</span>(<span class="hljs-string">'Lato Regular'</span>),
        <span class="hljs-built_in">local</span>(<span class="hljs-string">'Lato-Regular'</span>),
        <span class="hljs-comment">/* from https://fonts.gstatic.com/s/lato/v16/S6uyw4BMUTPHjx4wXg.woff2 */</span>
        <span class="hljs-built_in">url</span>(<span class="hljs-string">'Lato_400.woff2'</span>) <span class="hljs-built_in">format</span>(<span class="hljs-string">'woff2'</span>),
        <span class="hljs-comment">/* from https://fonts.gstatic.com/s/lato/v16/S6uyw4BMUTPHjx4wWA.woff */</span>
        <span class="hljs-built_in">url</span>(<span class="hljs-string">'Lato_400.woff'</span>) <span class="hljs-built_in">format</span>(<span class="hljs-string">'woff'</span>);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perbedaan pertama adalah kita kehilangan tampilan font: swap line, tetapi ini bisa diperbaiki tanpa masalah. </font><font style="vertical-align: inherit;">Jauh lebih menarik adalah kenyataan bahwa Google Font mendistribusikan dua font - dan termasuk rentang Unicode yang berbeda di dalamnya. </font><font style="vertical-align: inherit;">Ini karena font-subset dan mengurangi file font.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Subset huruf</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Subset huruf adalah penghapusan karakter yang tidak akan Anda gunakan untuk mengurangi ukuran file font. Biasanya, sebagian besar orang Barat hanya menggunakan karakter Latin, dan mengunduh font dengan semua karakter yang mungkin tidak akan Anda gunakan tidak rasional. Saya pernah mendengar tentang ini sebelumnya, tetapi saya tidak pernah berpikir seberapa penting ini bisa terjadi! Google Fonts secara otomatis menampilkan wajah font dengan serangkaian karakter Latin, dan juga, jika mungkin, menghubungkan font kedua untuk karakter Latin yang diperluas (misalnya, Ā), yang akan diunduh hanya jika perlu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bahkan, Anda juga dapat meminta font khusus yang hanya berisi karakter yang Anda butuhkan dengan parameter teks: </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://fonts.googleapis.com/css?family=Lato&amp;text=ABC</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dilihat oleh pengamatan lebih lanjut, alat pemuatan font yang saya gunakan ternyata mendukung subset font, tetapi hanya untuk "bahasa" keseluruhan (Latin atau Latin diperpanjang), dan menggabungkan kedua himpunan karakter ke dalam satu file. </font><font style="vertical-align: inherit;">Pada akhirnya, saya kembali menggunakan apa yang digunakan browser saya dan berhenti menggunakan alat ini. </font><font style="vertical-align: inherit;">Ini memberikan ukuran file yang serupa (dengan sedikit perbedaan karena header HTTP di lingkungan pengembangan saya), tetapi saya segera menemukan bahwa itu bukan hanya pengelompokan font.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google Font mendistribusikan font dengan cerdas</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Google Font tidak selalu membuat CSS yang sama dan itu </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tergantung pada agen pengguna yang digunakan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Misalnya, untuk Internet Explorer 11, ia mengirim yang berikut ini:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-keyword">@font-face</span> {
    <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'Lato'</span>;
    <span class="hljs-attribute">font-style</span>: normal;
    <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">400</span>;
    <span class="hljs-attribute">font-display</span>: swap;
    <span class="hljs-attribute">src</span>: <span class="hljs-built_in">local</span>(<span class="hljs-string">'Lato Regular'</span>), <span class="hljs-built_in">local</span>(<span class="hljs-string">'Lato-Regular'</span>), <span class="hljs-built_in">url</span>(https://fonts.gstatic.com/s/lato/v16/S6uyw4BMUTPHjx4wWA.woff) <span class="hljs-built_in">format</span>(<span class="hljs-string">'woff'</span>);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini Anda dapat melihat bahwa ia hanya menyediakan format WOFF, karena IE 11 </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tidak mendukung WOFF2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dan untuk alasan yang sama unicode-range tidak ditentukan. Ini memberikan font-display: swap (seperti yang saya tunjukkan di URL untuk CSS), meskipun browser tidak mendukungnya, tetapi tidak berbahaya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bukan hanya pabrikan dan versi browser. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Petunjuk font</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">termasuk instruksi tambahan dalam file font, yang kemudian digunakan untuk memberikan tampilan font terbaik - terutama pada layar resolusi rendah atau untuk ukuran yang sangat kecil. Petunjuk font digunakan pada Windows, tetapi tidak pada MacOS, jadi tergantung pada OS mana Anda bekerja saat menerima Google Font, menggunakan browser (bahkan jika Anda menggunakan Chrome di setiap platform), Anda mungkin mendapatkan file font dengan petunjuk atau tanpa dia. Jika Anda mengunduh versi Windows dan menggunakannya untuk diri Anda sendiri, Anda sebenarnya akan membuat pengguna MacOS menderita karena kebutuhan untuk memproses file font besar penuh dengan petunjuk yang tidak digunakan, dan jika Anda melakukan sebaliknya, Anda berpotensi dapat membuat pengguna Windows menderita dari tampilan font yang lebih buruk, tanpa font yang mengisyaratkan.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketika saya menggunakan Google Font, dan ketika saya mengunduh font untuk penggunaan lokal, saya melakukannya pada Mac saya, jadi saya mendapatkan file yang lebih kecil. </font><font style="vertical-align: inherit;">Ketika saya menggunakan alat ini, saya mendapatkan font lengkap, dengan isyarat. </font><font style="vertical-align: inherit;">Jadi itu alasan lain untuk perbedaan ukuran besar! </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Isyarat font masih relevan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, karena layar definisi tinggi telah menjadi lebih umum - ini adalah pertanyaan yang bagus, dan banyak font pada awalnya dikirim tanpa petunjuk, karena dibutuhkan banyak waktu untuk membuatnya. </font><font style="vertical-align: inherit;">Ketika ada - secara signifikan dapat meningkatkan ukuran font. </font><font style="vertical-align: inherit;">Dalam kasus Lato, ukurannya dua kali lipat. </font><font style="vertical-align: inherit;">Apakah sepadan dengan beban kerja tambahan yang akan Anda temui dengan meninggalkan Google Font dan mencari font secara lokal? </font><font style="vertical-align: inherit;">Ini adalah keputusan lain yang perlu Anda buat sendiri.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, Google Fonts CDN didukung oleh skrip pintar yang memberikan font yang paling cocok, mengoptimalkannya untuk mempertahankan kinerja maksimum. Beralih ke penyimpanan font lokal Anda harus mengkonfigurasi semua ini sendiri, dan ada kemungkinan untuk kehilangan tampilan font Anda yang benar di beberapa browser jika Anda tidak. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk Web Almanac, kami melihat statistik pada browser pengunjung dan memutuskan untuk hanya mendukung WOFF2, dan juga menggunakan versi MacOS tanpa mengisyaratkan, karena mereka menimbang setengah dari beratnya. CSS yang disederhanakan ini (terutama karena </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">unicode-range</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> didukung oleh semua browser yang </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mendukung WOFF2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), dan pengguna IE 11 dan browser lama lainnya melihat sans-serif secara default, yang tidak terlihat sangat bagus, tetapi menurut pendapat kami, font adalah peningkatan progresif, dan bahkan tanpa mereka situs tersebut masih lebih dari yang dapat digunakan. Selain itu, browser lama bahkan dapat mengambil manfaat dari menggunakan font default sistem, karena mereka kemungkinan akan digunakan pada mesin yang lebih tua, bertenaga rendah. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda juga dapat </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">membuat penyesuaian lain untuk font yang</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Anda gunakan jika Anda mau (periksa lisensi terlebih dahulu!), Tetapi menyalin font Google default yang digunakan di Chrome pada MacOS mungkin cukup bagi sebagian besar dari kita jika Anda ingin mendukung hanya browser WOFF2 tanpa mengisyaratkan .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Namun demikian, jika kita memilih Google Font, maka kita akan memiliki WOFF (dan bahkan format yang lebih lama) dan mengisyaratkan di mana perlu, tanpa perlu untuk konfigurasi substitusi font yang benar tergantung pada browser. </font><font style="vertical-align: inherit;">Jadi, menggunakan Google Font untuk font masih memiliki kelebihan tertentu, dan memilih penyimpanan lokal Anda menolaknya. </font><font style="vertical-align: inherit;">Ini juga berlaku untuk </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">peningkatan apa pun di masa depan untuk Google Font</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Peningkatan Font Masa Depan</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karena saya mempelajari topik font, dan memperingatkan bahwa Anda dapat kehilangan manfaat Google Font di masa mendatang dengan membuka penyimpanan lokal, saya ingin sedikit menjauh dari topik utama dan berbicara tentang hal-hal menarik lainnya yang saya temukan. </font><font style="vertical-align: inherit;">Apa perubahan besar yang akan datang di dunia font? </font><font style="vertical-align: inherit;">Ya, ada dua perubahan yang saat ini sedang dibahas secara aktif dan yang dapat memengaruhi font di masa mendatang (dan karenanya dapat didukung oleh Google Font, mungkin secara default jika Anda memilih untuk menggunakan layanan ini): font variabel dan pengayaan font progresif .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Font variabel</font></font></h3><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Font variabel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> memungkinkan Anda untuk menggunakan gaya font yang berbeda tanpa harus mengunduh file individual. Saya sebutkan sebelumnya bahwa Web Almanac menggunakan hingga 9 file font yang berbeda, tetapi pada kenyataannya hanya 2 font. Alasannya sederhana - situs ini juga menggunakan versi cetak tebal, miring, tebal, dan bahkan lebih tipis dari salah satu atau keduanya. Begitu banyak variasi font yang sama mungkin tampak tidak pantas dan Anda mungkin berpikir bahwa browser itu sendiri akan mengatasi tugas mengubah ketebalan teks atau menulis miring. Ya itu mungkin. Tetapi setiap browser melakukan ini sedikit berbeda, dan hasilnya </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bisa sangat berbeda</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , banyak yang menyebutnya "font buatan".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Satu-satunya cara untuk memastikan tampilan yang sama adalah dengan menggunakan "font nyata" khusus untuk setiap gaya yang Anda butuhkan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Font variabel </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menstandarkan tampilan berbagai variasi font</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan kebutuhan untuk file tambahan menghilang. Secara teoritis, kita bisa mengganti 9 font ini dengan 2 ketika versi font variabelnya tersedia. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini membuka banyak kemungkinan untuk menggunakan font di Internet. Meskipun menurut saya 9 opsi untuk dua font terlalu banyak, pada kenyataannya tidak terlalu banyak, sementara font variabel akan memungkinkan variasi yang tak ada habisnya. Pada perangkat seluler, Anda dapat mengatur ketebalan yang sedikit berbeda untuk "tebal" daripada pada desktop dan tablet. Font variabel dengan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">beberapa instruksi CSS sederhana</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">izinkan ini tanpa biaya sumber daya untuk mengunduh font tambahan. Baru-baru ini di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DotCSS, </font></font></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jason Pamental</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> berbicara tentang font variabel dan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menunjukkan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bagaimana Anda bisa mendapatkan halaman yang dirancang dengan indah dengan apa yang tampaknya banyak font yang berbeda - semua menggunakan satu file! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menggunakan font variabel juga </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">berarti memuat semua variasi font secara bersamaan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , menghindari kebingungan yang disebabkan oleh masalah yang disebutkan sebelumnya. Ini juga mengarah pada redraws tata letak yang lebih sedikit: tanpa font variabel, halaman </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">akan digambar ulang oleh</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> browser lagi dan lagi karena setiap varian font dimuat. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Font variabel memiliki dukungan yang baik</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">di browser modern, tetapi kelemahannya adalah ukurannya yang besar, karena menyimpan variasi font yang berbeda membutuhkan lebih banyak ruang, seperti halnya dengan pemberian font. </font><font style="vertical-align: inherit;">Itu tergantung pada font, tetapi biasanya mereka dua kali lebih besar setelah kompresi, jadi untuk membenarkan penggunaannya, Anda harus memerlukan setidaknya dua gaya. </font><font style="vertical-align: inherit;">Meski begitu, Anda mungkin lebih baik memilih satu file yang lebih kecil yang diunggah untuk menampilkan teks kritis, daripada satu file yang lebih besar untuk menampilkan semua teks. </font><font style="vertical-align: inherit;">Dan lagi, dapat menggunakan font-display: swap menjadi solusi yang kurang bermasalah? </font><font style="vertical-align: inherit;">Terserah masing-masing pemilik situs untuk memutuskan!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pengayaan Font Progresif</font></font></h3><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pengayaan Font Progresif</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , pada dasarnya, mengambil subset ke tingkat baru dan memungkinkan Anda untuk mengunduh definisi karakter tambahan yang diperlukan dalam bentuk aliran informasi tambahan yang melengkapi font yang saat ini dimuat, tetapi tidak menambahkan yang tambahan. Ini mungkin tampak seperti keuntungan kecil bagi kami orang Barat, tetapi untuk bahasa lain - terutama di Timur Jauh - file font bisa sangat masif (misalnya, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2MB</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), karena banyaknya karakter dalam bahasa ini. Untuk alasan ini, font web lebih jarang digunakan di negara-negara tersebut dan pengayaan font progresif dapat memiliki efek positif pada situasi tersebut. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pengayaan Font Progresif, seperti yang saya mengerti, berada pada tahap yang jauh lebih awal dari font variabel, tetapi ada</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">demo online</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Dalam hal apa pun, ini adalah perubahan lain yang berpotensi menarik terkait font.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apakah Google Fonts akan terus meningkat?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mengingat cara kerja Google Font, mudah dibayangkan bahwa Google Font dapat terus tumbuh dengan peningkatan baru, seperti yang dijelaskan dalam artikel ini (atau banyak lainnya!), Hanya dengan mengubah CSS yang Anda berikan. Dan dia bisa melakukannya dengan bijak. Misalnya, menentukan apakah browser Anda mendukung teknologi baru (seperti sekarang dengan format font - WOFF atau WOFF2), atau dengan cara lain. Misalnya, jika Anda meminta lebih dari dua font dan memberikan font yang kurang intensif sumber daya, maka Anda dapat mengotomatiskan dan menautkan ke file font yang sama di beberapa iklan font-face, dan jika Anda hanya meminta satu opsi, maka rujuk ke yang lebih ringan, font tradisional. Kedengarannya tidak masuk akal? </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mereka sudah melakukannya dengan satu font.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Oswald)! Sejujurnya, saya tidak tahu apakah hal yang sama mungkin terjadi dengan Progressive Font Enrichment, karena saya tidak sepenuhnya memahami prinsip kerjanya, tetapi akan menarik untuk dilihat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Juga, perlu disebutkan bahwa menggunakan Google Font, ketika memperbarui font, misalnya, untuk menambahkan set karakter baru atau memperbaiki kesalahan dalam glyphs, Anda mendapatkan font baru secara otomatis. Dengan penyimpanan lokal, ini tidak akan berfungsi - setidaknya bukan tanpa intervensi satu tangan. Mungkin Anda bisa melihat ke arah permintaan proxy melalui domain Anda dan karenanya mengambil yang terbaik dari kedua opsi, tetapi ini kemungkinan besar akan lebih lambat dan memerlukan konfigurasi dan manajemen tambahan.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sisi lain, penyimpanan lokal memberikan stabilitas, karena beberapa pembaruan dapat memengaruhi desain Anda, misalnya, jika judul dalam satu baris mulai meregang menjadi dua karena perubahan font. </font><font style="vertical-align: inherit;">Ada kategori orang yang sangat kesal karena hal ini</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Manfaat penyimpanan font lokal</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, kita telah membahas banyak teori, dan meskipun ada manfaat potensial yang jelas dari penyimpanan lokal, ada juga kesulitan untuk dipertimbangkan, dan menggunakan Google Font juga memiliki beberapa manfaat yang jelas. Jadi apakah host-host layak? Itu tergantung pada fasilitas nyata dalam situasi tertentu. Jika perbedaan dalam kinerja tidak signifikan, mungkin ada baiknya terus menggunakan Google Fonts, jika besar, masing-masing. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk Web Almanac, kami baru-baru ini </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://github.com/HTTPArchive/almanac."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memilih penyimpanan lokal</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Google Fonts, dan pengujian menunjukkan perubahan dramatis:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/oa/xy/ha/oaxyhappghsnk9rj-l4qoicboki.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gambar yang lebih rendah berisi font lokal pada server pengujian kami, dan Anda dapat melihat bahwa waktu pengunduhan dibelah dua - dari 6 hingga 3 detik! Setelah analisis yang lebih dalam, saya melihat bahwa produktivitas meningkat lebih banyak lagi (penghematan 3 ⅓ detik)! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apa yang tidak begitu jelas (tetapi apa yang akan kita lihat nanti) - pada titik ini, font tidak sepenuhnya dimuat pada salah satu gambar - dengan penyimpanan lokal dibutuhkan 7,5 detik dan 10,5 detik saat menggunakan Google Font. Namun, font yang digunakan sangat mirip dengan yang standar, dan tidak ada lompatan yang terlihat dalam tata letak. Ini bisa dilihat pada diagram di bawah ini:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ai/zw/vu/aizwvu3sstjfwd68gd7gzhez4im.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diagram menunjukkan bahwa halaman dengan penyimpanan lokal (merah) hampir sepenuhnya dimuat dalam 2,4 detik, dan kemudian diperbarui beberapa kali saat gambar dimuat, setelah itu font juga ditampilkan. Ya, saya ingin membuat semuanya lebih lancar, tetapi tetap saja tidak mungkin untuk mengoptimalkan beberapa biaya unduhan font.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alasan bahwa perbaikannya benar-benar nyata adalah karena satu hal lagi yang tidak saya perhitungkan pada awalnya: CSS memblokir rendering. Jadi, jika ada tautan ke Google Fonts CSS, peramban tidak hanya menunda tampilan teks - tetapi juga memperlambat tampilan seluruh konten halaman! Fon merupakan peningkatan progresif, sehingga kami dapat dengan aman membuat sisa halaman, dan bahkan teks itu sendiri (dengan font standar / fallback), tetapi browser tidak - hanya melihat bahwa ada beberapa CSS dan mencoba memuatnya, menunda pengunduhan sisa halaman. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tidak ada pemuatan asinkron untuk CSS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- tapi mungkin harus untuk kasus seperti itu? Namun demikian, kami berisiko jika terjadi masalah saat menyambung ke Google Font, seluruh situs Anda tidak akan dapat diakses hingga browser berhenti mencoba memproses tautan! </font></font><br>
<br>
<img src="https://habrastorage.org/webt/v6/3_/oo/v63_oow5ktzvixadg7tpirrthcs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam bagan perbandingan di atas, garis hijau vertikal Mulai Render muncul paling cepat 6 detik - karena harus menunggu hingga Google Font memuat CSS di baris 12, menghabiskan separuh waktu menghubungkan ke domain dan separuh lainnya benar-benar memuat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bandingkan ini dengan versi lokal: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/x6/hm/4c/x6hm4c_omalxhr4ogx_5pueneci.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini kita dapat mulai render segera setelah CSS situs dimuat dan diproses dalam 2,5 detik. Ini karena tidak ada penundaan dalam menghubungkan ke domain Google Fonts.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam kedua kasus, kita melihat bahwa permulaan rendering terjadi sebelum font dimuat, dan berkat keajaiban font-display: swap, teks masih terlihat. Oleh karena itu, setidaknya ketika menggunakan font-display: swap, akan lebih baik jika Font Google tidak dimuat menggunakan rendering pemblokiran CSS, tetapi, misalnya, dimuat melalui JavaScript asinkron, yang menyisipkan font CSS ke halaman hanya setelah bagaimana mereka diunduh. Jika proses diimplementasikan seperti ini, rendering penundaan tidak akan terjadi, namun, masih ada penundaan saat menghubungkan dan menunggu lama untuk teks ditampilkan dengan benar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
UPD: Saya membuat </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">masalah pada GitHub Google Fonts</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dengan proposal untuk menambahkan cara mengunduh Google Fonts tanpa memblokir render - pilih suara jika Anda menginginkannya juga!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zach Leatherman menganjurkan pendekatan ini untuk </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mengurangi jumlah redraws</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dan menunjukkan bahwa ini juga dimungkinkan dengan JavaScript saja, tanpa perlu file CSS. </font><font style="vertical-align: inherit;">Kemudian itu menunjukkan keuntungan lain dari mengelola font Anda dengan JavaScript, misalnya, Anda dapat menolak untuk mengunduh font sama sekali jika situs terbuka dari jaringan yang lambat (menggunakan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API Informasi Jaringan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), atau jika pengguna mengaktifkan pengaturan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Save-Data</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> atau </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prefers-Reduced-Motion yang</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> diaktifkan. </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Fitur menarik!</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prapemuat Font</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah Anda pindah dari URL hash Google, Anda dapat memuat ulang font untuk lebih meningkatkan kinerja. Namun, opsi ini memiliki beberapa kelemahan potensial, seperti yang dibahas Andy Davies dalam artikel </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Preloading Fonts dan Puzzle of Priorities</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Pada dasarnya, dengan mem-preloading font dan memindahkannya dalam urutan prioritas, Anda secara implisit menurunkan prioritas unduhan penting lainnya (misalnya, CSS), dan karena kesalahan pada Chrome, font </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bahkan dapat melompati</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> beberapa di antaranya.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selain itu, preloading ketika font tidak akan digunakan akan menyebabkan beban berlebihan yang tidak perlu - misalnya, jika versi lokal ada dan dapat digunakan dengan prioritas, atau jika browser tidak mendukung format font ini (walaupun semua browser yang mendukung preloading juga mendukung WOFF2 ) Seiring dengan rekomendasi untuk menggunakan pra-muat, Google dengan jelas </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memperingatkan Anda tentang hal ini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dan senang melihat mereka memperhatikannya.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saat menggunakan font-display: fungsi swap, kebutuhan untuk preload mungkin tidak sekuat itu. </font><font style="vertical-align: inherit;">Meskipun dalam hal ini, Anda masih bisa mendapatkan waktu dengan mengunduh jumlah font minimum yang diperlukan dan dengan demikian menghindari FOUT dan menggambar ulang. </font><font style="vertical-align: inherit;">Saat ini, kami tidak menggunakan preloading di Web Almanac dan sebelum kami mulai, kami perlu beberapa tes lagi, tetapi untuk saat ini saya puas dengan apa yang ada.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kesimpulan</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menjawab pertanyaan dalam judul artikel: ya, itu sangat berharga, karena peningkatan kinerja sangat signifikan. </font><font style="vertical-align: inherit;">Tentu saja, hasil Anda dapat bervariasi, karena semuanya tergantung pada situs tertentu, jadi uji, uji, dan uji lagi. </font><font style="vertical-align: inherit;">Tapi, saya pikir, ini masih merupakan pilihan terbaik, dalam hal kinerja, untuk sebagian besar situs.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Namun, Google Font bukan hanya tempat penyimpanan ratusan font gratis - Google Fonts juga merupakan mekanisme pengiriman pintar yang menggunakan banyak teknik pengoptimalan terbaru untuk membuat font yang paling sesuai dengan upaya minimal dari pemilik situs. Beralih ke self-host, idealnya Anda harus menerapkan kembali banyak perbaikan yang bermanfaat, seperti tampilan font: swap, penghapusan rujukan font (setidaknya untuk beberapa browser), atau sebaliknya, Anda hanya dapat membahayakan kinerja yang berat file font.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini bukan tugas yang mudah (dan Google Font melakukannya untuk Anda, ya). Tetapi karena sekarang hanya menggunakan format WOFF2 adalah satu-satunya pilihan yang realistis, dan browser sangat mendukung sebagian besar teknik optimasi, semuanya menjadi jauh lebih mudah daripada sebelumnya. Namun demikian, ada baiknya memiliki pengetahuan tentang font web sebelum mengatur semuanya (saya harap posting ini membantu dalam hal ini!), Dan pada saat yang sama mengawasi perubahan baru di dunia font, karena pasti akan ada perbaikan lebih lanjut. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yah, mungkin kami terlalu tertarik pada optimasi dan dengan penyimpanan lokal kami mampu menggunakan font lengkap, tanpa berlangganan dan dengan mengisyaratkan? Di situs web Google Fonts, Anda dapat mengunduh font apa saja dan itu relatif sederhana, walaupun aneh bahwa </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">arsip tidak menyertakan format WOFF dan WOFF2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">saat menggunakan metode pemuatan ini, yang benar-benar tidak bisa dipahami oleh saya! </font><font style="vertical-align: inherit;">Namun, jika Anda benar-benar tertarik untuk meningkatkan kinerja (dan Anda harus tertarik!), Maka Anda harus mencoba melakukan hal yang benar. </font><font style="vertical-align: inherit;">Artikel ini hanya menunjukkan bahwa ini sedikit lebih rumit daripada hanya mengunduh dan menempatkan font di situs Anda, seperti yang selalu saya harapkan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wow, sesuatu teks ternyata lebih panjang dari yang saya harapkan! </font><font style="vertical-align: inherit;">Tapi saya harap Anda juga tertarik untuk memahami topik seperti Anda dan sekarang Anda memiliki beberapa ide baru untuk mempercepat unduhan font di situs Anda. </font><font style="vertical-align: inherit;">Saya sangat menyarankan Anda mengikuti </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jason</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zach</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> di Twitter untuk mempelajari lebih lanjut tentang font, dan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Andy</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> untuk mempelajari lebih lanjut tentang kecepatan aplikasi web secara keseluruhan.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/9fa/cf4/a34/9facf4a348ef01048b4eb5e16ae66daa.png"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id490354/index.html">Meningkatkan budaya keamanan informasi di perusahaan fintech</a></li>
<li><a href="../id490356/index.html">Memperkenalkan Kubernetes CCM (Cloud Controller Manager) untuk Yandex.Cloud</a></li>
<li><a href="../id490358/index.html">Apakah programmer modern perlu dapat membuat algoritma?</a></li>
<li><a href="../id490362/index.html">Kubernet dalam semangat pembajakan: jalur kami ke layanan microser dan template yang siap pakai untuk implementasi</a></li>
<li><a href="../id490364/index.html">Pusat data mengkonsumsi banyak listrik, tetapi belum mengancam iklim</a></li>
<li><a href="../id490372/index.html">Wawancara di Dodo Pizza</a></li>
<li><a href="../id490376/index.html">Jamak</a></li>
<li><a href="../id490378/index.html">IPv6 - dunia yang indah layak transisi cepat untuk itu</a></li>
<li><a href="../id490380/index.html">Penundaan penyelesaian pod saat dihapus</a></li>
<li><a href="../id490382/index.html">Konten pertemuan # 2 FunCorp iOS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>