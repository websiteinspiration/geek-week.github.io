<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🌚 ♨️ 🕋 Personnalisation du bac à sable: pourquoi vous en avez besoin maintenant 🗺️ 👊🏼 👸🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La question de la personnalisation des images de bac à sable est pertinente depuis leur création. Les premières versions de ces programmes étaient des...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Personnalisation du bac à sable: pourquoi vous en avez besoin maintenant</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pt/blog/494240/"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/w0/kd/as/w0kdasxxfgrntuq6bpubjtse6ym.png"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La question de la personnalisation des images de bac à sable est pertinente depuis leur création. </font><font style="vertical-align: inherit;">Les premières versions de ces programmes étaient des solutions internes des sociétés de sécurité de l'information, mais même alors, il y avait un besoin de réglage minutieux des machines isolées. </font><font style="vertical-align: inherit;">Et ce n'était pas seulement l'installation d'un logiciel auxiliaire pour surveiller l'état du système. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y a encore 10 ans, la logique de collecte et de traitement des caractéristiques environnementales était intégrée dans des échantillons malveillants: nom d'utilisateur et ordinateur, domaine domestique ou d'entreprise, droits d'administrateur, disposition de la langue, nombre de cœurs de processeur, version du système d'exploitation, présence de logiciel antivirus, signes de virtualisation et même </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">présence de mises à jour dans système</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">À ce jour, le nombre de paramètres et de méthodes pour les obtenir n'a fait qu'augmenter.</font></font><a name="habracut"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sandbox Bypass Malware Techniques</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au début, l'approche était assez simple: si le malware vérifie l'utilisateur avec le test de nom, alors nous l'appellerons John; si nous utilisons la clé de registre SYSTEM \ CurrentControlSet \ Enum \ SCSI \ Disk &amp; Ven_VMware_ &amp; Prod_VMware_Virtual_S pour savoir si nous sommes dans un environnement virtuel, alors (si possible) nous remplacerons la clé ou les résultats retournés en interceptant l'appel. À la suite de nombreuses études, une certaine base de connaissances sur les méthodes de contournement de détection a été recrutée, qui a ensuite été utilisée pour configurer l'environnement. Des années ont passé, les auteurs de virus ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et pas seulement</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) ont commencé à utiliser de plus en plus ces connaissances dans leur travail, ce qui a finalement conduit aux éléments suivants.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La question "Est-ce un environnement de recherche?" </font><font style="vertical-align: inherit;">a été remplacé par "L'environnement est-il intéressant?" </font><font style="vertical-align: inherit;">Et l'intérêt n'est pas de trouver des traces de certains clients FTP pour des vols de données ultérieurs. </font><font style="vertical-align: inherit;">Maintenant, si c'est la machine d' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un employé comptable</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> qui utilise un logiciel spécifique, alors autre chose. </font><font style="vertical-align: inherit;">Il existe d'autres approches: infecter l'utilisateur avec un chargeur de démarrage léger, qui collectera toutes les informations nécessaires sur le système, les enverra au serveur de gestion et ... ne recevra pas la charge utile en réponse. </font><font style="vertical-align: inherit;">Une logique de serveur inconnue a décidé que cette victime n'était pas intéressante.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous voyons donc que les bacs à sable configurés par défaut ne sont pas une solution commerciale efficace. </font><font style="vertical-align: inherit;">Les attaquants s'appuient de plus en plus non pas sur la légitime défense contre la détection, mais sur le rétrécissement de la plage de recherche de cibles intéressantes pour le développement ultérieur de l'attaque.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment les combattons-nous?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En termes simples, nous vous proposons de faire une image unique d'un environnement isolé. </font><font style="vertical-align: inherit;">L'objectif est de recréer un environnement aussi proche que possible du poste de travail d'un employé, avec un accès attractif pour les attaquants: un service financier, un serveur de build pour une intégration continue en cours de développement, un serveur web, une machine d'administrateur de domaine, et enfin un poste de PDG.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien sûr, pour une telle tâche, vous pouvez libérer un certain nombre de blancs avec le logiciel approprié «à bord», mais vous devez ensuite les démarrer avec des données spécifiques qui correspondent à une organisation particulière: le nom de domaine, les ressources ou applications utilisées, les noms et le contenu des documents de travail - plus il y a de nuances, mieux c'est . </font><font style="vertical-align: inherit;">Parfois, l'environnement doit être affiné, jusqu'aux versions et correctifs de mise à jour du système. </font><font style="vertical-align: inherit;">Dans le cas le plus simple, l'image peut être rendue simplement "pleine de trous". </font><font style="vertical-align: inherit;">Cependant, si votre parc d'infrastructure informatique n'est pas plus ancien que certaines versions, cela peut également être pris en compte et éliminé de nombreux vecteurs de pénétration non pertinents en utilisant un certain nombre de vulnérabilités.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par conséquent, nous obtenons une image inconnue des auteurs de virus, qui les intéresse vraiment et augmente ainsi considérablement la probabilité de détecter une attaque ciblée.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pourquoi dois-je émuler le travail d'un ordinateur "en direct"? </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'émulation des actions de l'utilisateur est un incontournable sans lequel le bac à sable perd son efficacité. </font><font style="vertical-align: inherit;">Dans certains cas, l'absence d'actions entraînera la détection de la présence dans le bac à sable: par exemple, si le curseur de la souris ne change pas de position pendant une longue période, de nouvelles fenêtres n'apparaissent pas, les applications ne sont pas terminées ou trop peu sont lancées, si de nouveaux fichiers n'apparaissent pas dans des répertoires temporaires, non activité réseau. </font><font style="vertical-align: inherit;">Dans d'autres situations, cela affectera le fonctionnement du logiciel malveillant lui-même: par exemple, pour l'exécuter, le consentement de l'utilisateur à inclure des macros dans le document de bureau est requis, ou le cheval de Troie affichera une boîte de dialogue intermédiaire dans laquelle il sera nécessaire d'accepter quelque chose (ou quelque chose refuser) de continuer son travail.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parfois, des actions insignifiantes sont simplement nécessaires: l'utilisateur doit ouvrir un document et écrire quelque chose ou copier le mot de passe dans le presse-papiers pour une saisie ultérieure - c'est précisément à de tels moments qu'un cheval de Troie espion peut fonctionner, qui interceptera les données importantes et les enverra au serveur de son auteur.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment cela se fait-il avec nous?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Notre solution est progressivement renouvelée avec de nouvelles actions qui imitent le travail d'un utilisateur vivant. </font><font style="vertical-align: inherit;">Bien sûr, les séquences prédéfinies d'événements planifiés de toute complexité ne peuvent jamais être comparées à la variété d'utilisation réelle. </font><font style="vertical-align: inherit;">Nous continuons à rechercher et à améliorer ce côté du produit, en augmentant son efficacité.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En plus des fonctions décrites ci-dessus, il convient de noter une caractéristique fondamentale: notre bac à sable appartient à la classe des bacs sans agent. Dans la plupart des solutions, il existe un agent auxiliaire à l'intérieur de la machine virtuelle, qui est responsable de la gestion de l'état du système, de la réception et de la transmission d'événements et d'artefacts intéressants au serveur hôte. Malgré les avantages de la surveillance et le principe clair d'interaction entre l'hôte et les machines invitées, cette solution présente un inconvénient important: la nécessité de masquer et de protéger les objets associés à l'agent contre les logiciels malveillants. Dans le cas où il n'y a pas de fournisseur d'événements, la question se pose: comment, alors, obtenir des informations sur ce qui se passe à l'intérieur de la machine virtuelle? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour cela, nous utilisons la technologie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Extended Page Table</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(EPT) Intel Corporation. </font><font style="vertical-align: inherit;">Il s'agit d'une page de mémoire intermédiaire qui se situe entre la mémoire physique invitée et la mémoire physique hôte. </font><font style="vertical-align: inherit;">En bref, cela vous permet de faire ce qui suit:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">examiner l'affichage des pages de mémoire de l'ordinateur invité;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mettre en évidence des sections intéressantes (par exemple, contenant des adresses ou un code de fonctions nucléaires);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">marquer les pages sélectionnées de sorte que les droits d'accès aux pages mémoire dans l'EPT ne coïncident pas avec les droits d'accès aux pages de la machine invitée;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour capter l'appel aux sections de mémoire balisées (à ce moment, une erreur d'accès (#PF) se produira, par conséquent, la machine invitée sera suspendue);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">analyser l'état, extraire les informations nécessaires sur l'événement;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">remodeler la page mémoire dans l'état correct;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">restaurez la machine invitée.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La surveillance de tout ce qui se passe se fait en dehors de la machine isolée. Le malware qui se trouve à l'intérieur ne peut pas détecter le fait de l'observation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'exécution d'un échantillon dans le bac à sable et l'analyse de son comportement ne sont que l'un des composants d'un produit complexe. Après le démarrage, la mémoire de processus est analysée pour détecter les codes malveillants, l'activité du réseau est enregistrée, qui est ensuite analysée à l'aide de plus de 5000 règles de détection. De plus, il est possible de décrypter les interactions sécurisées.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tous les indicateurs de compromis (IOC), qui ont pu être identifiés au cours de l'étude, sont vérifiés par des listes de réputation. </font><font style="vertical-align: inherit;">Avant de subir une analyse dynamique, l'échantillon est envoyé pour un traitement statique: il est préfiltré sur plusieurs antivirus et analysé par notre propre moteur avec les règles de détection des experts du </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">centre de sécurité expert</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (PT Expert Security Center). </font><font style="vertical-align: inherit;">Nous utilisons un examen complet, y compris pour identifier les anomalies dans les méta-informations et les artefacts intégrés de l'échantillon.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quelles tâches PT Sandbox fait-elle le mieux et pourquoi?</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PT Sandbox</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> combine les connaissances et l'expérience de plusieurs équipes et produits pour contrer les attaques ciblées. </font><font style="vertical-align: inherit;">Malgré le fait que le produit puisse être utilisé en mode de lutte contre les menaces (prévention), il reste avant tout un moyen de surveillance (détection) de la sécurité des systèmes informatiques. </font><font style="vertical-align: inherit;">La principale différence avec les solutions classiques de protection des terminaux est que la tâche de PT Sandbox est de prêter attention aux anomalies et d'enregistrer une menace inconnue auparavant. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Publié par</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Alexey Vishnyakov, spécialiste principal, Threat Technologies Research Group, Positive Technologies</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr494228/index.html">L'impression 3D dans la création du Boeing 777</a></li>
<li><a href="../fr494230/index.html">AI vs COVID-19: Expérience du Hubei et de la Floride</a></li>
<li><a href="../fr494232/index.html">Pourquoi y a-t-il des insectes dans le cerveau?</a></li>
<li><a href="../fr494234/index.html">Une sélection de casques VR pour les applications industrielles</a></li>
<li><a href="../fr494238/index.html">Leçons apprises en 3 ans de travail à distance pour rester dans un esprit sobre et une mémoire vive</a></li>
<li><a href="../fr494242/index.html">Ninja Bayésien</a></li>
<li><a href="../fr494244/index.html">Bourse et gestion des risques: 5 conseils pour diversifier votre portefeuille d'investissement</a></li>
<li><a href="../fr494252/index.html">Impression 3D: trois maisons et demie en quatre jours</a></li>
<li><a href="../fr494254/index.html">OpenShift en tant que version d'entreprise de Kubernetes</a></li>
<li><a href="../fr494256/index.html">Qui d'autre a besoin de sélénium? Quelqu'un utilise-t-il BDD en 2020? Apprentissage automatique chez Selenium</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>