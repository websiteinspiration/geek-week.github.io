<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🔩 🧙🏻 👨🏾‍🤝‍👨🏼 MVC adéquat pour les débutants et plus 🤱🏼 😵 🧘🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Petite introduction
 Tous les 404! La plupart des développeurs iOS ne comprennent pas comment travailler avec Apple-MVC. En raison de critiques dérais...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>MVC adéquat pour les débutants et plus</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/500870/"><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Petite introduction</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tous les 404! </font><font style="vertical-align: inherit;">La plupart des développeurs iOS ne comprennent pas comment travailler avec Apple-MVC. </font><font style="vertical-align: inherit;">En raison de critiques déraisonnables, les petits projets tentent d'écrire sur des architectures qui ne sont pas destinées à cela, les ViewControllers deviennent énormes, illisibles, etc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cet article , </font><font style="vertical-align: inherit;">je vais montrer un </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">simple</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , moyen de rendre la </font><font style="vertical-align: inherit;">vie plus facile pour moi - </font><font style="vertical-align: inherit;">même, la </font><font style="vertical-align: inherit;">vie pour moi - </font><font style="vertical-align: inherit;">même, qui a examiné le projet au </font><font style="vertical-align: inherit;">bout de </font><font style="vertical-align: inherit;">3 mois, et, bien sûr, pour tous ViewControllers. </font><font style="vertical-align: inherit;">À qui convient-il? </font><font style="vertical-align: inherit;">Pour les débutants ou les développeurs avec de petits projets qui se retrouvent avec une structure propre et belle.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Où est-ce que tout le monde se noie?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour commencer, regardons le beau MVC standard préféré de tout le monde. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/763/2bb/542/7632bb542502b5b48563640a7a0ff13e.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voyons maintenant ce qui est mis en œuvre par la majorité. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/a64/599/a5e/a64599a5e5f802d52180ffc2d3ecff22.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cool? </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Non! </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Par conséquent, nous ne le ferons pas, mais nous mettrons en œuvre la première option.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Faire la structure de la beauté</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous créons l'application Single View habituelle. </font><font style="vertical-align: inherit;">J'ai mis Swift dans le champ de sélection de la langue, sans rien inclure d'autre: ni tests, ni CoreDat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je vais montrer par l'exemple de la création d'une vitrine, car </font><font style="vertical-align: inherit;">nous devons affecter toutes les parties de MVC, nous prendrons les données du modèle dans le contrôleur pour les diffuser et les afficher en vue. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D'accord, il y a une tâche, il y a un projet vide. </font><font style="vertical-align: inherit;">Maintenant, plongeant dans le projet, je vais tout distribuer dans des dossiers et créer des fichiers vides pour que vous compreniez où ils devraient se trouver à l'avenir. </font><font style="vertical-align: inherit;">Également joint une structure de storyboard, afin de ne pas perdre de temps à l'avenir. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N'oubliez pas</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de spécifier l'ID de réutilisation dans la cellule, j'ai écrit ProductCell. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/22e/a0c/7ab/22ea0c7abf9bb87897310b484c561ae6.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Magnifiquement? </font><font style="vertical-align: inherit;">Bien sûr, c'est beau. </font><font style="vertical-align: inherit;">Nous continuons ...</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">De la magie rapide</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous pouvons maintenant commencer la mise en œuvre. </font><font style="vertical-align: inherit;">Commençons par une vue simple. </font><font style="vertical-align: inherit;">Nous devons créer tous les IBOutlets et les paramètres de notre vue.</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-comment">//    ,   view     UIKit. </span>
<span class="hljs-keyword">import</span> UIKit<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ShopView</span>: <span class="hljs-title">UIView</span></span>{
    <span class="hljs-comment">//       storyboard. </span>
    <span class="hljs-meta">@IBOutlet</span> <span class="hljs-keyword">weak</span> <span class="hljs-keyword">var</span> tableView: <span class="hljs-type">UITableView!</span>
    <span class="hljs-comment">//      view. </span>
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">configure</span><span class="hljs-params">()</span></span>{
        <span class="hljs-comment">//     ,    ,      ...</span>
        tableView.estimatedRowHeight = <span class="hljs-number">50</span>
        tableView.rowHeight = <span class="hljs-number">100</span><font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici à quoi ressemblera notre vue, dans la fonction configure (), je viens de définir les paramètres, mais la vue doit être utilisée pour les animations, et pour changer le titre du titre du bouton, etc ... Donc, primitivement dire? </font><font style="vertical-align: inherit;">Mais pourquoi alors utiliser si peu cet avantage?! </font><font style="vertical-align: inherit;">Donc, par exemple, j'utilise des animations dans le controller'e: view.hideBorders (self) et c'est tout, et view fera déjà une belle animation.</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-comment">//    view  . </span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">hideBorders</span><span class="hljs-params">(view: UIView)</span></span>{
    <span class="hljs-type">UIView</span>.animate(withDuration: <span class="hljs-number">0.3</span>,<font></font>
                   delay: <span class="hljs-number">0</span>,<font></font>
                   options: .curveEaseInOut,<font></font>
                   animations: {<font></font>
           <span class="hljs-comment">//         constraint. </span>
           <span class="hljs-keyword">self</span>.createViewHeighConstraint.constant = view.bounds.height * <span class="hljs-number">0.6</span>
           <span class="hljs-comment">//   ,   ,    . </span>
           <span class="hljs-keyword">self</span>.editButton.layer.cornerRadius = <span class="hljs-number">20</span>
           <span class="hljs-keyword">self</span>.postView.layer.shadowOpacity = <span class="hljs-number">0</span>
           <span class="hljs-keyword">self</span>.postView.layer.cornerRadius = <span class="hljs-number">0</span><font></font>
           view.layoutIfNeeded()<font></font>
    }, completion: <span class="hljs-literal">nil</span>)<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Feu! </font><font style="vertical-align: inherit;">Mais revenons à notre projet, il est temps de mettre en place le modèle. </font><font style="vertical-align: inherit;">Et donc nous aurons des biens, et que leurs groupes soient.</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-comment">//   ,   model       View.</span>
<span class="hljs-comment">// ,    ,       Foundation.</span>
<span class="hljs-keyword">import</span> Foundation
<span class="hljs-comment">//      ,  . </span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Product</span> </span>{
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">let</span> name: <span class="hljs-type">String</span><font></font>
}<font></font>
<span class="hljs-comment">//    ,      ,   . </span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ProductGroup</span> </span>{
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">let</span> products: [<span class="hljs-type">Product</span>]
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">let</span> title: <span class="hljs-type">String</span><font></font>
}<font></font>
<span class="hljs-comment">//  swift   ()    extension. </span>
<span class="hljs-class"><span class="hljs-keyword">extension</span> <span class="hljs-title">ProductGroup</span></span>{
    <span class="hljs-comment">//  ,     ( Product). </span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">vegetables</span><span class="hljs-params">()</span></span> -&gt; <span class="hljs-type">ProductGroup</span>{
       <span class="hljs-comment">//   .</span>
        <span class="hljs-keyword">let</span> products = [
            <span class="hljs-type">Product</span>(name: <span class="hljs-string">""</span>),
            <span class="hljs-type">Product</span>(name: <span class="hljs-string">""</span>),
            <span class="hljs-type">Product</span>(name: <span class="hljs-string">""</span>)<font></font>
        ]<font></font>
        <span class="hljs-comment">//      "". </span>
        <span class="hljs-keyword">return</span> <span class="hljs-type">ProductGroup</span>(products: products, title: <span class="hljs-string">""</span>)<font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Génial, notre modèle est prêt, il reste à assembler le contrôleur, transgressons. </font><font style="vertical-align: inherit;">Tout d'abord, nous devrons créer deux de nos principales entités, le modèle et la vue. </font><font style="vertical-align: inherit;">Ensuite, je vais retirer les paramètres du contrôleur dans l'extension privée et transférer les données du modèle vers notre table.</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-comment">//  controller'e      ,      UIKit.</span>
<span class="hljs-keyword">import</span> UIKit<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ShopController</span>: <span class="hljs-title">UIViewController</span> </span>{
    <span class="hljs-comment">//  -     .</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> shopModel = <span class="hljs-type">ProductGroup</span>.vegetables()<font></font>
    <font></font>
    <span class="hljs-comment">//     (       )</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> shopView: <span class="hljs-type">ShopView!</span> {
        <span class="hljs-keyword">guard</span> isViewLoaded <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span> }
        <span class="hljs-keyword">return</span> (view <span class="hljs-keyword">as</span>! <span class="hljs-type">ShopView</span>)<font></font>
    }<font></font>
    <span class="hljs-comment">//      view,         controller'a  view  . </span>
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">viewDidLoad</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">super</span>.viewDidLoad()
        <span class="hljs-comment">//    view      .</span><font></font>
        configure()<font></font>
    }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">private</span> <span class="hljs-class"><span class="hljs-keyword">extension</span> <span class="hljs-title">ShopController</span></span>{
    <span class="hljs-comment">//          .</span>
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">configure</span><span class="hljs-params">()</span></span>{<font></font>
        shopView.tableView.delegate = <span class="hljs-keyword">self</span>
        shopView.tableView.dataSource = <span class="hljs-keyword">self</span><font></font>
    }<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">//      . </span>
<span class="hljs-class"><span class="hljs-keyword">extension</span> <span class="hljs-title">ShopController</span>: <span class="hljs-title">UITableViewDataSource</span>, <span class="hljs-title">UITableViewDelegate</span></span>{<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">tableView</span><span class="hljs-params">(<span class="hljs-number">_</span> tableView: UITableView, numberOfRowsInSection section: Int)</span></span> -&gt; <span class="hljs-type">Int</span> {
        <span class="hljs-comment">//  -   -   </span>
        <span class="hljs-keyword">return</span> shopModel.products.<span class="hljs-built_in">count</span><font></font>
    }<font></font>
    <font></font>
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">tableView</span><span class="hljs-params">(<span class="hljs-number">_</span> tableView: UITableView, cellForRowAt indexPath: IndexPath)</span></span> -&gt; <span class="hljs-type">UITableViewCell</span> {
        <span class="hljs-comment">//   ,   reuse Id ,      .</span>
        <span class="hljs-keyword">let</span> cell = tableView.dequeueReusableCell(withIdentifier: <span class="hljs-string">"ProductCell"</span>)
        <span class="hljs-comment">//    label  cell     . </span><font></font>
        cell?.textLabel?.text = shopModel.products[indexPath.row].name<font></font>
        <span class="hljs-keyword">return</span> cell!<font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il a promis d'expliquer la vue, n’a pas oublié?) Notre boutique View est une propriété calculée. </font><font style="vertical-align: inherit;">Ici, nous vérifions isViewLoaded afin de ne pas provoquer le chargement involontaire de la vue lors de l'accès à cette propriété. </font><font style="vertical-align: inherit;">Si la vue est déjà chargée, nous la forçons à être convertie en ShopView. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ça y est, notre mvc est prêt! </font><font style="vertical-align: inherit;">Il reste à appuyer sur commande + R et à voir trois cellules.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qu'avons-nous finalement?</font></font></h2><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Architecture simple et claire</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Charge uniforme sur le modèle, la vue, le contrôleur</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Vue de réutilisation facile</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Extensibilité aisée de notre projet</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'espère vraiment que cet article aidera les débutants à garder leurs projets propres, à ne pas se perdre dans le code, mais à se concentrer sur les tâches. </font><font style="vertical-align: inherit;">Tous les bons et moins de bugs ^^</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr500856/index.html">À propos de la traduction de "interest" sans intérêt</a></li>
<li><a href="../fr500860/index.html">En Chine, des caméras de surveillance sont installées devant les portes d'entrée et à l'intérieur des appartements des citoyens</a></li>
<li><a href="../fr500862/index.html">Roue de Sansara: principes de la lutte contre la routine</a></li>
<li><a href="../fr500864/index.html">Quand l'information et la sécurité fonctionnelle se rencontrent</a></li>
<li><a href="../fr500866/index.html">Vulnérabilités de l'infrastructure cloud</a></li>
<li><a href="../fr500872/index.html">Sale truc bon marché qui a donné des graphiques en couleur aux premiers ordinateurs personnels</a></li>
<li><a href="../fr500874/index.html">Traduction du livre d'Andrew Un, Passion for Machine Learning, chapitres 44 - 46</a></li>
<li><a href="../fr500882/index.html">Alors que j'écrivais les mots croisés japonais en 4 heures</a></li>
<li><a href="../fr500884/index.html">Utilisation de VueJS avec Django</a></li>
<li><a href="../fr500886/index.html">Livre Python: Intelligence artificielle, Big Data et Cloud Computing</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>