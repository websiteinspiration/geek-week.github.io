<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🌡️ ♥️ 😙 Kontrol motor nirkabel dari Lego menggunakan Steam Controller ⏰ 🦃 ⚜️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ketika saya masih muda, saya selalu ingin memiliki perlengkapan Lego Technics untuk mengumpulkan segala macam barang keren dari mereka. Tank otonom de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Kontrol motor nirkabel dari Lego menggunakan Steam Controller</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/500668/"><img src="https://habrastorage.org/webt/to/-q/fh/to-qfh-f6as72siykacsf0u_8du.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketika saya masih muda, saya selalu ingin memiliki perlengkapan Lego Technics untuk mengumpulkan segala macam barang keren dari mereka. Tank otonom dengan menara berputar yang menembakkan batu bata Lego. Tapi kemudian saya tidak punya set seperti itu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan bahkan batu bata biasa dari Lego tidak. Saya hanya punya teman yang saudara lelakinya memiliki semua mainan mahal ini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan sekarang saya memiliki putra seusianya. Dan dia membangun tank yang ... terus menempel dengan bodoh sampai menabrak dinding :) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan sekarang, saatnya telah tiba untuk ESP32 dan keajaiban besi solder - kita akan membuat remote control yang tepat untuk mereka!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tidak, tentu saja, saya tahu tentang keberadaan remote seperti itu. </font><font style="vertical-align: inherit;">Tapi tidak satu pun dari mereka yang cocok untukku. </font><font style="vertical-align: inherit;">Mereka inframerah, dengan teknologi tahun 80-an, atau terlalu besar. </font><font style="vertical-align: inherit;">Atau mahal. </font><font style="vertical-align: inherit;">Dan yang paling penting - saya tidak bisa mengatakan kepada putra saya tentang salah satu dari mereka: "Saya melakukannya khusus untuk Anda!" </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi mari kita buat remote baru yang ditingkatkan untuk memerintah semua orang!</font></font><br>
<a name="habracut"></a><br>
<img src="https://habrastorage.org/getpro/habr/post_images/ffa/c72/7fd/ffac727fd7f9547d36657745fe7ea3a1.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bahan:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ESP32-WROOM-32D | </font><font style="vertical-align: inherit;">WiFi, BLE, dan prosesor dengan I / O - cukup untuk mengendalikan dua </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">motor</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LED</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DRV8833 | </font><font style="vertical-align: inherit;">double H-bridge dengan tenaga yang cukup untuk motor.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TPS62162 | </font><font style="vertical-align: inherit;">menurunkan tegangan ke 17 V, serta untuk hiburan saat menyolder casing WSON-8 2 × 2 mm</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CP2104 | </font><font style="vertical-align: inherit;">untuk pemrograman ESP32</font></font></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"></a>     .      ,   Lego  .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Semua ini akan ditempatkan di papan yang agak kecil - di sini adalah penampilannya di editor EasyEDA: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/3c8/4af/b81/3c84afb81433206ebf31adbfde2b8700.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kawat yang terlihat di foto header tidak diperlukan untuk memperbaiki kesalahan, tetapi untuk memasok daya dari USB. Mungkin tidak cukup untuk motor, tetapi, sayangnya, kontak dari China masih belum datang kepada saya. Karena itu, saya lebih dulu memeriksa pengoperasian LED. Untuk keindahan dalam foto, saya hanya memasang konektor dari motor di papan tulis. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada versi 1.1 board saya (tidak seperti versi 1.2, yang sudah ada di EasyEDA), tidak ada LED, jadi saya menyolder dua dioda anti-paralel ke output sehingga apa yang terjadi terlihat. Jika Anda melihat lebih dekat, video menunjukkan inklusi alternatif sepasang 0603 dioda, yang menunjukkan gerakan maju / mundur.</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/UX0iBoP1utU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sedangkan untuk panel kontrol, pada awalnya saya hanya ingin mengumpulkan papan tambahan dengan tombol dan ESP32 lainnya - remote control klasik. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Namun, kemudian saya ingat bahwa Steam Controllers memiliki Bluetooth Low Energy Mode (BLE). Saya memutuskan untuk mengatasi masalah ini, dan setelah beberapa jam saya belajar bagaimana menerima paket dari controller. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk melakukan ini, cukup cari perangkat HID yang menyebut dirinya SteamController dan sambungkan. Dan kemudian gunakan layanan tidak berdokumen Valve dan beberapa </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">perintah tidak berdokumen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> yang memungkinkan transfer paket. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/2f7/fb5/877/2f7fb5877ff2dae71c57c405b3e4c5d4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan saya juga menemukan format laporan tidak berdokumen, yang saya parsing secara manual.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/22c/8ab/3db/22c8ab3db50e5ac2a0fb6c0c48a2701e.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah sekitar satu jam, arti dari flag dan nilai menjadi jelas bagi saya, dan saya berhasil mengedipkan LED menggunakan pengontrol Steam dan ESP32. </font><font style="vertical-align: inherit;">¯ \ _ (ツ) _ / ¯</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">File</font></font></h2><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Papan sirkuit EasyEDA dan board </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">easyeda.com/EFS-GH/legoremote</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sumber untuk Arduino: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/g3gg0/LegoRemote</font></font></a></li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v1.0:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "pendekatan percobaan" </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - opsi pertama yang saya pilih regulator tegangan yang salah. TPS62291 menaikkan tegangan hanya menjadi 6 V. Saya mengembangkan beberapa proyek secara paralel, dan saya lupa bahwa perangkat perlu bekerja dengan 9 V. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v1.1:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "cukup baik" </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - opsi ini terlihat di iklan, dan semuanya berfungsi </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v1.2:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "final" </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - LED indikator yang ditambahkan ke output dan mengoptimalkan ukuran dan tata letak papan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Video singkat berikutnya menunjukkan fase koneksi (1-3 detik setelah menyalakan daya) dan kontrol output motor. Konektor Lego belum terhubung. Ini akan pergi ke ruang kosong di sebelah konektor lain, ditandai dengan persegi panjang putih.</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/-2-QGO-eoNQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anak saya sekarang secara teratur menggunakan pengontrol ini untuk mengontrol perangkat yang telah ia rakit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selama stress test, saya hanya menemukan satu masalah: Saya berpikir bahwa mode "pembusukan cepat" dari pengendara motor akan bekerja paling baik, tetapi karena itu, setelah beberapa detik operasi, kecepatan motor akan turun sangat banyak. </font><font style="vertical-align: inherit;">Jadi saya mengubah kode sehingga digunakan "peluruhan lambat". </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/c1e/e09/921/c1ee09921222a6c99fa4dce4395ca4a7.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sejauh ini saya tidak yakin bagaimana DRV bekerja dan mengapa motor pertama-tama berputar dengan cepat, dan kemudian setelah 10 detik mulai melambat secara bertahap. </font><font style="vertical-align: inherit;">Mungkin MOSFET sedang memanas dan resistensi mereka meningkat terlalu banyak.</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/aIFafodKasQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya harap contoh penggunaan Arduino ini dengan mudah menginspirasi orang lain dan memungkinkan mereka untuk memperkenalkan anak-anak mereka pada elektronik.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id500648/index.html">Apa model arsitektur kematangan perusahaan?</a></li>
<li><a href="../id500654/index.html">WebRTC di Android: cara mengaktifkan penyandian perangkat keras pada banyak perangkat</a></li>
<li><a href="../id500656/index.html">Pencatatan hierarki aplikasi ke basis data</a></li>
<li><a href="../id500660/index.html">Sejarah pengembangan "awan" yang disederhanakan dan sangat singkat</a></li>
<li><a href="../id500666/index.html">Sertifikasi online Microsoft - Anda, ruang Anda, dan komputer Anda</a></li>
<li><a href="../id500670/index.html">Bagaimana kami menciptakan produk kami. Bagian Satu, Penelitian</a></li>
<li><a href="../id500672/index.html">Kelanjutan aliran untuk penguji dan tidak hanya</a></li>
<li><a href="../id500676/index.html">Pengumuman lokakarya online tentang otomatisasi uji</a></li>
<li><a href="../id500678/index.html">ClickHouse untuk Pengguna Lanjut dalam Pertanyaan dan Jawaban</a></li>
<li><a href="../id500688/index.html">Bekerja dengan database di Flask: dari Juni hingga Juni</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>