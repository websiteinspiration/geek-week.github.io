<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçü üëéüèª üë©üèª‚Äçü§ù‚Äçüë®üèº Pengembangan peta distribusi coronavirus interaktif tipe 2019-nCoV dengan Python üê± üë©‚Äçüç≥ üßë‚Äçü§ù‚Äçüßë</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Coronavirus tipe 2019-nCoV, setelah wabah di kota Wuhan di Cina, menyebar dengan cepat ke seluruh dunia. Pada saat penulisan artikel asli (30 Januari ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Pengembangan peta distribusi coronavirus interaktif tipe 2019-nCoV dengan Python</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/487688/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Coronavirus tipe 2019-nCoV, setelah wabah di kota Wuhan di Cina, menyebar dengan cepat ke seluruh dunia. Pada saat penulisan artikel asli (30 Januari 2020), lebih dari 9.000 orang terinfeksi dan 213 orang mati dilaporkan, hingga hari ini (10 Februari 2020), 40.570 orang telah terinfeksi, 910 orang telah meninggal. Kasus infeksi coronavirus telah terdeteksi di Prancis, Australia, Rusia, Jepang, Singapura, Malaysia, Jerman, Italia, Sri Lanka, Kamboja, Nepal, dan banyak negara lainnya. Tidak ada yang tahu kapan virus akan dihentikan. Sementara itu, jumlah kasus koronavirus yang dikonfirmasi hanya bertambah.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Penulis artikel yang kami terjemahkan hari ini ingin berbicara tentang bagaimana, menggunakan Python, untuk membuat aplikasi sederhana untuk melacak penyebaran coronavirus. </font><font style="vertical-align: inherit;">Setelah menyelesaikan pekerjaan pada aplikasi ini, pembaca akan memiliki halaman HTML yang menampilkan peta penyebaran virus dan slider yang memungkinkan Anda untuk memilih tanggal di mana data ditampilkan di peta.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f47/3a0/01d/f473a001d45ecadc8bcdc1415c43e983.gif"></div></a><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Peta interaktif distribusi teknologi coronavirus tipe 2019-nCoV</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
seperti Python 3.7, Pandas, Plotly 4.1.0 dan Jupyter Notebook akan digunakan di sini.</font></font><br>
<a name="habracut"></a><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Impor perpustakaan</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita mulai dengan mengimpor ke proyek yang didasarkan pada Jupyter Notebook, perpustakaan Plotly dan Pandas.</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">import</span> plotly.offline <span class="hljs-keyword">as</span> go_offline
<span class="hljs-keyword">import</span> plotly.graph_objects <span class="hljs-keyword">as</span> go
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebelum melanjutkan, coba jalankan kodenya. </font><font style="vertical-align: inherit;">Jika Anda tidak melihat pesan kesalahan, maka semua perpustakaan yang diperlukan telah diinstal dan berfungsi dengan benar. </font><font style="vertical-align: inherit;">Jika kode gagal dijalankan, lihat halaman resmi </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plotly</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pandas</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan bacalah bahan rujukan dan instalasi untuk pustaka ini. </font><font style="vertical-align: inherit;">Jika Anda tidak memiliki sistem Jupyter Notebook yang berjalan di perangkat keras Anda, saya sarankan menggunakan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google Colab</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , platform berbasis cloud yang memungkinkan Anda untuk bekerja dengan Jupyter Notebook.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pengolahan data</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Data yang kami gunakan di sini dapat ditemukan di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Ini adalah spreadsheet bersama dari Google docs yang diperbarui setiap hari. Terima kasih banyak untuk semua orang yang tetap up to date! Anda melakukan pekerjaan yang sangat perlu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami akan membaca data menggunakan metode Pandas </font></font><code>read_csv</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Tapi sebelum memuat data dari tabel, menggunakan tautannya, kita perlu bekerja dengan tautan ini. Sekarang tampilannya seperti ini: </font><font style="vertical-align: inherit;">
Kita perlu mengganti fragmen tautan yang dipilih, membawa tautan ke formulir ini: </font><font style="vertical-align: inherit;">
Dalam kode berikut, kita menginisialisasi variabel </font><font style="vertical-align: inherit;">dengan menulis tautan ke data ke dalamnya, membaca data menggunakan metode </font><font style="vertical-align: inherit;">dan menulis ke sel kosong yang berisi </font><font style="vertical-align: inherit;">nilai </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<code>https://docs.google.com/spreadsheets/d/18X1VM1671d99V_yd-cnUI1j8oSG2ZgfU_q1HfOizErA/<b>edit#gid=0</b></code><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<code>https://docs.google.com/spreadsheets/d/18X1VM1671d99V_yd-cnUI1j8oSG2ZgfU_q1HfOizErA/<b>export?format=csv&amp;id</b></code><br>
<br><font style="vertical-align: inherit;"></font><code>url</code><font style="vertical-align: inherit;"></font><code>read_csv</code><font style="vertical-align: inherit;"></font><code>NaN</code><font style="vertical-align: inherit;"></font><code>0</code><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="python hljs">url=<span class="hljs-string">'https://docs.google.com/spreadsheets/d/18X1VM1671d99V_yd-cnUI1j8oSG2ZgfU_q1HfOizErA/export?format=csv&amp;id'</span><font></font>
data=pd.read_csv(url)<font></font>
data=data.fillna(<span class="hljs-number">0</span>)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Memahami bagaimana struktur data yang kami gunakan terstruktur sangat penting pada tahap pekerjaan ini, karena hal ini menentukan pendekatan apa terhadap pemrosesan data yang kami terapkan. Lihat data menggunakan perintah </font></font><code>data.head()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Ini akan menghasilkan output dari 5 baris pertama dari tabel.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3ac/130/bed/3ac130bed504767776a301ba85b377df.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5 baris pertama data virus corona</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Di sudut kiri bawah Anda dapat melihat informasi bahwa ada 47 kolom dalam tabel data. Berikut adalah nama-nama dari lima kolom pertama:</font></font><code>country</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font><code>location_id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font><code>location</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font><code>latitude</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan</font></font><code>longitude</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Kolom lainnya adalah pasangan yang namanya dikonstruksi sebagai berikut:</font></font><code>confirmedcase_dd-mm-yyyy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan</font></font><code>deaths_dd-mm-yyyy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Jumlah kolom dalam tabel pada saat menulis materi ini adalah 47. Ini berarti bahwa saya memiliki data selama 21 hari yang saya inginkan ((47-5) / 2 = 21). Jika tanggal mulai untuk pengumpulan data adalah 10.01.2020, maka tanggal akhir adalah 30.01.2020.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nama lima kolom pertama tabel tidak berubah, tetapi seiring waktu kolom dengan nama baru akan ditambahkan ke tabel. Apa yang akan ditampilkan oleh peta interaktif kami adalah visualisasi distribusi coronavirus dengan kemampuan untuk menunjukkan hari sesuai dengan peta tersebut dibentuk. Oleh karena itu, kita perlu memisahkan seluruh kumpulan data dengan memilih informasi darinya untuk setiap hari dan memperhitungkan bahwa 5 kolom pertama dari tabel tidak berubah, dan setiap hari dijelaskan oleh dua kolom. Kemudian, jika Anda melihat lebih dekat pada data, misalnya, data untuk 10.01.2020, ternyata banyak tanggal yang sesuai dengan tanggal ini. Bahkan, pada tanggal ini deteksi virus corona dikonfirmasi hanya di satu tempat, yang ditandai dengan nomor yang sesuai. Semua baris lain pada tanggal ini hanya berisi nol. Itu berarti,bahwa kita perlu mengecualikan garis-garis ini dari proses pembuatan peta.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Proses mempersiapkan data untuk visualisasi dilakukan dalam satu siklus.</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-comment">#  </span><font></font>
fig=go.Figure()<font></font>
col_name=data.columns<font></font>
n_col=len(data.columns)<font></font>
date_list=[]<font></font>
init=<span class="hljs-number">4</span>
n_range=int((n_col<span class="hljs-number">-5</span>)/<span class="hljs-number">2</span>)<font></font>
<font></font>
<span class="hljs-comment">#,          </span>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(n_range):<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;col_case=init+<span class="hljs-number">1</span>
&nbsp;&nbsp;&nbsp;&nbsp;col_dead=col_case+<span class="hljs-number">1</span>
&nbsp;&nbsp;&nbsp;&nbsp;init=col_case+<span class="hljs-number">1</span>
&nbsp;&nbsp;&nbsp;&nbsp;df_split=data[[<span class="hljs-string">'latitude'</span>,<span class="hljs-string">'longitude'</span>,<span class="hljs-string">'country'</span>,<span class="hljs-string">'location'</span>,col_name[col_case],col_name[col_dead]]]<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;df=df_split[(df_split[col_name[col_case]]!=<span class="hljs-number">0</span>)]<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;lat=df[<span class="hljs-string">'latitude'</span>]<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;lon=df[<span class="hljs-string">'longitude'</span>]<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;case=df[df.columns[<span class="hljs-number">-2</span>]].astype(int)<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;deaths=df[df.columns[<span class="hljs-number">-1</span>]].astype(int)<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;df[<span class="hljs-string">'text'</span>]=df[<span class="hljs-string">'country'</span>]+<span class="hljs-string">'&lt;br&gt;'</span>+df[<span class="hljs-string">'location'</span>]+<span class="hljs-string">'&lt;br&gt;'</span>+<span class="hljs-string">'confirmed cases: '</span>+ case.astype(str)+<span class="hljs-string">'&lt;br&gt;'</span>+<span class="hljs-string">'deaths: '</span>+deaths.astype(str)<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;date_label=deaths.name[<span class="hljs-number">7</span>:<span class="hljs-number">17</span>]<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;date_list.append(date_label)<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">#  Scattergeo</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;fig.add_trace(go.Scattergeo(<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;name=<span class="hljs-string">''</span>,<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;lon=lon,<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;lat=lat,<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;visible=<span class="hljs-literal">False</span>,<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;hovertemplate=df[<span class="hljs-string">'text'</span>],<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;text=df[<span class="hljs-string">'text'</span>],<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;mode=<span class="hljs-string">'markers'</span>,<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;marker=dict(size=<span class="hljs-number">15</span>,opacity=<span class="hljs-number">0.6</span>,color=<span class="hljs-string">'Red'</span>, symbol=<span class="hljs-string">'circle'</span>),<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;))</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selama operasi, output setiap set data ditambahkan ke grafik Scattergeo menggunakan </font></font><code>fig.add_trace</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Pada saat penulisan, data yang menjadi dasar gambar akan diwakili oleh 21 objek. </font><font style="vertical-align: inherit;">Anda dapat memverifikasi ini menggunakan perintah </font></font><code>fig.data</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pembuatan slider</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini kita akan membuat slider dengan bantuan pemilihan data yang divisualisasikan pada peta. </font><font style="vertical-align: inherit;">Ini kode yang relevan:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-comment"># </span><font></font>
steps = []<font></font>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(len(fig.data)):<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;step = dict(<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method=<span class="hljs-string">"restyle"</span>,<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;args=[<span class="hljs-string">"visible"</span>, [<span class="hljs-literal">False</span>] * len(fig.data)],<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label=date_list[i],<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;)<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;step[<span class="hljs-string">"args"</span>][<span class="hljs-number">1</span>][i] = <span class="hljs-literal">True</span>&nbsp; <span class="hljs-comment">#  i-     "visible"</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;steps.append(step)<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<font></font>
sliders = [dict(<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;active=<span class="hljs-number">0</span>,<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;currentvalue={<span class="hljs-string">"prefix"</span>: <span class="hljs-string">"Date: "</span>},<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;pad={<span class="hljs-string">"t"</span>: <span class="hljs-number">1</span>},<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;steps=steps<font></font>
)]</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kode slider terdiri dari dua fragmen utama. </font><font style="vertical-align: inherit;">Yang pertama adalah loop di mana daftar yang </font></font><code>steps</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">digunakan saat memindahkan slider slider </font><font style="vertical-align: inherit;">diisi </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Saat Anda memindahkan slider, set data yang sesuai divisualisasikan dan apa yang ditampilkan sebelumnya disembunyikan. </font><font style="vertical-align: inherit;">Bagian kedua dari kode adalah penyertaan daftar yang dibangun sebelumnya </font></font><code>steps</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dalam objek slider. </font><font style="vertical-align: inherit;">Ketika slider bergerak, ia memilih elemen yang sesuai </font></font><code>steps</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Memetakan output dan menyimpannya sebagai file HTML</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang kita sampai pada bagian akhir dari materi. </font><font style="vertical-align: inherit;">Di sini kita berbicara tentang cara menampilkan peta, dan cara menyimpannya dalam format HTML. </font><font style="vertical-align: inherit;">Berikut adalah kode yang mengimplementasikan operasi ini:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-comment">#    </span>
fig.data[<span class="hljs-number">0</span>].visible=<span class="hljs-literal">True</span><font></font>
<font></font>
<span class="hljs-comment">#       HTML</span>
fig.update_layout(sliders=sliders,title=<span class="hljs-string">'Coronavirus Spreading Map'</span>+<span class="hljs-string">'&lt;br&gt;geodose.com'</span>,height=<span class="hljs-number">600</span>)<font></font>
fig.show()<font></font>
go_offline.plot(fig,filename=<span class="hljs-string">'F:/html/map_ncov.html'</span>,validate=<span class="hljs-literal">True</span>, auto_open=<span class="hljs-literal">False</span>)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketika peta ditampilkan, representasi visual dari set data pertama terlihat. </font><font style="vertical-align: inherit;">Kemudian kami membuat konten dari pembaruan peta sesuai dengan posisi slider. </font><font style="vertical-align: inherit;">Di sini kita mengatur judul peta dan menyesuaikan ketinggiannya. </font><font style="vertical-align: inherit;">Pada langkah terakhir, kami menampilkan peta menggunakan metode </font></font><code>fig.show</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, dan kemudian menyimpannya dalam HTML menggunakan metode </font></font><code>go_offline.plot</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kode proyek lengkap</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berikut adalah kode proyek lengkap untuk membuat peta distribusi coronavirus tipe 2019-nCoV. </font><font style="vertical-align: inherit;">Harap dicatat bahwa baris terakhir yang bertanggung jawab untuk menyimpan versi HTML peta perlu diedit, menggantikan jalur yang ditentukan di sana dengan yang relevan dengan Anda.</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">import</span> plotly.offline <span class="hljs-keyword">as</span> go_offline
<span class="hljs-keyword">import</span> plotly.graph_objects <span class="hljs-keyword">as</span> go
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<font></font>
<font></font>
<span class="hljs-comment"># </span>
url=<span class="hljs-string">'https://docs.google.com/spreadsheets/d/18X1VM1671d99V_yd-cnUI1j8oSG2ZgfU_q1HfOizErA/export?format=csv&amp;id'</span><font></font>
data=pd.read_csv(url)<font></font>
data=data.fillna(<span class="hljs-number">0</span>)<font></font>
<font></font>
<span class="hljs-comment">#  </span><font></font>
fig=go.Figure()<font></font>
col_name=data.columns<font></font>
n_col=len(data.columns)<font></font>
date_list=[]<font></font>
init=<span class="hljs-number">4</span>
n_range=int((n_col<span class="hljs-number">-5</span>)/<span class="hljs-number">2</span>)<font></font>
<font></font>
<span class="hljs-comment">#,          </span>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(n_range):<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;col_case=init+<span class="hljs-number">1</span>
&nbsp;&nbsp;&nbsp;&nbsp;col_dead=col_case+<span class="hljs-number">1</span>
&nbsp;&nbsp;&nbsp;&nbsp;init=col_case+<span class="hljs-number">1</span>
&nbsp;&nbsp;&nbsp;&nbsp;df_split=data[[<span class="hljs-string">'latitude'</span>,<span class="hljs-string">'longitude'</span>,<span class="hljs-string">'country'</span>,<span class="hljs-string">'location'</span>,col_name[col_case],col_name[col_dead]]]<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;df=df_split[(df_split[col_name[col_case]]!=<span class="hljs-number">0</span>)]<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;lat=df[<span class="hljs-string">'latitude'</span>]<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;lon=df[<span class="hljs-string">'longitude'</span>]<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;case=df[df.columns[<span class="hljs-number">-2</span>]].astype(int)<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;deaths=df[df.columns[<span class="hljs-number">-1</span>]].astype(int)<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;df[<span class="hljs-string">'text'</span>]=df[<span class="hljs-string">'country'</span>]+<span class="hljs-string">'&lt;br&gt;'</span>+df[<span class="hljs-string">'location'</span>]+<span class="hljs-string">'&lt;br&gt;'</span>+<span class="hljs-string">'confirmed cases: '</span>+ case.astype(str)+<span class="hljs-string">'&lt;br&gt;'</span>+<span class="hljs-string">'deaths: '</span>+deaths.astype(str)<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;date_label=deaths.name[<span class="hljs-number">7</span>:<span class="hljs-number">17</span>]<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;date_list.append(date_label)<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">#  Scattergeo</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;fig.add_trace(go.Scattergeo(<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;name=<span class="hljs-string">''</span>,<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;lon=lon,<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;lat=lat,<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;visible=<span class="hljs-literal">False</span>,<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;hovertemplate=df[<span class="hljs-string">'text'</span>],<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;text=df[<span class="hljs-string">'text'</span>],<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;mode=<span class="hljs-string">'markers'</span>,<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;marker=dict(size=<span class="hljs-number">15</span>,opacity=<span class="hljs-number">0.6</span>,color=<span class="hljs-string">'Red'</span>, symbol=<span class="hljs-string">'circle'</span>),<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;))<font></font>
<font></font>
<font></font>
<span class="hljs-comment"># </span><font></font>
steps = []<font></font>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(len(fig.data)):<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;step = dict(<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method=<span class="hljs-string">"restyle"</span>,<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;args=[<span class="hljs-string">"visible"</span>, [<span class="hljs-literal">False</span>] * len(fig.data)],<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label=date_list[i],<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;)<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;step[<span class="hljs-string">"args"</span>][<span class="hljs-number">1</span>][i] = <span class="hljs-literal">True</span>&nbsp; <span class="hljs-comment">#  i-     "visible"</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;steps.append(step)<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<font></font>
sliders = [dict(<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;active=<span class="hljs-number">0</span>,<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;currentvalue={<span class="hljs-string">"prefix"</span>: <span class="hljs-string">"Date: "</span>},<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;pad={<span class="hljs-string">"t"</span>: <span class="hljs-number">1</span>},<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;steps=steps<font></font>
)]<font></font>
<font></font>
<span class="hljs-comment">#    </span>
fig.data[<span class="hljs-number">0</span>].visible=<span class="hljs-literal">True</span><font></font>
<font></font>
<span class="hljs-comment">#       HTML</span>
fig.update_layout(sliders=sliders,title=<span class="hljs-string">'Coronavirus Spreading Map'</span>+<span class="hljs-string">'&lt;br&gt;geodose.com'</span>,height=<span class="hljs-number">600</span>)<font></font>
fig.show()<font></font>
go_offline.plot(fig,filename=<span class="hljs-string">'F:/html/map_ncov_slider.html'</span>,validate=<span class="hljs-literal">True</span>, auto_open=<span class="hljs-literal">False</span>)</code></pre><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ringkasan</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami telah menyelesaikan ulasan panduan untuk membuat peta interaktif untuk memvisualisasikan distribusi tipe coronavirus 2019-nCoV. Setelah mempelajari materi ini, Anda belajar cara membaca data dari spreadsheet publik Google, cara memproses data menggunakan Pandas, dan cara memvisualisasikan data ini pada peta interaktif menggunakan slider dan Plotly. Hasil proyek sebagai halaman HTML dapat diunduh </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dari sini.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Informasi yang ditampilkan di peta tergantung pada tabel data. </font><font style="vertical-align: inherit;">Setiap kali kode proyek dieksekusi, peta diperbarui, dan data segar dari tabel tersedia di sana. </font><font style="vertical-align: inherit;">Ini adalah peta yang sangat sederhana. </font><font style="vertical-align: inherit;">Ada banyak cara untuk memperbaikinya. </font><font style="vertical-align: inherit;">Misalnya, dapat dilengkapi dengan grafik tambahan, beberapa data ringkasan, dan sebagainya. </font><font style="vertical-align: inherit;">Jika Anda tertarik, Anda dapat melakukan semua ini dan lebih banyak lagi sendiri. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pembaca yang budiman! </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Untuk tugas apa Anda menggunakan teknologi Jupyter Notebook?</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a></div>
      
    </div><p class="reference-to-source js-reference-to-source">Source: https://habr.com/ru/post/undefined/</p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id487676/index.html">Kontes Game ZX Spectrum Baru - Game Anda 6</a></li>
<li><a href="../id487678/index.html">Catatan pinggir pada konferensi internasional PGConf.Russia 2020. Sorotan dan slide</a></li>
<li><a href="../id487680/index.html">Analisis penuh ujian ShAD-2019</a></li>
<li><a href="../id487682/index.html">7 rekomendasi untuk meningkatkan keandalan kode JavaScript</a></li>
<li><a href="../id487684/index.html">Mengembangkan aplikasi yang lebih cepat di Vue.js</a></li>
<li><a href="../id487690/index.html">PHP Digest No. 173 (27 Januari - 10 Februari 2020)</a></li>
<li><a href="../id487694/index.html">Bagaimana Yandex.Cloud di-host oleh Virtual Private Cloud dan bagaimana pengguna kami membantu kami menerapkan fitur yang bermanfaat</a></li>
<li><a href="../id487696/index.html">Acara digital di Moskow dari 10 hingga 16 Februari</a></li>
<li><a href="../id487698/index.html">Acara digital di St. Petersburg dari 10 hingga 16 Februari</a></li>
<li><a href="../id487702/index.html">Pilihan artikel tentang pembelajaran mesin: studi kasus, panduan dan penelitian untuk Januari 2020</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>