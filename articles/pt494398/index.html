<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®‚Äçüëß‚Äçüëß üíÜüèø üîÅ Pol√≠gonos do Playstation Doom üîú üõ¢Ô∏è üë©‚Äçüëß</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sony PlayStation
  
 A hist√≥ria do PlayStation come√ßou em 1988, quando a Nintendo e a Sony come√ßaram a trabalhar juntas em um leitor de CD-ROM opciona...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Pol√≠gonos do Playstation Doom</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/494398/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/98b/897/f95/98b897f955dbdf31ff724bbe1a1841f4.png" alt="imagem"></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sony PlayStation</font></font></h2><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8f7/4aa/015/8f74aa015b0e95be13aac769990538a5.svg"></div> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A hist√≥ria do PlayStation come√ßou em 1988, quando a Nintendo e a Sony come√ßaram a trabalhar juntas em um leitor de CD-ROM opcional para o console SNES. Sob os termos do contrato, a Sony conseguiu desenvolver de forma independente jogos para esta plataforma e manteve o controle do formato Super Disc - duas concess√µes incomuns da Nintendo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O projeto foi desenvolvido antes da exposi√ß√£o da CES '91, na qual a Sony anunciou uma colabora√ß√£o no Play Station. No dia seguinte, na mesma exposi√ß√£o, a Nintendo, para surpresa da Sony, anunciou que havia firmado um acordo de parceria com a Philips (em termos muito mais favor√°veis). A Sony, leal e humilhada publicamente, tentou apelar para o conselho de administra√ß√£o da Sega, que imediatamente rejeitou a id√©ia. Em uma entrevista com 2013, o CEO da SEGA, Tom Kalinske, lembrou a decis√£o do conselho.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúEssa √© uma ideia est√∫pida, a Sony n√£o sabe como desenvolver equipamentos. </font><font style="vertical-align: inherit;">Eles n√£o sabem escrever software. </font><font style="vertical-align: inherit;">Por que mexemos com eles? </font><font style="vertical-align: inherit;">- Conselho de Administra√ß√£o da SEGA</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E eles n√£o estavam enganados, a Sony realmente tinha pouca experi√™ncia em trabalhar com jogos. </font><font style="vertical-align: inherit;">Ela quase n√£o demonstrou interesse neles, com exce√ß√£o da iniciativa de uma pessoa - Ken Kutaragi. </font><font style="vertical-align: inherit;">Desde o momento em que viu sua filha jogar no Nintendo Famicom, Ken convence a Sony de que precisa entrar nesse mercado. </font><font style="vertical-align: inherit;">Apesar das recomenda√ß√µes dos vice-presidentes da Sony, ele at√© desenvolveu para a Nintendo o chip de √°udio (SPC700) usado no SNES.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A maioria dos executivos da Sony considerou isso uma aposta arriscada, mas Kutaragi encontrou apoio na pessoa do CEO da Sony, Norio Oga. Em junho de 1992, Ken foi autorizado a come√ßar a criar um sistema de jogos a partir do zero. Para acalmar o conselho de administra√ß√£o, o "pai do PlayStation", como mais tarde o chamaram, foi transferido para a empresa controladora independente Sony Music, e ele come√ßou a trabalhar no que acabaria se tornando o "PlayStation" (j√° sem um espa√ßo no nome).</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inicialmente, os desenvolvedores n√£o podiam decidir se a arquitetura deveria se concentrar em gr√°ficos 2D de sprite ou gr√°ficos 3D de pol√≠gonos. </font><font style="vertical-align: inherit;">No entanto, o sucesso do jogo Virtua Fighter lan√ßado em outubro de 1993 pela Sega nas m√°quinas de arcade japonesas destruiu todas as d√∫vidas: o PSX seguir√° o caminho 3D. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O culminar do projeto ocorreu dois anos depois, quando a Sony Computer Entertainment foi criada em 3 de dezembro de 1994 e o console foi lan√ßado no Jap√£o. </font><font style="vertical-align: inherit;">Ele obteve sucesso instant√¢neo e foi vendido no primeiro dia com uma circula√ß√£o de 100 mil dispositivos, 2 milh√µes de dispositivos ap√≥s seis meses e 102 milh√µes de dispositivos ao longo da vida.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6b1/727/175/6b1727175f25b80b4309c920c0e23115.webp"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sony PSX (PS1, PlayStation). </font><font style="vertical-align: inherit;">Foto: Wikipedia</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arquitetura</font></font></h2><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/60b/97c/da3/60b97cda359e2e5c27a9028cc13aa22d.svg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O cora√ß√£o da m√°quina √© o processador MIPS RISC R3000A de 32 bits com uma frequ√™ncia de 33,8688 MHz </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[3]</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> em combina√ß√£o com 2 MB de DRAM. Vale ressaltar que este chip tamb√©m possui um decodificador de movimento (MDEC), que fornece reprodu√ß√£o de v√≠deo com uma resolu√ß√£o de 320x240 a uma frequ√™ncia de 30 fps. Ao lado do MDEC, vemos o coprocessador Geometry Transform Engine (GTE), usado para executar opera√ß√µes matem√°ticas de ponto fixo r√°pidas em vetores e matrizes. O sistema como um todo n√£o pode trabalhar com n√∫meros de ponto flutuante.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A GPU √© uma "caixa preta" controlada pelo processador central usando "comandos". Possui 1 MB de VRAM, indispon√≠vel para a CPU. De muitas maneiras, seu trabalho se parece com o maravilhoso modo imediato OpenGL: ele desenha pol√≠gonos texturizados que podem ser "sombreados" usando cores de v√©rtice. O pipeline gr√°fico √© fixo e n√£o pode ser programado. N√£o h√° buffer Z (buffer de profundidade). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A unidade de processamento de som (SPU), como a GPU, √© uma caixa preta. Ele pode processar 24 canais, possui 512 KB de SRAM para armazenar √°udio (no formato ADPCM) e √© capaz de misturar faixas de √°udio de CD-ROM com seus canais de √°udio. A abrevia√ß√£o SRAM n√£o significa "RAM est√°tica", mas "RAM de som".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A decis√£o mais ousada dos engenheiros da Sony foi a escolha do suporte de dados. </font><font style="vertical-align: inherit;">Eles escolheram n√£o os cartuchos, mas um m√≥dulo de CD-ROM de velocidade dupla, que reduziu o custo dos jogos e aumentou significativamente o volume dispon√≠vel (at√© 650 MB). </font><font style="vertical-align: inherit;">As desvantagens s√£o a baixa taxa de transfer√™ncia (300 KB / s) e o tempo de instala√ß√£o da cabe√ßa monstruosamente grande (300 ms). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N√£o h√° blitter no console. </font><font style="vertical-align: inherit;">O modelo de programa√ß√£o da m√°quina era que os desenvolvedores n√£o tocavam no ferro "vazio". </font><font style="vertical-align: inherit;">No entanto, existe um controlador DMA para transmitir dados do CD / DRAM para VRAM / SRAM.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sistema de v√≠deo</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apesar do fato do sistema de v√≠deo suportar cores de 24 bits, poucos jogos o utilizaram (com exce√ß√£o dos fundos do Heart Of Darkness </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[4]</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">Na pr√°tica, pode-se dizer com boa consci√™ncia que a maioria dos jogos usava cores de 16 bits com uma m√°scara de 1 bit.</font></font><br>
<br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><img width="300" height="353" src="https://habrastorage.org/getpro/habr/post_images/5ff/164/4dd/5ff1644dd75bfbad9af9b1d61190ebe1.webp"><br>
</td>
<td><img width="300" height="353" src="https://habrastorage.org/getpro/habr/post_images/5ef/828/585/5ef828585512c3315eef5d72087f27b2.png"></td>
</tr>
</tbody></table></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espa√ßo de cores PSX com profundidade de 15 bits por pixel</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Um recurso impressionante do sistema de v√≠deo √© a organiza√ß√£o da VRAM, que √© completamente dependente do desenvolvedor. A VRAM de 1 MB √© considerada uma matriz de 1024 x 512 x 16 bits que pode ser usada livremente. A aplica√ß√£o do buffer duplo ou triplo √© realizada de maneira trivial, porque a √°rea √© simplesmente suficiente para reservar, desenhar e transferir para o sistema de sa√≠da. As texturas tamb√©m est√£o em VRAM, ao lado dos buffers de quadro. Para gravar no buffer do quadro, s√£o iniciados comandos da GPU para renderizar tri√¢ngulos / quadr√¢ngulos texturizados. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As texturas podem ter v√°rios formatos. Existem duas fontes diretas de cores de 16 e 24 bits, bem como fontes baseadas em uma paleta chamada Tabela de pesquisa de cores (CLUT). CLUTs de 8 e 4 bits s√£o suportados.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em termos de resolu√ß√£o, o console estava limitado aos padr√µes de televis√£o NTSC e PAL. </font><font style="vertical-align: inherit;">Para os mercados dos EUA e do Jap√£o, o desenvolvedor pode escolher uma resolu√ß√£o horizontal de 256, 320, 384, 512 ou 640 pixels. </font><font style="vertical-align: inherit;">A resolu√ß√£o vertical era de 240 pixels (ao pular cada segunda linha de varredura) ou 480 pixels ao alternar. </font><font style="vertical-align: inherit;">Ambos os modos verticais operavam a uma frequ√™ncia de 60 Hz. </font><font style="vertical-align: inherit;">A √∫nica diferen√ßa entre NTSC e PAL foi uma resolu√ß√£o vertical aumentada (256/512 em vez de 240/480) e uma taxa de atualiza√ß√£o mais baixa (50 Hz).</font></font><br>
<br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modo NTSC (60Hz) PAL (50Hz) Nota</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
===================================================== ========</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
0 256 x 240 256 x 256 N√£o entrela√ßado</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1 320 x 240 320 x 256 N√£o entrela√ßado</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2 512 x 240 512 x 256 N√£o entrela√ßado</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3 640 x 240 640 x 256 N√£o entrela√ßado</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4 256 x 480 256 x 512 intercalados</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5 320 x 480 320 x 512 intercalados</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
6 512 x 480 512 x 512 intercalados</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
7 640 x 480 640 x 512 intercalados</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
8 384 x 240 384 x 256 N√£o entrela√ßado</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
9 384 x 480 384 x 512 intercalados</font></font></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Preste aten√ß√£o aos modos com uma resolu√ß√£o horizontal de 384 pixels (8 e 9), que, a julgar pelo ID, foram adicionados mais tarde.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DOOM no PSX</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DOOM foi portado para a PSX pela Williams Entertainment com suporte da id Software. </font><font style="vertical-align: inherit;">Uma equipe de cinco pessoas levou um pouco menos de um ano </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[5] </font></font></sup><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[6]</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para portar o mecanismo, alterar recursos e modificar o jogo para que tudo funcionasse ‚Äúapenas‚Äù em 3,5 MB de RAM.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúOs gr√°ficos foram degradados: as texturas s√£o reduzidas em tamanho, sprites, monstros e armas tamb√©m. </font><font style="vertical-align: inherit;">[...] √†s vezes cortamos quadros de anima√ß√£o ". </font><font style="vertical-align: inherit;">- Harry Tisley</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O resultado final foi lan√ßado em 16 de novembro de 1995. </font><font style="vertical-align: inherit;">√â considerada a melhor porta de console do jogo, e alguns aspectos at√© superam a vers√£o para PC devido a tops coloridos e m√∫sica com qualidade de CD.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"At√© agora, esta √© a melhor desgra√ßa!" </font><font style="vertical-align: inherit;">- John Romero</font></font></blockquote><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plano de estudo</font></font></h2><br>
<div style="text-align:center;"><img width="290" height="301" src="https://habrastorage.org/getpro/habr/post_images/9de/26d/ce5/9de26dce56307a9b22370aa22c0c93e9.svg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Devido √† natureza do desenvolvimento, a estrutura DOOM √© baseada em um kernel que usa seis subsistemas para E / S. Na maioria das vezes, estudei as tr√™s partes que achei mais interessantes, a saber, o sistema de arquivos baseado em CD-ROM, o √°udio baseado em SPU e o v√≠deo baseado em GPU, porque s√£o exclusivos da arquitetura PSX. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O c√≥digo fonte DOOM para o PSX nunca foi publicado, mas acabou n√£o sendo problema. A informa√ß√£o dispon√≠vel √© suficiente.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A primeira fonte √© o incr√≠vel PSY-Q SDK, que era a ferramenta "oficial" usada pelos desenvolvedores de PSX da √©poca. H√° muita documenta√ß√£o, apresentada como um conjunto de arquivos PDF. Essa abund√¢ncia de informa√ß√µes apenas confirma todo o bem que ouvi sobre a simpatia do PSX pelos desenvolvedores. A biblioteca (isto √©, libcd, libds) desenvolvida pela Psygnosis tamb√©m est√° bem documentada. Foi muito bom ver explica√ß√µes claras, especialmente em compara√ß√£o com a quase completa falta de informa√ß√µes sobre outros consoles (sim, estou falando do SNES). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Outra fonte de informa√ß√£o s√£o as muitas ferramentas externas dispon√≠veis hoje. O ISOBuster me permitiu abrir o conte√∫do do CD. PSound ajudou a verificar arquivos LCD. A impressionante capacidade do emulador no $ PSX de rastrear comandos de GPU e SPU tornou-se ouro real.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas talvez eu tenha ficado mais impressionado com o enorme amor de DOOM pelo PSX da comunidade de f√£s. </font><font style="vertical-align: inherit;">Uma engenharia reversa completa do jogo foi realizada. </font><font style="vertical-align: inherit;">O PSXDOOM-RE se destaca especialmente porque √© uma base de c√≥digo C que pode ser compilada usando o PSY-Q SDK em um jogo completo de PSX. </font><font style="vertical-align: inherit;">O c√≥digo √© altamente confi√°vel porque foi obtido reescrevendo cada fun√ß√£o do c√≥digo de m√°quina em C.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O incr√≠vel mundo dos CDs</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Antes de come√ßar a estudar a implementa√ß√£o do sistema de arquivos, fiz uma pequena excurs√£o para entender melhor o maravilhoso mundo dos CDs.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por 20 anos, de 1980 a 2000, foram lan√ßados v√°rios volumes de especifica√ß√µes que revelam esse t√≥pico. Juntos, eles s√£o chamados de "Rainbow Books". O primeiro livro da s√©rie, "Red Book", cont√©m especifica√ß√µes para um CD (CD). O "Livro Amarelo" √© um complemento ao "Livro Vermelho", que adiciona especifica√ß√µes de dados para CD-ROM e ISO-9600. O Orange Book adicionou especifica√ß√µes para CD-DA, CD-R (grav√°vel) e CR-WR (regrav√°vel). O Livro Branco √© dedicado ao CD de v√≠deo (VCD). O Livro Verde fala sobre CD-Interactive (CD-I). O Blue Book apresenta dados de CD avan√ßado (ECD) para suporte multim√≠dia. O Scarlet Book √© dedicado ao Super Audio (SACD), que adiciona √°udio de alta defini√ß√£o. O Purple Book lista a especifica√ß√£o de CD de densidade dupla (DDCD), que aumentou a capacidade do disco de 650 MB para 1,3 GB. Finalmente,O livro ciano detalha as especifica√ß√µes do sistema de arquivos 9660</font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[7]</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/52b/2f6/c60/52b2f6c605024780dcf141bcaf02a6a8.svg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rainbow Books cont√©m tudo o que sabemos sobre o CD. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como um m√≠nimo absoluto, precisamos entender que os CDs PSX geralmente consistem em setores, cada um deles contendo 2048 bytes de dados. </font><font style="vertical-align: inherit;">Os setores s√£o agrupados em faixas (que podem ser dados ou som). </font><font style="vertical-align: inherit;">As faixas s√£o agrupadas em sess√£o. </font><font style="vertical-align: inherit;">As informa√ß√µes das trilhas de dados podem ser organizadas usando o sistema de arquivos ISO-9660 padr√£o; no entanto, o jogo tamb√©m pode ter endere√ßos de setor codificados.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dentro do CD do jogo DOOM</font></font></h2><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/88b/62c/636/88b62c636572fe1c4617445525220c58.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se voc√™ olhar dentro do CD-ROM usando ISOBuster, poder√° ver que o DOOM consiste em uma sess√£o contendo oito faixas </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[8]</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Sete deles s√£o trilhas sonoras com qualidade de CD reproduzidas entre miss√µes e na cena final. </font><font style="vertical-align: inherit;">A faixa final (# 7) ainda usa vozes demon√≠acas digitalizadas. </font><font style="vertical-align: inherit;">A faixa n√∫mero 6 √© especialmente digna de nota porque parece ter sido tirada diretamente da festa rave. </font><font style="vertical-align: inherit;">Acontece que esta √© a m√∫sica tocada no cart√£o super-secreto 59 ‚ÄúClub DOOM‚Äù (um cart√£o secreto acess√≠vel apenas a partir de um cart√£o secreto) </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[9]</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Deixe-me deixar voc√™ apreciar a insanidade dela. </font><font style="vertical-align: inherit;">Antes de come√ßar, verifique o volume do som.</font></font><br>
<br>
<div class="oembed"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://fabiensanglard.net/doom_psx/Track06.mp3</font></font></a></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A pista restante (n√∫mero 1) √© ISO-9660, que cont√©m o mecanismo do jogo e a maioria dos recursos. </font><font style="vertical-align: inherit;">Depois de explorar as muitas portas DOOM, eu esperava ingenuamente um mecanismo chamado DOOM.EXE, um arquivo de recurso PSXDOOM.WAD e, possivelmente, um manifesto. </font><font style="vertical-align: inherit;">Eu estava muito enganado. </font><sup><font style="vertical-align: inherit;">Foram</font></sup><font style="vertical-align: inherit;"> encontrados 287 arquivos </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[10] </font></font></sup><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[11]</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> na pista </font><font style="vertical-align: inherit;">, incluindo 60 .WAD, 120 .IMG e in√∫meros .LCD. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os dados s√£o ordenados por n√≠vel (cinco arquivos por cart√£o).</font></font><br>
<br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nome do arquivo Descri√ß√£o</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
===================================================== =====</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Geometria padr√£o MAPDIR0 / MAP01.WAD (BSP / Reject / ...)</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MAPDIR0 / MAPTEX01.IMG Texturas de planos / paredes</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MAPDIR0 / MAPSPR01.IMG Todos os sprites criados por THINGS</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
M√∫sica reproduz√≠vel MUSIC / MUSLEV1.LCD</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SNDMAPS1 / MAP01.LCD Todos os sons emitidos por THINGS</font></font></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quando perguntado por que tudo foi organizado de uma nova maneira, o desenvolvedor do Crash Bandicoot, Andy Gavin, respondeu parcialmente em uma entrevista √† Ars Technica. </font><font style="vertical-align: inherit;">[ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tradu√ß√£o</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> em Habr√©]</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Leva cerca de 1/3 de segundo para mover a cabe√ßa para qualquer ponto do CD."</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Devido ao fato de a velocidade de posicionamento da cabe√ßa estar pr√≥xima a 300 ms (o que √© confirmado pela documenta√ß√£o do PSY-Q </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[12]</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), os desenvolvedores da Williams Entertainment n√£o puderam salvar a arquitetura clara do mecanismo DOOM, que armazenava todos os recursos em um arquivo (por exemplo, DOOM.WAD) e baixou-os a pedido. No PSX, isso levaria a uma taxa de quadros terr√≠vel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os desenvolvedores resolveram o problema lan√ßando uma quantidade aparentemente intermin√°vel de bytes no CD. Todos os recursos necess√°rios para o n√≠vel foram armazenados em cinco arquivos contendo a geometria do mapa, textura. sprites, efeitos sonoros e m√∫sica. Isso √© muito caro, mas eliminou a necessidade de acessar o CD durante o processo do jogo. </font></font><br>
<br>
<b><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fato interessante:</font></font></u></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">na lista de arquivos na faixa de dados, existe um arquivo chamado PSXDOOM.WAD (4 806 088 bytes), mas √© usado apenas para carregar paletas e v√°rias imagens de menu. </font><font style="vertical-align: inherit;">Provavelmente usado mais ativamente no processo de desenvolvimento. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tome o primeiro mapa como exemplo: a quantidade total de dados baixados foi reduzida de 4 MB para 900 KB.</font></font><br>
<br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tamanho do nome do arquivo (em bytes)  </font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
=======================================  	</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MAPDIR0 / MAP01.WAD 28 196</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MAPDIR0 / MAPTEX01.IMG 90 744</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MAPDIR0 / MAPSPR01.IMG 590 344</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MUSIC / MUSLEV1.LCD 61 232</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SNDMAPS1 / MAP01.LCD 143 632</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
=======================================</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Total: 914.148</font></font></pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sabendo que os recursos ocupam 914 KB, voc√™ pode pensar que havia muita DRAM n√£o utilizada restante. Mas voc√™ precisa se lembrar de que tamb√©m era necess√°rio ajustar um arquivo execut√°vel de 428 KB, al√©m de uma pilha que muda no tempo de execu√ß√£o. De fato, apenas cerca de 1 MB de DRAM estava dispon√≠vel em tempo de execu√ß√£o. </font></font><br>
<br>
<b><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um fato interessante:</font></font></u></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ao examinar o c√≥digo fonte do PSXDOOM-RE, descobri a fun√ß√£o P_LoadBlocks, que tenta ler o CD at√© quatro vezes </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[13]</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , ap√≥s o que ele se rende. Esse √© um dos prazeres de trabalhar com m√≠dias facilmente riscadas.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu n√£o esperava que o tempo de instala√ß√£o do cabe√ßote do CD-ROM afetasse tanto a arquitetura do jogo. Alguns jogos, como o Crash Bandicoot, foram criados do zero com um sistema de p√°ginas para transmitir dados de um CD em tempo de execu√ß√£o. No caso de DOOM, o mecanismo n√£o era capaz disso. O CD n√£o √© usado durante o jogo, com exce√ß√£o de uma m√∫sica espec√≠fica (sim, do n√≠vel Club DOOM). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O pessoal da id Software nunca foi f√£ da troca entre capacidade e velocidade que os CD-ROMs ofereciam.</font></font><br>
<br>
<blockquote>¬´    - .     ,       CD.  - ,     Crash 'n Burn ‚Äî    ?    .  ,     CD      ,  3DO   .   -   CD- DOOM,        ‚Äû  DOOM‚Äú.           ,     .       .<br>
<br>
           ,     CD.       ¬ª. ‚Äî   (ATARI EXPLORER ONLINE, 22  1994 )</blockquote><br>
<b><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um fato interessante:</font></font></u></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> eventos dentro do jogo DOOM foram acionados usando "estrias". </font><font style="vertical-align: inherit;">Ao cruzar uma linha com uma propriedade especial, uma fun√ß√£o especial era chamada. </font><font style="vertical-align: inherit;">Na vers√£o "herdada" do mecanismo, n√£o havia nenhuma propriedade que permitisse a voc√™ tocar m√∫sicas. </font><font style="vertical-align: inherit;">Para jogar no Club DOOM, uma a√ß√£o especial de alinhamento foi criada (n√∫mero 142)</font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> [14]</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">√â incr√≠vel quanto esfor√ßo extra foi necess√°rio para criar esse n√≠vel. </font><font style="vertical-align: inherit;">Provavelmente, os desenvolvedores realmente gostaram de se divertir nas raves.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O Caso do Archvile Desaparecido</font></font></h2><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/daf/8fb/db9/daf8fbdb944deb32c8b6f398615a16ef.webp"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Realizando pesquisas para o meu Game Engine Black Book, n√£o consegui entender completamente essa frase do designer Harry Teesley:</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúO Archvile tinha o dobro de quadros de anima√ß√£o do que qualquer outro monstro, e n√£o conseguimos coloc√°-lo no PSX. </font><font style="vertical-align: inherit;">Nem seu ataque nem o efeito da ressurrei√ß√£o puderam ser perdidos. </font><font style="vertical-align: inherit;">Ele era grande demais. " </font><font style="vertical-align: inherit;">- Harry Tisley (designer) em entrevista ao doomworld.com</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Era √≥bvio que o problema n√£o era a capacidade de 650 megabytes do CD, mas eu n√£o entendia qual era o fator limitante - DRAM ou VRAM. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tendo compreendido as limita√ß√µes do CD-ROM, percebi que o problema n√£o era armazenar o sprite em um CD ou mesmo transferi-lo da DRAM para a VRAM. </font><font style="vertical-align: inherit;">O problema √© encaixar tudo na DRAM. </font></font><br>
<br>
<b><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fato interessante: o</font></font></u></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ArchVile √© completamente removido do c√≥digo fonte do PSXDOOM-RE. </font><font style="vertical-align: inherit;">At√© o seu # DEFINE √© comentado </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[15]</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> CC_ZOMBIE  <span class="hljs-meta-string">"Zombieman"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> CC_SHOTGUN  <span class="hljs-meta-string">"Shotgun Guy"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> CC_HEAVY  <span class="hljs-meta-string">"Heavy Weapon Dude"</span></span><font></font>
...<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> CC_HELL   <span class="hljs-meta-string">"Hell Knight"</span></span>
<span class="hljs-comment">//#define CC_ARCH "Arch-Vile"</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> CC_SPIDER <span class="hljs-meta-string">"The Spider Mastermind"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> CC_CYBER  <span class="hljs-meta-string">"The Cyberdemon"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> CC_HERO   <span class="hljs-meta-string">"Our Hero"</span></span></code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Programa√ß√£o SPU</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O chip SPU entende apenas um formato, ou seja, ADPCM. </font><font style="vertical-align: inherit;">√â capaz de misturar at√© 24 canais (incluindo a faixa de √°udio do CD) e possui poderosas fun√ß√µes de manipula√ß√£o de √°udio.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para domar essa fera, o DOOM PSX usa a biblioteca libWESS (Williams Entertainment Sound System), escrita pelo engenheiro de som Scott Patterson. </font><font style="vertical-align: inherit;">A biblioteca √© bastante poderosa, √© capaz de recriar o sistema MiDI, no qual um pesado banco de notas (chamado fonte de som) √© controlado por uma partitura musical que ocupa pouco espa√ßo. </font><font style="vertical-align: inherit;">Tamb√©m pode manipular atributos de som em tempo real, como volume, tom, velocidade da nota e fun√ß√µes ADSR (Attack, Decay, Sustain e Release). </font><font style="vertical-align: inherit;">Todas as m√∫sicas tocadas durante o jogo s√£o geradas usando o libWESS. </font><font style="vertical-align: inherit;">Com uma exce√ß√£o, voc√™ adivinhou, este √© o Club DOOM, que √© reproduzido a partir da faixa 6 do CD.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O WESS usa dois formatos de arquivo propriet√°rios. </font><font style="vertical-align: inherit;">Esses s√£o arquivos .WMD que cont√™m partituras e efeitos sonoros e arquivos .LCD, que s√£o do formato PSX VAG (sem t√≠tulo) e cont√™m amostras do ADPCM. </font><font style="vertical-align: inherit;">Quando o DOOM √© iniciado, a biblioteca libWESS carrega todos os efeitos sonoros (SFX, 89 pe√ßas) e partituras musicais (19 pe√ßas) armazenados em um pequeno arquivo (55 KB) chamado DOOMSND.WMD. </font><font style="vertical-align: inherit;">Ela tamb√©m carrega nas amostras "sempre usadas" da SRAM publicadas pelo personagem, portas etc.</font></font><br>
<br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MUSIC / DOOMSFX.LCD -&gt; SRAM</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
M√öSICA / DOOMSND.WMD -&gt; DRAM</font></font></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ap√≥s carregar o mapa, o libWESS abre MUSIC / MUSLEV% .LCD, que cont√©m as amostras ADPCM usadas na m√∫sica deste cart√£o, e SNDMAPS% / MAP %%. LCD, que cont√©m as amostras ADPCM necess√°rias para inimigos nesse n√≠vel. </font><font style="vertical-align: inherit;">Todas as amostras do ADPCM s√£o carregadas diretamente na SRAM e n√£o ocupam espa√ßo na DRAM.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DOOM no PSX: GPU</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na √°rea de gera√ß√£o de v√≠deo, a Williams Entertainment precisava resolver dois problemas: uma pequena quantidade de VRAM (voltaremos a isso mais tarde) e a falta de mapeamento de textura correto, levando em considera√ß√£o a perspectiva.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúAaron Siler e eu trabalhamos em vers√µes para o Nintendo 64 (este jogo era bem diferente) e para o Playstation. </font><font style="vertical-align: inherit;">Essas foram as primeiras vers√µes que n√£o foram escritas no bare metal, porque a Sony e a Nintendo for√ßaram os desenvolvedores (pelo menos de terceiros) a escrever APIs e n√£o forneceram documenta√ß√£o sobre os registros de hardware. </font><font style="vertical-align: inherit;">A princ√≠pio, a cultura SGI limitou os desenvolvedores, mas gradualmente a Nintendo afrouxou seu controle.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Uma hist√≥ria engra√ßada sobre o desenvolvimento de uma vers√£o para o Playstation: Aaron e eu come√ßamos com uma arquitetura de mecanismo diferente, que representava tri√¢ngulos mundiais, porque o console lhes proporcionava acelera√ß√£o total do hardware. </font><font style="vertical-align: inherit;">No caso do N64, isso funcionou perfeitamente, porque tinha renderiza√ß√£o com perspectiva correta com precis√£o de subpixel (o resultado da influ√™ncia do SGI), mas no Playstation o mapeamento de textura afim foi realizado com coordenadas inteiras, de modo que os grandes tri√¢ngulos de parede e piso pareciam INCR√çVEIS. ‚Äù </font><font style="vertical-align: inherit;">- John Carmack (Livro Negro do Game Engine: DOOM)</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para entender o qu√£o ‚Äúterr√≠vel‚Äù parecia, abaixo eu mostrei tr√™s paredes pintadas com texturas afins e prospectivamente corretas.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/98b/897/f95/98b897f955dbdf31ff724bbe1a1841f4.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Texturiza√ß√£o em perspectiva</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/67f/f2a/602/67ff2a6028aea5b8a390b13ecdf23f5c.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Afim (PSX)</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Observe que n√£o h√° problema com uma parede reta e, √† medida que o √¢ngulo de perspectiva aumenta, a distor√ß√£o se torna mais percept√≠vel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O mesmo problema de percep√ß√£o enfrentou os desenvolvedores da Rage Software ao portar DOOM para a SEGA Saturn.</font></font><br>
<br>
<blockquote>¬´    ,        id Software.      ,      WAD       Saturn,      ,  3D-.   ,           ,          3D-   .     ,    PC.  ,   ,      :  SH2    ,   PC,  68000     .<br>
<br>
   ,      ¬ª ‚Äî   ( DOOM  Saturn)   RetroGamer ‚Ññ134.</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Talvez, como os desenvolvedores do PSX tivessem mais tempo, eles pudessem resolver o problema do mapeamento de textura prospectivamente correto, transformando o renderizador de pol√≠gono da GPU em renderizador de linha.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Eu disse: fa√ßa backup de tudo (ent√£o ainda n√£o havia sistemas de controle de vers√£o!). Vamos tornar o jogo completamente diferente." </font><font style="vertical-align: inherit;">Usamos equipamentos que renderizavam tri√¢ngulos que representavam colunas ou linhas de um pixel de largura, exatamente como no c√≥digo do montador em um PC, e funcionou muito bem. </font><font style="vertical-align: inherit;">Descobriu-se que a solu√ß√£o mais comum no Playstation era mosaico de geometria em dois eixos, mas eu realmente gostei do Doom parecer menos "contorcido" do que a maioria dos jogos para o Playstation da √©poca. "- John Carmack (Game Engine Black Book: DOOM)</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gra√ßas ao projeto PSXDOOM-RE </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[16],</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> podemos descobrir como ele foi implementado. </font><font style="vertical-align: inherit;">O pipeline de renderiza√ß√£o foi completamente reescrito e dividido em dois est√°gios. </font><font style="vertical-align: inherit;">Isso ser√° discutido com mais detalhes abaixo, mas podemos ver que a fun√ß√£o de renderiza√ß√£o R_Render_Wall transmite comandos de desenho bem definidos com uma largura de 1 pixel.</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">R_Render_Wall</span><span class="hljs-params">(...)</span> </span>{<font></font>
  .<font></font>
  <span class="hljs-keyword">int</span> x1 = ... ; <span class="hljs-comment">// Left end of wall.</span>
  <span class="hljs-keyword">int</span> x2 = ... ; <span class="hljs-comment">// Right end of wall.</span><font></font>
  .<font></font>
  <span class="hljs-keyword">while</span>(x1 &lt; x2) {<font></font>
    .<font></font>
    setRGB0(wallpoly);<font></font>
<font></font>
    setXY3(wallpoly,<font></font>
      x1    , ypos1 - <span class="hljs-number">1</span>,<font></font>
      x1 + <span class="hljs-number">1</span>, ypos2 + <span class="hljs-number">1</span>,<font></font>
      x1    , ypos2 + <span class="hljs-number">1</span>);		<font></font>
<font></font>
    setUV3(wallpoly,<font></font>
         upos, v0,<font></font>
         upos, v1,<font></font>
         upos, v1);  <font></font>
    .<font></font>
    x1 += <span class="hljs-number">1</span>;<font></font>
  }<font></font>
}</code></pre><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As paredes s√£o renderizadas em colunas com um pixel de largura. </font><font style="vertical-align: inherit;">Confira a API, que se assemelha ao modo Imediato no OpenGL. </font></font></i><br>
<br>
<b><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fato interessante:</font></font></u></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> o designer de hardware da Sony manteve o i-cache do processador MIPS, mas desativou seu d-cache para transform√°-lo em um bloco de rascunho de alta velocidade de 1K. </font><font style="vertical-align: inherit;">Os procedimentos de renderiza√ß√£o de parede / plano usavam esse bloco de anota√ß√µes extensivamente.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gerenciamento de GPU VRAM</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para aprender como o controle VRAM √© realizado, escolhi uma maneira curiosa: usei a fun√ß√£o de visualizar o emulador VRAM em tempo real, sem $ PSX. </font><font style="vertical-align: inherit;">Esta fun√ß√£o exibe toda a matriz de pixels 1024 x 512 x 16 bits (embora de forma distorcida). </font><font style="vertical-align: inherit;">A fun√ß√£o de exibi√ß√£o tamb√©m mostra a lista inteira de instru√ß√µes da GPU transmitidas pelo processador central em cada quadro.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/106/6e1/2c4/1066e12c443fa07e91e8f4793afe655d.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No $ PSX - Deus nos enviou um emulador que permite que voc√™ olhe dentro da GPU. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um estudo cuidadoso do primeiro quadro da VRAM permite que voc√™ aprenda muito.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dfd/e98/57f/dfde9857f541f946c946445fc5feb1ea.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O primeiro quadro do jogo exibido com No $ PSX. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As mais √≥bvias s√£o duas √°reas de 256 x 240 x 16 bits no canto superior esquerdo, que s√£o os buffers de quadro (portanto, o jogo usa buffer duplo). </font><font style="vertical-align: inherit;">Vale ressaltar que 256x240 √© a menor resolu√ß√£o poss√≠vel em um PSX. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sob os buffers de quadro, h√° um conjunto colorido de pixels - a paleta CLUT. </font><font style="vertical-align: inherit;">Observe os tons de vermelho, eles significam que quando a tela fica vermelha quando o jogador sofre danos, paletas pr√©-calculadas s√£o usadas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No canto superior direito, vemos texturas estranhamente compactadas horizontalmente e com cores "erradas". </font><font style="vertical-align: inherit;">Isso aconteceu porque as texturas usam √≠ndices de 8 bits do CLUT descrito acima.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vamos falar sobre fogo no DOOM no PS1 novamente</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em 2018, estudei como o efeito do fogo foi realizado </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[17]</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> [ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tradu√ß√£o</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> em Habr√©]. </font><font style="vertical-align: inherit;">Foi √≥timo voltar a ele novamente ao explorar os comandos da GPU. </font><font style="vertical-align: inherit;">Observe que nenhum $ PSX marca a √°rea de destino de cada comando em vermelho. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Est√°gio 1: a</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> chama √© atualizada na RAM e carregada na VRAM (comando CpuToVram).</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d61/e16/8a1/d61e168a1b238160665e78c437c7b2d5.png"></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Etapa 2: a</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> textura </font><b><font style="vertical-align: inherit;">da</font></b><font style="vertical-align: inherit;"> chama √© desenhada quatro vezes ao longo da tela (comando QuadTex). </font><font style="vertical-align: inherit;">A textura da chama tem uma largura de 32 texels, mas a GPU √© usada para desenh√°-la com uma largura de 64 pixels. </font><font style="vertical-align: inherit;">A filtragem bilinear n√£o √© poss√≠vel aqui, os texels mais pr√≥ximos s√£o amostrados.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f1a/08b/a2c/f1a08ba2c51a31bd57bcf9b45827bb23.png"></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Etapa 3: a</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> placa Final DOOM (comando QuadTex) √© desenhada em cima de tudo.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7de/30e/f5b/7de30ef5b64d978cf2f632cfe3ac82b4.png"></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quadro completo, equipe por equipe</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um estudo dos comandos transmitidos no quadro mostrou que o mecanismo √© completamente diferente da vers√£o para PC. Nele, o mundo circulava de uma curta dist√¢ncia para a dist√¢ncia. Primeiro, todas as paredes s√£o renderizadas. Na segunda passagem, uma lacuna vertical √© preenchida entre eles (visplane) (incluindo o c√©u). Na terceira (√∫ltima) passagem, os sprites s√£o renderizados, come√ßando pelo mais distante. Tudo isso foi feito com zero pixels de redesenho.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No PSX, a renderiza√ß√£o √© um pouco mais rude. Tudo √© processado em uma √∫nica passagem, realizada a partir de longe. O sistema de visplane que o PC usou para preencher o vazio entre as paredes n√£o est√° aqui. Gra√ßas a um novo conceito chamado "folhas", o avi√£o e as paredes s√£o renderizados na ordem dos subsetores. Tais opera√ß√µes em "3D verdadeiro" tornaram-se poss√≠veis devido ao uso ativo das fun√ß√µes de proje√ß√£o da matriz GPE. Os sprites tamb√©m s√£o renderizados simultaneamente com paredes / planos sem verifica√ß√£o de sobreposi√ß√£o e truncamento, o que resulta em uma pequena quantidade de redesenho.</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">R_RenderPlayerView</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span> </span>{<font></font>
  R_BSP();         <span class="hljs-comment">// Phase 1</span>
  R_RenderSKY();   <span class="hljs-comment">// Phase 2</span>
  <span class="hljs-keyword">for</span> (all subsectors from phase <span class="hljs-number">1</span>) {<font></font>
    R_RenderAll(subsector)<font></font>
  }<font></font>
  R_Render_Hud_Weapons();<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos analisar cada etapa em detalhes, come√ßando com o c√©u, que √© renderizado pela primeira vez usando CopyRectRaw. no $ PSX mostra VRAM no momento em que o quadro √© conclu√≠do, mas permite que voc√™ volte ao hist√≥rico de comandos. Os pixels do c√©u s√£o vis√≠veis apenas porque nenhum $ PSX tem problemas em perceber esse hack com colunas de largura de um pixel (outros emuladores, como o ePSXe, n√£o conseguem lidar melhor </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[18]</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), mas todos esses pixels ser√£o reescritos. Observe que, sob as texturas do c√©u, todos os marcadores das chaves das portas est√£o reunidos em um atlas.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d1d/2ae/868/d1d2ae868238f0282a8495a4e2dd6afd.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, o BSP √© percorrido em ordem de longe para perto. Para cada subsetor, todas as paredes / planos / sprites s√£o renderizadas. Se voc√™ conhece o DOOM BSP, provavelmente lembre-se de que o compilador doombsp mantinha apenas segmentos s√≥lidos de subsetores. Para garantir a renderiza√ß√£o dos planos, um novo conceito de "folhas" foi adicionado √† vers√£o PSX, na qual os segmentos de separa√ß√£o BPS (invis√≠veis) foram armazenados. Esses segmentos s√£o projetados no espa√ßo da tela para gerar limites do plano. Essa √© uma abordagem muito mais "limpa", porque permite que voc√™ se livre de hacks com espa√ßo na tela e bugs, por exemplo, da conhecida "trilha da lesma".</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/558/cde/f1d/558cdef1d6ef68f1272b1e260333fd3b.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na pr√≥xima foto da VRAM, os avi√µes do mesmo subsetor da parede que vimos acima s√£o renderizados como tri√¢ngulos com 1 pixel de altura. </font><font style="vertical-align: inherit;">Tamb√©m preste aten√ß√£o √† textura das paredes / planos, todos eles t√™m o mesmo tamanho. </font><font style="vertical-align: inherit;">Esse recurso simplifica a sele√ß√£o de texturas VRAM e evita a fragmenta√ß√£o.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/be6/092/6ce/be60926ce5304a264da51ab38a3e2c6a.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainda estamos no mesmo subsetor. </font><font style="vertical-align: inherit;">Agora, os sprites s√£o renderizados como quadr√¢ngulos (Quad). </font><font style="vertical-align: inherit;">Esses sprites incluem inimigos, conchas, paredes parcialmente transparentes.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/708/e06/cf6/708e06cf66400378617db2484694433c.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por divers√£o, mostraremos conchas de plasma.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fb4/c5a/ebc/fb4c5aebca255019caa7d8c31140c136.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estamos chegando ao final dos comandos de renderiza√ß√£o. </font><font style="vertical-align: inherit;">Aqui, misturando o ret√¢ngulo, a arma √© renderizada.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ac2/061/da0/ac2061da0769c7e614503818d5e59755.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√öltima etapa: renderiza√ß√£o da interface (HUD).</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a34/be3/7e9/a34be37e93d0991d27b5d4fd8a3356c4.png"></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Excesso de VRAM!</font></font></h2><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/853/a77/9cc/853a779ccdc0280234e53ab3b6aea59a.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Trabalhar com a GPU foi um exerc√≠cio para alocar espa√ßo na VRAM. No caso de buffers de quadro, CLUT, conte√∫do est√°tico (interface) e at√© paredes / planos, a tarefa √© elementar, porque todos t√™m o mesmo tamanho. Mas com sprites, as coisas s√£o um pouco mais complicadas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Devido ao fato de os sprites terem tamanhos diferentes, eles levam √† fragmenta√ß√£o. Al√©m disso, as texturas podem cobrir grandes √°reas da tela e repetir, e os sprites geralmente s√£o √∫nicos e um n√∫mero imprevisivelmente grande pode ser necess√°rio em cada quadro. Na pior das hip√≥teses, um quadro requer um certo n√∫mero de sprites que n√£o podem ser colocados na VRAM. Isso √© chamado de estouro de cache de textura e esse problema n√£o pode ser resolvido. Quando isso acontece, o jogo trava e exibe uma mensagem de erro enigm√°tica </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[19]</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lembrando alguns de n√≥s do amea√ßador "Chega de visplanes".</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1fb/4a4/f9f/1fb4a4f9fecf0b6420b198b08ff2f84d.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quanto mais sprites voc√™ v√™ ao mesmo tempo, mais VRAM √© usado.</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A diferen√ßa entre PAL e NTSC</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Concluindo o cap√≠tulo em v√≠deo, decidi ver como o NTSC √© convertido em PAL. </font><font style="vertical-align: inherit;">Infelizmente, como em muitos outros jogos, o DOOM PSX n√£o levou em considera√ß√£o o aumento da resolu√ß√£o vertical. </font><font style="vertical-align: inherit;">Ao jogar DOOM no PS1 na Europa, voc√™ viu uma imagem verticalmente compactada com bordas pretas vis√≠veis. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois de aprender sobre os princ√≠pios da VRAM, √© dif√≠cil culpar os desenvolvedores. </font><font style="vertical-align: inherit;">Se voc√™ observar atentamente o esquema VRAM no NTSC, perceber√° que o aumento da resolu√ß√£o vertical do buffer de quadros viola toda a estrutura de aloca√ß√£o de dados. </font><font style="vertical-align: inherit;">Seria imposs√≠vel armazenar texturas embaixo dele. </font><font style="vertical-align: inherit;">Ou voc√™ teria que mover o CLUT para outro local. </font><font style="vertical-align: inherit;">Demasiado custo com relativamente pouco benef√≠cio e, apesar do fato de as bordas pretas interferirem no jogo, concordo que n√£o valeu a pena.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agradecimentos</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agrade√ßo a Eric Vazquez (autor do PSXDOOM-RE), Samuel Villarreal (um dos desenvolvedores do PSXDOOM-RE) e Dan Leslie (desenvolvedor profissional de jogos para PlayStation 1) por compartilharem generosamente seus conhecimentos comigo.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Materiais de refer√™ncia</font></font></b><div class="spoiler_text">[ 1] : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">The Polygons Of Another World</a><br>
[ 2] : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">Game Engine Black Book: DOOM</a><br>
[ 3] : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">Everything You Have Always Wanted to Know about the Playstation</a><br>
[ 4] : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">@gmontoir ‚Äî 'Heart of Darkness uses MDEC frames as background bitmaps'.</a><br>
[ 5] : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">Five years of DOOM, part 1</a><br>
[ 6] : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">Five years of DOOM, part 2</a><br>
[ 7] : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://archive.vn/20121209124333/" rel="nofollow">The Great Books</a><br>
[ 8] : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">DOOM PSX tracks</a><br>
[ 9] : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">MAP59: Club Doom (PlayStation Doom)</a><br>
[10] : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">PSXDOOM/tree.txt</a><br>
[11] : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">PSXDOOM files</a><br>
[12] : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">PSY-Q SDK, CD Hardware</a><br>
[13] : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">P_LoadBlocks</a><br>
[14] : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">Linedef #142 plays Club Doom</a><br>
[15] : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">//#define CC_ARCH</a><br>
[16] : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">PSXDOOM-RE Source code</a><br>
[17] : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">How DOOM fire was done</a><br>
[18] : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">DOOM on ePSXe</a><br>
[19] : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">I_Error('Texture Cache Overflow');</a></div></div></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt494374/index.html">√înibus el√©tricos e suas baterias: o que √© titanato de l√≠tio? (Parte 1)</a></li>
<li><a href="../pt494376/index.html">Buffer de profundidade hier√°rquica</a></li>
<li><a href="../pt494380/index.html">Introdu√ß√£o ao Gerenciamento Estrat√©gico de Produtos</a></li>
<li><a href="../pt494384/index.html">Pesquisa funcional</a></li>
<li><a href="../pt494390/index.html">A impress√£o 3D reduz os custos de auto-ajuste pela metade</a></li>
<li><a href="../pt494400/index.html">Coronav√≠rus e a Internet</a></li>
<li><a href="../pt494402/index.html">Etapas da maturidade estrat√©gica</a></li>
<li><a href="../pt494406/index.html">Aprendizado de m√°quina sem professor. Trecho do livro</a></li>
<li><a href="../pt494408/index.html">O esquema de falsifica√ß√£o, restaura√ß√£o e verifica√ß√£o de frutas em uma mercearia. Trecho do livro</a></li>
<li><a href="../pt494410/index.html">Antes de se tornar mainstream: como lan√ßamos a entrega sem contato</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>