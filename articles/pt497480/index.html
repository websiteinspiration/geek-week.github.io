<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üé´ üÄÑÔ∏è ü§¶üèø Palestras em V√≠deo: maneira unix ü§© ‚õ™Ô∏è üÜò</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A quarentena √© um momento maravilhoso para aprender algo. No entanto, como voc√™ sabe, para algu√©m aprender algo, algu√©m deve ensinar. Se voc√™ tem uma ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Palestras em V√≠deo: maneira unix</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/497480/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/vm/gw/wm/vmgwwmtfoo_hivajmmrsjdynktm.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A quarentena √© um momento maravilhoso para aprender algo. </font><font style="vertical-align: inherit;">No entanto, como voc√™ sabe, para algu√©m aprender algo, algu√©m deve ensinar. </font><font style="vertical-align: inherit;">Se voc√™ tem uma apresenta√ß√£o com a qual deseja falar com um milion√©simo p√∫blico, ganhando fama mundial, este artigo √© para voc√™. </font><font style="vertical-align: inherit;">Aqui voc√™ encontrar√° instru√ß√µes passo a passo sobre como criar um v√≠deo a partir da apresenta√ß√£o. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Marcamos o modo de gravar ‚Äúcoment√°rios em √°udio‚Äù no PowerPoint e exportar a apresenta√ß√£o em v√≠deo como trivial, sem fornecer um d√©cimo das possibilidades necess√°rias para um v√≠deo realmente interessante. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para come√ßar, decidiremos quais quadros precisamos:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Na verdade, desliza com uma narra√ß√£o</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mudan√ßa de slide</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Interromper cita√ß√µes de filmes populares</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alguns quadros com a fisionomia do palestrante e do gato favorito (opcional)</font></font></li>
</ol><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Crie uma estrutura de diret√≥rios</font></font></h3><br>
<pre><code class="bash hljs">.<font></font>
‚îú‚îÄ‚îÄ clipart<font></font>
‚îú‚îÄ‚îÄ clips<font></font>
‚îú‚îÄ‚îÄ rec<font></font>
‚îú‚îÄ‚îÄ slide<font></font>
‚îî‚îÄ‚îÄ sound<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Atribui√ß√£o de cat√°logos na ordem de listagem: filmes dos quais extrairemos aspas (clipart), fragmentos de nosso futuro v√≠deo (clipes), v√≠deos da c√¢mera (rec), slides de imagem (slide), som (som).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fazendo uma apresenta√ß√£o em imagens</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para um verdadeiro </font><font style="vertical-align: inherit;">Linuxoid de </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">olhos</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> vermelhos, fazer uma apresenta√ß√£o na forma de imagens n√£o apresenta problemas. </font><font style="vertical-align: inherit;">Deixe-me lembr√°-lo de que um documento PDF pode ser analisado em imagens usando o comando</font></font><br>
<br>
<pre><code class="bash hljs">pdftocairo -png -r 128 ../lecture.pdf</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se n√£o houver esse comando, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">instale o</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pacote </font><i><font style="vertical-align: inherit;">poppler-utils</font></i><font style="vertical-align: inherit;"> (instru√ß√µes para o Ubuntu; se voc√™ possui o Arch, j√° sabe o que fazer sem mim). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A seguir, acredito que o v√≠deo est√° sendo preparado no formato HD Ready, ou seja, 1280 √ó 720. </font><font style="vertical-align: inherit;">Uma apresenta√ß√£o com um tamanho horizontal de 10 polegadas fornece exatamente esse tamanho ao descarregar (consulte o par√¢metro -r 128).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Estamos preparando o texto</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se voc√™ deseja criar um material realmente interessante, primeiro seu discurso deve ser escrito. </font><font style="vertical-align: inherit;">Eu tamb√©m pensei que poderia dizer o texto sem prepara√ß√£o, principalmente porque tenho uma boa experi√™ncia de palestra. </font><font style="vertical-align: inherit;">Mas uma coisa √© tocar ao vivo e outra √© gravar v√≠deo. </font><font style="vertical-align: inherit;">N√£o seja pregui√ßoso - o tempo gasto na digita√ß√£o ser√° recompensado mais de uma vez. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/_6/jl/bb/_6jlbbte4tfrvad0s6ukynie_ou.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui est√° o meu formato de grava√ß√£o. </font><font style="vertical-align: inherit;">O n√∫mero no cabe√ßalho √© igual ao n√∫mero do slide, as interrup√ß√µes s√£o destacadas em vermelho. </font><font style="vertical-align: inherit;">Qualquer editor √© adequado para a prepara√ß√£o, mas √© melhor </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">usar um</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> processador de texto completo - por exemplo, </font><i><font style="vertical-align: inherit;">OnlyOffice</font></i><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Slides sonoros</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O que posso dizer - ligue o microfone e escreva :) A </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
experi√™ncia mostra que a qualidade de grava√ß√£o, mesmo do microfone externo mais barato, √© incomparavelmente melhor do que com o microfone embutido no laptop. Se voc√™ deseja equipamentos de alta qualidade, recomendo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">este artigo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para a grava√ß√£o, usei </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o gravador de √°udio</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - um aplicativo de grava√ß√£o muito simples. Voc√™ pode peg√°-lo, por exemplo, aqui:</font></font><br>
<br>
<pre><code class="bash hljs">sudo add-apt-repository ppa:audio-recorder/ppa<font></font>
sudo apt-get update<font></font>
sudo apt-get install audio-recorder</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O principal nesta etapa √© a nomea√ß√£o correta de arquivos. </font><font style="vertical-align: inherit;">O nome deve consistir em um n√∫mero de slide e um n√∫mero de fragmento. </font><font style="vertical-align: inherit;">Os fragmentos s√£o numerados com n√∫meros √≠mpares - 1, 3, 5, etc. Portanto, para um slide, cujo texto √© mostrado na figura, dois arquivos ser√£o criados: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">002-1.mp3</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">002-3.mp3</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se voc√™ gravou todos os v√≠deos de uma s√≥ vez em uma sala silenciosa, nada poder√° ser feito com eles. </font><font style="vertical-align: inherit;">Se voc√™ gravou em v√°rias etapas, √© melhor equalizar o n√≠vel do volume:</font></font><br>
<br>
<pre><code class="bash hljs">mp3gain -r *.mp3</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por </font><font style="vertical-align: inherit;">alguma raz√£o, os </font><font style="vertical-align: inherit;">utilit√°rios </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mp3gain</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> n√£o est√£o nos reposit√≥rios padr√£o, mas voc√™ pode obt√™-lo aqui:</font></font><br>
<br>
<pre><code class="bash hljs">sudo add-apt-repository ppa:flexiondotorg/audio<font></font>
sudo apt-get update<font></font>
sudo apt-get install mp3gain</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois de tudo isso, voc√™ precisa escrever outro arquivo com sil√™ncio. </font><font style="vertical-align: inherit;">√â necess√°rio adicionar uma trilha sonora aos clipes silenciosos: se um clipe tem uma trilha sonora e o outro n√£o, √© dif√≠cil colar esses clipes. </font><font style="vertical-align: inherit;">O sil√™ncio pode ser gravado no microfone, mas √© melhor criar um arquivo no editor do </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Audacity</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">O arquivo deve ter pelo menos um segundo de </font><i><font style="vertical-align: inherit;">dura√ß√£o</font></i><font style="vertical-align: inherit;"> (mais longo) e o </font><i><font style="vertical-align: inherit;">sil√™ncio.mp3</font></i><font style="vertical-align: inherit;"> deve ser </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chamado</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rolos de cozimento</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tudo aqui √© limitado apenas pela sua imagina√ß√£o. </font><font style="vertical-align: inherit;">Voc√™ pode usar o editor </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Avidemux</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para editar o v√≠deo </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Uma vez que estava em reposit√≥rios padr√£o, mas por algum motivo foi serrado. </font><font style="vertical-align: inherit;">Isso n√£o vai nos parar:</font></font><br>
<br>
<pre><code class="bash hljs">sudo add-apt-repository ppa:ubuntuhandbook1/avidemux<font></font>
sudo apt-get update<font></font>
sudo apt-get install avidemux2.7-qt5</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Instru√ß√µes para trabalhar com este editor no mar, sim, em princ√≠pio, tudo √© intuitivo l√°. √â importante observar v√°rias condi√ß√µes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Primeiro, a resolu√ß√£o do filme deve corresponder √† resolu√ß√£o de destino do filme. Para fazer isso, no "v√≠deo para sa√≠da", voc√™ precisa usar dois filtros: swsResize para alterar a resolu√ß√£o e "adicionar campos" para tornar o filme de formato estreito sovi√©tico em um formato amplo. Todos os outros filtros s√£o opcionais. Por exemplo, se algu√©m n√£o entender qual √© a afirma√ß√£o de Sharikov no fragmento em discuss√£o, usando o filtro "adicionar logotipo", voc√™ pode adicionar o logotipo do PostgreSQL em cima de "Cora√ß√£o do c√£o".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em segundo lugar, todos os fragmentos devem usar a mesma taxa de quadros. Eu uso 25 quadros por segundo, porque muito da minha c√¢mera e filmes sovi√©ticos antigos. Se o filme do qual voc√™ cortou o quadro for filmado em uma velocidade diferente, use o filtro ‚ÄúReamostrar v√≠deo‚Äù. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em terceiro lugar, todos os fragmentos devem ser compactados com o mesmo codec e embalados nos mesmos recipientes. Portanto, no </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Avidemux</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para o formato, selecione o v√≠deo - ‚Äú </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mpeg4 AVC (x264)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‚Äù, √°udio - ‚Äú </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AAC (Faac)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‚Äù, o formato de sa√≠da - ‚Äú </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MP4 Muxer</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‚Äù.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em quarto lugar, √© importante nomear corretamente os clipes cortados. </font><font style="vertical-align: inherit;">O nome do arquivo deve consistir em um n√∫mero de slide e um n√∫mero de fragmento. </font><font style="vertical-align: inherit;">Os fragmentos s√£o numerados com n√∫meros pares, come√ßando com 2. Portanto, para o quadro em discuss√£o, o clipe com a recorte deve ser chamado </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">002-2.mp4</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Depois que os clipes estiverem prontos, voc√™ precisar√° transferi-los para o diret√≥rio com os fragmentos. </font><font style="vertical-align: inherit;">As configura√ß√µes do </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">avidemux</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> diferem das </font><font style="vertical-align: inherit;">configura√ß√µes </font><font style="vertical-align: inherit;">padr√£o do </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ffmpeg</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pelos par√¢metros misteriosos tbr, tbn, tbc. </font><font style="vertical-align: inherit;">Eles n√£o afetam a reprodu√ß√£o, mas n√£o permitem a colagem dos roletes. </font><font style="vertical-align: inherit;">Portanto, recodificamos:</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-keyword">for</span> f <span class="hljs-keyword">in</span> ???-?.mp4;
<span class="hljs-keyword">do</span>
  ffmpeg -hide_banner -y -i <span class="hljs-string">"<span class="hljs-variable">${f}</span>"</span> -c copy -r 25 -video_track_timescale 12800 ../clips/<span class="hljs-variable">$f</span>
<span class="hljs-keyword">done</span></code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Removemos protetores de tela</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui tamb√©m tudo √© simples: tire fotos no cen√°rio de algum tipo de esquema inteligente, coloque os clipes no diret√≥rio </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rec</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e depois transfira-os para o diret√≥rio com fragmentos. </font><font style="vertical-align: inherit;">As regras de nomenclatura s√£o iguais √†s quebras de cota√ß√£o, o comando de recodifica√ß√£o √© o seguinte:</font></font><br>
<br>
<pre><code class="bash hljs">ffmpeg -y -i source_file -r 25 -vcodec libx264 -pix_fmt yuv420p -profile:v high -coder 1 -s 1280x720 -ar 44100 -ac 2 ../clips/xxx-x.mp4
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se voc√™ planeja iniciar o v√≠deo com seu discurso, nomeie este fragmento </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">000-1.mp4</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Criamos quadros a partir de imagens est√°ticas</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√â hora de montar clipes de imagens e sons est√°ticos. </font><font style="vertical-align: inherit;">Isso √© feito com este script:</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-meta">#!/bin/bash
</span>
<span class="hljs-keyword">for</span> sound <span class="hljs-keyword">in</span> sound/*.mp3
<span class="hljs-keyword">do</span>
  soundfile=<span class="hljs-variable">${sound##*/}</span>
  chunk=<span class="hljs-variable">${soundfile%%.mp3}</span>
  clip=<span class="hljs-variable">${chunk}</span>.mp4<font></font>
  pic=slide/<span class="hljs-variable">${chunk%%-?}</span>.png<font></font>
<font></font>
  duration=$(soxi -D <span class="hljs-variable">${sound}</span> 2&gt;/dev/null)
  <span class="hljs-built_in">echo</span> <span class="hljs-variable">${sound}</span> <span class="hljs-variable">${pic}</span> <span class="hljs-variable">${clip}</span> <span class="hljs-string">" - "</span> <span class="hljs-variable">${duration}</span><font></font>
<font></font>
  ffmpeg -hide_banner -y -loop 1 -i <span class="hljs-variable">${pic}</span> -i <span class="hljs-variable">${sound}</span> -r 25 -vcodec libx264 -tune stillimage -pix_fmt yuv420p -profile:v high -coder 1 -t <span class="hljs-variable">${duration}</span> clips/<span class="hljs-variable">${clip}</span>
<span class="hljs-keyword">done</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Observe que primeiro a dura√ß√£o do arquivo de som √© determinada pelo utilit√°rio </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">soxi</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e, em seguida, o v√≠deo com a dura√ß√£o desejada √© montado. Todas as recomenda√ß√µes que encontrei s√£o mais simples: em vez do </font><font style="vertical-align: inherit;">sinalizador </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-t $ {duration}</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , o sinalizador </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-shortest</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √© </font><i><font style="vertical-align: inherit;">usado</font></i><font style="vertical-align: inherit;"> . De fato, o </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ffmpeg</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> determina a dura√ß√£o do mp3 aproximadamente e, durante a instala√ß√£o, a dura√ß√£o da faixa de √°udio pode ser muito (um a dois segundos) diferente da dura√ß√£o da faixa de v√≠deo. N√£o importa se o v√≠deo inteiro consiste em um √∫nico quadro, mas ao colar um filme com uma quebra na borda, ocorrem efeitos extremamente desagrad√°veis ‚Äã‚Äãcom gagueira. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Outra maneira de determinar a dura√ß√£o de um arquivo mp3 √© usar o </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mp3info</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Ela tamb√©m est√° enganada, e √†s vezes</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O ffmpeg</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fornece mais do que </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mp3info</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , √†s vezes vice-versa, √†s vezes ambos mentem - n√£o notei nenhum padr√£o. </font><font style="vertical-align: inherit;">Mas o </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">soxi est√°</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> funcionando corretamente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para instalar este utilit√°rio √∫til, fa√ßa o seguinte:</font></font><br>
<br>
<pre><code class="bash hljs">sudo apt-get install sox libsox-fmt-mp3</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fazendo transi√ß√µes entre slides</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Transi√ß√£o - um pequeno v√≠deo no qual um slide se transforma em outro. </font><font style="vertical-align: inherit;">Para fazer esses v√≠deos, fa√ßa slides em pares e </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">use o imagemagick para</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> transformar um no outro:</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-meta">#!/bin/bash
</span><font></font>
BUFFER=$(mktemp -d)<font></font>
<font></font>
<span class="hljs-keyword">for</span> pic <span class="hljs-keyword">in</span> slide/*.png
<span class="hljs-keyword">do</span>
  <span class="hljs-keyword">if</span> [[ <span class="hljs-variable">${prevpic}</span> != <span class="hljs-string">""</span> ]]
  <span class="hljs-keyword">then</span>
    clip=<span class="hljs-variable">${pic##*/}</span>
    clip=<span class="hljs-variable">${clip/.png/-0.mp4}</span>
    <span class="hljs-comment">#</span>
    <span class="hljs-comment">#  </span>
    <span class="hljs-comment">#</span>
    ./fade.pl <span class="hljs-variable">${prevpic}</span> <span class="hljs-variable">${BUFFER}</span> 1280 720 5 direct 0<font></font>
    ./fade.pl <span class="hljs-variable">${pic}</span> <span class="hljs-variable">${BUFFER}</span> 1280 720 5 reverse 12
    <span class="hljs-comment">#</span>
    <span class="hljs-comment">#   </span>
    <span class="hljs-comment">#</span>
    ffmpeg -y -hide_banner -i <span class="hljs-string">"<span class="hljs-variable">${BUFFER}</span>/%03d.png"</span> -i sound/silence.mp3 -r 25 -y -acodec aac -vcodec libx264 -pix_fmt yuv420p -profile:v high -coder 1 -shortest clips/<span class="hljs-variable">${clip}</span>
    rm -f <span class="hljs-variable">${BUFFER}</span>/*
  <span class="hljs-keyword">fi</span>
  prevpic=<span class="hljs-variable">${pic}</span>
<span class="hljs-keyword">done</span><font></font>
<font></font>
rmdir <span class="hljs-variable">${BUFFER}</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por alguma raz√£o, eu queria que o slide se espalhasse em pontos e, em seguida, o pr√≥ximo slide foi montado a partir dos pontos, e por isso escrevi um script chamado </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fade.pl</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Tendo o </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">imagemagick</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , um verdadeiro Linuxoid cria qualquer efeito especial, mas se algu√©m gostar da minha ideia de espalhar, aqui est√° o script:</font></font><br>
<br>
<pre><code class="perl hljs"><span class="hljs-comment">#!/usr/bin/perl</span><font></font>
<font></font>
<span class="hljs-keyword">use</span> strict;
<span class="hljs-keyword">use</span> warnings;
<span class="hljs-keyword">use</span> locale;
<span class="hljs-keyword">use</span> utf8;
<span class="hljs-keyword">use</span> <span class="hljs-keyword">open</span> <span class="hljs-string">qw(:std :utf8)</span>;
<span class="hljs-keyword">use</span> Encode <span class="hljs-string">qw(decode)</span>;
<span class="hljs-keyword">use</span> I18N::Langinfo <span class="hljs-string">qw(langinfo CODESET)</span>;<font></font>
<font></font>
<span class="hljs-keyword">my</span> $codeset = langinfo(CODESET);<font></font>
@ARGV = <span class="hljs-keyword">map</span> { decode $codeset, $_ } @ARGV;<font></font>
<font></font>
<span class="hljs-keyword">my</span> ($source, $target, $width, $height, $pixsize, $rev, $file_no) = @ARGV;<font></font>
<font></font>
<span class="hljs-keyword">my</span> @rects;<font></font>
$rects[$_] = <span class="hljs-string">"0123456789AB"</span> <span class="hljs-keyword">for</span> <span class="hljs-number">0</span>..$width*$height/$pixsize/$pixsize/<span class="hljs-number">12</span> - <span class="hljs-number">1</span>;<font></font>
<font></font>
<span class="hljs-keyword">for</span> <span class="hljs-keyword">my</span> $i (<span class="hljs-number">0</span>..<span class="hljs-number">11</span>) {
  <span class="hljs-keyword">substr</span>($_,<span class="hljs-keyword">int</span>(<span class="hljs-keyword">rand</span>(<span class="hljs-number">12</span>-$i)),<span class="hljs-number">1</span>) = <span class="hljs-string">""</span> <span class="hljs-keyword">for</span> (@rects);
  <span class="hljs-keyword">my</span> $s = $source;<font></font>
  $s =~ <span class="hljs-keyword">s</span><span class="hljs-comment">#^.*/##;</span>
  <span class="hljs-keyword">open</span>(PICTURE,<span class="hljs-string">"| convert - -transparent white PNG:- | convert \"$source\" - -composite \"$target/"</span>.substr(<span class="hljs-string">"00"</span>.($file_no+$i),-<span class="hljs-number">3</span>).<span class="hljs-string">".png\""</span>);
  <span class="hljs-keyword">printf</span> PICTURE (<span class="hljs-string">"P3\n%d %d\n255\n"</span>,$width,$height);
  <span class="hljs-keyword">for</span> <span class="hljs-keyword">my</span> $row (<span class="hljs-number">1</span>..$height/$pixsize/<span class="hljs-number">3</span>) {
    <span class="hljs-keyword">for</span> <span class="hljs-keyword">my</span> $j (<span class="hljs-number">0</span>..<span class="hljs-number">2</span>) {
      <span class="hljs-keyword">my</span> $l = <span class="hljs-string">""</span>;
      <span class="hljs-keyword">for</span> <span class="hljs-keyword">my</span> $col (<span class="hljs-number">1</span>..$width/$pixsize/<span class="hljs-number">4</span>) {
        <span class="hljs-keyword">for</span> <span class="hljs-keyword">my</span> $k (<span class="hljs-number">0</span>..<span class="hljs-number">3</span>) {<font></font>
          $l .= (<span class="hljs-keyword">index</span>($rects[($row-<span class="hljs-number">1</span>)*$width/$pixsize/<span class="hljs-number">4</span>+$col-<span class="hljs-number">1</span>],<span class="hljs-keyword">sprintf</span>(<span class="hljs-string">"%1X"</span>,$j*<span class="hljs-number">4</span>+$k))==-<span class="hljs-number">1</span> <span class="hljs-keyword">xor</span> $rev eq <span class="hljs-string">"reverse"</span>) ? <span class="hljs-string">"0 0 0\n"</span> : <span class="hljs-string">"255 255 255\n"</span> <span class="hljs-keyword">for</span> (<span class="hljs-number">1</span>..$pixsize);<font></font>
        }<font></font>
      }<font></font>
      <span class="hljs-keyword">print</span> PICTURE ($l) <span class="hljs-keyword">for</span> (<span class="hljs-number">1</span>..$pixsize);<font></font>
    }<font></font>
  }<font></font>
  <span class="hljs-keyword">close</span>(PICTURE);<font></font>
}</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Monte o rolo acabado</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora temos todos os fragmentos. </font><font style="vertical-align: inherit;">Vamos ao diret√≥rio de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">clipes</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e coletamos o filme finalizado com dois comandos:</font></font><br>
<br>
<pre><code class="bash hljs">ls -1 ???-?.mp4 | gawk -e <span class="hljs-string">'{print "file " $0}'</span> &gt;list.txt<font></font>
ffmpeg -y -hide_banner -f concat -i list.txt -c copy MOVIE.mp4<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aproveite a sua visualiza√ß√£o para seus alunos agradecidos!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt497466/index.html">Sysbench e a distribui√ß√£o de vari√°veis ‚Äã‚Äãaleat√≥rias</a></li>
<li><a href="../pt497468/index.html">[Master class] Ataques pr√°ticos na interface USB</a></li>
<li><a href="../pt497470/index.html">Como ejetar v√≠rus no Corona SDK</a></li>
<li><a href="../pt497476/index.html">As 8 principais estruturas de dados JavaScript</a></li>
<li><a href="../pt497478/index.html">Tutorial do simulador de rede ns-3. Cap√≠tulo 4</a></li>
<li><a href="../pt497482/index.html">Autentica√ß√£o no Kubernetes com Dex: aperte LDAP</a></li>
<li><a href="../pt497484/index.html">Usando algoritmos ML para classificar documentos de v√°rias p√°ginas: experi√™ncia em VTB</a></li>
<li><a href="../pt497486/index.html">Divis√£o de dados. ano 2013. Retrospectivo</a></li>
<li><a href="../pt497488/index.html">Automatize processos de RH usando Microsoft Teams, PowerApps e Power Automate. Solicita√ß√µes de retirada de funcion√°rios</a></li>
<li><a href="../pt497490/index.html">Dificuldades na paternidade dos cavalos-marinhos: metamorfoses gen√©ticas do sistema imunol√≥gico</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>