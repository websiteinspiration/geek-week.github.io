<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üå≥ üóëÔ∏è ü¶ë Informationen zu Ports und Verschl√ºsselung in Mailservern ü¶å ü§¶üèø üë∏üèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bei der Konfiguration des Postausgangsservers auf dem E-Mail-Client sehen Sie 3 Optionen f√ºr die Verschl√ºsselung - ohne Verschl√ºsselung, SMTPS und STA...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Informationen zu Ports und Verschl√ºsselung in Mailservern</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/495256/"><img src="https://habrastorage.org/webt/pj/a_/os/pja_osqbo80fknqvjnkwxjfdqma.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei der Konfiguration des Postausgangsservers auf dem E-Mail-Client sehen Sie 3 Optionen f√ºr die Verschl√ºsselung - ohne Verschl√ºsselung, SMTPS und STARTTLS sowie 3 m√∂gliche Ports - 25, 465, 587. Was ist zu w√§hlen und wof√ºr?</font></font><br>
 <a name="habracut"></a><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Video</font></font></b><div class="spoiler_text"><iframe width="560" height="315" src="https://www.youtube.com/embed/GvyQvKyrEaI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zur√ºck &lt; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mail-Server-Betriebsmodi</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Weiter&gt; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DNS-Eintr√§ge f√ºr Mail-Server</font></font></a><br>
<img src="https://habrastorage.org/webt/xd/iz/0b/xdiz0b5aiuipl9f9oylqxannogi.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Wenn Sie eine Nachricht an jemanden senden, verwendet Ihr Mail-Client ESMTP, um diese Nachricht zu senden, und Ihr Mail-Server verwendet dasselbe Protokoll, wenn er diese Nachricht an einen anderen senden muss Server. </font><font style="vertical-align: inherit;">Und w√§hrend alle SMTP sprechen und schreiben, handelt es sich normalerweise um ESMTP - dasselbe SMTP, jedoch mit einer Reihe von Erweiterungen wie Autorisierung und Verschl√ºsselung. </font><font style="vertical-align: inherit;">Ja, sobald SMTP nicht einmal die Autorisierung unterst√ºtzte.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/q8/zz/xc/q8zzxcz0tpk86ealobs3ghe6hd4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nun ein wenig zu SMTPS. </font><font style="vertical-align: inherit;">Einmal war das Internet so einfach, dass alles darin im Klartext √ºbertragen wurde. </font><font style="vertical-align: inherit;">Dann kamen kryptografische Verschl√ºsselungsprotokolle, das gleiche SSL. </font><font style="vertical-align: inherit;">Und Dienste, die zuvor Informationen in offener Form √ºbertragen hatten, begannen, den Verkehr in SSL zu verpacken.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vi/ly/sg/vilysgbdveruivjlnd6bx00uk2o.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es war jedoch nicht einfach, dies an denselben Standardports zu tun. Client und Server m√ºssen sich auf eine Verschl√ºsselungsmethode einigen, und damit ein Dienst an einem Port f√ºr einige mit und ohne Verschl√ºsselung gleichzeitig funktioniert, m√ºssen die Protokolle ge√§ndert werden. Und um nicht alles zu komplizieren, begannen sie, separate Ports f√ºr verschl√ºsselte Verbindungen zu formen - so erschienen 443 f√ºr HTTPS und 465 f√ºr SMTPS. Aber wir haben es gerade erkannt - es gibt nur wenige dedizierte Ports, die Anzahl der Dienste w√§chst und wenn jeder von ihnen mehrere Ports mit Verschl√ºsselung und ohne Verschl√ºsselung f√ºr ihre Zwecke verwendet - Probleme.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/se/qs/ku/seqskuovnrhned_eis83hcbf9x0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und am Ende beschlossen sie, die Protokolle ein wenig zu √§ndern. In einigen F√§llen funktionierte dies nicht sehr gut, beispielsweise f√ºr HTTP, und im Fall von SMTP erwies es sich als perfekt geeignete Option. Zu diesem Zweck wurde SMTP die STARTTLS-Erweiterung hinzugef√ºgt. Im Allgemeinen wird die STARTTLS-Erweiterung nicht nur f√ºr SMTP verwendet, sondern ist im Allgemeinen ein Befehl zum Starten von Verschl√ºsselungsverhandlungen. Im Gegensatz zu SMTPS, das einen dedizierten Port 465 verwendet und die Verbindung sofort verschl√ºsselt, ist STARTTLS nur eine Erweiterung f√ºr SMTP, was bedeutet, dass die Sitzung als regul√§re SMTP-Sitzung initiiert wird. Mailserver begr√º√üen sich gegenseitig und bieten dann an, mit der Verschl√ºsselung zu beginnen und die verf√ºgbaren kryptografischen Protokolle auszuw√§hlen.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/3-/md/bw/3-mdbw0y7amg4gvwt2vh6e_csdy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Infolgedessen beschlossen sie mit dem Aufkommen von STARTTLS aus den Standards, SMTPS auf Port 465 als separaten Dienst zu entfernen. Sie haben es aus den Standards entfernt, aber der Dienst blieb und wird immer noch verwendet. In Bezug auf die Verschl√ºsselung werde ich noch ein separates Thema erstellen, aber jetzt wollen wir √ºber STARTTLS sprechen.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bv/-v/pi/bv-vpiqh-9bsozbp7cu7ajr1vfq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe vorhin gesagt, dass mit STARTTLS Mailserver oder ein Client / Server eine Verbindung ohne Verschl√ºsselung √∂ffnen und sich dann auf die Verschl√ºsselung einigen. Sie verwenden dasselbe SSL / TLS f√ºr die Verschl√ºsselung. Aber was ist, wenn sie sich nicht einigen k√∂nnen? Es stellt sich heraus, dass sie in unverschl√ºsselter Form kommunizieren werden? Im Internet? In der Zwischenzeit stimmen sie ohne Verschl√ºsselung zu, wodurch der Server oder Client leicht durch das Fehlen verf√ºgbarer Verschl√ºsselungsmethoden get√§uscht wird. Und einmal haben sie einen der Anbieter bei einem solchen Angriff erwischt. Und dann brauchen Sie eine solche Verschl√ºsselung, fragen Sie. Nicht alles ist so hoffnungslos. Tats√§chlich kann der Administrator die M√∂glichkeit zum Senden von E-Mails deaktivieren, wenn keine Einigung √ºber die Verschl√ºsselung erzielt werden kann, und E-Mail-Clients m√ºssen warnen, dass der Server die Verschl√ºsselung nicht unterst√ºtzt.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/jk/jd/yr/jkjdyrfzt3wgtv8rq35xchtqa3c.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben also herausgefunden, dass es SMTP gibt, das auf Port 25 funktioniert, es gibt SMTPS, das auf 465 funktioniert, aber es gibt einen anderen Port - 587, der auch vom Mailserver verwendet wird.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/qw/di/er/qwdiersbgizdugoml737dpbiihq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie Sie bemerkt haben, stellen E-Mail-Clients √ºber SMTP eine Verbindung zu Servern her. Mail-Server stellen auch √ºber SMTP eine Verbindung her. Ich habe im letzten Teil auch gesagt, dass es solche Server gibt - Relay-Hosts, die E-Mails weiterleiten. Aus bestimmten, meist menschlichen Gr√ºnden gibt es im Internet Relay-Hosts, mit denen nicht autorisierte Benutzer Nachrichten von einer beliebigen Adresse umleiten k√∂nnen. Und diese Hosts erscheinen jedes Mal, wenn ein fahrl√§ssiger Administrator den Mailserver hochf√§hrt, und dies passiert h√§ufig. Infolgedessen erheben Cyberkriminelle tempor√§re Server oder infizieren Computer von Benutzern, die ohne Autorisierung Spam √ºber diese Relay-Hosts senden. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ft/im/ml/ftimml9dpl0jriux1qzfyk4vxkm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Infolgedessen blockieren einige Internetanbieter alle Benutzerverbindungen zu Port 25.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/f2/zd/w9/f2zdw98_ws_lxyyldagtxnhuaf0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieser Port ist zwischen Servern im Internet ge√∂ffnet, sie haben jedoch einen separaten Dienst f√ºr Benutzer erstellt - MSA (Message Submission Agent - Sende Agent), wodurch Benutzerverbindungen von Serververbindungen getrennt werden, die weiterhin √ºber MTA kommunizieren. Im Allgemeinen funktioniert MSA sogar auf Port 25, aber der offizielle Port daf√ºr ist 587. Was hindert Spammer daran, diesen Port zu verwenden? Die Tatsache, dass der MSA in der Regel eine Benutzerautorisierung erfordert. Dies ist nicht der einzige Grund f√ºr die Existenz von MSA - da es mit E-Mail-Clients funktioniert und besser f√ºr die Arbeit von Clients optimiert ist - warnt es sofort vor Fehlern in Nachrichten, z. B. dem Fehlen der Dom√§nenadresse des Empf√§ngers.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/nk/in/xg/nkinxgm7k5y9--jpyllipbfbej4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lassen Sie uns abschlie√üend den Vorgang des Versendens einer E-Mail-Nachricht verfolgen. </font><font style="vertical-align: inherit;">Verwenden Sie dazu wireshark, einen E-Mail-Client und ein Google Mail-Konto. </font><font style="vertical-align: inherit;">Alles beginnt mit dem Standard-TCP-Handshake, nach dem die SMTP-Sitzung gestartet wird. </font><font style="vertical-align: inherit;">Innerhalb der Sitzung begr√º√üen sich der E-Mail-Client und der Server gegenseitig. Danach bietet der E-Mail-Client an, die Sitzung zu verschl√ºsseln. Der Server stimmt zu, wonach die Schl√ºssel ausgetauscht werden und die TLSv1.3-Sitzung beginnt. Danach meldet sich der Client verschl√ºsselt an und sendet eine nicht sichtbare Nachricht f√ºr einen Verkehrsabfangj√§ger.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de495242/index.html">5NO - NodeJS ORM f√ºr Postgres</a></li>
<li><a href="../de495246/index.html">SAP-Spezialist: Wer ist und wie man einer wird</a></li>
<li><a href="../de495248/index.html">Die Rolle der Selbstisolation und des H√§ndewaschens</a></li>
<li><a href="../de495250/index.html">Haben Gamepads eine Zukunft?</a></li>
<li><a href="../de495254/index.html">Simulation gezielter Cyberangriffe, Red Team, Pentest, Scannen von Sicherheitsl√ºcken. Vor- und Nachteile verschiedener Methoden</a></li>
<li><a href="../de495258/index.html">Wie Zoom im Zeitalter des Coronavirus zum wichtigsten Unternehmen wurde</a></li>
<li><a href="../de495262/index.html">PostgreSQL-Versions-Upgrade-Praxis. Andrey Salnikov</a></li>
<li><a href="../de495266/index.html">E-Learning der Renaissance. Warum 2020 alle Vorteile des Fernunterrichts aufzeigen wird</a></li>
<li><a href="../de495268/index.html">UI / UX-Fall: Parkautomatisierung am Flughafen</a></li>
<li><a href="../de495272/index.html">SNES-Emulatoren nur wenige Pixel von der absoluten Perfektion entfernt</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>