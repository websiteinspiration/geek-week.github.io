<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🌝 🤸🏻 🐶 Firebase Test Labで機器テストを実行します。パート1：iOSプロジェクト 🌺 🌾 ➡️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="私の名前はドミトリー、時テスターとして私の仕事であるMEL科学。ごく最近、Firebase Test Labの比較的新しい機能、つまり、ネイティブXCUITestテストフレームワークを使用したiOSアプリケーションの機器テストを処理することになりました。
 
 その前は、Android向けのFire...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Firebase Test Labで機器テストを実行します。パート1：iOSプロジェクト</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/451786/"><img src="https://habrastorage.org/webt/ak/zz/ax/akzzax8yp7xdofbpono3dplmgrw.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私の名前はドミトリー、時テスターとして私の仕事である</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MEL科学</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。ごく最近、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Firebase Test Labの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">比較的新しい機能、</font><font style="vertical-align: inherit;">つまり、ネイティブXCUITestテストフレームワークを使用したiOSアプリケーションの機器テストを処理することになりました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その前は、Android向けのFirebase Test Labをすでに試していて、すべてがとても気に入ったので、iOSプロジェクトのテストインフラストラクチャを同じトラックに配置することにしました。私はたくさんグーグルしなければならなかった、そしてすべてが最初に正しく機能したわけではなかったので、私はまだしなければならない人々のためにチュートリアル記事を書くことに決めた。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、iOSプロジェクトでUIテストを実施している場合は、Good Corporationから提供された実際のデバイスで今すぐテストを開始できます。</font><font style="vertical-align: inherit;">興味がある-猫へようこそ。</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ストーリーでは、GitHub上のプライベートリポジトリとCircleCIビルドシステムなど、いくつかのソースデータに基づいて構築することにしました。</font><font style="vertical-align: inherit;">アプリケーションの名前はAmazingApp、bundleIDはcom.company.amazingappです。</font><font style="vertical-align: inherit;">その後の混乱を減らすために、このデータをすぐに引用します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プロジェクトで異なるソリューションを異なる方法で実装した場合-コメントで経験を共有してください。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.テスト自体</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
UIテスト用の新しいプロジェクトブランチを作成します。</font></font><br>
<br>
<pre><code class="bash hljs">$ git checkout develop<font></font>
$ git pull<font></font>
$ git checkout -b “feature/add-ui-tests”<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Xcodeでプロジェクトを開き、UIテスト[XCode-&gt; File-&gt; New-&gt; Target-&gt; iOS Testing Bundle]で新しいターゲットを作成し、AmazingAppUITestsという名前を付けます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/lz/nv/wj/lznvwj2y7eup9jhvuo7tuuap0rk.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
作成されたターゲットのビルドフェーズセクションに移動し、コンパイルソース-AmazingAppUITests.swiftでターゲット依存関係-AmazingAppの存在を確認します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
異なるビルドオプションを別々のスキームに分離することは良い習慣です。 UIテストのスキームを作成し[XCode-&gt; Product-&gt; Scheme-&gt; New Scheme]、同じ名前を付けます：AmazingAppUITests。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
作成されたスキームのビルドには、メインアプリケーションのターゲット-AmazingAppおよびターゲットUIテスト-AmazingAppUITests-スクリーンショットを参照する必要があります</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vm/iu/6y/vmiu6yivxbeeftzzpw6mtsjwmki.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、UIテスト用の新しいビルド構成を作成します。</font><font style="vertical-align: inherit;">Xcodeでプロジェクトファイルをクリックし、[情報]セクションに移動します。</font><font style="vertical-align: inherit;">「+」をクリックして、XCtestなどの新しい構成を作成します。</font><font style="vertical-align: inherit;">コード署名に関しては、タンバリンとのダンスを回避するために、将来的にこれが必要になります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/lv/at/h8/lvath8ca3apgpkkre6yo0lngxfm.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プロジェクトには少なくとも3つのターゲットがあります。メインアプリケーション、単体テスト（そうであるからです）、そして作成したターゲットUIテストです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[ターゲットAmazingApp]、[ビルド設定]タブ、[コード署名ID]セクションに移動します。</font><font style="vertical-align: inherit;">XCtestを設定するには、iOS Developerを選択します。</font><font style="vertical-align: inherit;">[コード署名スタイル]セクションで、[手動]を選択します。</font><font style="vertical-align: inherit;">プロビジョニングプロファイルはまだ生成していませんが、少し後には間違いなく戻ってきます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ターゲットAmazingAppUITestsについても同じことを行いますが、[製品バンドルID]列にcom.company.amazingappuitestsと入力します。</font></font><br>
<br>
<h2>2.    Apple Developer Program</h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apple Developer Programページに移動し、Certificates、Identifiers＆Profilesセクションに移動してから、IdentifiersアイテムのApp IDs列に移動します。 AmazingAppUITestsという名前の新しいアプリIDとbundleID com.company.amazingappuitestsを作成します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/-q/am/xp/-qamxpb7mzfaeko-yqesuahxsk4.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで、別の証明書でテストに署名する機会がありますが、...テストのビルド手順には、アプリケーション自体のビルドとテストランナーのビルドが含まれます。したがって、1つのプロビジョニングプロファイルで2つのバンドルIDに署名するという問題に直面します。幸いなことに、ワイルドカードアプリIDというシンプルでエレガントなソリューションがあります。新しいアプリIDを作成する手順を繰り返しますが、明示的なアプリIDの代わりに、スクリーンショットのようにワイルドカードアプリIDを選択します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/hc/yo/uq/hcyouqxvbupjhehw9ywslmxrf-g.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この時点でdeveloper.apple.comでの作業は終了しましたが、ブラウザーウィンドウを最小化しません。に行く</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fastlaneのドキュメントが掲載されたサイトと</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、表紙から表紙への一致に関するユーティリティについてお読みください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意深い読者は、このユーティリティを使用するには、プライベートリポジトリと、Apple Developer ProgramとGithubの両方にアクセスできるアカウントが必要であることに気づきました。</font><font style="vertical-align: inherit;">私たちは（突然ではない場合）InfrastructureAccount@your.company.domainという形式のアカウントを作成し、強力なパスワードを考え出し、それをdeveloper.apple.comに登録して、プロジェクト管理者として任命します。</font><font style="vertical-align: inherit;">次に、アカウントに会社のgithubリポジトリへのアクセスを許可し、AmazingAppMatchのような名前で新しいプライベートリポジトリを作成します。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. Fastlaneおよびmatchユーティリティの構成</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ターミナルを開き、プロジェクトフォルダーに移動し、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">公式マニュアルに</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">示されているようにfastlaneを初期化し</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">コマンドを入力した後</font></font><br>
<br>
<pre><code class="bash hljs">$ fastlane init</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
使用可能な使用構成を選択するように求められます。</font><font style="vertical-align: inherit;">4番目の項目-手動プロジェクトセットアップを選択します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/p4/fx/ws/p4fxwszdhepxbhdhtw8zucmcwqy.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プロジェクトに新しいfastlaneディレクトリが表示され、AppfileとFastfileの2つのファイルがあります。</font><font style="vertical-align: inherit;">簡単に言えば、Appfileではサービスデータを保存し、Fastfileではレーンと呼ばれるFastlane用語でジョブを記述します。</font><font style="vertical-align: inherit;">公式ドキュメントを読むことをお勧めします：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">one</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">two</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Appfileをお気に入りのテキストエディターで開き、次のフォームに移動します。</font></font><br>
<br>
<pre><code class="ruby hljs">app_identifier <span class="hljs-string">"com.company.amazingapp"</span>       <span class="hljs-comment"># Bundle ID</span>
apple_dev_portal_id <span class="hljs-string">"infrastructureaccount@your.company.domain"</span>  <span class="hljs-comment">#   ,     iOS   Apple Developer Program.</span>
team_id <span class="hljs-string">"LSDY3IFJAY9"</span> <span class="hljs-comment"># Your Developer Portal Team ID</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ターミナルに戻り、公式マニュアルに従って、マッチの設定を開始します。</font></font><br>
<br>
<pre><code class="bash hljs">$ fastlane match init<font></font>
$ fastlane match development<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、要求されたデータ（リポジトリ、アカウント、パスワードなど）を入力します。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重要：</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一致ユーティリティを初めて起動すると、リポジトリを復号化するためのパスワードの入力を求められます。</font><font style="vertical-align: inherit;">このパスワードを保持することは非常に重要です。CIサーバーをセットアップする段階で、このパスワードは役に立ちます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
fastlaneフォルダーに新しいファイルMatchfileが追加されました。</font><font style="vertical-align: inherit;">お気に入りのテキストエディターで開き、フォームに移動します。</font></font><br>
<br>
<pre><code class="ruby hljs">git_url(<span class="hljs-string">"https://github.com/YourCompany/AmazingAppMatch"</span>) <span class="hljs-comment">#       .</span>
type(<span class="hljs-string">"development"</span>) <span class="hljs-comment"># The default type, can be: appstore, adhoc, enterprise or development</span>
app_identifier(<span class="hljs-string">"com.company.amazingapp"</span>)<font></font>
username(<span class="hljs-string">"infrastructureaccount@your.company.domain"</span>) <span class="hljs-comment"># Your Infrastructure account Apple Developer Portal username</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今後、matchを使用してCrashlyticsやAppStoreに投稿するビルドに署名する場合、つまりアプリケーションのバンドルIDに署名する場合は、このように入力します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、覚えているように、テストビルドを作成するために、特別なワイルドカードIDを作成しました。</font><font style="vertical-align: inherit;">したがって、Fastfileを開き、新しいレーンを入力します。</font></font><br>
<br>
<pre><code class="ruby hljs">lane <span class="hljs-symbol">:testing_build_for_firebase</span> <span class="hljs-keyword">do</span><font></font>
<font></font>
    match(<font></font>
      <span class="hljs-symbol">type:</span> <span class="hljs-string">"development"</span>,
      <span class="hljs-symbol">readonly:</span> <span class="hljs-literal">true</span>,
      <span class="hljs-symbol">app_identifier:</span> <span class="hljs-string">"com.company.*"</span>,
      <span class="hljs-symbol">git_branch:</span> <span class="hljs-string">"uitests"</span>  <span class="hljs-comment">#     development     .</span><font></font>
    )<font></font>
<font></font>
<span class="hljs-keyword">end</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
保存してターミナルに入る </font></font><br>
<br>
<pre><code class="bash hljs">fastlane testing_build_for_firebase</code></pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
fastlaneが新しい証明書を作成し、リポジトリに配置する方法を確認してください。</font><font style="vertical-align: inherit;">いいね！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Xcodeを開きます。</font><font style="vertical-align: inherit;">これで、タイプMatch Development com.company。*の必要なプロビジョニングプロファイルが作成されました。これは、AmazingAppおよびAmazingAppUITestsターゲットのプロビジョニングプロファイルセクションで指定する必要があります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/l0/hq/dg/l0hqdgqi3w31ilkeo7emjo4n7ia.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テストを構築するためにレーンを追加する必要があります。</font><font style="vertical-align: inherit;">fastlaneのプラグインプロジェクトの</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リポジトリ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に</font><font style="vertical-align: inherit;">移動し</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。これにより、Firebase Test Labへのエクスポートを簡単に設定し、指示に従うことができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
元の例からコピーして、レーンTesting_build_for_firebaseが最終的に次のようになるようにします。</font></font><br>
<br>
<pre><code class="ruby hljs">
 lane <span class="hljs-symbol">:testing_build_for_firebase</span> <span class="hljs-keyword">do</span><font></font>
<font></font>
    match(<font></font>
      <span class="hljs-symbol">type:</span> <span class="hljs-string">"development"</span>,
      <span class="hljs-symbol">readonly:</span> <span class="hljs-literal">true</span>,
      <span class="hljs-symbol">app_identifier:</span> <span class="hljs-string">"com.company.*"</span>,
      <span class="hljs-symbol">git_branch:</span> <span class="hljs-string">"uitests"</span><font></font>
    )<font></font>
<font></font>
    scan(<font></font>
      <span class="hljs-symbol">scheme:</span> <span class="hljs-string">'AmazingAppUITests'</span>,      <span class="hljs-comment"># UI Test scheme</span>
      <span class="hljs-symbol">clean:</span> <span class="hljs-literal">true</span>,                        <span class="hljs-comment"># Recommended: This would ensure the build would not include unnecessary files</span>
      <span class="hljs-symbol">skip_detect_devices:</span> <span class="hljs-literal">true</span>,          <span class="hljs-comment"># Required</span>
      <span class="hljs-symbol">build_for_testing:</span> <span class="hljs-literal">true</span>,            <span class="hljs-comment"># Required</span>
      <span class="hljs-symbol">sdk:</span> <span class="hljs-string">'iphoneos'</span>,                    <span class="hljs-comment"># Required</span>
      <span class="hljs-symbol">should_zip_build_products:</span> <span class="hljs-literal">true</span>,     <span class="hljs-comment"># Must be true to set the correct format for Firebase Test Lab</span><font></font>
    )<font></font>
<font></font>
    firebase_test_lab_ios_xctest(<font></font>
      <span class="hljs-symbol">gcp_project:</span> <span class="hljs-string">'AmazingAppUITests'</span>, <span class="hljs-comment"># Your Google Cloud project name (    )</span>
      <span class="hljs-symbol">devices:</span> [                          <span class="hljs-comment"># Device(s) to run tests on</span><font></font>
        {<font></font>
          <span class="hljs-symbol">ios_model_id:</span> <span class="hljs-string">'iphonex'</span>,        <span class="hljs-comment"># Device model ID, see gcloud command above</span>
          <span class="hljs-symbol">ios_version_id:</span> <span class="hljs-string">'12.0'</span>,         <span class="hljs-comment"># iOS version ID, see gcloud command above</span>
          <span class="hljs-symbol">locale:</span> <span class="hljs-string">'en_US'</span>,                <span class="hljs-comment"># Optional: default to en_US if not set</span>
          <span class="hljs-symbol">orientation:</span> <span class="hljs-string">'portrait'</span>         <span class="hljs-comment"># Optional: default to portrait if not set</span><font></font>
        }<font></font>
      ]<font></font>
    )<font></font>
<font></font>
  <span class="hljs-keyword">end</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CircleCIでのfastlaneの構成の詳細については、公式ドキュメント</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">one、</font></font></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">twoを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">読むことをお勧めし</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
新しいタスクでconfig.ymlを追加することを忘れないでください：</font></font><br>
<br>
<pre><code class="ruby hljs">build-<span class="hljs-keyword">for</span>-firebase-test-<span class="hljs-symbol">lab:</span>
   <span class="hljs-symbol">macos:</span>
     <span class="hljs-symbol">xcode:</span> <span class="hljs-string">"10.1.0"</span>   
   <span class="hljs-symbol">working_directory:</span> ~<span class="hljs-regexp">/project
   shell: /bin</span><span class="hljs-regexp">/bash --login -o pipefail
   steps:
     - checkout
     - attach_workspace:
         at: ~/project</span>
     - <span class="hljs-symbol">run:</span> sudo bundle install     <span class="hljs-comment">#  </span>
     - <span class="hljs-symbol">run:</span>
         <span class="hljs-symbol">name:</span> install gcloud-sdk   <span class="hljs-comment">#  mac    gcloud</span>
         <span class="hljs-symbol">command:</span> <span class="hljs-params">|
           ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)" &lt; /dev/null 2&gt; /dev/null ; brew install caskroom/cask/brew-cask 2&gt; /dev/null
           brew cask install google-cloud-sdk
     - run:
         name: build app <span class="hljs-keyword">for</span> testing
         command: fastlane testing_build_for_firebase  #  lane     firebase
</span></code></pre><br>
<h2>4.      ?  Firebase.</h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際、記事が書かれたものから始めましょう。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
おそらく、あなたのアプリケーションは無料の料金プランでFirebaseを使用しているかもしれませんし、まったく使用していないかもしれません。そこニーズをテストするために、我々は無料でご利用の年と別のプロジェクトを作成することができますので、根本的な違いは、（右クールを、？）、絶対にありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちのインフラアカウントにログイン（またはその他の、違いはありません）、およびに行く</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Firebaseコンソールページ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。 AmazingAppUITestsという新しいプロジェクトを作成します。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重要：</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">レーンfirebase_test_lab_ios_xctestのFastfileの前のステップでは、gcp_projectパラメーターがプロジェクトの名前と一致している必要があります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/4g/2w/gg/4g2wggl51s6o5e44i9arfztz70s.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デフォルト設定は、私たちにとって非常にうまくいきます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
タブを閉じないでください。同じアカウントで、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">Gcloud</font></a><font style="vertical-align: inherit;">に登録して</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ください。</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-Firebaseとの通信はgcloudコンソールインターフェースを使用して行われるため、これは必要な手段です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Googleは年間300ドルを提供します。これは、自動テストを実行する場合の1年間のサービスの無料使用に相当します。支払いデータを入力し、1ドルのテスト請求を待って、アカウントで300ドルを取得します。 1年後、プロジェクトは自動的に無料の料金プランに移行されます。したがって、お金の損失を心配する必要はありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Firebaseプロジェクトのタブに戻り、Blazeの料金プランに転送してみましょう。制限を超えた場合に支払うものがあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
gcloudインターフェースで、Firebaseプロジェクトを選択し、「カタログ」メインメニュー項目を選択して、Cloud Testing APIとCloud Tools Result APIを追加します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ey/8x/7b/ey8x7bwmzkwdskvqiyoheco-icy.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、メニュー項目「IAMと管理」-&gt;サービスアカウント-&gt;サービスアカウントを作成します。</font><font style="vertical-align: inherit;">私たちはプロジェクトを編集する権利を与えます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/sw/2d/jg/sw2djgp6yn12gvsegbnpla2ki30.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JSON </font></font><br>
<br>
<img src="https://habrastorage.org/webt/-5/c4/mx/-5c4mx_pjsy0qbj770baix-qo8w.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
形式</font><font style="vertical-align: inherit;">でAPIキーを作成します</font><font style="vertical-align: inherit;">。ダウンロードしたJSONは後で必要になりますが、ここではTest Labのセットアップが完了したことを考慮します。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. CircleCIを構成する</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
適切な質問は醸造です-パスワードをどうするか？</font><font style="vertical-align: inherit;">パスワードやその他の機密データを確実に保存しておくと、ビルドマシンの環境変数のメカニズムに役立ちます。</font><font style="vertical-align: inherit;">CircleCIプロジェクトの設定で、[環境変数] </font></font><br>
<br>
<img src="https://habrastorage.org/webt/nv/k8/tb/nvk8tbgrgycr_fnqdxxktcybgng.png" alt="画像"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
を</font><font style="vertical-align: inherit;">選択し</font><font style="vertical-align: inherit;">、次の変数を開始します。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">キー：GOOGLE_APPLICATION_CREDENTIALS </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
値：gcloudサービスアカウントキーファイルのjsonコンテンツ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">キー：MATCH_PASSWORD </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
値：証明書を使用してgithubリポジトリを復号化するためのパスワード</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">キー：FASTLANE_PASSWORD </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
値：Apple Developer Portalインフラストラクチャアカウントのパスワード</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
変更を保存し、PRを作成して、チームリードのレビューに送信します。 </font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概要</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらの単純な操作を実行した結果、テストに合格したときにデバイスの画面にビデオを記録する機能を備えた、良好で安定した作業スタンドが得られました。</font><font style="vertical-align: inherit;">テストケースでは、iPhone Xデバイスモデルを指定しましたが、ファームでは、iOSのさまざまなモデルとバージョンの幅広い組み合わせを提供しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2番目の部分では、Androidプロジェクト用のFirebase Test Labの段階的な構成について説明します。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja451776/index.html">Googleスプレッドシートでロールプレイングエンジンをプログラムする方法</a></li>
<li><a href="../ja451778/index.html">別の監視システム</a></li>
<li><a href="../ja451780/index.html">60分で監査-Sophos Phish Threatを通じて、フィッシング攻撃に対する従業員の耐性を無料で確認</a></li>
<li><a href="../ja451782/index.html">Linux（WSL）バージョン2のWindowsサブシステム2：それはどのようになりますか？（よくある質問）</a></li>
<li><a href="../ja451784/index.html">エンタープライズストレージ用のハイブリッドドライブ。Seagate EXOSの使用経験</a></li>
<li><a href="../ja451790/index.html">ゲーム内データ収集の危険性</a></li>
<li><a href="../ja451792/index.html">オンラインストアに閉じ込められる4つのJavaScriptスニファー</a></li>
<li><a href="../ja451794/index.html">テクスチャスキャンインデント</a></li>
<li><a href="../ja451796/index.html">安全なブラウザ拡張を書く</a></li>
<li><a href="../ja451798/index.html">mongoDBとSpring Bootによるデータ移行</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>