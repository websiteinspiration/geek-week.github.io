<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>â—¼ï¸ ğŸš´ğŸ¿ ğŸ‘” PostgreSQLãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ„ãƒ¼ãƒ«ã€‚ã‚¢ãƒ³ãƒ‰ãƒ¬ã‚¤ãƒ»ã‚µãƒ«ãƒ‹ã‚³ãƒ•ï¼ˆData Egretï¼‰ â¬ ğŸ’ƒğŸ¼ ğŸŒ¯</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ç§ã¯ãƒ«ã‚¯ã‚½ãƒ•ãƒˆå‡ºèº«ã§ã™ã€‚
 Data Egretã€ŒPostgreSQLãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆãƒ„ãƒ¼ãƒ«ã€ã‹ã‚‰ã®Andrey Salnikovã«ã‚ˆã‚‹ãƒ¬ãƒãƒ¼ãƒˆã®ç­†è¨˜éŒ²ã«æ…£ã‚Œã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ ã€‚æœ€å¾Œã«ã€æ›´æ–°ã•ã‚ŒãŸãƒ„ãƒ¼ãƒ«ã®è¦ç´„è¡¨
 

ã“ã®è¬›æ¼”ã§ã¯ã€åˆ©ç”¨å¯èƒ½ãªPostgreSQLãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ„ãƒ¼ãƒ«ã«ã¤ã„ã¦èª¬æ˜ã—ã¾...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>PostgreSQLãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ„ãƒ¼ãƒ«ã€‚ã‚¢ãƒ³ãƒ‰ãƒ¬ã‚¤ãƒ»ã‚µãƒ«ãƒ‹ã‚³ãƒ•ï¼ˆData Egretï¼‰</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/485622/"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç§ã¯ãƒ«ã‚¯ã‚½ãƒ•ãƒˆå‡ºèº«ã§ã™ã€‚</font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Data Egretã€ŒPostgreSQLãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆãƒ„ãƒ¼ãƒ«ã€ã‹ã‚‰ã®Andrey Salnikovã«ã‚ˆã‚‹ãƒ¬ãƒãƒ¼ãƒˆã®ç­†è¨˜éŒ²ã«æ…£ã‚Œã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™</font></font></strong> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">æœ€å¾Œã«ã€æ›´æ–°ã•ã‚ŒãŸãƒ„ãƒ¼ãƒ«ã®è¦ç´„è¡¨</font></font></strong></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã“ã®è¬›æ¼”ã§ã¯ã€åˆ©ç”¨å¯èƒ½ãªPostgreSQLãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ„ãƒ¼ãƒ«ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">è«–ç†ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã€ãƒã‚¤ãƒŠãƒªãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã€çµ„ã¿è¾¼ã¿ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ„ãƒ¼ãƒ«ã€ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ„ãƒ¼ãƒ«ã€‚</font><font style="vertical-align: inherit;">æœ¬å½“ã«å½¹ç«‹ã¤ã¨ãã«å¢—åˆ†ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãŒå¿…è¦ã§ã™ã‹ã€‚</font><font style="vertical-align: inherit;">ã„ã¤ã©ã®ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã™ã‚‹ã®ãŒé©åˆ‡ã‹ã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</font><font style="vertical-align: inherit;">ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ—ãƒ­ã‚»ã‚¹ã‚’è‡ªå‹•åŒ–ã—ã€ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã®æ•´åˆæ€§ã‚’æ¤œè¨¼ã™ã‚‹æœ€è‰¯ã®æ–¹æ³•ã¯ä½•ã§ã™ã‹ï¼Ÿ</font><font style="vertical-align: inherit;">ãƒ†ã‚¤ã‚¯</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">è¿‘ã„</font></a><font style="vertical-align: inherit;">ã‚ˆã†ãªãƒ„ãƒ¼ãƒ«ã‚’è¦‹</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pg_dumpã¯</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pg_basebackup</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒãƒ¼ãƒ†ãƒ³ãƒ€ãƒ¼</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WAL-E </font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WAL-G </font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pgbackrest</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BARTã€</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãŠã‚ˆã³</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pg_probackupã‚’</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font></p><br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/Us6cHVNA4vk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><a name="habracut"></a><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç§ã®åå‰ã¯Andrey Salnikovã§ã™ã€‚ç§ã¯Data Egretã®å¾“æ¥­å“¡ã§ã‚ã‚Šã€ã“ã®ãƒ¬ãƒãƒ¼ãƒˆã¯PostgreSQLã§ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’ä½œæˆã™ã‚‹ãŸã‚ã®ãƒ„ãƒ¼ãƒ«ã«å½“ã¦ã‚‰ã‚Œã¾ã™ã€‚</font></font></p><br>
<p><img src="https://habrastorage.org/webt/qr/pa/mu/qrpamu1psbed1aonvt1shrrpedk.png"></p><br>
<p>  ,  ,  .   :            .   ,    ,   ,       .        â€“        ,   - .<br>
  PostgreSQL   ,  , ,    ,   ,         PostgreSQL.     PostgreSQL  .   ,       : DWH ,  WEB ,   .    -.   .</p><br>
<p><img src="https://habrastorage.org/webt/a0/vc/b_/a0vcb_l47qx4vvzh1hxnjcqesz4.png"></p><br>
<p>    .   backup-?     ,     ,    ,       . ,          backup-.       .  ,   backup- ,      .           .</p><br>
<p><img src="https://habrastorage.org/webt/dj/_9/aj/dj_9ajbympb3eslx0bl1phlp6te.png"></p><br>
<p>         PostgreSQL?    pg_dump, pg_dumpall  pg_restore  .   ,      .   pg_dump   ,   SQL ,        .       PostgreSQL.<br>
  (pg_basebackup)   ,           ,            . Pg_basebackup  ,   ,       PostgreSQL      ,     ,         ,     PostgreSQL ,       - .    .  ,  ,     5,         - .    20  ,       .<br>
   ,    â€“  wal-e  wal-g.       ,   wal-e ,     wal-g.        AWS     S3. Wal-e     Google Cloud,  Azure    ,     -  . Wal-g    AWS,   S3.      S3  .   ,  .        .</p><br>
<p><img src="https://habrastorage.org/webt/h_/cs/my/h_csmywtln65xfdmoryutenb6-g.png"></p><br>
<p>    ,  ,    pg_basebackup    ,  -    .    ,     PostgreSQL     ,      .<br>
   barman,        .       Python  pg_basebackup.      ssh .       pgbackrest.   PostgreSQL     .      Python.  ,   â€”    C        .<br>
Pg_probackup â€“        PostgreSQL Professional,     backup-,    .<br>
    backup and recover tool (BART)   EnterpriseDB.      .     CentOS  Red Hat.  Ubuntu  , -, .       BART  ,  (BART)     . </p><br>
<p><img src="https://habrastorage.org/webt/ow/si/t8/owsit8h0n3welzlugm95_glqdds.png"></p><br>
<p>        - ,  .</p><br>
<ul>
<li><p>  ,     ,       .     ,    . </p><br>
</li>
<li><p>  ,    ,          ,     ()   -         ,   .</p><br>
</li>
<li><p>     . </p><br>
</li>
<li><p>        ,   -    . </p><br>
</li>
<li><p>          ,          -   backup-.</p><br>
</li>
<li><p> â€”        ,             ,   . </p><br>
<p>  ,        .      ,   . </p><br>
</li>
</ul><br>
<p><img src="https://habrastorage.org/webt/s5/v0/h0/s5v0h0p62rsqz1r86v2upwibj5c.png"></p><br>
<p> ,       ,             backup-.     .    â€”     ,         .<br>
 AWS (S3)       â€”  wal-g, wal-e, pgbackrest.      : barman   ,  ,     AWS (S3).<br>
 Azure  wal-e. Google Cloud  wal-e. </p><br>
<p><img src="https://habrastorage.org/webt/gw/sc/qd/gwscqdmvmqlbe1r1e545ipkemzs.png"></p><br>
<ul>
<li>      pg_dump, pg_dumpall.   ,   pg_dumpall    ()  ,  pg_dump            .</li>
<li>  â€”  .</li>
<li>   ,   ,     -    ,    ,         .      ,       RAID.    ,        ,      NVME    ,  .  AWS  ,  EBS .    ,   ,        ,         .        wal-e.  wl-g      . Pg_probackup    . Barman, basebackup, pgbackrest.      ,      8-10   .     production         . </li>
</ul><br>
<p><img src="https://habrastorage.org/webt/qd/-v/sk/qd-vskcocq-r2tv0duopeyxtvke.png"></p><br>
<p>  ,       backup.       backup.  ,   backup â€”      ,    .  8 ,   8 . 1   1 , .   ,      backup?     .  ,       .        ,       %  .       backup.</p><br>
<p> backup    ?          ,   backup.            . ,      .        backup  ,    . </p><br>
<p>  ,        backup.  backup   . </p><br>
<p>    .   backup   ,   backup      backup  ,     backup  diff   .  backup     backup,     ,       backup.       .    backup -&gt; 1-  backup (   ) -&gt;    backup.  backup     backup  .       backup.<br>
Pg_probackup  BART      backup  .        ,   .      wal        ,  .  backup     .  ,      backup,                 ,    wal.     ,       wal .  PostgreSQL Professional        .       .   backup   .      %   - ,   wal      ,         1 wal.</p><br>
<p><img src="https://habrastorage.org/webt/s3/d9/ca/s3d9ca1otjtkwql3_qakv67am7c.png"></p><br>
<p>  .   , ,      .    .      backup,       pg_dump.     . Pg_dump      , ,   .                ,  .      .    ,      ,      ,           ,         instance PostgreSQL.<br>
     ,            .       instance.    ,       ,                . Pg_dump     ,     . </p><br>
<p>          pgbackrest.     ,     ,     backup     .   ?        backup,  template  postgres    ,   .    ,       .    PostgreSQL       ,     ,      .         ,   10   ,     ,    ,   5  .   ,   ,   -  ,             ,  ,     ,  .    backup      .  ,     .</p><br>
<p><img src="https://habrastorage.org/webt/bq/pf/aj/bqpfaj0wvrtn1atsq0yj1j4x7de.png"></p><br>
<p>      ?     . Pg_dump     ,      ,     .    plain text     SQL,      ,  .        ,  MySQL,  MSSQL,  Oracle     .    PostgreSQL      .<br>
-,    ?  ,              PostgreSQL 9.6, 10, 11. ,    pg_dump  pg_basebackup,       ,   .     .      pg_basebackup, pg_dump  .     PostgreSQL      backup.<br>
  , standby    ,  pg_dump,     backup-.     ,  ,        ,    .</p><br>
<p><img src="https://habrastorage.org/webt/rk/mr/jp/rkmrjpvyme8ifuybv7jvpkqd0r4.png"></p><br>
<p>   backup- ,      .       :  ssh (rsync, scp)    -  ,  .    ,      . Pgbackrest   , barman    ,      PostgreSQL.<br>
 PostgreSQL â€”      PostgreSQL            ,      .      barman.<br>
      ,     PostgreSQL.  PostgreSQL 10  11      backup-.      ,          .    ,    ,     ,    -   .   backup-        -.        ,        .<br>
  â€”   ,      , -  ssh , -      .  pg_basebackup  BART,   BART    pg_basebackup     ,  ,     .</p><br>
<p><img src="https://habrastorage.org/webt/72/4x/j0/724xj0dcehoennfciyo2uzucisq.png"></p><br>
<p> .   8   .         ,    wal-e   Python, wal-g   Golang.  8    . Wal-e    Python     AWS   600 /.     wal-g,     ,        wal-e,    wal .        â€”    .   wal,     S3       . Wal-e    Python    Python   . A wal-g    S3,     S3    ,     .     2 /,   .    wal-e       45   .  wal-g ,        -   5.</p><br>
<p><img src="https://habrastorage.org/webt/rj/nk/fa/rjnkfaa9ld-am4dazwrasjqwfbk.png"></p><br>
<p> ,         . </p><br>
<ul>
<li>     .      ,    ,    .     ,     . ,    wal  -. , ,   ,      .</li>
<li>    â€“    ,         - ,     ,      .      ,     .        .      .  ,          .    pg_basebackup, barman  BART, wal-e, wal-g.</li>
<li>  .          .         ,    .     , .     .</li>
</ul><br>
<p><img src="https://habrastorage.org/webt/lv/pe/vd/lvpevdlrpqrg-9hypasdcs9-dse.png"></p><br>
<p>,          .</p><br>
<ul>
<li>  CLI â€”    ,               ,     ,        ,      .    ,       CLI,     ,     ,     .       ,       ,      .</li>
<li>        barman, pgbackrest  BART,        .   ,        20-30  ,    ,    ,          ,           backup-           . ,  ,     .</li>
<li>   â€“          ,     ,       backup-,   ,    backup-.           ,     -   .         .       .</li>
<li>  â€“                 backup-,   ,  -   .     ,    ,     .  ,   , ,      ,       wal ,   ,        .   wal-e, wal-g,      ,    backup      - .  7 backup    .</li>
</ul><br>
<p><img src="https://habrastorage.org/webt/zj/r0/es/zjr0esauswimuw1itkqosshmyla.png"></p><br>
<p>  backup.  ,       backup,    backup  ,    ,        .  ,       .     ,   .   .    stage   .   ,       ,    backup .   CLI  ,           backup    .</p><br>
<p>    ,      ,  .         ,    backup .   ,     .  ,    .  ,    .   .   checksum  PostgreSQL.      ,      checksum  PostgreSQL.       checksum,   .</p><br>
<p> pgbackrest  pg_probackup    backup  ,     checksum.          checksum.</p><br>
<p> ,    backup,      checksum , ,   checksum   .     .</p><br>
<p><img src="https://habrastorage.org/webt/mj/_e/di/mj_edibaxks4v2_4-t5kanbxghe.png"></p><br>
<p> :</p><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">https://www.postgresql.org/docs/10/static/app-pgdump.html</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">https://www.postgresql.org/docs/10/static/app-pgbasebackup.html</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">https://www.2ndquadrant.com/en/resources/barman/</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">https://github.com/wal-e/wal-e</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">https://github.com/wal-g/wal-g</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">https://pgbackrest.org/</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">https://www.enterprisedb.com/products/edb-postgres-platform/edb-backup-and-recovery-tool</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">https://postgrespro.ru/products/extensions/pg_probackup</a></li>
</ul><br>
<p>     .   ,     .       ,     .</p><br>
<p><img src="https://habrastorage.org/webt/tt/qn/i7/ttqni7mc49sw-n6bww9bpi1gese.png"></p><br>
<p>:  ,  backup      ,     ,   ,   .       ,      ,       backup.    ,  ,  -    , ,   ,  ,    ,     ,   .    -    ?</p><br>
<p>:       ,        ,       .     .   .  -   , , backup   ,   ,       ,      .          ,         .    ,  , , ,  ,   ,     /     .  ,       ,       .      ,     .   ,      .       ,        .</p><br>
<p>:    , ,    ?       . </p><br>
<p>:        .         4 .       .     .      backup.       .    ,     . </p><br>
<p>:         ?</p><br>
<p>:    .       .   wal-e, wal-g, pgbackrest.    borman, pg_dump,   basebackup.    ,      ,       .   .</p><br>
<p>:  ,    -     PostgreSQL,   , , postgis  - -?</p><br>
<p>:    ,      backup   ,      .  checksum  ,  PostgreSQL   checksum,   ,       .   postgis,     -      . Pg_dump      ,    ,   , SQL .        SQL .     . , ,         .    dump,       .</p><br>
<p>:  ,     .   ,          -  ? </p><br>
<p>:     .    dump  ,         .    ,    â€“    ,  ,  - ,  ,     .      ,    . ,   -  ,      .</p><br>
<p>:   ,     ,   ,  bloat   ?</p><br>
<p>: .</p><br>
<p>:    â€”  ,     -    . , Symantec, Veritas Backup Exec  .      PostgreSQL?</p><br>
<p>: ,      ,      . PostgreSQL     ,    pg_start_backup.  ,  .     .</p><br>
<p>:  ,  -  Symantec, Veritas Backup Exec      .</p><br>
<p>:   .</p><br>
<p>: , ,      .   checksum    - ,   , - ?</p><br>
<p>:    â€”            .        stage ,    .    stage    .       .             .    ,      -,        .     .      .</p><br>
<p>:   ,      WAL ,   S3.        wal-e, wal-g    - awscli  .      ?</p><br>
<p> (  ):   wal-g.     wal-g.      40     wal-g .      .  ,   .   , prefetch,   wal  ,    . ,      â€”  ,       wal.    wal   ,   page cache   ,  ,      wal,       ,        .     ,   .</p><br>
<p> :     .   ,     PostgreSQL â€”   -&gt; /dev/null,  ,      .        ,          .       smoke .   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">amcheck</a>,      .        ,        ,     ,       .</p><br>
<p>:       10  .       .            .    .       wal  â€”      .      ?</p><br>
<p>:        .      .      .         ,        .</p><br>
<p>:          ,       pg_dump,        . ?</p><br>
<p>: -     . ,   .</p><br>
<p>:   ,      ,    - ?</p><br>
<p>: pg_dump   ,    .</p><br>
<p>:     pg_dump,    ,   ,   ,         ,    .</p><br>
<p>:         ,       -,    . </p><br>
<p>:   ,   . </p><br>
<p>:        ,       -  .</p><br>
<p>:    .     .      .      . ,     ,    .   . Pg_dump  ,  - ,  exit_code  .   ,       , .   ,      .</p><br>
<p>P.S. â„–1        pg_dump, pg_basebackup.</p><br>
<div class="scrollable-table"><table>
<thead>
<tr>
<th></th>
<th>barman</th>
<th>wal-e</th>
<th>wal-g</th>
<th>pg_probackup</th>
<th>pgbackrest</th>
<th>BART</th>
</tr>
</thead>
<tbody>
<tr>
<td>ssh (rsync, scp)</td>
<td>+</td>
<td></td>
<td></td>
<td></td>
<td>+</td>
<td></td>
</tr>
<tr>
<td>   </td>
<td>+</td>
<td>+</td>
<td>+</td>
<td>+</td>
<td>+</td>
<td>+</td>
</tr>
<tr>
<td>S3</td>
<td></td>
<td>+</td>
<td>+</td>
<td></td>
<td>+</td>
<td></td>
</tr>
<tr>
<td>Azure</td>
<td></td>
<td>+</td>
<td>+</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Google Cloud</td>
<td></td>
<td>+</td>
<td>+</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>  </td>
<td>+</td>
<td>+</td>
<td>+</td>
<td>+</td>
<td>+</td>
<td></td>
</tr>
<tr>
<td> </td>
<td></td>
<td></td>
<td>+</td>
<td></td>
<td>+</td>
<td></td>
</tr>
<tr>
<td> </td>
<td></td>
<td></td>
<td>+</td>
<td></td>
<td>+</td>
<td></td>
</tr>
<tr>
<td></td>
<td>barman</td>
<td>wal-e</td>
<td>wal-g</td>
<td>pg_probackup</td>
<td>pgbackrest</td>
<td>BART</td>
</tr>
<tr>
<td>  </td>
<td></td>
<td></td>
<td>+</td>
<td>+</td>
<td></td>
<td></td>
</tr>
<tr>
<td>  (delta restore)</td>
<td></td>
<td></td>
<td>+</td>
<td></td>
<td>+</td>
<td></td>
</tr>
<tr>
<td>  </td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>+</td>
<td></td>
</tr>
<tr>
<td>-</td>
<td>+</td>
<td>+</td>
<td>+</td>
<td>+</td>
<td>+</td>
<td>+</td>
</tr>
<tr>
<td> </td>
<td>+</td>
<td>+</td>
<td>+</td>
<td>+</td>
<td>+</td>
<td></td>
</tr>
<tr>
<td>    (Point-in-Time Recovery)</td>
<td>+</td>
<td>+</td>
<td>+</td>
<td>+</td>
<td>+</td>
<td>+</td>
</tr>
<tr>
<td>   </td>
<td>+</td>
<td></td>
<td>+</td>
<td></td>
<td></td>
<td>+</td>
</tr>
<tr>
<td>  </td>
<td>+</td>
<td>+</td>
<td>+</td>
<td>+</td>
<td>+</td>
<td></td>
</tr>
<tr>
<td>CLI</td>
<td>+</td>
<td>+</td>
<td>+</td>
<td>+</td>
<td>+</td>
<td>+</td>
</tr>
<tr>
<td> </td>
<td>+</td>
<td></td>
<td></td>
<td></td>
<td>+</td>
<td>+</td>
</tr>
<tr>
<td></td>
<td>barman</td>
<td>wal-e</td>
<td>wal-g</td>
<td>pg_probackup</td>
<td>pgbackrest</td>
<td>BART</td>
</tr>
<tr>
<td>  </td>
<td>+</td>
<td>+</td>
<td>+</td>
<td>+</td>
<td>+</td>
<td>+</td>
</tr>
<tr>
<td> </td>
<td>+</td>
<td>cron</td>
<td>cron</td>
<td>+</td>
<td>+</td>
<td>+</td>
</tr>
<tr>
<td>CLI  </td>
<td>+</td>
<td>+</td>
<td>+</td>
<td>+</td>
<td>+</td>
<td>+</td>
</tr>
<tr>
<td>  </td>
<td>+</td>
<td>+</td>
<td>+</td>
<td>+</td>
<td>+</td>
<td>+</td>
</tr>
<tr>
<td>Checksum postgresql</td>
<td></td>
<td></td>
<td></td>
<td>+</td>
<td>+</td>
<td></td>
</tr>
</tbody>
</table></div><br>
<p>P.S. â„–2 ,   ,        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">Pull request</a> </p><br>
<p>P.S. â„–3 Wal-g  ,     .</p><br>
<p>P.S. â„–4   wal-g  rpm     : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">Github</a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">Fedora COPR</a>.</p><br>
<p>P.S. â„–5        S3     ,       ?   ,      .</p><br>
<p><img src="https://habrastorage.org/webt/r8/hh/ks/r8hhkssl2kpkvvqvat1xgwe8eie.png"></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">èª¿æŸ»ï¼šã©ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS No. 6ãƒ†ãƒ¬ã‚°ãƒ©ãƒ ãƒãƒ£ãƒãƒ«PostgreSQLï¼š</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">https</font></a><font style="vertical-align: inherit;"> : </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//t.me/pgsql</font></font></a></p></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja485612/index.html">å®‡å®™äº‹æ•…ã¯é–‹ç™ºè€…ã¨ã—ã¦ç§ã«ä½•ã‚’æ•™ãˆã¾ã—ãŸã‹</a></li>
<li><a href="../ja485614/index.html">èµ¤ã„ä¼æ¥­æ–‡åŒ–ã¯ãƒ­ã‚·ã‚¢ã®ãƒ“ã‚¸ãƒã‚¹ã®ä¸»è¦ãªå•é¡Œã§ã™ï¼ˆãƒ‘ãƒ¼ãƒˆ3ï¼‰</a></li>
<li><a href="../ja485616/index.html">ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆAngularã®å¤–éƒ¨ã«é™çš„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ ã™ã‚‹</a></li>
<li><a href="../ja485618/index.html">æœ€å°ã®ã‚ªãƒ¼ãƒˆãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã€‚ãƒãƒ¼ãƒˆã€‚RESTful API</a></li>
<li><a href="../ja485620/index.html">ãƒ¨ã‚·ãƒ¥ã‚«ãƒ«ãƒ»ã‚ªãƒ©ã€ä¸€èˆ¬çš„ã«ã€ITã®éƒ½å¸‚ã§ã™ã‹ï¼Ÿ</a></li>
<li><a href="../ja485624/index.html">Minecraftã‚µãƒ¼ãƒãƒ¼ï¼šWindowsã¨Linux</a></li>
<li><a href="../ja485630/index.html">ã‚¢ãƒ•ãƒªã‚«ã®å®‡å®™é£›è¡Œå£«ï¼šã‚´ãƒŸã‹ã‚‰ç¾å®Ÿã¸</a></li>
<li><a href="../ja485632/index.html">Power BIã§ã®ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã®ç›£è¦–</a></li>
<li><a href="../ja485634/index.html">Dungeons and Dragonsãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã¯è‹±èªã‚’å­¦ã¶ã®ã«å½¹ç«‹ã¡ã¾ã—ãŸ</a></li>
<li><a href="../ja485636/index.html">CRISPRè€æ€§ã‚¦ã‚¤ãƒ«ã‚¹ã¯ã€DNAä¾µå…¥é…µç´ ã‹ã‚‰ã‚²ãƒãƒ ã‚’ä¿è­·ã™ã‚‹ãŸã‚ã®ã‚·ã‚§ãƒ«ã‚¿ãƒ¼ã‚’æ§‹ç¯‰ã—ã¾ã™</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>