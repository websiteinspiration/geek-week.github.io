<!doctype html>
<html class="no-js" lang="ar">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ ๐๐ป ๐ฉ ุนุฑุถ ุงูุฑุณุงุฆู ุฏุงุฎู ุงููุนุจุฉ ุจุงุณุชุฎุฏุงู ูุธุงู ุงูุฌุณููุงุช ๐ ๐บ๐พ ๐ด๐ฟ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูููุฉ
 ุนูุฏ ุชุทููุฑ ูุนุจุชูุง The Unliving ุ ูุถุนูุง ูุฃููุณูุง ูููุฉ ุนุฑุถ ุฑุณุงุฆู ูุฎุชููุฉ ุ ูุซู ุงูุถุฑุฑ ุงูุฐู ุญุฏุซ ุ ูููุต ุงูุตุญุฉ ุฃู ุงูุทุงูุฉ ุ ููููุฉ ุงูููุงูุฃุฉ ุ ูุนุฏุฏ ุงูููุงุท ุง...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ุนุฑุถ ุงูุฑุณุงุฆู ุฏุงุฎู ุงููุนุจุฉ ุจุงุณุชุฎุฏุงู ูุธุงู ุงูุฌุณููุงุช</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/486260/"><img src="https://habrastorage.org/getpro/habr/post_images/74b/904/6a5/74b9046a520d2199cfc062791bdc1cc5.jpg" alt="ุตูุฑุฉ"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููุฉ</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุนูุฏ ุชุทููุฑ ูุนุจุชูุง The Unliving ุ ูุถุนูุง ูุฃููุณูุง ูููุฉ ุนุฑุถ ุฑุณุงุฆู ูุฎุชููุฉ ุ ูุซู ุงูุถุฑุฑ ุงูุฐู ุญุฏุซ ุ ูููุต ุงูุตุญุฉ ุฃู ุงูุทุงูุฉ ุ ููููุฉ ุงูููุงูุฃุฉ ุ ูุนุฏุฏ ุงูููุงุท ุงูุตุญูุฉ ุงููุณุชุนุงุฏุฉ ุ ููุง ุฅูู ุฐูู ุ ุจุงุณุชุฎุฏุงู ูุธุงู ุงูุฌุณููุงุช. </font><font style="vertical-align: inherit;">ุชูุฑุฑ ุงูููุงู ุจุฐูู ูู ุฃุฌู ุงูุญุตูู ุนูู ูุฒูุฏ ูู ุงููุฑุต ูุชุฎุตูุต ุชุฃุซูุฑุงุช ุงููุธูุฑ ูุงููุฒูุฏ ูู ุงูุณููู ููุซู ูุฐู ุงูุฑุณุงุฆู ุ ุงูุฃูุฑ ุงูุฐู ููุซู ูุดููุฉ ุนูุฏ ุงุณุชุฎุฏุงู ุงูุนูุงุตุฑ ุงูููุงุณูุฉ ููุธุงู ูุงุฌูุฉ ุงููุณุชุฎุฏู Unity. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุนูู ูุฐุง ุงูููุฌ ุงุณุชุฎุฏุงู ูุซูู ูุธุงู ุฌุณููุงุช ูุงุญุฏ ููุท ููู ููุน ูู ุฃููุงุน ุงูุฑุณุงุฆู ุ ููุง ูุนุทู ุฒูุงุฏุฉ ูุจูุฑุฉ ูู ุงูุฅูุชุงุฌูุฉ ููุงุฑูุฉ ุจุฅุฎุฑุงุฌ ููุณ ุงูุฑุณุงุฆู ุจุงุณุชุฎุฏุงู Unity UI.</font></font><br>
<a name="habracut"></a><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชูุฑูุฑ ุงูุถุฑุฑ</font></font></b><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/597/961/b10/597961b10d0ca2e3e8fcd56c2cefb824.gif" alt="ุตูุฑุฉ"></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฑุณุงูุฉ ูุตูุฉ ููุต</font></font></b><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/79a/b45/e90/79ab45e904a5c648f9c62fb66a7c5049.gif" alt="ุตูุฑุฉ"></div><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฎูุงุฑุฒููุฉ ุงููุฑุงุฑ</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุจุงุณุชุฎุฏุงู ุงูุชุธููู ุ ูุนุฑุถ ุงููุณูุฌ ุงููุญุถุฑ ูุณุจููุง ุจุงุณุชุฎุฏุงู ุฅุญุฏุงุซูุงุช ุงูุฃุดุนุฉ ููู ุงูุจููุณุฌูุฉ ุงูุตุญูุญุฉ. </font><font style="vertical-align: inherit;">ูุชู ุฅุฑุณุงู ุงููุนูููุงุช ุฐุงุช ุฅุญุฏุงุซูุงุช ุงูุฃุดุนุฉ ููู ุงูุจููุณุฌูุฉ ูู ุฎูุงู ุฏูููู (ุชุฏููุงุช ููุฉ) ุฅูู ParticleSystem ุจุงุณุชุฎุฏุงู ParticleSystem.SetCustomParticleData ูู ุดูู ูุงุฆูุฉ Vector4. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุชุถูู ุชุทุจูููุง ุงุณุชุฎุฏุงู ููุงุฏ ุชุญุชูู ุนูู 10 ุตููู ู 10 ุฃุนูุฏุฉ ูู ุงูุฃุญุฑู. </font><font style="vertical-align: inherit;">ูููู ุงุณุชุฎุฏุงู ุฃู ุฎุท ุฃุญุงุฏู ุงููุณุงูุฉ ูุฎุท. </font><font style="vertical-align: inherit;">ูุฐูู ูุชุฌูุจ ุงูุชุจุงุนุฏ ุจูู ุญุฑูู ุงูุฑุณุงุฆู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
โ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุตุฏุฑ ุงููููุณ ูู PSD</font></font></a><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุชูููุฐ ุฎุทูุฉ ุจุฎุทูุฉ</font></font></h4><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅูุดุงุก Vector4 ููููู ุฅูู Vertex Stream</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ููุตู ูุฌููุนุฉ ุงูุฃุญุฑู ุ ุณูุณุชุฎุฏู ุจููุฉ SymbolsTextureData. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฌุจ ุชุนุจุฆุฉ ูุฌููุนุฉ ุงูุฃุญุฑู ูุฏูููุง ุ ุจุงูุชุฑุชูุจ ุนู ุทุฑูู ุฅุถุงูุฉ ุฌููุน ุฑููุฒ ูุณูุฌ ุงูุฎุท ุฅูููุง ุจุฏุกูุง ูู ุงูุฒุงููุฉ ุงููุณุฑู ุงูุนููุง.</font></font><br>
<br>
<pre><code class="cs hljs">[<span class="hljs-meta">Serializable</span>]
<span class="hljs-keyword">public</span> <span class="hljs-keyword">struct</span> SymbolsTextureData<font></font>
{<font></font>
    <span class="hljs-comment">//   </span>
    <span class="hljs-keyword">public</span> Texture texture;
    <span class="hljs-comment">//    ,   - </span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">char</span>[] chars;<font></font>
    <font></font>
    <span class="hljs-comment">//Dictionary     -    </span>
    <span class="hljs-keyword">private</span> Dictionary&lt;<span class="hljs-keyword">char</span>, Vector2&gt; charsDict;<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Initialize</span>(<span class="hljs-params"></span>)</span><font></font>
    {<font></font>
        charsDict = <span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-keyword">char</span>, Vector2&gt;();
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; chars.Length; i++)<font></font>
        {<font></font>
            <span class="hljs-keyword">var</span> c = <span class="hljs-keyword">char</span>.ToLowerInvariant(chars[i]);
            <span class="hljs-keyword">if</span> (charsDict.ContainsKey(c)) <span class="hljs-keyword">continue</span>;
            <span class="hljs-comment">//  ,    </span>
            <span class="hljs-comment">//    , ,     10.</span>
            <span class="hljs-keyword">var</span> uv = <span class="hljs-keyword">new</span> Vector2(i % <span class="hljs-number">10</span>, <span class="hljs-number">9</span> - i / <span class="hljs-number">10</span>);<font></font>
            charsDict.Add(c, uv);<font></font>
        }<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> Vector2 <span class="hljs-title">GetTextureCoordinates</span>(<span class="hljs-params"><span class="hljs-keyword">char</span> c</span>)</span><font></font>
    {<font></font>
        c = <span class="hljs-keyword">char</span>.ToLowerInvariant(c);
        <span class="hljs-keyword">if</span> (charsDict == <span class="hljs-literal">null</span>) Initialize();<font></font>
<font></font>
        <span class="hljs-keyword">if</span> (charsDict.TryGetValue(c, <span class="hljs-keyword">out</span> Vector2 texCoord))
            <span class="hljs-keyword">return</span> texCoord;
        <span class="hljs-keyword">return</span> Vector2.zero;<font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุชูุฌุฉ ูุฐูู ุ ูุญุตู ุนูู ูุฆุฉ TextRendererParticleSystem. </font><font style="vertical-align: inherit;">ุนูุฏูุง ุชุณุชุฏุนู ุทุฑููุฉ SpawnParticle ุงูุนุงูุฉ ุ ุณูู ููุฑุฎ ุฌุณูู ูุงุญุฏ ูู ูุธุงู ุงูุฌุณููุงุช ุฅูู ุงูููุถุน ุงููุทููุจ ุ ูุน ุงููููุฉ ูุงูููู ูุงูุญุฌู ุงููุทููุจ.</font></font><br>
<br>
<pre><code class="cs hljs">[<span class="hljs-meta">RequireComponent(typeof(ParticleSystem))</span>]
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">TextRendererParticleSystem</span> : <span class="hljs-title">MonoBehaviour</span><font></font>
{<font></font>
    <span class="hljs-keyword">private</span> ParticleSystemRenderer particleSystemRenderer;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">new</span> ParticleSystem particleSystem;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SpawnParticle</span>(<span class="hljs-params">Vector3 position, <span class="hljs-keyword">string</span> message, Color color, <span class="hljs-keyword">float</span>? startSize = <span class="hljs-literal">null</span></span>)</span><font></font>
    {<font></font>
        <span class="hljs-comment">//  </span><font></font>
     }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุณูุญ ูู ูุธุงู ุงูุฌุณููุงุช ูู ุงููุญุฏุฉ ุจููู ุงูุจูุงูุงุช ุงููุฎุตุตุฉ ูู ุดูู ุฏูููู Vector4.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/gw/bm/dc/gwbmdcxpmyhh2ogwebrz4i9qjjm.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุฏ ุฃุถููุง ุนู ูุตุฏ ุชูุงุฑูุง ุฅุถุงูููุง ุจุงุณุชุฎุฏุงู UV2 ูุชุฌูุจ ุญุฏูุซ ุชุญูู ูู ุฅุญุฏุงุซูุงุช ุงูุฌุฏุงูู. ุฅุฐุง ูู ูุชู ุฐูู ุ ูุณูู ุชุชุทุงุจู ุงูุฅุญุฏุงุซูุงุช X ู Y ููุชุฌู Custom1 ูู C # ูุน ุชุธููู Z ู W TEXCOORD0. ูุจุงูุชุงูู ุ Custom1.z = TEXCOORD1.x ุ Custom1.w = TEXCOORD1.y. ุงูุฃูุฑ ุงูุฐู ุณูุณุจุจ ุงููุซูุฑ ูู ุงูุฅุฒุนุงุฌ ูู ุงููุณุชูุจู.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/c5/re/vu/c5revuuurt5nlhhrtpj8qr4wqsu.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุง ูู ููุถุญ ุณุงุจููุง ุ ุณูุณุชุฎุฏู ุฌูุงุฒู Vector4s ูููู ุทูู ุงูุฑุณุงูุฉ ูุฅุญุฏุงุซูุงุช ุงูุฃุดุนุฉ ููู ุงูุจููุณุฌูุฉ ูู ุงูุฃุญุฑู. ูุธุฑูุง ูุฃู Vector4 ูุญุชูู ุนูู 4 ุนูุงุตุฑ ูู ุงูููุน ุงูุนุงุฆู ุ ูููููุง ุงูุชุฑุงุถููุง ุชุฌููุน 4 * 4 = 16 ุจุงูุช ูู ุงูุจูุงูุงุช ููู. ูุงู ูุธุฑูุง ูุฃู ุฑุณุงูุชูุง ุณุชุญุชูู ููุท ุนูู ุทูู ุงูุฑุณุงูุฉ (ุฑูู ูููู ูู ุฑูููู) ูุฅุญุฏุงุซูุงุช ุงูุฃุญุฑู (ุฑูู ูููู ูู ุฑูููู ููู ุญุฑู) ุ ูุฅู ูุทุงู ุงูููุน ุจุงูุช (0-255) ุบูุฑ ุถุฑูุฑู ุจุงููุณุจุฉ ููุง. ุฃุซูุงุก ุงุณุชุฎุฏุงู ุงูููุงุฒู ุงูุนุดุฑูุฉ ุณูููู ุนูู ูุง ูุฑุงู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฏูุฉ ุงูุชุนููู ูู 6-9 ุฃุญุฑู ุ ููุง ูุนูู ุฃูู ูููููุง ุงุณุชุฎุฏุงู 6 ุจุช ุจุฃูุงู ูู ูู ุฅุญุฏุงุซูุงุช Vector4 ููุง ุชููู ุจุดุฃู ุณูุงูุฉ ูุฏูุฉ ุงูุจูุงูุงุช. ูู ุงููุงูุน ุ ุญุงูููุง ุฃู ูุญุฒู 7 ู 8 ู 9 ุฃุญุฑู ุ ููู ุฏูุฉ ุงูุชุนููู ููุณุช ูุงููุฉ.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุงุชุถุญ ุฃูู ูู ูู ุนูุงูุฉ ุ ุจุงุณุชุฎุฏุงู ุงูููุงุฒู ุงูุนุดุฑูุฉ ุ ุณูููู ุจุชุนุจุฆุฉ ูุง ูุตู ุฅูู 6 ุฃุฑูุงู ุ ุนูู ุนูุณ ุงูุฅุตุฏุงุฑ ุงูููุงุณู ุจุฃุฑุจุนุฉ ุจุงูุช. </font><font style="vertical-align: inherit;">ุงูุฅุฌูุงูู ุ ุณูุญุชูู Vector4 ูุงุญุฏ ุนูู 24 ุฑูููุง ุฃุญุงุฏููุง. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูููููุง ููู ูุชุฌููู ูู ุงูุฏูู ุ ูุฐูู ุณูุณุชุฎุฏู ููุงููุง ูุฅุฑุณุงู ุฑุณุงุฆู ูุตู ุทูููุง ุฅูู 23 ุญุฑููุง: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Custom1.xyzw - ุฃูู 12 ุญุฑููุง ูู ุงูุฑุณุงูุฉ. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Custom2.xyzw - 11 ุญุฑููุง ุขุฎุฑ ููุฑุณุงูุฉ + ุทูู ุงูุฑุณุงูุฉ (ุขุฎุฑ ุญุฑููู). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุนูู ุณุจูู ุงููุซุงู ุ ุณุชุจุฏู ุงูุฑุณุงูุฉ "Hello" ุนูู ูุฐุง ุงููุญู.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/g3/nm/tj/g3nmtjvqme40jjcrw-ear7hwnoo.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุชุชูุงูู ุฅุญุฏุงุซูุงุช ุงูุญุฑู ูุน ุฑูู ุงูุนููุฏ ูุฎุท ููุถุน ุงูุญุฑู ูู ุงููุณูุฌ.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/47/9h/d6/479hd6qetusenhgjdafodmsgk7u.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ุงูููุฏ ุ ูุฅู ุงูุชูุงู ุณูุณูุฉ ูู Vector4 ุณูุจุฏู ููุง ููู:</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-comment">//   Vector2     float</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">float</span> <span class="hljs-title">PackFloat</span>(<span class="hljs-params">Vector2[] vecs</span>)</span><font></font>
{<font></font>
    <span class="hljs-keyword">if</span> (vecs == <span class="hljs-literal">null</span> || vecs.Length == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;            
    <span class="hljs-comment">//      float</span>
    <span class="hljs-keyword">var</span> result = vecs[<span class="hljs-number">0</span>].y * <span class="hljs-number">10000</span> + vecs[<span class="hljs-number">0</span>].x * <span class="hljs-number">100000</span>;
    <span class="hljs-keyword">if</span> (vecs.Length &gt; <span class="hljs-number">1</span>) result += vecs[<span class="hljs-number">1</span>].y * <span class="hljs-number">100</span> + vecs[<span class="hljs-number">1</span>].x * <span class="hljs-number">1000</span>;
    <span class="hljs-keyword">if</span> (vecs.Length &gt; <span class="hljs-number">2</span>) result += vecs[<span class="hljs-number">2</span>].y + vecs[<span class="hljs-number">2</span>].x * <span class="hljs-number">10</span>;            
        <span class="hljs-keyword">return</span> result;<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">//  Vector4    CustomData</span>
<span class="hljs-function"><span class="hljs-keyword">private</span> Vector4 <span class="hljs-title">CreateCustomData</span>(<span class="hljs-params">Vector2[] texCoords, <span class="hljs-keyword">int</span> offset = <span class="hljs-number">0</span></span>)</span><font></font>
{<font></font>
    <span class="hljs-keyword">var</span> data = Vector4.zero;            
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; i++)<font></font>
    {<font></font>
        <span class="hljs-keyword">var</span> vecs = <span class="hljs-keyword">new</span> Vector2[<span class="hljs-number">3</span>];                
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">3</span>; j++)<font></font>
        {<font></font>
            <span class="hljs-keyword">var</span> ind = i * <span class="hljs-number">3</span> + j + offset;
            <span class="hljs-keyword">if</span> (texCoords.Length &gt; ind)<font></font>
            {<font></font>
                vecs[j] = texCoords[ind];<font></font>
            }<font></font>
            <span class="hljs-keyword">else</span><font></font>
            {<font></font>
                data[i] = PackFloat(vecs);<font></font>
                i = <span class="hljs-number">5</span>; 
                <span class="hljs-keyword">break</span>;<font></font>
            }<font></font>
        }<font></font>
        <span class="hljs-keyword">if</span> (i &lt; <span class="hljs-number">4</span>) data[i] = PackFloat(vecs);<font></font>
    }<font></font>
    <span class="hljs-keyword">return</span> data;<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">//    </span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SpawnParticle</span>(<span class="hljs-params">Vector3 position, <span class="hljs-keyword">string</span> message, Color color, <span class="hljs-keyword">float</span>? startSize = <span class="hljs-literal">null</span></span>)</span><font></font>
{<font></font>
    <span class="hljs-keyword">var</span> texCords = <span class="hljs-keyword">new</span> Vector2[<span class="hljs-number">24</span>]; <span class="hljs-comment">//  24  - 23  +  </span>
    <span class="hljs-keyword">var</span> messageLenght = Mathf.Min(<span class="hljs-number">23</span>, message.Length);<font></font>
    texCords[texCords.Length - <span class="hljs-number">1</span>] = <span class="hljs-keyword">new</span> Vector2(<span class="hljs-number">0</span>, messageLenght);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; texCords.Length; i++)<font></font>
    {<font></font>
        <span class="hljs-keyword">if</span> (i &gt;= messageLenght) <span class="hljs-keyword">break</span>;
        <span class="hljs-comment">//  GetTextureCoordinates()  SymbolsTextureData    </span><font></font>
        texCords[i] = textureData.GetTextureCoordinates(message[i]);<font></font>
    }<font></font>
		<font></font>
    <span class="hljs-keyword">var</span> custom1Data = CreateCustomData(texCords);
    <span class="hljs-keyword">var</span> custom2Data = CreateCustomData(texCords, <span class="hljs-number">12</span>);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุงููุชุฌู ูุน CustomData ุฌุงูุฒ. </font><font style="vertical-align: inherit;">ุญุงู ุงูููุช ูุชูุฑุฎ ุฌุณูู ุฌุฏูุฏ ูุฏูููุง ุจุงููุนููุงุช ุงููุทููุจุฉ. </font><font style="vertical-align: inherit;">
ุชูุฑุฎ </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุฌุณููุงุช</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฃูู ุดูุก ูุชุนูู ุนูููุง ุงูููุงู ุจู ูู ุงูุชุฃูุฏ ูู ุชูุดูุท ุชุฏููุงุช CustomData ูู ุฅุนุฏุงุฏุงุช Renderer ููุธุงู ุงูุฌุณููุงุช:</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-comment">//   ParticleSystem</span>
<span class="hljs-keyword">if</span> (particleSystem == <span class="hljs-literal">null</span>) particleSystem = GetComponent&lt;ParticleSystem&gt;();<font></font>
<font></font>
<span class="hljs-keyword">if</span> (particleSystemRenderer == <span class="hljs-literal">null</span>)<font></font>
{<font></font>
    <span class="hljs-comment">//   ParticleSystemRenderer,       </span><font></font>
    particleSystemRenderer = particleSystem.GetComponent&lt;ParticleSystemRenderer&gt;();<font></font>
    <span class="hljs-keyword">var</span> streams = <span class="hljs-keyword">new</span> List&lt;ParticleSystemVertexStream&gt;();<font></font>
    particleSystemRenderer.GetActiveVertexStreams(streams);<font></font>
    <span class="hljs-comment">//   Vector2(UV2, SizeXY, etc.),        </span>
    <span class="hljs-keyword">if</span> (!streams.Contains(ParticleSystemVertexStream.UV2)) streams.Add(ParticleSystemVertexStream.UV2);
    <span class="hljs-keyword">if</span> (!streams.Contains(ParticleSystemVertexStream.Custom1XYZW)) streams.Add(ParticleSystemVertexStream.Custom1XYZW);
    <span class="hljs-keyword">if</span> (!streams.Contains(ParticleSystemVertexStream.Custom2XYZW)) streams.Add(ParticleSystemVertexStream.Custom2XYZW);<font></font>
    particleSystemRenderer.SetActiveVertexStreams(streams);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฅูุดุงุก ุฌุณูู ุ ูุณุชุฎุฏู ุทุฑููุฉ Emit () ููุฆุฉ ParticleSystem.</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-comment">//  </span>
<span class="hljs-comment">//      </span>
<span class="hljs-comment">// startSize3D  X,       </span>
<span class="hljs-comment">//   </span>
<span class="hljs-keyword">var</span> emitParams = <span class="hljs-keyword">new</span> ParticleSystem.EmitParams<font></font>
{<font></font>
    startColor = color,<font></font>
    position = position,<font></font>
    applyShapeToPosition = <span class="hljs-literal">true</span>,<font></font>
    startSize3D = <span class="hljs-keyword">new</span> Vector3(messageLenght, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<font></font>
};<font></font>
<span class="hljs-comment">//      ,    SpawnParticle </span>
<span class="hljs-comment">//   startSize</span>
<span class="hljs-keyword">if</span> (startSize.HasValue) emitParams.startSize3D *= startSize.Value * particleSystem.main.startSizeMultiplier;
<span class="hljs-comment">//  </span>
particleSystem.Emit(emitParams, <span class="hljs-number">1</span>);<font></font>
<font></font>
<span class="hljs-comment">//     </span>
<span class="hljs-keyword">var</span> customData = <span class="hljs-keyword">new</span> List&lt;Vector4&gt;();
<span class="hljs-comment">//  ParticleSystemCustomData.Custom1  ParticleSystem</span><font></font>
particleSystem.GetCustomParticleData(customData, ParticleSystemCustomData.Custom1);<font></font>
<span class="hljs-comment">//   , ..  ,     </span>
customData[customData.Count - <span class="hljs-number">1</span>] = custom1Data;
<span class="hljs-comment">//   ParticleSystem</span><font></font>
particleSystem.SetCustomParticleData(customData, ParticleSystemCustomData.Custom1);<font></font>
<font></font>
<span class="hljs-comment">//  ParticleSystemCustomData.Custom2</span><font></font>
particleSystem.GetCustomParticleData(customData, ParticleSystemCustomData.Custom2);            <font></font>
customData[customData.Count - <span class="hljs-number">1</span>] = custom2Data;<font></font>
particleSystem.SetCustomParticleData(customData, ParticleSystemCustomData.Custom2);<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฃุถู ููุง ุงููุชู ุฅูู ุทุฑููุฉ SpawnParticle () ูุงูุฌุฒุก C # ุฌุงูุฒ: ูุชู ุชุนุจุฆุฉ ุงูุฑุณุงูุฉ ูุฅุฑุณุงููุง ุจูุงุณุทุฉ ูุญุฏุฉ ูุนุงูุฌุฉ ุงูุฑุณููุงุช ูู ุดูู ุงุซููู ูู Vector4 ูู โโุชูุงุฑ Vertex. </font><font style="vertical-align: inherit;">ุงูุดูุก ุงูุฃูุซุฑ ุฅุซุงุฑุฉ ููุงูุชูุงู ูู ูุจูู ูุฐู ุงูุจูุงูุงุช ูุนุฑุถูุง ุจุดูู ุตุญูุญ. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุฏ ุดุงุฏุฑ</font></font></b><br>
<br>
<pre><code class="plaintext hljs">Shader "Custom/TextParticles"<font></font>
{<font></font>
    Properties<font></font>
    {<font></font>
        _MainTex ("Texture", 2D) = "white" {}<font></font>
        //         10,    <font></font>
        _Cols ("Columns Count", Int) = 10<font></font>
        _Rows ("Rows Count", Int) = 10<font></font>
    }<font></font>
    SubShader<font></font>
    {            <font></font>
        Tags { "RenderType"="Opaque" "PreviewType"="Plane" "Queue" = "Transparent+1"}<font></font>
        LOD 100<font></font>
        ZWrite Off<font></font>
        Blend SrcAlpha OneMinusSrcAlpha<font></font>
<font></font>
        Pass<font></font>
        {<font></font>
            CGPROGRAM<font></font>
            #pragma vertex vert<font></font>
            #pragma fragment frag<font></font>
            <font></font>
            #include "UnityCG.cginc"<font></font>
            <font></font>
            struct appdata<font></font>
            {<font></font>
                float4 vertex : POSITION;<font></font>
                fixed4 color : COLOR;<font></font>
                float4 uv : TEXCOORD0;<font></font>
                //    customData<font></font>
                float4 customData1 : TEXCOORD1;<font></font>
                float4 customData2 : TEXCOORD2;<font></font>
            };           <font></font>
<font></font>
            struct v2f<font></font>
            {<font></font>
                float4 vertex : SV_POSITION;<font></font>
                fixed4 color : COLOR;<font></font>
                float4 uv : TEXCOORD0;<font></font>
                float4 customData1 : TEXCOORD1;<font></font>
                float4 customData2 : TEXCOORD2;<font></font>
            };<font></font>
            <font></font>
            uniform sampler2D _MainTex;<font></font>
            uniform uint _Cols;<font></font>
            uniform uint _Rows;<font></font>
            <font></font>
            v2f vert (appdata v)<font></font>
            {<font></font>
                v2f o;<font></font>
                //        w- ?<font></font>
                //       .<font></font>
                //      100.<font></font>
                float textLength = ceil(fmod(v.customData2.w, 100));<font></font>
<font></font>
                o.vertex = UnityObjectToClipPos(v.vertex);<font></font>
                //  UV ,   -   <font></font>
                o.uv.xy = v.uv.xy * fixed2(textLength / _Cols, 1.0 / _Rows);<font></font>
                o.uv.zw = v.uv.zw;<font></font>
                o.color = v.color;                <font></font>
                o.customData1 = floor(v.customData1);<font></font>
                o.customData2 = floor(v.customData2);<font></font>
                return o;<font></font>
            }<font></font>
            <font></font>
            fixed4 frag (v2f v) : SV_Target<font></font>
            {<font></font>
                fixed2 uv = v.uv.xy;<font></font>
                //   <font></font>
                uint ind = floor(uv.x * _Cols);<font></font>
<font></font>
                uint x = 0;<font></font>
                uint y = 0;<font></font>
<font></font>
                //  ,   <font></font>
                //0-3 - customData1<font></font>
                //4-7 - customData2<font></font>
                uint dataInd = ind / 3;<font></font>
                //   6     float<font></font>
                uint sum = dataInd &lt; 4 ? v.customData1[dataInd] : v.customData2[dataInd - 4];<font></font>
<font></font>
                //  float      <font></font>
                for(int i = 0; i &lt; 3; ++i)<font></font>
                {<font></font>
                    if (dataInd &gt; 3 &amp; i == 3) break;<font></font>
                    //  ,   10^2 = 99  ..<font></font>
                    uint val = ceil(pow(10, 5 - i * 2));<font></font>
                    x = sum / val;<font></font>
                    sum -= x * val;<font></font>
<font></font>
                    val = ceil(pow(10, 4 - i * 2));<font></font>
                    y = sum / val;<font></font>
                    sum -= floor(y * val);<font></font>
<font></font>
                    if (dataInd * 3 + i == ind) i = 3;<font></font>
                }                <font></font>
<font></font>
                float cols = 1.0 / _Cols;<font></font>
                float rows = 1.0 / _Rows;<font></font>
                // UV-,  - , , <font></font>
                //     <font></font>
                uv.x += x * cols - ind * rows;<font></font>
                uv.y += y * rows;<font></font>
                <font></font>
                return tex2D(_MainTex, uv.xy) * v.color;<font></font>
            }<font></font>
            ENDCG<font></font>
        }<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุญุฑุฑ ุงููุญุฏุฉ</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ุฅูุดุงุก ุงูููุงุฏ ูุชุนููููุง ุฅูู ุชุธููู ูุฏููุง. </font><font style="vertical-align: inherit;">ูู ุงููุดูุฏ ุ ูู ุจุฅูุดุงุก ูุงุฆู ุจุงุณุชุฎุฏุงู ูููู ParticleSystem ุ ููู ุจุชุนููู ุงููุงุฏุฉ ุงูุชู ุชู ุฅูุดุงุคูุง. </font><font style="vertical-align: inherit;">ุซู ูููู ุจุชุนุฏูู ุณููู ุงูุฌุณููุงุช ูุฅููุงู ุชุดุบูู ูุนููุฉ Play On Awake. </font><font style="vertical-align: inherit;">ูู ุฃู ูุฆุฉ ุ ูุณูู ุทุฑููุฉ RendererParticleSystem.SpawnParticle () ุฃู ูุณุชุฎุฏู ุทุฑููุฉ ุงููุณุงููุฉ.</font></font><br>
<br>
<pre><code class="cs hljs">[<span class="hljs-meta">ContextMenu(<span class="hljs-meta-string">"TestText"</span>)</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">TestText</span>(<span class="hljs-params"></span>)</span><font></font>
{<font></font>
    SpawnParticle(transform.position, <span class="hljs-string">"Hello world!"</span>, Color.red);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูููู ุงูุนุซูุฑ ุนูู ุฑูุฒ ุงููุตุฏุฑ ูุงูููุงุฑุฏ ูุฃูุซูุฉ ุงูุงุณุชุฎุฏุงู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุง</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุธุงู ุงูุฑุณุงุฆู ูู ุงูุนูู</font></font></b><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f8d/91e/a20/f8d91ea20610d787563e72398802cccd.gif" alt="ุตูุฑุฉ"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฐุง ูู ุดุฆ. </font><font style="vertical-align: inherit;">ุฅุฎุฑุงุฌ ุงูุฑุณุงูุฉ ุจุงุณุชุฎุฏุงู ูุธุงู ุงูุฌุณููุงุช ุฌุงูุฒ! </font><font style="vertical-align: inherit;">ูุฃูู ุฃู ูููุฏ ูุฐุง ุงูุญู ูุทูุฑู ุฃูุนุงุจ Unity. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UPD: ุฃุฏุงุก ุงูุญู ุงูููุชุฑุญ</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ูู ุชุนูููุงุช ุนุฏุฉ ุฃุดุฎุงุต ุ ุซุงุฑ ุณุคุงู ุญูู ุฃุฏุงุก ูุฐู ุงูุทุฑููุฉ. </font><font style="vertical-align: inherit;">ููุงุณุงุช ุฎุงุตุฉ ูู ูุจู ููู ุงูุชุนุฑูู ูููุญุฏุฉ. </font><font style="vertical-align: inherit;">ุงูุดุฑูุท ูู ููุณูุง - 1000 ูุทุนุฉ ูุชุญุฑูุฉ ููุชุบูุฑุฉ ุงูููู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุชูุฌุฉ ุงุณุชุฎุฏุงู ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูููุงุณูุฉ (ููุญุฉ ุงูุฑุณู ุงููุญูุฏุฉ ุงูุชู ูุง ููุฌุฏ ุนูููุง ุณูู 1000 ุนูุตุฑ ูู ูุตูุต ูุงุฌูุฉ ุงููุณุชุฎุฏู): </font></font><br>
<img src="https://habrastorage.org/webt/p6/un/5f/p6un5fkfn-qnhmz6uwusisggwsq.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุจูุบ ุฅุฌูุงูู ููุช ุงูุฅุทุงุฑ 50 ูููู ุซุงููุฉ ุนูู ุงูุฃูู ุ ููุชู ุฅููุงู 40 ูููู ุซุงููุฉ ุนูู ุชุญุฏูุซ ุงูููุญุฉ. </font><font style="vertical-align: inherit;">ูู ุงูููุช ููุณู ุ ูุง ุชูุฑุฎ ุงูุฃุดูุงุก ุ ุจู ุชุชุญุฑู ุจุจุณุงุทุฉ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุชูุฌุฉ ุชููุฏ 1000 ุฌุฒูุก ุจุงุณุชุฎุฏุงู ูุญููููุง:</font></font><br>
<img src="https://habrastorage.org/webt/-p/bf/ga/-pbfga8pj7nj5oi7sssvu9ch9pw.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุญุฏุซ ูู ุงูุณุญุฑ ูู ูุญุฏุฉ ูุนุงูุฌุฉ ุงูุฑุณููุงุช ุ ุญุชู ูู ููุช ุชูุงุซุฑ 1000 ุฌุณูู ุ ูุชู ุญุณุงุจ ุงูุฅุทุงุฑ ูู ุฃูู ูู 5 ูููู ุซุงููุฉ.</font></font></div>
      
    </div><p class="reference-to-source js-reference-to-source">Source: https://habr.com/ru/post/undefined/</p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar486242/index.html">Pinebook Pro: ุชุฌุงุฑุจ ุงูููุจููุชุฑ ุงููุญููู ุงูุดุฎุตูุฉ</a></li>
<li><a href="../ar486246/index.html">ูุชุงุจุฉ ุฎุฏูุฉ ุณุฌู ูุตุงุตุงุช ููุฑุฉ ูุงุญุฏุฉ ูู Python</a></li>
<li><a href="../ar486252/index.html">ูุงุฐุง ุณูุญุฏุซ ุฅุฐุง ุชุณุงุฑุนุช ูุฑุฉ ููุตูุ</a></li>
<li><a href="../ar486256/index.html">ุจุทุงูุงุช ุงููููุฉ ุงูุฅููุชุฑูููุฉ</a></li>
<li><a href="../ar486258/index.html">ุฏุฑุน PIndastrial - ูุญุฏุฉ ุชุฒููุฏ ุงูุทุงูุฉ ููุญุฏุฉ ูุงุฌูุฉ RS-485 ูู Raspberry PI</a></li>
<li><a href="../ar486262/index.html">ููุงุท ุถุนู ุดุจูุฉ 5G</a></li>
<li><a href="../ar486264/index.html">PostgreSQL 13: ุงููุฑุงุบ ุงููุชูุงุฒู</a></li>
<li><a href="../ar486268/index.html">ุตุฏุฃ 1.41.0: ุถูุงูุงุช ุฌุฏูุฏุฉ ูู Box <T> ูู FFI ุ ุชุญุณููุงุช ูู ุชุฑููุจ ุงูุจุถุงุฆุน ุ ุชุฎููู ุงููููุฏ ุนูู ุงูุณูุงุช</a></li>
<li><a href="../ar486274/index.html">ุจุนุฏ ุฑุฏ ูุนู ุงูุณูู ุนูู ุงูุตุฑุงุน ุจูู ุฅูุฑุงู ูุงูููุงูุงุช ุงููุชุญุฏุฉ ุ ูู ูุนุชุจุฑ Bitcoin ุฃุตููุง ุขูููุงุ</a></li>
<li><a href="../ar486278/index.html">ุงูููุงุฏ ูู ูุงููุง ููุชุงุจ: ููุตูุงุช ุงูุชูุงุฑ ุงููุณุชูุฑ ุ ูุดุงูู ุงูููู ุ Kubernetes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>