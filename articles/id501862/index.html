<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🌁 🅰️ 🎬 Berkibar di bawah kap 🧓🏾 💞 👩🏿‍🤝‍👩🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Halo semuanya! Nama saya Mikhail Zotiev, saya bekerja sebagai pengembang Flutter di Surf. Saya, seperti mungkin sebagian besar pengembang lain yang be...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Berkibar di bawah kap</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/surfstudio/blog/501862/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Halo semuanya! Nama saya Mikhail Zotiev, saya bekerja sebagai pengembang Flutter di Surf. Saya, seperti mungkin sebagian besar pengembang lain yang bekerja dengan Flutter, kebanyakan menyukai betapa mudahnya membuat aplikasi yang indah dan nyaman dengan bantuannya. Butuh sedikit waktu untuk masuk ke pengembangan Flutter. Saya baru-baru ini bekerja di pengembang game, dan sekarang saya telah sepenuhnya beralih ke pengembangan seluler lintas platform di Flutter.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apa kesederhanaannya? </font><font style="vertical-align: inherit;">Dengan selusin widget dasar, Anda dapat membangun antarmuka pengguna yang cukup baik. </font><font style="vertical-align: inherit;">Dan seiring berjalannya waktu, ketika bagasi yang digunakan cukup layak, tidak mungkin ada tugas yang akan membuat Anda macet: baik itu desain yang tidak biasa atau animasi yang canggih. </font><font style="vertical-align: inherit;">Dan yang paling menarik - kemungkinan besar Anda dapat menggunakannya tanpa memikirkan pertanyaan: "Bagaimana cara kerjanya?" </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karena Flutter memiliki sumber terbuka, saya memutuskan untuk mencari tahu apa yang ada di bawah tenda (di sisi Dart the Force) dan membaginya dengan Anda.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/lg/ln/q6/lglnq6t8sbc8gq-emifhx1dxjwu.png"><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Widget</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kita semua telah mendengar ungkapan dari tim pengembang kerangka kerja lebih dari sekali: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Semua yang ada di Flutter adalah widget</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><i><font style="vertical-align: inherit;">" </font></i><font style="vertical-align: inherit;">Mari kita lihat apakah ini benar-benar demikian. </font><font style="vertical-align: inherit;">Untuk melakukan ini, kita beralih ke kelas </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Widget</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (selanjutnya - widget) dan mulai secara bertahap membiasakan diri dengan konten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hal pertama yang akan kita baca di dokumentasi untuk kelas:</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menjelaskan konfigurasi untuk [Elemen].</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ternyata widget itu sendiri hanyalah deskripsi dari beberapa </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Elemen</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (selanjutnya - elemen).</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Widget adalah hierarki kelas pusat dalam kerangka Flutter. </font><font style="vertical-align: inherit;">Widget adalah deskripsi abadi dari bagian antarmuka pengguna. </font><font style="vertical-align: inherit;">Widget dapat digembungkan menjadi elemen, yang mengelola pohon render yang mendasarinya.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Untuk meringkas, frasa </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Segala sesuatu di Flutter adalah widget"</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adalah tingkat minimum memahami bagaimana semuanya diatur untuk menggunakan Flutter. </font><font style="vertical-align: inherit;">Widget adalah kelas tengah dalam hierarki Flutter. </font><font style="vertical-align: inherit;">Pada saat yang sama, ada banyak mekanisme tambahan di sekitarnya yang membantu kerangka mengatasi tugasnya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, kami belajar beberapa fakta lagi:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">widget - deskripsi abadi dari bagian antarmuka pengguna;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">widget dikaitkan dengan beberapa tampilan lanjutan yang disebut elemen; </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sebuah elemen mengendalikan beberapa entitas pohon render.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda pasti memperhatikan hal yang aneh. </font><font style="vertical-align: inherit;">Antarmuka pengguna dan kekekalan cocok sangat buruk, saya bahkan akan mengatakan bahwa ini adalah konsep yang sepenuhnya tidak kompatibel. </font><font style="vertical-align: inherit;">Tetapi kami akan kembali ke ini ketika gambar yang lebih lengkap dari perangkat Flutter world akan muncul, tetapi untuk saat ini, kami akan terus berkenalan dengan dokumentasi widget.</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Widget itu sendiri tidak memiliki status bisa berubah (semua bidangnya harus final). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda ingin mengaitkan status yang dapat diubah dengan widget, pertimbangkan untuk menggunakan [StatefulWidget], yang membuat objek [Status] (melalui [StatefulWidget.createState]) setiap kali itu digembungkan ke dalam elemen dan dimasukkan ke dalam pohon.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Paragraf ini sedikit melengkapi paragraf pertama: jika kita memerlukan konfigurasi yang bisa berubah, kita menggunakan entitas </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Negara</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> khusus </font><font style="vertical-align: inherit;">(selanjutnya disebut sebagai negara), yang menggambarkan keadaan widget saat ini. </font><font style="vertical-align: inherit;">Namun, negara tidak terkait dengan widget, tetapi dengan representasi elemennya.</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Widget yang diberikan dapat dimasukkan dalam pohon nol atau lebih banyak kali. </font><font style="vertical-align: inherit;">Khususnya widget yang diberikan dapat ditempatkan di pohon beberapa kali. </font><font style="vertical-align: inherit;">Setiap kali widget ditempatkan di pohon, itu digembungkan ke dalam [Elemen], yang berarti widget yang dimasukkan ke pohon beberapa kali akan meningkat beberapa kali.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Widget yang sama dapat dimasukkan dalam pohon widget berkali-kali, atau tidak dimasukkan sama sekali. </font><font style="vertical-align: inherit;">Tetapi setiap kali widget dimasukkan dalam pohon widget, sebuah elemen dipetakan padanya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, pada tahap ini, widget hampir selesai, mari kita simpulkan:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">widget - kelas pusat hirarki;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">widget adalah beberapa konfigurasi; </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">widget - deskripsi abadi dari bagian antarmuka pengguna; </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">widget dikaitkan dengan elemen yang mengontrol rendering dalam beberapa cara; </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">status perubahan widget dapat dijelaskan oleh beberapa entitas, tetapi terhubung tidak dengan widget, tetapi dengan elemen yang mewakili widget ini.</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Elemen</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dari apa yang kami pelajari, pertanyaan itu memohon, "Apa elemen-elemen ini yang mengatur segalanya?" </font><font style="vertical-align: inherit;">Lakukan hal yang sama - buka dokumentasi untuk kelas Elemen.</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instansiasi dari [Widget] di lokasi tertentu di pohon.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Elemen adalah beberapa representasi widget di tempat tertentu di pohon.</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Widget menjelaskan cara mengonfigurasi subtree tetapi widget yang sama dapat digunakan untuk mengonfigurasi beberapa subtree secara bersamaan karena widget tidak dapat diubah. </font><font style="vertical-align: inherit;">[Elemen] mewakili penggunaan widget untuk mengonfigurasi lokasi tertentu di pohon. </font><font style="vertical-align: inherit;">Seiring waktu, widget yang dikaitkan dengan elemen yang diberikan dapat berubah, misalnya, jika widget induk dibangun kembali dan membuat widget baru untuk lokasi ini.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Widget menggambarkan konfigurasi beberapa bagian dari antarmuka pengguna, tetapi seperti yang telah kita ketahui, widget yang sama dapat digunakan di berbagai tempat pohon. Setiap tempat tersebut akan diwakili oleh elemen yang sesuai. Namun seiring waktu, widget yang dikaitkan dengan item dapat berubah. Ini berarti bahwa elemen lebih ulet dan terus digunakan, hanya memperbarui koneksi mereka. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini adalah keputusan yang cukup rasional. Seperti yang telah kami definisikan di atas, widget adalah konfigurasi yang tidak dapat diubah yang hanya menggambarkan bagian tertentu dari antarmuka, yang berarti mereka harus sangat ringan. Dan elemen-elemen di area yang kontrolnya jauh lebih berat, tetapi mereka tidak perlu diciptakan kembali. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk memahami bagaimana ini dilakukan, pertimbangkan siklus hidup suatu elemen:</font></font><br>
<br>
<ul>
<li>     Widget.createElement    ,     .</li>
<li>   mount        .              .</li>
<li>       .</li>
<li>   ,    (,    ),     .       runtimeType  key,     .   ,     ,           .</li>
<li> ,       ,    ,             ,      (  deactivate).</li>
<li>   ,     .           ,       ,   (unmount),           .</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ketika Anda memasukkan kembali elemen dalam pohon, misalnya, jika elemen atau leluhurnya memiliki kunci global, itu akan dihapus dari daftar elemen tidak aktif, metode aktivasi akan dipanggil, dan objek yang diberikan terkait dengan elemen ini akan kembali tertanam dalam pohon render. </font><font style="vertical-align: inherit;">Ini berarti bahwa item tersebut akan muncul di layar lagi.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam deklarasi kelas, kita melihat bahwa elemen mengimplementasikan antarmuka BuildContext. </font><font style="vertical-align: inherit;">BuildContext adalah sesuatu yang mengontrol posisi widget di pohon widget, sebagai berikut dari dokumentasinya. </font><font style="vertical-align: inherit;">Hampir sama persis dengan deskripsi item. </font><font style="vertical-align: inherit;">Antarmuka ini digunakan untuk menghindari manipulasi elemen secara langsung, tetapi pada saat yang sama memberikan akses ke metode konteks yang diperlukan. </font><font style="vertical-align: inherit;">Misalnya, findRenderObject, yang memungkinkan Anda menemukan objek render tree yang sesuai dengan elemen ini.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Renderderbject</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Masih berurusan dengan tautan terakhir dari triad ini - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RenderObject</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Seperti namanya, ini adalah objek dari pohon visualisasi. Ini memiliki objek induk, serta bidang data yang menggunakan objek induk untuk menyimpan informasi spesifik mengenai objek ini sendiri, misalnya, posisinya. Objek ini bertanggung jawab untuk implementasi render dasar dan protokol tata letak.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RenderObject tidak membatasi model menggunakan objek anak: mungkin tidak ada, satu atau banyak. </font><font style="vertical-align: inherit;">Juga, sistem penentuan posisi tidak terbatas pada: sistem Cartesian, koordinat kutub, semua ini dan banyak lagi tersedia untuk digunakan. </font><font style="vertical-align: inherit;">Tidak ada batasan dalam penggunaan protokol lokasi: menyesuaikan lebar atau tinggi, membatasi ukuran, mengatur ukuran dan lokasi induk atau, jika perlu, menggunakan data objek induk.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Flutter World Picture</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita coba membangun gambaran besar tentang bagaimana semuanya bekerja bersama. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami sudah mencatat di atas, widget adalah deskripsi abadi, tetapi antarmuka pengguna sama sekali tidak statis. </font><font style="vertical-align: inherit;">Perbedaan ini dihapus dengan membagi menjadi 3 level objek dan pembagian zona tanggung jawab.</font></font><br>
<br>
<ul>
<li> ,          . </li>
<li> ,               . </li>
<li>  ,   — ,     .</li>
</ul><br>
<img src="https://habrastorage.org/webt/j_/n_/og/j_n_ogui1a0iawbuoq5vxclsnne.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita lihat bagaimana tampilan pohon-pohon ini dengan contoh sederhana: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/u7/0o/wk/u70owkgirs6krcos85rwn-acli8.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam hal ini, kami memiliki beberapa StatelessWidget yang dibungkus dengan widget Padding dan berisi teks di dalamnya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita tempatkan Flutter - kita diberi pohon widget ini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Flutter: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Hei, Padding, aku butuh </font></font></i><font style="vertical-align: inherit;"><i><font style="vertical-align: inherit;">elemenmu </font></i><i><font style="vertical-align: inherit;">"</font></i></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Padding: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Tentu saja, pegang SingleChildRenderObjectElement"</font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/jj/u7/zn/jju7znfat7skocfex74adc4cu7o.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Flutter: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Element, ini</font></font></i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
tempatmu, tenanglah </font><i><font style="vertical-align: inherit;">"</font></i><font style="vertical-align: inherit;"> SingleChildRenderObjectElement: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Guys, semuanya baik-baik saja, tapi aku butuh RenderObject"</font></font></i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Flutter: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Padding, seperti untuk menarik Anda sama sekali? "</font></font></i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Padding: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Tunggu, RenderPadding"</font></font></i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
SingleChildRenderObjectElement: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Hebat, mulai bekerja"</font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/zk/ty/se/zktyse7pgo6jdd6x7impyivfhy0.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Flutter:</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Jadi, siapa selanjutnya?" StatelessWidget, sekarang Anda membiarkan elemen »</font></font></i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
StatelessWidget: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«Di sini StatelessElement»</font></font></i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Flutter: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«StatelessElement, Anda akan tunduk kepada SingleChildRenderObjectElement, di sini adalah tempat, memulai»</font></font></i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
StatelessElement: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«OK»</font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/7w/tb/ke/7wtbkebtfn_xeq1ieqxqbarpkro.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Flutter: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«RichText itu, Hadir elementik, silakan»</font></font></i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
yang RichText memberikan MultiChildRenderObjectElement </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Flutter: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"MultiChildRenderObjectElement, ini dia, memulai"</font></font></i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
MultiChildRenderObjectElement: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Saya butuh render untuk bekerja"</font></font></i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Flutter: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"RichText, kami membutuhkan objek render"</font></font></i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
RichText: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Ini adalah RenderParagraph"</font></font></i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Flutter:</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"RenderParagraph Anda akan menerima instruksi RenderPadding, dan MultiChildRenderObjectElement akan mengendalikan Anda"</font></font></i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
MultiChildRenderObjectElement: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Sekarang semuanya baik-baik saja, saya siap"</font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/s4/24/fn/s424fnivo4j2tb4sv9pcirmxov0.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Tentunya Anda akan mengajukan pertanyaan logis: "Di mana objek render untuk StatelessWidget, mengapa tidak ada, kami memutuskan di atas bahwa elemen mengikat konfigurasi dengan tampilan? " </font><font style="vertical-align: inherit;">Mari kita perhatikan implementasi dasar metode mount, yang telah dibahas di bagian deskripsi siklus hidup ini.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">void</span> mount(Element parent, dynamic newSlot) {<font></font>
    assert(_debugLifecycleState == _ElementLifecycle.initial);<font></font>
    assert(widget != <span class="hljs-literal">null</span>);<font></font>
    assert(_parent == <span class="hljs-literal">null</span>);<font></font>
    assert(parent == <span class="hljs-literal">null</span> || parent._debugLifecycleState == _ElementLifecycle.active);<font></font>
    assert(slot == <span class="hljs-literal">null</span>);<font></font>
    assert(depth == <span class="hljs-literal">null</span>);<font></font>
    assert(!_active);<font></font>
    _parent = parent;<font></font>
    _slot = newSlot;<font></font>
    _depth = _parent != <span class="hljs-literal">null</span> ? _parent.depth + <span class="hljs-number">1</span> : <span class="hljs-number">1</span>;<font></font>
    _active = <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">if</span> (parent != <span class="hljs-literal">null</span>)<font></font>
        _owner = parent.owner;<font></font>
    <span class="hljs-keyword">if</span> (widget.key is GlobalKey) {<font></font>
        final GlobalKey key = widget.key;<font></font>
        key._register(<span class="hljs-keyword">this</span>);<font></font>
    }<font></font>
    _updateInheritance();<font></font>
    assert(() {<font></font>
        _debugLifecycleState = _ElementLifecycle.active;<font></font>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<font></font>
    }());<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kita tidak akan melihat di dalamnya penciptaan objek render. </font><font style="vertical-align: inherit;">Tetapi elemen mengimplementasikan BuildContext, yang memiliki metode pencarian objek visualisasi findRenderObject, yang akan membawa kita ke pengambil berikut:</font></font><br>
<br>
<pre><code class="javascript hljs">RenderObject get renderObject {<font></font>
    RenderObject result;<font></font>
    <span class="hljs-keyword">void</span> visit(Element element) {<font></font>
        assert(result == <span class="hljs-literal">null</span>); 
        <span class="hljs-keyword">if</span> (element is RenderObjectElement)<font></font>
            result = element.renderObject;<font></font>
        <span class="hljs-keyword">else</span><font></font>
            element.visitChildren(visit);<font></font>
    }<font></font>
    visit(<span class="hljs-keyword">this</span>);
    <span class="hljs-keyword">return</span> result;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam kasus dasar, elemen mungkin tidak membuat objek rendering, hanya RenderObjectElement dan turunannya yang diwajibkan untuk melakukan ini, tetapi dalam kasus ini, elemen di beberapa level bersarang harus memiliki elemen turunan yang memiliki objek rendering. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tampaknya mengapa semua kesulitan ini. Sebanyak 3 pohon, berbagai bidang tanggung jawab, dll. Jawabannya cukup sederhana - di sinilah kinerja Flutter dibangun. Widget adalah konfigurasi yang tidak dapat diubah, oleh karena itu, widget tersebut sering dibuat ulang, tetapi pada saat yang sama sangat ringan, yang tidak memengaruhi kinerja. Tapi Flutter berusaha menggunakan kembali elemen berat sebanyak mungkin. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertimbangkan sebuah contoh. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Teks di tengah layar. Kode dalam hal ini akan terlihat seperti ini:</font></font></i><br>
<br>
<pre><code class="javascript hljs">body: Center(<font></font>
    child: Text(“Hello world!”)<font></font>
),</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam hal ini, pohon widget akan terlihat seperti ini: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/lc/wt/fa/lcwtfazdhkpaprcu9tqvhssvck4.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah Flutter membangun semua 3 pohon, kita mendapatkan gambar berikut: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/uc/vx/ph/ucvxphu5r2ds-6_kmoizgyoczo8.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apa yang terjadi jika kita mengubah teks yang akan kita tampilkan? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/_u/8b/do/_u8bdowthfzx9jshpbprfnpj1ai.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami sekarang memiliki pohon widget baru. Di atas kami berbicara tentang penggunaan kembali elemen secara maksimal. Lihatlah metode kelas Widget, di bawah nama berbicara </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">canUpdate</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">static</span> bool canUpdate(Widget oldWidget, Widget newWidget) {
    <span class="hljs-keyword">return</span> oldWidget.runtimeType == newWidget.runtimeType &amp;&amp; oldWidget.key == newWidget.key;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami memeriksa jenis widget sebelumnya dan yang baru, serta kunci-kuncinya. Jika mereka sama, maka tidak perlu mengubah item. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, sebelum upgrade, elemen pertama adalah Center, setelah upgrade, juga Center. Keduanya tidak memiliki kunci, kebetulan yang lengkap. Kami dapat memperbarui tautan item ke widget baru. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/he/tr/s4/hetrs4cgzrimhibqeilfoja5xzi.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Namun selain jenis dan kunci, widget adalah deskripsi dan konfigurasi, dan nilai-nilai parameter yang diperlukan untuk tampilan bisa berubah. Itulah sebabnya elemen, setelah memperbarui tautan ke widget, harus memulai pembaruan ke objek rendering. Dalam kasus Center, tidak ada yang berubah, dan kami terus membandingkan lebih lanjut. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekali lagi, jenis dan kunci memberi tahu kami bahwa tidak masuk akal untuk membuat ulang elemen. Teks tersebut adalah turunan dari StatelessWidget, tidak memiliki objek tampilan langsung.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/dp/yy/6m/dpyy6mckv6cddryb0_yu5asy_uy.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pergi ke RichText. Widget juga tidak mengubah tipenya, tidak ada perbedaan dalam tombol. Item memperbarui hubungannya dengan widget baru. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hw/vh/95/hwvh952jekjwhudyj6czju3hq6a.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Koneksi diperbarui, tetap hanya untuk memperbarui properti. Akibatnya, RenderParagraph akan menampilkan nilai teks baru. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/lv/_p/g-/lv_pg-n6wlmcmlunokumb60nqw0.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan begitu saatnya tiba untuk bingkai gambar berikutnya, kita akan melihat hasil yang kita harapkan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berkat pekerjaan seperti ini, Flutter mencapai kinerja tinggi seperti itu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contoh di atas menjelaskan kasus ketika struktur widget itu sendiri tidak berubah. Tetapi apa yang terjadi jika strukturnya berubah? Flutter, tentu saja, akan terus mencoba memaksimalkan penggunaan objek yang ada, seperti yang kita pahami dari deskripsi siklus hidup, tetapi elemen baru akan dibuat untuk semua widget baru, dan yang lama dan yang tidak perlu akan dihapus pada akhir frame.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita lihat beberapa contoh. </font><font style="vertical-align: inherit;">Dan untuk memastikan hal di atas, kami menggunakan alat Android Studio - Flutter Inspector.</font></font><br>
<br>
<pre><code class="javascript hljs">@override<font></font>
Wid<span class="hljs-keyword">get</span> <span class="hljs-title">build</span>(<span class="hljs-params">BuildContext context</span>) {
    <span class="hljs-keyword">return</span> Scaffold(<font></font>
        body: Center(<font></font>
            child: _isFirst ? first() : second(),<font></font>
        ),<font></font>
        <span class="hljs-attr">floatingActionButton</span>: FloatingActionButton(<font></font>
            child: Text(<span class="hljs-string">"Switch"</span>),
            <span class="hljs-attr">onPressed</span>: () {<font></font>
                setState(() {<font></font>
                    _isFirst = !_isFirst;<font></font>
                });<font></font>
            },<font></font>
        ),<font></font>
    );<font></font>
}<font></font>
<font></font>
Wid<span class="hljs-keyword">get</span> <span class="hljs-title">first</span>() =&gt; <span class="hljs-title">Row</span>(<span class="hljs-params">
    mainAxisAlignment: MainAxisAlignment.center,
    children: &lt;Widget&gt;[
        Text(
            <span class="hljs-string">"test"</span>,
            style: TextStyle(fontSize: <span class="hljs-number">25</span></span>),<font></font>
        ),<font></font>
        <span class="hljs-title">SizedBox</span>(<span class="hljs-params">
            width: <span class="hljs-number">5</span>,
        </span>),
        <span class="hljs-title">Icon</span>(<span class="hljs-params">
            Icons.error,
        </span>),<font></font>
    ],<font></font>
);<font></font>
<font></font>
<span class="hljs-title">Widget</span> <span class="hljs-title">second</span>() =&gt; <span class="hljs-title">Row</span>(<span class="hljs-params">
    mainAxisAlignment: MainAxisAlignment.center,
    children: &lt;Widget&gt;[
        Text(
            <span class="hljs-string">"one more test"</span>,
            style: TextStyle(fontSize: <span class="hljs-number">25</span></span>),<font></font>
        ),<font></font>
        <span class="hljs-title">Padding</span>(<span class="hljs-params">
            padding: EdgeInsets.only(left: <span class="hljs-number">5</span></span>),<font></font>
        ),<font></font>
        <span class="hljs-title">Icon</span>(<span class="hljs-params">
            Icons.error,
        </span>),<font></font>
    ],<font></font>
);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam hal ini, dengan mengklik tombol, salah satu widget akan berubah. </font><font style="vertical-align: inherit;">Mari kita lihat apa yang ditunjukkan inspektur kepada kita. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wi/vt/vt/wivtvtojhv4uq3l7ouoje3le-u0.png" alt="gambar"><br>
<br>
<img src="https://habrastorage.org/webt/f4/rb/0a/f4rb0avn7pombux2ct6pkap2edi.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti yang dapat kita lihat, Flutter menciptakan kembali render hanya untuk Padding, sisanya hanya digunakan kembali. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertimbangkan 1 opsi lagi di mana struktur berubah dengan cara yang lebih global - kami mengubah tingkat sarang.</font></font><br>
<br>
<pre><code class="javascript hljs">Wid<span class="hljs-keyword">get</span> <span class="hljs-title">second</span>() =&gt; <span class="hljs-title">Container</span>(<span class="hljs-params">child: first(</span>),);</code></pre><br>
<img src="https://habrastorage.org/webt/yt/8i/gs/yt8igsxt3r3b-ofhkrlcyjaqryc.png" alt="gambar"><br>
<br>
<img src="https://habrastorage.org/webt/j7/na/qw/j7naqwq6060sh-tw_atxna_umpa.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Terlepas dari kenyataan bahwa pohon itu tidak berubah sama sekali secara visual, elemen dan objek pohon rendering diciptakan kembali. </font><font style="vertical-align: inherit;">Ini terjadi karena Flutter membandingkan berdasarkan level (dalam hal ini, tidak masalah bahwa sebagian besar pohon tidak berubah), pengayakan bagian ini terjadi pada saat membandingkan Container dan Row. </font><font style="vertical-align: inherit;">Namun, seseorang dapat keluar dari situasi ini. </font><font style="vertical-align: inherit;">Ini akan membantu kami GlobalKey. </font><font style="vertical-align: inherit;">Tambahkan kunci untuk Row.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">var</span> _key = GlobalKey(debugLabel: <span class="hljs-string">"testLabel"</span>);<font></font>
<font></font>
Wid<span class="hljs-keyword">get</span> <span class="hljs-title">first</span>() =&gt; <span class="hljs-title">Row</span>(<span class="hljs-params">
    key: _key,
    …
</span>);</code></pre><br>
<img src="https://habrastorage.org/webt/gg/jp/zj/ggjpzjlpox-ijhgtwxy-i6rvcsk.png" alt="gambar"><br>
<br>
<img src="https://habrastorage.org/webt/zy/br/zy/zybrzywy-_ixs_apl7j1fiqsrco.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Segera setelah kami memberi tahu Flutter bahwa bagian itu dapat digunakan kembali, dia memanfaatkan kesempatan itu.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kesimpulan </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami menjadi sedikit lebih akrab dengan sihir Flutter dan sekarang kami tahu bahwa itu tidak hanya di widget. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Flutter adalah mekanisme yang terkoordinasi dengan baik dipikirkan dengan hierarki sendiri, bidang tanggung jawab, dengan mana Anda dapat membuat tidak hanya indah, tetapi juga aplikasi produktif. </font><font style="vertical-align: inherit;">Tentu saja, kami hanya memeriksa sebagian kecil dari perangkatnya, jadi kami akan terus menganalisis berbagai aspek kerja internal kerangka kerja di artikel mendatang. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya harap informasi dalam artikel ini bermanfaat dalam memahami bagaimana Flutter bekerja secara internal dan membantu Anda menemukan solusi yang elegan dan produktif selama pengembangan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Terimakasih atas perhatiannya!</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sumber daya</font></font></h4><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Flutter </font></font></i><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"How Flutter renders Widgets" oleh Andrew Fitz Gibbon, Matt Sullivan</font></font></i></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id501850/index.html">Kami membongkar algoritma-EM menjadi batu bata kecil</a></li>
<li><a href="../id501854/index.html">Bagaimana cara berhenti pemrograman dan mulai melakukan</a></li>
<li><a href="../id501856/index.html">Tarantool: Analyst Look</a></li>
<li><a href="../id501858/index.html">Menempatkan semua titik di "psi"</a></li>
<li><a href="../id501860/index.html">15 Mei RU-Center dapat menambahkan Anda layanan berbayar tanpa partisipasi Anda</a></li>
<li><a href="../id501864/index.html">Asisten atau inspektur: untuk siapa robot memanggil?</a></li>
<li><a href="../id501866/index.html">Berapa banyak robot pekerjaan yang akan dihancurkan</a></li>
<li><a href="../id501868/index.html">Bagaimana tidak membiarkan akuntan melemparkan dirinya sendiri atau Kami mentransfer 1C ke cloud. Instruksi langkah demi langkah</a></li>
<li><a href="../id501870/index.html">Jumlah nilai maksimum di enum Bagian II</a></li>
<li><a href="../id501872/index.html">Tempat belajar dalam sistem cybernetic</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>