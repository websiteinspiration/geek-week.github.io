<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🔓 🦃 🌁 Mempercepat frontend. Ketika banyak permintaan server bagus 👩🏿‍🌾 👩🏽‍🚀 👦🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Artikel ini menjelaskan beberapa metode untuk mempercepat pemuatan aplikasi front-end untuk mengimplementasikan antarmuka pengguna yang responsif dan ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Mempercepat frontend. Ketika banyak permintaan server bagus</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/itsumma/blog/490210/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artikel ini menjelaskan beberapa metode untuk mempercepat pemuatan aplikasi front-end untuk mengimplementasikan antarmuka pengguna yang responsif dan cepat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami akan membahas arsitektur umum dari frontend, cara memuatkan sumber daya yang diperlukan dan meningkatkan kemungkinan bahwa mereka ada di cache. </font><font style="vertical-align: inherit;">Kami akan membahas sedikit cara memberikan sumber daya dari backend dan kapan mungkin membatasi diri pada halaman statis alih-alih aplikasi klien interaktif. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Proses pengunduhan dibagi menjadi tiga tahap. </font><font style="vertical-align: inherit;">Untuk setiap tahap, kami merumuskan strategi umum untuk meningkatkan produktivitas:</font></font><br>
<br>
<ol>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Render awal</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : berapa lama bagi pengguna untuk melihat setidaknya sesuatu</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kurangi rendering permintaan pemblokiran</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hindari rantai berurutan</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gunakan kembali koneksi server</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pekerja Layanan untuk Rendering Instan</font></font></li>
</ul></li>
<li><b> </b>:   ,     <br>
<ul>
<li>    .    .    <br>
</li>
<li>,        <br>
</li>
<li>       <br>
</li>
<li>     <br>
</li>
<li>    </li>
</ul></li>
<li><b> </b>:        <br>
<ul>
<li>    ,   <br>
</li>
<li>      </li>
</ul></li>
</ol><a name="habracut"></a><br>
<h1> </h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sampai rendering awal, pengguna tidak melihat apa pun di layar. Apa yang kami butuhkan untuk rendering ini? Minimal, unggah dokumen HTML, dan dalam banyak kasus sumber daya tambahan, seperti file CSS dan JavaScript. Setelah tersedia, browser dapat memulai semacam rendering. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bagan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebPageTest</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> disediakan di seluruh artikel ini </font><font style="vertical-align: inherit;">. Urutan kueri untuk situs Anda mungkin akan terlihat seperti ini. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/36a/970/f6e/36a970f6e3069679776958e6e0ef10d8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dokumen HTML memuat banyak file tambahan, dan halaman tersebut diberikan setelah diunduh. Harap perhatikan bahwa file CSS dimuat secara paralel satu sama lain, sehingga setiap permintaan tambahan tidak menambah penundaan yang signifikan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
(Catatan: di tangkapan layar, gov.uk adalah contoh di mana </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">HTTP / 2</font></a><font style="vertical-align: inherit;"> sekarang </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diaktifkan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sehingga domain sumber daya dapat menggunakan kembali koneksi yang ada. </font><font style="vertical-align: inherit;">Lihat di bawah untuk koneksi server.)</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kurangi rendering permintaan pemblokiran</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lembar gaya dan skrip (secara default) memblokir perenderan konten apa pun di bawahnya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ada beberapa opsi untuk memperbaikinya:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pindahkan tag skrip ke bagian bawah tubuh </font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unduh skrip dalam mode asinkron menggunakan </font></font><code>async</code><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jika JS atau CSS harus dimuat secara berurutan, lebih baik untuk menyematkannya dengan potongan kecil</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hindari percakapan dengan permintaan berurutan yang memblokir perenderan</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Penundaan rendering situs tidak selalu dikaitkan dengan sejumlah besar permintaan yang memblokir rendering. </font><font style="vertical-align: inherit;">Yang lebih penting adalah ukuran masing-masing sumber daya, serta waktu mulai pengunduhannya. </font><font style="vertical-align: inherit;">Yaitu, saat ketika browser tiba-tiba menyadari bahwa sumber ini perlu diunduh. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika browser mendeteksi perlunya mengunduh file hanya setelah menyelesaikan permintaan lain, maka ada rantai permintaan. </font><font style="vertical-align: inherit;">Itu dapat terbentuk karena berbagai alasan:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aturan </font></font><code>@import</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CSS</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Font web direferensikan oleh file CSS</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaScript atau tag skrip yang dapat diunduh</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lihatlah contoh ini: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/ebe/a1b/e44/ebea1be44487e800d63034b7fb2e9b79.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Salah satu file CSS di situs ini memuat font Google melalui aturan </font></font><code>@import</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Ini berarti bahwa browser harus bergantian menjalankan permintaan berikut:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dokumen HTML</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aplikasi CSS</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CSS untuk Google Font</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">File Font Google Woff (tidak ditampilkan dalam diagram)</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk memperbaikinya, pertama-tama pindahkan permintaan Google Font CSS dari tag </font></font><code>@import</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ke tautan dalam dokumen HTML. </font><font style="vertical-align: inherit;">Jadi kami mempersingkat rantai dengan satu tautan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk mempercepat lebih jauh, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">embed Google Fonts CSS</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> langsung ke file HTML atau CSS Anda. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
(Perlu diingat bahwa respons CSS dari server Google Font bergantung pada baris agen pengguna. Jika Anda membuat permintaan menggunakan IE8, CSS akan merujuk ke file EOT, browser IE11 akan menerima file woff, dan browser modern akan menerima file woff2. Jika Anda setuju bahwa browser lama akan terbatas pada font sistem, Anda cukup menyalin dan menempelkan isi file CSS ke diri Anda sendiri).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bahkan setelah dimulainya rendering, pengguna tidak mungkin dapat berinteraksi dengan halaman, karena font perlu dimuat untuk menampilkan teks. </font><font style="vertical-align: inherit;">Ini adalah penundaan jaringan tambahan yang ingin saya hindari. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parameter swap</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> berguna di sini </font><font style="vertical-align: inherit;">, memungkinkan Anda untuk menggunakannya </font></font><code>font-display</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dengan Google Font, dan menyimpan font secara lokal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Terkadang rantai kueri tidak dapat diselesaikan. </font><font style="vertical-align: inherit;">Dalam kasus seperti itu, Anda mungkin </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ingin</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mempertimbangkan </font><b><font style="vertical-align: inherit;">tag preload atau preconnect</font></b><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Misalnya, situs web dalam contoh di atas dapat terhubung </font></font><code>fonts.googleapis.com</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sebelum permintaan CSS yang sebenarnya tiba.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menggunakan kembali koneksi server untuk mempercepat permintaan</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk membuat koneksi baru ke server, biasanya memerlukan tiga paket pertukaran antara browser dan server:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pencarian DNS</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Membangun Koneksi TCP</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Buat Koneksi SSL</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah koneksi dibuat, setidaknya satu pertukaran paket lagi diperlukan untuk mengirim permintaan dan menerima tanggapan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Grafik di bawah ini menunjukkan bahwa kita memulai koneksi dengan empat server yang berbeda: </font></font><code>hostgator.com</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>optimizely.com</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>googletagmanager.com</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, dan </font></font><code>googelapis.com</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Namun, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">permintaan server berikutnya dapat menggunakan kembali koneksi yang ada</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Pengunduhan </font></font><code>base.css</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">juga </font></font><code>index1.css</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">terjadi lebih cepat karena mereka berada di server yang sama </font></font><code>hostgator.com</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dengan koneksi yang telah dibuat.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/78d/f76/03c/78df7603c84c54788fbec82a7d0622c7.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kurangi ukuran file dan gunakan CDN</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda mengontrol dua faktor yang memengaruhi waktu eksekusi kueri: ukuran file sumber daya dan lokasi server. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kirim sesedikit mungkin data kepada pengguna dan pastikan mereka dikompresi (misalnya, menggunakan brotli atau gzip). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Content Delivery Networks (CDNs) memiliki server di seluruh dunia. </font><font style="vertical-align: inherit;">Alih-alih terhubung ke server pusat, pengguna dapat terhubung ke server CDN yang lebih dekat. </font><font style="vertical-align: inherit;">Dengan demikian, pertukaran paket akan jauh lebih cepat. </font><font style="vertical-align: inherit;">Ini sangat cocok untuk sumber daya statis seperti CSS, JavaScript, dan gambar, karena mudah didistribusikan melalui CDN.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hilangkan latensi jaringan dengan pekerja layanan</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pekerja Layanan memungkinkan Anda untuk mencegat permintaan sebelum mengirimnya ke jaringan. </font><font style="vertical-align: inherit;">Ini berarti bahwa </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jawabannya datang hampir secara instan</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ! </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/c0c/5b2/7bd/c0c5b27bd4df5e42b3b8e57b2dfb02f2.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tentu saja, ini hanya berfungsi jika Anda benar-benar tidak perlu menerima data dari jaringan. </font><font style="vertical-align: inherit;">Jawabannya harus sudah di-cache, sehingga manfaat hanya akan muncul dari unduhan aplikasi kedua. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pekerja layanan di bawah ini cache HTML dan CSS yang diperlukan untuk membuat halaman. </font><font style="vertical-align: inherit;">Ketika aplikasi dimuat lagi, ia mencoba mengeluarkan sumber daya yang di-cache itu sendiri - dan mengakses jaringan hanya jika tidak tersedia.</font></font><br>
<br>
<pre><code class="javascript hljs">self.addEventListener(<span class="hljs-string">"install"</span>, <span class="hljs-keyword">async</span> e =&gt; {<font></font>
 caches.open(<span class="hljs-string">"v1"</span>).then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">cache</span>) </span>{
   <span class="hljs-keyword">return</span> cache.addAll([<span class="hljs-string">"/app"</span>, <span class="hljs-string">"/app.css"</span>]);<font></font>
 });<font></font>
});<font></font>
<font></font>
self.addEventListener(<span class="hljs-string">"fetch"</span>, event =&gt; {<font></font>
 event.respondWith(<font></font>
   caches.match(event.request).then(<span class="hljs-function"><span class="hljs-params">cachedResponse</span> =&gt;</span> {
     <span class="hljs-keyword">return</span> cachedResponse || fetch(event.request);<font></font>
   })<font></font>
 );<font></font>
});</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">panduan ini,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dijelaskan secara rinci tentang penggunaan pekerja layanan untuk memuat dan menyimpan sumber daya.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unduh aplikasi</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, pengguna melihat sesuatu di layar. </font><font style="vertical-align: inherit;">Apa langkah lebih lanjut yang diperlukan baginya untuk menggunakan aplikasi?</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unduh kode aplikasi (JS dan CSS)</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unduh data yang diperlukan untuk halaman tersebut</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unduh data dan gambar tambahan</font></font></li>
</ol><br>
<img src="https://habrastorage.org/getpro/habr/post_images/175/e7f/810/175e7f810d7e33f9647203ad609b402f.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Harap dicatat bahwa tidak hanya mengunduh data dari jaringan dapat menunda penguraian. </font><font style="vertical-align: inherit;">Setelah kode Anda dimuat, peramban harus menganalisis, menyusun, dan menjalankannya.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unduh hanya kode yang diperlukan dan maksimalkan jumlah klik dalam cache</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
“Break a package” berarti mengunduh hanya kode yang diperlukan untuk halaman saat ini, bukan keseluruhan aplikasi. </font><font style="vertical-align: inherit;">Ini juga berarti bahwa bagian-bagian dari paket dapat di-cache, bahkan jika bagian-bagian lain telah berubah dan perlu dimuat ulang. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebagai aturan, kode dibagi menjadi bagian-bagian berikut:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kode untuk halaman tertentu (khusus halaman)</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kode aplikasi umum</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modul pihak ketiga yang jarang berubah (bagus untuk caching!)</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Webpack dapat secara otomatis melakukan optimasi ini, memecahkan kode, dan mengurangi bobot beban keseluruhan. </font><font style="vertical-align: inherit;">Kode dipecah menjadi beberapa bagian menggunakan objek </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">optimisation.splitChunks</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Pisahkan runtime (runtime) menjadi file terpisah: dengan cara ini Anda bisa mendapatkan keuntungan dari caching jangka panjang. </font><font style="vertical-align: inherit;">Ivan Akulov menulis </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">panduan terperinci tentang memecah paket menjadi file-file terpisah dan caching di Webpack</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tidak mungkin untuk secara otomatis mengalokasikan kode untuk halaman tertentu. </font><font style="vertical-align: inherit;">Anda harus secara manual mengidentifikasi bagian-bagian yang dapat diunduh secara terpisah. </font><font style="vertical-align: inherit;">Seringkali ini adalah jalur atau set halaman tertentu. </font><font style="vertical-align: inherit;">Gunakan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">impor dinamis</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> untuk dengan malas memuat kode ini.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Membagi paket keseluruhan menjadi beberapa bagian akan meningkatkan jumlah permintaan untuk mengunduh aplikasi Anda. Tapi ini bukan masalah besar jika permintaan dieksekusi secara paralel, terutama jika situs dimuat menggunakan protokol HTTP / 2. Anda bisa melihat ini untuk tiga kueri pertama dalam diagram berikut: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/995/816/714/9958167144c54dc634d1b7daa03077e3.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Namun, dua kueri berturut-turut juga terlihat dalam diagram. Fragmen-fragmen ini diperlukan hanya untuk halaman khusus ini dan mereka dimuat secara dinamis </font></font><code>import()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda dapat mencoba memperbaiki masalah dengan memasukkan tag preload </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">preload</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/955/2cf/efc/9552cfefcbb751b50e378a0834320b73.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tetapi kami melihat bahwa total waktu buka halaman telah meningkat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Preloading sumber daya terkadang kontraproduktif karena menunda pemuatan file yang lebih penting. Baca</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artikel Andy Davis tentang font preloading</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan bagaimana prosedur ini memblokir permulaan rendering halaman.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Memuat data untuk satu halaman</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aplikasi Anda mungkin harus menampilkan beberapa data. </font><font style="vertical-align: inherit;">Berikut adalah beberapa kiat yang dapat Anda gunakan untuk mengunduh data ini lebih awal tanpa penundaan render yang tidak perlu.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jangan menunggu unduhan penuh paket sebelum Anda mulai mengunduh data</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berikut ini adalah kasus khusus dari rangkaian permintaan berurutan: Anda mengunduh seluruh paket aplikasi, dan kemudian kode ini meminta data yang diperlukan untuk halaman tersebut. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ada dua cara untuk menghindari ini:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sematkan data dalam dokumen HTML</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jalankan permintaan data menggunakan skrip bawaan di dalam dokumen</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menanamkan data dalam HTML memastikan bahwa aplikasi tidak menunggu untuk memuat. Ini juga mengurangi kompleksitas sistem, karena Anda tidak perlu menangani status boot. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Namun, ini bukan ide yang baik jika teknik seperti itu menunda rendering awal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam hal ini, dan juga jika Anda mengirimkan dokumen HTML yang di-cache melalui pekerja layanan, Anda dapat menggunakan skrip bawaan untuk mengunduh data ini sebagai alternatif. Anda dapat menjadikannya tersedia sebagai objek global, inilah janji:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-built_in">window</span>.userDataPromise = fetch(<span class="hljs-string">"/me"</span>)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika data sudah siap, dan dalam situasi seperti itu, aplikasi dapat segera mulai render atau menunggu hingga siap. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saat menggunakan kedua metode, Anda harus tahu terlebih dahulu data apa yang akan dimuat halaman sebelum aplikasi mulai rendering. </font><font style="vertical-align: inherit;">Ini biasanya jelas untuk data terkait pengguna (nama pengguna, pemberitahuan, dll.), Tetapi lebih sulit dengan konten yang khusus untuk halaman tertentu. </font><font style="vertical-align: inherit;">Mungkin masuk akal untuk menyorot halaman yang paling penting dan menulis logika Anda sendiri untuk mereka.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jangan blokir rendering sambil menunggu data yang tidak relevan</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Terkadang, untuk menghasilkan data, Anda perlu menjalankan logika kompleks yang lambat di backend. </font><font style="vertical-align: inherit;">Dalam kasus seperti itu, Anda dapat mencoba mengunduh versi data yang lebih sederhana terlebih dahulu, jika ini cukup untuk membuat aplikasi berfungsi dan interaktif. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Misalnya, alat analitik pertama-tama dapat mengunduh daftar semua bagan sebelum memuat data. </font><font style="vertical-align: inherit;">Ini memungkinkan pengguna untuk segera mencari diagram yang menarik baginya, dan juga membantu mendistribusikan permintaan backend ke server yang berbeda.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/996/ab6/613/996ab66136976b0b22d95e7778fb4664.png"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hindari Permintaan Data Berturut-turut</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini mungkin bertentangan dengan paragraf sebelumnya bahwa lebih baik mengeluarkan data yang tidak penting dalam permintaan terpisah. </font><font style="vertical-align: inherit;">Oleh karena itu, harus diklarifikasi: hindari rantai dengan permintaan data berurutan, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jika setiap permintaan yang diselesaikan tidak mengarah pada fakta bahwa pengguna diperlihatkan lebih banyak informasi</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alih-alih menanyakan terlebih dahulu pengguna mana yang masuk dan kemudian meminta daftar grupnya, segera kembalikan daftar grup bersama dengan informasi pengguna dalam permintaan pertama. </font><font style="vertical-align: inherit;">Anda dapat menggunakan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GraphQL</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> untuk ini </font><font style="vertical-align: inherit;">, tetapi titik akhir </font></font><code>user?includeTeams=true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">juga berfungsi dengan baik.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Render sisi server</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Rendering sisi server berarti pra-rendering aplikasi, sehingga HTML satu halaman penuh dikembalikan pada permintaan klien. Klien melihat halaman yang sepenuhnya dirender, tanpa menunggu kode atau data tambahan dimuat! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karena server hanya mengirim HTML statis kepada klien, aplikasi tidak interaktif pada saat ini. Anda perlu mengunduh aplikasi itu sendiri, memulai logika render, kemudian menghubungkan pendengar acara yang diperlukan ke DOM. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gunakan rendering sisi server jika melihat konten non-interaktif itu berharga dalam dirinya sendiri. Senang juga untuk me-cache HTML yang diberikan di server dan segera mengembalikannya ke semua pengguna tanpa penundaan. Misalnya, rendering sisi server sangat bagus ketika menggunakan Bereaksi untuk menampilkan posting blog. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DI</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artikel ini oleh Mikhail Yanashek</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> menjelaskan cara menggabungkan pekerja layanan dan rendering sisi server.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Halaman selanjutnya</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada titik tertentu, pengguna akan menekan tombol dan pergi ke halaman berikutnya. </font><font style="vertical-align: inherit;">Dari saat Anda membuka halaman mulai, Anda mengontrol apa yang terjadi di browser, sehingga Anda dapat mempersiapkan interaksi selanjutnya.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Preloading sumber daya</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda memuat kode yang diperlukan untuk halaman berikutnya, penundaan itu menghilang ketika pengguna memulai navigasi. </font><font style="vertical-align: inherit;">Gunakan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tag prefetch</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> atau </font></font><code>webpackPrefetch</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk impor dinamis:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span>(
    <span class="hljs-comment">/* webpackPrefetch: true, webpackChunkName: "todo-list" */</span> <span class="hljs-string">"./TodoList"</span>
)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertimbangkan jenis beban apa yang Anda tempatkan pada pengguna dalam hal lalu lintas dan bandwidth, terutama jika ia terhubung melalui koneksi seluler. </font><font style="vertical-align: inherit;">Jika seseorang mengunduh versi seluler situs dan mode penyimpanan data aktif, maka masuk akal untuk melakukan preload kurang agresif. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertimbangkan secara strategis bagian mana dari aplikasi yang akan dibutuhkan oleh pengguna sebelumnya.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Penggunaan kembali data yang sudah diunduh</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tembolok data secara lokal di aplikasi Anda dan menggunakannya untuk menghindari permintaan di masa mendatang. </font><font style="vertical-align: inherit;">Jika pengguna beralih dari daftar grupnya ke halaman "Edit grup", Anda dapat melakukan transisi secara instan, menggunakan kembali data yang diunduh sebelumnya tentang grup. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Harap perhatikan bahwa ini tidak akan berfungsi jika objek sering diedit oleh pengguna lain dan data yang diunduh mungkin menjadi usang. </font><font style="vertical-align: inherit;">Dalam kasus ini, ada opsi untuk terlebih dahulu menampilkan data hanya baca yang ada sambil secara bersamaan menjalankan permintaan untuk data yang diperbarui.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kesimpulan</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Artikel ini mencantumkan sejumlah faktor yang dapat memperlambat halaman Anda pada berbagai tahap proses pemuatan. Alat seperti </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chrome DevTools</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebPageTest</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mercusuar</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> akan membantu Anda mengetahui mana dari faktor-faktor ini mempengaruhi aplikasi Anda. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam praktiknya, jarang optimisasi langsung terjadi ke segala arah. Kita perlu mencari tahu apa yang memiliki dampak terbesar pada pengguna, dan fokus padanya.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketika saya sedang menulis artikel, saya menyadari satu hal penting: Saya memiliki keyakinan yang mengakar bahwa banyak permintaan server individu buruk untuk kinerja. </font><font style="vertical-align: inherit;">Ini adalah kasus di masa lalu, ketika setiap permintaan memerlukan koneksi terpisah, dan browser hanya mengizinkan beberapa koneksi per domain. </font><font style="vertical-align: inherit;">Tetapi dengan HTTP / 2 dan browser modern ini tidak lagi terjadi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ada argumen bagus yang mendukung pemisahan aplikasi menjadi beberapa bagian (dengan mengalikan kueri). </font><font style="vertical-align: inherit;">Ini memungkinkan Anda untuk mengunduh hanya sumber daya yang diperlukan dan lebih baik menggunakan cache, karena hanya file yang diubah yang harus dimuat ulang.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id490196/index.html">[Flipper Zero] menolak Raspberry Pi, buat papan sendiri dari awal. Menemukan chip WiFi yang tepat</a></li>
<li><a href="../id490198/index.html">Percaya tapi verifikasi! Zona demo dengan proyektor Epson untuk home theatre di aula demo Pult.ru</a></li>
<li><a href="../id490202/index.html">Penghitungan Kueri: Pengujian Kinerja Django Dasar</a></li>
<li><a href="../id490204/index.html">Intisari acara untuk perekrut SDM dan TI pada bulan Maret 2020</a></li>
<li><a href="../id490208/index.html">Bagian Backend pada DUMP2020: olok-olok, kipas, gagal</a></li>
<li><a href="../id490222/index.html">Perpustakaan Standar Hari Kematian</a></li>
<li><a href="../id490224/index.html">Siluman yang modis</a></li>
<li><a href="../id490226/index.html">Blending and Unity Terrain: cara menyingkirkan persimpangan dan berhenti membuat mata Anda sakit</a></li>
<li><a href="../id490242/index.html">Layanan Lokasi GSM dari modul SIM800x dan kerjanya dengan Yandex.Locator API</a></li>
<li><a href="../id490244/index.html">Optimasi kode python dengan ctypes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>