<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üîÉ üë∞üèª üåë DeepCode: Seitenansicht üëéüèΩ ü¶ë üë®‚Äçüåæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Vor nicht allzu langer Zeit begann DeepCode, ein auf maschinellem Lernen basierender statischer Analysator, die Validierung von C- und C ++ - Projekte...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>DeepCode: Seitenansicht</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pvs-studio/blog/496536/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/05c/e93/ee3/05ce93ee3f74ca3fd52ae14a378389a6.png" alt="Bild 1"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vor nicht allzu langer Zeit begann DeepCode, ein auf maschinellem Lernen basierender statischer Analysator, die Validierung von C- und C ++ - Projekten zu unterst√ºtzen. </font><font style="vertical-align: inherit;">Und jetzt k√∂nnen wir in der Praxis sehen, wie sich die Ergebnisse der klassischen statischen Analyse und der statischen Analyse auf der Grundlage des maschinellen Lernens unterscheiden.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben DeepCode bereits in unserem Artikel " </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verwenden von maschinellem Lernen bei der statischen Analyse des Quellcodes von Programmen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " erw√§hnt. Und bald ver√∂ffentlichten sie den Artikel " </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DeepCode f√ºgt AI-basierte statische Code-Analyse-Unterst√ºtzung f√ºr C und C ++ hinzu</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " mit der Ank√ºndigung der Unterst√ºtzung f√ºr die Analyse von Projekten, die in C und C ++ geschrieben wurden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um die Ergebnisse der DeepCode-Analyse zu betrachten, habe ich mich f√ºr das PhysX-Projekt entschieden. Ich habe hier keinen Zweck, eine Analyse der von PVS-Studio oder DeepCode in diesem Projekt gefundenen Fehler zu pr√§sentieren, aber ich wollte nur ein Projekt eines Drittanbieters nehmen und mir dessen Beispiel ansehen, wie die Analysatoren funktionieren.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Ausf√ºhren der DeepCode-Analyse ist √§u√üerst einfach. Die Analyse der auf GitHub ver√∂ffentlichten Projekte startet automatisch. Es gibt zwar ein Problem, da das gesamte Repository hintereinander √ºberpr√ºft wurde, obwohl es verschiedene Projekte enthielt, und Warnungen an sie wurden verwechselt. Die Analysegeschwindigkeit zeigt auch an, dass der Code nicht kompiliert wurde und viele Fehler m√∂glicherweise vor dem Analysator verborgen sind. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Gesamtergebnis von DeepCode lautet wie folgt:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9ab/bf2/189/9abbf2189f256741938717b201c57a03.png" alt="Bild 2"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies spiegelt nicht ganz die Anzahl der Operationen wider, da sie in einer Warnung zusammengefasst sind, wie ich sp√§ter zeigen werde. Nat√ºrlich ist es offensichtlich, dass die statische Analyse von C / C ++ in DeepCode eine Innovation ist, und die Arbeit daran hat gerade erst begonnen, aber ich denke, es ist bereits m√∂glich, einige Schlussfolgerungen zu ziehen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als ich anfing, DeepCode-Trigger zu untersuchen, stie√ü ich auf die folgende Warnung f√ºr einen Fehler, auf den der Analysator mindestens 31 Mal gesto√üen war:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/db1/e18/7b7/db1e187b7965dc6e63264250089e8f48.png" alt="Bild 3"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diese Antwort fiel mir auf, da PVS-Studio eine √§hnliche </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diagnose hatte</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und ich dar√ºber hinaus eine solche Antwort in einem anderen Artikel untersuchte. Als ich ihn zum ersten Mal traf, schien es mir, dass nur sehr wenige Menschen eine mathematische Konstante ‚Äûvon Hand‚Äú schreiben w√ºrden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und PVS-Studio fand auch eine solche nachl√§ssige Verwendung von Konstanten, aber es gab nicht mehr als 31, sondern 52 Versuche dieser Art. Fast sofort gab es einen Moment, in dem maschinelles Lernen dem klassischen Ansatz unterlegen war. Wenn der Fehlercode zumindest irgendwie von einem sehr typischen Fehler dieser Art abweicht, wird es viel schwieriger, ihn zu finden. F√ºr die klassische statische Analyse muss der Fehler nicht viele, viele Male auftreten - es reicht aus, wenn der Diagnoseentwickler ein allgemeines Prinzip f√ºr das Auftreten eines Fehlers entwickelt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dar√ºber hinaus funktioniert die PVS-Studio-Diagnose nicht nur mit der Pi-Zahl oder anderen h√§ufig verwendeten Konstanten, sondern auch mit bestimmten Konstanten (z. B. der Landau-Ramanujan-Konstante), deren fehlerhafte Verwendung aufgrund ihrer seltenen Verwendung aufgrund einer gro√üen Trainingsbasis schwierig zu erfassen sein kann . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da DeepCode ausschlie√ülich an einer Konstante der Form 3.1415 arbeitete, f√ºgte ich aus Interesse der Konstante im Code an einer Stelle 4 Dezimalstellen (3.14159263) hinzu, und die Operation verschwand.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2a2/761/960/2a27619609a89f8cd0583b8e19d9cc06.png" alt="Bild 7"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PVS-Studio arbeitet an verschiedenen Optionen zum Runden von Konstanten.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9f7/7e2/eac/9f77e2eac68f3d52b6fa55207427d16b.png" alt="Bild 8"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Einschlie√ülich gibt es eine Antwort auf den ge√§nderten Abschnitt: </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V624</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Es gibt wahrscheinlich einen Druckfehler in der Konstante '3.14159263'. </font><font style="vertical-align: inherit;">Erw√§gen Sie die Verwendung der M_PI-Konstante aus &lt;math.h&gt;. </font><font style="vertical-align: inherit;">Crab.cpp 219 </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und der Punkt hier ist nicht, dass dies eine Art schrecklicher Fehler / grobe Rundung / die M√∂glichkeit eines Tippfehlers ist, sondern dass es best√§tigt, dass das Training des Codes auf genau diesen Code beschr√§nkt ist und, falls etwas passiert Verlassen Sie das allgemeine Muster oder treten Sie nur in seltenen F√§llen auf. Ein Fehler oder ein Mangel kann unbemerkt bleiben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Betrachten wir noch eine Operation. </font><font style="vertical-align: inherit;">DeepCode gab eine Warnung f√ºr den folgenden Code aus:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">Shader::loadShaderCode</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* fragmentShaderCode, ....)</span>
</span>{<font></font>
  ....<font></font>
  <span class="hljs-keyword">if</span> (mFragmentShaderSource != <span class="hljs-literal">NULL</span>)
    <span class="hljs-built_in">free</span>(mFragmentShaderSource);<font></font>
<font></font>
  ....<font></font>
<font></font>
  <span class="hljs-keyword">if</span> (mFragmentShaderSource != <span class="hljs-literal">NULL</span>)
    <span class="hljs-built_in">free</span>(mFragmentShaderSource);<font></font>
  ....<font></font>
}</code></pre><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6e7/6b3/b65/6e76b3b651c391139a7c1a7d0ecd13d4.png" alt="Bild 10"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PVS-Studio hatte weitere Beschwerden √ºber diesen Code:</font></font><br>
<br>
<ol>
<li>V809 Verifying that a pointer value is not NULL is not required. The 'if (mFragmentShaderSource != 0)' check can be removed. Shader.cpp 178</li>
<li>V809 Verifying that a pointer value is not NULL is not required. The 'if (mFragmentShaderSource != 0)' check can be removed. Shader.cpp 194</li>
<li>V774 The 'mFragmentShaderSource' pointer was used after the memory was released. Shader.cpp 194</li>
<li>V586 The 'free' function is called twice for deallocation of the same memory space. Inspect the first argument. Check lines: 179, 195. Shader.cpp 195</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie k√∂nnten denken, dass sich die DeepCode-Triggerung einfach als lakonisch herausgestellt hat und PVS-Studio viele unn√∂tige Triggerungen erzeugt hat, aber dies ist nicht der Fall, und jede Triggerung hier hat ihre eigene Bedeutung. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die ersten beiden Operationen beziehen sich auf eine √ºberm√§√üige Zeigerpr√ºfung, da eine </font><font style="vertical-align: inherit;">solche Pr√ºfung nicht erforderlich ist </font><font style="vertical-align: inherit;">, um die Funktion </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">free () zu</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> verwenden </font><font style="vertical-align: inherit;">. Die dritte Bet√§tigung zeigt an, dass die Verwendung des Zeigers nach dem Loslassen nicht sicher ist. Auch wenn der Zeiger selbst nicht dereferenziert, sondern nur √ºberpr√ºft wird, ist er dennoch verd√§chtig und weist h√§ufig auf einen Tippfehler hin. Nun, die letzte Operation weist nur auf dasselbe Problem hin, das DeepCode entdeckt hat.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a1e/7df/19b/a1e7df19b865674038e36383f7144696.png" alt="Bild 11"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Im </font><font style="vertical-align: inherit;">
DeepCode-Artikel gab </font><font style="vertical-align: inherit;">es einen Screenshot </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√ºber den Beginn der C / C ++ - Unterst√ºtzung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , der, wie es uns schien, ein falsches Positiv enth√§lt. Die Warnung weist auf einen m√∂glichen Puffer√ºberlauf hin. Der Speicher f√ºr den Puffer wird jedoch unter Ber√ºcksichtigung der L√§nge des </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Home</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und der L√§nge der Zeile </font><font style="vertical-align: inherit;">zugewiesen </font><font style="vertical-align: inherit;">, die durch + 1 weiter addiert wird. Somit ist mit Sicherheit gen√ºgend Platz im Puffer vorhanden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Problem hierbei kann sein, dass nicht √ºberpr√ºft wurde, ob der Speicher erfolgreich zugewiesen wurde. Vielleicht spricht die DeepCode-Warnung in diesem Fall √ºber etwas anderes: Der erste Satz der Warnung hilft nicht besonders, zu verstehen, was der Fehler ist und wor√ºber der Analysator tats√§chlich schw√∂rt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diesem Fall wird m√∂glicherweise ein weiterer Faktor ausgel√∂st, √ºber den wir geschrieben haben - die Schwierigkeit, aussagekr√§ftige Warnungen zu erstellen. Entweder werden Warnungen nach der Klassifizierung der Antworten eines geschulten Analysators von Personen geschrieben oder aus Kommentaren zu Commits / Dokumentationen gebildet. Das Generieren einer guten Warnung kann jedoch schwierig sein, wenn das Fehlermuster durch maschinelles Lernen und nicht vom Entwickler abgeleitet wurde. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe mich gefragt, was in diesem Code ge√§ndert werden muss, damit die Warnung verschwindet. Seltsamerweise trat jedoch in einem v√∂llig √§hnlichen Codeabschnitt in der neuen Datei keine solche Warnung auf, und eine andere erschien.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8f4/8c1/4d9/8f48c14d91ef4c6d45e3a871da06d959.png" alt="Bild 5"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vielleicht liegt der Punkt darin, dass die Umgebung, an der sich der Analysator orientiert hat, verschwunden ist oder ich etwas falsch gemacht habe. </font><font style="vertical-align: inherit;">Die Instabilit√§t von Warnungen und die Tatsache, dass ihr Erscheinungsbild unvorhersehbar ist, kann meiner Meinung nach nicht nur f√ºr Benutzer, sondern auch f√ºr die Entwickler des Analysators selbst zu Unannehmlichkeiten f√ºhren und den Entwicklungsprozess erschweren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obwohl die meisten DeepCode-Antworten noch nicht falsch sind, ist ihre Anzahl im Allgemeinen so gering, dass das Ergebnis seiner Arbeit im Moment eher selten als genau ist. </font><font style="vertical-align: inherit;">Eine kleine Anzahl von Fehlalarmen geht im Prinzip mit einer kleinen Anzahl von Positiven einher. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich gebe Ihnen einige interessante Fehler, die von PVS-Studio gefunden wurden. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fragment N1 </font></font></b><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V773</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Funktion wurde beendet, ohne den Zeiger 'line' loszulassen. </font><font style="vertical-align: inherit;">Ein Speicherverlust ist m√∂glich. </font><font style="vertical-align: inherit;">PxTkBmpLoader.cpp 166</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">BmpLoader::loadBmp</span><span class="hljs-params">(PxFileHandle f)</span>
</span>{<font></font>
  ....<font></font>
  <span class="hljs-keyword">int</span> lineLen = ....;
  <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span>* line = <span class="hljs-keyword">static_cast</span>&lt;<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span>*&gt;(<span class="hljs-built_in">malloc</span>(lineLen));
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = info.Height<span class="hljs-number">-1</span>; i &gt;= <span class="hljs-number">0</span>; i--)<font></font>
  {<font></font>
    num = fread(line, <span class="hljs-number">1</span>, <span class="hljs-keyword">static_cast</span>&lt;<span class="hljs-keyword">size_t</span>&gt;(lineLen), f);
    <span class="hljs-keyword">if</span> (num != <span class="hljs-keyword">static_cast</span>&lt;<span class="hljs-keyword">size_t</span>&gt;(lineLen)) { fclose(f); <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; }<font></font>
    ....<font></font>
  }<font></font>
  <span class="hljs-built_in">free</span>(line);
  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier tritt f√ºr den Fall, dass das Lesen aus der Datei unterbrochen wurde, ein Speicherverlust auf, da der Speicher vor der R√ºckkehr von der Funktion nicht freigegeben wird. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fragment N2 </font></font></b><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V595</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Der Zeiger 'gSphereActor' wurde verwendet, bevor er gegen nullptr verifiziert wurde. √úberpr√ºfen Sie die Zeilen: 228, 230. SnippetContactReportCCD.cpp 228</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">initScene</span><span class="hljs-params">()</span>
</span>{<font></font>
  ....<font></font>
  gSphereActor = gPhysics-&gt;createRigidDynamic(spherePose);<font></font>
  gSphereActor-&gt;setRigidBodyFlag(PxRigidBodyFlag::eENABLE_CCD, <span class="hljs-literal">true</span>);<font></font>
<font></font>
  <span class="hljs-keyword">if</span> (!gSphereActor)
    <span class="hljs-keyword">return</span>;<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gSphereActor-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Zeiger </font><i><font style="vertical-align: inherit;">wird</font></i><font style="vertical-align: inherit;"> dereferenziert, aber unmittelbar danach wird er auf nullptr √ºberpr√ºft und die Funktion wird beendet. Das hei√üt, ein Nullzeiger ist hier m√∂glich, aber es kommt immer noch zu einer Dereferenzierung. Im PhysX-Projekt gab es 24 Fehler dieser Art. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DeepCode gab nur Positive f√ºr einen bestimmten Falltyp zur√ºck (so wie ich es verstehe), bei dem der Zeiger urspr√ºnglich auf Null initialisiert wurde und es keine anderen Zuweisungen im Sichtfeld gab. PVS-Studio hat mit einem solchen Code nicht funktioniert, da ein solcher Brand meistens falsch ist, da der Zeiger einen Wert in einer anderen √úbersetzungseinheit erhalten kann (die meisten Br√§nde betrafen globale Variablen). Dieses Beispiel zeigt, dass weniger falsch positive Ergebnisse in der trainierten statischen Analyse nicht unbedingt wahr sind.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ace/a5a/dde/acea5adde0eb1c6be128390b1d2c64ae.png" alt="Bild 15"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/51a/770/129/51a770129e1d8e187e3e479df18494f0.png" alt="Bild 13"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier zeigt DeepCode h√∂chstwahrscheinlich aus irgendeinem Grund die falsche Initialisierung an. Stattdessen hat die Initialisierung </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gCooking</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> die Initialisierung </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gFoundation hervorgehoben</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , obwohl der Index nicht weiter beleuchtet ist. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fragment N3 </font></font></b><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V517</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Die Verwendung des </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">Musters</font></a><font style="vertical-align: inherit;"> 'if (A) {...} else if (A) {...}' wurde erkannt. Es besteht die Wahrscheinlichkeit, dass ein logischer Fehler vorliegt. √úberpr√ºfen Sie die Zeilen: 266, 268. AABox.cpp 266</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">AABox::initRT</span><span class="hljs-params">(<span class="hljs-keyword">int</span> depthSamples, <span class="hljs-keyword">int</span> coverageSamples)</span>
</span>{<font></font>
  ....<font></font>
  <span class="hljs-keyword">int</span> query;<font></font>
  ....<font></font>
  <span class="hljs-keyword">if</span> (....)  <font></font>
  {<font></font>
    ....<font></font>
    <span class="hljs-keyword">if</span> ( query &lt; coverageSamples)<font></font>
      ret = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ( query &gt; coverageSamples) <font></font>
      coverageSamples = query;<font></font>
    ....<font></font>
    <span class="hljs-keyword">if</span> ( query &lt; depthSamples)<font></font>
      ret = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ( query &gt; depthSamples)<font></font>
      depthSamples = query;<font></font>
  }<font></font>
  <span class="hljs-keyword">else</span> {<font></font>
    ....<font></font>
    <span class="hljs-keyword">if</span> ( query &lt; depthSamples)<font></font>
      ret = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ( query &lt; depthSamples) <span class="hljs-comment">// &lt;=</span><font></font>
      depthSamples = query;<font></font>
    ....<font></font>
  }<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier scheint sich der Fehler beim Kopieren und Einf√ºgen eingeschlichen zu haben. Der Analysator hat den gleichen Zustand in </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">else</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> festgestellt </font><font style="vertical-align: inherit;">. Aus dem vorherigen </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if-else k√∂nnen</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sie </font><i><font style="vertical-align: inherit;">ersehen,</font></i><font style="vertical-align: inherit;"> dass das "&gt;" in </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und das "&lt;" in </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">else</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> normalerweise aktiviert sind </font><font style="vertical-align: inherit;">. Obwohl das Muster extrem einfach aussieht, habe ich unter den DeepCode-Warnungen keine solche Antwort gefunden, obwohl es ein sehr einfach zu erkennendes Muster zu sein scheint. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fazit</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Nat√ºrlich hat DeepCode gerade die Unterst√ºtzung f√ºr C / C ++ angek√ºndigt und es ist Teil seines Produkts, das gerade erst mit der Entwicklung begonnen hat. Sie k√∂nnen es auch bei Ihren Projekten ausprobieren. In deren Service wurde ein praktisches Feedback-Fenster implementiert, falls Sie eine falsche Warnung erhalten haben.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir k√∂nnen jedoch jetzt die M√§ngel sehen, die mit maschinellem Lernen in der statischen Analyse einhergehen. Aus diesem Grund stehen wir der Idee, statischen Analyseger√§ten maschinelles Lernen hinzuzuf√ºgen, skeptisch gegen√ºber, da der Gewinn zweifelhaft ist: Es ist genau dieselbe Unterst√ºtzung f√ºr Analysatoren, das Schreiben oder Bearbeiten von Dokumentationen und die Arbeit an der Diagnose selbst erforderlich. Dar√ºber hinaus erfordern Probleme, die w√§hrend der Entwicklung auftreten, komplexere L√∂sungen und spezifische F√§higkeiten der Entwickler, wodurch die Anzahl potenzieller Kandidaten bei der Erweiterung des Teams verringert wird. In der Tat sollte der Entwickler in diesem Fall nicht nur ein Spezialist f√ºr die analysierte Sprache sein, sondern auch √ºber Kenntnisse auf dem Gebiet des maschinellen Lernens verf√ºgen.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/eb2/f9c/3bb/eb2f9c3bb5f32f39239298d36431961c.png"></div></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie diesen Artikel einem englischsprachigen Publikum zug√§nglich machen m√∂chten, verwenden Sie bitte den √úbersetzungslink: Victoria Khanieva. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DeepCode: Au√üerhalb der Perspektive</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de496514/index.html">IPIP IPsec VPN-Tunnel zwischen Linux-Maschine und Mikrotik hinter NAT-Provider</a></li>
<li><a href="../de496516/index.html">Telegrammbot in Python gegen COVID-19</a></li>
<li><a href="../de496518/index.html">Wie sind wir zur Fernbedienung gekommen?</a></li>
<li><a href="../de496528/index.html">Die Lokalisierung eines QR-Codes ist eine wichtige Aufgabe, die zu Unrecht der Aufmerksamkeit beraubt wird</a></li>
<li><a href="../de496532/index.html">Wir √ºberpr√ºfen uns selbst: Bereitstellung und Verwaltung von 1C: Dokumentenfluss innerhalb des 1C-Unternehmens</a></li>
<li><a href="../de496538/index.html">Fraktale in Python. Exemplarische Vorgehensweise</a></li>
<li><a href="../de496542/index.html">Der Internetverkehr in Europa ist eineinhalb Mal gewachsen. Backbone-Anbieter zeichnen Ladedatens√§tze auf</a></li>
<li><a href="../de496544/index.html">Online-Hackathon von Projekten f√ºr Selbstst√§ndige: 500 Tausend Rubel f√ºr ihre Ideen und Unterst√ºtzung durch den Bundessteuerdienst</a></li>
<li><a href="../de496546/index.html">Startup innerhalb des Unternehmens</a></li>
<li><a href="../de496554/index.html">Gerund auf Englisch: fast kompliziert</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>