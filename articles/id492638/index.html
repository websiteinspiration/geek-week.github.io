<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ˜¿ â›±ï¸ â– Menskalakan aplikasi Redux dengan bebek ğŸŸ ğŸ™†ğŸ¿ ğŸ‘¶ğŸ¼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Untuk mengantisipasi dimulainya kursus, "Pengembang React.js" menyiapkan terjemahan materi yang bermanfaat.
 
 
 
 
 Bagaimana front-end skala aplikas...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Menskalakan aplikasi Redux dengan bebek</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/492638/"><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Untuk mengantisipasi dimulainya kursus, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Pengembang React.js"</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> menyiapkan terjemahan materi yang bermanfaat.</font></font><br>
</i></b><br>
<br>
<img src="https://habrastorage.org/webt/v4/na/xg/v4naxgyec9pamduy0s1qf7gjqyc.png"><br>
<hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bagaimana front-end skala aplikasi Anda? Bagaimana membuat kode Anda mendukung enam bulan kemudian? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada 2015, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redux</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> menyerbu dunia pengembangan front-end dan memantapkan dirinya sebagai standar di luar React. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perusahaan tempat saya bekerja baru-baru ini menyelesaikan refactoring basis kode besar pada React, tempat kami menerapkan redux alih-alih </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">refluks</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami harus mengambil langkah ini karena bergerak maju tidak mungkin tanpa aplikasi yang terstruktur dengan baik dan seperangkat aturan yang jelas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Basis kode telah ada selama lebih dari dua tahun dan refluks telah ada sejak awal. Kami harus mengubah kode, sangat terkait dengan komponen Bereaksi, yang tidak ada yang menyentuh selama lebih dari setahun.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berdasarkan pengalaman dari pekerjaan yang dilakukan, saya membuat </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">repositori</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ini </font><font style="vertical-align: inherit;">, yang akan membantu menjelaskan pendekatan kami untuk mengatur kode pada redux.</font></font><a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketika Anda belajar lebih banyak tentang redux, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tindakan,</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reduksi</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , Anda mulai dengan contoh sederhana. </font><font style="vertical-align: inherit;">Banyak tutorial yang tersedia saat ini tidak lebih dari itu. </font><font style="vertical-align: inherit;">Namun, jika Anda membuat sesuatu yang lebih kompleks pada Redux daripada daftar tugas, Anda akan memerlukan cara yang masuk akal untuk skala basis kode Anda dari waktu ke waktu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seseorang pernah berkata bahwa dalam ilmu komputer tidak ada tugas yang lebih sulit daripada memberikan nama hal yang berbeda. </font><font style="vertical-align: inherit;">Saya tidak bisa tidak setuju. </font><font style="vertical-align: inherit;">Dalam hal ini, penataan folder dan organisasi file akan berada di posisi kedua. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita lihat bagaimana kita dulu mendekati organisasi kode.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fungsi vs Fitur</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Ada dua pendekatan yang diterima secara umum untuk mengatur aplikasi: function-first dan feature-first. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Pada tangkapan layar di sebelah kiri, struktur folder disusun menurut prinsip fungsi-pertama, dan di kanan - fitur-pertama. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ur/le/wb/urlewbt5etkrntpbqzlygb0yzlo.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Fungsi-pertama berarti direktori tingkat atas Anda diberi nama sesuai dengan file di dalamnya. Jadi Anda memiliki: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wadah, komponen, aksi, reduksi</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dll. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini tidak berskala sama sekali. Ketika aplikasi Anda tumbuh dan fungsi baru muncul, Anda akan menambahkan file ke folder yang sama. Akibatnya, Anda perlu menggulir konten dari salah satu folder untuk waktu yang lama untuk menemukan file yang diinginkan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Masalah lain adalah menggabungkan folder. Salah satu utas aplikasi Anda mungkin akan memerlukan akses ke file dari semua folder.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Salah satu keuntungan dari pendekatan ini adalah dapat mengisolasi, dalam kasus kami, Bereaksi dari Redux. Oleh karena itu, jika Anda ingin mengubah perpustakaan manajemen negara bagian, Anda akan tahu folder mana yang Anda perlukan. Jika Anda perlu mengubah perpustakaan tampilan, Anda dapat meninggalkan folder dengan redux utuh. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fitur-pertama berarti direktori tingkat atas akan dinamai sesuai dengan fungsi utama aplikasi: produk, kereta, sesi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pendekatan ini berskala jauh lebih baik, karena setiap fitur baru terletak di folder baru. Namun, Anda tidak memiliki pemisahan antara komponen Redux dan Bereaksi. Mengubah salah satunya dalam jangka panjang bukanlah tugas yang mudah.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selain itu, Anda akan memiliki file yang bukan milik fungsi apa pun. </font><font style="vertical-align: inherit;">Akibatnya, semuanya berujung pada folder bersama atau bersama, karena Anda juga ingin menggunakan kode Anda dalam berbagai fitur aplikasi Anda.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menggabungkan yang terbaik dari dua dunia</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Meskipun ini bukan topik artikel, saya ingin mengatakan bahwa file manajemen negara dari file UI perlu disimpan secara terpisah. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pikirkan aplikasi Anda dalam jangka panjang. Bayangkan apa yang terjadi pada kode Anda jika Anda beralih dari Bereaksi ke sesuatu yang lain. Atau pikirkan tentang bagaimana basis kode Anda akan menggunakan ReactNative secara paralel dengan versi web. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inti </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dari pendekatan kami</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adalah prinsip isolasi React code dalam folder bernama </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">views</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dan kode redux di folder lain yang disebut redux. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pemisahan di tingkat entri ini memberi kita keleluasaan untuk mengatur bagian-bagian aplikasi secara terpisah. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di dalam folder </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">views</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kami mendukung organisasi file fungsi-pertama. </font><font style="vertical-align: inherit;">Dalam konteks Bereaksi, ini terlihat alami: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">halaman, tata letak, komponen, peningkat</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dll. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agar tidak tergila-gila dengan jumlah file dalam folder, Anda dapat menggunakan pendekatan fitur-pertama di dalam folder ini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sementara itu, di folder </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">redux</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ...</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Memperkenalkan bebek-ulang</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Setiap fungsi aplikasi harus sesuai dengan tindakan dan reduksi terpisah, sehingga masuk akal untuk menerapkan pendekatan fitur-pertama. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pendekatan modular asli </font></font><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bebek</font></font></a></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> memudahkan untuk bekerja dengan redux dan menawarkan cara terstruktur untuk menambahkan fungsionalitas baru ke aplikasi Anda. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Namun, Anda ingin memahami apa yang terjadi ketika Anda mengatur skala aplikasi. </font><font style="vertical-align: inherit;">Kami menyadari bahwa cara mengatur satu file per fitur mengacaukan aplikasi dan membuat dukungannya bermasalah. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bebek re-muncul</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Solusinya adalah dengan membagi fungsionalitas menjadi folder bebek.</font></font><br>
<br>
<pre><code class="javascript hljs">duck/<font></font>
â”œâ”€â”€ actions.js<font></font>
â”œâ”€â”€ index.js<font></font>
â”œâ”€â”€ operations.js<font></font>
â”œâ”€â”€ reducers.js<font></font>
â”œâ”€â”€ selectors.js<font></font>
â”œâ”€â”€ tests.js<font></font>
â”œâ”€â”€ types.js<font></font>
â”œâ”€â”€ utils.js</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Folder bebek harus:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Berisi semua logika pemrosesan hanya SATU konsep aplikasi Anda, misalnya: produk, kereta, sesi, dll.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Berisi file index.js, yang diekspor sesuai dengan aturan bebek.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Simpan kode dalam satu file yang melakukan pekerjaan serupa, seperti reduksi, penyeleksi, dan tindakan.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Berisi tes yang berhubungan dengan bebek.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Misalnya, dalam contoh ini, kami tidak menggunakan abstraksi yang dibangun di atas redux. </font><font style="vertical-align: inherit;">Saat membuat perangkat lunak, penting untuk memulai dengan jumlah abstraksi yang paling sedikit. </font><font style="vertical-align: inherit;">Dengan demikian, Anda akan melihat bahwa nilai abstraksi Anda tidak melebihi manfaatnya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda ingin memastikan abstraksi buruk, tonton video </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cheng Lou ini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita lihat isi setiap file.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jenis</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 File </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">types</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> berisi nama </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tindakan</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> yang Anda lakukan di aplikasi Anda. </font><font style="vertical-align: inherit;">Sebagai praktik yang baik, Anda harus mencoba untuk menutupi namespace yang sesuai dengan fungsi yang dimiliki. </font><font style="vertical-align: inherit;">Pendekatan ini akan membantu ketika men-debug aplikasi yang kompleks.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> QUACK = <span class="hljs-string">"app/duck/QUACK"</span>;
<span class="hljs-keyword">const</span> SWIM = <span class="hljs-string">"app/duck/SWIM"</span>;<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {<font></font>
    QUACK,<font></font>
    SWIM<font></font>
};</code></pre><br>
 <h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tindakan</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 File ini berisi semua fungsi </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pembuat tindakan</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> types <span class="hljs-keyword">from</span> <span class="hljs-string">"./types"</span>;<font></font>
<font></font>
<span class="hljs-keyword">const</span> quack = <span class="hljs-function"><span class="hljs-params">( )</span> =&gt;</span> ( {
    <span class="hljs-attr">type</span>: types.QUACK<font></font>
} );<font></font>
<font></font>
<span class="hljs-keyword">const</span> swim = <span class="hljs-function">(<span class="hljs-params"> distance </span>) =&gt;</span> ( {
    <span class="hljs-attr">type</span>: types.SWIM,
    <span class="hljs-attr">payload</span>: {<font></font>
        distance<font></font>
    }<font></font>
} );<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {<font></font>
    swim,<font></font>
    quack<font></font>
};</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Perhatikan bahwa semua </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tindakan</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> diwakili oleh fungsi, bahkan jika itu tidak parameter. </font><font style="vertical-align: inherit;">Pendekatan yang konsisten adalah prioritas tertinggi untuk basis kode besar.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Operasi</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Untuk mewakili rantai operasi ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Operasi</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), Anda akan memerlukan redux </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">middleware</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , untuk meningkatkan fungsi </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pengiriman</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Contoh populer adalah </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">redux-thunk</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">redux-saga,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> atau </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">redux-observable</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam kasus kami, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">redux-thunk digunakan</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Kita perlu memisahkan </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">thunks</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dari </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pencipta aksi,</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bahkan dengan biaya menulis kode tambahan. Oleh karena itu, kami akan mendefinisikan operasi sebagai pembungkus </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tindakan</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika operasi hanya mengirim satu </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tindakan</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , yaitu, itu tidak benar-benar menggunakan </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">redux-thunk</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , kami mengirim fungsi </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pembuat tindakan</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Jika operasi menggunakan </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">thunk</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , ia dapat mengirim banyak </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tindakan</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan menautkannya menggunakan </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">janji</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> actions <span class="hljs-keyword">from</span> <span class="hljs-string">"./actions"</span>;<font></font>
<font></font>
<span class="hljs-comment">// This is a link to an action defined in actions.js.</span>
<span class="hljs-keyword">const</span> simpleQuack = actions.quack;<font></font>
<font></font>
<span class="hljs-comment">// This is a thunk which dispatches multiple actions from actions.js</span>
<span class="hljs-keyword">const</span> complexQuack = <span class="hljs-function">(<span class="hljs-params"> distance </span>) =&gt;</span> <span class="hljs-function">(<span class="hljs-params"> dispatch </span>) =&gt;</span> {<font></font>
    dispatch( actions.quack( ) ).then( <span class="hljs-function"><span class="hljs-params">( )</span> =&gt;</span> {<font></font>
        dispatch( actions.swim( distance ) );<font></font>
        dispatch( <span class="hljs-comment">/* any action */</span> );<font></font>
    } );<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {<font></font>
    simpleQuack,<font></font>
    complexQuack<font></font>
};</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Sebut mereka operasi, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">thunks</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , sagas, epos, seperti yang Anda inginkan. </font><font style="vertical-align: inherit;">Identifikasi saja prinsip penamaan dan patuhi mereka. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada akhirnya, kita akan berbicara tentang indeks dan melihat bahwa operasi adalah bagian dari antarmuka publik bebek. </font><font style="vertical-align: inherit;">Tindakan dienkapsulasi, operasi menjadi dapat diakses dari luar.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reduksi</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Jika Anda memiliki fungsi yang lebih beragam, Anda harus menggunakan beberapa </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reduksi</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> untuk menangani struktur keadaan kompleks. Selain itu, jangan takut untuk menggunakan sebanyak mungkin </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CombedReducers yang</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Anda butuhkan. Ini akan memungkinkan bekerja dengan struktur objek negara lebih bebas.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> { combineReducers } <span class="hljs-keyword">from</span> <span class="hljs-string">"redux"</span>;
<span class="hljs-keyword">import</span> types <span class="hljs-keyword">from</span> <span class="hljs-string">"./types"</span>;<font></font>
<font></font>
<span class="hljs-comment">/* State Shape
{
    quacking: bool,
    distance: number
}
*/</span><font></font>
<font></font>
<span class="hljs-keyword">const</span> quackReducer = <span class="hljs-function">(<span class="hljs-params"> state = <span class="hljs-literal">false</span>, action </span>) =&gt;</span> {
    <span class="hljs-keyword">switch</span>( action.type ) {
        <span class="hljs-keyword">case</span> types.QUACK: <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-comment">/* ... */</span>
        <span class="hljs-keyword">default</span>: <span class="hljs-keyword">return</span> state;<font></font>
    }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">const</span> distanceReducer = <span class="hljs-function">(<span class="hljs-params"> state = <span class="hljs-number">0</span>, action </span>) =&gt;</span> {
    <span class="hljs-keyword">switch</span>( action.type ) {
        <span class="hljs-keyword">case</span> types.SWIM: <span class="hljs-keyword">return</span> state + action.payload.distance;
        <span class="hljs-comment">/* ... */</span>
        <span class="hljs-keyword">default</span>: <span class="hljs-keyword">return</span> state;<font></font>
    }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">const</span> reducer = combineReducers( {
    <span class="hljs-attr">quacking</span>: quackReducer,
    <span class="hljs-attr">distance</span>: distanceReducer<font></font>
} );<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> reducer;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Dalam aplikasi besar, pohon negara akan terdiri dari setidaknya tiga tingkatan. </font><font style="vertical-align: inherit;">Fungsi </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">peredam</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> harus sekecil mungkin dan hanya menangani konstruksi data sederhana. </font><font style="vertical-align: inherit;">Fungsi </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CombReducers</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adalah semua yang Anda butuhkan untuk membuat struktur keadaan yang fleksibel dan dapat dipelihara. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lihat </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contoh proyek</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> lengkap </font><font style="vertical-align: inherit;">dan lihat bagaimana menggunakan </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gabunganReducer dengan benar</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , terutama dalam file </font></font><code>reducers.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan di </font></font><code>store.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mana kita sedang </font><i><font style="vertical-align: inherit;">membangun</font></i><font style="vertical-align: inherit;"> pohon negara.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Penyeleksi</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Seiring dengan operasi pemilih ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pemilih</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) adalah bagian dari antarmuka publik bebek. </font><font style="vertical-align: inherit;">Perbedaan antara operasi dan penyeleksi mirip dengan pola </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CQRS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fungsi pemilih mengambil sepotong status aplikasi dan mengembalikan beberapa data berdasarkan itu. </font><font style="vertical-align: inherit;">Mereka tidak pernah melakukan perubahan pada status aplikasi.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkIfDuckIsInRange</span>(<span class="hljs-params"> duck </span>) </span>{
    <span class="hljs-keyword">return</span> duck.distance &gt; <span class="hljs-number">1000</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {<font></font>
    checkIfDuckIsInRange<font></font>
};</code></pre><br>
 <h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Indeks</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 File ini menunjukkan apa yang akan diekspor dari folder bebek. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apakah dia:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mengekspor fungsi </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">peredam</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dari bebek secara default.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ekspor pemilih dan operasi sebagai ekspor terdaftar.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jenis ekspor jika diperlukan di bebek lain.</font></font></li>
</ul><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> reducer <span class="hljs-keyword">from</span> <span class="hljs-string">"./reducers"</span>;<font></font>
<font></font>
<span class="hljs-keyword">export</span> { <span class="hljs-keyword">default</span> <span class="hljs-keyword">as</span> duckSelectors } <span class="hljs-keyword">from</span> <span class="hljs-string">"./selectors"</span>;
<span class="hljs-keyword">export</span> { <span class="hljs-keyword">default</span> <span class="hljs-keyword">as</span> duckOperations } <span class="hljs-keyword">from</span> <span class="hljs-string">"./operations"</span>;
<span class="hljs-keyword">export</span> { <span class="hljs-keyword">default</span> <span class="hljs-keyword">as</span> duckTypes } <span class="hljs-keyword">from</span> <span class="hljs-string">"./types"</span>;<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> reducer;</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tes</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Keuntungan menggunakan Redux bersama dengan kerangka kerja bebek adalah Anda dapat menulis tes tepat setelah kode yang ingin Anda uji. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menguji kode Anda di Redux cukup mudah:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> expect <span class="hljs-keyword">from</span> <span class="hljs-string">"expect.js"</span>;
<span class="hljs-keyword">import</span> reducer <span class="hljs-keyword">from</span> <span class="hljs-string">"./reducers"</span>;
<span class="hljs-keyword">import</span> actions <span class="hljs-keyword">from</span> <span class="hljs-string">"./actions"</span>;<font></font>
<font></font>
describe( <span class="hljs-string">"duck reducer"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> </span>) </span>{<font></font>
    describe( <span class="hljs-string">"quack"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> </span>) </span>{
        <span class="hljs-keyword">const</span> quack = actions.quack( );
        <span class="hljs-keyword">const</span> initialState = <span class="hljs-literal">false</span>;<font></font>
<font></font>
        <span class="hljs-keyword">const</span> result = reducer( initialState, quack );<font></font>
<font></font>
        it( <span class="hljs-string">"should quack"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> </span>) </span>{<font></font>
            expect( result ).to.be( <span class="hljs-literal">true</span> ) ;<font></font>
        } );<font></font>
    } );<font></font>
} );</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di dalam file ini Anda dapat menulis tes untuk </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reduksi</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , operasi, penyeleksi, dll. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya bisa menulis seluruh artikel terpisah tentang manfaat pengujian kode, tetapi mereka sudah cukup, jadi cukup uji kode Anda!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Itu saja</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kabar baiknya tentang re-itik adalah Anda dapat menggunakan template yang sama untuk semua kode redux Anda. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pendekatan partisi berbasis </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fitur</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> untuk kode redux Anda membantu aplikasi Anda tetap fleksibel dan dapat diskalakan seiring pertumbuhannya. </font><font style="vertical-align: inherit;">Pendekatan pemisahan berbasis </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fungsi</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> akan bekerja dengan baik ketika membangun komponen kecil yang umum untuk bagian aplikasi yang berbeda. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda dapat melihat pada basis kode </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contoh reaksi-redux</font></font></i> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> penuh di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ingatlah bahwa repositori aktif bekerja. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bagaimana Anda mengatur aplikasi redux Anda? </font><font style="vertical-align: inherit;">Saya menantikan umpan balik tentang pendekatan yang dijelaskan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sampai jumpa di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lapangan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id492612/index.html">Lampu langit-langit dekoratif Leek Celebrity</a></li>
<li><a href="../id492616/index.html">Packer, Terraform dan Ansible: penyebaran cluster Kubernetes dalam satu jam</a></li>
<li><a href="../id492628/index.html">Interval kepercayaan untuk jumlah pasien dengan coronavirus (perhitungan kematian)</a></li>
<li><a href="../id492632/index.html">Usaha kecil yang dikarantina: panik adalah musuh akal</a></li>
<li><a href="../id492636/index.html">Apa artinya menjadi efektif?</a></li>
<li><a href="../id492642/index.html">Buat arsitektur yang skalabel dan tangguh dengan layanan microser dinamis</a></li>
<li><a href="../id492652/index.html">Permainan kartu "Bodoh" di dua M5Stack</a></li>
<li><a href="../id492658/index.html">Saya pergi ke remote control - meluncurkan podcast: apa yang harus dibaca untuk pemula - 5 buku yang terbukti</a></li>
<li><a href="../id492660/index.html">Seluruh dunia melawan coronavirus. Cerita Intel</a></li>
<li><a href="../id492662/index.html">Bagaimana saya pertama kali menyampaikan kuliah di universitas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>