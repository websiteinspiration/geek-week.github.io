<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🕉️ 💎 👨🏻‍🚀 Motor! or What is game physics 😟 👵🏿 🧑🏼‍🤝‍🧑🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When creating a game, developers have to find a balance not only in mechanics, but also in physics. Realism or arcade? In general, someone like that. ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Motor! or What is game physics</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/playgendary/blog/490720/"><img src="https://habrastorage.org/webt/sw/v1/fk/swv1fkmght_gqbruifhmacq2e-o.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When creating a game, developers have to find a balance not only in mechanics, but also in physics. Realism or arcade? In general, someone like that. The main thing is fan and pleasure. It is necessary to create the fundamental laws of your world, and explain that the ability to walk on the ceiling is a mechanic, not a bug. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
How complicated game physics should be, what kinds of games there are and what tricks developers go to when implementing them - translated under cut.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Physics in video games is often taken for granted. If the character jumps, he is obliged to land, and not fly into space (although with a fairly long game in Skyrim, this can still happen). We expect that the objects in the game will behave as in life (we don’t take bugs into account). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Programming physics can come down to one or two methods with a couple of lines of code. Or maybe a complex system with a separate physical engine (for example, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Havok</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> or </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PhysX</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) with millions of lines of code. Regardless of complexity, game physics is divided into two categories: solid state physics and soft body physics.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/sd/wb/z6/sdwbz6ak-2lw0ejmowogso1jacc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Solid state physics is needed in most 2D and 3D games. </font><font style="vertical-align: inherit;">Soft-body physics describes the action of forces on an object that takes various forms (for example, a flag). </font><font style="vertical-align: inherit;">Displaying a soft body is much more difficult, so this approach is used much less often.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The important role of gaming physics</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Game physics serves different purposes, but the most important ones are intuitiveness and fun. If an object behaves unpredictably, it will be difficult to understand the rules of the game. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If the ball in FIFA 20 each time bounced in a random direction, it would be impossible to score a goal. The developers are trying to recreate the rebound of the ball depending on its trajectory, speed and other factors in the real world. For the player to intuitively understand how to handle the ball or other objects. By the way, FIFA 20 has a lot of </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bad reviews</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> precisely because its physics does not work as fans expected.</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/3WafMOb78KM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Moreover, games are not required to strictly observe the natural laws of nature. The main thing is that the game should be fun, and the implementation of real physical laws can destroy the whole experience. Imagine </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grand Theft Auto V</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> with harsh terrestrial physics (but if you really want to, you can put a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">special mod</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). Even a mild accident at high speed would end fatally, kill the pace and atmosphere. Not very fun.</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/fjRQUxc9YPY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The developer must find the right balance between a fun game and a game with realistic physics. </font><font style="vertical-align: inherit;">And it often depends on the target audience. </font><font style="vertical-align: inherit;">A good example is racing. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Many people like Arcade Racing (Need For Speed), in which touching the chipper or a sharp turn weakly affects the control of the machine. </font><font style="vertical-align: inherit;">Others prefer realistic racing simulators (Gran Turismo). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But even creating simulators, developers are trying to attract a new audience - Gran Turismo relied on photorealism (and to some extent it worked). </font><font style="vertical-align: inherit;">But in the end, Polyphony Digital added an arcade mode to capture a bigger market.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Solid state physics</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Speaking of game physics, we usually mean rigid body physics (RBP). </font><font style="vertical-align: inherit;">It describes and reproduces the physical laws applicable to solid masses of matter. </font><font style="vertical-align: inherit;">The ball in FIFA 20 is a solid that is controlled by the physics of the game. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It doesn't matter if we look at 2D titles like Pong or 3D titles like Skyrim - most games have linear solid state physics.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zu/pc/1f/zupc1ffocfm6qrbicjviw4tzy-m.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Physics of 2D Games</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Take Pong as an example. Two solids (ball and racket) collide again and again. That doesn’t sound very encouraging. The grandfather of video games did not have realistic physics. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
First, programmers ignored gravity, friction, and inertia. There was just a ball moving back and forth at a constant speed. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Secondly, the bounce angle of the ball from the racket was not calculated accurately. The ball completely ignores the law of reflection: if rotation and other factors are not taken into account, the angle of incidence of the ball on the surface is equal to the angle of its rebound from it. In Pong, the angle of reflection was determined by how close the ball was to the center of the racket at the time of contact. The original trajectory did not matter. Players could completely change the inertia of the ball, despite the vector of its movement.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The ball trajectory has become more taken into account in later versions and in other similar games. For example, in Breakout. But even there is no realism, otherwise a fun game turns into a boring and difficult one. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ll/be/jv/llbejvs9a5dru8zwwrkwvgvr9aa.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Games with artillery were the first to take gravity and resistance into account in their mechanics. Users took turns firing cannonballs, arrows and missiles to destroy the enemy’s base. Such games took into account semi-realistic ballistics, that is - the launch angle, gravity, wind resistance and the original speed. But again, the designers did not seek to do everything as in the real world. Their target audience was ordinary people, not ballistic experts.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The behavior of solids (primarily shells) depended on several forces. In accordance with them, the animations changed. Arrows and rockets are a great example of animating solids in similar games. The plane of the projectile could change during the flight, and the arrow remained straight. Two points on an object in a system of solids will always be at the same distance from each other. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Games like Donkey Kong and Mario Bros. strongly influenced the physics of 3D projects. Mario made friends with the basic physical laws - gravity, momentum and inertia. The jump became the main mechanics and remained in the gaming industry forever. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/mm/oe/01/mmoe01siluimnrrrqczlfqjwz3o.gif"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The bouncing object should fall back. The only question is how high it will rise and how quickly it will fall? And how realistic should gravity be in a game?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If Mario obeyed the real laws of physics, he would never have passed the first level. </font><font style="vertical-align: inherit;">The balance had to be changed for the sake of fun gameplay and players' expectations. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Further games in the series expanded these boundaries - a double jump appeared. </font><font style="vertical-align: inherit;">In this franchise, it was first added to Super Mario 64, but had previously been used in </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dragon Buster</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in 1984. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Double jump began to be actively used in platformers (sometimes even too much). </font><font style="vertical-align: inherit;">And it is still there in many modern projects, including 3D. </font><font style="vertical-align: inherit;">For example, Devil May Cry and Unreal Tournament.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3D physics</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Physics in 3D games is not much different from physics in 2D projects. The calculations are complicated by the third dimension (Z axis) and the fact that objects consist of several solids. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In most 2D games, developers only need to process data from just a few collisions of solids. For example: Mario jumps on Kupu. Mario can touch any part of the Kupa. Depending on the point of contact, either Coop hides in a shell, or Mario loses his life. In any case, we are talking about a single touch. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ll/7n/s9/ll7ns9am6wdstaxldz2b4ho3g1u.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In 3D games, several solid objects collide simultaneously. In Uncharted, when Drake climbs a rock, the program monitors at least his arms and legs - individual solids. He can bounce and grab the stairs with one hand or two, and the animation will be different.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In 3D games (and some 2D), the limbs of the characters are divided into several solids that are connected by joints. That is, the model of the human hand consists of the forearm and hand, which are connected by the wrist and are attached to the shoulder by the elbow joint. This is described by ragdoll physics (from the English ragdoll - rag doll). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kj/lg/wv/kjlgwvnjdqnftx6vjq-uxxtssdi.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Image: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">University of California</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , Riverside</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Compounds of solids (joints) are created in </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the skeletal animation system of the</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> game engine. Each solid must move according to certain rules in order to look realistic. To calculate the movements, programmers use various techniques. The most famous is </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Featherstone's algorithm</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , a restrictive approach that prevents limbs from hanging out randomly.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There are other approaches to working with ragdoll: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Werle integration</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Hitman: Codename 47), </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">inverse kinematics</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Halo: Combat Evolved and Half-Life), </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mixed ragdoll</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Uncharted: Drakes Fortune and many others) and </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">procedural animation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Medal of Honor series ) </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pu/d9/py/pud9pycvuwcwsavxy7-btr3lxc0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
All these techniques are aimed at ensuring that the body does not go limp too quickly and does not fall to the ground, like a rag doll. The motion of solids incorporated into a model is limited, so they behave predictably. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let me remind you, you always need to find a balance between realism and fun. Even if the game will cheat a little.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Take the Sniper Elite series. In the real world, a shooter must take into account a bunch of variables: wind speed, wind direction, range, target movement, mirage, light source, temperature, pressure and </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the Coriolis effect</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If Rebellion created an authentic sniper simulator taking into account all the variables, the game would become very difficult. Their ignoring is due not only to the capabilities of modern processors. The average user not only does not want to calculate all these factors during the game, he does not even want to know about them. It’s more profitable to let the player use the scope and show the bullet’s flight in slow mo.</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/5ADcp3aZDLs" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Call of Duty: Modern Warfare has a level where you need to hit a target from a long distance. The player must take into account the Coriolis effect, as well as the speed and direction of the wind. Some people like this challenge, but I abandoned it. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Racing is another genre that requires a lot of calculations on solids and the forces acting on them. The wheels are in contact with the road surface, the suspension is in contact with the wheels, the cars collide with each other. Still other objects directly or indirectly participate in collisions. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The physical forces acting on cars when turning are usually simplified. Drifting in them is simple, but at the same time quite complicated - players should feel satisfaction. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The Gran Turismo and Assetto Corsa simulators have more realistic forces. For example, Assetto Corsa Competizione (version 1.0.7)</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uses a</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> five-point tire model. </font><font style="vertical-align: inherit;">It includes two points on the front edge of the tire, two on the rear and one in the middle - all together act as a combined solid. </font><font style="vertical-align: inherit;">Points can move and bend in three dimensions, independently responding to external forces and contact with the surface. </font><font style="vertical-align: inherit;">Additional points significantly increase the number of calculations that the engine performs.</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/py_zwCi30js" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Physical models in 3D titles are much more complex than in 2D. </font><font style="vertical-align: inherit;">You have to keep track of more variables and common ground. </font><font style="vertical-align: inherit;">But most of the calculations are linear, so such models are much simpler than soft body models.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Soft body physics</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Soft body physics (SBP) describes deformable objects. </font><font style="vertical-align: inherit;">It is used less often and is greatly reduced in video games due to the huge amount of computing. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Soft bodies are clothing, hair, and accumulations of particles such as smoke or fog. </font><font style="vertical-align: inherit;">The points of a solid always remain at the same distance from each other. </font><font style="vertical-align: inherit;">A soft body can deform and move so that the distance between its points will change.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Deformable solids</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Soft body movement may be limited. All points of the flag will always remain on the flag, they cannot separate. The range of deviation of points from each other depends on the distance between them on the smoothed flag. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adjacent points always remain adjacent. Remote points can come nearer, but at the same time they cannot move farther from each other beyond the distance at which they are fixed on the expanded flag. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/6m/2x/f0/6m2xf0rtxe463ak_pe0qdx5dtyq.gif"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The number of calculations for the soft body exceeds the capabilities of the CPU and GPU. Therefore, developers simplify and trick. For example, looping animation is used. But such a picture will seem unnatural after some time. It is better not to resort to such a life hack if the object is in the center of attention.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Clothing has almost the same soft-body properties as the flag, but its physics is even more complex. Firstly, because the player will definitely pay attention to her. Secondly, because it is often more dynamic: the player exerts its own influence on it. A great example is Batman's cloak in the Arkham series.</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/zsjmLNZtvxk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Designers cannot use looped animation on a cloak, because its movement depends on the actions of the player. If the player directs the character to the left, the cloak should shift to the right in order to realistically display the inertia and air resistance. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is where physical engines come into play. In Batman: Arkham Knight, Rocksteady used APEX Cloth PhysX. This tool allows you to create a mask for bodies displaying clothes, and adjust the parameters of their movement. Depending on the configuration, everything from silk to burlap can be displayed. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To improve performance, you can limit the effects of natural forces on the fabric. For example, the Wind Method can be set to Accurate or Legacy. Partial display ignores small fluctuations, fewer calculations are performed.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Not all points on the fabric need to be considered - they can act in groups. </font><font style="vertical-align: inherit;">This reduces the number of vertices that need to be processed. </font><font style="vertical-align: inherit;">However, not all of these groups interact with each other as in a real soft body. </font><font style="vertical-align: inherit;">They mainly affect only the nearest points, so the number of mathematical calculations is reduced to an acceptable level.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Soft Body Particle Systems</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Displaying smoke or clouds is even more difficult. </font><font style="vertical-align: inherit;">The points of such objects can move nonlinearly relative to each other. </font><font style="vertical-align: inherit;">Some points can move beyond the figurative boundaries of the object and even form other soft bodies. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Physical engines have significantly improved particle systems in recent years. </font><font style="vertical-align: inherit;">Look at the welcome screen from Skyrim and how realistic the smoke looks there.</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/uZIduaWkhSs" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Each particle in the soft body system has a static lifespan. This is the period from the moment of its occurrence to the moment of its disappearance (after some time, the source of particles will create it again). During this period, the point moves with the given parameters. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Consider the smoke from a campfire as an example. Each particle moves upward from the source: nonlinearly, spinning and randomly changing its position in space. So they rise until their lifespan ends, and then they are removed.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Life expectancy affects how naturally a particle system looks. With a long duration, you can create quite realistic smoke from a fire, but this will heavily load the processor. Short - reduces the number of calculations, but the particles will only have time to slightly rise before disappearing. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The smoke in the Skyrim screensaver looks cool, simply because nothing else happens on the screen. The entire power of the processor and video card can be directed to simulate smoke particles with a very long lifespan. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/8u/xy/1y/8uxy1yzkhymnkpcxmswsmvajbmg.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the game itself, the smoke from the fire does not look so realistic anymore. It is still pretty convincing, but simpler: developers have reduced the time it takes to display particles in a simulation. There are other tricks. For example, overlaying multiple static smoke layers</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Soft-body physics is very carefully added to games. </font><font style="vertical-align: inherit;">Firstly, there is no need for a complete simulation of soft body physics - as a rule, it is needed only for aesthetics. </font><font style="vertical-align: inherit;">Secondly, the exact reproduction of the soft body system requires too many calculations.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">To summarize</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Video game physics is a complex field in which developers seek a balance between realism and the limitations of computing power. </font><font style="vertical-align: inherit;">Tricks, simplifications and physical engines allow you to quickly create a fairly realistic physics, to focus on more important aspects of the game. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/iy/za/pb/iyzapb8xhngzijkilwo9jmh1yxm.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The game should be interesting. </font><font style="vertical-align: inherit;">Realism is not so important compared to the addictive gameplay. </font><font style="vertical-align: inherit;">Game physics is still important - you need intuitive rules. </font><font style="vertical-align: inherit;">At the same time, they can be changed to enrich the gameplay (remember the double jump). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you want to better understand the physics of video games, then check out the relevant sections in </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the Unity </font></font></a><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://docs.aws.amazon.com/lumberyard/latest/tutorials/tutorials-game-engine-101.html%3Ftag%3D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Guide</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> or </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://docs.aws.amazon.com/lumberyard/latest/tutorials/tutorials-game-engine-101.html%3Ftag%3D"><font style="vertical-align: inherit;">the Lumberyard Guide</font></a><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en490704/index.html">Japanese and California Kano models</a></li>
<li><a href="../en490708/index.html">Finnish airlines Finnair: how the crew trains and a little about the insides of the kitchen</a></li>
<li><a href="../en490714/index.html">How to get 100 thousand per code. Complete Beginner's Guide</a></li>
<li><a href="../en490716/index.html">How to ensure high-quality operation of the local network of a small enterprise?</a></li>
<li><a href="../en490718/index.html">What is the "clean code" in 2020?</a></li>
<li><a href="../en490722/index.html">Gender holidays in IT. How to note</a></li>
<li><a href="../en490726/index.html">Authentication on network equipment through SSH using public keys</a></li>
<li><a href="../en490728/index.html">Security Week 10: RSA Conference and Cybersecurity Awareness</a></li>
<li><a href="../en490730/index.html">Intel x86 Root of Trust: loss of trust</a></li>
<li><a href="../en490732/index.html">Speech Recognition: A Very Short Introductory Course</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>