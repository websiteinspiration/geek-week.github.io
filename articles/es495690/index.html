<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëßüèº üï£ üìõ Conceptos de API de audio web üë®üèº‚Äç‚öïÔ∏è üßëüèæ‚Äçü§ù‚ÄçüßëüèΩ üñ•Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="¬°Buen dia amigos! 
 
 Este art√≠culo explica algunos conceptos de la teor√≠a de la m√∫sica en los que opera la API de audio web (WAA). Conociendo estos c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Conceptos de API de audio web</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/495690/"><img src="https://habrastorage.org/webt/_r/j3/qd/_rj3qdi2rvk5vwbvfskmddp8yic.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬°Buen dia amigos! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este art√≠culo explica algunos conceptos de la teor√≠a de la m√∫sica en los que opera la API de audio web (WAA). </font><font style="vertical-align: inherit;">Conociendo estos conceptos, puede tomar decisiones informadas al dise√±ar audio en una aplicaci√≥n. </font><font style="vertical-align: inherit;">Este art√≠culo no lo convertir√° en un ingeniero de sonido experimentado, pero le ayudar√° a comprender por qu√© WAA funciona de la manera en que funciona.</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Circuito de audio</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La esencia de WAA es realizar algunas operaciones con sonido dentro de un contexto de audio. Esta API ha sido dise√±ada espec√≠ficamente para enrutamiento modular. Las operaciones b√°sicas con sonido son nodos de audio, interconectados y formando un diagrama de enrutamiento (gr√°fico de enrutamiento de audio). Varias fuentes, con diferentes tipos de canales, se procesan dentro de un solo contexto. Este dise√±o modular proporciona la flexibilidad necesaria para crear funciones complejas con efectos din√°micos.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los nodos de audio est√°n interconectados a trav√©s de entradas y salidas, forman una cadena que comienza desde una o m√°s fuentes, pasa a trav√©s de uno o m√°s nodos y termina en el destino. </font><font style="vertical-align: inherit;">En principio, puede prescindir de un destino, por ejemplo, si solo queremos visualizar algunos datos de audio. </font><font style="vertical-align: inherit;">Un flujo de trabajo de audio web t√≠pico se parece a esto:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Crea un contexto de audio</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dentro del contexto, cree fuentes, como &lt;audio&gt;, un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">oscilador (generador de sonido)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> o transmisi√≥n</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cree nodos de efectos como </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reverb</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , filtro biquad, panner o compresor</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seleccione un destino para el audio, como altavoces en la computadora de un usuario</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Establecer una conexi√≥n entre fuentes a trav√©s de efectos a un destino.</font></font></li>
</ol><br>
<img src="https://habrastorage.org/webt/76/wq/vv/76wqvvwgifik6zojizkg_dxxb9q.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Designaci√≥n de canal</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El n√∫mero de canales de audio disponibles a menudo se indica en formato num√©rico, por ejemplo, 2.0 o 5.1. </font><font style="vertical-align: inherit;">Esto se llama la designaci√≥n del canal. </font><font style="vertical-align: inherit;">El primer d√≠gito indica el rango completo de frecuencias que incluye la se√±al. </font><font style="vertical-align: inherit;">El segundo d√≠gito indica el n√∫mero de canales reservados para las salidas de efectos de baja frecuencia: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">subwoofers</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cada entrada o salida consta de uno o m√°s canales construidos de acuerdo con un determinado circuito de audio. </font><font style="vertical-align: inherit;">Hay varias estructuras de canales discretos como mono, est√©reo, cu√°druple, 5.1, etc. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/7z/rn/xy/7zrnxy_vaeyntkb3o5hgvbvs_k4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las fuentes de audio se pueden obtener de muchas maneras. </font><font style="vertical-align: inherit;">El sonido puede ser:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Generado por JavaScript a trav√©s de un nodo de audio (como un oscilador)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Creado a partir de datos sin procesar utilizando </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PCM (modulaci√≥n de c√≥digo de pulso)</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Derivado de elementos multimedia HTML (como &lt;video&gt; o &lt;audio&gt;)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Derivado de una transmisi√≥n de medios WebRTC (como una c√°mara web o un micr√≥fono)</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Datos de audio: qu√© hay en la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">muestra</font></font></a></h3><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El muestreo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> significa convertir una se√±al continua en una se√±al discreta (dividida) (anal√≥gica a digital). </font><font style="vertical-align: inherit;">En otras palabras, una onda de sonido continua, como un concierto en vivo, se convierte en una secuencia de muestras, lo que permite que la computadora procese el audio en bloques separados.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Memoria intermedia de audio: cuadros, muestras y canales</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AudioBuffer acepta la cantidad de canales como par√°metros (1 para mono, 2 para est√©reo, etc.), longitud (la cantidad de cuadros de muestra dentro del b√∫fer y frecuencia de muestreo), la cantidad de cuadros por segundo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Una muestra es un valor simple de punto flotante de 32 bits (float32), que es el valor de la transmisi√≥n de audio en un punto particular en el tiempo y en un canal particular (izquierdo o derecho, etc.). Un cuadro o cuadro de muestra es un conjunto de valores de todos los canales reproducidos en un determinado momento: todas las muestras de todos los canales se reproducen al mismo tiempo (dos para est√©reo, seis para 5.1, etc.). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La frecuencia de muestreo es el n√∫mero de muestras (o cuadros, ya que todas las muestras en un cuadro se reproducen a la vez), reproducidas en un segundo, medidas en hercios (Hz). Cuanto mayor sea la frecuencia, mejor ser√° la calidad del sonido.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Veamos las memorias intermedias mono y est√©reo, cada una de un segundo de duraci√≥n, reproducidas a una frecuencia de 44100 Hz:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El b√∫fer mono tendr√° 44100 muestras y 44100 cuadros. </font><font style="vertical-align: inherit;">El valor de la propiedad "length" es 44100</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El b√∫fer est√©reo tendr√° 88.200 muestras, pero tambi√©n 44.100 cuadros. </font><font style="vertical-align: inherit;">El valor de la propiedad "length" ser√° 44100: la longitud es igual al n√∫mero de fotogramas</font></font></li>
</ul><br>
<img src="https://habrastorage.org/webt/uq/hp/pq/uqhppqfp_yz_k_hk_axza9j7qgm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cuando comienza la reproducci√≥n del b√∫fer, primero escuchamos el cuadro m√°s a la izquierda de la muestra, luego el cuadro derecho m√°s cercano, etc. En el caso de est√©reo, escuchamos ambos canales simult√°neamente. Los cuadros de muestra son independientes del n√∫mero de canales y brindan la oportunidad de un procesamiento de audio muy preciso. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nota: para obtener el tiempo en segundos del n√∫mero de cuadros, es necesario dividir el n√∫mero de cuadros por la frecuencia de muestreo. Para obtener el n√∫mero de cuadros del n√∫mero de muestras, divida este √∫ltimo por el n√∫mero de canales. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ejemplo:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">let</span> context = <span class="hljs-keyword">new</span> AudioContext()
<span class="hljs-keyword">let</span> buffer = context.createBuffer(<span class="hljs-number">2</span>, <span class="hljs-number">22050</span>, <span class="hljs-number">44100</span>)
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nota: en audio digital, 44100 Hz o 44,1 kHz es la frecuencia de muestreo est√°ndar. ¬øPero por qu√© 44.1 kHz? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En primer lugar, porque el rango de frecuencias audibles (frecuencias distinguibles por el o√≠do humano) var√≠a de 20 a 20,000 Hz. Seg√∫n el teorema de Kotelnikov, la frecuencia de muestreo deber√≠a ser m√°s del doble de la frecuencia m√°s alta en el espectro de la se√±al. Por lo tanto, la frecuencia de muestreo debe ser superior a 40 kHz. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En segundo lugar, las se√±ales deben filtrarse con un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">filtro de paso bajo.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">antes del muestreo, de lo contrario habr√° una superposici√≥n de "colas" espectrales (intercambio de frecuencia, enmascaramiento de frecuencia, alias) y la forma de la se√±al reconstruida se distorsionar√°. Idealmente, un filtro de paso bajo deber√≠a pasar frecuencias por debajo de 20 kHz (sin atenuaci√≥n) y soltar frecuencias por encima de 20 kHz. En la pr√°ctica, se requiere alguna banda de transici√≥n (entre la banda de paso y la banda de supresi√≥n), donde las frecuencias est√°n parcialmente atenuadas. Una manera m√°s f√°cil y econ√≥mica de hacer esto es usar un filtro anti-cambio. Para una frecuencia de muestreo de 44.1 kHz, la banda de transici√≥n es 2.05 kHz. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En el ejemplo anterior, obtenemos un b√∫fer est√©reo con dos canales, reproducidos en un contexto de audio con una frecuencia de 44100 Hz (est√°ndar), 0.5 segundos de largo (22050 cuadros / 44100 Hz = 0.5 s).</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">let</span> context = <span class="hljs-keyword">new</span> AudioContext()
<span class="hljs-keyword">let</span> buffer = context.createBuffer(<span class="hljs-number">1</span>, <span class="hljs-number">22050</span>, <span class="hljs-number">22050</span>)
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En este caso, obtenemos un b√∫fer mono con un canal, reproducido en un contexto de audio con una frecuencia de 44100 Hz, sobremuestreando a 44100 Hz (y aumentando los cuadros a 44100), 1 segundo de largo (44100 cuadros / 44100 Hz = 1 s). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nota: El remuestreo de audio ("remuestreo") es muy similar al cambio de tama√±o ("cambio de tama√±o") de las im√°genes. </font><font style="vertical-align: inherit;">Supongamos que tenemos una imagen de 16x16, pero queremos llenar esta √°rea con un tama√±o de 32x32. </font><font style="vertical-align: inherit;">Lo hacemos redimensionando. </font><font style="vertical-align: inherit;">El resultado ser√° menos calidad (puede ser borroso o desgarrado dependiendo del algoritmo de zoom), pero funciona. </font><font style="vertical-align: inherit;">El audio muestreado es lo mismo: ahorramos espacio, pero en la pr√°ctica es poco probable que logre un sonido de alta calidad.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Amortiguadores planos y rayados</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WAA utiliza un formato de b√∫fer plano. </font><font style="vertical-align: inherit;">Los canales izquierdo y derecho interact√∫an de la siguiente manera:</font></font><br>
<br>
<pre><code class="javascript hljs">LLLLLLLLLLLLLLLLRRRRRRRRRRRRRRRR ( ,   <span class="hljs-number">16</span> )
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En este caso, cada canal funciona independientemente de los dem√°s. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Una alternativa es usar un formato alternativo:</font></font><br>
<br>
<pre><code class="javascript hljs">LRLRLRLRLRLRLRLRLRLRLRLRLRLRLRLR ( ,   <span class="hljs-number">16</span> )
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este formato se usa a menudo para la decodificaci√≥n de MP3. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WAA usa solo el formato plano, ya que es m√°s adecuado para el procesamiento de sonido. </font><font style="vertical-align: inherit;">El formato plano se convierte en alternativo cuando los datos se env√≠an a la tarjeta de sonido para su reproducci√≥n. </font><font style="vertical-align: inherit;">Al decodificar MP3, se convierte el inverso.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Canales de audio</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los diferentes buffers contienen un n√∫mero diferente de canales: desde mono simple (un canal) y est√©reo (canales izquierdo y derecho) hasta conjuntos m√°s complejos, como quad y 5.1 con un n√∫mero diferente de muestras en cada canal, lo que proporciona un sonido m√°s rico (m√°s rico). </font><font style="vertical-align: inherit;">Los canales generalmente est√°n representados por abreviaturas:</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mononucleosis infecciosa</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0: M: mono</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Est√©reo</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0: L: izquierda </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1: R: derecha</font></font><br>
 </td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quadro</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0: L: izquierda </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1: R: derecha </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3: SL: izquierda adicional (canal izquierdo que crea el entorno; envolvente izquierdo) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4: SR: derecha adicional (envolvente derecha)</font></font><br>
 </td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.1</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0: L: izquierda </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1: R: derecha </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2: C: centro </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3: LFE: subwoofer </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4: SL: extra izquierda </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5: SR: extra derecha</font></font><br>
 </td>
</tr>
</tbody></table></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mezcla ascendente y descendente</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cuando el n√∫mero de canales en la entrada y salida no coincide, aplique la mezcla hacia arriba o hacia abajo. </font><font style="vertical-align: inherit;">La mezcla est√° controlada por la propiedad AudioNode.channelInterpretation:</font></font><br>
<div class="scrollable-table"><table>
<thead>
<tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Canales de entrada</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Canales de salida</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reglas de mezcla</font></font></th>
</tr>
</thead>
<tbody>
<tr>
<td colspan="3"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Esquemas de mezcla de canales est√°ndar: se utilizan cuando la propiedad channelInterpretation est√° configurada para altavoces (altavoces).</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 (mono)</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 (est√©reo)</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mezcla de mono a est√©reo. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El canal de entrada M se usa para ambos canales de salida (L y R). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
output.L = input.M </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
output.R = input.M</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 (mono)</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4 (cu√°druple)</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mezcla de mono a quad. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El canal de entrada M se usa para los canales principales (L y R). </font><font style="vertical-align: inherit;">Canales adicionales son amortiguados. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
output.L = input.M </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
output.R = input.M </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
output.SL = 0 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
output.SR = 0</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 (mono)</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6 (5.1)</font></font></td>
<td>     5.1.<br>
       ¬©.   (L, R, LFE, SL  SR) .<br>
output.L = 0<br>
output.R = 0<br>
output.C = input.M<br>
output.LFE = 0<br>
output.SL = 0<br>
output.SR = 0</td>
</tr>
<tr>
<td>2 ()</td>
<td>1 ()</td>
<td>     .<br>
   (L  R)     (M).<br>
output.M = 0.5 * (input.L + input.R)</td>
</tr>
<tr>
<td>2 ()</td>
<td>4 ()</td>
<td>     .<br>
  L  R      (L  R).   (SL  SR) .<br>
output.L = input.L<br>
output.R = input.R<br>
output.SL = 0<br>
output.SR = 0</td>
</tr>
<tr>
<td>2 ()</td>
<td>6 (5.1)</td>
<td>     5.1.<br>
  L  R      (L  R).    (SL  SR),   ¬©   (LFE) .<br>
output.L = input.L<br>
output.R = input.R<br>
output.C = 0<br>
output.LFE = 0<br>
output.SL = 0<br>
output.SR = 0</td>
</tr>
<tr>
<td>4 ()</td>
<td>1 ()</td>
<td>     .<br>
    (L, R, SL  SR)      (M).<br>
output.M = 0.25 * (input.L + input.R + input.SL + input.SR)</td>
</tr>
<tr>
<td>4 ()</td>
<td>2 ()</td>
<td>     .<br>
    (L  SL)       (L).   (R  SR) ‚Äî   ¬Æ.<br>
output.L = 0.5 * (input.L + input.SL)<br>
output.R = 0.5 * (input.R + input.SR)</td>
</tr>
<tr>
<td>4 ()</td>
<td>6 (5.1)</td>
<td>     5.1.<br>
  L, R, SL  SR     .    ¬©   (LFE) .<br>
output.L = input.L<br>
output.R = input.R<br>
output.C = 0<br>
output.LFE = 0<br>
output.SL = input.SL<br>
output.SR = input.SR</td>
</tr>
<tr>
<td>6 (5.1)</td>
<td>1 ()</td>
<td>   5.1  .<br>
 (L  SL),  (R  SR)   ()     .   ,     ,       ‚Äî      ‚àö2 / 2.  (LFE) .<br>
output.M = 0.7071 * (input.L + input.R) + input.C + 0.5 * (input.SL + input.SR)</td>
</tr>
<tr>
<td>6 (5.1)</td>
<td>2 ()</td>
<td>   5.1  .<br>
  ¬©       (SL  SR)         (L  R).             ‚àö2 / 2.  (LFE) .<br>
output.L = input.L + 0.7071 * (input.C + input.SL)<br>
output.R = input.R + 0.7071 * (input.C + input.SR)</td>
</tr>
<tr>
<td>6 (5.1)</td>
<td>4 ()</td>
<td>   5.1  .<br>
  ()      (L  R).           ‚àö2 / 2.     .  (LFE) .<br>
output.L = input.L + 0.7071 * input.C<br>
output.R = input.R + 0.7071 * input.C<br>
output.SL = input.SL<br>
output.SR = input.SR</td>
</tr>
<tr>
<td colspan="3">    ‚Äî ,   channelInterpretation   discrete.</td>
</tr>
<tr>
<td> (x)</td>
<td> (y),  x&lt;y</td>
<td>  .<br>
        (   ). ,     , .</td>
</tr>
<tr>
<td> (x)</td>
<td> (y),  x&gt;y</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cada canal de salida se combina con su entrada anal√≥gica (que tiene el mismo √≠ndice). </font><font style="vertical-align: inherit;">Los canales que no tienen canales de salida correspondientes se descartan.</font></font></td>
</tr>
</tbody>
</table></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Visualizaci√≥n</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La visualizaci√≥n se basa en la recepci√≥n de datos de audio de salida, como los datos sobre la amplitud o frecuencia, y su posterior procesamiento utilizando cualquier tecnolog√≠a gr√°fica. </font><font style="vertical-align: inherit;">WAA tiene un Nodo Analizador que no distorsiona la se√±al que lo atraviesa. </font><font style="vertical-align: inherit;">Al mismo tiempo, puede extraer datos del audio y transferirlos a√∫n m√°s, por ejemplo, a &amp; ltcanvas&gt;. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/w3/03/tk/w303tkjj1p7imhxsaegp0vtabyu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los siguientes m√©todos se pueden utilizar para extraer datos:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AnalyzerNode.getFloatByteFrequencyData () - copia los datos de frecuencia actuales a Float32Array</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AnalyzerNode.getByteFrequencyData (): copia los datos de frecuencia actuales en un Uint8Array (matriz de bytes sin signo)</font></font></li>
<li>AnalyserNode.getFloatTimeDomainData() ‚Äî            Float32Array</li>
<li>AnalyserNode.getByteTimeDomainData() ‚Äî            Uint8Array</li>
</ul><br>
<h3></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La espacializaci√≥n de audio (procesada por PannerNode y AudioListener) le permite modelar la posici√≥n y la direcci√≥n de la se√±al en un punto espec√≠fico en el espacio, as√≠ como la posici√≥n del oyente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La posici√≥n del panor√°mico se describe utilizando coordenadas cartesianas diestras; </font><font style="vertical-align: inherit;">para el movimiento, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">se usa</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> el vector de velocidad necesario para crear </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">el efecto Doppler</font></a><font style="vertical-align: inherit;"> ; para la direcci√≥n, se usa el cono de directividad. </font><font style="vertical-align: inherit;">Este cono puede ser muy grande en el caso de fuentes de sonido multidireccionales. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rl/mj/tz/rlmjtz9l-3elsukt6gdnd81xbe4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La posici√≥n del oyente se describe de la siguiente manera: movimiento - usando el vector de velocidad, la direcci√≥n donde est√° la cabeza del oyente - usando dos vectores direccionales, frontal y superior. </font><font style="vertical-align: inherit;">El ajuste se realiza en la parte superior de la cabeza y la nariz del oyente en √°ngulo recto.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/7q/-w/hk/7q-whktcaasufh9jfy8z6cigrbc.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uni√≥n y ramificaci√≥n</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Una conexi√≥n describe un proceso en el que un ChannelMergerNode recibe varias fuentes mono de entrada y las combina en una sola se√±al de salida multicanal. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vk/bv/qh/vkbvqhpvhnghgf55bx9umic_yhc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La ramificaci√≥n es el proceso inverso (implementado a trav√©s de ChannelSplitterNode). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/6d/9c/y7/6d9cy7_hiinrgqscxxdsbe3x-zy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un ejemplo de trabajo con WAA se puede encontrar </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqu√≠</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">El c√≥digo fuente para el ejemplo est√° </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqu√≠</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aqu√≠ hay</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> un art√≠culo sobre c√≥mo funciona todo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gracias por su atenci√≥n.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es495678/index.html">Competici√≥n VK Sup. Track ML. 4to lugar. ¬øC√≥mo?</a></li>
<li><a href="../es495682/index.html">API inversa para su aplicaci√≥n de Android</a></li>
<li><a href="../es495684/index.html">5 razones por las que interactuar con tus usuarios finales mejora tu c√≥digo</a></li>
<li><a href="../es495686/index.html">Personal Las Vegas, o un juego en la extensi√≥n del navegador</a></li>
<li><a href="../es495688/index.html">Sincronizaci√≥n de usuarios OSE de colaboraci√≥n basada en Active Directory de Zimbra</a></li>
<li><a href="../es495692/index.html">Bricolaje y c√≥digo abierto para ayudar a los m√©dicos</a></li>
<li><a href="../es495694/index.html">Servicio de referencia de aplicaciones m√≥viles</a></li>
<li><a href="../es495696/index.html">C√≥mo Prince of Persia Creator supera los l√≠mites de memoria de Apple II</a></li>
<li><a href="../es495698/index.html">Arquitectura cliente-servidor en im√°genes</a></li>
<li><a href="../es495700/index.html">Doom Boy ESP32</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>