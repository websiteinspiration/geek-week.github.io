<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎿 👨🏾‍🎓 🏸 Go, Vue und 3 Tage zu entwickeln: ein Echtzeitsystem zur Überwachung von Patienten 💎 💆🏽 ➕</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Im November 2019 hörten die Menschen von den ersten Fällen einer unbekannten tödlichen Krankheit in China. Jetzt weiß jeder, dass diese Krankheit COVI...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Go, Vue und 3 Tage zu entwickeln: ein Echtzeitsystem zur Überwachung von Patienten</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/501646/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Im November 2019 hörten die Menschen von den ersten Fällen einer unbekannten tödlichen Krankheit in China. </font><font style="vertical-align: inherit;">Jetzt weiß jeder, dass diese Krankheit COVID-19 heißt. </font><font style="vertical-align: inherit;">Anscheinend hat die Epidemie die Welt, die wir kannten, für immer verändert. </font><font style="vertical-align: inherit;">Das Virus ist gefährlich und sehr ansteckend. </font><font style="vertical-align: inherit;">Und die Menschheit weiß noch nicht viel darüber. </font><font style="vertical-align: inherit;">Ich hoffe wirklich, dass bald ein Heilmittel für diese Krankheit gefunden wird. </font><font style="vertical-align: inherit;">
Das Virus ist so beschaffen, dass es sehr schwierig ist, seine Ausbreitung zu verhindern. </font><font style="vertical-align: inherit;">In Sri Lanka, wo ich lebe, sind wir mit der gleichen Situation konfrontiert wie Menschen in anderen Ländern. </font><font style="vertical-align: inherit;">Hier möchte ich darüber sprechen, wie Programmierer denjenigen, die die Krankheit von Angesicht zu Angesicht bekämpfen, alle mögliche Hilfe leisten konnten.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/up/8x/uw/up8xuwl64afjkhamgpr2cicrs8q.jpeg"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<a name="habracut"></a><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Risiken im Zusammenhang mit der Patientenversorgung</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine Person kann infiziert werden, selbst wenn sie einen kleinen Fehler macht. </font><font style="vertical-align: inherit;">Ärzte müssen regelmäßig infektiöse Isolationsstationen aufsuchen, um die Vitalfunktionen der Patienten zu überprüfen. </font><font style="vertical-align: inherit;">Nach dem Besuch des Internierungslagers müssen Schutzanzüge zerstört werden. </font><font style="vertical-align: inherit;">Und das alles nur, um die Anzeigen zu betrachten, die auf den Bildschirmen von Medizinprodukten angezeigt werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vertreter der Gesundheitsbehörden sprachen uns mit einem Vorschlag an, ein System zur Fernüberwachung von Patienten zu entwickeln. </font><font style="vertical-align: inherit;">Es gibt schlüsselfertige Überwachungslösungen, die sehr teuer sind. </font><font style="vertical-align: inherit;">Aber Sri Lanka ist kein so reiches Land.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arbeitsbeginn</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir (ich und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Keshara</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) haben einige Nachforschungen angestellt und festgestellt, dass die Geräte, die von Indikatoren, Nachtmonitoren, entnommen werden müssen, das gemeinsame HL7-Protokoll (Gesundheitsstufe 7) verwenden, um medizinische Daten (wie z. B. </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">Vitalindikatoren</font></a><font style="vertical-align: inherit;"> ) auszutauschen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben einige Zeit damit verbracht, dieses Protokoll zu studieren. </font><font style="vertical-align: inherit;">Er kam uns etwas seltsam vor. </font><font style="vertical-align: inherit;">Wir hatten noch nie mit ihm gearbeitet. </font><font style="vertical-align: inherit;">Für uns war es eine neue Herausforderung. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So sehen die HL7-Nachrichten aus.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cbb/cef/4f4/cbbcef4f4da78fbeea17de45d85d595a.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HL7-Paket</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
In diesem Abschnitt werden die</font></font><code>Message</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">medizinischen Daten</font><font style="vertical-align: inherit;">des</font><font style="vertical-align: inherit;">Patienten wie folgt dargestellt. </font></font><code>&lt;CR&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Dies</font></font><code>\r</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ist ein Zeilenvorschubzeichen, mit dem Nachrichten getrennt werden.</font></font><br>
<br>
<pre><code class="go hljs">MSH|^~\&amp;|||||||ORU^R01|<span class="hljs-number">103</span>|P|<span class="hljs-number">2.3</span><span class="hljs-number">.1</span>|&lt;CR&gt;<font></font>
PID|||<span class="hljs-number">14140</span>f00<span class="hljs-number">-7</span>bbc<span class="hljs-number">-0478</span><span class="hljs-number">-11122</span>d2d02000000||WEERASINGHE^KESHARA||<span class="hljs-number">19960714</span>|M|&lt;CR&gt;<font></font>
PV1||I|^^ICU&amp;<span class="hljs-number">1</span>&amp;<span class="hljs-number">3232237756</span>&amp;<span class="hljs-number">4601</span>&amp;&amp;<span class="hljs-number">1</span>|||||||||||||||A|||&lt;CR&gt;<font></font>
OBR||||Mindray Monitor|||<span class="hljs-number">0</span>|&lt;CR&gt;<font></font>
OBX||NM|<span class="hljs-number">52</span>^||<span class="hljs-number">189.0</span>||||||F&lt;CR&gt;<font></font>
OBX||NM|<span class="hljs-number">51</span>^||<span class="hljs-number">100.0</span>||||||F&lt;CR&gt;<font></font>
OBX||ST|<span class="hljs-number">2301</span>^||<span class="hljs-number">2</span>||||||F&lt;CR&gt;<font></font>
OBX||CE|<span class="hljs-number">2302</span>^Blood||<span class="hljs-number">0</span>^N||||||F&lt;CR&gt;<font></font>
OBX||CE|<span class="hljs-number">2303</span>^Paced||<span class="hljs-number">2</span>^||||||F&lt;CR&gt;<font></font>
OBX||ST|<span class="hljs-number">2308</span>^BedNoStr||BED<span class="hljs-number">-001</span>||||||F&lt;CR&gt;
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es sieht komisch aus, oder? </font><font style="vertical-align: inherit;">Es schien uns. </font><font style="vertical-align: inherit;">Es verwendet das Pipehat-Format. </font><font style="vertical-align: inherit;">Das Symbol wird hier verwendet, um Datensegmente zu trennen </font></font><code>|</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Ich werde nicht viel über das Protokoll selbst sprechen. </font><font style="vertical-align: inherit;">Es gibt viele Materialien im Internet darüber. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist uns gelungen, gute Bibliotheken für die Verarbeitung von HL7-Nachrichten in verschiedenen Sprachen zu finden.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Warum haben wir uns für Go entschieden?</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Über Go </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">schreiben</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
sie </font><font style="vertical-align: inherit;">Folgendes: „Go oder Golang ist eine statisch typisierte Sprache, deren Syntax auf der Syntax von C basiert. Go zeichnet sich jedoch durch einige zusätzliche Funktionen aus, z. B. das Vorhandensein eines Garbage Collectors in der Sprache (wie in Java), die sichere Arbeit mit Typen und einige Funktionen für dynamisches Tippen. Go wurde 2007 von Google entwickelt. Die Sprache wurde von einer Gruppe hochqualifizierter Spezialisten erstellt. Das sind Robert Griesmer, Rob Pike und Ken Thompson. “ </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Go wurde mit Unterstützung für die Ausführung von Multithread-Code entwickelt. Die entsprechenden Mechanismen sind in die Sprache integriert. Go verfügt über sogenannte Goroutins und Kanäle, deren Verwendung es dem Programmierer ermöglicht, schnell und mit minimalem Aufwand Programme mit einem hohen Maß an Parallelität zu entwickeln.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Deshalb haben wir uns für Go entschieden. </font><font style="vertical-align: inherit;">Wenn wir über das Problem sprechen, mit dem wir konfrontiert waren, dachten wir, dass wir uns bei der Lösung des Problems mit der Notwendigkeit befassen müssten, mit einer Vielzahl paralleler Aufgaben zu arbeiten. </font><font style="vertical-align: inherit;">Darüber hinaus werden ausführbare Go-Dateien statisch kompiliert, was die Installation von Programmen auf Krankenhauscomputern vereinfacht und die Notwendigkeit einer Abhängigkeitspflege beseitigt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben nach guten Bibliotheken gesucht, um das in Go geschriebene HL7-Protokoll zu unterstützen, und am Ende fanden wir </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dieses</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> geeignet </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Sein Autor hat unter anderem gutes </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Material</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> über HL7 geschrieben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diese Bibliothek erleichtert die Arbeit mit HL7-Nachrichten erheblich.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Warum haben wir uns für Vue entschieden?</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der </font><font style="vertical-align: inherit;">Vue- </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dokumentation finden</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sie Folgendes: „Vue (ausgesprochen / vjuː /, so etwas wie Ansicht) ist ein fortschrittliches Framework zum Erstellen von Benutzeroberflächen. </font><font style="vertical-align: inherit;">Im Gegensatz zu Monolith-Frameworks ist Vue für den schrittweisen Einsatz geeignet. “ </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dank der Verwendung von Vue konnten wir auf einfache Weise schöne reaktive Schnittstellen erstellen. </font><font style="vertical-align: inherit;">Wir haben uns für Vue entschieden, weil es ein leistungsstarkes und praktisches Tool zum Erstellen von Schnittstellen ist. </font><font style="vertical-align: inherit;">Darüber hinaus haben wir Vuetify als UI-Bibliothek verwendet.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nachttisch Monitor</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem wir </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">das</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Mindray Bedside Monitor- </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">Handbuch</font></a><font style="vertical-align: inherit;"> für Programmierer studiert hatten (es gibt viele solcher Geräte im Krankenhaus, also haben wir es ausgewählt), haben wir einen kleinen Prototyp zum Dekodieren von HL7-Nachrichten erstellt. </font><font style="vertical-align: inherit;">Der Prototyp konnte Nachrichten korrekt dekodieren und korrekt in das JSON-Format konvertieren. </font><font style="vertical-align: inherit;">Wir haben dies über die im Handbuch beschriebene Schnittstelle für unerwünschte Ergebnisse getan.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f13/674/04a/f1367404a1b99d972d2ee01702d017c1.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mindray uMec10</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Aber als wir ein echtes Gerät zur Verfügung hatten, weigerte es sich zu funktionieren. </font><font style="vertical-align: inherit;">Danach begannen Keshara und ich, Pakete in Wireshark zu analysieren, um herauszufinden, was das Gerät tatsächlich tat. </font><font style="vertical-align: inherit;">Wie sich herausstellte, hat das Gerät dieses Protokoll nicht verwendet. </font><font style="vertical-align: inherit;">Es wurde die Echtzeit-Ergebnisschnittstelle verwendet - eine ziemlich alte Schnittstelle, die vom Hersteller nicht mehr unterstützt wurde.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abrufen von Nachrichten aus HL7-Paketen</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So rufen Sie HL7-Nachrichten von Geräten ab. </font><font style="vertical-align: inherit;">Wir haben ein Objekt für diese Aufgabe verwendet </font></font><code>bufio.Reader</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, da es dem Entwickler effiziente Ablaufverarbeitungsmechanismen bietet. </font><font style="vertical-align: inherit;">Anstatt jedes Mal auf die Netzwerkschicht zuzugreifen, </font></font><code>Reader</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">konnten wir Daten von einer TCP-Verbindung effizient lesen.</font></font><br>
<br>
<pre><code class="go hljs"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(d *Device)</span> <span class="hljs-title">ProcessHL7Packet</span><span class="hljs-params">()</span> <span class="hljs-params">(hl7.Message, error)</span></span> {
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">//   ,   0x0B</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;b, err := d.ReadByte()<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, fmt.Errorf(<span class="hljs-string">"error reading start byte: %s"</span>, err)<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">if</span> b != <span class="hljs-keyword">byte</span>(<span class="hljs-number">0x0B</span>) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, fmt.Errorf(<span class="hljs-string">"invalid header"</span>)<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">//  </span>
&nbsp;&nbsp;&nbsp;&nbsp;payloadWithDelimiter, err := d.ReadBytes(<span class="hljs-keyword">byte</span>(<span class="hljs-number">0x1C</span>))
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, fmt.Errorf(<span class="hljs-string">"error reading payload: %s"</span>, err)<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">//       </span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;b, err = d.ReadByte()<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, fmt.Errorf(<span class="hljs-string">"error reading end byte %s"</span>, err)<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">if</span> b != <span class="hljs-keyword">byte</span>(<span class="hljs-number">0x0D</span>) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, fmt.Errorf(<span class="hljs-string">"invalid message end"</span>)<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">//   2  hl7-</span>
&nbsp;&nbsp;&nbsp;&nbsp;payload := payloadWithDelimiter[:<span class="hljs-built_in">len</span>(payloadWithDelimiter)<span class="hljs-number">-1</span>]<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;log.Debugf(<span class="hljs-string">"Length of payload %d\n"</span>, <span class="hljs-built_in">len</span>(payload))<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;m, _, err := hl7.ParseMessage(payload)<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, fmt.Errorf(<span class="hljs-string">"error parsing hl7: %s\n"</span>, err)<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span> m, err<font></font>
}<font></font>
</code></pre><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Systemarchitektur</font></font></font></h2><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/658/799/2dc/6587992dc3561ae132316b7976733409.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Systemarchitektur ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Original</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Das System ist so konzipiert, dass es auf lange Sicht zuverlässig funktioniert. Wir haben sorgfältig die besten Tools ausgewählt, um die Herausforderungen zu lösen, denen wir gegenüberstehen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben PostgreSQL als DBMS gewählt, da dieses System stabil und zuverlässig ist. Mit HA können Sie ein zuverlässiges Datenspeichersystem für das Überwachungssystem erstellen. Darüber hinaus unterstützt das von uns ausgewählte System die Verarbeitung großer Mengen von Eingabedaten, was für uns ein Plus war.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In Zukunft planen wir mit TimescaleDB die Erstellung eines Echtzeit-Analysesystems. Infolgedessen ist PostgreSQL zu unserer idealen Wahl geworden, da TimescaleDB auf PostgreSQL installiert werden kann.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben die Health 24-API und das Health 24-Gateway basierend auf Überlegungen zur Systemverwaltung aufgeteilt. </font><font style="vertical-align: inherit;">Bei der Erstellung des Gateways haben wir uns um Kompaktheit und Zuverlässigkeit bemüht. </font><font style="vertical-align: inherit;">Dank der Verwendung von Golang war die Lösung dieses Problems einfach und angenehm.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die reale Welt betreten</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bedside-Monitore melden ihre Anwesenheit durch Senden von UDP-Nachrichten. </font><font style="vertical-align: inherit;">Wir mussten diese Pakete erfassen und verarbeiten, um Daten daraus zu extrahieren, die für die Organisation des Zugriffs auf Geräte erforderlich sind. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit Go haben wir einen separaten Dienst erstellt, mit dem Broadcast-UDP-Übertragungen erkannt und neue Geräte im System registriert werden können. </font><font style="vertical-align: inherit;">Der nächste Schritt in unserer Arbeit war das Anschließen von Geräten an das Gateway. </font><font style="vertical-align: inherit;">Wir haben on Go einen weiteren Dienst erstellt, der die entsprechenden TCP-Verbindungen unterstützt.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3f3/01c/b1d/3f301cb1d8403751ef87849035769fb9.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Geräteerkennung</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Da das Gateway in das Gerät als ein Client</font><font style="vertical-align: inherit;">Verbindung benötigt</font><font style="vertical-align: inherit;">, mussten wir die Geräte koordinieren und</font><font style="vertical-align: inherit;">trennen. </font><font style="vertical-align: inherit;">Außerdem musste der Status jedes Monitors auf dem Gateway überwacht werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dank der Verwendung</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> von</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Go-</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"> Kanälen</font></a><font style="vertical-align: inherit;"> konnten wir relevante Daten zur späteren Analyse problemlos in einer PostgreSQL-Datenbank speichern. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit Kanälen können Sie eine bequeme Interaktion zwischen Goroutinen organisieren. </font><font style="vertical-align: inherit;">Ihre Verwendung war sehr praktisch. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Meine Erfahrung mit dem</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Kache-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Projekt</font><font style="vertical-align: inherit;">, einer Redis-kompatiblen speicherbasierten Datenbank, hat mir geholfen, die verschiedenen Schwierigkeiten zu lösen, mit denen wir im Verlauf unserer Arbeit konfrontiert waren.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Echtzeitausgabe von Vitalfunktionen</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei der Entwicklung des Serverteils des Projekts haben wir uns auch mit dem Clientteil befasst. Es war für Ärzte gedacht und sollte Daten demonstrieren, die von Nachtmonitoren gelesen wurden. Das Frontend wurde hauptsächlich von Keshara besetzt. Als Ergebnis wurde in nur 3 Tagen eine sehr gute Systemschnittstelle erstellt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vuetify</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> haben wir ein Schnittstellenlayout erstellt, das der Oberfläche eines </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">Nachtmonitors ähnelt</font></a><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um den Status der Anwendung zu verwalten, haben wir </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vuex verwendet</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und einen </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">Warndienst</font></a><font style="vertical-align: inherit;"> entwickelt, der die Priorität von Aufgaben berücksichtigt und dazu dient, das Krankenhauspersonal bei gefährlichen Situationen zu benachrichtigen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben die API und das Frontend mit </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Socket.io kombiniert</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dies ermöglichte es uns, einen effektiven Kommunikationskanal zu schaffen, über den die Daten in Echtzeit übertragen werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich möchte mich noch einmal bei Keshara für die hervorragende Arbeit am Frontend bedanken.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a17/fe5/b90/a17fe5b9066bd99b7d8847f41ad461ce.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Echtzeit-Dashboard</font></font></font></i><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Systembereitstellung</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bedside-Monitore senden große Datenmengen an das Netzwerk. </font><font style="vertical-align: inherit;">Wir haben uns entschieden, ein separates VLAN für die Geräte und ein anderes VLAN für die API zu verwenden. </font><font style="vertical-align: inherit;">Ziel war es, eine zuverlässige Verkehrsverarbeitung zu ermöglichen, ohne das Krankenhausnetzwerk zu überlasten. </font><font style="vertical-align: inherit;">Darüber hinaus haben uns unsere Universitätsprofessoren Dr. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Asitha Bandaranaike</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sunet Namal Karunaratna</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> geholfen </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dank ihrer Unterstützung konnten wir ein zuverlässiges Netzwerk aufbauen. </font><font style="vertical-align: inherit;">Als Nächstes haben wir Ubuntu 18.04 auf dem Server gestartet und mit der Bereitstellung des Systems begonnen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Keshara hat in diesem Bereich viel getan und riskiert, im Krankenhaus COVID-19 zu bekommen.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/922/b52/fd4/922b52fd43cfa193a6bdf9f45ac7e1a7.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Keshara setzt ein System in einem Krankenhaus ein</font></font></font></i><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fazit des Systems in der Produktion</font></font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hier ist ein</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Video, das zeigt, </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">wie man</font></a><font style="vertical-align: inherit;"> mit dem System arbeitet.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b0d/e40/c34/b0de40c34813ac536d1929955ae6d26a.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dr. Wikramasinghe testet das System</font></font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7dc/8f5/5d1/7dc8f55d188994cf38514fb6142ae575.jpg"></div><br>
<i><font color="#999999">      </font></i><br>
<br>
<h2><font color="#3AC1EF">    </font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben den oben genannten Programmkomplex auf Anfrage von Vertretern der Gesundheitsbehörden erstellt. Dieses Projekt ist nicht kommerziell. Selbst unter Berücksichtigung des Vorhandenseins dieses Systems im Krankenhaus empfehlen wir Ärzten dringend, Patienten zu besuchen und ihre Vitalfunktionen persönlich zu überprüfen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da dieser Komplex im Zuge einer Pandemie sehr schnell entwickelt wurde, haben wir ihn freigegeben und ihn nur mit dem Wichtigsten ausgestattet: der Fähigkeit zur Überwachung. Darüber hinaus haben wir die langwierigen Tests mit vielen Geräten während der Tests durchgeführt. Bis jetzt hat er sich als gut erwiesen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies bedeutet nicht, dass wir ein System geschaffen haben, das bereits nicht verbessert werden kann. Wir arbeiten ständig daran, es zu verbessern und Fehler zu korrigieren, um eine hohe Stabilität des Systems zu erreichen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Daher müssen wir Ärzte warnen, dass sie dieses System mit Vorsicht verwenden sollten.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zusammenfassung</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Medizinische Mitarbeiter an der Spitze des Kampfes gegen das Virus arbeiten ohne Pause. </font><font style="vertical-align: inherit;">Wir müssen ihnen alle mögliche Hilfe leisten. </font><font style="vertical-align: inherit;">Wir, Studenten der Computertechnologie, haben alles getan, um sie zu unterstützen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das System zur Fernüberwachung des Zustands des Patienten ermöglicht die Lösung einiger Probleme ohne direkten Kontakt mit dem Patienten, was bedeutet, dass Ärzte ihre Arbeit effizienter und sicherer erledigen können. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir danken allen, die wunderbare Open-Source-Tools und -Bibliotheken entwickelt haben, ohne die unser Projekt nicht das Licht erblicken würde.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Entscheidung für Golang war eine brillante Idee. </font><font style="vertical-align: inherit;">Mit dieser Sprache konnten wir in wenigen Tagen ein sehr stabiles System erstellen. </font><font style="vertical-align: inherit;">Gleiches gilt für Vue. </font><font style="vertical-align: inherit;">Dank dieses Frameworks konnten wir sehr schnell eine qualitativ hochwertige und benutzerfreundliche Oberfläche erstellen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zusammen können wir COVID-19 besiegen. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Liebe Leser! </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie würden Sie ein System erstellen, das dem in diesem Artikel beschriebenen ähnelt?</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/a_/bs/aa/a_bsaactpbr8fltzymtkhqbw1d4.png"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de501632/index.html">5 JavaScript-Bibliotheken zum Arbeiten mit Strings</a></li>
<li><a href="../de501634/index.html">CSS-Funktionen min (), max () und clamp ()</a></li>
<li><a href="../de501636/index.html">So stellen Sie den Kubernetes-Cluster in Morpheus in 30 Minuten bereit</a></li>
<li><a href="../de501642/index.html">Was ist besser: Bestätigung der Aktion oder die Möglichkeit ihrer Stornierung?</a></li>
<li><a href="../de501644/index.html">Analyse der CSS-Animationsleistung</a></li>
<li><a href="../de501648/index.html">10 Erweiterungen für VS Code, ohne die ich nicht programmieren kann</a></li>
<li><a href="../de501650/index.html">Was befindet sich in einer .wasm-Datei? Einführung in wasm-decompile</a></li>
<li><a href="../de501652/index.html">Nuxt als Fullstack-Server: Frontend + Backend-API-Server (Teil 1)</a></li>
<li><a href="../de501654/index.html">Erstellen Sie Arbeitsprozesse an einem entfernten Standort: praktische Empfehlungen</a></li>
<li><a href="../de501656/index.html">Entwicklung einer Unternehmensbibliothek von React-Komponenten. Plattformübergreifender Ansatz</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>