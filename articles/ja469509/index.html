<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ–ğŸ½ ğŸ¤™ğŸ¿ ğŸ‘¸ğŸ½ è§’åº¦å›è·¯å›³ã€ã¾ãŸã¯ç§ãŒè§’åº¦ã‚¯ãƒªã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’æ›¸ã„ãŸã¨ã ğŸ’© ğŸš´ğŸ¿ ğŸ§“ğŸ½</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ã“ã‚“ã«ã¡ã¯ã€ç§ã®åå‰ã¯ãƒã‚­ã‚·ãƒ ã§ã™ã€‚æ•°å¹´é–“ã€ç§ã¯ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®é–‹ç™ºã‚’è¡Œã£ã¦ãã¾ã—ãŸã€‚å¤šãã®å ´åˆã€ã•ã¾ã–ã¾ãªhtmlãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’æ‰±ã‚ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚ç§ã®æ—¥å¸¸æ¥­å‹™ã§ã¯ã€é€šå¸¸ã€ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã•ã‚ŒãŸpugãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¨ãƒ³ã‚¸ãƒ³ã‚’å‚™ãˆãŸwebpackãƒ“ãƒ«ãƒ€ãƒ¼ã‚’ä½¿ç”¨ã—ã€BEMæ–¹æ³•è«–ã‚‚ä½¿ç”¨ã—ã¦ã„ã¾...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>è§’åº¦å›è·¯å›³ã€ã¾ãŸã¯ç§ãŒè§’åº¦ã‚¯ãƒªã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’æ›¸ã„ãŸã¨ã</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/469509/"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã“ã‚“ã«ã¡ã¯ã€ç§ã®åå‰ã¯ãƒã‚­ã‚·ãƒ ã§ã™ã€‚</font><font style="vertical-align: inherit;">æ•°å¹´é–“ã€ç§ã¯ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®é–‹ç™ºã‚’è¡Œã£ã¦ãã¾ã—ãŸã€‚</font><font style="vertical-align: inherit;">å¤šãã®å ´åˆã€ã•ã¾ã–ã¾ãªhtmlãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’æ‰±ã‚ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚</font><font style="vertical-align: inherit;">ç§ã®æ—¥å¸¸æ¥­å‹™ã§ã¯ã€é€šå¸¸ã€ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã•ã‚ŒãŸpugãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¨ãƒ³ã‚¸ãƒ³ã‚’å‚™ãˆãŸwebpackãƒ“ãƒ«ãƒ€ãƒ¼ã‚’ä½¿ç”¨ã—ã€BEMæ–¹æ³•è«–ã‚‚ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ç§ã®äººç”Ÿã‚’æ¥½ã«ã™ã‚‹ãŸã‚ã«ã€ç§ã¯</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç´ æ™´ã‚‰ã—ã„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚’ä½¿ç”¨ã—ã¦</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ã„ã¾ã™</font></a><font style="vertical-align: inherit;">ã€‚</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœ€è¿‘ã€Angularã§å°ã•ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã€ãŠæ°—ã«å…¥ã‚Šã®ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã«æ…£ã‚Œã¦ã„ãŸã®ã§ã€è£¸ã®HTMLã«æˆ»ã‚ŠãŸãã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚</font><font style="vertical-align: inherit;">ã“ã‚Œã«é–¢é€£ã—ã¦ã€å•é¡Œã¯ã€è§’åº¦ã‚’ä»˜ã‘ã¦ãƒãƒ³ãƒ‘ã‚°ã‚’å‹é”ã«ã™ã‚‹æ–¹æ³•ã«ç”Ÿã˜ã¾ã—ãŸã€‚å‹é”ã‚’ä½œã‚‹ã ã‘ã§ãªãã€å¿…è¦ãªæ§‹é€ ã‚’æŒã¤cliã‹ã‚‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ç”Ÿæˆã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">èª°ãŒç§ãŒãã‚Œã‚’ã™ã¹ã¦ã‚„ã£ãŸã‹ã‚’æ°—ã«ã—ã¦ã„ã‚‹äººã€çŒ«ã¸ã‚ˆã†ã“ãã€‚</font></font></p><a name="habracut"></a><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¾ãšã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ãƒ†ã‚¹ãƒˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã§å®Ÿè¡Œã—ã¾ã™ï¼š </font></font></p><br>
<p><code>ng g test-project</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¨­å®šã§ã¯ã€scssãƒ—ãƒªãƒ—ãƒ­ã‚»ãƒƒã‚µã‚’é¸æŠã—ã¾ã—ãŸã€‚ã“ã‚Œã¯ã€è‡ªåˆ†ã§å‡¦ç†ã™ã‚‹æ–¹ãŒä¾¿åˆ©ã ã‹ã‚‰ã§ã™ã€‚</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ä½œæˆã•ã‚Œã¾ã—ãŸãŒã€HTMLã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¯ä¿®æ­£ã•ã‚Œã¾ã—ãŸã€‚</font><font style="vertical-align: inherit;">ã¾ãšç¬¬ä¸€ã«ã€ã‚ãªãŸã¯ãƒ‘ã‚°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¨ãƒ³ã‚¸ãƒ³ã¨è§’åº¦ã®ã‚ã‚‹CLIã®å‹é”ã‚’ä½œã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€ã“ã‚Œã®ãŸã‚ã«ç§ã¯ng-cli-pug-loaderãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ã„ã¾ã—ãŸ</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚ã“ã‚Œã‚’è¡Œã†ã«ã¯ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã«ç§»å‹•ã—ã¦å®Ÿè¡Œã—ã¾ã™ã€‚</font></font></p><br>
<p><code>ng add ng-cli-pug-loader</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font></p><br>
<p>   pug  .    root  AppComponent :</p><br>
<pre><code class="javascript hljs"> @Component({
  <span class="hljs-attr">selector</span>: <span class="hljs-string">'app-root'</span>,
  <span class="hljs-attr">templateUrl</span>: <span class="hljs-string">'./app.component.pug'</span>,
  <span class="hljs-attr">styleUrls</span>: [<span class="hljs-string">'./app.component.scss'</span>]<font></font>
})</code></pre><br>
<p>    app.component.html  app.component.pug,      .        .</p><br>
<p>     !</p><br>
<p>       .    schematics-cli  @angular-devkit.    : </p><br>
<p><code>npm install -g @angular-devkit/schematics-cli</code>.</p><br>
<p>        :</p><br>
<p><code>schematics blank --name=bempug-component</code>.</p><br>
<p>   ,     src/collection.json.   :</p><br>
<pre><code class="json hljs">  <span class="hljs-string">"$schema"</span>: <span class="hljs-string">"../node_modules/@angular-devkit/schematics/collection-schema.json"</span>,
  <span class="hljs-string">"schematics"</span>: {
    <span class="hljs-attr">"bempug-component"</span>: {
      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"A blank schematic."</span>,
      <span class="hljs-attr">"factory"</span>: <span class="hljs-string">"./bempug-component/index#bempugComponent"</span><font></font>
    }<font></font>
  }<font></font>
}</code></pre><br>
<p>    ,   "factory": "./bempug-component/index#bempugComponent":     ""  .</p><br>
<p>     :</p><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> { Rule, SchematicContext, Tree } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular-devkit/schematics'</span>;<font></font>
<font></font>
<span class="hljs-comment">// You don't have to export the function as default. You can also have more than one rule factory</span>
<span class="hljs-comment">// per file.</span>
<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bempugComponent</span>(<span class="hljs-params">options: any</span>): <span class="hljs-title">Rule</span> </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">tree: Tree, _context: SchematicContext</span>) =&gt;</span> {
        <span class="hljs-keyword">return</span> tree;<font></font>
    };<font></font>
}</code></pre><br>
<p>      ,   "factory"    "./bempug-component/index ".</p><br>
<p>       schema.json,       .</p><br>
<pre><code class="json hljs">{
  <span class="hljs-attr">"$schema"</span>: <span class="hljs-string">"http://json-schema.org/schema"</span>,
  <span class="hljs-attr">"id"</span>: <span class="hljs-string">"SchemanticsForMenu"</span>,
  <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Bempug Schema"</span>,
  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
  <span class="hljs-attr">"properties"</span>: {
    <span class="hljs-attr">"name"</span>: {
      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
      <span class="hljs-attr">"$default"</span>: {
        <span class="hljs-attr">"$source"</span>: <span class="hljs-string">"argv"</span>,
        <span class="hljs-attr">"index"</span>: <span class="hljs-number">0</span><font></font>
      }<font></font>
    },<font></font>
    <span class="hljs-attr">"path"</span>: {
      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
      <span class="hljs-attr">"format"</span>: <span class="hljs-string">"path"</span>,
      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"The path to create the component."</span>,
      <span class="hljs-attr">"visible"</span>: <span class="hljs-literal">false</span><font></font>
    },<font></font>
    <span class="hljs-attr">"project"</span>: {
      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
      <span class="hljs-attr">"description"</span>: <span class="hljs-string">"The name of the project."</span>,
      <span class="hljs-attr">"$default"</span>: {
        <span class="hljs-attr">"$source"</span>: <span class="hljs-string">"projectName"</span><font></font>
      }<font></font>
    }<font></font>
  }<font></font>
}</code></pre><br>
<p>   properties, a :</p><br>
<ul>
<li>name   (     );</li>
<li>Path         ;</li>
<li>Project   ,     ;</li>
</ul><br>
<p>     ,    .</p><br>
<pre><code class="json hljs"><span class="hljs-string">"module"</span>:  {
  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
  <span class="hljs-attr">"description"</span>: <span class="hljs-string">"The declaring module."</span>,
  <span class="hljs-attr">"alias"</span>: <span class="hljs-string">"m"</span><font></font>
},<font></font>
<span class="hljs-string">"componentModule"</span>: {
  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"boolean"</span>,
  <span class="hljs-attr">"default"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Patern module per Component"</span>,
  <span class="hljs-attr">"alias"</span>: <span class="hljs-string">"mc"</span><font></font>
},<font></font>
<span class="hljs-string">"export"</span>: {
  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"boolean"</span>,
  <span class="hljs-attr">"default"</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Export component from module?"</span>
}</code></pre><br>
<ul>
<li>module           ,     ;</li>
<li>componentModule         (              true);</li>
<li>export:              ;</li>
</ul><br>
<p>        schema.d.ts. </p><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">export</span> interface BemPugOptions {
    <span class="hljs-attr">name</span>: string;<font></font>
    project?: string;<font></font>
    path?: string;<font></font>
    <span class="hljs-built_in">module</span>?: string;<font></font>
    componentModule?: boolean;<font></font>
    <span class="hljs-built_in">module</span>?: string;
    <span class="hljs-keyword">export</span>?: boolean;<font></font>
    bemPugMixinPath?: string;<font></font>
}</code></pre><br>
<p>      schema.json.    ,    index.ts.      filterTemplates,               componentModule,  setupOptions,      .</p><br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">filterTemplates</span>(<span class="hljs-params">options: BemPugOptions</span>): <span class="hljs-title">Rule</span> </span>{
  <span class="hljs-keyword">if</span> (!options.componentModule) {
    <span class="hljs-keyword">return</span> filter(<span class="hljs-function"><span class="hljs-params">path</span> =&gt;</span> !path.match(<span class="hljs-regexp">/\.module\.ts$/</span>) &amp;&amp; !path.match(<span class="hljs-regexp">/-item\.ts$/</span>) &amp;&amp; !path.match(<span class="hljs-regexp">/\.bak$/</span>));<font></font>
  }<font></font>
  <span class="hljs-keyword">return</span> filter(<span class="hljs-function"><span class="hljs-params">path</span> =&gt;</span> !path.match(<span class="hljs-regexp">/\.bak$/</span>));<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setupOptions</span>(<span class="hljs-params">options: BemPugOptions, host: Tree</span>): <span class="hljs-title">void</span> </span>{
  <span class="hljs-keyword">const</span> workspace = getWorkspace(host);
  <span class="hljs-keyword">if</span> (!options.project) {<font></font>
    options.project = <span class="hljs-built_in">Object</span>.keys(workspace.projects)[<span class="hljs-number">0</span>];<font></font>
  }<font></font>
  <span class="hljs-keyword">const</span> project = workspace.projects[options.project];<font></font>
<font></font>
  <span class="hljs-keyword">if</span> (options.path === <span class="hljs-literal">undefined</span>) {
    <span class="hljs-keyword">const</span> projectDirName = project.projectType === <span class="hljs-string">'application'</span> ? <span class="hljs-string">'app'</span> : <span class="hljs-string">'lib'</span>;<font></font>
    options.path = <span class="hljs-string">`/<span class="hljs-subst">${project.root}</span>/src/<span class="hljs-subst">${projectDirName}</span>`</span>;<font></font>
  }<font></font>
<font></font>
  <span class="hljs-keyword">const</span> parsedPath = parseName(options.path, options.name);<font></font>
  options.name = parsedPath.name;<font></font>
  options.path = parsedPath.path;<font></font>
<font></font>
}<font></font>
</code></pre><br>
<p>    :</p><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bempugComponent</span>(<span class="hljs-params">options: BemPugOptions</span>): <span class="hljs-title">Rule</span> </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">host: Tree, context: SchematicContext</span>) =&gt;</span> {<font></font>
<font></font>
    setupOptions(options, host);<font></font>
<font></font>
    <span class="hljs-keyword">const</span> templateSource = apply(url(<span class="hljs-string">'./files'</span>), [<font></font>
      filterTemplates(options),<font></font>
      template({<font></font>
        ...strings,<font></font>
        ...options<font></font>
      }),<font></font>
      move(options.path || <span class="hljs-string">''</span>)<font></font>
    ]);<font></font>
<font></font>
    <span class="hljs-keyword">const</span> rule = chain([<font></font>
      branchAndMerge(chain([<font></font>
        mergeWith(templateSource),<font></font>
      ]))<font></font>
    ]);<font></font>
<font></font>
    <span class="hljs-keyword">return</span> rule(host, context);<font></font>
  }<font></font>
}<font></font>
</code></pre><br>
<p>             files,   .   ,          bempug-component  files.   files   <code>__name@dasherize__</code>,     <code>__name@dasherize__</code>   .</p><br>
<p>   <code>__name@dasherize__</code>   </p><br>
<ul>
<li><code>__name@dasherize__</code>.component.pug pug  </li>
<li><code>__name@dasherize__</code>.component.spec.ts      </li>
<li><code>__name@dasherize__</code>.component.ts    </li>
<li><code>__name@dasherize__</code>-component.module.ts   </li>
<li><code>__name@dasherize__</code>-component.scss    </li>
</ul><br>
<p>       ,     add-to-module-context.ts,   ,       .</p><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> ts <span class="hljs-keyword">from</span> <span class="hljs-string">'typescript'</span>;<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AddToModuleContext</span> </span>{
    <span class="hljs-comment">// source of the module file</span>
    <span class="hljs-attr">source</span>: ts.SourceFile;<font></font>
<font></font>
    <span class="hljs-comment">// the relative path that points from</span>
    <span class="hljs-comment">// the module file to the component file</span><font></font>
    relativePath: string;<font></font>
<font></font>
    <span class="hljs-comment">// name of the component class</span><font></font>
    classifiedName: string;<font></font>
}</code></pre><br>
<p>    .</p><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> stringUtils = { dasherize, classify };<font></font>
<font></font>
<span class="hljs-comment">// You don't have to export the function as default. You can also have more than one rule factory</span>
<span class="hljs-comment">// per file.</span><font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">filterTemplates</span>(<span class="hljs-params">options: BemPugOptions</span>): <span class="hljs-title">Rule</span> </span>{
  <span class="hljs-keyword">if</span> (!options.componentModule) {
    <span class="hljs-keyword">return</span> filter(<span class="hljs-function"><span class="hljs-params">path</span> =&gt;</span> !path.match(<span class="hljs-regexp">/\.module\.ts$/</span>) &amp;&amp; !path.match(<span class="hljs-regexp">/-item\.ts$/</span>) &amp;&amp; !path.match(<span class="hljs-regexp">/\.bak$/</span>));<font></font>
  }<font></font>
  <span class="hljs-keyword">return</span> filter(<span class="hljs-function"><span class="hljs-params">path</span> =&gt;</span> !path.match(<span class="hljs-regexp">/\.bak$/</span>));<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setupOptions</span>(<span class="hljs-params">options: BemPugOptions, host: Tree</span>): <span class="hljs-title">void</span> </span>{
  <span class="hljs-keyword">const</span> workspace = getWorkspace(host);
  <span class="hljs-keyword">if</span> (!options.project) {<font></font>
    options.project = <span class="hljs-built_in">Object</span>.keys(workspace.projects)[<span class="hljs-number">0</span>];<font></font>
  }<font></font>
  <span class="hljs-keyword">const</span> project = workspace.projects[options.project];<font></font>
<font></font>
  <span class="hljs-keyword">if</span> (options.path === <span class="hljs-literal">undefined</span>) {
    <span class="hljs-keyword">const</span> projectDirName = project.projectType === <span class="hljs-string">'application'</span> ? <span class="hljs-string">'app'</span> : <span class="hljs-string">'lib'</span>;<font></font>
    options.path = <span class="hljs-string">`/<span class="hljs-subst">${project.root}</span>/src/<span class="hljs-subst">${projectDirName}</span>`</span>;<font></font>
  }<font></font>
<font></font>
  <span class="hljs-keyword">const</span> parsedPath = parseName(options.path, options.name);<font></font>
  options.name = parsedPath.name;<font></font>
  options.path = parsedPath.path;<font></font>
    options.module = options.module || findModuleFromOptions(host, options) || <span class="hljs-string">''</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createAddToModuleContext</span>(<span class="hljs-params">host: Tree, options: ModuleOptions, componentPath: string</span>): <span class="hljs-title">AddToModuleContext</span> </span>{
  <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">new</span> AddToModuleContext();<font></font>
<font></font>
  <span class="hljs-keyword">if</span> (!options.module) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> SchematicsException(<span class="hljs-string">`Module not found.`</span>);<font></font>
  }<font></font>
<font></font>
  <span class="hljs-comment">// Reading the module file</span>
  <span class="hljs-keyword">const</span> text = host.read(options.module);<font></font>
<font></font>
  <span class="hljs-keyword">if</span> (text === <span class="hljs-literal">null</span>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> SchematicsException(<span class="hljs-string">`File <span class="hljs-subst">${options.<span class="hljs-built_in">module</span>}</span> does not exist.`</span>);<font></font>
  }<font></font>
<font></font>
  <span class="hljs-keyword">const</span> sourceText = text.toString(<span class="hljs-string">'utf-8'</span>);<font></font>
  result.source = ts.createSourceFile(options.module, sourceText, ts.ScriptTarget.Latest, <span class="hljs-literal">true</span>);<font></font>
<font></font>
  result.relativePath = buildRelativePath(options.module, componentPath);<font></font>
<font></font>
  result.classifiedName = stringUtils.classify(<span class="hljs-string">`<span class="hljs-subst">${options.name}</span>ComponentModule`</span>);<font></font>
<font></font>
  <span class="hljs-keyword">return</span> result;<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addDeclaration</span>(<span class="hljs-params">host: Tree, options: ModuleOptions, componentPath: string</span>) </span>{<font></font>
<font></font>
  <span class="hljs-keyword">const</span> context = createAddToModuleContext(host, options, componentPath);
  <span class="hljs-keyword">const</span> modulePath = options.module || <span class="hljs-string">''</span>;
  <span class="hljs-keyword">const</span> declarationChanges = addImportToModule(<font></font>
      context.source,<font></font>
      modulePath,<font></font>
      context.classifiedName,<font></font>
      context.relativePath);<font></font>
<font></font>
  <span class="hljs-keyword">const</span> declarationRecorder = host.beginUpdate(modulePath);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> change <span class="hljs-keyword">of</span> declarationChanges) {
    <span class="hljs-keyword">if</span> (change <span class="hljs-keyword">instanceof</span> InsertChange) {<font></font>
      declarationRecorder.insertLeft(change.pos, change.toAdd);<font></font>
    }<font></font>
  }<font></font>
  host.commitUpdate(declarationRecorder);<font></font>
};<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addExport</span>(<span class="hljs-params">host: Tree, options: ModuleOptions, componentPath: string</span>) </span>{
  <span class="hljs-keyword">const</span> context = createAddToModuleContext(host, options, componentPath);
  <span class="hljs-keyword">const</span> modulePath = options.module || <span class="hljs-string">''</span>;<font></font>
<font></font>
  <span class="hljs-keyword">const</span> exportChanges = addExportToModule(<font></font>
      context.source,<font></font>
      modulePath,<font></font>
      context.classifiedName,<font></font>
      context.relativePath);<font></font>
<font></font>
  <span class="hljs-keyword">const</span> exportRecorder = host.beginUpdate(modulePath);<font></font>
<font></font>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> change <span class="hljs-keyword">of</span> exportChanges) {
    <span class="hljs-keyword">if</span> (change <span class="hljs-keyword">instanceof</span> InsertChange) {<font></font>
      exportRecorder.insertLeft(change.pos, change.toAdd);<font></font>
    }<font></font>
  }<font></font>
  host.commitUpdate(exportRecorder);<font></font>
};<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addDeclarationToNgModule</span>(<span class="hljs-params">options: ModuleOptions, exports: boolean, componentPath: string</span>): <span class="hljs-title">Rule</span> </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">host: Tree</span>) =&gt;</span> {<font></font>
    addDeclaration(host, options, componentPath);<font></font>
    <span class="hljs-keyword">if</span> (exports) {<font></font>
      addExport(host, options, componentPath);<font></font>
    }<font></font>
    <span class="hljs-keyword">return</span> host;<font></font>
  };<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bempugComponent</span>(<span class="hljs-params">options: BemPugOptions</span>): <span class="hljs-title">Rule</span> </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">host: Tree, context: SchematicContext</span>) =&gt;</span> {<font></font>
<font></font>
    setupOptions(options, host);<font></font>
<font></font>
    deleteCommon(host);<font></font>
    <span class="hljs-keyword">const</span> templateSource = apply(url(<span class="hljs-string">'./files'</span>), [<font></font>
      filterTemplates(options),<font></font>
      template({<font></font>
        ...strings,<font></font>
        ...options<font></font>
      }),<font></font>
      move(options.path || <span class="hljs-string">''</span>)<font></font>
    ]);<font></font>
<font></font>
    <span class="hljs-keyword">const</span> rule = chain([<font></font>
      branchAndMerge(chain([<font></font>
        mergeWith(templateSource),<font></font>
        addDeclarationToNgModule(options, !!options.export, <span class="hljs-string">`<span class="hljs-subst">${options.path}</span>/<span class="hljs-subst">${options.name}</span>/<span class="hljs-subst">${options.name}</span>-component.module`</span> || <span class="hljs-string">''</span>)<font></font>
      ]))<font></font>
    ]);<font></font>
<font></font>
    <span class="hljs-keyword">return</span> rule(host, context);<font></font>
  }<font></font>
}<font></font>
</code></pre><br>
<p>    -m &lt;  &gt;  li ,              â€“export    .    BEM.      npm  bempug       bempugMixin.pug,     common       common,      common    .</p><br>
<p> ,         ,       ,        .</p><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> {<font></font>
  Rule,<font></font>
  SchematicContext,<font></font>
  Tree,<font></font>
  filter,<font></font>
  apply,<font></font>
  template,<font></font>
  move,<font></font>
  chain,<font></font>
  branchAndMerge, mergeWith, url, SchematicsException<font></font>
} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular-devkit/schematics'</span>;
<span class="hljs-keyword">import</span> {BemPugOptions} <span class="hljs-keyword">from</span> <span class="hljs-string">"./schema"</span>;
<span class="hljs-keyword">import</span> {getWorkspace} <span class="hljs-keyword">from</span> <span class="hljs-string">"@schematics/angular/utility/config"</span>;
<span class="hljs-keyword">import</span> {parseName} <span class="hljs-keyword">from</span> <span class="hljs-string">"@schematics/angular/utility/parse-name"</span>;
<span class="hljs-keyword">import</span> {normalize, strings} <span class="hljs-keyword">from</span> <span class="hljs-string">"@angular-devkit/core"</span>;
<span class="hljs-keyword">import</span> { AddToModuleContext } <span class="hljs-keyword">from</span> <span class="hljs-string">'./add-to-module-context'</span>;
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> ts <span class="hljs-keyword">from</span> <span class="hljs-string">'typescript'</span>;<font></font>
<font></font>
<span class="hljs-keyword">import</span> {classify, dasherize} <span class="hljs-keyword">from</span> <span class="hljs-string">"@angular-devkit/core/src/utils/strings"</span>;
<span class="hljs-keyword">import</span> {buildRelativePath, findModuleFromOptions, ModuleOptions} <span class="hljs-keyword">from</span> <span class="hljs-string">"@schematics/angular/utility/find-module"</span>;
<span class="hljs-keyword">import</span> {addExportToModule, addImportToModule} <span class="hljs-keyword">from</span> <span class="hljs-string">"@schematics/angular/utility/ast-utils"</span>;
<span class="hljs-keyword">import</span> {InsertChange} <span class="hljs-keyword">from</span> <span class="hljs-string">"@schematics/angular/utility/change"</span>;<font></font>
<font></font>
<span class="hljs-keyword">const</span> stringUtils = { dasherize, classify };<font></font>
<font></font>
<span class="hljs-comment">// You don't have to export the function as default. You can also have more than one rule factory</span>
<span class="hljs-comment">// per file.</span><font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">filterTemplates</span>(<span class="hljs-params">options: BemPugOptions</span>): <span class="hljs-title">Rule</span> </span>{
  <span class="hljs-keyword">if</span> (!options.componentModule) {
    <span class="hljs-keyword">return</span> filter(<span class="hljs-function"><span class="hljs-params">path</span> =&gt;</span> !path.match(<span class="hljs-regexp">/\.module\.ts$/</span>) &amp;&amp; !path.match(<span class="hljs-regexp">/-item\.ts$/</span>) &amp;&amp; !path.match(<span class="hljs-regexp">/\.bak$/</span>));<font></font>
  }<font></font>
  <span class="hljs-keyword">return</span> filter(<span class="hljs-function"><span class="hljs-params">path</span> =&gt;</span> !path.match(<span class="hljs-regexp">/\.bak$/</span>));<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setupOptions</span>(<span class="hljs-params">options: BemPugOptions, host: Tree</span>): <span class="hljs-title">void</span> </span>{
  <span class="hljs-keyword">const</span> workspace = getWorkspace(host);
  <span class="hljs-keyword">if</span> (!options.project) {<font></font>
    options.project = <span class="hljs-built_in">Object</span>.keys(workspace.projects)[<span class="hljs-number">0</span>];<font></font>
  }<font></font>
  <span class="hljs-keyword">const</span> project = workspace.projects[options.project];<font></font>
<font></font>
  <span class="hljs-keyword">if</span> (options.path === <span class="hljs-literal">undefined</span>) {
    <span class="hljs-keyword">const</span> projectDirName = project.projectType === <span class="hljs-string">'application'</span> ? <span class="hljs-string">'app'</span> : <span class="hljs-string">'lib'</span>;<font></font>
    options.path = <span class="hljs-string">`/<span class="hljs-subst">${project.root}</span>/src/<span class="hljs-subst">${projectDirName}</span>`</span>;<font></font>
  }<font></font>
<font></font>
  <span class="hljs-keyword">const</span> parsedPath = parseName(options.path, options.name);<font></font>
  options.name = parsedPath.name;<font></font>
  options.path = parsedPath.path;<font></font>
  options.module = options.module || findModuleFromOptions(host, options) || <span class="hljs-string">''</span>;<font></font>
  options.bemPugMixinPath = buildRelativePath(<span class="hljs-string">`<span class="hljs-subst">${options.path}</span>/<span class="hljs-subst">${options.name}</span>/<span class="hljs-subst">${options.name}</span>.component.ts`</span>, <span class="hljs-string">`/src/app/common/bempugMixin.pug`</span>);<font></font>
<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createAddToModuleContext</span>(<span class="hljs-params">host: Tree, options: ModuleOptions, componentPath: string</span>): <span class="hljs-title">AddToModuleContext</span> </span>{
  <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">new</span> AddToModuleContext();<font></font>
<font></font>
  <span class="hljs-keyword">if</span> (!options.module) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> SchematicsException(<span class="hljs-string">`Module not found.`</span>);<font></font>
  }<font></font>
<font></font>
  <span class="hljs-comment">// Reading the module file</span>
  <span class="hljs-keyword">const</span> text = host.read(options.module);<font></font>
<font></font>
  <span class="hljs-keyword">if</span> (text === <span class="hljs-literal">null</span>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> SchematicsException(<span class="hljs-string">`File <span class="hljs-subst">${options.<span class="hljs-built_in">module</span>}</span> does not exist.`</span>);<font></font>
  }<font></font>
<font></font>
  <span class="hljs-keyword">const</span> sourceText = text.toString(<span class="hljs-string">'utf-8'</span>);<font></font>
  result.source = ts.createSourceFile(options.module, sourceText, ts.ScriptTarget.Latest, <span class="hljs-literal">true</span>);<font></font>
<font></font>
  result.relativePath = buildRelativePath(options.module, componentPath);<font></font>
<font></font>
  result.classifiedName = stringUtils.classify(<span class="hljs-string">`<span class="hljs-subst">${options.name}</span>ComponentModule`</span>);<font></font>
<font></font>
  <span class="hljs-keyword">return</span> result;<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addDeclaration</span>(<span class="hljs-params">host: Tree, options: ModuleOptions, componentPath: string</span>) </span>{<font></font>
<font></font>
  <span class="hljs-keyword">const</span> context = createAddToModuleContext(host, options, componentPath);
  <span class="hljs-keyword">const</span> modulePath = options.module || <span class="hljs-string">''</span>;<font></font>
<font></font>
  <span class="hljs-keyword">const</span> declarationChanges = addImportToModule(<font></font>
      context.source,<font></font>
      modulePath,<font></font>
      context.classifiedName,<font></font>
      context.relativePath);<font></font>
<font></font>
  <span class="hljs-keyword">const</span> declarationRecorder = host.beginUpdate(modulePath);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> change <span class="hljs-keyword">of</span> declarationChanges) {
    <span class="hljs-keyword">if</span> (change <span class="hljs-keyword">instanceof</span> InsertChange) {<font></font>
      declarationRecorder.insertLeft(change.pos, change.toAdd);<font></font>
    }<font></font>
  }<font></font>
  host.commitUpdate(declarationRecorder);<font></font>
};<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addExport</span>(<span class="hljs-params">host: Tree, options: ModuleOptions, componentPath: string</span>) </span>{
  <span class="hljs-keyword">const</span> context = createAddToModuleContext(host, options, componentPath);
  <span class="hljs-keyword">const</span> modulePath = options.module || <span class="hljs-string">''</span>;<font></font>
<font></font>
  <span class="hljs-keyword">const</span> exportChanges = addExportToModule(<font></font>
      context.source,<font></font>
      modulePath,<font></font>
      context.classifiedName,<font></font>
      context.relativePath);<font></font>
<font></font>
  <span class="hljs-keyword">const</span> exportRecorder = host.beginUpdate(modulePath);<font></font>
<font></font>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> change <span class="hljs-keyword">of</span> exportChanges) {
    <span class="hljs-keyword">if</span> (change <span class="hljs-keyword">instanceof</span> InsertChange) {<font></font>
      exportRecorder.insertLeft(change.pos, change.toAdd);<font></font>
    }<font></font>
  }<font></font>
  host.commitUpdate(exportRecorder);<font></font>
};<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addDeclarationToNgModule</span>(<span class="hljs-params">options: ModuleOptions, exports: boolean, componentPath: string</span>): <span class="hljs-title">Rule</span> </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">host: Tree</span>) =&gt;</span> {<font></font>
    addDeclaration(host, options, componentPath);<font></font>
    <span class="hljs-keyword">if</span> (exports) {<font></font>
      addExport(host, options, componentPath);<font></font>
    }<font></font>
    <span class="hljs-keyword">return</span> host;<font></font>
  };<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">deleteCommon</span>(<span class="hljs-params">host: Tree</span>) </span>{
  <span class="hljs-keyword">const</span> path = <span class="hljs-string">`/src/app/common/bempugMixin.pug`</span>;
  <span class="hljs-keyword">if</span>(host.exists(path)) {<font></font>
    host.delete(<span class="hljs-string">`/src/app/common/bempugMixin.pug`</span>);<font></font>
  }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bempugComponent</span>(<span class="hljs-params">options: BemPugOptions</span>): <span class="hljs-title">Rule</span> </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">host: Tree, context: SchematicContext</span>) =&gt;</span> {<font></font>
<font></font>
    setupOptions(options, host);<font></font>
<font></font>
    deleteCommon(host);<font></font>
    <span class="hljs-keyword">const</span> templateSource = apply(url(<span class="hljs-string">'./files'</span>), [<font></font>
      filterTemplates(options),<font></font>
      template({<font></font>
        ...strings,<font></font>
        ...options<font></font>
      }),<font></font>
      move(options.path || <span class="hljs-string">''</span>)<font></font>
    ]);<font></font>
    <span class="hljs-keyword">const</span> mixinSource = apply(url(<span class="hljs-string">'./common'</span>), [<font></font>
      template({<font></font>
        ...strings,<font></font>
        ...options<font></font>
      }),<font></font>
      move(<span class="hljs-string">'/src/app/'</span> || <span class="hljs-string">''</span>)<font></font>
    ]);<font></font>
<font></font>
    <span class="hljs-keyword">const</span> rule = chain([<font></font>
      branchAndMerge(chain([<font></font>
        mergeWith(templateSource),<font></font>
        mergeWith(mixinSource),<font></font>
        addDeclarationToNgModule(options, !!options.export, <span class="hljs-string">`<span class="hljs-subst">${options.path}</span>/<span class="hljs-subst">${options.name}</span>/<span class="hljs-subst">${options.name}</span>-component.module`</span> || <span class="hljs-string">''</span>)<font></font>
      ]), <span class="hljs-number">14</span>)<font></font>
    ]);<font></font>
<font></font>
    <span class="hljs-keyword">return</span> rule(host, context);<font></font>
  }<font></font>
}<font></font>
</code></pre><br>
<p>      .</p><br>
<p><code>__name@dasherize__.component.pug</code>:</p><br>
<pre><code class="javascript hljs">include &lt;%= bemPugMixinPath %&gt;<font></font>
<font></font>
+b(<span class="hljs-string">'&lt;%= name %&gt;'</span>)<font></font>
    +e(<span class="hljs-string">'item'</span>, {<span class="hljs-attr">m</span>:<span class="hljs-string">'test'</span>})<font></font>
        | &lt;%= name %&gt; works</code></pre><br>
<p>    &lt;% = %&gt;       .</p><br>
<p><code>__name@dasherize__.component.spec.ts:</code></p><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> { <span class="hljs-keyword">async</span>, ComponentFixture, TestBed } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core/testing'</span>;
<span class="hljs-keyword">import</span> {NO_ERRORS_SCHEMA} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;
<span class="hljs-keyword">import</span> { &lt;%= classify(name) %&gt;ComponentModule } <span class="hljs-keyword">from</span> <span class="hljs-string">'./&lt;%= name %&gt;-component.module'</span>;
<span class="hljs-keyword">import</span> { &lt;%= classify(name) %&gt;Component } <span class="hljs-keyword">from</span> <span class="hljs-string">'./&lt;%= name %&gt;.component'</span>;<font></font>
<font></font>
describe(<span class="hljs-string">'&lt;%= classify(name) %&gt;Component'</span>, () =&gt; {
    <span class="hljs-keyword">let</span> component: &lt;%= classify(name) %&gt;Component;
    <span class="hljs-keyword">let</span> fixture: ComponentFixture&lt;&lt;%= classify(name) %&gt;Component&gt;;<font></font>
<font></font>
    beforeEach(<span class="hljs-keyword">async</span>(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {<font></font>
        TestBed.configureTestingModule({<font></font>
            <span class="hljs-attr">imports</span>: [&lt;%= classify(name) %&gt;ComponentModule],
            <span class="hljs-attr">declarations</span>: [],
            <span class="hljs-attr">schemas</span>: [ NO_ERRORS_SCHEMA ]<font></font>
        })<font></font>
            .compileComponents();<font></font>
    }));<font></font>
<font></font>
    beforeEach(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {<font></font>
        fixture = TestBed.createComponent(&lt;%= classify(name) %&gt;Component);<font></font>
        component = fixture.componentInstance;<font></font>
        fixture.detectChanges();<font></font>
    });<font></font>
<font></font>
    it(<span class="hljs-string">'should create'</span>, () =&gt; {<font></font>
        expect(component).toBeTruthy();<font></font>
    });<font></font>
});</code></pre><br>
<p>   &lt;%= classify(name) %&gt;      CamelCase.</p><br>
<p><code>__name@dasherize__.component.ts:</code></p><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> { Component, OnInit, ViewEncapsulation} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;<font></font>
<font></font>
@Component({<font></font>
        <span class="hljs-attr">selector</span>: <span class="hljs-string">'app-&lt;%=dasherize(name)%&gt;-component'</span>,
        <span class="hljs-attr">templateUrl</span>: <span class="hljs-string">'&lt;%=dasherize(name)%&gt;.component.pug'</span>,
        <span class="hljs-attr">styleUrls</span>: [<span class="hljs-string">'./&lt;%=dasherize(name)%&gt;-component.scss'</span>],
        <span class="hljs-attr">encapsulation</span>: ViewEncapsulation.None<font></font>
})<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> &lt;%</span>= classify(name) %&gt;Component implements OnInit {
        <span class="hljs-keyword">constructor</span>() {}<font></font>
        ngOnInit(): <span class="hljs-keyword">void</span> {<font></font>
        }<font></font>
}<font></font>
</code></pre><br>
<p><code>__name@dasherize__-component.module.ts:</code></p><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> { NgModule } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;
<span class="hljs-keyword">import</span> { CommonModule } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/common'</span>;
<span class="hljs-keyword">import</span> {&lt;%= classify(name) %&gt;Component} <span class="hljs-keyword">from</span> <span class="hljs-string">'./&lt;%= name %&gt;.component'</span>;<font></font>
<font></font>
@NgModule({<font></font>
    <span class="hljs-attr">declarations</span>: [<font></font>
        &lt;%= classify(name) %&gt;Component,<font></font>
    ],<font></font>
    <span class="hljs-attr">imports</span>: [<font></font>
        CommonModule<font></font>
    ],<font></font>
    <span class="hljs-attr">exports</span>: [<font></font>
        &lt;%= classify(name) %&gt;Component,<font></font>
    ]<font></font>
})<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> &lt;%</span>= classify(name) %&gt;ComponentModule { }</code></pre><br>
<p><code>__name@dasherize__-component.scss:</code></p><br>
<pre><code class="css hljs">.&lt;%= <span class="hljs-selector-tag">name</span> %&gt;{<font></font>
<font></font>
}</code></pre><br>
<p>     ``npm run build```.</p><br>
<p>      ! </p><br>
<p>      Angular   .<br>
<code>ng g m test-schema</code><br>
  ``npm link &lt;       &gt;```,        node_modules .</p><br>
<p>    <code>ng g bempug-component:bempug-component test -m /src/app/test-schema/test-schema.module.ts â€“export</code>.<br>
           .<br>
 ,       .</p><br>
<p>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a>,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">   npm</a>.</p><br>
<p>       ,    .</p><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">https://blog.angular.io/schematics-an-introduction-dc1dfbc2a2b2</a>;</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://medium.com/@tomastrajan/total-guide-to-custom-angular-schematics-5c50cf90cdb4</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://developer.okta.com/blog/2019/02/13/angular-schematics</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
</ul><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœ€å¾Œã¾ã§èª­ã‚“ã§ãã ã•ã£ãŸçš†ã•ã‚“ã€æœ€é«˜ã§ã™ï¼</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãã—ã¦ã€ã‚‚ã†ä¸€ã¤ã®åˆºæ¿€çš„ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒç§ã‚’å¾…ã£ã¦ã„ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã¾ãŸè¿‘ã„ã†ã¡ã«ãŠä¼šã„ã—ã¾ã—ã‚‡ã†ï¼</font></font></p></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja469497/index.html">Tilemapã‚·ã‚¹ãƒ†ãƒ ã‚’ä½¿ç”¨ã—ã¦ã‚¢ã‚¤ã‚½ãƒ¡2Dãƒ¬ãƒ™ãƒ«ã‚’ä½œæˆã™ã‚‹</a></li>
<li><a href="../ja469499/index.html">ParallelsãŒAppleã§ã‚µã‚¤ãƒ³ã‚¤ãƒ³ã‚’å¾æœã—ãŸæ–¹æ³•</a></li>
<li><a href="../ja469503/index.html">ã‚µã‚¤ãƒãƒ¼ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ï¼šç§ãŸã¡ã¯2019å¹´ã«ãƒªãƒ¼ã‚¯ã‹ã‚‰åŠ å…¥è€…ãƒ‡ãƒ¼ã‚¿ã‚’ä¿è­·ã—ã¾ã™</a></li>
<li><a href="../ja469505/index.html">ãƒ“ã‚¸ãƒã‚¹ã‚’æµ·å¤–å¸‚å ´ã«ã‚‚ãŸã‚‰ã™3ã¤ã®å®Ÿè·µçš„ãªæ–¹æ³•ï¼šå®Ÿéš›ã®ä¼æ¥­ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã¨æ‰‹æ³•</a></li>
<li><a href="../ja469507/index.html">3ç•ªç›®ã®Steam Windowsã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®è„†å¼±æ€§ï¼ˆ0dayã§ã¯ãªã„ï¼‰</a></li>
<li><a href="../ja469515/index.html">Istioã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æº–å‚™</a></li>
<li><a href="../ja469521/index.html">è»¢å€’ã§ã¯ãªãä¹—ã‚‹ãŸã‚ã«ãƒã‚¤ã‚¯ã‚’è³¼å…¥ã—ã¾ã—ãŸ</a></li>
<li><a href="../ja469523/index.html">JavaScriptã§ã®å¤‰æ•°å®£è¨€ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«å¯¾ã™ã‚‹ã‚³ãƒ¼ãƒ‰ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®ä¾å­˜æ€§</a></li>
<li><a href="../ja469525/index.html">é‰±å±±æ˜å‰Šæ©Ÿã®è‡ªå‹•åˆ¶å¾¡ã‚·ã‚¹ãƒ†ãƒ </a></li>
<li><a href="../ja469527/index.html">ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ›ãƒ³ã¯ã‚¹ãƒ‘ã‚¤ã®è€³ã§ã™ã‹ï¼Ÿ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>