<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏽‍🚒 👨🏿‍🚀 🧛🏻 YouTubeなどのストリーミングとキャスト... GotubecastとKODI TubeCastを使用したラズベリーpi経由 🤺 👰🏽 👩🏾‍🏭</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="YouTubeの音楽や動画を電話やその他の携帯型のモバイルデバイスを介してRaspberry piに転送するのはどのくらい難しいですか。そして、ポータブルでない場合はどうなりますか？WindowsまたはLinux PCを介してメディアコンテンツを管理するのは簡単ですか？いいえ。ラズベリーにいくつかの...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>YouTubeなどのストリーミングとキャスト... GotubecastとKODI TubeCastを使用したラズベリーpi経由</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/503254/"><img src="https://habrastorage.org/getpro/habr/post_images/e5b/c48/771/e5bc487717d8386f7eef96fc2459569d.jpg" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
YouTubeの音楽や動画を電話やその他の携帯型のモバイルデバイスを介してRaspberry piに転送するのはどのくらい難しいですか。</font><font style="vertical-align: inherit;">そして、ポータブルでない場合はどうなりますか？</font><font style="vertical-align: inherit;">WindowsまたはLinux PCを介してメディアコンテンツを管理するのは簡単ですか？</font><font style="vertical-align: inherit;">いいえ。</font><font style="vertical-align: inherit;">ラズベリーにいくつかのアプリケーションをインストールしてセットアップすることを検討したいと思います。これを使用して、これを実行できます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この状況でのストリーミングは、インターネット上のサイトのどこかにあるメディアコンテンツを転送するプロセスであると想定します。たとえば、メディアライブラリを備えたローカルサーバー上でラズベリーpiで再生します。そしてキャストとは、外部デバイスのメディアコンテンツをテレビに、より正確にはテレビや音楽センターに接続されたラズベリーpiに「転送制御」するときにキャストという言葉から来ています。この状況では、YouTubeアプリケーションを起動することにより、モバイル経由でビデオまたは音楽の出力をmalinkaを介してTVにリダイレクトします。 HDMI経由でラズベリーpiをテレビに接続することを忘れないでください。</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらのアプリケーションを検討するには、2つのオプションがあります。</font><font style="vertical-align: inherit;">最初のオプションは、ViaMyBoxプロジェクトですべてを構成しました。このバージョンのraspbian busterでは、Linux構成のさまざまなニュアンスを気にせず、ディストリビューション</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://viamybox.com/downloadpage/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">から、またはリポジトリからraspberry piから直接</font><font style="vertical-align: inherit;">ダウンロードでき</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-built_in">cd</span> /home/pi<font></font>
git <span class="hljs-built_in">clone</span> https://github.com/viatc/viamybox.git
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スクリプトを実行します-&gt;ホームシアター-&gt; YouTubeをキャスト：</font></font><br>
<br>
<pre><code class="bash hljs">sudo /home/pi/viamybox/scripts/via-setup.sh
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
または、以下の例に従って、必要に応じてすべてを自分で設定してください。</font><font style="vertical-align: inherit;">これらのアプリケーションのこの記事の機能を比較および詳細に説明するのではなく、単に構成とインストールの経験、および私が遭遇したニュアンスを共有します。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私たちは会う！</font><font style="vertical-align: inherit;">Gotubecast</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プロジェクトページ：</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">//github.com/CBiX/gotubecast</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Gotubecastは、YouTubeで独自のテレビプレーヤーを作成するための小さなプログラムです。</font><font style="vertical-align: inherit;">つまり、ラズベリーpiでgotubecastを起動することにより、電話またはその他のデバイスのyoutubeアプリケーションを使用して、ラズベリーpiに接続し、テレビでyoutubeムービーを起動できます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zj/94/wa/zj94wa_wczvtm9mzob49owc-59i.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、これを実現するには、いくつかのアクションを実行する必要があります... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このプログラムはGoで記述されています。</font><font style="vertical-align: inherit;">したがって、インストールする必要があります。</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-built_in">cd</span> /home/pi
<span class="hljs-comment"># </span><font></font>
wget https://dl.google.com/go/go1.13.7.linux-armv6l.tar.gz<font></font>
<span class="hljs-comment"># </span>
sudo tar -C /usr/<span class="hljs-built_in">local</span>/ -xvzf go1.13.7.linux-armv6l.tar.gz
<span class="hljs-comment">#    </span><font></font>
mkdir -p projects/{src,pkg,bin}<font></font>
<span class="hljs-comment"># </span><font></font>
nano /home/pi/.profile<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そしてそれに環境変数を書きます：</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$PATH</span>:/usr/<span class="hljs-built_in">local</span>/go/bin
<span class="hljs-built_in">export</span> GOBIN=<span class="hljs-string">"<span class="hljs-variable">$HOME</span>/projects/bin"</span>
<span class="hljs-built_in">export</span> GOPATH=<span class="hljs-string">"<span class="hljs-variable">$HOME</span>/projects/src"</span>
<span class="hljs-built_in">export</span> GOROOT=<span class="hljs-string">"/usr/local/go"</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このパッケージを確認してください：</font></font><br>
<br>
<pre><code class="bash hljs">go version
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、gotubecastをインストールします。</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-built_in">cd</span> /home/pi<font></font>
go get github.com/CBiX/gotubecast<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
作成したフォルダー/home/pi/projects/src/src/github.com/CBiX/gotubecast/examplesにあるプロジェクトでは、作者はラズベリー用のraspi.shスクリプトを慎重に記述し、gotubecastの起動を簡素化しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちはそれをローンチしました、そして今魔法は近いです...</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-built_in">cd</span> /home/pi/projects/src/src/github.com/CBiX/gotubecast/examples<font></font>
./raspi.sh<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スクリプトを開始すると、</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「ペアリングコード：901-900-123-183」の</font><font style="vertical-align: inherit;">ような行が表示さ</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
れます。これにより、電話でテレビを見つけることができます。</font><font style="vertical-align: inherit;">電話でyoutubeアプリケーションに移動し、次に設定のアカウントアイコンを介して-&gt;テレビを見て、コードでドライブします。</font><font style="vertical-align: inherit;">その後、ラズベリーpiを介してYouTubeで視聴できるアイコンが表示されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/uw/z3/yi/uwz3yixy5djjkybbr_py53trfrc.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/uc/bu/rz/ucburzh2j1gvkh04aev9rse0rty.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、ラズベリーpiとgoogleアプリケーションが長時間接続されていない場合などは、テレビが失われる可能性があります。そのため、ペアリングコードに加えて、画面IDを使用してテレビをゴーグルアプリケーションに永久にリンクすることができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ラズベリーパイで生成します：</font></font><br>
<br>
<pre><code class="bash hljs">wget https://www.youtube.com/api/lounge/pairing/generate_screen_id<font></font>
cat generate_screen_id<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そしてそれをファイルに追加します：</font></font><br>
<br>
<pre><code class="bash hljs">nano /home/pi/projects/src/src/github.com/CBiX/gotubecast/examples/raspi.sh
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次の行の変数に入れます</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。export SCREEN_ID = "aauaju8Example5539vbb" </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
起動時にこれらすべてを一度に開始するには、フォルダーに小さなサービスデーモンを作成します。</font></font><br>
<br>
<pre><code class="bash hljs">sudo nano /lib/systemd/system/gotubecast.service
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そしてその中に：</font></font><br>
<br>
<pre><code class="bash hljs">[Unit]<font></font>
Description=Cast youtube<font></font>
Wants=network-online.target<font></font>
After=network.target network-online.target<font></font>
<font></font>
[Service]<font></font>
Type=simple<font></font>
ExecStart=/bin/bash /home/pi/projects/src/src/github.com/CBiX/gotubecast/examples/raspi.sh<font></font>
Restart=on-abort<font></font>
User=pi<font></font>
Group=pi<font></font>
<font></font>
[Install]<font></font>
WantedBy=multi-user.target<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、システムで初期化します。</font></font><br>
<br>
<pre><code class="bash hljs">systemctl <span class="hljs-built_in">enable</span> gotubecast.service
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、システムが起動すると起動します。</font><font style="vertical-align: inherit;">結局のところ、デーモンが起動すると、ネットワークがないとクラッシュします。</font><font style="vertical-align: inherit;">より正確には、raspi.shはネットワークを検出しません。</font><font style="vertical-align: inherit;">ネットワークサービスにsudo raspi-config.shを介して設定を待機させることができますが、raspbianをすばやくダウンロードする方が一般的には快適です）したがって、スクリプトでネットワーク自体をチェックします。</font><font style="vertical-align: inherit;">raspi.shファイルに待機チェックを追加します。</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-keyword">while</span> ! ping -q -c 1 8.8.8.8 &gt;/dev/null ; <span class="hljs-keyword">do</span> sleep 1; <span class="hljs-keyword">done</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
gotubecastを実行可能ファイルのフォルダーにコピーします</font></font><br>
<br>
<pre><code class="bash hljs">sudo cp /home/pi/projects/bin/gotubecast /usr/bin/
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、すべての準備が整いました:-) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
はい、Linuxoidではなく、チームの目に波紋がある場合、スクリプトで上記のプロセス全体を自動化しました。これは次のようになります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/eu/jf/op/eujfopwrzn1-phdewf9nnsuhvki.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それを使用するには、サイトまたはgithubからプロジェクトをダウンロードします。</font></font><br>
<br>
<pre><code class="bash hljs">git <span class="hljs-built_in">clone</span> https://github.com/viatc/viamybox.git</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スクリプト/home/pi/viamybox/scripts/via-setup.shを実行して、ホームシアターメニューに移動します。</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-built_in">cd</span> /home/pi<font></font>
git <span class="hljs-built_in">clone</span> https://github.com/viatc/viamybox.git<font></font>
sudo /home/pi/viamybox/scripts/via-setup.sh<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Raspbian Buster OSでテストされています。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KODIからYouTubeを起動</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
KODIを使用している場合、YouTubeムービーを起動する方がはるかに簡単です。</font><font style="vertical-align: inherit;">これを行うには、TubeCastプラグインをインストールするだけです。</font><font style="vertical-align: inherit;">利点のうち、このkodiプラグインは初期設定を必要とせず、プラグインは手動でコードをペアリングすることなくラズベリーpiを完全に「認識」します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ug/gj/tk/uggjtkur86e1zdxqbmznqswmxqe.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プラグインをインストールすると、すぐにandriod youtubeアプリケーションまたはブラウザのyoutubeページにキャストアイコンが表示されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/k2/qy/ll/k2qyllrend6ieyebb3nwhd9yxq8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
説明から、これはYoutubeモバイルアプリケーション用のCast V1プロトコルの実装であり、SSDPを介したDIALプロトコルに基づいていることがわかります。このテクノロジーにより、インターネット経由で外部サービスとしてYouTubeチャンネルに接続できます。これにより、KODIが搭載されたデバイスを、それと同じネットワーク上になくても見つけることができます。ストリーミングデバイスでペアリングコードを更新するだけです。したがって、2つのデバイスを接続し、1つのデバイスを介して別のデバイスに制御を転送しますが、メディアコンテンツ自体は転送しません。したがって、送信および受信デバイス（この場合は、ラズベリーpi）はインターネット上にある必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
面白かったです。もしそうなら、コメントを書いてください！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次のパートでは、mps-youtube、straw-viewer、raspicastメディアを組み合わせて、コンソール端末からyoutubeやその他のメディアコンテンツを再生する方法について説明します。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja503244/index.html">マックス・フライの意識と論文</a></li>
<li><a href="../ja503246/index.html">Consulを介したPrometheusでの簡単なサービス検出</a></li>
<li><a href="../ja503248/index.html">コードレビューターミネーター。感謝されるレビュー</a></li>
<li><a href="../ja503250/index.html">2020年に学ぶべきプログラミング言語は何ですか？</a></li>
<li><a href="../ja503252/index.html">Untappd Beerアプリを使用して、軍事および諜報要員を追跡できます</a></li>
<li><a href="../ja503260/index.html">スタートアップとスタートアップについて</a></li>
<li><a href="../ja503262/index.html">「狭心症」が「喉の痛み」ではなく、「樹脂」が「ゴム」ではない理由、または誤った翻訳者の友人</a></li>
<li><a href="../ja503264/index.html">Instagramのアンチワクチンが陰謀説をどのように促進するか</a></li>
<li><a href="../ja503268/index.html">すべてがありますが、あなたが探しているものではありません</a></li>
<li><a href="../ja503270/index.html">.pre-commitフックをDjangoプロジェクトに統合する</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>