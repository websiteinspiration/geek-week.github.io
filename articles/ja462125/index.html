<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>❌ 👩🏻‍🤝‍👨🏿 📳 Yaml Zenへの10ステップ 👩🏽‍🎓 👨🏽‍✈️ 👸🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="私たちはみんなAnsibleを愛していますが、AnsibleはYAMLです。構成ファイルには多くのフォーマットがあります。値のリスト、パラメーターと値のペア、INIファイル、YAML、JSON、XML、その他多数です。しかし、いくつかの理由から、これらのうち、YAMLは特に特に難しいと考えられていま...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Yaml Zenへの10ステップ</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/redhatrussia/blog/462125/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私たちはみんなAnsibleを愛していますが、AnsibleはYAMLです。</font><font style="vertical-align: inherit;">構成ファイルには多くのフォーマットがあります。値のリスト、パラメーターと値のペア、INIファイル、YAML、JSON、XML、その他多数です。</font><font style="vertical-align: inherit;">しかし、いくつかの理由から、これらのうち、YAMLは特に特に難しいと考えられています。</font><font style="vertical-align: inherit;">特に、階層的な値を操作するためのその爽やかなミニマリズムと印象的な機能にもかかわらず、YAML構文は、Pythonのようなインデントアプローチに悩まされることがあります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/1t/p-/zk/1tp-zkvnqljoyt8y40dqea-siiu.jpeg" width="100%"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
YAMLがあなたを激怒させた場合、あなたはできる-そしてそうしなければならない！</font><font style="vertical-align: inherit;">-次の10の手順を実行して、刺激を許容可能なレベルまで減らし、YAMLを愛してください。</font><font style="vertical-align: inherit;">このリストにふさわしいように、私たちの10のヒントはゼロから番号が付けられ、自由に瞑想と精神的な実践を追加します;-)</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.エディターを機能させる</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テキストエディターの種類は関係ありません。彼にとっては、確かに、YAMLを操作するためのプラグインが少なくとも1つあります。</font><font style="vertical-align: inherit;">お持ちでない場合は、すぐに見つけてインストールしてください。</font><font style="vertical-align: inherit;">YAMLを編集する必要があるたびに、検索と設定に費やした時間は何度も報われます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Atom</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エディター</font><font style="vertical-align: inherit;">はデフォルトでYAMLをサポートしますが、GNU Emacsは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yaml-mode</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">などの追加パッケージをインストールする</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">必要があります</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/u_/ty/8a/u_ty8ajbmbbewvshhuduabezams.jpeg"></div><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YAMLモードのEmacsと表示スペース。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
お気に入りのエディターにYAMLモードがない場合、いくつかの問題は設定を操作することで解決できます。</font><font style="vertical-align: inherit;">たとえば、GNOMEの標準のGeditテキストエディターにはYAMLモードがありませんが、デフォルトではYAML構文が強調表示され、インデントを使用した作業を構成できます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/hx/qn/74/hxqn74haalvt8qdatiys-ei6n60.jpeg"></div><br>
 <br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Geditインデント設定。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、</font><font style="vertical-align: inherit;">Gedit用</font><font style="vertical-align: inherit;">の</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">drawspaces</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プラグイン</font><font style="vertical-align: inherit;">はスペースをドットとして表示し、インデントレベルのあいまいさを排除します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
つまり、お気に入りのエディターをじっくりと勉強してください。</font><font style="vertical-align: inherit;">彼または彼の開発コミュニティがYAMLと連携するために提供しているものを見つけ、これらの機能を使用します。</font><font style="vertical-align: inherit;">あなたは間違いなくそれを後悔しません。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.リンター（リンター）を使用する</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
理想的には、プログラミング言語とマークアップ言語は予測可能な構文を使用します。</font><font style="vertical-align: inherit;">コンピュータは予測可能性に優れているため、1978年に</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リンターの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概念が</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">登場しました</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">その存在の40年間、それがあなたを追い越し、それでもYAMLリンターを使用しない場合は、yamllintを試す時です。</font><font style="vertical-align: inherit;">標準のLinuxパッケージマネージャーを使用して</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">yamllint</font></a><font style="vertical-align: inherit;">を</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
インストール</font><font style="vertical-align: inherit;">できます。</font><font style="vertical-align: inherit;">たとえば、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">Red Hat Enterprise Linux</font></a><font style="vertical-align: inherit;"> 8または</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">Fedoraでは、</font></a><font style="vertical-align: inherit;">これは次のように行われます。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="plaintext hljs">$ sudo dnf install yamllint
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、yamllintを実行して、検証用のYAMLファイルを渡します。</font><font style="vertical-align: inherit;">エラーファイルをリンターに渡すと、次のようになります。</font></font><br>
<br>
<pre><code class="plaintext hljs">$ yamllint errorprone.yaml<font></font>
errorprone.yaml<font></font>
23:10     error    syntax error: mapping values are not allowed here<font></font>
23:11     error    trailing spaces  (trailing-spaces)<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
左側の数字は時間ではなく、エラーの座標である行と列の番号です。</font><font style="vertical-align: inherit;">エラーの説明では何もわからない場合がありますが、どこにあるかは正確にわかります。</font><font style="vertical-align: inherit;">コードのこの場所を見るだけで、ほとんどの場合、すべてが明らかになります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
yamllintがファイルでエラーを検出しない場合、何も表示されません。</font><font style="vertical-align: inherit;">そのような沈黙を恐れて、もう少しフィードバックが必要な場合は、次のように、二重アンパサンド（&amp;&amp;）を介して条件付きエコーコマンドでリンターを開始できます。</font></font><br>
<br>
<pre><code class="plaintext hljs">$ yamllint perfect.yaml &amp;&amp; echo "OK"<font></font>
OK<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
POSIXでは、前のコマンドが0を返した場合にのみ、ダブルアンパーサンドがトリガーされます。また、yamllintは検出されたエラーの数を返すだけなので、この条件付き構文全体が機能します。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. YAMLではなくPythonで記述する</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
YAMLが本当にあなたを怒らせているなら、文字通りそれを書いてはいけません。</font><font style="vertical-align: inherit;">YAMLがアプリケーションによって認識される唯一のフォーマットであることが起こります。</font><font style="vertical-align: inherit;">ただし、この場合、YAMLファイルを作成する必要はありません。</font><font style="vertical-align: inherit;">好きなものを書いて、変換します。</font><font style="vertical-align: inherit;">たとえば、Pythonの場合は、優れた</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pyyaml</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ライブラリ</font><font style="vertical-align: inherit;">と2つの完全な変換メソッド（自己変換とスクリプトによる変換）があります。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自己変換</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この場合、データファイルもYAMLを生成するPythonスクリプトです。</font><font style="vertical-align: inherit;">この方法は、小さなデータセットに最適です。</font><font style="vertical-align: inherit;">JSONデータをPython変数に書き込み、その前にimportディレクティブを置き、ファイルの最後に3行を追加して出力を実装します。</font></font><br>
<br>
<pre><code class="plaintext hljs">#!/usr/bin/python3	<font></font>
import yaml <font></font>
<font></font>
d={<font></font>
"glossary": {<font></font>
  "title": "example glossary",<font></font>
  "GlossDiv": {<font></font>
	"title": "S",<font></font>
	"GlossList": {<font></font>
	  "GlossEntry": {<font></font>
		"ID": "SGML",<font></font>
		"SortAs": "SGML",<font></font>
		"GlossTerm": "Standard Generalized Markup Language",<font></font>
		"Acronym": "SGML",<font></font>
		"Abbrev": "ISO 8879:1986",<font></font>
		"GlossDef": {<font></font>
		  "para": "A meta-markup language, used to create markup languages such as DocBook.",<font></font>
		  "GlossSeeAlso": ["GML", "XML"]<font></font>
		  },<font></font>
		"GlossSee": "markup"<font></font>
		}<font></font>
	  }<font></font>
	}<font></font>
  }<font></font>
}<font></font>
<font></font>
f=open('output.yaml','w')<font></font>
f.write(yaml.dump(d))<font></font>
f.close<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このファイルをPythonで実行すると、出力ファイルはoutput.yamlになります。</font></font><br>
<br>
<pre><code class="plaintext hljs">$ python3 ./example.json<font></font>
$ cat output.yaml<font></font>
glossary:<font></font>
  GlossDiv:<font></font>
	GlossList:<font></font>
	  GlossEntry:<font></font>
		Abbrev: ISO 8879:1986<font></font>
		Acronym: SGML<font></font>
		GlossDef:<font></font>
		  GlossSeeAlso: [GML, XML]<font></font>
		  para: A meta-markup language, used to create markup languages such as DocBook.<font></font>
		GlossSee: markup<font></font>
		GlossTerm: Standard Generalized Markup Language<font></font>
		ID: SGML<font></font>
		SortAs: SGML<font></font>
	title: S<font></font>
  title: example glossary<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは完全に正しいYAMLですが、yamllintは---で始まらないことを警告します。</font><font style="vertical-align: inherit;">まあ、これは手動で簡単に修正することも、Pythonスクリプトをわずかに変更することもできます。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スクリプトで変換</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この場合、最初にJSONで記述してから、別のPythonスクリプトの形式でコンバーターを実行します。これにより、出力にYAMLが生成されます。</font><font style="vertical-align: inherit;">前の方法と比較して、この方法は、変換がデータによって分離されているため、より適切にスケーリングされます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、JSONファイルexample.jsonを作成します。たとえば、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">json.orgで取得</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">できます</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="plaintext hljs">{<font></font>
	"glossary": {<font></font>
	  "title": "example glossary",<font></font>
	  "GlossDiv": {<font></font>
		"title": "S",<font></font>
		"GlossList": {<font></font>
		  "GlossEntry": {<font></font>
			"ID": "SGML",<font></font>
			"SortAs": "SGML",<font></font>
			"GlossTerm": "Standard Generalized Markup Language",<font></font>
			"Acronym": "SGML",<font></font>
			"Abbrev": "ISO 8879:1986",<font></font>
			"GlossDef": {<font></font>
			  "para": "A meta-markup language, used to create markup languages such as DocBook.",<font></font>
			  "GlossSeeAlso": ["GML", "XML"]<font></font>
			  },<font></font>
			"GlossSee": "markup"<font></font>
			}<font></font>
		  }<font></font>
		}<font></font>
	  }<font></font>
	}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、簡単なスクリプトコンバーターを作成し、json2yaml.pyという名前で保存します。</font><font style="vertical-align: inherit;">このスクリプトは両方のモジュール（YAMLとJSON Python）をインポートし、ユーザーが指定したJSONファイルをダウンロードして、変換を実行し、output.yamlファイルにデータを書き込みます。</font></font><br>
<br>
<pre><code class="plaintext hljs">#!/usr/bin/python3<font></font>
import yaml<font></font>
import sys<font></font>
import json<font></font>
<font></font>
OUT=open('output.yaml','w')<font></font>
IN=open(sys.argv[1], 'r')<font></font>
<font></font>
JSON = json.load(IN)<font></font>
IN.close()<font></font>
yaml.dump(JSON, OUT)<font></font>
OUT.close()<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このスクリプトをシステムパスに保存し、必要に応じて実行します。</font></font><br>
<br>
<pre><code class="plaintext hljs">$ ~/bin/json2yaml.py example.json
</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.頻繁に解析する</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
問題を別の角度から見ると役立つ場合があります。</font><font style="vertical-align: inherit;">YAML内のデータ間の関係を想像するのが難しい場合は、一時的にそれらをより身近なものに変換できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、辞書リストやJSONを使いこなせる場合は、インタラクティブなPythonシェルで2つのコマンドを使用するだけでYAMLをJSONに変換できます。</font><font style="vertical-align: inherit;">mydata.yaml YAMLファイルがあるとすると、次のようになります。</font></font><br>
<br>
<pre><code class="plaintext hljs">$ python3<font></font>
&gt;&gt;&gt; f=open('mydata.yaml','r')<font></font>
&gt;&gt;&gt; yaml.load(f)<font></font>
{'document': 34843, 'date': datetime.date(2019, 5, 23), 'bill-to': {'given': 'Seth', 'family': 'Kenlon', 'address': {'street': '51b Mornington Road\n', 'city': 'Brooklyn', 'state': 'Wellington', 'postal': 6021, 'country': 'NZ'}}, 'words': 938, 'comments': 'Good article. Could be better.'}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
他の多くの例はこの主題で見つけることができます。</font><font style="vertical-align: inherit;">さらに、多くのオンラインコンバーターとローカルパーサーがあります。</font><font style="vertical-align: inherit;">そのため、理解できないハッシュのみが表示されている場合は、データの再フォーマットをためらわないでください。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.仕様を読む</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
久しぶりにYAMLに戻ると、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yaml.orgに</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アクセスして仕様</font><font style="vertical-align: inherit;">を</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">もう一度</font></a><font style="vertical-align: inherit;">読むと</font><font style="vertical-align: inherit;">便利です</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">YAMLに問題があるが、仕様に達していない場合は、この状況を修正する必要があります。</font><font style="vertical-align: inherit;">仕様は驚くほど簡単に記述でき、構文要件は</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第6章の</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">多数の例で説明されてい</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. Pseudoconfigs</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
本や記事を書くときは、少なくとも目次の形で、最初に予備的な計画を立てることが常に役立ちます。したがって、YAMLを使用します。ほとんどの場合、YAMLファイルに書き込む必要のあるデータは想像できますが、それらを相互に接続する方法がよくわかりません。したがって、YAMLをスカルプトする前に、疑似構成を描画します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pseudo-configは疑似コードに似ており、構造やインデント、親子関係、継承、ネストについて心配する必要はありません。それがここにあります。頭の中で発生するデータの反復を描画します。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/qq/ug/9w/qqug9wjzgy7iiyaq4wdzpzsjrxa.jpeg"></div><br>
 <br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プログラマー（MartinおよびTabitha）とそのスキル（プログラミング言語：それぞれPython、Perl、PascalおよびLisp、Fortran、Erlang）をリストする疑似構成。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
紙に疑似構成を描画したら、それを注意深く分析し、すべてが適切である場合は、有効なYAMLファイルとしてフォーマットします。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.タブまたはジレンマジレンマ</font></font></h3><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「タブかスペースか」</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
というジレンマを解決する</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">必要があります。</font></a><font style="vertical-align: inherit;">。グローバルな意味ではなく、組織のレベル、または少なくともプロジェクトでのみ。 sedスクリプトによる後処理を使用するか、プログラマーのマシンにテキストエディターをセットアップするか、または解雇の脅威にさらされているリンターの指示を厳密に遵守してレシートを取得するかは関係ありませんが、YAMLに何らかの形で関係するチームのすべてのメンバーは、スペースのみを使用してください（YAML仕様で必要な場合）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通常のテキストエディタでは、オートコレクトのタブを指定した数のスペースに設定</font><font style="vertical-align: inherit;">できる</font><font style="vertical-align: inherit;">ため</font><font style="vertical-align: inherit;">、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">タブの</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">暴動を</font><font style="vertical-align: inherit;">心配</font><font style="vertical-align: inherit;">する</font><font style="vertical-align: inherit;">必要はありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
YAMLのすべての嫌悪者はよく知っているので、タブとスペースの違いは画面に表示されません。</font><font style="vertical-align: inherit;">そして、何かが見えない場合、これは通常、最後に記憶され、ソートされ、チェックされ、他のすべての起こり得る問題が排除されます。</font><font style="vertical-align: inherit;">タブカーブまたはスペースのブロックを検索して殺された時間は、どちらか一方を使用するためのポリシーを緊急に作成し、そのコンプライアンスの強化された具体的な検証を実装する必要があることを叫びます（たとえば、リンターを強制的に実行するためのGitフックを介して）。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.少ないほど良い（または多いほど少ない）</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
YAMLは構造を強調するため、YAMLで書くのを好む人もいます。同時に、インデントを積極的に使用してデータブロックを強調表示しています。これは、明示的な区切り文字を使用するマークアップ言語をシミュレートする一種の詐欺です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下は、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansibleのドキュメント</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">からのそのような構造化の例です</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="plaintext hljs"># Employee records<font></font>
-  martin:<font></font>
        name: Martin D'vloper<font></font>
        job: Developer<font></font>
        skills:<font></font>
            - python<font></font>
            - perl<font></font>
            - pascal<font></font>
-  tabitha:<font></font>
        name: Tabitha Bitumen<font></font>
        job: Developer<font></font>
        skills:<font></font>
            - lisp<font></font>
            - fortran<font></font>
            - erlang<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このオプションは、誰かが自分の頭のYAML構造を分解するのに役立ちますが、逆に、自分の意見では不要なインデントがたくさんある他の人を困らせます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、あなたがYAMLドキュメントの所有者であり、それを維持する責任がある場合、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">あなたとあなただけが</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インデントの使用方法を決定</font><i><font style="vertical-align: inherit;">する</font></i><font style="vertical-align: inherit;">必要</font><i><font style="vertical-align: inherit;">が</font></i><font style="vertical-align: inherit;">あり</font><i><font style="vertical-align: inherit;">ます</font></i><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">大きなインデントに悩まされている場合は、YAML仕様に従って可能な限り最小限に抑えてください。</font><font style="vertical-align: inherit;">たとえば、Ansibleのドキュメントにある上記のファイルは、次のように失うことなく書き直すことができます。</font></font><br>
<br>
<pre><code class="plaintext hljs">---<font></font>
- martin:<font></font>
   name: Martin D'vloper<font></font>
   job: Developer<font></font>
   skills:<font></font>
   - python<font></font>
   - perl<font></font>
   - pascal<font></font>
- tabitha:<font></font>
   name: Tabitha Bitumen<font></font>
   job: Developer<font></font>
   skills:<font></font>
   - lisp<font></font>
   - fortran<font></font>
   - erlang<font></font>
</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.ブランクを使用する</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
YAMLファイルに入力するときに同じ間違いを繰り返し繰り返す場合は、空白のテンプレートをコメントとして挿入するのが理にかなっています。</font><font style="vertical-align: inherit;">次に、このワークピースを単にコピーして、そこに実際のデータを入力することが可能になります。次に例を示します。</font></font><br>
<br>
<pre><code class="plaintext hljs">---<font></font>
# - &lt;common name&gt;:<font></font>
#   name: Given Surname<font></font>
#   job: JOB<font></font>
#   skills:<font></font>
#   - LANG<font></font>
- martin:<font></font>
  name: Martin D'vloper<font></font>
  job: Developer<font></font>
  skills:<font></font>
  - python<font></font>
  - perl<font></font>
  - pascal<font></font>
- tabitha:<font></font>
  name: Tabitha Bitumen<font></font>
  job: Developer<font></font>
  skills:<font></font>
  - lisp<font></font>
  - fortran<font></font>
  - erlang<font></font>
</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9.他のものを使う</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アプリケーションが首を絞めない場合は、YAMLを別の形式に変更する価値があるかもしれません。</font><font style="vertical-align: inherit;">時間が経つにつれて、構成ファイルが大きくなりすぎて、LuaまたはPythonで単純なスクリプトに変換することをお勧めします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
YAMLは、そのミニマリズムとシンプルさで多くの人々に愛されている素晴らしいものですが、これはあなたの武器の唯一のツールとはかけ離れています。</font><font style="vertical-align: inherit;">だから、時にはそれを拒否することができます。</font><font style="vertical-align: inherit;">YAMLが解析ライブラリを見つけるのは簡単なので、便利な移行オプションを提供すれば、ユーザーはこの失敗を比較的簡単に乗り切ることができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
YAMLなしでは実現できない場合は、これらの10のヒントを実際に活用して、YAMLへの嫌悪感を打ち負かしてください！</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja462111/index.html">いくつかの時系列データベースをテストした方法</a></li>
<li><a href="../ja462113/index.html">責任のない環境：誰も高品質のコードを書くべきではない</a></li>
<li><a href="../ja462115/index.html">1009バイトのJavaScriptでWebGLに星空を合わせる</a></li>
<li><a href="../ja462119/index.html">デルタスマートシティソリューション：映画館がどれほど環境に優しいのか疑問に思ったことはありませんか？</a></li>
<li><a href="../ja462121/index.html">機能的スイフト</a></li>
<li><a href="../ja462127/index.html">セミナー「彼自身のための監査人：データセンタープロジェクトと受け入れテストの監査」、8月15日、モスクワ</a></li>
<li><a href="../ja462131/index.html">いばらから夢のゲームへ</a></li>
<li><a href="../ja462133/index.html">キプロスについてもう一度、人生のニュアンス</a></li>
<li><a href="../ja462135/index.html">戦略的パートナーシップ：ServiceNowが大規模なクラウドプロバイダーと提携する理由</a></li>
<li><a href="../ja462141/index.html">データセンター用カート</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>