<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎣 👩🏾‍🔬 🧕🏾 Nios IIプロセッサコアなしのNios IIプロセッサシステムの使用 👩🏻‍🌾 🛳️ 🎊</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Reddのリモートデバッグの複合体に関する記事の最後のブロックで、Reddの操作はFPGAの操作だけではないことを示しました。それだけでなく、FPGAは非常に興味深いだけでなく、複合体の非常に特定の部分でもあります。その主要な部分はFTDIブリッジと他のUSBのものです。このトピックはあまり興味をそ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Nios IIプロセッサコアなしのNios IIプロセッサシステムの使用</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/496508/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reddのリモートデバッグの複合体に関する記事の最後のブロックで、Reddの操作はFPGAの操作だけではないことを示しました。</font><font style="vertical-align: inherit;">それだけでなく、FPGAは非常に興味深いだけでなく、複合体の非常に特定の部分でもあります。</font><font style="vertical-align: inherit;">その主要な部分はFTDIブリッジと他のUSBのものです。</font><font style="vertical-align: inherit;">このトピックはあまり興味をそそられませんでしたが、それでも、どのハードウェアが複雑であるか誰もが知っています。</font><font style="vertical-align: inherit;">そして再び、興味深いトピック-FPGAの考察に戻ることができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
前のブロックの伝統を継続し、オプションの部品を探し続けます。</font><font style="vertical-align: inherit;">今日は、Nios IIプロセッサコアなしで実行する方法を学習します。</font><font style="vertical-align: inherit;">はいはい。</font><font style="vertical-align: inherit;">Nios IIプロセッサシステムでは、プロセッサコア自体が重要ですが、必須の要素ではありません。</font><font style="vertical-align: inherit;">すべての制御機能をRedd複合システムの中央処理装置のレベルまで引き上げて、それなしでシステムを作成する練習をします。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/yo/z7/7g/yoz77gtnqpihpkzncrygij1gjv4.png"><br>
<a name="habracut"></a><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以前のサイクル記事</font></font></b><div class="spoiler_text"><ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">  «»  ,   Redd,      .</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">  «»  ,   Redd.  2.  .</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">          .</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">     Redd     .</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">              Redd.</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> ,       .</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">    Redd.  1:  .</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">    Redd.  2:      .</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">  :        .</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">    Redd,    FTDI</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">     Redd</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">       Redd</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> USB-  Windows 10   </a></li>
</ol><br>
</div></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">なぜプロセッサコアが必要で、なぜ必要ではないのか</font></font></h2><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以前の記事</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
の理論的な部分ですでに述べたように、</font><font style="vertical-align: inherit;">Reddコンプレックスで作業する場合、すべての非標準機器は補助的なものです。</font><font style="vertical-align: inherit;">これは、プロジェクトの段階でのみ短期的に使用され、お客様に疎外されることはありません。</font><font style="vertical-align: inherit;">したがって、個々の開発者がこれに割り当てられることはまずありません。</font><font style="vertical-align: inherit;">そして、彼と一緒に働き、あまりにも多くのことを研究するのは意味がありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そのため、Verilog（またはVHDL、またはその他の特定の言語）による開発アプローチの代わりに、既製のデバイスに基づいてNios IIシステムを作成し、それらをバスに接続することを提案しました。制御マシンではなく、プロセッサーコアを選択しました。それは、その開発言語が現代のシステムプログラマーに近いからです。もちろん、システムを作成するのに十分なキューブがない場合は、欠落しているキューブを追加する必要があります。しかし、それらは他のプロジェクトで再利用できるので、完成したライブラリは非常にすばやく入力できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このアプローチには多くの利点があります。そして実際には、このアプローチは実際に修正済みです。しかし、私が議論に持ち込みたい新しい例を考えると、FPGAメモリの不足が前面に出てきます。 FIFOにより多くのメモリを割り当てたいのですが、プロセッサのプログラムとデータもどこかに保存する必要があります。そして、4番目のサイクロンにはそれほど多くのメモリがありません。誰でも足りないかもしれません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2番目の問題- </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以前の記事の1つで</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、Nios IIプロセッサと中央プロセッサ間の通信用のシステムをすでに作成しました</font><font style="vertical-align: inherit;">。また、FIFOのメモリも消費します。その使用により、画像が乱雑になり、記事で説明されている本質が隠されます。このケースを拒否できる場合は、拒否することをお勧めします（ただし、この拒否が常に可能なわけではありません）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、誰がシステムを管理するのでしょうか？また、プロセッサコアなしでデータをスローするにはどうすればよいでしょうか。会いましょう！コンポーネント</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アルテラJTAG-to-Avalon-MM</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/md/ni/ox/mdnioxxjtzwmss03mfug9ms6mg8.png"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一方では、それは標準のJTAGバスに接続されています（つまり、標準のもので、外部には何も必要ありません。標準のUSB-Blasterで動作するのに十分です）。もう1つはAVALONバスに接続され、すべてのデバイスへのアクセスを提供します。まったく同じアクセスがプロセッサコアによって提供されました。当初、このユニットは、ホストマシンから起動するために、独自のコアの初期デバッグ用に設計されました。ただし、Reddコンプレックス内のJTAGアダプターは常に存在するため、他のタスクにそれを使用することを禁止する人はいません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もちろん、このブロックに基づくシステムは、トランザクションに対して生産的ではありません。 JTAGチャネル自体は高速ではありませんが、マイクロコントローラーをベースにしたReddコンプレックスで使用されているUSB-Blasterアダプターも完全にゆっくりと動作させます。しかし、簡単なウィザードの作り方-私たちはすでに知っています。いずれの場合も、彼にとって都合のよいものを選択することを禁じている人はいません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今後の記事で予定されているプロジェクトでは、管理速度は重要ではありません。 SDRAMにデータをコピーするコマンドが渡されるアナライザーがあり、その後、RAMがいっぱいになるまで、またはコマンドが機能しなくなるまで、アナライザー自体に入ります。これらのコマンドはマイクロ秒または数十ミリ秒で実行されます-大きな違いはありません。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まあ、JTAGを介したデータ転送はFT245を介するよりも遅くなります。</font><font style="vertical-align: inherit;">しかし、繰り返しになりますが、FT245を介してすべてをポンプする方法はすでにわかっています。</font><font style="vertical-align: inherit;">新しいオプションを知っていても、古いオプションを選択することを禁じていません。</font><font style="vertical-align: inherit;">しかし、その後、新しいオプションに慣れると、システムをさらに遅くする機会が得られますが、リソースの点で開発がより簡単になり、経済的になります。</font><font style="vertical-align: inherit;">より多くのテクニック、良い、違う！</font><font style="vertical-align: inherit;">したがって、私たちは実験に進みます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ハードウェア</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ネットワークでの（ソフトウェアではなく）ハードウェアの製造については、多くの記事があります。通常、すべての例で、内部FPGAメモリ、LED、およびボタンがシステムに追加されます。私たちの組織は、全国と同様に、緊急に離れた場所に移動したため、オシロスコープを複雑なコネクタに接続するよう依頼する人もいないので、この例では、メモリのみに制限します。通常のブレッドボードで実験を繰り返す人は、GPIOを出力に追加してLEDを制御し、GPIOを入力に追加してボタンの動作を監視できます。プロセッサシステムを作成します（その方法は、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここで</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">説明し</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">）が、プロセッサの代わりに</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アルテラのJTAG-to-Avalon-MM</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ブロックを配置しました</font><font style="vertical-align: inherit;">。彼はここに連れて行かれます：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/li/tj/ej/litjejrc7axnujctk5gsn8_fz2m.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まあ、私たちはメモリを追加して、今日作業を確認する少なくとも何かがあるようにします。</font><font style="vertical-align: inherit;">次に、これらすべてをバスに接続し、アドレスを自動的に割り当てて、次のようなものを取得します</font><font style="vertical-align: inherit;">。</font><b><font style="vertical-align: inherit;">リセット</font></b></font><br>
<br>
<img src="https://habrastorage.org/webt/uk/pb/lz/ukpblzh5ocdc_kz_7f50ccjwbie.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
信号は</font><font style="vertical-align: inherit;">非常に非標準的に切り替えられることに</font><font style="vertical-align: inherit;">注意してください</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">これは、物理的な生産に時間をかけたくないためです。</font><font style="vertical-align: inherit;">
実際、今日の機器については、それだけです。</font><font style="vertical-align: inherit;">システムを生成し、</font><b><font style="vertical-align: inherit;">clk</font></b><font style="vertical-align: inherit;">レッグを割り当て</font><font style="vertical-align: inherit;">ます（現在、他のレッグは使用していません）。</font><b><font style="vertical-align: inherit;">リセット</font></b><font style="vertical-align: inherit;">レッグを</font><font style="vertical-align: inherit;">仮想（仮想ピン）にする</font><font style="vertical-align: inherit;">ことを思い出します。</font><font style="vertical-align: inherit;">手順は</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">この記事で</font></a><font style="vertical-align: inherit;">説明され</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ています</font></a><font style="vertical-align: inherit;">（仮想ピンというフレーズを検索して</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ください</font></a><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">結果として、それが判明するはずです。FPGA </font><font style="vertical-align: inherit;">
を収集して入力します...実験に進みます。</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
 <br>
<img src="https://habrastorage.org/webt/jw/x-/wf/jwx-wfq6iryqg8wem0tb8e5mvie.png"><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TCLスクリプトによるプログラミング</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アルテラのJTAG-to-Avalon-MM</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ブロック</font><font style="vertical-align: inherit;">での作業</font><font style="vertical-align: inherit;">について説明しているすべての教科書</font><font style="vertical-align: inherit;">は、作業はTCLスクリプトを使用して行う必要があると述べています。未知の奈落の底に突入する前に、十分に文書化されたものを手に入れることをお勧めします。そのため、例外ではなく、実験も開始します。 TCLについては、Habréに関する記事がたくさんあります。 FPGAに関連付けられているため、そのうちの1つへのリンクを提供し</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">https</font></a><font style="vertical-align: inherit;"> : </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">//habr.com/en/post/308962/</font></a><font style="vertical-align: inherit;">。インテルFPGA（旧アルテラのWebサイト）には、この言語を使用するための完全なオンラインコースがあります。コマンドを発行する方法を学ぶために、開発環境でシステムコンソールを実行できます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/dm/uq/yh/dmuqyhixms3bbpnt1h11uo3mjx0.png"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その結果、豪華な環境が開きます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/1v/ad/ce/1vadce19ywpugqolqevimuhmoss.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
GUIアプリケーションの開発まで、これは不思議に機能します。しかし、記事の枠組みの中で、この問題に表面的にのみ触れます（理由-後で少し説明します）。私たちは、いくつかのチームに与えることを試みます。どのチーム？これを行うには、ドキュメント「</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">システムコンソールを使用した設計の分析とデバッグ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」を見つけてダウンロードする必要</font><font style="vertical-align: inherit;">があります（リンクは常に変更されるので、いつものように名前は付けますが、リンクは付けません）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このドキュメントのグループのチームで実験してみます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/kz/sq/lq/kzsqlqednll8qlz2bk9tduwtzuq.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、私たちに発行されたメッセージを見てください。 「ファームウェア」をリモートでダウンロードしたので、システム自体がリモートのJTAGサーバーを見つけました。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/cs/h9/q0/csh9q0sb6jmw28upyiulmazyd1s.png"> <br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このウィンドウでコマンドを発行します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/po/hv/ci/pohvci4a2uaqgkqjtcw2jmq59a4.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、メモリに定数を書き込んでみましょう。これを行うには、次のコマンドを実行します。</font></font><br>
<br>
<pre><code class="plaintext hljs">master_write_32</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし問題は、最初の引数が</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;service_path&gt;であることです。</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
そのため、有用なコマンドを送信する前に、まずこの</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">service_path</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を受け取る</font><font style="vertical-align: inherit;">方法</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">学ぶ必要があります</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">ドキュメントで適切なサイトを探しています</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gj/mk/4c/gjmk4cvunxnafdoq9uvk2_4zgfk.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。</font><font style="vertical-align: inherit;">ドキュメントの例を使用して、適切なコマンドを送信しようとします。</font></font><br>
<br>
<pre><code class="plaintext hljs">% get_service_paths master<font></font>
/devices/10CL006(Y|Z)|10CL010(Y|Z)|..@1#1-5.4.2.1#192.168.10.146/(link)/JTAG/alt_sld_fab_sldfabric.node_0/phy_0/master_0.master<font></font>
%</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どういうわけか手動で入力するのは難しいです。</font><font style="vertical-align: inherit;">オプション：</font></font><br>
<pre><code class="plaintext hljs">% lindex [get_service_paths master] 0<font></font>
/devices/10CL006(Y|Z)|10CL010(Y|Z)| ..@1#1-5.4.2.1#192.168.10.146/(link)/JTAG/alt_sld_fab_sldfabric.node_0/phy_0/master_0.master<font></font>
%</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
良くないです。</font><font style="vertical-align: inherit;">複数のデバイスがある場合にのみ役立ちます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
良い。</font><font style="vertical-align: inherit;">ドキュメントの例の完全版を試してみましょう。</font></font><br>
<br>
<pre><code class="plaintext hljs">% set m_path [lindex [get_service_paths master] 0]<font></font>
/devices/10CL006(Y|Z)|10CL010(Y|Z)|..@1#..@1#1-5.4.2.1#192.168.10.146/(link)/JTAG/alt_sld_fab_sldfabric.node_0/phy_0/master_0.master<font></font>
%</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして今-レコードを試してください：</font></font><br>
<br>
<pre><code class="plaintext hljs">% master_write_32 $m_path 0x0 0x01234567<font></font>
error: master_write_32: /devices/10CL006(Y|Z)|10CL010(Y|Z)|..@1#..@1#1-5.4.2.1#192.168.10.146/(link)/JTAG/alt_sld_fab_sldfabric.node_0/phy_0/master_0.master is not an open master service<font></font>
    while executing<font></font>
"master_write_32 $m_path 0x0 0x01234567"<font></font>
%</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちは指示を研究し続けています... </font></font><br>
<br>
<pre><code class="plaintext hljs">% open_service master $m_path<font></font>
<font></font>
%</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今は機能しますか？</font></font><br>
<pre><code class="plaintext hljs">% master_write_32 $m_path 0x0 0x01234567<font></font>
<font></font>
% master_write_32 $m_path 0x4 0x89abcdef<font></font>
<font></font>
%</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
エラーメッセージはありません。</font><font style="vertical-align: inherit;">私たちは読んでみます：</font></font><br>
<br>
<pre><code class="plaintext hljs">% master_read_32 $m_path 0x0 0x2<font></font>
0x01234567 0x89abcdef<font></font>
%</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
動作します！</font><font style="vertical-align: inherit;">私たちはメモリの読み書きを学びました。</font><font style="vertical-align: inherit;">デバイスレジスタもその上に投影されるので、将来的にはデバイスを管理できるようになります。</font></font><br>
<blockquote><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全体として、アクションの正しいシーケンスは次のようになります</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。set m_path [lindex [get_service_paths master] 0] </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
open_service master $ m_path </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
master_write_32 $ m_path 0x0 0x01234567 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
master_write_32 $ m_path 0x4 0x89abcdef </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
master_read_32 $ m_path 0x0 0x2</font></font></b></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
システムコンソールとTCL言語の機能に興味がある人は、ネットワーク上で非常に多数の説明、例、ビデオ資料を学ぶことができ、この記事のフレームワーク内で、私は個人的にネットワーク上で見つけられなかったものに進みます...</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TCLからC ++への移行</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
TCLはかなり強力な言語です。特にFPGAと緊密に連携することを計画している場合は、それを研究することは常に役立ちます。一般に、別の強力なプログラミング言語に堪能であることは、開発者にとって大きなプラスです。しかし、これは全体です。特に、別の言語を知る必要性は</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、この記事で</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">策定さ</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">れ</font></a><font style="vertical-align: inherit;">た原則に反し</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。 Reddコンプレックスは、システム開発者が幅広い言語で簡単に習得できる補助コンプレックスであると私たちは信じています。つまり、追加の言語での習熟は常に歓迎されますが、前提条件であってはなりません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そこで、古き良きC / C ++からJTAGブリッジを操作する方法を見つけることにしました。おそらく私は盲目かもしれませんが、検索クエリの編集に関する演習に多くの時間を費やしていたため、価値のあることは何もできていません。最も興味深いことは、リクエストの多くが私に</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">楽しい四分の一についての</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私の</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">記事</font></a><font style="vertical-align: inherit;">へのリンクを与えました</font><font style="vertical-align: inherit;">が、それはシステムコンソールがJavaプログラムから呼び出される方法を示しており、スクリプトファイルは事前に作成する必要があります。 JTAGシリアルリンクと低速アダプターのため、それほど高くありません。それでも、Javaで作業する人は、メモリ内でその記事を更新してメソッドを採用できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
何も見つからなかったので</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">、PSoCシリーズの記事の1つに</font></a><font style="vertical-align: inherit;">示されている原理を使用することにしました</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。アプローチの本質は単純です。ドキュメントがない場合は、デリバリーの付属品を調査します。そしてQuartusには、多くのTCLスクリプトが含まれています。彼らを研究することで、言語の力に浸りました。しかし、その一方で、開発にどれだけの時間を費やすかという思いに駆られました。はい、今はそれほど多くの仕事はありませんが、第一に、それはまだ存在しています。第二に、これらの線を読んだとき、私は世界がすでに高速の生活に戻ってきたことを本当に望んでいます。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後に、非常に興味深いファイルを見つけました：</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\ intelFPGA_lite \ 17.1 \ quartus \ bin64 \ tcl_server.tcl</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その内容から判断すると、すでにアクセスした関数を呼び出すことができるサーバーが作成されます。</font><font style="vertical-align: inherit;">つまり、ネットワークを介して接続し、コマンドの発行を開始するクライアントを作成できます。このクライアントは、私のお気に入りのC ++で作成できます。</font><font style="vertical-align: inherit;">つまり、問題は解決されます。</font><font style="vertical-align: inherit;">したがって、このファイルの分析に進みます。</font></font><br>
 <br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ローカルマシン上のtcl_server.tclファイルの実験</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちは、十分に文書化された目標から、暗闇の中で隠れた目標へと移動し続けます。</font><font style="vertical-align: inherit;">私たちはWindows（自宅のマシン）からすべてを学習しようとしていますが、すでにリモートのJTAGサーバー（オフィスのReddコンプレックス）に接続されています。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初、調査は間違った方向に進んだ。</font><font style="vertical-align: inherit;">ファイルにはそのような興味深いデザインがあります：</font></font><br>
<br>
<pre><code class="plaintext hljs">if { [info exists env(QUARTUS_ENABLE_TCL_SERVER)]  } {<font></font>
	if { $env(QUARTUS_ENABLE_TCL_SERVER) == 1 } {<font></font>
		_q_setup_server $_q_port<font></font>
	}<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もちろん、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">QUARTUS_ENABLE_TCL_SERVER</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">という単語を</font><font style="vertical-align: inherit;">検索エンジンに入れました。多くの結果はありませんでした。 2つだけ。これらのうち、価値があるのは1つだけです：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">//www.intel.com/content/www/us/en/programmable/quartushelp/13.0/mergedProjects/eda/synthesis/synplicity/eda_pro_synplty_setup.htm</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
喜んで適切な環境変数を作成しましたが、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">netstat –a</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンド</font><font style="vertical-align: inherit;">を実行すると、ポート2589にサーバーが表示されませんでした。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
良い。次に、このメニュー項目を使用して、システムコンソールからこのスクリプト全体を実行しようとし</font></font><br>
 <br>
<img src="https://habrastorage.org/webt/ja/73/q3/ja73q3sjl9bqkz_tms_wltjjuoa.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ました。エラーが発生しました。</font></font><br>
 <br>
<img src="https://habrastorage.org/webt/ng/pl/cw/ngplcwiavd9qhwjenx318c6lkei.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私は単純な人です。私のマシンではこの不名誉の説明を見つけられませんでした（しかし、githubでそれを見つけて、単純なメッセージ出力があったと疑っています）、スクリプトファイルのコピーを作成し、対応する行を削除しました：</font></font><br>
 <br>
<img src="https://habrastorage.org/webt/9r/bw/oc/9rbwoc9olediep17g-fhyefcfuo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
途中</font><font style="vertical-align: inherit;">で、とにかく</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前述の</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">環境変数</font><b><font style="vertical-align: inherit;">QUARTUS_ENABLE_TCL_SERVERの</font></b><font style="vertical-align: inherit;">チェックを削除しまし</font><font style="vertical-align: inherit;">たスクリプトを手動で実行する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スクリプトが起動された後、リスニングポート2589がシステムに表示され、Telnet経由で接続できます。繰り返しになりますが、現時点ではWindowsのホームマシンで実験を行っています。少し後でリモートマシンに移動します。これで、接続されました</font></font><br>
 <br>
<img src="https://habrastorage.org/webt/xc/sp/2s/xcsp2sg8qr2nj4mbvlunqd5c1bk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。空のターミナルウィンドウが表示されます。キーを2、3回たたくと、彼らの声が聞こえますが、理解できません</font></font><br>
<br>
<img src="https://habrastorage.org/webt/md/gp/zl/mdgpzlxyw5nroocpngdyeemrpwg.png"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。助けを求めます。</font></font><br>
<br>
<pre><code class="plaintext hljs">help<font></font>
1 couldn't find help for command . Try help help.</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もういい。</font><font style="vertical-align: inherit;">リクエストを明確にします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
答えの一部のみを示します。</font></font><br>
<br>
<pre><code class="plaintext hljs">help help <font></font>
&lt;…&gt;<font></font>
get_service_paths<font></font>
get_service_types<font></font>
get_services_to_add<font></font>
get_version<font></font>
&lt;…&gt;<font></font>
master_read_16<font></font>
master_read_32<font></font>
master_read_8<font></font>
master_read_memory<font></font>
master_read_to_file<font></font>
master_write_16<font></font>
master_write_32<font></font>
master_write_8<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
身近な言葉！</font><font style="vertical-align: inherit;">さて、私たちがすでに知っている行を入力してみましょう：</font></font><br>
<br>
<pre><code class="plaintext hljs">get_service_paths master<font></font>
1 Error: Invalid command<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ごめんなさい！</font><font style="vertical-align: inherit;">しかし</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、get_service_paths</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンドを</font><b><font style="vertical-align: inherit;">発行する</font></b><font style="vertical-align: inherit;">ことが許可されました</font><font style="vertical-align: inherit;">！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スクリプトをチェックして、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">無効なコマンドラインが</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存在するかどうかを確認します</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">そして彼女はそこで発見されました！</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このデザインの中央について：</font></font><br>
<br>
<pre><code class="plaintext hljs">	set ecmd [lindex $line 0]<font></font>
	if { $ecmd != "project" &amp;&amp; $ecmd != "device" &amp;&amp; <font></font>
	$ecmd != "cmp" &amp;&amp; $ecmd != "sim" &amp;&amp; $ecmd != "show_main_window"<font></font>
	&amp;&amp; $ecmd != "hide_main_window" &amp;&amp; $ecmd != "get_version" <font></font>
	&amp;&amp; $ecmd != "help" &amp;&amp; $ecmd != "convert" <font></font>
	&amp;&amp; $ecmd != "import_assignments_from_maxplus2" } {<font></font>
		set res "Error: Invalid command";<font></font>
	} elseif [catch { set res [eval $line] } result] {<font></font>
		set res "Error: $result";<font></font>
	} <font></font>
	if { $res == "" } {<font></font>
		set res " "<font></font>
	}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このスクリプトは、端末からの少数のコマンドしか処理しないことがわかりました。</font><font style="vertical-align: inherit;">これは実際には非常に便利なチェックです。</font><font style="vertical-align: inherit;">将来的には、この場所でスクリプトコマンドの処理を実行できるようになります。</font><font style="vertical-align: inherit;">TCL言語を習得すると、より多くのコードをスクリプトレベルに移行でき、外部プログラムからのみ呼び出すことができます（これは、ネットワークを介してすべての回線を駆動するよりも明らかに高速です）。</font><font style="vertical-align: inherit;">まあ、認識されないコマンドはまだ直接インタプリタに直接投げられます。</font><font style="vertical-align: inherit;">理想的には、TCLをゆっくりと検討し、徐々に完全に理解していきます。</font><font style="vertical-align: inherit;">これがうまくいく場合。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それまでの間、スクリプトの実行を停止し（システムコンソールを閉じます）、指定したセクションを次のように置き換えます。</font></font><br>
<br>
<pre><code class="plaintext hljs">	set ecmd [lindex $line 0]<font></font>
	if [catch { set res [eval $line] } result] {<font></font>
		set res "Error: $result";<font></font>
	} <font></font>
	if { $res == "" } {<font></font>
		set res " "<font></font>
	}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スクリプトを実行して接続し、コマンドの参照シーケンスを実行してみます。</font></font><br>
<br>
<pre><code class="plaintext hljs">set m_path [lindex [get_service_paths master] 0]<font></font>
1 /devices/10CL006(Y|Z)|10CL010(Y|Z)|..@1#..@1#1-5.4.2.1#192.168.10.146/(link)/JTAG/alt_sld_fab_sldfabric.node_0/phy_0/master_0.master<font></font>
open_service master $m_path<font></font>
1 Error: can't read "m_path": no such variable<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちが作った変数は忘れられます。</font><font style="vertical-align: inherit;">一方で、嫌です。</font><font style="vertical-align: inherit;">しかし一方で、プログラムで行をフィードするので、名前を引数にパックすることはそれほど問題ではありません。</font><font style="vertical-align: inherit;">変数ではなく、その値が使用される詳細なコマンドを送信しようとしています。</font></font><br>
<br>
<pre><code class="plaintext hljs">open_service master /devices/10CL006(Y|Z)|10CL010(Y|Z)|..@1#..@1#1-5.4.2.1#192.168.10.146/(link)/JTAG/alt_sld_fab_sldfabric.node_0/phy_0/master_0.master </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
結果は1でした。すばらしい！</font><font style="vertical-align: inherit;">実験を続けます！</font></font><br>
<br>
<pre><code class="plaintext hljs">master_write_32 /devices/10CL006(Y|Z)|10CL010(Y|Z)|..@1#..@1#1-5.4.2.1#192.168.10.146/(link)/JTAG/alt_sld_fab_sldfabric.node_0/phy_0/master_0.master  0x0 0x01234567<font></font>
<font></font>
master_write_32 /devices/10CL006(Y|Z)|10CL010(Y|Z)|..@1#..@1#1-5.4.2.1#192.168.10.146/(link)/JTAG/alt_sld_fab_sldfabric.node_0/phy_0/master_0.master 0x4 0x89abcdef<font></font>
<font></font>
master_read_32 /devices/10CL006(Y|Z)|10CL010(Y|Z)|..@1#..@1#1-5.4.2.1#192.168.10.146/(link)/JTAG/alt_sld_fab_sldfabric.node_0/phy_0/master_0.master 0x0 0x2<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちは答えを得ます：</font></font><br>
<br>
<pre><code class="plaintext hljs">1 0x01234567 0x89abcdef
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1は、関数を実行した結果です。</font><font style="vertical-align: inherit;">次は読み取りデータです。</font><font style="vertical-align: inherit;">つまり、ネットワーク経由のアクセスは理想的ではありませんが、あります。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リモートマシンでのtcl_server.tclの実験</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一般的に、すでにプログラムを実行してプロセッサシステムでの作業を開始できますが、JTAG機器の速度にネットワークの速度を追加します。</font><font style="vertical-align: inherit;">もちろん、localhostアドレスで動作するように、リモートマシンで作業プログラムを実行することをお勧めします。</font><font style="vertical-align: inherit;">したがって、明らかに高速になります。</font><font style="vertical-align: inherit;">そしてその直後、元々計画されていたRedd複合施設の中央プロセッサで実行されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実行するファイルは？</font><font style="vertical-align: inherit;">いくつかのドキュメントを</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">壊し</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">て、</font><b><font style="vertical-align: inherit;">quartus_shが</font></b><font style="vertical-align: inherit;">何であるかを</font><b><font style="vertical-align: inherit;">調べてください</font></b><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">良い。</font><font style="vertical-align: inherit;">スクリプトについては楽しくありませんが、Windowsと同様に、対話モードでコマンドを発行しようとします。</font><font style="vertical-align: inherit;">これからは楽しいと思います... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それで、次のコマンドを実行します：</font></font><br>
<br>
<pre><code class="plaintext hljs">user@redd:~$ sudo /opt/intelFPGA/18.1/qprogrammer/bin/quartus_sh -s
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
tcl-linesを送信するように提案されてい</font></font><br>
<br>
<img src="https://habrastorage.org/webt/as/tp/mn/astpmnipd97bl34s7rp5lefls7w.png"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ます</font><font style="vertical-align: inherit;">：</font><font style="vertical-align: inherit;">しかし、私たちのお気に入りのコマンドはエラーにつながります：</font></font><br>
<br>
<pre><code class="plaintext hljs">tcl&gt; get_service_paths master<font></font>
invalid command name "get_service_paths"<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次の2つのコマンドを送信して、不足しているライブラリをロードする必要があることがわかります。</font></font><br>
<br>
<pre><code class="plaintext hljs">load_package systemconsole <font></font>
initialize_systemconsole<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
確かに、すでに親しみのある次のチームは、ライブラリーでもエラーを出します。</font></font><br>
 <br>
<img src="https://habrastorage.org/webt/oj/rn/05/ojrn05otrtauugalg01qtwqeuyg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ああ、そして長い間、理由を探していました！</font><font style="vertical-align: inherit;">私はすべての図書館をくまなく調べ、検索エンジンの記事の海をくまなく調べましたが、そのようなチームはありません。</font><font style="vertical-align: inherit;">しかし、他にもあります。</font><font style="vertical-align: inherit;">しかし、それらは機能しません。</font><font style="vertical-align: inherit;">しかし、少なくともあります。</font><font style="vertical-align: inherit;">目立たない解決策のドキュメントを誤って見つけました。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Claim_path</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンドが必要であることが</font><b><font style="vertical-align: inherit;">わかりまし</font></b><font style="vertical-align: inherit;">た</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">こんにちは、クロスプラットフォーム。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このシーケンスは私たちを成功に導きます：</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">set m_path [lindex [get_service_paths master] 0] </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
set Claim_path [claim_service master $ m_path mylib] </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
master_write_32 $ Claim_path 0x0 0x01234567 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
master_write_32 $ Claim_path 0x4 0x89abcdef </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
master_read_32 $ Claim_path 0x0 0x2</font></font></blockquote><br>
<img src="https://habrastorage.org/webt/xm/7q/sb/xm7qsbfyud2q74yxwx_kjrzu8u8.png"> <br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Telnetによる確認</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
インタラクティブモードでは、すべてが機能し、サーバーを作成するスクリプトを介して作業をチェックします。</font><font style="vertical-align: inherit;">不足している行を追加して（ライブラリをロードする2行のみ）、次を実行し</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。user @ redd：〜$ sudo /opt/intelFPGA/18.1/qprogrammer/bin/quartus_sh -t tcl_server1.tcl</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
クラッシュします。</font><font style="vertical-align: inherit;">リスニングソケットは表示されません。</font><font style="vertical-align: inherit;">サーバーのopen関数を終了できない行を追加する必要があることがわかります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/b6/hd/z2/b6hdz2spmvzd98t_hrwx9w7cbxe.png"><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">同じテキスト：</font></font></b><div class="spoiler_text"><pre><code class="plaintext hljs">proc _q_setup_server {port} {<font></font>
	global _q_lsock;<font></font>
	if [catch { set _q_lsock [socket -server _q_accept $port] } emsg] {<font></font>
	}<font></font>
	vwait forever<font></font>
	return;<font></font>
}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
正しいスクリプトを実行し、Telnet経由で結果のサーバーに接続しようとします。</font></font><br>
 <br>
<img src="https://habrastorage.org/webt/xx/hu/ds/xxhudsysoe239ce13hnmarpwg28.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このようなコマンドを発行します（コマンドは太字で、回答はプレーンテキストで表示されます。Windowsの場合と同様に、前の回答の句を変数に</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">置き換え</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます）：</font><b><font style="vertical-align: inherit;">lindex [get_service_paths master]</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
1 {/デバイス/10CL006(Y|Z)|10CL010(Y|Z)|..@1#1-5.4.2.1/(link)/JTAG/(110:132 v1＃0）/ phy_0 / master} </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Claim_serviceマスター{/デバイス/10CL006(Y|Z)|10CL010(Y|Z)|..@1#1-5.4.2.1/(link)/JTAG/(110:132 v1＃0）/ phy_0 / master} mylib</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
1 /チャネル/ remote1 / mylib / master_1 </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">master_write_32 /チャネル/ remote1 / mylib / master_1 0x0 0x01234567</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
1 </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">master_write_32 /チャネル/ remote1 / mylib / master_1 0x4 0x89abcdef</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
1 </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">master_read_32 /チャネル/ remote1 / mylib / master_1 0x0 0x2</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1 0x01234567 0x89abcdef </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべてが機能します！</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">そして、フォレスターがやって来て、みんなを分散させました...それとも全部ではないですか？</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事の作成中に、ネットワーク経由のアクセスを提供するスクリプトを記述する必要のない興味深いテクニックを見つけました。 Cには</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">popen</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">関数があります</font><font style="vertical-align: inherit;">（Windowsでは</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">_popen</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。入力または出力ストリームをキャプチャすることにより、コンソールプログラムから子プロセスを開くことができます。その結果、Windowsでは、次の引数を使用してシステムコンソールを開くことができます</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。C：\ intelFPGA_lite \ 17.1 \ quartus \ sopc_builder \ bin \ system-console.exe --disable_readline –cli</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
そして、ネットワークなしでコマンドを</font><b><font style="vertical-align: inherit;">発行</font></b><font style="vertical-align: inherit;">できます。しかし、問題は、コマンドの送信方法と回答の受信方法を同時に見つけられなかったことです。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">_popen</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">関数の引数には、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">または</font><b><font style="vertical-align: inherit;">w</font></b><font style="vertical-align: inherit;">のみを指定できます</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">同時に両方ではありません。 Windows固有の手法はありますが、クロスプラットフォームにはほど遠いでしょう。 Quartuselに関する記事のように、スクリプトを</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">システムコンソール</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プログラムの引数として送信し、</font><font style="vertical-align: inherit;">その答えをストリームとして受け取ることは可能ですが、起動のたびにそれほど速くはありません... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Linuxでは、システムコンソールの関数の初期化も遅いため、1回実行することをお勧めします。 Linuxでは</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">popen</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">関数に</font><font style="vertical-align: inherit;">引数「r +」があり、双方向チャネルを開く</font><font style="vertical-align: inherit;">とグーグルは言っているようです</font><font style="vertical-align: inherit;">。その後、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quartus_sh</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">開い</font><font style="vertical-align: inherit;">て通信</font><font style="vertical-align: inherit;">できます</font><font style="vertical-align: inherit;">が、Linuxはあまり得意ではありません。Googleは、解決策がないフォーラムへのリンクを見つけますが、すべてのアセンブリでそれが可能かどうかについての激しい議論があります。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そのため、本日はプログラムを持ち込みません。</font><font style="vertical-align: inherit;">Telnet機能の実装は不要な場合がありますが、両方のストリームをインターセプトする理想的なプログラムを作成する方法がわかりません。</font><font style="vertical-align: inherit;">誰かがコメントで既製の解決策を提供してくれれば、私は感謝します。</font><font style="vertical-align: inherit;">まず第一に-ネットワーク上で大量のデータストリームを駆動しないように、Debianの下で。</font><font style="vertical-align: inherit;">その間、私たちは自分自身を実用的な概念に制限します。</font></font><br>
 <br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プロセッサー・コアを直接含まないNios IIベースのプロセッサー・システムを開発するための方法論について知りました。そのようなシステムは、その速度があまり望まれないため、ユニバーサルとして推奨することはできませんが、場合によっては、制御コアの速度は重要な要素ではありません。しかし、そのようなシステムで実現された内部RAM FPGAの節約が前面に出てきます。記述されたテクニックが推奨されるのは彼らのためです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そのようなシステムをプログラミングする古典的なアプローチはTCLスクリプトですが、Redd複合システムの概念の枠組みの中で、C ++でプログラミングするためのアプローチが開発され、記事で説明されています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quartusバージョン17.1 Lite配布キットのソースtcl_server.tclスクリプトは、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">こちらから</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ダウンロードでき</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。編集後のバージョン-</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">こちら</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">FPGAのサンプルプロジェクトは、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">こちらから</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">入手でき</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja496498/index.html">ミニゲームを備えた本格的なMinecraftゲームサーバーを開発しています。パート1.サーバーを選択してインストールする</a></li>
<li><a href="../ja496500/index.html">物理学の観点からのCOVID-19</a></li>
<li><a href="../ja496502/index.html">WinServer 2012R2で非管理者をRDPユーザーセッションに接続するヒューマンシャドウのユーティリティ</a></li>
<li><a href="../ja496504/index.html">ハンファ協調ロボットとコロナウイルスとの戦いにおけるそれらの使用</a></li>
<li><a href="../ja496506/index.html">hCaptchaがavito.ruを破った方法の物語</a></li>
<li><a href="../ja496510/index.html">ゲームデザイナーにならない方法</a></li>
<li><a href="../ja496512/index.html">＃05-そして、バイト全体では十分ではありません... | アニメ</a></li>
<li><a href="../ja496514/index.html">LinuxマシンとNATプロバイダーの背後にあるMikrotik間のIPIP IPsec VPNトンネル</a></li>
<li><a href="../ja496516/index.html">PythonとCOVID-19の電報ボット</a></li>
<li><a href="../ja496518/index.html">どうやってリモコンに行きましたか</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>