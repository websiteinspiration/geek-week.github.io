<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐵 🏎️ 🕵️ Animasi skema di SCADA #⃣ 😢 👨‍👩‍👦‍👦</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Saat membuat HMI, cukup sering tugasnya adalah membangun pemetaan rangkaian kompleks elemen terkait. Ini dapat berupa skema pipa bercabang, listrik, d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Animasi skema di SCADA</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/487738/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Saat membuat HMI, cukup sering tugasnya adalah membangun pemetaan rangkaian kompleks elemen terkait. </font><font style="vertical-align: inherit;">Ini dapat berupa skema pipa bercabang, listrik, dll. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda dapat, tentu saja, membatasi diri Anda untuk menampilkan elemen-elemen kunci (katup gerbang, pemutus sirkuit), tetapi semakin besar sirkuitnya, semakin sulit untuk membuat gambar yang lengkap dan memastikan tindakan yang benar dari operator. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/js/86/tr/js86trkeud1o6qilw9cdjckia8s.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Artikel ini menjelaskan pewarnaan elemen skema tersebut, menjelaskan metode solusi untuk Simatic WinCC v7 dan implementasinya dalam Simargl SCADA. </font><font style="vertical-align: inherit;">Jika Anda tidak harus bekerja dengan WinCC, maka Anda dapat melihat tepat di akhir artikel - ada video yang ingin tahu.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk representasi yang lebih visual tentang mengapa semua ini diperlukan, kami menggunakan skema sederhana yang kecil.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/zm/7-/rm/zm7-rmshnfpa9zuahdxt6m_mdfo.png" alt="gambar"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang bayangkan apa yang akan terjadi jika ada operasi. </font><font style="vertical-align: inherit;">Berapa lama untuk melacak jalur produk melalui sistem pipa? </font><font style="vertical-align: inherit;">Kami mempersenjatai diri dengan stopwatch.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Siap? </font><font style="vertical-align: inherit;">Pergilah!</font></font></b><div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/iq/l8/jt/iql8jtcvyifvukrjviudd-s4mxu.png" alt="image"></div><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menurut pengamatan saya, dibutuhkan 10 - 15 detik. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan sekarang ingat bahwa (tiba-tiba) operasi dapat dilakukan beberapa sekaligus. </font><font style="vertical-align: inherit;">Ini "sedikit" menyulitkan tugas. </font><font style="vertical-align: inherit;">Sudah siap untuk menguji diri sendiri lagi?</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pergilah!</font></font></b><div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/-d/zl/oh/-dzloh6cxb2zcwpqzpdiwlolmm0.png" alt="image"></div><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menerjemahkan ke dalam bahasa yang layak kata-kata rekan saya: “Itu adalah kesempatan! Saat Anda melacak rute kedua, Anda akan sangat melupakan yang pertama. Skema yang luar biasa dan nyaman! ” </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tetapi skemanya sangat sederhana - bahkan tidak memiliki bacaan instrumen dan berbagai tanda tangan (halo khusus untuk penggemar untuk menggambar pipa "tiga dimensi"). Dalam praktiknya, keadaan bisa lebih buruk. Saya telah bertemu dengan skema yang jauh lebih besar (lebih dari 400 katup). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apa yang bisa dilakukan operator pada tiruan seperti itu? Dalam kasus terbaik, perlahan-lahan buka katup gerbang di sepanjang rute dan berharap dia tidak salah. Tetapi bagaimana jika switching perlu dilakukan dengan cepat dan biaya kesalahan tinggi?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jalan keluar dari situasi ini jelas - perlu untuk mewarnai garis di sepanjang rute, dan disarankan untuk melakukan ini sebelum tindakan kontrol. </font><font style="vertical-align: inherit;">Anehnya, saya tidak melihat solusi yang sudah jadi dari kotak, bahkan dengan paket SCADA mahal. </font><font style="vertical-align: inherit;">Upaya untuk mewarnai secara manual untuk setiap baris mengancam untuk menunda pengaturan hampir tak terbatas.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Solusi untuk WinCC v7</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya memecahkan masalah seperti itu berdasarkan WinCC v7. Sayangnya, di bawah ketentuan kontrak, saya tidak punya hak untuk mengeluarkan solusi yang sudah jadi, tetapi saya bisa menggambarkan solusi yang mungkin. Tiba-tiba seseorang akan membantu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya akan segera mencatat bahwa ini adalah tentang keluarga produk WinCC versi 7, karena ada peluang untuk menggunakan VBA. Perlu diingatkan, semua yang dijelaskan di bawah ini lebih merupakan peretasan, digunakan dari keputusasaan dan tidak cocok untuk semua kasus. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya akan melanjutkan diskusi dalam hal pipa dan katup, meskipun, tentu saja, semuanya akan sama untuk skema catu daya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bagilah skema secara mental menjadi beberapa bagian sehingga pada setiap sisi hanya ada satu input / output. Itu jika outlet dipotong ke dalam pipa, tiga bagian harus dibuat: sebelum cabang, maka cabang itu sendiri.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk membuat diagram, Anda harus menggunakan dua jenis objek grafik standar: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Connector (untuk menggambar garis) dan Circle (untuk membuat titik kontrol diagram). Konektor diperlukan karena memungkinkan Anda untuk menentukan objek mana dalam rangkaian yang terhubung, berbeda dengan garis yang biasa. Lingkaran standar harus diulang di CustomObject - ini akan menghindari kebingungan saat menyortir elemen skema mnemonik dan memberikan nama yang nyaman untuk properti. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bagian dari titik kontrol akan sesuai dengan sambungan pipa, dan sebagian - ke katup gerbang. Untuk yang terakhir, kami memilih properti yang tidak digunakan dan menetapkan aksi VBS, di mana kami membuat konstanta dan memberinya nilai string dengan nama katup:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/4a/4a/6s/4a4a6sqjj2s_tn7vq-o87itgkhk.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selanjutnya, kami menulis skrip pada VBA yang akan melewati semua elemen layar dan untuk setiap Connector membuat daftar kait yang terhubung secara tidak langsung, memungkinkan Anda untuk akhirnya membuat teks VBS untuk properti BorderColor. Ini dapat dicapai karena fakta bahwa Connector memiliki dua properti - TopConnectedObjectName dan BottomConnectedObjectName, tersedia di VBA. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hasil skrip ini akan terlihat seperti ini: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/2j/sg/io/2jsgiom-vpl8c5vahyyd3nsutro.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D1 dan D2 - array dengan nama-nama katup; TubeColor - fungsi yang mengembalikan warna dan gaya garis tergantung pada keadaan katup. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Poin penting: saat menulis skrip VBS ke suatu elemen, Anda juga harus mengubah pemicu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam fungsi TubeColor, perlu untuk mengatur semua aturan pewarnaan tergantung pada situasi teknologi. Tentu saja, TubeColor perlu dirender dalam skrip Global.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maka perjuangan akan dimulai untuk kinerja, optimalisasi VBS, dll., Karena WinCC hampir tidak dapat mentransfer diagram mnemonik besar. </font><font style="vertical-align: inherit;">Tetapi kita harus membayar upeti kepada kolega dari Siemens, kecepatan VBS telah meningkat secara signifikan, jika saya tidak salah, dari versi 7.3, yang sangat menyederhanakan kehidupan pengembang proyek terapan.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Deskripsi implementasi dalam </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Simargl SCADA</font></font></a></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk menggambar skema animasi, Simargl SCADA mencakup dua widget: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SPipeScene - sebuah adegan untuk menggambar garis dan mengatur aturan pewarnaan; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SPipe - untuk menentukan titik nodal dan menampilkan perubahan dalam kondisi peralatan lapangan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Intinya, proses bermuara hanya dengan menempatkan titik-titik nodal dari rangkaian, mengikat properti ke nilai tag, dan menempatkan widget di atas layar yang menampilkan status peralatan. </font><font style="vertical-align: inherit;">Itu semua terlihat seperti ini:</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sangat mengherankan bahwa untuk membuat sirkuit yang sebenarnya, tidak perlu menulis kode sama sekali. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda bisa mendapatkan versi demo dari Simargl SCADA, dokumentasi dan sumber proyek dari video dari </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">halaman facebook</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div><p class="reference-to-source js-reference-to-source">Source: https://habr.com/ru/post/undefined/</p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id487720/index.html">Tentang persaingan ketat (menggunakan pemrograman reaktif sebagai contoh)</a></li>
<li><a href="../id487724/index.html">BlazingPizza: Aplikasi Blazor dari awal hingga akhir. Bagian 2. Tambahkan komponen</a></li>
<li><a href="../id487728/index.html">@Pythonetc kompilasi, Januari 2020</a></li>
<li><a href="../id487730/index.html">Pemrosesan Bahasa Alami. Hasil 2019 dan tren untuk 2020</a></li>
<li><a href="../id487734/index.html">Mempercepat Inti Kerangka Entitas</a></li>
<li><a href="../id487740/index.html">Merakit magnetometer portabel</a></li>
<li><a href="../id487742/index.html">Perdagangan Arbitrage (Algoritma Bellman-Ford)</a></li>
<li><a href="../id487744/index.html">FARO Memperkenalkan FOCUS S 70 Laser 3D Scanner</a></li>
<li><a href="../id487746/index.html">Kekal</a></li>
<li><a href="../id487748/index.html">Kunci enkripsi perangkat keras $ 3 - apakah ini mungkin?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>