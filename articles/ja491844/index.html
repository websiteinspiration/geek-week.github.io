<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎫 🌛 👩🏿‍⚕️ 自動テストカバレッジの視覚化 💲 🌐 🈂️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="最新のカバレッジレポートは、場合によっては役に立たない場合があり、それらを測定する方法は主に開発者にのみ適しています。カバレッジのパーセンテージを常に確認したり、テスト中に使用されなかったコードを表示したりできますが、可視性、シンプルさ、自動化が必要な場合はどうでしょうか。ハイゼンバグ
 
 
 
...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>自動テストカバレッジの視覚化</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/jugru/blog/491844/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最新のカバレッジレポートは、場合によっては役に立たない場合があり、それらを測定する方法は主に開発者にのみ適しています。</font><font style="vertical-align: inherit;">カバレッジのパーセンテージを常に確認したり、テスト中に使用されなかったコードを表示したりできますが、可視性、シンプルさ、自動化が必要な場合はどうでしょうか。</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ハイゼンバグ</font></a></font><br>
<br>
<img src="https://habrastorage.org/webt/_r/ms/rr/_rmsrr9pfqqgiu7vvskxe93g2po.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
会議のQameta SoftwareのArtem Eroshenkoによるレポートのカットビデオとトランスクリプトの下</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">彼は、Yandex.Verticalsチームがテスト自動化エンジニアによって記述されたテストの範囲を評価するのに役立つ、いくつかの開発されたシンプルでエレガントなソリューションを紹介しました。</font><font style="vertical-align: inherit;">Artemは、カバーされているもの、カバーされている方法、合格したテストをすばやく見つけ、視覚的なレポートを即座に表示する方法を教えてくれます。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br>
<a name="habracut"></a><br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/N2k4LKPWuSw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私の名前はArtyom Eroshenkoです </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eroshenkoam</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、私は10年以上にわたってテストの自動化を行っています。</font><font style="vertical-align: inherit;">私はテスト自動化マネージャー、ツール開発チームマネージャー、ツール開発者でした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
現在、私はテスト自動化の分野のコンサルタントであり、プロセスを構築している複数の企業と協力しています。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私はまた、Allure Reportの開発者および秘密管理者でもあります。</font><font style="vertical-align: inherit;">最近</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、クールなものを修正し</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ました。JUnit5にはフィクスチャがあります。</font></font><br>
<br>
<h2><font color="#DB8E0D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アトラスフレームワーク</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私の開発は</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Atlas Framework</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。誰かが2012年に自動化を開始し、Java Webドライバーが始まったばかりのとき、その瞬間に</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTML Elements</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と呼ばれるオープンソースライブラリを作成しました</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Html Elementsは、インターフェイスに基づいて構築されたAtlasライブラリで継続と再考を行っています。そのようなクラスはなく、フィールドはなく、非常に便利で軽量で簡単に拡張可能なライブラリはありません。理解したい場合は、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">記事</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を読む</font><font style="vertical-align: inherit;">か、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">レポートを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参照してください</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私のレポートは、テストの自動化の問題と、主にコーティングに焦点を当てています。背景として、テストプロセスがYandex.Verticalsでどのように構成されているかについて説明します。</font></font><br>
<br>
<h2><font color="#DB8E0D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自動化は垂直でどのように機能しますか？</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yandex.Avto、Work、Real Estate、Partsの4つのサービスを自動化するYandex.Verticalsテスト自動化チームには4人しかいません。</font><font style="vertical-align: inherit;">つまり、これは多くのことを行う自動化プログラムの小さなチームです。</font><font style="vertical-align: inherit;">API、Webインターフェース、モバイルアプリケーションなどを自動化します。</font><font style="vertical-align: inherit;">合計すると、約15.5千のテストがさまざまなレベルで実行されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
チーム内のテストの安定性は約97％ですが、私の同僚の一部は約99％と言っています。このような高い安定性は、非常にネイティブなテクノロジーでの短いテストのおかげで正確に達成されます。原則として、テストには約15分かかります。これは非常に容量が大きく、約800のスレッドで実行されます。つまり、800台のブラウザが同時に起動します。これは、テストのストレステストです。鉄はセレノイド（エアロクベ）を使用しています。 Yandex.Verticalsでのテストの自動化の詳細については、関連性のある私の2017年のレポートをご覧ください。</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/gwXpYB6ZayE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちのチームのもう1つの特徴は</font><font style="vertical-align: inherit;">、テスト自動化の開発に大きく貢献する手動テスターを含め、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべてを自動化すること</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。彼らのために、私たちは学校を組織し、テストを教え、API、ウェブインターフェースのテストを書く方法を教え、そしてしばしば彼らはテストに同行するのを助けます。したがって、リリース自体の責任者は、必要に応じてテストをすぐに修正できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
業種では、テスト開発者がテストを作成し、テスト開発に熱心で、私たちと競合しています。このプロセスの詳細については、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">「Reactアプリケーションのテストの全サイクル」</font></a><font style="vertical-align: inherit;">というレポートをご覧ください</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、アレクセイアンドロソフとナタリアストゥスが、Javaエンドツーエンドテストと並行して、Puppeteerでユニットテストを作成する方法について話します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テスト自動化エンジニアも、チームでテストを作成します。</font><font style="vertical-align: inherit;">しかし、多くの場合、それらを最適化するためのいくつかの新しいアプローチを開発しています。</font><font style="vertical-align: inherit;">たとえば、スクリーンショットテスト、mokiによるテスト、テストの削減を実装しました。</font><font style="vertical-align: inherit;">一般的に、私たちの領域は主にソフトウェア開発者テスト（SDET）であり、テストの記述方法についての詳細があり、テストベースの一部は私たちによって満たされ、手動テスターに​​よってサポートされています。</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">開発者も私たちを助けてくれて、それは素晴らしいことです。</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらのプロセスで発生する問題は、すでにカバーされているものとカバーされていないものを常に理解しているわけではないことです。</font><font style="vertical-align: inherit;">15,000件のテストを調べても、何をチェックするかが必ずしも明確ではありません。</font><font style="vertical-align: inherit;">これは特に、テストを行わず、監視し、質問するマネージャーとのコミュニケーションの状況で特に当てはまります。</font><font style="vertical-align: inherit;">特に、特定のボタンがインターフェイスまたはフローでテストされているかどうかという質問が発生した場合、テストコードに移動してこの情報を確認する必要があるため、答えることは困難です。</font></font><br>
<br>
<h2><font color="#DB8E0D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">何がテストされ、何がテストされませんか？</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さまざまな言語で多くのテストがあり、さまざまな程度の訓練を受けた人々によって書かれている場合、遅かれ早かれ問題が生じますが、これらのテストはまったく交差していませんか？</font><font style="vertical-align: inherit;">この問題に関連して、カバレッジの問題は特に重要になってきています。</font><font style="vertical-align: inherit;">3つの重要なトピックの概要を説明します。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">カバレッジを効果的に測定する方法。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">APIテストのカバレッジ。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Webテストのカバレッジ。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初に、要件のカバーと製品コードのカバーの2つの方法があることを確認しましょう。</font></font><br>
<br>
<h4><font color="#DB8E0D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要件カバレッジの測定方法</font></font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
例としてauto.ruを使用して要件カバレッジを検討してください。 auto.ruテスターの代わりに、次のようにします。まず、グーグルですぐに特別な要件の表を見つけます。これが要件カバレッジの基礎です。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/nf/v6/fh/nfv6fhqm8ukolt_4bv6bxyycohm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この表では、要件の名前が左側に記載されています。この場合：アカウント、広告、確認と支払い、つまり発表の確認。一般に、これはカバレッジです。左側の詳細はテスターのレベルに依存します。たとえば、Googleのエンジニアには49種類のコーティングがあり、さまざまなレベルでテストされています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
表の右側は要件属性です。たとえば、優先度、カバレッジ、状態など、属性の形で何でも使用できます。これは最後のリリースの日付かもしれません。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ox/3a/kj/ox3akjf5fcmwxlmt_utf3uhnsas.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、いくつかのデータがテーブルに表示されます。専門的なツールを使用して、要件テーブル（TestRailなど）を保守できます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
右側のツリーに関する情報があります。フォルダは、私たちが持っている要件、それらをどのようにカバーできるかを示します。テストケースなどがあります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wh/he/aj/whheajlxedwdqlmspx_iofg4wai.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
業種では、このプロセスは次のようになります。手動テスターが要件とテストケースを記述してから、それらをテスト自動化に渡し、自動化ツールがこれらのテストのコードを記述します。さらに、以前は、手動テスターが全体の構造を説明する詳細なテストケースが与えられました。その後、誰かがgithubでコミットを行い、テストは有益になり始めました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このアプローチの長所と短所は何ですか？プラスは、このアプローチが私たちの質問に答えることです。マネージャーが私たちに何をカバーしているか尋ねた場合、私はタブレットを開いて、どの機能がカバーされているかを示します。一方、これらの要件は常に最新の状態に保つ必要があり、すぐに廃止されます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
15,000件のテストがある場合、TestRailを見るのは宇宙の星を見るようなものです。長い間爆発し、光が届きました。あなたは現在のテストケースを見ると、それはすでに古くて取り返しのつかないほど古くなっています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この問題は解決するのが難しい。</font><font style="vertical-align: inherit;">私たちにとって、これらは一般的に2つの異なる世界です：失敗するすべてのテストが即座に修正される独自の法則に従って回転する自動化の世界があり、手動テストと要件カードの世界があります。</font><font style="vertical-align: inherit;">Allure Serverを使用しない限り、それらの間の壁は貫通できません。</font><font style="vertical-align: inherit;">私たちは今、彼らのためにこの問題を解決しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「長所と短所」の3番目のポイントは、手作業の必要性です。</font><font style="vertical-align: inherit;">新しいプロジェクトでは、要件マップを再作成したり、すべてのテストケースを作成したりする必要があります。</font><font style="vertical-align: inherit;">それは常に手作業を必要とし、それは実際には非常に悲しいです。</font></font><br>
<br>
<h4><font color="#DB8E0D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コードカバレッジの測定方法</font></font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このアプローチの代替は、コードカバレッジです。</font><font style="vertical-align: inherit;">これは私たちの問題の解決策のようです。</font><font style="vertical-align: inherit;">これは、製品コードのカバレッジがどのように見えるかです。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/5o/-c/oe/5o-coev_livsv-tudln9ztpau_e.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、パッケージのカバレッジ、または実際に製品に通常あるもののごく一部を反映しています。</font><font style="vertical-align: inherit;">パッケージは、機能が以前に書かれたように、左側に書かれています。</font><font style="vertical-align: inherit;">つまり、コーティングは最終的にいくつかの有形のもの、この場合はパッケージに取り付けられます。</font><font style="vertical-align: inherit;">属性は右側に記述されています：クラスごとのカバレッジ、メソッドごとのカバレッジ、コードブロックごとのカバレッジ、コード行ごとのカバレッジ。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
カバレッジを収集するプロセスは、テストが合格したコード行と合格しなかったコード行を理解することです。</font><font style="vertical-align: inherit;">これはかなり単純な作業ですが、最近非常に関連しています。</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コードカバレッジの最初の言及は1963年にさかのぼりますが、この方向での深刻な進歩は、今になってようやく現れます。</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、システムと対話するテストがあります。彼がどのように彼女と対話するかは関係ありません。フロントエンド、API、または直接バックエンドに忍び込みます-私たちはそれを持っていると仮定します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、計測を行う必要があります。これは、チェックされたコード行とチェックされなかったコード行を理解するためのプロセスです。詳細に調べる必要はありません。フレームワークの名前を探して、たとえば</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spring</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、次に</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インストルメンテーション</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">カバレッジ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を探すだけです。</font><font style="vertical-align: inherit;">これらの3つの単語で、これがどのように行われるかを理解できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テストでは、テストがヒットしたコード行とヒットしなかったコード行をチェックするときに、カバーされている行に関する情報を含むファイルを保存します。この情報に基づいて、データがあります。</font></font><br>
<br>
<h4><font color="#DB8E0D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コードカバレッジの長所と短所は何ですか？</font></font></font></h4><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コードカバレッジ私はすぐにマイナスと呼びます</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">あなたはマネージャーに来ないでしょう、あなたはこのプレートを見せないでしょう、そして誰もが自動化したとは言いません、このデータは読むことができないので、彼はあなたがすぐに見てすべてを理解できる明確なデータを返すように頼みます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コードカバレッジレポートは開発に近いものです。</font><font style="vertical-align: inherit;">チーム全体が監視できるようにしたい場合、チームにすべてのデータを提供する通常のアプローチとして使用することはできません。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/jm/kr/bw/jmkrbwezcyzyx90-qxgm4jrrlbm.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このアプローチの利点は、常に関連データを提供することです。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">多くの作業を行う必要はありません。すべてが自動化されています。</font><font style="vertical-align: inherit;">ライブラリを接続するだけで、カバーが外れ始めます-それは本当にクールです。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このアプローチのもう1つの利点は、カスタマイズのみが必要なことです。特別なことは何もありません。具体的な指示があり、カバレッジを調整するだけで、自動的に機能します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
要件を網羅すると、満たされていない要件を特定できますが、コードとの関連で完全性を評価することはできません。たとえば、新しい機能「承認」の作成を開始し、「承認の機能」を入力するだけで、テストケースをスローし始めます。コードでこのカバレッジをすぐに確認することはできません。新しいクラスを作成しても、情報はありません-ギャップがあります。一方、これは承認要件であり、すでに実装されている場合でも、その適用範囲をカウントすると、この部分は関連性がないため、手動で最新に保つ必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、私たちはアイデアを持っていました：みんなから最善を尽くしたらどうでしょうか？</font><font style="vertical-align: inherit;">カバレッジが私たちの質問に答えるように、それは常に関連性があり、カスタマイズのみが必要でした。</font><font style="vertical-align: inherit;">コーティングを別の角度から見る必要があります。つまり、別のシステムをコーティングの基礎として使用します。</font><font style="vertical-align: inherit;">同時に、それが完全に自動的に収集され、たくさんの利点をもたらすことを確認してください。</font><font style="vertical-align: inherit;">このため、APIテストのカバレッジに入ります。</font></font><br>
<br>
<h2><font color="#DB8E0D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テストカバレッジAPI</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
カバレッジの基礎は何ですか？</font><font style="vertical-align: inherit;">これを行うに</font><font style="vertical-align: inherit;">は、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Swagger</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用し</font><font style="vertical-align: inherit;">ます。これはドキュメンテーションAPIです。</font><font style="vertical-align: inherit;">今では、Swaggerなしでは自分の仕事を想像することはできません。それは、私が常にテストに使用するツールです。</font><font style="vertical-align: inherit;">Swaggerを使用しない場合は、サイトにアクセスして、慣れることを強くお勧めします。</font><font style="vertical-align: inherit;">すぐに、非常に直感的でわかりやすい使用例が表示されます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際、Swaggerはサービスによって生成されるドキュメントです。</font><font style="vertical-align: inherit;">を含む：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リクエストのリスト。</font></font><br>
 <img src="https://habrastorage.org/webt/in/nc/pe/inncpekmy4a699gk-eh0o4be_jy.png"></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リクエストパラメータ：開発者を引き寄せて、パラメータを尋ねる必要はありません。</font></font><br>
<img src="https://habrastorage.org/webt/yz/48/yg/yz48yg1kw8nnqdb3wn7fdcq0g1o.png"></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回答コード</font></font><br>
<img src="https://habrastorage.org/webt/zz/y2/ku/zzy2kucjpovwr2xxue4zvct543o.png"><br>
</li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Swaggerの動作原理は生成です。使用するフレームワークは関係ありません。 SpringまたはGoサーバーで、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Swagger </font></font></a><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Codegen</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンポーネントを使用して</font><i><font style="vertical-align: inherit;">swagger.json</font></i><font style="vertical-align: inherit;">を生成するとし</font><i><font style="vertical-align: inherit;">ます</font></i><font style="vertical-align: inherit;">。これはいくつかの仕様であり、それに基づいて美しいUIが描画されます。</font><i><font style="vertical-align: inherit;">swagger.json</font></i></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
を</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用する</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ことは私たちにとって重要です</font><font style="vertical-align: inherit;">。そのサポートは、広く使用されているすべての言語で利用できます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Open API仕様</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">swagger.jsonがあり</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。これは次のようになります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/jn/hl/km/jnhlkmmo1pd-7vxllopdvjhbdr0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リクエストは次のようになります。要約、説明、応答コード、および「ハンドル」（パス：/ユーザー）。クエリパラメータに関する情報もあります。すべてが構造化されており、ユーザーIDパラメータがあり、必要なパスにあります（説明や型など）。整数です。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/3a/bs/7h/3abs7hrvpakohvaejel8utqdtc4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
応答コードがあり、それらも文書化されています。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/so/3s/yq/so3syqf7mawlmlqomizvoqdj1-u.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アイデアが頭に浮かびました。Swaggerが生成するサービスがあり、後でそれらを比較できるように、テストで同じSwaggerを保持したいと考えました。</font><font style="vertical-align: inherit;">つまり、テストを実行すると、まったく同じSwaggerが生成され、Swagger Diffにスローされます。チェックしたパラメーター、ハンドル、ステータスコードなどがわかります。</font><font style="vertical-align: inherit;">これは同じ計測器、同じカバレッジですが、最終的には私たちが理解している要件に限られます。</font></font><br>
<br>
<h2><font color="#DB8E0D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">しかし、もし差分を作成したらどうなるでしょうか</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Swagger diff</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ライブラリ</font><font style="vertical-align: inherit;">に目を向けました。これは、これに必要なものです。その動作原理は次のようなものです。バージョン1.0とAPIバージョン1.1があり、どちらも</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">swagger.jsonを</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">生成して</font><i><font style="vertical-align: inherit;">から</font></i><font style="vertical-align: inherit;">、それらをSwagger diffにスローして結果を確認します。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
結果は次のようになります</font></font><br>
<br>
<img src="https://habrastorage.org/webt/qk/qn/ls/qkqnlsxnssknuv8p8t9cg5ckryu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。たとえば、新しいペンがあるという情報があります。削除されたものに関する情報もあります。これは、テストを削除するときが来たことを意味します。テストはもはや関係ありません。変更に関する情報が表示されると、パラメーターも変更されるため、その時点でテストが失敗することは明らかです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちはこのアイデアを気に入って、実装を始めました。決定したとおり、開発者コードから生成する「参照」Swaggerがあります。また、Swaggerを生成するAPIテストもあり、それらを比較します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、サービスのテストを実行します</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。RestAssuredがあり</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、それ自体がAPIのサービスにアクセスします。そして、それを計装します。アプローチがあります：フィルターを作成すると、リクエストがそこに送られ、リクエストに関する情報が</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">swagger.json</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の形式で</font><font style="vertical-align: inherit;">直接</font><i><font style="vertical-align: inherit;">保存</font></i><font style="vertical-align: inherit;">されます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これが私たちが書く必要のあるコード全体です、69-70行ありました-これは非常に単純なコードです。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/6_/m6/ck/6_m6cka7jfewruree9d9561tayo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
面白いのは、Swaggerのネイティブクライアントを使用したことです。</font><font style="vertical-align: inherit;">バイナリを作成する必要すらありませんでした。Swagger仕様に記入しただけです。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/lr/rl/fw/lrrlfwuiqrgykrprpjnxr1fcfmq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちは何かをしなければならなかったたくさんの.jsonファイルを手に入れました-それらはSwaggerアグリゲーターを書きました。</font><font style="vertical-align: inherit;">これは、次の原則に従って機能する非常に単純なプログラムです。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">彼女は新しい要求に応えます。データベースにない場合は追加します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">彼女は要求に応え、彼は新しいパラメータを持っています-追加。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ステータスコードについても同様です。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、使用したすべてのペン、パラメーター、およびステータスコードに関する情報を取得します。</font><font style="vertical-align: inherit;">さらに、これらの要求が実行されたデータ（ユーザー名、ログインなど）をここで収集できます。</font><font style="vertical-align: inherit;">すべてが生成されているため、この情報の使用方法はまだわかりませんが、特定のリクエストが呼び出されたパラメーターを理解することができます。</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">そのため、勝利からほぼ目を離しましたが、結果として、Swagger Diffは、少し異なる概念で動作するため、つまり差動の概念で機能するため、拒否しました。</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Swagger Diffは、カバーされているものではなく、何が変更されたかを示していますが、カバレッジの結果を表示したいと考えました。</font><font style="vertical-align: inherit;">追加のデータがたくさんあり、説明、要約、その他のメタ情報に関する情報が格納されていますが、この情報はありません。</font><font style="vertical-align: inherit;">そして、Diffを作成すると、「このペンには説明がありません」と書いてありましたが、存在しませんでした。</font></font><br>
<br>
<h2><font color="#DB8E0D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自分のレポート</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実装を行ったところ、次のように機能します。自動テストからのファイルが多数あり、SwaggerサービスAPIがあり、それに基づいてレポートを生成します。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
単純なレポートは次のようになります。上には、ペンの総数（349）に関する情報、完全にカバーされている情報（各パラメーター、ステータスコードなど）が表示されます。いくつかのパラメーターをカバーするなど、独自の基準を選択できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここにも40％が部分的にカバーされているという情報があります。つまり、これらのペンのテストはすでに行われていますが、まだカバーされていないものがあるので、慎重に調べる必要があります。空のカバレッジも反映されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/pc/og/p5/pcogp5jnc8m88l8fylt2p2uc0eq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
タブを見ていきましょう。これは</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完全なカバレッジ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">であり、カバーされているすべてのパラメーター、ステータスコードなどが表示されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/9o/gl/2q/9ogl2q9tf_xb1xw9dl9j8sxsku0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分的にカバーし</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">login-socialハンドルでは1つのパラメーターがカバーされており、2つはカバーされていないことがわかります。</font><font style="vertical-align: inherit;">そして、それを展開して、カバーされている特定のパラメーターとステータスコードを確認できます。</font><font style="vertical-align: inherit;">そして、この時点で、開発者にとって非常に便利になります。アプリケーションのバージョンは非常に速くロールバックし、一部のパラメーターを忘れることがよくあります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fo/pf/sc/fopfscyojnuzokszhkw8ntgrqio.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このツールを使用すると、常に良好な状態になり、部分的にカバーした内容、忘れられているパラメーターなどを理解できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後-栄光の栄光、私たちはまだそれをしなければなりません。</font><font style="vertical-align: inherit;">このページを見て、Empty there：172-手を離したら、ハンドテスターに​​自動テストの記述方法を教え始めることがポイントです。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/p8/2k/o5/p82ko5nzine_u6odc8dtl9bho5s.png"><br>
<br>
<h4><font color="#DB8E0D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソリューションを展開したとき、どのようなメリットがありましたか？</font></font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、テストをより有意義に書き始めました。</font><font style="vertical-align: inherit;">テスト中であることを理解しており、同時に2つの戦略があります。</font><font style="vertical-align: inherit;">最初に、手動のテスターが来たときに存在しないものを自動化し、特定のサービスについて、1つの要求が少なくとも1回実行されることが重要であり、Emptyを開きます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2番目のオプション-尾を忘れないでください。</font><font style="vertical-align: inherit;">先ほど言ったように、APIはすぐにリリースされます。1日に2〜3回リリースされることもあります。</font><font style="vertical-align: inherit;">いくつかのパラメーターは常にそこに追加されます。5,000のテストでは、何がチェックされ、何がチェックされないかを理解することは不可能です。</font><font style="vertical-align: inherit;">したがって、これは意識的にテスト戦略を選択し、少なくとも何かを行う唯一の方法です。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3番目の利益は、完全に自動化されたプロセスです。</font><font style="vertical-align: inherit;">私たちはアプローチを借用し、自動化が機能します。何もする必要はなく、すべてが自動的に収集されます。</font></font><br>
<br>
<h4><font color="#DB8E0D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">開発アイデア</font></font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初に、2番目のレポートを保持したくないが、それをSwagger UIに統合したい。</font><font style="vertical-align: inherit;">これは私のお気に入りの「Photoshop Editionレポート」です。最近開発したチップです。</font><font style="vertical-align: inherit;">ここにすぐに、テストしたパラメーターとテストしていないパラメーターに関する情報があります。</font><font style="vertical-align: inherit;">そして、Swaggerを使用してこの情報をすぐに提供できると便利です。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/v6/ll/n8/v6lln82kyue5errknkoxj9mkq-k.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、フロントエンドは、テストされていないパラメーターを自分で確認し、優先順位を付けて、開発に取り込む必要はないものの、それらがどの程度うまく機能しているかがわからないことを判断できます。</font><font style="vertical-align: inherit;">または、バックエンドが新しいペンを書き、赤を見てテスターを蹴り、すべてが緑になるようにします。</font><font style="vertical-align: inherit;">これは非常に簡単です。私たちはこの方向に進んでいます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2番目のアイデアは、他のツールをサポートすることです。</font><font style="vertical-align: inherit;">実際、特定の実装（Java、Pythonなど）用のフィルターを作成したくありません。</font><font style="vertical-align: inherit;">すべてのリクエストを自分自身に渡し、Swagger情報を自分自身のために保存する一種のプロキシを作成するというアイデアがあります。</font><font style="vertical-align: inherit;">したがって、私たちはあなたがどんな言語を持っているかに関係なく使用できるユニバーサルライブラリを用意します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3番目の開発アイデアは、Allure Reportとの統合です。</font><font style="vertical-align: inherit;">私はそれを次のように見ています：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ym/b3/ad/ymb3adazpdly9uhljv8jjqpyg04.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
原則として、パラメーターが「テスト済み」である場合、これは常にそれがどのようにテストされているかを私たちに伝えるとは限りません。</font><font style="vertical-align: inherit;">そして、このパラメーターをポイントして、テストの特定のステップを確認したいと思います。</font></font><br>
<br>
<h4><font color="#DB8E0D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Webテストのカバレッジ</font></font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次にお話ししたいのは、Webテストのカバレッジです。カバレッジは、テストしているサイトに基づいており、サイトでテストを作成しています。ただし、それをカバレッジのWebインターフェイスにすることができます。たとえば、</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vq/1k/tg/vq1ktgatdwq9v-v-fpzz1444hf0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次のようになります。サイトを見ると、これは要素のセットとそれらと対話する方法です。これは完全な説明です：「要素はそれと対話する方法です。」リンクをクリックしたり、テキストをコピーしたり、何かを入力したりできます。サイトは全体として、要素とその相互作用の方法で構成されています。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/f3/07/z-/f307z-lt44swcsgdas_vsspvyrk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テストの実行方法</font><font style="vertical-align: inherit;">：</font><font style="vertical-align: inherit;">テストはある時点から開始され、たとえば、承認フォームなどのフォームに入力してから、他のページに分散し、次に別のページに分散して終了します。 。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
マネージャーが特定のボタンがテストされているかどうかを尋ねたが、この質問に答えるのが難しい場合：コードを開くか、TestRailに移動する必要がある場合、この問題の解決策を見</font></font><br>
<br>
<img src="https://habrastorage.org/webt/hh/7q/mv/hh7qmvkk8gefu94bigbkofhdgak.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たい</font><font style="vertical-align: inherit;">：</font><font style="vertical-align: inherit;">この要素をポイントして、すべてのテストを確認したいこのアイテム。こんな楽器があったら嬉しいです。このアイデアについて考え始めたとき、私たちは最初にYandex.Metricaを見ました。実際には、リンクマップとほぼ同じ機能を備えています。いい考えだ。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
要点は、必要な情報をすでに提供しているかのように、強調表示されていることです。彼らは、「ここでは、このリンクを14回通過しました」と言います。これは、テスト言語に翻訳すると、「14のテストがこのリンクでテストされた」ことを意味し、何とかそれを通過しました。しかし、この赤いリンクには120ものテストが必要でした。興味深いテストです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
あらゆる種類のトレンドを描き、メタ情報を追加できますが、それをすべて取り、テストの観点から描くとどうなりますか？そのため、ある要素をポイントして、テストのリストを含むメモを取得するというタスクがあります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xa/hr/dj/xahrdjma8punc8jmujxg_vwtlvs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを実装するには、アイコンをクリックしてメモを書く必要があります。これがテスト全体です。私たちは私たちの場所でアトラスを使用しており、これまでの統合はそれだけです。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アトラスは次のようになります。</font></font><br>
<br>
<pre><code class="java hljs">SearchPage.open ();<font></font>
SearchPage.offersList().should(hasSizeGreaterThan(<span class="hljs-number">0</span>));
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
少なくとも1つの結果を表示する必要があります。それ以外の場合はテストしません。</font><font style="vertical-align: inherit;">次に、カーソルを要素に移動してクリックします。</font></font><br>
<br>
<pre><code class="java hljs">searchPage.offer(FIRST).moveCursor();<font></font>
searchPage.offer(FIRST).actionBar().note().click();<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">入力User_Text</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に保存して</font><font style="vertical-align: inherit;">送信します。</font></font><br>
<br>
<pre><code class="java hljs">searchPage.offer(FIRST).addNoteInput().sendKeys(USER_TEXT);<font></font>
searchPage.offer(FIRST).saveNote().click();<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その後、テキストが本来あるべきものであることを確認します。</font></font><br>
<br>
<pre><code class="java hljs"> searchPage.offer(FIRST).addNoteInput().should(hasValue(USER_TEXT));
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テストはブラウザーで実行されます。Atlasはこのテストのプロキシです。カバレッジを収集するときに誰もが使用するのと同じアプローチをここで適用します。.jsonでロケーターを作成します。すべてのページの開き、要素を含むすべてのイテレーション、送信者、送信キーの実行者、クリック者、IDなどの情報を保存します。完全なログを保持します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その後、我々は、各テストの形でアリュールにこのログを添付し、そして私たちは多くの持っているとき</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">locators.jsonを</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、我々は生成</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">meta.jsonを</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。スキームはすべての要素で同じです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Google Chromeのプラグインがあります。プラグインの形で決定したかったのです。</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">locators.jsonへの</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スライド</font><i><font style="vertical-align: inherit;">パスに</font></i><font style="vertical-align: inherit;"> 1つの重要な詳細が表示されるように、曲線のスクリーンショットを特別に作成しました</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rx/kg/nz/rxkgnzghdmiw9syocwbkaqx27yy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今レポートを生成した場合、今日のカバレッジマップがあります。過去2週間のレポートを取得してここに貼り付けると、2週間前の期間のカバレッジマップが表示されます。あなたはタイムマシンを持っています！</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、このプラグインをプラグインすると、それほどフレンドリーではないインターフェースが描画されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/mx/q4/vx/mxq4vxhpjqlrewxte3xn_o75upm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
各要素にはそれを通過するいくつかのテストがあります。40のテストが「buy a apartment」を通過することは明らかで、ヘッダーは一度に1つのテストでテストされます。これはクールで、「apartment」オプションも表示されます。完全なカバレッジマップを取得します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ある要素の上にカーソルを合わせると、データが取得され、TMS、アリュールボードなどから実際のテストが印刷されます。結果は、何がどのようにテストされているかに関する完全な情報です。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
各テストから、アリュールレポートで直接失敗する可能性があることに注意してください。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/he/nw/iy/henwiyzy6if8o1ak2ky1i9v2s-e.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
何かを開くと、新しいセレクターが読み込まれます。これらのセレクターを通過するテストがあり、サイトで何かを行った場合は、全体を処理して表示します。</font></font><br>
<br>
<h2><font color="#DB8E0D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">利益は何ですか？</font></font></font></h2><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この単純なアプローチを実装するとすぐに、主に、テストで何をテストしたかを理解し始めました。</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、誰でもスクリプトにアクセスできる「スレッド」を見つけて見つけることができます。たとえば、支払いをテストする必要があると仮定します。支払いは明らかに、支払いボタンを通過します。クリック-支払いボタンを通過するすべてのテストが表示されます。これはいい！それらのいずれかに移動して、スクリプトを表示します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、あなたは以前にテストされたことを理解しています。静的ファイルを生成します。そのファイルへのパスを指定して、2週間前のテストを示すことができます。運用環境にバグがあるとマネージャーが言い、2週間前にこの機能またはその機能をテストしたかどうかを尋ねた場合、たとえば、テストしなかったと言うアリュールレポートを受け取ります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もう1つの利益は、自動化のテスト後のレビューです。その前は、自動化をテストする前にレビューがありましたが、今では、見たとおりにテストを実行できます。テストを実行したい場合-完了、ブランチを取り、Allureを起動し、プラグインへのリンクを手動テスターに​​ドロップして、テストを表示するように求めました。これはまさに、アジャイル戦略を強化できるプロセスです。チームリーダーがコードレビューを行い、手動テスターがテスト（スクリプト）を行います。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このアプローチのもう1つの利点は、頻繁に使用される要素です。 87個のテストがあるこのブロックをオーバーライドすると、それらすべてが失敗します。あなたはあなたのテストがいかにばかげているかを理解し始めます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/x3/jh/ye/x3jhyewo2z60_6-xi5iz6q-2rzs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、「価格」のブロックが覆された場合、それは問題ありません。1つのテストが失敗し、人が修正します。</font><font style="vertical-align: inherit;">87テストでブロックを変更すると、87テストがパスせず、結果をチェックしないため、カバレッジが大幅に低下します。</font><font style="vertical-align: inherit;">このブロックは注意を引く必要があります。</font><font style="vertical-align: inherit;">次に、このブロックにはIDが必要であることを開発者に通知する必要があります。IDが残っていると、すべてがバラバラになるためです。</font></font><br>
<br>
<h2><font color="#DB8E0D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">どのようにさらに発展させることができますか？</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、Selenideなどの他のツールのサポートを開発する方法をたどることができます。特定のSelenideではなく、使用するツールに関係なくロケーターを収集できるようにするドライバーの実装もサポートしたいと思います。このプロキシは情報をダンプして表示します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
別のアイデアは、現在のテスト結果を表示することです。たとえば、手動でテスターに​​そのような写真をすぐに投げると便利</font></font><br>
<br>
<img src="https://habrastorage.org/webt/e4/w-/q8/e4w-q8xjavk2dfern8u_fncyfu4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
です。どのテストが失敗したかを考える必要はありません。サイトにアクセスしてテストをクリックし、他のテストをチェックせずに手で渡すことができるためです。これは簡単です。この情報をAllureから取得して、ここで直接描画できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
誰もがグラフィックを愛しているため、合計スコアを追加することもできます。これは、中心部分が同じで、最初と最後が少し変わった、互いに非常に類似した重複テストに対処したいためです。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/op/lw/xq/oplwxqvq08hv-uaqs3c97owcuxy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、重複するセレクターの数もすぐに確認したいと思います。高い場合は、このページでリファクタリングを実行してテストを実行する必要があります。そうしないと、バンドルが大きくなりすぎます。相互作用する要素の数についても同様です。これはいくつかの一般的な症状です。ただし、ページを操作するとすぐに、新しい要素とテストケースの総数のために図はスキップされます。そのため、何らかの分析を追加する必要がありますが、不必要ではありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらのテストだけでなく、このページにあるすべてのタイプのテスト、場合によっては手動テストも確認したいので、レイヤーごとにテストの分布を追加することもできます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、Javaテストと別のチームが作成したPuppeteerでのテストがある場合、特定のページを見て、テストが交差する場所をすぐに言うことができます。つまり、彼らと同じ言語を話し、この情報を少しずつ収集する必要はありません。 Webインターフェースにすべてを表示するツールがあれば、JavaとPuppeteerのテストを比較するタスクはもはや解決できないようです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後に、一般的な戦略について話しましょう。</font><font style="vertical-align: inherit;">2つの名前が付けられたカバレッジの種類についてはすでに説明しましたが、その結果として使用した3番目のタイプのコーティングが考えられました。</font><font style="vertical-align: inherit;">そのため、この問題を別の角度から検討しました。</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一方で、1963年以来キックされているカバレッジがあり、他方で、コードよりも現実の世界で生活することに慣れている手動テスターがあります。</font><font style="vertical-align: inherit;">これら2つのアプローチを組み合わせるだけです。</font></font><br>
</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
興味のある方はいつでもコミュニティに参加できます。</font><font style="vertical-align: inherit;">カバレッジの問題に対処する2人の担当者のリポジトリを次に示します。</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Swagger-coverage</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ロケーター-ホットスポット-クロム-プラグイン</font></font></a></li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja491826/index.html">バイトリックス 日曜大工の監査</a></li>
<li><a href="../ja491828/index.html">DataMatrixまたは靴に正しくラベルを付ける方法</a></li>
<li><a href="../ja491832/index.html">React Nativeと比較したFlutterの8つのプラス</a></li>
<li><a href="../ja491838/index.html">MIPTがスポーツ番組のオープンオンラインコースを開始</a></li>
<li><a href="../ja491840/index.html">サービスワーカーの作業の視覚化</a></li>
<li><a href="../ja491846/index.html">2つのグラフの同型性の検証と同型サブグラフの検索：NBパス分析に基づくアプローチ</a></li>
<li><a href="../ja491848/index.html">Redux Toolkitは不要ですか？</a></li>
<li><a href="../ja491852/index.html">Flask-DJ：フラスコ上のプロジェクトのDjango（mvc）構造</a></li>
<li><a href="../ja491854/index.html">従業員3万1千人ごとの企業電話</a></li>
<li><a href="../ja491856/index.html">学生と卒業生のためのLinkedIn：最初のステップ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>