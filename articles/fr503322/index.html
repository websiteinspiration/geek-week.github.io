<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏾‍⚕️ 🧕🏾 🔟 Développement de firmware: introduction 👨🏿‍💻 ♠️ 👛</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour, Habr! Je vous présente la traduction des articles de Chris Svec, l'original est ici . Publié avec la permission de l'auteur sous licence CC-A...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Développement de firmware: introduction</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/503322/"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bonjour, Habr! </font><font style="vertical-align: inherit;">Je vous présente la traduction des articles de Chris Svec, l'original est </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Publié avec la permission de l'auteur sous licence </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CC-A-NC-ND</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></i><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Génie logiciel embarqué 101: introduction</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je lance une série de tutoriels sur le développement de firmware. Nous commencerons par décrire un simple microcontrôleur, et après avoir compris comment il fonctionne, nous le développerons pour comprendre comment il fonctionne en ce qui concerne les systèmes complexes tels que Fitbit ou Nest. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai appelé cette série Embedded Software Engineering 101, et elle commence cette semaine ici même sur ce blog. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lisez la suite pour plus d'explications et de détails. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qh/t1/jv/qht1jvvzpmxjwz9c8cpbnhiomgc.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Certains blocs de construction sur d'autres blocs de construction.</font></font></i><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je travaille avec des systèmes embarqués et développe des puces électroniques depuis plus de 14 ans. J'aime les systèmes embarqués - le matériel, les logiciels et les limitations qui les relient. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'électronique amateur et des idées comme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arduino</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adafruit</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sparkfun</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ont permis de </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">lancer</font></a><font style="vertical-align: inherit;"> facilement quelque chose à partir de matériel et de logiciels au cours du week-end (ou d'un mois ou d'un semestre), créant quelque chose de nouveau, d'intéressant et peut même être utile. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'est bien! Donner aux gens la possibilité de créer est une chose incroyable; si je voulais m'exprimer durement, je l'appellerais par aspiration «démocratiser la technologie».</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La plupart des projets amateurs sont ponctuels. Vous collectez quelque chose, le rendez aussi bon que vous avez assez de temps ou d'énergie, et vous passez à autre chose. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai passé ma carrière à l'autre bout du spectre - la création de produits qui sont des centaines de milliers ou des millions ou plus d'exemplaires - et cela nécessite une façon de penser complètement différente et une approche systématique. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je veux enseigner aux gens comment écrire un firmware pour ces types de systèmes. J'ai longtemps nourri cette idée pour le cours / guide / livre / blog Embedded Software Engineering 101, et grâce au blog Embedded.fm, je commence à l'implémenter maintenant.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je suis une personne de type fondamental, donc mon plan est de commencer par les bases, avec une description simple d'un microprocesseur simple, et de développer cette fondation jusqu'à ce que vous compreniez comment fonctionne un système embarqué relativement complexe. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mon objectif est qu'à la fin de ce cycle, vous puissiez comprendre comment fonctionne Fitbit, un thermostat Nest ou un système embarqué similaire. </font><font style="vertical-align: inherit;">Vous pouvez commencer à travailler avec des systèmes logiciels intégrés en utilisant une expérience professionnelle. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le génie logiciel intégré 101 est conçu pour:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diplômés universitaires dans le domaine de l'informatique, de l'ingénierie informatique ou de l'électronique, intéressés par les systèmes embarqués.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les amateurs d'électronique amateur qui veulent comprendre plus en profondeur le fonctionnement de leur système sur Arduino et découvrir comment ils évoluent (et si c'est nécessaire!).</font></font></li>
<li>      ,        ,   .</li>
<li>,       ,    -.</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Qu'est-ce que je veux dire en disant que je suis une «personne de type fondamental»? </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Richard Feynman</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , physicien lauréat du prix Nobel et excellent conteur, l'a exprimé de la meilleure façon possible: "Ce que je ne peux pas recréer, je ne le comprends pas." </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Donc, je ne suis pas Feynman, mais je suis sûr que la meilleure façon de comprendre le système est de commencer par les bases. Fort de cette compréhension, vous pouvez créer des systèmes embarqués simples avec un logiciel simple. Et après avoir compris au départ un programme très simple, vous pouvez le développer en créant des logiciels plus complexes au fur et à mesure que l'expérience grandit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les bases en premier lieu - ce n'est bien sûr que ma conviction personnelle. Beaucoup de gens ont fait des choses utiles avec Arduino sans comprendre aucune des bases. Cette série d'articles s'adresse à ceux qui veulent encore comprendre les bases et tout ce qui en découle.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien sûr, nous devons nous demander - où est le bon niveau pour commencer avec ces «bases» mêmes? Transistors et portes logiques? Non, c'est trop bas pour commencer avec le firmware. Se connecter à des capteurs communs? Non, c'est un niveau trop élevé, il faut trop de connaissances pour commencer. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je pense que le bon niveau de base est le microprocesseur intégré. Il n'est pas nécessaire de comprendre la physique ou l'électronique pour utiliser le microprocesseur intégré; il n'est pas non plus nécessaire d'être un expert en programmation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'est donc là que nous commencerons dans le prochain article.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avertissement sur les préjugés: dans une vie antérieure, j'étais un développeur architecte / processeur. </font><font style="vertical-align: inherit;">Commencer ce cycle en comprenant le fonctionnement du CPU n'est peut-être pas le meilleur moyen de comprendre les systèmes embarqués, mais c'est ainsi que fonctionne mon cerveau. </font><font style="vertical-align: inherit;">Assurez-vous d'essayer d'autres cours / manuels, etc., si vous ne comprenez pas cela après plusieurs articles.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Génie logiciel embarqué 101: bases du microcontrôleur</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous entamerons notre parcours d'Embineering 101 avec un microcontrôleur modeste. Un microcontrôleur (ou microprocesseur) est la pierre angulaire de tous les systèmes informatiques, embarqués et autres. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MK semble assez compliqué, mais il se compose de trois choses simples: instructions, registres et mémoire. Les instructions sont ces choses que le microcontrôleur sait comment exécuter. Un simple MK est capable d'exécuter moins - il peut avoir, par exemple, 20 ou 30 instructions. Plus tard dans ce cycle, j'utiliserai le microcontrôleur MSP430 de Texas Instruments, qui ne contient que 27 instructions. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/iu/ej/aa/iuejaatxtmpv26vkwkoupso0eic.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Juste une photo de MK (TI MSP430F5529)</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ces 27 instructions sont les seules choses que le MSP430 peut faire. Il peut ajouter deux nombres, soustraire un autre d'un numéro, déplacer des numéros d'un endroit à un autre ou effectuer 24 autres opérations simples. 27 opérations peuvent ne pas sembler suffisantes pour faire quoi que ce soit d'utile, mais en réalité elles seront suffisantes en excès pour mener à bien tout programme envisageable. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eh bien, cela signifie que le microcontrôleur a des instructions qui font quelque chose avec les chiffres. Mais où sont ces chiffres? Registres et mémoire! Les instructions fonctionnent avec des nombres qui sont stockés dans des registres et de la mémoire. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les registres sont un référentiel très rapide contenant des nombres qui fonctionnent sur des instructions. Vous pouvez les considérer comme un bloc-notes utilisé par des instructions. MK contient peu de registres, généralement 8-32. Par exemple, le MSP430 possède 16 registres.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La mémoire est également un stockage de nombres, mais elle est beaucoup plus grande et plus lente que les registres. Le microcontrôleur peut avoir 64 Ko, 256 Ko ou même plus de 1 Mo de mémoire. Le MSP430F5529 possède environ 128 Ko de mémoire; c'est plus de 8 000 fois le nombre de ses registres! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avant de commencer à examiner des exemples, je vous exhorte à vous procurer un morceau de papier et un stylo ou un crayon et à étudier ces exemples pendant que vous lisez. Il est plus difficile de les étudier sur papier que de simplement lire ce que j'ai écrit. Ainsi, vous aborderez soigneusement le processus, et les chances de mémoriser les savants seront plus élevées. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Regardons un exemple fictif mais caractéristique d'un microcontrôleur.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Disons que notre MK possède 4 registres et 8 cellules mémoire. Les registres sont généralement appelés de manière créative, par exemple, «R0», «R1», etc., et nous ferons de même. Les cellules de mémoire sont généralement référencées par leurs nombres, également appelés adresses de mémoire, commençant à la numérotation 0. Voici à quoi ressembleront nos registres et notre mémoire: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/81/oy/up/81oyupyasmwundb235_kgf-uwuw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et maintenant je vais y mettre quelques valeurs: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/n5/y-/gf/n5y-gfwfebw0mhun48svuowdf3o.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, notre microcontrôleur fictif a besoin de quelques instructions.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'ensemble d'instructions que MK connaît est appelé son ensemble d'instructions. Supposons que dans le jeu, il y aura trois instructions: ADD (ajouter), SUB (abréviation de "soustraire" - soustraire) et MOVE (déplacer). Les instructions doivent obtenir les numéros à partir desquels elles opèrent quelque part, et également placer leurs résultats quelque part, de sorte que certaines d'entre elles contiennent des informations sur l'emplacement des données d'entrée et de sortie. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, laissez notre instruction ADD avoir deux sources et un récepteur de données, et tous doivent être des registres. Le manuel peut décrire cette instruction comme ceci:</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ADD regist, regPrm </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'instruction ADD ajoute la valeur du registre regGist à la valeur du registre regPrm et enregistre le résultat dans le registre regPrm </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Résumé: regPrm = regGist + regPrm </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Exemple: ADD R1, R2 effectue l'opération R2 = R1 + R2</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il est généralement accepté dans les instructions d'utiliser également l'une des sources comme récepteur, comme le fait l'instruction ADD, en utilisant regPrm comme source et récepteur de données. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
"ADD R1, R2" est un langage assembleur pour un microcontrôleur, c'est un langage de programmation natif MK. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Définissons SUB dans le même style:</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Registres SUB, regrpm </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'instruction SUB soustrait la valeur du registre regist de la valeur du registre regprm et stocke le résultat dans le registre regprm </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Résumé: regPrm = regPrm - registres </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Exemple: SUB R3, R0 exécute l'opération R0 = R0 - R3</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Enfin, laissez l'instruction MOVE avoir une source et un récepteur, et soit:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">les deux arguments sont des registres, soit</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l'un est un registre et l'autre est un emplacement mémoire.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le guide du jeu d'instructions se lira comme suit:</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Registre MOVE, registre </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. </font><font style="vertical-align: inherit;">Registre </font><font style="vertical-align: inherit;">MOVE, reg </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. Registre MOVE, rem </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'instruction MOVE copie les données de l'argument East dans l'argument Prm. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Résumé: Il existe trois types d'instructions MOVE </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. regPrm = </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
regist 2.regPm = memist </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. memPm = reg </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Exemple: Je montrerai des exemples de l'instruction MOVE plus loin dans ce post.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une remarque sur le mot «déplacer» utilisé pour cette instruction: la plupart des jeux d'instructions l'utilisent, bien qu'en réalité les données soient copiées et non déplacées. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le nom «move» peut donner l'impression que l'opérande source de l'instruction est détruit ou effacé, mais en fait il reste seul, seul le récepteur est modifié. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Passons en revue quelques exemples en utilisant notre microcontrôleur fictif. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au début, nos registres et notre mémoire ressemblent à ceci: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/n5/y-/gf/n5y-gfwfebw0mhun48svuowdf3o.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, nous exécutons l'instruction suivante sur le MK:</font></font><br>
<br>
<pre><code class="plaintext hljs">ADD R1, R2</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il prend la valeur de R1, l'ajoute à la valeur de R2 et stocke le résultat dans R2. </font><font style="vertical-align: inherit;">Le processeur exécute la plupart des instructions en une seule opération, mais je diviserai l'exécution de chaque instruction ADD, SUB et MOVE en plusieurs étapes avec la flèche "=&gt;" passant par les remplacements (registre / mémoire =&gt; valeur):</font></font><br>
<br>
<pre><code class="plaintext hljs">R2 = R1 + R2 =&gt;<font></font>
R2 = 37 + 100 =&gt;<font></font>
R2 = 137</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Après avoir exécuté cette instruction, la mémoire est inchangée, mais les registres se présentent maintenant comme suit, avec la valeur modifiée écrite en rouge: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ys/nz/ps/ysnzpsf8dzdbyzqmnvncdxjatbe.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Notez que R1 est inchangé; </font><font style="vertical-align: inherit;">seul le registre récepteur R2 a changé. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Essayons maintenant l'instruction SUB:</font></font><br>
<br>
<pre><code class="plaintext hljs">SUB R3, R0</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Elle prend la valeur de R3, la soustrait de la valeur de R0 et stocke le résultat dans R0:</font></font><br>
<br>
<pre><code class="plaintext hljs">R0 = R0 - R3 =&gt;<font></font>
R0 = 42 - 2 =&gt;<font></font>
R0 = 40</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Après avoir exécuté cette instruction, la mémoire est inchangée, mais les registres ressemblent maintenant à ceci: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sp/21/wm/sp21wmmbqgn3ihi8lbyzsbumohc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Enfin, essayons quelques versions de l'instruction MOVE:</font></font><br>
<br>
<pre><code class="plaintext hljs">MOVE R2, R0</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette instruction MOVE copie la valeur de R2 à R0:</font></font><br>
<br>
<pre><code class="plaintext hljs">R0 = R2 =&gt;<font></font>
R0 = 137</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et maintenant, les registres ressemblent à ceci: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vl/iu/d-/vliud-kydqc4invua-jnrtrdgig.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, nous copions le registre dans la mémoire:</font></font><br>
<br>
<pre><code class="plaintext hljs">MOVE R3, [3]</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette instruction MOVE copie R3 dans l'emplacement de mémoire 3. </font><font style="vertical-align: inherit;">Les crochets dans notre jeu d'instructions sont les cellules de mémoire.</font></font><br>
<br>
<pre><code class="plaintext hljs">[3] = R3 =&gt;<font></font>
[3] = 2</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les registres sont inchangés, mais la mémoire change: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gi/k1/we/gik1wejnfubjv0akvbq67yy91xw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et pour notre dernier exemple, nous copions la valeur de la mémoire à enregistrer:</font></font><br>
<br>
<pre><code class="plaintext hljs">MOVE [6], R0</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici, la valeur de la cellule mémoire 6 est copiée dans le registre R0:</font></font><br>
<br>
<pre><code class="plaintext hljs">R0 = [6] =&gt;<font></font>
R0 = 1</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La mémoire est immuable et les registres ressemblent maintenant à ceci: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/st/62/cy/st62cygqqyiyqoou-tzrfxmxa8c.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
croyez-le ou non, mais si vous comprenez la plupart de ce que nous venons de discuter sur les instructions, les registres et la mémoire, vous comprenez les bases des microcontrôleurs et du langage d'assemblage. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien sûr, j'ai omis de nombreux détails. </font><font style="vertical-align: inherit;">Par exemple, comment MK obtient-il les instructions à exécuter? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y a-t-il des instructions plus intéressantes que de simples instructions mathématiques et de copie? </font><font style="vertical-align: inherit;">La mémoire est-elle la même que la RAM ou le flash, ou non? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous répondrons à ces questions dans le prochain article.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr503300/index.html">Le livre «Rick et Morty. Guide du dessin animé le plus brillant de toutes les galaxies »</a></li>
<li><a href="../fr503302/index.html">Accélérer la construction d'un projet sur CMake + GCC: précompilation des fichiers d'en-tête</a></li>
<li><a href="../fr503310/index.html">Que pensent les programmeurs seniors?</a></li>
<li><a href="../fr503312/index.html">Comment provoquer une fuite de mémoire dans une application Angular?</a></li>
<li><a href="../fr503318/index.html">Profession: Programmeur. Tout n'est pas clair</a></li>
<li><a href="../fr503324/index.html">«Au sommet» de Brad Stalberg et Steve Magness: prévention de la combustion spontanée (première partie)</a></li>
<li><a href="../fr503328/index.html">Nous compilons l'application Spring Boot en natif à l'aide de GraalVM</a></li>
<li><a href="../fr503330/index.html">Comment apprendre d'un data scientist: les compétences techniques les plus recherchées</a></li>
<li><a href="../fr503338/index.html">Mes oeuvres pour Outline 2020</a></li>
<li><a href="../fr503342/index.html">Le modèle macroéconomique le plus simple et les tendances en matière de support des informations de marché</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>