<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèæ‚Äç‚öïÔ∏è üßïüèæ üîü D√©veloppement de firmware: introduction üë®üèø‚Äçüíª ‚ô†Ô∏è üëõ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour, Habr! Je vous pr√©sente la traduction des articles de Chris Svec, l'original est ici . Publi√© avec la permission de l'auteur sous licence CC-A...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>D√©veloppement de firmware: introduction</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/503322/"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bonjour, Habr! </font><font style="vertical-align: inherit;">Je vous pr√©sente la traduction des articles de Chris Svec, l'original est </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Publi√© avec la permission de l'auteur sous licence </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CC-A-NC-ND</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></i><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">G√©nie logiciel embarqu√© 101: introduction</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je lance une s√©rie de tutoriels sur le d√©veloppement de firmware. Nous commencerons par d√©crire un simple microcontr√¥leur, et apr√®s avoir compris comment il fonctionne, nous le d√©velopperons pour comprendre comment il fonctionne en ce qui concerne les syst√®mes complexes tels que Fitbit ou Nest. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai appel√© cette s√©rie Embedded Software Engineering 101, et elle commence cette semaine ici m√™me sur ce blog. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lisez la suite pour plus d'explications et de d√©tails. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qh/t1/jv/qht1jvvzpmxjwz9c8cpbnhiomgc.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Certains blocs de construction sur d'autres blocs de construction.</font></font></i><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je travaille avec des syst√®mes embarqu√©s et d√©veloppe des puces √©lectroniques depuis plus de 14 ans. J'aime les syst√®mes embarqu√©s - le mat√©riel, les logiciels et les limitations qui les relient. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'√©lectronique amateur et des id√©es comme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arduino</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adafruit</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sparkfun</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ont permis de </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">lancer</font></a><font style="vertical-align: inherit;"> facilement quelque chose √† partir de mat√©riel et de logiciels au cours du week-end (ou d'un mois ou d'un semestre), cr√©ant quelque chose de nouveau, d'int√©ressant et peut m√™me √™tre utile. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'est bien! Donner aux gens la possibilit√© de cr√©er est une chose incroyable; si je voulais m'exprimer durement, je l'appellerais par aspiration ¬´d√©mocratiser la technologie¬ª.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La plupart des projets amateurs sont ponctuels. Vous collectez quelque chose, le rendez aussi bon que vous avez assez de temps ou d'√©nergie, et vous passez √† autre chose. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai pass√© ma carri√®re √† l'autre bout du spectre - la cr√©ation de produits qui sont des centaines de milliers ou des millions ou plus d'exemplaires - et cela n√©cessite une fa√ßon de penser compl√®tement diff√©rente et une approche syst√©matique. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je veux enseigner aux gens comment √©crire un firmware pour ces types de syst√®mes. J'ai longtemps nourri cette id√©e pour le cours / guide / livre / blog Embedded Software Engineering 101, et gr√¢ce au blog Embedded.fm, je commence √† l'impl√©menter maintenant.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je suis une personne de type fondamental, donc mon plan est de commencer par les bases, avec une description simple d'un microprocesseur simple, et de d√©velopper cette fondation jusqu'√† ce que vous compreniez comment fonctionne un syst√®me embarqu√© relativement complexe. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mon objectif est qu'√† la fin de ce cycle, vous puissiez comprendre comment fonctionne Fitbit, un thermostat Nest ou un syst√®me embarqu√© similaire. </font><font style="vertical-align: inherit;">Vous pouvez commencer √† travailler avec des syst√®mes logiciels int√©gr√©s en utilisant une exp√©rience professionnelle. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le g√©nie logiciel int√©gr√© 101 est con√ßu pour:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dipl√¥m√©s universitaires dans le domaine de l'informatique, de l'ing√©nierie informatique ou de l'√©lectronique, int√©ress√©s par les syst√®mes embarqu√©s.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les amateurs d'√©lectronique amateur qui veulent comprendre plus en profondeur le fonctionnement de leur syst√®me sur Arduino et d√©couvrir comment ils √©voluent (et si c'est n√©cessaire!).</font></font></li>
<li>      ,        ,   .</li>
<li>,       ,    -.</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Qu'est-ce que je veux dire en disant que je suis une ¬´personne de type fondamental¬ª? </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Richard Feynman</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , physicien laur√©at du prix Nobel et excellent conteur, l'a exprim√© de la meilleure fa√ßon possible: "Ce que je ne peux pas recr√©er, je ne le comprends pas." </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Donc, je ne suis pas Feynman, mais je suis s√ªr que la meilleure fa√ßon de comprendre le syst√®me est de commencer par les bases. Fort de cette compr√©hension, vous pouvez cr√©er des syst√®mes embarqu√©s simples avec un logiciel simple. Et apr√®s avoir compris au d√©part un programme tr√®s simple, vous pouvez le d√©velopper en cr√©ant des logiciels plus complexes au fur et √† mesure que l'exp√©rience grandit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les bases en premier lieu - ce n'est bien s√ªr que ma conviction personnelle. Beaucoup de gens ont fait des choses utiles avec Arduino sans comprendre aucune des bases. Cette s√©rie d'articles s'adresse √† ceux qui veulent encore comprendre les bases et tout ce qui en d√©coule.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien s√ªr, nous devons nous demander - o√π est le bon niveau pour commencer avec ces ¬´bases¬ª m√™mes? Transistors et portes logiques? Non, c'est trop bas pour commencer avec le firmware. Se connecter √† des capteurs communs? Non, c'est un niveau trop √©lev√©, il faut trop de connaissances pour commencer. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je pense que le bon niveau de base est le microprocesseur int√©gr√©. Il n'est pas n√©cessaire de comprendre la physique ou l'√©lectronique pour utiliser le microprocesseur int√©gr√©; il n'est pas non plus n√©cessaire d'√™tre un expert en programmation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'est donc l√† que nous commencerons dans le prochain article.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avertissement sur les pr√©jug√©s: dans une vie ant√©rieure, j'√©tais un d√©veloppeur architecte / processeur. </font><font style="vertical-align: inherit;">Commencer ce cycle en comprenant le fonctionnement du CPU n'est peut-√™tre pas le meilleur moyen de comprendre les syst√®mes embarqu√©s, mais c'est ainsi que fonctionne mon cerveau. </font><font style="vertical-align: inherit;">Assurez-vous d'essayer d'autres cours / manuels, etc., si vous ne comprenez pas cela apr√®s plusieurs articles.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">G√©nie logiciel embarqu√© 101: bases du microcontr√¥leur</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous entamerons notre parcours d'Embineering 101 avec un microcontr√¥leur modeste. Un microcontr√¥leur (ou microprocesseur) est la pierre angulaire de tous les syst√®mes informatiques, embarqu√©s et autres. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MK semble assez compliqu√©, mais il se compose de trois choses simples: instructions, registres et m√©moire. Les instructions sont ces choses que le microcontr√¥leur sait comment ex√©cuter. Un simple MK est capable d'ex√©cuter moins - il peut avoir, par exemple, 20 ou 30 instructions. Plus tard dans ce cycle, j'utiliserai le microcontr√¥leur MSP430 de Texas Instruments, qui ne contient que 27 instructions. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/iu/ej/aa/iuejaatxtmpv26vkwkoupso0eic.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Juste une photo de MK (TI MSP430F5529)</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ces 27 instructions sont les seules choses que le MSP430 peut faire. Il peut ajouter deux nombres, soustraire un autre d'un num√©ro, d√©placer des num√©ros d'un endroit √† un autre ou effectuer 24 autres op√©rations simples. 27 op√©rations peuvent ne pas sembler suffisantes pour faire quoi que ce soit d'utile, mais en r√©alit√© elles seront suffisantes en exc√®s pour mener √† bien tout programme envisageable. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eh bien, cela signifie que le microcontr√¥leur a des instructions qui font quelque chose avec les chiffres. Mais o√π sont ces chiffres? Registres et m√©moire! Les instructions fonctionnent avec des nombres qui sont stock√©s dans des registres et de la m√©moire. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les registres sont un r√©f√©rentiel tr√®s rapide contenant des nombres qui fonctionnent sur des instructions. Vous pouvez les consid√©rer comme un bloc-notes utilis√© par des instructions. MK contient peu de registres, g√©n√©ralement 8-32. Par exemple, le MSP430 poss√®de 16 registres.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La m√©moire est √©galement un stockage de nombres, mais elle est beaucoup plus grande et plus lente que les registres. Le microcontr√¥leur peut avoir 64 Ko, 256 Ko ou m√™me plus de 1 Mo de m√©moire. Le MSP430F5529 poss√®de environ 128 Ko de m√©moire; c'est plus de 8 000 fois le nombre de ses registres! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avant de commencer √† examiner des exemples, je vous exhorte √† vous procurer un morceau de papier et un stylo ou un crayon et √† √©tudier ces exemples pendant que vous lisez. Il est plus difficile de les √©tudier sur papier que de simplement lire ce que j'ai √©crit. Ainsi, vous aborderez soigneusement le processus, et les chances de m√©moriser les savants seront plus √©lev√©es. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Regardons un exemple fictif mais caract√©ristique d'un microcontr√¥leur.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Disons que notre MK poss√®de 4 registres et 8 cellules m√©moire. Les registres sont g√©n√©ralement appel√©s de mani√®re cr√©ative, par exemple, ¬´R0¬ª, ¬´R1¬ª, etc., et nous ferons de m√™me. Les cellules de m√©moire sont g√©n√©ralement r√©f√©renc√©es par leurs nombres, √©galement appel√©s adresses de m√©moire, commen√ßant √† la num√©rotation 0. Voici √† quoi ressembleront nos registres et notre m√©moire: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/81/oy/up/81oyupyasmwundb235_kgf-uwuw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et maintenant je vais y mettre quelques valeurs: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/n5/y-/gf/n5y-gfwfebw0mhun48svuowdf3o.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, notre microcontr√¥leur fictif a besoin de quelques instructions.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'ensemble d'instructions que MK conna√Æt est appel√© son ensemble d'instructions. Supposons que dans le jeu, il y aura trois instructions: ADD (ajouter), SUB (abr√©viation de "soustraire" - soustraire) et MOVE (d√©placer). Les instructions doivent obtenir les num√©ros √† partir desquels elles op√®rent quelque part, et √©galement placer leurs r√©sultats quelque part, de sorte que certaines d'entre elles contiennent des informations sur l'emplacement des donn√©es d'entr√©e et de sortie. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, laissez notre instruction ADD avoir deux sources et un r√©cepteur de donn√©es, et tous doivent √™tre des registres. Le manuel peut d√©crire cette instruction comme ceci:</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ADD regist, regPrm </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'instruction ADD ajoute la valeur du registre regGist √† la valeur du registre regPrm et enregistre le r√©sultat dans le registre regPrm </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
R√©sum√©: regPrm = regGist + regPrm </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Exemple: ADD R1, R2 effectue l'op√©ration R2 = R1 + R2</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il est g√©n√©ralement accept√© dans les instructions d'utiliser √©galement l'une des sources comme r√©cepteur, comme le fait l'instruction ADD, en utilisant regPrm comme source et r√©cepteur de donn√©es. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
"ADD R1, R2" est un langage assembleur pour un microcontr√¥leur, c'est un langage de programmation natif MK. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D√©finissons SUB dans le m√™me style:</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Registres SUB, regrpm </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'instruction SUB soustrait la valeur du registre regist de la valeur du registre regprm et stocke le r√©sultat dans le registre regprm </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
R√©sum√©: regPrm = regPrm - registres </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Exemple: SUB R3, R0 ex√©cute l'op√©ration R0 = R0 - R3</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Enfin, laissez l'instruction MOVE avoir une source et un r√©cepteur, et soit:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">les deux arguments sont des registres, soit</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l'un est un registre et l'autre est un emplacement m√©moire.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le guide du jeu d'instructions se lira comme suit:</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Registre MOVE, registre </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. </font><font style="vertical-align: inherit;">Registre </font><font style="vertical-align: inherit;">MOVE, reg </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. Registre MOVE, rem </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'instruction MOVE copie les donn√©es de l'argument East dans l'argument Prm. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
R√©sum√©: Il existe trois types d'instructions MOVE </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. regPrm = </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
regist 2.regPm = memist </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. memPm = reg </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Exemple: Je montrerai des exemples de l'instruction MOVE plus loin dans ce post.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une remarque sur le mot ¬´d√©placer¬ª utilis√© pour cette instruction: la plupart des jeux d'instructions l'utilisent, bien qu'en r√©alit√© les donn√©es soient copi√©es et non d√©plac√©es. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le nom ¬´move¬ª peut donner l'impression que l'op√©rande source de l'instruction est d√©truit ou effac√©, mais en fait il reste seul, seul le r√©cepteur est modifi√©. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Passons en revue quelques exemples en utilisant notre microcontr√¥leur fictif. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au d√©but, nos registres et notre m√©moire ressemblent √† ceci: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/n5/y-/gf/n5y-gfwfebw0mhun48svuowdf3o.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, nous ex√©cutons l'instruction suivante sur le MK:</font></font><br>
<br>
<pre><code class="plaintext hljs">ADD R1, R2</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il prend la valeur de R1, l'ajoute √† la valeur de R2 et stocke le r√©sultat dans R2. </font><font style="vertical-align: inherit;">Le processeur ex√©cute la plupart des instructions en une seule op√©ration, mais je diviserai l'ex√©cution de chaque instruction ADD, SUB et MOVE en plusieurs √©tapes avec la fl√®che "=&gt;" passant par les remplacements (registre / m√©moire =&gt; valeur):</font></font><br>
<br>
<pre><code class="plaintext hljs">R2 = R1 + R2 =&gt;<font></font>
R2 = 37 + 100 =&gt;<font></font>
R2 = 137</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s avoir ex√©cut√© cette instruction, la m√©moire est inchang√©e, mais les registres se pr√©sentent maintenant comme suit, avec la valeur modifi√©e √©crite en rouge: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ys/nz/ps/ysnzpsf8dzdbyzqmnvncdxjatbe.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Notez que R1 est inchang√©; </font><font style="vertical-align: inherit;">seul le registre r√©cepteur R2 a chang√©. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Essayons maintenant l'instruction SUB:</font></font><br>
<br>
<pre><code class="plaintext hljs">SUB R3, R0</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Elle prend la valeur de R3, la soustrait de la valeur de R0 et stocke le r√©sultat dans R0:</font></font><br>
<br>
<pre><code class="plaintext hljs">R0 = R0 - R3 =&gt;<font></font>
R0 = 42 - 2 =&gt;<font></font>
R0 = 40</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s avoir ex√©cut√© cette instruction, la m√©moire est inchang√©e, mais les registres ressemblent maintenant √† ceci: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sp/21/wm/sp21wmmbqgn3ihi8lbyzsbumohc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Enfin, essayons quelques versions de l'instruction MOVE:</font></font><br>
<br>
<pre><code class="plaintext hljs">MOVE R2, R0</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette instruction MOVE copie la valeur de R2 √† R0:</font></font><br>
<br>
<pre><code class="plaintext hljs">R0 = R2 =&gt;<font></font>
R0 = 137</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et maintenant, les registres ressemblent √† ceci: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vl/iu/d-/vliud-kydqc4invua-jnrtrdgig.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, nous copions le registre dans la m√©moire:</font></font><br>
<br>
<pre><code class="plaintext hljs">MOVE R3, [3]</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette instruction MOVE copie R3 dans l'emplacement de m√©moire 3. </font><font style="vertical-align: inherit;">Les crochets dans notre jeu d'instructions sont les cellules de m√©moire.</font></font><br>
<br>
<pre><code class="plaintext hljs">[3] = R3 =&gt;<font></font>
[3] = 2</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les registres sont inchang√©s, mais la m√©moire change: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gi/k1/we/gik1wejnfubjv0akvbq67yy91xw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et pour notre dernier exemple, nous copions la valeur de la m√©moire √† enregistrer:</font></font><br>
<br>
<pre><code class="plaintext hljs">MOVE [6], R0</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici, la valeur de la cellule m√©moire 6 est copi√©e dans le registre R0:</font></font><br>
<br>
<pre><code class="plaintext hljs">R0 = [6] =&gt;<font></font>
R0 = 1</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La m√©moire est immuable et les registres ressemblent maintenant √† ceci: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/st/62/cy/st62cygqqyiyqoou-tzrfxmxa8c.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
croyez-le ou non, mais si vous comprenez la plupart de ce que nous venons de discuter sur les instructions, les registres et la m√©moire, vous comprenez les bases des microcontr√¥leurs et du langage d'assemblage. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien s√ªr, j'ai omis de nombreux d√©tails. </font><font style="vertical-align: inherit;">Par exemple, comment MK obtient-il les instructions √† ex√©cuter? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y a-t-il des instructions plus int√©ressantes que de simples instructions math√©matiques et de copie? </font><font style="vertical-align: inherit;">La m√©moire est-elle la m√™me que la RAM ou le flash, ou non? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous r√©pondrons √† ces questions dans le prochain article.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr503300/index.html">Le livre ¬´Rick et Morty. Guide du dessin anim√© le plus brillant de toutes les galaxies ¬ª</a></li>
<li><a href="../fr503302/index.html">Acc√©l√©rer la construction d'un projet sur CMake + GCC: pr√©compilation des fichiers d'en-t√™te</a></li>
<li><a href="../fr503310/index.html">Que pensent les programmeurs seniors?</a></li>
<li><a href="../fr503312/index.html">Comment provoquer une fuite de m√©moire dans une application Angular?</a></li>
<li><a href="../fr503318/index.html">Profession: Programmeur. Tout n'est pas clair</a></li>
<li><a href="../fr503324/index.html">¬´Au sommet¬ª de Brad Stalberg et Steve Magness: pr√©vention de la combustion spontan√©e (premi√®re partie)</a></li>
<li><a href="../fr503328/index.html">Nous compilons l'application Spring Boot en natif √† l'aide de GraalVM</a></li>
<li><a href="../fr503330/index.html">Comment apprendre d'un data scientist: les comp√©tences techniques les plus recherch√©es</a></li>
<li><a href="../fr503338/index.html">Mes oeuvres pour Outline 2020</a></li>
<li><a href="../fr503342/index.html">Le mod√®le macro√©conomique le plus simple et les tendances en mati√®re de support des informations de march√©</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>