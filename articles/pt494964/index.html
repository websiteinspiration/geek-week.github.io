<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèº‚Äçüíª ü¶è üéÖüèø Redes neurais e com√©rcio. Implementa√ß√£o pr√°tica üå≥ üëßüèª üì°</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A moda de negocia√ß√£o est√° passando por altos e baixos, juntamente com a taxa de c√¢mbio do Bitcoin. Agora, este t√≥pico est√° em um ponto baixo ap√≥s um c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Redes neurais e com√©rcio. Implementa√ß√£o pr√°tica</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/494964/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A moda de negocia√ß√£o est√° passando por altos e baixos, juntamente com a taxa de c√¢mbio do Bitcoin. Agora, este t√≥pico est√° em um ponto baixo ap√≥s um crescimento incr√≠vel em 2018. Muitos durante esse tempo conseguiram se familiarizar com as trocas de criptomoedas - eles se aprofundaram no assunto, estudaram, negociaram, perderam dinheiro e at√© ganharam algumas vezes. Como resultado, a moda passou, mas a experi√™ncia permaneceu, embora negativa. As palavras ‚Äúlong‚Äù, ‚Äúshort‚Äù, ‚Äúspread‚Äù, ‚Äúdiver‚Äù podem ser ouvidas daqueles de quem voc√™ certamente n√£o espera isso. Mas n√£o apenas o com√©rcio de ‚Äúm√£os‚Äù atraiu a aten√ß√£o, tamb√©m existem bots de negocia√ß√£o. O que temos nesta √°rea, qual √© a experi√™ncia dos √∫ltimos 2-3 anos falando?</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Infelizmente, tamb√©m n√£o h√° nada de bom nessa √°rea. Existem muitas ferramentas para escrever bots de negocia√ß√£o, mas n√£o existem estrat√©gias estavelmente lucrativas. Na melhor das hip√≥teses, uma solu√ß√£o funcional precisa ser constantemente atendida por um par de configura√ß√µes de comerciante-programador que mudam para o mercado atual. O resultado padr√£o ap√≥s conectar um bot totalmente aut√¥nomo ao dep√≥sito √© drenar o dep√≥sito.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A √∫ltima esperan√ßa permanece - redes neurais. Isso certamente deve acontecer, porque a rede neural aprende como pessoa e se adapta ao mercado. Como voc√™ est√° nessa √°rea? Bem ... voc√™ adivinhou. Tudo est√° ruim, fala-se muito, mas n√£o h√° solu√ß√µes funcionais. Tudo est√° muito ruim! Um exemplo v√≠vido disso √© a loja de aplicativos da comunidade MQL5. Por tr√°s da marca MQL5 h√° uma plataforma de negocia√ß√£o profissional - MetaTrader5, al√©m de uma enorme comunidade de comerciantes e programadores. Portanto, nesta loja, h√° uma se√ß√£o para solu√ß√µes baseadas em redes neurais, existem muitos bots, mas nenhum real. Adicionar um bot usando uma rede neural √© proibido pelas regras. √â dif√≠cil de acreditar, mas √©. A proibi√ß√£o de conectar uma API externa exclui a possibilidade de usar redes neurais, e as ferramentas incorporadas no MQL5 n√£o funcionam na pr√°tica. Eu discuti esse problema com o suporte t√©cnico do MQL5,N√£o recebi uma resposta clara. Como resultado, n√£o h√° nada realmente pronto no mercado, as solu√ß√µes da s√©rie "ensine a si mesmo", apresentadas no github, n√£o s√£o levadas em considera√ß√£o.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ok, estou terminando a introdu√ß√£o, estou come√ßando a trabalhar. Consegui treinar uma rede neural, existem resultados dignos no mercado real. Al√©m disso, sem entrar em detalhes, descreverei como isso foi feito.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O primeiro e principal erro de quem est√° tentando ensinar a rede neural a negociar √© o pensamento comercial sobre o mercado. Normalmente, um profissional tenta implementar uma solu√ß√£o baseada em redes neurais junto com um programador que j√° escreveu bots. O algoritmo do bot de negocia√ß√£o resolve o problema de encontrar o ponto de entrada correto para a posi√ß√£o e determinar o "take" e "stop". Se voc√™ tiver essa tarefa em mente ao projetar uma rede neural, nada funcionar√°. Voc√™ pode escolher infinitamente op√ß√µes engenhosas para inserir dados, aplicar ou n√£o fornecer indicadores, experimentar diferentes tipos de redes neurais, substituir muletas como treinamento apenas em determinadas √°reas ou treinar mostrando apenas padr√µes conhecidos. N√£o funciona.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Com uma rede neural, voc√™ precisa parecer uma crian√ßa, olhar o mundo atrav√©s dos olhos dela e come√ßar com tarefas simples. A pergunta mais simples que pode ser feita √© "onde o pre√ßo passar√° por X velas, para cima ou para baixo?". N√£o importa quanto o pre√ßo muda e n√£o importa que a resposta n√£o possa ser transformada em uma estrat√©gia de negocia√ß√£o. Esquecemos a negocia√ß√£o, agora a principal tarefa √© educar a rede pelo menos alguma coisa, basta obter a resposta certa.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu resolvi essa tarefa inicial ap√≥s 100.500 sele√ß√µes de entrada. </font><font style="vertical-align: inherit;">Utilizou o TensoFlow plus Keras, uma rede de Sequental Dense. </font><font style="vertical-align: inherit;">Conjunto de dados de entrada para 200 a 300 mil exemplos, recurso de vetor de entrada 250 a 350. </font><font style="vertical-align: inherit;">A forma da resposta segue a rede colocada da pergunta - a classifica√ß√£o bin√°ria ‚Äúup‚Äù ou ‚Äúdown‚Äù. </font><font style="vertical-align: inherit;">A entrada foi preparada pelo bot no MQL5. </font><font style="vertical-align: inherit;">Um bot percorrendo uma hist√≥ria forma um arquivo csv comum, cada linha √© um vetor. </font><font style="vertical-align: inherit;">No final de cada vetor, a resposta correta √© 1: 0 se estiver ativo, 0: 1 se estiver inativo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui est√£o algumas sugest√µes para quem tenta:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ele estuda bem dentro da previs√£o de 15 minutos a 60 minutos. </font><font style="vertical-align: inherit;">Em um per√≠odo mais curto, o caos do movimento dos pre√ßos cresce, em um per√≠odo maior a influ√™ncia externa aumenta - not√≠cias e assim por diante, 15 a 60 minutos, a zona mais "t√©cnica".</font></font></li>
<li>     BTCUSD,    EURUSD.   ‚Äî  .</li>
<li>     ¬´     ?     ?¬ª.          ,   .</li>
<li>               ,   50%  .   ,      .</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ precisa entender com qual material estamos lidando. O mercado √© um caos de 95%. Quando enviamos dados de treinamento para a rede e indicamos a resposta correta, estamos realmente alimentando o caos. √â como tentar treinar uma rede neural para distinguir um gato de um cachorro, e no treinamento para mostrar borboletas, estrelas e signos do zod√≠aco, n√£o haver√° resultado. Por isso, est√° aqui, mas, felizmente, o mercado fornece cerca de 5% dos padr√µes realmente funcionais que a rede pode capturar e isso ser√° refletido em suas respostas. Portanto, preste aten√ß√£o √† an√°lise dos resultados do teste. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Usando essa abordagem, obtive o seguinte resultado:</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
em cerca de 2% das respostas, a rede adivinha o movimento adicional na propor√ß√£o de 2 respostas corretas para 1 incorreta. Ao testar no mercado real, √© exatamente isso que acontece, mas surge outro problema. Afinal, temos apenas 2% das perguntas respondidas, ignore o resto. Essa. Lan√ßamos um neuro no mercado real em um per√≠odo de 5 minutos e esperamos ... a 2% - apenas 50 velas ser√£o respondidas, uma resposta em 4 horas! E o que fazer com isso? Bem, se a resposta foi "comprar / vender", 6 transa√ß√µes por dia s√£o normais, e aqui o resumo "para cima / para baixo" e, em seguida, impreciso, completa decep√ß√£o.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como resultado, resolvi esse problema com relativa facilidade - a cada 5 minutos, voc√™ precisa entrevistar n√£o um modelo, mas 20 a 30 modelos, como resultado das respostas que ser√£o suficientes. Os modelos s√£o treinados em diferentes dados de entrada e, consequentemente, s√£o treinados em diferentes padr√µes. Na pr√°tica, verifica-se que os modelos buzinam com velas diferentes, ativando-se juntos apenas em locais √≥bvios e previs√≠veis e n√£o se sobrep√µem. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para resumir, agora h√° algo que pode ser lan√ßado no mercado real e ter sinais de subida / descida com a minera√ß√£o m√©dia. J√° √© mais divertido, mas o sentido pr√°tico ainda √© zero.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Algumas palavras sobre a implementa√ß√£o. Funcionou para mim em um monte de MQL5 e Keras. Um bot lan√ßado no MetaTrader5 em cada casti√ßal preparava dados para uma rede neural e passava por um soquete para um script python, que por sua vez pesquisava todos os modelos e, quando ultrapassava um limite aceit√°vel, enviava um sinal para o canal Telegram.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Portanto, o circuito funciona, mas n√£o pode ser aplicado. N√£o foi poss√≠vel adicionar sinais a alguma estrat√©gia. A principal desvantagem √© a discri√ß√£o das respostas. A resposta √© um evento ao qual voc√™ precisa de alguma forma reagir - observe a situa√ß√£o do mercado, pense se a rede est√° certa ou n√£o, etc. Em uma vela, um modelo poderia sinalizar para cima, e outro para baixo, e em qual acreditar? Como resultado, nasceu a id√©ia de abandonar o limiar para passar a resposta e come√ßar a respeitar cada resposta da rede, embora com um baixo grau de confian√ßa. Se voc√™ come√ßar a calcular todas as respostas em uma √∫nica opini√£o comum e considerar isso como a resposta da rede, a resposta se tornar√° uma qualidade completamente diferente. Nesse caso, o conhecimento de todos os modelos come√ßa a tomar forma, e isso √© uma enorme quantidade de treinamento conjunto.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por quanto tempo, brevemente, mas depois de todas as altera√ß√µes, comecei a receber respostas √∫nicas da rede neural para cada vela, expressas como uma porcentagem do tempo de trabalho esperado de -100% a + 100%. O sinal reflete a dire√ß√£o esperada para cima / baixo. Tornou-se claro que agora h√° um sentido em todas as respostas. Funciona! Eu pr√≥prio tenho experi√™ncia em negocia√ß√£o e vi como o comportamento da rede diante dos meus olhos se tornou significativo. √Äs vezes, sua l√≥gica era compreens√≠vel, √†s vezes n√£o, mas suas respostas sempre sentiam sua pr√≥pria vis√£o, muitas vezes paradoxal, do mercado. Al√©m disso, verificou-se que quanto maior a confian√ßa da rede, mais pr√≥ximo o desenvolvimento esperado da hora certa e vice-versa. A baixa confian√ßa parecia dizer "o que acontecer√° em 15 minutos, eu n√£o sei, mas a tend√™ncia geral est√° em alta".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Desse lugar, percebi que tentar formalizar tudo isso em sinais de compra / venda √© como martelar pregos com um microsc√≥pio. O que era necess√°rio era algum tipo de ferramenta para visualizar sinais de redes neurais - uma exibi√ß√£o gr√°fica do n√≠vel de "confian√ßa" em cada vela. Uma ampla gama de ferramentas MQL5 tornou poss√≠vel colocar tudo isso no Expert para MetaTrader5. O "especialista" por meio da API recebe as respostas da rede neural e est√° envolvido apenas na renderiza√ß√£o. Aqui est√° um exemplo de seu trabalho no BTCUSD M1: A </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/8c5/976/ce2/8c5976ce22fbaa03814683028e479a8f.jpg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√°rea colorida no topo √© a previs√£o "para baixo", a √°rea abaixo √© a previs√£o "para cima", a espessura √© o grau de confian√ßa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nesta fase, a qualidade da previs√£o n√£o importa, √© importante que a rede neural demonstre uma opini√£o bastante adequada sobre a situa√ß√£o do mercado. Voc√™ sempre pode atualizar a rede ainda mais, o principal √© que funciona!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como resultado, hoje existe o Expert para MetaTrader5 com dois tipos de previs√µes - curto e longo prazo. </font><font style="vertical-align: inherit;">As estat√≠sticas est√£o se acumulando gradualmente, h√° feedback dos operadores. </font><font style="vertical-align: inherit;">O resultado obtido inspira mais trabalho, agora precisamos chegar √†s queridas equipes de "compra / venda". </font><font style="vertical-align: inherit;">Isso pode ser feito aumentando significativamente a qualidade da previs√£o. </font><font style="vertical-align: inherit;">Ent√£o eu vejo este caminho de desenvolvimento:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√â necess√°rio preparar uma d√∫zia de previs√µes no intervalo entre 15 e 60 minutos. </font><font style="vertical-align: inherit;">Essa. </font><font style="vertical-align: inherit;">comece a prever ‚Äúup / down‚Äù por 20, 25, 30, 35 minutos e assim por diante at√© 60. Cada previs√£o, lembro-me, √© constru√≠da a partir das respostas de cerca de 20 modelos.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tendo esse volume de informa√ß√µes em cada minuto, √© poss√≠vel e necess√°rio analis√°-lo com outra rede neural. </font><font style="vertical-align: inherit;">A conex√£o entre previs√µes em diferentes intervalos de tempo pode ser completamente n√£o trivial; portanto, uma rede neural aqui ser√° apropriada.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O conjunto de dados para esta rede neural n√£o ser√° t√£o barulhento quanto o de seus camaradas mais jovens, portanto, deve ser treinado n√£o em um "up / down" banal, mas em prever a for√ßa do movimento de um ativo, e essa √© uma sa√≠da direta para "comprar / vender".</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√â tudo o que eu queria lhe contar hoje. </font><font style="vertical-align: inherit;">O trabalho continua, acho que haver√° mais artigos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A prop√≥sito, este Expert para MetaTrader5 √© distribu√≠do gratuitamente. Se voc√™ quiser ver o trabalho de uma rede neural no mercado real, entre em contato.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt494938/index.html">Feliz dia de backup! N√£o esque√ßa dele</a></li>
<li><a href="../pt494940/index.html">DevOps - o que √©, por que e quanto √© demanda?</a></li>
<li><a href="../pt494942/index.html">CGI em casa com o Unreal Engine e o iPhone</a></li>
<li><a href="../pt494950/index.html">Algumas tend√™ncias de armazenamento a serem observadas</a></li>
<li><a href="../pt494956/index.html">Data Byte Life</a></li>
<li><a href="../pt494966/index.html">SCRUM: um poema sobre amor e dor</a></li>
<li><a href="../pt494968/index.html">Cabos de Internet subaqu√°tica: quem os encaminha</a></li>
<li><a href="../pt494970/index.html">Introvers√£o: aleatoriedade dentro da margem de erro, ou mecanismo evolutivo de conserva√ß√£o de esp√©cies?</a></li>
<li><a href="../pt494972/index.html">SEMrush vs SimilarWeb - quem √© mais preciso?</a></li>
<li><a href="../pt494978/index.html">O que √© o Windows PowerShell e o que ele come? Parte 4: Trabalhando com Objetos, Classes Customizadas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>