<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©‚Äç‚úàÔ∏è üëáüèª ‚óªÔ∏è Vue Features to Remember üçï ü§´ ü•ß</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We at the Ptah team decided to go a little further than the usual SPA and tried to use Vue as a landing page designer. And now we want to share part o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Vue Features to Remember</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/491130/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We at the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ptah</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> team </font><font style="vertical-align: inherit;">decided to go a little further than the usual SPA and tried to use Vue as a landing page designer. </font><font style="vertical-align: inherit;">And now we want to share part of our experience. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This article is primarily for those who have just started working with Vue and want to know better its features and capabilities. </font><font style="vertical-align: inherit;">Here I want to talk about some of the features of the framework, which often remain undeservedly forgotten by novice developers.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Render functions</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Component templates are one of the things developers love Vue for. </font><font style="vertical-align: inherit;">They are simple and logical, thanks to them the framework has a low entry threshold. </font><font style="vertical-align: inherit;">Template syntax is enough in 90% of cases to write logical and beautiful code. </font><font style="vertical-align: inherit;">But what to do if you are in the remaining 10%, and you can‚Äôt write a compact component? </font><font style="vertical-align: inherit;">The render function will help you. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let's see what it is using the example from the documentation:</font></font><br>
<br>
<pre><code class="javascript hljs">Vue.component(<span class="hljs-string">'anchored-heading'</span>, {
 <span class="hljs-attr">render</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">createElement</span>) </span>{
   <span class="hljs-keyword">return</span> createElement(
     <span class="hljs-string">'h'</span> + <span class="hljs-keyword">this</span>.level,   <span class="hljs-comment">//  </span>
     <span class="hljs-keyword">this</span>.$slots.default <span class="hljs-comment">//   </span><font></font>
   )<font></font>
 },<font></font>
 <span class="hljs-attr">props</span>: {
   <span class="hljs-attr">level</span>: {
     <span class="hljs-attr">type</span>: <span class="hljs-built_in">Number</span>,
     <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span><font></font>
   }<font></font>
 }<font></font>
})<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">anchored-heading</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> component </font><font style="vertical-align: inherit;">accepts the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">level</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> property </font><font style="vertical-align: inherit;">and draws the title tag. </font><font style="vertical-align: inherit;">Thus recording</font></font><br>
<br>
<pre><code class="javascript hljs">&lt;anchored-heading :level=<span class="hljs-string">"1"</span>&gt;, !&lt;/anchored-heading&gt;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Will be converted to</font></font><br>
<br>
<pre><code class="javascript hljs">&lt;h1&gt;, !&lt;/h1&gt;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If this component were described using a standard template, it would contain up to 6 </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v-if</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> conditions </font><font style="vertical-align: inherit;">that describe different levels of headers:</font></font><br>
<br>
<pre><code class="javascript hljs">&lt;h1 v-<span class="hljs-keyword">if</span>=<span class="hljs-string">"level === 1"</span>&gt;
 <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">slot</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span></span><font></font>
&lt;/h1&gt;<font></font>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"level === 2"</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">slot</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"level === 3"</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">slot</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h4</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"level === 4"</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">slot</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span></span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h5</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"level === 5"</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">slot</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">h5</span>&gt;</span></span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h6</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"level === 6"</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">slot</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">h6</span>&gt;</span></span>
</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How it works?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The render method takes two arguments. </font><font style="vertical-align: inherit;">The first argument to </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">createElement</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> is a function that describes which Vue element should create. </font><font style="vertical-align: inherit;">In the community, it is customary to abbreviate </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">createElement</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> to one letter - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">h</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">The second argument is </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">context</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , to access context data. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">createElement</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> takes three arguments:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The item to create. </font><font style="vertical-align: inherit;">This can be not only an HTML tag, but also a component name. </font><font style="vertical-align: inherit;">This argument is required;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">An object with data. </font><font style="vertical-align: inherit;">It may contain a list of classes, styles, input parameters for the component, methods for handling events, etc. </font><font style="vertical-align: inherit;">For more details, see the documentation. </font><font style="vertical-align: inherit;">Optional argument;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Child virtual nodes. </font><font style="vertical-align: inherit;">It can be either a string or an array. </font><font style="vertical-align: inherit;">In the example above, this is </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">this. $ Slots.default</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Render functions can help in the most unexpected situations. </font><font style="vertical-align: inherit;">For example, in Ptah, we often need to use the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">style</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tag </font><font style="vertical-align: inherit;">inside the page for some designer elements to work properly. </font><font style="vertical-align: inherit;">However, Vue prohibits the use of this tag inside the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">template</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> component. </font><font style="vertical-align: inherit;">This limitation is easily bypassed thanks to a small wrapper:</font></font><br>
<br>
<pre><code class="javascript hljs">Vue.component(<span class="hljs-string">'v-style'</span>, {
 <span class="hljs-attr">render</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">h</span>) </span>{
   <span class="hljs-keyword">return</span> h(<span class="hljs-string">'style'</span>, <span class="hljs-keyword">this</span>.$slots.default)<font></font>
 }<font></font>
})<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now inside the templates, instead of the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">style</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tag, </font><font style="vertical-align: inherit;">you can use </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v-style</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So, as soon as it starts to seem to you that the standard features of Vue templates are not enough - think about the Render functions. </font><font style="vertical-align: inherit;">They look complicated only at first glance, but you can use all the features that JS provides in them.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mixins</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Do you have several similar components with duplicate code? </font><font style="vertical-align: inherit;">Mixins or impurities will help to comply with the DRY principle - the functionality of mixins can be used in several components at once. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let's take an example. </font><font style="vertical-align: inherit;">Let's say we have 2 components with similar logic:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span>  {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'TextElement'</span>,<font></font>
<font></font>
  data () {<font></font>
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">elementName</span>: <span class="hljs-string">'Text'</span>,
      <span class="hljs-attr">showEditor</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">editor</span>: <span class="hljs-literal">null</span><font></font>
    }<font></font>
  },<font></font>
  <font></font>
  <span class="hljs-attr">methods</span>: {<font></font>
    initEditor () {<font></font>
      <span class="hljs-keyword">this</span>.showEditor = <span class="hljs-literal">true</span>
      <span class="hljs-keyword">this</span>.editor = <span class="hljs-keyword">new</span> Editor(<span class="hljs-keyword">this</span>.elementName)<font></font>
    }<font></font>
  }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span>  {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'ButtonElement'</span>,<font></font>
<font></font>
  data () {<font></font>
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">elementName</span>: <span class="hljs-string">'Button'</span>,
      <span class="hljs-attr">showEditor</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">editor</span>: <span class="hljs-literal">null</span><font></font>
    }<font></font>
  },<font></font>
  <font></font>
  <span class="hljs-attr">methods</span>: {<font></font>
    initEditor () {<font></font>
      <span class="hljs-keyword">this</span>.showEditor = <span class="hljs-literal">true</span>
      <span class="hljs-keyword">this</span>.editor = <span class="hljs-keyword">new</span> Editor(<span class="hljs-keyword">this</span>.elementName)<font></font>
    }<font></font>
  }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The components are different, but have the same logic. </font><font style="vertical-align: inherit;">To make it, you need to create a regular js file. </font><font style="vertical-align: inherit;">It would be logical to place it in the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mixins</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> directory </font><font style="vertical-align: inherit;">next to the components.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">// mixin.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span>  {<font></font>
  data () {<font></font>
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">showEditor</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">editor</span>: <span class="hljs-literal">null</span><font></font>
    }<font></font>
  },<font></font>
  <font></font>
  <span class="hljs-attr">methods</span>: {<font></font>
    initEditor () {<font></font>
      <span class="hljs-keyword">this</span>.showEditor = <span class="hljs-literal">true</span>
      <span class="hljs-keyword">this</span>.editor = <span class="hljs-keyword">new</span> Editor(<span class="hljs-keyword">this</span>.elementName)<font></font>
    }<font></font>
  }<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">// TextElement.vue</span>
<span class="hljs-keyword">import</span> mixin <span class="hljs-keyword">from</span> <span class="hljs-string">'./mixins/mixin'</span><font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span>  {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'TextElement'</span>,<font></font>
<font></font>
  <span class="hljs-attr">mixins</span>: [mixin]  <span class="hljs-comment">//  </span><font></font>
<font></font>
  data () {<font></font>
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">elementName</span>: <span class="hljs-string">'Text'</span>,<font></font>
    }<font></font>
  },<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">// ButtonElement.vue</span>
<span class="hljs-keyword">import</span> mixin <span class="hljs-keyword">from</span> <span class="hljs-string">'./mixins/mixin'</span><font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span>  {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'ButtonElement'</span>,<font></font>
<font></font>
  <span class="hljs-attr">mixins</span>: [mixin]<font></font>
<font></font>
  data () {<font></font>
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">elementName</span>: <span class="hljs-string">'Button'</span><font></font>
    }<font></font>
  }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As you can see from the example, almost all logic migrated to the mixin. When using impurities inside the components, all their options merge. And in the component, you can freely call the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">initEditor ()</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> method </font><font style="vertical-align: inherit;">, and, conversely, in the impurity, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">elementName</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> from the component </font><font style="vertical-align: inherit;">is used here </font><font style="vertical-align: inherit;">. In this case, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">data</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> objects </font><font style="vertical-align: inherit;">will be merged recursively, and properties from the component will take precedence.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So, the benefits of impurities are obvious - this is code reuse. </font><font style="vertical-align: inherit;">But there is a minus. </font><font style="vertical-align: inherit;">This example is synthetic, just a couple of lines. </font><font style="vertical-align: inherit;">Real components, such as those used in Ptah, can be written in a couple of hundred lines of code. </font><font style="vertical-align: inherit;">It will not always be clear to a person who has not written this code how it works, especially if he overlooks adding mixins to the component. </font><font style="vertical-align: inherit;">Unfortunately, getting rid of this minus will not work. </font><font style="vertical-align: inherit;">I can recommend two things: describe the operation of the component in JSDoc and use special names for properties from the impurity (for example, you can add a prefix, which you will agree with the team in advance).</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Provide / Inject</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This pair of options is always used together and allows you to transfer data from the parent component to the entire hierarchy of its descendants. </font><font style="vertical-align: inherit;">These options are primarily used for writing plugins, official documentation does not recommend using them in applications. </font><font style="vertical-align: inherit;">In applications, communication between components builds very well on Vuex. </font><font style="vertical-align: inherit;">However, this functionality still deserves attention.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How it works?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
First, we need to define the data in the parent component, which we will pass on to its descendants.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">// Parent.vue        </span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">provide</span>: {
   <span class="hljs-attr">device</span>: <span class="hljs-string">'is-desktop'</span><font></font>
  }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now the transferred data needs to be embedded in the child component.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">// Child.vue    </span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">inject</span>: [<span class="hljs-string">'device'</span>],<font></font>
<font></font>
  created () {<font></font>
   <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">this</span>.device) <span class="hljs-comment">// =&gt; "is-desktop"</span><font></font>
  }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As you can see from the example, everything is quite simple. </font><font style="vertical-align: inherit;">But one significant minus should be noted - the data from the provide / inject bundle is not reactive by default! </font><font style="vertical-align: inherit;">However, this drawback is easily circumvented using </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Object.defineProperty</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="javascript hljs">provide () {
 <span class="hljs-keyword">let</span> device = {}
 <span class="hljs-built_in">Object</span>.defineProperty(device, <span class="hljs-string">'type'</span>, { <span class="hljs-attr">enumerable</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">get</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">this</span>.device })
 <span class="hljs-keyword">return</span> { device }<font></font>
},<font></font>
<font></font>
data () {<font></font>
 <span class="hljs-keyword">return</span> {
   <span class="hljs-attr">device</span>: <span class="hljs-string">'is-desktop'</span><font></font>
 }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now changing </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">this.device</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in the parent will change it in the descendants.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Component Meta</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There are situations when it is not known in advance which component will be used in the code. </font><font style="vertical-align: inherit;">Consider an example from our editor. </font><font style="vertical-align: inherit;">The task is as follows: in the conditional section of </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FirstScreen,</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> show the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Text, Logo, Button</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> elements, then add </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SocialIcons</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> to these elements </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So, it is obvious that we will have a section component that will serve as a container for the elements and 4 components for the elements themselves. </font><font style="vertical-align: inherit;">The structure will be approximately as follows:</font></font><br>
<br>
<pre><code class="javascript hljs">/ sections<font></font>
 -- FirstScreen.vue<font></font>
/ elements<font></font>
 -- Text.vue<font></font>
 -- Logo.vue<font></font>
 -- Button.vue<font></font>
 -- SocialIcons.vue<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To add </font><font style="vertical-align: inherit;">all components of elements </font><font style="vertical-align: inherit;">to the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FirstScreen</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> template </font><i><font style="vertical-align: inherit;">at</font></i><font style="vertical-align: inherit;"> once, and then switch them using conditions would be an extremely unwise decision. </font><font style="vertical-align: inherit;">There is a simple and wonderful tool for such tasks:</font></font><br>
<br>
<pre><code class="javascript hljs">&lt;component :is=<span class="hljs-string">"%componentName%"</span>/&gt;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">component</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> element </font><font style="vertical-align: inherit;">with the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: is</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> attribute </font><font style="vertical-align: inherit;">, which simply writes the name of the component. </font><font style="vertical-align: inherit;">And thanks to him, our task is simply solved:</font></font><br>
<br>
<pre><code class="javascript hljs">&lt;script&gt;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span>  {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'FirstScreen'</span>,<font></font>
<font></font>
  data () {<font></font>
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">elements</span>: [
        <span class="hljs-string">'Text'</span>,
        <span class="hljs-string">'Logo'</span>,
        <span class="hljs-string">'Button'</span>,<font></font>
      ],<font></font>
    }<font></font>
  }<font></font>
}<font></font>
&lt;/script&gt;<font></font>
<font></font>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"first-screen"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">component</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"element in elements"</span> <span class="hljs-attr">:is</span>=<span class="hljs-string">"element"</span>/&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">elements</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> array, </font><font style="vertical-align: inherit;">we wrote the names of the components and then simply output these components in a loop inside the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FirstScreen</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> template </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Now, in order to add an element with social </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">network</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> icons to our section, we just need to execute </font><i><font style="vertical-align: inherit;">this.elements.push ('SocialIcons')</font></i><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en491114/index.html">Smart relocation or how to choose a company for work and not regret it</a></li>
<li><a href="../en491116/index.html">Modern Identification Standards: OAuth 2.0, OpenID Connect, WebAuthn</a></li>
<li><a href="../en491118/index.html">Developer Heart: Devkits of the 5th generation of consoles (Part 1)</a></li>
<li><a href="../en491120/index.html">$ mol: 4 years later</a></li>
<li><a href="../en491122/index.html">Forensic analysis of HiSuite backups</a></li>
<li><a href="../en491132/index.html">When the bloom filter does not fit</a></li>
<li><a href="../en491134/index.html">5 stages of inevitability of adoption of ISO / IEC 27001 certification. Negation</a></li>
<li><a href="../en491136/index.html">Projecting content in Angular or lost ng-content documentation</a></li>
<li><a href="../en491138/index.html">Satellite and Ansible Tower Integration</a></li>
<li><a href="../en491146/index.html">UML for developers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>