<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸŒ´ ğŸ· ğŸ¤™ğŸ¼ ã€Œss -sã€ã®å‡ºåŠ›ã¯ã©ã†ã„ã†æ„å‘³ã§ã™ã‹ ğŸ“® â›µï¸ ğŸ¾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="netstatãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã¯ssãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã«ç½®ãæ›ãˆã‚‰ã‚Œã€é›†ç´„ã•ã‚ŒãŸï¼ˆæ¦‚è¦ï¼‰æƒ…å ±ã€Œss -sã€ï¼ˆã¾ãŸã¯ã€Œss --summaryã€ï¼‰ã®å‡ºåŠ›ãŒãƒ‹ãƒ¼ã‚ºã®ç›£è¦–ã«ä½¿ç”¨ã•ã‚Œã‚‹ã“ã¨ãŒã‚ˆãã‚ã‚Šã¾ã™ã€‚ãŸã ã—ã€è¡¨ç¤ºã•ã‚ŒãŸå„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯ä½•ã‚’æ„å‘³ã—ã¾ã™ã‹ï¼Ÿ
 
 

# ss -s Total: 15046 (ke...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ã€Œss -sã€ã®å‡ºåŠ›ã¯ã©ã†ã„ã†æ„å‘³ã§ã™ã‹</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/503648/"><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">netstat</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã¯</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ss</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã«</font><font style="vertical-align: inherit;">ç½®ãæ›ãˆã‚‰ã‚Œã€</font><font style="vertical-align: inherit;">é›†ç´„ã•ã‚ŒãŸï¼ˆæ¦‚è¦ï¼‰æƒ…å ±ã€Œ</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ss -s</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€ï¼ˆã¾ãŸã¯ã€Œ</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ss --summary</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€ï¼‰ã®å‡ºåŠ›ãŒãƒ‹ãƒ¼ã‚ºã®ç›£è¦–ã«ä½¿ç”¨ã•ã‚Œã‚‹ã“ã¨ãŒã‚ˆãã‚ã‚Šã¾ã™ã€‚</font><font style="vertical-align: inherit;">ãŸã ã—ã€è¡¨ç¤ºã•ã‚ŒãŸå„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯ä½•ã‚’æ„å‘³ã—ã¾ã™ã‹ï¼Ÿ</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-comment"># ss -s</span><font></font>
Total: 15046 (kernel 16739)<font></font>
TCP:   39306 (estab 11458, closed 25092, orphaned 110, synrecv 0, timewait 24929/0), ports 0<font></font>
<font></font>
Transport Total     IP        IPv6<font></font>
*	  16739     -         -        <font></font>
RAW	  0         0         0        <font></font>
UDP	  15        5         10       <font></font>
TCP	  14214     1214      13000    <font></font>
INET	  14229     1219      13010    <font></font>
FRAG	  0         0         0        <font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
çµå±€ã®ã¨ã“ã‚ã€å¾®å¦™ãªç‚¹ãŒã‚ã‚Šã¾ã™ã€‚</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
çœŸå®Ÿã®æºã¯ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iproute2 / misc / ss.c</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã«ã‚ã‚‹ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£Â«ssÂ»ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ã€Œss -sã€ã®å‡ºåŠ›ã¯ã€</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">print_summary</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é–¢æ•°ã§è¡Œã‚ã‚Œã¾ã™</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒãƒ¼ã‚¸ãƒ§ãƒ³4.17.0ã‚ˆã‚Šå‰ã§ã¯ã€ã€Œss -sã€ã®å‡ºåŠ›ãŒä¸Šã«è¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚</font><font style="vertical-align: inherit;">å¾Œ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">90ee99dã‚’çŠ¯ã—ã€</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãã‚Œã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šå§‹ã‚ã¾ã—ãŸã€‚</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-comment"># ss -s</span><font></font>
Total: 15046<font></font>
TCP:   39306 (estab 11458, closed 25092, orphaned 110, timewait 24929)<font></font>
<font></font>
Transport Total     IP        IPv6<font></font>
RAW	  0         0         0        <font></font>
UDP	  15        5         10       <font></font>
TCP	  14214     1214      13000    <font></font>
INET	  14229     1219      13010    <font></font>
FRAG	  0         0         0        <font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã”è¦§ã®ã¨ãŠã‚Šã€ã€Œåˆè¨ˆã€è¡Œã‹ã‚‰ã€Œã‚«ãƒ¼ãƒãƒ«ã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒå‰Šé™¤ã•ã‚Œã¦ã„ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã€ŒTCPã€ã®è¡Œã§ã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã€Œsynrecvã€ãŒå‰Šé™¤ã•ã‚Œã€1ã¤ã®ï¼ˆæœ€åˆã®ï¼‰ç•ªå·ã€Œtimewaitã€ãŒæ®‹ã‚Šã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã€Œportsã€ãŒå‰Šé™¤ã•ã‚Œã¾ã—ãŸã€‚</font><font style="vertical-align: inherit;">ãƒ†ãƒ¼ãƒ–ãƒ« "Transport"ã®è¡Œ "*"ãŒå‰Šé™¤ã•ã‚Œã¾ã—ãŸã€‚</font><font style="vertical-align: inherit;">ã‚³ãƒŸãƒƒãƒˆã®ä¸€èˆ¬çš„ãªæ„å‘³ã¯æ¬¡ã®ã‚ˆã†ã«ç¿»è¨³ã§ãã¾ã™ï¼šã€Œ</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é•·ã„é–“å£Šã‚Œã¦ã„ãŸã‚‚ã®ã‚’å‡ºåŠ›ã‹ã‚‰å‰Šé™¤ã—ã¾ã—ãŸ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚ã€</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½•ãŒå£Šã‚Œã¾ã—ãŸã‹ï¼Ÿ</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã§</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">print_summary</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒãƒ¼ã‚¸ãƒ§ãƒ³4.16.0ãŒä½¿ç”¨ã•ã‚Œã‚‹æ§‹é€ ã®ã‚ã‚‹</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">slabstat</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‘¼ã³å‡ºã™ã“ã¨ã«ã‚ˆã£ã¦æº€ãŸã•ã‚Œã€</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">get_slabstatã‚’</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">get_slabstatå‘¼ã³å‡ºã—ã‚’ã‚·ã‚§ãƒ«ã‚³ãƒãƒ³ãƒ‰ã«å¤‰æ›ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-comment"># egrep '^(sock|tcp_bind_bucket|tcp_tw_bucket|tcp_open_request|skbuff_head_cache)' /proc/slabinfo | awk '{ print $1, $2; }'</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã€Œ/ proc / slabinfoã€ã®ã‚­ãƒ¼ã¯ã€ã€Œslabstatã€æ§‹é€ ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">slabstat</span> {</span>
	<span class="hljs-keyword">int</span> socks;       <span class="hljs-comment">// sock, net/core/sock.c:sk_init,   2.6.12</span>
	<span class="hljs-keyword">int</span> tcp_ports;   <span class="hljs-comment">// tcp_bind_bucket, net/ipv4/tcp.c:tcp_init</span>
	<span class="hljs-keyword">int</span> tcp_tws;     <span class="hljs-comment">// tcp_tw_bucket, net/ipv4/tcp.c:tcp_init,   2.6.14</span>
	<span class="hljs-keyword">int</span> tcp_syns;    <span class="hljs-comment">// tcp_open_request, net/ipv4/tcp.c:tcp_init,   2.6.13</span>
	<span class="hljs-keyword">int</span> skbs;        <span class="hljs-comment">// skbuff_head_cache, net/core/skbuff:skb_init,  </span><font></font>
};<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã¤ã¾ã‚Šã€ä»Šæ—¥ã€Œ/ proc / slabinfoã€ã‹ã‚‰å–å¾—ã•ã‚Œã‚‹ã™ã¹ã¦ã®å€¤ã®ã†ã¡ã€ã€Œãƒãƒ¼ãƒˆã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«è¡¨ç¤ºã•ã‚Œã‚‹å€¤ã€Œtcp_bind_bucketã€ã®ã¿ã‚’å–å¾—ã§ãã¾ã™ã€‚</font><font style="vertical-align: inherit;">ç§ã¯å½¼ã®æœ¬ã€ŒTCP / IPã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã€è¨­è¨ˆã€ãŠã‚ˆã³Linuxã§ã®å®Ÿè£…ã€ã‹ã‚‰èª¬æ˜ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">S. Sethã¨MA Venkatesulu 2008ã€IEEE Computer Societyã€ï¼š</font></font><br>
<blockquote>This structure keeps information about the port number usage by sockets and the way the port number is being used. The information is useful enough to tell the new binding socket whether it can bind itself to a particular port number that is already in use. The data structure also keeps track of all the socketâ€™s that are associated with this port number.</blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚‚ã†ä¸€åº¦åŒã˜ã§ã™ãŒã€å†™çœŸã®å½¢ã‚’ã—ã¦ã„ã¾ã™ï¼ˆç§ã‹ã‚‰ã®ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆã¯</font></font><br>
<br>
<img src="https://habrastorage.org/webt/nh/do/ym/nhdoym9qq9nhakjcq0qs8pubpuu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã¾ã‚ã¾ã‚ã§ã™ï¼‰ã€‚</font><font style="vertical-align: inherit;">ã‚¹ãƒ©ãƒ–ã€Œsockã€ï¼ˆ2.6.12ã§å‰Šé™¤ï¼‰ã«ã‚¼ãƒ­ä»¥å¤–ã®å€¤ãŒã‚ã‚Šã¾ã™ã€‚</font><font style="vertical-align: inherit;">èª¬æ˜ã¯éå¸¸ã«å˜ç´”</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã§ã™ã€‚æ–‡å­—åˆ—æ¯”è¼ƒ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã®</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ç‰¹æ®Šæ€§ã®ãŸã‚ã€</font></a><font style="vertical-align: inherit;">ã€Œsockã€ã§å§‹ã¾ã‚‹ã‚­ãƒ¼ã‚’æŒã¤æ•°å€¤</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ã¯</font></a><font style="vertical-align: inherit;">ã™ã¹ã¦ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å€¤ã«å…¥ã‚Šã¾ã™ã€‚</font><font style="vertical-align: inherit;">ç§ã®å ´åˆã€ã“ã‚Œã¯ã€Œsockfsã€ã«é–¢é€£ã™ã‚‹ã€Œnet / socket.cï¼šinit_inodecacheã€ã‹ã‚‰ã®ã€Œsock_inode_cacheã€ã§ã™-ã€Œsocket structã€ã‚’å«ã‚€ã€Œinodesã€ã®ãƒªã‚¹ãƒˆï¼ˆãŸã¶ã‚“ã€ã“ã‚Œã¯ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã®ä½œæˆè€…ãŒæ„å›³ã—ãŸã‚‚ã®ã§ã¯ãªã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ï¼‰ï¼š</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-comment"># egrep '^sock' /proc/slabinfo | awk '{ print $1, $2; }'</span><font></font>
sock_inode_cache 16739<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã¾ã‚ã€ã€Œtcp_bind_bucketã€ã¯ã€ã‚«ãƒ¼ãƒãƒ«ãƒ“ãƒ«ãƒ‰ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ãŸã‚ã«æ¬ è½ã—ã¦ã„ã¾ã™ï¼ˆã—ãŸãŒã£ã¦ã€ã€Œportsã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å€¤ã¯å¸¸ã«ã€Œ0ã€ã§ã™ï¼‰ã€‚</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‡ºåŠ›ã®èª¬æ˜ã€Œss -sã€</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¤‡é›‘ãªãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¨ˆç®—ã«å…¥ã‚‹å‰ã«ã€ãƒ¡ãƒ¢ãƒªå†…ã®ã‚½ã‚±ãƒƒãƒˆã®çŠ¶æ…‹ï¼ˆESTABLISHEDã€CLOSE-WAITã€TIME-WAITãªã©ï¼‰ã‚’æ›´æ–°ã™ã‚‹ã“ã¨ã¯ç†ã«ã‹ãªã£ã¦ã„ã¾ã™ã€‚</font><font style="vertical-align: inherit;">å¿˜ã‚Œã¦ã—ã¾ã£ãŸæ–¹ã¯ã€wikiï¼š</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RU</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ENã‚’ã”åˆ©ç”¨ãã ã•ã„</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã®å‡ºåŠ›ã¯ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰å–å¾—ã—ãŸå€¤ã«åŸºã¥ã„ã¦ã„ã¾ã™ï¼š</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-comment"># cat /proc/net/sockstat</span><font></font>
sockets: used 15046<font></font>
TCP: inuse 1205 orphan 111 tw 24952 alloc 14368 mem 5890<font></font>
UDP: inuse 5 mem 86<font></font>
UDPLITE: inuse 0<font></font>
RAW: inuse 0<font></font>
FRAG: inuse 0 memory 0<font></font>
<font></font>
<span class="hljs-comment"># cat /proc/net/sockstat6</span><font></font>
TCP6: inuse 13000<font></font>
UDP6: inuse 10<font></font>
UDPLITE6: inuse 0<font></font>
RAW6: inuse 0<font></font>
FRAG6: inuse 0 memory 0<font></font>
<font></font>
<span class="hljs-comment"># egrep '^Tcp:' /proc/net/snmp</span><font></font>
Tcp: RtoAlgorithm RtoMin RtoMax ... AttemptFails EstabResets CurrEstab ...<font></font>
Tcp: 1 200 120000 ... 1348218 4095008 11458 ...<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã€Œnet / sockstatã€ã®å†…å®¹ã‹ã‚‰è¨ˆç®—ã•ã‚ŒãŸå€¤ï¼ˆå†™çœŸã§ã®èªè­˜ã‚’ç°¡å˜ã«ã™ã‚‹ãŸã‚ï¼‰ï¼š</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ll/y9/r_/lly9r_hmfcfhkf1-tyu0opkbyg8.png"><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åˆè¨ˆ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -TIME_WAITä»¥å¤–ã®çŠ¶æ…‹ã®ã‚·ã‚¹ãƒ†ãƒ ï¼ˆUNIXã‚½ã‚±ãƒƒãƒˆã‚’å«ã‚€ï¼‰å†…ã®ã‚½ã‚±ãƒƒãƒˆã®ç·æ•°ã€‚</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TCPï¼š</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -ä»»æ„ã®çŠ¶æ…‹ã®TCPã‚½ã‚±ãƒƒãƒˆï¼ˆIPv6ã‚’å«ã‚€ï¼‰ã®ç·æ•°</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚tw</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚½ã‚±ãƒƒãƒˆã¯</font><font style="vertical-align: inherit;">ã€ã„ã‚ã‚†ã‚‹ã‚½ã‚±ãƒƒãƒˆã«ã‚ˆã‚Š</font><font style="vertical-align: inherit;">ã€</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‰²ã‚Šå½“ã¦</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚½ã‚±ãƒƒãƒˆ</font><font style="vertical-align: inherit;">ã‹ã‚‰åˆ†é›¢ã•</font><font style="vertical-align: inherit;">ã‚Œã¦ã„ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã€Œ</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ­»ã®åˆ—</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€-CLOSEDçŠ¶æ…‹ã«ç§»è¡Œã™ã‚‹ã¾ã§ä½¿ç”¨ã§ãã¾ã›ã‚“ã€‚</font></font><br>
 <ul>
<li><b>orphaned</b> â€”   Â«Â» TCP  (,       );</li>
<li><b>timewait</b> â€”   TCP    TIME_WAIT;</li>
<li><b>inuse TCP, UDP, RAW</b> â€”   <b>v4</b>         CLOSED  TIME_WAIT;</li>
<li><b>inuse FRAG</b> (bool) â€”   , <b>memory</b> â€”       (   <b>mem</b>,    ).</li>
</ul></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã€Œnet / sockstat6ã€ã®å†…å®¹ã«ã‚ˆã£ã¦è¨ˆç®—ã•ã‚ŒãŸå€¤ï¼š</font></font><br>
<br>
<img src="https://habrastorage.org/webt/oq/i7/ja/oqi7jaqtagey4sy-kkgkejirudw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã“ã§ã¯ã™ã¹ã¦ãŒå˜ç´”ãªã‚ˆã†ã§ã™-ã€Œ</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transport / Total</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€ã¯ã€ã€Œ</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IP</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€ã¨ã€Œ</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IPv6</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€ã®</font><font style="vertical-align: inherit;">å€¤ã®åˆè¨ˆã§ã™</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã€Œnet / snmpã€ã®å†…å®¹ã‹ã‚‰ç®—å‡ºã—ãŸå€¤ã€‚</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RFC-4022ã«</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚ˆã‚Œã°</font><font style="vertical-align: inherit;">ã€ã€Œ</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tcpCurrEstab</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€ã¯ã€Œç¾åœ¨ã®çŠ¶æ…‹ãŒESTABLISHEDã¾ãŸã¯CLOSE-WAITã®ã„ãšã‚Œã‹ã§ã‚ã‚‹TCPæ¥ç¶šã®æ•°ã€ã§ã™ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/webt/qo/2x/as/qo2xascklqre17kvzw9yxktyo-o.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãã—ã¦ã€æœ€å¾Œã®ã€Œ</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">closed</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€</font><font style="vertical-align: inherit;">ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰</font><font style="vertical-align: inherit;">ã¯ã€å‰²ã‚Šå½“ã¦ã‚‰ã‚ŒãŸã‚½ã‚±ãƒƒãƒˆã¨TIME_WAITçŠ¶æ…‹ã®ã‚½ã‚±ãƒƒãƒˆã®åˆè¨ˆã‹ã‚‰ã€é–‰ã˜ã¦ã„ãªã„çŠ¶æ…‹ã®TCPv4ã‚½ã‚±ãƒƒãƒˆã¨TCPv6ã‚½ã‚±ãƒƒãƒˆã®åˆè¨ˆã‚’å¼•ã„ãŸã‚‚ã®ã§ã™ã€‚PS </font></font><br>
<br>
<img src="https://habrastorage.org/webt/1_/sp/oa/1_spoafqh2_qydt6jxtrsszmf_s.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚°ãƒ©ãƒ•ã®è»¸ã«ç½²åã™ã‚‹ã“ã¨ã‚’å¿˜ã‚Œãªã„ã§ãã ã•ã„ã€‚</font></font><br></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja503636/index.html">ã‚µãƒ¼ãƒãƒ¼ã®ã©ã®ã‚ˆã†ãªè² è·ãŒãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã‚’ä½œæˆã—ã¾ã™ã‹ï¼Ÿ</a></li>
<li><a href="../ja503638/index.html">é©šãã¹ãã“ã¨ã«ã€ã”ãä¸€éƒ¨ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼ã ã‘ãŒæŒã£ã¦ã„ã‚‹6ã¤ã®æœ‰ç”¨ãªç¿’æ…£</a></li>
<li><a href="../ja503640/index.html">JavaScriptãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼ã®æ¯æ—¥ã®æ”¹å–„ã«ã¤ã„ã¦</a></li>
<li><a href="../ja503642/index.html">LinkedInã€Facebookã€Googleã§ã‚·ãƒªã‚³ãƒ³ãƒãƒ¬ãƒ¼ã‚’åˆ©ç”¨ã™ã‚‹æ–¹æ³•</a></li>
<li><a href="../ja503646/index.html">æœ€é«˜é€Ÿåº¦ã§ã®è³¢ã„ãƒ•ãƒ«ã‚·ãƒãƒ§ãƒ•</a></li>
<li><a href="../ja503650/index.html">VKCup 2020ã‚¹ãƒ†ãƒ¼ã‚¸I.é•·ã„é“ã®ã‚Š</a></li>
<li><a href="../ja503652/index.html">5æœˆ25æ—¥ã‹ã‚‰5æœˆ31æ—¥ã¾ã§ã®ãƒ¢ã‚¹ã‚¯ãƒ¯ã§ã®ãƒ‡ã‚¸ã‚¿ãƒ«ã‚¤ãƒ™ãƒ³ãƒˆ</a></li>
<li><a href="../ja503654/index.html">ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æ–‡åŒ–ã‚’ç‹¬è‡ªã«ç¶­æŒã§ãã‚‹Webã‚µãƒ¼ãƒ“ã‚¹</a></li>
<li><a href="../ja503656/index.html">ãƒˆãƒ¢ã‚°ãƒ©ãƒ•ã‚£ãƒ¼å†æ§‹æˆã®å“è³ªã‚’æ”¹å–„ã™ã‚‹ãŸã‚ã®ãƒ„ãƒ¼ãƒ«ã¨ã—ã¦ã®ç”»åƒã®ãƒãƒ³ãƒ‰æŠ‘åˆ¶ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ </a></li>
<li><a href="../ja503660/index.html">è‹¦åŠ´ã›ãšã«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚Yandexãƒ¬ãƒãƒ¼ãƒˆ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>