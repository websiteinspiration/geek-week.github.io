<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë¶üèæ üôÜüèΩ üñåÔ∏è If my car gets in the way üë©üèΩ‚Äçüåæ üêü ‚ôëÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The conversation was something like this. 
 
 Sanya: ‚ÄúI bought Chinese indicators, I dream of assembling the device so that the phone number glows for...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>If my car gets in the way</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/501784/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The conversation was something like this. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sanya: ‚ÄúI bought Chinese indicators, I dream of assembling the device so that the phone number glows for the car. </font><font style="vertical-align: inherit;">But I don‚Äôt know how to connect them. </font><font style="vertical-align: inherit;">Somehow we need a microcontroller. ‚Äù</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As a programmer, Sanya did not know what was needed not for the microcontroller. </font><font style="vertical-align: inherit;">In any case, not directly. </font><font style="vertical-align: inherit;">But I liked the idea. </font><font style="vertical-align: inherit;">Simple, cheap, does not take much time and usefully. </font><font style="vertical-align: inherit;">I wanted to participate. </font><font style="vertical-align: inherit;">And so began our small project. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let's start with the result. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/1_/qw/vi/1_qwvieei2dz-65f79umsjpuliy.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Although the project is not intricate, but the project. </font><font style="vertical-align: inherit;">Shared with Sanya responsibilities: I - iron, he - the program. </font><font style="vertical-align: inherit;">We made a plan.</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Analogs</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Circuitry</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Constructive</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Equipment</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Program</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Assembly</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Test</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Is it worth it to make such a device? I came across several analogues, but all were without digital indicators and with the ability to set the number once. The most interesting device turned out to be with static illumination of the installed number. Cheap and reliable. But the fantasy spoiled by the present could not stop there. Nevertheless, we decided to do our own thing. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The block diagram of the device is shown in the figure. As you can see, everything needed six registers 74HC595D, microcontroller STM32F030, indicators and a button. TP4056 battery charge module purchased. Of course, there is still a small wiring in the form of resistors for current protection and capacitors.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/7y/-c/yw/7y-cyw4zixfac__8vfb9skighxe.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I made the board as small as possible, two-sided and with the installation of components under seven-segment indicators. And you can do even less by installing the registers in the SOIC16 package, but the latter are somewhat more expensive. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The study of the corps took the most time. Fortunately, the modest CAD skills allowed me to outline a ‚Äúsimple and concise‚Äù construct, which may not pretend to be the design of the year, but can cope with its function. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ij/2g/tu/ij2gtu_bwnxuqfrcxeh_ctxqd8q.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
All equipment, from indicators and ending with screws for mounting a printed circuit board, was ordered in China. Although with a significant delay, but in full, the comrades from the heavens provided us with everything we needed.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The program, as agreed, was written by Sanya. From the functional: enter, change, save the number; brightness adjustment, and put into sleep mode. The plans include a list of "favorite numbers", a mode of periodic increase in brightness for sunny days, there are thoughts on the indication of charge. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Of course, the operating time of the device without recharging directly depends on the brightness of the indicators. At maximum brightness, the device consumes up to 100 mA, the battery lasts a maximum of 8 hours. However, reducing the brightness can drop below 20 mA! In this case, the number will still be quite clearly visible. At ‚Äúmedium‚Äù brightness, as in the photo, the device worked for two days, while charging takes 2 hours. The Chinese module reports the end of the charge. Decent result.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And what about the cost. Everything is not so rosy here. The total amount amounted to 575 rubles and one penny. Given that the red price of such a device is 500 rubles, the prospects for its production and sale seem vague. But maybe not everything is so bad? Maybe. The case was printed on a 3D printer and it cost 230 rubles, but the battery is 136, and the printed circuit board is 104. So there is room to save. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The last item in our plan is testing. There are comments, for example: the case does not fit well (about print quality), the battery holder did not fit (error with dimensions), during sleep, the device consumes 1 mA (remark on the circuit). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
One way or another, the two devices we have assembled are admiring on the panel by the windshield. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Me: "Well, so, Sanya, your dream has come true?" </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sanya: "Yeah."</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Me: ‚ÄúThen let's adjust the brightness with a PWM, and I also want navigation, and also so that the dots run when charging ...‚Äù</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en501766/index.html">Personal experience: how to build a career in the DevOps department</a></li>
<li><a href="../en501768/index.html">Scantech KSCAN20 3D Scanner Review</a></li>
<li><a href="../en501772/index.html">Trading the stock market: how not to lose, safety precautions</a></li>
<li><a href="../en501774/index.html">Why clouds become thunderclouds: cloud deployment failures</a></li>
<li><a href="../en501782/index.html">DeepPavlov: Keras for Natural Language Processing helps answer questions about COVID-2019</a></li>
<li><a href="../en501786/index.html">New application "Jellyfish". Why flutter?</a></li>
<li><a href="../en501788/index.html">Creating parametric objects in nanoCAD Design BIM</a></li>
<li><a href="../en501790/index.html">Nontrivial animations in SwiftUI</a></li>
<li><a href="../en501792/index.html">How FinFET's father helped save Moore's law</a></li>
<li><a href="../en501796/index.html">7 dangerous mistakes that are easy to make in C # /. NET</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>