<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>✋🏽 👩🏽‍🏭 🚎 Technologies Yandex Turbo Pagesとeコマース向けGoogle AMP 🖋️ ✌️ ⏱️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="前書き
 Web開発は長い間モバイルコンテンツに移行しています。デスクトップではなくモバイルデバイスからのトラフィックを支持する過去数年間の傾向により、検索エンジンはサイトからの応答性と高速ダウンロード速度を要求するようになり、2019年7月1日から、Googleは新しいサイトをモバイルではなくモバ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Technologies Yandex Turbo Pagesとeコマース向けGoogle AMP</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/468811/"><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前書き</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Web開発は長い間モバイルコンテンツに移行しています。デスクトップではなくモバイルデバイスからのトラフィックを支持する過去数年間の傾向により、検索エンジンはサイトからの応答性と高速ダウンロード速度を要求するようになり、2019年7月1日から、Googleは新しいサイトをモバイルではなくモバイルのみに最初に切り替えました。これは、彼がデスクトップバージョンにまったく関心がないことを意味します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同時に、検索エンジンは非常に高速なページ読み込みのための技術を提案しました。 Googleでは、AMP（Accelerated mobile pages）、Yandex-Turboページで使用しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、記事の中で、既存のオンラインストアにAMPページとターボページを実装するときに遭遇した長所、短所、問題についてお話したいと思います。</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
両方のテクノロジーの本質は、検索エンジンが画像付きのページのコンテンツをキャッシュし、サーバーから訪問者に提供するという事実に要約されます。これは、デバイス、画面、ブラウザ、インターネット速度など、訪問者のいくつかの要因を考慮に入れています。たとえば、画面の解像度やモバイルインターネットの速度によっては、検索エンジンがサイトよりも解像度の低い画像を表示する場合があり、すべてのグラフィックの読み込みとプリローダーの遅延が発生します。 YandexがJPG画像からターボページのWebPを作成し、ブラウザーがそれをサポートしている場合は、ファイルサイズの2〜3倍のゲインが得られるWebP形式でレンダリングされることに気付きました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
検索結果では、これらのページは稲妻（AMP）とロケット（ターボ）でマークされ、サイトにアクセスせずに検索エンジンのキャッシュから即座に開きます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ue/ol/us/ueolusofjw1qomv9qwcedlh-qym.png" width="300"><br>
<br>
<img src="https://habrastorage.org/webt/vf/-2/u6/vf-2u68nin3welehj6i5sjrihxw.png" width="300"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
読み込み速度が速いため、AMPおよびTurboテクノロジーを使用するページは、両方の検索エンジンの検索結果で通常のものよりもわずかにランクが高くなる可能性が高いです。</font><font style="vertical-align: inherit;">グーグルもYandexもそれについて直接話していませんが、ダウンロード速度がアルゴリズムにとって重要であり、そのようなサイトが結果でより多くのポイントを得るという事実に言及するだけです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
消費者として、私はこれらのテクノロジーが本当に好きです。</font><font style="vertical-align: inherit;">コンテンツのダウンロード速度に加えて、これらのページはデザインとナビゲーションの点で可能な限り簡単であり、製品カードをすぐに開いたり、デザイン要素に不必要な気を散らすことなく記事を読んだりできます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">技術的特徴</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
開発の観点から見ると、これらのテクノロジーには多くの制限があり、特に</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yandex Turboページ</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。 e-comサイトについて言えば、これまではおもちゃとしてのみ考えることができます。ターボページは現在、ストアのバックエンドとの対話を許可しておらず、検索エンジンとサイトの間の中間の静的リンクにすぎません。商品を購入するアクションを完了するには、ユーザーはストアのWebサイトにアクセスする必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
で</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AMPとグーグル</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべてがはるかに明るく見えます。このテクノロジーにより、サーバーと完全に「通信」できる動的ページを作成できます。たとえば、商品カードを開くときに、バックグラウンドでサーバーに価格の更新要求、商品の在庫状況の確認が行われます。したがって、製品が終了した場合、または価格が変更された場合でも、検索エンジンがこれらの変更にまだインデックスを付けていない場合でも、ユーザーはすべてを正しく迅速に見ることができます。キャッシュから商品が瞬時に読み込まれ、サーバーからデータを受信した後、価格と在庫状況が更新されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、この製品を使用してシステムに完全な注文を送信し、注文番号とともにユーザー情報を表示できます。したがって、AMPを使用すると、大幅に切り捨てられたバージョンではありますが、バスケット、承認、コールバックなどを含む完全なサイトを作成できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私の考えでは、検索エンジンは、訪問者が検索を終了せず、サイトの検索エンジンのページに直接ログインして、注文を出し、支払いを行うなど、すべての人にこれらのテクノロジーの使用を強制しようとします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
独自のアプリケーションがすでに高速である大規模なトップエンドストアの場合、これらの中間のAMPおよびターボページは有害な場合があります。ユーザーは、配信の選択などに応じて、すべての機能を取得するために、とにかくサイトにアクセスする必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
自動倉庫などのない小さなお店など、このフォーマットは面白いかもしれません。特に、バックとのやり取りの最小限のロジックを再作成する場合：価格の更新、個人的な割引/ボーナスの受け取りによる承認、ボーナスと割引を考慮した注文の送信。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらのテクノロジーが本格的なサイトに対してどれほど効果的であるかは、時間によって示されますが、検索エンジンが積極的にこの方向に進んでいれば、それは単に誰もが生きる必要のある新しい現実になります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
現時点で両方のテクノロジーの不利な点は、サイトが実際のアドレスではなく、検索エンジンのプレフィックスを使用して開かれていることです。たとえば、お気に入りにページを追加したり、共有したりできません。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google：google.com/amp/s/ [サイトのURL]</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yandex：yandex.ru/turbo?text= [サイトのURL]</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この問題の一部は、AMPページの71バージョンを備えたChromeのGoogleによって解決されており、あなたのアドレスを作成する機会が現れました。</font><font style="vertical-align: inherit;">これを行うには、サーバーでAMPパッケージャーを構成し、「CanSignHttpExchange」をサポートするSSL証明書を構成する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yandexも遅れることはなく、iOSおよびAndroid向けの最新バージョンのYandexブラウザーでも、プレフィックスなしのサイトドメインが表示されます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">開発に関するAMPおよびTurboページ</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AMP</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、すべてのタグとCSSをサポートする本格的なHTMLページです。いくつかのマイナーな制限とヘッドのデザインの違いがあります。たとえば、imgタグは禁止されていますが、代わりにamp-imgを使用する必要があります。 JSONを介してサーバーとの対話を確立できるJavaScriptコンポーネントがあります。たとえば、AMPページからサーバーにクイック注文フォームを送信し、JSON形式で応答を受信して​​表示できます。写真、ビデオなどのカルーセル用のコンポーネントがあります。ネイティブJavaScriptは当初禁止されていましたが、そのスクリプトのサポートが最近追加されました。</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ターボページ</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これは、CSS3を完全にサポートしていますが、いくつかのタグをサポートするために非常に切り捨てられたhtmlです。</font><font style="vertical-align: inherit;">現時点では、バックエンドと対話するためのシナリオは実行できません。</font><font style="vertical-align: inherit;">カルーセル、ビデオなどのコンポーネントもあります。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
YandexはGoogleの足跡をたどっており、2019年末までにターボページでe-commのバックエンドとのやり取りの機会を追加する予定であることに注意します。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クイックオーダー</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">認可</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支払い。</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ページを検索エンジンに転送する方法</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AMPページとターボページには基本的な違いがあります。</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AMP</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、サイトの特定のURLで利用できます。たとえば、ブラウザからアクセスできます。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/catalog/category/tovar.html-通常のページ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/amp/catalog/category/tovar.html-AMP</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ページごとにAMPが作成され、リンクrelを介したリンクがヘッドに登録されます。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通常のページからAMPリンクへrel = "amphtml" href = ""</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AMPバックリンクではrel = "canonical" href = ""</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Googleは、サイトのクロール中に、通常のページとAMPページの両方をクロールします。</font><font style="vertical-align: inherit;">すべてが開発に対して透過的です。同じコンポーネント/スクリプトで異なるHTML（通常およびAMP）を生成し、URLに応じてブラウザーに提供できます。</font><strong><font style="vertical-align: inherit;">ターボページ</font></strong><font style="vertical-align: inherit;">より複雑。</font><font style="vertical-align: inherit;">XMLのAPIを介してYandexに送信する必要があります。フォーマットされたHTMLページはCDATA内で送信されます。</font><font style="vertical-align: inherit;">送信する場合、1つのXMLのページ数、各ページの画像数、および各XMLの画像の総数に関する制限を考慮する必要があります。</font><font style="vertical-align: inherit;">
ここに私はこのXMLを生成するジレンマがあります。</font><font style="vertical-align: inherit;">2つのオプションがあります。</font><b><font style="vertical-align: inherit;">最初</font></b></font><br>
<br><font style="vertical-align: inherit;"></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">それは背中にサイトの全体のロジックを再現することです、それは高価で便利ではありません。</font><font style="vertical-align: inherit;">すべてのURLオプション（最新のストアはフィルターから取得されるURLの数が無制限です）、価格、割引、プロモーションなどを考慮する必要があります。</font><font style="vertical-align: inherit;">前面に加えて、これらすべてを背面に複製する必要があります。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2番目の</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オプションは、フロントでの接触時にターボページを生成し、それらをデータベースのいくつかのテーブルに書き込み、Yandexに転送することです。</font><font style="vertical-align: inherit;">これにより、コストが削減され、タスクが簡素化されます。</font><font style="vertical-align: inherit;">通常のページと一緒に生成できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どちらのオプションも実行可能であり、サイトの状況と複雑さに応じて、最初と2番目のオプションを使用できます。</font><font style="vertical-align: inherit;">両方を異なるサイトで使用しています。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将来は？</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4月に日本で開催されたAMP Conf 2019の放送を見ました。</font><font style="vertical-align: inherit;">主なアイデアは、AMPは「サービスとしてのAMP」として位置づけられるというものでした。</font><font style="vertical-align: inherit;">つまり、作成されたページは、技術的には常に自動的に更新されます。</font><font style="vertical-align: inherit;">たとえば、AMPページで本日作成されたライトボックスギャラリーは、画像の拡大、画像のスワイプなどの他の効果を明日開始する可能性があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私はまた、すでに現れている、または近い将来現れるであろう重要なポイントも重要だと考えています。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">制限付きのネイティブJavaScriptの使用</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Googleが問題の別のブロックで実験的にサポートし始めたStoryesを作成する機能（これまでのところ、米国のみ）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">電子メール用AMP（Gmailをサポート、mail.ruのリリース、夏の展望）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ロシア語サポート</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A / Bテスト用のコンポーネントamp-experiment</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recaptcha 3のサポート</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これの多くはターボページで適用されると想定できますが、遅延があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Googleでは、AMPに基づいてプログレッシブウェブアプリを作成することもできます。</font><font style="vertical-align: inherit;">この質問については詳しく説明しませんでしたが、AMPでサイト全体を作成し、Googleの指示に従ってプログレッシブWebアプリに適合させると、ホーム画面のブラウザーからPWAがインストールされます。</font><font style="vertical-align: inherit;">それはあなたがインターネットに接続せずにサイトを見て、ユーザーのプッシュ通知にアクセスできるようになります。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
GoogleとYandexは、通常のサイトとe-commプロジェクトの両方を傾けて、AMPページとターボページを作成します。</font><font style="vertical-align: inherit;">それは、次に、彼がどこに位置し、どこから商品を注文したかというユーザーの理解を損なうことになります。</font><font style="vertical-align: inherit;">それは、検索エンジン内部のグローバルな市場になるかもしれません。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja468793/index.html">私たちは暗号通貨天秤座を扱います。細部</a></li>
<li><a href="../ja468797/index.html">目の焦点距離。それは何ですか？（更新）</a></li>
<li><a href="../ja468799/index.html">初心者のための反応または悪いヒントのアンチパターン</a></li>
<li><a href="../ja468803/index.html">ワークフローエンジンの作成方法</a></li>
<li><a href="../ja468805/index.html">System.Console、Mono、NCurses</a></li>
<li><a href="../ja468815/index.html">Apache、ViewState、および逆シリアル化</a></li>
<li><a href="../ja468817/index.html">公開鍵標準に基づく暗号ワークステーション。SSL証明書を発行します。エピローグ</a></li>
<li><a href="../ja468819/index.html">電報番号開示v.2-ソーシャルエンジニアリング</a></li>
<li><a href="../ja468825/index.html">SLAがあなたを救うと考えるのをやめてください。落ち着いて誤った安心感を生み出すことが必要です。</a></li>
<li><a href="../ja468827/index.html">睡眠用ガジェット</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>