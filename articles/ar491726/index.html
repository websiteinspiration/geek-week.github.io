<!doctype html>
<html class="no-js" lang="ar">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ–Œï¸ ğŸ” ğŸ™ğŸ¾ ØªÙˆØ³ÙŠØ¹ Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© Ø§Ù„Ù…ØªØ¯Ø§Ø®Ù„Ø© - Ù‚ÙˆØ§Ø¦Ù… Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù„ØºØ© R (Ø­Ø²Ù…Ø© tidyr Ùˆ unnest ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø£Ø³Ø±Ø©) ğŸ”­ ğŸï¸ ğŸ™‡ğŸ¼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ÙÙŠ Ù…Ø¹Ø¸Ù… Ø§Ù„Ø­Ø§Ù„Ø§Øª ØŒ Ø¹Ù†Ø¯ Ø§Ù„Ø¹Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ù…ØªÙ„Ù‚Ø§Ø© Ù…Ù† ÙˆØ§Ø¬Ù‡Ø© Ø¨Ø±Ù…Ø¬Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª ØŒ Ø£Ùˆ Ù…Ø¹ Ø£ÙŠ Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ø®Ø±Ù‰ Ø°Ø§Øª Ø¨Ù†ÙŠØ© Ø´Ø¬Ø±Ø© Ù…Ø¹Ù‚Ø¯Ø© ØŒ ÙØ¥Ù†Ùƒ ØªÙˆØ§Ø¬Ù‡ ØªÙ†Ø³ÙŠÙ‚Ø§Øª JSON Ùˆ XML....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ØªÙˆØ³ÙŠØ¹ Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© Ø§Ù„Ù…ØªØ¯Ø§Ø®Ù„Ø© - Ù‚ÙˆØ§Ø¦Ù… Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù„ØºØ© R (Ø­Ø²Ù…Ø© tidyr Ùˆ unnest ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø£Ø³Ø±Ø©)</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/491726/"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ÙÙŠ Ù…Ø¹Ø¸Ù… Ø§Ù„Ø­Ø§Ù„Ø§Øª ØŒ Ø¹Ù†Ø¯ Ø§Ù„Ø¹Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ù…ØªÙ„Ù‚Ø§Ø© Ù…Ù† ÙˆØ§Ø¬Ù‡Ø© Ø¨Ø±Ù…Ø¬Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª ØŒ Ø£Ùˆ Ù…Ø¹ Ø£ÙŠ Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ø®Ø±Ù‰ Ø°Ø§Øª Ø¨Ù†ÙŠØ© Ø´Ø¬Ø±Ø© Ù…Ø¹Ù‚Ø¯Ø© ØŒ ÙØ¥Ù†Ùƒ ØªÙˆØ§Ø¬Ù‡ ØªÙ†Ø³ÙŠÙ‚Ø§Øª JSON Ùˆ XML.</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ØªØªÙ…ØªØ¹ Ù‡Ø°Ù‡ Ø§Ù„ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø¨Ù…Ø²Ø§ÙŠØ§ Ø¹Ø¯ÙŠØ¯Ø©: ÙÙ‡ÙŠ ØªÙ‚ÙˆÙ… Ø¨ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø´ÙƒÙ„ Ù…Ø¶ØºÙˆØ· ØªÙ…Ø§Ù…Ù‹Ø§ ÙˆØªØ¬Ù†Ø¨ Ø§Ù„Ø§Ø²Ø¯ÙˆØ§Ø¬ÙŠØ© ØºÙŠØ± Ø§Ù„Ø¶Ø±ÙˆØ±ÙŠØ© ÙÙŠ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª. </font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ø¹ÙŠØ¨ Ù‡Ø°Ù‡ Ø§Ù„ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ù‡Ùˆ ØªØ¹Ù‚ÙŠØ¯ Ù…Ø¹Ø§Ù„Ø¬ØªÙ‡Ø§ ÙˆØªØ­Ù„ÙŠÙ„Ù‡Ø§. </font><font style="vertical-align: inherit;">Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØºÙŠØ± Ø§Ù„Ù…Ù†Ø¸Ù…Ø© ÙÙŠ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª ÙˆÙ„Ø§ ÙŠÙ…ÙƒÙ† Ø¨Ù†Ø§Ø¡ Ø§Ù„ØªØµÙˆØ± Ø¹Ù„Ù‰ Ø£Ø³Ø§Ø³Ù‡Ø§.</font></font></p><br>
<p><img src="https://habrastorage.org/webt/7s/yf/gr/7syfgrnpyegv-ihhcguupzuwm9c.jpeg"><br>
</p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù‚Ø§Ù„Ø© Ù‡ÙŠ Ø§Ø³ØªÙ…Ø±Ø§Ø± Ù…Ù†Ø·Ù‚ÙŠ Ù„Ù„Ù…Ù†Ø´ÙˆØ± </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Ø­Ø²Ù…Ø© Ø± R ÙˆÙˆØ¸Ø§Ø¦ÙÙ‡Ø§ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© pivot_longer Ùˆ pivot_wider"</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ø³ÙŠØ³Ø§Ø¹Ø¯Ùƒ Ø¹Ù„Ù‰ Ø¥Ø­Ø¶Ø§Ø± ØªØ±ÙƒÙŠØ¨Ø§Øª Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØºÙŠØ± Ø§Ù„Ù…Ù†Ø¸Ù…Ø© Ø¥Ù„Ù‰ Ø´ÙƒÙ„ Ø¬Ø¯ÙˆÙ„ Ù…Ø£Ù„ÙˆÙ ÙˆÙ…Ù†Ø§Ø³Ø¨ Ù„Ù„ØªØ­Ù„ÙŠÙ„ ØŒ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø­Ø²Ù…Ø© </font></font><code>tidyr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ø§Ù„Ù…Ø¶Ù…Ù†Ø© ÙÙŠ Ø¬ÙˆÙ‡Ø± Ø§Ù„Ù…ÙƒØªØ¨Ø© </font></font><code>tidyverse</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ÙˆÙˆØ¸Ø§Ø¦ÙÙ‡Ø§ Ø§Ù„Ø¹Ø§Ø¦Ù„ÙŠØ© </font></font><code>unnest_*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></p><a name="habracut"></a><br>
<h1 id="soderzhanie"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ø§Ù„Ù…Ø­ØªÙˆÙ‰</font></font></h1><br>
<p><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ø¥Ø°Ø§ ÙƒÙ†Øª Ù…Ù‡ØªÙ…Ø§ ÙÙŠ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŒ Ù‚Ø¯ ØªÙƒÙˆÙ† Ù…Ù‡ØªÙ…Ø© ÙÙŠ Ø¨Ù„Ø¯ÙŠ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ø¨Ø±Ù‚ÙŠØ©</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ùˆ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ÙŠÙˆØªÙŠÙˆØ¨</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ø§Ù„Ù‚Ù†ÙˆØ§Øª. </font><font style="vertical-align: inherit;">Ù…Ø¹Ø¸Ù… Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ù…Ø®ØµØµ Ù„Ù€ R.</font></font></em></p><br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ø§Ù„Ù…Ù‚Ø¯Ù…Ø©</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ù…Ø³ØªØ®Ø¯Ù…ÙŠ Ø¬ÙŠØ«Ø¨</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ù…Ø³ØªÙˆØ¯Ø¹Ø§Øª Ø¬ÙŠØ«Ø¨</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ù„Ø¹Ø¨Ø© Ø´Ø®ØµÙŠØ§Øª Ø§Ù„Ø¹Ø±ÙˆØ´</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">   Google</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">  </a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a></li>
</ol><br>
<h1 id="vvedenie"></h1><br>
<p><strong>Rectangling</strong> <em>(. ,       ,     .)</em> â€”            ,       .  <code>tidyr</code>   ,      -     ,  :</p><br>
<ul>
<li><code>unnest_longer()</code>    -    .</li>
<li><code>unnest_wider()</code>    -    .</li>
<li><code>unnest_auto()</code>       <br>
<code>unnest_longer()</code>  <code>unnest_wider()</code>.</li>
<li><code>hoist()</code>   <code>unnest_wider()</code>            .</li>
</ul><br>
<p>                ,     dplyr.</p><br>
<p>   ,     <code>repurrrsive</code>,    ,  ,   -API.</p><br>
<pre><code class="plaintext hljs">library(tidyr)<font></font>
library(dplyr)<font></font>
library(repurrrsive)</code></pre><br>
<h1 id="polzovateli-github"> GitHub</h1><br>
<p>  <em>gh_users</em>, ,       GitHub.     <em>gh_users</em>  <em>tibble</em> .:</p><br>
<pre><code class="plaintext hljs">users &lt;-   tibble( user = gh_users ) </code></pre><br>
<p>   :    <em>gh_users</em>,     ?       :    ,       .</p><br>
<p>   <code>users</code>    ,      .</p><br>
<pre><code class="plaintext hljs">names(users$user[[1]])<font></font>
#&gt;  [1] "login"               "id"                  "avatar_url"         <font></font>
#&gt;  [4] "gravatar_id"         "url"                 "html_url"           <font></font>
#&gt;  [7] "followers_url"       "following_url"       "gists_url"          <font></font>
#&gt; [10] "starred_url"         "subscriptions_url"   "organizations_url"  <font></font>
#&gt; [13] "repos_url"           "events_url"          "received_events_url"<font></font>
#&gt; [16] "type"                "site_admin"          "name"               <font></font>
#&gt; [19] "company"             "blog"                "location"           <font></font>
#&gt; [22] "email"               "hireable"            "bio"                <font></font>
#&gt; [25] "public_repos"        "public_gists"        "followers"          <font></font>
#&gt; [28] "following"           "created_at"          "updated_at"</code></pre><br>
<p>       . <code>unnest_wider()</code>       :</p><br>
<pre><code class="plaintext hljs">users %&gt;% unnest_wider(user)<font></font>
#&gt; # A tibble: 6 x 30<font></font>
#&gt;   login     id avatar_url gravatar_id url   html_url followers_url<font></font>
#&gt;   &lt;chr&gt;  &lt;int&gt; &lt;chr&gt;      &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;        <font></font>
#&gt; 1 gaboâ€¦ 6.60e5 https://aâ€¦ ""          httpâ€¦ https:/â€¦ https://api.â€¦<font></font>
#&gt; 2 jennâ€¦ 5.99e5 https://aâ€¦ ""          httpâ€¦ https:/â€¦ https://api.â€¦<font></font>
#&gt; 3 jtleâ€¦ 1.57e6 https://aâ€¦ ""          httpâ€¦ https:/â€¦ https://api.â€¦<font></font>
#&gt; 4 juliâ€¦ 1.25e7 https://aâ€¦ ""          httpâ€¦ https:/â€¦ https://api.â€¦<font></font>
#&gt; 5 leepâ€¦ 3.51e6 https://aâ€¦ ""          httpâ€¦ https:/â€¦ https://api.â€¦<font></font>
#&gt; 6 masaâ€¦ 8.36e6 https://aâ€¦ ""          httpâ€¦ https:/â€¦ https://api.â€¦<font></font>
#&gt; # â€¦ with 23 more variables: following_url &lt;chr&gt;, gists_url &lt;chr&gt;,<font></font>
#&gt; #   starred_url &lt;chr&gt;, subscriptions_url &lt;chr&gt;, organizations_url &lt;chr&gt;,<font></font>
#&gt; #   repos_url &lt;chr&gt;, events_url &lt;chr&gt;, received_events_url &lt;chr&gt;,<font></font>
#&gt; #   type &lt;chr&gt;, site_admin &lt;lgl&gt;, name &lt;chr&gt;, company &lt;chr&gt;, blog &lt;chr&gt;,<font></font>
#&gt; #   location &lt;chr&gt;, email &lt;chr&gt;, public_repos &lt;int&gt;, public_gists &lt;int&gt;,<font></font>
#&gt; #   followers &lt;int&gt;, following &lt;int&gt;, created_at &lt;chr&gt;, updated_at &lt;chr&gt;,<font></font>
#&gt; #   bio &lt;chr&gt;, hireable &lt;lgl&gt;</code></pre><br>
<p>        30 ,       ,     <code>unnest_wider()</code>  <code>hoist()</code>. <code>hoist()</code>     ,    ,   <code>purrr::pluck()</code>:</p><br>
<pre><code class="plaintext hljs">users %&gt;% hoist(user, <font></font>
  followers = "followers", <font></font>
  login = "login", <font></font>
  url = "html_url"<font></font>
)<font></font>
#&gt; # A tibble: 6 x 4<font></font>
#&gt;   followers login       url                            user             <font></font>
#&gt;       &lt;int&gt; &lt;chr&gt;       &lt;chr&gt;                          &lt;list&gt;           <font></font>
#&gt; 1       303 gaborcsardi https://github.com/gaborcsardi &lt;named list [27]&gt;<font></font>
#&gt; 2       780 jennybc     https://github.com/jennybc     &lt;named list [27]&gt;<font></font>
#&gt; 3      3958 jtleek      https://github.com/jtleek      &lt;named list [27]&gt;<font></font>
#&gt; 4       115 juliasilge  https://github.com/juliasilge  &lt;named list [27]&gt;<font></font>
#&gt; 5       213 leeper      https://github.com/leeper      &lt;named list [27]&gt;<font></font>
#&gt; 6        34 masalmon    https://github.com/masalmon    &lt;named list [27]&gt;</code></pre><br>
<p><code>hoist()</code>      - <em>user</em>,     <code>hoist()</code>            .</p><br>
<h1 id="repozitorii-github"> Github</h1><br>
<p>  <code>gh_repos</code>   ,    <code>tibble</code>:</p><br>
<pre><code class="plaintext hljs">repos &lt;- tibble(repo = gh_repos)<font></font>
repos<font></font>
#&gt; # A tibble: 6 x 1<font></font>
#&gt;   repo       <font></font>
#&gt;   &lt;list&gt;     <font></font>
#&gt; 1 &lt;list [30]&gt;<font></font>
#&gt; 2 &lt;list [30]&gt;<font></font>
#&gt; 3 &lt;list [30]&gt;<font></font>
#&gt; 4 &lt;list [26]&gt;<font></font>
#&gt; 5 &lt;list [30]&gt;<font></font>
#&gt; 6 &lt;list [30]&gt;</code></pre><br>
<p>    <em>user</em>    ,   .     ,      <em>(. tidy data)</em>     ,       <code>unnest_longer()</code>   <code>unnest_wider()</code>:</p><br>
<pre><code class="plaintext hljs">repos &lt;- repos %&gt;% unnest_longer(repo)<font></font>
repos<font></font>
#&gt; # A tibble: 176 x 1<font></font>
#&gt;    repo             <font></font>
#&gt;    &lt;list&gt;           <font></font>
#&gt;  1 &lt;named list [68]&gt;<font></font>
#&gt;  2 &lt;named list [68]&gt;<font></font>
#&gt;  3 &lt;named list [68]&gt;<font></font>
#&gt;  4 &lt;named list [68]&gt;<font></font>
#&gt;  5 &lt;named list [68]&gt;<font></font>
#&gt;  6 &lt;named list [68]&gt;<font></font>
#&gt;  7 &lt;named list [68]&gt;<font></font>
#&gt;  8 &lt;named list [68]&gt;<font></font>
#&gt;  9 &lt;named list [68]&gt;<font></font>
#&gt; 10 &lt;named list [68]&gt;<font></font>
#&gt; # â€¦ with 166 more rows</code></pre><br>
<p>    <code>unnest_wider()</code>  <code>hoist()</code> :</p><br>
<pre><code class="plaintext hljs">repos %&gt;% hoist(repo, <font></font>
  login = c("owner", "login"), <font></font>
  name = "name",<font></font>
  homepage = "homepage",<font></font>
  watchers = "watchers_count"<font></font>
)<font></font>
#&gt; # A tibble: 176 x 5<font></font>
#&gt;    login       name        homepage watchers repo             <font></font>
#&gt;    &lt;chr&gt;       &lt;chr&gt;       &lt;chr&gt;       &lt;int&gt; &lt;list&gt;           <font></font>
#&gt;  1 gaborcsardi after       &lt;NA&gt;            5 &lt;named list [65]&gt;<font></font>
#&gt;  2 gaborcsardi argufy      &lt;NA&gt;           19 &lt;named list [65]&gt;<font></font>
#&gt;  3 gaborcsardi ask         &lt;NA&gt;            5 &lt;named list [65]&gt;<font></font>
#&gt;  4 gaborcsardi baseimports &lt;NA&gt;            0 &lt;named list [65]&gt;<font></font>
#&gt;  5 gaborcsardi citest      &lt;NA&gt;            0 &lt;named list [65]&gt;<font></font>
#&gt;  6 gaborcsardi clisymbols  ""             18 &lt;named list [65]&gt;<font></font>
#&gt;  7 gaborcsardi cmaker      &lt;NA&gt;            0 &lt;named list [65]&gt;<font></font>
#&gt;  8 gaborcsardi cmark       &lt;NA&gt;            0 &lt;named list [65]&gt;<font></font>
#&gt;  9 gaborcsardi conditions  &lt;NA&gt;            0 &lt;named list [65]&gt;<font></font>
#&gt; 10 gaborcsardi crayon      &lt;NA&gt;           52 &lt;named list [65]&gt;<font></font>
#&gt; # â€¦ with 166 more rows</code></pre><br>
<p>    <code>c("owner", "login")</code>:           <code>owner</code>.     ,     <code>owner</code>      <code>unnest_wider()</code>      :</p><br>
<pre><code class="plaintext hljs">repos %&gt;% <font></font>
  hoist(repo, owner = "owner") %&gt;% <font></font>
  unnest_wider(owner)<font></font>
#&gt; # A tibble: 176 x 18<font></font>
#&gt;    login     id avatar_url gravatar_id url   html_url followers_url<font></font>
#&gt;    &lt;chr&gt;  &lt;int&gt; &lt;chr&gt;      &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;        <font></font>
#&gt;  1 gaboâ€¦ 660288 https://aâ€¦ ""          httpâ€¦ https:/â€¦ https://api.â€¦<font></font>
#&gt;  2 gaboâ€¦ 660288 https://aâ€¦ ""          httpâ€¦ https:/â€¦ https://api.â€¦<font></font>
#&gt;  3 gaboâ€¦ 660288 https://aâ€¦ ""          httpâ€¦ https:/â€¦ https://api.â€¦<font></font>
#&gt;  4 gaboâ€¦ 660288 https://aâ€¦ ""          httpâ€¦ https:/â€¦ https://api.â€¦<font></font>
#&gt;  5 gaboâ€¦ 660288 https://aâ€¦ ""          httpâ€¦ https:/â€¦ https://api.â€¦<font></font>
#&gt;  6 gaboâ€¦ 660288 https://aâ€¦ ""          httpâ€¦ https:/â€¦ https://api.â€¦<font></font>
#&gt;  7 gaboâ€¦ 660288 https://aâ€¦ ""          httpâ€¦ https:/â€¦ https://api.â€¦<font></font>
#&gt;  8 gaboâ€¦ 660288 https://aâ€¦ ""          httpâ€¦ https:/â€¦ https://api.â€¦<font></font>
#&gt;  9 gaboâ€¦ 660288 https://aâ€¦ ""          httpâ€¦ https:/â€¦ https://api.â€¦<font></font>
#&gt; 10 gaboâ€¦ 660288 https://aâ€¦ ""          httpâ€¦ https:/â€¦ https://api.â€¦<font></font>
#&gt; # â€¦ with 166 more rows, and 11 more variables: following_url &lt;chr&gt;,<font></font>
#&gt; #   gists_url &lt;chr&gt;, starred_url &lt;chr&gt;, subscriptions_url &lt;chr&gt;,<font></font>
#&gt; #   organizations_url &lt;chr&gt;, repos_url &lt;chr&gt;, events_url &lt;chr&gt;,<font></font>
#&gt; #   received_events_url &lt;chr&gt;, type &lt;chr&gt;, site_admin &lt;lgl&gt;, repo &lt;list&gt;</code></pre><br>
<p> ,        <code>unnest_longer()</code>  <code>unnest_wider()</code>    <code>unnest_auto()</code>.              ,      . </p><br>
<pre><code class="plaintext hljs">tibble(repo = gh_repos) %&gt;% <font></font>
  unnest_auto(repo) %&gt;% <font></font>
  unnest_auto(repo)<font></font>
#&gt; Using `unnest_longer(repo)`; no element has names<font></font>
#&gt; Using `unnest_wider(repo)`; elements have 68 names in common<font></font>
#&gt; # A tibble: 176 x 67<font></font>
#&gt;        id name  full_name owner private html_url description fork  url  <font></font>
#&gt;     &lt;int&gt; &lt;chr&gt; &lt;chr&gt;     &lt;lis&gt; &lt;lgl&gt;   &lt;chr&gt;    &lt;chr&gt;       &lt;lgl&gt; &lt;chr&gt;<font></font>
#&gt;  1 6.12e7 after gaborcsaâ€¦ &lt;namâ€¦ FALSE   https:/â€¦ Run Code iâ€¦ FALSE httpâ€¦<font></font>
#&gt;  2 4.05e7 arguâ€¦ gaborcsaâ€¦ &lt;namâ€¦ FALSE   https:/â€¦ Declarativâ€¦ FALSE httpâ€¦<font></font>
#&gt;  3 3.64e7 ask   gaborcsaâ€¦ &lt;namâ€¦ FALSE   https:/â€¦ Friendly Câ€¦ FALSE httpâ€¦<font></font>
#&gt;  4 3.49e7 baseâ€¦ gaborcsaâ€¦ &lt;namâ€¦ FALSE   https:/â€¦ Do we get â€¦ FALSE httpâ€¦<font></font>
#&gt;  5 6.16e7 citeâ€¦ gaborcsaâ€¦ &lt;namâ€¦ FALSE   https:/â€¦ Test R pacâ€¦ TRUE  httpâ€¦<font></font>
#&gt;  6 3.39e7 clisâ€¦ gaborcsaâ€¦ &lt;namâ€¦ FALSE   https:/â€¦ Unicode syâ€¦ FALSE httpâ€¦<font></font>
#&gt;  7 3.72e7 cmakâ€¦ gaborcsaâ€¦ &lt;namâ€¦ FALSE   https:/â€¦ port of cmâ€¦ TRUE  httpâ€¦<font></font>
#&gt;  8 6.80e7 cmark gaborcsaâ€¦ &lt;namâ€¦ FALSE   https:/â€¦ CommonMarkâ€¦ TRUE  httpâ€¦<font></font>
#&gt;  9 6.32e7 condâ€¦ gaborcsaâ€¦ &lt;namâ€¦ FALSE   https:/â€¦ &lt;NA&gt;        TRUE  httpâ€¦<font></font>
#&gt; 10 2.43e7 crayâ€¦ gaborcsaâ€¦ &lt;namâ€¦ FALSE   https:/â€¦ R package â€¦ FALSE httpâ€¦<font></font>
#&gt; # â€¦ with 166 more rows, and 58 more variables: forks_url &lt;chr&gt;,<font></font>
#&gt; #   keys_url &lt;chr&gt;, collaborators_url &lt;chr&gt;, teams_url &lt;chr&gt;,<font></font>
#&gt; #   hooks_url &lt;chr&gt;, issue_events_url &lt;chr&gt;, events_url &lt;chr&gt;,<font></font>
#&gt; #   assignees_url &lt;chr&gt;, branches_url &lt;chr&gt;, tags_url &lt;chr&gt;,<font></font>
#&gt; #   blobs_url &lt;chr&gt;, git_tags_url &lt;chr&gt;, git_refs_url &lt;chr&gt;,<font></font>
#&gt; #   trees_url &lt;chr&gt;, statuses_url &lt;chr&gt;, languages_url &lt;chr&gt;,<font></font>
#&gt; #   stargazers_url &lt;chr&gt;, contributors_url &lt;chr&gt;, subscribers_url &lt;chr&gt;,<font></font>
#&gt; #   subscription_url &lt;chr&gt;, commits_url &lt;chr&gt;, git_commits_url &lt;chr&gt;,<font></font>
#&gt; #   comments_url &lt;chr&gt;, issue_comment_url &lt;chr&gt;, contents_url &lt;chr&gt;,<font></font>
#&gt; #   compare_url &lt;chr&gt;, merges_url &lt;chr&gt;, archive_url &lt;chr&gt;,<font></font>
#&gt; #   downloads_url &lt;chr&gt;, issues_url &lt;chr&gt;, pulls_url &lt;chr&gt;,<font></font>
#&gt; #   milestones_url &lt;chr&gt;, notifications_url &lt;chr&gt;, labels_url &lt;chr&gt;,<font></font>
#&gt; #   releases_url &lt;chr&gt;, deployments_url &lt;chr&gt;, created_at &lt;chr&gt;,<font></font>
#&gt; #   updated_at &lt;chr&gt;, pushed_at &lt;chr&gt;, git_url &lt;chr&gt;, ssh_url &lt;chr&gt;,<font></font>
#&gt; #   clone_url &lt;chr&gt;, svn_url &lt;chr&gt;, size &lt;int&gt;, stargazers_count &lt;int&gt;,<font></font>
#&gt; #   watchers_count &lt;int&gt;, language &lt;chr&gt;, has_issues &lt;lgl&gt;,<font></font>
#&gt; #   has_downloads &lt;lgl&gt;, has_wiki &lt;lgl&gt;, has_pages &lt;lgl&gt;,<font></font>
#&gt; #   forks_count &lt;int&gt;, open_issues_count &lt;int&gt;, forks &lt;int&gt;,<font></font>
#&gt; #   open_issues &lt;int&gt;, watchers &lt;int&gt;, default_branch &lt;chr&gt;,<font></font>
#&gt; #   homepage &lt;chr&gt;</code></pre><br>
<h1 id="personazhi-igry-prestolov">  </h1><br>
<p><code>got_chars</code>     <code>gh_users</code>:    ,           .  <code>got_chars</code>         ,        ,        :</p><br>
<pre><code class="plaintext hljs">chars &lt;- tibble(char = got_chars)<font></font>
chars<font></font>
#&gt; # A tibble: 30 x 1<font></font>
#&gt;    char             <font></font>
#&gt;    &lt;list&gt;           <font></font>
#&gt;  1 &lt;named list [18]&gt;<font></font>
#&gt;  2 &lt;named list [18]&gt;<font></font>
#&gt;  3 &lt;named list [18]&gt;<font></font>
#&gt;  4 &lt;named list [18]&gt;<font></font>
#&gt;  5 &lt;named list [18]&gt;<font></font>
#&gt;  6 &lt;named list [18]&gt;<font></font>
#&gt;  7 &lt;named list [18]&gt;<font></font>
#&gt;  8 &lt;named list [18]&gt;<font></font>
#&gt;  9 &lt;named list [18]&gt;<font></font>
#&gt; 10 &lt;named list [18]&gt;<font></font>
#&gt; # â€¦ with 20 more rows<font></font>
<font></font>
chars2 &lt;- chars %&gt;% unnest_wider(char)<font></font>
chars2<font></font>
#&gt; # A tibble: 30 x 18<font></font>
#&gt;    url      id name  gender culture born  died  alive titles aliases father<font></font>
#&gt;    &lt;chr&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt; &lt;lgl&gt; &lt;list&gt; &lt;list&gt;  &lt;chr&gt; <font></font>
#&gt;  1 httpâ€¦  1022 Theoâ€¦ Male   Ironboâ€¦ In 2â€¦ ""    TRUE  &lt;chr â€¦ &lt;chr [â€¦ ""    <font></font>
#&gt;  2 httpâ€¦  1052 Tyriâ€¦ Male   ""      In 2â€¦ ""    TRUE  &lt;chr â€¦ &lt;chr [â€¦ ""    <font></font>
#&gt;  3 httpâ€¦  1074 Victâ€¦ Male   Ironboâ€¦ In 2â€¦ ""    TRUE  &lt;chr â€¦ &lt;chr [â€¦ ""    <font></font>
#&gt;  4 httpâ€¦  1109 Will  Male   ""      ""    In 2â€¦ FALSE &lt;chr â€¦ &lt;chr [â€¦ ""    <font></font>
#&gt;  5 httpâ€¦  1166 Areoâ€¦ Male   Norvosâ€¦ In 2â€¦ ""    TRUE  &lt;chr â€¦ &lt;chr [â€¦ ""    <font></font>
#&gt;  6 httpâ€¦  1267 Chett Male   ""      At Hâ€¦ In 2â€¦ FALSE &lt;chr â€¦ &lt;chr [â€¦ ""    <font></font>
#&gt;  7 httpâ€¦  1295 Cresâ€¦ Male   ""      In 2â€¦ In 2â€¦ FALSE &lt;chr â€¦ &lt;chr [â€¦ ""    <font></font>
#&gt;  8 httpâ€¦   130 Ariaâ€¦ Female Dornish In 2â€¦ ""    TRUE  &lt;chr â€¦ &lt;chr [â€¦ ""    <font></font>
#&gt;  9 httpâ€¦  1303 Daenâ€¦ Female Valyriâ€¦ In 2â€¦ ""    TRUE  &lt;chr â€¦ &lt;chr [â€¦ ""    <font></font>
#&gt; 10 httpâ€¦  1319 Davoâ€¦ Male   Westerâ€¦ In 2â€¦ ""    TRUE  &lt;chr â€¦ &lt;chr [â€¦ ""    <font></font>
#&gt; # â€¦ with 20 more rows, and 7 more variables: mother &lt;chr&gt;, spouse &lt;chr&gt;,<font></font>
#&gt; #   allegiances &lt;list&gt;, books &lt;list&gt;, povBooks &lt;list&gt;, tvSeries &lt;list&gt;,<font></font>
#&gt; #   playedBy &lt;list&gt;</code></pre><br>
<p> <code>got_chars</code>  ,  <code>gh_users</code>, ..    <code>char</code>     ,      â€” :</p><br>
<pre><code class="plaintext hljs">chars2 %&gt;% select_if(is.list)<font></font>
#&gt; # A tibble: 30 x 7<font></font>
#&gt;    titles    aliases    allegiances books     povBooks  tvSeries  playedBy <font></font>
#&gt;    &lt;list&gt;    &lt;list&gt;     &lt;list&gt;      &lt;list&gt;    &lt;list&gt;    &lt;list&gt;    &lt;list&gt;   <font></font>
#&gt;  1 &lt;chr [3]&gt; &lt;chr [4]&gt;  &lt;chr [1]&gt;   &lt;chr [3]&gt; &lt;chr [2]&gt; &lt;chr [6]&gt; &lt;chr [1]&gt;<font></font>
#&gt;  2 &lt;chr [2]&gt; &lt;chr [11]&gt; &lt;chr [1]&gt;   &lt;chr [2]&gt; &lt;chr [4]&gt; &lt;chr [6]&gt; &lt;chr [1]&gt;<font></font>
#&gt;  3 &lt;chr [2]&gt; &lt;chr [1]&gt;  &lt;chr [1]&gt;   &lt;chr [3]&gt; &lt;chr [2]&gt; &lt;chr [1]&gt; &lt;chr [1]&gt;<font></font>
#&gt;  4 &lt;chr [1]&gt; &lt;chr [1]&gt;  &lt;???&gt;       &lt;chr [1]&gt; &lt;chr [1]&gt; &lt;chr [1]&gt; &lt;chr [1]&gt;<font></font>
#&gt;  5 &lt;chr [1]&gt; &lt;chr [1]&gt;  &lt;chr [1]&gt;   &lt;chr [3]&gt; &lt;chr [2]&gt; &lt;chr [2]&gt; &lt;chr [1]&gt;<font></font>
#&gt;  6 &lt;chr [1]&gt; &lt;chr [1]&gt;  &lt;???&gt;       &lt;chr [2]&gt; &lt;chr [1]&gt; &lt;chr [1]&gt; &lt;chr [1]&gt;<font></font>
#&gt;  7 &lt;chr [1]&gt; &lt;chr [1]&gt;  &lt;???&gt;       &lt;chr [2]&gt; &lt;chr [1]&gt; &lt;chr [1]&gt; &lt;chr [1]&gt;<font></font>
#&gt;  8 &lt;chr [1]&gt; &lt;chr [1]&gt;  &lt;chr [1]&gt;   &lt;chr [4]&gt; &lt;chr [1]&gt; &lt;chr [1]&gt; &lt;chr [1]&gt;<font></font>
#&gt;  9 &lt;chr [5]&gt; &lt;chr [11]&gt; &lt;chr [1]&gt;   &lt;chr [1]&gt; &lt;chr [4]&gt; &lt;chr [6]&gt; &lt;chr [1]&gt;<font></font>
#&gt; 10 &lt;chr [4]&gt; &lt;chr [5]&gt;  &lt;chr [2]&gt;   &lt;chr [1]&gt; &lt;chr [3]&gt; &lt;chr [5]&gt; &lt;chr [1]&gt;<font></font>
#&gt; # â€¦ with 20 more rows</code></pre><br>
<p>      . ,           ,    :</p><br>
<pre><code class="plaintext hljs">chars2 %&gt;% <font></font>
  select(name, books, tvSeries) %&gt;% <font></font>
  pivot_longer(c(books, tvSeries), names_to = "media", values_to = "value") %&gt;% <font></font>
  unnest_longer(value)<font></font>
#&gt; # A tibble: 180 x 3<font></font>
#&gt;    name             media    value            <font></font>
#&gt;    &lt;chr&gt;            &lt;chr&gt;    &lt;chr&gt;            <font></font>
#&gt;  1 Theon Greyjoy    books    A Game of Thrones<font></font>
#&gt;  2 Theon Greyjoy    books    A Storm of Swords<font></font>
#&gt;  3 Theon Greyjoy    books    A Feast for Crows<font></font>
#&gt;  4 Theon Greyjoy    tvSeries Season 1         <font></font>
#&gt;  5 Theon Greyjoy    tvSeries Season 2         <font></font>
#&gt;  6 Theon Greyjoy    tvSeries Season 3         <font></font>
#&gt;  7 Theon Greyjoy    tvSeries Season 4         <font></font>
#&gt;  8 Theon Greyjoy    tvSeries Season 5         <font></font>
#&gt;  9 Theon Greyjoy    tvSeries Season 6         <font></font>
#&gt; 10 Tyrion Lannister books    A Feast for Crows<font></font>
#&gt; # â€¦ with 170 more rows</code></pre><br>
<p>,  ,    ,       :</p><br>
<pre><code class="plaintext hljs">chars2 %&gt;% <font></font>
  select(name, title = titles) %&gt;% <font></font>
  unnest_longer(title)<font></font>
#&gt; # A tibble: 60 x 2<font></font>
#&gt;    name              title                                               <font></font>
#&gt;    &lt;chr&gt;             &lt;chr&gt;                                               <font></font>
#&gt;  1 Theon Greyjoy     Prince of Winterfell                                <font></font>
#&gt;  2 Theon Greyjoy     Captain of Sea Bitch                                <font></font>
#&gt;  3 Theon Greyjoy     Lord of the Iron Islands (by law of the green lands)<font></font>
#&gt;  4 Tyrion Lannister  Acting Hand of the King (former)                    <font></font>
#&gt;  5 Tyrion Lannister  Master of Coin (former)                             <font></font>
#&gt;  6 Victarion Greyjoy Lord Captain of the Iron Fleet                      <font></font>
#&gt;  7 Victarion Greyjoy Master of the Iron Victory                          <font></font>
#&gt;  8 Will              ""                                                  <font></font>
#&gt;  9 Areo Hotah        Captain of the Guard at Sunspear                    <font></font>
#&gt; 10 Chett             ""                                                  <font></font>
#&gt; # â€¦ with 50 more rows</code></pre><br>
<p>( ,    <code>""</code>   <code>title</code>,          <code>got_chars</code>:               <code>title</code>     0,     1,   .)</p><br>
<p>        <code>unnest_auto()</code>.      ,      <code>unnest_auto()</code>     .   ,       <code>unnest_auto()</code>      ,     -    <code>unnest_longer()</code>,             <code>unnest_wider()</code>,            .</p><br>
<pre><code class="plaintext hljs">tibble(char = got_chars) %&gt;% <font></font>
  unnest_auto(char) %&gt;% <font></font>
  select(name, title = titles) %&gt;% <font></font>
  unnest_auto(title)<font></font>
#&gt; Using `unnest_wider(char)`; elements have 18 names in common<font></font>
#&gt; Using `unnest_longer(title)`; no element has names<font></font>
#&gt; # A tibble: 60 x 2<font></font>
#&gt;    name              title                                               <font></font>
#&gt;    &lt;chr&gt;             &lt;chr&gt;                                               <font></font>
#&gt;  1 Theon Greyjoy     Prince of Winterfell                                <font></font>
#&gt;  2 Theon Greyjoy     Captain of Sea Bitch                                <font></font>
#&gt;  3 Theon Greyjoy     Lord of the Iron Islands (by law of the green lands)<font></font>
#&gt;  4 Tyrion Lannister  Acting Hand of the King (former)                    <font></font>
#&gt;  5 Tyrion Lannister  Master of Coin (former)                             <font></font>
#&gt;  6 Victarion Greyjoy Lord Captain of the Iron Fleet                      <font></font>
#&gt;  7 Victarion Greyjoy Master of the Iron Victory                          <font></font>
#&gt;  8 Will              ""                                                  <font></font>
#&gt;  9 Areo Hotah        Captain of the Guard at Sunspear                    <font></font>
#&gt; 10 Chett             ""                                                  <font></font>
#&gt; # â€¦ with 50 more rows</code></pre><br>
<h1 id="geokodirovanie-s-pomoschyu-google">   Google</h1><br>
<p>      ,     Google.        API Google maps,        API.      API Google    ;             API Google Maps,         .</p><br>
<pre><code class="plaintext hljs">has_key &lt;- !identical(Sys.getenv("GOOGLE_MAPS_API_KEY"), "")<font></font>
if (!has_key) {<font></font>
  message("No Google Maps API key found; code chunks will not be run")<font></font>
}<font></font>
<font></font>
# https://developers.google.com/maps/documentation/geocoding<font></font>
geocode &lt;- function(address, api_key = Sys.getenv("GOOGLE_MAPS_API_KEY")) {<font></font>
  url &lt;- "https://maps.googleapis.com/maps/api/geocode/json"<font></font>
  url &lt;- paste0(url, "?address=", URLencode(address), "&amp;key=", api_key)<font></font>
<font></font>
  jsonlite::read_json(url)<font></font>
}</code></pre><br>
<p>,    ,  :</p><br>
<pre><code class="plaintext hljs">houston &lt;- geocode("Houston TX")<font></font>
str(houston)<font></font>
#&gt; List of 2<font></font>
#&gt;  $ results:List of 1<font></font>
#&gt;   ..$ :List of 5<font></font>
#&gt;   .. ..$ address_components:List of 4<font></font>
#&gt;   .. .. ..$ :List of 3<font></font>
#&gt;   .. .. .. ..$ long_name : chr "Houston"<font></font>
#&gt;   .. .. .. ..$ short_name: chr "Houston"<font></font>
#&gt;   .. .. .. ..$ types     :List of 2<font></font>
#&gt;   .. .. .. .. ..$ : chr "locality"<font></font>
#&gt;   .. .. .. .. ..$ : chr "political"<font></font>
#&gt;   .. .. ..$ :List of 3<font></font>
#&gt;   .. .. .. ..$ long_name : chr "Harris County"<font></font>
#&gt;   .. .. .. ..$ short_name: chr "Harris County"<font></font>
#&gt;   .. .. .. ..$ types     :List of 2<font></font>
#&gt;   .. .. .. .. ..$ : chr "administrative_area_level_2"<font></font>
#&gt;   .. .. .. .. ..$ : chr "political"<font></font>
#&gt;   .. .. ..$ :List of 3<font></font>
#&gt;   .. .. .. ..$ long_name : chr "Texas"<font></font>
#&gt;   .. .. .. ..$ short_name: chr "TX"<font></font>
#&gt;   .. .. .. ..$ types     :List of 2<font></font>
#&gt;   .. .. .. .. ..$ : chr "administrative_area_level_1"<font></font>
#&gt;   .. .. .. .. ..$ : chr "political"<font></font>
#&gt;   .. .. ..$ :List of 3<font></font>
#&gt;   .. .. .. ..$ long_name : chr "United States"<font></font>
#&gt;   .. .. .. ..$ short_name: chr "US"<font></font>
#&gt;   .. .. .. ..$ types     :List of 2<font></font>
#&gt;   .. .. .. .. ..$ : chr "country"<font></font>
#&gt;   .. .. .. .. ..$ : chr "political"<font></font>
#&gt;   .. ..$ formatted_address : chr "Houston, TX, USA"<font></font>
#&gt;   .. ..$ geometry          :List of 4<font></font>
#&gt;   .. .. ..$ bounds       :List of 2<font></font>
#&gt;   .. .. .. ..$ northeast:List of 2<font></font>
#&gt;   .. .. .. .. ..$ lat: num 30.1<font></font>
#&gt;   .. .. .. .. ..$ lng: num -95<font></font>
#&gt;   .. .. .. ..$ southwest:List of 2<font></font>
#&gt;   .. .. .. .. ..$ lat: num 29.5<font></font>
#&gt;   .. .. .. .. ..$ lng: num -95.8<font></font>
#&gt;   .. .. ..$ location     :List of 2<font></font>
#&gt;   .. .. .. ..$ lat: num 29.8<font></font>
#&gt;   .. .. .. ..$ lng: num -95.4<font></font>
#&gt;   .. .. ..$ location_type: chr "APPROXIMATE"<font></font>
#&gt;   .. .. ..$ viewport     :List of 2<font></font>
#&gt;   .. .. .. ..$ northeast:List of 2<font></font>
#&gt;   .. .. .. .. ..$ lat: num 30.1<font></font>
#&gt;   .. .. .. .. ..$ lng: num -95<font></font>
#&gt;   .. .. .. ..$ southwest:List of 2<font></font>
#&gt;   .. .. .. .. ..$ lat: num 29.5<font></font>
#&gt;   .. .. .. .. ..$ lng: num -95.8<font></font>
#&gt;   .. ..$ place_id          : chr "ChIJAYWNSLS4QIYROwVl894CDco"<font></font>
#&gt;   .. ..$ types             :List of 2<font></font>
#&gt;   .. .. ..$ : chr "locality"<font></font>
#&gt;   .. .. ..$ : chr "political"<font></font>
#&gt;  $ status : chr "OK"</code></pre><br>
<p> ,               <code>tidyr</code>.       ,      :</p><br>
<pre><code class="plaintext hljs">  city &lt;-   c ( "Houston" , "LA" , "New York" , "Chicago" , "Springfield" )  city_geo &lt;-   purrr::map (city, geocode) </code></pre><br>
<p>     <code>tibble</code>,        . </p><br>
<pre><code class="plaintext hljs">loc &lt;- tibble(city = city, json = city_geo)<font></font>
loc<font></font>
#&gt; # A tibble: 5 x 2<font></font>
#&gt;   city        json            <font></font>
#&gt;   &lt;chr&gt;       &lt;list&gt;          <font></font>
#&gt; 1 Houston     &lt;named list [2]&gt;<font></font>
#&gt; 2 LA          &lt;named list [2]&gt;<font></font>
#&gt; 3 New York    &lt;named list [2]&gt;<font></font>
#&gt; 4 Chicago     &lt;named list [2]&gt;<font></font>
#&gt; 5 Springfield &lt;named list [2]&gt;</code></pre><br>
<p>    <code>status</code>  <code>result</code>,       <code>unnest_wider()</code> :</p><br>
<pre><code class="plaintext hljs">loc %&gt;%<font></font>
  unnest_wider(json)<font></font>
#&gt; # A tibble: 5 x 3<font></font>
#&gt;   city        results    status<font></font>
#&gt;   &lt;chr&gt;       &lt;list&gt;     &lt;chr&gt; <font></font>
#&gt; 1 Houston     &lt;list [1]&gt; OK    <font></font>
#&gt; 2 LA          &lt;list [1]&gt; OK    <font></font>
#&gt; 3 New York    &lt;list [1]&gt; OK    <font></font>
#&gt; 4 Chicago     &lt;list [1]&gt; OK    <font></font>
#&gt; 5 Springfield &lt;list [1]&gt; OK</code></pre><br>
<p> ,  <code>results</code>   .     1  (  ,  API ),     .          <code>unnest_longer()</code> :</p><br>
<pre><code class="plaintext hljs">loc %&gt;%<font></font>
  unnest_wider(json) %&gt;% <font></font>
  unnest_longer(results)<font></font>
#&gt; # A tibble: 5 x 3<font></font>
#&gt;   city        results          status<font></font>
#&gt;   &lt;chr&gt;       &lt;list&gt;           &lt;chr&gt; <font></font>
#&gt; 1 Houston     &lt;named list [5]&gt; OK    <font></font>
#&gt; 2 LA          &lt;named list [5]&gt; OK    <font></font>
#&gt; 3 New York    &lt;named list [5]&gt; OK    <font></font>
#&gt; 4 Chicago     &lt;named list [5]&gt; OK    <font></font>
#&gt; 5 Springfield &lt;named list [5]&gt; OK</code></pre><br>
<p>     ,       <code>unnest_wider()</code>:</p><br>
<pre><code class="plaintext hljs">loc %&gt;%<font></font>
  unnest_wider(json) %&gt;% <font></font>
  unnest_longer(results) %&gt;% <font></font>
  unnest_wider(results)<font></font>
#&gt; # A tibble: 5 x 7<font></font>
#&gt;   city   address_componenâ€¦ formatted_addreâ€¦ geometry place_id  types status<font></font>
#&gt;   &lt;chr&gt;  &lt;list&gt;            &lt;chr&gt;            &lt;list&gt;   &lt;chr&gt;     &lt;lis&gt; &lt;chr&gt; <font></font>
#&gt; 1 Houstâ€¦ &lt;list [4]&gt;        Houston, TX, USA &lt;named â€¦ ChIJAYWNâ€¦ &lt;lisâ€¦ OK    <font></font>
#&gt; 2 LA     &lt;list [4]&gt;        Los Angeles, CAâ€¦ &lt;named â€¦ ChIJE9onâ€¦ &lt;lisâ€¦ OK    <font></font>
#&gt; 3 New Yâ€¦ &lt;list [3]&gt;        New York, NY, Uâ€¦ &lt;named â€¦ ChIJOwg_â€¦ &lt;lisâ€¦ OK    <font></font>
#&gt; 4 Chicaâ€¦ &lt;list [4]&gt;        Chicago, IL, USA &lt;named â€¦ ChIJ7cv0â€¦ &lt;lisâ€¦ OK    <font></font>
#&gt; 5 Sprinâ€¦ &lt;list [5]&gt;        Springfield, MOâ€¦ &lt;named â€¦ ChIJP5jIâ€¦ &lt;lisâ€¦ OK</code></pre><br>
<p>           <code>geometry</code>:</p><br>
<pre><code class="plaintext hljs">loc %&gt;%<font></font>
  unnest_wider(json) %&gt;% <font></font>
  unnest_longer(results) %&gt;% <font></font>
  unnest_wider(results) %&gt;% <font></font>
  unnest_wider(geometry)<font></font>
#&gt; # A tibble: 5 x 10<font></font>
#&gt;   city  address_componeâ€¦ formatted_addreâ€¦ bounds location location_type<font></font>
#&gt;   &lt;chr&gt; &lt;list&gt;           &lt;chr&gt;            &lt;list&gt; &lt;list&gt;   &lt;chr&gt;        <font></font>
#&gt; 1 Housâ€¦ &lt;list [4]&gt;       Houston, TX, USA &lt;nameâ€¦ &lt;named â€¦ APPROXIMATE  <font></font>
#&gt; 2 LA    &lt;list [4]&gt;       Los Angeles, CAâ€¦ &lt;nameâ€¦ &lt;named â€¦ APPROXIMATE  <font></font>
#&gt; 3 New â€¦ &lt;list [3]&gt;       New York, NY, Uâ€¦ &lt;nameâ€¦ &lt;named â€¦ APPROXIMATE  <font></font>
#&gt; 4 Chicâ€¦ &lt;list [4]&gt;       Chicago, IL, USA &lt;nameâ€¦ &lt;named â€¦ APPROXIMATE  <font></font>
#&gt; 5 Spriâ€¦ &lt;list [5]&gt;       Springfield, MOâ€¦ &lt;nameâ€¦ &lt;named â€¦ APPROXIMATE  <font></font>
#&gt; # â€¦ with 4 more variables: viewport &lt;list&gt;, place_id &lt;chr&gt;, types &lt;list&gt;,<font></font>
#&gt; #   status &lt;chr&gt;</code></pre><br>
<p>  ,     <code>location</code>:</p><br>
<pre><code class="plaintext hljs">loc %&gt;%<font></font>
  unnest_wider(json) %&gt;%<font></font>
  unnest_longer(results) %&gt;%<font></font>
  unnest_wider(results) %&gt;%<font></font>
  unnest_wider(geometry) %&gt;%<font></font>
  unnest_wider(location)<font></font>
#&gt; # A tibble: 5 x 11<font></font>
#&gt;   city  address_componeâ€¦ formatted_addreâ€¦ bounds   lat    lng location_type<font></font>
#&gt;   &lt;chr&gt; &lt;list&gt;           &lt;chr&gt;            &lt;list&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;        <font></font>
#&gt; 1 Housâ€¦ &lt;list [4]&gt;       Houston, TX, USA &lt;nameâ€¦  29.8  -95.4 APPROXIMATE  <font></font>
#&gt; 2 LA    &lt;list [4]&gt;       Los Angeles, CAâ€¦ &lt;nameâ€¦  34.1 -118.  APPROXIMATE  <font></font>
#&gt; 3 New â€¦ &lt;list [3]&gt;       New York, NY, Uâ€¦ &lt;nameâ€¦  40.7  -74.0 APPROXIMATE  <font></font>
#&gt; 4 Chicâ€¦ &lt;list [4]&gt;       Chicago, IL, USA &lt;nameâ€¦  41.9  -87.6 APPROXIMATE  <font></font>
#&gt; 5 Spriâ€¦ &lt;list [5]&gt;       Springfield, MOâ€¦ &lt;nameâ€¦  37.2  -93.3 APPROXIMATE  <font></font>
#&gt; # â€¦ with 4 more variables: viewport &lt;list&gt;, place_id &lt;chr&gt;, types &lt;list&gt;,<font></font>
#&gt; #   status &lt;chr&gt;</code></pre><br>
<p> , <code>unnest_auto()</code>      ,        :</p><br>
<pre><code class="plaintext hljs">loc %&gt;%<font></font>
  unnest_auto(json) %&gt;%<font></font>
  unnest_auto(results) %&gt;%<font></font>
  unnest_auto(results) %&gt;%<font></font>
  unnest_auto(geometry) %&gt;%<font></font>
  unnest_auto(location)<font></font>
#&gt; Using `unnest_wider(json)`; elements have 2 names in common<font></font>
#&gt; Using `unnest_longer(results)`; no element has names<font></font>
#&gt; Using `unnest_wider(results)`; elements have 5 names in common<font></font>
#&gt; Using `unnest_wider(geometry)`; elements have 4 names in common<font></font>
#&gt; Using `unnest_wider(location)`; elements have 2 names in common<font></font>
#&gt; # A tibble: 5 x 11<font></font>
#&gt;   city  address_componeâ€¦ formatted_addreâ€¦ bounds   lat    lng location_type<font></font>
#&gt;   &lt;chr&gt; &lt;list&gt;           &lt;chr&gt;            &lt;list&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;        <font></font>
#&gt; 1 Housâ€¦ &lt;list [4]&gt;       Houston, TX, USA &lt;nameâ€¦  29.8  -95.4 APPROXIMATE  <font></font>
#&gt; 2 LA    &lt;list [4]&gt;       Los Angeles, CAâ€¦ &lt;nameâ€¦  34.1 -118.  APPROXIMATE  <font></font>
#&gt; 3 New â€¦ &lt;list [3]&gt;       New York, NY, Uâ€¦ &lt;nameâ€¦  40.7  -74.0 APPROXIMATE  <font></font>
#&gt; 4 Chicâ€¦ &lt;list [4]&gt;       Chicago, IL, USA &lt;nameâ€¦  41.9  -87.6 APPROXIMATE  <font></font>
#&gt; 5 Spriâ€¦ &lt;list [5]&gt;       Springfield, MOâ€¦ &lt;nameâ€¦  37.2  -93.3 APPROXIMATE  <font></font>
#&gt; # â€¦ with 4 more variables: viewport &lt;list&gt;, place_id &lt;chr&gt;, types &lt;list&gt;,<font></font>
#&gt; #   status &lt;chr&gt;</code></pre><br>
<p>          :</p><br>
<pre><code class="plaintext hljs">loc %&gt;%<font></font>
  unnest_wider(json) %&gt;%<font></font>
  hoist(results, first_result = 1) %&gt;%<font></font>
  unnest_wider(first_result) %&gt;%<font></font>
  unnest_wider(geometry) %&gt;%<font></font>
  unnest_wider(location)<font></font>
#&gt; # A tibble: 5 x 11<font></font>
#&gt;   city  address_componeâ€¦ formatted_addreâ€¦ bounds   lat    lng location_type<font></font>
#&gt;   &lt;chr&gt; &lt;list&gt;           &lt;chr&gt;            &lt;list&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;        <font></font>
#&gt; 1 Housâ€¦ &lt;list [4]&gt;       Houston, TX, USA &lt;nameâ€¦  29.8  -95.4 APPROXIMATE  <font></font>
#&gt; 2 LA    &lt;list [4]&gt;       Los Angeles, CAâ€¦ &lt;nameâ€¦  34.1 -118.  APPROXIMATE  <font></font>
#&gt; 3 New â€¦ &lt;list [3]&gt;       New York, NY, Uâ€¦ &lt;nameâ€¦  40.7  -74.0 APPROXIMATE  <font></font>
#&gt; 4 Chicâ€¦ &lt;list [4]&gt;       Chicago, IL, USA &lt;nameâ€¦  41.9  -87.6 APPROXIMATE  <font></font>
#&gt; 5 Spriâ€¦ &lt;list [5]&gt;       Springfield, MOâ€¦ &lt;nameâ€¦  37.2  -93.3 APPROXIMATE  <font></font>
#&gt; # â€¦ with 4 more variables: viewport &lt;list&gt;, place_id &lt;chr&gt;, types &lt;list&gt;,<font></font>
#&gt; #   status &lt;chr&gt;</code></pre><br>
<p>  <code>hoist()</code>   ,     <code>lat</code>  <code>lng</code>. </p><br>
<pre><code class="plaintext hljs">loc %&gt;%<font></font>
  hoist(json,<font></font>
    lat = list("results", 1, "geometry", "location", "lat"),<font></font>
    lng = list("results", 1, "geometry", "location", "lng")<font></font>
  )<font></font>
#&gt; # A tibble: 5 x 4<font></font>
#&gt;   city          lat    lng json            <font></font>
#&gt;   &lt;chr&gt;       &lt;dbl&gt;  &lt;dbl&gt; &lt;list&gt;          <font></font>
#&gt; 1 Houston      29.8  -95.4 &lt;named list [2]&gt;<font></font>
#&gt; 2 LA           34.1 -118.  &lt;named list [2]&gt;<font></font>
#&gt; 3 New York     40.7  -74.0 &lt;named list [2]&gt;<font></font>
#&gt; 4 Chicago      41.9  -87.6 &lt;named list [2]&gt;<font></font>
#&gt; 5 Springfield  37.2  -93.3 &lt;named list [2]&gt;</code></pre><br>
<h1 id="diskografiya-sharly-gelfand">  </h1><br>
<p>       â€”   .      ,           ,    ,      .     <code>date_added</code>        R.</p><br>
<pre><code class="plaintext hljs">discs &lt;- tibble(disc = discog) %&gt;% <font></font>
  unnest_wider(disc) %&gt;% <font></font>
  mutate(date_added = as.POSIXct(strptime(date_added, "%Y-%m-%dT%H:%M:%S"))) <font></font>
discs<font></font>
#&gt; # A tibble: 155 x 5<font></font>
#&gt;    instance_id date_added          basic_information       id rating<font></font>
#&gt;          &lt;int&gt; &lt;dttm&gt;              &lt;list&gt;               &lt;int&gt;  &lt;int&gt;<font></font>
#&gt;  1   354823933 2019-02-16 17:48:59 &lt;named list [11]&gt;  7496378      0<font></font>
#&gt;  2   354092601 2019-02-13 14:13:11 &lt;named list [11]&gt;  4490852      0<font></font>
#&gt;  3   354091476 2019-02-13 14:07:23 &lt;named list [11]&gt;  9827276      0<font></font>
#&gt;  4   351244906 2019-02-02 11:39:58 &lt;named list [11]&gt;  9769203      0<font></font>
#&gt;  5   351244801 2019-02-02 11:39:37 &lt;named list [11]&gt;  7237138      0<font></font>
#&gt;  6   351052065 2019-02-01 20:40:53 &lt;named list [11]&gt; 13117042      0<font></font>
#&gt;  7   350315345 2019-01-29 15:48:37 &lt;named list [11]&gt;  7113575      0<font></font>
#&gt;  8   350315103 2019-01-29 15:47:22 &lt;named list [11]&gt; 10540713      0<font></font>
#&gt;  9   350314507 2019-01-29 15:44:08 &lt;named list [11]&gt; 11260950      0<font></font>
#&gt; 10   350314047 2019-01-29 15:41:35 &lt;named list [11]&gt; 11726853      0<font></font>
#&gt; # â€¦ with 145 more rows</code></pre><br>
<p>       ,        ,          .       <code>basic_information</code>:</p><br>
<pre><code class="plaintext hljs">discs %&gt;% unnest_wider(basic_information)<font></font>
#&gt; Column name `id` must not be duplicated.<font></font>
#&gt; Use .name_repair to specify repair.</code></pre><br>
<p>    , ..   <code>basic_information</code>    <code>basic_information</code>.    ,  ,         <code>names_repair = "unique"</code>:</p><br>
<pre><code class="plaintext hljs">discs %&gt;% unnest_wider(basic_information, names_repair = "unique")<font></font>
#&gt; New names:<font></font>
#&gt; * id -&gt; id...6<font></font>
#&gt; * id -&gt; id...14<font></font>
#&gt; # A tibble: 155 x 15<font></font>
#&gt;    instance_id date_added          labels  year artists id...6 thumb title<font></font>
#&gt;          &lt;int&gt; &lt;dttm&gt;              &lt;list&gt; &lt;int&gt; &lt;list&gt;   &lt;int&gt; &lt;chr&gt; &lt;chr&gt;<font></font>
#&gt;  1   354823933 2019-02-16 17:48:59 &lt;listâ€¦  2015 &lt;list â€¦ 7.50e6 httpâ€¦ Demo <font></font>
#&gt;  2   354092601 2019-02-13 14:13:11 &lt;listâ€¦  2013 &lt;list â€¦ 4.49e6 httpâ€¦ Obseâ€¦<font></font>
#&gt;  3   354091476 2019-02-13 14:07:23 &lt;listâ€¦  2017 &lt;list â€¦ 9.83e6 httpâ€¦ I    <font></font>
#&gt;  4   351244906 2019-02-02 11:39:58 &lt;listâ€¦  2017 &lt;list â€¦ 9.77e6 httpâ€¦ OÃ­doâ€¦<font></font>
#&gt;  5   351244801 2019-02-02 11:39:37 &lt;listâ€¦  2015 &lt;list â€¦ 7.24e6 httpâ€¦ A Caâ€¦<font></font>
#&gt;  6   351052065 2019-02-01 20:40:53 &lt;listâ€¦  2019 &lt;list â€¦ 1.31e7 httpâ€¦ Tashâ€¦<font></font>
#&gt;  7   350315345 2019-01-29 15:48:37 &lt;listâ€¦  2014 &lt;list â€¦ 7.11e6 httpâ€¦ Demo <font></font>
#&gt;  8   350315103 2019-01-29 15:47:22 &lt;listâ€¦  2015 &lt;list â€¦ 1.05e7 httpâ€¦ Let â€¦<font></font>
#&gt;  9   350314507 2019-01-29 15:44:08 &lt;listâ€¦  2017 &lt;list â€¦ 1.13e7 ""    Sub â€¦<font></font>
#&gt; 10   350314047 2019-01-29 15:41:35 &lt;listâ€¦  2017 &lt;list â€¦ 1.17e7 httpâ€¦ Demo <font></font>
#&gt; # â€¦ with 145 more rows, and 7 more variables: formats &lt;list&gt;,<font></font>
#&gt; #   cover_image &lt;chr&gt;, resource_url &lt;chr&gt;, master_id &lt;int&gt;,<font></font>
#&gt; #   master_url &lt;chr&gt;, id...14 &lt;int&gt;, rating &lt;int&gt;</code></pre><br>
<p>  ,  <code>basic_information</code>   id      ,      :</p><br>
<pre><code class="plaintext hljs">discs %&gt;% <font></font>
  select(-id) %&gt;% <font></font>
  unnest_wider(basic_information)<font></font>
#&gt; # A tibble: 155 x 14<font></font>
#&gt;    instance_id date_added          labels  year artists     id thumb title<font></font>
#&gt;          &lt;int&gt; &lt;dttm&gt;              &lt;list&gt; &lt;int&gt; &lt;list&gt;   &lt;int&gt; &lt;chr&gt; &lt;chr&gt;<font></font>
#&gt;  1   354823933 2019-02-16 17:48:59 &lt;listâ€¦  2015 &lt;list â€¦ 7.50e6 httpâ€¦ Demo <font></font>
#&gt;  2   354092601 2019-02-13 14:13:11 &lt;listâ€¦  2013 &lt;list â€¦ 4.49e6 httpâ€¦ Obseâ€¦<font></font>
#&gt;  3   354091476 2019-02-13 14:07:23 &lt;listâ€¦  2017 &lt;list â€¦ 9.83e6 httpâ€¦ I    <font></font>
#&gt;  4   351244906 2019-02-02 11:39:58 &lt;listâ€¦  2017 &lt;list â€¦ 9.77e6 httpâ€¦ OÃ­doâ€¦<font></font>
#&gt;  5   351244801 2019-02-02 11:39:37 &lt;listâ€¦  2015 &lt;list â€¦ 7.24e6 httpâ€¦ A Caâ€¦<font></font>
#&gt;  6   351052065 2019-02-01 20:40:53 &lt;listâ€¦  2019 &lt;list â€¦ 1.31e7 httpâ€¦ Tashâ€¦<font></font>
#&gt;  7   350315345 2019-01-29 15:48:37 &lt;listâ€¦  2014 &lt;list â€¦ 7.11e6 httpâ€¦ Demo <font></font>
#&gt;  8   350315103 2019-01-29 15:47:22 &lt;listâ€¦  2015 &lt;list â€¦ 1.05e7 httpâ€¦ Let â€¦<font></font>
#&gt;  9   350314507 2019-01-29 15:44:08 &lt;listâ€¦  2017 &lt;list â€¦ 1.13e7 ""    Sub â€¦<font></font>
#&gt; 10   350314047 2019-01-29 15:41:35 &lt;listâ€¦  2017 &lt;list â€¦ 1.17e7 httpâ€¦ Demo <font></font>
#&gt; # â€¦ with 145 more rows, and 6 more variables: formats &lt;list&gt;,<font></font>
#&gt; #   cover_image &lt;chr&gt;, resource_url &lt;chr&gt;, master_id &lt;int&gt;,<font></font>
#&gt; #   master_url &lt;chr&gt;, rating &lt;int&gt;</code></pre><br>
<p>  ,     <code>hoist()</code>:</p><br>
<pre><code class="plaintext hljs">discs %&gt;% <font></font>
  hoist(basic_information,<font></font>
    title = "title",<font></font>
    year = "year",<font></font>
    label = list("labels", 1, "name"),<font></font>
    artist = list("artists", 1, "name")<font></font>
  )<font></font>
#&gt; # A tibble: 155 x 9<font></font>
#&gt;    instance_id date_added          title  year label artist<font></font>
#&gt;          &lt;int&gt; &lt;dttm&gt;              &lt;chr&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; <font></font>
#&gt;  1   354823933 2019-02-16 17:48:59 Demo   2015 Tobiâ€¦ Mollot<font></font>
#&gt;  2   354092601 2019-02-13 14:13:11 Obseâ€¦  2013 La Vâ€¦ Una Bâ€¦<font></font>
#&gt;  3   354091476 2019-02-13 14:07:23 I      2017 La Vâ€¦ S.H.Iâ€¦<font></font>
#&gt;  4   351244906 2019-02-02 11:39:58 OÃ­doâ€¦  2017 La Vâ€¦ Rata â€¦<font></font>
#&gt;  5   351244801 2019-02-02 11:39:37 A Caâ€¦  2015 Katoâ€¦ Ivy (â€¦<font></font>
#&gt;  6   351052065 2019-02-01 20:40:53 Tashâ€¦  2019 Highâ€¦ Tashme<font></font>
#&gt;  7   350315345 2019-01-29 15:48:37 Demo   2014 Mindâ€¦ Desgrâ€¦<font></font>
#&gt;  8   350315103 2019-01-29 15:47:22 Let â€¦  2015 Not â€¦ Phantâ€¦<font></font>
#&gt;  9   350314507 2019-01-29 15:44:08 Sub â€¦  2017 Not â€¦ Sub Sâ€¦<font></font>
#&gt; 10   350314047 2019-01-29 15:41:35 Demo   2017 Presâ€¦ Smallâ€¦<font></font>
#&gt; # â€¦ with 145 more rows, and 3 more variables: basic_information &lt;list&gt;,<font></font>
#&gt; #   id &lt;int&gt;, rating &lt;int&gt;</code></pre><br>
<p>          ,    .</p><br>
<p>           :</p><br>
<pre><code class="plaintext hljs">discs %&gt;% <font></font>
  hoist(basic_information, artist = "artists") %&gt;% <font></font>
  select(disc_id = id, artist) %&gt;% <font></font>
  unnest_longer(artist) %&gt;% <font></font>
  unnest_wider(artist)<font></font>
#&gt; # A tibble: 167 x 8<font></font>
#&gt;     disc_id join  name        anv   tracks role  resource_url            id<font></font>
#&gt;       &lt;int&gt; &lt;chr&gt; &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;                &lt;int&gt;<font></font>
#&gt;  1  7496378 ""    Mollot      ""    ""     ""    https://api.discogâ€¦ 4.62e6<font></font>
#&gt;  2  4490852 ""    Una BÃ¨stiaâ€¦ ""    ""     ""    https://api.discogâ€¦ 3.19e6<font></font>
#&gt;  3  9827276 ""    S.H.I.T. (â€¦ ""    ""     ""    https://api.discogâ€¦ 2.77e6<font></font>
#&gt;  4  9769203 ""    Rata Negra  ""    ""     ""    https://api.discogâ€¦ 4.28e6<font></font>
#&gt;  5  7237138 ""    Ivy (18)    ""    ""     ""    https://api.discogâ€¦ 3.60e6<font></font>
#&gt;  6 13117042 ""    Tashme      ""    ""     ""    https://api.discogâ€¦ 5.21e6<font></font>
#&gt;  7  7113575 ""    Desgraciadâ€¦ ""    ""     ""    https://api.discogâ€¦ 4.45e6<font></font>
#&gt;  8 10540713 ""    Phantom Heâ€¦ ""    ""     ""    https://api.discogâ€¦ 4.27e6<font></font>
#&gt;  9 11260950 ""    Sub Space â€¦ ""    ""     ""    https://api.discogâ€¦ 5.69e6<font></font>
#&gt; 10 11726853 ""    Small Man â€¦ ""    ""     ""    https://api.discogâ€¦ 6.37e6<font></font>
#&gt; # â€¦ with 157 more rows<font></font>
<font></font>
discs %&gt;% <font></font>
  hoist(basic_information, format = "formats") %&gt;% <font></font>
  select(disc_id = id, format) %&gt;% <font></font>
  unnest_longer(format) %&gt;% <font></font>
  unnest_wider(format) %&gt;% <font></font>
  unnest_longer(descriptions)<font></font>
#&gt; # A tibble: 280 x 5<font></font>
#&gt;     disc_id descriptions text  name     qty  <font></font>
#&gt;       &lt;int&gt; &lt;chr&gt;        &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;<font></font>
#&gt;  1  7496378 Numbered     Black Cassette 1    <font></font>
#&gt;  2  4490852 LP           &lt;NA&gt;  Vinyl    1    <font></font>
#&gt;  3  9827276 "7\""        &lt;NA&gt;  Vinyl    1    <font></font>
#&gt;  4  9827276 45 RPM       &lt;NA&gt;  Vinyl    1    <font></font>
#&gt;  5  9827276 EP           &lt;NA&gt;  Vinyl    1    <font></font>
#&gt;  6  9769203 LP           &lt;NA&gt;  Vinyl    1    <font></font>
#&gt;  7  9769203 Album        &lt;NA&gt;  Vinyl    1    <font></font>
#&gt;  8  7237138 "7\""        &lt;NA&gt;  Vinyl    1    <font></font>
#&gt;  9  7237138 45 RPM       &lt;NA&gt;  Vinyl    1    <font></font>
#&gt; 10 13117042 "7\""        &lt;NA&gt;  Vinyl    1    <font></font>
#&gt; # â€¦ with 270 more rows</code></pre><br>
<p>            .</p><br>
<h1 id="zaklyuchenie"></h1><br>
<p>   <code>tidyverse</code>         . </p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù‚Ø§Ù„Ø© ØŒ Ù‚Ù…Ù†Ø§ Ø¨ØªØ­Ù„ÙŠÙ„ Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ù† Ø§Ù„ÙˆØ¸Ø§Ø¦Ù </font></font><code>unnest_*()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ø§Ù„ØªÙŠ ØªÙ‡Ø¯Ù Ø¥Ù„Ù‰ Ø§Ù„Ø¹Ù…Ù„ Ù…Ø¹ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ù…Ù† Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ù…ØªØ¯Ø§Ø®Ù„Ø©. </font><font style="vertical-align: inherit;">ØªØ­ØªÙˆÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ø­Ø²Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ø¯ÙŠØ¯ Ù…Ù† Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…ÙÙŠØ¯Ø© Ø§Ù„Ø£Ø®Ø±Ù‰ Ø§Ù„ØªÙŠ ØªØ¨Ø³Ø· ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆÙÙ‚Ù‹Ø§ Ù„Ù…ÙÙ‡ÙˆÙ… </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø±ØªØ¨Ø©</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></p></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar491714/index.html">ÙƒÙŠÙ Ø£Ù†Ø´Ø£Øª Ø´Ø±ÙƒØªÙŠ Ø«Ù… Ø¯Ù…Ø±ØªÙ‡Ø§</a></li>
<li><a href="../ar491718/index.html">Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…ØªØ®ØµØµ: ÙƒÙŠÙ ØªØ³ÙØ± 10Ùª Ù…Ù† Ø§Ù„Ù…Ù‚Ø§Ù„Ø§Øª Ø¹Ù† 61Ùª Ù…Ù† ØªØ­ÙˆÙŠÙ„Ø§Øª Ø§Ù„Ù…Ø¯ÙˆÙ†Ø§Øª</a></li>
<li><a href="../ar491720/index.html">Ø§Ù„ØªÙˆÙ‚Ø¹Ø§Øª Ù„Ø¹Ø§Ù… 2020 ÙÙŠ Ù…Ø¬Ø§Ù„ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ ÙˆØ§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ø¢Ù„ÙŠ ÙˆØ§Ù„Ø£ØªÙ…ØªØ© Ø§Ù„Ø±ÙˆØ¨ÙˆØªÙŠØ©</a></li>
<li><a href="../ar491722/index.html">ØªØ§Ø±ÙŠØ® Ø§Ù„ØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ø§Ù„Ø¥ØµØ¯Ø§Ø±Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© Ù…Ù† PS1 Ø¹Ù„Ù‰ Sony Playstation 2</a></li>
<li><a href="../ar491724/index.html">ÙƒØªØ§Ø¨ "Laravel. Ø¯Ù„ÙŠÙ„ ÙƒØ§Ù…Ù„. Ø§Ù„Ø·Ø¨Ø¹Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©</a></li>
<li><a href="../ar491728/index.html">Ù…Ø¨Ø¯Ø£ Ø¬Ø§Ù Ù…Ø¹ Laravel</a></li>
<li><a href="../ar491732/index.html">Ù‡Ù„ Ù‡Ù†Ø§Ùƒ Ø­ÙŠØ§Ø© Ø¨Ø¹Ø¯ Ø³ÙƒØ±Ø§ØªØ´ ØŒ Ø£Ùˆ ÙƒÙŠÙÙŠØ© ØªÙ‚Ø¯ÙŠÙ… Ø·ÙÙ„ Ø¥Ù„Ù‰ Ø¨ÙŠØ«ÙˆÙ†</a></li>
<li><a href="../ar491736/index.html">TMS1000: Ø£ÙˆÙ„ Ù…ØªØ­ÙƒÙ… Ù…ØªØ§Ø­ ØªØ¬Ø§Ø±ÙŠÙ‹Ø§</a></li>
<li><a href="../ar491740/index.html">Ø¥Ù†ØªØ±Ù†Øª Ø§Ù„Ø£Ø´ÙŠØ§Ø¡ ÙÙŠ Yandex.Cloud: ÙƒÙŠÙ ÙŠØªÙ… ØªØ±ØªÙŠØ¨ Ø®Ø¯Ù…Ø§Øª ÙˆØ¸Ø§Ø¦Ù Yandex IoT Core Ùˆ Yandex Cloud</a></li>
<li><a href="../ar491742/index.html">Ø´Ø±Ø¨Ø§Øª: Ù„ÙˆØ­Ø© Ù…ÙØ§ØªÙŠØ­ Ø£Ù„Ø¹Ø§Ø¨ Ù…Ø±ÙŠØ­Ø©</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>