<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘©ğŸ½â€ğŸ¤â€ğŸ‘¨ğŸ¼ ğŸ”© ğŸ‘©ğŸ½â€ğŸ­ Webåº”ç”¨ç¨‹åºçš„ç½‘ç»œä½“ç³»ç»“æ„ â„ï¸ ğŸ¤µğŸ¾ â‰ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æˆ‘æƒ³ä¸æ‚¨åˆ†äº«ä¸€ç§æˆ‘å¤šå¹´æ¥ä¸€ç›´åœ¨å¼€å‘åº”ç”¨ç¨‹åºï¼ˆåŒ…æ‹¬Webåº”ç”¨ç¨‹åºï¼‰ä¸­ä½¿ç”¨çš„æ–¹æ³•ã€‚è®¸å¤šæ¡Œé¢ï¼ŒæœåŠ¡å™¨å’Œç§»åŠ¨åº”ç”¨ç¨‹åºå¼€å‘äººå‘˜éƒ½ç†Ÿæ‚‰è¿™ç§æ–¹æ³•ã€‚è™½ç„¶åœ¨æ„å»ºæ­¤ç±»åº”ç”¨ç¨‹åºæ—¶æ˜¯å¾ˆé‡è¦çš„ï¼Œä½†æ˜¯åœ¨Webä¸Šå®ƒçš„è¡¨ç°å´å¾ˆå·®ï¼Œå°½ç®¡è‚¯å®šæœ‰äººæ„¿æ„ä½¿ç”¨è¿™ç§æ–¹æ³•ã€‚æ­¤å¤–ï¼ŒVS Codeç¼–è¾‘å™¨å°±æ˜¯ä»¥æ­¤æ–¹å¼ç¼–å†™çš„ã€‚
 
 
 
 åº”ç”¨æ­¤æ–¹æ³•...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Webåº”ç”¨ç¨‹åºçš„ç½‘ç»œä½“ç³»ç»“æ„</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/493430/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘æƒ³ä¸æ‚¨åˆ†äº«ä¸€ç§æˆ‘å¤šå¹´æ¥ä¸€ç›´åœ¨å¼€å‘åº”ç”¨ç¨‹åºï¼ˆåŒ…æ‹¬Webåº”ç”¨ç¨‹åºï¼‰ä¸­ä½¿ç”¨çš„æ–¹æ³•ã€‚</font><font style="vertical-align: inherit;">è®¸å¤šæ¡Œé¢ï¼ŒæœåŠ¡å™¨å’Œç§»åŠ¨åº”ç”¨ç¨‹åºå¼€å‘äººå‘˜éƒ½ç†Ÿæ‚‰è¿™ç§æ–¹æ³•ã€‚</font><font style="vertical-align: inherit;">è™½ç„¶åœ¨æ„å»ºæ­¤ç±»åº”ç”¨ç¨‹åºæ—¶æ˜¯å¾ˆé‡è¦çš„ï¼Œä½†æ˜¯åœ¨Webä¸Šå®ƒçš„è¡¨ç°å´å¾ˆå·®ï¼Œå°½ç®¡è‚¯å®šæœ‰äººæ„¿æ„ä½¿ç”¨è¿™ç§æ–¹æ³•ã€‚</font><font style="vertical-align: inherit;">æ­¤å¤–ï¼Œ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VS Codeç¼–è¾‘å™¨å°±æ˜¯</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»¥æ­¤æ–¹å¼</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ç¼–å†™çš„</font></a><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/webt/dj/ju/vy/djjuvyjprjf_nnnb0bv34ymklkc.png" alt="çº¯å»ºç­‘"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åº”ç”¨æ­¤æ–¹æ³•çš„ç»“æœæ˜¯ï¼Œæ‚¨å°†æ‘†è„±ç‰¹å®šçš„æ¡†æ¶ã€‚</font><font style="vertical-align: inherit;">æ‚¨å¯ä»¥è½»æ¾åœ°åœ¨åº”ç”¨ç¨‹åºå†…éƒ¨åˆ‡æ¢è¡¨ç¤ºåº“ï¼Œä¾‹å¦‚Reactï¼ŒPreactï¼ŒVueï¼ŒMithrilï¼Œè€Œæ— éœ€é‡å†™ä¸šåŠ¡é€»è¾‘ï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ç”šè‡³æ— éœ€æŸ¥çœ‹ã€‚</font><font style="vertical-align: inherit;">å¦‚æœæ‚¨åœ¨Angular 1ä¸Šæœ‰ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œåˆ™å¯ä»¥è½»æ¾åœ°å°†å…¶è½¬æ¢ä¸ºAngular 2 +ï¼ŒReactï¼ŒSvelteï¼ŒWebComponentsç”šè‡³æ˜¯æ‚¨çš„æ¼”ç¤ºæ–‡ç¨¿åº“ã€‚</font><font style="vertical-align: inherit;">å¦‚æœæ‚¨åœ¨Angular 2+ä¸Šæœ‰ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œä½†æ˜¯æ²¡æœ‰ä¸“å®¶ï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥è½»æ¾åœ°å°†è¯¥åº”ç”¨ç¨‹åºè½¬ç§»åˆ°æ›´æµè¡Œçš„åº“ä¸­ï¼Œè€Œæ— éœ€é‡å†™ä¸šåŠ¡é€»è¾‘ã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯æœ€åï¼Œå®Œå…¨å¿˜è®°äº†ä»æ¡†æ¶è¿ç§»åˆ°æ¡†æ¶çš„é—®é¢˜ã€‚</font><font style="vertical-align: inherit;">è¿™æ˜¯ä»€ä¹ˆé­”æœ¯ï¼Ÿ</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»€ä¹ˆæ˜¯æ¸…æ´å»ºç­‘</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸ºäº†ç†è§£è¿™ä¸€ç‚¹ï¼Œæœ€å¥½é˜…è¯»</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Martin Robertâ€œ Clean ArchitectureÂ»</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç”±Robert C.Martinâ€ Clean ArchitectureÂ»</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰ä¸€ä¹¦ã€‚</font><font style="vertical-align: inherit;">æ–‡ç« çš„ç®€è¦æ‘˜å½•ä¾›</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‚è€ƒ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åµŒå…¥åœ¨ä½“ç³»ç»“æ„ä¸­çš„ä¸»è¦æ€æƒ³ï¼š</font></font><br>
<br>
<ol>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç‹¬ç«‹äºæ¡†æ¶ã€‚</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½“ç³»ç»“æ„ä¸ä¾èµ–äºä»»ä½•åº“çš„å­˜åœ¨ã€‚</font><font style="vertical-align: inherit;">è¿™ä½¿æ‚¨å¯ä»¥å°†æ¡†æ¶ç”¨ä½œå·¥å…·ï¼Œè€Œä¸æ˜¯å°†ç³»ç»ŸæŒ¤å…¥é™åˆ¶ã€‚</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¯æµ‹è¯•æ€§ã€‚</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¯ä»¥åœ¨æ²¡æœ‰ç”¨æˆ·ç•Œé¢ï¼Œæ•°æ®åº“ï¼ŒWebæœåŠ¡å™¨æˆ–ä»»ä½•å…¶ä»–å¤–éƒ¨ç»„ä»¶çš„æƒ…å†µä¸‹æµ‹è¯•ä¸šåŠ¡è§„åˆ™ã€‚</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç‹¬ç«‹äºç”¨æˆ·ç•Œé¢ã€‚</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç”¨æˆ·ç•Œé¢å¯ä»¥è½»æ¾æ›´æ”¹ï¼Œè€Œæ— éœ€æ›´æ”¹ç³»ç»Ÿçš„å…¶ä½™éƒ¨åˆ†ã€‚</font><font style="vertical-align: inherit;">ä¾‹å¦‚ï¼Œå¯ä»¥åœ¨ä¸æ›´æ”¹ä¸šåŠ¡è§„åˆ™çš„æƒ…å†µä¸‹ç”¨æ§åˆ¶å°æ›¿æ¢Webç•Œé¢ã€‚</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç‹¬ç«‹äºæ•°æ®åº“ã€‚</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ‚¨å¯ä»¥å°†Oracleæˆ–SQL Serveräº¤æ¢ä¸ºMongoDBï¼ŒBigTableï¼ŒCouchDBæˆ–å…¶ä»–å†…å®¹ã€‚</font><font style="vertical-align: inherit;">æ‚¨çš„ä¸šâ€‹â€‹åŠ¡è§„åˆ™ä¸æ•°æ®åº“æ— å…³ã€‚</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç‹¬ç«‹äºä»»ä½•å¤–éƒ¨æœåŠ¡ã€‚</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å®é™…ä¸Šï¼Œæ‚¨çš„ä¸šåŠ¡è§„åˆ™æ ¹æœ¬ä¸äº†è§£å¤–ç•Œã€‚</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¤šå¹´æ¥æè¿°çš„æ€æƒ³ä¸€ç›´æ˜¯åœ¨å„ä¸ªé¢†åŸŸä¸­æ„å»ºå¤æ‚åº”ç”¨ç¨‹åºçš„åŸºç¡€ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é€šè¿‡å°†åº”ç”¨ç¨‹åºåˆ’åˆ†ä¸ºæœåŠ¡ï¼Œå­˜å‚¨åº“ï¼Œæ¨¡å‹å±‚æ¥å®ç°è¿™ç§çµæ´»æ€§ã€‚</font><font style="vertical-align: inherit;">æˆ‘å°†MVCæ–¹æ³•æ·»åŠ åˆ°Clean Architectureä¸­ï¼Œå¹¶å¾—åˆ°ä»¥ä¸‹å‡ å±‚ï¼š</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è§†å›¾</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -å‘å®¢æˆ·ç«¯æ˜¾ç¤ºæ•°æ®ï¼Œå®é™…ä¸Šå‘å®¢æˆ·ç«¯å¯è§†åŒ–é€»è¾‘çŠ¶æ€ã€‚</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ§åˆ¶å™¨</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -è´Ÿè´£é€šè¿‡IOï¼ˆè¾“å…¥è¾“å‡ºï¼‰ä¸ç”¨æˆ·è¿›è¡Œäº¤äº’ã€‚</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœåŠ¡</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -è´Ÿè´£ä¸šåŠ¡é€»è¾‘åŠå…¶åœ¨ç»„ä»¶ä¹‹é—´çš„é‡ç”¨ã€‚</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‚¨å­˜åº“</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -è´Ÿè´£ä»å¤–éƒ¨èµ„æºï¼ˆä¾‹å¦‚æ•°æ®åº“ï¼Œapiï¼Œæœ¬åœ°å­˜å‚¨ç­‰ï¼‰æ¥æ”¶æ•°æ®ã€‚</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¨¡å‹</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -è´Ÿè´£åœ¨å±‚å’Œç³»ç»Ÿä¹‹é—´ä¼ è¾“æ•°æ®ä»¥åŠå¤„ç†è¯¥æ•°æ®çš„é€»è¾‘ã€‚</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¯å±‚çš„ç›®çš„åœ¨ä¸‹é¢è®¨è®ºã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è°æ˜¯çº¯å»ºç­‘</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»ç®€å•çš„jqueryè„šæœ¬ç¼–å†™åˆ°å¼€å‘å¤§å‹SPAåº”ç”¨ç¨‹åºï¼ŒWebå¼€å‘å·²ç»èµ°äº†å¾ˆé•¿ä¸€æ®µè·¯ã€‚ç°åœ¨ï¼ŒWebåº”ç”¨ç¨‹åºå·²ç»å˜å¾—å¦‚æ­¤ä¹‹å¤§ï¼Œä»¥è‡³äºä¸šåŠ¡é€»è¾‘çš„æ•°é‡å·²ç»å¯ä»¥ä¸æœåŠ¡å™¨ï¼Œå°å¼æœºå’Œç§»åŠ¨åº”ç”¨ç¨‹åºç›¸æ¯”ç”šè‡³æ›´é«˜ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¯¹äºç¼–å†™å¤æ‚çš„å¤§å‹åº”ç”¨ç¨‹åºä»¥åŠå°†ä¸šåŠ¡é€»è¾‘ä»æœåŠ¡å™¨ä¼ è¾“åˆ°Webåº”ç”¨ç¨‹åºä»¥èŠ‚çœæœåŠ¡å™¨æˆæœ¬çš„å¼€å‘äººå‘˜è€Œè¨€ï¼ŒClean Architectureå°†å¸®åŠ©ç»„ç»‡ä»£ç å¹¶æ— é—®é¢˜åœ°å¤§è§„æ¨¡æ‰©å±•ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åŒæ—¶ï¼Œå¦‚æœæ‚¨çš„ä»»åŠ¡åªæ˜¯ç™»å½•é¡µé¢çš„å¸ƒå±€å’ŒåŠ¨ç”»ï¼Œé‚£ä¹ˆClean Architectureæ ¹æœ¬æ— å¤„å¯æ’ã€‚</font><font style="vertical-align: inherit;">å¦‚æœæ‚¨çš„ä¸šåŠ¡é€»è¾‘ä½äºåç«¯ï¼Œå¹¶ä¸”æ‚¨çš„ä»»åŠ¡æ˜¯è·å–æ•°æ®ï¼Œå°†å…¶æ˜¾ç¤ºç»™å®¢æˆ·ç«¯å¹¶å¤„ç†å•å‡»æŒ‰é’®ï¼Œé‚£ä¹ˆæ‚¨å°†ä¸ä¼šæ„Ÿåˆ°Clean Architectureçš„çµæ´»æ€§ï¼Œä½†æ˜¯å®ƒå¯ä»¥æˆä¸ºåº”ç”¨ç¨‹åºçˆ†ç‚¸æ€§å¢é•¿çš„ç»ä½³è·³æ¿ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å“ªé‡Œå·²ç»â€‹â€‹ç”³è¯·ï¼Ÿ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
çº¯ç²¹çš„ä½“ç³»ç»“æ„ä¸ä¸ä»»ä½•ç‰¹å®šçš„æ¡†æ¶ï¼Œå¹³å°æˆ–ç¼–ç¨‹è¯­è¨€ç»‘å®šã€‚</font><font style="vertical-align: inherit;">å‡ åå¹´æ¥ï¼Œå®ƒä¸€ç›´è¢«ç”¨æ¥ç¼–å†™æ¡Œé¢åº”ç”¨ç¨‹åºã€‚</font><font style="vertical-align: inherit;">å®ƒçš„å‚è€ƒå®ç°å¯ä»¥åœ¨æœåŠ¡å™¨åº”ç”¨ç¨‹åºAsp.Net Coreï¼ŒJava Springå’ŒNestJSçš„æ¡†æ¶ä¸­æ‰¾åˆ°ã€‚</font><font style="vertical-align: inherit;">åœ¨ç¼–å†™iOå’ŒAndroidåº”ç”¨ç¨‹åºæ—¶ï¼Œå®ƒä¹Ÿéå¸¸å—æ¬¢è¿ã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯åœ¨Webå¼€å‘ä¸­ï¼Œä»–ä»¥æä¸æˆåŠŸçš„å½¢å¼å‡ºç°åœ¨Angularæ¡†æ¶ä¸­ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç”±äºæˆ‘è‡ªå·±ä¸ä»…æ˜¯Typescriptï¼Œè€Œä¸”è¿˜æ˜¯Cï¼ƒå¼€å‘äººå‘˜ï¼Œå› æ­¤ï¼Œæˆ‘å°†ä¸ºAsp.Net Coreé‡‡ç”¨æ­¤ä½“ç³»ç»“æ„çš„å‚è€ƒå®ç°ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿™æ˜¯ä¸€ä¸ªç®€åŒ–çš„ç¤ºä¾‹åº”ç”¨ç¨‹åºï¼š</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Asp.Net Coreä¸Šçš„ç¤ºä¾‹åº”ç”¨ç¨‹åº</font></font></b>
                        <div class="spoiler_text"><pre><code class="actionscript hljs">    <span class="hljs-comment">/**
     * View
     */</span><font></font>
<font></font>
    @model WebApplication1.Controllers.Profile<font></font>
<font></font>
    &lt;div <span class="hljs-class"><span class="hljs-keyword">class</span>="<span class="hljs-title">text</span>-<span class="hljs-title">center</span>"&gt;
        &lt;<span class="hljs-title">h1</span>&gt;  @<span class="hljs-title">Model</span>.<span class="hljs-title">FirstName</span>&lt;/<span class="hljs-title">h1</span>&gt;
    &lt;/<span class="hljs-title">div</span>&gt;

    /**
     * <span class="hljs-title">Controller</span>
     */

    <span class="hljs-title">public</span> <span class="hljs-title">class</span> <span class="hljs-title">IndexController</span> : <span class="hljs-title">Controller</span>
    </span>{
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> int _counter = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">private</span> readonly IUserProfileService _userProfileService;<font></font>
<font></font>
        <span class="hljs-keyword">public</span> IndexController(IUserProfileService userProfileService)<font></font>
        {<font></font>
            _userProfileService = userProfileService;<font></font>
        }<font></font>
<font></font>
        <span class="hljs-keyword">public</span> async Task&lt;IActionResult&gt; Index()<font></font>
        {<font></font>
            <span class="hljs-keyword">var</span> profile = await <span class="hljs-keyword">this</span>._userProfileService.GetProfile(_counter);
            <span class="hljs-keyword">return</span> View(<span class="hljs-string">"Index"</span>, profile);<font></font>
        }<font></font>
<font></font>
        <span class="hljs-keyword">public</span> async Task&lt;IActionResult&gt; AddCounter()<font></font>
        {<font></font>
            _counter += <span class="hljs-number">1</span>;
            <span class="hljs-keyword">var</span> profile = await <span class="hljs-keyword">this</span>._userProfileService.GetProfile(_counter);
            <span class="hljs-keyword">return</span> View(<span class="hljs-string">"Index"</span>, profile);<font></font>
        }<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">/**
     * Service
     */</span><font></font>
<font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">IUserProfileService</span>
    </span>{<font></font>
        Task&lt;Profile&gt; GetProfile(long id);<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserProfileService</span> : <span class="hljs-title">IUserProfileService</span>
    </span>{
        <span class="hljs-keyword">private</span> readonly IUserProfileRepository _userProfileRepository;<font></font>
<font></font>
        <span class="hljs-keyword">public</span> UserProfileService(IUserProfileRepository userProfileRepository)<font></font>
        {<font></font>
            <span class="hljs-keyword">this</span>._userProfileRepository = userProfileRepository;<font></font>
        }<font></font>
<font></font>
        <span class="hljs-keyword">public</span> async Task&lt;Profile&gt; GetProfile(long id)<font></font>
        {<font></font>
            <span class="hljs-keyword">return</span> await <span class="hljs-keyword">this</span>._userProfileRepository.GetProfile(id);<font></font>
        }<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">/**
     * Repository
     */</span><font></font>
<font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">IUserProfileRepository</span>
    </span>{<font></font>
        Task&lt;Profile&gt; GetProfile(long id);<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserProfileRepository</span> : <span class="hljs-title">IUserProfileRepository</span>
    </span>{
        <span class="hljs-keyword">private</span> readonly DBContext _dbContext;
        <span class="hljs-keyword">public</span> UserProfileRepository(DBContext dbContext)<font></font>
        {<font></font>
            <span class="hljs-keyword">this</span>._dbContext = dbContext;<font></font>
        }<font></font>
<font></font>
        <span class="hljs-keyword">public</span> async Task&lt;Profile&gt; GetProfile(long id)<font></font>
        {<font></font>
            <span class="hljs-keyword">return</span> await <span class="hljs-keyword">this</span>._dbContext<font></font>
                .Set&lt;Profile&gt;()<font></font>
                .FirstOrDefaultAsync((entity) =&gt; entity.Id.Equals(id));<font></font>
        }<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">/**
     * Model
     */</span><font></font>
<font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Profile</span>
    </span>{
        <span class="hljs-keyword">public</span> long Id { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
        <span class="hljs-keyword">public</span> string FirstName { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
        <span class="hljs-keyword">public</span> string Birthdate { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }<font></font>
    }<font></font>
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¦‚æœæ‚¨ä¸ç†è§£å®ƒæ²¡ä»€ä¹ˆä¸å¥½çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†å¯¹æ¯ä¸ªç‰‡æ®µè¿›è¡Œéƒ¨åˆ†åˆ†æã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç»™å‡ºäº†ä¸€ä¸ªAsp.Net Coreåº”ç”¨ç¨‹åºçš„ç¤ºä¾‹ï¼Œä½†å¯¹äºJava Springï¼ŒWinFormsï¼ŒAndroidï¼ŒReactï¼Œå…¶ä½“ç³»ç»“æ„å’Œä»£ç å°†ç›¸åŒï¼Œåªæ˜¯è¯­è¨€å’Œä¸è§†å›¾ä¸€èµ·ä½¿ç”¨ï¼ˆå¦‚æœæœ‰ï¼‰ä¼šå‘ç”Ÿå˜åŒ–ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Webåº”ç”¨ç¨‹åº</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å°è¯•ä½¿ç”¨Clean Architectureçš„å”¯ä¸€æ¡†æ¶æ˜¯Angularã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯äº‹å®è¯æ˜ï¼Œåœ¨1ï¼Œåœ¨2+ä¸­æ˜¯å¯æ€•çš„ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿™æœ‰å¾ˆå¤šåŸå› ï¼š</font></font><br>
<br>
<ol>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœ‰è§’åº¦çš„æ•´ä½“æ¡†æ¶ã€‚</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¿™æ˜¯ä»–çš„ä¸»è¦é—®é¢˜ã€‚</font><font style="vertical-align: inherit;">å¦‚æœæ‚¨ä¸å–œæ¬¢å…¶ä¸­çš„æŸäº›å†…å®¹ï¼Œåˆ™å¿…é¡»æ¯å¤©å¯¹å…¶è¿›è¡Œchoå¡ï¼Œå¯¹æ­¤æ‚¨æ— èƒ½ä¸ºåŠ›ã€‚</font><font style="vertical-align: inherit;">å®ƒä¸ä»…å­˜åœ¨å¾ˆå¤šé—®é¢˜ï¼Œè€Œä¸”è¿˜ä¸çº¯å»ºç­‘çš„æ„è¯†å½¢æ€ç›¸çŸ›ç›¾ã€‚</font></font></li>
<li><b>   DI.</b>     ,            Javascript.</li>
<li><b>  .</b>        JSX.       ,           6,      .                .</li>
<li><b> .</b>      Rollup   ES2015   2        4 ,   angular       9.</li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¿˜æœ‰æ›´å¤šé—®é¢˜ã€‚</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é€šå¸¸ï¼Œç›¸å¯¹äºReactï¼Œæœ€å¤šçš„ç°ä»£æŠ€æœ¯æ»šåŠ¨ä¼šå»¶è¿Ÿ5å¹´ã€‚</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä½†æ˜¯å…¶ä»–æ¡†æ¶å‘¢ï¼Ÿ</font><font style="vertical-align: inherit;">Reactï¼ŒVueï¼ŒPreactï¼ŒMithrilå’Œå…¶ä»–ä»…æ˜¯è¡¨ç¤ºåº“ï¼Œä¸æä¾›ä»»ä½•ä½“ç³»ç»“æ„â€¦â€¦è€Œä¸”æˆ‘ä»¬å·²ç»æœ‰äº†ä½“ç³»ç»“æ„â€¦â€¦å°†æ‰€æœ‰ä¸œè¥¿ç»„è£…æˆä¸€ä¸ªæ•´ä½“æ˜¯å¿…è¦çš„ï¼</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘ä»¬å¼€å§‹åˆ›å»ºä¸€ä¸ªåº”ç”¨ç¨‹åº</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬å°†ä»¥è™šæ‹Ÿåº”ç”¨ç¨‹åºä¸ºä¾‹æ¥è€ƒè™‘Pure Architectureï¼Œè¯¥åº”ç”¨ç¨‹åºåº”å°½å¯èƒ½æ¥è¿‘çœŸå®çš„Webåº”ç”¨ç¨‹åºã€‚</font><font style="vertical-align: inherit;">è¿™æ˜¯ä¿é™©å…¬å¸çš„åŠå…¬å®¤ï¼Œæ˜¾ç¤ºç”¨æˆ·èµ„æ–™ï¼Œè¢«ä¿é™©äº‹ä»¶ï¼Œå»ºè®®çš„ä¿é™©è´¹ç‡å’Œç”¨äºå¤„ç†æ­¤æ•°æ®çš„å·¥å…·ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fy/sj/jf/fysjjf8fyz7rq0tzeaboesysuxw.jpeg" alt="åº”ç”¨åŸå‹"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨è¯¥ç¤ºä¾‹ä¸­ï¼Œä»…ä¼šå®ç°ä¸€å°éƒ¨åˆ†åŠŸèƒ½ï¼Œä½†æ˜¯ä»ä¸­æ‚¨å¯ä»¥äº†è§£å…¶ä½™åŠŸèƒ½çš„ä½ç½®å’Œæ”¾ç½®æ–¹å¼ã€‚</font><font style="vertical-align: inherit;">è®©æˆ‘ä»¬ä»Controllerå±‚å¼€å§‹åˆ›å»ºåº”ç”¨ç¨‹åºï¼Œå¹¶åœ¨æœ€åè¿æ¥Viewå±‚ã€‚</font><font style="vertical-align: inherit;">åœ¨åˆ›å»ºè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¼šæ›´è¯¦ç»†åœ°è€ƒè™‘æ¯ä¸ªå±‚ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ§åˆ¶å™¨æ¨¡å¼</font></font></h2><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ§åˆ¶å™¨</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -è´Ÿè´£ç”¨æˆ·ä¸åº”ç”¨ç¨‹åºçš„äº¤äº’ã€‚</font><font style="vertical-align: inherit;">è¿™å¯ä»¥æ˜¯å•å‡»ç½‘é¡µï¼Œæ¡Œé¢åº”ç”¨ç¨‹åºï¼Œç§»åŠ¨åº”ç”¨ç¨‹åºä¸Šçš„æŒ‰é’®ï¼Œæˆ–è€…åœ¨Linuxæ§åˆ¶å°ä¸­è¾“å…¥å‘½ä»¤ï¼Œæˆ–è€…æ˜¯ç½‘ç»œè¯·æ±‚æˆ–ä»»ä½•å…¶ä»–è¿›å…¥è¯¥åº”ç”¨ç¨‹åºçš„IOäº‹ä»¶ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¹²å‡€æ¶æ„ä¸­æœ€ç®€å•çš„æ§åˆ¶å™¨å¦‚ä¸‹ï¼š</font></font><br>
<br>
<pre><code class="actionscript hljs">export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SimpleController</span> </span>{ <span class="hljs-comment">// extends React.Component&lt;object, object&gt;</span><font></font>
<font></font>
    <span class="hljs-keyword">public</span> todos: string[] = []; <span class="hljs-comment">//  </span><font></font>
<font></font>
    <span class="hljs-keyword">public</span> addTodo(todo: string): <span class="hljs-keyword">void</span> { <span class="hljs-comment">//    </span>
        <span class="hljs-keyword">this</span>.todos.push(todo);<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> removeTodo(index: number): <span class="hljs-keyword">void</span> { <span class="hljs-comment">//    </span>
        <span class="hljs-keyword">this</span>.todos.splice(index, <span class="hljs-number">1</span>);<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">// public render(): JSX.Element {...} // view injection</span><font></font>
<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å®ƒçš„ä»»åŠ¡æ˜¯æ¥æ”¶æ¥è‡ªç”¨æˆ·çš„äº‹ä»¶å¹¶å¯åŠ¨ä¸šåŠ¡æµç¨‹ã€‚</font><font style="vertical-align: inherit;">åœ¨ç†æƒ³æƒ…å†µä¸‹ï¼ŒControllerä¸äº†è§£Viewï¼Œå› æ­¤å¯ä»¥åœ¨Webï¼ŒReact-Nativeæˆ–Electronç­‰å¹³å°ä¹‹é—´é‡ç”¨ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨è®©æˆ‘ä»¬ä¸ºåº”ç”¨ç¨‹åºç¼–å†™ä¸€ä¸ªæ§åˆ¶å™¨ã€‚</font><font style="vertical-align: inherit;">å…¶ä»»åŠ¡æ˜¯è·å–ç”¨æˆ·ä¸ªäººèµ„æ–™ï¼Œå¯ç”¨çš„èµ„è´¹å¹¶å‘ç”¨æˆ·æä¾›æœ€ä½³èµ„è´¹ï¼š</font></font><br>
<br>
<blockquote><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UserPageControllerã€‚</font><font style="vertical-align: inherit;">å…·æœ‰ä¸šåŠ¡é€»è¾‘çš„æ§åˆ¶å™¨</font></font></b>
                        <div class="spoiler_text"><pre><code class="actionscript hljs">export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserPageControlle</span> </span>{<font></font>
<font></font>
    <span class="hljs-keyword">public</span> userProfile: any = {};
    <span class="hljs-keyword">public</span> insuranceCases: any[] = [];
    <span class="hljs-keyword">public</span> tariffs: any[] = [];
    <span class="hljs-keyword">public</span> bestTariff: any = {};<font></font>
<font></font>
    constructor() {<font></font>
        <span class="hljs-keyword">this</span>.activate();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> activate(): <span class="hljs-keyword">void</span> {
        <span class="hljs-keyword">this</span>.requestUserProfile();
        <span class="hljs-keyword">this</span>.requestTariffs();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> async requestUserProfile(): Promise&lt;<span class="hljs-keyword">void</span>&gt; { <span class="hljs-comment">//  </span>
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">const</span> response = await fetch(<span class="hljs-string">"./api/user-profile"</span>);
            <span class="hljs-keyword">this</span>.userProfile = await response.json();
            <span class="hljs-keyword">this</span>.findBestTariff();<font></font>
        } <span class="hljs-keyword">catch</span> (e) {<font></font>
            console.error(e);<font></font>
        }<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> async requestTariffs(): Promise&lt;<span class="hljs-keyword">void</span>&gt; { <span class="hljs-comment">//  </span>
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">const</span> response = await fetch(<span class="hljs-string">"./api/tariffs"</span>);
            <span class="hljs-keyword">this</span>.tariffs = await response.json();
            <span class="hljs-keyword">this</span>.findBestTariff();<font></font>
        } <span class="hljs-keyword">catch</span> (e) {<font></font>
            console.error(e);<font></font>
        }<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> findBestTariff(): <span class="hljs-keyword">void</span> { <span class="hljs-comment">//    </span>
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.userProfile &amp;&amp; <span class="hljs-keyword">this</span>.tariffs) {
            <span class="hljs-keyword">this</span>.bestTariff = <span class="hljs-keyword">this</span>.tariffs.find((tarif: any) =&gt; {
                <span class="hljs-keyword">return</span> tarif.ageFrom &lt;= <span class="hljs-keyword">this</span>.userProfile.age &amp;&amp; <span class="hljs-keyword">this</span>.userProfile.age &lt; tarif.ageTo;<font></font>
            });<font></font>
        }<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">/**
     * ...   ,   ,
     *  ,    
     */</span><font></font>
}<font></font>
</code></pre><br>
</div>
                    </div></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ªæ²¡æœ‰å¹²å‡€æ¶æ„çš„å¸¸è§„æ§åˆ¶å™¨ï¼Œå¦‚æœæˆ‘ä»¬ä»React.Componentç»§æ‰¿å®ƒï¼Œæˆ‘ä»¬å°†è·å¾—ä¸€ä¸ªå…·æœ‰é€»è¾‘çš„å·¥ä½œç»„ä»¶ã€‚</font><font style="vertical-align: inherit;">è®¸å¤šWebåº”ç”¨ç¨‹åºå¼€å‘äººå‘˜éƒ½åœ¨ç¼–å†™ï¼Œä½†æ˜¯è¿™ç§æ–¹æ³•æœ‰å¾ˆå¤šæ˜æ˜¾çš„ç¼ºç‚¹ã€‚</font><font style="vertical-align: inherit;">ä¸»è¦çš„åŸå› æ˜¯æ— æ³•åœ¨ç»„ä»¶ä¹‹é—´é‡ç”¨é€»è¾‘ã€‚</font><font style="vertical-align: inherit;">æ¯•ç«Ÿï¼Œå»ºè®®çš„è´¹ç‡ä¸ä»…å¯ä»¥æ˜¾ç¤ºåœ¨æ‚¨çš„ä¸ªäººå¸æˆ·ä¸­ï¼Œè¿˜å¯ä»¥æ˜¾ç¤ºåœ¨ç€é™†é¡µå’Œè®¸å¤šå…¶ä»–åœ°æ–¹ï¼Œä»¥å¸å¼•å®¢æˆ·ä½¿ç”¨è¯¥æœåŠ¡ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸ºäº†èƒ½å¤Ÿåœ¨ç»„ä»¶ä¹‹é—´é‡ç”¨é€»è¾‘ï¼Œå¿…é¡»å°†å…¶æ”¾ç½®åœ¨ç§°ä¸ºæœåŠ¡çš„ç‰¹æ®Šå±‚ä¸­ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœåŠ¡æ¨¡å¼</font></font></h2><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœåŠ¡</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -è´Ÿè´£åº”ç”¨ç¨‹åºçš„æ•´ä¸ªä¸šåŠ¡é€»è¾‘ã€‚</font><font style="vertical-align: inherit;">å¦‚æœæ§åˆ¶å™¨éœ€è¦æ¥æ”¶ï¼Œå¤„ç†å’Œå‘é€ä¸€äº›æ•°æ®ï¼Œåˆ™å®ƒé€šè¿‡æœåŠ¡æ¥å®Œæˆã€‚</font><font style="vertical-align: inherit;">å¦‚æœå¤šä¸ªæ§åˆ¶å™¨éœ€è¦ç›¸åŒçš„é€»è¾‘ï¼Œåˆ™å®ƒä»¬å¯ä¸æœåŠ¡ä¸€èµ·ä½¿ç”¨ã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯æœåŠ¡å±‚æœ¬èº«ä¸åº”è¯¥å¯¹æ§åˆ¶å™¨å’Œè§†å›¾å±‚åŠå…¶å·¥ä½œç¯å¢ƒä¸€æ— æ‰€çŸ¥ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è®©æˆ‘ä»¬å°†é€»è¾‘ä»æ§åˆ¶å™¨ç§»åŠ¨åˆ°æœåŠ¡ï¼Œå¹¶åœ¨æ§åˆ¶å™¨ä¸­å®ç°æœåŠ¡ï¼š</font></font><br>
<br>
<blockquote><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UserPageControllerã€‚</font><font style="vertical-align: inherit;">æ²¡æœ‰ä¸šåŠ¡é€»è¾‘çš„æ§åˆ¶å™¨</font></font></b>
                        <div class="spoiler_text"><pre><code class="actionscript hljs"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { UserProfilService } from "./UserProfilService";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { TariffService } from "./TariffService";</span><font></font>
<font></font>
export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserPageController</span> </span>{<font></font>
<font></font>
    <span class="hljs-keyword">public</span> userProfile: any = {};
    <span class="hljs-keyword">public</span> insuranceCases: any[] = [];
    <span class="hljs-keyword">public</span> tariffs: any[] = [];
    <span class="hljs-keyword">public</span> bestTariff: any = {};<font></font>
<font></font>
    <span class="hljs-comment">//    </span>
    <span class="hljs-keyword">private</span> readonly userProfilService: UserProfilService = <span class="hljs-keyword">new</span> UserProfilService();
    <span class="hljs-keyword">private</span> readonly tarifService: TariffService = <span class="hljs-keyword">new</span> TariffService();<font></font>
<font></font>
    constructor() {<font></font>
        <span class="hljs-keyword">this</span>.activate();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> activate(): <span class="hljs-keyword">void</span> {
        <span class="hljs-keyword">this</span>.requestUserProfile();
        <span class="hljs-keyword">this</span>.requestTariffs();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> async requestUserProfile(): Promise&lt;<span class="hljs-keyword">void</span>&gt; {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">//     </span>
            <span class="hljs-keyword">this</span>.userProfile = await <span class="hljs-keyword">this</span>.userProfilService.getUserProfile();
            <span class="hljs-keyword">this</span>.bestTariff = await <span class="hljs-keyword">this</span>.tarifService.findBestTariff(<span class="hljs-keyword">this</span>.userProfile);<font></font>
        } <span class="hljs-keyword">catch</span> (e) {<font></font>
            console.error(e);<font></font>
        }<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> async requestTariffs(): Promise&lt;<span class="hljs-keyword">void</span>&gt; {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">//     </span>
            <span class="hljs-keyword">this</span>.tariffs = await <span class="hljs-keyword">this</span>.tarifService.getTariffs();<font></font>
        } <span class="hljs-keyword">catch</span> (e) {<font></font>
            console.error(e);<font></font>
        }<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">/**
     * ...   ,   ,
     *  ,    
     */</span><font></font>
}<font></font>
</code></pre><br>
</div>
                    </div></blockquote><blockquote><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UserProfilServiceã€‚</font><font style="vertical-align: inherit;">ä½¿ç”¨ç”¨æˆ·ä¸ªäººèµ„æ–™çš„æœåŠ¡</font></font></b>
                        <div class="spoiler_text"><pre><code class="actionscript hljs">export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserProfilService</span> </span>{
    <span class="hljs-keyword">public</span> async getUserProfile(): Promise&lt;any&gt; { <span class="hljs-comment">//  </span>
        <span class="hljs-keyword">const</span> response = await fetch(<span class="hljs-string">"./api/user-profile"</span>);
        <span class="hljs-keyword">return</span> await response.json();<font></font>
    }<font></font>
    <font></font>
    <span class="hljs-comment">/**
     * ...        
     */</span><font></font>
}<font></font>
</code></pre><br>
</div>
                    </div></blockquote><blockquote><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TariffServiceã€‚</font><font style="vertical-align: inherit;">æ”¶è´¹æœåŠ¡</font></font></b>
                        <div class="spoiler_text"><pre><code class="actionscript hljs">export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TariffService</span> </span>{
    <span class="hljs-comment">//  </span>
    <span class="hljs-keyword">public</span> async getTariffs(): Promise&lt;any&gt; {
        <span class="hljs-keyword">const</span> response = await fetch(<span class="hljs-string">"./api/tariffs"</span>);
        <span class="hljs-keyword">return</span> await response.json();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">//    </span>
    <span class="hljs-keyword">public</span> async findBestTariff(userProfile: any): Promise&lt;any&gt; {
        <span class="hljs-keyword">const</span> tariffs = await <span class="hljs-keyword">this</span>.getTariffs();
        <span class="hljs-keyword">return</span> tariffs.find((tarif: any) =&gt; {
            <span class="hljs-keyword">return</span> tarif.ageFrom &lt;= userProfile.age &amp;&amp;<font></font>
                userProfile.age &lt; tarif.ageTo;<font></font>
        });<font></font>
    }<font></font>
    <font></font>
    <span class="hljs-comment">/**
     * ...       
     */</span><font></font>
}<font></font>
</code></pre><br>
</div>
                    </div></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨ï¼Œå¦‚æœå¤šä¸ªæ§åˆ¶å™¨éœ€è¦è·å–ç”¨æˆ·èµ„æ–™æˆ–èµ„è´¹ï¼Œåˆ™å®ƒä»¬å¯ä»¥é‡ç”¨æœåŠ¡ä¸­çš„ç›¸åŒé€»è¾‘ã€‚</font><font style="vertical-align: inherit;">åœ¨æœåŠ¡ä¸­ï¼Œæœ€ä¸»è¦çš„æ˜¯ä¸è¦å¿˜è®°SOLIDåŸåˆ™ï¼Œå¹¶ä¸”æ¯ä¸ªæœåŠ¡éƒ½åº”è´Ÿè´£å…¶è´£ä»»èŒƒå›´ã€‚</font><font style="vertical-align: inherit;">åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸€ä¸ªæœåŠ¡è´Ÿè´£ä½¿ç”¨ç”¨æˆ·ä¸ªäººèµ„æ–™ï¼Œè€Œå¦ä¸€æœåŠ¡è´Ÿè´£ä½¿ç”¨è´¹ç‡ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä½†æ˜¯ï¼Œå¦‚æœæ•°æ®æºå‘ç”Ÿæ›´æ”¹ï¼Œä¾‹å¦‚ï¼Œè·å–å¯èƒ½æ›´æ”¹ä¸ºwebsocketæˆ–grpsæˆ–æ•°æ®åº“ï¼Œè€Œå®é™…æ•°æ®éœ€è¦æ›¿æ¢ä¸ºæµ‹è¯•æ•°æ®æ€ä¹ˆåŠï¼Ÿ</font><font style="vertical-align: inherit;">é€šå¸¸ï¼Œä¸ºä»€ä¹ˆä¸šåŠ¡é€»è¾‘éœ€è¦äº†è§£æœ‰å…³æ•°æ®æºçš„æŸäº›çŸ¥è¯†ï¼Ÿ</font><font style="vertical-align: inherit;">ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œæœ‰ä¸€ä¸ªå­˜å‚¨åº“å±‚ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‚¨å­˜åº“æ¨¡å¼</font></font></h2><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å­˜å‚¨åº“</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -è´Ÿè´£ä¸æ•°æ®ä»“åº“çš„é€šä¿¡ã€‚</font><font style="vertical-align: inherit;">è¯¥å­˜å‚¨å¯ä»¥æ˜¯æœåŠ¡å™¨ï¼Œæ•°æ®åº“ï¼Œå†…å­˜ï¼Œæœ¬åœ°å­˜å‚¨ï¼Œä¼šè¯å­˜å‚¨æˆ–ä»»ä½•å…¶ä»–å­˜å‚¨ã€‚</font><font style="vertical-align: inherit;">å®ƒçš„ä»»åŠ¡æ˜¯ä»ç‰¹å®šçš„å­˜å‚¨å®ç°ä¸­æŠ½è±¡æœåŠ¡å±‚ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è®©æˆ‘ä»¬ä»å­˜å‚¨åº“ä¸­çš„æœåŠ¡å‘å‡ºç½‘ç»œè¯·æ±‚ï¼Œè€Œæ§åˆ¶å™¨ä¸å˜ï¼š</font></font><br>
<blockquote><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UserProfilServiceã€‚</font><font style="vertical-align: inherit;">ä½¿ç”¨ç”¨æˆ·ä¸ªäººèµ„æ–™çš„æœåŠ¡</font></font></b>
                        <div class="spoiler_text"><pre><code class="actionscript hljs"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { UserProfilRepository } from "./UserProfilRepository";</span><font></font>
<font></font>
export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserProfilService</span> </span>{<font></font>
<font></font>
    <span class="hljs-keyword">private</span> readonly userProfilRepository: UserProfilRepository =
        <span class="hljs-keyword">new</span> UserProfilRepository();<font></font>
<font></font>
    <span class="hljs-keyword">public</span> async getUserProfile(): Promise&lt;any&gt; {
        <span class="hljs-keyword">return</span> await <span class="hljs-keyword">this</span>.userProfilRepository.getUserProfile();<font></font>
    }<font></font>
    <font></font>
    <span class="hljs-comment">/**
     * ...        
     */</span><font></font>
}<font></font>
</code></pre><br>
</div>
                    </div></blockquote><blockquote><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UserProfilRepositoryã€‚</font><font style="vertical-align: inherit;">ç”¨äºå¤„ç†ç”¨æˆ·ä¸ªäººèµ„æ–™å­˜å‚¨çš„æœåŠ¡</font></font></b>
                        <div class="spoiler_text"><pre><code class="actionscript hljs">export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserProfilRepository</span> </span>{
    <span class="hljs-keyword">public</span> async getUserProfile(): Promise&lt;any&gt; { <span class="hljs-comment">//  </span>
        <span class="hljs-keyword">const</span> response = await fetch(<span class="hljs-string">"./api/user-profile"</span>);
        <span class="hljs-keyword">return</span> await response.json();<font></font>
    }<font></font>
    <font></font>
    <span class="hljs-comment">/**
     * ...        
     */</span><font></font>
}<font></font>
</code></pre><br>
</div>
                    </div></blockquote><blockquote><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TariffServiceã€‚</font><font style="vertical-align: inherit;">æ”¶è´¹æœåŠ¡</font></font></b>
                        <div class="spoiler_text"><pre><code class="actionscript hljs"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { TariffRepository } from "./TariffRepository";</span><font></font>
<font></font>
export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TariffService</span> </span>{<font></font>
    <font></font>
    <span class="hljs-keyword">private</span> readonly tarifRepository: TariffRepository = <span class="hljs-keyword">new</span> TariffRepository();<font></font>
<font></font>
    <span class="hljs-keyword">public</span> async getTariffs(): Promise&lt;any&gt; {
        <span class="hljs-keyword">return</span> await <span class="hljs-keyword">this</span>.tarifRepository.getTariffs();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">//    </span>
    <span class="hljs-keyword">public</span> async findBestTariff(userProfile: any): Promise&lt;any&gt; {
        <span class="hljs-comment">//    </span>
        <span class="hljs-keyword">const</span> tariffs = await <span class="hljs-keyword">this</span>.tarifRepository.getTariffs();
        <span class="hljs-keyword">return</span> tariffs.find((tarif: any) =&gt; {
            <span class="hljs-keyword">return</span> tarif.ageFrom &lt;= userProfile.age &amp;&amp;<font></font>
                userProfile.age &lt; tarif.ageTo;<font></font>
        });<font></font>
    }<font></font>
    <font></font>
    <span class="hljs-comment">/**
     * ...       
     */</span><font></font>
}<font></font>
</code></pre><br>
</div>
                    </div></blockquote><blockquote><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TariffRepositoryã€‚</font><font style="vertical-align: inherit;">ç”¨äºèµ„è´¹å­˜å‚¨çš„å­˜å‚¨åº“</font></font></b>
                        <div class="spoiler_text"><pre><code class="actionscript hljs">export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TariffRepository</span> </span>{
    <span class="hljs-comment">//  </span>
    <span class="hljs-keyword">public</span> async getTariffs(): Promise&lt;any&gt; {
        <span class="hljs-keyword">const</span> response = await fetch(<span class="hljs-string">"./api/tariffs"</span>);
        <span class="hljs-keyword">return</span> await response.json();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">/**
     * ...        
     */</span><font></font>
}<font></font>
</code></pre><br>
</div>
                    </div></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨ï¼Œåªéœ€ç¼–å†™ä¸€æ¬¡æ•°æ®è¯·æ±‚å°±è¶³å¤Ÿäº†ï¼Œä»»ä½•æœåŠ¡éƒ½å¯ä»¥é‡ç”¨è¯¥è¯·æ±‚ã€‚</font><font style="vertical-align: inherit;">ç¨åï¼Œæˆ‘ä»¬å°†çœ‹ä¸€ä¸ªç¤ºä¾‹ï¼Œè¯¥ç¤ºä¾‹è¯´æ˜å¦‚ä½•åœ¨ä¸è§¦åŠæœåŠ¡ä»£ç çš„æƒ…å†µä¸‹é‡æ–°å®šä¹‰å­˜å‚¨åº“ï¼Œå¹¶å®ç°ç”¨äºæµ‹è¯•çš„mochaå­˜å‚¨åº“ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨UserProfilServiceæœåŠ¡ä¸­ï¼Œä¼¼ä¹ä¸éœ€è¦å®ƒï¼Œå¹¶ä¸”æ§åˆ¶å™¨å¯ä»¥ç›´æ¥è®¿é—®å­˜å‚¨åº“ä¸­çš„æ•°æ®ï¼Œä½†äº‹å®å¹¶éå¦‚æ­¤ã€‚</font><font style="vertical-align: inherit;">åœ¨ä»»ä½•æ—¶å€™ï¼Œéœ€æ±‚éƒ½å¯èƒ½å‡ºç°åœ¨ä¸šåŠ¡å±‚ä¸­æˆ–åœ¨ä¸šåŠ¡å±‚ä¸­å‘ç”Ÿå˜åŒ–ï¼Œå¯èƒ½éœ€è¦å…¶ä»–è¯·æ±‚ï¼Œæˆ–è€…å¯èƒ½ä¼šä¸°å¯Œæ•°æ®ã€‚</font><font style="vertical-align: inherit;">å› æ­¤ï¼Œå³ä½¿æœåŠ¡å±‚ä¸­æ²¡æœ‰é€»è¾‘ï¼Œä¹Ÿå¿…é¡»ä¿ç•™Controller-Service-Repositoryé“¾ã€‚</font><font style="vertical-align: inherit;">è¿™æ˜¯å¯¹æ‚¨æ˜å¤©çš„è´¡çŒ®ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨è¯¥å¼„æ¸…æ¥šè¦è®¾ç½®å“ªç§å­˜å‚¨åº“ï¼Œå®ƒä»¬æ˜¯å¦æ­£ç¡®ã€‚</font><font style="vertical-align: inherit;">æ¨¡å‹å±‚å¯¹æ­¤è´Ÿè´£ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‹å·ï¼šDTOï¼Œå®ä½“ï¼ŒViewModels</font></font></h2><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¨¡å‹</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -è´Ÿè´£æè¿°åº”ç”¨ç¨‹åºæ‰€ä½¿ç”¨çš„ç»“æ„ã€‚</font><font style="vertical-align: inherit;">è¿™æ ·çš„æè¿°æå¤§åœ°å¸®åŠ©äº†æ–°é¡¹ç›®å¼€å‘äººå‘˜äº†è§£åº”ç”¨ç¨‹åºæ­£åœ¨ä½¿ç”¨ä»€ä¹ˆã€‚</font><font style="vertical-align: inherit;">æ­¤å¤–ï¼Œå°†å…¶ç”¨äºæ„å»ºæ•°æ®åº“æˆ–éªŒè¯å­˜å‚¨åœ¨æ¨¡å‹ä¸­çš„æ•°æ®éå¸¸æ–¹ä¾¿ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ ¹æ®ä½¿ç”¨ç±»å‹ï¼Œæ¨¡å‹åˆ†ä¸ºä¸åŒçš„æ¨¡å¼ï¼š</font></font><br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å®ä½“</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -è´Ÿè´£ä½¿ç”¨æ•°æ®åº“ï¼Œå¹¶ä¸”æ˜¯åœ¨æ•°æ®åº“ä¸­é‡å¤è¡¨æˆ–æ–‡æ¡£çš„ç»“æ„ã€‚</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DTOï¼ˆæ•°æ®ä¼ è¾“å¯¹è±¡ï¼‰</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -ç”¨äºåœ¨åº”ç”¨ç¨‹åºçš„ä¸åŒå±‚ä¹‹é—´ä¼ è¾“æ•°æ®ã€‚</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ViewModel-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åŒ…å«åœ¨è§†å›¾ä¸­æ˜¾ç¤ºæ‰€éœ€çš„é¢„å…ˆå‡†å¤‡çš„ä¿¡æ¯ã€‚</font></font></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å°†ç”¨æˆ·é…ç½®æ–‡ä»¶æ¨¡å‹å’Œå…¶ä»–æ¨¡å‹æ·»åŠ åˆ°åº”ç”¨ç¨‹åºä¸­ï¼Œå¹¶è®©å…¶ä»–å±‚çŸ¥é“ç°åœ¨æˆ‘ä»¬ä¸åœ¨ä½¿ç”¨æŠ½è±¡å¯¹è±¡ï¼Œè€Œæ˜¯åœ¨ä½¿ç”¨éå¸¸ç‰¹å®šçš„é…ç½®æ–‡ä»¶ï¼š</font></font><br>
<blockquote><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UserPageControllerã€‚</font><font style="vertical-align: inherit;">ä»£æ›¿ä»»ä½•æ¨¡å‹ï¼Œä½¿ç”¨æ‰€æè¿°çš„æ¨¡å‹ã€‚</font></font></b>
                        <div class="spoiler_text"><pre><code class="actionscript hljs"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { UserProfilService } from "./UserProfilService";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { TariffService } from "./TariffService";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { UserProfileDto } from "./UserProfileDto";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { TariffDto } from "./TariffDto";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { InsuranceCaseDto } from "./InsuranceCasesDto";</span><font></font>
<font></font>
export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserPageController</span> </span>{<font></font>
<font></font>
    <span class="hljs-comment">/**
     *          
     *          .
     */</span>
    <span class="hljs-keyword">public</span> userProfile: UserProfileDto = <span class="hljs-keyword">new</span> UserProfileDto();
    <span class="hljs-keyword">public</span> insuranceCases: InsuranceCaseDto[] = [];
    <span class="hljs-keyword">public</span> tariffs: TariffDto[] = [];
    <span class="hljs-keyword">public</span> bestTariff: TariffDto | <span class="hljs-keyword">void</span> = <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>;<font></font>
<font></font>
    <span class="hljs-keyword">private</span> readonly userProfilService: UserProfilService = <span class="hljs-keyword">new</span> UserProfilService();
    <span class="hljs-keyword">private</span> readonly tarifService: TariffService = <span class="hljs-keyword">new</span> TariffService();<font></font>
<font></font>
    constructor() {<font></font>
        <span class="hljs-keyword">this</span>.activate();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> activate(): <span class="hljs-keyword">void</span> {
        <span class="hljs-keyword">this</span>.requestUserProfile();
        <span class="hljs-keyword">this</span>.requestTariffs();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> async requestUserProfile(): Promise&lt;<span class="hljs-keyword">void</span>&gt; {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">this</span>.userProfile = await <span class="hljs-keyword">this</span>.userProfilService.getUserProfile();
            <span class="hljs-keyword">this</span>.bestTariff = await <span class="hljs-keyword">this</span>.tarifService.findBestTariff(<span class="hljs-keyword">this</span>.userProfile);<font></font>
        } <span class="hljs-keyword">catch</span> (e) {<font></font>
            console.error(e);<font></font>
        }<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> async requestTariffs(): Promise&lt;<span class="hljs-keyword">void</span>&gt; {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">this</span>.tariffs = await <span class="hljs-keyword">this</span>.tarifService.getTariffs();<font></font>
        } <span class="hljs-keyword">catch</span> (e) {<font></font>
            console.error(e);<font></font>
        }<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">/**
     * ...   ,   ,
     *  ,    
     */</span><font></font>
}<font></font>
</code></pre><br>
</div>
                    </div></blockquote><blockquote><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UserProfilServiceã€‚</font><font style="vertical-align: inherit;">è€Œä¸æ˜¯ä»»ä½•ï¼ŒæŒ‡å®šè¿”å›çš„æ¨¡å‹</font></font></b>
                        <div class="spoiler_text"><pre><code class="actionscript hljs"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { UserProfilRepository } from "./UserProfilRepository";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { UserProfileDto } from "./UserProfileDto";</span><font></font>
<font></font>
export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserProfilService</span> </span>{<font></font>
<font></font>
    <span class="hljs-keyword">private</span> readonly userProfilRepository: UserProfilRepository =
        <span class="hljs-keyword">new</span> UserProfilRepository();<font></font>
<font></font>
    <span class="hljs-keyword">public</span> async getUserProfile(): Promise&lt;UserProfileDto&gt; { <span class="hljs-comment">//  </span>
        <span class="hljs-keyword">return</span> await <span class="hljs-keyword">this</span>.userProfilRepository.getUserProfile();<font></font>
    }<font></font>
    <font></font>
    <span class="hljs-comment">/**
     * ...        
     */</span><font></font>
}<font></font>
</code></pre><br>
</div>
                    </div></blockquote><blockquote><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TariffServiceã€‚</font><font style="vertical-align: inherit;">è€Œä¸æ˜¯ä»»ä½•ï¼ŒæŒ‡å®šè¿”å›çš„æ¨¡å‹</font></font></b>
                        <div class="spoiler_text"><pre><code class="actionscript hljs"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { TariffRepository } from "./TariffRepository";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { TariffDto } from "./TariffDto";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { UserProfileDto } from "./UserProfileDto";</span><font></font>
<font></font>
export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TariffService</span> </span>{<font></font>
    <font></font>
    <span class="hljs-keyword">private</span> readonly tarifRepository: TariffRepository = <span class="hljs-keyword">new</span> TariffRepository();<font></font>
<font></font>
    <span class="hljs-keyword">public</span> async getTariffs(): Promise&lt;TariffDto[]&gt; { <span class="hljs-comment">//  </span>
        <span class="hljs-keyword">return</span> await <span class="hljs-keyword">this</span>.tarifRepository.requestTariffs();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">//  </span>
    <span class="hljs-keyword">public</span> async findBestTariff(userProfile: UserProfileDto): Promise&lt;TariffDto | <span class="hljs-keyword">void</span>&gt; {
        <span class="hljs-keyword">const</span> tariffs = await <span class="hljs-keyword">this</span>.tarifRepository.requestTariffs();
        <span class="hljs-keyword">return</span> tariffs.find((tarif: TariffDto) =&gt; {
            <span class="hljs-comment">//  userProfile.age  userProfile.getAge()</span>
            <span class="hljs-keyword">const</span> age = userProfile.getAge();
            <span class="hljs-keyword">return</span> age &amp;&amp;<font></font>
                tarif.ageFrom &lt;= age &amp;&amp;<font></font>
                age &lt; tarif.ageTo;<font></font>
        });<font></font>
    }<font></font>
    <font></font>
    <span class="hljs-comment">/**
     * ...       
     */</span><font></font>
}<font></font>
</code></pre><br>
</div>
                    </div></blockquote><blockquote><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UserProfilRepositoryã€‚</font><font style="vertical-align: inherit;">è€Œä¸æ˜¯ä»»ä½•ï¼ŒæŒ‡å®šè¿”å›çš„æ¨¡å‹</font></font></b>
                        <div class="spoiler_text"><pre><code class="actionscript hljs"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { UserProfileDto } from "./UserProfileDto";</span><font></font>
<font></font>
export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserProfilRepository</span> </span>{
    <span class="hljs-keyword">public</span> async getUserProfile(): Promise&lt;UserProfileDto&gt; { <span class="hljs-comment">//  </span>
        <span class="hljs-keyword">const</span> response = await fetch(<span class="hljs-string">"./api/user-profile"</span>);
        <span class="hljs-keyword">return</span> await response.json();<font></font>
    }<font></font>
    <font></font>
    <span class="hljs-comment">/**
     * ...        
     */</span><font></font>
}<font></font>
</code></pre><br>
</div>
                    </div></blockquote><blockquote><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TariffRepositoryã€‚</font><font style="vertical-align: inherit;">è€Œä¸æ˜¯ä»»ä½•ï¼ŒæŒ‡å®šè¿”å›çš„æ¨¡å‹</font></font></b>
                        <div class="spoiler_text"><pre><code class="actionscript hljs"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { TariffDto } from "./TariffDto";</span><font></font>
<font></font>
export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TariffRepository</span> </span>{
    <span class="hljs-keyword">public</span> async requestTariffs(): Promise&lt;TariffDto[]&gt; { <span class="hljs-comment">//  </span>
        <span class="hljs-keyword">const</span> response = await fetch(<span class="hljs-string">"./api/tariffs"</span>);
        <span class="hljs-keyword">return</span> await response.json();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">/**
     * ...        
     */</span><font></font>
}<font></font>
</code></pre><br>
</div>
                    </div></blockquote><blockquote><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UserProfileDtoã€‚</font><font style="vertical-align: inherit;">æè¿°æˆ‘ä»¬å¤„ç†çš„æ•°æ®çš„æ¨¡å‹</font></font></b>
                        <div class="spoiler_text"><pre><code class="actionscript hljs">export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserProfileDto</span> </span>{ <span class="hljs-comment">// &lt;--      </span>
    <span class="hljs-keyword">public</span> firstName: string | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">public</span> lastName: string | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">public</span> birthdate: Date | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;<font></font>
<font></font>
    <span class="hljs-keyword">public</span> getAge(): number | <span class="hljs-literal">null</span> {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.birthdate) {
            <span class="hljs-keyword">const</span> ageDifMs = Date.now() - <span class="hljs-keyword">this</span>.birthdate.getTime();
            <span class="hljs-keyword">const</span> ageDate = <span class="hljs-keyword">new</span> Date(ageDifMs);
            <span class="hljs-keyword">return</span> Math.abs(ageDate.getUTCFullYear() - <span class="hljs-number">1970</span>);<font></font>
        }<font></font>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> getFullname(): string | <span class="hljs-literal">null</span> {
        <span class="hljs-keyword">return</span> [
            <span class="hljs-keyword">this</span>.firstName ?? <span class="hljs-string">""</span>,
            <span class="hljs-keyword">this</span>.lastName ?? <span class="hljs-string">""</span><font></font>
        ]<font></font>
            .join(<span class="hljs-string">" "</span>)<font></font>
            .trim() || <span class="hljs-literal">null</span>;<font></font>
    }<font></font>
<font></font>
}<font></font>
</code></pre><br>
</div>
                    </div></blockquote><blockquote><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TariffDtoã€‚</font><font style="vertical-align: inherit;">æè¿°æˆ‘ä»¬å¤„ç†çš„æ•°æ®çš„æ¨¡å‹</font></font></b>
                        <div class="spoiler_text"><pre><code class="actionscript hljs">export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TariffDto</span> </span>{
    <span class="hljs-keyword">public</span> ageFrom: number = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">public</span> ageTo: number = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">public</span> price: number = <span class="hljs-number">0</span>;<font></font>
}<font></font>
</code></pre><br>
</div>
                    </div></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨ï¼Œæ— è®ºæˆ‘ä»¬ä½äºåº”ç”¨ç¨‹åºçš„å“ªä¸€å±‚ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“ç¡®åˆ‡çš„æ•°æ®ã€‚åŒæ ·ï¼Œç”±äºæ¨¡å‹çš„æè¿°ï¼Œæˆ‘ä»¬åœ¨æˆ‘ä»¬çš„æœåŠ¡ä¸­å‘ç°äº†ä¸€ä¸ªé”™è¯¯ã€‚åœ¨æœåŠ¡é€»è¾‘ä¸­ï¼Œä½¿ç”¨äº†userProfile.ageå±æ€§ï¼Œè¯¥å±æ€§å®é™…ä¸Šä¸å­˜åœ¨ï¼Œä½†æ˜¯å…·æœ‰å‡ºç”Ÿæ—¥æœŸã€‚å¹¶ä¸”è¦è®¡ç®—å¹´é¾„ï¼Œå¿…é¡»è°ƒç”¨userProfile.getAgeï¼ˆï¼‰æ¨¡å‹æ–¹æ³•ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä½†æ˜¯æœ‰ä¸€ä¸ªé—®é¢˜ã€‚å¦‚æœå°è¯•ä½¿ç”¨å½“å‰å­˜å‚¨åº“æä¾›çš„æ¨¡å‹ä¸­çš„æ–¹æ³•ï¼Œåˆ™ä¼šå¾—åˆ°å¼‚å¸¸ã€‚é—®é¢˜æ˜¯</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">response.jsonï¼ˆï¼‰</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font><i><font style="vertical-align: inherit;">JSON.parseï¼ˆï¼‰</font></i><font style="vertical-align: inherit;">æ–¹æ³•</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å®ƒè¿”å›çš„ä¸æ˜¯æˆ‘ä»¬çš„æ¨¡å‹ï¼Œè€Œæ˜¯ä¸€ä¸ªJSONå¯¹è±¡ï¼Œè¯¥å¯¹è±¡ä¸æˆ‘ä»¬çš„æ¨¡å‹æ²¡æœ‰ä»»ä½•å…³è”ã€‚</font><font style="vertical-align: inherit;">å¦‚æœæ‰§è¡ŒUserProfileDtoçš„å‘½ä»¤userProfile instanceofï¼Œåˆ™ä¼šå¾—åˆ°ä¸€æ¡é”™è¯¯çš„è¯­å¥ï¼Œæ‚¨å¯ä»¥å¯¹æ­¤è¿›è¡ŒéªŒè¯ã€‚</font><font style="vertical-align: inherit;">ä¸ºäº†å°†ä»å¤–éƒ¨æºæ¥æ”¶çš„æ•°æ®è½¬æ¢ä¸ºæ‰€æè¿°çš„æ¨¡å‹ï¼Œå­˜åœ¨æ•°æ®ååºåˆ—åŒ–çš„è¿‡ç¨‹ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ•°æ®ååºåˆ—åŒ–</font></font></h2><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ååºåˆ—åŒ–</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -ä»å­—èŠ‚åºåˆ—æ¢å¤å¿…è¦ç»“æ„çš„è¿‡ç¨‹ã€‚</font><font style="vertical-align: inherit;">å¦‚æœæ•°æ®åŒ…å«æ¨¡å‹ä¸­æœªæŒ‡å®šçš„ä¿¡æ¯ï¼Œå®ƒå°†è¢«å¿½ç•¥ã€‚</font><font style="vertical-align: inherit;">å¦‚æœæ•°æ®ä¸­çš„ä¿¡æ¯ä¸æ¨¡å‹æè¿°ç›¸çŸ›ç›¾ï¼Œåˆ™ä¼šå‘ç”Ÿååºåˆ—åŒ–é”™è¯¯ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æœ€æœ‰è¶£çš„æ˜¯ï¼Œåœ¨è®¾è®¡ES2015å¹¶æ·»åŠ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">class</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å…³é”®å­—æ—¶ï¼Œä»–ä»¬</font><font style="vertical-align: inherit;">å¿˜è®°äº†æ·»åŠ ååºåˆ—åŒ–...åœ¨æ‰€æœ‰è¯­è¨€ä¸­éƒ½æ˜¯å¼€ç®±å³ç”¨çš„äº‹å®ï¼Œåœ¨ES2015ä¸­ä»–ä»¬æ ¹æœ¬å°±å¿˜è®°äº†... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä¸º</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TS-Serializable</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">åºåˆ—åŒ–</font></a><font style="vertical-align: inherit;">ç¼–å†™äº†ä¸€ä¸ªåº“ï¼Œ</font><font style="vertical-align: inherit;">æœ‰å…³è¯¥é—®é¢˜çš„æ–‡ç« å¯ä»¥</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨æ­¤é“¾æ¥</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸Š</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">é˜…è¯»</font></a><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ç›®çš„æ˜¯è¿”å›ä¸¢å¤±çš„åŠŸèƒ½ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨æ¨¡å‹ä¸­æ·»åŠ ååºåˆ—åŒ–æ”¯æŒï¼Œå¹¶å°†ååºåˆ—åŒ–æœ¬èº«æ·»åŠ åˆ°å­˜å‚¨åº“ï¼š</font></font><br>
<blockquote><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TariffRepositoryã€‚</font><font style="vertical-align: inherit;">æ·»åŠ ååºåˆ—åŒ–è¿‡ç¨‹</font></font></b>
                        <div class="spoiler_text"><pre><code class="actionscript hljs"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { UserProfileDto } from "./UserProfileDto";</span><font></font>
<font></font>
export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserProfilRepository</span> </span>{
    <span class="hljs-keyword">public</span> async getUserProfile(): Promise&lt;UserProfileDto&gt; {
        <span class="hljs-keyword">const</span> response = await fetch(<span class="hljs-string">"./api/user-profile"</span>);
        <span class="hljs-keyword">const</span> object = await response.json();
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> UserProfileDto().fromJSON(object); <span class="hljs-comment">//  </span><font></font>
    }<font></font>
    <font></font>
    <span class="hljs-comment">/**
     * ...        
     */</span><font></font>
}<font></font>
</code></pre><br>
</div>
                    </div></blockquote><blockquote><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TariffRepositoryã€‚</font><font style="vertical-align: inherit;">æ·»åŠ ååºåˆ—åŒ–è¿‡ç¨‹</font></font></b>
                        <div class="spoiler_text"><pre><code class="actionscript hljs"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { TariffDto } from "./TariffDto";</span><font></font>
<font></font>
export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TariffRepository</span> </span>{
    <span class="hljs-keyword">public</span> async requestTariffs(): Promise&lt;TariffDto[]&gt; { <span class="hljs-comment">//  </span>
        <span class="hljs-keyword">const</span> response = await fetch(<span class="hljs-string">"./api/tariffs"</span>);
        <span class="hljs-keyword">const</span> objects: object[] = await response.json();
        <span class="hljs-keyword">return</span> objects.map((object: object) =&gt; {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> TariffDto().fromJSON(object); <span class="hljs-comment">//  </span><font></font>
        });<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">/**
     * ...        
     */</span><font></font>
}<font></font>
</code></pre><br>
</div>
                    </div></blockquote><blockquote><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ProfileDtoã€‚</font><font style="vertical-align: inherit;">æ·»åŠ ååºåˆ—åŒ–æ”¯æŒ</font></font></b>
                        <div class="spoiler_text"><pre><code class="actionscript hljs"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { Serializable, jsonProperty } from "ts-serializable";</span><font></font>
<font></font>
export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserProfileDto</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Serializable</span> </span>{ <span class="hljs-comment">// &lt;--    </span><font></font>
<font></font>
    @jsonProperty(String, <span class="hljs-literal">null</span>) <span class="hljs-comment">// &lt;--  </span>
    <span class="hljs-keyword">public</span> firstName: string | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;<font></font>
<font></font>
    @jsonProperty(String, <span class="hljs-literal">null</span>) <span class="hljs-comment">// &lt;--  </span>
    <span class="hljs-keyword">public</span> lastName: string | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;<font></font>
<font></font>
    @jsonProperty(Date, <span class="hljs-literal">null</span>) <span class="hljs-comment">// &lt;--  </span>
    <span class="hljs-keyword">public</span> birthdate: Date | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;<font></font>
<font></font>
    <span class="hljs-keyword">public</span> getAge(): number | <span class="hljs-literal">null</span> {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.birthdate) {
            <span class="hljs-keyword">const</span> ageDifMs = Date.now() - <span class="hljs-keyword">this</span>.birthdate.getTime();
            <span class="hljs-keyword">const</span> ageDate = <span class="hljs-keyword">new</span> Date(ageDifMs);
            <span class="hljs-keyword">return</span> Math.abs(ageDate.getUTCFullYear() - <span class="hljs-number">1970</span>);<font></font>
        }<font></font>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> getFullname(): string | <span class="hljs-literal">null</span> {
        <span class="hljs-keyword">return</span> [
            <span class="hljs-keyword">this</span>.firstName ?? <span class="hljs-string">""</span>,
            <span class="hljs-keyword">this</span>.lastName ?? <span class="hljs-string">""</span><font></font>
        ]<font></font>
            .join(<span class="hljs-string">" "</span>)<font></font>
            .trim() || <span class="hljs-literal">null</span>;<font></font>
    }<font></font>
<font></font>
}<font></font>
</code></pre><br>
</div>
                    </div></blockquote><blockquote><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TariffDtoã€‚</font><font style="vertical-align: inherit;">æ·»åŠ ååºåˆ—åŒ–æ”¯æŒ</font></font></b>
                        <div class="spoiler_text"><pre><code class="actionscript hljs"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { Serializable, jsonProperty } from "ts-serializable";</span><font></font>
<font></font>
export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TariffDto</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Serializable</span> </span>{ <span class="hljs-comment">// &lt;--    </span><font></font>
<font></font>
    @jsonProperty(Number, <span class="hljs-literal">null</span>) <span class="hljs-comment">// &lt;--  </span>
    <span class="hljs-keyword">public</span> ageFrom: number = <span class="hljs-number">0</span>;<font></font>
<font></font>
    @jsonProperty(Number, <span class="hljs-literal">null</span>) <span class="hljs-comment">// &lt;--  </span>
    <span class="hljs-keyword">public</span> ageTo: number = <span class="hljs-number">0</span>;<font></font>
<font></font>
    @jsonProperty(Number, <span class="hljs-literal">null</span>) <span class="hljs-comment">// &lt;--  </span>
    <span class="hljs-keyword">public</span> price: number = <span class="hljs-number">0</span>;<font></font>
<font></font>
}<font></font>
</code></pre><br>
</div>
                    </div></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨ï¼Œåœ¨åº”ç”¨ç¨‹åºçš„æ‰€æœ‰å±‚ä¸­ï¼Œæ‚¨éƒ½å¯ä»¥ç»å¯¹ç¡®å®šæˆ‘ä»¬æ­£åœ¨ä½¿ç”¨æœŸæœ›çš„æ¨¡å‹ã€‚</font><font style="vertical-align: inherit;">åœ¨è§†å›¾ï¼Œæ§åˆ¶å™¨å’Œå…¶ä»–å±‚ä¸­ï¼Œå¯ä»¥è°ƒç”¨æè¿°çš„æ¨¡å‹çš„æ–¹æ³•ã€‚</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»€ä¹ˆæ˜¯Serializableå’ŒjsonPropertyï¼Ÿ</font></font></b>
                        <div class="spoiler_text">        Serializable â€”         Ecmascript       Typescript.      jsonProperty         ,       Typescript            uniontypes.            .<br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨æˆ‘ä»¬å·²ç»å®Œæˆäº†ç”³è¯·ã€‚</font><font style="vertical-align: inherit;">ç°åœ¨è¯¥æµ‹è¯•åœ¨Controllerï¼ŒServiceå’ŒModelså±‚ä¸­ç¼–å†™çš„é€»è¾‘äº†ã€‚</font><font style="vertical-align: inherit;">ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å­˜å‚¨åº“å±‚ä¸­è¿”å›ä¸“é—¨å‡†å¤‡çš„æµ‹è¯•æ•°æ®ï¼Œè€Œä¸æ˜¯å‘æœåŠ¡å™¨å‘é€çœŸå®è¯·æ±‚ã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯å¦‚ä½•åœ¨ä¸è§¦åŠç”Ÿäº§ä»£ç çš„æƒ…å†µä¸‹æ›¿æ¢å­˜å‚¨åº“ã€‚</font><font style="vertical-align: inherit;">æœ‰ä¸€ä¸ªä¾èµ–æ³¨å…¥æ¨¡å¼ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¾èµ–æ³¨å…¥-ä¾èµ–æ³¨å…¥</font></font></h2><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¾èµ–æ³¨å…¥</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -å°†ä¾èµ–æ³¨å…¥åˆ°Contollerï¼ŒServiceï¼ŒRepositoryå±‚ï¼Œå¹¶å…è®¸æ‚¨åœ¨è¿™äº›å±‚ä¹‹å¤–è¦†ç›–è¿™äº›ä¾èµ–ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨ç¨‹åºä¸­ï¼ŒControllerå±‚å–å†³äºServiceå±‚ï¼Œå¹¶ä¸”å–å†³äºRepositoryå±‚ã€‚åœ¨å½“å‰å½¢å¼ä¸­ï¼Œå±‚æœ¬èº«é€šè¿‡å®ä¾‹åŒ–å¯¼è‡´å…¶ä¾èµ–æ€§ã€‚ä¸ºäº†é‡æ–°å®šä¹‰ä¾èµ–æ€§ï¼Œè¯¥å±‚éœ€è¦ä»å¤–éƒ¨è®¾ç½®è¿™ç§ä¾èµ–æ€§ã€‚æœ‰å¾ˆå¤šæ–¹æ³•å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ï¼Œä½†æ˜¯æœ€æµè¡Œçš„æ˜¯åœ¨æ„é€ å‡½æ•°ä¸­å°†ä¾èµ–é¡¹ä½œä¸ºå‚æ•°ä¼ é€’ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç„¶ååˆ›å»ºä¸€ä¸ªå…·æœ‰æ‰€æœ‰ä¾èµ–é¡¹çš„ç¨‹åºï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</font></font><br>
<pre><code class="actionscript hljs"><span class="hljs-keyword">var</span> programm = <span class="hljs-keyword">new</span> IndexPageController(<span class="hljs-keyword">new</span> ProfileService(<span class="hljs-keyword">new</span> ProfileRepository()));
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åŒæ„-çœ‹èµ·æ¥ç³Ÿé€äº†ã€‚</font><font style="vertical-align: inherit;">å³ä½¿è€ƒè™‘åˆ°ç¨‹åºä¸­åªæœ‰ä¸¤ä¸ªä¾èµ–å…³ç³»ï¼Œå®ƒçœ‹èµ·æ¥ä¹Ÿå¾ˆç³Ÿç³•ã€‚</font><font style="vertical-align: inherit;">å…³äºå…·æœ‰æˆåƒä¸Šä¸‡ä¸ªä¾èµ–é¡¹çš„ç¨‹åºè¯¥è¯´äº›ä»€ä¹ˆã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¦è§£å†³è¯¥é—®é¢˜ï¼Œæ‚¨éœ€è¦ä¸€ä¸ªç‰¹æ®Šçš„å·¥å…·ï¼Œä½†æ˜¯ä¸ºæ­¤æ‚¨éœ€è¦æ‰¾åˆ°å®ƒã€‚</font><font style="vertical-align: inherit;">å¦‚æœæˆ‘ä»¬è½¬å‘å…¶ä»–å¹³å°ï¼ˆä¾‹å¦‚Asp.Net Coreï¼‰çš„ç»éªŒï¼Œé‚£ä¹ˆä¾èµ–é¡¹çš„æ³¨å†Œå°±å‘ç”Ÿåœ¨ç¨‹åºçš„åˆå§‹åŒ–é˜¶æ®µï¼Œçœ‹èµ·æ¥åƒè¿™æ ·ï¼š</font></font><br>
<pre><code class="actionscript hljs">DI.register(IProfileService,ProfileService);
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç„¶åï¼Œåœ¨åˆ›å»ºæ§åˆ¶å™¨æ—¶ï¼Œæ¡†æ¶æœ¬èº«å°†åˆ›å»ºå¹¶å®ç°æ­¤ä¾èµ–å…³ç³»ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä½†æ˜¯å­˜åœ¨ä¸‰ä¸ªé‡å¤§é—®é¢˜ï¼š</font></font><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨Javascriptä¸­ç¼–è¯‘Typescriptæ—¶ï¼Œæ¥å£ä¸­æ²¡æœ‰ä»»ä½•ç—•è¿¹ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å±äºç»å…¸DIçš„æ‰€æœ‰å†…å®¹éƒ½å°†æ°¸è¿œä¿ç•™åœ¨å…¶ä¸­ã€‚</font><font style="vertical-align: inherit;">åœ¨é‡æ„æœŸé—´å¾ˆéš¾æ¸…ç†å®ƒã€‚</font><font style="vertical-align: inherit;">åœ¨Webåº”ç”¨ç¨‹åºä¸­ï¼Œæ‚¨éœ€è¦ä¿å­˜æ¯ä¸ªå­—èŠ‚ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‡ ä¹æ‰€æœ‰è§†å›¾åº“éƒ½ä¸ä½¿ç”¨DIï¼Œå¹¶ä¸”æ§åˆ¶å™¨è®¾è®¡äººå‘˜æ­£å¿™äºå¤„ç†å‚æ•°ã€‚</font></font></li>
</ol><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨Webåº”ç”¨ç¨‹åºä¸­ï¼ŒDIä»…åœ¨Angular 2+ä¸­ä½¿ç”¨ã€‚</font><font style="vertical-align: inherit;">åœ¨Angular 1ä¸­ï¼Œå½“æ³¨å†Œä¾èµ–é¡¹æ—¶ï¼Œä½¿ç”¨ä¸€ä¸ªå­—ç¬¦ä¸²ä»£æ›¿æ¥å£ï¼›åœ¨InversifyJSä¸­ï¼Œä½¿ç”¨Symbolä»£æ›¿æ¥å£ã€‚</font><font style="vertical-align: inherit;">è€Œä¸”æ‰€æœ‰è¿™äº›æ“ä½œçš„å®ç°éƒ½éå¸¸ç³Ÿç³•ï¼Œå› æ­¤ï¼Œä¸æœ¬è§£å†³æ–¹æ¡ˆçš„ç¬¬ä¸€ä¸ªç¤ºä¾‹ä¸€æ ·ï¼Œæœ€å¥½æœ‰å¾ˆå¤šæ–°åŠŸèƒ½ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸ºäº†è§£å†³è¿™ä¸‰ä¸ªé—®é¢˜ï¼Œæˆ‘å‘æ˜äº†è‡ªå·±çš„DIï¼Œè¯¥è§£å†³æ–¹æ¡ˆå¸®åŠ©æˆ‘æ‰¾åˆ°äº†Java Springæ¡†æ¶åŠå…¶è‡ªåŠ¨è£…é…å™¨ã€‚</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨é“¾æ¥çš„æ–‡ç« </font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHubå­˜å‚¨åº“ä¸­</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¯ä»¥</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">æ‰¾åˆ°</font></a><font style="vertical-align: inherit;">æœ‰å…³æ­¤DIå¦‚ä½•å·¥ä½œçš„æè¿°</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨æ˜¯æ—¶å€™åœ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¸­åº”ç”¨ç”Ÿæˆçš„DIäº†ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ”¾åœ¨ä¸€èµ·</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸ºäº†åœ¨æ‰€æœ‰å±‚ä¸Šå®ç°DIï¼Œæˆ‘ä»¬å°†æ·»åŠ ä¸€ä¸ªåå°„è£…é¥°å™¨ï¼Œè¿™å°†ä½¿Typescriptç”Ÿæˆæœ‰å…³ä¾èµ–é¡¹ç±»å‹çš„å…¶ä»–å…ƒä¿¡æ¯ã€‚</font><font style="vertical-align: inherit;">åœ¨éœ€è¦è°ƒç”¨ä¾èµ–é¡¹çš„æ§åˆ¶å™¨ä¸­ï¼Œæˆ‘ä»¬å°†æŒ‚èµ·è‡ªåŠ¨è£…é…çš„è£…é¥°å™¨ã€‚</font><font style="vertical-align: inherit;">åœ¨ç¨‹åºåˆå§‹åŒ–çš„åœ°æ–¹ï¼Œæˆ‘ä»¬ç¡®å®šå°†åœ¨å“ªä¸ªç¯å¢ƒä¸­å®ç°å“ªä¸ªä¾èµ–é¡¹ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¯¹äºUserProfilRepositoryå­˜å‚¨åº“ï¼Œåˆ›å»ºç›¸åŒçš„å­˜å‚¨åº“ï¼Œä½†ä½¿ç”¨æµ‹è¯•æ•°æ®è€Œä¸æ˜¯å®é™…è¯·æ±‚ã€‚</font><font style="vertical-align: inherit;">ç»“æœï¼Œæˆ‘ä»¬å¾—åˆ°ä»¥ä¸‹ä»£ç ï¼š</font></font><br>
<blockquote><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸»ç«™ </font><font style="vertical-align: inherit;">ç¨‹åºåˆå§‹åŒ–ä½ç½®</font></font></b>
                        <div class="spoiler_text"><pre><code class="actionscript hljs"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { override } from "first-di";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { UserProfilRepository } from "./UserProfilRepository";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { MockUserProfilRepository } from "./MockUserProfilRepository";</span><font></font>
<font></font>
<span class="hljs-keyword">if</span> (process.env.NODE_ENV === <span class="hljs-string">"test"</span>) {
    <span class="hljs-comment">//         </span>
    <span class="hljs-keyword">override</span>(UserProfilRepository, MockUserProfilRepository);<font></font>
}<font></font>
</code></pre><br>
</div>
                    </div></blockquote><blockquote><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UserPageControllerã€‚</font><font style="vertical-align: inherit;">é€šè¿‡è‡ªåŠ¨è¿çº¿è£…é¥°å™¨çš„ä¾èµ–</font></font></b>
                        <div class="spoiler_text"><pre><code class="actionscript hljs"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { UserProfilService } from "./UserProfilService";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { TariffService } from "./TariffService";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { UserProfileDto } from "./UserProfileDto";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { TariffDto } from "./TariffDto";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { InsuranceCaseDto } from "./InsuranceCasesDto";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { autowired } from "first-di";</span><font></font>
<font></font>
export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserPageController</span> </span>{<font></font>
<font></font>
    <span class="hljs-keyword">public</span> userProfile: UserProfileDto = <span class="hljs-keyword">new</span> UserProfileDto();
    <span class="hljs-keyword">public</span> insuranceCases: InsuranceCaseDto[] = [];
    <span class="hljs-keyword">public</span> tariffs: TariffDto[] = [];
    <span class="hljs-keyword">public</span> bestTariff: TariffDto | <span class="hljs-keyword">void</span> = <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>;<font></font>
<font></font>
    @autowired() <span class="hljs-comment">//  </span>
    <span class="hljs-keyword">private</span> readonly userProfilService!: UserProfilService;<font></font>
<font></font>
    @autowired() <span class="hljs-comment">//  </span>
    <span class="hljs-keyword">private</span> readonly tarifService!: TariffService;<font></font>
<font></font>
    constructor() {<font></font>
        <span class="hljs-comment">//     , ..  </span>
        <span class="hljs-keyword">this</span>.activate();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> activate(): <span class="hljs-keyword">void</span> {
        <span class="hljs-keyword">this</span>.requestUserProfile();
        <span class="hljs-keyword">this</span>.requestTariffs();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> async requestUserProfile(): Promise&lt;<span class="hljs-keyword">void</span>&gt; {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">this</span>.userProfile = await <span class="hljs-keyword">this</span>.userProfilService.getUserProfile();
            <span class="hljs-keyword">this</span>.bestTariff = await <span class="hljs-keyword">this</span>.tarifService.findBestTariff(<span class="hljs-keyword">this</span>.userProfile);<font></font>
        } <span class="hljs-keyword">catch</span> (e) {<font></font>
            console.error(e);<font></font>
        }<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> async requestTariffs(): Promise&lt;<span class="hljs-keyword">void</span>&gt; {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">this</span>.tariffs = await <span class="hljs-keyword">this</span>.tarifService.getTariffs();<font></font>
        } <span class="hljs-keyword">catch</span> (e) {<font></font>
            console.error(e);<font></font>
        }<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">/**
     * ...   ,   ,
     *  ,    
     */</span><font></font>
}<font></font>
</code></pre><br>
</div>
                    </div></blockquote><blockquote><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UserProfilServiceã€‚</font><font style="vertical-align: inherit;">ä»‹ç»åå°„å’Œä¾èµ–é¡¹ç”Ÿæˆ</font></font></b>
                        <div class="spoiler_text"><pre><code class="actionscript hljs"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { UserProfilRepository } from "./UserProfilRepository";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { UserProfileDto } from "./UserProfileDto";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { reflection } from "first-di";</span><font></font>
<font></font>
@reflection <span class="hljs-comment">//  typescript  </span>
export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserProfilService</span> </span>{<font></font>
<font></font>
    <span class="hljs-keyword">private</span> readonly userProfilRepository: UserProfilRepository;<font></font>
<font></font>
    constructor(userProfilRepository: UserProfilRepository) {<font></font>
        <span class="hljs-comment">//    </span>
        <span class="hljs-keyword">this</span>.userProfilRepository = userProfilRepository;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> async getUserProfile(): Promise&lt;UserProfileDto&gt; {
        <span class="hljs-keyword">return</span> await <span class="hljs-keyword">this</span>.userProfilRepository.getUserProfile();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">/**
     * ...        
     */</span><font></font>
}<font></font>
</code></pre><br>
</div>
                    </div></blockquote><blockquote><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TariffServiceã€‚</font><font style="vertical-align: inherit;">ä»‹ç»åå°„å’Œä¾èµ–é¡¹ç”Ÿæˆ</font></font></b>
                        <div class="spoiler_text"><pre><code class="actionscript hljs"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { TariffRepository } from "./TariffRepository";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { TariffDto } from "./TariffDto";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { UserProfileDto } from "./UserProfileDto";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { reflection } from "first-di";</span><font></font>
<font></font>
@reflection <span class="hljs-comment">//  typescript  </span>
export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TariffService</span> </span>{<font></font>
<font></font>
    <span class="hljs-keyword">private</span> readonly tarifRepository: TariffRepository;<font></font>
<font></font>
    constructor(tarifRepository: TariffRepository) {<font></font>
        <span class="hljs-comment">//    </span>
        <span class="hljs-keyword">this</span>.tarifRepository = tarifRepository;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> async getTariffs(): Promise&lt;TariffDto[]&gt; {
        <span class="hljs-keyword">return</span> await <span class="hljs-keyword">this</span>.tarifRepository.requestTariffs();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> async findBestTariff(userProfile: UserProfileDto): Promise&lt;TariffDto | <span class="hljs-keyword">void</span>&gt; {
        <span class="hljs-keyword">const</span> tariffs = await <span class="hljs-keyword">this</span>.tarifRepository.requestTariffs();
        <span class="hljs-keyword">return</span> tariffs.find((tarif: TariffDto) =&gt; {
            <span class="hljs-keyword">const</span> age = userProfile.getAge();
            <span class="hljs-keyword">return</span> age &amp;&amp;<font></font>
                tarif.ageFrom &lt;= age &amp;&amp;<font></font>
                age &lt; tarif.ageTo;<font></font>
        });<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">/**
     * ...       
     */</span><font></font>
}<font></font>
<font></font>
</code></pre><br>
</div>
                    </div></blockquote><blockquote><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UserProfilRepositoryã€‚</font><font style="vertical-align: inherit;">ä»‹ç»åå°„ç”Ÿæˆ</font></font></b>
                        <div class="spoiler_text"><pre><code class="actionscript hljs"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { UserProfileDto } from "./UserProfileDto";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { reflection } from "first-di";</span><font></font>
<font></font>
@reflection <span class="hljs-comment">//  typescript  </span>
export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserProfilRepository</span> </span>{
    <span class="hljs-keyword">public</span> async getUserProfile(): Promise&lt;UserProfileDto&gt; {
        <span class="hljs-keyword">const</span> response = await fetch(<span class="hljs-string">"./api/user-profile"</span>);
        <span class="hljs-keyword">const</span> object = await response.json();
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> UserProfileDto().fromJSON(object);<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">/**
     * ...        
     */</span><font></font>
}<font></font>
</code></pre><br>
</div>
                    </div></blockquote><blockquote><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MockUserProfilRepositoryã€‚</font><font style="vertical-align: inherit;">æ–°çš„æµ‹è¯•åº“</font></font></b>
                        <div class="spoiler_text"><pre><code class="actionscript hljs"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { UserProfileDto } from "./UserProfileDto";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { reflection } from "first-di";</span><font></font>
<font></font>
@reflection <span class="hljs-comment">//  typescript  </span>
export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MockUserProfilRepository</span> </span>{ <span class="hljs-comment">//   </span>
    <span class="hljs-keyword">public</span> async getUserProfile(): Promise&lt;UserProfileDto&gt; {
        <span class="hljs-keyword">const</span> profile = <span class="hljs-keyword">new</span> UserProfileDto();<font></font>
        profile.firstName = <span class="hljs-string">""</span>;<font></font>
        profile.lastName = <span class="hljs-string">""</span>;<font></font>
        profile.birthdate = <span class="hljs-keyword">new</span> Date(Date.now() - <span class="hljs-number">1.5e12</span>);
        <span class="hljs-keyword">return</span> Promise.resolve(profile); <span class="hljs-comment">//   </span><font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">/**
     * ...        
     */</span><font></font>
}<font></font>
</code></pre><br>
</div>
                    </div></blockquote><blockquote><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TariffRepositoryã€‚</font><font style="vertical-align: inherit;">ä»‹ç»åå°„ç”Ÿæˆ</font></font></b>
                        <div class="spoiler_text"><pre><code class="actionscript hljs"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { TariffDto } from "./TariffDto";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { reflection } from "first-di";</span><font></font>
<font></font>
@reflection <span class="hljs-comment">//  typescript  </span>
export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TariffRepository</span> </span>{
    <span class="hljs-keyword">public</span> async requestTariffs(): Promise&lt;TariffDto[]&gt; {
        <span class="hljs-keyword">const</span> response = await fetch(<span class="hljs-string">"./api/tariffs"</span>);
        <span class="hljs-keyword">const</span> objects: object[] = await response.json();
        <span class="hljs-keyword">return</span> objects.map((object: object) =&gt; {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> TariffDto().fromJSON(object);<font></font>
        });<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">/**
     * ...        
     */</span><font></font>
}<font></font>
</code></pre><br>
</div>
                    </div></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨ï¼Œç¨‹åºä¸­çš„ä»»ä½•åœ°æ–¹éƒ½æœ‰æœºä¼šæ›´æ”¹ä»»ä½•é€»è¾‘çš„å®ç°ã€‚</font><font style="vertical-align: inherit;">åœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ï¼Œå°†ä½¿ç”¨æµ‹è¯•æ•°æ®ï¼Œè€Œä¸æ˜¯åœ¨æµ‹è¯•ç¯å¢ƒä¸­å‘æœåŠ¡å™¨å‘é€çœŸå®çš„ç”¨æˆ·é…ç½®æ–‡ä»¶è¯·æ±‚ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨ç°å®ç”Ÿæ´»ä¸­ï¼Œå¯ä»¥åœ¨ä»»ä½•åœ°æ–¹æ‰¾åˆ°æ›¿æ¢é¡¹ï¼Œä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥æ›´æ”¹æœåŠ¡ä¸­çš„é€»è¾‘ï¼Œåœ¨ç”Ÿäº§ä¸­å®ç°æ—§æœåŠ¡ï¼Œå¹¶ä¸”åœ¨é‡æ„ä¸­å®ƒå·²ç»æ˜¯æ–°çš„ã€‚</font><font style="vertical-align: inherit;">ä½¿ç”¨ä¸šåŠ¡é€»è¾‘è¿›è¡ŒA / Bæµ‹è¯•ï¼Œå°†åŸºäºæ–‡æ¡£çš„æ•°æ®åº“æ›´æ”¹ä¸ºå…³ç³»æ•°æ®åº“ï¼Œå¹¶ä¸”é€šå¸¸å°†ç½‘ç»œè¯·æ±‚æ›´æ”¹ä¸ºWebå¥—æ¥å­—ã€‚</font><font style="vertical-align: inherit;">æ‰€æœ‰è¿™ä¸€åˆ‡éƒ½æ— éœ€åœæ­¢å¼€å‘æ¥é‡å†™è§£å†³æ–¹æ¡ˆã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨æ˜¯æ—¶å€™æŸ¥çœ‹ç¨‹åºçš„ç»“æœäº†ã€‚</font><font style="vertical-align: inherit;">ä¸ºæ­¤æœ‰ä¸€ä¸ªViewå±‚ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å®æ–½è§†å›¾</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è§†å›¾å±‚è´Ÿè´£å‘ç”¨æˆ·æ˜¾ç¤ºæ§åˆ¶å™¨å±‚ä¸­åŒ…å«çš„æ•°æ®ã€‚</font><font style="vertical-align: inherit;">åœ¨ç¤ºä¾‹ä¸­ï¼Œæˆ‘å°†ä¸ºæ­¤ä½¿ç”¨Reactï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨å…¶ä»–ä»»ä½•ä½ç½®ï¼Œä¾‹å¦‚Preactï¼ŒSvelteï¼ŒVueï¼ŒMithrilï¼ŒWebComponentæˆ–ä»»ä½•å…¶ä»–ä½ç½®ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸ºæ­¤ï¼Œåªéœ€ä»React.Componentç»§æ‰¿æˆ‘ä»¬çš„æ§åˆ¶å™¨ï¼Œç„¶åå‘å…¶æ·»åŠ ä¸€ä¸ªå¸¦æœ‰è§†å›¾è¡¨ç¤ºçš„renderæ–¹æ³•ï¼š</font></font><br>
<br>
<blockquote><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸»ç«™ </font><font style="vertical-align: inherit;">å¼€å§‹ç»˜åˆ¶ä¸€ä¸ªReactç»„ä»¶</font></font></b>
                        <div class="spoiler_text"><pre><code class="actionscript hljs"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { override } from "first-di";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { UserProfilRepository } from "./UserProfilRepository";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { MockUserProfilRepository } from "./MockUserProfilRepository";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { UserPageController } from "./UserPageController";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> React from "react";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { render } from "react-dom";</span><font></font>
<font></font>
<span class="hljs-keyword">if</span> (process.env.NODE_ENV === <span class="hljs-string">"test"</span>) {
    <span class="hljs-comment">//         </span>
    <span class="hljs-keyword">override</span>(UserProfilRepository, MockUserProfilRepository);<font></font>
}<font></font>
<font></font>
render(React.createElement(UserPageController), document.body);<font></font>
</code></pre><br>
</div>
                    </div></blockquote><blockquote><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UserPageControllerã€‚</font><font style="vertical-align: inherit;">ä»React.Componentç»§æ‰¿å¹¶æ·»åŠ ä¸€ä¸ªrenderæ–¹æ³•</font></font></b>
                        <div class="spoiler_text"><pre><code class="actionscript hljs"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { UserProfilService } from "./UserProfilService";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { TariffService } from "./TariffService";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { UserProfileDto } from "./UserProfileDto";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { TariffDto } from "./TariffDto";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { InsuranceCaseDto } from "./InsuranceCasesDto";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { autowired } from "first-di";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> React from "react";</span><font></font>
<font></font>
<span class="hljs-comment">//    React.Component</span>
export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserPageController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span>&lt;<span class="hljs-title">object</span>, <span class="hljs-title">object</span>&gt; </span>{<font></font>
<font></font>
    <span class="hljs-keyword">public</span> userProfile: UserProfileDto = <span class="hljs-keyword">new</span> UserProfileDto();
    <span class="hljs-keyword">public</span> insuranceCases: InsuranceCaseDto[] = [];
    <span class="hljs-keyword">public</span> tariffs: TariffDto[] = [];
    <span class="hljs-keyword">public</span> bestTariff: TariffDto | <span class="hljs-keyword">void</span> = <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>;<font></font>
<font></font>
    @autowired()<font></font>
    <span class="hljs-keyword">private</span> readonly userProfilService!: UserProfilService;<font></font>
<font></font>
    @autowired()<font></font>
    <span class="hljs-keyword">private</span> readonly tarifService!: TariffService;<font></font>
<font></font>
    <span class="hljs-comment">//   </span><font></font>
    constructor(props: object, context: object) {<font></font>
        <span class="hljs-keyword">super</span>(props, context);<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">//     </span>
    <span class="hljs-keyword">public</span> componentDidMount(): <span class="hljs-keyword">void</span> {
        <span class="hljs-keyword">this</span>.activate();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> activate(): <span class="hljs-keyword">void</span> {
        <span class="hljs-keyword">this</span>.requestUserProfile();
        <span class="hljs-keyword">this</span>.requestTariffs();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> async requestUserProfile(): Promise&lt;<span class="hljs-keyword">void</span>&gt; {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">this</span>.userProfile = await <span class="hljs-keyword">this</span>.userProfilService.getUserProfile();
            <span class="hljs-keyword">this</span>.bestTariff = await <span class="hljs-keyword">this</span>.tarifService.findBestTariff(<span class="hljs-keyword">this</span>.userProfile);
            <span class="hljs-keyword">this</span>.forceUpdate(); <span class="hljs-comment">//  view   </span>
        } <span class="hljs-keyword">catch</span> (e) {<font></font>
            console.error(e);<font></font>
        }<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> async requestTariffs(): Promise&lt;<span class="hljs-keyword">void</span>&gt; {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">this</span>.tariffs = await <span class="hljs-keyword">this</span>.tarifService.getTariffs();
            <span class="hljs-keyword">this</span>.forceUpdate(); <span class="hljs-comment">//  view   </span>
        } <span class="hljs-keyword">catch</span> (e) {<font></font>
            console.error(e);<font></font>
        }<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">//   view</span>
    <span class="hljs-keyword">public</span> render(): JSX.Element {
        <span class="hljs-keyword">return</span> (<font></font>
            &lt;&gt;<font></font>
                &lt;div className=<span class="hljs-string">"user"</span>&gt;<font></font>
                    &lt;div className=<span class="hljs-string">"user-name"</span>&gt;<font></font>
                         : {<span class="hljs-keyword">this</span>.userProfile.getFullname()}<font></font>
                    &lt;/div&gt;<font></font>
                    &lt;div className=<span class="hljs-string">"user-age"</span>&gt;<font></font>
                        : {<span class="hljs-keyword">this</span>.userProfile.getAge()}<font></font>
                    &lt;/div&gt;<font></font>
                &lt;/div&gt;<font></font>
                &lt;div className=<span class="hljs-string">"tarifs"</span>&gt;<font></font>
                    {<span class="hljs-comment">/*    */</span>}<font></font>
                &lt;/div&gt;<font></font>
            &lt;/&gt;<font></font>
        );<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">/**
     * ...   ,   ,
     *  ,    
     */</span><font></font>
}<font></font>
</code></pre><br>
</div>
                    </div></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é€šè¿‡ä»…æ·»åŠ ä¸¤è¡Œä»£ç å’Œä¸€ä¸ªæ¼”ç¤ºæ¨¡æ¿ï¼Œæˆ‘ä»¬çš„æ§åˆ¶å™¨å˜æˆäº†å…·æœ‰å·¥ä½œé€»è¾‘çš„Reactç»„ä»¶ã€‚</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸ºä»€ä¹ˆè¦è°ƒç”¨forceUpdateè€Œä¸æ˜¯setStateï¼Ÿ</font></font></b>
                        <div class="spoiler_text">     forceUpdate  ,   setState.          setState, Redux, mobX  .,          .  React  Preact  forceUpdate,   ChangeDetectorRef.detectChanges(),  Mithril  redraw   .         Observable   ,    MobX  Angular,   .         .<br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä½†æ˜¯å³ä½¿åœ¨è¿™æ ·çš„å®ç°ä¸­ï¼Œäº‹å®è¯æ˜æˆ‘ä»¬è¿˜æ˜¯å°†Reactåº“ä¸å®ƒçš„ç”Ÿå‘½å‘¨æœŸï¼Œè§†å›¾å®ç°ä»¥åŠä½¿è§†å›¾æ— æ•ˆçš„åŸç†è”ç³»åœ¨ä¸€èµ·ï¼Œè¿™ä¸Clean Architectureçš„æ¦‚å¿µç›¸çŸ›ç›¾ã€‚</font><font style="vertical-align: inherit;">è€Œä¸”é€»è¾‘å’Œå¸ƒå±€åœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œè¿™ä½¿æ’ç‰ˆæœºå’Œå¼€å‘äººå‘˜çš„å¹¶è¡Œå·¥ä½œå˜å¾—å¤æ‚ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ§åˆ¶å™¨ä¸è§†å›¾åˆ†ç¦»</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸ºäº†è§£å†³è¿™ä¸¤ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å°†è§†å›¾å±‚æ”¾å…¥ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ä¸­ï¼Œè€Œä¸æ˜¯ä½¿ç”¨Reactç»„ä»¶ï¼Œè€Œæ˜¯åˆ¶ä½œäº†ä¸€ä¸ªåŸºæœ¬ç»„ä»¶ï¼Œè¯¥ç»„ä»¶å°†ä»ç‰¹å®šçš„è¡¨ç¤ºåº“ä¸­æŠ½è±¡å‡ºæˆ‘ä»¬çš„æ§åˆ¶å™¨ã€‚</font><font style="vertical-align: inherit;">åŒæ—¶ï¼Œæˆ‘ä»¬æè¿°äº†ç»„ä»¶å¯ä»¥é‡‡ç”¨çš„å±æ€§ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬å¾—åˆ°ä»¥ä¸‹å˜åŒ–ï¼š</font></font><br>
<blockquote><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UserPageViewã€‚</font><font style="vertical-align: inherit;">ä»–ä»¬å°†è§†å›¾æ”¾åˆ°ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ä¸­</font></font></b>
                        <div class="spoiler_text"><pre><code class="actionscript hljs"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { UserPageOptions, UserPageController } from "./UserPageController";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> React from "react";</span><font></font>
<font></font>
export <span class="hljs-keyword">const</span> userPageView = &lt;P <span class="hljs-keyword">extends</span> UserPageOptions, S&gt;(<font></font>
    ctrl: UserPageController&lt;P, S&gt;,<font></font>
    props: P<font></font>
): JSX.Element =&gt; (<font></font>
    &lt;&gt;<font></font>
        &lt;div className=<span class="hljs-string">"user"</span>&gt;<font></font>
            &lt;div className=<span class="hljs-string">"user-name"</span>&gt;<font></font>
                 : {ctrl.userProfile.getFullname()}<font></font>
            &lt;/div&gt;<font></font>
            &lt;div className=<span class="hljs-string">"user-age"</span>&gt;<font></font>
                : {ctrl.userProfile.getAge()}<font></font>
            &lt;/div&gt;<font></font>
        &lt;/div&gt;<font></font>
        &lt;div className=<span class="hljs-string">"tarifs"</span>&gt;<font></font>
            {<span class="hljs-comment">/*    */</span>}<font></font>
        &lt;/div&gt;<font></font>
    &lt;/&gt;<font></font>
);<font></font>
</code></pre><br>
</div>
                    </div></blockquote><blockquote><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UserPageOptionsã€‚</font><font style="vertical-align: inherit;">æŸ¥çœ‹å¹¶ååº”åˆ°ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶</font></font></b>
                        <div class="spoiler_text"><pre><code class="actionscript hljs"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { UserProfilService } from "./UserProfilService";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { TariffService } from "./TariffService";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { UserProfileDto } from "./UserProfileDto";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { TariffDto } from "./TariffDto";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { InsuranceCaseDto } from "./InsuranceCasesDto";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { autowired } from "first-di";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { BaseComponent } from "./BaseComponent";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { userPageView } from "./UserPageview";</span><font></font>
<font></font>
export <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">UserPageOptions</span> </span>{<font></font>
    param1?: number;<font></font>
    param2?: string;<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">//    BaseComponent</span>
export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserPageController</span>&lt;<span class="hljs-title">P</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">UserPageOptions</span>, <span class="hljs-title">S</span>&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title">BaseComponent</span>&lt;<span class="hljs-title">P</span>, <span class="hljs-title">S</span>&gt; </span>{<font></font>
<font></font>
    <span class="hljs-keyword">public</span> userProfile: UserProfileDto = <span class="hljs-keyword">new</span> UserProfileDto();
    <span class="hljs-keyword">public</span> insuranceCases: InsuranceCaseDto[] = [];
    <span class="hljs-keyword">public</span> tariffs: TariffDto[] = [];
    <span class="hljs-keyword">public</span> bestTariff: TariffDto | <span class="hljs-keyword">void</span> = <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>;<font></font>
<font></font>
    <span class="hljs-comment">//  </span>
    <span class="hljs-keyword">public</span> readonly view = userPageView;<font></font>
<font></font>
    @autowired()<font></font>
    <span class="hljs-keyword">private</span> readonly userProfilService!: UserProfilService;<font></font>
<font></font>
    @autowired()<font></font>
    <span class="hljs-keyword">private</span> readonly tarifService!: TariffService;<font></font>
<font></font>
    <span class="hljs-comment">//  </span><font></font>
    constructor(props: P, context: S) {<font></font>
        <span class="hljs-keyword">super</span>(props, context);<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">//   componentDidMount, . BaseComponent</span>
    <span class="hljs-keyword">public</span> activate(): <span class="hljs-keyword">void</span> {
        <span class="hljs-keyword">this</span>.requestUserProfile();
        <span class="hljs-keyword">this</span>.requestTariffs();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> async requestUserProfile(): Promise&lt;<span class="hljs-keyword">void</span>&gt; {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">this</span>.userProfile = await <span class="hljs-keyword">this</span>.userProfilService.getUserProfile();
            <span class="hljs-keyword">this</span>.bestTariff = await <span class="hljs-keyword">this</span>.tarifService.findBestTariff(<span class="hljs-keyword">this</span>.userProfile);
            <span class="hljs-keyword">this</span>.forceUpdate();<font></font>
        } <span class="hljs-keyword">catch</span> (e) {<font></font>
            console.error(e);<font></font>
        }<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> async requestTariffs(): Promise&lt;<span class="hljs-keyword">void</span>&gt; {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">this</span>.tariffs = await <span class="hljs-keyword">this</span>.tarifService.getTariffs();
            <span class="hljs-keyword">this</span>.forceUpdate();<font></font>
        } <span class="hljs-keyword">catch</span> (e) {<font></font>
            console.error(e);<font></font>
        }<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">/**
     * ...   ,   ,
     *  ,    
     */</span><font></font>
}<font></font>
</code></pre><br>
</div>
                    </div></blockquote><blockquote><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åŸºæœ¬ç»„ä»¶ </font><font style="vertical-align: inherit;">ä½¿æˆ‘ä»¬ä»ç‰¹å®šæ¡†æ¶ä¸­æŠ½è±¡å‡ºæ¥çš„ç»„ä»¶</font></font></b>
                        <div class="spoiler_text"><pre><code class="actionscript hljs"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span> React from "react";</span><font></font>
<font></font>
export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BaseComponent</span>&lt;<span class="hljs-title">P</span>, <span class="hljs-title">S</span>&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span>&lt;<span class="hljs-title">P</span>, <span class="hljs-title">S</span>&gt; </span>{<font></font>
<font></font>
    <span class="hljs-comment">//  view</span>
    <span class="hljs-keyword">public</span> view?: (ctrl: <span class="hljs-keyword">this</span>, props: P) =&gt; JSX.Element;<font></font>
<font></font>
    constructor(props: P, context: S) {<font></font>
        <span class="hljs-keyword">super</span>(props, context);
        <span class="hljs-comment">//    </span><font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">//      </span>
    <span class="hljs-keyword">public</span> componentDidMount(): <span class="hljs-keyword">void</span> {
        <span class="hljs-keyword">this</span>.activate &amp;&amp; <span class="hljs-keyword">this</span>.activate();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">//      </span>
    <span class="hljs-keyword">public</span> shouldComponentUpdate(<font></font>
        nextProps: Readonly&lt;P&gt;,<font></font>
        nextState: Readonly&lt;S&gt;,<font></font>
        nextContext: any<font></font>
    ): boolean {<font></font>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.update(nextProps, nextState, nextContext);<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> componentWillUnmount(): <span class="hljs-keyword">void</span> {
        <span class="hljs-keyword">this</span>.dispose();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> activate(): <span class="hljs-keyword">void</span> {
        <span class="hljs-comment">//   </span><font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> update(nextProps: Readonly&lt;P&gt;, nextState: Readonly&lt;S&gt;, nextContext: any): boolean {
        <span class="hljs-comment">//   </span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> dispose(): <span class="hljs-keyword">void</span> {
        <span class="hljs-comment">//   </span><font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">//   view</span>
    <span class="hljs-keyword">public</span> render(): React.ReactElement&lt;object&gt; {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.view) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.view(<span class="hljs-keyword">this</span>, <span class="hljs-keyword">this</span>.props);<font></font>
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> React.createElement(<span class="hljs-string">"div"</span>, {}, <span class="hljs-string">"  "</span>);<font></font>
        }<font></font>
    }<font></font>
<font></font>
}<font></font>
</code></pre><br>
</div>
                    </div></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨æˆ‘ä»¬çš„è§†å›¾åœ¨ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ä¸­ï¼Œå¹¶ä¸”æ§åˆ¶å™¨å¯¹æ­¤ä¸€æ— æ‰€çŸ¥ï¼Œé™¤äº†å®ƒæ˜¯ã€‚ä¹Ÿè®¸æ‚¨ä¸åº”è¯¥é€šè¿‡controllerå±æ€§æ³¨å…¥è§†å›¾ï¼Œè€Œæ˜¯åƒAngularä¸€æ ·é€šè¿‡è£…é¥°å™¨æ³¨å…¥è§†å›¾ï¼Œä½†è¿™æ˜¯ä¸€äº›æ€è€ƒçš„è¯é¢˜ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åŸºæœ¬ç»„ä»¶è¿˜åŒ…å«å¯¹æ¡†æ¶ç”Ÿå‘½å‘¨æœŸçš„æŠ½è±¡ã€‚å®ƒä»¬åœ¨æ‰€æœ‰æ¡†æ¶ä¸­éƒ½ä¸åŒï¼Œä½†æ˜¯åœ¨æ‰€æœ‰æ¡†æ¶ä¸­éƒ½ç›¸åŒã€‚ Angularæ˜¯ngOnInitï¼ŒngOnChangesï¼ŒngOnDestroyã€‚åœ¨Reactå’ŒPreactä¸­ï¼Œè¿™æ˜¯componentDidMountï¼ŒshouldComponentUpdateï¼ŒcomponentWillUnmountã€‚åœ¨Vueä¸­ï¼Œå®ƒæ˜¯åˆ›å»ºï¼Œæ›´æ–°ï¼Œé”€æ¯çš„ã€‚åœ¨ç§˜é“¶ä¸­ï¼Œå®ƒæ˜¯oncreateï¼Œonupdateï¼Œonremoveã€‚åœ¨WebComponentsä¸­ï¼Œè¿™æ˜¯connectedCallbackï¼ŒattributeChangedCallbackï¼ŒdisconnectedCallbackã€‚åœ¨æ¯ä¸ªå›¾ä¹¦é¦†ä¸­éƒ½æ˜¯å¦‚æ­¤ã€‚å¤§å¤šæ•°ç”šè‡³å…·æœ‰ç›¸åŒæˆ–ç›¸ä¼¼çš„ç•Œé¢ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¦å¤–ï¼Œç°åœ¨å¯ä»¥ä½¿ç”¨å®ƒä»¬è‡ªå·±çš„é€»è¾‘æ‰©å±•åº“ç»„ä»¶ï¼Œä»¥åœ¨æ‰€æœ‰ç»„ä»¶ä¹‹é—´è¿›è¡Œåç»­é‡ç”¨ã€‚</font><font style="vertical-align: inherit;">ä¾‹å¦‚ï¼Œå¼•å…¥ç”¨äºåˆ†æï¼Œç›‘è§†ï¼Œæ—¥å¿—è®°å½•ç­‰çš„å·¥å…·ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çœ‹ç»“æœ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å‰©ä¸‹çš„åªæ˜¯è¯„ä¼°å‘ç”Ÿäº†ä»€ä¹ˆã€‚</font><font style="vertical-align: inherit;">æ•´ä¸ªç¨‹åºå…·æœ‰ä»¥ä¸‹æœ€ç»ˆå½¢å¼ï¼š</font></font><br>
<blockquote><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸»ç«™ </font><font style="vertical-align: inherit;">ä»ä¸­å¯åŠ¨ç¨‹åºçš„æ–‡ä»¶</font></font></b>
                        <div class="spoiler_text"><pre><code class="actionscript hljs"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { override } from "first-di";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { UserProfilRepository } from "./UserProfilRepository";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { MockUserProfilRepository } from "./MockUserProfilRepository";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { UserPageController } from "./UserPageController";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> React from "react";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { render } from "react-dom";</span><font></font>
<font></font>
<span class="hljs-keyword">if</span> (process.env.NODE_ENV === <span class="hljs-string">"test"</span>) {
    <span class="hljs-keyword">override</span>(UserProfilRepository, MockUserProfilRepository);<font></font>
}<font></font>
<font></font>
render(React.createElement(UserPageController), document.body);<font></font>
</code></pre><br>
</div>
                    </div></blockquote><blockquote><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UserPageViewã€‚</font><font style="vertical-align: inherit;">è¡¨ç¤ºç¨‹åºç»„ä»¶ä¹‹ä¸€ã€‚</font></font></b>
                        <div class="spoiler_text"><pre><code class="actionscript hljs"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { UserPageOptions, UserPageController } from "./UserPageController";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> React from "react";</span><font></font>
<font></font>
export <span class="hljs-keyword">const</span> userPageView = &lt;P <span class="hljs-keyword">extends</span> UserPageOptions, S&gt;(<font></font>
    ctrl: UserPageController&lt;P, S&gt;,<font></font>
    props: P<font></font>
): JSX.Element =&gt; (<font></font>
    &lt;&gt;<font></font>
        &lt;div className=<span class="hljs-string">"user"</span>&gt;<font></font>
            &lt;div className=<span class="hljs-string">"user-name"</span>&gt;<font></font>
                 : {ctrl.userProfile.getFullname()}<font></font>
            &lt;/div&gt;<font></font>
            &lt;div className=<span class="hljs-string">"user-age"</span>&gt;<font></font>
                : {ctrl.userProfile.getAge()}<font></font>
            &lt;/div&gt;<font></font>
        &lt;/div&gt;<font></font>
        &lt;div className=<span class="hljs-string">"tarifs"</span>&gt;<font></font>
            {<span class="hljs-comment">/*    */</span>}<font></font>
        &lt;/div&gt;<font></font>
    &lt;/&gt;<font></font>
);<font></font>
</code></pre><br>
</div>
                    </div></blockquote><blockquote><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UserPageControllerã€‚</font><font style="vertical-align: inherit;">ç”¨æˆ·äº¤äº’çš„ç»„æˆéƒ¨åˆ†ä¹‹ä¸€çš„é€»è¾‘</font></font></b>
                        <div class="spoiler_text"><pre><code class="actionscript hljs"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { UserProfilService } from "./UserProfilService";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { TariffService } from "./TariffService";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { UserProfileDto } from "./UserProfileDto";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { TariffDto } from "./TariffDto";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { InsuranceCaseDto } from "./InsuranceCasesDto";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { autowired } from "first-di";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { BaseComponent } from "./BaseComponent";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { userPageView } from "./UserPageview";</span><font></font>
<font></font>
export <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">UserPageOptions</span> </span>{<font></font>
    param1?: number;<font></font>
    param2?: string;<font></font>
}<font></font>
<font></font>
export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserPageController</span>&lt;<span class="hljs-title">P</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">UserPageOptions</span>, <span class="hljs-title">S</span>&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title">BaseComponent</span>&lt;<span class="hljs-title">P</span>, <span class="hljs-title">S</span>&gt; </span>{<font></font>
<font></font>
    <span class="hljs-keyword">public</span> userProfile: UserProfileDto = <span class="hljs-keyword">new</span> UserProfileDto();
    <span class="hljs-keyword">public</span> insuranceCases: InsuranceCaseDto[] = [];
    <span class="hljs-keyword">public</span> tariffs: TariffDto[] = [];
    <span class="hljs-keyword">public</span> bestTariff: TariffDto | <span class="hljs-keyword">void</span> = <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>;<font></font>
<font></font>
    <span class="hljs-keyword">public</span> readonly view = userPageView;<font></font>
<font></font>
    @autowired()<font></font>
    <span class="hljs-keyword">private</span> readonly userProfilService!: UserProfilService;<font></font>
<font></font>
    @autowired()<font></font>
    <span class="hljs-keyword">private</span> readonly tarifService!: TariffService;<font></font>
<font></font>
    <span class="hljs-comment">//   componentDidMount, . BaseComponent</span>
    <span class="hljs-keyword">public</span> activate(): <span class="hljs-keyword">void</span> {
        <span class="hljs-keyword">this</span>.requestUserProfile();
        <span class="hljs-keyword">this</span>.requestTariffs();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> async requestUserProfile(): Promise&lt;<span class="hljs-keyword">void</span>&gt; {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">this</span>.userProfile = await <span class="hljs-keyword">this</span>.userProfilService.getUserProfile();
            <span class="hljs-keyword">this</span>.bestTariff = await <span class="hljs-keyword">this</span>.tarifService.findBestTariff(<span class="hljs-keyword">this</span>.userProfile);
            <span class="hljs-keyword">this</span>.forceUpdate();<font></font>
        } <span class="hljs-keyword">catch</span> (e) {<font></font>
            console.error(e);<font></font>
        }<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> async requestTariffs(): Promise&lt;<span class="hljs-keyword">void</span>&gt; {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">this</span>.tariffs = await <span class="hljs-keyword">this</span>.tarifService.getTariffs();
            <span class="hljs-keyword">this</span>.forceUpdate();<font></font>
        } <span class="hljs-keyword">catch</span> (e) {<font></font>
            console.error(e);<font></font>
        }<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">/**
     * ...   ,   ,
     *  ,    
     */</span><font></font>
}<font></font>
</code></pre><br>
</div>
                    </div></blockquote><blockquote><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åŸºæœ¬ç»„ä»¶ </font><font style="vertical-align: inherit;">æ‰€æœ‰ç¨‹åºç»„ä»¶çš„åŸºç±»</font></font></b>
                        <div class="spoiler_text"><pre><code class="actionscript hljs"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span> React from "react";</span><font></font>
<font></font>
export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BaseComponent</span>&lt;<span class="hljs-title">P</span>, <span class="hljs-title">S</span>&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span>&lt;<span class="hljs-title">P</span>, <span class="hljs-title">S</span>&gt; </span>{<font></font>
<font></font>
    <span class="hljs-keyword">public</span> view?: (ctrl: <span class="hljs-keyword">this</span>, props: P) =&gt; JSX.Element;<font></font>
<font></font>
    constructor(props: P, context: S) {<font></font>
        <span class="hljs-keyword">super</span>(props, context);<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> componentDidMount(): <span class="hljs-keyword">void</span> {
        <span class="hljs-keyword">this</span>.activate &amp;&amp; <span class="hljs-keyword">this</span>.activate();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> shouldComponentUpdate(<font></font>
        nextProps: Readonly&lt;P&gt;,<font></font>
        nextState: Readonly&lt;S&gt;,<font></font>
        nextContext: any<font></font>
    ): boolean {<font></font>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.update(nextProps, nextState, nextContext);<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> componentWillUnmount(): <span class="hljs-keyword">void</span> {
        <span class="hljs-keyword">this</span>.dispose();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> activate(): <span class="hljs-keyword">void</span> {
        <span class="hljs-comment">//   </span><font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> update(nextProps: Readonly&lt;P&gt;, nextState: Readonly&lt;S&gt;, nextContext: any): boolean {
        <span class="hljs-comment">//   </span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> dispose(): <span class="hljs-keyword">void</span> {
        <span class="hljs-comment">//   </span><font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> render(): React.ReactElement&lt;object&gt; {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.view) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.view(<span class="hljs-keyword">this</span>, <span class="hljs-keyword">this</span>.props);<font></font>
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> React.createElement(<span class="hljs-string">"div"</span>, {}, <span class="hljs-string">"  "</span>);<font></font>
        }<font></font>
    }<font></font>
<font></font>
}<font></font>
</code></pre><br>
</div>
                    </div></blockquote><blockquote><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UserProfilServiceã€‚</font><font style="vertical-align: inherit;">ç”¨äºé‡ç”¨ç»„ä»¶ä¹‹é—´çš„é€»è¾‘ä»¥ä½¿ç”¨ç”¨æˆ·æ¦‚è¦æ–‡ä»¶çš„æœåŠ¡</font></font></b>
                        <div class="spoiler_text"><pre><code class="actionscript hljs"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { UserProfilRepository } from "./UserProfilRepository";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { UserProfileDto } from "./UserProfileDto";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { reflection } from "first-di";</span><font></font>
<font></font>
@reflection<font></font>
export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserProfilService</span> </span>{<font></font>
<font></font>
    <span class="hljs-keyword">private</span> readonly userProfilRepository: UserProfilRepository;<font></font>
<font></font>
    constructor(userProfilRepository: UserProfilRepository) {<font></font>
        <span class="hljs-keyword">this</span>.userProfilRepository = userProfilRepository;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> async getUserProfile(): Promise&lt;UserProfileDto&gt; {
        <span class="hljs-keyword">return</span> await <span class="hljs-keyword">this</span>.userProfilRepository.getUserProfile();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">/**
     * ...        
     */</span><font></font>
}<font></font>
</code></pre><br>
</div>
                    </div></blockquote><blockquote><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TariffServiceã€‚</font><font style="vertical-align: inherit;">é‡ç”¨ç»„ä»¶ä¹‹é—´çš„é€»è¾‘ä»¥ä½¿ç”¨è´¹ç‡çš„æœåŠ¡</font></font></b>
                        <div class="spoiler_text"><pre><code class="actionscript hljs"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { TariffRepository } from "./TariffRepository";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { TariffDto } from "./TariffDto";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { UserProfileDto } from "./UserProfileDto";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { reflection } from "first-di";</span><font></font>
<font></font>
@reflection<font></font>
export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TariffService</span> </span>{<font></font>
<font></font>
    <span class="hljs-keyword">private</span> readonly tarifRepository: TariffRepository;<font></font>
<font></font>
    constructor(tarifRepository: TariffRepository) {<font></font>
        <span class="hljs-keyword">this</span>.tarifRepository = tarifRepository;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> async getTariffs(): Promise&lt;TariffDto[]&gt; {
        <span class="hljs-keyword">return</span> await <span class="hljs-keyword">this</span>.tarifRepository.requestTariffs();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> async findBestTariff(userProfile: UserProfileDto): Promise&lt;TariffDto | <span class="hljs-keyword">void</span>&gt; {
        <span class="hljs-keyword">const</span> tariffs = await <span class="hljs-keyword">this</span>.tarifRepository.requestTariffs();
        <span class="hljs-keyword">return</span> tariffs.find((tarif: TariffDto) =&gt; {
            <span class="hljs-keyword">const</span> age = userProfile.getAge();
            <span class="hljs-keyword">return</span> age &amp;&amp;<font></font>
                tarif.ageFrom &lt;= age &amp;&amp;<font></font>
                age &lt; tarif.ageTo;<font></font>
        });<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">/**
     * ...       
     */</span><font></font>
}<font></font>
</code></pre><br>
</div>
                    </div></blockquote><blockquote><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UserProfilRepositoryã€‚</font><font style="vertical-align: inherit;">ç”¨äºä»æœåŠ¡å™¨æ¥æ”¶é…ç½®æ–‡ä»¶ï¼Œå¯¹å…¶è¿›è¡Œæ£€æŸ¥å’ŒéªŒè¯çš„å­˜å‚¨åº“</font></font></b>
                        <div class="spoiler_text"><pre><code class="actionscript hljs"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { UserProfileDto } from "./UserProfileDto";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { reflection } from "first-di";</span><font></font>
<font></font>
@reflection<font></font>
export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserProfilRepository</span> </span>{
    <span class="hljs-keyword">public</span> async getUserProfile(): Promise&lt;UserProfileDto&gt; {
        <span class="hljs-keyword">const</span> response = await fetch(<span class="hljs-string">"./api/user-profile"</span>);
        <span class="hljs-keyword">const</span> object = await response.json();
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> UserProfileDto().fromJSON(object);<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">/**
     * ...        
     */</span><font></font>
}<font></font>
</code></pre><br>
</div>
                    </div></blockquote><blockquote><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title">MockUserProfilRepository.         </b>
                        <div class="spoiler_text"><pre><code class="actionscript hljs"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { UserProfileDto } from "./UserProfileDto";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { reflection } from "first-di";</span><font></font>
<font></font>
@reflection <span class="hljs-comment">//  typescript  </span>
export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MockUserProfilRepository</span> </span>{ <span class="hljs-comment">//   </span>
    <span class="hljs-keyword">public</span> async getUserProfile(): Promise&lt;UserProfileDto&gt; {
        <span class="hljs-keyword">const</span> profile = <span class="hljs-keyword">new</span> UserProfileDto();<font></font>
        profile.firstName = <span class="hljs-string">""</span>;<font></font>
        profile.lastName = <span class="hljs-string">""</span>;<font></font>
        profile.birthdate = <span class="hljs-keyword">new</span> Date(Date.now() - <span class="hljs-number">1.5e12</span>);
        <span class="hljs-keyword">return</span> Promise.resolve(profile); <span class="hljs-comment">//   </span><font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">/**
     * ...        
     */</span><font></font>
}<font></font>
</code></pre><br>
</div>
                    </div></blockquote><blockquote><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title">TariffRepository.      ,    </b>
                        <div class="spoiler_text"><pre><code class="actionscript hljs"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { TariffDto } from "./TariffDto";</span>
<span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { reflection } from "first-di";</span><font></font>
<font></font>
@reflection <span class="hljs-comment">//  typescript  </span>
export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TariffRepository</span> </span>{
    <span class="hljs-keyword">public</span> async requestTariffs(): Promise&lt;TariffDto[]&gt; {
        <span class="hljs-keyword">const</span> response = await fetch(<span class="hljs-string">"./api/tariffs"</span>);
        <span class="hljs-keyword">const</span> objects: object[] = await response.json();
        <span class="hljs-keyword">return</span> objects.map((object: object) =&gt; {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> TariffDto().fromJSON(object);<font></font>
        });<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">/**
     * ...        
     */</span><font></font>
}<font></font>
</code></pre><br>
</div>
                    </div></blockquote><blockquote><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title">UserProfileDto.           </b>
                        <div class="spoiler_text"><pre><code class="actionscript hljs"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { Serializable, jsonProperty } from "ts-serializable";</span><font></font>
<font></font>
export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserProfileDto</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Serializable</span> </span>{<font></font>
<font></font>
    @jsonProperty(String, <span class="hljs-literal">null</span>)
    <span class="hljs-keyword">public</span> firstName: string | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;<font></font>
<font></font>
    @jsonProperty(String, <span class="hljs-literal">null</span>)
    <span class="hljs-keyword">public</span> lastName: string | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;<font></font>
<font></font>
    @jsonProperty(Date, <span class="hljs-literal">null</span>)
    <span class="hljs-keyword">public</span> birthdate: Date | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;<font></font>
<font></font>
    <span class="hljs-keyword">public</span> getAge(): number | <span class="hljs-literal">null</span> {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.birthdate) {
            <span class="hljs-keyword">const</span> ageDifMs = Date.now() - <span class="hljs-keyword">this</span>.birthdate.getTime();
            <span class="hljs-keyword">const</span> ageDate = <span class="hljs-keyword">new</span> Date(ageDifMs);
            <span class="hljs-keyword">return</span> Math.abs(ageDate.getUTCFullYear() - <span class="hljs-number">1970</span>);<font></font>
        }<font></font>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> getFullname(): string | <span class="hljs-literal">null</span> {
        <span class="hljs-keyword">return</span> [
            <span class="hljs-keyword">this</span>.firstName ?? <span class="hljs-string">""</span>,
            <span class="hljs-keyword">this</span>.lastName ?? <span class="hljs-string">""</span><font></font>
        ]<font></font>
            .join(<span class="hljs-string">" "</span>)<font></font>
            .trim() || <span class="hljs-literal">null</span>;<font></font>
    }<font></font>
<font></font>
}<font></font>
</code></pre><br>
</div>
                    </div></blockquote><blockquote><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title">TariffDto.           </b>
                        <div class="spoiler_text"><pre><code class="actionscript hljs"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span> { Serializable, jsonProperty } from "ts-serializable";</span><font></font>
<font></font>
export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TariffDto</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Serializable</span> </span>{<font></font>
<font></font>
    @jsonProperty(Number, <span class="hljs-literal">null</span>)
    <span class="hljs-keyword">public</span> ageFrom: number = <span class="hljs-number">0</span>;<font></font>
<font></font>
    @jsonProperty(Number, <span class="hljs-literal">null</span>)
    <span class="hljs-keyword">public</span> ageTo: number = <span class="hljs-number">0</span>;<font></font>
<font></font>
    @jsonProperty(Number, <span class="hljs-literal">null</span>)
    <span class="hljs-keyword">public</span> price: number = <span class="hljs-number">0</span>;<font></font>
<font></font>
}<font></font>
</code></pre><br>
</div>
                    </div></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç»“æœï¼Œæˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ªæ¨¡å—åŒ–çš„å¯æ‰©å±•åº”ç”¨ç¨‹åºï¼Œè¯¥åº”ç”¨ç¨‹åºå…·æœ‰å¾ˆå°‘çš„æ ·æ¿ï¼ˆä¸€ä¸ªåŸºæœ¬ç»„ä»¶ï¼Œæ¯ä¸ªç±»ç”¨äºå®ç°ä¾èµ–å…³ç³»çš„3è¡Œï¼‰å’Œéå¸¸ä½çš„å¼€é”€ï¼ˆå®é™…ä¸Šä»…ç”¨äºå®ç°ä¾èµ–å…³ç³»ï¼Œå…¶ä»–æ‰€æœ‰ä¸œè¥¿éƒ½æ˜¯é€»è¾‘ï¼‰ã€‚</font><font style="vertical-align: inherit;">æ­¤å¤–ï¼Œæˆ‘ä»¬ä¸å—ä»»ä½•æ¼”ç¤ºåº“çš„çº¦æŸã€‚</font><font style="vertical-align: inherit;">Angular 1æ­»åï¼Œè®¸å¤šäººå¼€å§‹åœ¨Reactä¸­é‡å†™åº”ç”¨ç¨‹åºã€‚</font><font style="vertical-align: inherit;">å½“Angular 2çš„å¼€å‘äººå‘˜ç”¨å°½æ—¶ï¼Œè®¸å¤šå…¬å¸å¼€å§‹å› å¼€å‘é€Ÿåº¦è€Œå—è‹¦ã€‚</font><font style="vertical-align: inherit;">å½“Reactå†æ¬¡æ­»äº¡æ—¶ï¼Œæ‚¨å°†ä¸å¾—ä¸é‡å†™ä¸å…¶æ¡†æ¶å’Œç”Ÿæ€ç³»ç»Ÿç›¸å…³çš„è§£å†³æ–¹æ¡ˆã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯ä½¿ç”¨Chita Architectureï¼Œæ‚¨å¯ä»¥å¿˜è®°ç»‘å®šæ¡†æ¶ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸Reduxç›¸æ¯”æœ‰ä»€ä¹ˆä¼˜åŠ¿ï¼Ÿ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸ºäº†ç†è§£å·®å¼‚ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹åº”ç”¨ç¨‹åºå¢é•¿æ—¶Reduxçš„è¡Œä¸ºã€‚</font></font><br>
<img src="https://habrastorage.org/webt/jj/i9/cc/jji9ccsijjqancrthtv9gpudc48.png" alt="Redux"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œéšç€Reduxåº”ç”¨ç¨‹åºçš„å¢é•¿å‚ç›´æ‰©å±•ï¼ŒRestoreså’ŒReducersçš„æ•°é‡ä¹Ÿä¼šå¢åŠ ï¼Œå¹¶æˆä¸ºç“¶é¢ˆã€‚é‡å»ºå•†åº—å’Œæ‰¾åˆ°åˆé€‚çš„Reducerçš„å¼€é”€å¼€å§‹è¶…è¿‡æœ‰æ•ˆè´Ÿè½½ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ‚¨å¯ä»¥é€šè¿‡ç®€å•çš„æµ‹è¯•æ¥æ£€æŸ¥ä¸­å‹åº”ç”¨ç¨‹åºçš„å¼€é”€ä¸æœ‰æ•ˆè´Ÿè½½çš„æ¯”ç‡ã€‚</font></font><br>
<pre><code class="actionscript hljs">let create = <span class="hljs-keyword">new</span> Function([
<span class="hljs-string">"return {"</span>,<font></font>
...new Array(<span class="hljs-number">100</span>).fill(<span class="hljs-number">1</span>).map((val, ind) =&gt; `param${ind}:${ind},`),
<span class="hljs-string">"}"</span>
].join(<span class="hljs-string">""</span>));<font></font>
<font></font>
let obj1 = create();<font></font>
<font></font>
console.time(<span class="hljs-string">"store recreation time"</span>);<font></font>
let obj2 = {<font></font>
    ...obj1,<font></font>
    param100: <span class="hljs-number">100</span> ** <span class="hljs-number">2</span><font></font>
}<font></font>
console.timeEnd(<span class="hljs-string">"store recreation time"</span>);<font></font>
<font></font>
console.time(<span class="hljs-string">"clear logic"</span>);<font></font>
let val = <span class="hljs-number">100</span> ** <span class="hljs-number">2</span>;<font></font>
console.timeEnd(<span class="hljs-string">"clear logic"</span>);<font></font>
<font></font>
console.log(obj2, val);<font></font>
<font></font>
<span class="hljs-comment">// store recreation time: 0.041015625ms</span>
<span class="hljs-comment">// clear logic: 0.0048828125ms</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é‡æ–°åˆ›å»º100ä¸ªå±æ€§ä¸­çš„Storeæ‰€èŠ±è´¹çš„æ—¶é—´æ˜¯é€»è¾‘æœ¬èº«çš„8å€ä»¥ä¸Šã€‚å¦‚æœæœ‰1000ä¸ªå…ƒç´ ï¼Œåˆ™å·²ç»å¢åŠ äº†50å€ã€‚æ­¤å¤–ï¼Œä¸€ä¸ªç”¨æˆ·åŠ¨ä½œå¯ä»¥ç”Ÿæˆæ•´ä¸ªåŠ¨ä½œé“¾ï¼Œå¾ˆéš¾æ•è·å’Œè°ƒè¯•è¿™äº›åŠ¨ä½œçš„è°ƒç”¨ã€‚æ‚¨å½“ç„¶å¯ä»¥è¾©ç§°ï¼Œé‡æ–°åˆ›å»ºå•†åº—çš„0.04æ¯«ç§’å¾ˆå°ï¼Œå¹¶ä¸”ä¸ä¼šå‡æ…¢é€Ÿåº¦ã€‚ä½†æ˜¯0.04æ¯«ç§’æ˜¯åœ¨Core i7å¤„ç†å™¨ä¸Šæ‰§è¡Œçš„ä¸€ä¸ªæ“ä½œã€‚è€ƒè™‘åˆ°ç§»åŠ¨å¤„ç†å™¨çš„æ€§èƒ½è¾ƒå¼±ä»¥åŠå•ä¸ªç”¨æˆ·åŠ¨ä½œå¯ä»¥äº§ç”Ÿæ•°åä¸ªåŠ¨ä½œçš„äº‹å®ï¼Œæ‰€æœ‰è¿™äº›éƒ½å¯¼è‡´ä»¥ä¸‹äº‹å®ï¼šè®¡ç®—ä¸é€‚åˆ16æ¯«ç§’ï¼Œå¹¶ä¸”ä¼šäº§ç”Ÿä¸€ç§æ„Ÿè§‰ï¼Œåº”ç”¨ç¨‹åºçš„è¿è¡Œé€Ÿåº¦å˜æ…¢ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è®©æˆ‘ä»¬æ¯”è¾ƒä¸€ä¸‹Clean Architectureåº”ç”¨ç¨‹åºçš„å¢é•¿æ–¹å¼ï¼š</font></font><br>
<img src="https://habrastorage.org/webt/oz/eg/uk/ozegukclnowpqlzdnckk3pfkckc.png" alt="çº¯å»ºç­‘"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¯ä»¥çœ‹å‡ºï¼Œç”±äºå„å±‚ä¹‹é—´é€»è¾‘å’ŒèŒè´£çš„åˆ†ç¦»ï¼Œå› æ­¤åº”ç”¨ç¨‹åºæ˜¯æ°´å¹³æ‰©å±•çš„ã€‚</font><font style="vertical-align: inherit;">å¦‚æœæœ‰ä»»ä½•ç»„ä»¶éœ€è¦å¤„ç†æ•°æ®ï¼Œå®ƒå°†è½¬å‘ç›¸åº”çš„æœåŠ¡ï¼Œè€Œä¸ä¼šæ¶‰åŠä¸å…¶ä»»åŠ¡æ— å…³çš„æœåŠ¡ã€‚</font><font style="vertical-align: inherit;">æ”¶åˆ°æ•°æ®åï¼Œå°†ä»…é‡ç»˜ä¸€ä¸ªç»„ä»¶ã€‚</font><font style="vertical-align: inherit;">æ•°æ®å¤„ç†é“¾éå¸¸çŸ­ä¸”æ˜¾è€Œæ˜“è§ï¼Œæœ€å¤šå¯ä»¥è·³è½¬4ä¸ªä»£ç ï¼Œæ‚¨å¯ä»¥æ‰¾åˆ°å¿…è¦çš„é€»è¾‘å¹¶å¯¹å…¶è¿›è¡Œè°ƒè¯•ã€‚</font><font style="vertical-align: inherit;">å¦å¤–ï¼Œå¦‚æœæˆ‘ä»¬ç”¨ç –å¢™ä½œä¸€ä¸ªç±»æ¯”ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä»è¯¥å¢™å£ä¸Šå–ä¸‹ä»»ä½•ç –å—ï¼Œå¹¶ç”¨å¦ä¸€å—ç –å—æ›¿æ¢ï¼Œè€Œä¸ä¼šå½±å“è¯¥å¢™çš„ç¨³å®šæ€§ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¥–åŠ±1ï¼šæ¡†æ¶ç»„ä»¶çš„å¢å¼ºåŠŸèƒ½</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸€ä¸ªé¢å¤–çš„å¥½å¤„æ˜¯èƒ½å¤Ÿè¡¥å……æˆ–æ›´æ”¹è¡¨ç¤ºåº“ç»„ä»¶çš„è¡Œä¸ºã€‚</font><font style="vertical-align: inherit;">ä¾‹å¦‚ï¼Œå¦‚æœè¿›è¡Œäº†ä¸€äº›ä¿®æ”¹ï¼Œåˆ™è§†å›¾ä¸­å‘ç”Ÿé”™è¯¯æ—¶çš„ååº”ä¸ä¼šå‘ˆç°æ•´ä¸ªåº”ç”¨ç¨‹åºï¼š</font></font><br>
<pre><code class="actionscript hljs">export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BaseComponent</span>&lt;<span class="hljs-title">P</span>, <span class="hljs-title">S</span>&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span>&lt;<span class="hljs-title">P</span>, <span class="hljs-title">S</span>&gt; </span>{<font></font>
<font></font>
    ...<font></font>
<font></font>
    public render(): React.ReactElement&lt;object&gt; {<font></font>
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.view) {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.view(<span class="hljs-keyword">this</span>, <span class="hljs-keyword">this</span>.props);<font></font>
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> React.createElement(<span class="hljs-string">"div"</span>, {}, <span class="hljs-string">"  "</span>);<font></font>
            }<font></font>
        } <span class="hljs-keyword">catch</span> (e) {
            <span class="hljs-keyword">return</span> React.createElement(
                <span class="hljs-string">"div"</span>,<font></font>
                { style: { color: <span class="hljs-string">"red"</span> } },<font></font>
                `    : ${e}`<font></font>
            );<font></font>
        }<font></font>
    }<font></font>
<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨ï¼Œååº”å°†ä¸ä¼šä»…ç»˜åˆ¶å‘ç”Ÿé”™è¯¯çš„ç»„ä»¶ã€‚</font><font style="vertical-align: inherit;">ä»¥ç›¸åŒçš„ç®€å•æ–¹å¼ï¼Œæ‚¨å¯ä»¥æ·»åŠ ç›‘è§†ï¼Œåˆ†æå’Œå…¶ä»–nishtyakiã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¥–åŠ±2ï¼šæ•°æ®éªŒè¯</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é™¤äº†æè¿°æ•°æ®å’Œåœ¨å„å±‚ä¹‹é—´ä¼ è¾“æ•°æ®ä¹‹å¤–ï¼Œæ¨¡å‹è¿˜æœ‰å¾ˆå¤§çš„æœºä¼šã€‚</font><font style="vertical-align: inherit;">ä¾‹å¦‚ï¼Œå¦‚æœè¿æ¥</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">class-validatoråº“</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œåˆ™åªéœ€æ‚¬æŒ‚è£…é¥°å™¨ï¼Œå°±å¯ä»¥éªŒè¯è¿™äº›æ¨¡å‹ä¸­çš„æ•°æ®ï¼ŒåŒ…æ‹¬ </font><font style="vertical-align: inherit;">ç¨åŠ æ”¹è¿›ï¼Œå³å¯éªŒè¯Webè¡¨å•ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¥–åŠ±3ï¼šåˆ›å»ºå®ä½“</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¦å¤–ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨æœ¬åœ°æ•°æ®åº“ï¼Œåˆ™å¯ä»¥è¿æ¥</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">typeorm</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åº“ï¼Œ</font><font style="vertical-align: inherit;">å¹¶ä¸”æ‚¨çš„æ¨¡å‹å°†å˜æˆå®ä½“ï¼Œé€šè¿‡å®ƒä»¬å¯ä»¥ç”Ÿæˆå’Œè¿è¡Œæ•°æ®åº“ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è°¢è°¢æ‚¨çš„å…³æ³¨</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¦‚æœæ‚¨å–œæ¬¢è¿™ç¯‡æ–‡ç« æˆ–æ–¹æ³•ï¼Œè¯·å–œæ¬¢å¹¶ä¸”ä¸è¦å®³æ€•å°è¯•ã€‚</font><font style="vertical-align: inherit;">å¦‚æœæ‚¨æ˜¯Reduxçš„æ‹¥æŠ¤è€…ï¼Œå¹¶ä¸”ä¸å–œæ¬¢å¼‚è®®ï¼Œè¯·åœ¨è¯„è®ºä¸­è¯´æ˜å¦‚ä½•æ‰©å±•ï¼Œæµ‹è¯•å’ŒéªŒè¯åº”ç”¨ç¨‹åºä¸­çš„æ•°æ®ã€‚</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN493418/index.html">ä¸ºä»€ä¹ˆæœºå™¨å­¦ä¹ ä½¿ç”¨â€œåˆæˆâ€æ•°æ®</a></li>
<li><a href="../zh-CN493420/index.html">å‘åˆä¸­ç”Ÿä»‹ç»Pythonçš„æ–¹å¼</a></li>
<li><a href="../zh-CN493424/index.html">æˆ‘ä»¬å®ç°Pythonä»£ç è½¬æ¢</a></li>
<li><a href="../zh-CN493426/index.html">å¾®æœåŠ¡ä¸­çš„ä»£ç ç»„ç»‡ä»¥åŠæˆ‘ä½¿ç”¨å…­è§’å½¢ä½“ç³»ç»“æ„å’ŒDDDçš„æ–¹æ³•</a></li>
<li><a href="../zh-CN493428/index.html">â€œæˆ‘ä»¬ä¸ä¼šäº§ç”Ÿé˜´è°‹è®ºã€‚â€ ä¸æ¥è‡ªç§‘å­¦å’ŒITå…¬å¸çš„äººè®¨è®ºMLä¼šè®®</a></li>
<li><a href="../zh-CN493432/index.html">ä¸ºä»€ä¹ˆä¸åœ¨å°å‹éITå…¬å¸ä¸­å¼€å§‹èŒä¸š</a></li>
<li><a href="../zh-CN493436/index.html">ç”¨äºåœ¨Bashä¸Šæ›´æ”¹è®¿é—®æƒé™å’Œæ³¨å†Œæ–‡ä»¶/ç›®å½•åç§°çš„ç¨‹åº</a></li>
<li><a href="../zh-CN493438/index.html">æ˜¾ç¤ºæœç´¢ç»“æœå’Œæ€§èƒ½é—®é¢˜</a></li>
<li><a href="../zh-CN493440/index.html">ä¸­å›½çš„ç½‘çº¢è¥é”€ï¼šåœ¨ç´§æ€¥æƒ…å†µä¸‹å®ƒçš„åŸºç¡€å’Œç½‘çº¢å¯ä»¥æä¾›çš„æœåŠ¡</a></li>
<li><a href="../zh-CN493442/index.html">ä¸ªäººé˜²æŠ¤ç”¨å“æé†’</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>