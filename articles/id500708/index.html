<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💲 🛍️ ♏️ Keamanan dan DBMS: apa yang perlu Anda ingat ketika memilih alat perlindungan ✍🏽 👩🏾‍⚖️ 🌼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nama saya Denis Rozhkov, saya adalah kepala pengembangan perangkat lunak di Gazinformservice, di tim produk Jatoba . Perundang-undangan dan peraturan ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Keamanan dan DBMS: apa yang perlu Anda ingat ketika memilih alat perlindungan</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/500708/"><h1><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1e1/315/3ed/1e13153edc98d4ac4b2de6858a7ea48c.png"></div></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nama saya Denis Rozhkov, saya adalah kepala pengembangan perangkat lunak di Gazinformservice, di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tim</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> produk </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">Jatoba</font></a><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Perundang-undangan dan peraturan perusahaan memberlakukan persyaratan tertentu untuk keamanan penyimpanan data. </font><font style="vertical-align: inherit;">Tidak ada yang menginginkan pihak ketiga untuk mendapatkan akses ke informasi rahasia, oleh karena itu masalah-masalah berikut ini penting untuk proyek apa pun: identifikasi dan otentikasi, pengelolaan akses data, memastikan integritas informasi dalam sistem, merekam peristiwa keamanan. </font><font style="vertical-align: inherit;">Oleh karena itu, saya ingin berbicara tentang beberapa poin menarik mengenai keamanan DBMS.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Artikel ini </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ditulis</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> oleh </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">@Databases Meetup, yang</font></a><font style="vertical-align: inherit;"> diselenggarakan oleh </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mail.ru Cloud Solutions</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Jika Anda tidak ingin membaca, Anda dapat melihat:</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/n-54j9FHaMU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Artikel ini akan memiliki tiga bagian:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cara melindungi koneksi.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apa itu audit tindakan dan bagaimana cara merekam apa yang terjadi pada bagian basis data dan menghubungkannya.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bagaimana melindungi data dalam database itu sendiri dan teknologi apa yang ada untuk ini.</font></font></li>
</ul><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a7d/19f/d89/a7d19fd894a9ea6e3f0ff7a0ad42db36.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tiga komponen keamanan DBMS: perlindungan koneksi, audit aktivitas, dan perlindungan data</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perlindungan Koneksi</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda dapat terhubung ke database baik secara langsung atau tidak langsung melalui aplikasi web. </font><font style="vertical-align: inherit;">Sebagai aturan, pengguna dari sisi bisnis, yaitu orang yang bekerja dengan DBMS, tidak berinteraksi langsung dengannya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebelum berbicara tentang mengamankan koneksi, Anda perlu menjawab pertanyaan penting yang tergantung pada bagaimana langkah-langkah keamanan akan dibangun:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apakah satu pengguna bisnis setara dengan satu pengguna DBMS;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apakah akses ke data DBMS disediakan hanya melalui API yang Anda kontrol, atau apakah ada akses ke tabel secara langsung;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apakah DBMS dialokasikan dalam segmen yang dilindungi secara terpisah, siapa yang berinteraksi dengannya dan bagaimana;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apakah pooling / proxy dan middleware digunakan, yang dapat mengubah informasi tentang bagaimana koneksi dibangun dan siapa yang menggunakan database.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang mari kita lihat alat apa yang dapat digunakan untuk melindungi koneksi:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gunakan solusi kelas firewall basis data. </font><font style="vertical-align: inherit;">Lapisan perlindungan tambahan, setidaknya, akan meningkatkan transparansi dari apa yang terjadi di DBMS, sebagai maksimum - Anda dapat memberikan perlindungan data tambahan.</font></font></li>
<li>  .     ,    .    —      -,    ,   .    ,  ,      .<br>
<br>
       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="></a>,    MS SQL Vulnerability Assessmen   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="></a>.&nbsp;</li>
<li>    .   ,   ,       ,         , ,    .      .</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Konfigurasikan SSL, jika Anda tidak memiliki pemisahan jaringan DBMS dari pengguna akhir, ia tidak berada dalam VLAN terpisah. </font><font style="vertical-align: inherit;">Dalam kasus seperti itu, perlu untuk melindungi saluran antara konsumen dan DBMS itu sendiri. </font><font style="vertical-align: inherit;">Alat perlindungan adalah di antara sumber terbuka.</font></font></li>
</ol><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bagaimana ini akan mempengaruhi kinerja DBMS?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita lihat contoh PostgreSQL tentang bagaimana SSL memengaruhi beban CPU, menambah timing dan mengurangi TPS, jika terlalu banyak sumber daya yang digunakan jika Anda mengaktifkannya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami memuat PostgreSQL menggunakan pgbench - ini adalah program sederhana untuk menjalankan tes kinerja. </font><font style="vertical-align: inherit;">Berulang kali mengeksekusi satu urutan perintah, mungkin dalam sesi database paralel, dan kemudian menghitung kecepatan transaksi rata-rata. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tes 1 tanpa SSL dan menggunakan SSL</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - koneksi dibuat dengan setiap transaksi:</font></font><br>
<br>
<pre><code class="plaintext hljs">pgbench.exe --connect -c 10 -t 5000 "host=192.168.220.129 dbname=taskdb user=postgres sslmode=require&nbsp;<font></font>
sslrootcert=rootCA.crt sslcert=client.crt sslkey=client.key"</code></pre><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vs.</font></font></strong><br>
<br>
<pre><code class="plaintext hljs">pgbench.exe --connect -c 10 -t 5000 "host=192.168.220.129 dbname=taskdb user=postgres"</code></pre><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tes 2 tanpa SSL dan menggunakan SSL</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - semua transaksi dilakukan dalam satu koneksi:</font></font><br>
<br>
<pre><code class="plaintext hljs">pgbench.exe -c 10 -t 5000 "host=192.168.220.129 dbname=taskdb user=postgres sslmode=require<font></font>
sslrootcert=rootCA.crt sslcert=client.crt sslkey=client.key"</code></pre><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vs.</font></font></strong><br>
<br>
<pre><code class="plaintext hljs">pgbench.exe -c 10 -t 5000 "host=192.168.220.129 dbname=taskdb user=postgres"</code></pre><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pengaturan lain</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="plaintext hljs">scaling factor: 1<font></font>
query mode: simple<font></font>
number of clients: 10<font></font>
number of threads: 1<font></font>
number of transactions per client: 5000<font></font>
number of transactions actually processed: 50000/50000</code></pre><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hasil tes</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td>&nbsp;</td>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TANPA SSL</font></font></strong></td>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SSL</font></font></strong></td>
</tr>
<tr>
<td colspan="3"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Koneksi dibuat pada setiap transaksi</font></font></strong></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rata-rata latensi</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">171.915 ms</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">187.695 ms</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tps termasuk membangun koneksi</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">58.168112</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">53.278062</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tps tidak termasuk membangun koneksi</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">64.084546</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">58.725846</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CPU</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24%</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">28%</font></font></td>
</tr>
<tr>
<td colspan="3"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Semua transaksi dilakukan dalam satu koneksi.</font></font></strong></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rata-rata latensi</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6,722 ms</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6,342 ms</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tps termasuk membangun koneksi</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1587.657278</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1576.792883</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tps tidak termasuk membangun koneksi</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1588.380574</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1577.694766</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CPU</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17%</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21%</font></font></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada beban yang ringan, efek SSL sebanding dengan kesalahan pengukuran. Jika jumlah data yang ditransfer sangat besar, situasinya mungkin berbeda. Jika kami membuat satu koneksi untuk setiap transaksi (ini jarang terjadi, biasanya koneksi dibagi di antara pengguna), Anda memiliki banyak koneksi / pemutusan, efeknya mungkin sedikit lebih. Artinya, mungkin ada risiko penurunan kinerja, namun perbedaannya tidak terlalu besar sehingga tidak menggunakan perlindungan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Harap dicatat bahwa ada perbedaan yang kuat ketika membandingkan mode operasi: dalam sesi yang sama, Anda bekerja atau berbeda. Ini bisa dimengerti: sumber daya dihabiskan untuk membuat setiap koneksi.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami memiliki kasus ketika kami menghubungkan Zabbix dalam mode kepercayaan, yaitu, kami tidak memeriksa MD5, tidak perlu otentikasi. Kemudian pelanggan diminta untuk mengaktifkan mode otentikasi MD5. Ini memberi beban besar pada CPU, kinerja dicelupkan. Mereka mulai mencari cara untuk mengoptimalkan. Salah satu solusi yang mungkin untuk masalah ini adalah menerapkan pembatasan jaringan, membuat VLAN terpisah untuk DBMS, menambah pengaturan sehingga jelas siapa yang terhubung dari mana dan menghapus otentikasi. Anda juga dapat mengoptimalkan pengaturan otentikasi untuk mengurangi biaya yang memungkinkan otentikasi, tetapi secara umum, menggunakan berbagai metode otentikasi mempengaruhi kinerja dan memerlukan faktor-faktor ini untuk dipertimbangkan ketika merancang kekuatan komputasi server (perangkat keras) untuk DBMS.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kesimpulan: dalam sejumlah solusi, bahkan nuansa kecil otentikasi dapat sangat mempengaruhi proyek dan itu buruk ketika menjadi jelas hanya ketika diimplementasikan dalam suatu produk.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Audit tindakan</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Audit bukan hanya DBMS. </font><font style="vertical-align: inherit;">Audit adalah penerimaan informasi tentang apa yang terjadi pada segmen yang berbeda. </font><font style="vertical-align: inherit;">Ini bisa berupa firewall basis data dan sistem operasi tempat DBMS dibuat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam DBMS tingkat komersial perusahaan dengan audit, semuanya baik-baik saja, dalam open source - tidak selalu. </font><font style="vertical-align: inherit;">Inilah yang dimiliki PostgreSQL:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">log default - logging bawaan;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ekstensi: pgaudit - jika Anda tidak memiliki cukup penebangan default, Anda dapat menggunakan pengaturan terpisah yang menyelesaikan beberapa masalah.</font></font></li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Penambahan laporan dalam video:</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
“Pendaftaran dasar pernyataan dapat diberikan dengan fasilitas logging standar dengan log_statement = semua. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini dapat diterima untuk pemantauan dan penggunaan lainnya, tetapi tidak memberikan tingkat detail yang biasanya diperlukan untuk audit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tidak cukup hanya memiliki daftar semua operasi yang dilakukan dengan database. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seharusnya juga dimungkinkan untuk menemukan pernyataan spesifik yang menarik bagi auditor. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alat pencatatan standar menunjukkan apa yang diminta pengguna, sementara pgAudit berfokus pada detail tentang apa yang terjadi ketika database membuat permintaan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Misalnya, auditor mungkin ingin memastikan bahwa tabel tertentu telah dibuat di jendela pemeliharaan yang terdokumentasi.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini mungkin tampak seperti tugas sederhana untuk audit dan grep dasar, tetapi bagaimana jika Anda menemukan sesuatu seperti ini (sengaja membingungkan) contoh: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DO $$ </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BEGIN </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 EXECUTE 'CREATE TABLE import import' || 'ant_table (id INT)'; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AKHIR $$; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pencatatan standar akan memberi Anda ini: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LOG: pernyataan: DO $$ </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BEGIN </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 EXECUTE 'CREATE TABLE import' || 'ant_table (id INT)'; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AKHIR $$; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tampaknya mencari tabel minat mungkin memerlukan beberapa pengetahuan kode dalam kasus di mana tabel dibuat secara dinamis. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini tidak ideal, karena akan lebih baik hanya mencari berdasarkan nama tabel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sinilah pgAudit akan berguna. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk input yang sama, ini akan menampilkan output ini dalam log:</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AUDIT: SESI, 33.1, FUNGSI, LAKUKAN ,,, “JANGAN $$ </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MULAI </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 PELAKSANAAN 'CREATE TABLE import' || </font><font style="vertical-align: inherit;">'ant_table (id INT)'; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AKHIR $$; " </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AUDIT: SESI, 33,2, DDL, CREATE TABLE, TABLE, public.important_table, CREATE TABLE important_table (id INT) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tidak hanya blok DO yang didaftarkan, tetapi juga teks lengkap CREATE TABLE dengan jenis operator, jenis objek dan nama lengkap, membuatnya lebih mudah untuk mencari. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam menjalankan majalah operator SELECT dan DML pgAudit dapat dikonfigurasi untuk mencatat entri terpisah untuk setiap hubungan, yang dirujuk dalam pernyataan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tidak perlu menguraikan untuk menemukan semua pernyataan yang terkait dengan tabel tertentu ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">*</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) " .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bagaimana ini akan mempengaruhi kinerja DBMS?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita jalankan tes dengan audit penuh diaktifkan dan lihat apa yang terjadi dengan kinerja PostgreSQL. </font><font style="vertical-align: inherit;">Kami mengaktifkan pendataan basis data maksimum dalam segala hal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami hampir tidak mengubah apa pun dalam file konfigurasi, dari yang penting - aktifkan mode debug5 untuk mendapatkan informasi maksimal. </font></font><br>
<br>
<font color="red"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">postgresql.conf</font></font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">log_destination = 'stderr' </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
logging_collector = pada </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
log_truncate_on_rotation = pada </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
log_rotation_age = 1d </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
log_rotation_size = 10MB </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
log_min_messages = </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">debug5</font></font></strong><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
log_min_error_statement = </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">debug5</font></font></strong><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
log_min_duration_statement = 0 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
debug_print_parse =</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">debug_print_rewritten = pada </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
debug_print_plan = pada </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
debug_pretty_print = pada </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
log_checkpoints = pada </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
log_donnonnections </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
= pada </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
log_disconnections = pada </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
log_dapatation = pada </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
log_lock_waits = pada </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
log_replication_commands = pada </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
log_temp_files = 0 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
log_time =</font></font></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada DBMS PostgreSQL dengan parameter 1 CPU, 2,8 GHz, 2 GB RAM, 40 GB HDD, kami melakukan tiga tes beban menggunakan perintah berikut:</font></font><br>
<br>
<pre><code class="plaintext hljs">$ pgbench -p 3389 -U postgres -i -s 150 benchmark<font></font>
$ pgbench -p 3389 -U postgres -c 50 -j 2 -P 60 -T 600 benchmark<font></font>
$ pgbench -p 3389 -U postgres -c 150 -j 2 -P 60 -T 600 benchmark</code></pre><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hasil tes:</font></font></strong><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td></td>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tanpa logging</font></font></strong></td>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dengan logging</font></font></strong></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Total waktu pengisian basis data</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">43,74 dtk</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">53,23 dtk</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RAM</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24%</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">40%</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CPU</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">72%</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">91%</font></font></td>
</tr>
<tr>
<td colspan="3"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tes 1 (50 koneksi)</font></font></strong></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jumlah transaksi dalam 10 menit</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">74169</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">32445</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transaksi / dtk</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">123</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">54</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Penundaan rata-rata</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">405 ms</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">925 ms</font></font></td>
</tr>
<tr>
<td colspan="3"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tes 2 (150 koneksi pada 100 memungkinkan)</font></font></strong></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jumlah transaksi dalam 10 menit</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">81727</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">31429</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transaksi / dtk</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">136</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">52</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Penundaan rata-rata</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">550 ms</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1432 ms</font></font></td>
</tr>
<tr>
<td colspan="3"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tentang ukuran</font></font></strong></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ukuran DB</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2251 MB</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2262 MB</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ukuran Log Basis Data</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 Mb</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4587 Mb</font></font></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Intinya: audit penuh tidak terlalu baik. </font><font style="vertical-align: inherit;">Data dari audit akan berubah volume, seperti data dalam database itu sendiri, atau bahkan lebih. </font><font style="vertical-align: inherit;">Jumlah penebangan yang dihasilkan saat bekerja dengan DBMS adalah masalah umum pada produk. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami melihat parameter lain:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kecepatan tidak banyak berubah: tanpa logging - 43.74 detik, dengan logging - 53.23 detik.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Performa pada RAM dan CPU akan tenggelam, karena Anda perlu membuat file dengan audit. </font><font style="vertical-align: inherit;">Juga terlihat pada yang produktif.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan peningkatan jumlah koneksi, tentu saja, kinerjanya akan sedikit memburuk. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di perusahaan dengan audit, itu bahkan lebih sulit:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ada banyak data;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">audit diperlukan tidak hanya melalui syslog di SIEM, tetapi juga ke file: tiba-tiba terjadi sesuatu dengan syslog, file di mana data disimpan harus dekat dengan database;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">audit memerlukan rak terpisah, agar tidak tenggelam pada disk I / O, karena membutuhkan banyak ruang;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kebetulan karyawan IS membutuhkan GOST di mana-mana, mereka memerlukan identifikasi tamu.</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pembatasan akses data</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita lihat teknologi yang digunakan untuk melindungi data dan mengaksesnya dalam DBMS komersial dan open source. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apa yang bisa digunakan secara keseluruhan:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enkripsi dan kebingungan prosedur dan fungsi (Wrapping) - yaitu, alat dan utilitas terpisah yang membuat kode tidak dapat dibaca dari kode yang dapat dibaca. </font><font style="vertical-align: inherit;">Benar, maka itu tidak dapat diubah atau dikembalikan lagi. </font><font style="vertical-align: inherit;">Pendekatan semacam itu kadang-kadang diperlukan setidaknya di sisi DBMS - logika pembatasan lisensi atau logika otorisasi dienkripsi secara tepat di tingkat prosedur dan fungsi.</font></font></li>
<li>     (RLS) —       ,      ,   - -     .</li>
<li>   (Masking) —          ,   ,    -    .  ,        .</li>
<li>  Security DBA/Application DBA/DBA — , ,      ,        database-  application-.  open source   ,     .  ,        .</li>
<li>       .   ,    ,         .</li>
<li>     —    .</li>
<li>End-to-end encryption   —  client-side       .</li>
<li> . ,   —    ,     .</li>
</ol><br>
<h3>     ?</h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita lihat contoh enkripsi kolom di PostgreSQL. </font><font style="vertical-align: inherit;">Ada modul pgcrypto, memungkinkan Anda untuk menyimpan bidang yang dipilih dalam bentuk terenkripsi. </font><font style="vertical-align: inherit;">Ini berguna ketika hanya beberapa data yang berharga. </font><font style="vertical-align: inherit;">Untuk membaca bidang terenkripsi, klien melewati kunci dekripsi, server mendekripsi data dan mengeluarkannya ke klien. </font><font style="vertical-align: inherit;">Tanpa kunci dengan data Anda, tidak ada yang bisa melakukan apa pun. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mari kita coba dengan pgcrypto</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Buat tabel dengan data terenkripsi dan data biasa. </font><font style="vertical-align: inherit;">Di bawah ini adalah perintah untuk membuat tabel, di baris pertama perintah yang berguna adalah membuat ekstensi itu sendiri dengan pendaftaran DBMS:</font></font><br>
<br>
<pre><code class="plaintext hljs">CREATE EXTENSION pgcrypto;<font></font>
CREATE TABLE t1 (id integer, text1 text, text2 text);<font></font>
CREATE TABLE t2 (id integer, text1 bytea, text2 bytea);<font></font>
INSERT INTO t1 (id, text1, text2)<font></font>
VALUES (generate_series(1,10000000), generate_series(1,10000000)::text, generate_series(1,10000000)::text);<font></font>
INSERT INTO t2 (id, text1, text2) VALUES (<font></font>
generate_series(1,10000000),<font></font>
encrypt(cast(generate_series(1,10000000) AS text)::bytea, 'key'::bytea, 'bf'),<font></font>
encrypt(cast(generate_series(1,10000000) AS text)::bytea, 'key'::bytea, 'bf'));</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selanjutnya, kami akan mencoba membuat pengambilan sampel data dari setiap tabel dan melihat waktu eksekusi. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pilihan dari tabel tanpa fungsi enkripsi</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="plaintext hljs">psql -c "\timing" -c "select * from t1 limit 1000;" "host=192.168.220.129 dbname=taskdb<font></font>
user=postgres sslmode=disable" &gt; 1.txt</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Stopwatch aktif. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&nbsp;&nbsp;id | </font><font style="vertical-align: inherit;">text1 | </font><font style="vertical-align: inherit;">text2 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
------ + ------- + ------- </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 1 | </font><font style="vertical-align: inherit;">1 | </font><font style="vertical-align: inherit;">1 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 2 | </font><font style="vertical-align: inherit;">2 | </font><font style="vertical-align: inherit;">2 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 3 | </font><font style="vertical-align: inherit;">3 | </font><font style="vertical-align: inherit;">3 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
997 | </font><font style="vertical-align: inherit;">997 | </font><font style="vertical-align: inherit;">997 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
998 | </font><font style="vertical-align: inherit;">998 | </font><font style="vertical-align: inherit;">998.999 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">999 | </font><font style="vertical-align: inherit;">999 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1000 | </font><font style="vertical-align: inherit;">1000 | </font><font style="vertical-align: inherit;">1000 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
(1000 baris) </font></font><br>
<br>
<font color="red"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Waktu: 1,386 ms. </font></font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pengambilan sampel dari sebuah tabel dengan fungsi enkripsi:</font></font></strong><br>
<br>
<pre><code class="plaintext hljs">psql -c "\timing" -c "select id, decrypt(text1, 'key'::bytea, 'bf'),<font></font>
decrypt(text2, 'key'::bytea, 'bf') from t2 limit 1000;"<font></font>
"host=192.168.220.129 dbname=taskdb user=postgres sslmode=disable" &gt; 2.txt</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Stopwatch aktif. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&nbsp;&nbsp;id | </font><font style="vertical-align: inherit;">dekripsi | </font><font style="vertical-align: inherit;">dekripsi </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
----- + -------------- + ------------ </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 1 | </font><font style="vertical-align: inherit;">\ x31 | </font><font style="vertical-align: inherit;">\ x31 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 2 | </font><font style="vertical-align: inherit;">\ x32 | </font><font style="vertical-align: inherit;">\ x32 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 3 | </font><font style="vertical-align: inherit;">\ x33 | </font><font style="vertical-align: inherit;">\ x33 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
999 | </font><font style="vertical-align: inherit;">\ x393939 | </font><font style="vertical-align: inherit;">\ x393939 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1000 | </font><font style="vertical-align: inherit;">\ x31303030 | </font><font style="vertical-align: inherit;">\ x31303030 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
(1000 baris) </font></font><br>
<br>
<font color="red"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Waktu: 50.203 ms </font></font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hasil tes</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td>&nbsp;</td>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tanpa enkripsi</font></font></strong></td>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pgcrypto (decrypt)</font></font></strong></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ambil 1000 baris</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1,386 ms</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">50.203 ms</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CPU</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lima belas%</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">35%</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RAM</font></font></td>
<td>&nbsp;</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ 5%</font></font></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Enkripsi memiliki dampak besar pada kinerja. </font><font style="vertical-align: inherit;">Dapat dilihat bahwa waktunya telah meningkat, karena operasi mendekripsi data terenkripsi (dan dekripsi biasanya masih dibungkus dengan logika Anda) membutuhkan sumber daya yang signifikan. </font><font style="vertical-align: inherit;">Artinya, gagasan mengenkripsi semua kolom yang berisi beberapa jenis data penuh dengan penurunan kinerja. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Namun, enkripsi bukan peluru perak yang menyelesaikan semua masalah. </font><font style="vertical-align: inherit;">Data yang didekripsi dan kunci dekripsi dalam proses dekripsi dan transfer data terletak di server. </font><font style="vertical-align: inherit;">Oleh karena itu, kunci dapat dicegat oleh mereka yang memiliki akses penuh ke server database, misalnya, administrator sistem.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketika seluruh kolom untuk semua pengguna memiliki satu kunci (bahkan jika tidak untuk semua, tetapi untuk sekelompok pelanggan terbatas), ini tidak selalu baik dan benar. </font><font style="vertical-align: inherit;">Itulah sebabnya mereka mulai melakukan enkripsi ujung ke ujung, di DBMS mereka mulai mempertimbangkan opsi untuk mengenkripsi data dari klien dan server, repositori key-vault yang sama muncul - produk terpisah yang menyediakan manajemen kunci di sisi DBMS.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a97/d2d/cb2/a97d2dcb29c95253ff37b99f2bf1be40.png"></div><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contoh enkripsi semacam itu di MongoDB</font></font></i></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fitur keamanan dalam DBMS komersial dan open source</font></font></h2><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fungsi</font></font></strong></td>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sebuah tipe</font></font></strong></td>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kebijakan kata sandi</font></font></strong></td>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Audit</font></font></strong></td>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Melindungi kode sumber untuk prosedur dan fungsi</font></font></strong></td>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RLS</font></font></strong></td>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enkripsi</font></font></strong></td>
</tr>
<tr>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Peramal</font></font></strong></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">komersial</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
</tr>
<tr>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Msql</font></font></strong></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">komersial</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
</tr>
<tr>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jatoba</font></font></strong></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">komersial</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ekstensi</font></font></td>
</tr>
<tr>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PostgreSQL</font></font></strong></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gratis</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ekstensi</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ekstensi</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ekstensi</font></font></td>
</tr>
<tr>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mongodb</font></font></strong></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gratis</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hanya tersedia di MongoDB Enterprise</font></font></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tabelnya jauh dari lengkap, tetapi situasinya adalah ini: dalam produk komersial, masalah keamanan telah dipecahkan sejak lama, dalam sumber terbuka, sebagai aturan, beberapa add-on digunakan untuk keamanan, banyak fungsi tidak cukup, kadang-kadang Anda harus menambahkan sesuatu. Misalnya, kebijakan kata sandi - di PostgreSQL ada banyak ekstensi yang berbeda ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) yang menerapkan kebijakan kata sandi, tetapi, menurut pendapat saya, tidak ada yang mencakup semua kebutuhan segmen korporasi domestik. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apa yang harus dilakukan jika tidak ada yang dibutuhkan</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ? Misalnya, saya ingin menggunakan DBMS tertentu, di mana tidak ada fungsi yang diperlukan pelanggan.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kemudian Anda dapat menggunakan solusi pihak ketiga yang bekerja dengan DBMS yang berbeda, misalnya, "Crypto DB" atau "Garda DB". Jika kita berbicara tentang solusi dari segmen domestik, maka mereka tahu tentang GOST lebih baik daripada di open source. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Opsi kedua adalah menulis sendiri apa yang Anda butuhkan, mengimplementasikan akses data dan enkripsi dalam aplikasi di tingkat prosedur. Benar, dengan GOST akan lebih sulit. Tetapi secara umum - Anda dapat menyembunyikan data sesuai kebutuhan, memasukkannya ke dalam DBMS, lalu mendapatkannya dan mendekripsi sebagaimana mestinya, tepat di tingkat aplikasi. Pada saat yang sama, segera pikirkan tentang bagaimana Anda akan melindungi algoritma ini pada aplikasi. Menurut pendapat kami, ini harus dilakukan di tingkat DBMS, karena akan bekerja lebih cepat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pembicaraan ini pertama kali dilakukan di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@Databases Meetup</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> oleh Mail.ru Cloud Solutions. Tonton </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://www.youtube.com/redirect%3Fq%3D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">videonya</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">penampilan lain dan mendaftar untuk pengumuman acara Telegram di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sekitar Kubernetes di Mail.ru Group</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apa lagi yang harus dibaca pada topik</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lebih dari Ceph: MCS Block Cloud Storage</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bagaimana memilih database untuk proyek, agar tidak memilih lagi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
</ol></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id500696/index.html">Bagaimana sepatu lari berusaha beradaptasi dengan kaki wanita</a></li>
<li><a href="../id500698/index.html">Evgeny Katyshev: "OpenStreetMap tidak cocok untuk informasi apa pun"</a></li>
<li><a href="../id500700/index.html">Dukungan untuk TLS1.3 dan perluasan akun pribadi Anda: apa yang telah dilakukan untuk kuartal pertama tahun 2020</a></li>
<li><a href="../id500704/index.html">Unicorn (Airbnb, Uber, Lyft, Careem) memecat ribuan karyawan di tengah masalah selama pandemi coronavirus</a></li>
<li><a href="../id500706/index.html">Memutakhirkan MySQL (Percona Server) dari 5.7 ke 8.0</a></li>
<li><a href="../id500712/index.html">Digital Coronavirus - Kombinasi Ransomware dan Infostealer</a></li>
<li><a href="../id500718/index.html">EPAM dalam mode jarak jauh: cara kerjanya</a></li>
<li><a href="../id500720/index.html">Standar keamanan informasi baru: membuat hidup lebih sulit bagi penyerang</a></li>
<li><a href="../id500722/index.html">"Panggang sampai siap": yang menyimpan rekaman langka dengan cara yang tidak biasa</a></li>
<li><a href="../id500724/index.html">Bagaimana otoritas keuangan AS membatasi dampak negatif dari permainan pada penurunan</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>