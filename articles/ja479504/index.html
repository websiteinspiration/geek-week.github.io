<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏿‍🤝‍👩🏼 👎🏿 💪🏾 Raspberry PiベースのRDPシンクライアントの構築 😶 👀 😽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Raspberry PiなどのミニPCや類似のクローンの人気が高まるにつれ、企業のITインフラストラクチャ、スマートホーム/コテージ/ガレージ、その他のアプリケーションでの使用について多くの事例がありました。
 
 便利で望ましいケースの1つは、RPiをRDP経由でWindowsベースのシステムに接...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Raspberry PiベースのRDPシンクライアントの構築</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/479504/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Raspberry PiなどのミニPCや類似のクローンの人気が高まるにつれ、企業のITインフラストラクチャ、スマートホーム/コテージ/ガレージ、その他のアプリケーションでの使用について多くの事例がありました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
便利で望ましいケースの1つは、RPiをRDP経由でWindowsベースのシステムに接続するシンクライアントとして使用することです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Raspberry Piに基づいてそのような場所を設定する方法、および「設定して忘れる」ような方法に興味がある場合-猫へようこそ。完全に遅延の既製のイメージがあります（セクション6.Bを参照）。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/3v/mj/zp/3vmjzprnt4v33dvnqnr6rwlikb8.png" alt="注目を集める写真"></div><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
具体的には、私の経験（会計/管理自動化のスペシャリスト）では、プログラム（ほとんどが黄色）、オフィススイート、インターネット、およびメールにアクセスすることだけを目的とした職場を編成する必要がありました。時々-フラッシュドライブで動作します。同時に、サーバーはすでにエンタープライズにありました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同時に、ステーションには低ノイズ、コンパクトさ、信頼性が要求されました。または、正直に、安っぽくしましょう。特に問題が小売についてであり、すべてが「釘付け」になるべきである場合。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同時に、過去には、特殊な「鉄」シンクライアントの形で多くのソリューションが試されましたが、いくつかの理由から、それらは不快であることが判明しました。どこかに、プリンターをサーバーに転送するなど、対応できない特定の関連タスクが必要でした。どこかで、テーブルがゆっくり描かれ、ユーザーを夢中にさせました。どこかでシンクライアントが1か所を処理しただけで、その理由を理解することができませんでした。気まぐれなネットワーク負荷が機能しないか、DHCP経由でパラメータが転送されなかった場所。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、何となく自然な方法で、すべてが、ジャンクネットトップを購入し、最小限のソフトウェアセットを配置するほうが、目立たない鉄を使用してゲームを推測するよりも簡単であるという結論に達しました。 、しかし、すべてが問題なく、それほど時間はかからないはずであることが確かに知られています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
記事は関連性があり少し遅れました。同じ黄色のプログラムに戻ると、プラットフォームは近年進化しており、独自のシンクライアントがあり、リモートデスクトップモードでの展開の関連性は低下しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、RDP経由で接続された静かで信頼性の高いワークステーションが適切である他の多くのタスクがあります。</font><font style="vertical-align: inherit;">そして近年、ミニPCのコストはこれまでに急増しており、標準的なコンピューターとネットトップのコストは、そのようなソリューションだけを構築する方がより収益性が高くなっています（ハードウェアのコスト、1時間の専門家の作業、およびCAL / TCALライセンス）。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">問題の定式化</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
だから、</font><font style="vertical-align: inherit;">ラズベリーパイに基づいて</font><font style="vertical-align: inherit;">、我々は</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必要な</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特定のサーバーにシンRDPクライアント、「爪」を展開し、プラス障害が発生した場合に再接続を提供します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ユーザーによるデバイス自体の操作は除外する必要があります。</font><font style="vertical-align: inherit;">したがって、ローカルデスクトップおよびコンソールコマンドはありません。</font><font style="vertical-align: inherit;">パスワードは、RDPセッションの場合にのみ入力されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
おまけとして、-自動マウントとプロブロスリムーバブルUSBドライブを整理します。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与えられた：</font></font></b><br>
<br>
<ul>
<li> Raspberry Pi 3 Model B 1Gb,  4 Model B 1 Gb</li>
<li>  5v 2A, </li>
<li> HDMI, </li>
<li>  HDMI   (      HDMI), </li>
<li> Ethernet (  WiFi-), </li>
<li>  MicroSD  8   (   4 ,    4 ,  ,      ). </li>
<li>, ,   Raspberry.</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
インストール時-WindowsまたはLinuxが搭載されたコンピューター（ラップトップ）、microSDカードアダプター。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
読者はLinuxシステムを管理する基本的なスキルがあると想定されています。「ファイルを作成および編集し、この記事のテキストをコピーしてそこに貼り付ける」または「SSH経由で接続する」という質問は問題を引き起こしません。ただし、Raspbianに特に出会ったことがない人のために、私は自分自身にさらに深い遠足を許可することがあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一般的なロジック：基本システムの構成、RDPクライアントのインストール、自動ログインの構成、テスト、問題の修正。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、完成したアセンブリを別のラズベリーに複製する方法についても説明します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ソフトウェアのレイアウト自体は単純で、約9年前に何らかの形で生まれました-私が今覚えているように、私はDebian Etchの下でそれを行いました。</font><font style="vertical-align: inherit;">それ以来、ソフトウェアとハ​​ードウェアのバージョンからバージョンに少し変更されており、今度はRaspberryに移植するときです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
予定消費時間は約30分です。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.基本システムのセットアップ</font></font></h2><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.1システムイメージのダウンロード</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
システムとしてRaspbianを選択します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
執筆の時点で、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これはここで行うことができます</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">現在のバージョンはバスターです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Debianバスターに基づく最小限のイメージを選択します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/iy/eb/jv/iyebjvlxbebhaqflevjeihob5fa.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
唯一の.imgファイルを取得するためのZIPアーカイブをダウンロードします。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vp/qo/5w/vpqo5wlbndwf9n2ntw5stuylso0.png"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.2フラッシュカードに書き込む</font></font></h4><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a）Windows</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の場合</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">公式サイト</font></a><font style="vertical-align: inherit;">から</font><b><font style="vertical-align: inherit;">Rufus</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
プログラム</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">ダウンロードしてください</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">ポータブル版で十分です。</font><font style="vertical-align: inherit;">
プログラムを実行し、SDカードと1.1項のアーカイブから取得した画像を選択します。</font><font style="vertical-align: inherit;">
「開始」ボタンを押し、SDカード上のデータの破壊を確認し、プロセスが完了するまで待ちます（約5分）。</font><font style="vertical-align: inherit;">
カードを安全に取り外します。</font><b><font style="vertical-align: inherit;">b）Linux</font></b><font style="vertical-align: inherit;"> 
の場合次のコマンドを実行します。</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<img src="https://habrastorage.org/webt/yx/9o/3f/yx9o3ftepbvxw5qytwiu5__d_fi.png"><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<b><font style="vertical-align: inherit;"></font></b><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="plaintext hljs"># dd if=2019-09-26-raspbian-buster-lite.img of=/dev/&lt; SD-&gt; bs=4M</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プロセスが完了するのを待って、カードを引き出します。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.3システムをRPIにデプロイする</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
カードをターゲットデバイスに再配置します。</font><font style="vertical-align: inherit;">ミニPCをモニター、キーボード、マウスに接続し、電源を投入します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しばらくすると、追加の質問をすることなく、ミニPCが新しく展開されたシステムで再起動し、ログイン名とパスワードの入力を求めます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デフォルトでは、これは</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pi：raspberryです。</font></font></b><br>
<br>
<img src="https://habrastorage.org/webt/7p/ej/p6/7pejp6fntkhztb-4tkbhdlcmdq8.jpeg"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.4ログインしてパスワードを変更する</font></font></h4><br>
<pre><code class="plaintext hljs"># passwd pi</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
または</font></font><br>
<br>
<pre><code class="plaintext hljs">$ sudo passwd pi</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（私は意図的にrootとしてユーザーpiに対してpasswdを実行して、Raspbianがパスワードのセキュリティ要件を設定しないようにしますが、それを受け入れて受け入れます）</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
明示的にパスワードを設定しない限り、直接rootとしてログイン</font><font style="vertical-align: inherit;">する</font><font style="vertical-align: inherit;">ことはできません。</font><font style="vertical-align: inherit;">一般的に、これは悪くありません。</font><font style="vertical-align: inherit;">次に、スーパーユーザーで実行する必要のあるすべてのコマンドは、sudoプレフィックスコマンドを使用して、piユーザーの下から実行する必要があります。</font><font style="vertical-align: inherit;">Ubuntuのように。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば（</font></font><b><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有名なジョーク、走らないで！</font></font></u></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font><br>
<br>
<pre><code class="plaintext hljs">$ sudo rm -rf --no-preserve-root</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、私は病理学的に怠惰なので、Raspbianにログインするか、同じUbuntuで次のように入力します。</font></font><br>
<br>
<pre><code class="plaintext hljs">$ sudo bash</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、私はすでに昇格した権利で招待状＃を受け取ります。</font><font style="vertical-align: inherit;">だから私は働きます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
厳密に言えば、そうすることは良くありませんが、初期システムセットアップの段階では、多くの時間を節約できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下では、上記のコマンドの前に＃が付いている場合は、スーパーユーザーで実行する必要があります。</font><font style="vertical-align: inherit;">$を使用する場合は、ユーザーの下（通常、上に表示されます）。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.必要なソフトウェアを「最低限」インストールし、接続をテストする</font></font></h2><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.1ネットワークの構成</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを行うには、次のコマンドを実行して管理ユーティリティを実行します。</font></font><br>
<br>
<pre><code class="plaintext hljs"># raspi-config</code></pre><br>
<img src="https://habrastorage.org/webt/cl/ds/fb/cldsfbbpwcg-xln0ezbmc54refm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（ナビゲーションは、矢印、タブ、Enter-選択、ESC-Returnで実行されます）[ </font><b><font style="vertical-align: inherit;">ネットワークオプション]に</font></b></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
移動し</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コンピュータ名（ポイント</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N1ホスト</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名）を設定します（</font><font style="vertical-align: inherit;">例：</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TERM1）</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コンピューターがイーサネットケーブルでネットワークに接続されていて、DHCPアドレスを受け取っている場合は、他に何もする必要はありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WiFiネットワークを構成する必要がある場合は、構成します（</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N2 Wi-Fiを</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ポイント</font><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">あなたの国を選んでください。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ネットワーク名</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は手動で入力する必要があり、概要は提供されません。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パスワード</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を記載してい</font><b><font style="vertical-align: inherit;">ます</font></b><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に[ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完了]-&gt; [完了]をクリックし</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
要求に応じて、または次のコマンドを使用して再起動します。</font></font><br>
<br>
<pre><code class="plaintext hljs"># reboot</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
再度ログインした後、インターネットにアクセスできることを確認してください。</font></font><br>
<br>
<pre><code class="plaintext hljs"># ping 8.8.8.8</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.2システムの更新</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
利用可能なパッケージに関する情報を更新します。</font></font><br>
<br>
<pre><code class="plaintext hljs"># apt-get update</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでシステムを更新します（オプションですが、非常に望ましいです。後で行うことができます。）</font></font><br>
<br>
<pre><code class="plaintext hljs"># apt-get upgrade</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
バイナリブートローダーRPiが更新され、多くの小さなファイルがSDカードにアンパックされるため、この段階には長い時間がかかることがあります（約15分です）。 </font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ダウンロードが完了して解凍が始まるほぼ直後に、一部の厄介なパッケージが「q」を押してプロセスを停止するように要求することに注意してください。</font><font style="vertical-align: inherit;">あなたが待つために他のものに気を取られる前にクリックする必要があります。</font></font><br>
</blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アップデートの最後に、再起動する必要があります</font></font><br>
<br>
<pre><code class="plaintext hljs"># reboot
</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3ロシア語のロケールとレイアウトをインストールする</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
再び管理ユーティリティで：</font></font><br>
<br>
<pre><code class="plaintext hljs"># raspi-config</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">そこにある</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ローカリゼーションオプション</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に</font><font style="vertical-align: inherit;">
従ってください</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<ol>
<li><b>Change Locale</b>,  *  <b>en-GB.UTF-8</b>    <b>ru-RU.UTF-8</b>. ,       ,  .</li>
<li><b>Change Timezone</b>,       .</li>
<li><b>Change Keyboard Layout</b>,  <b>Generic 105-key (Intl) PC</b> → <b>Other</b> → <b>Russian</b> → <b>Russian</b> → <b>Control+Shift</b> ( Alt+Shift,  ,   ) → <b>No temporary switcher</b> → <b>Right Alt (AltGr)</b> → <b>No compose key</b>.</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
確認して終了- </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">終了</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> → </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">終了</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
管理ユーティリティを終了し、次のコマンドを実行します。</font></font><br>
<br>
<pre><code class="plaintext hljs"># dpkg-reconfigure console-setup</code></pre><br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UTF-8を</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
選択</font><font style="vertical-align: inherit;">→ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最適な文字セットを推測</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> → </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">システムに選択させます...</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（下）→ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8x16</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フォントは視覚的に細くなるはずですが、主なことは、キリル文字をサポートすることです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
再起動してログインし、英語のレイアウト、切り替え、ロシア語のレイアウトをテストします。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.4補助ソフトウェアとエディターで決定</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ファイルの操作、フォルダー構造のナビゲート、ファイルの編集については、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Midnight Commanderが</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本当に好きな</font><font style="vertical-align: inherit;">ので、次の</font><font style="vertical-align: inherit;">よう</font><font style="vertical-align: inherit;">にします。</font></font><br>
<br>
<pre><code class="plaintext hljs"># apt-get install mc
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
root-rightsで実行し、初めてエディター（ファイルのF4キー）を使用するときに、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mcedit</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（ポイント2）</font><font style="vertical-align: inherit;">を選択します</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もちろん、お好みのツールを使用してファイルを編集できます。</font><font style="vertical-align: inherit;">たとえば、nano、さらにはVIMを使用します。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5 sshサーバーをインストールする</font></font></h4><br>
<pre><code class="plaintext hljs"># apt-get install ssh</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
/ etc / ssh / sshd_configを編集します。</font><font style="vertical-align: inherit;">行のコメントを外します：</font></font><br>
<br>
<pre><code class="plaintext hljs">ListenAddress 0.0.0.0</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
自動ロードのロックを解除</font></font><br>
<br>
<pre><code class="plaintext hljs"># systemctl enable ssh.service</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サービスを再起動します</font></font><br>
<br>
<pre><code class="plaintext hljs"># systemctl restart ssh.service</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コマンドでIPアドレスを見つけます </font></font><br>
<br>
<pre><code class="plaintext hljs"># ifconfig</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、SSHを介してソースコンピューターからリモートでデバイスに接続し（Windowsでは個人的には</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PuTTY</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> SSHクライアントが好きです</font><font style="vertical-align: inherit;">）、便利なワークステーションから構成し、この記事のテキストをコピーして構成に貼り付けることができます。</font><font style="vertical-align: inherit;">ログインは</font><font style="vertical-align: inherit;">rootではなく</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pi</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">である</font><font style="vertical-align: inherit;">ことを思い出します</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/n7/rf/dp/n7rfdpupnveaxml-qs16hyjmmnw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
特に指示がない限り、SSHを介してさらにアクションを実行することをお勧めします。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.6揮発性パーティションを仮想ディスクにプルする</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ tmp</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">および</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ var / log</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、次の目的で使用します。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">システムはSDカードを研ぎませんでした。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">停電時にルートファイルシステムが壊れる可能性は低くなりました。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">遠い将来、ログがマップ上の空き領域を詰まらせないようにします。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを行うには、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ etc / fstabに</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">行</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">追加します。</font></font><br>
<br>
<pre><code class="plaintext hljs">tmpfs           /var/log        tmpfs   defaults,noatime,nosuid,mode=0755,size=100m    0 0<font></font>
tmpfs           /tmp            tmpfs   defaults,noatime,nosuid,size=100m    0 0<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ファイルの最後に改行を入れることを忘れないでください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ var / log</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">および</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ tmp</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">セクションには</font><font style="vertical-align: inherit;">、それぞれ100 mbのメモリ</font><font style="vertical-align: inherit;">が</font><font style="vertical-align: inherit;">割り当てられます（いっぱいになった場合にのみ使用されます）。</font><font style="vertical-align: inherit;">RDPにのみ使用されるGigabyte Piは、これらの費用によって何も妨げられることはありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
システムを再起動して、次のコマンドを実行します。</font></font><br>
<br>
<pre><code class="plaintext hljs"># df</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
パーティションがtmpfsにマウントされていることを確認します（3列と4列は異なる場合があります）。</font></font><br>
<br>
<pre><code class="plaintext hljs">tmpfs             102400       8    102392   1% /tmp<font></font>
tmpfs             102400     224    102176   1% /var/log<font></font>
</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.7後でユーザーがグラフィカルシェルを自動的に起動するユーザーを取得する</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次のコマンドを実行します。</font></font><br>
<br>
<pre><code class="plaintext hljs"># adduser user</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
任意のパスワードを設定します。</font><font style="vertical-align: inherit;">あらゆる種類の名前と電話はスキップできます。</font><font style="vertical-align: inherit;">確認。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.8最小バージョンのXサーバーをインストールする</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次のコマンドを実行します。</font></font><br>
<br>
<pre><code class="plaintext hljs"># apt-get install xserver-xorg xinit xterm x11-xserver-utils</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これには5分ほどかかる場合があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に</font></font><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、物理的なターミナル</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Piに直接接続されたモニター、キーボード、マウスの意味で）</font><u><font style="vertical-align: inherit;">に座って、</font></u><font style="vertical-align: inherit;">ユーザーuserとしてログインし、コマンドを実行する必要があります。</font></font><br>
<br>
<pre><code class="plaintext hljs">$ startx</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次の画像が画面に表示されます。つまり、x-serverが正常にインストールされ、先に進むことができます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/c1/na/qb/c1naqbmygzqagi02s3dm5exinn0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
カーソルの上にカーソルを置き（フレームとウィンドウタイトルを形成するウィンドウがなく、ウィンドウが明示的なフォーカスがないとテキストを受信しないため、重要です）、次のように入力します。</font></font><br>
<br>
<pre><code class="plaintext hljs">$ exit</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
戻って来て。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.9リモートデスクトップを操作するためのソフトウェアをインストールする</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私は個人的に</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rdesktopが</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">好き</font><font style="vertical-align: inherit;">です。</font><font style="vertical-align: inherit;">もちろん、ニュアンスがないわけではありません（「レイク抽出」のセクションを参照してください）。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xfreerdp</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">remmina</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">などの</font><font style="vertical-align: inherit;">代替案がありますが</font><font style="vertical-align: inherit;">、それらについても不満があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初の例を挙げましょう。</font></font><br>
<br>
<pre><code class="plaintext hljs"># apt-get install rdesktop</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
全画面でrdesktopを実行するスクリプトを作成します。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ home / user</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ディレクトリに</font><font style="vertical-align: inherit;">、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">runrdp</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイルを作成します</font><font style="vertical-align: inherit;">（できればユーザーとして）。</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-meta">#!/bin/bash</span><font></font>
rdesktop &lt;  IP  &gt; -u &lt;   &gt; -f -z<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
別のRDPクライアントを選択した場合は、そのためのコマンドラインをここに記述するか、rdesktopにある追加のパラメーターの集合を使用します。</font><font style="vertical-align: inherit;">パスワードをハードコーディングして、自動的にログインすることもできます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このスクリプトで実行する権限を付与する必要があります。ルートとして作成した場合、所有者はユーザーです。</font></font><br>
<br>
<pre><code class="plaintext hljs"># chmod 755 /home/user/runrdp<font></font>
# chown user:user /home/user/runrdp<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、ユーザーの下の物理コンソールに移動し、startxを実行し、開いているグラフィックターミナルで（上の図を参照）、次のように入力します。</font></font><br>
<br>
<pre><code class="plaintext hljs">$ ./runrdp</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リモートデスクトップに接続するためのウィンドウが画面に表示されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/av/mt/y8/avmty8dt4vclbpt5yrkw-3mmmlc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次の場合：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
a）コンソールにCredSSPエラーに関する何かが表示される、</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
b）FullHDのフルスクリーンモードで暗いエッジが残る（この記事の写真4のように、コンソールモードは存在するが、エッジは表示される）</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
、セクション「レーキ抽出。」</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、すべてが問題なければ、ログインをキャンセルし（Esc、または「無効」メニュー項目）、xターミナルにドロップアウトし、exitと入力して、コンソールに戻ります。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.リフティングセッションの自動化</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これまでのすべてのステップが機能する場合は、すべてをまとめるときです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを行うには、システムが起動すると、ユーザーが自動的にターミナルにログインし、Xサーバーを起動して、その下のRDPに接続するようにします。</font><font style="vertical-align: inherit;">したがって、パスワードはRDPセッションでのみ要求されるため、未熟なユーザーの心をLinuxを使いこなすという不必要なスキルから守ることができます。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1無限RDP</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
x-serverの起動時にRDPセッションを無限に開こうとするスクリプトを作成してみましょう。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを行うには、ディレクトリ</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ home / user</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で、Xセッション</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.xinitrcの</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">先頭に</font><font style="vertical-align: inherit;">次の内容の</font><font style="vertical-align: inherit;">自動実行ファイルを作成します</font><font style="vertical-align: inherit;">。</font></font><br>
<pre><code class="bash hljs">setxkbmap -option terminate:ctrl_alt_bksp <span class="hljs-comment">#    Ctrl-Alt-BkSpace</span>
setterm -blank 0 -cursor off <span class="hljs-comment">#  </span>
xsetroot -solid gray <span class="hljs-comment">#     </span>
<span class="hljs-keyword">while</span> /bin/<span class="hljs-literal">true</span>; <span class="hljs-keyword">do</span><font></font>
	./runrdp<font></font>
<span class="hljs-keyword">done</span></code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.2無限Xサーバー</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コンソールログイン中にプログラムの自動起動とプロファイル設定を定義するスクリプトを修正して、ユーザーが最初の端末にログインしたときにのみ、xセッションが自動的に開始されるようにします。</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スクリーンセーバーを無効にする</font><font style="vertical-align: inherit;">ように</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通知</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">して</font><font style="vertical-align: inherit;">くれた</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">gecube</font></a><font style="vertical-align: inherit;">に</font><font style="vertical-align: inherit;">感謝し</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">デフォルトでは、黒い画面ですが、最近のほとんどのモニターでは、かなり有害です。</font></font></blockquote><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
編集</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/home/user/.profile</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><u><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">追加</font></font></b></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次の行を：</font></font><br>
<br>
<pre><code class="bash hljs">…
<span class="hljs-keyword">if</span> [ -z <span class="hljs-string">"<span class="hljs-variable">$DISPLAY</span>"</span> ] &amp;&amp; [ $(tty) = <span class="hljs-string">"/dev/tty1"</span> ]; <span class="hljs-keyword">then</span><font></font>
  startx<font></font>
  clear<font></font>
  <span class="hljs-built_in">echo</span> <span class="hljs-string">" 5    "</span><font></font>
  sleep 5<font></font>
  <span class="hljs-built_in">exit</span>
<span class="hljs-keyword">fi</span>
</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.3束の中間テスト</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Piを再起動し、ターミナルに座って、ユーザーuserとしてログインします。上の図のように、画面にセッション開始ウィンドウが表示されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
パスワードの入力を拒否しようとします（esc、またはWindowsのバージョンによって異なります）-セッションの開始時に同じウィンドウが表示されます（つまり、3.1のスクリプトは常に再接続されます）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
キーボードとマウスに触れることなく（サーバーに応じて）約1分間待機します。セッション開始ウィンドウはすぐに切断されます（タイムアウトが発生すると、アクティビティのないパスワード入力段階でのRDPセッションが期限切れになります）。もちろん、3.1により再接続されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ctrl + Alt + BkSpを押し</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。 Xセッションを中断する必要があります。5秒待機することを示す碑文が表示され、その後コンソールセッションも終了します。画面には、ユーザー名とパスワードを入力して端末を入力するように求められます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべてがそうであれば-優れています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
端末への自動ログインのみが必要です。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.4 </font><font style="vertical-align: inherit;">tty1で</font><font style="vertical-align: inherit;">無限に</font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">美味しいオレンジの</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">繰り返し自動ログイン</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを行うには、ルートから</font><font style="vertical-align: inherit;">、次の内容で</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/etc/systemd/system/getty@tty1.service.d/autologin.conf</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイルを作成します</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="plaintext hljs">[Service]<font></font>
ExecStart=<font></font>
ExecStart=-/sbin/agetty --autologin user --noclear %I 38400 linux<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に：</font></font><br>
<br>
<pre><code class="plaintext hljs">#systemctl enable getty@tty1.service	</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
再起動して、物理コンソールがユーザーとして自動的にログインし、Xサーバーが起動してRDPセッションが開いていることを確認します。その後、すべてが3.3のようになります。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ctrl + Alt + BkSpを押し、再接続を待ちます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
システム、テスト切り替え、レイアウト作業を入力します。</font><font style="vertical-align: inherit;">問題がある場合は、セクション4を参照してください。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これでセットアップは完了です。</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
何か問題が発生した場合（画面がブランクになる、何かがフリーズするなど）、ユーザーは最初にCtrl + Alt + BkSpを押して反応を待つように指示する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
USB自動マウントについては、セクション5も参照してください。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.レーキ抽出</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これはオープンソースであるため、レイク抽出は絶望的で継続的なプロセスです。</font><font style="vertical-align: inherit;">考えられる主なレーキの概要を説明しますが、何が私たちを待っているのか誰が知っています。</font><font style="vertical-align: inherit;">個人的には、私は幸運であったことは一度もありませんでした。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.1画面解像度の不完全な使用に関する問題</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
症状：一部の機器（HDMI-DSUBアダプター、一部のモニター）の場合、raspbianはフルHDモニターのすべての利用可能な解像度を使用しません。</font><font style="vertical-align: inherit;">関連情報と画面の物理的なエッジの間には暗いフィールドが残ります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それは次のように解決されます：</font><b><font style="vertical-align: inherit;">/boot/config.txtを</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
編集し</font><font style="vertical-align: inherit;">、行を見つけます</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="plaintext hljs"># disable_overscan = 1 </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それをコメント解除します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リブート。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、コンソールモードとグラフィックモードの両方で、画面の端の暗いフィールドが削除されます。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.2 rdesktopを最新のRDPサーバーに接続するときのマウスカーソルの問題</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは主に、カーソルテーマが含まれているWindows 2012、2016、Windows 10に適用されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
症状：非標準（砂時計、I記号、ウィンドウ拡大矢印など）に切り替えた後、通常の矢印に切り替えるのを忘れると、カーソルが消え、描画が不十分になります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
解決策：接続しているサーバーのユーザーとして、コントロールパネルからマウスのプロパティに移動し、テーマを「いいえ」にリセットして、ポインターの下の影をオフにします。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ek/na/rc/eknarc92omul5c37i4ta4lfenmc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
カーソルは従わなければなりません。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.3。</font><font style="vertical-align: inherit;">rdesktopのエンコードの問題</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
症状：場合によっては、RDP接続を介して、リモートシステムで特殊文字（チルド、スラッシュ、引用符、ドット、縦棒）が誤って入力されます。</font><font style="vertical-align: inherit;">彼らはしばしばタイプされるので、特にポイントを激怒させ始めます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ソリューション：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
で</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、/ usr / share / rdesktopの/キーマップを</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作成し</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、生の</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイルを</font><font style="vertical-align: inherit;">、次の内容でそれを埋めます：</font></font><br>
<br>
<pre><code class="plaintext hljs">include common<font></font>
map 0x419<font></font>
grave 0x29<font></font>
asciicircum 0x07 shift<font></font>
backslash 0x2b<font></font>
bar 0x2b shift<font></font>
apostrophe 0x28<font></font>
greater 0x34 shift<font></font>
less 0x33 shift<font></font>
</code></pre><br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ home / user / runrdp</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
スクリプト</font><font style="vertical-align: inherit;">の</font><font style="vertical-align: inherit;">rdesktopコマンドプロンプトに</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-k raw</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">引数を追加し</font><font style="vertical-align: inherit;">ます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例えば：</font></font><br>
<br>
<pre><code class="bash hljs">rdesktop 10.0.0.1 -u user -k raw</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ctrl + Alt + BkSpでターミナルでセッションを再起動するか、通常はPiを再起動します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RDPを入力し、以下を含むすべての特殊文字をテストします </font><font style="vertical-align: inherit;">キーボードの数字行のShiftキーと文字セクションの左右にあるサイドキーを使用し、Shiftキーを使用した場合と使用しない場合（引用符、コロン、句読点、棒など）。</font><font style="vertical-align: inherit;">すべてが機能するはずです。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.4。</font><font style="vertical-align: inherit;">rdesktopを起動しようとしてもセッションが開かず、コンソールにエラーCredSSPが表示される</font></font></h4><br>
<pre><code class="bash hljs">CredSSP: Initialize failed, <span class="hljs-keyword">do</span> you have correct kerberos tgt initialized ?<font></font>
Failed to connect, CredSSP required by server.<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ターゲットシステムには、rdesktopでは通常実行できない最新のクライアント認証アルゴリズムが必要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ソリューションオプション：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">セキュリティ設定を低くして、サーバー認証を無効にします。</font><font style="vertical-align: inherit;">基本的に、PiがRDPをクライアントとして使用しようとしている環境では、これはあまりセキュリティの問題にはなりません。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">freerdp、remminaなどの別のクライアントを使用して、runrdpスクリプトの内容をこのクライアントの起動行に置き換えます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kerberosクライアントをインストールして構成しますが、どういうわけかすべてが複雑です。</font><font style="vertical-align: inherit;">試したい場合は、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">から</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">始めてください</font></a><font style="vertical-align: inherit;">。</font></font></li>
</ol><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.5。</font><font style="vertical-align: inherit;">デバイスのオンとオフを切り替える</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Raspberry Piにはシャットダウンボタンがありません。</font><font style="vertical-align: inherit;">これは悪いです。</font><font style="vertical-align: inherit;">オンとオフを切り替える効果的な方法がないことがわかりました。</font><font style="vertical-align: inherit;">これについては多くのことが書かれているので、簡単にまとめます。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一方では、デバイスのみをオフにすることはできず、モニターのみをオフにすることができます。</font><font style="vertical-align: inherit;">厳密に言えば、私がRPiを配置する場所では、すべてが行われます。</font><font style="vertical-align: inherit;">一般的に、デバイスはほとんど熱くならず、電気を消費せず、ノイズを発生しません。</font><font style="vertical-align: inherit;">モニターは、出発する前にユーザーの電源をオフにします。</font></font></li>
<li>      Cron-,  ,    RPi,    ,   .</li>
<li>   ,   USB-    (  RPi       ). 120   .           ,     . ,       tmpfs, , ,   ,      ,           rootfs.  ,  ,  « ».</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GPIOポートに含まれ、デバイスをゆっくりと（適切な方法で）オン/オフする追加のボタンを使用するソリューションがあります。</font><font style="vertical-align: inherit;">しかし、建物でそれを集団農場にすることは、何時間も費やして生産コストを増やすことです。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ただし、RPiの場合は、組み込みのボタンが付いたケースもあります（中国人は通常すべてを持っています）。</font><font style="vertical-align: inherit;">しかし、個人的にはまだ試していません。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">USBケーブルのブレーカーを介してデバイスをオンにし、システムサービスによって監視されるホットキー（Ctrl + Alt + Shift + Pなど）でデバイスをオフにすることを考えていますが、この解決策を実行する方法はありません。</font></font></li>
</ol><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.6 RDPサーバーへの複数の再接続</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
現在のスキームでは、クライアントデバイスはRDPプロトコルを使用してサーバーに接続し、ログインとパスワードの入力ウィンドウを表示します。ユーザーが何も入力しないと、しばらくするとセッションがリセットされ、RDPクライアントが再び開始されます。</font></font><br>
<br>
<blockquote>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Mnemonik</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>,       Windows Server  ,      .<br>
</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私が持ってきます。</font><font style="vertical-align: inherit;">.xinitrcスクリプトを変更して、次のrdesktopプロセスの完了後、モーダルダイアログが画面に表示され、[OK]ボタンをクリックするまで再起動できないようにします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを行うには、xorgパッケージに含まれている通常のxmessageを使用できますが、それによって作成されたウィンドウは非常に醜く、私のモニターが壊れています。</font><font style="vertical-align: inherit;">さらに、このアプリケーションはロシア語に対応していません。これをオンにすることは別のタスクです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この欠点がないにもかかわらず、私はgxmessageに感銘を受けましたが、GTKと25メガバイトの他の依存関係を引っ張ってしまいます。</font><font style="vertical-align: inherit;">さて、より小さな悪を選択しましょう：</font></font><br>
<pre><code class="plaintext hljs">apt-get install gxmessage</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
.xinitrcスクリプトを変更します。</font></font><br>
<pre><code class="bash hljs">setxkbmap -option terminate:ctrl_alt_bksp <span class="hljs-comment">#    Ctrl-Alt-BkSpace</span>
setterm -blank 0 -cursor off <span class="hljs-comment">#  </span>
xsetroot -solid gray <span class="hljs-comment">#     </span>
<span class="hljs-keyword">while</span> /bin/<span class="hljs-literal">true</span>; <span class="hljs-keyword">do</span><font></font>
	./runrdp<font></font>
	gxmessage --center <span class="hljs-string">" OK      RDP"</span>
<span class="hljs-keyword">done</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、rdesktopがサーバーに接続しようとする試行の間に、対応するメッセージが画面に表示され、サーバーが絶えず「爆撃」されることはありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スクリプトを簡単に終了したら、サーバーのネットワークの可用性を事前に確認し、通信の不足による再接続についてのメッセージを表示できます。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.7 NTPの構成</font></font></h4><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この瞬間を思い出させてくれた</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gecube</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に</font><font style="vertical-align: inherit;">感謝し</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">理論的には、デバイスの時間は時間の経過とともに「変動」する可能性があり、認証に問題が発生したり、他の問題が発生したりする可能性があります。</font></font><br>
</blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この小さな問題を修正するには、ntpdateプログラムをインストールし、cronにタスクを登録して1時間ごとに時刻を更新する必要があります（デバイスにはインターネットアクセスが必要です）。</font></font><br>
<br>
<pre><code class="plaintext hljs"># apt-get install ntpdate<font></font>
# echo "0 *     * * * root ntpdate pool.ntp.org" &gt; /etc/cron.d/ntp<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ネットワーク上にローカルNTPサーバーがある場合は、ホスト名を自分のホスト名に置き換えます。</font></font><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5オプション：USBデバイスの接続、切断、転送</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際、このセクションには2つの重要な段階があります。</font><font style="vertical-align: inherit;">まず、USBデバイスを管理して、それらの自動マウントと、少なくともいくらかユーザー制御のアンマウントを確実にします。</font><font style="vertical-align: inherit;">次に、接続されたデバイスを端末に転送して、ネットワーク経由でアクセスできるようにします。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.1。</font><font style="vertical-align: inherit;">自動マウントのセットアップ</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ファイルシステムを備えたプラグインUSBデバイスは、/メディアディレクトリのサブディレクトリにマウントされます。</font><font style="vertical-align: inherit;">次に、同じディレクトリをrdesktopに転送します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
pmountパッケージが必要です。</font></font><br>
<br>
<pre><code class="plaintext hljs"># apt-get install pmount.</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
接続されたデバイスをキャッチしてマウントするudevのルールも作成する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
で</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/etc/udev/rules.d</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイルの作成</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">80-usbstick.rulesを</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下の内容で：</font></font><br>
<br>
<pre><code class="plaintext hljs">ACTION=="add", KERNEL=="sd[a-z][0-9]", TAG+="systemd", ENV{SYSTEMD_WANTS}="usbstick-handler@%k"
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
systemdのサービスを作成します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
では</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ libに/にsystemd /システム、</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作成</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">usbstickハンドラ@ .serviceファイル</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、次の内容では：</font></font><br>
<br>
<pre><code class="plaintext hljs">[Unit]<font></font>
Description=Mount USB sticks<font></font>
BindsTo=dev-%i.device<font></font>
After=dev-%i.device<font></font>
<font></font>
[Service]<font></font>
Type=oneshot<font></font>
RemainAfterExit=yes<font></font>
ExecStart=/usr/bin/pmount --umask 000 --noatime -w --sync /dev/%i /media/%i<font></font>
ExecStop=/usr/bin/pumount /dev/%i<font></font>
</code></pre><br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ usr / local /ビン、</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作成</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アンマウント・デバイスの</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイルを</font><font style="vertical-align: inherit;">以下の内容では：</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-keyword">for</span> folder <span class="hljs-keyword">in</span> /media/*; <span class="hljs-keyword">do</span>
    pumount <span class="hljs-variable">$folder</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"Unmounted <span class="hljs-variable">$folder</span>"</span>
<span class="hljs-keyword">done</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
彼に実行する権利を割り当てます。</font></font><br>
<br>
<pre><code class="plaintext hljs">#chmod 755 unmount-devices </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ユーザーuserをplugdevグループに追加して、このスクリプトを使用できるようにします（pumountにより、このグループのメンバーはデバイスをマウントおよびマウント解除できます）</font></font><br>
<br>
<pre><code class="plaintext hljs"># adduser user plugdev</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リブート。すべてが正しく行われている場合、USBフラッシュドライブをミニPCのUSBポートに挿入すると、数秒後、sda1フォルダーなどが/メディアディレクトリに表示され、そこにUSBフラッシュドライブが読み書き用にマウントされます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デバイスは–syncフラグを使用してマウントされるため、原則として、書き込み操作が完了したときにデバイスをプルすると、データの安全性に問題はありませんが、安全でない抽出フラグがデバイスに残ります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この瞬間をテストします（USBフラッシュドライブを挿入し、USBフラッシュドライブを取り外してから、デバイスをWindows PCに挿入して、考えられるエラーを修正します）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デバイスを再びPiに挿入し、/ media / sda1フォルダーが再び表示されることを確認します。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ユーザーuserの下からunmount-devicesを実行します。</font><font style="vertical-align: inherit;">/メディアからのsda1が消え、デバイスが安全にアンマウントされ、Windows PCに挿入したときにエラーが発生しないはずです。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.2 /メディアディレクトリをRDPで転送し、自動マウントデバイスを提供する</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
では</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ホーム/ユーザー/ runrdp</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我々はrdesktopのコマンドラインに追加の引数を追加します。</font></font><br>
<br>
<pre><code class="bash hljs">rdesktop …... -r disk:USB=/media/</code></pre><br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/home/user/.profileを</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
編集して</font><font style="vertical-align: inherit;">、unmount-devicesへの呼び出しを追加します。</font></font><br>
<br>
<pre><code class="bash hljs">...
<span class="hljs-keyword">if</span> [ -z <span class="hljs-string">"<span class="hljs-variable">$DISPLAY</span>"</span> ] &amp;&amp; [ $(tty) = <span class="hljs-string">"/dev/tty1"</span> ]; <span class="hljs-keyword">then</span><font></font>
  startx<font></font>
  clear<font></font>
  unmount-devices<font></font>
  <span class="hljs-built_in">echo</span> <span class="hljs-string">" 5    "</span><font></font>
  sleep 5<font></font>
  <span class="hljs-built_in">exit</span>
<span class="hljs-keyword">fi</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リブート。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで、RDPセッションで作業していて、USBディスクをPiに接続する必要がある場合は、ディスクを挿入して[マイコンピューター]に移動します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vu/l_/qu/vul_quyi50ig54vjbewcwgpa83w.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらのデバイスは自由に使用でき、フォルダ（sda1-xx、sdb1-xxなど）として表示されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デバイスを削除する必要がある場合は、Ctrl + Alt + BkSpを押します。セッションが切断され（デバイスへのコピーが実行された場合でも中断されます）、コンソールにデバイスのアンマウント（この時点でデバイス</font><font style="vertical-align: inherit;">は</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべて</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安全に削除されます）と5秒待ってからRDPに再接続するメッセージが表示されます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その後、再接続後、パスワードを入力して同じポイントから作業を続けることができますが、以前に接続されていたデバイスはマウント解除されます。</font><font style="vertical-align: inherit;">この時点で、それらは物理的に削除できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで構成手順は完了です。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.システムを別のRpiに複製します</font></font></h2><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.A個別に構成した場合</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべてのレーキが取り除かれた場合、デバイスは問題なく機能し、アセンブリを他のデバイスに拡張できます。</font><font style="vertical-align: inherit;">同じタイプの場合は、プロセスを最初から繰り返す必要はありません。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SDカード（16ギガバイトに出会いました）をアダプターカードに挿入し、Raspberry USBポートに挿入します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
前のセクションで自動マウントをすでに構成している場合は、スクリプトを実行します</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-comment"># unmount-devices</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
接続されたばかりのSDカードをマウント解除するため、もちろん、すぐに/メディア/ sdxxにマウントされました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、lsblkコマンドを実行して、デバイスのリストを確認します。</font></font><br>
<br>
<pre><code class="plaintext hljs">sda           8:0    1 14.6G  0 disk<font></font>
└─sda1        8:1    1 14.6G  0 part<font></font>
mmcblk0     179:0    0  7.4G  0 disk<font></font>
├─mmcblk0p1 179:1    0  256M  0 part /boot<font></font>
└─mmcblk0p2 179:2    0  7.2G  0 part /<font></font>
</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sda</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は明らかに新しいカードで、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mmcblk0</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はシステム</font><font style="vertical-align: inherit;">カード</font><font style="vertical-align: inherit;">です。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実行：</font></font><br>
<br>
<pre><code class="plaintext hljs">dd if=/dev/mmcblk0 of=/dev/sda bs=4M</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（8GBカードの場合）約30分で予想される結果を待ちます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その後、別のRaspberryに挿入し、runrdpスクリプトでホスト名、ユーザー名を変更し、必要に応じて繰り返します。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.B完成した画像をダウンロードする</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もちろん、あなたが私を信頼しているなら、あなたがそれを少し再構成することによって私が用意した画像を使うことができます。ブックマーク、テレメトリツールなど-私は追加しませんでした、それはWindows 10ではありませんが、Microsoftではありません。また、RPiでのビットコインの隠された採掘の経済的見通しも信じていません。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
画像は指示に従ってコンパイルされ、最小サイズ2中国語（不正）GB（1977614336バイト）のSDカードで使用するために詰め込まれました。さらに、画像の塗りつぶされた部分は、一般的に最初の1966080000バイトを占めます。これは、ほとんどの中国のSDカードにも適合します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを行うには：</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1）</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リンク</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（MD5：f7c87ce7b84e2fd7358da95b9baf406c）で</font><font style="vertical-align: inherit;">アーカイブ</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">を</font></a><font style="vertical-align: inherit;">ダウンロードし</font><font style="vertical-align: inherit;">、イメージファイルを解凍します。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2）アナロジー1.2の指示に従って、SDカードにコピーします。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3）システムを起動し、グラフィック画面が表示されるのを待ち、Ctrl + Alt + F2を押してコンソールに移動します。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ユーザーpi、パスワード111としてログインします。以下を実行します。</font></font><br>
<br>
<pre><code class="plaintext hljs">$ sudo bash</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4）ステップ1.4、2.1に従って、インターネットが機能することを確認します（たとえば、pingコマンド）。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5）raspi-configを実行し、[詳細オプション]に移動し、[ファイルシステムの拡張]を選択します（システムイメージをSDカードの使用可能なすべてのスペースに拡張します）</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
6）編集/ホーム/ユーザー/ runrdp、サーバーのホスト名を名前またはIPに置き換えます-サーバーのアドレス、およびユーザー名「user」から、オペレーターがサーバーに接続する必要があるユーザーの名前。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
7）再起動して動作を確認します。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それはすべてです、あなたの注意をありがとう。</font><font style="vertical-align: inherit;">この情報がお役に立てば幸いです。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
残念ながら、1つの記事ですべてをカバーすることは非常に困難です。</font><font style="vertical-align: inherit;">肯定的なフィードバックがある場合は、このアセンブリからプリンターを転送するのがどのように便利であるかを書きます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
UPD 12/12/2019。</font><font style="vertical-align: inherit;">ヒントと編集をしてくれた同僚（gecube、Mnemonik、mkovalevskyi、SannX）に感謝します。</font><font style="vertical-align: inherit;">変更を加えました：</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shutdown screensaverコマンドを追加しました。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NTP構成を追加しました。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RDPクライアントの複数の不完全な接続があるサーバーでのメモリ消費に関して-メッセージボックスを一時停止してスクリプトに追加しました。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、RPi3から取り出したカードを、開梱したてのRPi4モデルB 1Gbに挿入して試したところです。</font><font style="vertical-align: inherit;">修正を行わなくても、すべてがうまく機能します。</font><font style="vertical-align: inherit;">したがって、このマニュアルはRPi 4にも適しており、他の修正にも適している場合があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そのような喜びのために、ダウンロード可能なイメージ（セクション6.Bを参照）を追加しました。このイメージは、完全な指示に従うことなくダウンロードして複製できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
UPD 15/03/2020-Yandex.Disk経由で画像へのリンクをリロードしました。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja479488/index.html">ラップトップから-Mikrotikルーターへの冗長電源を備えたホームサーバー</a></li>
<li><a href="../ja479492/index.html">OpenWhiskに基づくサーバーレスコンピューティング、パート3</a></li>
<li><a href="../ja479496/index.html">JavaScriptでのWTFタスクの解析</a></li>
<li><a href="../ja479498/index.html">線形時間がO（n²）でWindowsになる仕組み</a></li>
<li><a href="../ja479502/index.html">地球の歴史の中で最も厳しい氷河期を生き残るには？</a></li>
<li><a href="../ja479508/index.html">PostgreSQLアンチパターン：有害なJOINとOR</a></li>
<li><a href="../ja479510/index.html">PocketBook Xのレビュー-E Ink Carta Mobius画面と金属ケースを備えた巨大な10.3インチリーダー</a></li>
<li><a href="../ja479514/index.html">設計によるプライバシーとデフォルトのプライバシー（GDPRによる設計されたデータ保護とデフォルトのプライバシー）</a></li>
<li><a href="../ja479516/index.html">ソフトウェアのエントロピーとは何ですか？それをどのように管理しますか？</a></li>
<li><a href="../ja479518/index.html">リモートチーム内でのコミュニケーションは私たちの経験です</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>