<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßò üßõüèø üåæ Eisen oder Optimierung? Badoo, Avito und Mamba - √ºber die PHP-Leistung üòº üêÖ üëê</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Das PHP-Leistungsproblem f√ºr Badoo ist eines der wichtigsten. Die Qualit√§t des PHP-Backends h√§ngt direkt von der Menge der Ressourcen ab, die wir f√ºr ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Eisen oder Optimierung? Badoo, Avito und Mamba - √ºber die PHP-Leistung</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/badoo/blog/487234/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das PHP-Leistungsproblem f√ºr Badoo ist eines der wichtigsten. Die Qualit√§t des PHP-Backends h√§ngt direkt von der Menge der Ressourcen ab, die wir f√ºr Entwicklung und Betrieb ausgeben, von der Geschwindigkeit des Dienstes und von dem Eindruck, den es auf die Benutzer macht. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aus diesem Grund haben wir beim Thema des dritten Treffens der Community von PHP-Entwicklern in unserem B√ºro Backend-Performance gemacht und Kollegen von Avito und Mamba zur Diskussion eingeladen. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/t-/p7/se/t-p7sef1pbww8vboigkup6ditzu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lesen Sie unter dem Zwischensequenzprotokoll der Diskussion, in der ich das Gl√ºck hatte, Moderator zu sein: Wie die Infrastruktur der drei Unternehmen aufgebaut ist, wie wir die Produktivit√§t messen und auf welche Metriken wir uns konzentrieren, welche Tools wir verwenden, wie wir zwischen Hardware und Optimierung w√§hlen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und am 15. Februar kommen Sie zum </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n√§chsten Badoo PHP Meetup</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Besprechen Sie Legacy.</font></font><br>
<a name="habracut"></a><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/kWBm0C9A8oo" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe> <br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir haben nur den Teil der Diskussion entschl√ºsselt, der uns am interessantesten erschien. </font><font style="vertical-align: inherit;">Die Vollversion ist als Video verf√ºgbar. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Experten:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Semyon Kataev, Leiter der Entwicklungsabteilung bei Core Services Avito</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pavel Murzakov </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pmurzakov</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, PHP Timlid in Badoo </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mikhail Buylov </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mipxtx</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, IT-Direktor von Mamba</font></font></li>
</ul><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erz√§hlen Sie eine Geschichte √ºber Optimierung aus Ihrer Praxis: Gro√üer Erfolg oder gro√üer Misserfolg ist etwas, das interessant zu teilen ist. </font></font></blockquote><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mikhail Buylov, Mamba </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe ein Gleichnis. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ungef√§hr alle sechs Monate schauen wir uns die Metriken an und suchen, was langsamer wird, nicht gut funktioniert und was optimiert werden muss. </font><font style="vertical-align: inherit;">Einmal bemerkten wir unseren Symfony-Abh√§ngigkeitscontainer, der auf 52.000 Zeilen angewachsen war. </font><font style="vertical-align: inherit;">Wir entschieden, dass er, der Schurke, f√ºr alles verantwortlich war: 20 ms Overhead f√ºr jede Anfrage. </font><font style="vertical-align: inherit;">Wir haben es ges√§gt. </font><font style="vertical-align: inherit;">Wir haben es reduziert. </font><font style="vertical-align: inherit;">Wir haben irgendwie versucht, es zu trennen, aber nichts hat geholfen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und dann stellte sich heraus, dass wir Anti-Spam haben, das in 20 Datenbanken gehen muss, um alle erforderlichen Anforderungen zu erf√ºllen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die L√∂sungen, die zuerst kommen, sind nicht immer die richtigen. </font><font style="vertical-align: inherit;">Sehen Sie sich die Spuren, Protokolle und Benchmarks Ihrer Anforderungen besser an und brechen Sie nicht direkt ab. </font><font style="vertical-align: inherit;">Hier ist eine Geschichte.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pavel Murzakov, Badoo</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben ein ziemlich gro√ües √ñkosystem in PHP, daher f√ºhren wir regelm√§√üig Optimierungen durch. </font><font style="vertical-align: inherit;">Wir wachsen, wir erreichen ein gewisses Niveau in der CPU, wir verstehen, dass wir entweder Hardware kaufen oder optimieren m√ºssen. </font><font style="vertical-align: inherit;">W√§gen Sie die Argumente f√ºr und gegen jede Option ab und entscheiden Sie. </font><font style="vertical-align: inherit;">Meistens - zugunsten der Optimierung, weil Eisen viel braucht. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
An einem dieser Punkte haben wir eine ganze Gruppe identifiziert, die verschiedene nicht optimale Dinge in PHP-Skripten gesucht und optimiert hat. </font><font style="vertical-align: inherit;">Dies geschah buchst√§blich ‚ÄûTropfen f√ºr Tropfen‚Äú: Hier fanden sie einen Prozentsatz, dort fanden sie einen Prozentsatz - mehrere Personen fanden innerhalb eines Monats einen Prozentsatz. </font><font style="vertical-align: inherit;">Irgendwann war unser Sishnik in der N√§he</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">einstein_man</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Er beschloss zu sehen, was er tun konnte: Er ging abends, startete Perf, fand ein paar Probleme mit PHP-Erweiterungen - und beschleunigte alles an ein paar Abenden um 13%!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Semyon Kataev, Avito </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe zwei Geschichten. Einer √ºber die Datei, der andere √ºber den Superentwickler. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√úber den Fehler. Wir haben viele Microservices, einschlie√ülich PHP. Jeder arbeitet bei Kubernetes. Ich habe an einem dieser Microservices gearbeitet. Es gab eine erhebliche CPU-Auslastung: Sie verbrachten eine Woche damit, Probleme zu optimieren und zu finden. Es stellte sich heraus, dass einer der Entwickler Xdebug zu den Basis-Images hinzuf√ºgte, um Code-Coverage-Tests in seinem (anderen) Service zu berechnen. Danach arbeiteten alle Microservices in der Produktion ein Viertel lang mit Xdebug! Nach einem Viertel entdeckten wir diese grundlegenden Bilder - und fingen an, unerwartete Geschenke zu fangen: Ich rollte meinen Dienst neu und es begann schneller zu funktionieren. Bei jeder Bereitstellung wird unser Service-Image neu erstellt und jetzt ohne Xdebug.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Erfolgsgeschichte. Wir haben viele Microservices, und sie wurden immer mehr. In dieser Situation wird die Anzahl der RPC-Aufrufe zum Problem. Auf einer Ank√ºndigungskarte - und dies ist eine der h√§ufigsten Seiten in Avito - sind beispielsweise etwa 30 Microservices am Rendern einer Seite beteiligt. Dar√ºber hinaus wurde dies alles nicht sehr explizit durchgef√ºhrt: Es scheint, als w√ºrden Sie eine Art Abstraktion aufrufen, und darunter werden f√ºnf RPC-Aufrufe an andere Dienste nacheinander ausgef√ºhrt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Laufe der Jahre wurde die Ank√ºndigungskarte stark verschlechtert. </font><font style="vertical-align: inherit;">Ein starker Entwickler k√§mpfte um ein Viertel, optimierte und brachte alle RPC-Aufrufe heraus. </font><font style="vertical-align: inherit;">Als er dazu in der Lage war, parallelisierte er sie √ºber Guzzle Multi Request - und statt 30 aufeinanderfolgender synchroner Anfragen erhielt er dieselben 30 Anfragen, aber parallele, was die Arbeit erheblich beschleunigte. </font><font style="vertical-align: inherit;">Nach diesem Refactoring entspricht die Antwortzeit der Karte der maximalen Antwortzeit eines der Dienste. </font><font style="vertical-align: inherit;">Aber er brauchte ein ganzes Viertel, um den Anzeigecode der Ank√ºndigungskarte zu optimieren / umzuschreiben.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sagen Sie uns, wie gro√ü Ihr PHP-Cluster ist, wie er konfiguriert ist - zumindest PHP-FPM oder vielleicht irgendwo, wo Apache in Schwierigkeiten geraten ist?</font></font></blockquote><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mikhail Buylov, Mamba </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben ungef√§hr 15.000 RPS. </font><font style="vertical-align: inherit;">Ein Cluster von 80 FPM-Servern, die vor einigen Jahren gekauft wurden. </font><font style="vertical-align: inherit;">In jedem Cluster wird FPM (maximal 50 Kinder) in die Statik gestartet. </font><font style="vertical-align: inherit;">Es lud ungef√§hr zehn in der Spitze zur Hauptsendezeit. </font><font style="vertical-align: inherit;">Die durchschnittliche Reaktionszeit betr√§gt 100 ms und wir versuchen sie zu halten (wenn sie 100 ms √ºberschreitet, beginnen wir mit der Suche nach Bremsst√ºcken). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben ein eigenes Leistungs√ºberwachungssystem. </font><font style="vertical-align: inherit;">Wir haben viele Z√§hler im Code verteilt, ungef√§hr 120 pro Anfrage. </font><font style="vertical-align: inherit;">Wir √ºberwachen viele Ereignisse, die innerhalb des Codes in PHP auftreten.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pavel Murzakov, Badoo</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei uns ist alles Standard: Nginx, PHP-FPM. Ungef√§hr 600 Server mit FPM. Wenn Sie √ºberhaupt √ºber PHP sprechen m√∂chten, dann gibt es wahrscheinlich etwa 300 weitere Server f√ºr verschiedene Zwecke, wie z. B. Skript, Backoffice und andere. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Von den Konfigurationsfunktionen gibt es zwei. Erstens haben wir einen BMA-Proxy - dies ist ein Proxy f√ºr Mobilger√§te. Das hei√üt, bevor eine Anforderung in nginx eintrifft, gelangt sie zu einem speziellen Proxy, der eine dauerhafte Verbindung h√§lt, und sendet Anforderungen an nginx. Die zweite Funktion - manchmal m√ºssen Sie den CLI-Opcache deaktivieren (wir haben ihn auf Skriptmaschinen aktiviert). Einmal haben wir es nicht ausgeschaltet und dabei 30% der CPU verloren. Nachdem sie ihren Fehler erkannt hatten, waren sie √ºberrascht, wie viel Sie mit einer Einstellung sparen k√∂nnen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben PHP-Patches, aber sie h√§ngen fast nicht mit der Leistung zusammen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt einen Punkt mit der wettbewerbsf√§higen APCu-Sperre - wenn Sie viel auf denselben Schl√ºssel schreiben m√ºssen. </font><font style="vertical-align: inherit;">Die interne Architektur von APCu ist so aufgebaut, dass es eine globale Tastensperre gibt und w√§hrend der intensiven Aufzeichnung die Bremsen beginnen. </font><font style="vertical-align: inherit;">Daher haben wir dort eine benutzerdefinierte Erweiterung, die dieses Problem l√∂st. </font><font style="vertical-align: inherit;">Dies bezieht sich nur teilweise auf die Leistung, da es die Antwortzeit beeinflusst, nicht jedoch den CPU-Verbrauch.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Semyon Kataev, Avito </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben ungef√§hr 2 Millionen Anfragen pro Minute (~ 33 kRPS). </font><font style="vertical-align: inherit;">Eine in PHP geschriebene monolithische Anwendung wurde √ºber 11 Jahre lang geschrieben. </font><font style="vertical-align: inherit;">Es befindet sich in einer Phase schnellen Wachstums. </font><font style="vertical-align: inherit;">Als das Unternehmen anfing, befanden sich 65 LXCs auf 65 physischen Servern. </font><font style="vertical-align: inherit;">Auf jedem Container mit der Anwendung werden PHP-FPM, Nginx und Hilfssoftware f√ºr Metriken und Protokollierung ausgef√ºhrt. </font><font style="vertical-align: inherit;">Nichts Besonderes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Laufe der Jahre haben wir noch nie Eisen f√ºr einen Monolithen hinzugef√ºgt. </font><font style="vertical-align: inherit;">Wir erh√∂hen die Besucherzahlen, die Anzahl der Anzeigen und die Anzahl der Nutzertransaktionen und optimieren st√§ndig, verbessern den Code und optimieren die Software. </font><font style="vertical-align: inherit;">Der CPU- und Speicherverbrauch ist in den letzten Jahren gesunken: 65 Container f√ºr einen Monolithen reichen uns jetzt.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie messen Sie die Leistung? </font><font style="vertical-align: inherit;">Mit welchem ‚Äã‚ÄãTool messen Sie die Antwortzeit des Kunden?</font></font></blockquote><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mikhail Buylov, Mamba</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben ein Protokollsammelsystem. </font><font style="vertical-align: inherit;">Es werden zwei Indikatoren protokolliert - die Zeit vom Start des FPM bis zum Herunterfahren und bis zum Ende des Skripts. </font><font style="vertical-align: inherit;">Die zweite Metrik wird ben√∂tigt, um zu sehen, was nach dem Herunterfahren passiert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir messen JS. </font><font style="vertical-align: inherit;">Dies ist in der Tat eine mittelm√§√üige Metrik, Netzwerkkan√§le werden sehr oft verletzt. </font><font style="vertical-align: inherit;">Infolgedessen beginnt das Laden irgendwo im russischen Outback zu stumpfen. </font><font style="vertical-align: inherit;">Deshalb sehen wir so aus: "Oh, gesprungen - es bedeutet, dass irgendwo etwas abgefallen ist." </font><font style="vertical-align: inherit;">Au√üerdem verzerrt Werbung von Drittanbietern die Metrik erheblich. </font><font style="vertical-align: inherit;">Und vor allem kommen Spammer, und dies ist im Allgemeinen eine Art Zuf√§lligkeit.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Semyon Kataev, Avito</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√úbrigens haben wir </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pinba</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> von Badoo </font><font style="vertical-align: inherit;">sehr aktiv eingesetzt </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Ich mag sie jetzt. </font><font style="vertical-align: inherit;">Die meisten Metriken wurden von ihm gesammelt, dann aber auf das StatsD-Protokoll umgestellt. </font><font style="vertical-align: inherit;">Jetzt nehmen wir Messungen von verschiedenen Punkten aus vor: von vorne, von den Servern vor der Anwendung, von Nginx und von der PHP-Anwendung selbst. </font><font style="vertical-align: inherit;">Wir haben ein engagiertes Leistungsteam. </font><font style="vertical-align: inherit;">Sie begann mit der Leistung der Front, wechselte dann aber zum Backing. </font><font style="vertical-align: inherit;">Von vorne erfasst es nicht nur JS, CSS und andere Statiken, sondern gleichzeitig auch die Serverantwortzeit. </font><font style="vertical-align: inherit;">Zun√§chst konzentrieren wir uns auf die Reaktionszeit der Anwendung.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pavel Murzakov, Badoo</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alles ist √§hnlich wie die Jungs uns erz√§hlt haben. </font><font style="vertical-align: inherit;">Mit dem klassischen Pinba f√ºr PHP messen wir die Laufzeit eines PHP-Skripts in Bezug auf PHP. </font><font style="vertical-align: inherit;">Wir haben aber zum Beispiel auch Pinba f√ºr Nginx, das die Reaktionszeit aus Sicht von Nginx misst. </font><font style="vertical-align: inherit;">Wir sammeln auch Metriken auf dem Client. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was schauen wir uns an? </font><font style="vertical-align: inherit;">Einerseits die Reaktionszeit. </font><font style="vertical-align: inherit;">Es hat nichts mit Ressourcenplanung zu tun. </font><font style="vertical-align: inherit;">Wenn es schlecht ist, muss es verbessert werden, weil es in der Tat die Qualit√§t des Service ist. </font><font style="vertical-align: inherit;">Eine andere Sache ist, dass Sie das Eisen irgendwie planen m√ºssen. </font><font style="vertical-align: inherit;">Unsere ITOps und √úberwachungsteams √ºberwachen die gesamte Hardware. </font><font style="vertical-align: inherit;">Es gibt einige Balken im Netzwerk auf der Festplatte. </font><font style="vertical-align: inherit;">Es gibt einige Werte, nach denen die Warnung auftritt - und wir tun etwas. </font><font style="vertical-align: inherit;">Wie die Praxis gezeigt hat, optimieren wir normalerweise f√ºr die CPU: Wir sto√üen darauf.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Semyon Kataev, Avito </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei uns misst sich die PHP-Anwendung selbst und wirft in register_shutdown_function () Metriken aus. </font><font style="vertical-align: inherit;">Jeder LXC verf√ºgt √ºber einen StatsD-Server, der diese Metriken sammelt und √ºber die Kollektoren an den Graphite-Cluster (einschlie√ülich ClickHouse) sendet, wo die Daten gespeichert werden. </font><font style="vertical-align: inherit;">Dies ist eine Selbstdiagnose. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auf jedem Beh√§lter befindet sich auch Nginx, d. H. Nginx + PHP-FPM. </font><font style="vertical-align: inherit;">Mit nginx erfassen wir externe Metriken, die sich auf die Laufzeit einer PHP-Anwendung beziehen. </font><font style="vertical-align: inherit;">Sie sind auch mit separaten Servern (wir nennen sie avi-http) nginx konfrontiert, die ein grundlegendes Routing durchf√ºhren, das auch √ºbergeordnete Metriken wie die Antwortzeit, die Anzahl von 500 Antwortcodes und andere erfasst.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Welche Tools haben Sie f√ºr einen Performance-Track? </font><font style="vertical-align: inherit;">Was benutzt du am h√§ufigsten?</font></font></blockquote><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mikhail Buylov, Mamba </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben unser eigenes Tool geschrieben. Als Pinba gerade herauskam - 2012, vor sehr langer Zeit - war es ein Modul f√ºr MySQL, das so etwas √ºber UDP erhalten hat. Es war schwierig, die Grafiken herauszunehmen, da sie nicht sehr leistungsoptimiert waren. Und wir haben uns nichts Besseres ausgedacht, als unser eigenes Ding namens Better Than Pinba zu schreiben. Es ist nur ein Z√§hlerserver, der sie von einem PHP-Client akzeptiert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben viele Timer im Code verstreut: Jedes Mal, wenn wir etwas messen m√∂chten, setzen wir den Start und Stopp des Timers im Code. Das Modul selbst berechnet die Z√§hlerlaufzeit, fasst die akkumulierten Z√§hler zu einem Paket zusammen und sendet sie an den D√§mon. Die Schnittstelle selbst extrahiert alles, was Sie ben√∂tigen, und erstellt verbundene Diagramme auf dem gew√ºnschten Z√§hler.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eines der Probleme von Pinba war das Fehlen einer eigenen Schnittstelle - es war notwendig, Daten an RRD zu √ºbertragen (dann gab es eine solche Dunkelheit). </font><font style="vertical-align: inherit;">Deshalb haben wir unsere eigene Oberfl√§che geschrieben. </font><font style="vertical-align: inherit;">Jedes Mal, wenn wir sehen, was gesprungen ist, k√∂nnen wir das Skript installieren. </font><font style="vertical-align: inherit;">Im Skript werden alle aggregierten Z√§hler an uns gesendet, die an uns gesendet werden. </font><font style="vertical-align: inherit;">Wir k√∂nnen sehen, wo welcher Z√§hler gewachsen ist, oder die Antwortzeit am Z√§hler hat sich erh√∂ht oder die Anzahl der Z√§hler hat sich erh√∂ht. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es kann gesehen werden, wenn die Leistung sinkt. </font><font style="vertical-align: inherit;">Wir fangen an, auf diese Weise zu graben. </font><font style="vertical-align: inherit;">Vor PHP 7 haben wir XHProf verwendet, dann hat es aufgeh√∂rt, mit uns zu bauen. </font><font style="vertical-align: inherit;">Deshalb haben wir auf Xdebug umgestellt. </font><font style="vertical-align: inherit;">Xdebug stupsen wir nur, wenn das Problem sichtbar ist.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pavel Murzakov, Badoo</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies ist eine verbreitete √úberzeugung, dass XHProf nicht in PHP 7 erstellt wird. </font><font style="vertical-align: inherit;">Dies ist wahr, aber nur teilweise. </font><font style="vertical-align: inherit;">Wenn Sie XHProf aus dem Assistenten nehmen, wird dies wirklich nicht der Fall sein. </font><font style="vertical-align: inherit;">Aber wenn Sie auf GitHub zu einem Zweig namens Experimental (oder so √§hnlich) wechseln, funktioniert alles gut f√ºr PHP 7, produktionsbereit. </font><font style="vertical-align: inherit;">√úberpr√ºft.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mikhail Buylov, Mamba</font></font></h3> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nein, ich habe gewechselt. </font><font style="vertical-align: inherit;">Bei mir hat es nicht funktioniert.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pavel Murzakov, Badoo</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich m√∂chte √ºber Pinba hinzuf√ºgen. </font><font style="vertical-align: inherit;">Sie sind bis zu einem gewissen Grad Propheten geworden. </font><font style="vertical-align: inherit;">Auch wir haben irgendwann an Produktivit√§t verloren. </font><font style="vertical-align: inherit;">Wir haben </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pinba2 gemacht</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , was sehr schnell ist. </font><font style="vertical-align: inherit;">Es kann als Ersatz f√ºr Pinba verwendet werden.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Semyon Kataev, Avito </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei uns ist alles bescheiden. </font><font style="vertical-align: inherit;">Wir haben nur die Richtung der Leistung in die Arbeit einbezogen: Wir sammeln Metriken wie die Antwortzeit. </font><font style="vertical-align: inherit;">Wir verwenden StatsD. </font><font style="vertical-align: inherit;">Wir verwenden noch keine regelm√§√üigen Profiler, aber ich wei√ü mit Sicherheit, dass einige Teams sie in ihren in PHP geschriebenen Microservices verwenden. </font><font style="vertical-align: inherit;">Meiner Meinung nach gibt sogar jemand New Relic weiter. </font><font style="vertical-align: inherit;">Aber im Kontext der monolithischen Hauptanwendung n√§hern wir uns bisher nur diesem.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pavel Murzakov, Badoo</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Eisengeschichte wird in Grafana, Zabbix, √ºberwacht. </font><font style="vertical-align: inherit;">Was den PHP-Teil betrifft, haben wir Pinba, wir haben eine Reihe von Timern; </font><font style="vertical-align: inherit;">Wir bauen praktische Grafiken darauf. </font><font style="vertical-align: inherit;">Wir verwenden XHProf, in der Produktion fahren wir es f√ºr einen Teil der Anfragen. </font><font style="vertical-align: inherit;">Wir haben immer frische XHProf-Profile zur Verf√ºgung. </font><font style="vertical-align: inherit;">Wir haben liveprof: Dies ist unser Tool, das Sie lesen k√∂nnen, auch </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in meinem Artikel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Es passiert alles automatisch, man muss nur zuschauen. </font><font style="vertical-align: inherit;">Wir benutzen phpspy. </font><font style="vertical-align: inherit;">Bei uns f√§ngt es nicht immer an: Wenn jemand etwas sehen will, steigt er ins Auto, nimmt sein Profil ab. </font><font style="vertical-align: inherit;">Grunds√§tzlich wie bei Perf.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Semyon Kataev, Avito </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
XHProf hat die gleiche Geschichte. </font><font style="vertical-align: inherit;">Wir haben es vor langer Zeit einmal benutzt: Es war eine pers√∂nliche Initiative einiger Entwickler und hat sich tats√§chlich nicht durchgesetzt. </font><font style="vertical-align: inherit;">Er h√∂rte auf zu sammeln. </font><font style="vertical-align: inherit;">Wir sammeln eine Reihe von Metriken aus Anrufen von Routern, Controllern und verschiedenen Modellen. </font><font style="vertical-align: inherit;">Etwa 60‚Äì70% des internen Netzwerks des Rechenzentrums sind mit UDP-Paketen mit Metriken belegt. </font><font style="vertical-align: inherit;">Im Moment reicht uns das. </font><font style="vertical-align: inherit;">Jetzt werden wir nach neuen Orten f√ºr die Optimierung suchen.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seit wir den Punkt des Eisens erreicht haben: Ist jemand in Ihrem Unternehmen systematisch mit der Kapazit√§tsplanung besch√§ftigt? </font><font style="vertical-align: inherit;">Wie ist dieser Prozess aufgebaut?</font></font></blockquote><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Semyon Kataev, Avito </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine monolithische Anwendung l√§uft mindestens f√ºnf Jahre lang mit mindestens 65 LXC. </font><font style="vertical-align: inherit;">Wir optimieren den Code, verbessern ihn: Er verf√ºgt √ºber gen√ºgend Ressourcen. </font><font style="vertical-align: inherit;">Unsere Hauptkapazit√§tsplanung geht an Kubernetes, wo ungef√§hr 400 mehr oder weniger lebende Microservices in PHP / Go geschrieben sind. </font><font style="vertical-align: inherit;">Wir schneiden langsam St√ºcke aus dem Monolithen, aber er w√§chst immer noch. </font><font style="vertical-align: inherit;">Wir k√∂nnen ihn nicht aufhalten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Allgemeinen ist PHP eine coole Sprache. </font><font style="vertical-align: inherit;">Es implementiert schnell Gesch√§ftslogik.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pavel Murzakov, Badoo</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zun√§chst stellen ITOps und √úberwachungsteams sicher, dass gen√ºgend Ressourcen vorhanden sind. </font><font style="vertical-align: inherit;">Wenn wir uns dem Schwellenwert n√§hern, bemerken dies die Kollegen. </font><font style="vertical-align: inherit;">Sie sind wahrscheinlich haupts√§chlich f√ºr die globale Kapazit√§tsplanung verantwortlich. </font><font style="vertical-align: inherit;">Der PHP-Teil hat die Haupt-CPU-Ressource, daher folgen wir ihm selbst. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir setzen uns selbst Ma√üst√§be: Wir sollten nicht mehr als 60% des Clusters "essen". </font><font style="vertical-align: inherit;">60% und nicht 95%, weil wir Hypertreading haben, das zus√§tzlich mehr aus dem Prozessor herausdr√ºckt, als Sie ohne es herausdr√ºcken k√∂nnen. </font><font style="vertical-align: inherit;">Daf√ºr zahlen wir daf√ºr, dass wir nach 50% unseres CPU-Verbrauchs auf unvorhersehbare Weise wachsen k√∂nnen, weil hyperlesende Kernel nicht ganz ehrlich sind.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mikhail Buylov, Mamba </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir f√ºhren eine Bereitstellung durch und stellen fest, dass bei uns etwas fehlgeschlagen ist - eine solche Kapazit√§tsplanung. </font><font style="vertical-align: inherit;">Mit dem Auge! </font><font style="vertical-align: inherit;">Wir haben einen gewissen Produktivit√§tsspielraum, der uns dies erm√∂glicht. </font><font style="vertical-align: inherit;">Wir versuchen dabei zu bleiben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dar√ºber hinaus f√ºhren wir eine Post-Factum-Optimierung durch. </font><font style="vertical-align: inherit;">Wenn wir sehen, dass etwas abgefallen ist, rollen wir zur√ºck, wenn alles v√∂llig schlecht ist. </font><font style="vertical-align: inherit;">Das passiert aber praktisch nicht. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oder wir sehen nur, dass "hier nicht optimal ist, jetzt werden wir schnell alles reparieren und alles wird so funktionieren, wie es sollte." </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir k√ºmmern uns nicht besonders darum: Es ist sehr schwierig und der Auspuff wird nicht sehr gro√ü sein.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sie sprechen von Microservices. </font><font style="vertical-align: inherit;">Wie interagieren sie? </font><font style="vertical-align: inherit;">Ist es REST oder verwenden Sie bin√§re Protokolle?</font></font></blockquote><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Semyon Kataev, Avito </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kafka wird verwendet, um Ereignisse zwischen Diensten zu senden. JSON-RPC wird verwendet, um die Interaktion zwischen Diensten sicherzustellen, jedoch nicht vollst√§ndig, sondern die vereinfachte Version, die wir nicht loswerden k√∂nnen. </font><font style="vertical-align: inherit;">Es gibt schnellere Implementierungen: das gleiche Protokoll, gRPC. </font><font style="vertical-align: inherit;">Dies ist in unseren Pl√§nen, aber sicherlich keine Priorit√§t. </font><font style="vertical-align: inherit;">Bei √ºber 400 Microservices ist es schwierig, alle auf das neue Protokoll zu portieren. </font><font style="vertical-align: inherit;">Es gibt unz√§hlige andere Orte, die optimiert werden m√ºssen. </font><font style="vertical-align: inherit;">Wir sind jetzt definitiv nicht in der Lage.</font></font><br>
 <br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pavel Murzakov, Badoo</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir als solche haben keine Microservices. </font><font style="vertical-align: inherit;">Es gibt Dienste, es gibt auch Kafka, ein eigenes Protokoll √ºber Google Protobuf. </font><font style="vertical-align: inherit;">Wahrscheinlich w√ºrden wir gRPC verwenden, weil es cool ist, alle Sprachen unterst√ºtzt und sehr einfach verschiedene Teile binden kann. </font><font style="vertical-align: inherit;">Aber als wir es brauchten, war gRPC noch nicht da. </font><font style="vertical-align: inherit;">Aber es gab einen Protobuf, und wir haben ihn genommen. </font><font style="vertical-align: inherit;">Dar√ºber hinaus wurden verschiedene Dinge hinzugef√ºgt, so dass es sich nicht nur um eine Serialisierung, sondern um ein vollst√§ndiges Protokoll handelte.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mikhail Buylov, Mamba</font></font></h3> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben auch keine Microservices. </font><font style="vertical-align: inherit;">Es gibt Dienste, die haupts√§chlich in C geschrieben sind. Wir verwenden JSON-RPC, weil es praktisch ist. </font><font style="vertical-align: inherit;">Sie haben gerade den Socket ge√∂ffnet, als Sie Ihren Code debuggen, und schnell geschrieben, was Sie wollten. </font><font style="vertical-align: inherit;">Etwas ist zu dir zur√ºckgekehrt. </font><font style="vertical-align: inherit;">Protobuf ist schwieriger, da Sie einige zus√§tzliche Tools verwenden m√ºssen. </font><font style="vertical-align: inherit;">Es gibt einen kleinen Overhead, aber wir glauben, dass Sie f√ºr die Bequemlichkeit bezahlen m√ºssen, und dies ist kein gro√üer Preis.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sie haben riesige Datenbanken. </font><font style="vertical-align: inherit;">Wie machen Sie es, wenn Sie die Schaltung in einem von ihnen √§ndern m√ºssen? </font><font style="vertical-align: inherit;">Irgendeine Art von Migrationen? </font><font style="vertical-align: inherit;">Wie wirkt sich dies auf die Leistung aus, wenn diese Migrationen mehrere Tage dauern?</font></font></blockquote><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mikhail Buylov, Mamba </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben gro√üe Tische, monolithisch. </font><font style="vertical-align: inherit;">Es gibt eine Scherbe. </font><font style="vertical-align: inherit;">Die Scherbe √§ndert sich ziemlich schnell, weil es viele parallele √Ñnderungen gleichzeitig gibt. </font><font style="vertical-align: inherit;">Ein gro√üer Tisch mit Profilen √§nderte sich etwa drei Stunden. </font><font style="vertical-align: inherit;">Wir verwenden Perkonovskie-Tools, die nicht gelesen und geschrieben werden k√∂nnen. </font><font style="vertical-align: inherit;">Dar√ºber hinaus stellen wir √Ñnderungen bereit, sodass der Code beide Status unterst√ºtzt. </font><font style="vertical-align: inherit;">Nach der √Ñnderung stellen wir auch bereit: Die Bereitstellung ist schneller als das Anwenden von Schemata.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pavel Murzakov, Badoo</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben den gr√∂√üten Speicher (wir nennen es "Spots") - dies ist eine riesige Sharded-Datenbank. </font><font style="vertical-align: inherit;">Wenn wir die "Benutzer" -Tabelle nehmen, dann hat sie viele Scherben. </font><font style="vertical-align: inherit;">Ich werde Ihnen nicht genau sagen, wie viele Tabellen sich auf einem Server befinden werden. Die Idee ist, dass es viele kleine Tabellen gibt. </font><font style="vertical-align: inherit;">Wenn wir die Schaltung √§ndern, nehmen wir tats√§chlich nur eine √Ñnderung vor. </font><font style="vertical-align: inherit;">Auf jedem kleinen Tisch geht es schnell. </font><font style="vertical-align: inherit;">Es gibt andere Repositories - es gibt bereits andere Ans√§tze. </font><font style="vertical-align: inherit;">Wenn es eine riesige Basis gibt, gibt es perkonische Werkzeuge. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Allgemeinen verwenden wir je nach Bedarf unterschiedliche Dinge. </font><font style="vertical-align: inherit;">Die h√§ufigste √Ñnderung ist eine √Ñnderung dieser riesigen Basis aus Splittern, in der wir bereits einen Prozess aufgebaut haben. </font><font style="vertical-align: inherit;">Es funktioniert alles sehr einfach.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Semyon Kataev, Avito</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieselbe monolithische Anwendung, die den gr√∂√üten Teil des Datenverkehrs bedient, wird f√ºnf- bis sechsmal t√§glich bereitgestellt. </font><font style="vertical-align: inherit;">Fast alle zwei Stunden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In Bezug auf die Arbeit mit der Datenbank ist dies ein separates Problem. </font><font style="vertical-align: inherit;">Es gibt Migrationen, sie rollen automatisch. </font><font style="vertical-align: inherit;">Dies ist eine DBA-√úberpr√ºfung. </font><font style="vertical-align: inherit;">Es besteht die M√∂glichkeit, die Migration zu √ºberspringen und manuell zu rollen. </font><font style="vertical-align: inherit;">Die Migration wird beim Testen von Code automatisch in die Bereitstellung √ºbernommen. </font><font style="vertical-align: inherit;">Wenn es in der Produktion jedoch eine zweifelhafte Migration gibt, die eine Reihe von Ressourcen beansprucht, startet der DBA sie manuell.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Code sollte so sein, dass er mit den alten und neuen Datenbankstrukturen funktioniert. </font><font style="vertical-align: inherit;">Wir f√ºhren h√§ufig mehrere Reisen durch, um Funktionen bereitzustellen. </font><font style="vertical-align: inherit;">F√ºr zwei oder drei Roll-Outs ist es m√∂glich, den gew√ºnschten Zustand zu erhalten. </font><font style="vertical-align: inherit;">Ebenso gibt es riesige Datenbanken, Sharded-Datenbanken. </font><font style="vertical-align: inherit;">Wenn wir f√ºr alle Microservices z√§hlen, gibt es definitiv 100-150 Bereitstellungen pro Tag.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich w√ºrde gerne wissen, wie hoch die Standard-Backend-Antwortzeit f√ºr Sie ist, der Sie folgen. </font><font style="vertical-align: inherit;">Wann verstehen Sie, was Sie zur weiteren Optimierung ben√∂tigen, oder wann ist die Zeit bis zum Abschluss? </font><font style="vertical-align: inherit;">Gibt es einen ‚ÄûKrankenhausdurchschnitt‚Äú?</font></font></blockquote><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pavel Murzakov, Badoo</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nein. </font><font style="vertical-align: inherit;">H√§ngt vom Endpunkt ab. </font><font style="vertical-align: inherit;">Wir betrachten alles separat. </font><font style="vertical-align: inherit;">Ich versuche zu verstehen, wie kritisch das ist. </font><font style="vertical-align: inherit;">Einige Endpunkte werden im Allgemeinen im Hintergrund angefordert. </font><font style="vertical-align: inherit;">Dies hat keinerlei Auswirkungen auf den Benutzer, selbst wenn die Antwortzeit 20 s betr√§gt. </font><font style="vertical-align: inherit;">Dies wird im Hintergrund passieren, es gibt keinen Unterschied. </font><font style="vertical-align: inherit;">Die Hauptsache ist, dass einige wichtige Dinge schnell erledigt werden. </font><font style="vertical-align: inherit;">Vielleicht sind 200 ms noch in Ordnung, aber ein kleiner Anstieg ist schon wichtig.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mikhail Buylov, Mamba </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir wechseln vom HTML-Rendering zu API-Anfragen. </font><font style="vertical-align: inherit;">Tats√§chlich reagiert die API hier viel schneller als die gro√üe, schwere HTML-Antwort. </font><font style="vertical-align: inherit;">Daher ist es schwierig, beispielsweise einen Wert von 100 ms zu unterscheiden. </font><font style="vertical-align: inherit;">Wir haben uns auf 200 ms konzentriert. </font><font style="vertical-align: inherit;">Dann passierte PHP 7 - und wir begannen uns auf 100 ms zu konzentrieren. </font><font style="vertical-align: inherit;">Dies ist der "Durchschnitt f√ºr das Krankenhaus". </font><font style="vertical-align: inherit;">Dies ist eine sehr vage Metrik, die darauf hindeutet, dass es Zeit ist, zumindest dort nachzuschauen. </font><font style="vertical-align: inherit;">Deshalb konzentrieren wir uns eher auf die Bereitstellung und √ºberspringen die Reaktionszeit danach.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Semyon Kataev, Avito</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben eine Skizze eines der Leistungsteams gemacht. Die Kollegen haben gemessen, wie viel mehr ein Unternehmen verdient, indem es das Laden von Seiten in verschiedenen Szenarien beschleunigt. Wir haben berechnet, wie viel mehr K√§ufer, Transaktionen, Anrufe, √úberg√§nge usw. stattfinden. Nach diesen Daten kann verstanden werden, dass die Beschleunigung irgendwann keinen Sinn mehr ergibt. Wenn beispielsweise die Antwortzeit einer der Seiten von 90 ms auf 70 ms beschleunigt wurde, ergab dies + 2% der K√§ufer. Und wenn Sie von 70 ms auf 60 ms beschleunigen, gibt es bereits plus 0,1% der K√§ufer, was im Allgemeinen im Fehler enthalten ist. Genau wie bei den Jungs h√§ngt alles stark von der Seite ab, mit der wir arbeiten. Im Allgemeinen Avito 75. Perzentil - etwa 75 ms. Meiner Meinung nach ist das langsam. Wir suchen jetzt nach Orten zur Optimierung. Vor dem √úbergang zu Microservices ging f√ºr uns alles viel schneller und wir versuchen, die Leistung zu optimieren.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/5j/tw/ig/5jtwigxel1bcp3pbmmvhdxdslhu.jpeg"><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Und die ewige Frage: Eisen oder Optimierung? </font><font style="vertical-align: inherit;">Wie kann man verstehen, ob es sich lohnt, Hardware zu kaufen, oder ob es besser ist, in die Optimierung zu investieren? </font><font style="vertical-align: inherit;">Wo ist die Grenze?</font></font></blockquote><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Semyon Kataev, Avito</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Meine Meinung: Ein echter Programmierer ist die Optimierung. </font><font style="vertical-align: inherit;">Es scheint mir, dass es in gro√üen Unternehmen wie Badoo, Mine, Yandex viele Entwickler auf verschiedenen Ebenen gibt. </font><font style="vertical-align: inherit;">Es gibt sowohl Nachwuchsentwickler / Praktikanten als auch f√ºhrende Entwickler. </font><font style="vertical-align: inherit;">Es scheint mir, dass die Anzahl der Stellen f√ºr die Optimierung / √úberarbeitung dort immer hinzugef√ºgt wird. </font><font style="vertical-align: inherit;">Eisen ist der letzte Schritt. </font><font style="vertical-align: inherit;">F√ºr einen Monolithen auf 65 LXC haben wir lange Zeit kein Eisen hinzugef√ºgt. </font><font style="vertical-align: inherit;">CPU-Auslastung - 20%. </font><font style="vertical-align: inherit;">Wir denken bereits dar√ºber nach, sie in den Kubernetes-Cluster zu √ºbertragen.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pavel Murzakov, Badoo</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich mag die Position von Semyon sehr. Aber ich habe einen v√∂llig entgegengesetzten Standpunkt. Zuerst w√ºrde ich mir das Eisen ansehen. Kann man Eisen fallen lassen und ist es billiger? Wenn ja, ist es einfacher, das Problem mit Eisen zu l√∂sen. Der Entwickler kann etwas anderes tun, das zu diesem Zeitpunkt n√ºtzlich ist. Entwicklerzeit kostet Geld. Eisen kostet auch Geld, also m√ºssen Sie vergleichen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Welche davon wichtiger ist, ist unklar. Wenn beide gleich viel kosten, gewinnt die Hardware, da der Entwickler zu diesem Zeitpunkt etwas tun kann. Insbesondere in Bezug auf das PHP-Backend k√∂nnen wir dies nicht tun. Optimierung kostet uns viel billiger als der Kauf von Eisen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√úber zu stoppen. </font><font style="vertical-align: inherit;">In Bezug auf die Planung haben wir eine Art Bar. </font><font style="vertical-align: inherit;">Wenn wir den CPU-Verbrauch darunter senken, h√∂ren wir auf. </font><font style="vertical-align: inherit;">Zum anderen gibt es auch die Servicequalit√§t. </font><font style="vertical-align: inherit;">Wenn wir feststellen, dass die Reaktionszeit nicht zu uns passt, m√ºssen wir optimieren.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mikhail Buylov, Mamba </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mir scheint, dass alles von der Gr√∂√üe des Teams und des Projekts abh√§ngt. </font><font style="vertical-align: inherit;">Je kleiner das Projekt ist, desto einfacher ist es, Hardware zu kaufen, da das Gehalt des Entwicklers konstant ist und der Code, der funktioniert, die Benutzer, die damit arbeiten, sehr unterschiedlich sind. </font><font style="vertical-align: inherit;">Wenn es nur wenige Benutzer gibt, ist es einfacher, Hardware zu kaufen und den Entwickler mit der Entwicklung des Projekts zu beauftragen. </font><font style="vertical-align: inherit;">Wenn es viele Benutzer gibt, kann ein Entwickler den gr√∂√üten Teil der Serverkosten kompensieren.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Semyon Kataev, Avito </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alles h√§ngt wirklich von der Gr√∂√üe ab. </font><font style="vertical-align: inherit;">Wenn Sie √ºber tausend Server verf√ºgen und die Optimierung dazu f√ºhrt, dass Sie keine weiteren tausend Server ben√∂tigen, ist eine Optimierung eindeutig besser. </font><font style="vertical-align: inherit;">Wenn Sie einen Server haben, k√∂nnen Sie sicher zwei oder drei weitere Server kaufen und bei der Optimierung punkten. </font><font style="vertical-align: inherit;">Wenn der Befehl klein ist, starten Sie den Kauf der Server. </font><font style="vertical-align: inherit;">Wenn das Team gro√ü ist und Sie zwei oder drei Rechenzentren haben, ist der Kauf von sechs Rechenzentren bereits nicht so billig und nicht so schnell.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Da wir ein PHP-Mitap haben, sollte dieser Satz klingen: Warum brauchen wir PHP, da wir st√§ndig solche Probleme haben? </font><font style="vertical-align: inherit;">Lassen Sie uns Go, C, C #, Rust, Node.js umschreiben! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Halten Sie den Ansatz des Umschreibens im Allgemeinen f√ºr gerechtfertigt? </font><font style="vertical-align: inherit;">Gibt es Probleme, f√ºr deren L√∂sung es sich lohnt, dies zu tun und zu investieren?</font></font></blockquote><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Semyon Kataev, Avito</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Allgemeinen ist PHP eine sehr gute Sprache. Es erm√∂glicht Ihnen wirklich, gesch√§ftliche Probleme zu l√∂sen. Er ist schnell genug. Alle Leistungsprobleme sind Probleme mit Fehlern, Fehlern und altem Code (eine Art unterbewerteter Code, suboptimale Dinge, die auf die gleiche Weise in einer anderen Sprache aufgenommen worden w√§ren). Wenn Sie sie roh nach Golang, Java, Python portieren, erhalten Sie die gleiche Leistung. Das ganze Problem ist, dass es viel Verm√§chtnis gibt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Einf√ºhrung einer neuen Sprache ist meiner Meinung nach sinnvoll, um den Stapel und die Besch√§ftigungsm√∂glichkeiten zu erweitern. Jetzt ist es schwierig genug, gute PHP-Entwickler zu finden. Wenn wir Golang in den Techradar einf√ºhren, k√∂nnen wir Gophers einstellen. Es gibt nur wenige PHP-Shniks und wenige Gophers auf dem Markt, und zusammen gibt es bereits viele davon. Zum Beispiel hatten wir ein Experiment. Wir haben C # -Entwickler mitgenommen, die bereit sind, neue Sprachen zu lernen - wir haben einfach den Einstellungsstapel erweitert. Wenn wir den Leuten sagen, dass wir ihnen das Schreiben in PHP beibringen, sagen sie, dass es besser ist, dies nicht zu tun. Und wenn wir ihnen anbieten, das Schreiben in PHP zu lernen, gehen Sie und versprechen Sie trotzdem die M√∂glichkeit, in Python zu schreiben, dann sind die Leute eher bereit zu antworten. F√ºr mich ist dies eine Erweiterung der Besch√§ftigungsm√∂glichkeiten. In anderen Sprachen fehlen einige Dinge in PHP wirklich. Im Allgemeinen reicht PHP jedoch hervorragend aus, um gesch√§ftliche Probleme zu l√∂sen und gro√üe Projekte zu implementieren.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pavel Murzakov, Badoo</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich stimme Semyon wahrscheinlich vollkommen zu. </font><font style="vertical-align: inherit;">Das Umschreiben macht einfach keinen Sinn. </font><font style="vertical-align: inherit;">PHP ist eine ziemlich produktive Sprache. </font><font style="vertical-align: inherit;">Wenn Sie es mit anderen nicht kompilierten Skriptsprachen vergleichen, ist es wahrscheinlich fast die schnellste. </font><font style="vertical-align: inherit;">In einige Sprachen wie Go und andere umschreiben? </font><font style="vertical-align: inherit;">Dies sind andere Sprachen, sie haben andere Probleme. </font><font style="vertical-align: inherit;">Es ist noch schwieriger, dar√ºber zu schreiben: nicht so schnell und es gibt viele Nuancen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Trotzdem gibt es Dinge, die in PHP entweder schwierig oder unpraktisch zu schreiben sind. </font><font style="vertical-align: inherit;">Einige Dinge mit mehreren Prozessen und mehreren Threads lassen sich besser in einer anderen Sprache schreiben. </font><font style="vertical-align: inherit;">Ein Beispiel f√ºr eine Aufgabe, bei der die Nichtverwendung von PHP gerechtfertigt ist, ist im Prinzip jeder Speicher. </font><font style="vertical-align: inherit;">Wenn dies ein Dienst ist, der viel im Speicher speichert, ist PHP wahrscheinlich nicht die beste Sprache, da es aufgrund der dynamischen Typisierung einen sehr gro√üen Speicheraufwand hat. </font><font style="vertical-align: inherit;">Es stellt sich heraus, dass Sie ein 4-Byte-Int speichern und 50 Bytes verbraucht werden. </font><font style="vertical-align: inherit;">Nat√ºrlich √ºbertreibe ich, aber dieser Aufwand ist immer noch sehr gro√ü. </font><font style="vertical-align: inherit;">Wenn Sie √ºber eine Art Speicher verf√ºgen, ist es besser, ihn in einer anderen kompilierten Sprache mit statischer Typisierung zu schreiben. </font><font style="vertical-align: inherit;">Genau wie einige Dinge, die eine Multithread-Ausf√ºhrung erfordern.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mikhail Buylov, Mamba </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Warum wird PHP nicht als sehr schnell angesehen? Weil es dynamisch ist. Die Go-√úbersetzung ist eine L√∂sung f√ºr das Problem der √úbersetzung von Code von dynamischer Typisierung in statische. Dadurch geht alles schneller. Speziell f√ºr Go gibt es in meinem Plan Aufgaben eines bestimmten Datenstroms. Wenn beispielsweise ein Datenstrom in bequemere Formate konvertiert werden muss, ist dies eine ideale Sache. Von einem Daemon ausgel√∂st, empf√§ngt er einen Datenstrom an der Eingabe, gibt einen anderen aus. Wenig Erinnerung frisst. PHP verbraucht in diesem Fall viel Speicher: Sie m√ºssen sorgf√§ltig sicherstellen, dass es gereinigt wird.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Transfer to Go ist eine √úbertragung auf Microservices, da Sie nicht den gesamten Code ausschneiden. </font><font style="vertical-align: inherit;">Sie werden es nicht vollst√§ndig nehmen und neu schreiben. </font><font style="vertical-align: inherit;">Die √úbersetzung in Microservices ist eine tiefere Aufgabe als die √úbersetzung von einer Sprache in eine andere. </font><font style="vertical-align: inherit;">Es ist notwendig, es zuerst zu l√∂sen und dann dar√ºber nachzudenken, welche Sprache geschrieben werden soll. </font><font style="vertical-align: inherit;">Der schwierigste Teil ist das Erlernen von Microservices.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Semyon Kataev, Avito</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist nicht erforderlich, Go in Microservices zu verwenden. Viele Dienste sind in PHP geschrieben und haben eine akzeptable Antwortzeit. Das Team, das sie unterst√ºtzt, hat selbst entschieden, dass sie sehr schnell Gesch√§ftslogik schreiben und Funktionen einf√ºhren m√ºssen. Sie machen tats√§chlich manchmal schneller als Gophers. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir neigen dazu, Gophers einzustellen und in Go zu √ºbersetzen. Aber wir haben immer noch den gr√∂√üten Teil des Codes in PHP geschrieben, und so wird es noch mindestens ein paar Jahre dauern. Es gibt kein richtiges Rennen, wir haben nicht entschieden, dass Go besser oder schlechter ist. T√§glich werden sechs Releases in den Monolithen eingef√ºhrt. Unser Chat "Avito Deploy" enth√§lt eine Liste der Aufgaben, die bereitgestellt werden. In jeder Version werden mindestens 20 Aufgaben pro Tag ausgef√ºhrt: mindestens f√ºnf oder sechs Versionen pro Tag, ungef√§hr 80 Aufgaben, die Benutzer f√ºr diese Aufgaben ausgef√ºhrt haben. All dies geschieht in PHP.</font></font><br>
<br>
<blockquote>      ?       -,    ?</blockquote><br>
<h3> , </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das ist sehr schwer. Es gibt einen psychologischen Moment: Ich habe eine neue Funktion gestartet - Sie sind fertig. Startete eine gigantische neue Funktion - du bist super jung! Wenn ein Manager oder Entwickler angibt, dass er eine Funktion entfernt (au√üer Betrieb genommen) hat, erh√§lt er keine solche Anerkennung. Seine Arbeit ist nicht sichtbar. Zum Beispiel kann ein Team einen Bonus f√ºr die erfolgreiche Implementierung neuer Funktionen erhalten, aber ich habe keine Auszeichnungen f√ºr tote oder experimentelle Funktionen gesehen. Und das Ergebnis kann wirklich kolossal sein. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine Reihe von Legacy-Funktionen, die noch niemand verwendet, verlangsamt die Entwicklung. Es gibt Hunderte von F√§llen, in denen eine neue Person zu einem Unternehmen kommt und einen toten Code √ºberarbeitet, der niemals aufgerufen wird, weil sie nicht wei√ü, dass es sich um einen toten Code handelt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir versuchen irgendwie mit Managern zu verhandeln, herauszufinden, was f√ºr ein Feature es war, mit Analysten √ºberlegen wir, wie viel Geld es bringt, wer es braucht, und erst danach versuchen wir es zu reduzieren. </font><font style="vertical-align: inherit;">Dies ist ein komplizierter Prozess.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mikhail Buylov, Mamba </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir schneiden toten Code ab, wenn wir dazu kommen. </font><font style="vertical-align: inherit;">Und es ist bei weitem nicht immer m√∂glich, es schnell zu schneiden. </font><font style="vertical-align: inherit;">Zuerst schreiben Sie einen Code, dann einen anderen, √ºber einen dritten, und dann stellt sich heraus, dass diese Funktion nicht ben√∂tigt wird. </font><font style="vertical-align: inherit;">Sie zieht eine wilde Anzahl von Abh√§ngigkeiten, die ebenfalls behoben werden m√ºssen. </font><font style="vertical-align: inherit;">Dies ist nicht immer m√∂glich, und Manager m√ºssen dies melden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Manager legt die Aufgabe fest, Sie bewerten sie. </font><font style="vertical-align: inherit;">Sie sagen: "Wei√üt du, Mann, ich mache das sechs Monate lang. </font><font style="vertical-align: inherit;">Bist du bereit, ein halbes Jahr zu tolerieren? ‚Äú </font><font style="vertical-align: inherit;">Er sagt: "Nein, lass uns √ºberlegen, was geschnitten werden muss, was √ºbrig bleiben kann. </font><font style="vertical-align: inherit;">Was ist grunds√§tzlich notwendig und was ist n√∂tig, um herumzuspielen. ‚Äú </font><font style="vertical-align: inherit;">So l√§uft das.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pavel Murzakov, Badoo</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn ein Entwickler ein Feature erh√§lt, bewertet er, wie schwierig es in Bezug auf die Entwicklung ist, wie schwierig es in Bezug auf die Leistung ist. Wenn er das eine oder andere sieht, kl√§rt er mit dem Produktmanager, ob dies wirklich notwendig ist, ob wir irgendwo etwas entfernen k√∂nnen. Manchmal kommt es vor, dass √Ñnderungen nicht kritisch sind und Manager schnell Zugest√§ndnisse machen, wenn sie feststellen, dass diese Sache kompliziert ist oder Ressourcen verbraucht. Es passiert einfach: Sie sagen "Entfernen wir es" - und das war's. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es kommt vor, dass ein Feature verlassen wird, und danach stellen wir fest, dass es nicht so gut funktioniert, wie wir es m√∂chten. Und dann k√∂nnen Sie wieder mit dem Manager sprechen. Oft endet alles erfolgreich.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt keinen integrierten Prozess zum Entfernen von Funktionen. Dies geschieht sporadisch. Wir sehen, dass es eine Funktion gibt, wir kommen und bieten an, sie auszuschalten. Wir schalten es aus, beobachten, was es gibt, und schneiden es aus. Eine andere Sache ist toter Code. Wir haben eine spezielle Erweiterung, sogar eine ganze Infrastruktur, f√ºr die Erkennung von totem Code. Wir sehen diesen toten Code. Wir versuchen es langsam abzuschneiden. Eine andere Frage ist, ob es wirklich tot ist und die Anfrage es nie eingibt, dann hat es keinerlei Auswirkungen auf die Leistung. Dies wirkt sich auf die Unterst√ºtzbarkeit aus. Die Leute lesen es st√§ndig, obwohl sie es vielleicht nicht lesen. Es gibt keinen besonderen Zusammenhang mit der Leistung.</font></font><br>
<br>
<blockquote><i>15      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Badoo PHP Meetup</a>. ,      : SuperJob, ManyChat, , Badoo  FunCorp    . <br>
<br>
,   ,       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">YouTube-</a>. ,       - .<br>
<br>
   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> </a>,     .</i><br>
</blockquote></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de487234/">https://habr.com/ru/post/de487234/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de487224/index.html">Wie lange kann eine langfristige Konstruktion, die dazu bestimmt ist, ein Meisterwerk zu werden?</a></li>
<li><a href="../de487226/index.html">Machen Sie Ihr Abzeichen: Shitty Add-On macht OFFZONE nichts aus</a></li>
<li><a href="../de487228/index.html">Frontend mitap Facebook und AvitoTech</a></li>
<li><a href="../de487230/index.html">USA Life Notes</a></li>
<li><a href="../de487232/index.html">Immunabdruck im Kindesalter: der Ursprung des Virenschutzes</a></li>
<li><a href="../de487238/index.html">Entwerfen von Stromnetzschutzger√§ten</a></li>
<li><a href="../de487242/index.html">Februar IT Events Digest</a></li>
<li><a href="../de487246/index.html">Die Tensor-Zertifizierungsstelle kann die privaten Schl√ºssel des Kunden gef√§hrden</a></li>
<li><a href="../de487248/index.html">Ein bisschen mehr √ºber unsachgem√§√üe Tests</a></li>
<li><a href="../de487250/index.html">Verz√∂gerte Alpha-Mischung</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>