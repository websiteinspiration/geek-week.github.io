<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•© üíÑ üßôüèº Impl√©mentation de WebRTC dans un serveur multim√©dia - pratique et politique üíî üéÆ üö§</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="1. Streaming vers les navigateurs en temps r√©el - pas de solution. Ou y en a-t-il?
 
 Depuis environ 20 ans, la bande passante du r√©seau et les capaci...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Impl√©mentation de WebRTC dans un serveur multim√©dia - pratique et politique</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/498418/"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Streaming vers les navigateurs en temps r√©el - pas de solution. </font><font style="vertical-align: inherit;">Ou y en a-t-il?</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depuis environ 20 ans, la bande passante du r√©seau et les capacit√©s informatiques des ordinateurs permettent la compression et la diffusion du son et de la vid√©o sur le protocole IP en mode temps quasi r√©el. Pendant ce temps, des organisations centrales de normalisation telles que le W3C et l'IETF, ainsi que de nombreuses grandes et petites entreprises, ont d√©velopp√© des centaines de normes et de protocoles pour compresser, compresser, transf√©rer, synchroniser et lire efficacement du contenu audio-vid√©o sur des ordinateurs et des appareils mobiles. Une attention particuli√®re a √©t√© accord√©e √† la capture, √† la compression et √† la diffusion vid√©o en temps r√©el sur IP, car, premi√®rement, l'IP est la moins ch√®re et la plus accessible √† tous les niveaux, et deuxi√®mement, les technologies de vid√©oconf√©rence et de vid√©osurveillance sont vitales et sont tr√®s demand√©es.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il semblerait que tant d'ann√©es se soient √©coul√©es et que tant de travail ait √©t√© accompli. Quelles merveilleuses r√©alisations dans ce domaine pouvons-nous observer apr√®s 20 ans? Enlevons le couvercle de la bo√Æte (bien s√ªr, ce n'est pas la bo√Æte de Pandore et non la ¬´bo√Æte de vers¬ª) et voyons quelles merveilleuses technologies et opportunit√©s sont devenues disponibles apr√®s de nombreuses ann√©es de travail de dizaines de milliers d'ing√©nieurs logiciels talentueux. Un programmeur de 1998, qui a d'abord envoy√© le son sur le r√©seau, un m√©decin qui veut une solution de t√©l√©m√©decine simple, bon march√© et fiable, un enseignant qui a besoin de donner une le√ßon √† distance - maintenant ils ouvrent cette couverture, pleine d'espoirs brillants, et que voient-ils? Dans une casserole bouillonnante offensive pleine de marketing √©poustouflant, de capitalisme cynique et de tentatives d√©sesp√©r√©es d'amateurs pour am√©liorer les choses, toutes sortes de codecs, protocoles, formats et applications flottent.C'est ce que la soupe informatique ¬´communautaire¬ª offre au consommateur en temps r√©el. Attrapez-vous qui sent moins, essayez, testez, achetez. Il n'y a pas de solution simple et efficace. Contrairement au streaming, qui ne n√©cessite pas de temps r√©el: il existe encore depuis 5 ans une norme HLS qui fonctionne sur tous les navigateurs et appareils o√π le fournisseur de solution peut simplement installer le segmenteur HLS sur votre serveur et dormir paisiblement.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici RTSP - beaucoup de consoles et d'√©quipements professionnels le jouent, mais les navigateurs ne jouent pas. Voici RTMP - Safari ne veut pas le lire sur iOS et tous les Androids ne le jouent pas. Chrome l'interdit comme non fiable. Voici MPEG2-TS - les navigateurs ne le lisent pas non plus. Extensions HTML5 Media Source (MSE) - bonnes pour les segments vid√©o de 5 √† 10 secondes (c'est-√†-dire pour HLS / Dash), mais pour les segments courts de moins d'une seconde - pas toujours stables, fonctionnent diff√©remment dans diff√©rents navigateurs et encore non pris en charge sur iOS.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comment, se demande-t-on, le jardin d'enfants envoie-t-il des vid√©os de cam√©ras install√©es en groupe aux parents qui souhaitent ouvrir le navigateur √† tout moment sur n'importe quel appareil, et sans installer de plug-ins pour regarder leurs enfants en temps r√©el? Pourquoi tous les jardins d'enfants n'offrent pas de tels services? Oui, car fournir un tel service co√ªte tr√®s cher. Nous devons d√©velopper des applications pour les appareils mobiles, o√π la vid√©o sera lue, car les navigateurs ne sont pas lus. Besoin de beaucoup plus. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D√©finissons le concept de ¬´proche du temps r√©el¬ª. Il s'agit d'un d√©lai inf√©rieur √† 5 secondes pour la vid√©osurveillance et inf√©rieur √† 1 seconde pour la vid√©oconf√©rence. Le d√©lai moyen du protocole HLS est de 20 √† 30 secondes. Peut-√™tre convient-il en quelque sorte aux jardins d'enfants, mais pour la vid√©osurveillance de s√©curit√©, les vid√©oconf√©rences et les webinaires, une autre technologie est n√©cessaire.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, jusqu'√† pr√©sent, plus pr√©cis√©ment jusqu'√† l'√©t√© 2017, il n'existait pas de norme ou de protocole unique pour diffuser de l'audio-vid√©o vers un navigateur sur un appareil en temps r√©el. Les raisons de cette situation, nous examinerons plus loin dans cet article. Ils ne sont pas de nature technique, ces raisons. En attendant, voyons ce qui s'est pass√© √† l'√©t√© 2017, qui √† tout le moins, mais a toujours fourni une technologie qui nous permet de r√©soudre les probl√®mes ci-dessus. Cette technologie est WebRTC, beaucoup a √©t√© √©crit √† ce sujet sur cette ressource et sur le r√©seau en g√©n√©ral. Il ne peut plus √™tre qualifi√© de compl√®tement nouveau et au moment de la r√©daction de ce document, le W3C consid√®re WebRTC 1.0 comme un projet termin√©. Nous ne parlerons pas ici de ce qu'est WebRTC; si le lecteur n'est pas familier avec cette technologie, nous vous sugg√©rons de faire une recherche sur le hub ou dans google et de vous familiariser,√† quoi il sert et comment il fonctionne en termes g√©n√©raux. Ici, nous disons simplement que cette technologie a √©t√© d√©velopp√©e pour la communication peer-to-peer dans les navigateurs, avec elle, vous pouvez impl√©menter des applications de chat vid√©o et vocales sans aucun serveur - le navigateur communique directement avec le navigateur. WebRTC est pris en charge par tous les navigateurs sur tous les appareils, et √† l'√©t√© 2017, Apple est finalement descendu vers nous et l'a ajout√© √† son Safari sur iOS. C'est cet √©v√©nement qui a fait de WebRTC la technologie la plus universelle et g√©n√©ralement accept√©e pour la diffusion en temps r√©el vers les navigateurs, depuis le coucher du soleil du RTMP, qui a commenc√© en 2015.WebRTC est pris en charge par tous les navigateurs sur tous les appareils, et √† l'√©t√© 2017, Apple est finalement descendu vers nous et l'a ajout√© √† son Safari sur iOS. C'est cet √©v√©nement qui a fait de WebRTC la technologie la plus universelle et g√©n√©ralement accept√©e pour la diffusion en temps r√©el vers les navigateurs, depuis le coucher du soleil du RTMP, qui a commenc√© en 2015.WebRTC est pris en charge par tous les navigateurs sur tous les appareils, et √† l'√©t√© 2017, Apple est finalement descendu vers nous et l'a ajout√© √† son Safari sur iOS. C'est cet √©v√©nement qui a fait de WebRTC la technologie la plus universelle et g√©n√©ralement accept√©e pour la diffusion en temps r√©el vers les navigateurs, depuis le coucher du soleil du RTMP, qui a commenc√© en 2015.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cependant, qu'est-ce que le streaming vers les navigateurs √† partir des cam√©ras a √† voir avec cela? Mais le fait est que WebRTC est tr√®s flexible dans ses fonctionnalit√©s, et vous permet d'envoyer de l'audio-vid√©o √† un seul des deux participants (pairs), et √† n'accepter que l'autre. Par cons√©quent, l'id√©e est n√©e d'adapter WebRTC aux serveurs multim√©dias. Le serveur multim√©dia peut recevoir des vid√©os de la cam√©ra, √©tablir une communication avec le navigateur et accepter que seule elle sera envoy√©e et que le navigateur recevra. Ainsi, le serveur multim√©dia peut envoyer simultan√©ment des vid√©os de la cam√©ra √† de nombreux navigateurs / t√©l√©spectateurs. √Ä l'inverse, un serveur multim√©dia peut recevoir un flux provenant d'un navigateur et le transmettre, par exemple, √† de nombreux autres navigateurs, en mettant en ≈ìuvre la fonction ¬´un-√†-plusieurs¬ª tant souhait√©e.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alors, finalement tout s'est form√©? Akuna Matata et le jardin d'enfants pourront installer un tel serveur multim√©dia quelque part sur l'h√©bergement ou sur AWS, envoyer un flux depuis chaque cam√©ra l√†-bas, et √† partir de l√†, il sera d√©j√† distribu√© aux navigateurs des parents, le tout avec un retard ne d√©passant pas une seconde. En g√©n√©ral - oui, la vie s'am√©liore. Mais il y a des probl√®mes. Et ces probl√®mes sont li√©s au fait que WebRTC est, pour ainsi dire, tir√© par les cheveux pour de telles t√¢ches; il n'a pas √©t√© con√ßu pour eux et ne leur convenait pas tout √† fait. Des probl√®mes, en plus de la compatibilit√© des codecs, existent principalement avec l'√©volutivit√© d'un tel serveur multim√©dia. Autrement dit, en m√™me temps, 100 parents peuvent √™tre servis √† partir d'un ordinateur serveur, et 500 est d√©j√† difficile. Bien que le r√©seau le permette. Et regardez la charge du processeur sur le serveur avec 100 connexions - elle est d√©j√† proche de 90%. Comment? Apr√®s tout, envoyez simplement une vid√©o audio.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avec le m√™me flux, s'il est envoy√© via le protocole RTMP au lecteur Flash, vous pouvez facilement prendre en charge 2000 connexions simultan√©es √† partir d'un serveur. WebRTC est-il seulement 100? </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pourquoi? Il y a deux raisons: premi√®rement, le protocole WebRTC est beaucoup plus co√ªteux en termes de calcul - l√†, par exemple, toutes les donn√©es sont crypt√©es et prennent beaucoup de temps processeur. Et la deuxi√®me raison, dont nous discuterons plus en d√©tail, est l'impl√©mentation extr√™mement inefficace du protocole par son cr√©ateur - Google, qui fournit le code source c ++ pour cette impl√©mentation pour l'adaptation dans les serveurs, passerelles et autres applications qui souhaitent prendre en charge WebRTC: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">webrtc.org/native-code </font></font></a><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 API WebRTC native de Google et compatibilit√© avec le serveur multim√©dia</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Rappelons que WebRTC a √©t√© cr√©√© pour transf√©rer de l'audio-vid√©o du navigateur vers le navigateur et qu'il n'y avait aucune t√¢che pour prendre en charge de nombreuses connexions simultan√©es. Par cons√©quent, et pas seulement par cons√©quent, la mise en ≈ìuvre de WebRTC dans le navigateur n'a pas compl√®tement d√©rang√© le principe de base de la conception et de l'architecture des syst√®mes techniques - √©l√©gance (rien de plus), efficacit√©, hautes performances. L'accent a √©t√© mis sur la fiabilit√© et la g√©rabilit√© avec les erreurs et les situations extr√™mes dans le r√©seau - perte de paquets, de connexions, etc. Ce qui, bien s√ªr, est bon. Cependant, apr√®s un examen plus approfondi, il s'av√®re que c'est la seule chose qui est bonne dans l'impl√©mentation Google de WebRTC. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Examinons les principaux points √† cause desquels l'utilisation de l'impl√©mentation Google de WebRTC pour les serveurs multim√©dias est extr√™mement probl√©matique.</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.a Le code est 10 fois plus qu'il ne devrait l'√™tre et il est extr√™mement inefficace,</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
c'est un chiffre qui a fait ses preuves. Pour commencer, vous t√©l√©chargez environ 5 gigaoctets de code, dont seulement 500 m√©gaoctets concernent WebRTC. Ensuite, vous essayez de vous d√©barrasser du code inutile. Apr√®s tout, pour les besoins d'un serveur multim√©dia, vous n'avez pas besoin d'encodage / d√©codage; le serveur ne doit recevoir que du contenu et le transmettre √† tout le monde. Lorsque vous avez supprim√© tous les √©l√©ments inutiles que vous pouviez (et vous pourriez en supprimer beaucoup moins que vous ne le souhaiteriez), vous disposez toujours de 100 m√©gaoctets de code. C'est une figure monstrueuse. C'est elle qui est 10 fois plus grosse qu'elle ne devrait l'√™tre.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä propos, √† ce stade, beaucoup diront - comment l'encodage / d√©codage n'est-il pas n√©cessaire? Qu'en est-il du transcodage d'AAC vers Opus et vice versa? Qu'en est-il du transcodage VP9-&gt; H264? Si vous comptez effectuer un tel transcodage sur le serveur, vous ne pouvez pas non plus tirer 5 connexions simultan√©es. S'il est vraiment n√©cessaire, le transcodage doit √™tre effectu√© non pas par un serveur multim√©dia, mais par un autre programme.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais revenons au probl√®me du code gonfl√© et illustrons-le. Selon vous, quelle est la profondeur de la pile d'appels de fonctions lors de l'envoi d'une image vid√©o d√©j√† compress√©e? Un appel √† Winsock (sous Windows) de la fonction send ou sendto (WSASend / WSASendTo)? Non, bien s√ªr, il reste du travail √† faire. Dans le cas de WebRTC, vous devez emballer la trame sur le protocole RTP et la crypter, ce qui nous donne au total le protocole SRTP. Il est n√©cessaire de sauvegarder la trame en cas de perte de paquet afin de la renvoyer ult√©rieurement. Combien d'objets et de threads c ++ doivent √™tre impliqu√©s dans cela? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici comment WebRTC 61 le </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ft/lo/f9/ftlof9hwbtg9so0qbsoji-z93bw.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
fait </font><font style="vertical-align: inherit;">: </font><font style="vertical-align: inherit;">Comme vous pouvez le voir sur cette capture d'√©cran, √† partir du moment o√π nous alimentons le cadre compress√© vers WebRTC jusqu'√† la file d'attente de l'objet Paced_Sender, la profondeur de la pile d'appels est de 8 (!) Et 7 objets sont impliqu√©s!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, un thread s√©par√© (thread) PacedSender extrait notre trame de la file d'attente et l'envoie plus loin pour le traitement: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/o8/m4/et/o8m4etbmhrvwhvk01zagwptrwoy.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et enfin, nous sommes arriv√©s √† l'√©tape 4, o√π la trame d√©j√† compress√©e et RTP repose sur la file d'attente √† envoyer au r√©seau, qui est engag√© dans un autre thread. √Ä ce stade, la profondeur de la pile d'appels (sur le thread PacedSender) est de 7, et 3 nouveaux objets suppl√©mentaires sont impliqu√©s. L'envoi occup√© du thread appellera le WSASend / WSASendTo final √©galement apr√®s 3-4 appels de fonction imbriqu√©s et impliquera 3-4 nouveaux objets.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons donc vu 3 fils, chacun faisant un excellent travail. Tous ceux qui ont programm√© de tels syst√®mes ont une id√©e de la fa√ßon dont ces choses sont faites et de ce qui doit vraiment √™tre fait. Selon nos estimations, au moins 90% des objets et du code ici sont superflus et violent les principes de la programmation orient√©e objet. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.b 4-5 threads sont allou√©s par connexion</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sans doute, avec le nombre de threads dans cet exemple, tout est en ordre. Il est n√©cessaire de fournir un traitement asynchrone, de ne bloquer personne, et les 3 threads sont n√©cessaires. En g√©n√©ral, un PeerConnection WebRTC alloue 4 √† 5 threads. Eh bien, il serait possible de rester dans les 3. Mais pas moins. Le probl√®me est que c'est pour chaque connexion! Dans le serveur, par exemple, vous pouvez enregistrer 3 threads, mais ils serviront toutes les connexions ensemble et n'alloueront pas 3 threads √† chaque connexion. Le pool de threads est une solution serveur incontestable pour de telles t√¢ches. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.c Sockets asynchrones fonctionnant √† travers les messages Windows</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le code Google WebRTC sous Windows utilise des sockets asynchrones via WSAAsyncSelect. Les programmeurs de serveurs savent que l'utilisation de la fonction de s√©lection sur le serveur est un suicide et WSAAsyncSelect, bien qu'elle am√©liore la situation, mais pas d'un ordre de grandeur. Si vous souhaitez prendre en charge des centaines et des milliers de connexions, il existe une meilleure solution sur Windows que les sockets asynchrones. Les sockets et les ports d'ach√®vement d'E / S superpos√©s doivent √™tre activ√©s, envoyant des notifications au pool de threads qui effectue le travail. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.d Conclusion</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ainsi, nous pouvons conclure: appliquer le code WebRTC de Google, sans changements majeurs, √† un serveur multim√©dia est possible, mais le serveur ne pourra pas tirer des centaines de connexions simultan√©es. Il peut y avoir deux solutions:</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apporter des modifications majeures au code Google est, sans exag√©ration, presque impossible - apr√®s tout, tous ces objets sont tr√®s √©troitement li√©s les uns aux autres, n'encapsulent pas de fonctionnalit√©s, ne sont pas des blocs ind√©pendants qui effectuent certains travaux, comme il se doit. Leur implication inchang√©e dans d'autres sc√©narios est impossible.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N'utilisez pas du tout le code Google, mais impl√©mentez tout vous-m√™me √† l'aide de biblioth√®ques ouvertes telles que libsrtp et similaires. C'est peut-√™tre la bonne fa√ßon, mais outre le fait qu'il s'agit √©galement d'un travail √©norme, vous pouvez rencontrer le fait que votre mise en ≈ìuvre ne sera pas enti√®rement compatible avec Google et, par cons√©quent, ne fonctionnera pas, ou ne fonctionnera pas dans tous les cas, pour par exemple, avec du chrome, qui ne peut √™tre tol√©r√©. Vous pouvez ensuite discuter longtemps avec les gars de Google, prouver que vous avez suivi la norme, mais ils ne l'ont pas fait, et vous aurez raison mille fois. Mais ils, au mieux, diront - "nous allons le r√©parer, peut-√™tre en quelque sorte plus tard." Vous devez vous ajuster au chrome d√®s maintenant. Et le point. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. Pourquoi tout est-il si triste</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette situation avec le streaming vers les navigateurs en temps r√©el est une illustration tr√®s caract√©ristique de ce que conduit parfois la ¬´technologie orient√©e m√©tier¬ª. La technologie motiv√©e par les affaires √©volue dans le sens o√π elle est n√©cessaire aux affaires et dans la mesure o√π elle pla√Æt √† cette entreprise. C'est gr√¢ce √† l'approche commerciale que nous avons maintenant des ordinateurs personnels et des t√©l√©phones portables - aucun gouvernement ou minist√®re central de la planification ne pourra jamais √™tre aussi int√©ress√© par le d√©veloppement et l'introduction de toutes ces technologies grand public aupr√®s des masses. L'entreprise priv√©e, motiv√©e par le gain personnel de ses propri√©taires, l'a fait d√®s qu'une opportunit√© technique s'est pr√©sent√©e.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est connu, compris et accept√© depuis longtemps que les biens et services de consommation non essentiels, ceux sans lesquels vous pouvez vivre en paix, sont mieux d√©velopp√©s par les entreprises priv√©es, puis les choses vitales pour une personne - √©nergie, routes, police et √©ducation scolaire - devraient √™tre d√©velopp√©es de mani√®re centralis√©e. institutions contr√¥l√©es par l'√âtat.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous, les enfants de l'Union sovi√©tique et la mentalit√© ¬´faisons de la technologie techniquement correcte et forte pour que les gens puissent l'utiliser et tout est bon¬ª, pourrait bien s√ªr dire que dans un syst√®me sovi√©tique planifi√© (si le gouvernement d√©cidait soudainement), la technologie de streaming La propri√©t√© intellectuelle en temps r√©el pourrait √™tre d√©velopp√©e et mise en ≈ìuvre en un an et serait un ordre de grandeur sup√©rieur √† ce que l'entreprise a maintenant gagn√© en 20 ans. Mais nous comprenons √©galement qu‚Äôelle ne se d√©velopperait pas, ne deviendrait pas obsol√®te et, √† la longue, √† long terme, perdrait encore une partie de la technologie commerciale occidentale.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par cons√©quent, puisqu'il est tout √† fait possible de s'entendre sans calage en continu, il est √† juste titre laiss√© √† la merci des entreprises priv√©es. Ce qui le d√©veloppe dans leur propre int√©r√™t, et non dans l'int√©r√™t du consommateur. Comment n'est-ce pas dans l'int√©r√™t du consommateur? Mais qu'en est-il de l'offre et de la demande? De quoi le consommateur a-t-il besoin, alors l'entreprise offrira? Mais il n'offre pas. Tous les consommateurs crient - Google, prend en charge l'audio AAC dans WebRTC, mais Google ne le fera jamais, bien qu'il crache juste pour le faire. Apple ne s'en soucie absolument pas et n'impl√©mente rien des technologies de streaming indispensables dans ses gadgets. Pourquoi? Oui, car l'entreprise ne fait pas toujours ce dont le consommateur a besoin. Il ne le fait pas lorsqu'il est monopoliste et n'a pas peur que le consommateur perde. Ensuite, l'entreprise s'affaire √† renforcer sa position. Google a donc achet√© ces derni√®res ann√©es un tas de fabricants de codecs sonores.Et maintenant, il pousse l'audio Opus et force le monde entier √† transcoder AAC-&gt; Opus pour correspondre √† WebRTC, car toute la technologie est depuis longtemps pass√©e √† l'audio AAC. Google justifie cela pr√©tendument par le fait que l'AAC est une technologie payante, et Opus est gratuit. Mais en fait, cela est fait afin d'√©tablir sa technologie comme norme. Comme Apple l'a fait avec son mis√©rable HLS, ce qui nous a fait aimer, ou comme Adobe l'a fait avec son protocole RTMP irresponsable encore plus t√¥t. Les gadgets et les navigateurs sont encore des choses assez difficiles √† d√©velopper techniquement, √† partir de l√† surgissent des monopoles, √† partir d'ici, comme on dit, les choses sont l√†. Et le W3C et l'IETF sont parrain√©s par les m√™mes monopoles, donc la mentalit√© de ¬´faisons une technologie techniquement correcte et solide pour que les gens puissent l'utiliser et tout va bien¬ª n'est pas l√† et ne le sera jamais.Mais √ßa aurait d√ª l'√™tre.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comment sortir de cette situation? Apparemment, le simple fait d'attendre la ¬´bonne¬ª technologie ax√©e sur les affaires, le r√©sultat de la concurrence et toutes sortes d'autres choses merveilleuses, aboutira finalement √† quelque chose de d√©mocratique, adapt√© √† un simple m√©decin rural afin qu'il puisse fournir des services de t√©l√©m√©decine avec son Internet normal. En effet, il est n√©cessaire de faire un amendement, non pas pour un simple m√©decin rural, mais pour ceux qui peuvent payer beaucoup d'argent, l'entreprise propose depuis longtemps des solutions de streaming en temps r√©el. Bon, fiable, n√©cessitant des r√©seaux d√©di√©s et des √©quipements sp√©ciaux. Dans de nombreux cas, et ne fonctionne pas sur le protocole IP. Ce qui - et c'est une autre raison d'une situation aussi triste - n'a pas √©t√© cr√©√© en temps r√©el et ne le garantit pas toujours. Pas toujours, mais pas dans des situations vitales, il convient tout √† fait pour le moment.Essayons donc WebRTC. Jusqu'√† pr√©sent, de tous les maux, il est le plus petit et le plus d√©mocratique. Pour lequel, apr√®s tout, vous devez dire merci √† Google.</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. Un peu sur les serveurs multim√©dias qui impl√©mentent WebRTC</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Wowza, Flashphoner, Kurento, Flussonic, Red5 Pro, Unreal Media Server - ce sont quelques-uns des serveurs multim√©dias qui prennent en charge WebRTC. Ils fournissent la publication de vid√©os des navigateurs au serveur et diffusent des vid√©os aux navigateurs via WebRTC √† partir du serveur.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les probl√®mes d√©crits dans cet article, de diff√©rentes mani√®res et avec diff√©rents degr√©s de succ√®s, sont r√©solus dans ces produits logiciels. </font><font style="vertical-align: inherit;">Certains d'entre eux, par exemple, Kurento et Wowza, effectuent le transcodage audio-vid√©o directement dans le serveur, d'autres, par exemple, Unreal Media Server, ne se transcodent pas eux-m√™mes, mais fournissent d'autres programmes pour cela. </font><font style="vertical-align: inherit;">Certains serveurs, tels que Wowza et Unreal Media Server, prennent en charge la diffusion en continu sur toutes les connexions via un port TCP et UDP central, car WebRTC lui-m√™me alloue un port distinct pour chaque connexion, de sorte que le fournisseur doit ouvrir de nombreux ports dans le pare-feu, ce qui cr√©e des probl√®mes de s√©curit√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe de nombreux points et subtilit√©s impl√©ment√©s dans tous ces serveurs de diff√©rentes mani√®res. </font><font style="vertical-align: inherit;">√Ä quel point tout cela convient au consommateur, jugez-vous, chers utilisateurs.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr498404/index.html">La vid√©oconf√©rence est simple et gratuite</a></li>
<li><a href="../fr498406/index.html">Comment la personnalit√© d'un brillant jeune programmeur a √©t√© d√©truite</a></li>
<li><a href="../fr498410/index.html">Vivaldi pour PC et Vivaldi pour Android - Jeu d'√©quipe avec score 3.0</a></li>
<li><a href="../fr498412/index.html">La conscience est simple ou ce qui ne va pas avec le temps</a></li>
<li><a href="../fr498416/index.html">Yandex liera automatiquement la carte √† un autre compte</a></li>
<li><a href="../fr498426/index.html">Comment nous avons √©vacu√© le changement de service de Yandex</a></li>
<li><a href="../fr498428/index.html">WAL-G: nouvelles fonctionnalit√©s et extension de la communaut√©. Georgy Rylov</a></li>
<li><a href="../fr498430/index.html">Qu'arrive-t-il au transport le 22 avril</a></li>
<li><a href="../fr498436/index.html">Guide GitLab CI / CD pour le (presque) absolu d√©butant</a></li>
<li><a href="../fr498438/index.html">8 questions faciles pour les mentors de stage</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>