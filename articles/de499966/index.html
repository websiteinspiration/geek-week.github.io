<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üìπ üë®üèª‚Äçüîß üõÄüèª Messung des UVA UVB üöú üê∞ üåõ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Wir alle lieben die Sonne und wissen nat√ºrlich um die Gefahren ultravioletter Strahlung f√ºr die menschliche Haut. Nat√ºrlich kann man sich nicht lange ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Messung des UVA UVB</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/499966/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir alle lieben die Sonne und wissen nat√ºrlich um die Gefahren ultravioletter Strahlung f√ºr die menschliche Haut. </font><font style="vertical-align: inherit;">Nat√ºrlich kann man sich nicht lange am Strand sonnen. </font><font style="vertical-align: inherit;">Aber es ist √ºberhaupt nicht offensichtlich, ist es m√∂glich, im T-Shirt unter der Sonne zu laufen und zu schwimmen, in den Bergen zu laufen? </font><font style="vertical-align: inherit;">Nach einem weiteren ‚ÄûBrennen‚Äú der Sonne in den Bergen in Krasnaya Polyana stellte sich die Frage, wie man den sofortigen Index der ultravioletten Strahlung misst und wei√ü, wann es Zeit ist, sich im Schatten zu verstecken. </font><font style="vertical-align: inherit;">Als Ergebnis wurde dieses kleine Ger√§t geboren - ein UV-Strahlungssensor mit einer Reihe zus√§tzlicher Funktionen.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/lp/o8/0g/lpo80gvoszy35k9hzmltwzls640.png"></div><a name="habracut"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Was soll das Ger√§t k√∂nnen</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Hauptfunktion besteht darin, den UV-Strahlungsindex zu messen. </font><font style="vertical-align: inherit;">Au√üerdem wollte ich die Lufttemperatur und die Wassertemperatur mit einer Genauigkeit von mindestens 0,5 Grad messen (insbesondere, als ich mit Eiswasser in den Pool eintauchte und ein chinesisches Thermometer betrachtete, das dort schwamm - 28 Grad und nicht in der N√§he). </font><font style="vertical-align: inherit;">Und nat√ºrlich Batteriestrom.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hauptkomponenten: VEML6075 + MCP3421 + STM8</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt nicht viele Sensoren zur Messung des UV-Index. </font><font style="vertical-align: inherit;">Eine h√§ufig verwendete UV-Sonde ist ein Fototransistor. </font><font style="vertical-align: inherit;">Es stellte sich jedoch als ziemlich schwierig heraus, zu kalibrieren. </font><font style="vertical-align: inherit;">Die Wahl fiel auf den digitalen Sensor - VEML6075. </font><font style="vertical-align: inherit;">Er erwies sich als sehr gut. </font><font style="vertical-align: inherit;">Der einzige Nachteil ist, dass es schwierig zu kaufen ist. Die Lieferung musste √ºber offizielle Kan√§le etwa einen Monat warten - "The Fifth Element" (China hat dies nicht ber√ºcksichtigt - es ist unangenehm, die Qualit√§t eines einmaligen Ger√§ts zu erraten). </font><font style="vertical-align: inherit;">Sensor Vorteile:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">einfache Kalibrierung zu Hause</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kosinusantwort der Sensoroberfl√§che - Ber√ºcksichtigung des Einfalls von Strahlen</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">genaue Indexwerte in zwei Bereichen - UVA UVB</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">geringer Konsum</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I2C-Kommunikation - volldigitaler Sensor</font></font></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anfangs war die Sensorgr√∂√üe unheimlich 2x2 mm, es gab keine Hei√üluftpistole, ich dachte, es w√§re schwierig, eine solche Kleinigkeit mit einem gew√∂hnlichen L√∂tkolben zu l√∂ten - aber es stellte sich als gut heraus.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/2g/rf/34/2grf34roitfitmtsmw0fbuwirkw.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die zweite Frage - die Messung der Wassertemperatur, entschieden mit einem Thermoelement. Verwenden Sie zum genauen Lesen der Daten von diesem Sensor einen sehr genauen ADC mit integrierter Referenzspannungsquelle - MCP3421. 18-Bit-Aufl√∂sung + 8-fache Signalverst√§rkung f√ºr ein K-Thermoelement ergeben eine Temperaturaufl√∂sung von 0,01 Grad - mehr als genug. Angesichts der Notwendigkeit, die Temperatur der Verbindung zu messen, lag die Genauigkeit im Bereich von 0,2 Grad. √úberpr√ºfung durch Messen von kochendem Wasser und Eis. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als Mikrocontroller - die einfachste und billigste Option - STM8S003F3. Alles ist an Bord - Timer, I2C - f√ºr den Sensor usw. erforderlich. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da das Ger√§t in der Sonne arbeiten sollte, wird ein LCD-Bildschirm als Anzeige verwendet. Ich wollte Kompaktheit - ich entschied mich f√ºr diese:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/hq/xp/mm/hqxpmmnlgkhbuyw75ngmqkkemag.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit dem Management musste gequ√§lt werden. </font><font style="vertical-align: inherit;">Das Multiplexen der LCD-Pins auf einem herk√∂mmlichen Mikrocontroller ist immer noch diese Aufgabe, aber im Allgemeinen ist alles gut gelaufen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Fall w√§hlte ein kleines, kompaktes Modell der Firma Sanhe "20-31". </font><font style="vertical-align: inherit;">Au√üengr√∂√üe - 35x45x18 mm. </font><font style="vertical-align: inherit;">Alles passt - das Board, die Anzeige und die Batterie. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich werde die Schaltung und die Platine nicht geben, alles ist auf </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Github</font></font></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UV-Sensorkalibrierung</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem sie Messwerte vom Sensor erhalten hatten, waren sie nicht sehr zufrieden, sie waren den Messwerten des "Hydro-Centers" nicht √§hnlich. Ich musste lernen, wie man den Sensor richtig kalibriert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um den UV-Strahlungsindex anhand der Sensorwerte korrekt zu berechnen, m√ºssen mehrere Konstanten verwendet werden. Wie berechnet man sie ohne spezielle Ausr√ºstung? Hier ist die vollst√§ndige Formel zur Berechnung des Index: Die </font></font><br>
<img src="https://habrastorage.org/webt/kn/l0/45/knl045dun5ltafhqfxurbbhbhhu.jpeg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Konstanten k1 und k2 k√∂nnen ohne Ausr√ºstung nicht berechnet werden. Sie sind jedoch f√ºr die genaueste Berechnung erforderlich, damit sie als Einheit betrachtet werden k√∂nnen. Die Empfindlichkeitskonstanten des Sensors k√∂nnen der Tabelle entnommen werden:</font></font><br>
<img src="https://habrastorage.org/webt/m-/qw/gz/m-qwgzn9s3emcnggn5mwlivxpum.jpeg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir brauchen die Konstanten aus der ersten Zeile, da der Sensor nicht von Teflon abgedeckt wird (wir konnten kein optisches Teflon kaufen, daher ist der Sensor endlich ge√∂ffnet). UVAresp und UVBresp. Aber die Konstanten a, b, c, d m√ºssen berechnet werden. Ich habe das mit einem Debugger gemacht. Es ist notwendig, die Daten uva, uvb, uvcomp1, uvcomp2 abzurufen und die Konstanten in Excel zu berechnen. Es ist unpraktisch, sie auf dem Display anzuzeigen - es gibt zu wenige Ziffern. Hier wird der Debugger ben√∂tigt. Setzen Sie nach dem Empfang der Daten einen Haltepunkt und sehen Sie sich die berechneten Werte an. Sie k√∂nnen auch die M√∂glichkeit nutzen, ST-Link w√§hrend des Debuggens und der umgekehrten Verbindung von STM8 zu trennen. In diesem Fall wird die Debugging-Sitzung nicht unterbrochen! Eine weitere Option ist die Verwendung von STM8 STUDIO. Mit diesem speziellen Programm k√∂nnen Sie jederzeit Variablen abrufen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Verwenden Sie dies, um die Konstanten ohne spezielle Ausr√ºstung zu berechnen (dies wird im Anwendungshinweis zum Sensor beschrieben). Sonnenlicht in seinem Spektrum hat UV-Strahlung, IR-Strahlung und sichtbare Strahlung. Um die Intensit√§t der UV-Strahlung zu berechnen, m√ºssen die √ºbersch√ºssigen Daten √ºber IR-Strahlung und sichtbare Strahlung subtrahiert werden. Verwenden Sie dazu die Daten uvcomp1 (verantwortlich f√ºr sichtbare Strahlung) und uvcomp2 (verantwortlich f√ºr IR-Strahlung). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zur Berechnung der Konstanten in der verwendeten Formel werden zwei k√ºnstliche Lichtquellen ben√∂tigt: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 ‚Ä¢ eine gew√∂hnliche Gl√ºhlampe - sie emittiert im IR-Spektrum und sichtbare Strahlung, es gibt keine UV-Strahlung </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 ‚Ä¢ LED-Lampe - sie emittiert nur in sichtbarer Strahlung, es gibt keine UV- und IR-Strahlung</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir beginnen mit der LED-Lampe. Da keine UV-Strahlung vorhanden ist, ist der entsprechende Index Null. </font></font><br>
<img src="https://habrastorage.org/webt/bq/z5/5w/bqz55wsnzk-wkzmntjp6uhyi-ou.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die LED-Lampe hat keine IR-Strahlung, daher ist UVcomp2 0. In diesem Fall k√∂nnen Sie die Koeffizienten finden. </font></font><br>
<img src="https://habrastorage.org/webt/ka/-7/vn/ka-7vnca8jipxdomakrheh53_ok.gif"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit diesen Koeffizienten ist es nicht schwierig, die Koeffizienten b und d zu finden, wenn eine herk√∂mmliche Lampe verwendet wird, wenn UVcomp2 nicht gleich Null ist. </font></font><br>
<img src="https://habrastorage.org/webt/hk/s-/0-/hks-0-eysabxkag42fy15lz8b2c.gif"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit dieser einfachen Methode k√∂nnen Sie die erforderlichen Konstanten erhalten. Eine solche Kalibrierung sollte abends durchgef√ºhrt werden, wenn kein Sonnenlicht und keine anderen Lichtquellen vorhanden sind. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein korrekt kalibrierter Sensor ist sehr einfach zu √ºberpr√ºfen. An einem sonnigen Tag, mittags, wenn keine Wolken am Himmel sind, m√ºssen Sie die Intensit√§t messen, indem Sie den Sensor genau auf die Sonne richten. Die Messwerte m√ºssen mit den auf den Wetterstandorten √ºbertragenen Daten √ºbereinstimmen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um die Strahlung genau zu messen, muss der Sensor beim Br√§unen parallel zur K√∂rperoberfl√§che gehalten werden. </font><font style="vertical-align: inherit;">Um den maximalen Stromindex zu erhalten, muss der Sensor auf die Sonne gerichtet sein. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Sensor zeigte die besten Ergebnisse mit der maximalen Datenmittelungszeit (der Sensor kann diesen Parameter einstellen - die Zeit, in der er selbst die Indikatoren mittelt) - 800 ms. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um die Messwerte absolut perfekt zu machen, mussten wir auch den Empfehlungen des Entwicklers folgen - die Platine schwarz zu streichen, damit sie den Sensor nicht reflektiert und mit einem schwarzen Trichter umgibt.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erfahrung nutzen</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich sage gleich zum Verbrauch - er ist extrem klein, etwa 2 mA, wenn alle Sensoren und der Mikrocontroller funktionieren. Bei seltener Verwendung h√§lt der Akku mit einer einzigen Ladung etwa 3 Monate lang. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich halte die Genauigkeit der Messwerte f√ºr sehr hoch. Ich habe in mehreren Regionen (Moskau, Sotschi, Krim) eingecheckt - die Messwerte stimmen mittags mit den Wetterstandorten √ºberein. Daher glaube ich, dass man ihm bei bew√∂lktem Wetter auch vertrauen kann. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei der Herstellung des Sensors musste ich untersuchen, was UV-Strahlung ist und wie sie immer noch sch√§dlich ist. Was f√ºr Arten davon sind. Wie wirkt es sich auf die Haut aus? Wie ist der Sonnenstand am Horizont und ob UV-Strahlung sch√§dlich f√ºr die Augen ist?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pers√∂nlich habe ich alle Artikel √ºber das ‚ÄûBrennen‚Äú an mir selbst √ºberpr√ºft. Der Sensor erwies sich als ausgezeichnet. Nachdem ich nun Index 13 auf dem Sensor in den Bergen gesehen habe, ziehe ich ein enges Hemd an und bedecke alle K√∂rperteile. Und abends, wenn Index 5 - gehe ich ruhig und sonne mich unter den warmen Sonnenstrahlen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe gelernt, dass man an einem sonnigen Tag in Moskau einen guten Sonnenbrand bekommen kann - der Index erreicht mittags 9. Und auch, dass sich beim Schwimmen die Zeit in der Sonne verdoppelt. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F√ºr mich war dieses Ger√§t sehr n√ºtzlich, ich benutze es immer noch, die ganze Familie vertraut dem Zeugnis.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Moment f√ºgte er einen sehr genauen Feuchtigkeitssensor hinzu - HTS221. </font><font style="vertical-align: inherit;">Es funktioniert auch auf I2C, also habe ich einfach ein Mini-Board erstellt und es eingef√ºgt. </font><font style="vertical-align: inherit;">Gel√∂tet mit einem lackierten Draht 0,15 mm. </font><font style="vertical-align: inherit;">Jetzt zeigt es auch die Luftfeuchtigkeit an, viel genauer als die auf dem Markt verkauften chinesischen Messger√§te. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich werde ein wenig √ºber das gro√üe Fett-Minus schreiben - gem√§√ü den Empfehlungen des Entwicklers ist es besser, den Sensor mit optischem Teflon zu schlie√üen, um den Sensor vor Staub und Schmutz zu sch√ºtzen. </font><font style="vertical-align: inherit;">Es hat nicht funktioniert, ein solches Teflon in der Schiene zu finden, daher wird der Sensor staubig und manchmal wische ich ihn mit einem Wattest√§bchen ab.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de499954/index.html">Storacle - dezentrale Dateispeicherung</a></li>
<li><a href="../de499958/index.html">Erstellen Sie in etwas mehr als drei Stunden eine Online-Demo zum Ersten Mai</a></li>
<li><a href="../de499960/index.html">JanusGraph Graph DBMS-Experiment zur L√∂sung des Problems der Suche nach geeigneten Pfaden</a></li>
<li><a href="../de499962/index.html">Einige Fakten √ºber kaskadierende Klassifikatoren, die in wissenschaftlichen Artikeln selten ernsthaft ber√ºcksichtigt werden.</a></li>
<li><a href="../de499964/index.html">Die NASA hat drei Firmen ausgew√§hlt, die an dem Programm teilnehmen werden, um ein Schiff f√ºr die Landung auf dem Mond zu schaffen</a></li>
<li><a href="../de499968/index.html">Liste der best√§ndigsten Online-Mitaps, die auch im Mai stattfinden</a></li>
<li><a href="../de499970/index.html">Wir untersuchen die Mediastreamer2 VoIP-Engine. Teil 12</a></li>
<li><a href="../de499972/index.html">M√∂gen Online-Events verdauen</a></li>
<li><a href="../de499974/index.html">3D-Spiele auf Instagram Javascript oder Wurstflugbahn</a></li>
<li><a href="../de499978/index.html">√úbersetzung von Andrew Un's Buch, Leidenschaft f√ºr maschinelles Lernen, Kapitel 36 und 37</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>