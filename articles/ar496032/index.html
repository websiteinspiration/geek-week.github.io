<!doctype html>
<html class="no-js" lang="ar">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¦„ ğŸŒ´ ğŸ¤±ğŸ¾ ØªÙƒÙˆÙŠÙ† Ø¹Ù†Ø§Ù‚ÙŠØ¯ Ø«Ù„Ø§Ø« Ø¹Ù‚Ø¯Ø© ZooKeeper ÙˆØ³Ù…Ø§Ø³Ø±Ø© Apache Kafka ğŸ˜ ğŸ‘¨ğŸ»â€âš–ï¸ ğŸ‘©â€â¤ï¸â€ğŸ‘©</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ÙŠÙˆÙ… Ø¬ÙŠØ¯! 
 
 ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù‚Ø§Ù„Ø© ØŒ Ø³Ù†Ù†Ø¸Ø± ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ù† Ø«Ù„Ø§Ø« Ø¹Ù‚Ø¯ ZooKeeper (Ø®Ø¯Ù…Ø© ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ÙˆØ²Ø¹) ØŒ Ø§Ø«Ù†Ø§Ù† Ù…Ù†Ù‡Ø§ ÙˆØ³Ø·Ø§Ø¡ Ø±Ø³Ø§Ø¦Ù„ ÙƒØ§ÙÙƒØ§ ØŒ ÙˆØ§Ù„Ø«Ø§Ù„Ø« Ù‡Ùˆ Ø§Ù„Ù…Ø¯ÙŠ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ØªÙƒÙˆÙŠÙ† Ø¹Ù†Ø§Ù‚ÙŠØ¯ Ø«Ù„Ø§Ø« Ø¹Ù‚Ø¯Ø© ZooKeeper ÙˆØ³Ù…Ø§Ø³Ø±Ø© Apache Kafka</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/496032/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ÙŠÙˆÙ… Ø¬ÙŠØ¯! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù‚Ø§Ù„Ø© ØŒ Ø³Ù†Ù†Ø¸Ø± ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ù† Ø«Ù„Ø§Ø« Ø¹Ù‚Ø¯ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ZooKeeper</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Ø®Ø¯Ù…Ø© ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ÙˆØ²Ø¹) ØŒ Ø§Ø«Ù†Ø§Ù† Ù…Ù†Ù‡Ø§ ÙˆØ³Ø·Ø§Ø¡ Ø±Ø³Ø§Ø¦Ù„ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ÙƒØ§ÙÙƒØ§</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ØŒ ÙˆØ§Ù„Ø«Ø§Ù„Ø« Ù‡Ùˆ Ø§Ù„Ù…Ø¯ÙŠØ±. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ÙˆÙ†ØªÙŠØ¬Ø© Ù„Ø°Ù„Ùƒ ØŒ Ø³ÙŠØªÙ… ØªÙ†ÙÙŠØ° Ù…Ø®Ø·Ø· Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„ØªØ§Ù„ÙŠ:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ow/ui/nt/owuint44rztxj8owu1ba3rkino8.png" alt="ØµÙˆØ±Ø©"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø² ÙˆØ§Ø­Ø¯ ØŒ Ù…Ù† Ø£Ø¬Ù„ Ø§Ù„Ø¨Ø³Ø§Ø·Ø© ØŒ Ø³ÙˆÙ Ù†Ø³ØªØ®Ø¯Ù… Ù†Ø§Ø´Ø± ÙˆØ­Ø¯Ø© Ø§Ù„ØªØ­ÙƒÙ… (Ø§Ù„Ù…Ù†ØªØ¬) ÙˆØ±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù…Ø´ØªØ±Ùƒ (Ø§Ù„Ù…Ø³ØªÙ‡Ù„Ùƒ) Ø§Ù„Ù…Ø¯Ù…Ø¬Ø©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ØªÙ… Ø¨Ù†Ø§Ø¡ ÙˆØ­Ø¯Ø© ZooKeeper ÙÙŠ Ø­Ø²Ù…Ø© Kafka ØŒ Ù†Ø³ØªØ®Ø¯Ù…Ù‡Ø§.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ø§Ù„ØªØ«Ø¨ÙŠØª ÙˆØ§Ù„Ø¥Ø¹Ø¯Ø§Ø¯</font></font></h4><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ØªØ«Ø¨ÙŠØª Ø­Ø²Ù…Ø© Kafka</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ø­Ø§Ù„Ø© ØŒ ÙŠÙƒÙˆÙ† Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ´ØºÙŠÙ„ Ubuntu 16.04 LTS. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ØªÙˆØ¬Ø¯ Ø§Ù„Ø¥ØµØ¯Ø§Ø±Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ© ÙˆØ§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ© Ø¹Ù„Ù‰ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø±Ø³Ù…ÙŠ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="bash hljs">wget http://mirror.linux-ia64.org/apache/kafka/2.4.1/kafka_2.12-2.4.1.tgz<font></font>
tar -xvzf kafka_2.12-2.4.1.tgz </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ø¥Ù†Ø´Ø§Ø¡ Ø£Ø¯Ù„Ø© Ø¹Ù…Ù„ Ù„Ù„Ø¹Ù‚Ø¯ Ø§Ù„Ø«Ù„Ø§Ø« server_1 Ùˆ server_2 Ùˆ server_3.</font></font><br>
<br>
<pre><code class="bash hljs">mv kafka_2.12-2.4.1 kafka_server_1<font></font>
cp -r kafka_server_1/ kafka_server_2/<font></font>
cp -r kafka_server_1/ kafka_server_3/</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ØªÙƒÙˆÙŠÙ† Ø§Ù„Ø¹Ù‚Ø¯</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ØªÙƒÙˆÙŠÙ† ÙˆØ³ÙŠØ· ÙƒØ§ÙÙƒØ§ </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
(Ù…Ù† Ø§Ù„Ø¯Ù„Ø§Ø¦Ù„ kafka_server_1 Ùˆ kafka_server_2 Ùˆ kafka_server_3 ØŒ Ø¹Ù„Ù‰ Ø§Ù„ØªÙˆØ§Ù„ÙŠ)</font></font><br>
<br>
<pre><code class="bash hljs">vim config/server.properties</code></pre><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ù…Ø¹Ø±Ù Ø§Ù„ÙˆØ³ÙŠØ· (0 ØŒ 1 ØŒ 2 Ø¹Ù„Ù‰ Ø§Ù„ØªÙˆØ§Ù„ÙŠ)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ù…Ù†ÙØ° Ø§Ù„Ø¹Ù…ÙŠÙ„ (9092 ØŒ 9093 ØŒ 9094)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ù…Ù†ÙØ° ZooKeeper (2181 ØŒ 2182 ØŒ 2183)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø³Ø¬Ù„ (/ tmp / kafka-logs-1ØŒ / tmp / kafka-logs-2ØŒ / tmp / kafka-logs-3)</font></font></li>
</ul><br>
<pre><code class="bash hljs">broker.id=0<font></font>
listeners=PLAINTEXT://:9092<font></font>
zookeeper.connect=localhost:2181   <font></font>
log.dirs=/tmp/kafka-logs-1</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ØªÙƒÙˆÙŠÙ† Znode:</font></font><br>
<br>
<pre><code class="bash hljs">vim config/zookeeper.properties</code></pre><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ø¯Ù„ÙŠÙ„ Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª (/ tmp / zookeeper_1 Ùˆ / tmp / zookeeper_2 Ùˆ / tmp / zookeeper_3)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ù…Ù†ÙØ° Ø§Ù„Ø¹Ù…ÙŠÙ„ (2181 ØŒ 2182 ØŒ 2183)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ø¹Ø¯Ø¯ Ø§ØªØµØ§Ù„Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„ ÙˆØ­Ø¯ÙˆØ¯ Ø§Ù„Ø§ØªØµØ§Ù„</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ù…Ù†Ø§ÙØ° Ù„ØªØ¨Ø§Ø¯Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨ÙŠÙ† Ø§Ù„Ø¹Ù‚Ø¯ (Ø£ÙŠ Ù†Ø¨Ù„Øº ÙƒÙ„ Ø¹Ù‚Ø¯Ø© Ø¹Ù† ÙˆØ¬ÙˆØ¯ Ø£Ø®Ø±Ù‰)</font></font></li>
</ul><br>
<pre><code class="bash hljs">dataDir=/tmp/zookeeper_1<font></font>
clientPort=2181<font></font>
maxClientCnxns=60<font></font>
initLimit=10<font></font>
syncLimit=5<font></font>
tickTime=2000<font></font>
server.1=localhost:2888:3888<font></font>
server.2=localhost:2889:3889<font></font>
server.3=localhost:2890:3890</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ø¥Ù†Ø´Ø§Ø¡ Ø£Ø¯Ù„Ø© Ù„Ø¹Ù‚Ø¯ ZooKeeper ØŒ ÙˆÙƒØªØ§Ø¨Ø© Ù…Ø¹Ø±Ù Ø§Ù„Ø¹Ù‚Ø¯Ø© Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø®Ø¯Ù…Ø©:</font></font><br>
<br>
<pre><code class="bash hljs">mkdir -p /tmp/zookeeper_[1..3]
<span class="hljs-built_in">echo</span> <span class="hljs-string">"1"</span> &gt;&gt; /tmp/zookeeper_1/myid
<span class="hljs-built_in">echo</span> <span class="hljs-string">"2"</span> &gt;&gt; /tmp/zookeeper_2/myid
<span class="hljs-built_in">echo</span> <span class="hljs-string">"3"</span> &gt;&gt; /tmp/zookeeper_3/myid</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ÙÙŠ Ø­Ø§Ù„Ø© ÙˆØ¬ÙˆØ¯ Ù…Ø´Ø§ÙƒÙ„ ÙÙŠ Ø­Ù‚ÙˆÙ‚ Ø§Ù„ÙˆØµÙˆÙ„ ØŒ Ù‚Ù… Ø¨ØªØºÙŠÙŠØ±Ù‡Ø§ ÙÙŠ Ø§Ù„Ø¯Ù„Ø§Ø¦Ù„ ÙˆØ§Ù„Ù…Ù„ÙØ§Øª:</font></font><br>
<br>
<pre><code class="bash hljs">sudo chmod 777 /tmp/zookeeper_1</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¹Ù‚Ø¯- z ÙˆØ§Ù„ÙˆØ³Ø·Ø§Ø¡</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„Ù„Ø¹Ù‚Ø¯ØªÙŠÙ† Ø§Ù„Ø£ÙˆÙ„ÙŠÙŠÙ† (kafka_server_1 / ØŒ kafka_server_2 /) ØŒ Ù‚Ù… Ø¨ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„Ù†ØµÙŠØ© Ù„Ø®ÙˆØ§Ø¯Ù… ZooKeeper Ùˆ Kafka ØŒ ÙØ§Ù„ÙˆØ³ÙŠØ·Ø§Øª Ù‡ÙŠ Ù…Ù„ÙØ§Øª Ø§Ù„ØªÙƒÙˆÙŠÙ† Ø§Ù„Ù…Ù‚Ø§Ø¨Ù„Ø©:</font></font><br>
<br>
<pre><code class="bash hljs">sudo bin/zookeeper-server-start.sh config/zookeeper.properties<font></font>
sudo bin/kafka-server-start.sh config/server.properties</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ù„Ù„Ø¹Ù‚Ø¯Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø© (kafka_server_3 /) - ÙÙ‚Ø· ZooKeeper. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„Ù†ØµÙŠØ© Ù„Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø®ÙˆØ§Ø¯Ù…:</font></font><br>
<br>
<pre><code class="bash hljs">sudo bin/kafka-server-stop.sh<font></font>
sudo bin/zookeeper-server-stop.sh</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ø¥Ù†Ø´Ø§Ø¡ Ø³Ù…Ø© ÙˆÙ…Ù†ØªØ¬ ÙˆØ­Ø¯Ø© Ø§Ù„ØªØ­ÙƒÙ… ÙˆØ§Ù„Ù…Ø³ØªÙ‡Ù„Ùƒ</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ (Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹) - ØªØ¯ÙÙ‚ Ø±Ø³Ø§Ø¦Ù„ Ù…Ù† Ù†ÙˆØ¹ Ù…Ø¹ÙŠÙ† ØŒ Ù…Ù‚Ø³Ù…Ø© Ø¥Ù„Ù‰ Ø£Ù‚Ø³Ø§Ù… (ÙŠØªÙ… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙƒÙ…ÙŠØ© Ø¨ÙˆØ§Ø³Ø·Ø© Ù…ÙØªØ§Ø­ - Ø§Ù„Ù‚Ø³Ù…). </font><font style="vertical-align: inherit;">ÙŠØªÙ… ØªÙƒØ±Ø§Ø± ÙƒÙ„ Ù‚Ø³Ù… Ø¹Ù„Ù‰ Ø®Ø§Ø¯Ù…ÙŠÙ† (Ø¹Ø§Ù…Ù„ Ø§Ù„ØªÙƒØ±Ø§Ø±). </font><font style="vertical-align: inherit;">Ø¨Ø¹Ø¯ Ø§Ù„Ù…ÙØªØ§Ø­ --bootstrap-server ØŒ Ø­Ø¯Ø¯ Ù…Ù†Ø§ÙØ° ÙˆØ³Ø·Ø§Ø¡ Kafka Ù…ÙØµÙˆÙ„ÙŠÙ† Ø¨ÙÙˆØ§ØµÙ„. </font><font style="vertical-align: inherit;">ÙŠØ­Ø¯Ø¯ Ù…ÙØªØ§Ø­ --topic Ø§Ø³Ù… Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹.</font></font><br>
<br>
<pre><code class="bash hljs">sudo bin/kafka-topics.sh --create --bootstrap-server localhost:9092,localhost:9093 --replication-factor 2 --partitions 2 --topic TestTopic</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ù„Ù…Ø¹Ø±ÙØ© Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ÙˆØ§Ø¶ÙŠØ¹ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ÙØ° ØŒ ÙŠÙ…ÙƒÙ† Ø¥Ø¬Ø±Ø§Ø¡ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø­ÙˆÙ„ ÙƒÙ„ Ù…ÙˆØ¶ÙˆØ¹ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£Ù…Ø±:</font></font><br>
<br>
<pre><code class="bash hljs">sudo bin/kafka-topics.sh --list --zookeeper localhost:2181           <font></font>
sudo bin/kafka-topics.sh --zookeeper localhost:2181 --describe --topic TestTopic</code></pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Leader - Ø®Ø§Ø¯Ù… Ù…Ø²ÙˆØ¯ Ø¨Ø§Ù„Ù…Ø«ÙŠÙ„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ù„Ù„Ù‚Ø³Ù… ØŒ Ù†Ø³Ø®Ø© Ø·Ø¨Ù‚ Ø§Ù„Ø£ØµÙ„ - Ø§Ù„Ø®Ø§Ø¯Ù… Ø§Ù„Ø°ÙŠ ÙŠØªÙ… ØªÙƒØ±Ø§Ø± Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ù„ÙŠÙ‡ ØŒ ISR - Ø§Ù„Ø®ÙˆØ§Ø¯Ù… Ø§Ù„ØªÙŠ ØªØ£Ø®Ø° Ø¯ÙˆØ± Ø§Ù„Ù‚Ø§Ø¯Ø© ÙÙŠ Ø­Ø§Ù„Ø© ÙØ´Ù„ Ø§Ù„Ø²Ø¹ÙŠÙ…. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ù†Ù‚ÙˆÙ… Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù†ØªØ¬ ÙˆØ­Ø¯Ø© Ø§Ù„ØªØ­ÙƒÙ… ØŒ Ù…Ø³ØªÙ‡Ù„Ùƒ ÙˆØ­Ø¯Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„Ù†ØµÙŠØ© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©:</font></font><br>
<br>
<pre><code class="bash hljs">sudo bin/kafka-console-producer.sh --broker-list localhost:9092,localhost:9093 --topic TestTopic<font></font>
sudo bin/kafka-console-consumer.sh --bootstrap-server localhost:9092,localhost:9093 --from-beginning --topic TestTopic</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ÙˆÙ‡Ø°Ø§ ÙŠØ¶Ù…Ù† Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…Ø³ØªÙ…Ø± Ù„Ù„Ø±Ø³Ø§Ø¦Ù„ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø³ØªÙ„Ù… ØŒ ÙÙŠ Ø­Ø§Ù„Ø© ÙØ´Ù„ ÙˆØ³ÙŠØ· Ø±Ø³Ø§Ø¦Ù„ ÙˆØ§Ø­Ø¯ ÙŠØ¹Ø§Ù„Ø¬ Ø§Ù„Ø«Ø§Ù†ÙŠ.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ø®Ø¯Ù…Ø§Øª zookeeper Ùˆ kafka ÙÙŠ systemctl</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ù„ØªØ³Ù‡ÙŠÙ„ Ø¨Ø¯Ø¡ ØªØ´ØºÙŠÙ„ Ù…Ø¬Ù…ÙˆØ¹Ø© ØŒ ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ù†Ø´Ø§Ø¡ Ø®Ø¯Ù…Ø§Øª ÙÙŠ systemctl: zookeeper_1.service ØŒ zookeeper_2.service ØŒ zookeeper_3.service ØŒ kafka_1.service ØŒ kafka_2.service. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ù†Ù‚ÙˆÙ… Ø¨ØªØ­Ø±ÙŠØ± Ø§Ù„Ù…Ù„Ù /etc/systemd/system/zookeeper_1.service (Ù‚Ù… Ø¨ØªØºÙŠÙŠØ± Ø§Ù„Ø¯Ù„ÙŠÙ„ / Ø§Ù„Ù…Ù†Ø²Ù„ / Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆÙ…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¥Ù„Ù‰ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø¶Ø±ÙˆØ±ÙŠØ©).</font></font><br>
<br>
<pre><code class="bash hljs">[Unit]<font></font>
Requires=network.target remote-fs.target<font></font>
After=network.target remote-fs.target<font></font>
<font></font>
[Service]<font></font>
Type=simple<font></font>
User=user<font></font>
ExecStart=home/user/kafka_server_1/bin/zookeeper-server-start.sh /home/user/kafka_server_1/config/zookeeper.properties<font></font>
ExecStop=/home/user/kafka_server_1/bin/zookeeper-server-stop.sh<font></font>
Restart=on-abnormal<font></font>
<font></font>
[Install]<font></font>
WantedBy=multi-user.target</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„Ù„Ø®Ø¯Ù…Ø§Øª zookeeper_2.service Ùˆ zookeeper_3.service ÙÙ‡ÙŠ Ù…ØªØ´Ø§Ø¨Ù‡Ø©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ù…Ù„Ù /etc/systemd/system/kafka_1.service:</font></font><br>
<pre><code class="bash hljs">[Unit]<font></font>
Requires=zookeeper.service<font></font>
After=zookeeper.service<font></font>
<font></font>
[Service]<font></font>
Type=simple<font></font>
User=user<font></font>
ExecStart=/bin/sh -c <span class="hljs-string">'/home/user/kafka_server_1/bin/kafka-server-start.sh /home/user/kafka_server_1/config/server.properties &gt; /tmp/kafka-logs-1 2&gt;&amp;1'</span><font></font>
ExecStop=/home/user/kafka_server_1/bin/kafka-server-stop.sh<font></font>
Restart=on-abnormal<font></font>
<font></font>
[Install]<font></font>
WantedBy=multi-user.target</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
kafka_2.service Ù…Ø´Ø§Ø¨Ù‡. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø®Ø¯Ù…Ø§Øª ÙˆØ§Ù„ØªØ­Ù‚Ù‚ Ù…Ù†Ù‡Ø§</font></font></b><br>
<br>
<pre><code class="bash hljs">systemctl daemon-reload<font></font>
systemctl <span class="hljs-built_in">enable</span> zookeeper_1.service <span class="hljs-comment">#  </span><font></font>
systemctl start zookeeper_1.service<font></font>
sudo journalctl -u zookeeper_1.service <span class="hljs-comment">#   </span>
systemctl stop zookeeper_1.service</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ÙˆÙŠÙ†Ø·Ø¨Ù‚ Ø§Ù„Ø´ÙŠØ¡ Ù†ÙØ³Ù‡ Ø¹Ù„Ù‰ zookeeper_2.service Ùˆ zookeeper_3.service Ùˆ kafka_1.service Ùˆ kafka_1.service. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ø´ÙƒØ±Ø§ Ù„Ù„Ø§Ù†ØªØ¨Ø§Ù‡!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar496022/index.html">Ø§Ù„Ø¨ÙƒØªÙŠØ±ÙŠØ§ Ø§Ù„Ù…ØªØ·Ø±ÙØ©: ÙƒÙŠÙ ØªØ¹ÙŠØ´ ØªØ­Øª Ù‚Ø§Ø¹ Ø§Ù„Ù…Ø­ÙŠØ·</a></li>
<li><a href="../ar496024/index.html">Ø§Ù„Ø¹Ù†ÙˆØ§Ù† "Ù‚Ø±Ø§Ø¡Ø© Ù…Ù‚Ø§Ù„Ø§Øª Ù„Ùƒ". Ù…Ø§Ø±Ø³ 2020. Ø§Ù„Ø¬Ø²Ø¡ 1</a></li>
<li><a href="../ar496026/index.html">Ø¥Ù†Ù‡ Ù„ÙŠØ³ Ù…Ø¹Ùƒ ÙÙ‚Ø·. Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª ÙŠØªØ¨Ø§Ø·Ø£ ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø£Ù†Ø­Ø§Ø¡ Ø§Ù„Ø¹Ø§Ù„Ù… Ø¨Ø³Ø¨Ø¨ Ø²ÙŠØ§Ø¯Ø© Ø­Ø±ÙƒØ© Ø§Ù„Ù…Ø±ÙˆØ±</a></li>
<li><a href="../ar496028/index.html">ÙÙŠØ±ÙˆØ³Ø§Øª Ø§Ù„ØªØ§Ø¬ÙŠØ© ÙˆØ§Ù„Ø£Ø²Ù…Ø§Øª ÙˆØ§Ù†Ø¹ÙƒØ§Ø³Ø§Øª ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª</a></li>
<li><a href="../ar496030/index.html">Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø£Ù…Ù† 15: Ù†Ù‚Ø§Ø· Ø§Ù„Ø¶Ø¹Ù Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ© ÙˆØ§Ù„ØªÙ‚Ù„ÙŠØ¯ÙŠØ©</a></li>
<li><a href="../ar496036/index.html">Ø§Ù„Ù…ØµØ¯Ø± Ø§Ù„Ù…ÙØªÙˆØ­: CI / CD Ùˆ Avito Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„ØªØ­ØªÙŠØ© Ù„Ù†Ø¸Ø§Ù… Android</a></li>
<li><a href="../ar496038/index.html">Ø§Ù„Ø¨ÙŠÙ„ÙŠØ±ÙˆØ¨ÙŠÙ† - Ø§Ù„Ø¬Ø²ÙŠØ¡ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ Ø¹Ù† Ø§Ù„ÙŠØ±Ù‚Ø§Ù†</a></li>
<li><a href="../ar496040/index.html">10 Zen Lifehacks</a></li>
<li><a href="../ar496042/index.html">Ù‡Ø§Ø¨Ø± ØŒ Ù„Ù† Ø£Ø¨Ù„ØºÙƒ Ø¨Ø£Ø®Ø·Ø§Ø¡ Ø¹Ù„Ù‰ Ù…ÙˆÙ‚Ø¹Ùƒ</a></li>
<li><a href="../ar496044/index.html">Ø¥Ø·Ù„Ø§Ù‚ Ø§Ù„Ù…Ø±ÙƒØ¨Ø§Øª Ø§Ù„ÙØ¶Ø§Ø¦ÙŠØ© Ùˆ ... Ø§Ù„Ø·Ù‚Ø³ ÙÙŠ Ø§Ù„Ù…Ù†Ø§Ø·Ù‚</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>