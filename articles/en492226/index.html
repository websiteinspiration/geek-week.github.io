<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèø‚Äçüç≥ üë®üèæ‚Äç‚öñÔ∏è üë©üèæ‚Äçü§ù‚Äçüë©üèº Price Comparison on Managed Kubernetes (2020) üë©üèΩ üéÅ üå®Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Note perev. : American DevOps engineer Sid Palas, using the recent announcement of Google Cloud as an information guide, compared the cost of Managed ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Price Comparison on Managed Kubernetes (2020)</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/492226/"><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Note perev.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : American DevOps engineer Sid Palas, using the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">recent announcement of Google Cloud</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> as an information guide, compared the cost of Managed Kubernetes service (in different configurations) from the world's leading cloud providers. An additional advantage of his work was the publication of the corresponding Jupyter Notebook, which allows (with minimal knowledge of Python) to adjust the calculations to fit your needs. </font></font></i><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TL; DR</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: Azure and Digital Ocean do not charge for the computing resources used for the control plane, which makes them a good choice for deploying many small clusters. </font><font style="vertical-align: inherit;">GKE is best suited to run a small number of large clusters. </font><font style="vertical-align: inherit;">In addition, you can seriously reduce costs by using spot / crowded out / low-priority nodes or by ‚Äúsubscribing‚Äù to long-term use of the same nodes (this applies to all platforms).</font></font><a name="habracut"></a><br>
<br>
<img src="https://habrastorage.org/webt/rz/jt/ps/rzjtpszklkplbjbrity8q1m6ia0.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cluster size (number of workers)</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">General information</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The recent Google Cloud</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> announcement of the start of charging 10 cents per hour for each cluster at GKE prompted me to analyze the prices of the main offers in the area of ‚Äã‚Äãmanaged Kubernetes. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ky/_g/ez/ky_gezi8kx1pxfkzvd6p2ulltds.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This announcement greatly upset some ...</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
The main characters of the article are:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google Kubernetes Engine (GCP) - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">price calculator</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Elastic Kubernetes Service (AWS) - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">price calculator</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Azure Kubernetes Service (Azure) - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">price calculator</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kubernetes on Digital Ocean - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pricing page</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cost breakdown</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The total costs of using Kubernetes in each of these platforms are made up of the following components:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Cluster management fee;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Load balancing (for Ingress);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Computing resources (vCPU and memory) of workers;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Egress traffic</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Permanent storage</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Processing data by a load balancer.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In addition, cloud providers offer significant discounts if the client wants / can use preemptible, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">spot</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> or low-priority nodes OR agrees to use the same nodes for 1-3 years. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It is worth emphasizing that, although cost is a good basis for comparing and evaluating service providers, other factors should be considered:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Uptime (Service Level Agreement);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Surrounding cloud ecosystem;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Available versions of K8s;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Quality of documentation / toolkit.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
However, these factors are beyond the scope of this article / study. </font><font style="vertical-align: inherit;">A </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">February StackRox blog post</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> discusses non-price factors for EX, AKS, and GKE </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;">in</font></a><font style="vertical-align: inherit;"> detail.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notepad jupyter</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To simplify the search for the most profitable solution, I developed the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jupyter notebook</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , using plotly + ipywidgets in it. </font><font style="vertical-align: inherit;">It allows you to compare providers' offers for different cluster sizes and sets of services. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can practice the live version of the notepad in Binder: </font><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;">managed-kubernetes-price-exploration.ipynb on mybinder.org</font></a></i><font style="vertical-align: inherit;"> 
Let me know if the calculations or the original prices are incorrect (this can be done using issue or pull request in GitHub - </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;">here is the repository</font></a><font style="vertical-align: inherit;"> ) .</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><img src="https://habrastorage.org/webt/mf/p3/xi/mfp3xihpjct61kskwwslgmfp2x4.png"></a><br>
<i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"></font></a></i><br>
<br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">findings</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alas, there are too many nuances to provide more specific recommendations than those included in the TL; DR paragraph at the very beginning. </font><font style="vertical-align: inherit;">However, some conclusions can still be made:</font></font><br>
<br>
<ul>
<li>    GKE  EKS, AKS  Digital Ocean       . AKS  DO ,       (,    <i> </i>  <i> </i>).</li>
<li>      GKE        *.</li>
<li>            ,   50%. <i>:  Digital Ocean   .</i></li>
<li>      Google ,          (          ).</li>
<li>          CPU         .</li>
<li> Digital Ocean    vCPU          ‚Äî          .</li>
</ul><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* Note: the analysis uses data for </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">general-purpose</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> computing nodes </font><font style="vertical-align: inherit;">. These are instances of the n1 GCP Compute Engine, m5 AWS ec2, Azure D2v3 virtual machines, and DO droplets with dedicated CPUs. In turn, you can conduct research among other types of virtual machines (burstable, entry-level). At first glance, the cost of virtual machines depends linearly on the number of vCPUs and the amount of memory, but I'm not sure that this assumption will remain true for highly non-standard memory / CPU ratios.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
In </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The Ultimate Kubernetes Cost Guide: AWS vs GCP vs Azure vs Digital Ocean</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Published in 2018, a reference cluster was used with 100 vCPU cores and 400 GB of memory. </font><font style="vertical-align: inherit;">For comparison, according to my calculations, a similar cluster on each of these platforms (for on-demand-instances) will cost the following amount:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> AKS: 51465 USD / year</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> EKS: 43138 USD / year</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> GKE: 30870 USD / year</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> DO: 36131 USD / year</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I hope the article along with the notebook will help you evaluate the main offers of managed Kubernetes and / or save on cloud infrastructure, taking advantage of discounts and other features.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS from the translator</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Read also in our blog:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Äú </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kubecost Review for Cost Savings on Kubernetes in the Cloud</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‚Äù;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Äú </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Introducing Kubernetes CCM (Cloud Controller Manager) for Yandex</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;">Cloud</font></a><font style="vertical-align: inherit;"> ‚Äù;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cooking Kubernetes-cluster is easy and convenient? </font><font style="vertical-align: inherit;">Announce addon-operator</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‚Äù;</font></font></li>
<li> ¬´<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=">  Kubernetes   </a>¬ª.</li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en492214/index.html">Why is it worth making meetings while walking? Proven by science, confirmed by the mafia</a></li>
<li><a href="../en492216/index.html">Saving Values ‚Äã‚Äãin a .Net Application at the Build Stage</a></li>
<li><a href="../en492218/index.html">Icon Design Rules to Remember</a></li>
<li><a href="../en492220/index.html">5 little-known secrets of Pandas</a></li>
<li><a href="../en492222/index.html">Write-up CTFZone Quals 2019: Chicken</a></li>
<li><a href="../en492228/index.html">As Sports.ru wrote their WYSIWYG editor</a></li>
<li><a href="../en492232/index.html">How Smartcalls became Voximplant Kit - rebranding and killer features</a></li>
<li><a href="../en492234/index.html">Research: why people are ready to receive less in social projects</a></li>
<li><a href="../en492242/index.html">M5Stack and its contacts</a></li>
<li><a href="../en492244/index.html">Removal for the period of coronavirus: home "arrest" or time of opportunity?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>