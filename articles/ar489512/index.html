<!doctype html>
<html class="no-js" lang="ar">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐คผ ๐ ๐ด ุฑูุฑูุฉ. ูุชูุฉ ุ ููุฏู ุ ุบูุฑ ูุชุฒุงูู - ููุฏุณุฉ ุงูุฌุฑู ๐๐ฝ ๐ฉโโค๏ธโ๐โ๐ฉ ๐ญ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุงูููุฏูุฉ
 ุนูุฏูุง ุชุญุงูู ูุชุงุจุฉ ุชุทุจูู ุ ูุฅู ุฃูู ูุง ุชุตุงุฏูู ูู ููููุฉ ุชูุธูู ุจููุฉ ุงูุชุทุจูู. ูุนูุฏูุง ูุชุนูู ุงูุฃูุฑ ุจู Flutter ุ ูููู ููุฑุฃุณ ุฃู ูุฏูุฑ ุชูุงููุง ุญูู ูุง ุชูุฏ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ุฑูุฑูุฉ. ูุชูุฉ ุ ููุฏู ุ ุบูุฑ ูุชุฒุงูู - ููุฏุณุฉ ุงูุฌุฑู</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489512/"><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูููุฏูุฉ</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุนูุฏูุง ุชุญุงูู ูุชุงุจุฉ ุชุทุจูู ุ ูุฅู ุฃูู ูุง ุชุตุงุฏูู ูู ููููุฉ ุชูุธูู ุจููุฉ ุงูุชุทุจูู. </font><font style="vertical-align: inherit;">ูุนูุฏูุง ูุชุนูู ุงูุฃูุฑ ุจู Flutter ุ ูููู ููุฑุฃุณ ุฃู ูุฏูุฑ ุชูุงููุง ุญูู ูุง ุชูุฏูู Google - Vanilla ุ Scoped Model ุ BLoC ุ MVP ุ MVC ุ MVVM ุ MVI ุ ุฅูุฎ. </font><font style="vertical-align: inherit;">ูููุชุฑุถ ุฃูู ูุฑุฑุช ุงูุฐูุงุจ ุจุงูุทุฑููุฉ ุงูุฃูุซุฑ ุนุตุฑูุฉ (ุงูุทุฑููุฉ ุงูุชู ูุตุญุช ุจูุง Google ูู 2018) ูุงุณุชุฎุฏุงู BLOC. </font><font style="vertical-align: inherit;">ูุง ูุฐุงุ </font><font style="vertical-align: inherit;">ููููุฉ ุงุณุชุฎุฏุงููุงุ </font><font style="vertical-align: inherit;">ุฃู ุฑุจูุง Redux ุฃู RxDartุ </font><font style="vertical-align: inherit;">- ุนูู ุงูุฑุบู ูู ุฃู ุงููุญุทุฉ ุชุฏูุฑ ุญูู "ุงูุขุฎุฑ" ... ูููู ูุง ูู ุงูุฎุทูุฉ ุงูุชุงููุฉุ </font><font style="vertical-align: inherit;">ูุง ุงูููุชุจุงุช ููุงุชุตุงูุ </font><font style="vertical-align: inherit;">ูุชูุฉ ุ Flutter_bloc ุ bloc_pattern ุ ููุง ุฅูู ุฐููุ </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุซู ูุฐุง ุงูุนุฏุฏ ูู ุฎูุงุฑุงุช ูุฃุฏูุงุช ุงูููุฏุณุฉ ูุชูููุฐูุง ูููู ุฃู ูุคุฎุฑ ุญููุง ูุฑุญูุฉ ุงูุงุฎุชูุงุฑ ููุชุฑุฉ ุทูููุฉ.</font></font><br>
<a name="habracut"></a><br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููู ุงูููุงูุฉ</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุณุชููู ุงูููุงูุฉ ูููุฏุฉ ูู ุงูููุงู ุงูุฃูู ูุฃููุฆู ุงูุฐูู ุจุฏุฃูุง ููุชู ูู ุชุนูู Flutter ููุง ูุนุฑููู ูู ุฃูู ุชุจุฏุฃ. </font><font style="vertical-align: inherit;">ุณุฃุนุฑุถ ุฃุญุฏ ุงูุฎูุงุฑุงุช ูุชูููุฐ ุงูุชุทุจูู ุนูู Flutter. </font><font style="vertical-align: inherit;">ุณูุชูุญ ูู ุฐูู "ุงูุดุนูุฑ" ุจุงูุฑูุฑูุฉ ุ ุซู ููุฑุฑ ุจููุณู ููู ุณุชุณุชุฎุฏู ุชุทุจููุงุชู.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุฃููุงุท ูุงูุฃุฏูุงุช. </font><font style="vertical-align: inherit;">ููุฌุฒ ูุจุณูุท</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฐุง ุ ููุจุฏุฃ. ุฃูู ุดูุก ุฌุฏูุฑ ุจุงูููุงุญุธุฉ ูู ุฃู ููุงู ุจููุฉ ุชุทุจูู (ููุท ุ ูุงูุจ ุ ุจุนุถ ููููู ุงูุจูุงุก) - ูุฐุง ูู ููุณู ุชูุงููุง: BLoC ุ MVP ุ MVC ุ MVVM ุ MVI ุ ุฅูุฎ. ูุชู ุงุณุชุฎุฏุงู ุงูุนุฏูุฏ ูู ูุฐู ุงูุจููุงุช ููุณ ููุท ูู Flutter ุ ูููู ุฃูุถูุง ูู ูุบุงุช ุงูุจุฑูุฌุฉ ุงูุฃุฎุฑู. ุณุคุงู - ูุงุฐุง ุชุฎุชุงุฑ ููุ ูู ุฑุฃูู ุ ุฃูุช ุจุญุงุฌุฉ ุฅูู ุงุฎุชูุงุฑ ูุง ุชุนุฑูู ุจููุณู ุฌูุฏูุง ุ ูููู ููุท ุฅุฐุง ูุงู ูุฐุง ูุนูู ุถููููุง ุงูุชูุงุนู ููุตู ุตุงุฑู ุจูู ููุทู ุงูุฃุนูุงู ุนู ุงููุงุฌูุฉ (ูุนู ุ ูุนู - "ูููู ุฃู ุชููู ุงูุณูุงุฑุฉ ุฃู ููู ุฅุฐุง ูุงูุช ุณูุฏุงุก"). ุจุงููุณุจุฉ ูููุตู ุจูู ุงููุงุฌูุฉ ูุงูููุทู ุงูุชุฌุงุฑู ุ ุฃุนุชูุฏ ุฃูู ููุณุช ููุงู ุญุงุฌุฉ ููุชูุถูุญ ุ ูููู ุจุงููุณุจุฉ ููุชูุงุนู - ุฌุฑุจ ุ ุฅุฐุง ูู ุชุฌุฑุจ - ูู ุงูููุงูุฉ ุฅูู ูุฑูุญ ููุบุงูุฉ ู "ุฌููู". ุฅุฐุง ูู ุชุชููู ูู ุงุฎุชูุงุฑู ุจููุณู ุ ูุฏุนูุง ูุณูุญ ุจุฃู ูุชู ุฐูู ูู ุฃุฌููุง ููุณ ุจุฃูุซุฑ ุงูุฑุฌุงู ุบุจุงุก ูู Google - BLOC. ุงูุชุดููุง ุงูููุฏุณุฉ ุงููุนูุงุฑูุฉ.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุงูุขู ุงูุฃุฏูุงุช - ููุงู ููุชุจุงุช ุฌุงูุฒุฉ - Bloc ุ Flutter_bloc ุ bloc_pattern - ุฃูููุง ุฃูุถูุ ูุง ุฃุนุฑู - ุงูุฌููุน ุจุฎูุฑ. ููููู ุงูุงุฎุชูุงุฑ ูุงูููุงุฑูุฉ ููุชุฑุฉ ุทูููุฉ ุ ูููู ููุง ูุฑุฉ ุฃุฎุฑู ุ ููุง ูู ุงูุญุงู ูู ุงูุฌูุด - ูู ุงูุฃูุถู ุงุชุฎุงุฐ ูุฑุงุฑ ุฎุงุทุฆ ูู ุงูููุช ุงูุญุงูู ุจุฏูุงู ูู ุนุฏู ุงุชุฎุงุฐ ุฃู ูุฑุงุฑ. ููู ุงูููุช ุงูุญุงูู ุ ุฃูุชุฑุญ ุงูุนูุฏุฉ ูู ุฃุนูุงุจ ุงูุชุนุฏูู ูุงุณุชุฎุฏุงู ุงููููุฑ (ูุง ููุตู ุจู ููุณ ุงูุฃุดุฎุงุต ูู ุนุงู 2019).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ูุฐุง ุณูุณูุญ ููุง ุจุฅูุดุงุก ูุชูุฉ ุนุงูููุฉ ููุชูุฉ ูุญููุฉ ุ ุญุณุจ ุงูุญุงุฌุฉ. </font><font style="vertical-align: inherit;">ููุฏ ูุชุจ ุงููุซูุฑ ุนู ุจููุฉ BLoC (ุฃู ุงูููุท ุ ูููุณ ุงูููุชุจุงุช) ุ ุฃุนุชูุฏ ุฃูู ูุง ูุฌุจ ุฃู ุชููุฑ ููู ูุฑุฉ ุฃุฎุฑู ุจุงูุชูุตูู. </font><font style="vertical-align: inherit;">ุฃูุงุญุธ ููุทุฉ ูุงุญุฏุฉ ููุท ูู ูุฐู ุงูููุงูุฉ ุ ูู ูุชู ุงุณุชุฎุฏุงู BLoC ุงูููุงุณููู ุ ูููู ุชู ุชุนุฏููู ููููุงู - ูู ุฅุฌุฑุงุกุงุช BLoC (ุงูุฃุญุฏุงุซ) ูู ูุชู ููููุง ูู ุฎูุงู ุงูุฃุญูุงุถ ุ ูููู ุณูุชู ุงุณุชุฏุนุงุก ูุธุงุฆู BLoC. </font><font style="vertical-align: inherit;">ุจุจุณุงุทุฉ ุ ูู ุงูููุช ุงูุญุงูู ุ ูุง ุฃุฑู ููุงุฆุฏ ุงุณุชุฎุฏุงู ุงูุฃุญูุงุถ - ูุจูุง ุฃููุง ููุณุช ููุฌูุฏุฉ ุ ูููุงุฐุง ุชุนูุฏ ุญูุงุชูุ</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุนุฏู ุงูุชุฒุงูู ูุงูุญูุณุจุฉ ุงูููุงุฒูุฉ ูู Dart</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุง ูุณุชุญู ุงูุฃูุฑ ุชูุถูุญูุง ููููุงู ูููููู ุงูุชุฒุงูู ูู Dart ุ ูุฃููุง ูุชุญุฏุซ ุนู ุงูุชูุงุนู. ูู ูุซูุฑ ูู ุงูุฃุญูุงู ุ ูู ุงููุฑุงุญู ุงูุฃููู ูู ุงูุชุนุฑูู ุนูู Dart ุ ูุง ูุชู ููู ูุนูู ุงููุธุงุฆู ุบูุฑ ุงููุชุฒุงููุฉ (ุบูุฑ ุงููุชุฒุงููุฉ) ุจุดูู ุตุญูุญ. ูุฌุจ ุฃู ุชุชุฐูุฑ ุฏุงุฆููุง ุฃู ุงูุจุฑูุงูุฌ "ุงูุชุฑุงุถููุง" ูุนูู ูู ุณูุณูุฉ ูุญุงุฏุซุงุช ูุงุญุฏุฉ ุ ููุง ุชุณูุญ ูู ุงููุฒุงููุฉ ุจุชุบููุฑ ุชุณูุณู ุงูุฃูุงูุฑ ููุท ุ ุจุฏูุงู ูู ุชูููุฐูุง ูู ููุณ ุงูููุช. ุจูุนูู ุ ุฅุฐุง ููุช ุจุจุณุงุทุฉ ุจุชุดุบูู ุงููุธููุฉ ูุน ุญุณุงุจุงุช ูุจูุฑุฉ ููุท ุนู ุทุฑูู ูุถุน ุนูุงูุฉ ุนูููุง ุบูุฑ ูุชุฒุงููุฉ ุ ูุณูุชู ุญุธุฑ ุงููุงุฌูุฉ. ูุง ูุจุฏุฃ Async ูุคุดุฑ ุชุฑุงุจุท ุฌุฏูุฏ. ููููุฉ ุนูู ุนุฏู ุงูุชุฒุงูู ูุงูุงูุชุธุงุฑ ููุงู ุงููุซูุฑ ูู ุงููุนูููุงุช ุนูู ุงูุฅูุชุฑูุช ุ ูุฐูู ูู ุฃุชุทุฑู ุฅูู ูุฐุง ุฃูุถูุง.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฅูู ุฅุฌุฑุงุก ุจุนุถ ุงูุนูููุงุช ุงูุญุณุงุจูุฉ ุงููุจูุฑุฉ ููู ุงูููุช ููุณู ุนุฏู ุญุธุฑ ุงููุงุฌูุฉ ุ ูุฃูุช ุจุญุงุฌุฉ ุฅูู ุงุณุชุฎุฏุงู ูุธููุฉ ุงูุญุณุงุจ (ูููุชุฎุตุตูู ุงูุฎุงุตูู ููููู ุงุณุชุฎุฏุงู ุงูุนุฒูุงุช). </font><font style="vertical-align: inherit;">ุณูุจุฏุฃ ูุฐุง ุจุงููุนู ุณูุณูุฉ ูููุตูุฉ ูู ุงูุชูููุฐ ุ ูุงูุชู ุณูููู ููุง ุฃูุถูุง ููุทูุฉ ุฐุงูุฑุฉ ูููุตูุฉ ุฎุงุตุฉ ุจูุง (ููู ุฃูุฑ ูุญุฒู ููุบุงูุฉ ููุญุฒู ููุบุงูุฉ). </font><font style="vertical-align: inherit;">ููููู ุงูุชูุงุตู ูุน ูุฐู ุงูุชุฏููุงุช ููุท ูู ุฎูุงู ุงูุฑุณุงุฆู ุงูุชู ูููู ุฃู ุชุญุชูู ุนูู ุฃููุงุน ุจูุงูุงุช ุจุณูุทุฉ ูููุงุฆููุง.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฏุนูุง ูุจุฏุฃ ูู ุงูููุงุฑุณุฉ</font></font></h1><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุตูุงุบุฉ ุงููุดููุฉ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุญุงูู ูุชุงุจุฉ ุฃุจุณุท ุชุทุจูู - ููููู ููุนูุง ูู ุฏููู ุงููุงุชู. </font><font style="vertical-align: inherit;">ุณูุณุชุฎุฏู Firebase ููุฎุฒู - ููุฐุง ุณูุณูุญ ููุง ุจุฅูุดุงุก ุชุทุจูู "ุณุญุงุจู". </font><font style="vertical-align: inherit;">ุณูู ุฃุชุฎุทู ููููุฉ ุชูุตูู Firebase ุจุงููุดุฑูุน (ุชูุช ูุชุงุจุฉ ุฃูุซุฑ ูู ููุงูุฉ ูุงุญุฏุฉ ุญูู ูุฐุง ุงูููุถูุน ููุง ุฃุฑู ููุทุฉ ุงูุชูุฑุงุฑ. ููุงุญุธุฉ: ูุชู ุงุณุชุฎุฏุงู Cloud Firestore ูู ูุฐุง ุงููุดุฑูุน.). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฌุจ ุฃู ูููู ูุซู ูุฐุง:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xy/yj/js/xyyjjsknqbe1owqlc1vnbnec-pu.gif"><br>
<br>
<h1> <br>
</h1><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุตู ุงูุชุทุจูู</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุณูุญุชูู ุทูุจูุง ุฎุงุฑุฌููุง ุนูู:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงูุฐุฉ ูุตุงุฏูุฉ Firebase (ุณูุชู ุชุถููู ููุทู ูุฐู ุงููุงูุฐุฉ ูู MainBloc).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงูุฐุฉ ุงููุนูููุงุช - ุณุชุนุฑุถ ูุนูููุงุช ุญูู ุงููุณุชุฎุฏู ุงูุฐู ุชู ุชุฑุฎูุต ุงูุจุฑูุงูุฌ ุจููุฌุจู (ุณูุชู ุชุถููู ููุทู ูุฐู ุงููุงูุฐุฉ ุฃูุถูุง ูู MainBloc).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงูุฐุฉ ุฏููู ุนูู ุดูู ูุงุฆูุฉ ุจุงูููุงุชู (ููุทู ูุฐู ุงููุงูุฐุฉ ุณูุญุชูู ูู PhonebookBloc ูููุตู).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงุฆูุฉ ุงูุชุทุจูู ุงูุชู ุณุชุจุฏู ุงูุดุงุดุงุช.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุณูุชู ุฅูุดุงุก ุงูุชุทุจูู ุงูุฏุงุฎูู ุนูู ุงููุญู ุงูุชุงูู: ุณุชุญุชูู ูู ุดุงุดุฉ ุนูู ููู ูุญุชูู ุนูู ุฃุฏูุงุช ุงูุดุงุดุฉ ุ ูููู ุงููุชูุฉ (ูุน ูุฆุฉ ุงููุชูุฉ ุงูููุงุจูุฉ) ุ ูููู ุงูุฅุฌุฑุงุกุงุช (ูุญุชูู ุนูู ูุฆุงุช ุจุณูุทุฉ ุชุตู ุงูุฃุญุฏุงุซ ุงูุชู ุชุคุซุฑ ุนูู ุญุงูุฉ ุงููุชูุฉ) ุ ูููู ุงูุญุงูุงุช (ูุญุชูู ุนูู ูุฆุงุช ุจุณูุทุฉ ุชุนูุณ ุญุงูุฉ ุงููุชูุฉ ) ุ ููู data_model ุงูุฐู ูุญุชูู ุนูู ูุฆุฉ ุงููุณุชูุฏุน (ุงููุณุคููุฉ ุนู ุงุณุชูุจุงู ุงูุจูุงูุงุช) ููุฆุฉ ุงูุจูุงูุงุช (ูุฎุฒู ุจูุงูุงุช ููุทู ุนูู ุงููุชูุฉ).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุณูุนูู ุงูุชุทุจูู ุนูู ูุฐุง ุงููุญู - ุนูุฏ ูุชุญ ุงูุดุงุดุฉ ุ ุชุชู ุชููุฆุฉ ุงููุชูุฉ ุงูููุงุจูุฉ ุจุงููููุฉ ุงูุฃูููุฉ ููุญุงูุฉ ุ ูุฅุฐุง ูุฒู ุงูุฃูุฑ ุ ูุชู ุงุณุชุฏุนุงุก ุจุนุถ ุงูุฅุฌุฑุงุกุงุช ุงูุฃูููุฉ ูู ูููุดุฆ ุงููุชูุฉ. </font><font style="vertical-align: inherit;">ูุชู ุจูุงุก / ุฅุนุงุฏุฉ ุจูุงุก ุงูุดุงุดุฉ ุจูุงุกู ุนูู ุงูุญุงูุฉ ุ ูุงูุชู ุชููู ุจุฅุฑุฌุงุน ุงููุชูุฉ. </font><font style="vertical-align: inherit;">ูููู ุงููุณุชุฎุฏู ุจุจุนุถ ุงูุฅุฌุฑุงุกุงุช ูู ุงูุชุทุจูู ุงูุชู ููุง ุฅุฌุฑุงุกุงุช ููุงุจูุฉ. </font><font style="vertical-align: inherit;">ูุชู ุชูุฑูุฑ ุงูุฅุฌุฑุงุกุงุช ุฅูู ูุฆุฉ ุงููุชูุฉ ุ ุญูุซ ุชุชู ูุนุงูุฌุชูุง ูู ูุธููุฉ mapEventToState ูุชุนูุฏ ุงููุชูุฉ ุงูุญุงูุฉ ุงูุฌุฏูุฏุฉ ุฅูู ุงูุดุงุดุฉ ุ ุจูุงุกู ุนูู ุฅุนุงุฏุฉ ุจูุงุก ุงูุดุงุดุฉ.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ุงูููู</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุจุงุฏุฆ ุฐู ุจุฏุก ุ ูููู ุจุฅูุดุงุก ูุดุฑูุน Flutter ูุงุฑุบ ููุฌุนู ูููู ุงููุดุฑูุน ูู ูุฐุง ุงูููุน (ุฃูุงุญุธ ุฃูู ูู ุงููุดุฑูุน ุงูุชุฌุฑูุจู ุณุชุจูู ุจุนุถ ุงููููุงุช ูุงุฑุบุฉ ูู ุงูููุงูุฉ):</font></font><br>
<br>
<img src="https://habrastorage.org/webt/h8/r5/5j/h8r55j-7shyieywjwqkpkj-lwxi.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงูุฐุฉ ุงูุชูููุถ. </font><font style="vertical-align: inherit;">Mainbloc</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุชุญุชุงุฌ ุงูุขู ุฅูู ุชูููุฐ ุงูุชูููุถ ูู Firebase. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุจุฏุฃ ุจุฅูุดุงุก ูุฆุงุช ุงูุฃุญุฏุงุซ (ูู ุงูููุงุณุจ ููู ุงูุจูุงูุงุช ูู ุฎูุงู ุงูุฃุญุฏุงุซ ูู ุงููุชูุฉ) ูุญุงูุงุช ุงููุชูุฉ ุงูุฑุฆูุณูุฉ: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
file MainBloc \ Actions</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainBlocAction</span></span>{<font></font>
  String get password =&gt; <span class="hljs-keyword">null</span>;<font></font>
  String get email =&gt; <span class="hljs-keyword">null</span>;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููู MainBloc \ ุงูุฏูู</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainBlocState</span></span>{<font></font>
  bool busy;<font></font>
  MainBlocState({<span class="hljs-keyword">this</span>.busy = <span class="hljs-keyword">false</span>});<font></font>
  copy(bool busy) {<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;<font></font>
  }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุชู ุงุณุชุฎุฏุงู ุนูุงูุฉ ูุดุบูู ูู ูุฆุฉ ุงูุญุงูุฉ ูุนุฑุถ progress_hud ูู ุงููุงุฌูุฉ ูุงุณุชุจุนุงุฏ ูุฑุงุกุฉ ุงูุจูุงูุงุช ุบูุฑ ุงูุถุฑูุฑูุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุนูุฏ ุงูุชูุฑูุฑ ุนุจุฑ ุงููุงุฆูุฉ. </font><font style="vertical-align: inherit;">ูุจู ุฃู ุชุจุฏุฃ ุฌููุน ุงูุนูููุงุช ูู ุงููุชูุฉ ุ ูุชู ุฅุตุฏุงุฑ ุญุงูุฉ ุฌุฏูุฏุฉ ูู ุงูููุน ุงููุฏูู ูุน ูุฌููุนุฉ ุงูุนูุงูุงุช ุงููุดุบููุฉ ุฅูู ุฏูู ุงูุฅุฎุฑุงุฌ - ูุจูุฐู ุงูุทุฑููุฉ ุชุชููู ุงููุงุฌูุฉ ุฅุดุนุงุฑูุง ุจุฃู ุงูุนูููุฉ ูุฏ ุจุฏุฃุช. </font><font style="vertical-align: inherit;">ูู ููุงูุฉ ุงูุนูููุฉ ุ ูุชู ุฅุฑุณุงู ุญุงูุฉ ุฌุฏูุฏุฉ ุฅูู ุงูุฏูู ูุน ูุณุญ ุงูุนูู ุงููุดุบูู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุตู ูุฑุซุฉ ูุฆุฉ MainBlocState ุญุงูุฉ ุงููุชูุฉ ุงูุฑุฆูุณูุฉ ููุชุทุจูู. </font><font style="vertical-align: inherit;">ูุตู ูุฑุซุฉ MainBlocAction ุงูุฃุญุฏุงุซ ุงูุชู ุชุญุฏุซ ูููุง.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุชุญุชูู ูุฆุฉ MainBloc ุนูู 4 ุนูุงุตุฑ ุฑุฆูุณูุฉ - ูุธููุฉ "ุชุญููู" ุงูุฃุญุฏุงุซ ุฅูู ุญุงูุงุช (mapEventToState ุงููุณุชูุจููุฉ) ุ ูุญุงูุฉ ุงููุชูุฉ ูู _blocState ุ ููุณุชูุฏุน ุญุงูุฉ ุงููุชูุฉ ูู ุงูุฑูุจู ุ ูุฏูู ุญุงูุฉ "ุงูุฅุฎุฑุงุฌ" (ุงูุฐู ุชุชุนูุจู ุนูุงุตุฑ ุงููุงุฌูุฉ) ูู blocStream. ุจุดูู ุฃุณุงุณู ุ ูุฐู ูููุง ุนูุงุตุฑ ุชููุฑ ูุธููุฉ ุงููุชูุฉ. ูู ุจุนุถ ุงูุฃุญูุงู ูููุตุญ ุจุงุณุชุฎุฏุงู ุฏููุชู ุฎุฑุฌ ูู ูุชูุฉ ูุงุญุฏุฉ - ูุซู ูุฐุง ุงููุซุงู ุณูููู ุฃูู. ูู ุฃุฏุฑุฌู ููุง - ููููู ุฑุคูุชู ุนู ุทุฑูู ุชูุฒูู ุงููุดุฑูุน. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุชุญุชูู ูุฆุฉ ูุณุชูุฏุน ุงููุชูุฉ ุนูู ููุทู ููุนูู ูุน Firebase ููุงุฆู (ุจูุงูุงุช) ูููู ุจุชุฎุฒูู ุงูุจูุงูุงุช ุงููุงุฒูุฉ ูููุทู ุงูุฃุนูุงู ุงูุฐู ุชููุฐู ูุฐู ุงููุชูุฉ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููู MainBloc \ data_model</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainRepo</span></span>{<font></font>
<font></font>
  <span class="hljs-keyword">final</span> MainData data = MainData();<font></font>
<font></font>
  FirebaseAuth get firebaseInst =&gt; MainData.firebaseInst;<font></font>
<font></font>
  FirebaseUser _currentUser;<font></font>
<font></font>
  <span class="hljs-function">Future&lt;bool&gt; <span class="hljs-title">createUserWithEmailAndPassword</span><span class="hljs-params">(
      String email, String password)</span> async </span>{
    <span class="hljs-keyword">var</span> dataUser;
      <span class="hljs-keyword">try</span> {<font></font>
        dataUser =<font></font>
            (await firebaseInst.createUserWithEmailAndPassword(<font></font>
                email: email, password: password))<font></font>
                .user;<font></font>
      } <span class="hljs-keyword">catch</span> (e) {<font></font>
        print(Error.safeToString(e));<font></font>
        print(e.code);<font></font>
        print(e.message);<font></font>
      }<font></font>
      <span class="hljs-keyword">if</span> (dataUser == <span class="hljs-keyword">null</span>){<font></font>
        data.setState(IsNotLogged());<font></font>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<font></font>
      }<font></font>
<font></font>
      _currentUser = dataUser;<font></font>
      data.setState(IsLogged(),<font></font>
          uid: _currentUser.uid,<font></font>
          email: _currentUser.email);<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<font></font>
  }<font></font>
<font></font>
  ...}<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainData</span> </span>{
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> firebaseInst = FirebaseAuth.instance;
  <span class="hljs-keyword">static</span> MainBlocState _authState = IsNotLogged();
  <span class="hljs-keyword">static</span> MainBlocState get authState =&gt; _authState;
  <span class="hljs-keyword">static</span> String _uid;
  <span class="hljs-keyword">static</span> String get uid =&gt; _uid;
  <span class="hljs-keyword">static</span> String _email;
  <span class="hljs-keyword">static</span> String get email =&gt; _email;<font></font>
<font></font>
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setState</span><span class="hljs-params">(MainBlocState newState,
      {String uid = <span class="hljs-string">''</span>, String email = <span class="hljs-string">''</span>})</span> </span>{<font></font>
    _authState = newState;<font></font>
    _uid = uid;<font></font>
    _email = email;<font></font>
  }<font></font>
}<font></font>
<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุชุฎุฒู ูุฆุฉ MainData ุฃูุถูุง ุงูุญุงูุฉ ุ ูููู ุญุงูุฉ ุงูุชูููุถ ูู Firebase ุ ูููุณ ุญุงูุฉ ุงููุชูุฉ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุฏ ูุชุจูุง ููุทู ุงููุชูุฉ ุงูุฑุฆูุณูุฉ ุ ูุงูุขู ูููููุง ุงูุจุฏุก ูู ุชูููุฐ ุดุงุดุฉ ุงูุชุฑุฎูุต / ุงูุชุณุฌูู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุชูุช ุชููุฆุฉ MainBloc ูู ุงูููู ุงูุฑุฆูุณู: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุงูููู ุงูุฑุฆูุณู</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-comment">// This widget is the root of your application.</span>
  <span class="hljs-meta">@override</span>
  <span class="hljs-function">Widget <span class="hljs-title">build</span><span class="hljs-params">(BuildContext context)</span> </span>{
    <span class="hljs-keyword">return</span> Provider(<font></font>
        create: (context) =&gt; MainBloc(),<font></font>
        dispose: (context, value) =&gt; value.dispose(),<font></font>
        child: MaterialApp(<font></font>
          routes: menuRoutes,<font></font>
        ));<font></font>
  }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุญุงู ุงูููุช ูุฅุฌุฑุงุก ุจุญุซ ุตุบูุฑ ุญูู StreamBuilder ููููุฑ ู StreamProvider ูุงููุณุชููู ูุงููุญุฏุฏ.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุฑุงุฌุน ุนู ููุฏูู ุงูุฎุฏูุงุช</font></font></h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููููุฑ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - ูููู ููุท ุงููููุฉ ุงููุฎุฒูุฉ ุฅูู ุฃุณูู ุงูุดุฌุฑุฉ. ููุง ููููู ุงููุตูู ุฅูููุง ุฅูุง ุจุนุฏ ุจูุงุก ุงูุทูู ุ ุฃู ุชุญุชุงุฌ ุฅูู ุจูุงุก ุงููุทุนุฉ ุงููุฑุนูุฉ. ุบูุฑ ูุณุคูู ุนู ุชุญุฏูุซ ุงูุญุงุฌูุงุช. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">StreamBuilder</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - ุนูุตุฑ ูุงุฌูุฉ ูุณุชุฎุฏู ูุฑุงูุจ ุงูุฏูู ููุชู ุฅุนุงุฏุฉ ุจูุงุฆู ุจุงููุงูู ุนูุฏูุง </font><b><font style="vertical-align: inherit;">ูุชููู</font></b><font style="vertical-align: inherit;"> ูุงุฆููุง ุฌุฏูุฏูุง ูู ุงูุฏูู. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">StreamProvider</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - ุนูุตุฑ ูุงุฌูุฉ ูุณุชุฎุฏู ูููู ุจูุฑุงูุจุฉ ุงูุฏูู ูุนูุฏ ุงุณุชูุงู ูุงุฆู ุฌุฏูุฏ ุ ูุดูุฑ ุฅูู ุฃูู ูุฌุจ ุฅุนุงุฏุฉ ุฅูุดุงุก ุนูุงุตุฑ ูุงุฌูุฉ ูุณุชุฎุฏู ุชุงุจุนุฉ (ุชูู ุงูุชู ุชู ุชุนุฑูููุง ุนูู ุฃููุง ูุฆุฉ ูููุตูุฉ ุจุงุณุชุฎุฏุงู ุทุฑููุฉ ุงูุจูุงุก). </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุณุชููู</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ู </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุญุฏุฏ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ู"ูุญูู ุงูุณูุฑ"ุ ุฃู ูุฐุง ูู ูู ุงููุงูุน "ุบูุงู" ูุญุชูู ุนูู ุจูุงุก ููุฎูู ุงููุทุนุฉ ูู ุงูุฃุณูู. ูู Selector-e ุ ููููู ุฅุฌุฑุงุก ุชุตููุฉ ุฅุถุงููุฉ ููุชุญุฏูุซุงุช.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุจุงูุชุงูู ุ ุนูุฏูุง ุชุญุชุงุฌ ุฅูู ุฅุนุงุฏุฉ ุจูุงุก ูุนุธู ุงูุดุงุดุฉ ูู ูู ุญุฏุซ ุ ููููู ุงุณุชุฎุฏุงู ุงูุฎูุงุฑ ูุน Provider ู StreamBuilder. </font><font style="vertical-align: inherit;">ุนูุฏูุง ูููู ูู ุงูุถุฑูุฑู ุฅุนุงุฏุฉ ุจูุงุก ุฃุฌุฒุงุก ูู ุดุฌุฑุฉ ุนูุงุตุฑ ูุงุฌูุฉ ุงููุณุชุฎุฏู ุจุงููุฑุจ ูู ุงูุฃูุฑุงู ุ ููู ุงููุณุชุญุณู ุงุณุชุฎุฏุงู StreamProvider ุจุงูุงุดุชุฑุงู ูุน Consumer and Selector ูุงุณุชุจุนุงุฏ ุนูููุงุช ุฅุนุงุฏุฉ ุงูุจูุงุก ุบูุฑ ุงูุถุฑูุฑูุฉ ููุดุฌุฑุฉ.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชูููุถ </font><font style="vertical-align: inherit;">ุงุณุชูุฑุงุฑ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุนูุฏ ุฏุฎูู ุงูุชุทุจูู ุ ูุฌุจ ุนูู ุงููุณุชุฎุฏู ุงููุตูู ุฅูู ูุงูุฐุฉ ุงูุชูููุถ / ุงูุชุณุฌูู ุ ููู ูุฐู ุงููุญุธุฉ ูุฌุจ ุฃูุง ุชููู ูุงุฆูุฉ ุงูุชุทุจูู ูุชุงุญุฉ ูู ุจุนุฏ. ุงูููุทุฉ ุงูุซุงููุฉ - ูุชุญุฏูุซ ูุฐู ุงูุดุงุดุฉ ุฌุฒุฆููุง ูุง ูุนูู ููุง ุ ูุฐูู ูููููุง ุงุณุชุฎุฏุงู StreamBuilder ูุจูุงุก ุงููุงุฌูุฉ. ูุงูููุทุฉ ุงูุซุงูุซุฉ ูู ุงููุดุฑูุน ูู ุงุณุชุฎุฏุงู Navigator ููุชููู ุจูู ุงูุดุงุดุงุช. ุนูุฏ ุงุณุชูุงู ุญุฏุซ ุชูููุถ ูุงุฌุญ ุ ูู ุงูุถุฑูุฑู ุงุณุชุฏุนุงุก ุงูุงูุชูุงู ุฅูู ุดุงุดุฉ ุงููุนูููุงุช. ูููู ููุท ุฏุงุฎู ุจูุงุก StreamBuilder ุ ูู ูุนูู ูุฐุง - ุณูููู ููุงู ุฎุทุฃ. ููุชุบูุจ ุนูู ูุฐุง ุ ููููู ุงุณุชุฎุฏุงู ูุฆุฉ ุงูุบูุงู ุงููุณุงุนุฏุฉ StreamBuilderWithListener (Eugene Brusov - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stackoverflow.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุงุฆูุฉ ูุฐู ุงูุดุงุดุฉ ูู auth_screen ููุณูุง (ุณุฃุนุทููุง ููุง ุฌุฒุฆููุง): </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููู auth_screen</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-function">Widget <span class="hljs-title">build</span><span class="hljs-params">(BuildContext context)</span> </span>{
  <span class="hljs-keyword">var</span> bloc = Provider.of&lt;MainBloc&gt;(context, listen: <span class="hljs-keyword">false</span>);
  <span class="hljs-keyword">return</span> StreamBuilderWithListener&lt;MainBlocState&gt;(<font></font>
      stream: bloc.blocStream.stream,<font></font>
      listener: (value) {<font></font>
        <span class="hljs-comment">//not allowed call navigator push in build</span>
        <span class="hljs-keyword">if</span> (value is IsLogged) {<font></font>
          Navigator.of(context).pushReplacementNamed(InfoScreen.nameMenuItem);<font></font>
        }<font></font>
      },<font></font>
      initialData: bloc.state,<font></font>
      builder: (context, snappShot) {<font></font>
        <span class="hljs-keyword">if</span> (snappShot.data is IsLoggedOnStart) {
          <span class="hljs-keyword">return</span> LoggedWidget();<font></font>
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (snappShot.data is IsLogged) {
          <span class="hljs-comment">//not allowed call navigator push in build</span>
          <span class="hljs-keyword">return</span> ModalProgressHUD(<font></font>
              inAsyncCall: <span class="hljs-keyword">true</span>,<font></font>
          child: Text(<span class="hljs-string">''</span>),);<font></font>
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (snappShot.data is IsNotLogged) {
          <span class="hljs-keyword">return</span> SignInAndSignUpWidget();<font></font>
        }<font></font>
        <span class="hljs-keyword">return</span> Scaffold(body: Text(<span class="hljs-string">"                Unknown event"</span>));<font></font>
      });<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฃููุงู ุ ูุชู ุฅูุดุงุก StreamBuilderWithListener ููุงุณุชูุงุน ุฅูู ุงูุฏูู ูู ุงููุชูุฉ. </font><font style="vertical-align: inherit;">ูุจูุงุกู ุนูู ุงูุญุงูุฉ ุงูุญุงููุฉ ุ ูุชู ุงุณุชุฏุนุงุก ุนูุตุฑ ูุงุฌูุฉ ูุณุชุฎุฏู LoggedWidget (ุฅุฐุง ูุงู ุงููุณุชุฎุฏู ูุฏ ูุงู ุจุชุณุฌูู ุงูุฏุฎูู ุจุงููุนู) ุฃู SignInAndSignUpWidget (ุฅุฐุง ูู ููู ุงููุณุชุฎุฏู ุจุชุณุฌูู ุงูุฏุฎูู ุจุนุฏ). </font><font style="vertical-align: inherit;">ุฅุฐุง ุฃุนุงุฏุช ุงููุชูุฉ ุญุงูุฉ IsLogged ุ ูุฅู ุงูุชุจุฏูู ุฅูู ุดุงุดุฉ ุฌุฏูุฏุฉ ุจุงุณุชุฎุฏุงู ุงููุณุชูุดู ูุง ูุญุฏุซ ูู ุงููููุดุฆ (ููุง ูุฏ ูุคุฏู ุฅูู ุญุฏูุซ ุฎุทุฃ) ุ ูููู ูู ุงููุณุชูุน. </font><font style="vertical-align: inherit;">ูู ุนูุงุตุฑ ูุงุฌูุฉ ุงูุชุนุงูู ุงูุฃุณุงุณูุฉ ุ ูุชู ุจูุงุก ุงููุงุฌูุฉ ุจูุงุก ุนูู ุงูุจูุงูุงุช ุงูุชู ูุชู ุงุฑุฌุงุนูุง ููุง. </font><font style="vertical-align: inherit;">ููุง ุ ูุชู ุงุณุชุฎุฏุงู ุญุฒูุฉ Provider + StreamBuilder ุจุงููุนู ุ ูุฃูู </font><font style="vertical-align: inherit;">ุนูุฏูุง ุชุชุบูุฑ ุญุงูุฉ ุงููุชูุฉ ุ ุชุชุบูุฑ ุงููุงุฌูุฉ ุจุฃููููุง ุชูุฑูุจูุง. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูููู ุงูุจูุงูุงุช ุฅูู ุงููุชูุฉ ุ ูุชู ุงุณุชุฎุฏุงู TextEditingController ููุนููุงุช ุงูุฅุฌุฑุงุก: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููู auth_screen</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_SignUpWidgetWidgetState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span> </span>{<font></font>
  String _email, _password;<font></font>
<font></font>
  <span class="hljs-keyword">final</span> TextEditingController _emailController = TextEditingController();
  <span class="hljs-keyword">final</span> TextEditingController _passwordController = TextEditingController();<font></font>
<font></font>
  <span class="hljs-meta">@override</span>
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">initState</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">super</span>.initState();<font></font>
    _emailController.addListener(_onEmailChanged);<font></font>
    _passwordController.addListener(_onPasswordChanged);<font></font>
  }<font></font>
<font></font>
  <span class="hljs-meta">@override</span>
  <span class="hljs-function">Widget <span class="hljs-title">build</span><span class="hljs-params">(BuildContext context)</span> </span>{
    <span class="hljs-keyword">return</span> Column(<font></font>
      children: &lt;Widget&gt;[<font></font>
        TextFormField(<font></font>
          controller: _emailController,<font></font>
          decoration: InputDecoration(<font></font>
              labelText: <span class="hljs-string">'email'</span>),<font></font>
        ),<font></font>
        TextFormField(<font></font>
          controller: _passwordController,<font></font>
          obscureText: <span class="hljs-keyword">true</span>,<font></font>
          decoration: InputDecoration(<font></font>
              labelText: <span class="hljs-string">'password'</span>),<font></font>
        ),<font></font>
        RaisedButton(<font></font>
            child: Text(<span class="hljs-string">'sign up'</span>),<font></font>
            onPressed: () {<font></font>
              Provider.of&lt;MainBloc&gt;(context, listen: <span class="hljs-keyword">false</span>).mapEventToState(<font></font>
                  Registration(_email, _password));<font></font>
            })<font></font>
      ],<font></font>
    );<font></font>
  }<font></font>
<font></font>
  <span class="hljs-meta">@override</span>
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dispose</span><span class="hljs-params">()</span> </span>{<font></font>
    _emailController.dispose();<font></font>
    _passwordController.dispose();<font></font>
    <span class="hljs-keyword">super</span>.dispose();<font></font>
  }<font></font>
<font></font>
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">_onEmailChanged</span><span class="hljs-params">()</span> </span>{<font></font>
    _email = _emailController.text;<font></font>
  }<font></font>
<font></font>
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">_onPasswordChanged</span><span class="hljs-params">()</span> </span>{<font></font>
    _password = _passwordController.text;<font></font>
  }<font></font>
}<font></font>
 <font></font>
</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PhoneBookScreen Window</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุงูุขู ุฏุนููุง ูุชุญุฏุซ ููููุงู ุนู ูุงูุฐุฉ PhoneBookScreen. ูุฐู ูู ุงููุงูุฐุฉ ุงูุฃูุซุฑ ุฅุซุงุฑุฉ ููุงูุชูุงู - ููุง ุชู ุจูุงุก ุงููุงุฌูุฉ ุนูู ุฃุณุงุณ ุชูุงุฑูู ูู ุงููุชูุฉ ุ ูููุงู ุฃูุถูุง ูุงุฆูุฉ ุจุงูุชูุฑูุฑ ูุชุฑููู ุงูุตูุญุงุช (ุชุฑููู ุงูุตูุญุงุช). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PhonebookScreen \ screen file</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PhonebookTopPart</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{<font></font>
<font></font>
  <span class="hljs-function">StatefulWidget <span class="hljs-title">caseWidget</span><span class="hljs-params">(PhonebookState state)</span> </span>{
    <span class="hljs-keyword">if</span> (state is PhonebookListOpened) {
      <span class="hljs-keyword">return</span> PhonebookList();
    <span class="hljs-comment">//} else if (data is PhonebookCardToViewOpened) {</span>
    }<span class="hljs-keyword">else</span> ModalProgressHUD(<font></font>
      inAsyncCall: <span class="hljs-keyword">true</span>,<font></font>
      child: Text(<span class="hljs-string">''</span>),);
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;<font></font>
  }<font></font>
<font></font>
  <span class="hljs-meta">@override</span>
  <span class="hljs-function">Widget <span class="hljs-title">build</span><span class="hljs-params">(BuildContext context)</span> </span>{
    <span class="hljs-keyword">var</span> bloc = Provider.of&lt;PhonebookBloc&gt;(context, listen: <span class="hljs-keyword">false</span>);
    <span class="hljs-keyword">return</span> StreamProvider&lt;PhonebookState&gt;(<font></font>
        create: (context) =&gt; bloc.blocStream.stream,<font></font>
        initialData: bloc.state,<font></font>
        child: Selector&lt;PhonebookState,PhonebookState&gt;(<font></font>
            selector: (_,state)=&gt;state,<font></font>
            shouldRebuild: (previous, next){<span class="hljs-keyword">return</span> (previous.runtimeType!=next.runtimeType);},<font></font>
            builder: (_, state, __) { <span class="hljs-keyword">return</span> ModalProgressHUD(<font></font>
                inAsyncCall: state.busy,<font></font>
                child: Scaffold(<font></font>
                  appBar: AppBar(<font></font>
                    title: Text(<span class="hljs-string">"Phones list"</span>),<font></font>
                  ),<font></font>
                  drawer: MenuWidget(),<font></font>
                  body: caseWidget(state),<font></font>
                ));}<font></font>
        ));<font></font>
  }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุงู ุญุงุฌุฉ ุฅูู ุฃูู StreamProvider ููุชุจุฏูู ุจูู ุงูุดุงุดุงุช ุงููุฎุชููุฉ ููุฏููู - ุงููุงุฆูุฉ ุ ุจุทุงูุฉ ุฌูุฉ ุงูุงุชุตุงู ุ ุจุทุงูุฉ ุฌูุฉ ุงูุงุชุตุงู ููุชุญุฑูุฑ ุ ุฅูุฎ. ูุชู ุชุญุฏูุฏ ุนูุตุฑ ูุงุฌูุฉ ูุณุชุฎุฏู ุงูุดุงุดุฉ ูู ูุธููุฉ caseWidget (ูููู ูู ูุฐุง ุงููุซุงู ูุชู ุชูููุฐ ุทุฑููุฉ ุนุฑุถ ุงููุงุฆูุฉ ููุท - ููููู ูุญุงููุฉ ุชูููุฐ ุทุฑููุฉ ุงูุนุฑุถ ูุจุทุงูุฉ ุงูุงุชุตุงู - ููุฐุง ุฃูุฑ ุจุณูุท ููุบุงูุฉ ููู ูููู ุจุฏุงูุฉ ุณูุฆุฉ). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุนูู ูุฐู ุงูุดุงุดุฉ ุ ูุชู ุงุณุชุฎุฏุงู ูุฌููุนุฉ ูู StreamProvider + Selector / Consumer ุจุงููุนู ููุงู ุชูุฑูุฑ ูู ุงููุงุฆูุฉ ููุง ูููุตุญ ุจุฅุนุงุฏุฉ ุจูุงุก ุงูุดุงุดุฉ ุจุฃููููุง ูุนูุง (ุฃู ุฅุนุงุฏุฉ ุจูุงุก ุงูุญุงุฌูุงุช ุชุฃุชู ูู ุงููุญุฏุฏ / ุงููุณุชููู ุงูููุงุจู ูุฃุฏูู ูู ุงูุดุฌุฑุฉ). </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูููุง ูุชู ุชูููุฐ ุงููุงุฆูุฉ ููุณูุง: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PhonebookScreen \ screen file</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_PhonebookListState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">PhonebookList</span>&gt; </span>{<font></font>
  ScrollController _scrollController = ScrollController();<font></font>
<font></font>
  <span class="hljs-meta">@override</span>
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">initState</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">super</span>.initState();<font></font>
    _scrollController.addListener(_scrollListener);<font></font>
  }<font></font>
<font></font>
  <span class="hljs-meta">@override</span>
  <span class="hljs-function">Widget <span class="hljs-title">build</span><span class="hljs-params">(BuildContext context)</span> </span>{
    <span class="hljs-keyword">var</span> bloc = Provider.of&lt;PhonebookBloc&gt;(context, listen: <span class="hljs-keyword">false</span>);
    <span class="hljs-keyword">var</span> list = bloc.repo.data.list;
    <span class="hljs-keyword">return</span> Container(<font></font>
        child: StreamProvider&lt;PhonebookState&gt;(<font></font>
            create: (context) =&gt; bloc.scrollStream.stream,<font></font>
            initialData: bloc.scrollState,<font></font>
            child: Consumer&lt;PhonebookState&gt;(<font></font>
              builder: (_, state, __) {<font></font>
                <span class="hljs-keyword">return</span> ListView.builder(<font></font>
                    controller: _scrollController,<font></font>
                    itemCount: list.length,<font></font>
                    itemBuilder: (BuildContext context, <span class="hljs-keyword">int</span> index) {
                      <span class="hljs-keyword">return</span> ListTile(<font></font>
                        title: Text(list[index].data[<span class="hljs-string">'name'</span>]),<font></font>
                        subtitle: Text(list[index].data[<span class="hljs-string">'phone'</span>]),<font></font>
                      );<font></font>
                    });<font></font>
              },<font></font>
            )));<font></font>
  }<font></font>
<font></font>
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">_scrollListener</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">double</span> delta = MediaQuery<font></font>
        .of(context)<font></font>
        .size<font></font>
        .height * <span class="hljs-number">3</span>;
    <span class="hljs-keyword">double</span> maxScroll = _scrollController.position.maxScrollExtent;
    <span class="hljs-keyword">double</span> currentScroll = _scrollController.position.pixels;
    <span class="hljs-keyword">if</span> (maxScroll - currentScroll &lt;= delta) {<font></font>
      Provider.of&lt;PhonebookBloc&gt;(context, listen: <span class="hljs-keyword">false</span>)<font></font>
          .mapEventToState(ScrollPhonebook());<font></font>
    }<font></font>
  }<font></font>
<font></font>
  <span class="hljs-meta">@override</span>
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dispose</span><span class="hljs-params">()</span> </span>{<font></font>
    _scrollController.removeListener(_scrollListener);<font></font>
    <span class="hljs-keyword">super</span>.dispose();<font></font>
  }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฑู ููุง StreamProvider ุงูุซุงูู ุ ุงูุฐู ูุฑุงูุจ ุงูุชุฏูู ุงูุซุงูู ูููุชูุฉ ุ ุงููุณุคูู ุนู ุงูุชูุฑูุฑ. ูุชู ุชูุธูู ุชุฑููู ุงูุตูุญุงุช ููุนูุงุฑ ุนุจุฑ _scrollListener (ูุญุฏุฉ ุงูุชุญูู: _scrollController). ุนูู ุงูุฑุบู ูู ุฃู ุงููุงูุฐุฉ ูุซูุฑุฉ ููุงูุชูุงู ุ ูููู ูุธุฑูุง ูููุตู ุงูุชูุตููู ูููุงูุฐุฉ ุงูุฃููู ุ ููุง ููุฌุฏ ุดูุก ุขุฎุฑ ูููู ูููู ููุง. ูุฐูู ุ ูุฐุง ูู ุดูุก ุงูููู.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ููู ุงููุฏู ูู ูุฐู ุงูููุงูุฉ ูู ุฅุธูุงุฑ ุงูููุฏ ุงููุซุงูู ุ ุญูุซ ููููู ููุง ุงูุนุซูุฑ ุนูู ุงูุนุฏูุฏ ูู ุงูููุงุท ููุชุญุณูู - "ุชูุณูู" ุจุดูู ุตุญูุญ ุฅูู ูููุงุช ุ ูุงุณุชุฎุฏุงู ูุซูู ุ ู mixins ููุง ุดุงุจู ูู ููุงู ูุง. </font><font style="vertical-align: inherit;">ุฃูุถุง ุ ูุง "ูุณุชุฏุนู" ุงูุฎุทูุฉ ุงูุชุงููุฉ - ููููู ุนูู ุจุทุงูุฉ ุงุชุตุงู. </font><font style="vertical-align: inherit;">ูุงูุช ุงููููุฉ ุงูุฑุฆูุณูุฉ ูู ุจูุงุก ุงููุนุฑูุฉ ุ ูุชุนููู ูุชุฌู ูุนูู ูุจูุงุก ุงูุชุทุจูู ุ ูุชูุฏูู ุชูุณูุฑุงุช ุญูู ุจุนุถ ูุญุธุงุช ุชุตููู ุชุทุจูู ุนูู Flutter ูู ุชูู ูุงุถุญุฉ ุฌุฏูุง ูู ุงููุฑุงุญู ุงูุฃููู ูู ุงูุชุนุงุฑู. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ุชูุฒูู ุงููุดุฑูุน ูู</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (ููุชุณุฌูู ููููู ุงุณุชุฎุฏุงู ุฃู ุจุฑูุฏ ุจูููุฉ ูุฑูุฑ ูุง ุชูู ุนู 6 ุฃุญุฑู. ุนูุฏ ุฅุนุงุฏุฉ ุงูุชุฑุฎูุต ุ ูุฌุจ ุฃู ุชููู ูููุฉ ุงููุฑูุฑ ูู ููุณูุง ุงููุณุชุฎุฏูุฉ ุฃุซูุงุก ุงูุชุณุฌูู).</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar489496/index.html">ุงูุจุญุซ ุนู ููุธููู ูุงูุจุญุซ ุนู ูุธููุฉ: ูุฌูุฉ ูุธุฑู ูู ุงูุฏุงุฎู ูุงูุฎุงุฑุฌ</a></li>
<li><a href="../ar489500/index.html">ุชูููู ุงูููุงู ูู ููุงุท ุงููุตุฉ</a></li>
<li><a href="../ar489502/index.html">ุงูุณููููููู + AutoIT. ุฃุชูุชุฉ ุงุฎุชุจุงุฑ Windows</a></li>
<li><a href="../ar489504/index.html">ููููุฉ ุงูุจุฏุก ูู ุฅูุดุงุก ุฎุฑูุทุฉ ูู UE4</a></li>
<li><a href="../ar489510/index.html">ูุญุงููุฉ ุญู ูุดููุฉ ุงุฎุชูุงุฑ ุงูุชุฐุงูุฑ ูุจู ุงูุฅุฌุงุฒุฉ ุฑูู 2</a></li>
<li><a href="../ar489514/index.html">ูู ุจุชูุฒูู ูุชุฎุฒูู ุงููููุงุช ูู ุฃู ุญุฌู ุนูู Google Drive ูุฌุงููุง. ุฎุทุฃ ุฃู ููุฒุฉุ</a></li>
<li><a href="../ar489516/index.html">ุฑุฏ ูุนู ุงูุฃุตุฏูุงุก ุงูุฃุตูู ู Fastlane</a></li>
<li><a href="../ar489518/index.html">ุชุจุงุฏู ุงูุฃุนุถุงุก ููุฎูุถ ุงูุชูููุฉ ูุธูุฑ ูู ุงูููุงูุงุช ุงููุชุญุฏุฉ</a></li>
<li><a href="../ar489526/index.html">ุฃูุนุงุจ ูุญุตูุชูุง ุตูุฑ ูุดุฑูุท ูุงุฑูุด ููู ุชุงูุฑ</a></li>
<li><a href="../ar489528/index.html">ูุง ุชุดุงูุฏ ุงูุฅุนูุงูุงุช ุฃุซูุงุก ุงูุชุทููุฑุ ุงุถุทุฑุงุจ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>