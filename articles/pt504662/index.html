<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üìá üõåüèº üë∏üèº Desenhar m√∫sica: dan√ßa de caix√£o no Pure Data üï¥üèæ üë´ üîú</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Programa√ß√£o e Memes
 A programa√ß√£o √© um processo √† beira da ci√™ncia e da criatividade. Sem um programa bem projetado, um computador √© uma unidade desa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Desenhar m√∫sica: dan√ßa de caix√£o no Pure Data</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/504662/"><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Programa√ß√£o e Memes</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A programa√ß√£o √© um processo √† beira da ci√™ncia e da criatividade. Sem um programa bem projetado, um computador √© uma unidade desamparada que gasta eletricidade. A maioria dos especialistas modernos trabalha com linguagens simb√≥licas declarativas - eles criam programas a partir de comandos de texto: simples - atribui√ß√£o, multiplica√ß√£o; e condi√ß√µes de verifica√ß√£o complexa, executando rotinas em um loop. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas nem todas as linguagens de programa√ß√£o s√£o projetadas para resolver problemas do sistema. Alguns s√£o criados para treinamento, apresenta√ß√µes e shows digitais. Quando o desempenho e a funcionalidade aparecem em segundo plano, surgem solu√ß√µes originais, como o ambiente de programa√ß√£o visual Pure Data.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em 2020, a dan√ßa do v√≠deo arquivado da cerim√¥nia f√∫nebre da ag√™ncia Dada awu do Gana se tornou o meme mais popular da R√∫ssia. </font><font style="vertical-align: inherit;">Hoje, temos que recriar passo a passo o lend√°rio tema musical Coffin Dance, usando o ambiente da descri√ß√£o sonora algor√≠tmica Pure Data.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sobre programa√ß√£o visual</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por programa√ß√£o visual, √© habitual entender o processo de descri√ß√£o de um programa para um dispositivo de computa√ß√£o usando elementos gr√°ficos funcionais. Portanto, o uso do designer de formul√°rio WPF no ambiente de desenvolvimento do Visual Studio pode ser chamado de programa√ß√£o visual da interface. Os designers gr√°ficos apareceram junto com os primeiros computadores pessoais. Agora, nas aulas de ci√™ncia da computa√ß√£o, o Visual Pascal est√° sendo estudado em algumas escolas. e metade das melhorias padr√£o em 1C pode ser feita sem escrever uma linha de c√≥digo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por√©m, os ambientes de programa√ß√£o visual completos apareceram mais tarde. Quando se trata de criar uma linguagem de programa√ß√£o que consiste apenas em comandos gr√°ficos, surgem v√°rias dificuldades, por causa das quais a funcionalidade da pr√≥pria linguagem deve ser reduzida.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Portanto, v√°rias chamadas do mesmo subprograma em diferentes partes do c√≥digo C ++ s√£o naturais para o programador. Em um ambiente gr√°fico, uma chamada de sub-rotina pode ser representada, por exemplo, por uma seta de um objeto no texto do programa principal para uma sub-rotina de objeto e, quando houver muitas dessas setas, o c√≥digo gr√°fico se torna ileg√≠vel. Os desenvolvedores de ambientes de desenvolvimento educacional geralmente imp√µem um limite (no n√∫mero de chamadas, objetos no programa, vari√°veis ‚Äã‚Äãusadas) para proteger o usu√°rio e tornar o processo de programa√ß√£o visual mais visual. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um exemplo de um programa Sanscript simples:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/hr/ls/o6/hrlso6fck0hzhuds-9exlb49ch8.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas se voc√™ se distrair da programa√ß√£o em sentido amplo, poder√° encontrar importantes problemas aplicados que s√£o resolvidos graficamente de maneira mais conveniente e eficiente do que em simb√≥licos. Uma dessas tarefas: uma descri√ß√£o dos instrumentos virtuais. Nos anos 80 do s√©culo passado, a maioria das grava√ß√µes musicais foi feita ao vivo. Os sintetizadores digitais eram inferiores em qualidade sonora aos instrumentos ac√∫sticos, e os sistemas digitais verdadeiramente "musicais" eram caros.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tudo mudou com a introdu√ß√£o da tecnologia VST, introduzida em 1996 como uma biblioteca volumosa para trabalhar com som. Funcionalidade O VST nos permitiu descrever a arquitetura de sintetizadores digitais reais, processadores de efeitos e emular com muito precis√£o seu trabalho em um computador. No entanto, apenas uma equipe de programadores qualificados e engenheiros de som poderia criar essa descri√ß√£o. A quest√£o de criar instrumentos virtuais personalizados permaneceu em aberto.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Naqueles mesmos anos, na tentativa de popularizar a s√≠ntese sonora entre amadores, apareceu o projeto experimental Pure Data - um ambiente de desenvolvimento visual focado na descri√ß√£o de sintetizadores simples. </font><font style="vertical-align: inherit;">Around Pure Data, um pequeno grupo de "f√£s" formados que promoveram a programa√ß√£o visual no FB, Youtube: eles escreveram e traduziram materiais de treinamento, publicaram exemplos de sintetizadores e mixagens de m√∫sicas inteiras em um patch (este √© o nome do programa Pure Data por analogia com os patches em sintetizadores de hardware modulares ) </font><font style="vertical-align: inherit;">Mas o meio ambiente n√£o recebeu ampla distribui√ß√£o no mundo.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fundamentos de dados puros</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O ambiente de desenvolvimento Pure Data pode ser baixado gratuitamente no site oficial. O programa distribui c√≥digo-fonte aberto e est√° dispon√≠vel para usu√°rios do Windows, Linux e MacOS X. Instale e execute o Pure Data. No menu Arquivo, crie um novo patch. A seguinte janela de edi√ß√£o ser√° exibida:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zm/gl/-z/zmgl-zoapffl0y3myycn_q37sho.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O menu Put cont√©m uma lista de objetos gr√°ficos a partir dos quais faremos nosso primeiro sintetizador. Ap√≥s selecionar o item apropriado, o elemento √© adicionado ao campo gr√°fico (Tela) do patch atual. Os elementos podem ser editados (altere a assinatura, que afeta seu comportamento, bem como movidos) e conectados por linhas (mantendo o bot√£o esquerdo do mouse em uma das sa√≠das do objeto de origem, movendo o cursor para a entrada do objeto de destino e liberando-o). Por exemplo, criaremos um elemento do tipo "Objeto" com a chave de nome e um elemento do tipo "N√∫mero". As entradas do elemento s√£o destacadas em preto e localizadas acima do quadro do pr√≥prio elemento, e as sa√≠das est√£o abaixo dele. Conecte a sa√≠da do objeto-chave √† entrada do elemento Number. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N√≥s temos:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gu/zp/rn/guzprndwbfigxd8fg_61165v9hm.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todo esse tempo est√°vamos no modo de edi√ß√£o de patches. Para entrar no modo de execu√ß√£o, v√° para o menu Editar e desmarque o item Modo de edi√ß√£o. O ponteiro do mouse no contorno deve mudar da m√£o para a seta. Agora pressione qualquer tecla no teclado principal. Veremos como o valor de Number muda quando pressionado: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/or/1l/ha/or1lhauqj7qptoenr7mbbn6lf6k.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos analisar o resultado do patch. Depois de atribuir a chave de nome ao objeto, ele possui uma sa√≠da, mas nenhuma entrada. Um objeto com esse nome ouve o teclado e envia um c√≥digo de tecla cada vez que √© pressionado em tempo de execu√ß√£o. O elemento Number tem uma entrada e uma sa√≠da. Tomando um n√∫mero como entrada, Number o exibe na tela e envia o mesmo valor para a sa√≠da. Observe que, ap√≥s soltar a tecla, o n√∫mero continua sendo exibido. Isso mostra que as entradas mant√™m o √∫ltimo valor que aceitam.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Volte ao modo de edi√ß√£o e adicione outro objeto chamado sel 49. Ele ter√° duas entradas e duas sa√≠das. Este objeto envia um sinal para a primeira sa√≠da cada vez que um valor chega a uma das entradas e corresponde ao valor armazenado na outra entrada. Se a entrada receber um valor diferente do acumulado, o sinal ser√° enviado para a segunda sa√≠da. A primeira parte do nome sel especifica o tipo de objeto, o segundo 49 - grava o valor padr√£o para a segunda entrada. 49 √© o c√≥digo da chave "1". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um sinal √© um tipo de dados especial que n√£o pode ser simplesmente emitido, por exemplo, enviando Number para a entrada. Mas com a ajuda de sinais, voc√™ pode "iniciar" o trabalho de alguns elementos.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Volte ao menu Put e adicione o elemento Bang ao nosso patch. Conecte a sa√≠da Number √† primeira entrada do sel 49 e a primeira sa√≠da do sel 49 √† entrada Bang. Receberemos o seguinte patch: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/km/0h/xl/km0hxl9boh04ly05jx_o9a-snyc.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Passaremos para um modo de execu√ß√£o. Pressionando v√°rias teclas, seus c√≥digos aparecer√£o. Quando voc√™ pressiona a ‚Äútecla especial‚Äù com o c√≥digo 49, o objeto sel gera um </font></font><br>
<br>
<img src="https://habrastorage.org/webt/jm/ul/8c/jmul8cdj85z7rfpb5jzgtkien3k.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√∫nico sinal </font><font style="vertical-align: inherit;">que, ao pressionar o bot√£o estrondo, o pressiona automaticamente: </font><font style="vertical-align: inherit;">O objeto estrondo gera um sinal em sua √∫nica sa√≠da quando √© pressionado no modo de execu√ß√£o, o sinal ou valor chega √† entrada. Adicione um pouco de som ao nosso projeto. Para que o patch funcione corretamente com dados de √°udio, o menu M√≠dia deve ter uma marca de sele√ß√£o oposta ao item DSP On. Voc√™ tamb√©m precisar√° entrar no menu Midi Settings e instalar o dispositivo de sa√≠da. No Windows:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vg/da/lf/vgdalf9khobz1oiegpchb4x1smw.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Clique em OK e retorne ao modo de edi√ß√£o. Para trabalhar com sinais Midi, dois elementos s√£o usados ‚Äã‚Äãcom mais frequ√™ncia: objetos makenote e noteout. Adicione um desses objetos e tamb√©m crie v√°rias mensagens de mensagem com os seguintes valores: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dp/zu/dr/dpzudr7j9afz_36b-lyfzbw6un8.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mensagem √© um elemento da programa√ß√£o visual com comportamento complexo. Se a mensagem for chamada de um determinado n√∫mero, clicando na mensagem ou ap√≥s o recebimento de um sinal em sua entrada, em ambos os casos, esse n√∫mero e sinal ser√£o emitidos simultaneamente.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O objeto de anota√ß√£o, quando recebe o valor na primeira entrada, gera som em um dos canais MIDI. O n√∫mero do canal pode ser indicado explicitamente no nome do objeto (no nosso caso 1 - piano) ou transferido para a terceira anota√ß√£o de entrada. A primeira entrada faz o tom em termos de midi: (60 - √© a primeira oitava e, em seguida, +1 - um aumento por meio-tom, -1 - uma diminui√ß√£o por meio-tom) e a segunda - uma descri√ß√£o da nota: volume, dura√ß√£o, natureza da produ√ß√£o sonora.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O objeto makenote recebe o tom na primeira entrada e no segundo volume (0 - sil√™ncio, 127 - volume m√°ximo) converte o tom na primeira sa√≠da e gera uma descri√ß√£o da nota para a segunda anota√ß√£o na segunda sa√≠da. Os valores padr√£o para as primeira e segunda entradas makenote s√£o especificados imediatamente ap√≥s o nome do objeto. Conecte os elementos como mostrado na figura e v√° para o modo de execu√ß√£o: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wm/a0/ww/wma0ww1rrscei7obc0fcwt3mti8.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quando voc√™ clica em uma mensagem, uma nota deve soar correspondente √† afina√ß√£o no nome da mensagem. 60 - nota para, 62 - re, 67 - la. Agora, no modo de edi√ß√£o, conecte a primeira sa√≠da do seletor (objeto sel) com a mensagem 60. Adicione mais 2 seletores com c√≥digos para as teclas 2 e 3 no teclado e obtenha o sintetizador mais simples:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/4t/9y/z4/4t9yz49gennzvvaexvs5pfc0pag.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pressionar as teclas 1-3 no makenote enviar√° uma mensagem com o tom apropriado e uma nota ser√° tocada. </font><font style="vertical-align: inherit;">Na pr√≥xima se√ß√£o, tentaremos descrever uma melodia complexa que ser√° tocada seq√ºencialmente nota a nota ao enviar apenas um sinal.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recriando a dan√ßa do caix√£o</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√∫sica</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para descrever uma melodia complexa, precisamos estudar 2 objetos importantes - metro ef, bem como v√°rios objetos auxiliares. </font><font style="vertical-align: inherit;">Considere um exemplo simples:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/44/lg/1b/44lg1b-q5gr5b3kvpngey-n6h74.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O objeto metro possui duas entradas. O primeiro sinal √© recebido. Qualquer sinal diferente de parar inclui um metr√¥nomo. Para desativar, use o sinal de sa√≠da da mensagem com a parada de texto. A segunda entrada, metro, recebe um intervalo em milissegundos. Quando o metr√¥nomo √© ativado, ele envia imediatamente um sinal para sua √∫nica sa√≠da e reenvia o sinal a cada n milissegundos. O intervalo n pode ser especificado pelo valor padr√£o no nome do objeto ou transferido para a segunda entrada. Depois de entrar no modo de execu√ß√£o, podemos iniciar o metr√¥nomo com o bot√£o acima e ver como o bot√£o abaixo √© pressionado a cada 0,4 segundos. Ao enviar uma mensagem com um novo intervalo, aceleraremos ou desaceleraremos a frequ√™ncia de envio de sinais. Depois que a mensagem de parada √© enviada, a sinaliza√ß√£o para. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lembre-se da m√∫sica de Coffin Dance:</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/j9V78UbdzWI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A melodia principal pode ser descrita por uma sequ√™ncia de 64 notas e pausas da 8¬™ dura√ß√£o, ou seja, √†s 8 medidas em 4/4. Portanto, precisamos organizar o envio c√≠clico dos 64¬∫ sinais para as mensagens de notas correspondentes. Para fazer isso, use o objeto f. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F - de flutua√ß√£o - representa uma vari√°vel real. O objeto f tem duas entradas. Na segunda entrada, voc√™ pode enviar um valor num√©rico (por exemplo, da sa√≠da da mensagem ou da sa√≠da de Number), que √© escrito como o valor da vari√°vel. O valor padr√£o √© 0. Com a primeira entrada e sa√≠da, as coisas s√£o um pouco mais complicadas. Considere um exemplo:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/l_/kq/-y/l_kq-yw8d7atslq4bcfstto13ka.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ent√£o, encontramos uma conex√£o m√°gica entre os memes "Pressione F para prestar respeito" e "dan√ßa do caix√£o". </font><font style="vertical-align: inherit;">Vamos mudar para o modo de execu√ß√£o. </font><font style="vertical-align: inherit;">Quando voc√™ clica na mensagem 3, o valor ser√° gravado na vari√°vel de objeto f, mas em n√∫mero n√£o veremos isso. </font><font style="vertical-align: inherit;">Se voc√™ enviar o sinal para a primeira entrada f com o bot√£o bang, o que acontece em termos de Pure Data √© uma itera√ß√£o, a saber:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A sa√≠da f enviar√° o valor atual da vari√°vel (3)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O objeto + 5 receber√° o n√∫mero 3 na primeira entrada e retornar√° a soma de duas entradas 8 (aqui o valor na segunda entrada √© definido por padr√£o ap√≥s o nome + objeto de adi√ß√£o) </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O objeto% 40 receber√° o n√∫mero 8 na primeira entrada e retornar√° o restante da divis√£o da 8¬™ por 40 (o valor da segunda entrada √© definido por padr√£o) </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A vari√°vel f receber√° o valor (3 + 5)% 40 = 8 na segunda entrada.A itera√ß√£o est√° conclu√≠da</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Assim, ap√≥s a primeira itera√ß√£o, vemos o valor 3 no n√∫mero de entrada e tem um valor real de 8 para a vari√°vel f. Na pr√≥xima itera√ß√£o, o n√∫mero receber√° os oito salvos anteriormente, e f aumentar√° em mais 5 e assumir√° o valor 13. Quando se trata de itera√ß√£o com a sa√≠da 38, obtemos o valor (38 + 5)% 40 = 3 para a vari√°vel f. Assim, os valores f e os valores de sa√≠da ser√£o repetidos ciclicamente. O uso de m√≥dulos de adi√ß√£o e divis√£o permite que voc√™ obtenha um ciclo com qualquer per√≠odo e quaisquer valores para itera√ß√µes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Conecte a sa√≠da do metr√¥nomo √† primeira entrada f e defina v√°rios seletores e bot√µes na sa√≠da f. Inicie o metr√¥nomo e veja como os bot√µes acendem alternadamente e depois de pressionar automaticamente o √∫ltimo bot√£o, o ciclo se repete. Fragmento:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/l_/yj/id/l_yjid_13wqo4kqarltfygkm9l8.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para que o loop seja executado sempre do valor 3, conectei a sa√≠da da mensagem de parada √† entrada da mensagem 3 enviando o valor inicial para f. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos descrever a melodia. </font><font style="vertical-align: inherit;">Para fazer isso, crie um patch limpo e descreva o metr√¥nomo com um intervalo de 230 (exatamente 230 milissegundos dura uma colcheia na melodia) e um ciclo de 64 notas. </font><font style="vertical-align: inherit;">Para selecionar os valores, usamos a vari√°vel f e o novo elemento moses para n√≥s, cuja funcionalidade ser√° descrita abaixo. </font><font style="vertical-align: inherit;">Tamb√©m adicionamos v√°rios objetos makenote, mensagens com notas, anota√ß√µes nos canais 1 (piano) e 10 (bateria) e combinamos os seletores de moses de cada itera√ß√£o com as notas correspondentes. </font><font style="vertical-align: inherit;">Obtenha o patch:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/lw/0-/q8/lw0-q8l1nhwk2u0zyu26pob2694.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como voc√™ pode ver, com a programa√ß√£o visual, o uso de um grande n√∫mero de objetos reduz a legibilidade do programa. </font><font style="vertical-align: inherit;">De fato, um patch √© uma combina√ß√£o de elementos simples. </font><font style="vertical-align: inherit;">Considere a seguinte "rotina":</font></font><br>
<br>
<img src="https://habrastorage.org/webt/l4/gi/kl/l4giklqerqykxtoxu3dqqk5l4c8.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O objeto moses armazena um n√∫mero na segunda entrada, que pode ser definida por padr√£o. Se a primeira entrada receber um n√∫mero menor que o valor armazenado da segunda entrada, um sinal ser√° enviado da primeira sa√≠da do Mois√©s, caso contr√°rio, o sinal ser√° enviado da segunda sa√≠da. Portanto, a primeira sa√≠da de moses 1 se comporta de maneira semelhante √† primeira sa√≠da de sel 0. Vamos ver um monte de + 63% 64. Permite reduzir os valores no loop em um. Se uma foi inserida, a sa√≠da ser√° 0; para a entrada 0, a sa√≠da ser√° 63 - obteremos um ciclo de 64 elementos na ordem inversa. Se conectarmos a sa√≠da deste pacote √† entrada da pr√≥xima constru√ß√£o + 63% 64 e conectar moses 1 √† sa√≠da de cada pacote, mas para cada um dos 64 valores poss√≠veis de f, exatamente um moses enviar√° um sinal para a primeira sa√≠da. Portanto, o n√∫mero 7 precisa ser reduzido 7 vezes em 1,para obter 0, o 7¬∫ moses 1 na itera√ß√£o 7 receber√° 0 na primeira entrada e enviar√° um sinal para a nota correspondente. Se para 64 seletores voc√™ precisar editar manualmente os valores padr√£o dos par√¢metros, as rotinas + 63% 64 meses 1 poder√£o ser copiadas e a conex√£o das sa√≠das do% 64 anterior √†s entradas + 63 obter√° um seletor c√≠clico complexo de 64 posi√ß√µes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O patch da melodia usa duplica√ß√£o de objetos de anota√ß√µes. Esta t√©cnica permite aumentar o volume ignorando a marca limite. Portanto, se voc√™ conectar o mesmo makenote 67 127 a 2 nota 1, mas ao enviar um sinal da primeira entrada do makenote, a nota la (c√≥digo 67, primeira oitava) ser√° reproduzida com um volume de 127 * 2 = 254. Instrumentos MIDI no Pure Data muito silencioso, ent√£o essa t√©cnica √© √∫til na cria√ß√£o de melodias de conjunto (no nosso caso, 2 pianos s√£o tocados nos canais 1 e 5 e kit de bateria 10 com volume triplo).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para decorar a simula√ß√£o (o processo de mover dados entre objetos do c√≥digo de corre√ß√£o em tempo de execu√ß√£o), √© conveniente usar bot√µes duplicados. </font><font style="vertical-align: inherit;">No exemplo acima, seus 6 objetos de estrondo t√™m uma silhueta de bot√£o Reproduzir, que √© destacada automaticamente quando o bot√£o estrondo extremo √© pressionado √† direita. </font><font style="vertical-align: inherit;">O processamento do sinal de estrondo √© um processo que consome muitos recursos, mas na pr√≥xima se√ß√£o colocaremos toda uma variedade de bot√µes e tentaremos retratar uma dan√ßa do v√≠deo com a ajuda deles.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anima√ß√£o</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para anima√ß√£o, precisamos das mesmas vari√°veis ‚Äã‚Äãf, objects - operadores aritm√©ticos e um metr√¥nomo, al√©m de seletores. </font><font style="vertical-align: inherit;">Desta vez, precisamos de apenas 8 quadros, ent√£o usaremos objetos sel. </font><font style="vertical-align: inherit;">Crie um campo 20x10 a partir dos bot√µes de estrondo (usaremos a opera√ß√£o de c√≥pia). </font><font style="vertical-align: inherit;">Depois de colocar o patch com a melodia no centro, obtemos a seguinte figura: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qr/ny/zs/qrnyzsuffr2aweah91p052imvne.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ pode simplesmente conectar as sa√≠das esquerdas de cada seletor aos bot√µes que devem ser pressionados nesse quadro e enviar o sinal do metr√¥nomo para a entrada de uma nova vari√°vel do ciclo f. </font><font style="vertical-align: inherit;">Mas essa abordagem tem duas falhas:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0,23 s por quadro - r√°pido demais para nossa dan√ßa. </font><font style="vertical-align: inherit;">E o uso do segundo metr√¥nomo nos surpreender√°: o noteout e o bang t√™m um atraso diferente em resposta ao sinal;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o bot√£o permanece pressionado por 0,05 segundos a partir do momento em que o sinal foi recebido, o que significa que, pelos 0,18 segundos restantes, a ‚Äútela‚Äù da anima√ß√£o ficar√° em branco e a imagem no loop piscar√°. </font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para resolver esses problemas, usamos a divis√£o. </font><font style="vertical-align: inherit;">A seguinte constru√ß√£o: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dc/vu/zr/dcvuzrwh4rlchbtu8e_r6i_rccw.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
pega o valor de entrada f da ciclo-melodia principal. </font><font style="vertical-align: inherit;">Depois de dividir por 2, obtemos uma redu√ß√£o na mudan√ßa de quadro: para 0 e 1, o quadro 1 ser√° mostrado, para 2 e 3, quadro 2 e assim por diante. </font><font style="vertical-align: inherit;">Para cada quadro, um sinal ainda √© enviado a cada 0,23 segundos. </font><font style="vertical-align: inherit;">Agora vamos usar outro loop:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fj/y5/u-/fjy5u-lexob9-vev31mpuxotwde.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para sincronizar com a melodia principal, um atraso foi adicionado a ela: o sinal de inclus√£o passa do seletor primeiro pelo bot√£o e somente ent√£o para a primeira entrada do metr√¥nomo. Agora, se voc√™ criar um estrondo e conectar sua sa√≠da a todos os bot√µes de pixel de um determinado quadro, o quadro acima poder√° real√ßar o quadro a cada 0,046 segundos, o que √© mais r√°pido que a frequ√™ncia de atualiza√ß√£o dos bot√µes, ou seja, o quadro acender√° continuamente at√© que o pr√≥ximo quadro seja alterado. Um ciclo de 5 itera√ß√µes garante que os quadros n√£o sejam estratificados, pois 0,046 * 5 = 0,23 s - o per√≠odo dos seletores de quadros. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ao criar uma anima√ß√£o, o computador travava regularmente, mas era poss√≠vel desenhar 5 figuras diferentes e criar um ciclo de 8 quadros a partir da seguinte ordem: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1 2 3 2 1 4 5 2</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O patch final com Coffin Dance (muitos elementos decorativos - bot√µes e coment√°rios adicionados) no modo de edi√ß√£o: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gj/qv/8-/gjqv8-_xv_qe5swgzu7ktfdkdym.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
dificilmente √© poss√≠vel analisar o c√≥digo fonte da simula√ß√£o nesta imagem infernal, mas o patch funciona corretamente: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/el/ml/sn/elmlsnkdwsk9kafkdg-kfw4wajo.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
no canto inferior direito, um contador √© usado para parar automaticamente o player ap√≥s o 121¬∫ dia. notas. </font><font style="vertical-align: inherit;">Inicialmente, supunha-se uma anima√ß√£o de 48x24 pixels, mas o computador a recusou categoricamente com um rugido triste do cooler e uma reinicializa√ß√£o inesperada do Windows no modo de seguran√ßa. </font><font style="vertical-align: inherit;">A arte original em pixel 48x24 do artista LikaLou anexada no final do v√≠deo. </font><font style="vertical-align: inherit;">Ent√£o, ap√≥s 3 dias de "desenho musical", temos o Coffin Dance no Pure Data:</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/3RwNmnAq13A" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclus√£o</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A programa√ß√£o visual de memes √© uma atividade divertida, embora demore muito tempo e √†s vezes destrua seu hardware. </font><font style="vertical-align: inherit;">Mesmo uma tarefa aparentemente simples de dan√ßa f√∫nebre exige uma abordagem modular para a cria√ß√£o de um programa, conhecimento dos recursos n√£o apenas da linguagem de implementa√ß√£o, mas tamb√©m do ambiente de desenvolvimento. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Usando o exemplo de patch para Coffin Dance, voc√™ pode julgar o n√≠vel de desenvolvimento da programa√ß√£o visual. </font><font style="vertical-align: inherit;">Existem linguagens gr√°ficas que lidam bem com algumas tarefas do aplicativo, se forem ambientes de desenvolvimento convenientes. </font><font style="vertical-align: inherit;">Mas a ind√∫stria de programa√ß√£o visual como um todo est√° em sua inf√¢ncia.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Refer√™ncias</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Site oficial Pure Data </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No√ß√µes b√°sicas de programa√ß√£o visual em Pure Data </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sobre o </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">artigo </font></font></a><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">padr√£o do VST </font></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Coffin Dance na Wikipedia </font></a></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Coffin Dance in Pure Data: v√≠deo original</font></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt504650/index.html">Alpine.js em um exemplo concreto</a></li>
<li><a href="../pt504654/index.html">ZPM - gerenciador de pacotes do InterSystems IRIS</a></li>
<li><a href="../pt504656/index.html">Aperte o cinto: como a ind√∫stria da nuvem mudar√°</a></li>
<li><a href="../pt504658/index.html">Por que o Yota √© um operador inconveniente e o que pode ser feito melhor</a></li>
<li><a href="../pt504660/index.html">Princess Frog 2.0 aka Pelophylax ridibundus</a></li>
<li><a href="../pt504664/index.html">Adi√ß√£o inteligente de grupos musicais ao Planilhas Google via API VK, Tampermonkey e Telegram bot</a></li>
<li><a href="../pt504666/index.html">DEVOXX UK. Kubernetes em produ√ß√£o: implanta√ß√£o azul / verde, dimensionamento autom√°tico e automa√ß√£o de implanta√ß√£o. Parte 1</a></li>
<li><a href="../zh-CN486176/index.html">‰ºÅ‰∏öÁîµÂ≠êÈÇÆ‰ª∂ÈÄöËÆØÂ§áÂøòÂΩï</a></li>
<li><a href="../zh-CN486178/index.html">FOSSÊñ∞Èóª1-2020Âπ¥1Êúà27Êó•Ëá≥2Êúà2Êó•ÂÖçË¥πÂíåÂºÄÊ∫êÊñ∞ÈóªÁöÑÂõûÈ°æ</a></li>
<li><a href="../zh-CN486180/index.html">ÂàõÂª∫Êó†ÊúçÂä°Âô®Â∫îÁî®Á®ãÂ∫èÁöÑÊèêÁ§∫ÂíåËµÑÊ∫ê</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>