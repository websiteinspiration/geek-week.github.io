<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üìÆ üß† üëäüèª Um pouco sobre o dispositivo do r√°dio moderno no exemplo do HackRF One üßóüèΩ üìÖ ü§≤üèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sauda√ß√µes, Habr!
 H√° algum tempo, no meu campo de vis√£o, muitas vezes surgiam muitos artigos, v√≠deos sobre o t√≥pico de transceptores SDR. O t√≥pico √© d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Um pouco sobre o dispositivo do r√°dio moderno no exemplo do HackRF One</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/499376/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sauda√ß√µes, Habr!</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
H√° algum tempo, no meu campo de vis√£o, muitas vezes surgiam muitos artigos, v√≠deos sobre o t√≥pico de transceptores SDR. O t√≥pico √© de interesse hoje. Os dispositivos HackRF One s√£o muito populares entre radioamadores e outros "t√©cnicos" de v√°rios tipos (at√© hoje, apesar de esse transceptor aparecer no mercado h√° muito tempo, e agora j√° existem muitas outras op√ß√µes de SDR de um plano semelhante, incluindo mais produtivo). Quase todos os artigos deste t√≥pico discutem ferramentas de software (como regra, trabalham com o GNU Radio, descrevem algoritmos DSP, etc.), d√£o exemplos pr√°ticos de captura de sinais de r√°dio, demonstram falsifica√ß√£o de GPS, recebimento de sinais de sat√©lites meteorol√≥gicos etc. O Hack-RF One √© usado como uma esp√©cie de "caixa" universal,permitindo que voc√™ fa√ßa muitas coisas interessantes. √â suficiente ter um pouco de experi√™ncia em programa√ß√£o e uma compreens√£o geral do que √© um sinal digital - em princ√≠pio, o limite de entrada para os experimentos mais simples com SDR foi superado. De fato, isso √© obviamente √≥timo.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas entre os muitos artigos, ainda n√£o encontrei um √∫nico onde o hardware desse transceptor fosse cuidadosamente considerado, onde seu circuito fosse analisado mais ou menos minuciosamente (se voc√™ o conheceu, por favor, fa√ßa uma refer√™ncia nos coment√°rios). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al√©m disso, uma certa neglig√™ncia desse problema pelos ‚Äúusu√°rios‚Äù deste e de outros m√≥dulos transceptores semelhantes √© alarmante. Em muitos artigos populares, verifica-se que o receptor / transmissor SDR √©:</font></font><br>
<img src="https://habrastorage.org/webt/xf/7o/cz/xf7ocz_ftvfwspt4kzcequdv9pg.jpeg"><br>
 <a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√â claro que o principal princ√≠pio da tecnologia SDR √© implementar as fun√ß√µes de um sistema de r√°dio (anteriormente realizado em forma anal√≥gica usando dispositivos eletr√¥nicos) - em formato digital, processando um sinal digitalizado. E mesmo n√£o apenas na transfer√™ncia do processamento para o digital, mas tamb√©m na capacidade de usar ferramentas mais complexas para processar sinais. Mas tudo isso n√£o significa que a incorpora√ß√£o f√≠sica de qualquer transceptor SDR moderno t√≠pico seja um m√≥dulo ADC / DAC + DSP, e tudo o mais n√£o √© necess√°rio (e, se for, √© secund√°rio). E, consequentemente, o conhecimento relacionado √† compreens√£o do circuito anal√≥gico do m√≥dulo de r√°dio n√£o √© necess√°rio. Parece suficiente para se apossar de um ADC, DAC com caracter√≠sticas interessantes, conect√°-los √† antena de uma extremidade e a um PC da outra - e aqui o SDR est√° pronto para todos os casos e para todas as gera√ß√µes).Talvez essa abordagem seja suficiente para demonstrar os princ√≠pios do SDR, mas isso claramente n√£o √© suficiente para equipamentos de comunica√ß√£o reais.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nesse caso, as moscas das costeletas s√£o separadas de maneira muito simples. O advento das novas tecnologias n√£o nega a f√≠sica, a natureza das coisas e os circuitos anal√≥gicos.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como voc√™ sabe, usando o ADC, faz sentido digitalizar um sinal com uma frequ√™ncia extrema de sinal duas ou mais vezes menor que a frequ√™ncia de amostragem. Somente neste caso, as informa√ß√µes do sinal podem ser restauradas sem perda. Muitas vezes, surgem situa√ß√µes em que a frequ√™ncia extrema do sinal excede metade da frequ√™ncia de amostragem dos ADCs existentes no mundo, ou quando a op√ß√£o de us√°-los √© excessivamente cara para um projeto em particular. Nesse caso, n√£o h√° como escapar da necessidade de transferir o sinal para a parte inferior do espectro na forma anal√≥gica. E √© comumente usado. Sem mencionar a necessidade de amplificar e filtrar o sinal anal√≥gico para obter as caracter√≠sticas necess√°rias do sistema de r√°dio. Exatamente o mesmo se aplica ao DAC e ao caminho de transmiss√£o.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se procurarmos uma fonte mais s√©ria (por exemplo, o livro ‚ÄúR√°dio definido por software para engenheiros‚Äù de especialistas da Analog Devices Inc.), veremos que uma arquitetura de hardware t√≠pica da plataforma SDR se parece com a seguinte: </font></font><br>
 <img src="https://habrastorage.org/webt/aj/v6/lx/ajv6lxnegxhg0fkktfqn1ebjxly.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como voc√™ pode ver, entre as antenas e o ADC / DAC, o local a ser o bloco RF Front End, que inclui a implementa√ß√£o das fun√ß√µes acima. Quero falar mais sobre essa parte do transceptor HackRF One neste artigo. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas depois. Estou visitando um pouco.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Suponho que uma percep√ß√£o simplificada esteja provavelmente relacionada a que √°rea de assunto uma pessoa est√° ‚Äúacostumada‚Äù - uma esp√©cie de deforma√ß√£o profissional. Suponha que um desenvolvedor que tenha pouco a ver diretamente com a eletr√¥nica de r√°dio tenha aprendido que existe um milagre - o SDR, que pode ser programado, processado / sintetizado por software, ca√ßado por r√°dios por r√°dio, etc. usando o c√≥digo do programa, voc√™ pode gerar sinais de r√°dio f√≠sicos reais, processar os recebidos (pelo menos a partir do sinal do carro de um vizinho mau, pelo menos a partir do espa√ßo). De fato, √© legal! E o assunto √© interessante para a pessoa, ele est√° completamente imerso nela e ... e na maioria das vezes ele n√£o come√ßa a estudar a teoria das radiocomunica√ß√µes, engenharia de r√°dio, ele faz neste t√≥pico o que ele j√° sabe e o que gosta mais - ele domina as ferramentas de design de software, come√ßa a se lembrar / estudar o DSP ,- no final, ele considera essas √°reas as mais importantes e importantes no transceptor, tudo o mais entra em segundo plano e parece que n√£o √© t√£o importante e, em princ√≠pio, n√£o √© t√£o necess√°rio. √â claro que exagerei, mas conheci muitas opini√µes semelhantes (absolutamente sinceras), inclusive no hub No entanto, essa abordagem funciona, via de regra, somente no uso amador desses dispositivos. Na realidade, se voc√™ precisa projetar um sistema de comunica√ß√£o, um dispositivo IoT, algum tipo de radar etc., al√©m dos algoritmos de opera√ß√£o digital, as caracter√≠sticas de radiofrequ√™ncia do transceptor desempenham um papel igualmente importante, que deve ser calculado, modelado e otimizado durante o desenvolvimento. Essas caracter√≠sticas determinam amplamente a faixa aceit√°vel de aplicabilidade de um m√≥dulo de r√°dio espec√≠fico.tudo o mais entra em segundo plano e parece que n√£o √© t√£o importante e, em princ√≠pio, n√£o √© t√£o necess√°rio. √â claro que exagerei, mas conheci muitas opini√µes semelhantes (absolutamente sinceras), inclusive no hub No entanto, essa abordagem funciona, via de regra, somente no uso amador desses dispositivos. Na realidade, se for necess√°rio projetar independentemente um sistema de comunica√ß√£o, um dispositivo IoT, algum tipo de radar etc., al√©m dos algoritmos de opera√ß√£o digital, as caracter√≠sticas de radiofrequ√™ncia do transceptor desempenham um papel igualmente importante, necessariamente calculado, modelado, otimizado durante o desenvolvimento. Essas caracter√≠sticas determinam amplamente a faixa aceit√°vel de aplicabilidade de um m√≥dulo de r√°dio espec√≠fico.tudo o mais entra em segundo plano e parece que n√£o √© t√£o importante e, em princ√≠pio, n√£o √© t√£o necess√°rio. √â claro que exagerei, mas conheci muitas opini√µes semelhantes (absolutamente sinceras), inclusive no hub No entanto, essa abordagem funciona, via de regra, somente no uso amador desses dispositivos. Na realidade, se for necess√°rio projetar independentemente um sistema de comunica√ß√£o, um dispositivo IoT, algum tipo de radar etc., al√©m dos algoritmos de opera√ß√£o digital, as caracter√≠sticas de radiofrequ√™ncia do transceptor desempenham um papel igualmente importante, necessariamente calculado, modelado, otimizado durante o desenvolvimento. Essas caracter√≠sticas determinam amplamente a faixa aceit√°vel de aplicabilidade de um m√≥dulo de r√°dio espec√≠fico.mas conheci muitas opini√µes semelhantes (absolutamente sinceras), inclusive no hub No entanto, essa abordagem funciona, via de regra, somente no uso amador desses dispositivos. Na realidade, se for necess√°rio projetar independentemente um sistema de comunica√ß√£o, um dispositivo IoT, algum tipo de radar etc., al√©m dos algoritmos de opera√ß√£o digital, as caracter√≠sticas de radiofrequ√™ncia do transceptor desempenham um papel igualmente importante, necessariamente calculado, modelado, otimizado durante o desenvolvimento. Essas caracter√≠sticas determinam amplamente a faixa aceit√°vel de aplicabilidade de um m√≥dulo de r√°dio espec√≠fico.mas conheci muitas opini√µes semelhantes (absolutamente sinceras), inclusive no hub No entanto, essa abordagem funciona, via de regra, somente no uso amador desses dispositivos. Na realidade, se voc√™ precisa projetar um sistema de comunica√ß√£o, um dispositivo IoT, algum tipo de radar etc., al√©m dos algoritmos de opera√ß√£o digital, as caracter√≠sticas de radiofrequ√™ncia do transceptor desempenham um papel igualmente importante, que deve ser calculado, modelado e otimizado durante o desenvolvimento. Essas caracter√≠sticas determinam amplamente a faixa aceit√°vel de aplicabilidade de um m√≥dulo de r√°dio espec√≠fico.Al√©m dos algoritmos digitais, as caracter√≠sticas de radiofrequ√™ncia do transceptor desempenham um papel igualmente importante, necessariamente calculado, modelado e otimizado durante o desenvolvimento. Essas caracter√≠sticas determinam amplamente a faixa aceit√°vel de aplicabilidade de um m√≥dulo de r√°dio espec√≠fico.Al√©m dos algoritmos digitais, as caracter√≠sticas de radiofrequ√™ncia do transceptor desempenham um papel igualmente importante, necessariamente calculado, modelado e otimizado durante o desenvolvimento. Essas caracter√≠sticas determinam amplamente a faixa aceit√°vel de aplicabilidade de um m√≥dulo de r√°dio espec√≠fico.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tais "caixas" universais como o HackRF One tamb√©m t√™m caracter√≠sticas pr√≥prias, que o desenvolvedor estabeleceu deliberadamente no circuito el√©trico, que da mesma maneira limitam o desempenho do sistema de comunica√ß√£o e essas limita√ß√µes n√£o podem mais ser corrigidas por nenhuma ferramenta de software.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como eu tenho uma deforma√ß√£o profissional - pelo contr√°rio - em rela√ß√£o ao desenvolvimento de hardware, uma breve vis√£o geral do HackRF One ser√° apresentada deste lado. Considere a arquitetura de hardware do HackRF One, que avaliar√° as capacidades e limita√ß√µes t√©cnicas deste m√≥dulo de r√°dio. Espero que isso seja √∫til para aqueles que usam o Hack-RF, mas n√£o est√£o familiarizados com a engenharia de r√°dio, e para aqueles que pensam que trabalhar com transceptores SDR n√£o requer, em princ√≠pio, conhecimento e compreens√£o das caracter√≠sticas de radiofrequ√™ncia deste dispositivo, e circuitos anal√≥gicos em geral. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A √∫nica fonte interessante encontrada que examinou alguns dos recursos de hardware do HackRF One √© um v√≠deo de um discurso diretamente do autor do projeto HackRF, Michael Ossmann, na confer√™ncia REcon 2014. Link:</font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.youtube.com/watch?v=4Lgdtr7ylNY&amp;start_radio=1&amp;list=RDQMQpFkO5DyFBk</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
L√° ele considera a possibilidade de expandir os recursos do HackRF One apenas por modifica√ß√µes de hardware, ele cita fatos interessantes. </font><font style="vertical-align: inherit;">Eu recomendo ver interessado e compreensivo.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hackrf one</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HackRF One - √© um projeto de c√≥digo aberto, suas fontes est√£o dispon√≠veis. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As caracter√≠sticas de hardware em quase todas as fontes s√£o apresentadas em uma lista bastante reduzida: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ Freq√º√™ncia de opera√ß√£o de 1 MHz a 6 GHz </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ transceptor half-duplex </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ at√© 20 milh√µes de amostras por segundo </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ amostras em quadratura de 8 bits (I de 8 bits Q e 8 bits) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ compat√≠vel com GNU Radio, SDR # e mais </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ filtro de ganho e banda base RX e TX configur√°vel por </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
software ‚Ä¢ pot√™ncia da porta de antena controlada por software (50 mA a 3,3 V) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ conector de antena </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
f√™mea SMA ‚Ä¢ entrada e sa√≠da de rel√≥gio f√™mea SMA para sincroniza√ß√£o </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ bot√µes convenientes para programa√ß√£o </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ cabe√ßalhos internos de pinos para expans√£o </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ Hi-Speed ‚Äã‚ÄãUSB 2.0 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ alimentado por USB</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ hardware de c√≥digo aberto </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se voc√™ baixar um diagrama de circuitos e entender um pouco sobre ele, poder√° restaurar a arquitetura deste transceptor e entender um pouco mais sobre sua opera√ß√£o. O que foi feito: a </font><font style="vertical-align: inherit;">
partir da descri√ß√£o p√∫blica, sabe-se que o HackRF One √© um transceptor half-duplex, ou seja, ele pode funcionar tanto na transmiss√£o quanto na recep√ß√£o, mas apenas em momentos diferentes. Do circuito, isso tamb√©m √© compreens√≠vel - h√° uma √∫nica sa√≠da para a antena, cujo sinal pode vir da sa√≠da do caminho de transmiss√£o ou pode ser removido e alimentado na entrada do caminho de recebimento.</font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/oh/zf/s7/ohzfs7dz4dmpmox9rbj9h-ykqsu.jpeg"></a><br><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O circuito cont√©m muitos comutadores control√°veis, com a ajuda dos quais o caminho do sinal recebido ou transmitido √© configurado a cada momento. </font><font style="vertical-align: inherit;">Voltaremos √†s op√ß√µes poss√≠veis mais tarde, mas, por enquanto, consideraremos os principais elementos da arquitetura de hardware.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pe√ßa digital, ADC, DAC</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N√£o vou me debru√ßar sobre a parte digital. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O m√≥dulo est√° conectado ao PC via cabo USB. Por meio dessa interface, o HackRF One recebe energia do host, atrav√©s do qual todos os dados s√£o transmitidos digitalmente. No lado HackRF, temos um microcontrolador LPC4320FBD144 com um n√∫cleo ARM Cortex-M4; existe um CPLD XC2C64A-7VQG100C conectado a um chip MAX5864, que √© dois ADCs e dois DACs (dois - porque um √© para I, o segundo para componentes de sinal Q). ) em um √∫nico pacote. Bit ADC = 8 bits, bit DAC = 10 bits. Em geral, as caracter√≠sticas desses ADCs e DACs s√£o bastante modestas. A frequ√™ncia m√°xima de clock √© de 22 MHz (que √© o fator limitante na faixa de frequ√™ncia m√°xima alcan√ß√°vel do sinal, o teorema de Kotelnikov n√£o deve ser superado).</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A prop√≥sito, Michael Ossmann, em seu discurso, tocou nesta quest√£o de aumentar a banda larga do transceptor. </font><font style="vertical-align: inherit;">Ele observou que, mesmo que voc√™ substitua o chip ADC-DAC por outro mais r√°pido, dirija os dados diretamente conectando-se ao CPLD, ignorando o microcontrolador, o pr√≥ximo pesco√ßo estreito ser√° a largura m√°xima permitida do filtro ajust√°vel (30 MHz) localizado no chip do transceptor MAX2837. </font><font style="vertical-align: inherit;">Vamos continuar a considerar esse chip.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transceptor IC MAX2837</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O MAX2837 √© um transceptor de RF half-duplex integrado baseado na arquitetura de convers√£o direta com frequ√™ncia intermedi√°ria zero (IF ou IF - Frequency Intermediate). Aqui est√° uma figura da especifica√ß√£o que mostra a arquitetura interna do microcircuito: </font></font><br>
 <img src="https://habrastorage.org/webt/rd/pv/am/rdpvamv6tqmybxsarxn09m9bifg.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No caminho de transmiss√£o, os componentes I e Q do sinal da banda base </font><font style="vertical-align: inherit;">que chegam √† entrada </font><font style="vertical-align: inherit;">passam pelos filtros ajust√°veis ‚Äã‚Äã(indicados pelo vermelho </font></font><b><font color="red"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) e v√£o para a entrada dos misturadores din√¢micos ( </font></font><b><font color="red"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). Como resultado, o sinal √© transferido para uma frequ√™ncia na faixa de 2,3 ... 2,7 GHz e passa atrav√©s de um amplificador com um ganho sintoniz√°vel ( </font></font><b><font color="red"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como resultado, temos: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ A faixa de sintonia da frequ√™ncia de corte dos filtros da banda de base: 1,75 ... 28 MHz</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ faixa de ajuste do ganho do caminho de transmiss√£o = 45 dB </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ ~ 0 dBm de pot√™ncia m√°xima de sa√≠da </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O sinal recebido na entrada do caminho de recep√ß√£o passa por um amplificador de baixo ru√≠do ( </font></font><b><font color="green"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), um mixer de quadratura abaixador ( </font></font><b><font color="green"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), filtros com frequ√™ncia de corte ajust√°vel ( </font></font><b><font color="green"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) e banda base amplificadores ajust√°veis ‚Äã‚Äã( </font></font><b><font color="green"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Algumas caracter√≠sticas importantes do MAX2837 recebem o caminho: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ Faixa de ajuste da frequ√™ncia de corte dos filtros de banda base: 1,75 ... 28 MHz </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ Figura de ru√≠do: 2,3 dB </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ Faixa de ajuste do ganho: 94 dB O </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MAX2837 cont√©m um sintetizador de frequ√™ncia a bordo que fornece um sinal de oscilador local para os mixers.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui est√° um chip de r√°dio t√£o interessante, essencialmente um front-end de RF pronto, mas com uma limita√ß√£o significativa - ele tem uma faixa de frequ√™ncia bastante estreita (2,3 ... 2,7 GHz). </font><font style="vertical-align: inherit;">Voc√™ pode expandir a faixa de frequ√™ncia de trabalho do r√°dio adicionando outro est√°gio de transfer√™ncia de frequ√™ncia. </font><font style="vertical-align: inherit;">E isso requer um misturador de radiofrequ√™ncia e um oscilador local. </font><font style="vertical-align: inherit;">E no circuito HackRF One existe um chip que combina esses dois dispositivos. </font><font style="vertical-align: inherit;">Considere um pouco mais.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sintetizador de frequ√™ncia e chip de mistura RFFC5072</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O RFFC5072 inclui um oscilador controlado por tens√£o (VCO ou VCO - Oscilador de controle de tens√£o), um loop bloqueado de fase (PLL ou PLL - loop bloqueado faseado) e um misturador de RF: </font></font><br>
 <img src="https://habrastorage.org/webt/oa/ho/bw/oahobwnjx6_ahrioklpnqcglr80.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A frequ√™ncia do oscilador local (LO - oscilador local) pode ser configurada em uma faixa de 85 ... 4200 MHz, passo de sintonia 1,5 Hz. </font><font style="vertical-align: inherit;">A seguir, consideramos o princ√≠pio de trabalhar com o RFFC5072 no diagrama.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Caminho do transmissor</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Observando o diagrama de blocos do HackRF One acima, voc√™ pode ver que existem v√°rias op√ß√µes poss√≠veis para organizar o caminho do sinal transmitido para a antena. √â poss√≠vel enviar um sinal da sa√≠da do MAX2837 diretamente para o amplificador de sa√≠da (ou antena). Ou o sinal pode ser enviado primeiro ao chip RFFC5072, √† entrada do mixer. N√≥s vamos lidar com isso. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O resultado da mistura da frequ√™ncia do oscilador local e do sinal na frequ√™ncia intermedi√°ria, como √© conhecido, s√£o duas c√≥pias do sinal localizadas √† esquerda e √† direita da frequ√™ncia do oscilador local (a uma dist√¢ncia igual ao IF). Se isso n√£o for √≥bvio para voc√™, voc√™ pode verific√°-lo facilmente aplicando o conhecimento da trigonometria - multiplicando duas fun√ß√µes harm√¥nicas que correspondem ao sinal do oscilador local e ao sinal IF.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas n√£o precisamos de duas c√≥pias do mesmo sinal. O r√°dio n√£o √© borracha, como se costuma dizer, para preench√™-lo de maneira t√£o descuidada. Normalmente, uma das c√≥pias √© selecionada e a segunda (que √© chamada de canal de espelho) √© descartada filtrando ou construindo uma arquitetura especial do conversor de frequ√™ncia - sem um canal de espelho.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O mixer usado no HackRF One n√£o √© um deles, n√£o suprime nenhum dos canais. Ao mesmo tempo, o desenvolvedor do HackRF One forneceu o uso de filtros no caminho do transmissor - um filtro passa-alto (HPF ou HPF - Filtro passa-alto) ou um filtro passa-baixo (LPF ou LPF - Filtro passa-baixo). Dependendo da configura√ß√£o dos respectivos comutadores, o sinal da sa√≠da do mixer passa por um desses filtros. Por que isso √© feito? Obviamente, apenas para poder suprimir uma c√≥pia do sinal localizada em menor frequ√™ncia (LSB - Banda Lateral Baixa) ou uma mais alta (USB - Banda Lateral Superior).</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E a necessidade de ter essa op√ß√£o se deve ao fato de o desenvolvedor desejar fornecer a faixa de frequ√™ncia m√°xima poss√≠vel do m√≥dulo de r√°dio. Quando √© necess√°rio usar uma frequ√™ncia de sinal da faixa de 2,3 ... 2,7 GHz para transmiss√£o, basta conectar diretamente o sinal de sa√≠da MAX2837 √† sa√≠da da antena (ou amplificar o sinal com um amplificador de pot√™ncia de sa√≠da), ignorando o mixer e os filtros. Quando voc√™ precisa ter uma frequ√™ncia menor que 2,3 GHz na sa√≠da, o MAX2837 n√£o pode fazer isso diretamente, para que o sinal seja enviado ao mixer. Como nos lembramos - na sa√≠da do mixer h√° duas c√≥pias do sinal √∫til - conectamos a sa√≠da do mixer a um filtro passa-baixo, suprimindo o USB. E vice-versa, quando √© necess√°ria uma frequ√™ncia acima de 2,7 GHz, acontece o mesmo, somente agora o filtro passa-alto √© usado e o LSB √© filtrado. Tentou retratar isso:</font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/9a/w0/_z/9aw0_zjyb8inmvpnewyxjiis7si.jpeg"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui, o espectro do sinal √© mostrado esquematicamente em cada est√°gio do caminho de transmiss√£o, bem como a resposta de frequ√™ncia dos filtros utilizados. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Assim, temos uma vers√£o combinada da arquitetura do transmissor de r√°dio: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ em altas frequ√™ncias, o circuito super-heter√≥dino opera com duas transfer√™ncias de frequ√™ncia para cima </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ em 2,3-2,7 GHz, o sistema pode operar no formato de um transmissor com convers√£o direta (circuito hom√≥dino) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ em frequ√™ncias mais baixas, o sinal da frequ√™ncia intermedi√°ria j√° carregado.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Caminho do receptor</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O caminho de recebimento √© organizado de maneira semelhante, s√≥ que agora o circuito funciona para que qualquer sinal de entrada seja transferido para a regi√£o de frequ√™ncia 2,3 ... 2,7 GHz, onde √© processado pelo caminho de recebimento MAX2837 - converte componentes de baixa frequ√™ncia em I, Q para transmiss√£o ao ADC.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tamb√©m gostaria de observar que, como o amplificador de baixo ru√≠do na entrada, √© usado exatamente o mesmo modelo de amplificador usado na sa√≠da do transmissor - MGA-81563. A decis√£o, √© claro, √© controversa. Mas, por outro lado, se o autor do projeto n√£o tivesse o objetivo de otimizar o m√≥dulo de r√°dio para uma tarefa estreita espec√≠fica com requisitos de energia para o transmissor e requisitos de ru√≠do para o receptor (obviamente, esse n√£o era o caso), mas o objetivo era, pelo menos, aumentar a pot√™ncia de sa√≠da e n√£o perceber uma figura de ru√≠do bastante defeituosa da parte receptora, em outras palavras, bastava fazer algo "med√≠ocre" a esse respeito e, provavelmente, essa op√ß√£o tem o direito de existir. Al√©m disso, ao mesmo tempo, foi poss√≠vel economizar no custo do dispositivo, recusando-se a aumentar a variedade de componentes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ent√£o, agora descobrimos mais ou menos a composi√ß√£o da arquitetura de hardware e a finalidade dos elementos presentes nela. </font><font style="vertical-align: inherit;">Agora, nada nos impede de olhar mais de perto as especifica√ß√µes de cada elemento-chave do circuito e obter uma lista completa das caracter√≠sticas quantitativas de RF de todo o HackRF One. </font><font style="vertical-align: inherit;">Antes de tudo, √© importante conhecer as propriedades lineares do transmissor, a figura do ru√≠do do receptor, o ru√≠do da fase final dos sintetizadores de frequ√™ncia, etc. Essas caracter√≠sticas, por sua vez, permitem calcular a aplicabilidade do m√≥dulo para uma tarefa espec√≠fica. </font><font style="vertical-align: inherit;">Decidi limitar este artigo apenas a uma descri√ß√£o funcional do circuito e n√£o fornecer c√°lculos quantitativos e conclus√µes. </font><font style="vertical-align: inherit;">Se o t√≥pico for interessante para a comunidade, tentarei escrever uma sequ√™ncia.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qual √© o resultado</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como em qualquer outro neg√≥cio, sempre deve haver bom senso em todos os lugares. Qual √© o ponto da arquitetura com uma antena ADC +? Simplicidade? Sim, mas isso √© apenas a simplicidade de entender o trabalho do "leigo"; em muitos casos, verifica-se que isso n√£o √© ideal e irracional. Como voc√™ pode ver, o desenvolvedor de um dos transceptores SDR mais populares - o HackRF One, entendeu isso, caso contr√°rio ele teria estupidamente conectado um poderoso ADC / DAC √† antena e sugerido o uso do poder de computa√ß√£o mais poderoso para s√≠ntese / processamento de um sinal de banda larga. Valeria a pena ... muito (para dizer o m√≠nimo). Em vez disso, ele criou uma solu√ß√£o de engenharia bastante bonita, na qual ele foi capaz de usar componentes de or√ßamento, construir uma arquitetura com caracter√≠sticas de desempenho muito boas do dispositivo. Baixo custo total (para essa funcionalidade),uma ampla faixa de freq√º√™ncia de trabalho - foi exatamente isso que tornou o projeto popular e acess√≠vel para as pessoas, e a ‚Äúsimplicidade‚Äù da arquitetura da parte do r√°dio que n√£o foi inventada por ningu√©m. S√≥ vale a pena tentar construir de forma significativa um transceptor com as mesmas caracter√≠sticas que pelo menos este HackRF One possui no princ√≠pio ADC / DAC + PC = SDR, tentar escolher ADCs, DACs que sintetizar√£o e digitalizar√£o diretamente os sinais a 6 GHz e entender√£o como √© real. e quanto vai custar. O que podemos dizer sobre sistemas de frequ√™ncia mais alta (operando a dezenas de GHz), que agora est√£o ganhando cada vez mais popularidade. Para eles, a maneira de digitalizar ‚Äúdiretamente‚Äù √© uma utopia completamente irracional. Pelo menos - no est√°gio atual de desenvolvimento da tecnologia.S√≥ vale a pena tentar construir de forma significativa um transceptor com as mesmas caracter√≠sticas que pelo menos este HackRF One possui no princ√≠pio ADC / DAC + PC = SDR, tentar escolher ADCs, DACs que sintetizar√£o e digitalizar√£o diretamente os sinais a 6 GHz e entender√£o como √© real. e quanto vai custar. O que podemos dizer sobre sistemas de frequ√™ncia mais alta (operando a dezenas de GHz), que agora est√£o ganhando cada vez mais popularidade. Para eles, a maneira de digitalizar ‚Äúdiretamente‚Äù √© uma utopia completamente irracional. Pelo menos - no est√°gio atual de desenvolvimento da tecnologia.S√≥ vale a pena tentar construir de forma significativa um transceptor com as mesmas caracter√≠sticas que pelo menos este HackRF One possui no princ√≠pio ADC / DAC + PC = SDR, tentar escolher ADCs, DACs que sintetizar√£o e digitalizar√£o diretamente os sinais a 6 GHz e entender√£o como √© real. e quanto vai custar. O que podemos dizer sobre sistemas de frequ√™ncia mais alta (operando a dezenas de GHz), que agora est√£o ganhando cada vez mais popularidade. Para eles, a maneira de digitalizar ‚Äúdiretamente‚Äù √© uma utopia completamente irracional. Pelo menos - no est√°gio atual de desenvolvimento da tecnologia.O que podemos dizer sobre sistemas de frequ√™ncia mais alta (operando a dezenas de GHz), que agora est√£o ganhando cada vez mais popularidade. Para eles, a maneira de digitalizar ‚Äúdiretamente‚Äù √© uma utopia completamente irracional. Pelo menos - no est√°gio atual de desenvolvimento da tecnologia.O que podemos dizer sobre sistemas de frequ√™ncia mais alta (operando a dezenas de GHz), que agora est√£o ganhando cada vez mais popularidade. Para eles, a maneira de digitalizar ‚Äúdiretamente‚Äù √© uma utopia completamente irracional. Pelo menos - no est√°gio atual de desenvolvimento da tecnologia.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Est√° claro que a arquitetura HackRF One descrita e o controle de cada elemento do circuito est√£o ocultos do programador em algum lugar nos circuitos e no software de controle (gentilmente por algu√©m que tenha sido escrito). </font><font style="vertical-align: inherit;">Naturalmente, n√£o faz sentido para todos e todos mergulharmos profundamente na engenharia de r√°dio. </font><font style="vertical-align: inherit;">Uma pessoa envolvida no DSP n√£o precisa entender em detalhes os recursos do trato de RF. </font><font style="vertical-align: inherit;">Entretanto, em qualquer caso, deve-se prestar mais aten√ß√£o e precis√£o a √°reas desconhecidas do conhecimento, para n√£o negligenci√°-las e n√£o ignor√°-las quando for imposs√≠vel ficar sem elas. </font><font style="vertical-align: inherit;">Entre outras coisas, quero observar que o projeto HackRF One pode ser n√£o apenas um brinquedo curioso nas m√£os de um programador entusiasmado, mas tamb√©m pode servir como uma ferramenta de treinamento interessante para um r√°dio amador / engenheiro de r√°dio.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt499364/index.html">Alexey Kapterev: Pensamento Cr√≠tico 101 (Parte 1)</a></li>
<li><a href="../pt499366/index.html">Bate-papo geogr√°fico, bots nocivos e esteganografia: enriquecendo o conhecimento sobre o telegrama</a></li>
<li><a href="../pt499368/index.html">Sobre Phrasal Verbs-4 (in / out)</a></li>
<li><a href="../pt499370/index.html">Minhas perguntas CSS favoritas com respostas detalhadas</a></li>
<li><a href="../pt499374/index.html">Exame dos dados de prolifera√ß√£o de COVID-19 usando diferen√ßas de primeira ordem. E o que veio disso</a></li>
<li><a href="../pt499378/index.html">Crie seu primeiro teste de Cypress</a></li>
<li><a href="../pt499380/index.html">Mil e uma raz√µes para n√£o usar (corrigir: russo) pesquisa na Internet para resolver pelo menos alguns problemas</a></li>
<li><a href="../pt499382/index.html">Introdu√ß√£o ao IDAPython</a></li>
<li><a href="../pt499386/index.html">Resumo do livro "Criando microsservi√ßos"</a></li>
<li><a href="../pt499394/index.html">–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è–º –≤ IT-–≥–∏–≥–∞–Ω—Ç—ã: –∫–∞–∫ —è –ø—Ä–µ–æ–¥–æ–ª–µ–ª–∞ –ø—Ä–æ–∫–ª—è—Ç—å–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>