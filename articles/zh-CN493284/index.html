<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧑🏼‍🤝‍🧑🏼 🧒🏻 💝 Kubernetes 1.18：关键创新概述 🆎 🚐 😯</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="昨天，3月25日，Kubernetes 的下一个发行版-1.18。根据我们博客的传统，我们谈论新版本中最重要的变化。
 
 
 
 用于制备这种材料的信息是从官方公布采取的Kubernetes增强跟踪表，更新日志-1.18，从审查SUSE和Sysdig，以及相关的问题，引入请求，Kubernetes...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Kubernetes 1.18：关键创新概述</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/493284/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">昨天，3月25日，</font><font style="vertical-align: inherit;">Kubernetes </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下一个发行版-1.18。根据我们博客的传统，我们谈论新版本中最重要的变化。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/9p/rv/zh/9prvzhyyaw9ta7v0lh8zi4qlv94.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
用于制备这种材料的信息是从官方公布采取</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的Kubernetes增强跟踪表</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更新日志-1.18</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，从审查</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SUSE</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sysdig</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，以及相关的问题，引入请求，Kubernetes增强提案（KEP）...</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kubernetes 1.18发行版获得了官方徽标，其实质被简化为与大型强子对撞机进行比较。</font><font style="vertical-align: inherit;">就像LHC是来自世界各地成千上万的科学家工作的结果一样，Kubernetes聚集了来自数百个组织的成千上万的开发人员，他们全都致力于一个共同的事业：“全面改善云计算”。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/hn/4m/_f/hn4m_f-9tdyuowmsmvddfuts37e.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同时，SUSE团队的狂热者根据发行说明为K8s 1.18进行的3412次提交准备了一个词云。</font><font style="vertical-align: inherit;">结果是这样的：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fe/g3/fx/feg3fxbhfrs-tvhyyziivnitupo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在-用用户更容易理解的形式来说明这些词的含义。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">排程器</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这里的主要创新-它</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概述了计划</font></font></b></a> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（计划概要）</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。与以下事实有关：集群中的工作负载变得越异构，就越早需要采用不同的方法进行规划。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
为了解决这个问题，作者建议调度程序使用分配给调度程序并称为配置文件的不同配置。首先，kube-scheduler扫描所有可用的配置文件并将其保存在注册表中。如果配置中没有配置文件，则选择默认选项（</font></font><code>default-scheduler</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。将Pod放入队列后，kube-scheduler会在考虑所选调度程序的情况下执行其计划。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
基于谓词萨米策略规划（</font></font><code>PodFitsResources</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code>PodMatchNodeSelector</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code>PodToleratesNodeTaints</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">等）和优先级（</font></font><code>SelectorSpreadPriority</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code>InterPodAffinityPriority</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code>MostRequestedPriority</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code>EvenPodsSpreadPriority</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">等等）。</font><font style="vertical-align: inherit;">该实现立即提供了一个插件系统，以便通过一个特殊的框架添加所有配置文件。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当前的配置结构（即将更改）：</font></font><br>
<br>
<pre><code class="plaintext hljs">type KubeSchedulerConfiguration struct {<font></font>
   ...<font></font>
   SchedulerName string<font></font>
   AlgorithmSource SchedulerAlgorithmSource<font></font>
   HardPodAffinitySymmetricWeight<font></font>
   Plugins *Plugins<font></font>
   PluginConfig []PluginConfig<font></font>
   ...<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...以及示例设置：</font></font><br>
<br>
<pre><code class="plaintext hljs">profiles:<font></font>
  - schedulerName: 'default-scheduler'<font></font>
    pluginConfig:<font></font>
      - name: 'InterPodAffinity'<font></font>
      - args:<font></font>
          hadPodAffinityWeight: &lt;value&gt;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
到下一版K8s为止，该功能预计将转换为beta版本，并且还会再进行两次稳定化。有关调度程序配置文件的更多信息，请参见</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相应的KEP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
alpha版本状态中出现的另一项创新是</font><b><font style="vertical-align: inherit;">均匀分配吊舱</font></b><font style="vertical-align: inherit;">的</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">规则</font><i><font style="vertical-align: inherit;">（即使是吊舱摊开）</font></i><font style="vertical-align: inherit;">。当前，规则已定义在</font><font style="vertical-align: inherit;">Pod </font><font style="vertical-align: inherit;">中</font><font style="vertical-align: inherit;">并附加到Pod，现在可以在集群级别设置全局配置了。详细信息在</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">KEP中</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">
同时，</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">Pod拓扑扩展</font></a><font style="vertical-align: inherit;">功能本身</font><font style="vertical-align: inherit;">（其功能门- </font><font style="vertical-align: inherit;">）允许将Pod均匀地分布在多区域群集中，现已转换为Beta状态。</font></font><b><font style="vertical-align: inherit;"></font></b> <i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><code>PodSpec</code><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code>EvenPodsSpread</code><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
此外，</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">还宣布了基于</font></font></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">污染的逐出的稳定性，旨在在某些条件发生时向节点添加污点。</font><font style="vertical-align: inherit;">该功能首次出现在已经遥远的</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">K8s 1.8</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本中</font><font style="vertical-align: inherit;">，并在</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.13</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版中获得Beta状态</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HPA自定义缩放速度</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一年多来，Kubernetes增强炉</font><font style="vertical-align: inherit;">（即</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HPA）中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个有趣的功能称为可</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">配置的HPA刻度速度已</font></a><font style="vertical-align: inherit;">逐渐消失。</font><font style="vertical-align: inherit;">可自定义的水平缩放速度。</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（顺便说一下，</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们的同胞</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开始了它的开发</font><font style="vertical-align: inherit;">。）</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在新版本中，它被带到了大规模使用的第一阶段-它在alpha版本中可用。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如您所知，Kubernetes中的水平Pod自动缩放器（HPA）可以缩放支持子资源的任何资源的Pod数量</font></font><code>scale</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基于CPU消耗或其他指标。一项新功能使您可以双向控制缩放的速度。到目前为止，可以非常有限地对其进行调节（例如，参见集群的全局参数</font></font><code>--horizontal-pod-autoscaler-downscale-stabilization-window</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
引入自定义扩展速度的主要动机是能够根据其对业务的重要性来分离集群工作负载的能力，从而允许一个应用程序（处理最关键的流量）在大小上具有最大的增长速度，而汇总速度则较低（因为可能发生新的负载爆发），对于其他人-根据其他条件进行缩放（以节省资金等）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
拟议的解决方案-为HPA配置添加对象</font></font><code>behavior</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，可让您定义用于控制两个方向（</font></font><code>scaleUp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code>scaleDown</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">缩放的规则</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例如，配置：</font></font><br>
<br>
<pre><code class="plaintext hljs">behavior:<font></font>
  scaleUp:<font></font>
    policies:<font></font>
    - type: percent<font></font>
      value: 900%</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...将导致以下事实：当前运行的吊舱数量将增加900％。</font><font style="vertical-align: inherit;">也就是说，如果应用程序以单个pod开头，那么如果有必要进行扩展，它将开始以1→10→100→1000的比例增长。有关</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
其他示例和实现的详细信息，请参阅</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KEP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
支持大</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">页面</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font><b><font style="vertical-align: inherit;">fiche的</font></b></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总KEP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）的</font><font style="vertical-align: inherit;">进展</font><font style="vertical-align: inherit;">：Alpha版本</font><font style="vertical-align: inherit;">在容器级别</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实现了</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对这些页面的支持以及请求不同大小页面的能力。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">拓扑管理器节点</font></font></b> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Node</font></font></a><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> of </font><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">Topology Manager</font></a></i><i><font style="vertical-align: inherit;">）</font></i><font style="vertical-align: inherit;">旨在统一用于微调Kubernetes中不同组件的硬件资源分配的方法，该方法已转换为beta状态。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
测试版的状态，可将其引入功能K8s 1.16 </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PodOverhead</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（拟议的间接费用计算机制）。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kubectl</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">了</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kubectl调试</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令</font><font style="vertical-align: inherit;">（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其KEP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">的</font></a><font style="vertical-align: inherit;"> Alpha版本，该命令</font><font style="vertical-align: inherit;">开发了“ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">临时容器</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ” </font><font style="vertical-align: inherit;">的概念</font><font style="vertical-align: inherit;">。它们最初是在K8s 1.16中引入的，目的是简化Pod中的调试。为此，在正确的窗格中，启动一个临时（即，居住时间短）容器，其中包含调试所需的工具。正如我们已经写过的，此命令与到目前为止存在的kubectl-debug插件基本相同（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其回顾</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
职位说明</font></font><code>kubectl debug</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br>
<br>
<pre><code class="bash hljs">% kubectl <span class="hljs-built_in">help</span> debug<font></font>
Execute a container <span class="hljs-keyword">in</span> a pod.<font></font>
<font></font>
Examples:<font></font>
  <span class="hljs-comment"># Start an interactive debugging session with a debian image</span><font></font>
  kubectl debug mypod --image=debian<font></font>
<font></font>
  <span class="hljs-comment"># Run a debugging session in the same namespace as target container 'myapp'</span>
  <span class="hljs-comment"># (Useful for debugging other containers when shareProcessNamespace is false)</span><font></font>
  kubectl debug mypod --target=myapp<font></font>
<font></font>
Options:<font></font>
  -a, --attach=<span class="hljs-literal">true</span>: Automatically attach to container once created<font></font>
  -c, --container=<span class="hljs-string">''</span>: Container name.<font></font>
  -i, --stdin=<span class="hljs-literal">true</span>: Pass stdin to the container<font></font>
  --image=<span class="hljs-string">''</span>: Required. Container image to use <span class="hljs-keyword">for</span> debug container.<font></font>
  --target=<span class="hljs-string">''</span>: Target processes <span class="hljs-keyword">in</span> this container name.<font></font>
  -t, --tty=<span class="hljs-literal">true</span>: Stdin is a TTY<font></font>
<font></font>
Usage:<font></font>
  kubectl debug (POD | TYPE/NAME) [-c CONTAINER] [flags] -- COMMAND [args...] [options]<font></font>
<font></font>
Use <span class="hljs-string">"kubectl options"</span> <span class="hljs-keyword">for</span> a list of global <span class="hljs-built_in">command</span>-line options (applies to all commands).</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
另一个团队</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kubectl diff</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初在</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">K8s 1.9中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">出现，</font><font style="vertical-align: inherit;">并在1.13中获得Beta身份，最终</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">宣布</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">稳定。顾名思义，它允许您比较群集配置。在</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">出现</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">稳定功能时，她</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">出现了KEP</font></a><font style="vertical-align: inherit;">，并</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已在</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所有相关文档Kubernetes网站</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">上进行了更新</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
此外，标志</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kubectl --dry运行</font></font></b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的（不同的价值的支持</font></font><code>client</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code>server</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code>none</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），它可以让你尽量只在客户端或服务器执行命令。对于其在服务器端的</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实施，实施了</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对主要团队的支持，包括</font></font><code>create</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code>apply</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code>patch</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和其他人。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网路</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ingress资源</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">开始</font></a><font style="vertical-align: inherit;">从当前的API（</font></font><code>extensions.v1beta1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">组</font></font><code>networking.v1beta1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转移到，然后在视图中进行了稳定处理</font></font><code>v1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">为此计划了一系列更改（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KEP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">目前-作为K8s 1.18 beta版的一部分，</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ingress收到了两项重大创新</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个新的领域</font></font><code>pathType</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，允许您通过的路径进行比较什么原则来确定（</font></font><code>Exact</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code>Prefix</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code>ImplementationSpecific</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">;最后行为在被确定</font></font><code>IngressClass</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新的资源</font></font><code>IngressClass</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和一个新的（不可变）字段</font></font><code>Class</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中的定义</font></font><code>IngressSpec</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，其指示哪个控制器实现入口资源。</font><font style="vertical-align: inherit;">这些更改将替换注释</font></font><code>kubernetes.io/ingress.class</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，不赞成使用</font><font style="vertical-align: inherit;">该注释</font><font style="vertical-align: inherit;">。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
对于许多网络功能，可用性状态已提高：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NodeLocal DNS Cache</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">插件已变得稳定</font><font style="vertical-align: inherit;">，通过使用代理对群集节点上的DNS缓存提高了DNS性能；</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">稳定并声明一个字段</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code>AppProtocol</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font><font style="vertical-align: inherit;">该字段</font><font style="vertical-align: inherit;">定义每个服务端口（资源</font></font><code>ServicePort</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code>EndpointPort</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">的应用程序协议</font><font style="vertical-align: inherit;">；</font></font></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IPv6支持被</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">认为足够稳定，可以将其转换为Beta版本。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认情况下，现在激活了</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EndpointSlices API</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（作为Beta版的一部分）</font><font style="vertical-align: inherit;">，可以作为常规端点的更可扩展和可扩展的替代品。</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">储存设施</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alpha版本</font><font style="vertical-align: inherit;">为创建带有预加载数据的卷</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供了</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基础- </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通用数据填充器</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KEP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。作为一种实现，建议削弱现场验证，</font></font><code>DataSource</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以便任意类型的对象都可以是数据源。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在将卷绑定安装到容器之前，将根据value更改其所有文件的权限</font></font><code>fsGroup</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。此操作可能会中断某些应用程序（例如，流行的DBMS）的工作，并且还会花费很多时间（对于大容量-超过1 TB）。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新字段</font></font><code>PermissionChangePolicy</code></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为</font></font><code>PersistentVolumeClaimVolumeSource</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让您</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">决定是否要更改卷的内容所有者。当前实现是Alpha版本，详细信息在</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KEP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
对于对象</font></font><code>Secrets</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code>ConfigMaps</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加了一个</font></font></a> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新字段</font></font><code>immutable</code></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，使它们不可变。通常，这些对象在pod中用作文件。这些文件中的任何快速更改（大约一分钟后）都将应用于安装文件的所有Pod。因此，机密或ConfigMap的不成功更新会导致整个应用程序失败。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
该功能的作者说，即使在采用推荐方法更新应用程序的情况下（通过滚动升级），也可能由于不成功更新现有机密/ ConfigMap而导致失败。此外，在性能和可伸缩性方面，更新正在运行的Pod中的这些对象的过程非常复杂（每个kubelet被迫不断监视每个唯一的秘密/ CM）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在当前的实现中，这样做是为了在将资源标记为不可更改之后，不能回滚此更改。</font><font style="vertical-align: inherit;">您不仅需要删除对象并再次创建它，还需要重新创建使用远程机密的容器。</font><font style="vertical-align: inherit;">版本</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-alpha</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，详细信息</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">-KEP</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
稳定声明：</font></font><br>
<br>
<ul>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">克隆</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> PVC；</font></font></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用诸如持久卷之类的块原始设备（而非网络）</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">的能力</font></a><font style="vertical-align: inherit;">；</font></font></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> CSI中的块原始设备；</font></font></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">传输</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关该卷正在请求的pod的信息。</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他变化</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kubernetes 1.18的其他创新</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（有关更完整的列表，请参阅</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CHANGELOG</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br>
<br>
<ul>
<li>    JWT-  Kubernetes service accounts (KSA)    Kubernetes API.  - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a>     .    API-  discovery-,   OIDC (OpenID Connect)    .     OIDC (..   K8s-)       KCA-,    API-.  —  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">KEP</a>.</li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">-</a> Priority and Fairness  API (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">KEP</a>) —          API- <i>(  max-in-flight)</i>.       .       (  <code>FlowSchema</code>)     (  <code>RequestPriority</code>).        <code>kubectl</code>:<br>
<br>
<pre><code class="plaintext hljs">kind: RequestPriority<font></font>
meta:<font></font>
  name: workload-high<font></font>
spec:<font></font>
  assuredConcurrencyShares: 30<font></font>
  queues: 128<font></font>
  handSize: 6<font></font>
  queueLengthLimit: 100<font></font>
<font></font>
kind: FlowSchema<font></font>
meta:<font></font>
  name: workload-high<font></font>
spec:<font></font>
  requestPriority:<font></font>
    name: workload-high<font></font>
  flowDistinguisher:<font></font>
    source: namespace<font></font>
    # no transformation in this case<font></font>
  match:<font></font>
  - and: # users using kubectl<font></font>
    - notPatternMatch:<font></font>
      field: user<font></font>
      pattern: system:serviceaccount:.*</code></pre></li>
<li>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">CertificateSigningRequest API</a>,         x509-  Certificate Authority.      K8s 1.4    -  1.6.</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用Windows时，进行了许多重大改进：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CRI-ContainerD支持</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（alpha版），</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RuntimeClass实现</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（alpha版），</font><font style="vertical-align: inherit;">通过CSI代理</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持的CSI驱动程序</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（alpha版），稳定的</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GMSA</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本</font><font style="vertical-align: inherit;">（组托管服务帐户）和</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RunAsUserName</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
依赖关系更改：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> kubeadm中的CoreDNS版本-1.6.7;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cri-tools 1.17.0;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> CNI（容器网络接口）0.8.5，Calico 3.8.4；</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 使用的Go版本是1.13.8。</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">什么过时了？</font></font></h2><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API服务器</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不用服务</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">过时的API：所有的资源</font></font><code>apps/v1beta1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code>extensions/v1beta1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">移动的需求</font></font><code>apps/v1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，并注意特定资源</font></font><code>daemonsets</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code>deployments</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code>replicasets</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code>networkpolicies</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code>podsecuritypolicies</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指标的端点</font></font><code>/metrics/resource/v1alpha1</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不提供服务</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -现在改为</font></font><code>/metrics/resource</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">；</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">除负责生成Pod的生成</font><font style="vertical-align: inherit;">器</font><font style="vertical-align: inherit;">外，</font><font style="vertical-align: inherit;">所有团队生成器均已</font></font><code>kubectl run</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">删除</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">聚苯乙烯</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
另请参阅我们的博客：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">« </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kubernetes 1.17：主要创新回顾</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”；</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kubernetes 1.16：关键创新概述</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”；</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kubernetes 1.15：关键创新概述</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”；</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kubernetes 1.14：关键创新概述</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。”</font></font></li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN493268/index.html">五月 已应用</a></li>
<li><a href="../zh-CN493272/index.html">如何在新的Microsoft Edge中离线启用Google文档</a></li>
<li><a href="../zh-CN493274/index.html">为Android开发人员提供30多个简明的专业建议</a></li>
<li><a href="../zh-CN493278/index.html">我是否需要吸烟以预防SARS-CoV-2</a></li>
<li><a href="../zh-CN493282/index.html">使用Calico了解网络策略</a></li>
<li><a href="../zh-CN493288/index.html">五个著名的解释性编程引号</a></li>
<li><a href="../zh-CN493292/index.html">响应还是响应？解析React组件结构</a></li>
<li><a href="../zh-CN493294/index.html">我们用TTL观察苏联集成电路内部</a></li>
<li><a href="../zh-CN493298/index.html">C ++，元编程和微控制器寄存器</a></li>
<li><a href="../zh-CN493300/index.html">使用积分图像计算O（1）的质心</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>