<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>☔️ ⛹🏿 ♍️ JavaFX Weaver：JavaFXとSpring Bootアプリケーションの統合 💷 📐 🌞</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="これはJavaFXシリーズの最後の投稿です。
 
 

1. JavaFXチュートリアル：はじめに
2. JavaFXチュートリアル：Hello world！
3. JavaFXチュートリアル：FXMLとSceneBuilder
4. JavaFXチュートリアル：基本的なレイアウト
5. JavaF...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>JavaFX Weaver：JavaFXとSpring Bootアプリケーションの統合</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/478402/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これはJavaFXシリーズの最後の投稿です。</font></font><br>
<br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaFXチュートリアル：はじめに</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaFXチュートリアル：Hello world！</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaFXチュートリアル：FXMLとSceneBuilder</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaFXチュートリアル：基本的なレイアウト</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaFXチュートリアル：高度なレイアウト</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaFXチュートリアル：CSSスタイリング</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaFX Weaver：JavaFXとSpring Bootアプリケーションの統合</font></font></li>
</ol><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaFXとSpring</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
現在、Java開発者がJavaだけで作業することはほとんどありません。</font><font style="vertical-align: inherit;">ほとんどのプロジェクトでは、通常、Spring FrameworkまたはSpring Bootを使用します。</font><font style="vertical-align: inherit;">これらのプロジェクトには多くの便利な機能が含まれているため、このアプローチには多くの利点があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、JavaFXアプリケーションを開発する場合、それをSpringと統合する簡単な方法はありません。</font><font style="vertical-align: inherit;">JavaFXアプリケーションには独自のライフサイクルがあり、コントローラーインスタンスの作成を提供するため、統合はそのままでは機能しません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この</font><font style="vertical-align: inherit;">プロジェクトの最終的なプロジェクトコードを確認できる</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リポジトリの例</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">があり</font><font style="vertical-align: inherit;">ます。</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaFX-Weaver</font></font></h3><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Weaver-JavaFX</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font><font style="vertical-align: inherit;">SpringとJavaFXの統合を目的とする</font><font style="vertical-align: inherit;">RenéGielen（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rene Gielen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）の</font><font style="vertical-align: inherit;">プロジェクト</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">幸いなことに、セットアップはそれほど複雑ではありません。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はじめましょう</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最も単純なSpring Bootプロジェクトを試して、JavaFXをそれに統合してみましょう。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spring Initializr</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用して新しいプロジェクトを作成できます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">依存関係を追加する必要はありません。</font><font style="vertical-align: inherit;">JavaFXを依存関係として構成することを避けたい場合</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、JDKの一部としてJavaFXが</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">まだ</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">含まれ</font></a><font style="vertical-align: inherit;">ているため、Java 11より前のバージョンを選択して</font><font style="vertical-align: inherit;">ください。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コントローラーの追加</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アプリケーションがSpringとJavaFXの両方で正しく動作するかどうかを確認できるように、コントローラーとそれに付随する.fxmlビューが必要です。</font><font style="vertical-align: inherit;">最初にコントローラーを作成し、今のところは空白のままにします。</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyController</span> </span>{<font></font>
}</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ビューを追加する</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に</font><font style="vertical-align: inherit;">、コントローラーでビューとして使用される</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.fxml</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイル</font><font style="vertical-align: inherit;">が</font><font style="vertical-align: inherit;">必要</font><font style="vertical-align: inherit;">です。</font><font style="vertical-align: inherit;">それをリソースフォルダーに入れます。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">統合を正しく機能させるには、リソースフォルダーに作成する必要がありますが、コントローラーが配置されているパッケージに対応するディレクトリ構造に作成する必要があります。</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、コントローラーがパッケージ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com.vojtechruzicka.javafxweaverexampleにあるとし</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.fxml</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイル</font><font style="vertical-align: inherit;">はここに配置する必要があります。</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">src \ main \ resources \ com \ vojtechruzicka \ javafxweaverexample</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ファイルに</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">main-scene.fxml</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">という名前を付けます</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">依存関係</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通常のSpringを使用する場合、設定は少し異なりますが、Spring Bootの場合は、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pom.xml</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイルに次の依存関係を追加する必要があります</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>net.rgielen<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>javafx-weaver-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.3.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
または、Gradleを使用する場合：</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">実装 'javafx-weaver-spring-boot-starter：1.3.0'</font></font></blockquote><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spring Bootアプリケーションクラス</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ベースのSpring Bootアプリケーションを生成したときに、メインアプリケーションクラスも作成されました。</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@SpringBootApplication</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">によって注釈が付けられたこのクラスは、</font><font style="vertical-align: inherit;">アプリケーション全体を実行するためのエントリポイントとして使用されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ちょっと待って！ JavaFXには独自のメインアプリケーションクラスもあり、JavaFXアプリケーションを実行するためのエントリポイントとして使用されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは紛らわしいです。では、Spring BootとJavaFXの両方のアプリケーションを実行するためにどちらを使用する必要がありますか？</font><i><font style="vertical-align: inherit;">@SpringBootApplication</font></i></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
は引き続き使用します</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">少し変更して。</font><font style="vertical-align: inherit;">Springアプリケーションを直接起動する代わりに、それを使用してJavaFXアプリケーションを起動します。</font><font style="vertical-align: inherit;">JavaFXアプリケーションは、Springアプリケーションコンテキストを適切に起動し、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaFX Weaver</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用してすべてを統合する必要があります</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、Spring BootアプリケーションがJavaFXアプリケーションを起動することを確認する必要があります。</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">import</span> javafx.application.Application;
<span class="hljs-keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;<font></font>
<font></font>
<span class="hljs-meta">@SpringBootApplication</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SpringBootExampleApplication</span> </span>{<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{
        <span class="hljs-comment">// This is how normal Spring Boot app would be launched</span>
        <span class="hljs-comment">// SpringApplication.run(SpringBootExampleApplication.class, args);</span><font></font>
<font></font>
        <span class="hljs-comment">// JavaFxApplication doesn't exist yet, </span>
        <span class="hljs-comment">// we'll create it in the next step</span><font></font>
        Application.launch(JavaFxApplication.class, args);<font></font>
    }<font></font>
}</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaFXアプリケーションクラス</font></font></h3><br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@SpringBootApplication</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
アプリケーション</font><font style="vertical-align: inherit;">は、</font><font style="vertical-align: inherit;">まだ存在しない</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaFxApplication</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クラスを呼び出すようになり</font><i><font style="vertical-align: inherit;">ました</font></i><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">作成しましょう。</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">JavaFxApplication</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Application</span> </span>{<font></font>
<font></font>
    <span class="hljs-keyword">private</span> ConfigurableApplicationContext applicationContext;<font></font>
<font></font>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span> </span>{<font></font>
        String[] args = getParameters().getRaw().toArray(<span class="hljs-keyword">new</span> String[<span class="hljs-number">0</span>]);<font></font>
<font></font>
        <span class="hljs-keyword">this</span>.applicationContext = <span class="hljs-keyword">new</span> SpringApplicationBuilder()<font></font>
                .sources(SpringBootExampleApplication.class)<font></font>
                .run(args);<font></font>
    }<font></font>
<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JavaFXが初期化されると、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SpringBootExampleApplication</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（メインのSpring Bootアプリケーションクラス）に</font><font style="vertical-align: inherit;">新しい構成ベースのアプリケーションコンテキストが作成</font><font style="vertical-align: inherit;">され、前の手順で変更しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、Spring Bootアプリケーションが新しいアプリケーションコンテキストで動作しました。</font><font style="vertical-align: inherit;">ただし、JavaFXアプリケーションの終了時にコンテキストが適切に閉じられるようにする必要があります。</font><font style="vertical-align: inherit;">たとえば、ウィンドウを閉じたとき。</font><font style="vertical-align: inherit;">今やりましょう。</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-meta">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">stop</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">this</span>.applicationContext.close();<font></font>
    Platform.exit();<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アプリケーションの最後の部分は、新しいウィンドウ（ステージ）を作成して表示することです。</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-meta">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">start</span><span class="hljs-params">(Stage stage)</span> </span>{<font></font>
    FxWeaver fxWeaver = applicationContext.getBean(FxWeaver.class);<font></font>
    Parent root = fxWeaver.loadView(MyController.class);<font></font>
    Scene scene = <span class="hljs-keyword">new</span> Scene(root);<font></font>
    stage.setScene(scene);<font></font>
    stage.show();<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これがFxWeaverの出番です。</font><font style="vertical-align: inherit;">アプリケーションコンテキストからBeanを取得し、それを使用してFXMLをロードする必要があります。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Springマネージドコントローラー</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
従来、FXMLLoaderを使用してシーンを作成していました。FXMLLoaderはFXMLファイルをロードし、その中で宣言されたControllerインスタンスを作成します。</font></font><br>
<br>
<pre><code class="java hljs">FXMLLoader loader = <span class="hljs-keyword">new</span> FXMLLoader();<font></font>
URL xmlUrl = getClass().getResource(<span class="hljs-string">"/main-scene.fxml"</span>);<font></font>
loader.setLocation(xmlUrl);<font></font>
Parent root = loader.load();<font></font>
Scene scene = <span class="hljs-keyword">new</span> Scene(root);<font></font>
stage.setScene(scene);<font></font>
stage.show();</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
では、なぜFX Weaverを使用するのでしょうか。</font><font style="vertical-align: inherit;">問題は、FXMLLoaderがコントローラーのインスタンスを作成することです。</font><font style="vertical-align: inherit;">これは、Springによって作成または管理されないことを意味します。</font><font style="vertical-align: inherit;">したがって、依存関係の注入やその他のSpringユーティリティをコントローラーで使用することはできません。</font><font style="vertical-align: inherit;">それが、そもそもJavaFXにSpringを導入した理由です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、FX Weaverがコントローラーを作成すると、それはSpring駆動コンポーネントとして作成されるため、Springを最大限に活用できます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コントローラーのSpringを有効にする</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初に行う必要があるのは、既存のJavaFXコントローラに次のアノテーションを付けることです。 </font></font><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">成分</font></font></a></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Springがそれを認識して制御できるようにします。</font><font style="vertical-align: inherit;">次に、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@ FxmlView</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アノテーションを追加して、</font><font style="vertical-align: inherit;">FX Weaverによって認識される</font><i><font style="vertical-align: inherit;">よう</font></i><font style="vertical-align: inherit;">にする必要があり</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">import</span> net.rgielen.fxweaver.core.FxmlView;
<span class="hljs-keyword">import</span> org.springframework.stereotype.Component;<font></font>
<font></font>
<span class="hljs-meta">@Component</span>
<span class="hljs-meta">@FxmlView("main-stage.fxml")</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyController</span> </span>{<font></font>
}</code></pre><br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@FxmlView</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
パラメータ</font><i><font style="vertical-align: inherit;">（ "main-stage.fxml"）に</font></i><font style="vertical-align: inherit;">注意してください</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">これは、</font><font style="vertical-align: inherit;">コントローラーと一致</font><font style="vertical-align: inherit;">する</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.fxml</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイルの</font><font style="vertical-align: inherit;">名前を示します</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">義務ではありません。</font><font style="vertical-align: inherit;">これを指定しない場合、Fx Weaverはコントローラークラス名を拡張子</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.fxmlの</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイル名として使用します</font><font style="vertical-align: inherit;">。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FXMLファイルは、コントローラーと同じパッケージにある必要がありますが、リソースフォルダーにあります。</font></font></b><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべてが機能することを確認してください</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、すべてが正常に動作し、適切に統合されることを確認しましょう。</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@SpringBootApplication</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アプリケーション</font><font style="vertical-align: inherit;">を</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">main</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メソッド</font><font style="vertical-align: inherit;">で</font><font style="vertical-align: inherit;">実行してみましょう</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">何も特別なものではない、碑文が付いたシンプルなウィンドウが表示されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、アプリケーションが起動していることを意味しますが、コントローラーではSpringに固有の処理は何もしていません。</font><font style="vertical-align: inherit;">依存関係の注入などはありません。</font><font style="vertical-align: inherit;">今それをやってみましょう。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サービスを追加する</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Spring統合が正しく機能することを確認するために、Springによって管理される新しいサービスを作成しましょう。</font><font style="vertical-align: inherit;">後でそれをコントローラーに追加し、そこで使用します。</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">import</span> org.springframework.stereotype.Service;<font></font>
<font></font>
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">WeatherService</span> </span>{<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getWeatherForecast</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">"It's gonna snow a lot. Brace yourselves, the winter is coming."</span>;<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
特別なことは何もありません。これは現在動的ではない天気予報サービスですが、この例ではそれで十分です。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サービスの実装</font></font></h3> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、既存のコントローラーに新しいサービスを追加します。</font><font style="vertical-align: inherit;">これは通常の春ですが、ここでは特別なことは何もありません。</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-meta">@Component</span>
<span class="hljs-meta">@FxmlView("main-stage.fxml")</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyController</span> </span>{<font></font>
<font></font>
    <span class="hljs-keyword">private</span> WeatherService weatherService;<font></font>
<font></font>
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MyController</span><span class="hljs-params">(WeatherService weatherService)</span> </span>{
        <span class="hljs-keyword">this</span>.weatherService = weatherService;<font></font>
    }<font></font>
}</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">予測をダウンロード</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、なんとかしてサービスからデータをロードする必要があります。</font><font style="vertical-align: inherit;">次のように、FMXLのビューを変更してみましょう。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><i><font style="vertical-align: inherit;">WeatherService</font></i><font style="vertical-align: inherit;">から</font><i><font style="vertical-align: inherit;">読み込ま</font></i><font style="vertical-align: inherit;">れるデータをクリックしてボタンを作成します。</font></font><i><font style="vertical-align: inherit;"></font></i></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アップロードしたデータはラベルに表示されます。</font></font></li>
</ol><br>
<pre><code class="xml hljs"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;<span class="hljs-name">?import</span> <span class="hljs-attr">javafx.scene.control.</span>*?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">?import</span> <span class="hljs-attr">javafx.scene.layout.</span>*?&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;<span class="hljs-name">VBox</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://javafx.com/javafx"</span>
            <span class="hljs-attr">xmlns:fx</span>=<span class="hljs-string">"http://javafx.com/fxml"</span>
            <span class="hljs-attr">fx:controller</span>=<span class="hljs-string">"com.vojtechruzicka.javafxweaverexample.MyController"</span>
            <span class="hljs-attr">prefHeight</span>=<span class="hljs-string">"100.0"</span> <span class="hljs-attr">prefWidth</span>=<span class="hljs-string">"350.0"</span> <span class="hljs-attr">spacing</span>=<span class="hljs-string">"10"</span> <span class="hljs-attr">alignment</span>=<span class="hljs-string">"CENTER"</span>&gt;</span><font></font>
<font></font>
    <span class="hljs-tag">&lt;<span class="hljs-name">Label</span> <span class="hljs-attr">fx:id</span>=<span class="hljs-string">"weatherLabel"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">onAction</span>=<span class="hljs-string">"#loadWeatherForecast"</span>&gt;</span>Get weather<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">VBox</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
識別子に注意してください </font></font><math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>f</mi><mi>x</mi><mo>:</mo><mi>i</mi><mi>d</mi><mo>=&amp;quot;</mo><mi>w</mi><mi>e</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi>e</mi><mi>r</mi><mi>L</mi><mi>a</mi><mi>b</mi><mi>e</mi><mi>l</mi><mo>&amp;quot;</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="26.507ex" height="2.509ex" viewBox="0 -809.3 11412.9 1080.4" role="img" focusable="false" style="vertical-align: -0.63ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/478402/&amp;usg=ALkJrhisXvauxllGEa9tXMJCjIY4rzQjIw#MJMATHI-66" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/478402/&amp;usg=ALkJrhisXvauxllGEa9tXMJCjIY4rzQjIw#MJMATHI-78" x="550" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/478402/&amp;usg=ALkJrhisXvauxllGEa9tXMJCjIY4rzQjIw#MJMAIN-3A" x="1400" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/478402/&amp;usg=ALkJrhisXvauxllGEa9tXMJCjIY4rzQjIw#MJMATHI-69" x="1957" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/478402/&amp;usg=ALkJrhisXvauxllGEa9tXMJCjIY4rzQjIw#MJMATHI-64" x="2302" y="0"></use><g transform="translate(3103,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/478402/&amp;usg=ALkJrhisXvauxllGEa9tXMJCjIY4rzQjIw#MJMAIN-3D"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/478402/&amp;usg=ALkJrhisXvauxllGEa9tXMJCjIY4rzQjIw#MJMAIN-22" x="778" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/478402/&amp;usg=ALkJrhisXvauxllGEa9tXMJCjIY4rzQjIw#MJMATHI-77" x="4660" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/478402/&amp;usg=ALkJrhisXvauxllGEa9tXMJCjIY4rzQjIw#MJMATHI-65" x="5377" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/478402/&amp;usg=ALkJrhisXvauxllGEa9tXMJCjIY4rzQjIw#MJMATHI-61" x="5843" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/478402/&amp;usg=ALkJrhisXvauxllGEa9tXMJCjIY4rzQjIw#MJMATHI-74" x="6373" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/478402/&amp;usg=ALkJrhisXvauxllGEa9tXMJCjIY4rzQjIw#MJMATHI-68" x="6734" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/478402/&amp;usg=ALkJrhisXvauxllGEa9tXMJCjIY4rzQjIw#MJMATHI-65" x="7311" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/478402/&amp;usg=ALkJrhisXvauxllGEa9tXMJCjIY4rzQjIw#MJMATHI-72" x="7777" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/478402/&amp;usg=ALkJrhisXvauxllGEa9tXMJCjIY4rzQjIw#MJMATHI-4C" x="8229" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/478402/&amp;usg=ALkJrhisXvauxllGEa9tXMJCjIY4rzQjIw#MJMATHI-61" x="8910" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/478402/&amp;usg=ALkJrhisXvauxllGEa9tXMJCjIY4rzQjIw#MJMATHI-62" x="9440" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/478402/&amp;usg=ALkJrhisXvauxllGEa9tXMJCjIY4rzQjIw#MJMATHI-65" x="9869" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/478402/&amp;usg=ALkJrhisXvauxllGEa9tXMJCjIY4rzQjIw#MJMATHI-6C" x="10336" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/478402/&amp;usg=ALkJrhisXvauxllGEa9tXMJCjIY4rzQjIw#MJMAIN-22" x="10912" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>f</mi><mi>x</mi><mo>:</mo><mi>i</mi><mi>d</mi><mo>="</mo><mi>w</mi><mi>e</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi>e</mi><mi>r</mi><mi>L</mi><mi>a</mi><mi>b</mi><mi>e</mi><mi>l</mi><mo>"</mo></math></span></span><script type="math/tex" id="MathJax-Element-1">fx:id = "weatherLabel"</script></math><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、それを使用して、テキストを変更するために、コントローラー内の指定されたラベルにアクセスします。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">onAction = "＃loadWeatherForecast"</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はコントローラーのメソッドであり、ボタンがクリックされたときに呼び出す必要があります。</font><font style="vertical-align: inherit;">それをコントローラーに追加する必要があります。</font><font style="vertical-align: inherit;">そうしよう。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コントローラーロジック</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後のステップは、ビューのボタンのクリックに応答するようにコントローラーを変更し、天気予報データをダウンロードして、ラベルに設定することです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、テキストを変更できるように、私たちの視点からのラベルへのリンクが必要です。</font><font style="vertical-align: inherit;">に対応する彼の名前を選択する必要があります</font></font><math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>f</mi><mi>x</mi><mo>:</mo><mi>i</mi><mi>d</mi><mo>=&amp;quot;</mo><mi>w</mi><mi>e</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi>e</mi><mi>r</mi><mi>L</mi><mi>a</mi><mi>b</mi><mi>e</mi><mi>l</mi><mo>&amp;quot;</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="26.507ex" height="2.509ex" viewBox="0 -809.3 11412.9 1080.4" role="img" focusable="false" style="vertical-align: -0.63ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/478402/&amp;usg=ALkJrhisXvauxllGEa9tXMJCjIY4rzQjIw#MJMATHI-66" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/478402/&amp;usg=ALkJrhisXvauxllGEa9tXMJCjIY4rzQjIw#MJMATHI-78" x="550" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/478402/&amp;usg=ALkJrhisXvauxllGEa9tXMJCjIY4rzQjIw#MJMAIN-3A" x="1400" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/478402/&amp;usg=ALkJrhisXvauxllGEa9tXMJCjIY4rzQjIw#MJMATHI-69" x="1957" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/478402/&amp;usg=ALkJrhisXvauxllGEa9tXMJCjIY4rzQjIw#MJMATHI-64" x="2302" y="0"></use><g transform="translate(3103,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/478402/&amp;usg=ALkJrhisXvauxllGEa9tXMJCjIY4rzQjIw#MJMAIN-3D"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/478402/&amp;usg=ALkJrhisXvauxllGEa9tXMJCjIY4rzQjIw#MJMAIN-22" x="778" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/478402/&amp;usg=ALkJrhisXvauxllGEa9tXMJCjIY4rzQjIw#MJMATHI-77" x="4660" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/478402/&amp;usg=ALkJrhisXvauxllGEa9tXMJCjIY4rzQjIw#MJMATHI-65" x="5377" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/478402/&amp;usg=ALkJrhisXvauxllGEa9tXMJCjIY4rzQjIw#MJMATHI-61" x="5843" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/478402/&amp;usg=ALkJrhisXvauxllGEa9tXMJCjIY4rzQjIw#MJMATHI-74" x="6373" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/478402/&amp;usg=ALkJrhisXvauxllGEa9tXMJCjIY4rzQjIw#MJMATHI-68" x="6734" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/478402/&amp;usg=ALkJrhisXvauxllGEa9tXMJCjIY4rzQjIw#MJMATHI-65" x="7311" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/478402/&amp;usg=ALkJrhisXvauxllGEa9tXMJCjIY4rzQjIw#MJMATHI-72" x="7777" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/478402/&amp;usg=ALkJrhisXvauxllGEa9tXMJCjIY4rzQjIw#MJMATHI-4C" x="8229" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/478402/&amp;usg=ALkJrhisXvauxllGEa9tXMJCjIY4rzQjIw#MJMATHI-61" x="8910" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/478402/&amp;usg=ALkJrhisXvauxllGEa9tXMJCjIY4rzQjIw#MJMATHI-62" x="9440" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/478402/&amp;usg=ALkJrhisXvauxllGEa9tXMJCjIY4rzQjIw#MJMATHI-65" x="9869" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/478402/&amp;usg=ALkJrhisXvauxllGEa9tXMJCjIY4rzQjIw#MJMATHI-6C" x="10336" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/478402/&amp;usg=ALkJrhisXvauxllGEa9tXMJCjIY4rzQjIw#MJMAIN-22" x="10912" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>f</mi><mi>x</mi><mo>:</mo><mi>i</mi><mi>d</mi><mo>="</mo><mi>w</mi><mi>e</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi>e</mi><mi>r</mi><mi>L</mi><mi>a</mi><mi>b</mi><mi>e</mi><mi>l</mi><mo>"</mo></math></span></span><script type="math/tex" id="MathJax-Element-2">fx:id = "weatherLabel"</script></math><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-meta">@FXML</span>
<span class="hljs-keyword">private</span> Label weatherLabel;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、ボタンが</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クリックさ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">れたときに呼び出されるメソッドを追加する必要があり</font><i><font style="vertical-align: inherit;">ます-onAction = "＃loadWeatherForecast"</font></i><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">loadWeatherForecast</span><span class="hljs-params">(ActionEvent actionEvent)</span> </span>{
    <span class="hljs-keyword">this</span>.weatherLabel.setText(weatherService.getWeatherForecast());<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このメソッドでは、サービスから天気予報を取得し、前に定義したラベルに割り当てます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今すぐアプリケーションを実行すると、ボタンをクリックした後、現在の天気予報が読み込まれます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wy/5v/h9/wy5vh9mefle6ojg6o_nb3adlyni.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ビューからコンポーネントにアクセスする</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通常のJavaFXと同様に、ビューを使用してコンポーネントを宣言し、コントローラーに注入して、コンポーネントとやり取りできるようにすることができます。</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-meta">@FXML</span>
<span class="hljs-keyword">private</span> Label weatherLabel;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべてがうまく機能することはすでに見てきました。</font><font style="vertical-align: inherit;">タイミングに注意するだけです。</font><font style="vertical-align: inherit;">私たちのコントローラーには注釈が付けられています</font></font><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">成分</font></font></a></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">なので、これは通常のSpring管理Beanです。</font><font style="vertical-align: inherit;">これは、アプリケーションコンテキストが開始され、すべての依存関係が実装されるときに、Springで作成されることを意味します。</font><font style="vertical-align: inherit;">ただし、FX Weaverによるウィービングは後で行われます。</font><font style="vertical-align: inherit;">そして、この織りの間に、コンポーネント参照が挿入されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それは理にかなっています。</font><font style="vertical-align: inherit;">コンストラクターと</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@PostConstruct</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で、実装済みのSpringの依存関係を通常どおりに操作できます。</font><font style="vertical-align: inherit;">ただし、この間、ビューからのコンポーネントへの参照はまだ使用できないため、nullであることを忘れないでください。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JavaFX Weaverは、SpringをJavaFXアプリケーションと統合する便利で簡単な方法を提供します。</font><font style="vertical-align: inherit;">それ以外の場合、JavaFXは独自のライフサイクルとそのコントローラーのライフサイクルを管理するため、これはそれほど単純ではありません。</font><font style="vertical-align: inherit;">JavaFX Weaverは統合を可能にし、非常にシンプルにするので、JavaFXを使用しても、Springのすべての興味深い機能を最終的に使用できます。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja478390/index.html">オープンデザインコミュニティの交流会：放送に参加</a></li>
<li><a href="../ja478392/index.html">ニューラルネットワークを利用して異常を探し、障害を予測します</a></li>
<li><a href="../ja478394/index.html">ゲームデザイナーが読むべき5冊の本</a></li>
<li><a href="../ja478396/index.html">2. Check Pointフォレンジックを使用したマルウェア分析。サンドブラスト剤</a></li>
<li><a href="../ja478398/index.html">Unityでのコードなしのインターフェース最適化</a></li>
<li><a href="../ja478404/index.html">[潜在的な] Redisの後継としてのKeyDB</a></li>
<li><a href="../ja478406/index.html">無料のCRM +テレフォニー</a></li>
<li><a href="../ja478408/index.html">セキュリティウィーク49：ホテルのインフラをハッキング</a></li>
<li><a href="../ja478410/index.html">学校の教科書IIIからのタスク</a></li>
<li><a href="../ja478412/index.html">Rostelecom Solarでのインターンシップ：Scalaスキルのダウンロード</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>