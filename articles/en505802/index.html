<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßõüèª üí≤ üö∫ Hosting and dedicated servers: answer questions. Part 4 üë©‚Äçüëß‚Äçüë¶ üï¢ üÜî</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this series of articles, we want to consider the issues that people have when working with hosting providers and dedicated servers in particular. M...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Hosting and dedicated servers: answer questions. Part 4</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/505802/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In this series of articles, we want to consider the issues that people have when working with hosting providers and dedicated servers in particular. Most of the discussions we conducted in English forums, trying to help users primarily with advice and not self-promotion, giving the most detailed and impartial answer, because our experience in the field has been over 14 years, hundreds of successful solutions and thousands of satisfied customers. Nevertheless, our answers should not be perceived as the only correct answers of the first instance, they may well contain inaccuracies and even errors, no one is perfect. We will be grateful if you add or correct them in the comments.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/0z/p7/jw/0zp7jwe-itjoicbdhs0vtgz7yq8.png"><br>
<a name="habracut"></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=">   :   .  1</a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=">   :   .  2.      ?</a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=">   :   .  3</a><br>
<br>
<blockquote>      100 TB   1  / ,  ,      1  /    ?    2-3    1  /    100 TB,      ,      1 Gbps Unmetered,      ,        ,      ?</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The fact is that providers, offering servers with a sufficiently large traffic limit or even ‚Äúunlimited‚Äù for little money, take into account the average consumption profiles of their customers. It turned out that most customers who buy such channels do not fully use the connectivity provided to them. It is thanks to this that it becomes possible to make such an offer.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
100 TB of traffic is a pretty big limit. This is more than 100 Mbps Unmetered. After all, having a channel of 100 Mbit / s without accounting, you can pump a maximum of 100 (speed in megabytes) * 86400 (number of seconds in days) * 30 (days) / 8 (bits in bytes) / 1000 (megabytes in gigabytes, if we count 1000, and not 1024, 1024 - this is a bit in kibibit) = 32,400 GB per month in each direction with constant download of the channel at 100%. However, as we know, servers do not consume traffic all the time and very often the daily consumption curves can look like this: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zl/1b/8h/zl1b8h1uhp4kxxva21ybkw9kz10.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For some, peaks can reach maximum throughput and require an honest 1 Gb / s at these times. Moreover, the total traffic limit per month can be almost not exceeded:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/uc/xy/uj/ucxyuj9rnkev0wbpzezj1johufe.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Such clients, of course, are not very beneficial to providers, and therefore the provider wants to transfer them to Unmetered, because if he provides services to customers from one region, it is likely that the consumption peaks will coincide and this ‚Äúhonest‚Äù gigabit provider can only sell 1.2 customer. If the provider has customers from different regions, then it is likely that the channel can be sold to two or more subscribers at once, since the peak consumption of audiences will occur at different times. In reality, not every client consumes its own 100 TB limit, therefore providing servers with a 100 TB traffic limit is extremely beneficial.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Moreover, connecting 10 gigabit channels to the racks, it is possible to very effectively share traffic between everyone. We manage to divide the 10 Gb / s channel on average into 5 racks filled with servers with a limit of 100 TB. These are approximately 150 servers. Since one rack with a height of 47 units can accommodate either 41 single-server servers or 21 two-unit servers. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As a result, the total channel consumption is as follows: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xf/cj/0b/xfcj0bjszunxqoupdn6alzk7kfi.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you refuse to provide services to subscribers who generate a lot of traffic (less than 10 out of 150 servers present on this port make the main contribution to channel loading), then you can increase the number of servers to 300 or more. And everyone will be happy and everyone will have enough traffic.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
However, there are other ways to save money and not upset subscribers - connect a cheaper transit uplink or send traffic to an exchange point or peering for free if you are a large traffic generator. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is all that allows you to ensure low prices, not to refuse service to subscribers, paying transit providers 1,500-6,000 euros for every 10G, depending on how good a transit provider is and selling connectivity is cheaper than the cost with a certain oversell ratio, when each of the subscribers has its own ordered an honest channel, while not interfering with each other.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It immediately becomes clear why the price of 1Gbps Unmetered is much higher, since if with 100 terabyte servers, not everyone consumes their limit, then the client who orders 1Gbps Unmetered will clearly consume most of the channel. Although we saw the above exception and an example of how you can generate almost 1 Gbit / s of traffic at the peaks and still be within the 100 terabyte limit, but this is an exception, not a typical pattern.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">My administrator installed the vnstatd program on the server, the traffic is removed from the interface, it is removed every 5 minutes. </font><font style="vertical-align: inherit;">Does he take everything into account? </font><font style="vertical-align: inherit;">So it shows me that 87 TB are used, while the provider says that 96 TB is used and the traffic is almost over. </font><font style="vertical-align: inherit;">I am confident in my system administrator, this is an excellent specialist. </font><font style="vertical-align: inherit;">And if he says that the provider inflates the expense - it is. </font><font style="vertical-align: inherit;">Moreover, this is indicated by the fact that they began to play with might and main with values ‚Äã‚Äãgiving in the process of discussion different values ‚Äã‚Äãfor traffic for the same period. </font><font style="vertical-align: inherit;">To the question "how so?" </font><font style="vertical-align: inherit;">we are still waiting for an answer.</font></font></blockquote><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The fact is that some traffic accounting programs keep records in TiB, not TB. </font><font style="vertical-align: inherit;">Terabytes, not terabytes. </font><font style="vertical-align: inherit;">That is, the accounting is carried out according to the binary system, and not the decimal, based on the fact that in kilobytes, or rather in kibibytes - 1024 bytes, not 1000.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It is worth noting that in order to prevent this distinction from being used for marketing purposes, ISO (International Standartization Organization) has long introduced binary prefixes for binary bytes, that is, kibibytes, mebibytes, gibytes, terabytes. That's just, marketing still took place, and if drive manufacturers, due to decimal bytes, manage to indicate lower drive capacities, then the situation is opposite when measuring and accounting for traffic. The hosting provider, providing 100 TB of traffic, provides it less than it can actually be, if you take it into account on a binary system. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It would seem that the difference is small, only 24 bytes per 1000, the error from this is only 2.4%, but why is there such a big difference at the level of 10%? Maybe they really didn‚Äôt take into account any traffic?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The fact is that we must not forget that the ‚Äúerror‚Äù is growing, namely: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1024 bytes in kibibyte (if we say in accordance with ISO standards), in mebibyte already 1024 * 1024 = 1,048,576 bytes, in gibyte - 1024 * 1024 * 1024 = 1,073,741,824, and in tebibyte - 1,024 * 1,024 * 1,024 * 1,024 = 1,099,511,627,776. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
An unexpected turn? Yes? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When measuring traffic in terabytes, the difference between accounting units is exactly 10%!</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/files/f83/7d1/8b3/f837d18b31af4404915ccdd63934bc50.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Moreover, the difference in the data taken from the port of the switch and from the port of the server can be caused by a DDOS attack, which does not reach the client, and can be eliminated at the ‚Äúrouter‚Äù level, while traffic consumption still occurs. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You should also not forget that sometimes, the program does not take into account traffic on all ports, and some traffic may ‚Äúslip away‚Äù from monitoring. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It also follows that when limited traffic is provided, the total incoming + outgoing is often taken into account, and if you have, say, a VPN service, the ratio will be 1 to 1 and your customers will be able to pump a total of no more than 50 TB of traffic with a limit of 100. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To be continued‚Ä¶</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A bit of advertising :)</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Thank you for staying with us. Do you like our articles? Want to see more interesting materials? Support us by placing an order or recommending to your friends </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cloud-based VPS for developers from $ 4.99</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , a </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">unique analog of entry-level servers that was invented by us for you: </font></font></b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The whole truth about VPS (KVM) E5-2697 v3 (6 Cores) 10GB DDR4 480GB SSD 1Gbps from $ 19 or how to divide the server?</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (options are available with RAID1 and RAID10, up to 24 cores and up to 40GB DDR4). </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dell R730xd 2 times cheaper at the Equinix Tier IV data center in Amsterdam?</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Only we have </font></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 x Intel TetraDeca-Core Xeon 2x E5-2697v3 2.6GHz 14C 64GB DDR4 4x960GB SSD 1Gbps 100 TV from $ 199</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in the Netherlands!</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dell R420 - 2x E5-2430 2.2Ghz 6C 128GB DDR3 2x960GB SSD 1Gbps 100TB - from $ 99! </font></font></b></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Read about</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> How to Build Infrastructure Bldg. </font><font style="vertical-align: inherit;">class c using Dell R730xd E5-2650 v4 servers costing 9,000 euros for a penny?</font></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en505784/index.html">How and why the noatime option improves Linux system performance</a></li>
<li><a href="../en505786/index.html">5 classic art techniques to create a good presentation</a></li>
<li><a href="../en505788/index.html">Ozon Go Demo Day</a></li>
<li><a href="../en505796/index.html">CO2, Sp02 and COVID-19: why you need to ventilate more often (few measurements)</a></li>
<li><a href="../en505798/index.html">PHP 25 years: a brief history of the language and a 50% discount on PhpStorm</a></li>
<li><a href="../en505812/index.html">4 engineers, 7000 servers and one global pandemic</a></li>
<li><a href="../en505814/index.html">Radarr, Jackett and the bot in the cart. Download torrents in a new way</a></li>
<li><a href="../en505824/index.html">Guide: Your Own L2TP VPN</a></li>
<li><a href="../en505826/index.html">How to get 100% vision and even more</a></li>
<li><a href="../en505834/index.html">Median Samples. Confidence Intervals and Comparison</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>