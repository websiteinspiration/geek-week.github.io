<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ˜— ğŸš„ ğŸ”¼ DirectumRXã‚µãƒ¼ãƒ“ã‚¹ã®Redisã®ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ã¨ãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼ ğŸ¤¹ğŸ¾ ğŸ§›ğŸ¾ ğŸ˜ </title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Redisã¯ã€å®Œå…¨ã«RAMã«é…ç½®ã•ã‚ŒãŸNoSQLã‚¯ãƒ©ã‚¹ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ï¼ˆéãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒŠãƒ«DBMSï¼‰ã§ã™ã€‚ãƒ‡ãƒ¼ã‚¿ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã«ã¯ã€ã€Œã‚­ãƒ¼ã€-ã€Œå€¤ã€ãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ã“ã®ã‚ˆã†ãªDBMSã¯ã€ç”»åƒã‚„å°ã•ãªãƒ‡ãƒ¼ã‚¿ã‚’æ ¼ç´ã™ã‚‹ãŸã‚ã«ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ«ãªã‚µãƒ¼ãƒ“ã‚¹ã«æ ¼ç´ã™ã‚‹ãŸã‚ã«ã‚ˆãä½¿ç”¨ã•ã‚Œã¾ã™...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>DirectumRXã‚µãƒ¼ãƒ“ã‚¹ã®Redisã®ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ã¨ãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/directum/blog/469543/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redisã¯ã€å®Œå…¨ã«RAMã«é…ç½®ã•ã‚ŒãŸNoSQLã‚¯ãƒ©ã‚¹ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ï¼ˆéãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒŠãƒ«DBMSï¼‰ã§ã™ã€‚</font><font style="vertical-align: inherit;">ãƒ‡ãƒ¼ã‚¿ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã«ã¯ã€ã€Œã‚­ãƒ¼ã€-ã€Œå€¤ã€ãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã“ã®ã‚ˆã†ãªDBMSã¯ã€ç”»åƒã‚„å°ã•ãªãƒ‡ãƒ¼ã‚¿ã‚’æ ¼ç´ã™ã‚‹ãŸã‚ã«ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ«ãªã‚µãƒ¼ãƒ“ã‚¹ã«æ ¼ç´ã™ã‚‹ãŸã‚ã«ã‚ˆãä½¿ç”¨ã•ã‚Œã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Redis DBMSã¯ã€æ¬¡ã®ç†ç”±ã«ã‚ˆã‚Šåºƒãä½¿ç”¨ã•ã‚Œã¾ã—ãŸã€‚</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é«˜é€Ÿã€ãªãœãªã‚‰ </font><font style="vertical-align: inherit;">ã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿ã¯RAMã«ä¿å­˜ã•ã‚Œã¾ã™ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BSDãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã«åŸºã¥ãé…å¸ƒï¼ˆã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã«é©ç”¨ï¼‰ã€‚</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Redisã®é…å¸ƒã¨é©ç”¨ç¯„å›²ã®åºƒã•ã¯</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å…¬å¼Webã‚µã‚¤ãƒˆã«</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚ã‚‹ã‚ã‚‰ã‚†ã‚‹ç¨®é¡ã®ã‚±ãƒ¼ã‚¹ã«é–¢ã™ã‚‹è†¨å¤§ãªé‡ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã‚ˆã£ã¦æ¨å®šã§ãã¾ã™</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DirectumRXã‚µãƒ¼ãƒ“ã‚¹ã®æ°´å¹³ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã¯ã€Redisãƒ•ã‚§ã‚¤ãƒ«ã‚»ãƒ¼ãƒ•ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã¦ã€DirectumRXã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚µãƒ¼ãƒ“ã‚¹ãŠã‚ˆã³DirectumRX Webã‚¢ã‚¯ã‚»ã‚¹ã‚µãƒ¼ãƒ“ã‚¹ã‚’æ­£ã—ãæ©Ÿèƒ½ã•ã›ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font></font><br>
<a name="habracut"></a><br>
<img src="https://habrastorage.org/getpro/habr/post_images/740/12b/060/74012b060e74628af35c33d4fa96b3bb.jpg" alt="ç”»åƒ"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Redisã¯ã€ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ãƒ¢ãƒ¼ãƒ‰ã®ã‚µãƒ¼ãƒ“ã‚¹ãŒå‹•ä½œã™ã‚‹ãŸã‚ã«å¿…è¦ãªé‹ç”¨ãƒ‡ãƒ¼ã‚¿ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã€ãŠã‚ˆã³ãã®ä»–ã®æƒ…å ±ã‚’ä¿å­˜ã™ã‚‹ãŸã‚ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚·ã‚¹ãƒ†ãƒ ã¨å¯¾è©±ã™ã‚‹ãƒ—ãƒ­ã‚»ã‚¹ã¯ã€ç¾åœ¨ä½œæ¥­ã—ã¦ã„ã‚‹ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã«ä¾å­˜ã—ã¾ã›ã‚“ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Redisã¯æ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã›ãšã€é«˜è² è·ã«ãªã‚Šã¾ã›ã‚“ã€‚</font><font style="vertical-align: inherit;">ãŸã ã—ã€Redisã®éšœå®³ãŒç™ºç”Ÿã—ãŸå ´åˆã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã¨ãã«å¤šãã®ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Redisã®å…¬å¼Webã‚µã‚¤ãƒˆã§ã¯ã€æ°´å¹³ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã¨ãƒ•ã‚©ãƒ¼ãƒ«ãƒˆãƒˆãƒ¬ãƒ©ãƒ³ã‚¹ã‚’ç¢ºä¿ã™ã‚‹æ–¹æ³•ãŒ2ã¤ã‚ã‚Šã¾ã™ã€‚</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redis Sentielã®</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½¿ç”¨</font><font style="vertical-align: inherit;">ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½¿ç”¨</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redisã®ã‚¯ãƒ©ã‚¹ã‚¿ã‚’</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã‚Œã‚‰ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã‚’æ¤œè¨ã—ã¦ãã ã•ã„ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redis Sentielã‚’è¨­å®šã™ã‚‹</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Redis Sentielï¼ˆRedis Tracking Nodeï¼‰ã‚’ä½¿ç”¨ã™ã‚‹ãƒãƒªã‚¢ãƒ³ãƒˆã¯Redis 2.4ã§å®Ÿè£…ã•ã‚Œã€è¿½åŠ ã®Redis Sentielã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½¿ç”¨ã—ã¦ã‚¦ã‚£ã‚¶ãƒ¼ãƒ‰ã®å¯ç”¨æ€§ã‚’ç›£è¦–ã—ã¾ã™ã€‚ã¾ãŸã€ã‚¦ã‚£ã‚¶ãƒ¼ãƒ‰ãŒå¤±æ•—ã—ãŸå ´åˆã«å‚™ãˆã¦ã€ãƒ¬ãƒ—ãƒªã‚«ãƒãƒ¼ãƒ‰ã‚’æ§‹æˆã—ã¾ã™ã€‚ã©ã®ã‚¹ãƒ¬ãƒ¼ãƒ–ãƒãƒ¼ãƒ‰ãŒãƒã‚¹ã‚¿ãƒ¼ã«ãªã‚‹ã‹ã‚’æ±ºå®šã—ã€å¤–å‡ºå…ˆã§å†æ§‹æˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãã‚Œã¯å¤å…¸çš„ãªã‚¹ã‚­ãƒ¼ãƒ ã‚’å®Ÿè£…ã—</font></font><br>
<br>
<img width="467" src="https://habrastorage.org/getpro/habr/post_images/093/10e/efb/09310eefbd3eb3c05d23b9e227bb5d7a.jpg" alt="ç”»åƒ"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã¾ã™</font><font style="vertical-align: inherit;">ï¼š</font><font style="vertical-align: inherit;">å¤šæ•°ã®ã‚¹ãƒ¬ãƒ¼ãƒ–ãƒãƒ¼ãƒ‰</font><font style="vertical-align: inherit;">ãŒå­˜åœ¨</font><font style="vertical-align: inherit;">ã™ã‚‹å¯èƒ½æ€§ãŒ</font><font style="vertical-align: inherit;">ã‚ã‚Š</font><font style="vertical-align: inherit;">ã¾ã™ï¼ˆå…¬å¼ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã«ã‚ˆã‚‹ã¨æœ€å¤§1000ï¼‰ã€‚ç”Ÿç”£çš„ãªä½œæ¥­ã®ãŸã‚ã«ã¯ã€å°‘ãªãã¨ã‚‚2ã¤ã®ã‚¹ãƒ¬ãƒ¼ãƒ–ãƒãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒæ¨å¥¨ã•ã‚Œã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é€šå¸¸ã€ã‚¹ã‚­ãƒ¼ãƒ ã¯ã€Redis Sentielã‚µãƒ¼ãƒ“ã‚¹ãŒMASTERãƒãƒ¼ãƒ‰ã¨SLAVEãƒãƒ¼ãƒ‰ã§æ§‹æˆã•ã‚Œã‚‹ã‚ˆã†ã«æ§‹æˆã•ã‚Œã€MASTERãƒãƒ¼ãƒ‰ã«éšœå®³ãŒç™ºç”Ÿã—ãŸå ´åˆã€æ®‹ã‚Šã®ç›£è¦–ãƒãƒ¼ãƒ‰ã¯æ–°ã—ã„MASTERã‚’å°å…¥â€‹â€‹ã™ã‚‹ã“ã¨ã‚’æ±ºå®šã—ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Redisã®æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€è£½å“é–‹ç™ºè€…ã®å…¬å¼Webã‚µã‚¤ãƒˆ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ãã¾ã™</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ãŸã ã—ã€é…å¸ƒãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯ã‚µã‚¤ãƒˆã®Linuxã§ã®ã¿ä½¿ç”¨ã§ãã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã‹ã¤ã¦ã¯</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Redisã‚’Windowsã«ç§»æ¤ã™ã‚‹ãŸã‚</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ã®</font></a><font style="vertical-align: inherit;"> Microsoft </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ</font></a><font style="vertical-align: inherit;">ãŒ</font><font style="vertical-align: inherit;">é–‹ç™ºã•ã‚Œã¦</font><font style="vertical-align: inherit;">ã„ã¾ã—ãŸãŒã€ç¾æ™‚ç‚¹ã§ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ãƒãƒ¼ã‚¸ãƒ§ãƒ³3.2.100ã§é–‹ç™ºã‚’åœæ­¢ã—ãŸãŸã‚ã€ã“ã®è¨˜äº‹ã§ã¯ã€æœ€ã‚‚é©åˆ‡ãªå±•é–‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã‚ã‚‹Linuxã«ã¤ã„ã¦æ¤œè¨ã—ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒ†ã‚¹ãƒˆãƒãƒ¼ãƒ‰ã¨ã—ã¦ã€Debian 10ã®Linuxãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸ2ã¤ã®ä»®æƒ³ãƒ›ã‚¹ãƒˆredis1ã¨redis2ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã¾ãšã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒªãƒã‚¸ãƒˆãƒªã‹ã‚‰ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒªã‚¹ãƒˆã‚’æ›´æ–°ã—ã€Redisã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">apt-get update &amp;&amp; apt-get upgrade<font></font>
apt install redis-server</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèªã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">root@redis1:/home/user<span class="hljs-comment"># redis-server -v</span>
Redis server v=5.0.3 sha=00000000:0 malloc=jemalloc-5.1.0 bits=64 build=afa0decbb6de285f</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
redis1ãŒãƒã‚¹ã‚¿ãƒ¼ãƒãƒ¼ãƒ‰ã¨ã—ã¦æ©Ÿèƒ½ã—ã€redis2ãŒã‚¹ãƒ¬ãƒ¼ãƒ–ãƒãƒ¼ãƒ‰ã¨ã—ã¦æ©Ÿèƒ½ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã‚Œã‚’è¡Œã†ã«ã¯ã€Redisæ§‹æˆãƒ•ã‚¡ã‚¤ãƒ«ã«ã€ãƒ¬ãƒ—ãƒªã‚«ã‚’ä½œæˆã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã®å¿…è¦ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã‚’è¨˜è¿°ã—ã¾ã™ï¼ˆã¾ã ãƒ•ã‚©ãƒ¼ãƒ«ãƒˆãƒˆãƒ¬ãƒ©ãƒ³ãƒˆã§ã¯ã‚ã‚Šã¾ã›ã‚“ï¼‰ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ§‹æˆãƒ•ã‚¡ã‚¤ãƒ«/etc/redis/redis.confã®redis1ã«ã¯ã€æ¬¡ã®ã‚ˆã†ã«æŒ‡å®šã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-comment"># ,   MASTER     .</span>
requirepass TestPass </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ§‹æˆãƒ•ã‚¡ã‚¤ãƒ«/etc/redis/redis.confã®redis2ã®å ´åˆã¯ã€æ¬¡ã®ã‚ˆã†ã«æŒ‡å®šã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-comment">#   MASTER  .</span><font></font>
slaveof redis1 6379 <font></font>
<span class="hljs-comment">#      .</span><font></font>
masterauth TestPass <font></font>
<span class="hljs-comment">#   ,         .</span>
requirepass TestPass </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸¡æ–¹ã®ãƒãƒ¼ãƒ‰ã§redis-serverã‚µãƒ¼ãƒ“ã‚¹ã‚’å†èµ·å‹•ã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">root@redis1:/etc/redis<span class="hljs-comment"># /etc/init.d/redis-server stop</span><font></font>
[ ok ] Stopping redis-server (via systemctl): redis-server.service.<font></font>
root@redis1:/etc/redis<span class="hljs-comment"># /etc/init.d/redis-server start</span><font></font>
[ ok ] Starting redis-server (via systemctl): redis-server.service.<font></font>
<font></font>
root@redis2:/etc/redis<span class="hljs-comment"># /etc/init.d/redis-server stop</span><font></font>
[ ok ] Stopping redis-server (via systemctl): redis-server.service.<font></font>
root@redis2:/etc/redis<span class="hljs-comment"># /etc/init.d/redis-server start</span>
[ ok ] Starting redis-server (via systemctl): redis-server.service.</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒãƒ¼ãƒ‰ãŒãƒ¬ãƒ—ãƒªã‚«ã«ãªã‚Šã€å¿…è¦ãªå½¹å‰²ã‚’å—ã‘å–ã£ãŸã“ã¨ã‚’ãƒã‚¹ã‚¿ãƒ¼å´ã§ç¢ºèªã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">root@redis1:/etc/redis<span class="hljs-comment"># redis-cli -a TestPass info replication</span>
Warning: Using a password with <span class="hljs-string">'-a'</span> or <span class="hljs-string">'-u'</span> option on the <span class="hljs-built_in">command</span> line interface may not be safe.
<span class="hljs-comment"># Replication</span><font></font>
role:master<font></font>
connected_slaves:1<font></font>
slave0:ip=192.168.9.96,port=6379,state=online,offset=28,lag=0<font></font>
master_replid:56b0a702d5823d107b0ca1ca2c80f8ef650a4b28<font></font>
master_replid2:0000000000000000000000000000000000000000<font></font>
master_repl_offset:28<font></font>
second_repl_offset:-1<font></font>
repl_backlog_active:1<font></font>
repl_backlog_size:1048576<font></font>
repl_backlog_first_byte_offset:1<font></font>
repl_backlog_histlen:28</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚¹ãƒ¬ãƒ¼ãƒ–å´ã§ã‚‚åŒã˜çŠ¶æ³ã«ãªã‚Šã¾ã™ã€‚</font></font><br>
<pre><code class="bash hljs">root@redis2:/etc/redis<span class="hljs-comment"># redis-cli -a TestPass info replication</span>
Warning: Using a password with <span class="hljs-string">'-a'</span> or <span class="hljs-string">'-u'</span> option on the <span class="hljs-built_in">command</span> line interface may not be safe.
<span class="hljs-comment"># Replication</span><font></font>
role:slave<font></font>
master_host:redis1<font></font>
master_port:6379<font></font>
master_link_status:up<font></font>
master_last_io_seconds_ago:4<font></font>
master_sync_in_progress:0<font></font>
slave_repl_offset:14<font></font>
slave_priority:100<font></font>
slave_read_only:1<font></font>
connected_slaves:0<font></font>
master_replid:56b0a702d5823d107b0ca1ca2c80f8ef650a4b28<font></font>
master_replid2:0000000000000000000000000000000000000000<font></font>
master_repl_offset:14<font></font>
second_repl_offset:-1<font></font>
repl_backlog_active:1<font></font>
repl_backlog_size:1048576<font></font>
repl_backlog_first_byte_offset:1<font></font>
repl_backlog_histlen:14</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¬¡ã«ã€ã„ãšã‚Œã‹ã®ãƒãƒ¼ãƒ‰ã§éšœå®³ãŒç™ºç”Ÿã—ãŸå ´åˆã«è‡ªå‹•çš„ã«å¾©å…ƒã•ã‚Œã‚‹ã‚ˆã†ã«ãƒ¬ãƒ—ãƒªã‚«ã‚’æ§‹æˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã“ã‚Œã‚’è¡Œã†ã«ã¯ã€Redis Sentinelè¿½è·¡ã‚µãƒ¼ãƒ“ã‚¹ãŒå¿…è¦ã§ã™ã€‚</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</font></a><font style="vertical-align: inherit;">ã«</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åŸºã¥ã„ã¦ã€</font><font style="vertical-align: inherit;">Redis Sentinelãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹ã¯æ¬¡ã®æ“ä½œã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MASTERãƒãƒ¼ãƒ‰ã¨SLAVEãƒãƒ¼ãƒ‰ã®å¯ç”¨æ€§ã‚’ç¢ºèªã—ã€ãƒãƒ¼ãƒ‰ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„ã“ã¨ã«é–¢ã™ã‚‹ã‚¢ãƒ©ãƒ¼ãƒˆã‚’é€ä¿¡ã§ãã¾ã™ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MASTERãƒãƒ¼ãƒ‰ã«éšœå®³ãŒç™ºç”Ÿã—ãŸå ´åˆã€ç›£è¦–ãƒãƒ¼ãƒ‰ã¯SLAVEãƒãƒ¼ãƒ‰ã‚’MASTERãƒ¢ãƒ¼ãƒ‰ã«ã—ã€æ®‹ã‚Šã®SLAVEãƒãƒ¼ãƒ‰ã‚’å†æ§‹æˆã™ã‚‹ã¨ã€æ–°ã—ã„MASTERã§å‹•ä½œã—å§‹ã‚ã¾ã™ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MASTERãŠã‚ˆã³SLAVEãƒãƒ¼ãƒ‰ã®æ§‹æˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¤‰æ›´ã—ã¾ã™ã€‚</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å®Ÿé¨“ã®ç´”ç²‹ã•ã®ãŸã‚ã«ã€åˆ¥ã®redis3 VMã«ç›£è¦–ã‚µãƒ¼ãƒ“ã‚¹ã‚’é…ç½®ã—ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åŒã˜æ–¹æ³•ã§Redisãƒªãƒã‚¸ãƒˆãƒªã«æ¥ç¶šã—ã€redis-sentinelãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">apt install redis-sentinel</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¾Œã€ç›£è¦–ãƒãƒ¼ãƒ‰/etc/redis/sentinel.confã®æ§‹æˆãƒ•ã‚¡ã‚¤ãƒ«ã§è¨­å®šã‚’è¡Œã†å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-comment">#    redis1   6379. </span>
<span class="hljs-comment">#   1 -      , </span>
<span class="hljs-comment">#        MASTER-.</span>
<span class="hljs-comment">#       , </span>
<span class="hljs-comment">#     MASTER-.</span><font></font>
sentinel monitor master01 redis1 6379 1<font></font>
<font></font>
<span class="hljs-comment">#  3 ,       .</span><font></font>
sentinel down-after-milliseconds master01 3000<font></font>
<font></font>
<span class="hljs-comment">#    MASTER-</span><font></font>
sentinel failover-timeout master01 6000<font></font>
<font></font>
<span class="hljs-comment"># ,  SLAVE-   . </span>
<span class="hljs-comment">#    ,    , </span>
<span class="hljs-comment">#      .</span><font></font>
sentinel parallel-syncs master01 1<font></font>
<font></font>
<span class="hljs-comment">#    .</span>
<span class="hljs-built_in">bind</span> 192.168.9.97 127.0.0.1 ::1<font></font>
<font></font>
<span class="hljs-comment">#    MASTER-.</span><font></font>
sentinel auth-pass master01 TestPass<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¨­å®šå¾Œã€ã‚µãƒ¼ãƒ“ã‚¹ã‚’å†èµ·å‹•ã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">root@redis3:/etc/redis<span class="hljs-comment"># /etc/init.d/redis-sentinel restart</span>
[ ok ] Restarting redis-sentinel (via systemctl): redis-sentinel.service.</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿½è·¡ã‚µãƒ¼ãƒ“ã‚¹ãŒãƒã‚¹ã‚¿ãƒ¼ã¨ã‚¹ãƒ¬ãƒ¼ãƒ–ã‚’ç¢ºèªã—ãŸã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">root@redis3:/etc/redis<span class="hljs-comment"># redis-cli -p 26379 info sentinel</span>
<span class="hljs-comment"># Sentinel</span><font></font>
sentinel_masters:1<font></font>
sentinel_tilt:0<font></font>
sentinel_running_scripts:0<font></font>
sentinel_scripts_queue_length:0<font></font>
sentinel_simulate_failure_flags:0<font></font>
master0:name=master01,status=ok,address=192.168.9.95:6379,slaves=1,sentinels=1</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å®Ÿé¨“ã‚’å§‹ã‚ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
éšœå®³ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã—ã€redis1ã‚µãƒ¼ãƒãƒ¼ã§redis-serverã‚µãƒ¼ãƒ“ã‚¹ã‚’åœæ­¢ã—ã¦ã€ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ãƒãƒ¼ãƒ‰ã®ç¾åœ¨ã®æƒ…å ±ã‚’å–å¾—ã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">root@redis3:/etc/redis<span class="hljs-comment"># redis-cli -p 26379 info sentinel</span>
<span class="hljs-comment"># Sentinel</span><font></font>
sentinel_masters:1<font></font>
sentinel_tilt:0<font></font>
sentinel_running_scripts:0<font></font>
sentinel_scripts_queue_length:0<font></font>
sentinel_simulate_failure_flags:0<font></font>
master0:name=master01,status=ok,address=192.168.9.96:6379,slaves=1,sentinels=1</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MASTERãŒå¤‰æ›´ã•ã‚ŒãŸã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
redis1ãƒãƒ¼ãƒ‰ã®æ“ä½œã‚’å¾©å…ƒã—ã€ãã®çŠ¶æ…‹ã‚’ç¢ºèªã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">root@redis3:/var/<span class="hljs-built_in">log</span>/redis<span class="hljs-comment"># redis-cli -h redis1 -p 6379 -a TestPass info replication</span>
Warning: Using a password with <span class="hljs-string">'-a'</span> or <span class="hljs-string">'-u'</span> option on the <span class="hljs-built_in">command</span> line interface may not be safe.
<span class="hljs-comment"># Replication</span><font></font>
role:slave<font></font>
master_host:192.168.9.96<font></font>
master_port:6379<font></font>
master_link_status:up<font></font>
master_last_io_seconds_ago:1<font></font>
master_sync_in_progress:0<font></font>
slave_repl_offset:15977<font></font>
slave_priority:100<font></font>
slave_read_only:1<font></font>
connected_slaves:0<font></font>
master_replid:6c0c7d0eedccede56f211f2db74a98c4d0ff6d56<font></font>
master_replid2:0000000000000000000000000000000000000000<font></font>
master_repl_offset:15977<font></font>
second_repl_offset:-1<font></font>
repl_backlog_active:1<font></font>
repl_backlog_size:1048576<font></font>
repl_backlog_first_byte_offset:1<font></font>
repl_backlog_histlen:15977</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒãƒ¼ãƒ‰ãŒSLAVEãƒ­ãƒ¼ãƒ«ã‚’å—ã‘å–ã‚Šã€redis2ãƒãƒ¼ãƒ‰ãŒMASTERãƒãƒ¼ãƒ‰ã§ã‚ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
redis2ãƒãƒ¼ãƒ‰ã®éšœå®³ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã—ã€ç›£è¦–ãƒãƒ¼ãƒ‰ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ç¢ºèªã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">root@redis3:/var/<span class="hljs-built_in">log</span>/redis<span class="hljs-comment"># redis-cli -p 26379 info sentinel</span>
<span class="hljs-comment"># Sentinel</span><font></font>
sentinel_masters:1<font></font>
sentinel_tilt:0<font></font>
sentinel_running_scripts:0<font></font>
sentinel_scripts_queue_length:0<font></font>
sentinel_simulate_failure_flags:0<font></font>
master0:name=master01,status=ok,address=192.168.9.95:6379,slaves=1,sentinels=1</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãã—ã¦ã€redis1ãƒãƒ¼ãƒ‰ã®çŠ¶æ…‹ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">root@redis3:/var/<span class="hljs-built_in">log</span>/redis<span class="hljs-comment"># redis-cli -h redis1 -p 6379 -a TestPass info replication</span>
Warning: Using a password with <span class="hljs-string">'-a'</span> or <span class="hljs-string">'-u'</span> option on the <span class="hljs-built_in">command</span> line interface may not be safe.
<span class="hljs-comment"># Replication</span><font></font>
role:master<font></font>
connected_slaves:0<font></font>
master_replid:6e9d67d6460815b925319c2bafb58bf2c435cffb<font></font>
master_replid2:6c0c7d0eedccede56f211f2db74a98c4d0ff6d56<font></font>
master_repl_offset:33610<font></font>
second_repl_offset:26483<font></font>
repl_backlog_active:1<font></font>
repl_backlog_size:1048576<font></font>
repl_backlog_first_byte_offset:1<font></font>
repl_backlog_histlen:33610</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã™ã°ã‚‰ã—ã„ã€ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã¯æ©Ÿèƒ½ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ãŸã ã—ã€DirectumRXã‚µãƒ¼ãƒ“ã‚¹ã¯å˜ä¸€ã®ãƒãƒ¼ãƒ‰ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å¿…è¦ã¨ã™ã‚‹ãŸã‚ã€ã©ã®ã‚ˆã†ã«æ¥ç¶šã™ã‚‹ã‹ã¨ã„ã†å•é¡ŒãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚</font><font style="vertical-align: inherit;">HAProxyã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½¿ç”¨ã—ã¦çŠ¶æ³ã‚’è§£æ±ºã—ã¾ã™ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redisãƒãƒ¼ãƒ‰ã®ãƒ—ãƒ­ã‚­ã‚·</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒ—ãƒ­ã‚­ã‚·tcpã‚µãƒ¼ãƒ“ã‚¹ã¯ã€Redisãƒãƒ¼ãƒ‰ã®ãƒªãƒãƒ¼ã‚¹ãƒ—ãƒ­ã‚­ã‚·ã¨ã—ã¦æ©Ÿèƒ½ã§ãã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã“ã®è¨˜äº‹ã§ã¯ã€HAProxyã®ä½¿ç”¨ã«ã¤ã„ã¦æ¤œè¨ã—ã¾ã™ã€‚HAProxyã¯ã€é«˜å¯ç”¨æ€§ã¨ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚·ãƒ³ã‚°ã‚’æä¾›ã™ã‚‹ãŸã‚ã«è¨­è¨ˆã•ã‚ŒãŸå°‚ç”¨ãƒ„ãƒ¼ãƒ«ã§ã‚ã‚Šã€åºƒãçŸ¥ã‚‰ã‚Œã¦ã„ã‚‹ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚µãƒ¼ãƒ“ã‚¹ã§ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ãŸã‚ã§ã™ã€‚</font><font style="vertical-align: inherit;">HAProxyã®è©³ç´°ã«ã¤ã„ã¦</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¯ã€é–‹ç™ºè€…å‘ã‘ãƒšãƒ¼ã‚¸ã‚’ã”è¦§ãã ã•ã„</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HAProxyã‚’redis3ãƒãƒ¼ãƒ‰ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">root@redis3:/var/<span class="hljs-built_in">log</span>/redis<span class="hljs-comment"># apt install haproxy</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HAProxyæ§‹æˆãƒ•ã‚¡ã‚¤ãƒ«/etc/haproxy/haproxy.cfgã«ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’Redisãƒãƒ¼ãƒ‰ã«ãƒ—ãƒ­ã‚­ã‚·ã™ã‚‹ãŸã‚ã®è¨­å®šã‚’è¿½åŠ ã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">â€¦<font></font>
frontend ft_redis<font></font>
        <span class="hljs-built_in">bind</span> *:6379 name redis<font></font>
        mode tcp<font></font>
        default_backend bk_redis<font></font>
<font></font>
backend bk_redis<font></font>
        mode tcp<font></font>
        option tcp-check<font></font>
        tcp-check connect<font></font>
        <span class="hljs-comment">#  ,         .</span><font></font>
        tcp-check send AUTH\ TestPass\r\n<font></font>
        tcp-check expect string +OK<font></font>
        tcp-check send PING\r\n<font></font>
        tcp-check expect string +PONG<font></font>
        tcp-check send info\ replication\r\n<font></font>
        <span class="hljs-comment">#    MASTER, .. SLAVE      .</span><font></font>
        tcp-check expect string role:master<font></font>
        tcp-check send QUIT\r\n<font></font>
        tcp-check expect string +OK<font></font>
        server Redis1 redis1:6379 check inter 3s<font></font>
        server Redis2 redis2:6379 check inter 3s<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®æ§‹æˆã§ã¯ã€ãƒãƒ¼ãƒˆ6379ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã«ã‚ã‚‹ç¾åœ¨ã®ä»®æƒ³ãƒã‚·ãƒ³ã®ã™ã¹ã¦ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«é€ä¿¡ã•ã‚Œã‚‹ã™ã¹ã¦ã®è¦æ±‚ã‚’ãƒ—ãƒ­ã‚­ã‚·ã™ã‚‹ã“ã¨ãŒç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚MASTERã®å½¹å‰²ã‚’æŒã£ã¦ã„ã‚‹ã¨å¿œç­”ã™ã‚‹ãƒãƒ¼ãƒ‰ã«è¦æ±‚ã‚’é€ä¿¡ã—ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
haproxyã‚µãƒ¼ãƒ“ã‚¹ã‚’å†èµ·å‹•ã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">root@redis3:/etc/haproxy<span class="hljs-comment"># /etc/init.d/haproxy restart</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
redis-cliã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ä½¿ç”¨ã—ã¦æ¥ç¶šã—ã¦ã€ãƒ†ã‚¹ãƒˆã‚­ãƒ¼ã‚’ä½œæˆã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">root@redis3:/etc/haproxy<span class="hljs-comment"># redis-cli -p 6379 -a TestPass</span>
Warning: Using a password with <span class="hljs-string">'-a'</span> or <span class="hljs-string">'-u'</span> option on the <span class="hljs-built_in">command</span> line interface may not be safe.<font></font>
127.0.0.1:6379&gt; SET TestKey <span class="hljs-string">"Some test string"</span><font></font>
OK<font></font>
127.0.0.1:6379&gt; GET TestKey<font></font>
<span class="hljs-string">"Some test string"</span><font></font>
127.0.0.1:6379&gt; info keyspace<font></font>
<span class="hljs-comment"># Keyspace</span>
db0:keys=1,expires=0,avg_ttl=0</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
redis1ãƒãƒ¼ãƒ‰ã‚’åœæ­¢ã—ã€ã‚­ãƒ¼ã®ãƒªã‚¹ãƒˆã‚’å†åº¦ã‚¯ã‚¨ãƒªã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">127.0.0.1:6379&gt; info keyspace<font></font>
Error: Server closed the connection<font></font>
(3.01s)<font></font>
127.0.0.1:6379&gt; info keyspace<font></font>
<span class="hljs-comment"># Keyspace</span><font></font>
db0:keys=1,expires=0,avg_ttl=0<font></font>
(2.01s)<font></font>
127.0.0.1:6379&gt; GET TestKey<font></font>
<span class="hljs-string">"Some test string"</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã—ã°ã‚‰ãã®é–“ã€æ¥ç¶šãŒåˆ‡æ–­ã•ã‚Œã¦ã„ã¾ã—ãŸãŒã€ãã®å¾Œã€æ¥ç¶šã¯å†ã³å¾©å…ƒã•ã‚Œã€ã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿ã¯ãã®ã¾ã¾æ®‹ã‚Šã¾ã—ãŸã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã‚Œã§ã€Redisã«æ¥ç¶šã™ã‚‹ã«ã¯ã€DirectumRXã‚µãƒ¼ãƒ“ã‚¹ã®æ§‹æˆãƒ•ã‚¡ã‚¤ãƒ«ã«ãƒªãƒãƒ¼ã‚¹ãƒ—ãƒ­ã‚­ã‚·ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ç™»éŒ²ã™ã‚‹ã ã‘ã§ååˆ†ã§ã™ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redisã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã®æ§‹æˆ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒãƒ¼ã‚¸ãƒ§ãƒ³redis 3.0ä»¥é™ã«å®Ÿè£…ã•ã‚ŒãŸRedisã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ã€ãƒ‡ãƒ¼ã‚¿ã®ã‚»ã‚°ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã¨ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ã¦ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã‚’ä½œæˆãŠã‚ˆã³ç®¡ç†ã™ã‚‹ãŸã‚ã®ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚</font><font style="vertical-align: inherit;">ãƒãƒ¼ãƒ‰ã®ãƒãƒ¼ãƒ‰ç®¡ç†ã€ãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€ãƒ‡ãƒ¼ã‚¿åŒæœŸã®ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã—ã€ã„ãã¤ã‹ã®MASTERãƒãƒ¼ãƒ‰ã®1ã¤ã«éšœå®³ãŒç™ºç”Ÿã—ãŸå ´åˆã«ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒMASTERãƒãƒ¼ãƒ‰ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚</font></font><br>
<br>
<img width="500" src="https://habrastorage.org/getpro/habr/post_images/86e/5c6/e56/86e5c6e56fe5541c36297e978c4c34d4.png" alt="ç”»åƒ"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Redisã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã¯ãƒãƒ«ãƒãƒã‚¹ã‚¿ãƒ¼ãƒ¢ãƒ¼ãƒ‰ã§å‹•ä½œã—ã€å„ãƒã‚¹ã‚¿ãƒ¼ãƒãƒ¼ãƒ‰ã¯1ã¤ä»¥ä¸Šã®ã‚¹ãƒ¬ãƒ¼ãƒ–ãƒãƒ¼ãƒ‰ï¼ˆæœ€å¤§1000ï¼‰ã‚’æŒã¤ã“ã¨ãŒã§ãã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã¯ã€ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã®ä¸»ãªæ©Ÿèƒ½ã§ã™ã€‚</font><font style="vertical-align: inherit;">ã•ã‚‰ã«ã€ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã¯Redisã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒˆãƒˆãƒ¬ãƒ©ãƒ³ã‚¹ã‚’ä¿è¨¼ã§ãã¾ã™ã€‚</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸€éƒ¨ã®ãƒãƒ¼ãƒ‰ãŒæ©Ÿèƒ½ã—ãªã„å ´åˆã€ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã¯ãã‚Œã‚‰ã®ãƒãƒ¼ãƒ‰ã‹ã‚‰ä»–ã®ãƒãƒ¼ãƒ‰ã«è² è·ã‚’å†åˆ†æ•£ã—ã¾ã™ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é‡è¦ãªãƒãƒ¼ãƒ‰ãŒæ©Ÿèƒ½ã—ãªã„å ´åˆã€ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼å…¨ä½“ãŒçµ‚äº†ã—ã¾ã™ã€‚</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ2ãŒãƒãƒ¼ãƒ‰M2ã«æ›¸ãè¾¼ã‚€ã¨ãã«ã€çŠ¶æ³ãŒç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ M2ã¯ã€ŒOKã€ã¨å¿œç­”ã—ã€S2ã¸ã®æ›¸ãè¾¼ã¿ã‚’è©¦ã¿ã¾ã™ã€‚åŒæ™‚ã«ã€M2ã¯S2ã¨ã®ãƒ‡ãƒ¼ã‚¿äº¤æ›ãŒæ­£ã—ãå®Œäº†ã™ã‚‹ã¾ã§å¾…æ©Ÿã›ãšã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«å³åº§ã«å¿œç­”ã—ã¾ã™ã€‚ã“ã®å ´åˆã€S2ãƒ¬ãƒ—ãƒªã‚«ã«ã¯ã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿ãŒãªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ã—ãŸãŒã£ã¦ã€ã„ãã¤ã‹ã®ã‚¹ãƒ¬ãƒ¼ãƒ–ãƒ¬ãƒ—ãƒªã‚«ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
M1ã€M3ãŒM2ã®ã€Œå‚ç…§ã€ã‚’åœæ­¢ã—ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒå¼•ãç¶šãM2ã¸ã®ãƒ‡ãƒ¼ã‚¿ã®æ›¸ãè¾¼ã¿ã‚’ç¶šã‘ã‚‹ã¨ã€çŠ¶æ³ãŒç™ºç”Ÿã™ã‚‹å ´åˆã‚‚ã‚ã‚Šã¾ã™ã€‚ã—ã°ã‚‰ãã®é–“åˆ©ç”¨ã§ããªã„çŠ¶æ…‹ãŒç¶šãå ´åˆï¼ˆcluster-node-timeoutãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ï¼‰ã€ã“ã®å ´åˆã€S2ã¯MASTERãƒ¢ãƒ¼ãƒ‰ã«ãªã‚Šã€M2ã¯ãã‚Œè‡ªä½“ã§å‹•ä½œã‚’åœæ­¢ã—ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯6ãƒãƒƒãƒˆã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™- 1ãŒä½¿ç”¨å¯èƒ½ãƒãƒ¼ãƒ‰ä¸Šã®Redisã‚’ã‚³ãƒ”ãƒ¼</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã™ã‚‹ãŸã‚ã«</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¿¡é ¼æ€§ã¯ä½ããªã‚Šã¾ã™ãŒã€æ¬¡ã®æ¥ç¶šãƒˆãƒãƒ­ã‚¸ã§3ã¤ã®ãƒãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚’ç¦æ­¢ã™ã‚‹äººã¯ã„ã¾ã›ã‚“ã€‚</font></font><br>
<br>
<img width="573" src="https://habrastorage.org/getpro/habr/post_images/3c1/56a/860/3c156a860e5728015e9631b3bb5854a1.jpg" alt="ç”»åƒ"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç‰©ç†ãƒãƒ¼ãƒ‰ã®1ã¤ã«éšœå®³ãŒç™ºç”Ÿã™ã‚‹ã¨ã€å¯¾å¿œã™ã‚‹ã‚¹ãƒ¬ãƒ¼ãƒ–ãƒ¬ãƒ—ãƒªã‚«ãŒãƒã‚¹ã‚¿ãƒ¼ãƒ¢ãƒ¼ãƒ‰ã«ãªã‚Šã€æ“ä½œãŒä¸­æ–­ã•ã‚Œã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒ†ã‚¹ãƒˆãƒ™ãƒ³ãƒã«3ã¤ã®ä»®æƒ³ãƒã‚·ãƒ³ï¼ˆredis1ã€redis2ã€ãŠã‚ˆã³redis3ï¼‰ã‚’å®Ÿè£…ã—ã€ãã‚Œãã‚ŒãŒ2ã¤ã®Redisã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆæ§‹æˆãƒ•ã‚¡ã‚¤ãƒ«ã§æŒ‡å®šã•ã‚ŒãŸç‰¹å®šã®ãƒãƒ¼ãƒˆã«æ¥ç¶šã™ã‚‹ãŸã‚ã€MASTER-SLAVEãƒšã‚¢ã¯åŒã˜ãƒãƒ¼ãƒˆã§æ©Ÿèƒ½ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒšã‚¢M1-S1ã«ã¯ãƒãƒ¼ãƒˆ6381ã‚’ä½¿ç”¨ã—ã¾ã™</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒšã‚¢M2-S2ã«ã¯</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒãƒ¼ãƒˆ6382 </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚’</font><font style="vertical-align: inherit;">ä½¿ç”¨ã—ã¾ã™ãƒšã‚¢M3-S3ã«ã¯ãƒãƒ¼ãƒˆ6383 </font><font style="vertical-align: inherit;">ã‚’</font><font style="vertical-align: inherit;">ä½¿ç”¨</font><font style="vertical-align: inherit;">ã—ã¾ã™æ§‹æˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’æº–å‚™ã—ã¾ã™</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
redis1ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">cp /etc/redis/redis.conf /etc/redis/m1_redis.conf<font></font>
cp /etc/redis/redis.conf /etc/redis/s2_redis.conf<font></font>
mv /etc/redis/redis.conf /etc/redis/redis.bak </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
redis2ã®å ´åˆï¼š</font></font><br>
<br>
<pre><code class="bash hljs">cp /etc/redis/redis.conf /etc/redis/m2_redis.conf<font></font>
cp /etc/redis/redis.conf /etc/redis/s3_redis.conf<font></font>
mv /etc/redis/redis.conf /etc/redis/redis.bak </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
redis3ã®å ´åˆï¼š</font></font><br>
<br>
<pre><code class="bash hljs">cp /etc/redis/redis.conf /etc/redis/m3_redis.conf<font></font>
cp /etc/redis/redis.conf /etc/redis/s1_redis.conf <font></font>
mv /etc/redis/redis.conf /etc/redis/redis.bak</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«å¾“ã£ã¦æ§‹æˆãƒ•ã‚¡ã‚¤ãƒ«ã«å…¥åŠ›ã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-built_in">bind</span> &lt;IP- &gt;<font></font>
protected-mode no <span class="hljs-comment">#      ,    .</span><font></font>
port &lt;&gt;<font></font>
pidfile /var/run/redis_&lt;&gt;.pid<font></font>
<span class="hljs-comment"># &lt;yes/no&gt; -   Redis Cluster</span><font></font>
cluster-enabled yes<font></font>
<span class="hljs-comment"># ,      : </span>
<span class="hljs-comment">#  ,  ,    .</span>
<span class="hljs-comment">#         .</span><font></font>
cluster-config-file nodes-&lt;&gt;.conf<font></font>
<span class="hljs-comment">#  ,  master-   , </span>
<span class="hljs-comment">#          slaves </span>
<span class="hljs-comment">#    .</span>
cluster-node-timeout 15000</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Redisãƒãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒãƒ¼ãƒ‰redis1ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">root@redis1:/etc/redis<span class="hljs-comment"># redis-server /etc/redis/m1_redis.conf</span>
root@redis1:/etc/redis<span class="hljs-comment"># redis-server /etc/redis/s2_redis.conf</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒãƒ¼ãƒ‰redis2ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">root@redis2:/etc/redis<span class="hljs-comment"># redis-server /etc/redis/m2_redis.conf</span>
root@redis2:/etc/redis<span class="hljs-comment"># redis-server /etc/redis/s3_redis.conf</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒãƒ¼ãƒ‰redis3ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">root@redis3:/etc/redis<span class="hljs-comment"># redis-server /etc/redis/m3_redis.conf</span>
root@redis3:/etc/redis<span class="hljs-comment"># redis-server /etc/redis/s1_redis.conf</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã‚’è¨­å®šã™ã‚‹ã«ã¯ã€redis-cliã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚’ä½¿ç”¨ã—ã¦ã€MASTERãŠã‚ˆã³SLAVEã®å½¹å‰²ã‚’æœãŸã™ã‚µãƒ¼ãƒãƒ¼ã®ipï¼športãƒšã‚¢ã®ãƒªã‚¹ãƒˆã‚’æ¸¡ã™å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">redis-cli --cluster create redis1-ip:6381 redis2-ip:6382 redis3-ip:6383 redis1-ip:6382 redis2-ip:6383 redis3-ip:6381 --cluster-replicas 1</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
--cluster-replicas 1ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ã€å„ãƒã‚¹ã‚¿ãƒ¼ãŒæŒã¤ã‚¹ãƒ¬ãƒ¼ãƒ–ã®æ•°ã‚’ç¤ºã—ã€è»¢é€ã•ã‚ŒãŸãƒ¬ãƒ—ãƒªã‚«ã®ãƒªã‚¹ãƒˆã‹ã‚‰è‡ªå‹•çš„ã«é¸æŠã•ã‚Œã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">root@redis1:~/redis/src<span class="hljs-comment"># redis-cli --cluster create 192.168.9.51:6381 192.168.9.52:6382 192.168.9.53:6383 192.168.9.51:6382 192.168.9.52:6383 192.168.9.53:6381 --cluster-replicas 1</span>
&gt;&gt;&gt; Performing <span class="hljs-built_in">hash</span> slots allocation on 6 nodes...<font></font>
Master[0] -&gt; Slots 0 - 5460<font></font>
Master[1] -&gt; Slots 5461 - 10922<font></font>
Master[2] -&gt; Slots 10923 - 16383<font></font>
Adding replica 192.168.9.52:6383 to 192.168.9.51:6381<font></font>
Adding replica 192.168.9.51:6382 to 192.168.9.52:6382<font></font>
Adding replica 192.168.9.53:6381 to 192.168.9.53:6383<font></font>
&gt;&gt;&gt; Trying to optimize slaves allocation <span class="hljs-keyword">for</span> anti-affinity<font></font>
[OK] Perfect anti-affinity obtained!<font></font>
M: e92cb96fd6c20db7509662a248902e3751ebe95f 192.168.9.51:6381<font></font>
   slots:[0-5460] (5461 slots) master<font></font>
M: d499af3672b3063c7239572ec311ad3160f280ae 192.168.9.52:6382<font></font>
   slots:[5461-10922] (5462 slots) master<font></font>
M: 3a41475e1613519c3ecdec695736a898262a24a5 192.168.9.53:6383<font></font>
   slots:[10923-16383] (5461 slots) master<font></font>
S: 182e5cffc9c31c231de69ddbaf507ec1fe17bb09 192.168.9.51:6382<font></font>
   replicates d499af3672b3063c7239572ec311ad3160f280ae<font></font>
S: 44f656062259005adea58bc5ad024071a050e192 192.168.9.52:6383<font></font>
   replicates 3a41475e1613519c3ecdec695736a898262a24a5<font></font>
S: 485ffb786e9763955e6f10ffc59247690ad9bc11 192.168.9.53:6381<font></font>
   replicates e92cb96fd6c20db7509662a248902e3751ebe95f<font></font>
Can I <span class="hljs-built_in">set</span> the above configuration? (<span class="hljs-built_in">type</span> <span class="hljs-string">'yes'</span> to accept): yes<font></font>
&gt;&gt;&gt; Nodes configuration updated<font></font>
&gt;&gt;&gt; Assign a different config epoch to each node<font></font>
&gt;&gt;&gt; Sending CLUSTER MEET messages to join the cluster<font></font>
Waiting <span class="hljs-keyword">for</span> the cluster to join<font></font>
.....<font></font>
&gt;&gt;&gt; Performing Cluster Check (using node 192.168.9.51:6381)<font></font>
M: e92cb96fd6c20db7509662a248902e3751ebe95f 192.168.9.51:6381<font></font>
   slots:[0-5460] (5461 slots) master<font></font>
   1 additional replica(s)<font></font>
M: d499af3672b3063c7239572ec311ad3160f280ae 192.168.9.52:6382<font></font>
   slots:[5461-10922] (5462 slots) master<font></font>
   1 additional replica(s)<font></font>
S: 485ffb786e9763955e6f10ffc59247690ad9bc11 192.168.9.53:6381<font></font>
   slots: (0 slots) slave<font></font>
   replicates e92cb96fd6c20db7509662a248902e3751ebe95f<font></font>
S: 182e5cffc9c31c231de69ddbaf507ec1fe17bb09 192.168.9.51:6382<font></font>
   slots: (0 slots) slave<font></font>
   replicates d499af3672b3063c7239572ec311ad3160f280ae<font></font>
S: 44f656062259005adea58bc5ad024071a050e192 192.168.9.52:6383<font></font>
   slots: (0 slots) slave<font></font>
   replicates 3a41475e1613519c3ecdec695736a898262a24a5<font></font>
M: 3a41475e1613519c3ecdec695736a898262a24a5 192.168.9.53:6383<font></font>
   slots:[10923-16383] (5461 slots) master<font></font>
   1 additional replica(s)<font></font>
[OK] All nodes agree about slots configuration.<font></font>
&gt;&gt;&gt; Check <span class="hljs-keyword">for</span> open slots...<font></font>
&gt;&gt;&gt; Check slots coverage...<font></font>
[OK] All 16384 slots covered.</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã¯æ­£ã—ãæ§‹ç¯‰ã•ã‚Œã¦ã„ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã«é–¢ã™ã‚‹æƒ…å ±ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">root@redis1:~/redis/src<span class="hljs-comment"># redis-cli -c -h 192.168.9.51 -p 6381</span><font></font>
192.168.9.51:6381&gt; CLUSTER INFO<font></font>
cluster_state:ok<font></font>
cluster_slots_assigned:16384<font></font>
cluster_slots_ok:16384<font></font>
cluster_slots_pfail:0<font></font>
cluster_slots_fail:0<font></font>
cluster_known_nodes:6<font></font>
cluster_size:3<font></font>
cluster_current_epoch:6<font></font>
cluster_my_epoch:1<font></font>
cluster_stats_messages_ping_sent:1254<font></font>
cluster_stats_messages_pong_sent:1243<font></font>
cluster_stats_messages_sent:2497<font></font>
cluster_stats_messages_ping_received:1238<font></font>
cluster_stats_messages_pong_received:1254<font></font>
cluster_stats_messages_meet_received:5<font></font>
cluster_stats_messages_received:2497<font></font>
192.168.9.51:6381&gt;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Redis Sentielã¨åŒæ§˜ã«ã€ç‰¹å®šã®ãƒ¬ãƒ—ãƒªã‚«ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã«ã¯ã€INFOãƒ¬ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">root@redis1:~/redis/src<span class="hljs-comment"># redis-cli -c -h 192.168.9.51 -p 6381</span><font></font>
192.168.9.51:6381&gt; INFO replication<font></font>
<span class="hljs-comment"># Replication</span><font></font>
role:master<font></font>
connected_slaves:1<font></font>
slave0:ip=192.168.9.53,port=6381,state=online,offset=1946,lag=0<font></font>
master_replid:59cd95d394dad9d0e49042637fdfd5290db4abfe<font></font>
master_replid2:0000000000000000000000000000000000000000<font></font>
master_repl_offset:1946<font></font>
second_repl_offset:-1<font></font>
repl_backlog_active:1<font></font>
repl_backlog_size:1048576<font></font>
repl_backlog_first_byte_offset:1<font></font>
repl_backlog_histlen:1946<font></font>
192.168.9.51:6381&gt;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã„ãã¤ã‹ã®ã‚­ãƒ¼ã‚’ä½œæˆã—ã¦ã€ã“ã‚Œã‚‰ã®ã‚­ãƒ¼ãŒãƒ¬ãƒ—ãƒªã‚«ã«è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">192.168.9.51:6381&gt; SET key1 test1<font></font>
-&gt; Redirected to slot [9189] located at 192.168.9.52:6382<font></font>
OK<font></font>
192.168.9.52:6382&gt; SET key2 test2<font></font>
-&gt; Redirected to slot [4998] located at 192.168.9.51:6381<font></font>
OK<font></font>
192.168.9.51:6381&gt; SET key3 test3<font></font>
OK<font></font>
192.168.9.51:6381&gt;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
M2ã‚’ç¢ºèªã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">root@redis2:/home/user<span class="hljs-comment"># redis-cli -c -h 192.168.9.52 -p 6382</span><font></font>
192.168.9.52:6382&gt; GET key1<font></font>
<span class="hljs-string">"test1"</span><font></font>
192.168.9.52:6382&gt; GET key2<font></font>
-&gt; Redirected to slot [4998] located at 192.168.9.51:6381<font></font>
<span class="hljs-string">"test2"</span><font></font>
192.168.9.51:6381&gt; GET key3<font></font>
<span class="hljs-string">"test3"</span>
192.168.9.51:6381&gt;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãã—ã¦M3ã§ã¯ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">root@redis3:/home/user<span class="hljs-comment"># redis-cli -c -h 192.168.9.53 -p 6383</span><font></font>
192.168.9.53:6383&gt; GET key1<font></font>
-&gt; Redirected to slot [9189] located at 192.168.9.52:6382<font></font>
<span class="hljs-string">"test1"</span><font></font>
192.168.9.52:6382&gt; GET key2<font></font>
-&gt; Redirected to slot [4998] located at 192.168.9.51:6381<font></font>
<span class="hljs-string">"test2"</span><font></font>
192.168.9.51:6381&gt; GET key3<font></font>
<span class="hljs-string">"test3"</span>
192.168.9.51:6381&gt;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
redis1ãƒãƒ¼ãƒ‰ã‚’ç„¡åŠ¹ã«ã—ã€S1ãŒã©ã®ã‚ˆã†ã«æ©Ÿèƒ½ã™ã‚‹ã‹ã‚’ç¢ºèªã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">192.168.9.52:6382&gt; CLUSTER NODES<font></font>
&lt;b&gt;182e5cffc9c31c231de69ddbaf507ec1fe17bb09 192.168.9.51:6382@16382 slave,fail d499af3672b3063c7239572ec311ad3160f280ae 1569509904727 1569509900000 4 connected&lt;/b&gt;<font></font>
485ffb786e9763955e6f10ffc59247690ad9bc11 &lt;i&gt;192.168.9.53:6381@16381 master&lt;/i&gt; - 0 1569510017272 7 connected 0-5460<font></font>
44f656062259005adea58bc5ad024071a050e192 192.168.9.52:6383@16383 slave 3a41475e1613519c3ecdec695736a898262a24a5 0 1569510018274 5 connected<font></font>
&lt;b&gt;e92cb96fd6c20db7509662a248902e3751ebe95f 192.168.9.51:6381@16381 master,fail - 1569509906731 1569509901721 1 connected&lt;/b&gt;<font></font>
3a41475e1613519c3ecdec695736a898262a24a5 192.168.9.53:6383@16383 master - 0 1569510019275 3 connected 10923-16383<font></font>
d499af3672b3063c7239572ec311ad3160f280ae 192.168.9.52:6382@16382 myself,master - 0 1569510017000 2 connected 5461-10922</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
M1ã¨S2ã®éšœå®³ã«é–¢ã™ã‚‹æƒ…å ±ã¨ã€S3ãŒMASTERãƒ¢ãƒ¼ãƒ‰ã«åˆ‡ã‚Šæ›¿ã‚ã£ãŸã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚­ãƒ¼ãŒä¿å­˜ã•ã‚Œã¦ã„ã‚‹å ´æ‰€ã‚’ç¢ºèªã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">192.168.9.52:6382&gt; GET key1
<span class="hljs-string">"test1"</span><font></font>
192.168.9.52:6382&gt; GET key2<font></font>
-&gt; Redirected to slot [4998] located at 192.168.9.53:6381<font></font>
<span class="hljs-string">"test2"</span><font></font>
192.168.9.53:6381&gt; GET key3<font></font>
<span class="hljs-string">"test3"</span><font></font>
192.168.9.53:6381&gt;<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»¥å‰ã¯redis1ã«æ ¼ç´ã•ã‚Œã¦ã„ãŸã‚­ãƒ¼ãŒredis3ã§ä½¿ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
redis1ãƒãƒ¼ãƒ‰ã®æ“ä½œã‚’å¾©å…ƒã—ã€ãƒãƒ¼ãƒ‰M1ãŠã‚ˆã³S2ã®çŠ¶æ…‹ã‚’ç¢ºèªã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">192.168.9.53:6381&gt; CLUSTER NODES<font></font>
&lt;i&gt;e92cb96fd6c20db7509662a248902e3751ebe95f 192.168.9.51:6381@16381 slave 485ffb786e9763955e6f10ffc59247690ad9bc11 0 1569511658217 7 connected<font></font>
182e5cffc9c31c231de69ddbaf507ec1fe17bb09 192.168.9.51:6382@16382 slave d499af3672b3063c7239572ec311ad3160f280ae 0 1569511657000 4 connected&lt;/i&gt;<font></font>
d499af3672b3063c7239572ec311ad3160f280ae 192.168.9.52:6382@16382 master - 0 1569511656000 2 connected 5461-10922<font></font>
3a41475e1613519c3ecdec695736a898262a24a5 192.168.9.53:6383@16383 master - 0 1569511656000 3 connected 10923-16383<font></font>
485ffb786e9763955e6f10ffc59247690ad9bc11 192.168.9.53:6381@16381 myself,master - 0 1569511656000 7 connected 0-5460<font></font>
44f656062259005adea58bc5ad024071a050e192 192.168.9.52:6383@16383 slave 3a41475e1613519c3ecdec695736a898262a24a5 0 1569511657216 5 connected</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
M1ã¨S2ã®çŠ¶æ…‹ã¯å›å¾©ã—ã¾ã—ãŸãŒã€M1ã¯ã‚¹ãƒ¬ãƒ¼ãƒ–ãƒ¢ãƒ¼ãƒ‰ã«ãªã£ã¦ã„ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã¾ãŸã€ã‚­ãƒ¼ã¯redis3ãƒãƒ¼ãƒ‰ã«ã‚‚ã‚ã‚Šã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">192.168.9.53:6383&gt; GET key1<font></font>
-&gt; Redirected to slot [9189] located at 192.168.9.52:6382<font></font>
<span class="hljs-string">"test1"</span><font></font>
192.168.9.52:6382&gt; GET key2<font></font>
-&gt; Redirected to slot [4998] located at 192.168.9.53:6381<font></font>
<span class="hljs-string">"test2"</span><font></font>
192.168.9.53:6383&gt; GET key3<font></font>
-&gt; Redirected to slot [935] located at 192.168.9.53:6381<font></font>
<span class="hljs-string">"test3"</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ãŒæ§‹æˆã•ã‚Œã€Redisãƒªã‚«ãƒãƒªãŒãƒ†ã‚¹ãƒˆã•ã‚Œã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DirectumRXã‚µãƒ¼ãƒ“ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã«ã¯ã€Redis Sentielã‚’è¨­å®šã™ã‚‹å ´åˆã¨åŒæ§˜ã«ã€ãƒªãƒãƒ¼ã‚¹ãƒ—ãƒ­ã‚­ã‚·ã‚‚è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çµè«–ã®ä»£ã‚ã‚Šã«</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®è¨˜äº‹ã§ã¯ã€Redisã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒˆãƒˆãƒ¬ãƒ©ãƒ³ã‚¹ã‚’å‘ä¸Šã•ã›ã‚‹åˆ¥ã®æ–¹æ³•ã€</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¤ã¾ã‚ŠPacemaker</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãªã©ã®ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ã®ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ãƒªã‚½ãƒ¼ã‚¹ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã‚’ä½¿ç”¨ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦ã¯è€ƒæ…®ã—ã¦ã„ã¾ã›ã‚“</font><font style="vertical-align: inherit;">ã€‚ã“ã®å ´åˆã€2ã¤ã®ãƒãƒ¼ãƒ‰ã§å•é¡Œãªãå¯¾å‡¦ã§ãã¾ã™ãŒã€ç·Šæ€¥æ™‚ã«ãƒ‡ãƒ¼ã‚¿ãŒå¤±ã‚ã‚Œã‚‹å¯èƒ½æ€§ãŒé«˜ããªã‚Šã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒªãƒãƒ¼ã‚¹ãƒ—ãƒ­ã‚­ã‚·ï¼ˆã“ã®å ´åˆã¯HAProxyï¼‰ã®å ´åˆã€ãƒ•ã‚©ãƒ¼ãƒ«ãƒˆãƒˆãƒ¬ãƒ©ãƒ³ã‚¹ã‚’æä¾›ã™ã‚‹ã“ã¨ã‚‚æœ›ã¾ã—ã„ã§ã™ãŒã€ã“ã®å•é¡Œã‚‚ã“ã®è¨˜äº‹ã®ç¯„å›²ã‚’è¶…ãˆã¦ã„ã¾ã—ãŸã€‚ã“ã®ãƒˆãƒ”ãƒƒã‚¯ã«é–¢å¿ƒãŒã‚ã‚‹å ´åˆã€ã“ã‚Œã‚‰ã®å±•é–‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ã€æ®µéšçš„ãªãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ã¨çµæœã®ãƒ†ã‚¹ãƒˆã‚’è¡Œã†å€‹åˆ¥ã®è¨˜äº‹ã®ä¸€éƒ¨ã¨è¦‹ãªã™ã“ã¨ã‚‚ã§ãã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒˆãƒ”ãƒƒã‚¯ã®è©³ç´°ã«ã¤ã„ã¦ã¯ã€ä»¥ä¸‹ã®ãƒªãƒ³ã‚¯ã‚’ã”è¦§</font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãã ã•ã„</font></font></a><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ã€‚Redis </font></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«</font></a></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redis Sentinelãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HAProxyè¨­å®šãƒãƒ‹ãƒ¥ã‚¢ãƒ«</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja469529/index.html">ãƒ†ã‚­ã‚¹ãƒˆã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã¯ã‚ãªãŸã‚’å«Œã„ã¾ã™</a></li>
<li><a href="../ja469531/index.html">ã€Œãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã‚’ã‚ˆã‚Šæ‚ªã„åŸºæº–ã§æ¯”è¼ƒã™ã‚‹ã“ã¨ã¯ã€å®Œå…¨ã«ã°ã‹ã’ãŸè·æ¥­ã§ã™ã€‚ã€</a></li>
<li><a href="../ja469533/index.html">ç”Ÿä½“èªè¨¼ã®å•é¡Œã¨è„…å¨</a></li>
<li><a href="../ja469537/index.html">Snakeã§Swiftã‚’ç†è§£ã™ã‚‹</a></li>
<li><a href="../ja469541/index.html">werfã¨GitLab CIã‚’ä½¿ç”¨ã—ãŸåŒã˜ã‚¿ã‚¤ãƒ—ã®ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã®çµ„ã¿ç«‹ã¦ã¨ãƒ‡ãƒ—ãƒ­ã‚¤</a></li>
<li><a href="../ja469545/index.html">Linuxã‚«ãƒ¼ãƒãƒ«5.3ã®æ–°æ©Ÿèƒ½-ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚µãƒ–ã‚·ã‚¹ãƒ†ãƒ ã®ã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚¹ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ã€ä»®æƒ³åŒ–ã€ãŠã‚ˆã³å¤‰æ›´</a></li>
<li><a href="../ja469549/index.html">Windows VPSã®99ãƒ«ãƒ¼ãƒ–ãƒ«ã®é–¢ç¨ã‚’ã©ã†ã‚„ã£ã¦é”æˆã—ãŸã‹</a></li>
<li><a href="../ja469551/index.html">ãƒ“ãƒ‡ã‚ªã‚«ãƒ¼ãƒ‰ã‚’å‚™ãˆãŸVDS-ç§ãŸã¡ã¯å€’éŒ¯ã«ã¤ã„ã¦ã‚ˆãçŸ¥ã£ã¦ã„ã¾ã™</a></li>
<li><a href="../ja469555/index.html">ãƒ–ãƒ­ãƒ¼ãƒ‰ã‚­ãƒ£ã‚¹ãƒˆï¼šãƒ¢ã‚¹ã‚¯ãƒ¯KubernetesãƒŸãƒ¼ãƒˆã‚¢ãƒƒãƒ—ï¼ƒ6</a></li>
<li><a href="../ja469557/index.html">Generic Recycler Viewã¾ãŸã¯å®šå‹ã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ãªã„æ–¹æ³•</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>