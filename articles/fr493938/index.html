<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåì ‚öóÔ∏è üë®‚Äçüë®‚Äçüëß Comment r√©duire les co√ªts dans AWS üõåüèΩ üë• üíª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Le monde change radicalement. De nombreuses entreprises recherchent un moyen de r√©duire leurs co√ªts, juste pour survivre. Dans le m√™me temps, la charg...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Comment r√©duire les co√ªts dans AWS</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/bitrix/blog/493938/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le monde change radicalement. De nombreuses entreprises recherchent un moyen de r√©duire leurs co√ªts, juste pour survivre. Dans le m√™me temps, la charge qui p√®se sur les services en ligne s'intensifie - en particulier ceux li√©s √† l'organisation du travail √† distance, √† la conduite de vid√©oconf√©rences et √† l'apprentissage en ligne. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans ces conditions, il est extr√™mement important d'une part - d'assurer la fiabilit√© et l'√©volutivit√© de votre infrastructure. En revanche, ne vous envolez pas dans le tuyau avec l'achat de serveurs, de disques, le paiement du trafic. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chez Bitrix24, nous sommes tr√®s actifs dans l'utilisation d'Amazon Web Services, et dans cet article, je parlerai de plusieurs fonctionnalit√©s AWS qui peuvent vous aider √† r√©duire vos co√ªts.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bitrix24 est un service mondial, nous travaillons pour des clients du monde entier. Depuis 2015, depuis l'entr√©e en vigueur de la loi 242- sur la localisation des donn√©es personnelles, les donn√©es des utilisateurs russes sont stock√©es sur des serveurs en Russie. Mais toute l'infrastructure du service au service des clients restants dans le monde est d√©ploy√©e dans Amazon Web Services. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La crise √©conomique est d√©j√† un fait accompli. Le dollar a augment√© et il est peu probable qu'il revienne √† sa position pr√©c√©dente dans un proche avenir, donc payer pour l'h√©bergement en devises √©trang√®res devient assez on√©reux. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans ces conditions, si vous continuez √† placer vos ressources dans AWS, vous serez tr√®s probablement int√©ress√© par les techniques qui vous aideront √† √©conomiser sur la location de l'infrastructure.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je vais parler des principaux que nous utilisons nous-m√™mes depuis de nombreuses ann√©es. </font><font style="vertical-align: inherit;">S'il existe d'autres m√©thodes que vous utilisez - veuillez les partager dans les commentaires. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alors allons-y.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RI - Instances r√©serv√©es</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le moyen le plus simple et le plus √©vident d'√©conomiser de l'argent sur AWS est d'utiliser des instances EC2 r√©serv√©es. </font><font style="vertical-align: inherit;">Si vous savez que vous utiliserez certainement certaines instances au moins au cours de l'ann√©e, vous pouvez leur verser un acompte et b√©n√©ficier d'une remise de 30% √† 75%. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Exemple de calculs pour les instances c5.xlarge: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/m0/ds/mo/m0dsmoblmlz4otl5mwfzgkvcsk4.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tous les prix et calculs sont </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parfois, cela semble compliqu√© et d√©routant, mais en g√©n√©ral, la logique est la suivante:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plus la p√©riode de r√©servation est longue - 1 ou 3 ans - plus la remise est importante.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plus le pr√©paiement est imm√©diat - vous pouvez le faire sans aucun pr√©paiement, vous pouvez utiliser tous les pr√©paiements initiaux et complets - plus la remise est importante.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si nous r√©servons un type sp√©cifique d'instance, mais que nous n'en utilisons pas de convertible, il y a plus de remise.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour nous, nous faisons des r√©servations pour 1 an, car la planification pour 3 ans est assez difficile. </font><font style="vertical-align: inherit;">Et cela permet une bonne √©conomie sur EC2.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instances ponctuelles</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'utilisation d'instances ponctuelles est essentiellement une sorte d'√©change de ressources. Lorsqu'Amazon dispose de nombreuses ressources inactives, vous pouvez d√©finir le prix maximum que vous √™tes pr√™t √† payer pour ces ¬´instances ponctuelles¬ª sp√©ciales. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si la demande actuelle dans une certaine r√©gion et AZ (zone de disponibilit√©) est faible, ces ressources vous seront fournies. De plus, √† un prix 3-8 fois inf√©rieur au prix de la demande. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quel est le pi√®ge? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La seule chose est que s'il n'y a pas de capacit√© disponible, les ressources demand√©es ne vous seront pas donn√©es. Et si la demande augmente brusquement et que le prix au comptant d√©passe votre prix maximum fix√©, votre place sera termin√©e.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Naturellement, de telles instances ne conviennent pas, par exemple, √† une base de donn√©es en production. </font><font style="vertical-align: inherit;">Mais pour certaines t√¢ches qui sont associ√©es, par exemple, √† certains calculs, le rendu, le calcul de mod√®les, pour les tests est un excellent moyen d'√©conomiser. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voyons en pratique pour quels montants nous nous battons. </font><font style="vertical-align: inherit;">Et combien de fois les taches peuvent ¬´dispara√Ætre¬ª √† un prix. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici un exemple de l'historique des prix des instances ponctuelles directement √† partir de la console AWS pour la r√©gion eu-central-1 (Francfort) pour les instances c5.4xlarge: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cp/x7/j3/cpx7j34itns05bahwoue8fgpiuq.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
que voyons-nous?</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le prix est environ 3 fois plus bas que sur demande.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il existe des instances ponctuelles disponibles dans les trois AZ de cette r√©gion.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Depuis trois mois, le prix n'a jamais augment√©. </font><font style="vertical-align: inherit;">Cela signifie qu'un spot lanc√© il y a trois mois avec un prix maximum donn√©, par exemple 0,3 $, continuerait de fonctionner.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comment nous utilisons les spots dans la pratique: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fe/l2/ct/fel2ctyssqnu2agvm_etfty2dz4.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Nous utilisons des spots pour les serveurs d'applications. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Pour eux, nous utilisons activement le bundle CloudWatch + Auto Scaling - pour √©voluer automatiquement tout au long de la journ√©e: la charge augmente - de nouvelles instances sont lanc√©es, la charge diminue - elles sont √©teintes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Pour plus de s√©curit√©, nous avons deux groupes Auto Scaling travaillant pour les √©quilibreurs - au cas o√π les taches s'√©puiseraient. Un groupe AS - avec des instances normales (√† la demande), le second - avec des spots. Amazon via CloudWatch Events avertit dans 2 minutes que l'instance ponctuelle sera supprim√©e (se terminera). Nous traitons ces √©v√©nements et parvenons √† √©tendre le groupe principal au nombre d'instances requis, si cela se produit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D√©tails ici - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Avis d'interruption des instances ponctuelles</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Pour travailler plus efficacement avec Auto Scaling et utiliser au maximum les machines du groupe avec des spots, nous utilisons cette approche:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le groupe spot a une poubelle sup√©rieure inf√©rieure - nous commen√ßons √† augmenter ¬´plus haut¬ª plus t√¥t.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Et une poubelle inf√©rieure inf√©rieure - nous commen√ßons √† √©voluer plus tard "vers le bas".</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour un groupe r√©gulier, l'inverse est vrai.</font></font></li>
</ol><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Magasin d'instances EC2</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tous ceux qui travaillent avec AWS savent que les principaux lecteurs utilis√©s pour les instances EC2 sont EBS (Elastic Block Store). Ils peuvent √™tre mont√©s sur des instances, d√©sactiv√©s, mont√©s sur d'autres instances, instantan√©s √† partir d'eux. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tous les EBS selon leur type sont factur√©s d'une mani√®re ou d'une autre. Et ils co√ªtent de l'argent assez tangible. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le m√™me temps, pour de nombreux types d'instances lors de leur cr√©ation, la connexion des disques locaux est disponible - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EC2 Instance Store</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La caract√©ristique principale de ces disques est que si vous arr√™tez l'instance avec un tel disque, ces donn√©es sont perdues apr√®s le d√©marrage. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais en m√™me temps, ils sont conditionnellement gratuits - il n'y a un paiement que pour l'instance elle-m√™me.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ces disques peuvent √™tre parfaitement utilis√©s pour toutes les donn√©es temporaires qui ne n√©cessitent pas de stockage constant - swaps, cache, toutes autres donn√©es temporaires. </font><font style="vertical-align: inherit;">Les performances des disques Instance Store sont assez √©lev√©es: en plus des tr√®s anciens types d'instances, des SSD ou des SSD NVMe sont d√©sormais utilis√©s pour eux. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
R√©sultat: nous connectons moins de disques EBS, nous payons moins.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S3 T√©l√©chargements multiparties incomplets</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La discussion ci-dessus concernait principalement EC2. Ensuite, nous d√©crivons quelques astuces qui permettront d'√©conomiser lors de l'utilisation de S3 (Simple Storage Service). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous travaillez activement avec S3, vous savez probablement que S3 et la plupart des clients pour travailler avec ce stockage prennent en charge le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t√©l√©chargement en plusieurs</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> parties - un grand objet est charg√© avec des ¬´pi√®ces¬ª, qui sont ensuite ¬´assembl√©es¬ª en un seul objet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cela fonctionne tr√®s bien, mais il y a une embuscade. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si le t√©l√©chargement n'est pas termin√© pour une raison quelconque (la connexion a √©t√© interrompue, par exemple, et le t√©l√©chargement n'a pas repris), les parties t√©l√©charg√©es ne sont pas supprim√©es par elles-m√™mes. Cependant, ils prennent de la place, vous payez pour eux.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et une surprise d√©sagr√©able - ces donn√©es incompl√®tes ne sont en aucun cas visibles lorsque vous travaillez avec des outils standard pour S3: ni via ¬´ls¬ª dans cli, ni dans les programmes clients. Vous pouvez les trouver, par exemple, dans aws cli en utilisant la commande </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">list-multipart-uploads</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais travailler avec eux est trop fatigant ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il serait plus logique de supprimer une option concernant le stockage des t√©l√©chargements multiparties incomplets dans les param√®tres d'un compartiment particulier. Mais pour une raison quelconque, Amazon ne l'a pas fait.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N√©anmoins, il existe un moyen de vous faciliter la vie et de supprimer automatiquement les t√©l√©chargements multiparties incomplets. Dans les param√®tres de compartiment de l'onglet Gestion, il y a une section Cycle de vie. Il s'agit d'un outil pratique qui vous permet de configurer diverses r√®gles automatiques pour travailler avec des objets: d√©placez-les vers d'autres r√©f√©rentiels, supprimez-les apr√®s un certain temps (expire) et - y compris - contr√¥lez le comportement des t√©l√©chargements multiparties incomplets. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bn/_f/or/bn_forpdvfvivgbfs1zo01wekl8.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un article d√©taill√© √† ce sujet est </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sur le blog AWS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - mais avec des exemples de l'ancienne interface, mais tout est assez clair. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'important est que Lifecycle configur√© pour supprimer les donn√©es incompl√®tes fonctionnera non seulement pour les nouveaux objets, mais aussi pour les objets existants.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le volume r√©el occup√© dans l'espace S3 peut √™tre surveill√© via CloudWatch. </font><font style="vertical-align: inherit;">Lorsque nous avons mis en place la suppression des t√©l√©chargements multiparties incomplets, nous avons √©t√© surpris de constater que nous avions lib√©r√© plus d'une douzaine de t√©raoctets ...</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nivellement intelligent S3</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
S3 a plusieurs classes de stockage diff√©rentes:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La norme.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Standard-IA (peu fr√©quent√©) - pour les objets qui sont rarement accessibles.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une zone-IA - pour les donn√©es relativement non critiques. </font><font style="vertical-align: inherit;">Dans cette classe, les objets sont r√©pliqu√©s sur moins de points.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le glacier est un stockage tr√®s bon march√©, mais vous ne pouvez pas en obtenir instantan√©ment un objet. </font><font style="vertical-align: inherit;">Vous devez faire une demande sp√©ciale et attendre un peu.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tous ont des conditions d'utilisation et des prix diff√©rents. Ils peuvent et doivent √™tre combin√©s - en fonction de vos diff√©rentes t√¢ches. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais relativement r√©cemment, un autre type de stockage tr√®s int√©ressant est apparu - Intelligent Tiering. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'essence de son travail est la suivante: moyennant un petit suppl√©ment, la surveillance et l'analyse de vos donn√©es dans S3 sont effectu√©es, les appels √† celles-ci sont surveill√©s et s'il n'y a pas d'appels pendant 30 jours, l'objet est automatiquement d√©plac√© vers le stockage d'acc√®s peu fr√©quent, ce qui co√ªte beaucoup moins cher que le stockage standard. Si apr√®s un certain temps l'objet est √† nouveau accessible - aucune perte de performances ne se produit en m√™me temps - il est √† nouveau d√©plac√© vers le r√©f√©rentiel d'acc√®s standard. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La commodit√© la plus importante: vous-m√™me n'avez rien √† faire.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Amazon fera tout ¬´intelligemment¬ª lui-m√™me - il saura quels objets mettre. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En activant la hi√©rarchisation intelligente, nous avons √©conomis√© jusqu'√† 10 √† 15% sur certains compartiments. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout semble trop beau et magique. </font><font style="vertical-align: inherit;">Mais ne peut-il pas y avoir des √©cueils? </font><font style="vertical-align: inherit;">Ils le sont et ils doivent bien entendu √™tre pris en compte.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il y a des frais suppl√©mentaires pour les installations de surveillance. </font><font style="vertical-align: inherit;">Dans notre cas, il est enti√®rement couvert par les √©conomies.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez utiliser la hi√©rarchisation intelligente pour tous les objets. </font><font style="vertical-align: inherit;">Cependant, les objets de moins de 128 Ko ne seront jamais transf√©r√©s au niveau d'acc√®s peu fr√©quent et seront toujours pay√©s au prix normal.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ne convient pas aux objets stock√©s moins de 30 jours. </font><font style="vertical-align: inherit;">Ces objets seront toujours pay√©s au moins 30 jours √† l'avance.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comment activer la hi√©rarchisation intelligente? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez sp√©cifier explicitement la classe de stockage INTELLIGENT_TIERING dans l'API S3 ou CLI. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et vous pouvez configurer la r√®gle de cycle de vie, selon laquelle, par exemple, tous les objets apr√®s un certain temps de stockage seront automatiquement d√©plac√©s vers Intelligent Tiering. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zd/di/mx/zddimxxoflqvmy2xhguvqxmzacg.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En savoir plus sur le m√™me </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">blog AWS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Glacier</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si nous parlons de diff√©rentes classes de stockage dans S3, alors, bien s√ªr, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Glacier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> m√©rite √©galement d'√™tre mentionn√© </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous avez des donn√©es qui doivent √™tre stock√©es pendant des mois et des ann√©es, mais dont l'acc√®s est extr√™mement rare - par exemple, les journaux, les sauvegardes - alors assurez-vous d'envisager d'utiliser Glacier. Le prix de son utilisation est plusieurs fois inf√©rieur au S3 standard. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour un travail pratique avec Glacier, vous pouvez utiliser les m√™mes r√®gles de cycle de vie. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, vous pouvez d√©finir une r√®gle selon laquelle un objet sera stock√© dans un stockage normal pendant un certain temps, par exemple, 30 √† 60 jours (g√©n√©ralement, un acc√®s est n√©cessaire aux journaux ou sauvegardes les plus proches dans le temps, si nous parlons de leur stockage), puis il sera d√©plac√© vers Glacier, et apr√®s 1-2-3 ... ans - compl√®tement retir√©.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce sera beaucoup moins cher que de le stocker simplement dans S3. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
* * * </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai parl√© de quelques astuces que nous utilisons nous-m√™mes activement. </font><font style="vertical-align: inherit;">AWS est une √©norme plate-forme d'infrastructure. </font><font style="vertical-align: inherit;">Certes, nous n'avons pas parl√© des services que vous utilisez. </font><font style="vertical-align: inherit;">S'il existe d'autres moyens d'enregistrer dans AWS qui vous sont utiles, veuillez les partager dans les commentaires.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr493924/index.html">Arr√™tez le convoyeur! Vous offrez des projecteurs Epson XGA au prix de SVGA</a></li>
<li><a href="../fr493926/index.html">Astuces pour tester les applications Web Laravel √† l'aide de fabriques de mod√®les</a></li>
<li><a href="../fr493928/index.html">Examen et test du Huawei Dorado 5000V6</a></li>
<li><a href="../fr493932/index.html">Pr√©sentation des enqu√™tes Google. Pourquoi il ne convient pas pour une recherche s√©rieuse</a></li>
<li><a href="../fr493934/index.html">Qui, comment et sur quoi ont explor√© les oc√©ans du monde - nous analysons les bases de la NOAA</a></li>
<li><a href="../fr493940/index.html">Protocole de traitement du coronavirus naturel 2019-nCoV</a></li>
<li><a href="../fr493942/index.html">Virus de base en 20 minutes ou pourquoi utiliser un antivirus</a></li>
<li><a href="../fr493944/index.html">Nous continuons d'analyser les vuln√©rabilit√©s des commutateurs industriels: nous ex√©cutons du code arbitraire sans mot de passe</a></li>
<li><a href="../fr493948/index.html">Comment j'ai fabriqu√© un respirateur KN95 √† la maison √† partir de mat√©riaux improvis√©s. des instructions d√©taill√©es</a></li>
<li><a href="../fr493950/index.html">Calculateur de r√©seau neuronal pour additionner et soustraire des nombres pas tr√®s grands</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>