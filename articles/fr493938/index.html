<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🌓 ⚗️ 👨‍👨‍👧 Comment réduire les coûts dans AWS 🛌🏽 👥 💻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Le monde change radicalement. De nombreuses entreprises recherchent un moyen de réduire leurs coûts, juste pour survivre. Dans le même temps, la charg...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Comment réduire les coûts dans AWS</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/bitrix/blog/493938/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le monde change radicalement. De nombreuses entreprises recherchent un moyen de réduire leurs coûts, juste pour survivre. Dans le même temps, la charge qui pèse sur les services en ligne s'intensifie - en particulier ceux liés à l'organisation du travail à distance, à la conduite de vidéoconférences et à l'apprentissage en ligne. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans ces conditions, il est extrêmement important d'une part - d'assurer la fiabilité et l'évolutivité de votre infrastructure. En revanche, ne vous envolez pas dans le tuyau avec l'achat de serveurs, de disques, le paiement du trafic. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chez Bitrix24, nous sommes très actifs dans l'utilisation d'Amazon Web Services, et dans cet article, je parlerai de plusieurs fonctionnalités AWS qui peuvent vous aider à réduire vos coûts.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bitrix24 est un service mondial, nous travaillons pour des clients du monde entier. Depuis 2015, depuis l'entrée en vigueur de la loi 242- sur la localisation des données personnelles, les données des utilisateurs russes sont stockées sur des serveurs en Russie. Mais toute l'infrastructure du service au service des clients restants dans le monde est déployée dans Amazon Web Services. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La crise économique est déjà un fait accompli. Le dollar a augmenté et il est peu probable qu'il revienne à sa position précédente dans un proche avenir, donc payer pour l'hébergement en devises étrangères devient assez onéreux. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans ces conditions, si vous continuez à placer vos ressources dans AWS, vous serez très probablement intéressé par les techniques qui vous aideront à économiser sur la location de l'infrastructure.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je vais parler des principaux que nous utilisons nous-mêmes depuis de nombreuses années. </font><font style="vertical-align: inherit;">S'il existe d'autres méthodes que vous utilisez - veuillez les partager dans les commentaires. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alors allons-y.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RI - Instances réservées</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le moyen le plus simple et le plus évident d'économiser de l'argent sur AWS est d'utiliser des instances EC2 réservées. </font><font style="vertical-align: inherit;">Si vous savez que vous utiliserez certainement certaines instances au moins au cours de l'année, vous pouvez leur verser un acompte et bénéficier d'une remise de 30% à 75%. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Exemple de calculs pour les instances c5.xlarge: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/m0/ds/mo/m0dsmoblmlz4otl5mwfzgkvcsk4.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tous les prix et calculs sont </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parfois, cela semble compliqué et déroutant, mais en général, la logique est la suivante:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plus la période de réservation est longue - 1 ou 3 ans - plus la remise est importante.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plus le prépaiement est immédiat - vous pouvez le faire sans aucun prépaiement, vous pouvez utiliser tous les prépaiements initiaux et complets - plus la remise est importante.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si nous réservons un type spécifique d'instance, mais que nous n'en utilisons pas de convertible, il y a plus de remise.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour nous, nous faisons des réservations pour 1 an, car la planification pour 3 ans est assez difficile. </font><font style="vertical-align: inherit;">Et cela permet une bonne économie sur EC2.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instances ponctuelles</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'utilisation d'instances ponctuelles est essentiellement une sorte d'échange de ressources. Lorsqu'Amazon dispose de nombreuses ressources inactives, vous pouvez définir le prix maximum que vous êtes prêt à payer pour ces «instances ponctuelles» spéciales. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si la demande actuelle dans une certaine région et AZ (zone de disponibilité) est faible, ces ressources vous seront fournies. De plus, à un prix 3-8 fois inférieur au prix de la demande. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quel est le piège? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La seule chose est que s'il n'y a pas de capacité disponible, les ressources demandées ne vous seront pas données. Et si la demande augmente brusquement et que le prix au comptant dépasse votre prix maximum fixé, votre place sera terminée.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Naturellement, de telles instances ne conviennent pas, par exemple, à une base de données en production. </font><font style="vertical-align: inherit;">Mais pour certaines tâches qui sont associées, par exemple, à certains calculs, le rendu, le calcul de modèles, pour les tests est un excellent moyen d'économiser. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voyons en pratique pour quels montants nous nous battons. </font><font style="vertical-align: inherit;">Et combien de fois les taches peuvent «disparaître» à un prix. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici un exemple de l'historique des prix des instances ponctuelles directement à partir de la console AWS pour la région eu-central-1 (Francfort) pour les instances c5.4xlarge: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cp/x7/j3/cpx7j34itns05bahwoue8fgpiuq.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
que voyons-nous?</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le prix est environ 3 fois plus bas que sur demande.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il existe des instances ponctuelles disponibles dans les trois AZ de cette région.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Depuis trois mois, le prix n'a jamais augmenté. </font><font style="vertical-align: inherit;">Cela signifie qu'un spot lancé il y a trois mois avec un prix maximum donné, par exemple 0,3 $, continuerait de fonctionner.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comment nous utilisons les spots dans la pratique: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fe/l2/ct/fel2ctyssqnu2agvm_etfty2dz4.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Nous utilisons des spots pour les serveurs d'applications. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Pour eux, nous utilisons activement le bundle CloudWatch + Auto Scaling - pour évoluer automatiquement tout au long de la journée: la charge augmente - de nouvelles instances sont lancées, la charge diminue - elles sont éteintes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Pour plus de sécurité, nous avons deux groupes Auto Scaling travaillant pour les équilibreurs - au cas où les taches s'épuiseraient. Un groupe AS - avec des instances normales (à la demande), le second - avec des spots. Amazon via CloudWatch Events avertit dans 2 minutes que l'instance ponctuelle sera supprimée (se terminera). Nous traitons ces événements et parvenons à étendre le groupe principal au nombre d'instances requis, si cela se produit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Détails ici - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Avis d'interruption des instances ponctuelles</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Pour travailler plus efficacement avec Auto Scaling et utiliser au maximum les machines du groupe avec des spots, nous utilisons cette approche:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le groupe spot a une poubelle supérieure inférieure - nous commençons à augmenter «plus haut» plus tôt.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Et une poubelle inférieure inférieure - nous commençons à évoluer plus tard "vers le bas".</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour un groupe régulier, l'inverse est vrai.</font></font></li>
</ol><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Magasin d'instances EC2</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tous ceux qui travaillent avec AWS savent que les principaux lecteurs utilisés pour les instances EC2 sont EBS (Elastic Block Store). Ils peuvent être montés sur des instances, désactivés, montés sur d'autres instances, instantanés à partir d'eux. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tous les EBS selon leur type sont facturés d'une manière ou d'une autre. Et ils coûtent de l'argent assez tangible. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le même temps, pour de nombreux types d'instances lors de leur création, la connexion des disques locaux est disponible - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EC2 Instance Store</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La caractéristique principale de ces disques est que si vous arrêtez l'instance avec un tel disque, ces données sont perdues après le démarrage. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais en même temps, ils sont conditionnellement gratuits - il n'y a un paiement que pour l'instance elle-même.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ces disques peuvent être parfaitement utilisés pour toutes les données temporaires qui ne nécessitent pas de stockage constant - swaps, cache, toutes autres données temporaires. </font><font style="vertical-align: inherit;">Les performances des disques Instance Store sont assez élevées: en plus des très anciens types d'instances, des SSD ou des SSD NVMe sont désormais utilisés pour eux. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Résultat: nous connectons moins de disques EBS, nous payons moins.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S3 Téléchargements multiparties incomplets</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La discussion ci-dessus concernait principalement EC2. Ensuite, nous décrivons quelques astuces qui permettront d'économiser lors de l'utilisation de S3 (Simple Storage Service). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous travaillez activement avec S3, vous savez probablement que S3 et la plupart des clients pour travailler avec ce stockage prennent en charge le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">téléchargement en plusieurs</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> parties - un grand objet est chargé avec des «pièces», qui sont ensuite «assemblées» en un seul objet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cela fonctionne très bien, mais il y a une embuscade. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si le téléchargement n'est pas terminé pour une raison quelconque (la connexion a été interrompue, par exemple, et le téléchargement n'a pas repris), les parties téléchargées ne sont pas supprimées par elles-mêmes. Cependant, ils prennent de la place, vous payez pour eux.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et une surprise désagréable - ces données incomplètes ne sont en aucun cas visibles lorsque vous travaillez avec des outils standard pour S3: ni via «ls» dans cli, ni dans les programmes clients. Vous pouvez les trouver, par exemple, dans aws cli en utilisant la commande </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">list-multipart-uploads</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais travailler avec eux est trop fatigant ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il serait plus logique de supprimer une option concernant le stockage des téléchargements multiparties incomplets dans les paramètres d'un compartiment particulier. Mais pour une raison quelconque, Amazon ne l'a pas fait.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Néanmoins, il existe un moyen de vous faciliter la vie et de supprimer automatiquement les téléchargements multiparties incomplets. Dans les paramètres de compartiment de l'onglet Gestion, il y a une section Cycle de vie. Il s'agit d'un outil pratique qui vous permet de configurer diverses règles automatiques pour travailler avec des objets: déplacez-les vers d'autres référentiels, supprimez-les après un certain temps (expire) et - y compris - contrôlez le comportement des téléchargements multiparties incomplets. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bn/_f/or/bn_forpdvfvivgbfs1zo01wekl8.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un article détaillé à ce sujet est </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sur le blog AWS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - mais avec des exemples de l'ancienne interface, mais tout est assez clair. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'important est que Lifecycle configuré pour supprimer les données incomplètes fonctionnera non seulement pour les nouveaux objets, mais aussi pour les objets existants.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le volume réel occupé dans l'espace S3 peut être surveillé via CloudWatch. </font><font style="vertical-align: inherit;">Lorsque nous avons mis en place la suppression des téléchargements multiparties incomplets, nous avons été surpris de constater que nous avions libéré plus d'une douzaine de téraoctets ...</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nivellement intelligent S3</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
S3 a plusieurs classes de stockage différentes:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La norme.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Standard-IA (peu fréquenté) - pour les objets qui sont rarement accessibles.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une zone-IA - pour les données relativement non critiques. </font><font style="vertical-align: inherit;">Dans cette classe, les objets sont répliqués sur moins de points.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le glacier est un stockage très bon marché, mais vous ne pouvez pas en obtenir instantanément un objet. </font><font style="vertical-align: inherit;">Vous devez faire une demande spéciale et attendre un peu.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tous ont des conditions d'utilisation et des prix différents. Ils peuvent et doivent être combinés - en fonction de vos différentes tâches. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais relativement récemment, un autre type de stockage très intéressant est apparu - Intelligent Tiering. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'essence de son travail est la suivante: moyennant un petit supplément, la surveillance et l'analyse de vos données dans S3 sont effectuées, les appels à celles-ci sont surveillés et s'il n'y a pas d'appels pendant 30 jours, l'objet est automatiquement déplacé vers le stockage d'accès peu fréquent, ce qui coûte beaucoup moins cher que le stockage standard. Si après un certain temps l'objet est à nouveau accessible - aucune perte de performances ne se produit en même temps - il est à nouveau déplacé vers le référentiel d'accès standard. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La commodité la plus importante: vous-même n'avez rien à faire.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Amazon fera tout «intelligemment» lui-même - il saura quels objets mettre. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En activant la hiérarchisation intelligente, nous avons économisé jusqu'à 10 à 15% sur certains compartiments. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout semble trop beau et magique. </font><font style="vertical-align: inherit;">Mais ne peut-il pas y avoir des écueils? </font><font style="vertical-align: inherit;">Ils le sont et ils doivent bien entendu être pris en compte.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il y a des frais supplémentaires pour les installations de surveillance. </font><font style="vertical-align: inherit;">Dans notre cas, il est entièrement couvert par les économies.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez utiliser la hiérarchisation intelligente pour tous les objets. </font><font style="vertical-align: inherit;">Cependant, les objets de moins de 128 Ko ne seront jamais transférés au niveau d'accès peu fréquent et seront toujours payés au prix normal.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ne convient pas aux objets stockés moins de 30 jours. </font><font style="vertical-align: inherit;">Ces objets seront toujours payés au moins 30 jours à l'avance.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comment activer la hiérarchisation intelligente? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez spécifier explicitement la classe de stockage INTELLIGENT_TIERING dans l'API S3 ou CLI. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et vous pouvez configurer la règle de cycle de vie, selon laquelle, par exemple, tous les objets après un certain temps de stockage seront automatiquement déplacés vers Intelligent Tiering. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zd/di/mx/zddimxxoflqvmy2xhguvqxmzacg.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En savoir plus sur le même </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">blog AWS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Glacier</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si nous parlons de différentes classes de stockage dans S3, alors, bien sûr, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Glacier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mérite également d'être mentionné </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous avez des données qui doivent être stockées pendant des mois et des années, mais dont l'accès est extrêmement rare - par exemple, les journaux, les sauvegardes - alors assurez-vous d'envisager d'utiliser Glacier. Le prix de son utilisation est plusieurs fois inférieur au S3 standard. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour un travail pratique avec Glacier, vous pouvez utiliser les mêmes règles de cycle de vie. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, vous pouvez définir une règle selon laquelle un objet sera stocké dans un stockage normal pendant un certain temps, par exemple, 30 à 60 jours (généralement, un accès est nécessaire aux journaux ou sauvegardes les plus proches dans le temps, si nous parlons de leur stockage), puis il sera déplacé vers Glacier, et après 1-2-3 ... ans - complètement retiré.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce sera beaucoup moins cher que de le stocker simplement dans S3. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
* * * </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai parlé de quelques astuces que nous utilisons nous-mêmes activement. </font><font style="vertical-align: inherit;">AWS est une énorme plate-forme d'infrastructure. </font><font style="vertical-align: inherit;">Certes, nous n'avons pas parlé des services que vous utilisez. </font><font style="vertical-align: inherit;">S'il existe d'autres moyens d'enregistrer dans AWS qui vous sont utiles, veuillez les partager dans les commentaires.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr493924/index.html">Arrêtez le convoyeur! Vous offrez des projecteurs Epson XGA au prix de SVGA</a></li>
<li><a href="../fr493926/index.html">Astuces pour tester les applications Web Laravel à l'aide de fabriques de modèles</a></li>
<li><a href="../fr493928/index.html">Examen et test du Huawei Dorado 5000V6</a></li>
<li><a href="../fr493932/index.html">Présentation des enquêtes Google. Pourquoi il ne convient pas pour une recherche sérieuse</a></li>
<li><a href="../fr493934/index.html">Qui, comment et sur quoi ont exploré les océans du monde - nous analysons les bases de la NOAA</a></li>
<li><a href="../fr493940/index.html">Protocole de traitement du coronavirus naturel 2019-nCoV</a></li>
<li><a href="../fr493942/index.html">Virus de base en 20 minutes ou pourquoi utiliser un antivirus</a></li>
<li><a href="../fr493944/index.html">Nous continuons d'analyser les vulnérabilités des commutateurs industriels: nous exécutons du code arbitraire sans mot de passe</a></li>
<li><a href="../fr493948/index.html">Comment j'ai fabriqué un respirateur KN95 à la maison à partir de matériaux improvisés. des instructions détaillées</a></li>
<li><a href="../fr493950/index.html">Calculateur de réseau neuronal pour additionner et soustraire des nombres pas très grands</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>