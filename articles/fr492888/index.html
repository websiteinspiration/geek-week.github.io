<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤲🏿 👩🏾‍🔧 🤰🏼 Pourquoi vous ne devriez pas utiliser WireGuard 🎅🏿 🍠 👨🏿‍🚒</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Récemment, WireGuard attire beaucoup l'attention, en fait - c'est une nouvelle "star" parmi les VPN. Mais est-il aussi bon qu'il n'y paraît? Je voudra...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Pourquoi vous ne devriez pas utiliser WireGuard</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dcmiran/blog/492888/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Récemment, WireGuard attire beaucoup l'attention, en fait - c'est une nouvelle "star" parmi les VPN. Mais est-il aussi bon qu'il n'y paraît? Je voudrais discuter de quelques observations et envisager la mise en œuvre de WireGuard pour expliquer pourquoi ce n'est pas une solution qui remplacera IPsec ou OpenVPN. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cet article, je voudrais démystifier certains mythes [autour de WireGuard]. Oui, cela prendra beaucoup de temps à lire, donc si vous n'avez pas fait une tasse de thé ou de café, alors il est temps de le faire. Je voudrais également remercier Peter d'avoir relu mes pensées chaotiques.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je ne me fixe pas pour objectif de discréditer les développeurs de WireGuard, de dévaluer leurs efforts ou leurs idées. Leur produit fonctionne, mais je pense personnellement qu'il est présenté complètement différent de ce qu'il est réellement - il est présenté comme un remplacement pour IPsec et OpenVPN, qui en réalité n'existe tout simplement plus. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
À titre de remarque, je tiens à ajouter que la responsabilité d'un tel positionnement de WireGuard incombe aux médias qui en ont parlé, et non au projet lui-même ou à ses créateurs.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il n'y a pas eu trop de bonnes nouvelles récemment sur le sujet du noyau Linux. </font><font style="vertical-align: inherit;">Donc, on nous a parlé des vulnérabilités monstrueuses du processeur, qui ont été corrigées par le logiciel, et Linus Torvalds en a parlé trop grossier et ennuyeux, langage utilitaire du développeur. </font><font style="vertical-align: inherit;">Planificateur ou pile réseau de niveau zéro - aussi des sujets pas trop clairs pour les magazines sur papier glacé. </font><font style="vertical-align: inherit;">Et puis WireGuard apparaît. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout sonne bien sur le papier: une nouvelle technologie passionnante. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais regardons-la un peu plus attentivement.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Documentation technique WireGuard</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cet article est basé sur la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">documentation officielle de WireGuard</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> rédigée par Jason Donenfeld. </font><font style="vertical-align: inherit;">Il y explique le concept, le but et l'implémentation technique de [WireGuard] dans le noyau Linux. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La première phrase se lit comme suit:</font></font><br>
<br>
<blockquote>WireGuard [...]    IPsec     ,         / TLS,   OpenVPN,     ,      []. </blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien sûr, le principal avantage de toutes les nouvelles technologies est leur </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">simplicité</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> [par rapport à leurs prédécesseurs]. </font><font style="vertical-align: inherit;">Mais un VPN doit également être </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">efficace et sécurisé</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alors, quelle est la prochaine étape? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous dites que vous [du VPN] n'en avez pas besoin, vous pouvez terminer la lecture. </font><font style="vertical-align: inherit;">Cependant, je remarquerai que de telles tâches sont posées avant toute autre technologie de tunneling. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La plus intéressante des citations ci-dessus réside dans les mots «dans la plupart des cas», qui, bien sûr, ont été ignorés par la presse. </font><font style="vertical-align: inherit;">Et nous y sommes, où nous nous sommes retrouvés à cause du chaos créé par cette négligence - dans cet article.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/6a/6i/mh/6a6imhnuzbtscbkm7rdwladwddm.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WireGuard remplacera-t-il ma connexion VPN [IPsec] entre sites?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Non. </font><font style="vertical-align: inherit;">Il n'y a tout simplement aucune chance que de grands fournisseurs tels que Cisco, Juniper et d'autres achètent WireGuard pour leurs produits. </font><font style="vertical-align: inherit;">Ils ne «sautent pas devant les trains» en déplacement, à moins que cela ne soit vraiment nécessaire. </font><font style="vertical-align: inherit;">Plus tard, je parlerai de certaines des raisons pour lesquelles ils ne pourraient probablement pas installer les produits WireGuard à bord, même s'ils le voulaient.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WireGuard transférera-t-il mon RoadWarrior d'un ordinateur portable à un centre de données?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Non. WireGuard n'a pas implémenté un grand nombre de fonctions importantes pour le moment afin qu'il puisse faire quelque chose comme ça. Par exemple, il ne peut pas utiliser l'adresse IP dynamique du côté serveur du tunnel, ce qui à lui seul rompt tout le scénario d'une utilisation similaire du produit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IPFire est souvent utilisé pour les canaux Internet à faible coût, tels que la connexion DSL ou par câble. Cela est logique pour une petite ou moyenne entreprise qui n'a pas besoin de fibre rapide.</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[Note du traducteur: n'oubliez pas qu'en termes de communications, la Russie et certains pays de la CEI sont loin devant l'Europe et les États-Unis, car nous avons commencé à construire nos réseaux beaucoup plus tard et avec l'avènement des réseaux Ethernet et fibre optique en standard, il nous a été plus facile de reconstruire. Dans les mêmes pays de l'UE ou aux États-Unis, l'accès à large bande xDSL à une vitesse de 3 à 5 Mbps est toujours la norme universelle, et la connexion par fibre optique coûte de l'argent irréaliste selon nos normes. Par conséquent, l'auteur de l'article parle de la connexion DSL ou câble comme normale, plutôt que du passé ancien.]</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Cependant, DSL, câble, LTE (et autres méthodes d'accès sans fil) ont des adresses IP dynamiques. Bien sûr, parfois ils ne changent pas souvent, mais changent toujours. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe un sous-projet appelé </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"wg-dynamic"</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le démon de l'espace utilisateur ajoute à surmonter cette lacune. </font><font style="vertical-align: inherit;">Un énorme problème avec le scénario utilisateur décrit ci-dessus est l'aggravation de la situation par l'adressage IPv6 dynamique. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Du point de vue du distributeur, tout cela ne semble pas très bon non plus. </font><font style="vertical-align: inherit;">L'un des objectifs de conception était de maintenir le protocole simple et propre. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Malheureusement, tout cela est devenu trop simple et primitif, nous devons donc utiliser des logiciels supplémentaires pour rendre toute cette conception viable dans des conditions réelles.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WireGuard est-il si facile à utiliser?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pas encore. Je ne dis pas que WireGuard ne sera jamais une bonne alternative pour acheminer un tunnel entre deux points, mais jusqu'à présent, ce n'est qu'une version alpha du produit qu'il devrait devenir. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais alors que fait-il vraiment? IPsec est-il vraiment beaucoup plus difficile à utiliser? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Évidemment pas. Le fournisseur IPsec a pris en compte ce point et fournit son produit avec une interface telle que IPFire. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour configurer un tunnel VPN via IPsec, vous aurez besoin de cinq ensembles de données que vous devrez entrer dans la configuration: votre propre adresse IP publique, l'adresse IP publique du côté récepteur, les sous-réseaux que vous souhaitez rendre publics via cette connexion VPN et pré-partagés clé. Ainsi, le VPN est configuré en quelques minutes et il est compatible avec n'importe quel fournisseur.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Malheureusement, il y a quelques exceptions à cette histoire. </font><font style="vertical-align: inherit;">Tous ceux qui ont essayé de transmettre un tunnel VPN via IPsec à une machine sur OpenBSD comprennent de quoi je parle. </font><font style="vertical-align: inherit;">Il y a quelques exemples plus douloureux, mais en fait, la bonne pratique d'utilisation d'IPsec est beaucoup, beaucoup plus.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">À propos de la complexité du protocole</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'utilisateur final n'a pas à se soucier de la complexité du protocole. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si nous vivions dans un monde où c'était la vraie préoccupation de l'utilisateur, nous nous serions débarrassés depuis longtemps des protocoles SIP, H.323, FTP et autres créés il y a plus de dix ans qui ne fonctionnent pas bien avec NAT. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y a des raisons pour lesquelles IPsec est plus compliqué que WireGuard: il en fait beaucoup plus. Par exemple, l'authentification des utilisateurs à l'aide d'un identifiant / mot de passe ou d'une carte SIM avec EAP. Il a la capacité étendue d'ajouter de nouvelles </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">primitives cryptographiques</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais WireGuard ne le fait pas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et cela signifie que WireGuard se cassera à un moment donné, car l'une des primitives cryptographiques s'affaiblira ou sera complètement compromise. L'auteur de la documentation technique dit ceci:</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il convient de noter que WireGuard est cryptographiquement sûr de lui. </font><font style="vertical-align: inherit;">Il n'a pas intentionnellement la flexibilité des chiffres et des protocoles. </font><font style="vertical-align: inherit;">Si des trous graves sont trouvés dans les primitives sous-jacentes, tous les points de terminaison devront être mis à jour. </font><font style="vertical-align: inherit;">Comme vous pouvez le voir dans le flux continu de vulnérabilités SLL / TLS, la flexibilité du chiffrement a maintenant considérablement augmenté.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La dernière phrase est absolument vraie. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Construire un consensus sur le chiffrement à utiliser rend les protocoles comme IKE et TLS </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plus</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> complexes. </font><font style="vertical-align: inherit;">Trop compliqué? </font><font style="vertical-align: inherit;">Oui, les vulnérabilités sont assez courantes dans TLS / SSL, et il n'y a pas d'alternative à celles-ci.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ignorer les vrais problèmes</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Imaginez que vous ayez un serveur VPN avec 200 clients de combat, quelque part dans le monde. Il s'agit d'un cas d'utilisation très standard. Si vous devez modifier le cryptage, vous devez fournir la mise à jour à toutes les copies de WireGuard sur ces ordinateurs portables, smartphones, etc. </font><font style="vertical-align: inherit;">Livrez en </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">même temps</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . C'est littéralement impossible. Les administrateurs qui essaient de le faire mettront des mois à déployer les configurations nécessaires, et les moyennes entreprises mettront littéralement des années à accueillir un tel événement.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IPsec et OpenVPN offrent la négociation de chiffrement. Par conséquent, un certain temps après lequel vous activez le nouveau cryptage, l'ancien fonctionnera. Grâce à cela, les clients actuels pourront passer à la nouvelle version. Une fois la mise à jour déployée, vous désactivez simplement le chiffrement vulnérable. Et c'est tout! Terminé! tu es magnifique! Et les clients ne le remarqueront même pas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il s'agit en fait d'un cas très courant pour les déploiements importants, et même OpenVPN a quelques difficultés. La rétrocompatibilité est importante, et bien que vous utilisiez un cryptage plus faible, pour beaucoup, cela ne provoque pas la fermeture de l'entreprise. Parce que cela entraînera la paralysie de centaines de clients en raison de leur incapacité à faire leur travail.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'équipe WireGuard a rendu son protocole plus simple, mais totalement inadapté aux personnes qui n'ont pas un contrôle constant sur les deux pairs de leur tunnel. </font><font style="vertical-align: inherit;">D'après mon expérience, c'est le scénario le plus courant.</font></font><br>
 <br>
<img src="https://habrastorage.org/webt/xz/8g/un/xz8gunpa9bqpa5viwsssog6fbv0.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cryptographie!</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais quel est ce nouveau cryptage intéressant que WireGuard utilise?</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WireGuard utilise Curve25519 pour l'échange de clés, ChaCha20 pour le chiffrement et Poly1305 pour l'authentification des données. </font><font style="vertical-align: inherit;">Il fonctionne également avec SipHash pour les clés de hachage et BLAKE2 pour le hachage.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ChaCha20-Poly1305 est normalisé pour IPsec et OpenVPN (via TLS). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Évidemment, le développement de Daniel Bernstein est utilisé très souvent. BLAKE2 est le successeur de BLAKE, le finaliste de SHA-3 qui n'a pas gagné en raison de sa ressemblance avec SHA-2. Si SHA-2 était piraté, il y avait une forte probabilité que BLAKE soit compromis. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IPsec et OpenVPN n'ont pas besoin de SipHash en raison de leur conception. Ainsi, la seule chose qui ne peut pas être utilisée avec eux pour le moment est BLAKE2, et seulement jusqu'à ce qu'elle soit standardisée. Ce n'est pas un gros inconvénient, car les VPN utilisent HMAC pour créer l'intégrité, ce qui est considéré comme une solution solide même en conjonction avec MD5.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je suis donc arrivé à la conclusion que tous les VPN utilisent presque le même ensemble d'outils cryptographiques. </font><font style="vertical-align: inherit;">Par conséquent, WireGuard n'est ni plus ni moins sûr que tout autre produit pertinent en ce qui concerne le chiffrement ou l'intégrité des données. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais même ce n'est pas la chose la plus importante à laquelle vous devriez faire attention selon la documentation officielle du projet. </font><font style="vertical-align: inherit;">Après tout, l'essentiel est la vitesse.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WireGuard est-il plus rapide que les autres solutions VPN?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En bref: non, pas plus vite. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ChaCha20 est un chiffrement de flux plus facile à implémenter dans le logiciel. Il crypte un bit à la fois. Les protocoles de bloc, tels que AES, chiffrent un bloc 128 bits à la fois. Pour implémenter le support matériel, beaucoup plus de transistors seront nécessaires, donc les processeurs plus grands sont livrés avec AES-NI, une extension du jeu d'instructions qui effectue certaines tâches du processus de cryptage pour l'accélérer.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
On s'attendait à ce que AES-NI ne frappe jamais les smartphones [et il a frappé, - env. trans.]. Pour cela, le ChaCha20 a été développé - comme une alternative simple et économique qui économise l'énergie de la batterie. Par conséquent, il peut être nouveau pour vous que chaque smartphone que vous pouvez acheter aujourd'hui ait une accélération ou une autre pour AES et fonctionne avec ce cryptage plus rapidement et avec moins de consommation d'énergie qu'avec ChaCha20. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De toute évidence, presque tous les processeurs de bureau / serveur achetés au cours des deux dernières années ont AES-NI.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par conséquent, je m'attends à ce que AES dépasse ChaCha20 dans chaque scénario. Dans la documentation officielle de WireGuard, il est mentionné que grâce à l'AVX512, le ChaCha20-Poly1305 surpassera AES-NI, mais cette extension du jeu de commandes ne sera disponible que sur les gros processeurs, ce qui n'aidera pas non plus avec les équipements plus petits et mobiles qui fonctionneront toujours plus vite avec AES- NI. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je ne sais pas si cela aurait pu être prévu lors du développement de WireGuard, mais aujourd'hui le fait qu'il soit cloué sur un cryptage est déjà un inconvénient qui peut ne pas affecter très bien son travail. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IPsec vous permet de choisir librement le cryptage le mieux adapté à votre application. Et bien sûr, cela est nécessaire si, par exemple, vous souhaitez transférer 10 gigaoctets ou plus de données via une connexion VPN.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Problèmes d'intégration Linux</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien que WireGuard ait choisi un protocole de cryptage moderne, cela pose déjà beaucoup de problèmes. </font><font style="vertical-align: inherit;">Et donc, au lieu d'utiliser ce qui est pris en charge par le noyau prêt à l'emploi, l'intégration de WireGuard a été retardée pendant des années en raison du manque de ces primitives sous Linux. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je ne suis pas pleinement conscient de la situation dans d'autres systèmes d'exploitation, mais ce n'est probablement pas très différent de la situation avec Linux.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">À quoi ressemble la réalité?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Malheureusement, chaque fois qu'un client me demande de configurer une connexion VPN pour lui, je tombe sur le fait qu'il utilise des informations d'identification et un cryptage obsolètes. 3DES en conjonction avec MD5 est toujours une pratique courante, tout comme AES-256 et SHA1. Et bien que ce dernier soit légèrement meilleur - ce n'est pas quelque chose qui devrait être utilisé en 2020. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour l'échange de clés </font><font style="vertical-align: inherit;">, RSA est </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">toujours</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> utilisé - un outil lent mais assez sûr.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mes clients sont en relation avec les autorités douanières et d'autres organisations et institutions étatiques, ainsi qu'avec de grandes sociétés, dont les noms sont connus dans le monde entier. Ils utilisent tous un formulaire de demande créé il y a des décennies, et la possibilité d'utiliser SHA-512 n'a tout simplement jamais été ajoutée. Je ne peux pas dire que cela affecte clairement le progrès technologique, mais cela ralentit évidemment le processus d’entreprise. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cela me fait mal de voir cela, car IPsec prend en charge les courbes elliptiques hors de la courbe depuis l'année 2005. Curve25519 est également plus récent et plus accessible. Il existe encore des alternatives à AES, telles que Camellia et ChaCha20, mais, bien sûr, elles ne sont pas toutes prises en charge par de grands fournisseurs, tels que Cisco et d'autres.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et les gens l'utilisent. </font><font style="vertical-align: inherit;">Il existe de nombreux kits Cisco; il existe de nombreux kits conçus pour fonctionner avec Cisco. </font><font style="vertical-align: inherit;">Ils sont leaders du marché dans ce segment et ne sont pas très intéressés par les innovations. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oui, la situation [dans le segment des entreprises] est terrible, mais nous ne verrons aucun changement dû à WireGuard. </font><font style="vertical-align: inherit;">Les fabricants sont susceptibles de ne jamais identifier de problèmes de performances avec les outils et le chiffrement déjà utilisés, ils ne verront pas de problèmes lors de l'utilisation d'IKEv2 - et ne recherchent donc pas d'alternatives. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En général, avez-vous déjà pensé à abandonner Cisco?</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Repères</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Passons maintenant aux benchmarks de la documentation WireGuard. Bien que cette [documentation] ne soit pas un article scientifique, je m'attendais quand même à ce que les développeurs adoptent une approche plus scientifique ou utilisent une approche scientifique comme référence. Les repères sont inutiles s'ils ne peuvent pas être reproduits, et plus encore ils sont inutiles lorsqu'ils sont obtenus en laboratoire. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans la version WireGuard pour Linux, il profite du GSO - Generic Segmentation Offloading. Grâce à lui, le client crée un énorme paquet de 64 kilo-octets et le chiffre / le déchiffre en une seule approche. Ainsi, le coût de l'appel et de la mise en œuvre des opérations cryptographiques est réduit. Si vous souhaitez maximiser la bande passante de votre connexion VPN, c'est une bonne idée.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais, comme d'habitude, en réalité ce n'est pas si simple. L'envoi d'un si gros paquet à une carte réseau nécessite qu'il soit découpé en plusieurs petits paquets. La taille d'envoi typique est de 1 500 octets. Autrement dit, nos 64 kilo-octets géants seront divisés en 45 paquets (1240 octets d'informations et 20 octets d'en-tête IP). Ensuite, pendant un certain temps, ils bloquent complètement le fonctionnement de la carte réseau, car ils doivent être envoyés ensemble et immédiatement. En conséquence, cela entraînera un saut de priorité et des paquets tels que, par exemple, VoIP, seront mis en file d'attente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, le haut débit, que WireGuard revendique si hardiment, est atteint en ralentissant le fonctionnement du réseau d'autres applications. Et l'équipe WireGuard a déjà </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">confirmé</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ma conclusion.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais passons à autre chose. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selon les repères de la documentation technique, la connexion affiche une bande passante de 1011 Mbit / s. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Impressionnant. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ceci est particulièrement impressionnant car la bande passante théorique maximale d'une connexion Gigabit Ethernet est de 966 Mbit / s avec une taille de paquet de 1500 octets moins 20 octets par en-tête IP, 8 octets par en-tête UDP et 16 octets par en-tête de fil lui-même. . Il y a un autre en-tête IP dans le paquet encapsulé et un autre dans TCP 20 octets. D'où vient donc cette bande passante supplémentaire?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avec les énormes trames et avantages du GSO, dont nous avons parlé ci-dessus, le maximum théorique avec une taille de trame de 9000 octets sera de 1014 Mbit / s. Habituellement, un tel débit est inaccessible en réalité, car il est associé à de grandes difficultés. Ainsi, je ne peux que supposer que le test a été effectué en utilisant des trames encore plus audacieuses dépassant la taille de 64 kilo-octets avec un maximum théorique de 1023 Mbit / s, ce qui n'est pris en charge que par certains adaptateurs réseau. Mais cela n'est absolument pas applicable dans des conditions réelles, ou il ne peut être utilisé qu'entre deux stations directement connectées l'une à l'autre, exclusivement à l'intérieur du banc d'essai.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais comme le tunnel VPN est transféré entre deux hôtes à l'aide d'une connexion Internet qui ne prend pas du tout en charge les grandes trames, le résultat obtenu sur le stand ne peut pas être pris comme standard. </font><font style="vertical-align: inherit;">Il s'agit simplement d'une réalisation de laboratoire irréaliste, impossible et non applicable dans des conditions de combat réelles. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Même assis dans le centre de données, je ne serais pas en mesure de transférer des trames supérieures à 9 000 octets. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le critère d'applicabilité dans la vie réelle est complètement violé et, comme je pense, l'auteur de la "mesure" s'est sérieusement discrédité pour des raisons évidentes.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/po/ra/2b/pora2bzrbixbty-gnnngbffbc-i.png"><br>
 <br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La dernière lueur d'espoir</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le site Web de WireGuard parle beaucoup de conteneurs et il devient clair à quoi ils sont réellement destinés. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un VPN simple et rapide qui ne nécessite pas de configuration et peut être déployé et configuré avec des outils d'orchestration massifs, comme Amazon dans leur cloud. Plus précisément, Amazon utilise les dernières fonctionnalités matérielles que j'ai mentionnées plus tôt, par exemple - AVX512. Ceci est fait afin d'accélérer le travail et de ne pas être lié à x86 ou à toute autre architecture.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ils optimisent la bande passante et les paquets dont la taille dépasse 9000 octets - cela se traduira par d'énormes trames encapsulées pour communiquer les conteneurs entre eux, ou pour les opérations de sauvegarde, créer des instantanés ou déployer ces conteneurs. </font><font style="vertical-align: inherit;">Même les adresses IP dynamiques n'affecteront pas le fonctionnement de WireGuard dans le cas du scénario que j'ai décrit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pas mal joué. </font><font style="vertical-align: inherit;">Une implémentation brillante et un protocole très mince, presque de référence. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais il n'est tout simplement pas adapté au monde extérieur au centre de données que vous contrôlez complètement. </font><font style="vertical-align: inherit;">Si vous prenez le risque et commencez à utiliser WireGuard, vous devrez constamment faire des compromis dans le développement et la mise en œuvre du protocole de chiffrement.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il m'est facile de conclure que WireGuard n'est pas encore prêt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il a été conçu comme une solution légère et rapide à un certain nombre de problèmes avec les solutions existantes. Malheureusement, pour ces solutions, il a sacrifié de nombreuses fonctionnalités qui seront pertinentes pour la plupart des utilisateurs. C'est pourquoi il ne peut pas remplacer IPsec ou OpenVPN. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour que WireGuard devienne compétitif, il doit ajouter au moins la configuration d'adresse IP et la configuration de routage et DNS. C'est évidemment pour cela que les canaux cryptés sont nécessaires. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La sécurité est ma priorité absolue, et pour l'instant je n'ai aucune raison de croire que IKE ou TLS est en quelque sorte compromis ou cassé. Le cryptage moderne est pris en charge dans les deux, et ils ont été testés pendant des décennies de fonctionnement. Si quelque chose de plus récent ne signifie pas que c'est quelque chose, c'est mieux.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'interopérabilité est cruciale lorsque vous contactez des tiers dont vous ne contrôlez pas les stations. </font><font style="vertical-align: inherit;">IPsec est la norme de facto et est pris en charge presque universellement. </font><font style="vertical-align: inherit;">Et il fonctionne. </font><font style="vertical-align: inherit;">Et peu importe à quoi il ressemble, en théorie, WireGuard à l'avenir peut ne pas être compatible, même avec différentes versions de lui-même. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Toute protection cryptographique est piratée tôt ou tard et, en conséquence, doit être remplacée ou mise à jour. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nier tous ces faits et vouloir aveuglément utiliser WireGuard pour connecter votre iPhone à votre poste de travail à domicile n'est qu'un atelier pour vous mettre la tête dans le sable.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr492874/index.html">Optimisation du rendu pour mobile</a></li>
<li><a href="../fr492878/index.html">Pantoufles geek: à la recherche de positif dans les fermetures de bureaux temporaires</a></li>
<li><a href="../fr492880/index.html">Que devrions-nous construire une maison intelligente?</a></li>
<li><a href="../fr492884/index.html">Recevoir des messages des diffusions YouTube + autorisation google en PHP</a></li>
<li><a href="../fr492886/index.html">Recette des testeurs de recrutement de masse</a></li>
<li><a href="../fr492894/index.html">Comment ne pas perdre tout l'argent en quelques minutes ou la gestion des risques dans le trading algorithmique</a></li>
<li><a href="../fr492900/index.html">Générateur de musique API Web Audio Expérience débutant</a></li>
<li><a href="../fr492906/index.html">Comment différents types de MBTI réagissent au stress</a></li>
<li><a href="../fr492908/index.html">Comment demander un transfert temporaire vers un travail à distance</a></li>
<li><a href="../fr492910/index.html">Contrôle du moteur pas à pas via le contrôleur Canny</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>