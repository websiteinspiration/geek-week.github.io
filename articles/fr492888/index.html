<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§≤üèø üë©üèæ‚Äçüîß ü§∞üèº Pourquoi vous ne devriez pas utiliser WireGuard üéÖüèø üç† üë®üèø‚Äçüöí</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="R√©cemment, WireGuard attire beaucoup l'attention, en fait - c'est une nouvelle "star" parmi les VPN. Mais est-il aussi bon qu'il n'y para√Æt? Je voudra...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Pourquoi vous ne devriez pas utiliser WireGuard</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dcmiran/blog/492888/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R√©cemment, WireGuard attire beaucoup l'attention, en fait - c'est une nouvelle "star" parmi les VPN. Mais est-il aussi bon qu'il n'y para√Æt? Je voudrais discuter de quelques observations et envisager la mise en ≈ìuvre de WireGuard pour expliquer pourquoi ce n'est pas une solution qui remplacera IPsec ou OpenVPN. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cet article, je voudrais d√©mystifier certains mythes [autour de WireGuard]. Oui, cela prendra beaucoup de temps √† lire, donc si vous n'avez pas fait une tasse de th√© ou de caf√©, alors il est temps de le faire. Je voudrais √©galement remercier Peter d'avoir relu mes pens√©es chaotiques.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je ne me fixe pas pour objectif de discr√©diter les d√©veloppeurs de WireGuard, de d√©valuer leurs efforts ou leurs id√©es. Leur produit fonctionne, mais je pense personnellement qu'il est pr√©sent√© compl√®tement diff√©rent de ce qu'il est r√©ellement - il est pr√©sent√© comme un remplacement pour IPsec et OpenVPN, qui en r√©alit√© n'existe tout simplement plus. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä titre de remarque, je tiens √† ajouter que la responsabilit√© d'un tel positionnement de WireGuard incombe aux m√©dias qui en ont parl√©, et non au projet lui-m√™me ou √† ses cr√©ateurs.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il n'y a pas eu trop de bonnes nouvelles r√©cemment sur le sujet du noyau Linux. </font><font style="vertical-align: inherit;">Donc, on nous a parl√© des vuln√©rabilit√©s monstrueuses du processeur, qui ont √©t√© corrig√©es par le logiciel, et Linus Torvalds en a parl√© trop grossier et ennuyeux, langage utilitaire du d√©veloppeur. </font><font style="vertical-align: inherit;">Planificateur ou pile r√©seau de niveau z√©ro - aussi des sujets pas trop clairs pour les magazines sur papier glac√©. </font><font style="vertical-align: inherit;">Et puis WireGuard appara√Æt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout sonne bien sur le papier: une nouvelle technologie passionnante. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais regardons-la un peu plus attentivement.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Documentation technique WireGuard</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cet article est bas√© sur la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">documentation officielle de WireGuard</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> r√©dig√©e par Jason Donenfeld. </font><font style="vertical-align: inherit;">Il y explique le concept, le but et l'impl√©mentation technique de [WireGuard] dans le noyau Linux. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La premi√®re phrase se lit comme suit:</font></font><br>
<br>
<blockquote>WireGuard [...]    IPsec     ,         / TLS,   OpenVPN,     ,      []. </blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien s√ªr, le principal avantage de toutes les nouvelles technologies est leur </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">simplicit√©</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> [par rapport √† leurs pr√©d√©cesseurs]. </font><font style="vertical-align: inherit;">Mais un VPN doit √©galement √™tre </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">efficace et s√©curis√©</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alors, quelle est la prochaine √©tape? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous dites que vous [du VPN] n'en avez pas besoin, vous pouvez terminer la lecture. </font><font style="vertical-align: inherit;">Cependant, je remarquerai que de telles t√¢ches sont pos√©es avant toute autre technologie de tunneling. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La plus int√©ressante des citations ci-dessus r√©side dans les mots ¬´dans la plupart des cas¬ª, qui, bien s√ªr, ont √©t√© ignor√©s par la presse. </font><font style="vertical-align: inherit;">Et nous y sommes, o√π nous nous sommes retrouv√©s √† cause du chaos cr√©√© par cette n√©gligence - dans cet article.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/6a/6i/mh/6a6imhnuzbtscbkm7rdwladwddm.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WireGuard remplacera-t-il ma connexion VPN [IPsec] entre sites?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Non. </font><font style="vertical-align: inherit;">Il n'y a tout simplement aucune chance que de grands fournisseurs tels que Cisco, Juniper et d'autres ach√®tent WireGuard pour leurs produits. </font><font style="vertical-align: inherit;">Ils ne ¬´sautent pas devant les trains¬ª en d√©placement, √† moins que cela ne soit vraiment n√©cessaire. </font><font style="vertical-align: inherit;">Plus tard, je parlerai de certaines des raisons pour lesquelles ils ne pourraient probablement pas installer les produits WireGuard √† bord, m√™me s'ils le voulaient.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WireGuard transf√©rera-t-il mon RoadWarrior d'un ordinateur portable √† un centre de donn√©es?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Non. WireGuard n'a pas impl√©ment√© un grand nombre de fonctions importantes pour le moment afin qu'il puisse faire quelque chose comme √ßa. Par exemple, il ne peut pas utiliser l'adresse IP dynamique du c√¥t√© serveur du tunnel, ce qui √† lui seul rompt tout le sc√©nario d'une utilisation similaire du produit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IPFire est souvent utilis√© pour les canaux Internet √† faible co√ªt, tels que la connexion DSL ou par c√¢ble. Cela est logique pour une petite ou moyenne entreprise qui n'a pas besoin de fibre rapide.</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[Note du traducteur: n'oubliez pas qu'en termes de communications, la Russie et certains pays de la CEI sont loin devant l'Europe et les √âtats-Unis, car nous avons commenc√© √† construire nos r√©seaux beaucoup plus tard et avec l'av√®nement des r√©seaux Ethernet et fibre optique en standard, il nous a √©t√© plus facile de reconstruire. Dans les m√™mes pays de l'UE ou aux √âtats-Unis, l'acc√®s √† large bande xDSL √† une vitesse de 3 √† 5 Mbps est toujours la norme universelle, et la connexion par fibre optique co√ªte de l'argent irr√©aliste selon nos normes. Par cons√©quent, l'auteur de l'article parle de la connexion DSL ou c√¢ble comme normale, plut√¥t que du pass√© ancien.]</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Cependant, DSL, c√¢ble, LTE (et autres m√©thodes d'acc√®s sans fil) ont des adresses IP dynamiques. Bien s√ªr, parfois ils ne changent pas souvent, mais changent toujours. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe un sous-projet appel√© </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"wg-dynamic"</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le d√©mon de l'espace utilisateur ajoute √† surmonter cette lacune. </font><font style="vertical-align: inherit;">Un √©norme probl√®me avec le sc√©nario utilisateur d√©crit ci-dessus est l'aggravation de la situation par l'adressage IPv6 dynamique. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Du point de vue du distributeur, tout cela ne semble pas tr√®s bon non plus. </font><font style="vertical-align: inherit;">L'un des objectifs de conception √©tait de maintenir le protocole simple et propre. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Malheureusement, tout cela est devenu trop simple et primitif, nous devons donc utiliser des logiciels suppl√©mentaires pour rendre toute cette conception viable dans des conditions r√©elles.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WireGuard est-il si facile √† utiliser?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pas encore. Je ne dis pas que WireGuard ne sera jamais une bonne alternative pour acheminer un tunnel entre deux points, mais jusqu'√† pr√©sent, ce n'est qu'une version alpha du produit qu'il devrait devenir. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais alors que fait-il vraiment? IPsec est-il vraiment beaucoup plus difficile √† utiliser? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√âvidemment pas. Le fournisseur IPsec a pris en compte ce point et fournit son produit avec une interface telle que IPFire. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour configurer un tunnel VPN via IPsec, vous aurez besoin de cinq ensembles de donn√©es que vous devrez entrer dans la configuration: votre propre adresse IP publique, l'adresse IP publique du c√¥t√© r√©cepteur, les sous-r√©seaux que vous souhaitez rendre publics via cette connexion VPN et pr√©-partag√©s cl√©. Ainsi, le VPN est configur√© en quelques minutes et il est compatible avec n'importe quel fournisseur.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Malheureusement, il y a quelques exceptions √† cette histoire. </font><font style="vertical-align: inherit;">Tous ceux qui ont essay√© de transmettre un tunnel VPN via IPsec √† une machine sur OpenBSD comprennent de quoi je parle. </font><font style="vertical-align: inherit;">Il y a quelques exemples plus douloureux, mais en fait, la bonne pratique d'utilisation d'IPsec est beaucoup, beaucoup plus.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Ä propos de la complexit√© du protocole</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'utilisateur final n'a pas √† se soucier de la complexit√© du protocole. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si nous vivions dans un monde o√π c'√©tait la vraie pr√©occupation de l'utilisateur, nous nous serions d√©barrass√©s depuis longtemps des protocoles SIP, H.323, FTP et autres cr√©√©s il y a plus de dix ans qui ne fonctionnent pas bien avec NAT. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y a des raisons pour lesquelles IPsec est plus compliqu√© que WireGuard: il en fait beaucoup plus. Par exemple, l'authentification des utilisateurs √† l'aide d'un identifiant / mot de passe ou d'une carte SIM avec EAP. Il a la capacit√© √©tendue d'ajouter de nouvelles </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">primitives cryptographiques</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais WireGuard ne le fait pas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et cela signifie que WireGuard se cassera √† un moment donn√©, car l'une des primitives cryptographiques s'affaiblira ou sera compl√®tement compromise. L'auteur de la documentation technique dit ceci:</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il convient de noter que WireGuard est cryptographiquement s√ªr de lui. </font><font style="vertical-align: inherit;">Il n'a pas intentionnellement la flexibilit√© des chiffres et des protocoles. </font><font style="vertical-align: inherit;">Si des trous graves sont trouv√©s dans les primitives sous-jacentes, tous les points de terminaison devront √™tre mis √† jour. </font><font style="vertical-align: inherit;">Comme vous pouvez le voir dans le flux continu de vuln√©rabilit√©s SLL / TLS, la flexibilit√© du chiffrement a maintenant consid√©rablement augment√©.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La derni√®re phrase est absolument vraie. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Construire un consensus sur le chiffrement √† utiliser rend les protocoles comme IKE et TLS </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plus</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> complexes. </font><font style="vertical-align: inherit;">Trop compliqu√©? </font><font style="vertical-align: inherit;">Oui, les vuln√©rabilit√©s sont assez courantes dans TLS / SSL, et il n'y a pas d'alternative √† celles-ci.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ignorer les vrais probl√®mes</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Imaginez que vous ayez un serveur VPN avec 200 clients de combat, quelque part dans le monde. Il s'agit d'un cas d'utilisation tr√®s standard. Si vous devez modifier le cryptage, vous devez fournir la mise √† jour √† toutes les copies de WireGuard sur ces ordinateurs portables, smartphones, etc. </font><font style="vertical-align: inherit;">Livrez en </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m√™me temps</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . C'est litt√©ralement impossible. Les administrateurs qui essaient de le faire mettront des mois √† d√©ployer les configurations n√©cessaires, et les moyennes entreprises mettront litt√©ralement des ann√©es √† accueillir un tel √©v√©nement.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IPsec et OpenVPN offrent la n√©gociation de chiffrement. Par cons√©quent, un certain temps apr√®s lequel vous activez le nouveau cryptage, l'ancien fonctionnera. Gr√¢ce √† cela, les clients actuels pourront passer √† la nouvelle version. Une fois la mise √† jour d√©ploy√©e, vous d√©sactivez simplement le chiffrement vuln√©rable. Et c'est tout! Termin√©! tu es magnifique! Et les clients ne le remarqueront m√™me pas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il s'agit en fait d'un cas tr√®s courant pour les d√©ploiements importants, et m√™me OpenVPN a quelques difficult√©s. La r√©trocompatibilit√© est importante, et bien que vous utilisiez un cryptage plus faible, pour beaucoup, cela ne provoque pas la fermeture de l'entreprise. Parce que cela entra√Ænera la paralysie de centaines de clients en raison de leur incapacit√© √† faire leur travail.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'√©quipe WireGuard a rendu son protocole plus simple, mais totalement inadapt√© aux personnes qui n'ont pas un contr√¥le constant sur les deux pairs de leur tunnel. </font><font style="vertical-align: inherit;">D'apr√®s mon exp√©rience, c'est le sc√©nario le plus courant.</font></font><br>
 <br>
<img src="https://habrastorage.org/webt/xz/8g/un/xz8gunpa9bqpa5viwsssog6fbv0.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cryptographie!</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais quel est ce nouveau cryptage int√©ressant que WireGuard utilise?</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WireGuard utilise Curve25519 pour l'√©change de cl√©s, ChaCha20 pour le chiffrement et Poly1305 pour l'authentification des donn√©es. </font><font style="vertical-align: inherit;">Il fonctionne √©galement avec SipHash pour les cl√©s de hachage et BLAKE2 pour le hachage.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ChaCha20-Poly1305 est normalis√© pour IPsec et OpenVPN (via TLS). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√âvidemment, le d√©veloppement de Daniel Bernstein est utilis√© tr√®s souvent. BLAKE2 est le successeur de BLAKE, le finaliste de SHA-3 qui n'a pas gagn√© en raison de sa ressemblance avec SHA-2. Si SHA-2 √©tait pirat√©, il y avait une forte probabilit√© que BLAKE soit compromis. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IPsec et OpenVPN n'ont pas besoin de SipHash en raison de leur conception. Ainsi, la seule chose qui ne peut pas √™tre utilis√©e avec eux pour le moment est BLAKE2, et seulement jusqu'√† ce qu'elle soit standardis√©e. Ce n'est pas un gros inconv√©nient, car les VPN utilisent HMAC pour cr√©er l'int√©grit√©, ce qui est consid√©r√© comme une solution solide m√™me en conjonction avec MD5.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je suis donc arriv√© √† la conclusion que tous les VPN utilisent presque le m√™me ensemble d'outils cryptographiques. </font><font style="vertical-align: inherit;">Par cons√©quent, WireGuard n'est ni plus ni moins s√ªr que tout autre produit pertinent en ce qui concerne le chiffrement ou l'int√©grit√© des donn√©es. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais m√™me ce n'est pas la chose la plus importante √† laquelle vous devriez faire attention selon la documentation officielle du projet. </font><font style="vertical-align: inherit;">Apr√®s tout, l'essentiel est la vitesse.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WireGuard est-il plus rapide que les autres solutions VPN?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En bref: non, pas plus vite. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ChaCha20 est un chiffrement de flux plus facile √† impl√©menter dans le logiciel. Il crypte un bit √† la fois. Les protocoles de bloc, tels que AES, chiffrent un bloc 128 bits √† la fois. Pour impl√©menter le support mat√©riel, beaucoup plus de transistors seront n√©cessaires, donc les processeurs plus grands sont livr√©s avec AES-NI, une extension du jeu d'instructions qui effectue certaines t√¢ches du processus de cryptage pour l'acc√©l√©rer.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
On s'attendait √† ce que AES-NI ne frappe jamais les smartphones [et il a frapp√©, - env. trans.]. Pour cela, le ChaCha20 a √©t√© d√©velopp√© - comme une alternative simple et √©conomique qui √©conomise l'√©nergie de la batterie. Par cons√©quent, il peut √™tre nouveau pour vous que chaque smartphone que vous pouvez acheter aujourd'hui ait une acc√©l√©ration ou une autre pour AES et fonctionne avec ce cryptage plus rapidement et avec moins de consommation d'√©nergie qu'avec ChaCha20. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De toute √©vidence, presque tous les processeurs de bureau / serveur achet√©s au cours des deux derni√®res ann√©es ont AES-NI.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par cons√©quent, je m'attends √† ce que AES d√©passe ChaCha20 dans chaque sc√©nario. Dans la documentation officielle de WireGuard, il est mentionn√© que gr√¢ce √† l'AVX512, le ChaCha20-Poly1305 surpassera AES-NI, mais cette extension du jeu de commandes ne sera disponible que sur les gros processeurs, ce qui n'aidera pas non plus avec les √©quipements plus petits et mobiles qui fonctionneront toujours plus vite avec AES- NI. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je ne sais pas si cela aurait pu √™tre pr√©vu lors du d√©veloppement de WireGuard, mais aujourd'hui le fait qu'il soit clou√© sur un cryptage est d√©j√† un inconv√©nient qui peut ne pas affecter tr√®s bien son travail. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IPsec vous permet de choisir librement le cryptage le mieux adapt√© √† votre application. Et bien s√ªr, cela est n√©cessaire si, par exemple, vous souhaitez transf√©rer 10 gigaoctets ou plus de donn√©es via une connexion VPN.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Probl√®mes d'int√©gration Linux</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien que WireGuard ait choisi un protocole de cryptage moderne, cela pose d√©j√† beaucoup de probl√®mes. </font><font style="vertical-align: inherit;">Et donc, au lieu d'utiliser ce qui est pris en charge par le noyau pr√™t √† l'emploi, l'int√©gration de WireGuard a √©t√© retard√©e pendant des ann√©es en raison du manque de ces primitives sous Linux. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je ne suis pas pleinement conscient de la situation dans d'autres syst√®mes d'exploitation, mais ce n'est probablement pas tr√®s diff√©rent de la situation avec Linux.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Ä quoi ressemble la r√©alit√©?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Malheureusement, chaque fois qu'un client me demande de configurer une connexion VPN pour lui, je tombe sur le fait qu'il utilise des informations d'identification et un cryptage obsol√®tes. 3DES en conjonction avec MD5 est toujours une pratique courante, tout comme AES-256 et SHA1. Et bien que ce dernier soit l√©g√®rement meilleur - ce n'est pas quelque chose qui devrait √™tre utilis√© en 2020. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour l'√©change de cl√©s </font><font style="vertical-align: inherit;">, RSA est </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">toujours</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> utilis√© - un outil lent mais assez s√ªr.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mes clients sont en relation avec les autorit√©s douani√®res et d'autres organisations et institutions √©tatiques, ainsi qu'avec de grandes soci√©t√©s, dont les noms sont connus dans le monde entier. Ils utilisent tous un formulaire de demande cr√©√© il y a des d√©cennies, et la possibilit√© d'utiliser SHA-512 n'a tout simplement jamais √©t√© ajout√©e. Je ne peux pas dire que cela affecte clairement le progr√®s technologique, mais cela ralentit √©videmment le processus d‚Äôentreprise. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cela me fait mal de voir cela, car IPsec prend en charge les courbes elliptiques hors de la courbe depuis l'ann√©e 2005. Curve25519 est √©galement plus r√©cent et plus accessible. Il existe encore des alternatives √† AES, telles que Camellia et ChaCha20, mais, bien s√ªr, elles ne sont pas toutes prises en charge par de grands fournisseurs, tels que Cisco et d'autres.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et les gens l'utilisent. </font><font style="vertical-align: inherit;">Il existe de nombreux kits Cisco; il existe de nombreux kits con√ßus pour fonctionner avec Cisco. </font><font style="vertical-align: inherit;">Ils sont leaders du march√© dans ce segment et ne sont pas tr√®s int√©ress√©s par les innovations. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oui, la situation [dans le segment des entreprises] est terrible, mais nous ne verrons aucun changement d√ª √† WireGuard. </font><font style="vertical-align: inherit;">Les fabricants sont susceptibles de ne jamais identifier de probl√®mes de performances avec les outils et le chiffrement d√©j√† utilis√©s, ils ne verront pas de probl√®mes lors de l'utilisation d'IKEv2 - et ne recherchent donc pas d'alternatives. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En g√©n√©ral, avez-vous d√©j√† pens√© √† abandonner Cisco?</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rep√®res</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Passons maintenant aux benchmarks de la documentation WireGuard. Bien que cette [documentation] ne soit pas un article scientifique, je m'attendais quand m√™me √† ce que les d√©veloppeurs adoptent une approche plus scientifique ou utilisent une approche scientifique comme r√©f√©rence. Les rep√®res sont inutiles s'ils ne peuvent pas √™tre reproduits, et plus encore ils sont inutiles lorsqu'ils sont obtenus en laboratoire. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans la version WireGuard pour Linux, il profite du GSO - Generic Segmentation Offloading. Gr√¢ce √† lui, le client cr√©e un √©norme paquet de 64 kilo-octets et le chiffre / le d√©chiffre en une seule approche. Ainsi, le co√ªt de l'appel et de la mise en ≈ìuvre des op√©rations cryptographiques est r√©duit. Si vous souhaitez maximiser la bande passante de votre connexion VPN, c'est une bonne id√©e.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais, comme d'habitude, en r√©alit√© ce n'est pas si simple. L'envoi d'un si gros paquet √† une carte r√©seau n√©cessite qu'il soit d√©coup√© en plusieurs petits paquets. La taille d'envoi typique est de 1 500 octets. Autrement dit, nos 64 kilo-octets g√©ants seront divis√©s en 45 paquets (1240 octets d'informations et 20 octets d'en-t√™te IP). Ensuite, pendant un certain temps, ils bloquent compl√®tement le fonctionnement de la carte r√©seau, car ils doivent √™tre envoy√©s ensemble et imm√©diatement. En cons√©quence, cela entra√Ænera un saut de priorit√© et des paquets tels que, par exemple, VoIP, seront mis en file d'attente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, le haut d√©bit, que WireGuard revendique si hardiment, est atteint en ralentissant le fonctionnement du r√©seau d'autres applications. Et l'√©quipe WireGuard a d√©j√† </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">confirm√©</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ma conclusion.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais passons √† autre chose. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selon les rep√®res de la documentation technique, la connexion affiche une bande passante de 1011 Mbit / s. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Impressionnant. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ceci est particuli√®rement impressionnant car la bande passante th√©orique maximale d'une connexion Gigabit Ethernet est de 966 Mbit / s avec une taille de paquet de 1500 octets moins 20 octets par en-t√™te IP, 8 octets par en-t√™te UDP et 16 octets par en-t√™te de fil lui-m√™me. . Il y a un autre en-t√™te IP dans le paquet encapsul√© et un autre dans TCP 20 octets. D'o√π vient donc cette bande passante suppl√©mentaire?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avec les √©normes trames et avantages du GSO, dont nous avons parl√© ci-dessus, le maximum th√©orique avec une taille de trame de 9000 octets sera de 1014 Mbit / s. Habituellement, un tel d√©bit est inaccessible en r√©alit√©, car il est associ√© √† de grandes difficult√©s. Ainsi, je ne peux que supposer que le test a √©t√© effectu√© en utilisant des trames encore plus audacieuses d√©passant la taille de 64 kilo-octets avec un maximum th√©orique de 1023 Mbit / s, ce qui n'est pris en charge que par certains adaptateurs r√©seau. Mais cela n'est absolument pas applicable dans des conditions r√©elles, ou il ne peut √™tre utilis√© qu'entre deux stations directement connect√©es l'une √† l'autre, exclusivement √† l'int√©rieur du banc d'essai.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais comme le tunnel VPN est transf√©r√© entre deux h√¥tes √† l'aide d'une connexion Internet qui ne prend pas du tout en charge les grandes trames, le r√©sultat obtenu sur le stand ne peut pas √™tre pris comme standard. </font><font style="vertical-align: inherit;">Il s'agit simplement d'une r√©alisation de laboratoire irr√©aliste, impossible et non applicable dans des conditions de combat r√©elles. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
M√™me assis dans le centre de donn√©es, je ne serais pas en mesure de transf√©rer des trames sup√©rieures √† 9 000 octets. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le crit√®re d'applicabilit√© dans la vie r√©elle est compl√®tement viol√© et, comme je pense, l'auteur de la "mesure" s'est s√©rieusement discr√©dit√© pour des raisons √©videntes.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/po/ra/2b/pora2bzrbixbty-gnnngbffbc-i.png"><br>
 <br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La derni√®re lueur d'espoir</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le site Web de WireGuard parle beaucoup de conteneurs et il devient clair √† quoi ils sont r√©ellement destin√©s. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un VPN simple et rapide qui ne n√©cessite pas de configuration et peut √™tre d√©ploy√© et configur√© avec des outils d'orchestration massifs, comme Amazon dans leur cloud. Plus pr√©cis√©ment, Amazon utilise les derni√®res fonctionnalit√©s mat√©rielles que j'ai mentionn√©es plus t√¥t, par exemple - AVX512. Ceci est fait afin d'acc√©l√©rer le travail et de ne pas √™tre li√© √† x86 ou √† toute autre architecture.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ils optimisent la bande passante et les paquets dont la taille d√©passe 9000 octets - cela se traduira par d'√©normes trames encapsul√©es pour communiquer les conteneurs entre eux, ou pour les op√©rations de sauvegarde, cr√©er des instantan√©s ou d√©ployer ces conteneurs. </font><font style="vertical-align: inherit;">M√™me les adresses IP dynamiques n'affecteront pas le fonctionnement de WireGuard dans le cas du sc√©nario que j'ai d√©crit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pas mal jou√©. </font><font style="vertical-align: inherit;">Une impl√©mentation brillante et un protocole tr√®s mince, presque de r√©f√©rence. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais il n'est tout simplement pas adapt√© au monde ext√©rieur au centre de donn√©es que vous contr√¥lez compl√®tement. </font><font style="vertical-align: inherit;">Si vous prenez le risque et commencez √† utiliser WireGuard, vous devrez constamment faire des compromis dans le d√©veloppement et la mise en ≈ìuvre du protocole de chiffrement.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il m'est facile de conclure que WireGuard n'est pas encore pr√™t. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il a √©t√© con√ßu comme une solution l√©g√®re et rapide √† un certain nombre de probl√®mes avec les solutions existantes. Malheureusement, pour ces solutions, il a sacrifi√© de nombreuses fonctionnalit√©s qui seront pertinentes pour la plupart des utilisateurs. C'est pourquoi il ne peut pas remplacer IPsec ou OpenVPN. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour que WireGuard devienne comp√©titif, il doit ajouter au moins la configuration d'adresse IP et la configuration de routage et DNS. C'est √©videmment pour cela que les canaux crypt√©s sont n√©cessaires. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La s√©curit√© est ma priorit√© absolue, et pour l'instant je n'ai aucune raison de croire que IKE ou TLS est en quelque sorte compromis ou cass√©. Le cryptage moderne est pris en charge dans les deux, et ils ont √©t√© test√©s pendant des d√©cennies de fonctionnement. Si quelque chose de plus r√©cent ne signifie pas que c'est quelque chose, c'est mieux.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'interop√©rabilit√© est cruciale lorsque vous contactez des tiers dont vous ne contr√¥lez pas les stations. </font><font style="vertical-align: inherit;">IPsec est la norme de facto et est pris en charge presque universellement. </font><font style="vertical-align: inherit;">Et il fonctionne. </font><font style="vertical-align: inherit;">Et peu importe √† quoi il ressemble, en th√©orie, WireGuard √† l'avenir peut ne pas √™tre compatible, m√™me avec diff√©rentes versions de lui-m√™me. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Toute protection cryptographique est pirat√©e t√¥t ou tard et, en cons√©quence, doit √™tre remplac√©e ou mise √† jour. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nier tous ces faits et vouloir aveugl√©ment utiliser WireGuard pour connecter votre iPhone √† votre poste de travail √† domicile n'est qu'un atelier pour vous mettre la t√™te dans le sable.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr492874/index.html">Optimisation du rendu pour mobile</a></li>
<li><a href="../fr492878/index.html">Pantoufles geek: √† la recherche de positif dans les fermetures de bureaux temporaires</a></li>
<li><a href="../fr492880/index.html">Que devrions-nous construire une maison intelligente?</a></li>
<li><a href="../fr492884/index.html">Recevoir des messages des diffusions YouTube + autorisation google en PHP</a></li>
<li><a href="../fr492886/index.html">Recette des testeurs de recrutement de masse</a></li>
<li><a href="../fr492894/index.html">Comment ne pas perdre tout l'argent en quelques minutes ou la gestion des risques dans le trading algorithmique</a></li>
<li><a href="../fr492900/index.html">G√©n√©rateur de musique API Web Audio Exp√©rience d√©butant</a></li>
<li><a href="../fr492906/index.html">Comment diff√©rents types de MBTI r√©agissent au stress</a></li>
<li><a href="../fr492908/index.html">Comment demander un transfert temporaire vers un travail √† distance</a></li>
<li><a href="../fr492910/index.html">Contr√¥le du moteur pas √† pas via le contr√¥leur Canny</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>