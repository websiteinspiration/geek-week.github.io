<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👎🏿 🧝🏽 🤹🏼 Comment j'ai collecté la physique des roues chez Unigine 🚮 🌻 ☂️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonne journée. 
 
 Cette fois, nous parlerons du moteur russe Unigine et de la manière d'y assembler une machine simple. Le schéma n'est pas idéal, ca...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Comment j'ai collecté la physique des roues chez Unigine</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/502558/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bonne journée. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette fois, nous parlerons du </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">moteur</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> russe </font><b><font style="vertical-align: inherit;">Unigine</font></b><font style="vertical-align: inherit;"> et de la manière d'y assembler une machine simple. </font><font style="vertical-align: inherit;">Le schéma n'est pas idéal, car je ne l'ai pas compris à certains égards, mais au moins je partagerai mon expérience.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/c2/zw/ga/c2zwgaa8w_tvfzoalwi0twc8tpw.jpeg"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout d'abord, pour comprendre comment se fait la physique des roues, nous allons dans la documentation officielle et trouver cet </font></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">exemple</font></font></a></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Soit dit en passant, il s'agit d'un exemple de joint de roues, mais pour une raison quelconque, il se trouve à l'adresse / car_suspension_joints /. Vous devez également vous assurer que la documentation ne passe pas aux anciennes versions (c'est-à-dire que DOCS (2.11) est ouvert) et cochez la case «C #» en haut de l'article. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Après avoir étudié l'exemple, nous voyons qu'il a été écrit par analogie avec la première solution C ++. Autrement dit, tout est créé par le code. Voilà pour la programmation visuelle, nous sommes arrivés. Eh bien, tout n'est pas si triste, mais vous pouvez voir comment tout cela se fait dans le code. Et après avoir exécuté les liens, obtenez une idée générale du dispositif commun des roues et des paramètres physiques.</font></font><br>
<blockquote>           (               ).  ,   -,    UnigineScript,           .           LOD'.</blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bien sûr, je m'attendais à un guide étape par étape prêt à l'emploi sur l'assemblage visuel afin de faire rouler quelque chose, ce qui coûte peu de sang. </font><font style="vertical-align: inherit;">En conséquence, je devais encore plonger dans tout cela avec ma tête afin de trouver un pipeline approximatif. </font><font style="vertical-align: inherit;">Cela a partiellement réussi, mais il était loin d'être compris en tous points et des questions restent ouvertes, par exemple, si les nœuds de boîtier et de roue doivent être intégrés dans une certaine hiérarchie, si les axes des points sont correctement orientés, etc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En général, cette instruction vous aidera à comprendre le principe de base, mais pour comprendre les subtilités des paramètres, vous devrez toujours étudier la documentation (ou peut-être qu'ils vous diront quelque chose d'utile dans les commentaires).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Assemblage du cadre</font></font></h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Créez un nouveau projet. Choisissez l'option C #. Ouvrez le projet dans l'éditeur. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rk/tn/h7/rktnh7wpsyzisoq4ty669fphlse.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/-y/ap/5w/-yap5w7rp7hvkwcn5kvplalrl4y.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/qo/i9/h5/qoi9h50sjmgnd8ffvr0j_0adgqg.jpeg"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Nous créons la base de la machine. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour ce faire, cliquez avec le bouton droit dans la scène, choisissez </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Créer</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &gt; </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Primitive</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &gt; </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Boîte</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Le résultat est un objet </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cuboïde</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Soulevez-le légèrement au-dessus du "sol". </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cv/zv/wl/cvzvwl6izztpmcwchcizqgxtnok.jpeg"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Nous créons des roues. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cliquez à nouveau sur la souris et sélectionnez </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Créer</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &gt; </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Primitif</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &gt; </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cylindre</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Il faudra 4 pièces.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zm/zl/qe/zmzlqe9puvjmazj1oqxx4vyouj4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Afin de ne pas être confondu avec l'orientation, vous pouvez faire pivoter la caméra de sorte que -Y brille d'en haut dans le cube (c'est-à-dire que nous regardons maintenant la future machine par derrière) et placer deux cylindres derrière Cuboid, deux autres devant. Il n'est pas nécessaire de les faire pivoter et de les personnaliser. Pour plus de commodité, différentes couleurs peuvent être attribuées à l'arrière et à l'avant. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ajoutez basé sur la physique. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sélectionnez Cuboid et sur la gauche, dans la fenêtre </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Paramètres</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de l'onglet </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Node</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">basculez vers </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Physique</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Dans la colonne Corps, sélectionnez le type </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rigide</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Après cela, faites défiler vers le bas et sélectionnez l'élément </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Boîte</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans la colonne Formes ouverte </font><font style="vertical-align: inherit;">. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/n3/if/mr/n3ifmrljrcf7hdti6jl1d_hkwzy.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/ok/b7/bd/okb7bdarwhc9ecqndtxrv99_yvo.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous voyons le </font><b><font style="vertical-align: inherit;">ShapeBox</font></b><font style="vertical-align: inherit;"> apparu</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Nous allons entrer dans ses paramètres et définir immédiatement notre base sur la masse ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">masse</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font><font style="vertical-align: inherit;">recommandée </font><font style="vertical-align: inherit;">de 64 kilogrammes. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sc/3b/xg/sc3bxgfko_smsb0azhe3cxe6ska.jpeg"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ajoutez de la physique aux roues. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
À son tour, sélectionnez les cylindres et mettez-les également </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rigides</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans l'onglet Physique. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ils n'auront pas besoin de créer une forme, car les joints de roue fonctionnent sur les rakcasts. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Attachez les roues à la base. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est temps d'attribuer les joints de roue Pour ce faire, sélectionnez correctement Cuboid et faites défiler jusqu'à la colonne </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Articulations</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans l'onglet Physique </font><font style="vertical-align: inherit;">. Dans la liste, sélectionnez </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wheel</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et lorsque vous cliquez sur le bouton </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Add</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , la </font><font style="vertical-align: inherit;">fenêtre </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Select a Body apparaît.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Là, vous sélectionnez un cylindre, il est mis en évidence avec une grille blanche dans la scène, puis appuyez sur OK. Une liaison </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WheelJoint</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> apparaîtra dans la liste </font><font style="vertical-align: inherit;">. Ici, il est déjà souhaitable de les renommer (pour cela, vous devez cliquer sur la ligne JointWheel et écrire un nouveau nom dans la colonne Nom). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xl/wc/55/xlwc55bh8sfeeycxgd_0g69bc4y.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/cy/tx/gu/cytxgutnev7f2dtruvcuxulb_di.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De la même manière, fixez les cylindres restants à Cuboid. Alors qu'à la fin sur sa liste de points brûlés 4 lignes. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/k9/w7/m0/k9w7m0xomsussfajdt7pfrma0bo.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sans renommer, il y aurait 4 lignes de WheelJoint. </font></font></i><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Veuillez noter que vous devez lier à partir de Cuboid, et non à partir de l'onglet Physique des cylindres eux-mêmes. Bien qu'après, si vous sélectionnez un cylindre spécifique et accédez à sa physique, son joint créé y est également affiché et vous pouvez modifier ses paramètres. </font></font></i><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Configurez la configuration des liaisons.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Encore une fois, sélectionnez Cuboid, trouvez en physique une liste de ses points et sélectionnez l'un d'eux. Nous voyons qu'un coin blanc avec des carrés est apparu dans la scène à l'intérieur de Cuboid. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans les paramètres de l'articulation, nous trouvons le graphique du vecteur </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anchor 0</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , et ajustons les valeurs de ses trois champs de sorte que ce coin soit décalé le long de l'axe X, à l'extérieur de Cuboid et légèrement abaissé le long de l'axe Z. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/9r/qc/rq/9rqcrqrxixc4te5t044g7b6rgvc.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/k2/9w/bz/k29wbzbjz46oihwptmknnhs2vvk.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, nous décalons le coin le long de l'axe Y, selon la liaison quelle roue est actuellement sélectionnée. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous répétons la procédure avec le reste des points, en définissant exactement les mêmes décalages le long de Z et les mêmes, mais multidirectionnels le long des autres axes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous sélectionnez tous les points à la fois, la conception globale deviendra visible. Vous pouvez également activer l'affichage des joints dans les assistants sur un panneau spécial au-dessus de la scène: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Assistants</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&gt; </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Physique</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &gt; </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Articulations</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hb/up/zc/hbupzcovchgweojafgbxklzpqag.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vue arrière du cadre avec les aides incluses </font></font></i><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Nous regardons ce qui s'est passé. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans l'éditeur, il y a un bouton pour calculer la physique. Si vous l'activez, une simulation de la physique démarre (les scripts ne fonctionnent pas) et vous pouvez vérifier le comportement de notre Frankenstein. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avant de commencer, assurez-vous que les cases à cocher activées pour </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Collision</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Physics Intersection sont cochées</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans les paramètres "étage" </font><font style="vertical-align: inherit;">. Sinon, notre création peut complètement échouer sous le plancher entièrement ou avec seulement des roues. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qb/tm/o8/qbtmo8bd8kf3-p_w6sh7im8g3p0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Attention, avant d'activer la simulation, il est préférable de sauvegarder, et les paramètres corrigés lors de son fonctionnement reprendront leurs valeurs après déconnexion.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme on le voit, les roues sont ramassées aux bons endroits, mais la structure tombe à la surface avec les extrémités des cylindres. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/o1/fw/-1/o1fw-1vccn8ik64sqcdbuqy2ghg.jpeg"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez geler Cuboid lui-même en place en activant d'abord la case à cocher Immuable dans l'onglet Physique de la colonne Corps. </font></font></i><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Réglez les essieux des roues. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Désactivez la simulation physique. Sélectionnez Cuboid, accédez à son onglet Physique et modifiez les axes </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">00</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Axe 10</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Axe 11</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour chaque jonction </font><font style="vertical-align: inherit;">. Veuillez noter que dans la somme des champs de chaque vecteur, prenez des valeurs de 0 à 1 et l'éditeur essaiera de corriger automatiquement les valeurs si vous mettez d'abord 1 dans un nouvel axe sans mettre à zéro le vecteur.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apparemment, je n'ai pas encore développé les vecteurs assez correctement, les assistants montrent que les parties gauche et droite regardent dans la même direction, mais ils ne donnent pas une compréhension claire de quel axe est où, ce qui rend le réglage difficile. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans tous les cas, cette mise en page fonctionne moins ou moins. Ici, je règle les vecteurs d'axe comme suit: Axe 00 ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), Axe 10 ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), Axe 11 ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/t3/ag/gx/t3aggx5tphzit6yeuvzgwdlvaz0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous démarrez une simulation physique maintenant, la conception devrait tomber sur des cylindres correctement tournés, qui tourneront ensuite le long de l'axe correct. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dix.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Masse et comportement des roues, itérations physiques. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Très probablement, la structure après être tombée au sol échoue maintenant partiellement. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout d'abord, entrons dans les paramètres généraux de la physique. Nous cliquons sur la ligne supérieure de l'éditeur. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &gt; </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Paramètres</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et dans l'onglet Paramètres qui s'ouvre, on retrouve la colonne </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Physique</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Runtime / World /). Nous en avons défini </font><font style="vertical-align: inherit;">au moins </font><b><font style="vertical-align: inherit;">5</font></b><font style="vertical-align: inherit;"> dans le champ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Itérations</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">
Encore une fois, nous entrons dans les paramètres de chaque joint. </font><font style="vertical-align: inherit;">
En haut de la liste, tout le monde a un champ </font><b><font style="vertical-align: inherit;">Itération</font></b><font style="vertical-align: inherit;"> , défini sur </font><b><font style="vertical-align: inherit;">8</font></b><font style="vertical-align: inherit;"> . </font><b><font style="vertical-align: inherit;">Restitution linéaire</font></b><font style="vertical-align: inherit;"> et </font><b><font style="vertical-align: inherit;">restitution </font></b><b><font style="vertical-align: inherit;">angulaire</font></b><font style="vertical-align: inherit;"> définies sur </font><b><font style="vertical-align: inherit;">0,1</font></b><font style="vertical-align: inherit;"> . </font><b><font style="vertical-align: inherit;">Linéaire de</font></b></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<img src="https://habrastorage.org/webt/hz/rz/3a/hzrz3a_ss_pg09irawvrwz5i5tg.jpeg"><br>
<br><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">changez </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-0.15</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linear To</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> à </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.15</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En bas, nous leur apposons une masse de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">25</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> kg dans le champ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Masse de roue</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque la simulation démarre, la «machine» physique doit encore échouer / échouer partiellement. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Réglez chaque </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">amortissement linéaire</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sur </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">50</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Et réglez </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linear Spring</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sur </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, pendant la simulation, la structure devrait tomber et rebondir légèrement sur le sol. Si cela ne fonctionne pas, essayez les valeurs Amortissement linéaire et Ressort linéaire.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La documentation recommande de régler l'amortissement 400 et le ressort 100, mais personnellement, en même temps, la «machine» commence à tourner comme un hélicoptère, rebondit et s'envole. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Le réglage final du cadre. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Enregistrez et essayez de cliquer sur </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lecture</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (le bouton ci-dessus, à côté de l'inclusion de la simulation physique) pour parcourir la scène à la première personne. Très probablement, la «machine» pendait un peu en l'air, mais roule si elle est poussée dans le cube central. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gc/rm/ph/gcrmph0gmkv8unsmjjihna9glio.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez maintenant ajuster l' </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ancre 0</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> aux points de sorte qu'ils soient approximativement équidistants du centre (bien que cela ne soit pas nécessaire). Ensuite, démarrez la simulation et changez le </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ressort linéaire</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> juste pendant celui-ci </font><font style="vertical-align: inherit;">pour trouver la valeur optimale à laquelle chaque roue touche normalement le sol.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Après toutes ces manipulations, vous devriez obtenir une «machine» tombant correctement au sol, qui roule légèrement lorsque vous poussez en mode jeu, où par défaut vous exécutez sur un contrôleur séparé avec une vue à la première personne.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gz/tx/mp/gztxmpwohsuj6xw3pcwosvommj4.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Écrire un script de contrôle</font></font></h3><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons un blanc de la "machine à écrire", maintenant nous allons écrire un code de contrôle pour cela en C #. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour ce faire, cliquez avec le bouton droit dans la fenêtre sous la scène et sélectionnez </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Créer</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &gt; </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Créer un composant C #</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Entrez le nom du script dans la fenêtre qui apparaît. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/7m/wt/tc/7mwttcgrd3_7ugr6w-9frtohwqo.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/o3/ha/x_/o3hax_u0jcam5wcbhrqwk4uwpiq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Double-cliquez sur le fichier de script apparu et l'environnement de développement démarre. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/_i/ak/6t/_iak6tyajkyxwcwsharicq44s7o.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sélectionnez les lignes remplies de bleu dans l'image, supprimez-les et ajoutez à la place le code suivant auquel j'ai proposé de modifier le script proposé dans la documentation:</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Extrait de script</font></font></b>
                        <div class="spoiler_text"><pre><code class="cs hljs">	[<span class="hljs-meta">ShowInEditor</span>][Parameter(Tooltip = <span class="hljs-string">"Left Wheel"</span>)]
	<span class="hljs-keyword">private</span> Node targetWheelL = <span class="hljs-literal">null</span>;<font></font>
	[<span class="hljs-meta">ShowInEditor</span>][Parameter(Tooltip = <span class="hljs-string">"Right Wheel"</span>)]
	<span class="hljs-keyword">private</span> Node targetWheelR = <span class="hljs-literal">null</span>;<font></font>
<font></font>
	[<span class="hljs-meta">ShowInEditor</span>][Parameter(Tooltip = <span class="hljs-string">"Left Wheel F"</span>)]
	<span class="hljs-keyword">private</span> Node targetFWL = <span class="hljs-literal">null</span>;<font></font>
	[<span class="hljs-meta">ShowInEditor</span>][Parameter(Tooltip = <span class="hljs-string">"Right Wheel F"</span>)]
	<span class="hljs-keyword">private</span> Node targetFWR = <span class="hljs-literal">null</span>;<font></font>
<font></font>
	[<span class="hljs-meta">ShowInEditor</span>][Parameter(Tooltip = <span class="hljs-string">"theCar"</span>)]
	<span class="hljs-keyword">private</span> Node targetCar = <span class="hljs-literal">null</span>;<font></font>
<font></font>
    <span class="hljs-keyword">private</span> JointWheel my_jointL;
    <span class="hljs-keyword">private</span> JointWheel my_jointR;
    <span class="hljs-keyword">private</span> JointWheel my_jointFL;
    <span class="hljs-keyword">private</span> JointWheel my_jointFR;<font></font>
<font></font>
	Controls controls = <span class="hljs-literal">null</span>;
	<span class="hljs-keyword">float</span> angle = <span class="hljs-number">0.0f</span>;
	<span class="hljs-keyword">float</span> velocity = <span class="hljs-number">0.0f</span>;
	<span class="hljs-keyword">float</span> torque = <span class="hljs-number">0.0f</span>;<font></font>
<font></font>
	<span class="hljs-keyword">private</span> <span class="hljs-keyword">float</span> ifps;<font></font>
<font></font>
	<span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Init</span>(<span class="hljs-params"></span>)</span><font></font>
	{<font></font>
	my_jointL = targetWheelL.ObjectBodyRigid.GetJoint(<span class="hljs-number">0</span>) <span class="hljs-keyword">as</span> JointWheel;<font></font>
	my_jointR = targetWheelR.ObjectBodyRigid.GetJoint(<span class="hljs-number">0</span>) <span class="hljs-keyword">as</span> JointWheel;<font></font>
	my_jointFL = targetFWL.ObjectBodyRigid.GetJoint(<span class="hljs-number">0</span>) <span class="hljs-keyword">as</span> JointWheel;<font></font>
	my_jointFR = targetFWR.ObjectBodyRigid.GetJoint(<span class="hljs-number">0</span>) <span class="hljs-keyword">as</span> JointWheel;<font></font>
<font></font>
	PlayerPersecutor player = <span class="hljs-keyword">new</span> PlayerPersecutor();<font></font>
	controls = player.Controls;<font></font>
	}<font></font>
	<font></font>
	<span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Update</span>(<span class="hljs-params"></span>)</span><font></font>
	{<font></font>
			ifps = Game.IFps;<font></font>
<font></font>
			<span class="hljs-keyword">if</span> ((controls.GetState(Controls.STATE_FORWARD) == <span class="hljs-number">1</span>) || (controls.GetState(Controls.STATE_TURN_UP) == <span class="hljs-number">1</span>))<font></font>
			{<font></font>
				velocity = MathLib.Max(velocity, <span class="hljs-number">0.0f</span>);<font></font>
				velocity += ifps * <span class="hljs-number">50.0f</span>;<font></font>
				torque = <span class="hljs-number">5.0f</span>;<font></font>
			}<font></font>
			<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((controls.GetState(Controls.STATE_BACKWARD) == <span class="hljs-number">1</span>) || (controls.GetState(Controls.STATE_TURN_DOWN) == <span class="hljs-number">1</span>))<font></font>
			{<font></font>
				velocity = MathLib.Min(velocity, <span class="hljs-number">0.0f</span>);<font></font>
				velocity -= ifps * <span class="hljs-number">50.0f</span>;<font></font>
				torque = <span class="hljs-number">5.0f</span>;<font></font>
			}<font></font>
			<span class="hljs-keyword">else</span><font></font>
			{<font></font>
				velocity *= MathLib.Exp(-ifps);<font></font>
			}<font></font>
			velocity = MathLib.Clamp(velocity, <span class="hljs-number">-90.0f</span>, <span class="hljs-number">90.0f</span>);<font></font>
<font></font>
			<span class="hljs-keyword">if</span> ((controls.GetState(Controls.STATE_MOVE_LEFT) == <span class="hljs-number">1</span>) || (controls.GetState(Controls.STATE_TURN_LEFT) == <span class="hljs-number">1</span>))<font></font>
				angle += ifps * <span class="hljs-number">100.0f</span>;
			<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((controls.GetState(Controls.STATE_MOVE_RIGHT) == <span class="hljs-number">1</span>) || (controls.GetState(Controls.STATE_TURN_RIGHT) == <span class="hljs-number">1</span>))<font></font>
				angle -= ifps * <span class="hljs-number">100.0f</span>;
			<span class="hljs-keyword">else</span><font></font>
			{<font></font>
				<span class="hljs-keyword">if</span> (MathLib.Abs(angle) &lt; <span class="hljs-number">0.25f</span>) angle = <span class="hljs-number">0.0f</span>;
				<span class="hljs-keyword">else</span> angle -= MathLib.Sign(angle) * ifps * <span class="hljs-number">45.0f</span>;<font></font>
			}<font></font>
	<font></font>
			angle = MathLib.Clamp(angle, <span class="hljs-number">-10.0f</span>, <span class="hljs-number">10.0f</span>);<font></font>
<font></font>
			<span class="hljs-keyword">float</span> base_a = <span class="hljs-number">3.3f</span>;
			<span class="hljs-keyword">float</span> width = <span class="hljs-number">3.0f</span>;
			<span class="hljs-keyword">float</span> angle_0 = angle;
			<span class="hljs-keyword">float</span> angle_1 = angle;
			<span class="hljs-keyword">if</span> (MathLib.Abs(angle) &gt; MathLib.EPSILON)<font></font>
			{<font></font>
				<span class="hljs-keyword">float</span> radius = base_a / MathLib.Tan(angle * MathLib.DEG2RAD);<font></font>
				angle_0 = MathLib.Atan(base_a / (radius + width / <span class="hljs-number">2.0f</span>)) * MathLib.RAD2DEG;<font></font>
				angle_1 = MathLib.Atan(base_a / (radius - width / <span class="hljs-number">2.0f</span>)) * MathLib.RAD2DEG;<font></font>
			}<font></font>
<font></font>
			my_jointFL.Axis10 = MathLib.RotateZ(angle_0).GetColumn3(<span class="hljs-number">0</span>);<font></font>
			my_jointFR.Axis10 = MathLib.RotateZ(angle_1).GetColumn3(<span class="hljs-number">0</span>);<font></font>
<font></font>
			<span class="hljs-keyword">if</span> (controls.GetState(Controls.STATE_USE) == <span class="hljs-number">1</span>)<font></font>
			{<font></font>
				velocity = <span class="hljs-number">0.0f</span>;<font></font>
					my_jointL.AngularDamping = <span class="hljs-number">20000.0f</span>;<font></font>
					my_jointR.AngularDamping = <span class="hljs-number">20000.0f</span>;<font></font>
					my_jointFL.AngularDamping = <span class="hljs-number">20000.0f</span>;<font></font>
					my_jointFR.AngularDamping = <span class="hljs-number">20000.0f</span>;<font></font>
			}<font></font>
			<span class="hljs-keyword">else</span><font></font>
			{<font></font>
					my_jointL.AngularDamping = <span class="hljs-number">0.0f</span>;<font></font>
					my_jointR.AngularDamping = <span class="hljs-number">0.0f</span>;<font></font>
					my_jointFL.AngularDamping = <span class="hljs-number">0.0f</span>;<font></font>
					my_jointFR.AngularDamping = <span class="hljs-number">0.0f</span>;<font></font>
			}<font></font>
<font></font>
			<span class="hljs-keyword">if</span> (Input.IsKeyDown(Input.KEY.Q))<font></font>
			{<font></font>
				targetCar.ObjectBodyRigid.AddLinearImpulse(vec3.UP*<span class="hljs-number">1000f</span>);<font></font>
			}<font></font>
			<span class="hljs-keyword">if</span> (Input.IsKeyDown(Input.KEY.E))<font></font>
			{<font></font>
				targetCar.ObjectBodyRigid.AddLinearImpulse(vec3.DOWN*<span class="hljs-number">1000f</span>);<font></font>
			}<font></font>
<font></font>
	}<font></font>
<font></font>
		<span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">UpdatePhysics</span>(<span class="hljs-params"></span>)</span><font></font>
		{<font></font>
			my_jointL.AngularVelocity = velocity;<font></font>
			my_jointR.AngularVelocity = velocity;<font></font>
			<font></font>
			my_jointL.AngularTorque = torque;<font></font>
			my_jointR.AngularTorque = torque;<font></font>
		}<font></font>
</code></pre><br>
</div>
                    </div><br>
<br>
<i>      :</i><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title">   TheVehicle.cs</b>
                        <div class="spoiler_text"><pre><code class="cs hljs"><span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.Collections;
<span class="hljs-keyword">using</span> System.Collections.Generic;
<span class="hljs-keyword">using</span> Unigine;<font></font>
<font></font>
[<span class="hljs-meta">Component(PropertyGuid = <span class="hljs-meta-string">"ca695c8787d5703a22a6c2516a3c177cddf38cab"</span>)</span>]
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">TheVehicle</span> : <span class="hljs-title">Component</span><font></font>
{<font></font>
</code></pre><br>
,    ,       .     ,      .<br>
<br>
<pre><code class="cs hljs">[<span class="hljs-meta">ShowInEditor</span>][Parameter(Tooltip = <span class="hljs-string">"Left Wheel"</span>)]
<span class="hljs-keyword">private</span> Node targetWheelL = <span class="hljs-literal">null</span>;<font></font>
[<span class="hljs-meta">ShowInEditor</span>][Parameter(Tooltip = <span class="hljs-string">"Right Wheel"</span>)]
<span class="hljs-keyword">private</span> Node targetWheelR = <span class="hljs-literal">null</span>;<font></font>
<font></font>
[<span class="hljs-meta">ShowInEditor</span>][Parameter(Tooltip = <span class="hljs-string">"Left Wheel F"</span>)]
<span class="hljs-keyword">private</span> Node targetFWL = <span class="hljs-literal">null</span>;<font></font>
[<span class="hljs-meta">ShowInEditor</span>][Parameter(Tooltip = <span class="hljs-string">"Right Wheel F"</span>)]
<span class="hljs-keyword">private</span> Node targetFWR = <span class="hljs-literal">null</span>;<font></font>
<font></font>
[<span class="hljs-meta">ShowInEditor</span>][Parameter(Tooltip = <span class="hljs-string">"theCar"</span>)]
<span class="hljs-keyword">private</span> Node targetCar = <span class="hljs-literal">null</span>;
</code></pre><br>
       .          tooltip     ,    .<br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">private</span> JointWheel my_jointL;
<span class="hljs-keyword">private</span> JointWheel my_jointR;
<span class="hljs-keyword">private</span> JointWheel my_jointFL;
<span class="hljs-keyword">private</span> JointWheel my_jointFR;
</code></pre><br>
   . <br>
<br>
<pre><code class="cs hljs">Controls controls = <span class="hljs-literal">null</span>;<font></font>
<font></font>
<span class="hljs-keyword">float</span> angle = <span class="hljs-number">0.0f</span>;
<span class="hljs-keyword">float</span> velocity = <span class="hljs-number">0.0f</span>;
<span class="hljs-keyword">float</span> torque = <span class="hljs-number">0.0f</span>;<font></font>
<font></font>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">float</span> ifps;
</code></pre><br>
   .<br>
<br>
<pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Init</span>(<span class="hljs-params"></span>)</span><font></font>
{<font></font>
my_jointL = targetWheelL.ObjectBodyRigid.GetJoint(<span class="hljs-number">0</span>) <span class="hljs-keyword">as</span> JointWheel;<font></font>
my_jointR = targetWheelR.ObjectBodyRigid.GetJoint(<span class="hljs-number">0</span>) <span class="hljs-keyword">as</span> JointWheel;<font></font>
my_jointFL = targetFWL.ObjectBodyRigid.GetJoint(<span class="hljs-number">0</span>) <span class="hljs-keyword">as</span> JointWheel;<font></font>
my_jointFR = targetFWR.ObjectBodyRigid.GetJoint(<span class="hljs-number">0</span>) <span class="hljs-keyword">as</span> JointWheel;
</code></pre><br>
   ,               JointWheel.<br>
        , ,    (    ).<br>
<br>
<pre><code class="cs hljs">			
<span class="hljs-comment">// setting up player and controls</span>
PlayerPersecutor player = <span class="hljs-keyword">new</span> PlayerPersecutor();<font></font>
controls = player.Controls;<font></font>
}<font></font>
</code></pre><br>
    ,  PlayerPresecutor,     Controls       player  .<br>
<br>
<pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Update</span>(<span class="hljs-params"></span>)</span><font></font>
{<font></font>
ifps = Game.IFps;<font></font>
<font></font>
<span class="hljs-comment">// forward and backward movement by setting joint motor's velocity and torque</span>
			<span class="hljs-keyword">if</span> ((controls.GetState(Controls.STATE_FORWARD) == <span class="hljs-number">1</span>) || (controls.GetState(Controls.STATE_TURN_UP) == <span class="hljs-number">1</span>))<font></font>
			{<font></font>
				velocity = MathLib.Max(velocity, <span class="hljs-number">0.0f</span>);<font></font>
				velocity += ifps * <span class="hljs-number">50.0f</span>;<font></font>
				torque = <span class="hljs-number">5.0f</span>;<font></font>
			}<span class="hljs-comment">//Input.IsKeyDown(Input.KEY.DOWN)</span>
			<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((controls.GetState(Controls.STATE_BACKWARD) == <span class="hljs-number">1</span>) || (controls.GetState(Controls.STATE_TURN_DOWN) == <span class="hljs-number">1</span>))<font></font>
			{<font></font>
				velocity = MathLib.Min(velocity, <span class="hljs-number">0.0f</span>);<font></font>
				velocity -= ifps * <span class="hljs-number">50.0f</span>;<font></font>
				torque = <span class="hljs-number">5.0f</span>;<font></font>
			}<font></font>
			<span class="hljs-keyword">else</span><font></font>
			{<font></font>
				velocity *= MathLib.Exp(-ifps);<font></font>
			}<font></font>
			velocity = MathLib.Clamp(velocity, <span class="hljs-number">-90.0f</span>, <span class="hljs-number">90.0f</span>);<font></font>
<font></font>
			<span class="hljs-comment">// steering left and right by changing Axis01 for front wheel joints</span>
			<span class="hljs-keyword">if</span> ((controls.GetState(Controls.STATE_MOVE_LEFT) == <span class="hljs-number">1</span>) || (controls.GetState(Controls.STATE_TURN_LEFT) == <span class="hljs-number">1</span>))<font></font>
				angle += ifps * <span class="hljs-number">100.0f</span>;
			<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((controls.GetState(Controls.STATE_MOVE_RIGHT) == <span class="hljs-number">1</span>) || (controls.GetState(Controls.STATE_TURN_RIGHT) == <span class="hljs-number">1</span>))<font></font>
				angle -= ifps * <span class="hljs-number">100.0f</span>;
			<span class="hljs-keyword">else</span><font></font>
			{<font></font>
				<span class="hljs-keyword">if</span> (MathLib.Abs(angle) &lt; <span class="hljs-number">0.25f</span>) angle = <span class="hljs-number">0.0f</span>;
				<span class="hljs-keyword">else</span> angle -= MathLib.Sign(angle) * ifps * <span class="hljs-number">45.0f</span>;<font></font>
			}<font></font>
<font></font>
			angle = MathLib.Clamp(angle, <span class="hljs-number">-10.0f</span>, <span class="hljs-number">10.0f</span>);<span class="hljs-comment">//      30  (angle, -30.0f, 30.0f)</span><font></font>
<font></font>
			<span class="hljs-comment">// calculating steering angles for front joints (angle_0 and angle_1)</span>
			<span class="hljs-keyword">float</span> base_a = <span class="hljs-number">3.3f</span>;
			<span class="hljs-keyword">float</span> width = <span class="hljs-number">3.0f</span>;
			<span class="hljs-keyword">float</span> angle_0 = angle;
			<span class="hljs-keyword">float</span> angle_1 = angle;
			<span class="hljs-keyword">if</span> (MathLib.Abs(angle) &gt; MathLib.EPSILON)<font></font>
			{<font></font>
				<span class="hljs-keyword">float</span> radius = base_a / MathLib.Tan(angle * MathLib.DEG2RAD);<font></font>
				angle_0 = MathLib.Atan(base_a / (radius + width / <span class="hljs-number">2.0f</span>)) * MathLib.RAD2DEG;<font></font>
				angle_1 = MathLib.Atan(base_a / (radius - width / <span class="hljs-number">2.0f</span>)) * MathLib.RAD2DEG;<font></font>
			}<font></font>
</code></pre><br>
  Update,           ,     .<br>
<br>
<pre><code class="cs hljs">my_jointFL.Axis10 = MathLib.RotateZ(angle_0).GetColumn3(<span class="hljs-number">0</span>);<font></font>
my_jointFR.Axis10 = MathLib.RotateZ(angle_1).GetColumn3(<span class="hljs-number">0</span>);<font></font>
<font></font>
<span class="hljs-comment">// enabling or disabling a brake</span>
<span class="hljs-keyword">if</span> (controls.GetState(Controls.STATE_USE) == <span class="hljs-number">1</span>)<font></font>
{<font></font>
velocity = <span class="hljs-number">0.0f</span>;<font></font>
my_jointL.AngularDamping = <span class="hljs-number">20000.0f</span>;<font></font>
my_jointR.AngularDamping = <span class="hljs-number">20000.0f</span>;<font></font>
my_jointFL.AngularDamping = <span class="hljs-number">20000.0f</span>;<font></font>
my_jointFR.AngularDamping = <span class="hljs-number">20000.0f</span>;<font></font>
}<font></font>
<span class="hljs-keyword">else</span><font></font>
{<font></font>
my_jointL.AngularDamping = <span class="hljs-number">0.0f</span>;<font></font>
my_jointR.AngularDamping = <span class="hljs-number">0.0f</span>;<font></font>
my_jointFL.AngularDamping = <span class="hljs-number">0.0f</span>;<font></font>
my_jointFR.AngularDamping = <span class="hljs-number">0.0f</span>;<font></font>
}<font></font>
</code></pre><br>
      ,  ,    .        ,     4 .     ,              ,         10 .<br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">if</span> (Input.IsKeyDown(Input.KEY.Q))<font></font>
{<font></font>
targetCar.ObjectBodyRigid.AddLinearImpulse(vec3.UP*<span class="hljs-number">1000f</span>);<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">if</span> (Input.IsKeyDown(Input.KEY.E))<font></font>
{<font></font>
targetCar.ObjectBodyRigid.AddLinearImpulse(vec3.DOWN*<span class="hljs-number">1000f</span>);<font></font>
}<font></font>
<font></font>
}<font></font>
</code></pre><br>
  Update   ,     .         ,            —    «this.»    .<br>
<br>
<pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">UpdatePhysics</span>(<span class="hljs-params"></span>)</span><font></font>
{<font></font>
<span class="hljs-comment">// set angular velocity for rear joints</span><font></font>
my_jointL.AngularVelocity = velocity;<font></font>
my_jointR.AngularVelocity = velocity;<font></font>
<font></font>
<span class="hljs-comment">// set torque for rear joints</span><font></font>
my_jointL.AngularTorque = torque;<font></font>
my_jointR.AngularTorque = torque;<font></font>
<font></font>
}<font></font>
<font></font>
}<font></font>
</code></pre><br>
  Update Physics  ,     velocity  torque.<br>
</div>
                    </div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Après cela, enregistrez le fichier de script et revenez à la fenêtre de l'éditeur. Unigine vérifiera le programme pour les erreurs, et si tout va bien, alors un rectangle vert devrait apparaître en bas à droite avec la notification Projet réussi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, sélectionnez Cuboid, ajoutez-y le champ du composant et faites-y glisser notre script. Quelques champs apparaissent qui doivent être remplis. Dans le champ Target Wheel L, faites glisser doucement la roue arrière gauche (c'est-à-dire le cylindre qui la désigne), Target Whell R - la roue arrière droite, Target FWL - l'avant gauche, Target FWR - l'avant droite et Cuboid lui-même dans le champ Target Car. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/3f/pw/hw/3fpwhwurb0yggyc7bob0_uvmjom.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour ajouter un composant, nous trouvons ce champ dans les propriétés Cuboid et cliquez dessus. Une </font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/08/9q/kt/089qktyx8mxlma6h0p-lm4ecf4s.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ligne vide apparaîtra où vous pourrez faire glisser le fichier de script (ou trouver le chemin d'accès via l'icône du dossier)</font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/r8/tt/pj/r8ttpj5o5c76lgobt8l5qkq4cys.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remplissez les champs</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Run Play - maintenant la machine a commencé à bouger. C'est vrai, simultanément avec le personnage au nom duquel vous regardez maintenant le monde. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Son contrôle est le suivant: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">W</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - roule en avant, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - en arrière, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - tournez les roues avant respectivement à gauche et à droite. Une </font><font style="vertical-align: inherit;">impulsion est donnée à </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Q</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , la machine saute pour ainsi dire. Sur </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , au contraire, l'impulsion descend.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous remarquerez peut-être que la machine tombe légèrement lentement, comme sur la lune. Pour améliorer ce moment, il existe deux options. La documentation a suggéré d'apporter des modifications au fichier AppWorldLogic.cs. Mais nous n'en avons pas besoin, car j'ai effectué l'initialisation dans le script de machine à écrire. Sauf quelques lignes qui régissent la physique mondiale. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le fait est que vous pouvez entrer indépendamment ces paramètres et les modifier. Pour ce faire, cliquez sur la ligne supérieure de l'éditeur. Windows&gt; Paramètres, dans la fenêtre qui s'ouvre, recherchez la colonne Physique et définissez la valeur de Frozen Linear Velocity sur 0,1, pour Frozen Angular Velocity également 0,1, et modifiez le vecteur de gravité le plus bas de (0,0, -9,8) à (0,0, - 19.6). </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La même chose peut être effectuée dans le code en ajoutant les lignes suivantes à Init:</font></font><br>
<br>
<pre><code class="cs hljs">Physics.Gravity = <span class="hljs-keyword">new</span> vec3(<span class="hljs-number">0.0f</span>, <span class="hljs-number">0.0f</span>, <span class="hljs-number">-9.8f</span> * <span class="hljs-number">2.0f</span>);<font></font>
Physics.FrozenLinearVelocity = <span class="hljs-number">0.1f</span>;<font></font>
Physics.FrozenAngularVelocity = <span class="hljs-number">0.1f</span>;
</code></pre></i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous démarrez Play maintenant, la «machine» se détériorera probablement à nouveau et commencera à échouer. Pour résoudre ce problème, essayez de faire tourner un ressort linéaire sur chaque roue. Relancez deux fois pour commencer. Lorsque vous configurez, vous remarquerez que la gravité pendant les sauts est plus forte (bien que je définisse l'élan de saut sur assez élevé par défaut). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant que vous avez déjà été mouillé lors de la configuration de ce chariot de mauvaise humeur, il est temps de laisser tomber les chaînes de firts_person_controller et de regarder ce qui se passe du côté de la machine elle-même, avec une caméra à la troisième personne. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Téléchargé désactivez first_person_controller (cliquez sur la case à côté de son nom pour qu'il devienne vide).</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Créez une caméra. </font><font style="vertical-align: inherit;">Pour ce faire, cliquez avec le bouton droit sur la scène et sélectionnez Créer&gt; Caméra&gt; Presecutor. </font><font style="vertical-align: inherit;">La caméra PlayerPresecutor elle-même et sa cible factice Presecutor_Target apparaîtront. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le mannequin peut être désactivé. </font><font style="vertical-align: inherit;">Nous cliquons sur la caméra elle-même, assurez-vous de cocher la case du lecteur principal dans ses propriétés (afin de ne pas obtenir d'écran noir au démarrage). </font><font style="vertical-align: inherit;">Dans le champ Target Node, nous trouvons notre Cuboid dans la liste déroulante. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Enregistrez et cliquez sur Lecture. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez maintenant rouler à fond. </font><font style="vertical-align: inherit;">Certes, l'appareil photo peut voler assez loin. </font><font style="vertical-align: inherit;">Pour résoudre ce problème, vous devez ajuster ses limites. </font><font style="vertical-align: inherit;">Nous revenons à l'éditeur et définissons les propriétés de la caméra, par exemple, Min Distance 10 et Max Distance 30.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Neungers dans le moteur Unigine</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ayant appris à collecter la physique des roues approximative, j'ai fait une scène de test avec un modèle de bio-mechos de mon projet Nevanger. </font><font style="vertical-align: inherit;">Voici à quoi cela ressemble en ce moment:</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/2LRuL-i9MF8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Captures d'écran</font></font></b>
                        <div class="spoiler_text"><img src="https://habrastorage.org/webt/0u/-i/hp/0u-ihp26nyuwqnqhxxmd2pkicdu.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/bu/z4/oa/buz4oajcy-reimur3him3_wn-ya.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/5a/wy/dp/5awydpmdbzfbmjisfxveew-g2nw.jpeg"><br>
</div>
                    </div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les principaux problèmes à l'heure actuelle sont une certaine instabilité de la conception. Ce qui est encore une fois dû au fait que je n'ai pas encore bien compris tous les aspects et nuances des réglages. Parfois, la machine trébuche sur quelque chose et commence à tourner violemment. La réduction de l'amortissement linéaire ne semble pas beaucoup aider, en tordant également les autres paramètres, même si je n'ai pas encore tordu ou modifié quelque chose, mais ce n'est pas complet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un autre bug - il y a des situations où le sol est totalement coincé, lorsque les roues avant se lèvent et l'arrière sous le paysage. Ou vous frayez-vous un chemin à travers le paysage lui-même à grande vitesse, puis vous envolez sous lui. Tout cela, apparemment, est corrigé en fixant des tolérances et des itérations, mais jusqu'à présent n'a pas trouvé les valeurs optimales.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En général, sur une surface assez plate, le mouvement est déjà plus adéquat. </font><font style="vertical-align: inherit;">Il n'est pas clair dans quelle mesure les joints de roue se comportent idéalement sur une surface inégale, comme je l'ai compris dans les démonstrations vidéo du moteur pour les voitures qu'ils utilisaient obsolètes (apparemment), mais plus physiquement "honnêtes" Joints de suspension (à propos, je n'ai pas essayé d'assembler une machine sur eux, peut-être , tout y est un peu plus facile). </font><font style="vertical-align: inherit;">Les joints de roue prennent-ils en compte les paramètres de frottement du paysage, ou souhaitent-ils uniquement activer le drapeau physique?</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Impressions générales du moteur</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quant à travailler avec l'éditeur, ce qui s'est passé m'a le plus rappelé le processus de travail avec CryEngine. Bien que dans certains endroits, cela soit plus pratique. Mais c'est comme quelqu'un, dans le même CryEngine, il était possible de modéliser directement dans l'éditeur. Ce n'est pas pertinent pour moi, car pour cela j'utilise Blender, où vous avez des ordres de grandeur plus de contrôle sur le modèle, et pour quelqu'un, cela peut être important. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans l'image ci-dessous, une liste de matériaux est visible à gauche. Les maillages sont peints à travers un groupe de matériaux à base de maillage, à partir duquel vous pouvez cloner vos options de matériaux. Peindre une terrane avec une texture est déjà plus difficile, mais les masques sont pleinement utilisés - vous pouvez mélanger des textures, des cartes de hauteur, etc., si vous comprenez l'appareil. Pour la même eau, il existe son propre groupe de matériaux, il est ajouté littéralement en un seul clic et a l'air plutôt bien.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
À droite, la hiérarchie des objets de scène et la fenêtre des propriétés. </font><font style="vertical-align: inherit;">Il est un peu gênant de manipuler des valeurs numériques à la volée - vous devez entrer dans l'icône avec de petites flèches. </font><font style="vertical-align: inherit;">Certains curseurs sont initialement trompeurs, car ils ne montrent pas toute la plage possible du paramètre, mais, disons, uniquement l'intervalle de 0 à 1. La vitesse de vol de la caméra est réglée sur le terrain avec un homme qui court dessus, par défaut, elle se déplace en quelque sorte lentement, à en juger par les sensations . </font><font style="vertical-align: inherit;">C'est peut-être plus pratique lorsque vous travaillez avec des modèles à une échelle réelle.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/s0/1o/v1/s01ov1bzrei4oabsjfjequkpzvo.jpeg"></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr502512/index.html">Résultats du concours des experts du canapé: les règles du piquant scientifique</a></li>
<li><a href="../fr502518/index.html">Comment grimper à un arbre</a></li>
<li><a href="../fr502520/index.html">Rapports vidéo des rapports Mitap sur l'analyse des produits</a></li>
<li><a href="../fr502554/index.html">Les technologies de l'information intermédiaires comme moyen de sortir de la crise</a></li>
<li><a href="../fr502556/index.html">Conférence Microsoft Build 2020 - entièrement en ligne aujourd'hui (regardez directement Habré)</a></li>
<li><a href="../fr502560/index.html">Dites simplement non aux tests end-2-end</a></li>
<li><a href="../hi486176/index.html">कॉर्पोरेट ईमेल पत्राचार मेमो</a></li>
<li><a href="../hi486178/index.html">FOSS News No. 1 - 27 जनवरी - 2 फरवरी, 2020 के लिए स्वतंत्र और मुक्त स्रोत समाचार की समीक्षा</a></li>
<li><a href="../hi486180/index.html">सर्वर रहित एप्लिकेशन बनाने के लिए सुझाव और स्रोत</a></li>
<li><a href="../hi486184/index.html">प्रभावी ढंग से खोज का उपयोग कैसे करें</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>