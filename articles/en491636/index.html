<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§≠ ü§Ωüèæ üàπ GRASP Templates: Information Expert üë∏ üëö ü§ì</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habrovsk. In touch Vladislav Rodin. I am currently teaching courses on software architecture and high load software architecture on the OTUS porta...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>GRASP Templates: Information Expert</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/491636/"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hi, Habrovsk. </font><font style="vertical-align: inherit;">In touch Vladislav Rodin. </font><font style="vertical-align: inherit;">I am currently teaching courses on software architecture and high load software architecture on the OTUS portal. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This time I decided to write a little copyright material in anticipation of the start of a new course </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúArchitecture and Design Patterns‚Äù</font></font></a></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Enjoy reading.</font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/jk/4x/ya/jk4xyap4sqz9vcsrfqf95me_zus.png"><br>
<hr><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Introduction</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Described in Craig Larman's book Applying UML and patterns, 3rd edition, GRASP patterns are a generalization of GoF patterns, as well as a direct consequence of OOP principles. </font><font style="vertical-align: inherit;">They complement the missing step in the logical ladder, which allows you to get GoF patterns from the principles of OOP. </font><font style="vertical-align: inherit;">GRASP templates are more likely not design patterns (like GoF's), but fundamental principles for the distribution of responsibility between classes. </font><font style="vertical-align: inherit;">Practice shows that they are not very popular, however, analysis of designed classes using the full set of GRASP patterns is a prerequisite for writing good code. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A complete list of GRASP templates consists of 9 elements:</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Information expert</font></font></b> </li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Creator </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Controller</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Low coupling</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">High cohesion</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Polymorphism </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pure fabrication</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Indirection</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Protected Variations</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I suggest considering the most obvious and most important pattern from the list: Information Expert.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Information expert</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wording</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avoiding scientific formulations, the essence of this pattern can be expressed as follows: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">information should be processed where it is contained.</font></font></b> <br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Violation example</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despite the apparent simplicity and obviousness, I am sure that in the code of any project you can find many violations of this principle. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Consider the simplest class system: Order (order), containing a list of OrderItem'ov (order lines), the elements of which in turn contain Good (product) and its quantity, and the product may contain, for example, price, name, etc.:</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-meta">@Getter</span>
<span class="hljs-meta">@AllArgsConstructor</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Order</span> </span>{
    <span class="hljs-keyword">private</span> List&lt;OrderItem&gt; orderItems;
    <span class="hljs-keyword">private</span> String destinationAddress;<font></font>
}<font></font>
<font></font>
<span class="hljs-meta">@Getter</span>
<span class="hljs-meta">@AllArgsConstructor</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">OrderItem</span> </span>{
    <span class="hljs-keyword">private</span> Good good;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> amount;<font></font>
}<font></font>
<font></font>
<span class="hljs-meta">@Getter</span>
<span class="hljs-meta">@AllArgsConstructor</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Good</span> </span>{
    <span class="hljs-keyword">private</span> String name;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> price;<font></font>
}<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We have a simple task: to calculate the amount of the order. </font><font style="vertical-align: inherit;">If you approach the solution to this problem not very thoughtfully, you can immediately write something like this in client code that works with objects of the Order class:</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Client</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doSmth</span><span class="hljs-params">()</span> </span>{<font></font>
        <font></font>
    }<font></font>
    <font></font>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getOrderPrice</span><span class="hljs-params">(Order order)</span> </span>{<font></font>
        List&lt;OrderItem&gt; orderItems = order.getOrderItems();<font></font>
        <font></font>
        <span class="hljs-keyword">int</span> result = <span class="hljs-number">0</span>;<font></font>
        <font></font>
        <span class="hljs-keyword">for</span> (OrderItem orderItem : orderItems) {
            <span class="hljs-keyword">int</span> amount = orderItem.getAmount();<font></font>
            <font></font>
            Good good = orderItem.getGood();<font></font>
            <span class="hljs-keyword">int</span> price = good.getPrice();<font></font>
            <font></font>
            result += price * amount;<font></font>
        }<font></font>
        <font></font>
        <span class="hljs-keyword">return</span> result;<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let's analyze this solution. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Firstly, if we start adding business logic related to pricing, the Client :: getOrderPrice method code will not only inevitably grow, but also become surrounded by all kinds of if-s (discount for pensioners, discount on holidays, discount due to wholesale purchases), which in the end will lead to the fact that this code will be impossible to read, much less change.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Secondly, if you build a UML diagram, you can find that there is a dependency of the Client class on as many as 3 classes: Order, OrderItem and Good. </font><font style="vertical-align: inherit;">It draws all the business logic for working with these classes. </font><font style="vertical-align: inherit;">This means that if we want to reuse OrderItem or Good separately from Order (for example, to calculate the price of goods left in warehouses), we simply can not do this, because the business logic lies in the client code, which will lead to inevitable duplication of code. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In this example, like almost everywhere where there is a chain of get'ov, the principle of Information Expert is violated, because the client code processes the information and contains its Order.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Application example</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let's try to redistribute responsibilities according to the principle:</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-meta">@Getter</span>
<span class="hljs-meta">@AllArgsConstructor</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Order</span> </span>{
    <span class="hljs-keyword">private</span> List&lt;OrderItem&gt; orderItems;
    <span class="hljs-keyword">private</span> String destinationAddress;<font></font>
    <font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getPrice</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">int</span> result = <span class="hljs-number">0</span>;<font></font>
        <font></font>
        <span class="hljs-keyword">for</span>(OrderItem orderItem : orderItems) {<font></font>
            result += orderItem.getPrice();<font></font>
        }<font></font>
        <font></font>
        <span class="hljs-keyword">return</span> result;<font></font>
    }<font></font>
}<font></font>
<font></font>
<span class="hljs-meta">@Getter</span>
<span class="hljs-meta">@AllArgsConstructor</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">OrderItem</span> </span>{
    <span class="hljs-keyword">private</span> Good good;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> amount;<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getPrice</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> amount * good.getPrice();<font></font>
    }<font></font>
}<font></font>
<font></font>
<span class="hljs-meta">@Getter</span>
<span class="hljs-meta">@AllArgsConstructor</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Good</span> </span>{
    <span class="hljs-keyword">private</span> String name;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> price;<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Client</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doSmth</span><span class="hljs-params">()</span> </span>{<font></font>
        Order order = <span class="hljs-keyword">new</span> Order(<span class="hljs-keyword">new</span> ArrayList&lt;&gt;(), <span class="hljs-string">""</span>);<font></font>
        order.getPrice();<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now the information is processed in the class containing it, the client code depends only on Order, not suspecting anything about its internal structure, and the classes Order, OrderItem and Good, or OrderItem and Good can be assembled into a separate library that can be used in different parts of the project.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Information Expert, resulting from encapsulation, is one of the most fundamental principles of GRASP responsibility sharing. </font><font style="vertical-align: inherit;">Its violation can be easily determined and eliminated by increasing the simplicity of perception of the code (the principle of least surprise), adding the possibility of reuse and reducing the number of connections between classes. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We invite you to a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">free webinar</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> within the framework of which it will be possible to study the features of a monolithic application, multi-level and serverless architectures. </font><font style="vertical-align: inherit;">Take a closer look at the event-driven system, the service-oriented system, and the microservice architecture.</font></font></b></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en491624/index.html">Creating an Outline Effect in Unity Universal Render Pipeline</a></li>
<li><a href="../en491628/index.html">Spelunky as an example of good game design</a></li>
<li><a href="../en491630/index.html">Firefox Browser Extensions App (WebExtensions)</a></li>
<li><a href="../en491632/index.html">Digital Immortality - Synchronous Internet</a></li>
<li><a href="../en491634/index.html">Protecting and Hacking the Xbox 360 (Part 1)</a></li>
<li><a href="../en491638/index.html">Cloud 1C. Everything is cloudless</a></li>
<li><a href="../en491640/index.html">Will Big Data Keep Their Promises?</a></li>
<li><a href="../en491642/index.html">How we make videos at Alconost and how the client participates in this</a></li>
<li><a href="../en491644/index.html">Choose a plugin for two-factor authentication in Wordpress</a></li>
<li><a href="../en491648/index.html">Moscow travel hack through the eyes of the participants</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>