<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎃 ♨️ 🙏🏾 Inkrementelle Sicherung von Proxmox VE mit VBR 🍏 📮 🌀</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In einem der vorherigen Artikel in der Proxmox VE-Hypervisor-Reihe haben wir bereits darüber gesprochen, wie mit regulären Tools gesichert werden kann...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Inkrementelle Sicherung von Proxmox VE mit VBR</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/selectel/blog/504562/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/6u/nl/ol/6unlolfmjashv0lotsjhjbgc1gg.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In einem der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vorherigen Artikel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in der Proxmox VE-Hypervisor-Reihe haben wir bereits darüber gesprochen, wie mit regulären Tools gesichert werden kann. </font><font style="vertical-align: inherit;">Heute zeigen wir, wie Sie das hervorragende Veeam® Backup &amp; Replication ™ 10-Tool für denselben Zweck verwenden können: </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">„Backups haben eine explizite Quantenessenz. </font><font style="vertical-align: inherit;">Bis Sie versucht haben, das Backup wiederherzustellen, wird es überlagert. </font><font style="vertical-align: inherit;">Er ist sowohl erfolgreich als auch nicht. “ </font><font style="vertical-align: inherit;">(im Internet gefunden)</font></font></i><br>
<a name="habracut"></a><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Haftungsausschluss:</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Nein, ich sage nicht, dass dies der perfekte Weg zum Sichern ist. Nein, es kann nicht für die Produktion empfohlen werden. Nein, ich garantiere nicht die perfekte Integrität der erstellten Backups. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
All dies funktioniert jedoch und ist für viele Benutzer und unerfahrene Systemadministratoren gut geeignet, die die ersten Schritte bei der Untersuchung von Virtualisierungs- und Sicherungssystemen unternehmen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Backup ist vielleicht einer der wichtigsten Prozesse, von denen die Arbeit eines Unternehmens abhängt. Es gibt nichts teureres als Daten, die in Unternehmensinformationssystemen gespeichert sind, und nichts ist schlimmer als die mangelnde Fähigkeit, sie im Falle eines Ausfalls wiederherzustellen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es kommt häufig vor, dass Sie erst nach einem bereits eingetretenen Notfall, der mit dem Verlust kritischer Daten verbunden ist, über die Notwendigkeit einer Sicherung und Auswahl eines Tools nachdenken müssen. </font><font style="vertical-align: inherit;">Mit der Entwicklung der Virtualisierungstechnologien konzentrierten sich Backup-Anwendungen auf die enge Interaktion mit Hypervisoren. </font><font style="vertical-align: inherit;">Veeam® Backup &amp; Replication ™ ist keine Ausnahme, mit umfangreichen Sicherungsoptionen in virtualisierten Umgebungen. </font><font style="vertical-align: inherit;">Heute zeigen wir Ihnen, wie Sie es für die Verwendung mit Proxmox VE konfigurieren.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hypervisor-Setup</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir werden die aktuelle Version von Proxmox zum Zeitpunkt des Schreibens verwenden - 6.2-1. </font><font style="vertical-align: inherit;">Diese Version wurde am 12. Mai 2020 veröffentlicht und enthält viele nützliche Änderungen, die wir in einem der folgenden Artikel diskutieren werden. </font><font style="vertical-align: inherit;">Beginnen wir zunächst mit der Vorbereitung des Hypervisors. </font><font style="vertical-align: inherit;">Die Hauptaufgabe besteht darin, Veeam® Agent für Linux mit Proxmox auf einem redundanten Host zu installieren. </font><font style="vertical-align: inherit;">Aber vorher machen wir ein paar Schritte.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Systemvorbereitung</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir </font><font style="vertical-align: inherit;">installieren das </font><font style="vertical-align: inherit;">Dienstprogramm </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudo</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , das im System fehlt, wenn Proxmox nicht auf einem vorhandenen Linux-System installiert wurde, sondern als eigenständiges Betriebssystem von einem </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">offiziellen Image</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Wir werden auch die pve-Header des Kernels benötigen. </font><font style="vertical-align: inherit;">Wir gehen über SSH zum Server und fügen ein Repository hinzu, das ohne Support-Abonnement funktioniert (offiziell wird es nicht für die Produktion empfohlen, enthält aber die benötigten Pakete):</font></font><br>
<br>
<pre><code class="plaintext hljs">echo "deb http://download.proxmox.com/debian/pve buster pve-no-subscription" &gt;&gt; /etc/apt/sources.list</code></pre><br>
<pre><code class="plaintext hljs">apt update</code></pre><br>
<pre><code class="plaintext hljs">apt install sudo pve-headers</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Starten Sie nach diesem Vorgang den Server neu.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Installieren Sie Veeam® Agent</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Laden Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">das</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Veeam® Agent für Linux- </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">Deb-Paket</font></a><font style="vertical-align: inherit;"> von der offiziellen Website herunter (ein Konto ist erforderlich), aktivieren Sie sich mit einem SFTP-Client und laden Sie das empfangene Deb-Paket auf den Server hoch. </font><font style="vertical-align: inherit;">Installieren Sie das Paket und aktualisieren Sie die Liste der Programme in den Repositorys, die dieses Paket hinzufügt:</font></font><br>
<br>
<pre><code class="plaintext hljs">dpkg -i veeam-release-deb_1.x.x_amd64.deb</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aktualisieren Sie die Repositorys erneut:</font></font><br>
<br>
<pre><code class="plaintext hljs">apt update</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Installieren Sie den Agenten selbst:</font></font><br>
<br>
<pre><code class="plaintext hljs">apt install veeam</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir überprüfen, ob alles korrekt installiert wurde:</font></font><br>
<br>
<pre><code class="plaintext hljs">dkms status</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Antwort wäre ungefähr so:</font></font><br>
<br>
<pre><code class="plaintext hljs">veeamsnap, 4.0.0.1961, 5.4.41-1-pve, x86_64: installed</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Konfigurieren von Veeam® Backup &amp; Replication ™</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hinzufügen eines Repositorys</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Natürlich können Sie Backups auch direkt auf dem Server speichern, wenn Veeam® Backup &amp; Replication ™ bereitgestellt ist. Es ist jedoch bequemer, externen Speicher zu verwenden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gehen Sie zum Abschnitt </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BACKUP INFRASTRUCTURE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/n0/do/z9/n0doz9jyudpcf-hayqu6njcstng.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wählen Sie das Element Backup-Repositorys aus, klicken Sie auf die Schaltfläche </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Repository</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> hinzufügen </font><font style="vertical-align: inherit;">und wählen Sie im angezeigten Fenster die Option </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Netzwerkspeicher an</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ds/le/ew/dsleewxwyfrbxi64ibhnkgbl3hm.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nehmen wir zum Beispiel einen Test-SMB-Speicher, ich habe dies ist der übliche QNAP:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/wn/2v/75/wn2v75pnyilvwfm2wdnez0gff3e.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Geben Sie den Namen und die Beschreibung ein und klicken Sie auf die Schaltfläche </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Weiter</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ae/lu/c1/aeluc1vlc3rjv8yfjkkegksfqak.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Geben Sie die Adresse des SMB-Speichers ein und klicken Sie, falls eine Autorisierung erforderlich ist, auf Hinzufügen, um Zugriffsdetails hinzuzufügen:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ku/5g/5n/ku5g5nrjheqx_loj6dicmfylzmm.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Geben Sie den Benutzernamen und das Kennwort ein, um auf den SMB-Speicher zuzugreifen, klicken Sie auf </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OK</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und kehren Sie zum vorherigen Fenster zurück. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Weiter</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/dq/z5/ty/dqz5tyipy4tpabxyce7azqvwbos.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn alles fehlerfrei ausgeführt wird, stellt das Programm eine Verbindung zum Repository her, fordert Informationen zum verfügbaren Speicherplatz an und zeigt das folgende Dialogfeld an. </font><font style="vertical-align: inherit;">Stellen Sie darin zusätzliche Parameter ein (falls erforderlich) und klicken Sie auf </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Weiter</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ed/gd/mk/edgdmktah8gzp2ficmybhka_qio.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im nächsten Fenster können Sie alle Standardeinstellungen lassen und auch klicken Sie auf </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Weiter</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ob/-5/xh/ob-5xhmenemijzrsdka1lonr4a4.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir überprüfen, ob die erforderlichen Komponenten installiert sind und sich in dem Status befinden, der </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bereits vorhanden ist</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , und klicken auf die Schaltfläche </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Übernehmen</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/0a/gv/ix/0agvixnl2-ev6qlpi1dssnj3esy.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zu diesem Zeitpunkt stellt Veeam® Backup &amp; Replication ™ erneut eine Verbindung zum Repository her, ermittelt die erforderlichen Parameter und erstellt ein Repository. </font><font style="vertical-align: inherit;">Klicken Sie auf </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Weiter</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/9x/sv/79/9xsv79akohraqucyp83uh6syqo8.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir überprüfen die Gesamtinformationen zum hinzugefügten Repository und klicken auf die Schaltfläche </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fertig stellen</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/zo/e6/2g/zoe62g6kxg07rl5_qo95l7y1m9y.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Programm bietet automatisch an, Ihre Konfigurationsdateien in einem neuen Repository zu speichern. </font><font style="vertical-align: inherit;">Wir brauchen das nicht, also antworten wir mit </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nein</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/tp/vs/9-/tpvs9-do-0wpdyqhf_fzr0sg7nk.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Repository erfolgreich hinzugefügt:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/fp/cy/qy/fpcyqy80-k4ktz59aqchgkg2-9y.png"></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sicherungsjob erstellen</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Klicken Sie im Hauptfenster von Veeam® Backup &amp; Replication ™ auf </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Backup Job</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linux-Computer</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Wählen Sie </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Server</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Typ </font><font style="vertical-align: inherit;">und </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verwaltung Backup - </font><font style="vertical-align: inherit;">Server</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Modus </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/1s/oi/wz/1soiwz1snio9rt2aa8lsuz7xnou.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir geben der Aufgabe einen Namen und fügen optional eine Beschreibung hinzu. </font><font style="vertical-align: inherit;">Klicken Sie dann auf </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Weiter</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/hi/ji/fy/hijifygvb4srir_ecso7zii2tvk.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als nächstes müssen wir alle Server mit Proxmox erstellen, die wir sichern werden. Klicken Sie dazu auf </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hinzufügen</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Einzelner Computer</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Geben Sie den Hostnamen oder die Server-IP-Adresse und die Zugriffsdaten ein. Daher bilden wir die Liste der </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">geschützten Computer</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und klicken auf </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Weiter</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/d_/wp/kp/d_wpkp2p_szef1vyd5bwde6blg0.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nun ein sehr wichtiger Punkt, nämlich die Auswahl der Daten, die dem Backup hinzugefügt werden sollen. Alles hängt davon ab, wo genau sich Ihre virtuellen Maschinen befinden. Wenn Sie nur ein logisches Volume hinzufügen möchten, benötigen Sie den </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sicherungsmodus auf Volume-Ebene</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und wählen den Pfad zum logischen Volume oder Gerät aus, z. B. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ dev / pve</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Alle anderen Aktionen sind identisch. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diesem Artikel zeigen wir, wie der </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sicherungsmodus auf</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dateiebene funktioniert </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/wq/6b/5p/wq6b5psnc7jay48_xbrj2_ureee.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im nächsten Fenster erstellen wir eine Liste der Verzeichnisse für die Sicherung. Klicken Sie auf </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hinzufügen</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und schreiben Sie die Verzeichnisse vor, in denen Konfigurationsdateien für virtuelle Maschinen gespeichert sind. Standardmäßig ist dies das Verzeichnis </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ etc / pve / node / pve / qemu-server /</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Wenn Sie nicht nur virtuelle Maschinen, sondern auch LXC-Container verwenden, fügen Sie das Verzeichnis </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ etc / pve / node / pve / lxc / hinzu</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . In meinem Fall ist es auch das Verzeichnis </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ data</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem Sie die Liste der Verzeichnisse auf diese Weise erstellt haben, klicken Sie auf </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Weiter</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/_k/_d/yd/_k_dydc6dnhx4mngj4cuuisokqu.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wählen Sie in der Dropdown-Liste der Repositorys die Option </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Speicher aus,</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> der zuvor erstellt wurde. </font><font style="vertical-align: inherit;">Wir bestimmen die Länge der Kette für die inkrementelle Sicherung. </font><font style="vertical-align: inherit;">Je mehr Punkte in der </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aufbewahrungsrichtlinie enthalten sind</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , desto mehr Platz sparen Sie. </font><font style="vertical-align: inherit;">Gleichzeitig nimmt jedoch die Zuverlässigkeit der Sicherung ab. </font><font style="vertical-align: inherit;">Zuverlässigkeit ist mir wichtiger als der Speicherplatz, daher habe ich 4 Punkte vergeben. </font><font style="vertical-align: inherit;">Sie können den Standardwert </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> annehmen </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Wir werden </font><font style="vertical-align: inherit;">weiterhin die Aufgabe konfigurieren , </font><font style="vertical-align: inherit;">indem Sie auf </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Weiter</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/wk/ae/v5/wkaev5az-3ruj4n-gjuv43oz9vo.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier lassen wir die Parameter unverändert, gehen Sie einfach zum nächsten Fenster:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/tt/4p/b-/tt4pb-cw4quxwulze1xcjjohx_4.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir konfigurieren den Scheduler. </font><font style="vertical-align: inherit;">Dies ist eine der coolsten Funktionen, die dem Systemadministrator das Leben erleichtern. </font><font style="vertical-align: inherit;">In diesem Beispiel habe ich mich dafür entschieden, die Sicherung jeden Tag um 2 Uhr morgens automatisch zu starten. </font><font style="vertical-align: inherit;">Ein weiteres großartiges Feature ist die Möglichkeit, die Sicherungsaufgabe zu unterbrechen, wenn wir das Zeitlimit des zugewiesenen „Sicherungsfensters“ überschreiten. </font><font style="vertical-align: inherit;">Der genaue Zeitplan wird über die Schaltfläche </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fenster</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> konfiguriert </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/e-/7j/7h/e-7j7hfdz5fdru4lft7cul74fr0.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Angenommen, wir führen Sicherungen nur an Wochentagen außerhalb der Arbeitszeit durch, und an Wochenenden sind wir im Allgemeinen nicht zeitlich begrenzt. </font><font style="vertical-align: inherit;">Wir bilden eine so schöne Tabelle, kehren zum vorherigen Fenster zurück und klicken auf </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Übernehmen</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/7g/ob/ii/7gobiidnihb8a9jsrbsdt8yp9c8.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie müssen nur die Zusammenfassungsinformationen zur Aufgabe überprüfen und auf die Schaltfläche </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fertig stellen</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> klicken </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/2s/mk/6m/2smk6mspmnfayuhhxxi1yjezj3k.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Damit ist die Erstellung des Sicherungsjobs abgeschlossen.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Backup</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier ist alles elementar. </font><font style="vertical-align: inherit;">Wählen Sie im Hauptfenster des Programms die erstellte Aufgabe aus und klicken Sie auf </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Start</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Das System stellt automatisch eine Verbindung zu unserem Server (oder mehreren Servern) her, überprüft die Verfügbarkeit des Speichers und reserviert die erforderliche Menge an Speicherplatz. </font><font style="vertical-align: inherit;">Dann beginnt tatsächlich der Sicherungsprozess, und nach Abschluss erhalten wir umfassende Informationen über den Prozess.</font></font><br>
<blockquote><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn während des Startvorgangs der Sicherung ein Problem des Formulars </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fehler beim Laden des Moduls [veeamsnap] mit den Parametern [zerosnapdata = 1 debuglogging = 0] auftritt</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , müssen Sie das </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">veeamsnap-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Modul </font><font style="vertical-align: inherit;">gemäß den </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anweisungen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> neu </font><b><font style="vertical-align: inherit;">erstellen</font></b><font style="vertical-align: inherit;"> .</font></font></i></blockquote><div style="text-align:center;"><img src="https://habrastorage.org/webt/ts/do/cm/tsdocmchujzdj5nxvujwmrroffs.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Besonders interessant ist, dass auf dem Server selbst nicht nur eine Liste aller abgeschlossenen Sicherungsaufgaben </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">angezeigt wird</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , sondern auch der Befehl </font><b><font style="vertical-align: inherit;">veeam</font></b><font style="vertical-align: inherit;"> in Echtzeit </font><b><font style="vertical-align: inherit;">angezeigt</font></b><font style="vertical-align: inherit;"> wird </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/li/lp/tk/lilptkhpxrygvey6krcgbltfvvm.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn ich die Frage vorhersage, warum die Konsole so seltsam aussieht, sage ich sofort: Mir gefällt sehr, wie die Konsole auf dem Bildschirm eines warmen CRT-Röhrenmonitors aussieht. </font><font style="vertical-align: inherit;">Dies erfolgt mit dem </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cool-Retro-Term-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Terminal-Emulator </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Datenwiederherstellung</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nun die wichtigste Frage. </font><font style="vertical-align: inherit;">Aber wie kann man Daten wiederherstellen, wenn etwas irreparables passiert ist? </font><font style="vertical-align: inherit;">Beispielsweise haben sie versehentlich die falsche virtuelle Maschine gelöscht. </font><font style="vertical-align: inherit;">In der Proxmox-Benutzeroberfläche verschwand es vollständig, und es blieb nichts im Speicher am Maschinenstandort übrig. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Wiederherstellungsprozess ist einfach. </font><font style="vertical-align: inherit;">Wir gehen zur Proxmox-Konsole und geben den folgenden Befehl ein:</font></font><br>
<br>
<pre><code class="plaintext hljs">veeam</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir sehen eine Liste der abgeschlossenen Backups. </font><font style="vertical-align: inherit;">Wählen Sie </font><font style="vertical-align: inherit;">den Pfeil mit den Pfeilen und drücken Sie </font><font style="vertical-align: inherit;">die </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Taste </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Wählen Sie als Nächstes einen Wiederherstellungspunkt aus und drücken Sie die </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eingabetaste</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/lt/du/j8/ltduj8hywtb1zwrmauzoeplnw4c.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nach einigen Sekunden wird der Wiederherstellungspunkt im Verzeichnis </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ mnt / backup</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bereitgestellt </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie müssen lediglich die virtuellen Laufwerke und Konfigurationsdateien der virtuellen Maschinen an ihren Speicherorten kopieren. Anschließend wird die "getötete" Maschine automatisch in der Proxmox VE-GUI angezeigt. </font><font style="vertical-align: inherit;">Sie können es auf die übliche Weise ausführen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um den Wiederherstellungspunkt zu entfernen, sollten Sie dies nicht manuell tun, sondern müssen die Taste </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">U</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> im Dienstprogramm </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">veeam drücken</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das ist alles. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Möge die Macht mit dir sein! </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Frühere Artikel zum Proxmox VE-Hypervisor:</font></font></i><br>
<br>
<ul>
<li><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> :    Proxmox VE</a></i></li>
<li><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">   Proxmox VE</a></i></li>
<li><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">  Proxmox VE</a></i></li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de504524/index.html">Typisches COVID-19-Epidemie-Entwicklungsmodell</a></li>
<li><a href="../de504554/index.html">Einheit Terrane und Mesh Blending</a></li>
<li><a href="../de504556/index.html">Gestenverwaltung: Umgang mit Gestenkonflikten. Teil 3</a></li>
<li><a href="../de504558/index.html">Ist eine Impfpflicht eine neue Realität?</a></li>
<li><a href="../de504560/index.html">Lassen Sie uns das Gesicht des heimischen Crowdfunding diskutieren</a></li>
<li><a href="../de504564/index.html">IoT in meinem Leben. So erstellen Sie ein intelligentes Büro und verfolgen dank IoT das Wachstum von Kartoffeln in Ihrer Wohnung</a></li>
<li><a href="../de504566/index.html">Tabelle in Atlassian Confluence basierend auf Daten aus einer REST-Anforderung</a></li>
<li><a href="../de504568/index.html">Isaac Asimov: Woher bekommen die Leute neue Ideen?</a></li>
<li><a href="../de504572/index.html">Sprechen Sie wie Winston Churchill: Wer muss seine Seele verkaufen, um auf Englisch SO zu kommunizieren</a></li>
<li><a href="../de504576/index.html">Wie sich Home Audio entwickelte - von Songnächten bis zu den ersten mechanischen Playern</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>