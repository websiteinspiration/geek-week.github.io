<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©‚Äç‚ù§Ô∏è‚Äçüë© ‚ù§Ô∏è üß§ Null, eins, zwei, Freddy wird dich abholen ‚åõÔ∏è üõÄüèø üë©‚Äç‚öïÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hier ist eine Fortsetzung einer Reihe von Artikeln mit dem Titel "Horror f√ºr Programmierer". Dieses Mal werden wir √ºber ein typisches Tippfehlermuster...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Null, eins, zwei, Freddy wird dich abholen</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pvs-studio/blog/488332/"><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7df/971/1f1/7df9711f1099158d4c7b159f6a5502d5.png" alt="Bild 1"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier ist eine Fortsetzung einer Reihe von Artikeln mit dem Titel "Horror f√ºr Programmierer". </font><font style="vertical-align: inherit;">Dieses Mal werden wir √ºber ein typisches Tippfehlermuster sprechen, das mit der Verwendung der Zahlen 0, 1, 2 verbunden ist. Es spielt keine Rolle, ob Sie in C, C ++, C # oder Java schreiben. </font><font style="vertical-align: inherit;">Wenn Sie die Konstanten 0, 1, 2 verwenden oder wenn diese Zahlen in Variablennamen enthalten sind, wird Freddy Sie h√∂chstwahrscheinlich nachts besuchen. </font><font style="vertical-align: inherit;">Lesen Sie und sagen Sie sp√§ter nicht, dass Sie nicht gewarnt wurden.</font></font><br>
<a name="habracut"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Einf√ºhrung</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich setze eine Reihe von Artikeln fort, die sich mit wahrgenommenen Mustern befassen, wie Menschen Fehler machen. </font><font style="vertical-align: inherit;">Fr√ºhere Ver√∂ffentlichungen:</font></font><ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Effekt der letzten Zeile</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die gef√§hrlichste Funktion in der Welt von C / C ++</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das B√∂se lebt in Vergleichsfunktionen</font></font></a></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diesmal wurde das Muster nicht von mir, sondern von meinem Kollegen Svyatoslav Razmyslov bemerkt. Er machte darauf aufmerksam, dass er in seinen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artikeln</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> st√§ndig </font><font style="vertical-align: inherit;">Probleme beschreibt, bei denen Variablen mit den Nummern 1 und 2 in seinem Namen vorkommen. Svyatoslav schlug vor, dass ich dieses Thema genauer studiere und es sich wirklich als sehr fruchtbar herausstellte. Es stellte sich heraus, dass unsere </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fehlersammlung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> eine gro√üe Anzahl von Codefragmenten enth√§lt, die falsch sind, weil die Indizes 0, 1, 2 oder die Namen von Variablen, die solche Zahlen enthalten, verwirrt sind. Eine neue interessante Regelm√§√üigkeit wird offenbart, die unten diskutiert wird. Ich bin Svyatoslav f√ºr die Aufforderung dankbar, dieses Thema zu untersuchen und ihm diesen Artikel zu widmen.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cfe/8e3/4c6/cfe8e34c69c04ef441c656ac32cdbbde.png" alt="Abbildung 14"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Swjatoslaw Razmyslov, Manager, aufmerksam </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">Bug </font></a></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Catcher</font></font></a> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und nur eine begabte Person.</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Was ist der Zweck dieses Artikels? Zeigen Sie, wie einfach wir alle Fehler und Tippfehler machen. Wenn Programmierer gewarnt werden, werden sie bei der √úberpr√ºfung des Codes aufmerksamer sein und sich auf die ungl√ºcklichen Werte 0, 1, 2 konzentrieren. Au√üerdem k√∂nnen Programmierer den Wert statischer Code-Analysatoren, die solche Fehler erkennen, besser sp√ºren. Es geht nicht um PVS-Studio-Werbung (obwohl es auch ist :). Bisher halten viele Programmierer statische Analysen f√ºr √ºberfl√ºssig und konzentrieren sich lieber auf ihre eigene Genauigkeit und Code√ºberpr√ºfung. Leider ist der Versuch, Code fehlerfrei zu schreiben, gut, aber nicht ausreichend. Dieser Artikel wird dies noch einmal deutlich zeigen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Niemand ist gegen solche Fehler immun. </font><font style="vertical-align: inherit;">Unten sehen Sie epische Pannen in so bekannten Projekten wie Qt, Clang, Hive, LibreOffice, Linux-Kernel, .NET Compiler-Plattform, XNU-Kernel und Mozilla Firefox. </font><font style="vertical-align: inherit;">Und dies sind keine exotischen, seltenen Fehler, sondern die h√§ufigsten. </font><font style="vertical-align: inherit;">Nicht √ºberzeugt? </font><font style="vertical-align: inherit;">Dann fangen wir an! </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄûGeschw√§tz ist wertlos! </font><font style="vertical-align: inherit;">Zeig mir die K√§fer! " </font></font></i><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬© modifiziertes Zitat von Linus Torvalds.</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tippfehler in Konstanten beim Indizieren von Arrays</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In unseren Artikeln geben wir in der Regel Warnungen, mit deren Hilfe Fehler gefunden werden. </font><font style="vertical-align: inherit;">Dieses Mal werde ich diese Warnungen weglassen, da der Fehler ohne sie leicht erkennbar und verst√§ndlich sein wird. </font><font style="vertical-align: inherit;">Obwohl diese Fehler in einem kurzen Code sofort erkennbar sind, wissen sie, wie sie sich im Code von Projekten verstecken k√∂nnen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beginnen wir mit den Fehlern, wenn Verwirrung mit den numerischen Literalen besteht, die zum Indizieren von Arrays verwendet werden. </font><font style="vertical-align: inherit;">Trotz der Banalit√§t dieser Fehler gibt es viele davon und sie werden in der Laborarbeit der Studenten nicht offenbart. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XNU-Kernelprojekt, C-Sprache</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">uint32_t</span>
<span class="hljs-title">gss_krb5_3des_unwrap_mbuf</span><span class="hljs-params">(....)</span>
</span>{<font></font>
  ....<font></font>
  <span class="hljs-keyword">for</span> (cflag = <span class="hljs-number">1</span>; cflag &gt;= <span class="hljs-number">0</span>; cflag--) {<font></font>
    *minor = gss_krb5_3des_token_get(<font></font>
       ctx, &amp;itoken, wrap, &amp;hash, &amp;offset, &amp;length, reverse);<font></font>
    <span class="hljs-keyword">if</span> (*minor == <span class="hljs-number">0</span>)
      <span class="hljs-keyword">break</span>;<font></font>
    wrap.Seal_Alg[<span class="hljs-number">0</span>] = <span class="hljs-number">0xff</span>;<font></font>
    wrap.Seal_Alg[<span class="hljs-number">0</span>] = <span class="hljs-number">0xff</span>;<font></font>
  }<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Zeile wurde kopiert, aber vergessen, den Index zu korrigieren. </font><font style="vertical-align: inherit;">So wie ich es verstehe, sollte es hier geschrieben werden:</font></font><br>
<pre><code class="cpp hljs">wrap.Seal_Alg[<span class="hljs-number">0</span>] = <span class="hljs-number">0xff</span>;<font></font>
wrap.Seal_Alg[<span class="hljs-number">1</span>] = <span class="hljs-number">0xff</span>;</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LibreOffice-Projekt, C ++</font></font></b><br>
<pre><code class="cpp hljs">Sequence&lt; OUString &gt; FirebirdDriver::<font></font>
  getSupportedServiceNames_Static() <span class="hljs-keyword">throw</span> (RuntimeException)<font></font>
{<font></font>
  Sequence&lt; OUString &gt; aSNS( <span class="hljs-number">2</span> );<font></font>
  aSNS[<span class="hljs-number">0</span>] = <span class="hljs-string">"com.sun.star.sdbc.Driver"</span>;<font></font>
  aSNS[<span class="hljs-number">0</span>] = <span class="hljs-string">"com.sun.star.sdbcx.Driver"</span>;
  <span class="hljs-keyword">return</span> aSNS;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie im vorherigen Fall wurde die Zeile kopiert, aber vergessen, 0 durch 1 zu korrigieren. Nur das Zeichenfolgenliteral wurde korrigiert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Man kann eine philosophische Frage stellen, wie man einen solchen Fehler in einer vierzeiligen Funktion machen kann. </font><font style="vertical-align: inherit;">Alles ist m√∂glich. </font><font style="vertical-align: inherit;">Hier ist es, Programmierung. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quake-III-Arena-Projekt, C-Sprache</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">VL_FindAdjacentSurface</span><span class="hljs-params">(....)</span>
</span>{<font></font>
  ....<font></font>
  <span class="hljs-keyword">if</span> (<span class="hljs-built_in">fabs</span>(dir[<span class="hljs-number">0</span>]) &gt; test-&gt;radius ||
      <span class="hljs-built_in">fabs</span>(dir[<span class="hljs-number">1</span>]) &gt; test-&gt;radius ||
      <span class="hljs-built_in">fabs</span>(dir[<span class="hljs-number">1</span>]) &gt; test-&gt;radius)<font></font>
  {<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der kopierten Zeile haben sie vergessen, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dir [1]</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> durch </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dir [2]</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zu ersetzen </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Infolgedessen wird der Wert entlang der Z-Achse nicht gesteuert. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenCOLLADA-Projekt, C ++</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">short2</span>
{</span>
  <span class="hljs-keyword">short</span> values[<span class="hljs-number">2</span>];<font></font>
  short2(<span class="hljs-keyword">short</span> s1, <span class="hljs-keyword">short</span> s2)<font></font>
  {<font></font>
    values[<span class="hljs-number">0</span>] = s1;<font></font>
    values[<span class="hljs-number">2</span>] = s2;<font></font>
  }<font></font>
  ....<font></font>
};</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ja, selbst in einem so kurzen Konstruktor k√∂nnen Sie es schaffen, die Grenze eines Arrays zu √ºberschreiten, wenn es initialisiert wird.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/557/e77/ddb/557e77ddb32df5ca3554597d92ffcb49.png" alt="Abbildung 8"></div><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Godot Engine-Projekt, C ++</font></font></b><br>
<pre><code class="cpp hljs">Array PhysicsDirectSpaceState::_cast_motion(....)<font></font>
{<font></font>
  ....<font></font>
  <span class="hljs-function">Array <span class="hljs-title">ret</span><span class="hljs-params">(<span class="hljs-literal">true</span>)</span></span>;<font></font>
  ret.resize(<span class="hljs-number">2</span>);<font></font>
  ret[<span class="hljs-number">0</span>]=closest_safe;<font></font>
  ret[<span class="hljs-number">0</span>]=closest_unsafe;
  <span class="hljs-keyword">return</span> ret;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kein Kommentar erforderlich. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sternchenprojekt, C-Sprache</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">sip_threadinfo_destructor</span><span class="hljs-params">(<span class="hljs-keyword">void</span> *obj)</span>
</span>{
  <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">sip_threadinfo</span> *<span class="hljs-title">th</span> = <span class="hljs-title">obj</span>;</span>
  <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">tcptls_packet</span> *<span class="hljs-title">packet</span>;</span><font></font>
<font></font>
  <span class="hljs-keyword">if</span> (th-&gt;alert_pipe[<span class="hljs-number">1</span>] &gt; <span class="hljs-number">-1</span>) {            <span class="hljs-comment">// &lt;=</span>
    close(th-&gt;alert_pipe[<span class="hljs-number">0</span>]);<font></font>
  }<font></font>
  <span class="hljs-keyword">if</span> (th-&gt;alert_pipe[<span class="hljs-number">1</span>] &gt; <span class="hljs-number">-1</span>) {<font></font>
    close(th-&gt;alert_pipe[<span class="hljs-number">1</span>]);<font></font>
  }<font></font>
  th-&gt;alert_pipe[<span class="hljs-number">0</span>] = th-&gt;alert_pipe[<span class="hljs-number">1</span>] = <span class="hljs-number">-1</span>;<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beim Schreiben des gleichen Blocktyps befindet sich der Fehler in der Regel im zugrunde liegenden. </font><font style="vertical-align: inherit;">Zuvor waren alle betrachteten F√§lle genau das. </font><font style="vertical-align: inherit;">Hier befindet sich der Tippfehler an einer ungew√∂hnlichen Stelle, n√§mlich im ersten Block. </font><font style="vertical-align: inherit;">Warum es passiert ist, ist schwer zu sagen. </font><font style="vertical-align: inherit;">Ich habe keine andere Wahl, als ein Bild von einem Achselzucken mit den Schultern zu bringen:</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/071/1f3/dd7/0711f3dd70bf461e3105765a0862ea30.png" alt="Abbildung 9"></div><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√ñffnen Sie das CASCADE-Technologieprojekt C ++</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Prepend</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Standard_Integer theIndex)</span>
</span>{
  <span class="hljs-keyword">if</span> (myIndex[<span class="hljs-number">1</span>] &gt;= <span class="hljs-number">0</span>)<font></font>
    Standard_OutOfRange::Raise (<span class="hljs-string">"BRepMesh_PairOfIndex...."</span>);<font></font>
<font></font>
  myIndex[<span class="hljs-number">1</span>] = myIndex[<span class="hljs-number">0</span>];<font></font>
  myIndex[<span class="hljs-number">1</span>] = theIndex;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zweimal in derselben Zelle des Arrays werden unterschiedliche Werte kopiert. </font><font style="vertical-align: inherit;">Ein offensichtlicher Fehler, aber wie man ihn behebt, war mir nicht klar, da mir der Projektcode nicht bekannt ist. </font><font style="vertical-align: inherit;">Also habe ich mir nur angesehen, wie die Entwickler den Code korrigiert haben, nachdem unser Team sie auf diesen Fehler hingewiesen hat. </font><font style="vertical-align: inherit;">Die richtige Option:</font></font><br>
<pre><code class="cpp hljs">myIndex[<span class="hljs-number">1</span>] = myIndex[<span class="hljs-number">0</span>];<font></font>
myIndex[<span class="hljs-number">0</span>] = theIndex;</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transproteomisches Pipeline-Projekt, C ++</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">ASAPRatio_getProDataStrct</span><span class="hljs-params">(proDataStrct *data,
                               <span class="hljs-keyword">char</span> **pepBofFiles)</span>
</span>{<font></font>
  ....<font></font>
  <span class="hljs-keyword">if</span> (data-&gt;indx == <span class="hljs-number">-1</span>) {<font></font>
    data-&gt;ratio[<span class="hljs-number">0</span>] = <span class="hljs-number">-2.</span>;<font></font>
    data-&gt;ratio[<span class="hljs-number">0</span>] = <span class="hljs-number">0.</span>;             <span class="hljs-comment">// &lt;=</span>
    data-&gt;inv_ratio[<span class="hljs-number">0</span>] = <span class="hljs-number">-2.</span>;<font></font>
    data-&gt;inv_ratio[<span class="hljs-number">1</span>] = <span class="hljs-number">0.</span>;
    <span class="hljs-keyword">return</span>;<font></font>
  }<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich mache mir Sorgen, dass Forschungspakete solche Fehler enthalten. </font><font style="vertical-align: inherit;">Die Trans-Proteomic Pipeline wurde entwickelt, um Probleme auf dem Gebiet der Biologie zu l√∂sen. </font><font style="vertical-align: inherit;">Dies kann entschieden und "untersucht" werden. </font><font style="vertical-align: inherit;">Dieses Paket enth√§lt im Allgemeinen viele interessante Dinge: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Check in 2012</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Check in 2013</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Vielleicht k√∂nnen Sie noch einmal versuchen, sich dieses Projekt anzusehen. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ITK-Projekt, C ++ - Sprache</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Wir stehen vor einem weiteren Projekt zur Durchf√ºhrung von Forschungsarbeiten auf dem Gebiet der Medizin: dem Medicine Insight Segmentation and Registration Toolkit (ITK). </font><font style="vertical-align: inherit;">Das Projekt ist anders, aber die Fehler sind die gleichen.</font></font><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">template</span>&lt; <span class="hljs-keyword">typename</span> TCoordRepType &gt;
<span class="hljs-keyword">void</span><font></font>
VoronoiDiagram2D&lt; TCoordRepType &gt;::SetOrigin(PointType vorsize)<font></font>
{<font></font>
  m_VoronoiBoundaryOrigin[<span class="hljs-number">0</span>] = vorsize[<span class="hljs-number">0</span>];<font></font>
  m_VoronoiBoundaryOrigin[<span class="hljs-number">0</span>] = vorsize[<span class="hljs-number">1</span>];<font></font>
}</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ITK-Projekt, C ++</font></font></b><br>
<br>
<pre><code class="cpp hljs">
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">itkPointSetToSpatialObjectDemonsRegistrationTest</span><span class="hljs-params">(....)</span>
</span>{<font></font>
  ....<font></font>
  <span class="hljs-comment">// Set its position</span><font></font>
  EllipseType::TransformType::OffsetType offset;<font></font>
  offset[<span class="hljs-number">0</span>]=<span class="hljs-number">50</span>;<font></font>
  offset[<span class="hljs-number">1</span>]=<span class="hljs-number">50</span>;<font></font>
  offset[<span class="hljs-number">1</span>]=<span class="hljs-number">50</span>;<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Clean Copy-Paste. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ReactOS Project, C ++</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function">HPALETTE <span class="hljs-title">CardWindow::CreateCardPalette</span><span class="hljs-params">()</span>
</span>{<font></font>
  ....<font></font>
  <span class="hljs-comment">//include button text colours</span>
  cols[<span class="hljs-number">0</span>] = RGB(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);<font></font>
  cols[<span class="hljs-number">1</span>] = RGB(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>);<font></font>
<font></font>
  <span class="hljs-comment">//include the base background colour</span>
  cols[<span class="hljs-number">1</span>] = crBackgnd;<font></font>
<font></font>
  <span class="hljs-comment">//include the standard button colours...</span>
  cols[<span class="hljs-number">3</span>] = CardButton::GetHighlight(crBackgnd);<font></font>
  cols[<span class="hljs-number">4</span>] = CardButton::GetShadow(crBackgnd);<font></font>
  cols[<span class="hljs-number">5</span>] = CardButton::GetFace(crBackgnd);<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
H√∂chstwahrscheinlich sollte die </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">crBackgnd-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Konstante </font><font style="vertical-align: inherit;">in die </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cols-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Zelle geschrieben werden </font><i><font style="vertical-align: inherit;">[2]</font></i><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Coin3D-Projekt, C ++</font></font></b><br>
<pre><code class="cpp hljs">SoVRMLInline::GLRender(SoGLRenderAction * action)<font></font>
{<font></font>
  ....<font></font>
  <span class="hljs-keyword">if</span> ((size[<span class="hljs-number">0</span>] &gt;= <span class="hljs-number">0.0f</span> &amp;&amp; size[<span class="hljs-number">1</span>] &gt;= <span class="hljs-number">0.0f</span> &amp;&amp; size[<span class="hljs-number">1</span>] &gt;= <span class="hljs-number">0.0f</span>) &amp;&amp;<font></font>
      ((vis == ALWAYS) ||<font></font>
       (vis == UNTIL_LOADED &amp;&amp; child == <span class="hljs-literal">NULL</span>))) {<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Element des Arrays </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">size [1]</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> wird doppelt gepr√ºft </font><font style="vertical-align: inherit;">, und das Element der </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gr√∂√üe [2] wird</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nicht gepr√ºft. </font><font style="vertical-align: inherit;">So erscheinen seltsame Artefakte auf Bildern. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenCV-Projekt, C ++</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">Jpeg2KDecoder::readHeader</span><span class="hljs-params">()</span>
</span>{<font></font>
  ....<font></font>
  cmptlut[<span class="hljs-number">0</span>] = ....<font></font>
  cmptlut[<span class="hljs-number">1</span>] = ....<font></font>
  cmptlut[<span class="hljs-number">2</span>] = ....
  <span class="hljs-keyword">if</span>( cmptlut[<span class="hljs-number">0</span>] &lt; <span class="hljs-number">0</span> || cmptlut[<span class="hljs-number">1</span>] &lt; <span class="hljs-number">0</span> || cmptlut[<span class="hljs-number">0</span>] &lt; <span class="hljs-number">0</span> )<font></font>
    result = <span class="hljs-literal">false</span>;<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist direkt zu sp√ºren, dass der Ausdruck </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cmptlut [0] &lt;0</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zweimal durch Kopieren dupliziert wurde, aber Null an nur einer Stelle korrigiert wurde. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Visualization Toolkit (VTK) -Projekt, C ++</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">vtkImageStencilRaster::PrepareForNewData</span><span class="hljs-params">(....)</span>
</span>{<font></font>
  ....<font></font>
  <span class="hljs-keyword">if</span> (allocateExtent &amp;&amp;<font></font>
      allocateExtent[<span class="hljs-number">1</span>] &gt;= allocateExtent[<span class="hljs-number">1</span>])<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Folgenden werde ich nicht auf viele solcher Fehler eingehen. </font><font style="vertical-align: inherit;">Was gibt es zu kommentieren? </font><font style="vertical-align: inherit;">Die Hauptsache beim Betrachten solcher Codefragmente ist das Gef√ºhl, dass der Fehler zwar einfach ist, dies jedoch nicht bedeutet, dass er vom Programmierer bemerkt wird. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Visualization Toolkit (VTK) -Projekt, C ++</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">template</span> &lt;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">iterT</span>&gt;
<span class="hljs-title">void</span> <span class="hljs-title">vtkDataSetAttributesCopyValues</span>(....)
{</span><font></font>
  ....<font></font>
  inZPtr +=<font></font>
    (outExt[<span class="hljs-number">0</span>] - outExt[<span class="hljs-number">0</span>])*inIncs[<span class="hljs-number">0</span>] * data_type_size +<font></font>
    (outExt[<span class="hljs-number">2</span>] - outExt[<span class="hljs-number">2</span>])*inIncs[<span class="hljs-number">1</span>] * data_type_size +<font></font>
    (outExt[<span class="hljs-number">4</span>] - outExt[<span class="hljs-number">4</span>])*inIncs[<span class="hljs-number">2</span>] * data_type_size;<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier hatte der Programmierer eindeutig die Eile, Code schneller zu schreiben. </font><font style="vertical-align: inherit;">Es ist schwierig auf andere Weise zu erkl√§ren, wie er dreimal einen Fehler gemacht hat. </font><font style="vertical-align: inherit;">Elemente des Arrays werden von sich selbst subtrahiert. </font><font style="vertical-align: inherit;">Das Ergebnis ist, dass dieser Code √§quivalent ist:</font></font><br>
<pre><code class="cpp hljs">inZPtr +=<font></font>
  (<span class="hljs-number">0</span>)*inIncs[<span class="hljs-number">0</span>] * data_type_size +<font></font>
  (<span class="hljs-number">0</span>)*inIncs[<span class="hljs-number">1</span>] * data_type_size +<font></font>
  (<span class="hljs-number">0</span>)*inIncs[<span class="hljs-number">2</span>] * data_type_size;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieser Code kann jedoch noch weiter reduziert werden:</font></font><br>
<pre><code class="cpp hljs">inZPtr += <span class="hljs-number">0</span>;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√úppig. </font><font style="vertical-align: inherit;">Der Code enth√§lt einen langen, ernsthaft aussehenden Ausdruck, der tats√§chlich nichts bewirkt. </font><font style="vertical-align: inherit;">Ich liebe solche F√§lle. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Visualization Toolkit (VTK) -Projekt, C ++ - Sprache</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ein √§hnlicher Fall von hastigem Schreiben von Code.</font></font><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">vtkPiecewiseControlPointsItem::SetControlPoint</span><span class="hljs-params">(
  vtkIdType index, <span class="hljs-keyword">double</span>* newPos)</span>
</span>{
  <span class="hljs-keyword">double</span> oldPos[<span class="hljs-number">4</span>];
  <span class="hljs-keyword">this</span>-&gt;PiecewiseFunction-&gt;GetNodeValue(index, oldPos);
  <span class="hljs-keyword">if</span> (newPos[<span class="hljs-number">0</span>] != oldPos[<span class="hljs-number">0</span>] || newPos[<span class="hljs-number">1</span>] != oldPos[<span class="hljs-number">1</span>] ||<font></font>
      newPos[<span class="hljs-number">2</span>] != oldPos[<span class="hljs-number">2</span>] || newPos[<span class="hljs-number">2</span>] != oldPos[<span class="hljs-number">2</span>])<font></font>
    {<font></font>
      <span class="hljs-keyword">this</span>-&gt;PiecewiseFunction-&gt;SetNodeValue(index, newPos);<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Vergleich </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">newPos [2]! = OldPos [2] wird</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zweimal wiederholt </font><font style="vertical-align: inherit;">. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ACAP-Projekt (ADAPTIVE Communication Environment), C ++</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">URL_Base::strip_scheme</span> <span class="hljs-params">(ACE_CString&amp; url_string)</span>
</span>{<font></font>
  ....<font></font>
  ACE_CString::size_type pos = url_string.find (<span class="hljs-string">':'</span>);
  <span class="hljs-keyword">if</span> (pos &gt; <span class="hljs-number">0</span> &amp;&amp;<font></font>
      url_string[pos+<span class="hljs-number">1</span>] == <span class="hljs-string">'/'</span> &amp;&amp;<font></font>
      url_string[pos+<span class="hljs-number">1</span>] == <span class="hljs-string">'/'</span>)<font></font>
  {<font></font>
    ....<font></font>
    <span class="hljs-comment">// skip '&lt;protocol&gt;://'</span>
    url_string = url_string.substr (pos+<span class="hljs-number">3</span>);<font></font>
  }<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Bedingung muss sicherstellen, dass zwei Schr√§gstriche nach dem Doppelpunkt auftreten. </font><font style="vertical-align: inherit;">Mit anderen Worten, der Teilstring ": //" wird durchsucht. </font><font style="vertical-align: inherit;">Aufgrund eines Tippfehlers ist der Scheck "blind" und kann jedes Zeichen als zweiten Schr√§gstrich z√§hlen. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IPP-Beispielprojekt, C ++</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">MeBase::MakeVlcTableDecision</span><span class="hljs-params">()</span>
</span>{<font></font>
  ....<font></font>
  Ipp32s BestMV =<font></font>
    IPP_MIN(IPP_MIN(m_cur.MvRate[<span class="hljs-number">0</span>],m_cur.MvRate[<span class="hljs-number">1</span>]),<font></font>
                    IPP_MIN(m_cur.MvRate[<span class="hljs-number">2</span>],m_cur.MvRate[<span class="hljs-number">3</span>]));<font></font>
  Ipp32s BestAC =<font></font>
    IPP_MIN(IPP_MIN(m_cur.AcRate[<span class="hljs-number">0</span>],m_cur.AcRate[<span class="hljs-number">1</span>]),<font></font>
                    IPP_MIN(m_cur.AcRate[<span class="hljs-number">2</span>],m_cur.AcRate[<span class="hljs-number">2</span>]));<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein Tippfehler liegt hier in den an das Makro √ºbergebenen Argumenten:</font></font><br>
<pre><code class="cpp hljs">IPP_MIN(m_cur.AcRate[<span class="hljs-number">2</span>],m_cur.AcRate[<span class="hljs-number">2</span>])</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es stellt sich heraus, dass mindestens zwei identische Werte ausgew√§hlt sind. </font><font style="vertical-align: inherit;">In der Tat sollte geschrieben werden:</font></font><br>
<pre><code class="cpp hljs">IPP_MIN(m_cur.AcRate[<span class="hljs-number">2</span>],m_cur.AcRate[<span class="hljs-number">3</span>])</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieser Code kann √ºbrigens die N√ºtzlichkeit der Standardbibliothek demonstrieren. </font><font style="vertical-align: inherit;">Wenn Sie so schreiben:</font></font><br>
<pre><code class="cpp hljs">Ipp32s BestMV = <span class="hljs-built_in">std</span>::min_element(begin(m_cur.MvRate), end(m_cur.MvRate));<font></font>
Ipp32s BestAC = <span class="hljs-built_in">std</span>::min_element(begin(m_cur.AcRate), end(m_cur.AcRate));</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieser Code wird k√ºrzer und weniger fehleranf√§llig. </font><font style="vertical-align: inherit;">Je weniger dieselbe Art von Code vorhanden ist, desto wahrscheinlicher ist es, dass er korrekt geschrieben wird. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Projekt Audacity, C ++</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function">sampleCount <span class="hljs-title">VoiceKey::OnBackward</span> <span class="hljs-params">(....)</span> </span>{<font></font>
  ....<font></font>
  <span class="hljs-keyword">int</span> atrend = sgn(buffer[samplesleft - <span class="hljs-number">2</span>]-<font></font>
                   buffer[samplesleft - <span class="hljs-number">1</span>]);
  <span class="hljs-keyword">int</span> ztrend = sgn(buffer[samplesleft - WindowSizeInt<span class="hljs-number">-2</span>]-<font></font>
                   buffer[samplesleft - WindowSizeInt<span class="hljs-number">-2</span>]);<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der richtige Ausdruck lautet:</font></font><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">int</span> ztrend = sgn(buffer[samplesleft - WindowSizeInt<span class="hljs-number">-2</span>]-<font></font>
                 buffer[samplesleft - WindowSizeInt<span class="hljs-number">-1</span>]);</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PDFium-Projekt, C ++ - Sprache</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">sycc420_to_rgb</span><span class="hljs-params">(<span class="hljs-keyword">opj_image_t</span>* img)</span> </span>{<font></font>
  ....<font></font>
  opj_image_data_free(img-&gt;comps[<span class="hljs-number">0</span>].data);<font></font>
  opj_image_data_free(img-&gt;comps[<span class="hljs-number">1</span>].data);<font></font>
  opj_image_data_free(img-&gt;comps[<span class="hljs-number">2</span>].data);<font></font>
  img-&gt;comps[<span class="hljs-number">0</span>].data = d0;<font></font>
  img-&gt;comps[<span class="hljs-number">1</span>].data = d1;<font></font>
  img-&gt;comps[<span class="hljs-number">2</span>].data = d2;<font></font>
  img-&gt;comps[<span class="hljs-number">1</span>].w = yw;                 <span class="hljs-comment">// 1</span>
  img-&gt;comps[<span class="hljs-number">1</span>].h = yh;                 <span class="hljs-comment">// 1</span>
  img-&gt;comps[<span class="hljs-number">2</span>].w = yw;                 <span class="hljs-comment">// 1</span>
  img-&gt;comps[<span class="hljs-number">2</span>].h = yh;                 <span class="hljs-comment">// 1</span>
  img-&gt;comps[<span class="hljs-number">1</span>].w = yw;                 <span class="hljs-comment">// 2</span>
  img-&gt;comps[<span class="hljs-number">1</span>].h = yh;                 <span class="hljs-comment">// 2</span>
  img-&gt;comps[<span class="hljs-number">2</span>].w = yw;                 <span class="hljs-comment">// 2</span>
  img-&gt;comps[<span class="hljs-number">2</span>].h = yh;                 <span class="hljs-comment">// 2</span>
  img-&gt;comps[<span class="hljs-number">1</span>].dx = img-&gt;comps[<span class="hljs-number">0</span>].dx;<font></font>
  img-&gt;comps[<span class="hljs-number">2</span>].dx = img-&gt;comps[<span class="hljs-number">0</span>].dx;<font></font>
  img-&gt;comps[<span class="hljs-number">1</span>].dy = img-&gt;comps[<span class="hljs-number">0</span>].dy;<font></font>
  img-&gt;comps[<span class="hljs-number">2</span>].dy = img-&gt;comps[<span class="hljs-number">0</span>].dy;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine Reihe von Aktionen zum Initialisieren der Struktur wird dupliziert. Die mit Kommentar </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// 2</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gekennzeichneten Zeilen </font><font style="vertical-align: inherit;">k√∂nnen gel√∂scht werden, und es √§ndert sich nichts. Ich bezweifelte, ob ich diesen Code in den Artikel aufnehmen sollte. Dies ist kein Fehler, und nicht ganz mit den Indizes. Dieser zus√§tzliche Code erschien jedoch h√∂chstwahrscheinlich genau deshalb, weil der Programmierer in all diesen Klassenmitgliedern und Indizes 1, 2 verwirrt war. Ich denke, dieser Code ist geeignet, um zu demonstrieren, wie leicht es ist, in Zahlen verwirrt zu werden. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake-Projekt, C</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Der unten beschriebene Code wurde nicht von den CMake-Entwicklern geschrieben, sondern ausgeliehen. Gemessen am Kommentar am Anfang der Datei ist die Funktion </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">utf8_encode</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es wurde 2007 von Tim Kientzle geschrieben. Seitdem ist diese Funktion von Projekt zu Projekt gewandert, und es gibt viele davon. </font><font style="vertical-align: inherit;">Ich habe das Thema der Originalquelle nicht untersucht, da dies jetzt nicht der Punkt ist. </font><font style="vertical-align: inherit;">Da sich dieser Code im CMake-Projekt befindet, gilt der Fehler f√ºr CMake.</font></font><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">char</span> *
<span class="hljs-title">utf8_encode</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">wchar_t</span> *wval)</span>
</span>{<font></font>
  ....<font></font>
  p[<span class="hljs-number">0</span>] = <span class="hljs-number">0xfc</span> | ((wc &gt;&gt; <span class="hljs-number">30</span>) &amp; <span class="hljs-number">0x01</span>);<font></font>
  p[<span class="hljs-number">1</span>] = <span class="hljs-number">0x80</span> | ((wc &gt;&gt; <span class="hljs-number">24</span>) &amp; <span class="hljs-number">0x3f</span>);<font></font>
  p[<span class="hljs-number">1</span>] = <span class="hljs-number">0x80</span> | ((wc &gt;&gt; <span class="hljs-number">18</span>) &amp; <span class="hljs-number">0x3f</span>);<font></font>
  p[<span class="hljs-number">2</span>] = <span class="hljs-number">0x80</span> | ((wc &gt;&gt; <span class="hljs-number">12</span>) &amp; <span class="hljs-number">0x3f</span>);<font></font>
  p[<span class="hljs-number">3</span>] = <span class="hljs-number">0x80</span> | ((wc &gt;&gt; <span class="hljs-number">6</span>) &amp; <span class="hljs-number">0x3f</span>);<font></font>
  p[<span class="hljs-number">4</span>] = <span class="hljs-number">0x80</span> | (wc &amp; <span class="hljs-number">0x3f</span>);<font></font>
  p += <span class="hljs-number">6</span>;<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie Sie sehen k√∂nnen, gibt es eine Art Verwechslung mit den Indizes. </font><font style="vertical-align: inherit;">Zweimal gibt es einen Datensatz im Array-Element </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p [1]</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Wenn Sie den Code in der Nachbarschaft studieren, wird klar, dass der richtige Code folgenderma√üen aussehen sollte:</font></font><br>
<pre><code class="cpp hljs">p[<span class="hljs-number">0</span>] = <span class="hljs-number">0xfc</span> | ((wc &gt;&gt; <span class="hljs-number">30</span>) &amp; <span class="hljs-number">0x01</span>);<font></font>
p[<span class="hljs-number">1</span>] = <span class="hljs-number">0x80</span> | ((wc &gt;&gt; <span class="hljs-number">24</span>) &amp; <span class="hljs-number">0x3f</span>);<font></font>
p[<span class="hljs-number">2</span>] = <span class="hljs-number">0x80</span> | ((wc &gt;&gt; <span class="hljs-number">18</span>) &amp; <span class="hljs-number">0x3f</span>);<font></font>
p[<span class="hljs-number">3</span>] = <span class="hljs-number">0x80</span> | ((wc &gt;&gt; <span class="hljs-number">12</span>) &amp; <span class="hljs-number">0x3f</span>);<font></font>
p[<span class="hljs-number">4</span>] = <span class="hljs-number">0x80</span> | ((wc &gt;&gt; <span class="hljs-number">6</span>) &amp; <span class="hljs-number">0x3f</span>);<font></font>
p[<span class="hljs-number">5</span>] = <span class="hljs-number">0x80</span> | (wc &amp; <span class="hljs-number">0x3f</span>);<font></font>
p += <span class="hljs-number">6</span>;</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hinweis</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Bitte beachten Sie, dass alle in diesem Kapitel beschriebenen Fehler mit C- oder C ++ - Code zusammenh√§ngen. </font><font style="vertical-align: inherit;">Kein C # oder Java Code! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das ist sehr interessant, das habe ich nicht erwartet. </font><font style="vertical-align: inherit;">Meiner Meinung nach h√§ngen die ber√ºcksichtigten Tippfehler nicht von der Sprache ab. </font><font style="vertical-align: inherit;">In den folgenden Kapiteln werden tats√§chlich Codefehler in anderen Sprachen auftreten. </font><font style="vertical-align: inherit;">Ich denke, das ist nur ein Zufall. </font><font style="vertical-align: inherit;">PVS-Studio Analyzer wurde viel sp√§ter gestartet, um C # / Java-Sprachen im Vergleich zu C / C ++ zu unterst√ºtzen, und wir haben es einfach nicht geschafft, die entsprechenden Fehlerbeispiele in der Datenbank zu akkumulieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Beobachtung ist jedoch immer noch interessant. </font><font style="vertical-align: inherit;">Anscheinend verwenden C- und C ++ - Programmierer gerne die Nummern 0, 1 und 2 mehr, wenn sie mit Arrays arbeiten :).</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rechtschreibfehler in Namen</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies wird der gr√∂√üte Abschnitt sein. </font><font style="vertical-align: inherit;">Es ist sehr leicht f√ºr Leute, durch Namen wie </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a1</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a2</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> verwirrt zu werden </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Es scheint, als k√∂nnten Sie hier verwirrt werden? </font><font style="vertical-align: inherit;">Kann. </font><font style="vertical-align: inherit;">Einfach. </font><font style="vertical-align: inherit;">Und jetzt kann der Leser dies √ºberpr√ºfen. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hive-Projekt, Java</font></font></b><br>
<pre><code class="java hljs"><span class="hljs-meta">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;ServiceInstance&gt; <span class="hljs-title">getAllInstancesOrdered</span><span class="hljs-params">()</span> </span>{<font></font>
  List&lt;ServiceInstance&gt; list = <span class="hljs-keyword">new</span> LinkedList&lt;&gt;();<font></font>
  list.addAll(instances.values());<font></font>
  Collections.sort(list, <span class="hljs-keyword">new</span> Comparator&lt;ServiceInstance&gt;() {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">compare</span><span class="hljs-params">(ServiceInstance o1, ServiceInstance o2)</span> </span>{
      <span class="hljs-keyword">return</span> o2.getWorkerIdentity().compareTo(o2.getWorkerIdentity());<font></font>
    }<font></font>
  });<font></font>
  <span class="hljs-keyword">return</span> list;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Vergleichsfunktion </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">compare verwendet</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zwei Objekte: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o1</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o2</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Aufgrund eines Tippfehlers wird jedoch nur </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o2</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> weiter verwendet </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Interessanterweise wurde dieser Fehler dank Copy-Paste auf eine andere Funktion migriert:</font></font><br>
<pre><code class="cpp hljs">@<span class="hljs-function">Override
<span class="hljs-keyword">public</span> List&lt;ServiceInstance&gt; <span class="hljs-title">getAllInstancesOrdered</span><span class="hljs-params">()</span> </span>{<font></font>
  List&lt;ServiceInstance&gt; <span class="hljs-built_in">list</span> = <span class="hljs-keyword">new</span> LinkedList&lt;&gt;();<font></font>
  readLock.lock();<font></font>
  <span class="hljs-keyword">try</span> {
    <span class="hljs-built_in">list</span>.addAll(instances.values());<font></font>
  } finally {<font></font>
    readLock.unlock();<font></font>
  }<font></font>
  Collections.sort(<span class="hljs-built_in">list</span>, <span class="hljs-keyword">new</span> Comparator&lt;ServiceInstance&gt;() {<font></font>
    @Override<font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> compare(ServiceInstance o1, ServiceInstance o2) {
      <span class="hljs-keyword">return</span> o2.getWorkerIdentity().compareTo(o2.getWorkerIdentity());<font></font>
    }<font></font>
  });<font></font>
  <span class="hljs-keyword">return</span> <span class="hljs-built_in">list</span>;<font></font>
}</code></pre><br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/776/52c/06b/77652c06b1550ac7ad80935716930f97.png" alt="Abbildung 10"></div><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Infer.NET-Projekt, C # -Sprache</font></font></b><br>
<pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">MergeParallelTransitions</span>(<span class="hljs-params"></span>)</span><font></font>
{<font></font>
  ....<font></font>
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">double</span>.IsInfinity(transition1.Weight.Value) &amp;&amp;    
      <span class="hljs-keyword">double</span>.IsInfinity(transition1.Weight.Value))<font></font>
  ....<font></font>
}</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Doom 3-Projekt, C ++</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function">uint <span class="hljs-title">AltOp::fixedLength</span><span class="hljs-params">()</span>
</span>{<font></font>
  uint l1 = exp1-&gt;fixedLength();<font></font>
  uint l2 = exp1-&gt;fixedLength();<font></font>
<font></font>
  <span class="hljs-keyword">if</span> (l1 != l2 || l1 == ~<span class="hljs-number">0u</span>)
    <span class="hljs-keyword">return</span> ~<span class="hljs-number">0</span>;<font></font>
<font></font>
  <span class="hljs-keyword">return</span> l1;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn jemand einen Tippfehler nicht sofort bemerkt hat, m√ºssen Sie sich die Zeile ansehen, in der die Variable </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l2</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> initialisiert wird </font><font style="vertical-align: inherit;">. </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sollte</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> verwenden </font><i><font style="vertical-align: inherit;">exp2</font></i><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Source Engine SDK-Projekt, C ++</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">GetFPSColor</span><span class="hljs-params">( <span class="hljs-keyword">int</span> nFps, <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span> ucColor[<span class="hljs-number">3</span>] )</span>
</span>{<font></font>
  ....<font></font>
  <span class="hljs-keyword">int</span> nFPSThreshold1 = <span class="hljs-number">20</span>;
  <span class="hljs-keyword">int</span> nFPSThreshold2 = <span class="hljs-number">15</span>;<font></font>
<font></font>
  <span class="hljs-keyword">if</span> (IsPC() &amp;&amp;<font></font>
      g_pMaterialSystemHardwareConfig-&gt;GetDXSupportLevel() &gt;= <span class="hljs-number">95</span>)<font></font>
  {<font></font>
    nFPSThreshold1 = <span class="hljs-number">60</span>;<font></font>
    nFPSThreshold1 = <span class="hljs-number">50</span>;<font></font>
  }<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Korrekt:</font></font><br>
<pre><code class="cpp hljs">nFPSThreshold1 = <span class="hljs-number">60</span>;<font></font>
nFPSThreshold2 = <span class="hljs-number">50</span>;</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linux-Kernel-Projekt, C-Sprache</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Tippfehler k√∂nnen √ºbrigens nicht nur in Variablennamen, sondern auch in Makronamen vorkommen. </font><font style="vertical-align: inherit;">Nun wird es mehrere solcher Beispiele geben.</font></font><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">private_ioctl</span><span class="hljs-params">(struct vnt_private *pDevice, struct ifreq *rq)</span>
</span>{<font></font>
  ....<font></font>
  <span class="hljs-keyword">if</span> (sStartAPCmd.byBasicRate &amp; BIT3) {<font></font>
    pMgmt-&gt;abyIBSSSuppRates[<span class="hljs-number">2</span>] |= BIT7;<font></font>
    pMgmt-&gt;abyIBSSSuppRates[<span class="hljs-number">3</span>] |= BIT7;<font></font>
    pMgmt-&gt;abyIBSSSuppRates[<span class="hljs-number">4</span>] |= BIT7;<font></font>
    pMgmt-&gt;abyIBSSSuppRates[<span class="hljs-number">5</span>] |= BIT7;<font></font>
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (sStartAPCmd.byBasicRate &amp; BIT2) {<font></font>
    pMgmt-&gt;abyIBSSSuppRates[<span class="hljs-number">2</span>] |= BIT7;<font></font>
    pMgmt-&gt;abyIBSSSuppRates[<span class="hljs-number">3</span>] |= BIT7;<font></font>
    pMgmt-&gt;abyIBSSSuppRates[<span class="hljs-number">4</span>] |= BIT7;<font></font>
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (sStartAPCmd.byBasicRate &amp; BIT1) {  <span class="hljs-comment">// &lt;=</span>
    pMgmt-&gt;abyIBSSSuppRates[<span class="hljs-number">2</span>] |= BIT7;<font></font>
    pMgmt-&gt;abyIBSSSuppRates[<span class="hljs-number">3</span>] |= BIT7;<font></font>
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (sStartAPCmd.byBasicRate &amp; BIT1) {  <span class="hljs-comment">// &lt;=</span>
    pMgmt-&gt;abyIBSSSuppRates[<span class="hljs-number">2</span>] |= BIT7;<font></font>
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">/* default 1,2M */</span>
    pMgmt-&gt;abyIBSSSuppRates[<span class="hljs-number">2</span>] |= BIT7;<font></font>
    pMgmt-&gt;abyIBSSSuppRates[<span class="hljs-number">3</span>] |= BIT7;<font></font>
  }<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie Sie sehen k√∂nnen, wird eine Maske namens </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BIT1</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zweimal verwendet </font><font style="vertical-align: inherit;">, was die zweite Pr√ºfung sinnlos macht. </font><font style="vertical-align: inherit;">Der Hauptteil der zweiten kommentierten bedingten Anweisung wird niemals ausgef√ºhrt. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMaNGOS-Projekt, C ++</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">AttackedBy</span><span class="hljs-params">(Unit* pAttacker)</span> <span class="hljs-keyword">override</span>
</span>{<font></font>
  ....<font></font>
  DoScriptText(urand(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>) ?<font></font>
               SAY_BELNISTRASZ_AGGRO_1 :<font></font>
               SAY_BELNISTRASZ_AGGRO_1,<font></font>
               m_creature, pAttacker);<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zuf√§lliges Verhalten wurde im Spiel geplant, aber </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">es wird</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> immer dieselbe Konstante </font><i><font style="vertical-align: inherit;">SAY_BELNISTRASZ_AGGRO_1</font></i><font style="vertical-align: inherit;"> ausgew√§hlt </font><font style="vertical-align: inherit;">. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vangers-Projekt: Eins f√ºr die Stra√üe, C ++</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* <span class="hljs-title">iGetJoyBtnNameText</span><span class="hljs-params">(<span class="hljs-keyword">int</span> vkey,<span class="hljs-keyword">int</span> lang)</span>
</span>{<font></font>
  ....<font></font>
  <span class="hljs-keyword">if</span> (vkey &gt;= VK_STICK_SWITCH_1 &amp;&amp; vkey &lt;= VK_STICK_SWITCH_9)<font></font>
  {<font></font>
     ret = (lang)<font></font>
      ? iJoystickStickSwitch2[vkey - VK_STICK_SWITCH_1]<font></font>
      : iJoystickStickSwitch2[vkey - VK_STICK_SWITCH_1];<font></font>
    <span class="hljs-keyword">return</span> ret;<font></font>
  }<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nach dem daneben geschriebenen Code zu urteilen, sollte die richtige Option folgenderma√üen aussehen:</font></font><br>
<pre><code class="cpp hljs">ret = (lang)<font></font>
  ? iJoystickStickSwitch2[vkey - VK_STICK_SWITCH_1]<font></font>
  : iJoystickStickSwitch1[vkey - VK_STICK_SWITCH_1];</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RT-Thread-Projekt, C-Sprache</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">uint8_t</span> <span class="hljs-title">can_receive_message_length</span><span class="hljs-params">(<span class="hljs-keyword">uint32_t</span> can_periph,
                                   <span class="hljs-keyword">uint8_t</span> fifo_number)</span>
</span>{
  <span class="hljs-keyword">uint8_t</span> val = <span class="hljs-number">0U</span>;<font></font>
<font></font>
  <span class="hljs-keyword">if</span>(CAN_FIFO0 == fifo_number){<font></font>
    val = (<span class="hljs-keyword">uint8_t</span>)(CAN_RFIFO0(can_periph) &amp; CAN_RFIFO_RFL0_MASK);<font></font>
  }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(CAN_FIFO0 == fifo_number){<font></font>
    val = (<span class="hljs-keyword">uint8_t</span>)(CAN_RFIFO1(can_periph) &amp; CAN_RFIFO_RFL0_MASK);<font></font>
  }<span class="hljs-keyword">else</span>{
    <span class="hljs-comment">/* illegal parameter */</span><font></font>
  }<font></font>
  <span class="hljs-keyword">return</span> val;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RT-Thread ist ein Open-Source-Echtzeitbetriebssystem f√ºr eingebettete Ger√§te. </font><font style="vertical-align: inherit;">Hier sehen wir die Verwechslung zwischen FIFO 0 und FIFO 1. Und irgendwo wird jemand auf ein fehlerhaftes Ger√§t sto√üen.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2e9/3e3/3a9/2e93e33a9dd36ed4bd3049a66d1e6ad5.png" alt="Abbildung 11"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Fehler ist hier:</font></font><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">if</span>      (CAN_FIFO0 == fifo_number){<font></font>
....<font></font>
}<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(CAN_FIFO0 == fifo_number){</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die zweite Pr√ºfung ergibt immer false. </font><font style="vertical-align: inherit;">Korrekt:</font></font><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">if</span>      (CAN_FIFO0 == fifo_number){<font></font>
....<font></font>
}<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(CAN_FIFO1 == fifo_number){</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hive-Projekt, Java</font></font></b><br>
<pre><code class="java hljs"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span>
<span class="hljs-title">generateDateTimeArithmeticIntervalYearMonth</span><span class="hljs-params">(String[] tdesc)</span> <span class="hljs-keyword">throws</span> Exception </span>{<font></font>
  String operatorName = tdesc[<span class="hljs-number">1</span>];<font></font>
  String operatorSymbol = tdesc[<span class="hljs-number">2</span>];<font></font>
  String operandType1 = tdesc[<span class="hljs-number">3</span>];<font></font>
  String colOrScalar1 = tdesc[<span class="hljs-number">4</span>];<font></font>
  String operandType2 = tdesc[<span class="hljs-number">5</span>];<font></font>
  String colOrScalar2 = tdesc[<span class="hljs-number">6</span>];<font></font>
  ....<font></font>
  <span class="hljs-keyword">if</span> (colOrScalar1.equals(<span class="hljs-string">"Col"</span>) &amp;&amp; colOrScalar1.equals(<span class="hljs-string">"Column"</span>)) {<font></font>
    ....<font></font>
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (colOrScalar1.equals(<span class="hljs-string">"Col"</span>) &amp;&amp; colOrScalar1.equals(<span class="hljs-string">"Scalar"</span>)) {<font></font>
    ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der PVS-Studio-Analysator zeigt sofort 2 Fehler an:</font></font><ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eine in </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">colOrScalar1</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gespeicherte </font><i><font style="vertical-align: inherit;">Zeichenfolge</font></i><font style="vertical-align: inherit;"> kann nicht sowohl </font><i><font style="vertical-align: inherit;">Col-</font></i><font style="vertical-align: inherit;"> als auch Column-Zeichenfolgen entsprechen.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die in </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">colOrScalar1</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gespeicherte </font><i><font style="vertical-align: inherit;">Zeichenfolge</font></i><font style="vertical-align: inherit;"> kann nicht gleichzeitig den Zeichenfolgen Col und Scalar entsprechen.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt eindeutig Verwirrung √ºber Variablennamen. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Shareaza-Projekt, C ++ - Sprache</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">CDownloadWithSources::MergeMetadata</span><span class="hljs-params">(<span class="hljs-keyword">const</span> CXMLElement* pXML)</span>
</span>{
  <span class="hljs-function">CQuickLock <span class="hljs-title">pLock</span><span class="hljs-params">( Transfers.m_pSection )</span></span>;<font></font>
<font></font>
  CXMLAttribute* pAttr1 =<font></font>
    m_pXML-&gt;GetAttribute(CXMLAttribute::schemaName);<font></font>
  CXMLAttribute* pAttr2 =<font></font>
    pXML-&gt;GetAttribute(CXMLAttribute::schemaName);<font></font>
<font></font>
  <span class="hljs-keyword">if</span> (pAttr1 &amp;&amp; pAttr2 &amp;&amp;<font></font>
      !pAttr1-&gt;GetValue().CompareNoCase(pAttr1-&gt;GetValue()))<font></font>
    ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Korrekt:</font></font><br>
<pre><code class="cpp hljs">pAttr1-&gt;GetValue().CompareNoCase(pAttr2-&gt;GetValue())</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hinweis</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Machen wir eine kurze Pause. Es besteht die Bef√ºrchtung, dass wir beim Blick durch einen Berg banaler Fehler vergessen werden, warum wir dies tun. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Aufgabe besteht nicht darin, √ºber den Code eines anderen zu lachen. All dies ist kein Grund, mit dem Finger zu stechen und zu sagen: "Ha ha, nun, du musst." Dieser Grund zum Nachdenken! </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Ver√∂ffentlichungen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> unseres Teams sollen zeigen, dass keiner von uns vor Fehlern gefeit ist. Die im Artikel beschriebenen Fehler erscheinen viel h√§ufiger im Code als erwartet. Es ist auch wichtig, dass die Wahrscheinlichkeit, in 0, 1, 2 verloren zu gehen, fast nicht von den Qualifikationen des Programmierers abh√§ngt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist n√ºtzlich zu erkennen, dass Menschen dazu neigen, Fehler zu machen. </font><font style="vertical-align: inherit;">Ohne dies k√∂nnen Sie nicht den n√§chsten Schritt zur Verbesserung der Qualit√§t und Zuverl√§ssigkeit des Codes unternehmen. </font><font style="vertical-align: inherit;">Da die Menschen verstehen, dass wir uns alle irren, versuchen sie fr√ºhzeitig, Fehler mithilfe von Codierungsstandards, Code√ºberpr√ºfungen, Komponententests, statischen und dynamischen Analysatoren zu identifizieren. </font><font style="vertical-align: inherit;">Es ist sehr gut. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Warum sind die Dinge so verst√§ndlich geschrieben? </font><font style="vertical-align: inherit;">Leider m√ºssen wir bei der Kommunikation mit einer gro√üen Anzahl von Entwicklern feststellen, dass dies nicht immer f√ºr alle so klar ist. </font><font style="vertical-align: inherit;">Viele haben ein zu hohes Selbstwertgef√ºhl und lassen einfach nicht zu, dass sie in der Lage sind, einfache Fehler zu machen. </font><font style="vertical-align: inherit;">Es ist traurig. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie ein Teamleiter / Manager sind, lade ich Sie ein, sich gleichzeitig mit dieser </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notiz</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> vertraut zu machen </font><font style="vertical-align: inherit;">. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qt-Projekt, C ++</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function">AtomicComparator::ComparisonResult
<span class="hljs-title">IntegerComparator::compare</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Item &amp;o1,
                           <span class="hljs-keyword">const</span> AtomicComparator::Operator,
                           <span class="hljs-keyword">const</span> Item &amp;o2)</span> <span class="hljs-keyword">const</span>
</span>{
  <span class="hljs-keyword">const</span> Numeric *<span class="hljs-keyword">const</span> num1 = o1.as&lt;Numeric&gt;();
  <span class="hljs-keyword">const</span> Numeric *<span class="hljs-keyword">const</span> num2 = o1.as&lt;Numeric&gt;();<font></font>
<font></font>
  <span class="hljs-keyword">if</span>(num1-&gt;isSigned() || num2-&gt;isSigned())<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Korrekt:</font></font><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">const</span> Numeric *<span class="hljs-keyword">const</span> num2 = o2.as&lt;Numeric&gt;();</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Android-Projekt, C ++ - Sprache</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">inline</span> <span class="hljs-keyword">bool</span> <span class="hljs-title">isAudioPlaybackRateEqual</span><span class="hljs-params">(
  <span class="hljs-keyword">const</span> AudioPlaybackRate &amp;pr1,
  <span class="hljs-keyword">const</span> AudioPlaybackRate &amp;pr2)</span>
</span>{
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">fabs</span>(pr1.mSpeed - pr2.mSpeed) &lt;<font></font>
             AUDIO_TIMESTRETCH_SPEED_MIN_DELTA &amp;&amp;<font></font>
           <span class="hljs-built_in">fabs</span>(pr1.mPitch - pr2.mPitch) &lt;<font></font>
             AUDIO_TIMESTRETCH_PITCH_MIN_DELTA &amp;&amp;<font></font>
           pr2.mStretchMode == pr2.mStretchMode &amp;&amp;<font></font>
           pr2.mFallbackMode == pr2.mFallbackMode;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zwei Tippfehler gleichzeitig, aufgrund derer die Variablen </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pr2.mStretchMode</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pr2.mFallbackMode</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mit sich selbst verglichen werden. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Boost-Projekt, C ++</font></font></b><br>
<pre><code class="cpp hljs">point3D <span class="hljs-keyword">operator</span>/(<span class="hljs-keyword">const</span> point3D &amp;p1, <span class="hljs-keyword">const</span> point3D &amp;p2)<font></font>
{<font></font>
  <span class="hljs-keyword">return</span> point3D(p1.x/p2.x, p1.y/p2.y, p1.z/p1.z);<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ganz am Ende haben sie die Variable </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p1.z</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> selbst </font><font style="vertical-align: inherit;">versiegelt und geteilt </font><font style="vertical-align: inherit;">. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Clang-Projekt, C ++</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">haveSameType</span><span class="hljs-params">(QualType Ty1, QualType Ty2)</span> </span>{
  <span class="hljs-keyword">return</span> (Context.getCanonicalType(Ty1) ==<font></font>
          Context.getCanonicalType(Ty2) ||<font></font>
          (Ty2-&gt;isIntegerType() &amp;&amp;<font></font>
           Ty2-&gt;isIntegerType()));<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ja, ja, PVS-Studio Analyzer findet √§hnliche Fehler in Compilern. </font><font style="vertical-align: inherit;">Korrekt:</font></font><br>
<pre><code class="cpp hljs">(Ty1-&gt;isIntegerType() &amp;&amp;<font></font>
 Ty2-&gt;isIntegerType())</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Clang-Projekt, C ++</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function">Instruction *<span class="hljs-title">InstCombiner::visitXor</span><span class="hljs-params">(BinaryOperator &amp;I)</span> </span>{<font></font>
  ....<font></font>
  <span class="hljs-keyword">if</span> (Op0I &amp;&amp; Op1I &amp;&amp; Op0I-&gt;isShift() &amp;&amp;<font></font>
      Op0I-&gt;getOpcode() == Op1I-&gt;getOpcode() &amp;&amp;<font></font>
      Op0I-&gt;getOperand(<span class="hljs-number">1</span>) == Op1I-&gt;getOperand(<span class="hljs-number">1</span>) &amp;&amp;<font></font>
      (Op1I-&gt;hasOneUse() || Op1I-&gt;hasOneUse())) {<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Korrekt:</font></font><br>
<pre><code class="cpp hljs">(Op0I-&gt;hasOneUse() || Op1I-&gt;hasOneUse())</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qt-Projekt, C ++</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">bool</span> <span class="hljs-title">qCompare</span><span class="hljs-params">(QImage <span class="hljs-keyword">const</span> &amp;t1, QImage <span class="hljs-keyword">const</span> &amp;t2, ....)</span>
</span>{<font></font>
  ....<font></font>
  <span class="hljs-keyword">if</span> (t1.width() != t2.width() || t2.height() != t2.height()) {<font></font>
  ....<font></font>
}</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NCBI Genome Workbench-Projekt, C ++</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">bool</span> <span class="hljs-title">s_PCRPrimerSetLess</span><span class="hljs-params">(<span class="hljs-keyword">const</span> CPCRPrimerSet&amp; s1, <span class="hljs-keyword">const</span> CPCRPrimerSet&amp; s2)</span>
</span>{
  <span class="hljs-keyword">if</span> (!s1.IsSet() &amp;&amp; s1.IsSet()) {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<font></font>
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (s1.IsSet() &amp;&amp; !s2.IsSet()) {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<font></font>
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!s1.IsSet() &amp;&amp; !s2.IsSet()) {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<font></font>
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (s1.Get().size() &lt; s2.Get().size()) {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<font></font>
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (s1.Get().size() &gt; s2.Get().size()) {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<font></font>
  } <span class="hljs-keyword">else</span> {<font></font>
  .....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fehler bei der allerersten Pr√ºfung. </font><font style="vertical-align: inherit;">Es sollte geschrieben werden:</font></font><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">if</span> (!s1.IsSet() &amp;&amp; s2.IsSet()) {</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NCBI Genome Workbench-Projekt, C ++</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function">CRef&lt;CSeq_align&gt; <span class="hljs-title">CNWAligner::Run</span><span class="hljs-params">(CScope &amp;scope, <span class="hljs-keyword">const</span> CSeq_loc &amp;loc1,
                                 <span class="hljs-keyword">const</span> CSeq_loc &amp;loc2, <span class="hljs-keyword">bool</span> trim_end_gaps)</span>
</span>{
  <span class="hljs-keyword">if</span> ((!loc1.IsInt() &amp;&amp; !loc1.IsWhole()) ||<font></font>
      (!loc1.IsInt() &amp;&amp; !loc1.IsWhole()))<font></font>
  {<font></font>
    NCBI_THROW(CException, eUnknown,<font></font>
               <span class="hljs-string">"Only whole and interval locations supported"</span>);<font></font>
  }<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die erste Zeile der Bedingung wurde weitergegeben, aber dann beeilte sich der Programmierer und verga√ü, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">loc1</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> durch </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">loc2</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zu ersetzen </font><font style="vertical-align: inherit;">. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FlashDevelop-Projekt, C #</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SetPrices</span><span class="hljs-params">(....)</span>
</span>{<font></font>
  UInt32 a0 = _choice.GetPrice0();<font></font>
  UInt32 a1 = _choice.GetPrice1();<font></font>
  UInt32 b0 = a1 + _choice2.GetPrice0();   <span class="hljs-comment">// &lt;=</span><font></font>
  UInt32 b1 = a1 + _choice2.GetPrice1();<font></font>
  ....<font></font>
}</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FreeCAD-Projekt, C ++</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span> <span class="hljs-title">insEdgeVec</span><span class="hljs-params">(<span class="hljs-built_in">std</span>::<span class="hljs-built_in">map</span>&lt;<span class="hljs-keyword">int</span>,<span class="hljs-built_in">std</span>::<span class="hljs-built_in">set</span>&lt;<span class="hljs-keyword">int</span>&gt; &gt; &amp;<span class="hljs-built_in">map</span>,
                       <span class="hljs-keyword">int</span> n1, <span class="hljs-keyword">int</span> n2)</span>
</span>{
  <span class="hljs-keyword">if</span>(n1&lt;n2)
    <span class="hljs-built_in">map</span>[n2].insert(n1);
  <span class="hljs-keyword">else</span>
    <span class="hljs-built_in">map</span>[n2].insert(n1);<font></font>
};</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unabh√§ngig von der Bedingung wird dieselbe Aktion ausgef√ºhrt. </font><font style="vertical-align: inherit;">Es scheint so ein einfacher Fall zu sein. </font><font style="vertical-align: inherit;">Wie k√∂nnen Sie eine Zeile kopieren und nicht reparieren? </font><font style="vertical-align: inherit;">Kann. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LibreOffice-Projekt, C ++</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SVX_DLLPUBLIC</span> <span class="hljs-title">SdrMarkView</span> :</span> <span class="hljs-keyword">public</span> SdrSnapView<font></font>
{<font></font>
  ....<font></font>
  <span class="hljs-function"><span class="hljs-keyword">const</span> Point&amp; <span class="hljs-title">GetRef1</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{ <span class="hljs-keyword">return</span> maRef1; }
  <span class="hljs-function"><span class="hljs-keyword">const</span> Point&amp; <span class="hljs-title">GetRef2</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{ <span class="hljs-keyword">return</span> maRef1; }<font></font>
  ....<font></font>
};</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Klassischer Fehler beim Kopieren und Einf√ºgen. </font><font style="vertical-align: inherit;">Korrekt:</font></font><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">const</span> Point&amp; <span class="hljs-title">GetRef2</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{ <span class="hljs-keyword">return</span> maRef2; }</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LibreOffice-Projekt, C ++</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">CmpAttr</span><span class="hljs-params">(
  <span class="hljs-keyword">const</span> SfxPoolItem&amp; rItem1, <span class="hljs-keyword">const</span> SfxPoolItem&amp; rItem2)</span>
</span>{<font></font>
  ....<font></font>
  ::boost::optional&lt;sal_uInt16&gt; oNumOffset1 =<font></font>
        <span class="hljs-keyword">static_cast</span>&lt;<span class="hljs-keyword">const</span> SwFmtPageDesc&amp;&gt;(rItem1).GetNumOffset();<font></font>
  ::boost::optional&lt;sal_uInt16&gt; oNumOffset2 =<font></font>
        <span class="hljs-keyword">static_cast</span>&lt;<span class="hljs-keyword">const</span> SwFmtPageDesc&amp;&gt;(rItem1).GetNumOffset();<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und noch ein klassischer Copy-Paste-Fehler :). </font><font style="vertical-align: inherit;">An einer Stelle korrigierten 1 bis 2 und an einer anderen verga√üen sie. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LibreOffice-Projekt, C ++</font></font></b><br>
<pre><code class="cpp hljs">XMLTransformerOOoEventMap_Impl::XMLTransformerOOoEventMap_Impl(<font></font>
        XMLTransformerEventMapEntry *pInit,<font></font>
        XMLTransformerEventMapEntry *pInit2 )<font></font>
{<font></font>
  <span class="hljs-keyword">if</span>( pInit )<font></font>
    AddMap( pInit );<font></font>
  <span class="hljs-keyword">if</span>( pInit )<font></font>
    AddMap( pInit2 );<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist kein Fehler, 1 durch 2 zu ersetzen, aber es wurde einfach keine 2 zur zweiten Bedingung hinzugef√ºgt.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bc2/b45/1ab/bc2b451ab103e2657fff7f29a31c3920.png" alt="Abbildung 12"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie k√∂nnen ein wenig m√ºde sein. </font><font style="vertical-align: inherit;">Daher schlage ich vor, Tee oder Kaffee zuzubereiten, und wir werden unsere Bekanntschaft mit der Welt der Nummern 0, 1 und 2 fortsetzen. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Geant4-Softwareprojekt, C ++ - Sprache</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">G4VTwistSurface::GetBoundaryLimit</span><span class="hljs-params">(G4int areacode,
                                       G4double limit[])</span> <span class="hljs-keyword">const</span>
</span>{<font></font>
  ....<font></font>
  <span class="hljs-keyword">if</span> (areacode &amp; sC0Min1Max) {<font></font>
     limit[<span class="hljs-number">0</span>] = fAxisMin[<span class="hljs-number">0</span>];<font></font>
     limit[<span class="hljs-number">1</span>] = fAxisMin[<span class="hljs-number">1</span>];<font></font>
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (areacode &amp; sC0Max1Min) {<font></font>
     limit[<span class="hljs-number">0</span>] = fAxisMax[<span class="hljs-number">0</span>];<font></font>
     limit[<span class="hljs-number">1</span>] = fAxisMin[<span class="hljs-number">1</span>];<font></font>
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (areacode &amp; sC0Max1Max) {<font></font>
     limit[<span class="hljs-number">0</span>] = fAxisMax[<span class="hljs-number">0</span>];<font></font>
     limit[<span class="hljs-number">1</span>] = fAxisMax[<span class="hljs-number">1</span>];<font></font>
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (areacode &amp; sC0Min1Max) {<font></font>
     limit[<span class="hljs-number">0</span>] = fAxisMin[<span class="hljs-number">0</span>];<font></font>
     limit[<span class="hljs-number">1</span>] = fAxisMax[<span class="hljs-number">1</span>];<font></font>
  }<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich hoffe, Sie haben den Rat befolgt und sich ausgeruht. </font><font style="vertical-align: inherit;">Bereit, einen Fehler in diesem Code zu finden? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Herzlichen Gl√ºckwunsch an die Leser, die einen Fehler bemerkt haben. </font><font style="vertical-align: inherit;">Du bist gro√üartig! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diejenigen, die zu faul sind, um zu suchen, verstehe ich auch. </font><font style="vertical-align: inherit;">Die √úberpr√ºfung eines solchen Codes ist sehr m√ºhsam und es besteht der Wunsch, schnell etwas Interessanteres zu √ºberpr√ºfen. </font><font style="vertical-align: inherit;">Hier helfen statische Analyseger√§te sehr, weil sie nicht m√ºde werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Fehler ist, dass diese beiden √úberpr√ºfungen gleich sind:</font></font><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">if</span>        (areacode &amp; sC0Min1Max) {<font></font>
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (areacode &amp; sC0Min1Max) {</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie den Code studieren, wird klar, dass die allererste √úberpr√ºfung fehlerhaft ist. </font><font style="vertical-align: inherit;">Korrekt:</font></font><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">if</span>        (areacode &amp; sC0Min1Min) {<font></font>
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (areacode &amp; sC0Max1Min) {<font></font>
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (areacode &amp; sC0Max1Max) {<font></font>
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (areacode &amp; sC0Min1Max) {</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CryEngine V-Projekt, C ++</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span>
<span class="hljs-title">CompareRotation</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Quat&amp; q1, <span class="hljs-keyword">const</span> Quat&amp; q2, <span class="hljs-keyword">float</span> epsilon)</span>
</span>{
  <span class="hljs-keyword">return</span> (fabs_tpl(q1.v.x - q2.v.x) &lt;= epsilon)<font></font>
      &amp;&amp; (fabs_tpl(q1.v.y - q2.v.y) &lt;= epsilon)<font></font>
      &amp;&amp; (fabs_tpl(q2.v.z - q2.v.z) &lt;= epsilon) <span class="hljs-comment">// &lt;=</span><font></font>
      &amp;&amp; (fabs_tpl(q1.w - q2.w) &lt;= epsilon);<font></font>
}</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TortoiseGit-Projekt, C ++</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">CGitStatusListCtrl::OnContextMenuList</span><span class="hljs-params">(....)</span>
</span>{<font></font>
  ....<font></font>
  <span class="hljs-keyword">if</span>( (!<span class="hljs-keyword">this</span>-&gt;m_Rev1.IsEmpty()) ||<font></font>
      (!<span class="hljs-keyword">this</span>-&gt;m_Rev1.IsEmpty()) )<font></font>
  ....<font></font>
}</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Geant4-Softwareprojekt, C ++ - Sprache</font></font></b><br>
<pre><code class="cpp hljs">G4double G4MesonAbsorption::<font></font>
GetTimeToAbsorption(<span class="hljs-keyword">const</span> G4KineticTrack&amp; trk1,
                    <span class="hljs-keyword">const</span> G4KineticTrack&amp; trk2)<font></font>
{<font></font>
  ....<font></font>
  <span class="hljs-keyword">if</span>(( trk1.GetDefinition() == G4Neutron::Neutron() ||<font></font>
       trk1.GetDefinition() == G4Neutron::Neutron() ) &amp;&amp;<font></font>
       sqrtS&gt;<span class="hljs-number">1.91</span>*GeV &amp;&amp; pi*distance&gt;maxChargedCrossSection)
    <span class="hljs-keyword">return</span> time;<font></font>
  ....<font></font>
}</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MonoDevelop-Projekt, C #</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">bool</span> <span class="hljs-title">MembersMatch</span><span class="hljs-params">(ISymbol member1, ISymbol member2)</span>
</span>{<font></font>
  ....<font></font>
  <span class="hljs-keyword">if</span> (member1.DeclaredAccessibility !=<font></font>
      member1.DeclaredAccessibility<font></font>
   || member1.IsStatic != member1.IsStatic)<font></font>
  {<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<font></font>
  }<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie Sie sehen k√∂nnen, gehen die Codefragmente ohne Erkl√§rung. </font><font style="vertical-align: inherit;">Eigentlich gibt es hier nichts zu erkl√§ren. </font><font style="vertical-align: inherit;">Du kannst nur seufzen. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dolphin Emulator Project, C ++</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">IRBuilder::maskedValueIsZero</span><span class="hljs-params">(InstLoc Op1, InstLoc Op2)</span> <span class="hljs-keyword">const</span>
</span>{
  <span class="hljs-keyword">return</span> (~ComputeKnownZeroBits(Op1) &amp;<font></font>
          ~ComputeKnownZeroBits(Op1)) == <span class="hljs-number">0</span>;<font></font>
}</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RunAsAdmin Explorer Shim-Projekt, C ++</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">IsLuidsEqual</span><span class="hljs-params">(LUID luid1, LUID luid2)</span>
</span>{
  <span class="hljs-keyword">return</span> (luid1.LowPart == luid2.LowPart) &amp;&amp;<font></font>
         (luid2.HighPart == luid2.HighPart);<font></font>
}</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IT ++ - Projekt, C ++ - Sprache</font></font></b><br>
<pre><code class="cpp hljs">Gold::Gold(<span class="hljs-keyword">const</span> ivec &amp;mseq1_connections,
           <span class="hljs-keyword">const</span> ivec &amp;mseq2_connections)<font></font>
{<font></font>
  ....<font></font>
  it_assert(mseq1.get_length() == mseq1.get_length(),<font></font>
            <span class="hljs-string">"Gold::Gold(): dimension mismatch"</span>);<font></font>
}</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">QuantLib-Projekt, C ++</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function">Distribution <span class="hljs-title">ManipulateDistribution::convolve</span><span class="hljs-params">(
  <span class="hljs-keyword">const</span> Distribution&amp; d1, <span class="hljs-keyword">const</span> Distribution&amp; d2)</span> </span>{<font></font>
  ....<font></font>
  QL_REQUIRE (d1.xmin_ == <span class="hljs-number">0.0</span> &amp;&amp; d1.xmin_ == <span class="hljs-number">0.0</span>,
              <span class="hljs-string">"distributions offset larger than 0"</span>);<font></font>
  ....<font></font>
}</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Samba-Projekt, C ++</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">bool</span> <span class="hljs-title">samu_correct</span><span class="hljs-params">(struct samu *s1, struct samu *s2)</span>
</span>{<font></font>
  ....<font></font>
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (s1_len != s1_len) {<font></font>
    DEBUG(<span class="hljs-number">0</span>, (<span class="hljs-string">"Password history not written correctly, "</span>
              <span class="hljs-string">"lengths differ, want %d, got %d\n"</span>,<font></font>
          s1_len, s2_len));<font></font>
  ....<font></font>
}</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mozilla Firefox-Projekt, C ++</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">static</span> PRBool <span class="hljs-title">IsZPositionLEQ</span><span class="hljs-params">(nsDisplayItem* aItem1,
                             nsDisplayItem* aItem2,
                             <span class="hljs-keyword">void</span>* aClosure)</span> </span>{
  <span class="hljs-keyword">if</span> (!aItem1-&gt;GetUnderlyingFrame()-&gt;Preserves3D() ||<font></font>
      !aItem1-&gt;GetUnderlyingFrame()-&gt;Preserves3D()) {<font></font>
    <span class="hljs-keyword">return</span> IsContentLEQ(aItem1, aItem2, aClosure);<font></font>
  }<font></font>
  ....<font></font>
}</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Haiku-Betriebssystemprojekt, C ++</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">trans_double_path::reset</span><span class="hljs-params">()</span>
</span>{<font></font>
  m_src_vertices1.remove_all();<font></font>
  m_src_vertices2.remove_all();<font></font>
  m_kindex1 = <span class="hljs-number">0.0</span>;               <span class="hljs-comment">// &lt;=</span>
  m_kindex1 = <span class="hljs-number">0.0</span>;               <span class="hljs-comment">// &lt;=</span><font></font>
  m_status1 = initial;<font></font>
  m_status2 = initial;<font></font>
}</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das Qt-Projekt C ++</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ok, jetzt wollen wir etwas komplizierter werden. </font><font style="vertical-align: inherit;">Versuchen Sie zum Spa√ü, den Fehler hier zu finden:</font></font><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">static</span> ShiftResult <span class="hljs-title">shift</span><span class="hljs-params">(....)</span>
</span>{<font></font>
  ....<font></font>
  qreal l = (orig-&gt;x1 - orig-&gt;x2)*(orig-&gt;x1 - orig-&gt;x2) +<font></font>
            (orig-&gt;y1 - orig-&gt;y2)*(orig-&gt;y1 - orig-&gt;y1) *<font></font>
            (orig-&gt;x3 - orig-&gt;x4)*(orig-&gt;x3 - orig-&gt;x4) +<font></font>
            (orig-&gt;y3 - orig-&gt;y4)*(orig-&gt;y3 - orig-&gt;y4);<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein Bild, um die Antwort nicht sofort zu sehen und die Gelegenheit zum Nachdenken zu haben.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b5c/960/461/b5c960461e9ffce998cee4e1380b08f7.png" alt="Abbildung 13"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das ist richtig, anstelle von </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">orig-&gt; y1 - orig-&gt; y1</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sollte </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">orig-&gt; y1 - orig-&gt; y2 geschrieben werden</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.NET Compiler Platform-Projekt, C # -Sprache</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">IndexerMemberRace</span><span class="hljs-params">()</span>
</span>{<font></font>
  ....<font></font>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">20</span>; i++)<font></font>
  {<font></font>
    ....<font></font>
    <span class="hljs-keyword">if</span> (i % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>)<font></font>
    {<font></font>
      thread1.Start();<font></font>
      thread2.Start();<font></font>
    }<font></font>
    <span class="hljs-keyword">else</span><font></font>
    {<font></font>
      thread1.Start();<font></font>
      thread2.Start();<font></font>
    }<font></font>
    ....<font></font>
  }<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Interessanter Fall. </font><font style="vertical-align: inherit;">Zu Testzwecken m√ºssen Sie Threads in einer anderen Reihenfolge ausf√ºhren. </font><font style="vertical-align: inherit;">Aufgrund eines Tippfehlers beginnen die Threads jedoch immer auf die gleiche Weise, wodurch der Test weniger pr√ºft, als er sollte. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Korrekt:</font></font><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">if</span> (i % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>)<font></font>
{<font></font>
  thread1.Start();<font></font>
  thread2.Start();<font></font>
}<font></font>
<span class="hljs-keyword">else</span><font></font>
{<font></font>
  thread2.Start();<font></font>
  thread1.Start();<font></font>
}</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Samba-Projekt, C-Sprache</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">compare_procids</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">void</span> *p1, <span class="hljs-keyword">const</span> <span class="hljs-keyword">void</span> *p2)</span>
</span>{
  <span class="hljs-keyword">const</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">server_id</span> *<span class="hljs-title">i1</span> = (<span class="hljs-title">struct</span> <span class="hljs-title">server_id</span> *)<span class="hljs-title">p1</span>;</span>
  <span class="hljs-keyword">const</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">server_id</span> *<span class="hljs-title">i2</span> = (<span class="hljs-title">struct</span> <span class="hljs-title">server_id</span> *)<span class="hljs-title">p2</span>;</span><font></font>
<font></font>
  <span class="hljs-keyword">if</span> (i1-&gt;pid &lt; i2-&gt;pid) <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;
  <span class="hljs-keyword">if</span> (i2-&gt;pid &gt; i2-&gt;pid) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Vergleichsfunktion gibt niemals 1 zur√ºck, da die Bedingung </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i2-&gt; pid&gt; i2-&gt; pid</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> keinen Sinn ergibt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nat√ºrlich ist dies ein gew√∂hnlicher Tippfehler, und tats√§chlich sollte er geschrieben werden:</font></font><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">if</span> (i1-&gt;pid &gt; i2-&gt;pid) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ChakraCore-Projekt, C ++</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Der letzte Fall in diesem Kapitel. </font><font style="vertical-align: inherit;">Hurra!</font></font><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">Lowerer::GenerateFastBrSrEq</span><span class="hljs-params">(....,
                                 IR::RegOpnd * srcReg1,
                                 IR::RegOpnd * srcReg2,
                                 ....)</span>
</span>{<font></font>
  ....<font></font>
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (srcReg1 &amp;&amp; (srcReg1-&gt;m_sym-&gt;m_isStrConst))<font></font>
  ....<font></font>
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (srcReg1 &amp;&amp; (srcReg1-&gt;m_sym-&gt;m_isStrConst))<font></font>
  ....<font></font>
}</code></pre><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Andere Fehler</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lassen Sie uns nun √ºber weniger zahlreiche Fehlermuster sprechen, die mit der Verwendung der Zahlen 0, 1, 2 verbunden sind.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tippfehler unter Bedingungen, bei denen die Konstante 0/1/2 explizit verwendet wird</font></font></h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ROOT-Projekt, C ++</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function">Int_t <span class="hljs-title">TProofMonSenderML::SendSummary</span><span class="hljs-params">(TList *recs, <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> *id)</span>
</span>{<font></font>
  ....<font></font>
  <span class="hljs-keyword">if</span> (fSummaryVrs == <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">if</span> ((dsn = recs-&gt;FindObject(<span class="hljs-string">"dataset"</span>))) recs-&gt;Remove(dsn);<font></font>
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (fSummaryVrs == <span class="hljs-number">0</span>) {<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist seltsam, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fSummaryVrs</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zweimal </font><font style="vertical-align: inherit;">mit 0 zu vergleichen. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.NET CoreCLR-Projekt, C #</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">PutIA64Imm22</span><span class="hljs-params">(UINT64 * pBundle, UINT32 slot, INT32 imm22)</span>
</span>{
  <span class="hljs-keyword">if</span> (slot == <span class="hljs-number">0</span>)             <span class="hljs-comment">// &lt;=</span><font></font>
  {<font></font>
    ....<font></font>
  }<font></font>
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (slot == <span class="hljs-number">1</span>)<font></font>
  {<font></font>
    ....<font></font>
  }<font></font>
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (slot == <span class="hljs-number">0</span>)        <span class="hljs-comment">// &lt;=</span><font></font>
  {<font></font>
    .... <font></font>
  }<font></font>
  ....<font></font>
}</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FFmpeg-Projekt, C-Sprache</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">imc_decode_block</span><span class="hljs-params">(....)</span>
</span>{<font></font>
  ....<font></font>
  <span class="hljs-keyword">if</span> (stream_format_code &amp; <span class="hljs-number">0x1</span>)<font></font>
    imc_decode_level_coefficients_raw(....);<font></font>
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (stream_format_code &amp; <span class="hljs-number">0x1</span>)<font></font>
    imc_read_level_coeffs_raw(....);<font></font>
  ....<font></font>
}</code></pre><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Postleitzahl / Name</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fr√ºher haben wir F√§lle betrachtet, in denen der Index oder Name falsch ist. </font><font style="vertical-align: inherit;">Und hier ist eine Situation, in der Sie nicht sofort wissen, wie der Fehler klassifiziert werden soll. </font><font style="vertical-align: inherit;">Dieses Beispiel k√∂nnte sowohl dem einen als auch dem anderen Kapitel zugeordnet werden. </font><font style="vertical-align: inherit;">Deshalb habe ich beschlossen, es separat zu bringen. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mesa 3D-Grafikbibliotheksprojekt, C ++</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">bool</span>
<span class="hljs-title">ir_algebraic_visitor::reassociate_constant</span><span class="hljs-params">(....)</span>
</span>{<font></font>
  ....<font></font>
  <span class="hljs-keyword">if</span> (ir1-&gt;operands[<span class="hljs-number">0</span>]-&gt;type-&gt;is_matrix() ||<font></font>
      ir1-&gt;operands[<span class="hljs-number">0</span>]-&gt;type-&gt;is_matrix() ||<font></font>
      ir2-&gt;operands[<span class="hljs-number">1</span>]-&gt;type-&gt;is_matrix() ||<font></font>
      ir2-&gt;operands[<span class="hljs-number">1</span>]-&gt;type-&gt;is_matrix())
   <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieser Code kann folgenderma√üen behoben werden:</font></font><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">if</span> (ir1-&gt;operands[<span class="hljs-number">0</span>]-&gt;type-&gt;is_matrix() ||<font></font>
    ir1-&gt;operands[<span class="hljs-number">1</span>]-&gt;type-&gt;is_matrix() ||<font></font>
    ir2-&gt;operands[<span class="hljs-number">0</span>]-&gt;type-&gt;is_matrix() ||<font></font>
    ir2-&gt;operands[<span class="hljs-number">1</span>]-&gt;type-&gt;is_matrix())</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und Sie k√∂nnen es so beheben:</font></font><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">if</span> (ir1-&gt;operands[<span class="hljs-number">0</span>]-&gt;type-&gt;is_matrix() ||<font></font>
    ir2-&gt;operands[<span class="hljs-number">0</span>]-&gt;type-&gt;is_matrix() ||<font></font>
    ir1-&gt;operands[<span class="hljs-number">1</span>]-&gt;type-&gt;is_matrix() ||<font></font>
    ir2-&gt;operands[<span class="hljs-number">1</span>]-&gt;type-&gt;is_matrix())</code></pre><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Extra 0</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Manchmal ist 0 redundant und sch√§dlich. </font><font style="vertical-align: inherit;">Aus diesem Grund kann die Zahl in ein Oktal umgewandelt werden, wenn sie nicht ben√∂tigt wird. </font><font style="vertical-align: inherit;">Oder verderben Sie die Formatzeichenfolge. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die genannten Fehler sind f√ºr diesen Artikel nicht geeignet, aber ich denke, dass es wert ist, sie zu erw√§hnen. </font><font style="vertical-align: inherit;">Ich werde im Artikel keinen Code mit diesen Fehlern angeben, aber wenn Sie interessiert sind, k√∂nnen Sie sie hier ansehen:</font></font><ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V536 Beachten</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sie, dass der verwendete konstante Wert durch eine </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">Oktalform</font></a><font style="vertical-align: inherit;"> dargestellt wird, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beispiele</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V638</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> In einer Zeichenfolge ist ein Terminal null vorhanden. </font><font style="vertical-align: inherit;">Die Zeichen '\ 0xNN' wurden gefunden. </font><font style="vertical-align: inherit;">Vermutlich gemeint: '\ xNN', </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beispiele</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
</ul><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich habe vergessen, +1 zu schreiben</font></font></h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Haiku-Betriebssystemprojekt, C ++</font></font></b><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">int</span>
UserlandFS::KernelEmu::new_path(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> *path, <span class="hljs-keyword">char</span> **copy)<font></font>
{<font></font>
  ....<font></font>
  <span class="hljs-comment">// append a dot, if desired</span>
  <span class="hljs-keyword">if</span> (appendDot) {<font></font>
    copiedPath[len] = <span class="hljs-string">'.'</span>;<font></font>
    copiedPath[len] = <span class="hljs-string">'\0'</span>;<font></font>
  }<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die richtige Option:</font></font><br>
<pre><code class="cpp hljs">copiedPath[len] = <span class="hljs-string">'.'</span>;<font></font>
copiedPath[len + <span class="hljs-number">1</span>] = <span class="hljs-string">'\0'</span>;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hinweis. </font><font style="vertical-align: inherit;">Die Situation, in der sie vergessen haben, eine Einheit hinzuzuf√ºgen, ist √ºberhaupt nicht selten. </font><font style="vertical-align: inherit;">Ich erinnere mich genau daran, dass ich solche F√§lle mehr als einmal getroffen habe. </font><font style="vertical-align: inherit;">Als ich jedoch √§hnliche Beispiele f√ºr den Artikel eingeben wollte, fand ich nur dieses Beispiel. </font><font style="vertical-align: inherit;">Es tut mir leid, dass ich Sie mit diesen Fehlern nicht mehr erschrecken kann. </font><font style="vertical-align: inherit;">Ich bitte um Entschuldigung.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Formatierungsfehler (C #)</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Am h√§ufigsten arbeiten Funktionen zum Erstellen von Zeichenfolgen mit einer kleinen Anzahl von Argumenten. </font><font style="vertical-align: inherit;">Es stellt sich also heraus, dass Fehler meistens mit der Verwendung von {0}, {1} oder {2} verbunden sind. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Azure PowerShell-Projekt, C #</font></font></b><br>
<pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ProcessRecordInternal</span>(<span class="hljs-params"></span>)</span><font></font>
{<font></font>
  ....<font></font>
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.ShouldProcess(<span class="hljs-keyword">this</span>.Name,
    <span class="hljs-keyword">string</span>.Format(<span class="hljs-string">"Creating Log Alert Rule '{0}' in resource group {0}"</span>,
      <span class="hljs-keyword">this</span>.Name, <span class="hljs-keyword">this</span>.ResourceGroupName)))<font></font>
  {<font></font>
    ....<font></font>
  }<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Versiegelt und zweimal {0} geschrieben. </font><font style="vertical-align: inherit;">Infolgedessen wird der Name </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">this.Name</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zweimal in die Zeichenfolge eingef√ºgt </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Der Name </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">this.ResourceGroupName</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> wird jedoch nicht in die erstellte Zeichenfolge √ºbernommen. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mono-Projekt, C #</font></font></b><br>
<pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">ReadEntropy</span> (<span class="hljs-params"></span>)</span><font></font>
{<font></font>
  <span class="hljs-keyword">if</span> (reader.IsEmptyElement)
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> XmlException (<font></font>
      String.Format (<span class="hljs-string">"WS-Trust Entropy element is empty.{2}"</span>,<font></font>
                      LineInfo ()));<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das ist im Allgemeinen seltsam. </font><font style="vertical-align: inherit;">Sie m√ºssen einf√ºgen, was nicht ist. </font><font style="vertical-align: inherit;">H√∂chstwahrscheinlich wurde dieser Code nicht erfolgreich √ºberarbeitet und als fehlerhaft herausgestellt. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xenko-Projekt, C #</font></font></b><br>
<pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> <span class="hljs-title">ToString</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> format,
                                IFormatProvider formatProvider</span>)</span><font></font>
{<font></font>
  <span class="hljs-keyword">if</span> (format == <span class="hljs-literal">null</span>)
    <span class="hljs-keyword">return</span> ToString(formatProvider);<font></font>
<font></font>
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">string</span>.Format(<font></font>
                      formatProvider,<font></font>
                      <span class="hljs-string">"Red:{1} Green:{2} Blue:{3}"</span>,<font></font>
                      R.ToString(format, formatProvider),<font></font>
                      G.ToString(format, formatProvider),<font></font>
                      B.ToString(format, formatProvider));<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Programmierer hat vergessen, dass die Nummerierung mit {0} beginnt, nicht mit {1}. </font><font style="vertical-align: inherit;">Der richtige Code lautet:</font></font><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">return</span> <span class="hljs-built_in">string</span>.Format(<font></font>
                    formatProvider,<font></font>
                    <span class="hljs-string">"Red:{0} Green:{1} Blue:{2}"</span>,<font></font>
                    R.ToString(format, formatProvider),<font></font>
                    G.ToString(format, formatProvider),<font></font>
                    B.ToString(format, formatProvider));</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.NET Compiler Platform-Projekt, C #</font></font></b><br>
<pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">DumpAttributes</span>(<span class="hljs-params">Symbol s</span>)</span><font></font>
{<font></font>
  ....<font></font>
  Console.WriteLine(<span class="hljs-string">"{0} {1} {2}"</span>, pa.ToString());<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Argumente sind eindeutig nicht genug.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schlussfolgerungen und Empfehlungen</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich musste so viele Beispiele demonstrieren, um zu zeigen, dass Tippfehler in Bezug auf 0, 1 und 2 besondere Aufmerksamkeit verdienen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn ich einfach sagen w√ºrde: ‚ÄûEs ist leicht, o1 und o2 zu verwechseln‚Äú, w√ºrden Sie zustimmen, aber nicht die Bedeutung hinzuf√ºgen, die Sie jetzt durch Lesen oder zumindest Scrollen des Artikels hinzuf√ºgen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt werden Sie gewarnt, und das ist gut so. Vorgewarnt ist gewappnet. Jetzt werden Sie den Code√ºberpr√ºfungen mehr Aufmerksamkeit schenken und den Variablen besondere Aufmerksamkeit schenken, in deren Namen Sie 0, 1, 2 sehen. Es ist </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
schwierig, Empfehlungen zum Code-Design abzugeben, um solche Fehler zu vermeiden. Wie Sie gesehen haben, werden Fehler auch in solch einfachem Code gefunden, in dem nichts zu tun ist.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Daher werde ich Sie nicht dringend bitten, 0, 1, 2 zu vermeiden und Variablen lange Namen zu geben. Wenn Sie anstelle von Zahlen anfangen, First / Second / Left / Right usw. zu schreiben, ist die Versuchung, den Namen oder Ausdruck zu kopieren, noch gr√∂√üer. Vielleicht wird eine solche Empfehlung letztendlich die Anzahl der Fehler nicht verringern, sondern erh√∂hen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie jedoch viel von der gleichen Art von Code schreiben, ist die Empfehlung des "tabellarischen Code-Designs" immer noch relevant. Die tabellarische Formatierung garantiert nicht das Fehlen von Tippfehlern, macht sie jedoch einfacher und schneller zu erkennen. Siehe Kapitel N13 im Minibuch " </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Hauptfrage des Programmierens, Refactorings und all das</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt noch eine gute Nachricht. Alle in diesem Artikel beschriebenen Fehler wurden mit dem statischen Code-Analysator </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">PVS-Studio gefunden</font></a><font style="vertical-align: inherit;"> .</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Dementsprechend k√∂nnen Sie durch die Einf√ºhrung statischer Analysewerkzeuge in den Entwicklungsprozess viele Tippfehler fr√ºhzeitig identifizieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vielen Dank f√ºr Ihre Aufmerksamkeit. </font><font style="vertical-align: inherit;">Ich hoffe du warst interessiert und ver√§ngstigt. </font><font style="vertical-align: inherit;">Ich w√ºnsche Ihnen einen zuverl√§ssigen Code und weniger Fehler mit 0, 1, 2, damit Freddy nicht zu Ihnen kommt.</font></font><br>
<br>
<p><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a></p><div style="text-align:center;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/898/3b6/5a7/8983b65a74adb29a2113eba12fbec3f1.png"></a></div><p></p><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie diesen Artikel einem englischsprachigen Publikum zug√§nglich machen m√∂chten, verwenden Sie bitte den Link zur √úbersetzung: Andrey Karpov. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Null, eins, zwei, Freddy kommt f√ºr dich</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de488320/index.html">Deadlock Empire - ein Spiel f√ºr Entwickler</a></li>
<li><a href="../de488322/index.html">Gesten</a></li>
<li><a href="../de488324/index.html">Konsolengeist. Panasonic M2</a></li>
<li><a href="../de488326/index.html">Liebe oder Entlassung</a></li>
<li><a href="../de488330/index.html">Englisch mit George Karlin: Wir analysieren den genialen Stand-up √ºber phrasenbezogene Einheiten</a></li>
<li><a href="../de488336/index.html">Tipps zur Verwendung des Wave Function Collapse-Algorithmus</a></li>
<li><a href="../de488338/index.html">Google-Praktika: Z√ºrich, London und Silicon Valley</a></li>
<li><a href="../de488340/index.html">Beruf: Backend-Entwickler</a></li>
<li><a href="../de488342/index.html">Random Forest, die Methode der Hauptkomponenten und die Optimierung von Hyperparametern: Ein Beispiel f√ºr die L√∂sung des Klassifizierungsproblems in Python</a></li>
<li><a href="../de488346/index.html">Installieren von or-tools mit SCIP und GLPK in einer virtuellen Python 3.7-Umgebung unter Linux</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>