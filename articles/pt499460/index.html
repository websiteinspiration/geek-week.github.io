<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤝 👩🏻‍🤝‍👨🏾 📂 Concorrência, corotinas, máquinas de eventos, ... matemática viva 🦒 🍣 🚶🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A computação paralela fascina com a inesperada de seu comportamento. Mas o comportamento conjunto dos processos não pode ser imprevisível. Somente nes...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Concorrência, corotinas, máquinas de eventos, ... matemática viva</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/499460/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A computação paralela fascina com a inesperada de seu comportamento. Mas o comportamento conjunto dos processos não pode ser imprevisível. Somente nesse caso ele pode ser estudado e compreendido em suas peculiaridades. A simultaneidade multithread moderna é única. No sentido literal. E essa é toda a sua </font><font style="vertical-align: inherit;">essência </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ruim</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . A essência que pode e deve ser influenciada. A essência, que deve, em boa medida, ter sido alterada há muito tempo ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Embora exista outra opção. Não há necessidade de mudar nada e / ou influenciar algo. Que haja multithreading e coroutines, que seja ... e programação automática paralela (AP). Deixe-os competir e, quando necessário e possível, se complementem. Nesse sentido, o paralelismo moderno possui pelo menos uma vantagem - permite que você faça isso. </font></font><br>
<br>
<s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bem, vamos competir!?</font></font></s><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. De serial para paralelo</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Considere programar a equação aritmética mais simples: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C2 = A + B + A1 + B1; </font><font style="vertical-align: inherit;">(1) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Haja blocos que implementem operações aritméticas simples. </font><font style="vertical-align: inherit;">Nesse caso, os blocos de soma são suficientes. </font><font style="vertical-align: inherit;">Uma ideia clara e precisa do número de blocos, sua estrutura e as relações entre eles fornece arroz. </font><font style="vertical-align: inherit;">1. E na Fig. 2. </font><font style="vertical-align: inherit;">a configuração do meio VKP (a) é dada para resolver a equação (1). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/5q/vn/lc/5qvnlcbing_aolxkkz-ysz8d8-4.jpeg" alt="imagem"><br>
 <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figura 1. </font><font style="vertical-align: inherit;">Modelo estrutural de processos</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Mas o diagrama estrutural da Fig. 1 corresponde a um sistema de três equações: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 = A + B; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C1 = A1 + B; </font><font style="vertical-align: inherit;">(2) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C2 = C + C1;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ao mesmo tempo (2), esta é uma implementação paralela da equação (1), que é um algoritmo para somar uma matriz de números, também conhecido como algoritmo de duplicação. </font><font style="vertical-align: inherit;">Aqui a matriz é representada por quatro números A, B, A1, B1, as variáveis ​​C e C1 são resultados intermediários e C2 é a soma da matriz. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/e_/qn/ll/e_qnllaermfl1ps3slc29pwvo1e.jpeg" alt="imagem"> <br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figura 2. </font><font style="vertical-align: inherit;">Tipo de diálogos para a configuração de três processos paralelos.Os</font></font><br>
</i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
recursos de implementação incluem a continuidade de sua operação, quando qualquer alteração nos dados de entrada leva a uma recontagem do resultado. </font><font style="vertical-align: inherit;">Após alterar os dados de entrada, serão necessários dois ciclos de clock e, quando os blocos forem conectados em série, o mesmo efeito será alcançado em três ciclos de clock. </font><font style="vertical-align: inherit;">E quanto maior a matriz, maior o ganho de velocidade.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Concorrência como um problema</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Não se surpreenda se você for chamado de muitos argumentos em favor de uma ou outra solução paralela, mas ao mesmo tempo eles ficarão em silêncio sobre possíveis problemas que estão completamente ausentes na programação seqüencial comum. A principal razão para a interpretação semelhante do problema da implementação correta do paralelismo. Eles dizem o mínimo sobre ela. Se é que eles dizem. Entraremos em contato com ele na parte relacionada ao acesso paralelo aos dados. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Qualquer processo pode ser representado como muitas etapas indivisíveis consecutivas. Para muitos processos, em cada uma dessas etapas, as ações pertencentes a todos os processos são executadas simultaneamente. E aqui podemos encontrar um problema que se manifesta no seguinte exemplo elementar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Suponha que existem dois processos paralelos que correspondem ao seguinte sistema de equações:</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
c = a + b; </font><font style="vertical-align: inherit;">(3) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
a = b + c; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Suponha que as variáveis ​​a, b, c tenham os valores iniciais 1, 1, 0. Podemos esperar que o protocolo de cálculo para as cinco etapas seja o seguinte:</font></font><br>
<br>
<pre><code class="plaintext hljs">a              b               c<font></font>
1.000       1.000       0.000      <font></font>
1.000       1.000       2.000       <font></font>
3.000       1.000       2.000       <font></font>
3.000       1.000       4.000       <font></font>
5.000       1.000       4.000        <font></font>
5.000       1.000       6.000   </code></pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ao formá-lo, partimos do fato de que os operadores são executados em paralelo (simultaneamente) e dentro de uma medida discreta (etapa). </font><font style="vertical-align: inherit;">Para instruções em loop, será uma iteração do loop. </font><font style="vertical-align: inherit;">Também podemos assumir que, no processo de cálculos, as variáveis ​​têm valores fixados no início de uma medida discreta, e suas alterações ocorrem no final. </font><font style="vertical-align: inherit;">Isso é bastante consistente com a situação real, quando leva algum tempo para concluir a operação. </font><font style="vertical-align: inherit;">É frequentemente associado a um atraso inerente a um determinado bloco. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas, provavelmente, você obterá algo como este protocolo:</font></font><br>
<br>
<pre><code class="plaintext hljs">   a              b               c<font></font>
1.000       1.000       0.000      <font></font>
3.000       1.000       2.000       <font></font>
5.000       1.000       4.000       <font></font>
7.000       1.000       6.000       <font></font>
9.000       1.000       8.000       <font></font>
11.000     1.000     10.000       <font></font>
</code></pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
É equivalente ao trabalho de um processo executando duas instruções consecutivas em um ciclo: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
c = a + b; a = b + c; (4) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas pode acontecer que a execução das instruções seja exatamente o oposto e, em seguida, o protocolo seja o seguinte:</font></font><br>
<br>
<pre><code class="plaintext hljs">   a              b               c<font></font>
1.000       1.000       0.000      <font></font>
1.000       1.000       2.000       <font></font>
3.000       1.000       4.000       <font></font>
5.000       1.000       6.000       <font></font>
7.000       1.000       8.000       <font></font>
9.000       1.000     10.000       <font></font>
</code></pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na programação multithread, a situação é ainda pior. Na ausência de sincronização de processos, não é apenas difícil prever a sequência de inicialização dos operadores, mas seu trabalho também será interrompido em qualquer lugar. Tudo isso não pode deixar de afetar os resultados do trabalho conjunto dos operadores. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dentro da estrutura da tecnologia AP, o trabalho com variáveis ​​de processo comuns é permitido de maneira simples e correta. Aqui, na maioria das vezes, não são necessários esforços especiais para sincronizar processos e trabalhar com dados. Mas será necessário destacar ações que serão consideradas condicionalmente instantâneas e indivisíveis, além de criar modelos de processos automáticos. No nosso caso, as ações serão operadores de soma e os autômatos com transições cíclicas serão responsáveis ​​por seu lançamento.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A Listagem 1 mostra o código para um processo que implementa a operação de soma. </font><font style="vertical-align: inherit;">Seu modelo é uma máquina de estados finitos (ver Fig. 3) com um estado e uma transição de loop incondicional, para a qual a única ação y1, tendo realizado a operação de somar duas variáveis, coloca o resultado na terceira. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qz/xe/0f/qzxe0ffddnbmlivrwlmd_jl1ads.jpeg" alt="imagem"> <br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 3. </font><font style="vertical-align: inherit;">Modelo automatizado da operação de somatório</font></font></i><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Listagem 1. Implementação de um processo de autômato para uma operação de soma</font></font></b>
                        <div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"lfsaappl.h"</span></span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FSumABC</span> :</span>
    <span class="hljs-keyword">public</span> LFsaAppl<font></font>
{<font></font>
<span class="hljs-keyword">public</span>:
    <span class="hljs-function">LFsaAppl* <span class="hljs-title">Create</span><span class="hljs-params">(CVarFSA *pCVF)</span> </span>{ Q_UNUSED(pCVF)<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> FSumABC(nameFsa); }
    <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">FCreationOfLinksForVariables</span><span class="hljs-params">()</span></span>;<font></font>
    FSumABC(<span class="hljs-built_in">string</span> strNam);<font></font>
    CVar *pVarA;		<span class="hljs-comment">//</span>
    CVar *pVarB;		<span class="hljs-comment">//</span>
    CVar *pVarC;		<span class="hljs-comment">//</span>
    CVar *pVarStrNameA;        <span class="hljs-comment">//</span>
    CVar *pVarStrNameB;        <span class="hljs-comment">//</span>
    CVar *pVarStrNameC;        <span class="hljs-comment">//</span>
<span class="hljs-keyword">protected</span>:
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y1</span><span class="hljs-params">()</span></span>;<font></font>
};<font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"stdafx.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"FSumABC.h"</span></span><font></font>
<font></font>
<span class="hljs-keyword">static</span> LArc TBL_SumABC[] = {<font></font>
    LArc(<span class="hljs-string">"s1"</span>,	<span class="hljs-string">"s1"</span>,<span class="hljs-string">"--"</span>, <span class="hljs-string">"y1"</span>),<font></font>
    LArc()<font></font>
};<font></font>
<font></font>
FSumABC::FSumABC(<span class="hljs-built_in">string</span> strNam):<font></font>
    LFsaAppl(TBL_SumABC, strNam, <span class="hljs-literal">nullptr</span>, <span class="hljs-literal">nullptr</span>)<font></font>
{ }<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">FSumABC::FCreationOfLinksForVariables</span><span class="hljs-params">()</span> </span>{<font></font>
    pVarA = CreateLocVar(<span class="hljs-string">"a"</span>, CLocVar::vtBool, <span class="hljs-string">"variable a"</span>);<font></font>
    pVarB = CreateLocVar(<span class="hljs-string">"b"</span>, CLocVar::vtBool, <span class="hljs-string">"variable c"</span>);<font></font>
    pVarC = CreateLocVar(<span class="hljs-string">"c"</span>, CLocVar::vtBool, <span class="hljs-string">"variable c"</span>);<font></font>
    pVarStrNameA = CreateLocVar(<span class="hljs-string">"strNameA"</span>, CLocVar::vtString, <span class="hljs-string">""</span>);
    <span class="hljs-built_in">string</span> str = pVarStrNameA-&gt;strGetDataSrc();
    <span class="hljs-keyword">if</span> (str != <span class="hljs-string">""</span>) { pVarA = pTAppCore-&gt;GetAddressVar(pVarStrNameA-&gt;strGetDataSrc().c_str(), <span class="hljs-keyword">this</span>); }<font></font>
    pVarStrNameB = CreateLocVar(<span class="hljs-string">"strNameB"</span>, CLocVar::vtString, <span class="hljs-string">""</span>);<font></font>
    str = pVarStrNameB-&gt;strGetDataSrc();<font></font>
    <span class="hljs-keyword">if</span> (str != <span class="hljs-string">""</span>) { pVarB = pTAppCore-&gt;GetAddressVar(pVarStrNameB-&gt;strGetDataSrc().c_str(), <span class="hljs-keyword">this</span>); }<font></font>
    pVarStrNameC = CreateLocVar(<span class="hljs-string">"strNameC"</span>, CLocVar::vtString, <span class="hljs-string">""</span>);<font></font>
    str = pVarStrNameC-&gt;strGetDataSrc();<font></font>
    <span class="hljs-keyword">if</span> (str != <span class="hljs-string">""</span>) { pVarC = pTAppCore-&gt;GetAddressVar(pVarStrNameC-&gt;strGetDataSrc().c_str(), <span class="hljs-keyword">this</span>); }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FSumABC::y1</span><span class="hljs-params">()</span> </span>{ <font></font>
    pVarC-&gt;SetDataSrc(<span class="hljs-keyword">this</span>, pVarA-&gt;GetDataSrc() + pVarB-&gt;GetDataSrc()); <font></font>
}<font></font>
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Importante, ou melhor, mesmo necessário, aqui está o uso das variáveis ​​de ambiente do CPSU. </font><font style="vertical-align: inherit;">Suas “propriedades de sombra” garantem a interação correta dos processos. </font><font style="vertical-align: inherit;">Além disso, o ambiente permite alterar o modo de operação, excluindo o registro de variáveis ​​na memória intermediária de sombra. </font><font style="vertical-align: inherit;">Uma análise dos protocolos obtidos nesse modo nos permite verificar a necessidade de usar variáveis ​​de sombra.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. E as corotinas? ...</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seria bom saber como as corotinas representadas pela linguagem Kotlin irão lidar com a tarefa. </font><font style="vertical-align: inherit;">Tomemos como modelo de solução o programa considerado na discussão de [1]. </font><font style="vertical-align: inherit;">Possui uma estrutura que é facilmente reduzida à aparência necessária. </font><font style="vertical-align: inherit;">Para fazer isso, substitua as variáveis ​​lógicas nele por um tipo numérico e adicione outra variável. Em vez de operações lógicas, usaremos a operação de soma. </font><font style="vertical-align: inherit;">O código correspondente é mostrado na listagem 2.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Listagem 2. Programa de soma paralela Kotlin</font></font></b>
                        <div class="spoiler_text"><pre><code class="kotlin hljs"><span class="hljs-keyword">import</span> kotlinx.coroutines.*<font></font>
<font></font>
<span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> =
    <span class="hljs-comment">// Structured concurrency: if any child coroutine fails,</span>
    <span class="hljs-comment">// everything else will be cancelled</span><font></font>
    coroutineScope {<font></font>
        <span class="hljs-keyword">var</span> a = <span class="hljs-number">1</span>
        <span class="hljs-keyword">var</span> b = <span class="hljs-number">1</span>
        <span class="hljs-keyword">var</span> c = <span class="hljs-number">0</span>;
        <span class="hljs-comment">// Use default thread pool </span><font></font>
        withContext(Dispatchers.Default) {<font></font>
            <span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..<span class="hljs-number">4</span>) {
               <span class="hljs-keyword">var</span> res = listOf(async { a+b }, async{ b+c }).map { it.await() }<font></font>
			c = res[<span class="hljs-number">0</span>]<font></font>
			a = res[<span class="hljs-number">1</span>]<font></font>
               println(<span class="hljs-string">"<span class="hljs-variable">$a</span>, <span class="hljs-variable">$b</span>, <span class="hljs-variable">$c</span>"</span>)<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Não há dúvidas sobre o resultado deste programa, pois </font><font style="vertical-align: inherit;">corresponde exatamente ao primeiro dos protocolos acima. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No entanto, a conversão do código-fonte não foi tão óbvia quanto parece, porque </font><font style="vertical-align: inherit;">Parecia natural usar o seguinte fragmento de código:</font></font><br>
<br>
<pre><code class="kotlin hljs">listOf(async {  = a+b }, async{  = b+c })
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como mostra o teste (isso pode ser feito on-line no site da Kotlin - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kotlinlang.org/#try-kotlin</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), seu uso leva a um resultado completamente imprevisível, que também muda de um lançamento para outro. </font><font style="vertical-align: inherit;">E apenas uma análise mais cuidadosa do programa de origem levou ao código correto. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Código que contém um erro do ponto de vista do funcionamento do programa, mas é legítimo do ponto de vista da linguagem, nos faz temer pela confiabilidade dos programas nele. </font><font style="vertical-align: inherit;">Essa opinião, provavelmente, pode ser contestada pelos especialistas da Kotlin. </font><font style="vertical-align: inherit;">No entanto, a facilidade de cometer um erro, que não pode ser explicado apenas pela falta de entendimento da “programação de corotina”, está, no entanto, pressionando persistentemente por tais conclusões.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. Máquinas de eventos em Qt</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anteriormente, estabelecemos que um autômato de evento não é um autômato em sua definição clássica. Ele é bom ou ruim, mas, até certo ponto, a máquina de eventos ainda é um parente das máquinas clássicas. É distante, próximo, mas devemos falar sobre isso diretamente, para que não haja conceitos errados sobre isso. Começamos a conversar sobre isso em [2], mas tudo por continuar. Agora faremos isso examinando outros exemplos do uso de máquinas de eventos no Qt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obviamente, um autômato de evento pode ser considerado um caso degenerado de um autômato clássico com uma duração de ciclo indefinida e / ou variável associada a um evento. A possibilidade de tal interpretação foi mostrada em um artigo anterior ao resolver apenas um e, além disso, um exemplo bastante específico (ver detalhes [2]). Em seguida, tentaremos eliminar essa lacuna.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A biblioteca Qt apenas associa transições de máquina a eventos, o que é uma limitação séria. Por exemplo, na mesma linguagem UML, uma transição está associada não apenas a um evento chamado evento inicial, mas também a uma condição de proteção - uma expressão lógica calculada após o recebimento do evento [3]. No MATLAB, a situação é mais mitigada e soa assim: “se o nome do evento não for especificado, a transição ocorrerá quando ocorrer </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">um</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> evento” [4]. Mas aqui e ali, a causa raiz da transição são os eventos. Mas e se não houver eventos?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se não houver eventos, então ... você pode tentar criá-los. </font><font style="vertical-align: inherit;">Listagem 3 e Figura </font><font style="vertical-align: inherit;">4 demonstram como fazer isso, usando o descendente da classe de autômatos LFsaAppl do ambiente VKPa como um "invólucro" do evento Qt-class. </font><font style="vertical-align: inherit;">Aqui, a ação y2 com uma periodicidade do tempo discreto do espaço do autômato envia um sinal iniciando o início da transição do autômato Qt. </font><font style="vertical-align: inherit;">O último, usando o método s0Exited, inicia a ação y1, que implementa a operação de soma. </font><font style="vertical-align: inherit;">Observe que a máquina de eventos é criada estritamente pela ação y3 após verificar a inicialização das variáveis ​​locais da classe LFsaAppl. </font></font><br>
 <br>
<img src="https://habrastorage.org/webt/lv/gc/zv/lvgczvyataz7ybhpht1pvs28uhm.jpeg" alt="imagem"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 4. </font><font style="vertical-align: inherit;">Combinação de máquinas clássicas e de eventos</font></font><br>
</i><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Listagem 3. Implementando um modelo de soma com um autômato de eventos</font></font></b>
                        <div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"lfsaappl.h"</span></span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">QStateMachine</span>;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">QState</span>;</span><font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FSumABC</span> :</span>
    <span class="hljs-keyword">public</span> QObject,
    <span class="hljs-keyword">public</span> LFsaAppl<font></font>
{<font></font>
    Q_OBJECT<font></font>
...<font></font>
<span class="hljs-keyword">protected</span>:
    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">x1</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y1</span><span class="hljs-params">()</span></span>; <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y2</span><span class="hljs-params">()</span></span>; <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y3</span><span class="hljs-params">()</span></span>; <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y12</span><span class="hljs-params">()</span></span>;<font></font>
signals:<font></font>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">GoState</span><span class="hljs-params">()</span></span>;
<span class="hljs-keyword">private</span> slots:
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">s0Exited</span><span class="hljs-params">()</span></span>;
<span class="hljs-keyword">private</span>:<font></font>
    QStateMachine * machine;<font></font>
    QState * s0;<font></font>
};<font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"stdafx.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"FSumABC.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;QStateMachine&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;QState&gt;</span></span><font></font>
<font></font>
<span class="hljs-keyword">static</span> LArc TBL_SumABC[] = {<font></font>
    LArc(<span class="hljs-string">"st"</span>,	<span class="hljs-string">"st"</span>,<span class="hljs-string">"^x1"</span>,	<span class="hljs-string">"y12"</span>),<font></font>
    LArc(<span class="hljs-string">"st"</span>,	<span class="hljs-string">"s1"</span>,<span class="hljs-string">"x1"</span>,	<span class="hljs-string">"y3"</span>),<font></font>
    LArc(<span class="hljs-string">"s1"</span>,	<span class="hljs-string">"s1"</span>,<span class="hljs-string">"--"</span>,	<span class="hljs-string">"y2"</span>),<font></font>
    LArc()<font></font>
};<font></font>
<font></font>
FSumABC::FSumABC(<span class="hljs-built_in">string</span> strNam):<font></font>
    QObject(),<font></font>
    LFsaAppl(TBL_SumABC, strNam, <span class="hljs-literal">nullptr</span>, <span class="hljs-literal">nullptr</span>)<font></font>
{ }<font></font>
...<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">FSumABC::x1</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> pVarA&amp;&amp;pVarB&amp;&amp;pVarC; }<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FSumABC::y1</span><span class="hljs-params">()</span> </span>{<font></font>
    pVarC-&gt;SetDataSrc(<span class="hljs-keyword">this</span>, pVarA-&gt;GetDataSrc() + pVarB-&gt;GetDataSrc());<font></font>
}<font></font>
<span class="hljs-comment">//</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FSumABC::y2</span><span class="hljs-params">()</span> </span>{ <span class="hljs-function">emit <span class="hljs-title">GoState</span><span class="hljs-params">()</span></span>; }
<span class="hljs-comment">//</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FSumABC::y3</span><span class="hljs-params">()</span> </span>{<font></font>
    s0 = <span class="hljs-keyword">new</span> QState();<font></font>
    QSignalTransition *ps = s0-&gt;addTransition(<span class="hljs-keyword">this</span>, SIGNAL(GoState()), s0);<font></font>
    connect (s0, SIGNAL(entered()), <span class="hljs-keyword">this</span>, SLOT(s0Exited()));<font></font>
    machine = <span class="hljs-keyword">new</span> QStateMachine(<span class="hljs-literal">nullptr</span>);<font></font>
    machine-&gt;addState(s0);<font></font>
    machine-&gt;setInitialState(s0);<font></font>
    machine-&gt;start();<font></font>
}<font></font>
<span class="hljs-comment">//    </span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FSumABC::y12</span><span class="hljs-params">()</span> </span>{ FInit(); }<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FSumABC::s0Exited</span><span class="hljs-params">()</span> </span>{ y1(); }
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Acima, implementamos uma máquina muito simples. </font><font style="vertical-align: inherit;">Ou, mais precisamente, uma combinação de autômatos clássicos e de eventos. </font><font style="vertical-align: inherit;">Se a implementação anterior da classe FSumABC for substituída pela criada, simplesmente não haverá diferenças no aplicativo. </font><font style="vertical-align: inherit;">Porém, para modelos mais complexos, as propriedades limitadas dos autômatos acionados por eventos começam a se manifestar completamente. </font><font style="vertical-align: inherit;">No mínimo, já em processo de criação de um modelo. </font><font style="vertical-align: inherit;">A Listagem 4 mostra a implementação do modelo do elemento AND-NOT na forma de um autômato de eventos (para obter mais detalhes sobre o modelo de autômato usado do elemento AND-NOT, consulte [2]).</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Listagem 4. Implementando um modelo de elemento AND NOT por uma máquina de eventos</font></font></b>
                        <div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;QObject&gt;</span></span><font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">QStateMachine</span>;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">QState</span>;</span><font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainWindow</span>;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ine</span> :</span> <span class="hljs-keyword">public</span> QObject<font></font>
{<font></font>
    Q_OBJECT<font></font>
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">ine</span><span class="hljs-params">(MainWindow *parent = <span class="hljs-literal">nullptr</span>)</span></span>;
    <span class="hljs-keyword">bool</span> bX1, bX2, bY;<font></font>
signals:<font></font>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">GoS0</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">GoS1</span><span class="hljs-params">()</span></span>;
<span class="hljs-keyword">private</span> slots:
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">s1Exited</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">s0Exited</span><span class="hljs-params">()</span></span>;
<span class="hljs-keyword">private</span>:<font></font>
    QStateMachine * machine;<font></font>
    QState * s0;<font></font>
    QState * s1;<font></font>
    MainWindow *pMain{<span class="hljs-literal">nullptr</span>};
<span class="hljs-keyword">friend</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainWindow</span>;</span><font></font>
};<font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"ine.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;QStateMachine&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;QState&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"mainwindow.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"ui_mainwindow.h"</span></span><font></font>
<font></font>
ine::ine(MainWindow *parent) :<font></font>
    QObject(parent)<font></font>
{<font></font>
    pMain = parent;<font></font>
    s0 = <span class="hljs-keyword">new</span> QState();<font></font>
    s1 = <span class="hljs-keyword">new</span> QState();<font></font>
<font></font>
    s0-&gt;addTransition(<span class="hljs-keyword">this</span>, SIGNAL(GoS1()), s1);<font></font>
    s1-&gt;addTransition(<span class="hljs-keyword">this</span>, SIGNAL(GoS0()), s0);<font></font>
<font></font>
    connect (s0, SIGNAL(entered()), <span class="hljs-keyword">this</span>, SLOT(s0Exited()));<font></font>
    connect (s1, SIGNAL(entered()), <span class="hljs-keyword">this</span>, SLOT(s1Exited()));<font></font>
<font></font>
<font></font>
    machine = <span class="hljs-keyword">new</span> QStateMachine(<span class="hljs-literal">nullptr</span>);<font></font>
    machine-&gt;addState(s0);<font></font>
    machine-&gt;addState(s1);<font></font>
    machine-&gt;setInitialState(s1);<font></font>
    machine-&gt;start();<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">ine::s1Exited</span><span class="hljs-params">()</span> </span>{<font></font>
    bY = !(bX1&amp;&amp;bX2);<font></font>
    pMain-&gt;ui-&gt;checkBoxY-&gt;setChecked(bY);<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">ine::s0Exited</span><span class="hljs-params">()</span> </span>{<font></font>
    bY = !(bX1&amp;&amp;bX2);<font></font>
    pMain-&gt;ui-&gt;checkBoxY-&gt;setChecked(bY);<font></font>
}<font></font>
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Torna-se claro que os autômatos de eventos no Qt se baseiam estritamente nos autômatos de Moore. Isso limita os recursos e a flexibilidade do modelo, como ações são associadas apenas a estados. Como resultado, por exemplo, é impossível distinguir entre duas transições do estado 0 para 1 para o autômato mostrado na Fig. 4 em [2]. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obviamente, para implementar o Miles, você pode usar o procedimento conhecido para mudar para máquinas Moore. Mas isso leva a um aumento no número de estados e elimina a associação simples, visual e útil dos estados modelo com o resultado de suas ações. Por exemplo, após essas transformações, o estado único da saída do modelo 1 de [2] precisa comparar dois estados do autômato de Moore.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em um modelo mais complexo, problemas com condições de transição começam a aparecer com obviedade. </font><font style="vertical-align: inherit;">Para contorná-los para a implementação do software do elemento AND-NOT em consideração, uma análise do estado dos canais de entrada foi incorporada ao diálogo de controle do modelo, conforme mostrado na Listagem 5.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Listagem 5. Diálogo de controle do elemento NAND</font></font></b>
                        <div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"mainwindow.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"ui_mainwindow.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"ine.h"</span></span><font></font>
<font></font>
MainWindow::MainWindow(QWidget *parent)<font></font>
    : QMainWindow(parent)<font></font>
    , ui(<span class="hljs-keyword">new</span> Ui::MainWindow)<font></font>
{<font></font>
    ui-&gt;setupUi(<span class="hljs-keyword">this</span>);<font></font>
    pine = <span class="hljs-keyword">new</span> ine(<span class="hljs-keyword">this</span>);<font></font>
    connect(<span class="hljs-keyword">this</span>, SIGNAL(GoState0()), pine, SIGNAL(GoS0()));<font></font>
    connect(<span class="hljs-keyword">this</span>, SIGNAL(GoState1()), pine, SIGNAL(GoS1()));<font></font>
}<font></font>
<font></font>
MainWindow::~MainWindow()<font></font>
{<font></font>
    <span class="hljs-keyword">delete</span> ui;<font></font>
}<font></font>
<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">MainWindow::on_checkBoxX1_clicked</span><span class="hljs-params">(<span class="hljs-keyword">bool</span> checked)</span>
</span>{<font></font>
    bX1 = checked;<font></font>
    pine-&gt;bX1 = bX1;<font></font>
    bY = !(bX1&amp;&amp;bX2);<font></font>
    <span class="hljs-keyword">if</span> (!(bX1&amp;&amp;bX2)) <span class="hljs-function">emit <span class="hljs-title">GoState0</span><span class="hljs-params">()</span></span>;
    <span class="hljs-keyword">else</span> emit GoState1();<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">MainWindow::on_checkBoxX2_clicked</span><span class="hljs-params">(<span class="hljs-keyword">bool</span> checked)</span>
</span>{<font></font>
    bX2 = checked;<font></font>
    pine-&gt;bX2 = bX2;<font></font>
    bY = !(bX1&amp;&amp;bX2);<font></font>
    <span class="hljs-keyword">if</span> (!(bX1&amp;&amp;bX2)) <span class="hljs-function">emit <span class="hljs-title">GoState0</span><span class="hljs-params">()</span></span>;
    <span class="hljs-keyword">else</span> emit GoState1();<font></font>
}<font></font>
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em suma, tudo o que foi dito acima complica claramente o modelo e cria problemas com a compreensão de seu trabalho. </font><font style="vertical-align: inherit;">Além disso, essas soluções locais podem não funcionar ao considerar composições delas. </font><font style="vertical-align: inherit;">Um bom exemplo nesse caso seria uma tentativa de criar um modelo de acionador RS (para obter mais detalhes sobre um modelo de autômato de dois componentes de um acionador RS, consulte [5]). </font><font style="vertical-align: inherit;">No entanto, o prazer do resultado alcançado será entregue aos fãs das máquinas de eventos. </font><font style="vertical-align: inherit;">Se ... a menos que, é claro, eles tenham sucesso;)</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. Função quadrática e ... borboleta?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
É conveniente representar os dados de entrada como um processo paralelo externo. Acima disso, havia o diálogo para gerenciar o modelo de um elemento AND-NOT. Além disso, a taxa de alteração de dados pode afetar significativamente o resultado. Para confirmar isso, consideramos o cálculo da função quadrática y = ax² + bx + c, que implementamos na forma de um conjunto de blocos de funcionamento paralelo e de interação.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sabe-se que o gráfico de uma função quadrática tem o formato de uma parábola. Mas a parábola representada pelo matemático e a parábola que o osciloscópio, por exemplo, exibirá, a rigor, nunca corresponderá. A razão para isso é que o matemático geralmente pensa em categorias instantâneas, acreditando que uma alteração na quantidade de entrada leva imediatamente ao cálculo da função. Mas na vida real isso não é de todo verdade. A aparência do gráfico da função dependerá da velocidade da calculadora, da taxa de alteração dos dados de entrada etc. etc. Sim, e os próprios programas de velocidade podem diferir um do outro. Esses fatores afetarão a forma da função, na qual, em uma determinada situação, será difícil adivinhar a parábola. Estaremos convencidos disso ainda mais.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Assim, adicionamos ao bloco soma os blocos de multiplicação, divisão e exponenciação. Tendo esse conjunto, podemos "coletar" expressões matemáticas de qualquer complexidade. Mas também podemos ter "cubos" que implementam funções mais complexas. Fig. 5. a implementação de uma função quadrática é mostrada em duas versões - multi-bloco (ver seta com uma etiqueta - 1, e também na Fig. 6) e uma variante de um bloco (na figura 5 seta com uma etiqueta 2). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ol/sy/-b/olsy-bjhlcp81hkd_7nt6x68j3m.jpeg" alt="imagem"> <br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig.5. Duas opções para implementar a função quadrática </font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/ip/vb/ho/ipvbhompt2jbuexhklumgnxkr_y.jpeg" alt="imagem"> <br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 6. Modelo estrutural para calcular uma função quadrática</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso na figura 5. parece “borrado” (veja a seta marcada como 3), quando ampliado adequadamente (veja gráficos (tendências), marcado como 4), está convencido de que o assunto não está nas propriedades gráficas. Este é o resultado da influência do tempo no cálculo das variáveis: a variável y1 é o valor de saída da variante de múltiplos blocos (cor vermelha do gráfico) e a variável y2 é o valor de saída da variante de bloco único (cor preta). Mas esses dois gráficos são diferentes dos "gráficos abstratos" [y2 (t), x (t-1)] (verde). Este último é construído para o valor da variável y2 e o valor da variável de entrada atrasado em um ciclo de clock (veja a variável com o nome x [t-1]).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Assim, quanto maior a taxa de alteração da função de entrada x (t), mais forte será o “efeito de desfoque” e mais longe os gráficos y1, y2 serão do gráfico [y2 (t), x (t-1)]. O "defeito" detectado pode ser usado para seus próprios fins. Por exemplo, nada nos impede de aplicar um sinal senoidal à entrada. Consideraremos uma opção ainda mais complicada, quando o primeiro coeficiente da equação também mudar de maneira semelhante. O resultado do experimento demonstra uma tela do meio VKPa, mostrada na Fig. 7. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ip/qz/q1/ipqzq1ueyewokzslezd1_vcpuke.jpeg" alt="imagem"> <br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 7. Resultados da simulação com um sinal de entrada sinusoidal</font></font></i><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A tela no canto inferior esquerdo mostra o sinal fornecido às entradas de realizações de uma função quadrática. Acima estão os gráficos dos valores de saída y1 e y2. Gráficos na forma de "asas" são valores plotados em duas coordenadas. Assim, com a ajuda de várias realizações da função quadrática, desenhamos a metade da "borboleta". Desenhar um todo é uma questão de tecnologia ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas os paradoxos do paralelismo não param por aí. Na fig. A Figura 8 mostra tendências na mudança "reversa" da variável independente x. Eles já passam para a esquerda do gráfico "abstrato" (o último, notamos, não mudou de posição!). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/_e/br/dl/_ebrdlojr1kvybj6xjtwdbclefs.jpeg" alt="imagem"> <br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIG. 8. O tipo de gráfico com mudança linear direta e reversa do sinal de entrada</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Neste exemplo, o erro "duplo" do sinal de saída em relação ao seu valor "instantâneo" se torna aparente. </font><font style="vertical-align: inherit;">E quanto mais lento o sistema de computação ou quanto maior a frequência do sinal, maior o erro. </font><font style="vertical-align: inherit;">Uma onda senoidal é um exemplo de mudança para frente e para trás de um sinal de entrada. </font><font style="vertical-align: inherit;">Devido a isso, as “asas” na Fig. 4 assumiram esta forma. </font><font style="vertical-align: inherit;">Sem o efeito "erro de retorno", eles seriam duas vezes mais estreitos.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6. Controlador PID adaptável</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos considerar mais um exemplo no qual os problemas considerados são mostrados. </font><font style="vertical-align: inherit;">Na fig. </font><font style="vertical-align: inherit;">A Figura 9 mostra a configuração do meio VKP (a) ao modelar um controlador PID adaptável. </font><font style="vertical-align: inherit;">Um diagrama de blocos também é mostrado no qual o controlador PID é representado por uma unidade chamada PID. </font><font style="vertical-align: inherit;">No nível da caixa preta, é semelhante à implementação em bloco único anteriormente considerada de uma função quadrática.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O resultado da comparação dos resultados do cálculo do modelo do controlador PID dentro de um determinado pacote matemático e o protocolo obtido a partir dos resultados da simulação no ambiente VKP (a) é mostrado na Fig. 10, onde o gráfico vermelho é os valores calculados e o gráfico azul é o protocolo. A razão para essa incompatibilidade é que o cálculo dentro da estrutura do pacote matemático, conforme mostrado por análises adicionais, corresponde à operação seqüencial dos objetos quando eles primeiro trabalham no controlador PID e param, e depois no modelo do objeto, etc. no loop. O ambiente VKPa implementa / modela a operação paralela de objetos de acordo com a situação real, quando o modelo e o objeto trabalham em paralelo. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fh/2h/xw/fh2hxwfiimcko0qfrytqy_q0jno.jpeg" alt="imagem"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 9. Implementação do controlador PID </font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/st/55/nh/st55nh7x7lcyyroleawlr5xd-tg.jpeg" alt="imagem"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 10. Comparação de valores calculados com resultados de simulação do controlador PID</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como, como já anunciamos, no VKP (a) existe um modo para simular a operação seqüencial de blocos estruturais, não é difícil verificar a hipótese de um modo de cálculo seqüencial para o controlador PID. </font><font style="vertical-align: inherit;">Alterando o modo de operação do meio para serial, obtemos a coincidência dos gráficos, como mostra a Fig. 11. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/y4/a3/11/y4a311fqptw0zzi06v1ptbaz5a0.jpeg" alt="imagem"> <br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 11. </font><font style="vertical-align: inherit;">Operação sequencial do controlador PID e objeto de controle</font></font><br>
</i><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7. Conclusões</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dentro da estrutura do CPSU (a), o modelo computacional confere aos programas propriedades que são características dos objetos "vivos" reais. Daí a associação figurativa com a "matemática viva". Como mostra a prática, nós, nos modelos, somos simplesmente obrigados a levar em conta o que não pode ser ignorado na vida real. Na computação paralela, esse é principalmente o tempo e a finitude dos cálculos. Obviamente, sem esquecer a adequação do modelo matemático [automático] a um ou outro objeto "vivo".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
É impossível lutar contra o que não pode ser derrotado. Já estava na hora. Isso é possível apenas em um conto de fadas. Mas faz sentido levar isso em conta e / ou até usá-lo para seus próprios propósitos. Na programação paralela moderna, ignorar o tempo leva a muitos problemas dificilmente controlados e detectados - corrida de sinal, processos de impasse, problemas com sincronização, etc. etc. A tecnologia VKP (a) está praticamente livre de tais problemas, simplesmente porque inclui um modelo em tempo real e leva em consideração a finitude dos processos de computação. Ele contém o que a maioria de seus análogos é simplesmente ignorada.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em conclusão. </font><font style="vertical-align: inherit;">Borboletas são borboletas, mas você pode, por exemplo, considerar um sistema de equações de funções quadráticas e lineares. </font><font style="vertical-align: inherit;">Para fazer isso, basta adicionar ao modelo já criado um modelo de função linear e um processo que controla sua coincidência. </font><font style="vertical-align: inherit;">Portanto, a solução será encontrada por modelagem. </font><font style="vertical-align: inherit;">Provavelmente não será tão preciso quanto analítico, mas será obtido de maneira mais simples e rápida. </font><font style="vertical-align: inherit;">E, em muitos casos, isso é mais do que suficiente. </font><font style="vertical-align: inherit;">E encontrar uma solução analítica é, geralmente, uma questão em aberto. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em conexão com este último, os AVMs foram recuperados. </font><font style="vertical-align: inherit;">Para aqueles que não estão atualizados ou se esqueceram, - computadores analógicos. </font><font style="vertical-align: inherit;">Os princípios estruturais são, em geral, a abordagem para encontrar uma solução.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">inscrição</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1) </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vídeo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">youtu.be/vf9gNBAmOWQ</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
2) </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arquivo de exemplos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/lvs628/FsaHabr/blob/master/FsaHabr.zip</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3) </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arquivo das bibliotecas Qt dll necessárias versão 5.11.2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/lvs628/FsaHabr/blob/master/QtDLLs.zip Os</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
exemplos são desenvolvidos no ambiente Windows 7. Para instalá-los, abra o arquivo de exemplos e, se o Qt não estiver instalado ou a versão atual do Qt é diferente da versão 5.11.2, abra adicionalmente o arquivo Qt e grave o caminho para as bibliotecas na variável de ambiente Path. Em seguida, execute \ FsaHabr \ VCPaMain \ release \ FsaHabr.exe e use a caixa de diálogo para selecionar o diretório de configuração de um exemplo, por exemplo, \ FsaHabr \ 9.ParallelOperators \ Heading1 \ Pict1.C2 = A + B + A1 + B1 \ (consulte também vídeo).</font></font><br>
<br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comente. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Na primeira inicialização, em vez da caixa de diálogo de seleção de diretório, uma caixa de diálogo de seleção de arquivo pode aparecer. </font><font style="vertical-align: inherit;">Também selecionamos o diretório de configuração e algum arquivo nele, por exemplo, vSetting.txt. </font><font style="vertical-align: inherit;">Se a caixa de diálogo de seleção da configuração não aparecer, antes de iniciar, exclua o arquivo ConfigFsaHabr.txt no diretório em que o arquivo FsaHabr.exe está localizado. </font></font><br>
</i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para não repetir a seleção da configuração na caixa de diálogo "kernel: automatic spaces" (pode ser aberta usando o item de menu: FSA-tools / Space Management / Management), clique no botão "lembrar o caminho do diretório" e desmarque "exibir a caixa de diálogo de seleção da configuração na inicialização" " </font><font style="vertical-align: inherit;">No futuro, para selecionar uma configuração diferente, essa opção precisará ser definida novamente.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Literatura</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NPS, transportador, computação automática e, novamente ... corotinas.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> [Recurso eletrônico], Modo de acesso: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">habr.com/en/post/488808</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> grátis. Yaz. russo (data do tratamento 02.22.2020). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As máquinas automáticas são uma coisa do evento?</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> [Recurso eletrônico], Modo de acesso: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">habr.com/en/post/483610</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> grátis. Yaz. russo (data do tratamento 02.22.2020). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. BUCH G., RAMBO J., JACOBSON I. UML. Manual do usuário. Segunda edição. IT Academy: Moscou, 2007 - 493 p. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4. Rogachev G.N. Stateflow V5. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Manual do usuário.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> [Recurso eletrônico], Modo de acesso: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bourabai.kz/cm/stateflow.htm</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> grátis. Yaz. russo (data de circulação 10.04.2020). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5)</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modelo de computação paralela </font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[Recurso eletrônico], Modo de acesso: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">habr.com/en/post/486622</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> grátis. </font><font style="vertical-align: inherit;">Yaz. </font><font style="vertical-align: inherit;">russo </font><font style="vertical-align: inherit;">(data de circulação 04/11/2020).</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt499448/index.html">Implementando o SOLID e a arquitetura em camadas no Node.js com TypeScript e InversifyJS</a></li>
<li><a href="../pt499450/index.html">Escolhendo o equipamento para um jogo persa usando genética / evolução em Python</a></li>
<li><a href="../pt499452/index.html">Cotidiano de um oftalmologista na clínica: quando os médicos não são suficientes</a></li>
<li><a href="../pt499454/index.html">Video Live! Badoo Localization Meetup 21 de abril</a></li>
<li><a href="../pt499458/index.html">Materiais mitap GOnline: design de biblioteca, geração de código, aprendizado de máquina</a></li>
<li><a href="../pt499464/index.html">MOS Technology 6502 - Domando a semente de semicondutores</a></li>
<li><a href="../pt499470/index.html">Não toque! Gerenciar uma página da Web usando uma webcam</a></li>
<li><a href="../pt499472/index.html">Como o coronavírus acelerará a quarta revolução industrial</a></li>
<li><a href="../pt499474/index.html">Como implementar Atlassian Jira + Confluence em uma corporação. Problemas técnicos</a></li>
<li><a href="../pt499476/index.html">Teste de automação de aplicativos Web chave na mão, sem registro e SMS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>