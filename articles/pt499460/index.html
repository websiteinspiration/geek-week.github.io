<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§ù üë©üèª‚Äçü§ù‚Äçüë®üèæ üìÇ Concorr√™ncia, corotinas, m√°quinas de eventos, ... matem√°tica viva ü¶í üç£ üö∂üèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A computa√ß√£o paralela fascina com a inesperada de seu comportamento. Mas o comportamento conjunto dos processos n√£o pode ser imprevis√≠vel. Somente nes...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Concorr√™ncia, corotinas, m√°quinas de eventos, ... matem√°tica viva</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/499460/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A computa√ß√£o paralela fascina com a inesperada de seu comportamento. Mas o comportamento conjunto dos processos n√£o pode ser imprevis√≠vel. Somente nesse caso ele pode ser estudado e compreendido em suas peculiaridades. A simultaneidade multithread moderna √© √∫nica. No sentido literal. E essa √© toda a sua </font><font style="vertical-align: inherit;">ess√™ncia </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ruim</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . A ess√™ncia que pode e deve ser influenciada. A ess√™ncia, que deve, em boa medida, ter sido alterada h√° muito tempo ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Embora exista outra op√ß√£o. N√£o h√° necessidade de mudar nada e / ou influenciar algo. Que haja multithreading e coroutines, que seja ... e programa√ß√£o autom√°tica paralela (AP). Deixe-os competir e, quando necess√°rio e poss√≠vel, se complementem. Nesse sentido, o paralelismo moderno possui pelo menos uma vantagem - permite que voc√™ fa√ßa isso. </font></font><br>
<br>
<s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bem, vamos competir!?</font></font></s><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. De serial para paralelo</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Considere programar a equa√ß√£o aritm√©tica mais simples: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C2 = A + B + A1 + B1; </font><font style="vertical-align: inherit;">(1) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Haja blocos que implementem opera√ß√µes aritm√©ticas simples. </font><font style="vertical-align: inherit;">Nesse caso, os blocos de soma s√£o suficientes. </font><font style="vertical-align: inherit;">Uma ideia clara e precisa do n√∫mero de blocos, sua estrutura e as rela√ß√µes entre eles fornece arroz. </font><font style="vertical-align: inherit;">1. E na Fig. 2. </font><font style="vertical-align: inherit;">a configura√ß√£o do meio VKP (a) √© dada para resolver a equa√ß√£o (1). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/5q/vn/lc/5qvnlcbing_aolxkkz-ysz8d8-4.jpeg" alt="imagem"><br>
 <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figura 1. </font><font style="vertical-align: inherit;">Modelo estrutural de processos</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Mas o diagrama estrutural da Fig. 1 corresponde a um sistema de tr√™s equa√ß√µes: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 = A + B; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C1 = A1 + B; </font><font style="vertical-align: inherit;">(2) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C2 = C + C1;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ao mesmo tempo (2), esta √© uma implementa√ß√£o paralela da equa√ß√£o (1), que √© um algoritmo para somar uma matriz de n√∫meros, tamb√©m conhecido como algoritmo de duplica√ß√£o. </font><font style="vertical-align: inherit;">Aqui a matriz √© representada por quatro n√∫meros A, B, A1, B1, as vari√°veis ‚Äã‚ÄãC e C1 s√£o resultados intermedi√°rios e C2 √© a soma da matriz. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/e_/qn/ll/e_qnllaermfl1ps3slc29pwvo1e.jpeg" alt="imagem"> <br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figura 2. </font><font style="vertical-align: inherit;">Tipo de di√°logos para a configura√ß√£o de tr√™s processos paralelos.Os</font></font><br>
</i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
recursos de implementa√ß√£o incluem a continuidade de sua opera√ß√£o, quando qualquer altera√ß√£o nos dados de entrada leva a uma recontagem do resultado. </font><font style="vertical-align: inherit;">Ap√≥s alterar os dados de entrada, ser√£o necess√°rios dois ciclos de clock e, quando os blocos forem conectados em s√©rie, o mesmo efeito ser√° alcan√ßado em tr√™s ciclos de clock. </font><font style="vertical-align: inherit;">E quanto maior a matriz, maior o ganho de velocidade.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Concorr√™ncia como um problema</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N√£o se surpreenda se voc√™ for chamado de muitos argumentos em favor de uma ou outra solu√ß√£o paralela, mas ao mesmo tempo eles ficar√£o em sil√™ncio sobre poss√≠veis problemas que est√£o completamente ausentes na programa√ß√£o seq√ºencial comum. A principal raz√£o para a interpreta√ß√£o semelhante do problema da implementa√ß√£o correta do paralelismo. Eles dizem o m√≠nimo sobre ela. Se √© que eles dizem. Entraremos em contato com ele na parte relacionada ao acesso paralelo aos dados. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Qualquer processo pode ser representado como muitas etapas indivis√≠veis consecutivas. Para muitos processos, em cada uma dessas etapas, as a√ß√µes pertencentes a todos os processos s√£o executadas simultaneamente. E aqui podemos encontrar um problema que se manifesta no seguinte exemplo elementar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Suponha que existem dois processos paralelos que correspondem ao seguinte sistema de equa√ß√µes:</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
c = a + b; </font><font style="vertical-align: inherit;">(3) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
a = b + c; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Suponha que as vari√°veis ‚Äã‚Äãa, b, c tenham os valores iniciais 1, 1, 0. Podemos esperar que o protocolo de c√°lculo para as cinco etapas seja o seguinte:</font></font><br>
<br>
<pre><code class="plaintext hljs">a              b               c<font></font>
1.000       1.000       0.000      <font></font>
1.000       1.000       2.000       <font></font>
3.000       1.000       2.000       <font></font>
3.000       1.000       4.000       <font></font>
5.000       1.000       4.000        <font></font>
5.000       1.000       6.000   </code></pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ao form√°-lo, partimos do fato de que os operadores s√£o executados em paralelo (simultaneamente) e dentro de uma medida discreta (etapa). </font><font style="vertical-align: inherit;">Para instru√ß√µes em loop, ser√° uma itera√ß√£o do loop. </font><font style="vertical-align: inherit;">Tamb√©m podemos assumir que, no processo de c√°lculos, as vari√°veis ‚Äã‚Äãt√™m valores fixados no in√≠cio de uma medida discreta, e suas altera√ß√µes ocorrem no final. </font><font style="vertical-align: inherit;">Isso √© bastante consistente com a situa√ß√£o real, quando leva algum tempo para concluir a opera√ß√£o. </font><font style="vertical-align: inherit;">√â frequentemente associado a um atraso inerente a um determinado bloco. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas, provavelmente, voc√™ obter√° algo como este protocolo:</font></font><br>
<br>
<pre><code class="plaintext hljs">   a              b               c<font></font>
1.000       1.000       0.000      <font></font>
3.000       1.000       2.000       <font></font>
5.000       1.000       4.000       <font></font>
7.000       1.000       6.000       <font></font>
9.000       1.000       8.000       <font></font>
11.000     1.000     10.000       <font></font>
</code></pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√â equivalente ao trabalho de um processo executando duas instru√ß√µes consecutivas em um ciclo: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
c = a + b; a = b + c; (4) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas pode acontecer que a execu√ß√£o das instru√ß√µes seja exatamente o oposto e, em seguida, o protocolo seja o seguinte:</font></font><br>
<br>
<pre><code class="plaintext hljs">   a              b               c<font></font>
1.000       1.000       0.000      <font></font>
1.000       1.000       2.000       <font></font>
3.000       1.000       4.000       <font></font>
5.000       1.000       6.000       <font></font>
7.000       1.000       8.000       <font></font>
9.000       1.000     10.000       <font></font>
</code></pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na programa√ß√£o multithread, a situa√ß√£o √© ainda pior. Na aus√™ncia de sincroniza√ß√£o de processos, n√£o √© apenas dif√≠cil prever a sequ√™ncia de inicializa√ß√£o dos operadores, mas seu trabalho tamb√©m ser√° interrompido em qualquer lugar. Tudo isso n√£o pode deixar de afetar os resultados do trabalho conjunto dos operadores. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dentro da estrutura da tecnologia AP, o trabalho com vari√°veis ‚Äã‚Äãde processo comuns √© permitido de maneira simples e correta. Aqui, na maioria das vezes, n√£o s√£o necess√°rios esfor√ßos especiais para sincronizar processos e trabalhar com dados. Mas ser√° necess√°rio destacar a√ß√µes que ser√£o consideradas condicionalmente instant√¢neas e indivis√≠veis, al√©m de criar modelos de processos autom√°ticos. No nosso caso, as a√ß√µes ser√£o operadores de soma e os aut√¥matos com transi√ß√µes c√≠clicas ser√£o respons√°veis ‚Äã‚Äãpor seu lan√ßamento.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A Listagem 1 mostra o c√≥digo para um processo que implementa a opera√ß√£o de soma. </font><font style="vertical-align: inherit;">Seu modelo √© uma m√°quina de estados finitos (ver Fig. 3) com um estado e uma transi√ß√£o de loop incondicional, para a qual a √∫nica a√ß√£o y1, tendo realizado a opera√ß√£o de somar duas vari√°veis, coloca o resultado na terceira. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qz/xe/0f/qzxe0ffddnbmlivrwlmd_jl1ads.jpeg" alt="imagem"> <br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 3. </font><font style="vertical-align: inherit;">Modelo automatizado da opera√ß√£o de somat√≥rio</font></font></i><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Listagem 1. Implementa√ß√£o de um processo de aut√¥mato para uma opera√ß√£o de soma</font></font></b>
                        <div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"lfsaappl.h"</span></span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FSumABC</span> :</span>
    <span class="hljs-keyword">public</span> LFsaAppl<font></font>
{<font></font>
<span class="hljs-keyword">public</span>:
    <span class="hljs-function">LFsaAppl* <span class="hljs-title">Create</span><span class="hljs-params">(CVarFSA *pCVF)</span> </span>{ Q_UNUSED(pCVF)<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> FSumABC(nameFsa); }
    <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">FCreationOfLinksForVariables</span><span class="hljs-params">()</span></span>;<font></font>
    FSumABC(<span class="hljs-built_in">string</span> strNam);<font></font>
    CVar *pVarA;		<span class="hljs-comment">//</span>
    CVar *pVarB;		<span class="hljs-comment">//</span>
    CVar *pVarC;		<span class="hljs-comment">//</span>
    CVar *pVarStrNameA;        <span class="hljs-comment">//</span>
    CVar *pVarStrNameB;        <span class="hljs-comment">//</span>
    CVar *pVarStrNameC;        <span class="hljs-comment">//</span>
<span class="hljs-keyword">protected</span>:
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y1</span><span class="hljs-params">()</span></span>;<font></font>
};<font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"stdafx.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"FSumABC.h"</span></span><font></font>
<font></font>
<span class="hljs-keyword">static</span> LArc TBL_SumABC[] = {<font></font>
    LArc(<span class="hljs-string">"s1"</span>,	<span class="hljs-string">"s1"</span>,<span class="hljs-string">"--"</span>, <span class="hljs-string">"y1"</span>),<font></font>
    LArc()<font></font>
};<font></font>
<font></font>
FSumABC::FSumABC(<span class="hljs-built_in">string</span> strNam):<font></font>
    LFsaAppl(TBL_SumABC, strNam, <span class="hljs-literal">nullptr</span>, <span class="hljs-literal">nullptr</span>)<font></font>
{ }<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">FSumABC::FCreationOfLinksForVariables</span><span class="hljs-params">()</span> </span>{<font></font>
    pVarA = CreateLocVar(<span class="hljs-string">"a"</span>, CLocVar::vtBool, <span class="hljs-string">"variable a"</span>);<font></font>
    pVarB = CreateLocVar(<span class="hljs-string">"b"</span>, CLocVar::vtBool, <span class="hljs-string">"variable c"</span>);<font></font>
    pVarC = CreateLocVar(<span class="hljs-string">"c"</span>, CLocVar::vtBool, <span class="hljs-string">"variable c"</span>);<font></font>
    pVarStrNameA = CreateLocVar(<span class="hljs-string">"strNameA"</span>, CLocVar::vtString, <span class="hljs-string">""</span>);
    <span class="hljs-built_in">string</span> str = pVarStrNameA-&gt;strGetDataSrc();
    <span class="hljs-keyword">if</span> (str != <span class="hljs-string">""</span>) { pVarA = pTAppCore-&gt;GetAddressVar(pVarStrNameA-&gt;strGetDataSrc().c_str(), <span class="hljs-keyword">this</span>); }<font></font>
    pVarStrNameB = CreateLocVar(<span class="hljs-string">"strNameB"</span>, CLocVar::vtString, <span class="hljs-string">""</span>);<font></font>
    str = pVarStrNameB-&gt;strGetDataSrc();<font></font>
    <span class="hljs-keyword">if</span> (str != <span class="hljs-string">""</span>) { pVarB = pTAppCore-&gt;GetAddressVar(pVarStrNameB-&gt;strGetDataSrc().c_str(), <span class="hljs-keyword">this</span>); }<font></font>
    pVarStrNameC = CreateLocVar(<span class="hljs-string">"strNameC"</span>, CLocVar::vtString, <span class="hljs-string">""</span>);<font></font>
    str = pVarStrNameC-&gt;strGetDataSrc();<font></font>
    <span class="hljs-keyword">if</span> (str != <span class="hljs-string">""</span>) { pVarC = pTAppCore-&gt;GetAddressVar(pVarStrNameC-&gt;strGetDataSrc().c_str(), <span class="hljs-keyword">this</span>); }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FSumABC::y1</span><span class="hljs-params">()</span> </span>{ <font></font>
    pVarC-&gt;SetDataSrc(<span class="hljs-keyword">this</span>, pVarA-&gt;GetDataSrc() + pVarB-&gt;GetDataSrc()); <font></font>
}<font></font>
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Importante, ou melhor, mesmo necess√°rio, aqui est√° o uso das vari√°veis ‚Äã‚Äãde ambiente do CPSU. </font><font style="vertical-align: inherit;">Suas ‚Äúpropriedades de sombra‚Äù garantem a intera√ß√£o correta dos processos. </font><font style="vertical-align: inherit;">Al√©m disso, o ambiente permite alterar o modo de opera√ß√£o, excluindo o registro de vari√°veis ‚Äã‚Äãna mem√≥ria intermedi√°ria de sombra. </font><font style="vertical-align: inherit;">Uma an√°lise dos protocolos obtidos nesse modo nos permite verificar a necessidade de usar vari√°veis ‚Äã‚Äãde sombra.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. E as corotinas? ...</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seria bom saber como as corotinas representadas pela linguagem Kotlin ir√£o lidar com a tarefa. </font><font style="vertical-align: inherit;">Tomemos como modelo de solu√ß√£o o programa considerado na discuss√£o de [1]. </font><font style="vertical-align: inherit;">Possui uma estrutura que √© facilmente reduzida √† apar√™ncia necess√°ria. </font><font style="vertical-align: inherit;">Para fazer isso, substitua as vari√°veis ‚Äã‚Äãl√≥gicas nele por um tipo num√©rico e adicione outra vari√°vel. Em vez de opera√ß√µes l√≥gicas, usaremos a opera√ß√£o de soma. </font><font style="vertical-align: inherit;">O c√≥digo correspondente √© mostrado na listagem 2.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Listagem 2. Programa de soma paralela Kotlin</font></font></b>
                        <div class="spoiler_text"><pre><code class="kotlin hljs"><span class="hljs-keyword">import</span> kotlinx.coroutines.*<font></font>
<font></font>
<span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> =
    <span class="hljs-comment">// Structured concurrency: if any child coroutine fails,</span>
    <span class="hljs-comment">// everything else will be cancelled</span><font></font>
    coroutineScope {<font></font>
        <span class="hljs-keyword">var</span> a = <span class="hljs-number">1</span>
        <span class="hljs-keyword">var</span> b = <span class="hljs-number">1</span>
        <span class="hljs-keyword">var</span> c = <span class="hljs-number">0</span>;
        <span class="hljs-comment">// Use default thread pool </span><font></font>
        withContext(Dispatchers.Default) {<font></font>
            <span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..<span class="hljs-number">4</span>) {
               <span class="hljs-keyword">var</span> res = listOf(async { a+b }, async{ b+c }).map { it.await() }<font></font>
			c = res[<span class="hljs-number">0</span>]<font></font>
			a = res[<span class="hljs-number">1</span>]<font></font>
               println(<span class="hljs-string">"<span class="hljs-variable">$a</span>, <span class="hljs-variable">$b</span>, <span class="hljs-variable">$c</span>"</span>)<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N√£o h√° d√∫vidas sobre o resultado deste programa, pois </font><font style="vertical-align: inherit;">corresponde exatamente ao primeiro dos protocolos acima. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No entanto, a convers√£o do c√≥digo-fonte n√£o foi t√£o √≥bvia quanto parece, porque </font><font style="vertical-align: inherit;">Parecia natural usar o seguinte fragmento de c√≥digo:</font></font><br>
<br>
<pre><code class="kotlin hljs">listOf(async {  = a+b }, async{  = b+c })
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como mostra o teste (isso pode ser feito on-line no site da Kotlin - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kotlinlang.org/#try-kotlin</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), seu uso leva a um resultado completamente imprevis√≠vel, que tamb√©m muda de um lan√ßamento para outro. </font><font style="vertical-align: inherit;">E apenas uma an√°lise mais cuidadosa do programa de origem levou ao c√≥digo correto. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C√≥digo que cont√©m um erro do ponto de vista do funcionamento do programa, mas √© leg√≠timo do ponto de vista da linguagem, nos faz temer pela confiabilidade dos programas nele. </font><font style="vertical-align: inherit;">Essa opini√£o, provavelmente, pode ser contestada pelos especialistas da Kotlin. </font><font style="vertical-align: inherit;">No entanto, a facilidade de cometer um erro, que n√£o pode ser explicado apenas pela falta de entendimento da ‚Äúprograma√ß√£o de corotina‚Äù, est√°, no entanto, pressionando persistentemente por tais conclus√µes.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. M√°quinas de eventos em Qt</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anteriormente, estabelecemos que um aut√¥mato de evento n√£o √© um aut√¥mato em sua defini√ß√£o cl√°ssica. Ele √© bom ou ruim, mas, at√© certo ponto, a m√°quina de eventos ainda √© um parente das m√°quinas cl√°ssicas. √â distante, pr√≥ximo, mas devemos falar sobre isso diretamente, para que n√£o haja conceitos errados sobre isso. Come√ßamos a conversar sobre isso em [2], mas tudo por continuar. Agora faremos isso examinando outros exemplos do uso de m√°quinas de eventos no Qt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obviamente, um aut√¥mato de evento pode ser considerado um caso degenerado de um aut√¥mato cl√°ssico com uma dura√ß√£o de ciclo indefinida e / ou vari√°vel associada a um evento. A possibilidade de tal interpreta√ß√£o foi mostrada em um artigo anterior ao resolver apenas um e, al√©m disso, um exemplo bastante espec√≠fico (ver detalhes [2]). Em seguida, tentaremos eliminar essa lacuna.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A biblioteca Qt apenas associa transi√ß√µes de m√°quina a eventos, o que √© uma limita√ß√£o s√©ria. Por exemplo, na mesma linguagem UML, uma transi√ß√£o est√° associada n√£o apenas a um evento chamado evento inicial, mas tamb√©m a uma condi√ß√£o de prote√ß√£o - uma express√£o l√≥gica calculada ap√≥s o recebimento do evento [3]. No MATLAB, a situa√ß√£o √© mais mitigada e soa assim: ‚Äúse o nome do evento n√£o for especificado, a transi√ß√£o ocorrer√° quando ocorrer </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">um</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> evento‚Äù [4]. Mas aqui e ali, a causa raiz da transi√ß√£o s√£o os eventos. Mas e se n√£o houver eventos?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se n√£o houver eventos, ent√£o ... voc√™ pode tentar cri√°-los. </font><font style="vertical-align: inherit;">Listagem 3 e Figura </font><font style="vertical-align: inherit;">4 demonstram como fazer isso, usando o descendente da classe de aut√¥matos LFsaAppl do ambiente VKPa como um "inv√≥lucro" do evento Qt-class. </font><font style="vertical-align: inherit;">Aqui, a a√ß√£o y2 com uma periodicidade do tempo discreto do espa√ßo do aut√¥mato envia um sinal iniciando o in√≠cio da transi√ß√£o do aut√¥mato Qt. </font><font style="vertical-align: inherit;">O √∫ltimo, usando o m√©todo s0Exited, inicia a a√ß√£o y1, que implementa a opera√ß√£o de soma. </font><font style="vertical-align: inherit;">Observe que a m√°quina de eventos √© criada estritamente pela a√ß√£o y3 ap√≥s verificar a inicializa√ß√£o das vari√°veis ‚Äã‚Äãlocais da classe LFsaAppl. </font></font><br>
 <br>
<img src="https://habrastorage.org/webt/lv/gc/zv/lvgczvyataz7ybhpht1pvs28uhm.jpeg" alt="imagem"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 4. </font><font style="vertical-align: inherit;">Combina√ß√£o de m√°quinas cl√°ssicas e de eventos</font></font><br>
</i><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Listagem 3. Implementando um modelo de soma com um aut√¥mato de eventos</font></font></b>
                        <div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"lfsaappl.h"</span></span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">QStateMachine</span>;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">QState</span>;</span><font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FSumABC</span> :</span>
    <span class="hljs-keyword">public</span> QObject,
    <span class="hljs-keyword">public</span> LFsaAppl<font></font>
{<font></font>
    Q_OBJECT<font></font>
...<font></font>
<span class="hljs-keyword">protected</span>:
    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">x1</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y1</span><span class="hljs-params">()</span></span>; <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y2</span><span class="hljs-params">()</span></span>; <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y3</span><span class="hljs-params">()</span></span>; <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y12</span><span class="hljs-params">()</span></span>;<font></font>
signals:<font></font>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">GoState</span><span class="hljs-params">()</span></span>;
<span class="hljs-keyword">private</span> slots:
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">s0Exited</span><span class="hljs-params">()</span></span>;
<span class="hljs-keyword">private</span>:<font></font>
    QStateMachine * machine;<font></font>
    QState * s0;<font></font>
};<font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"stdafx.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"FSumABC.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;QStateMachine&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;QState&gt;</span></span><font></font>
<font></font>
<span class="hljs-keyword">static</span> LArc TBL_SumABC[] = {<font></font>
    LArc(<span class="hljs-string">"st"</span>,	<span class="hljs-string">"st"</span>,<span class="hljs-string">"^x1"</span>,	<span class="hljs-string">"y12"</span>),<font></font>
    LArc(<span class="hljs-string">"st"</span>,	<span class="hljs-string">"s1"</span>,<span class="hljs-string">"x1"</span>,	<span class="hljs-string">"y3"</span>),<font></font>
    LArc(<span class="hljs-string">"s1"</span>,	<span class="hljs-string">"s1"</span>,<span class="hljs-string">"--"</span>,	<span class="hljs-string">"y2"</span>),<font></font>
    LArc()<font></font>
};<font></font>
<font></font>
FSumABC::FSumABC(<span class="hljs-built_in">string</span> strNam):<font></font>
    QObject(),<font></font>
    LFsaAppl(TBL_SumABC, strNam, <span class="hljs-literal">nullptr</span>, <span class="hljs-literal">nullptr</span>)<font></font>
{ }<font></font>
...<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">FSumABC::x1</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> pVarA&amp;&amp;pVarB&amp;&amp;pVarC; }<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FSumABC::y1</span><span class="hljs-params">()</span> </span>{<font></font>
    pVarC-&gt;SetDataSrc(<span class="hljs-keyword">this</span>, pVarA-&gt;GetDataSrc() + pVarB-&gt;GetDataSrc());<font></font>
}<font></font>
<span class="hljs-comment">//</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FSumABC::y2</span><span class="hljs-params">()</span> </span>{ <span class="hljs-function">emit <span class="hljs-title">GoState</span><span class="hljs-params">()</span></span>; }
<span class="hljs-comment">//</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FSumABC::y3</span><span class="hljs-params">()</span> </span>{<font></font>
    s0 = <span class="hljs-keyword">new</span> QState();<font></font>
    QSignalTransition *ps = s0-&gt;addTransition(<span class="hljs-keyword">this</span>, SIGNAL(GoState()), s0);<font></font>
    connect (s0, SIGNAL(entered()), <span class="hljs-keyword">this</span>, SLOT(s0Exited()));<font></font>
    machine = <span class="hljs-keyword">new</span> QStateMachine(<span class="hljs-literal">nullptr</span>);<font></font>
    machine-&gt;addState(s0);<font></font>
    machine-&gt;setInitialState(s0);<font></font>
    machine-&gt;start();<font></font>
}<font></font>
<span class="hljs-comment">//    </span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FSumABC::y12</span><span class="hljs-params">()</span> </span>{ FInit(); }<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FSumABC::s0Exited</span><span class="hljs-params">()</span> </span>{ y1(); }
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Acima, implementamos uma m√°quina muito simples. </font><font style="vertical-align: inherit;">Ou, mais precisamente, uma combina√ß√£o de aut√¥matos cl√°ssicos e de eventos. </font><font style="vertical-align: inherit;">Se a implementa√ß√£o anterior da classe FSumABC for substitu√≠da pela criada, simplesmente n√£o haver√° diferen√ßas no aplicativo. </font><font style="vertical-align: inherit;">Por√©m, para modelos mais complexos, as propriedades limitadas dos aut√¥matos acionados por eventos come√ßam a se manifestar completamente. </font><font style="vertical-align: inherit;">No m√≠nimo, j√° em processo de cria√ß√£o de um modelo. </font><font style="vertical-align: inherit;">A Listagem 4 mostra a implementa√ß√£o do modelo do elemento AND-NOT na forma de um aut√¥mato de eventos (para obter mais detalhes sobre o modelo de aut√¥mato usado do elemento AND-NOT, consulte [2]).</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Listagem 4. Implementando um modelo de elemento AND NOT por uma m√°quina de eventos</font></font></b>
                        <div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;QObject&gt;</span></span><font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">QStateMachine</span>;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">QState</span>;</span><font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainWindow</span>;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ine</span> :</span> <span class="hljs-keyword">public</span> QObject<font></font>
{<font></font>
    Q_OBJECT<font></font>
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">ine</span><span class="hljs-params">(MainWindow *parent = <span class="hljs-literal">nullptr</span>)</span></span>;
    <span class="hljs-keyword">bool</span> bX1, bX2, bY;<font></font>
signals:<font></font>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">GoS0</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">GoS1</span><span class="hljs-params">()</span></span>;
<span class="hljs-keyword">private</span> slots:
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">s1Exited</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">s0Exited</span><span class="hljs-params">()</span></span>;
<span class="hljs-keyword">private</span>:<font></font>
    QStateMachine * machine;<font></font>
    QState * s0;<font></font>
    QState * s1;<font></font>
    MainWindow *pMain{<span class="hljs-literal">nullptr</span>};
<span class="hljs-keyword">friend</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainWindow</span>;</span><font></font>
};<font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"ine.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;QStateMachine&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;QState&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"mainwindow.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"ui_mainwindow.h"</span></span><font></font>
<font></font>
ine::ine(MainWindow *parent) :<font></font>
    QObject(parent)<font></font>
{<font></font>
    pMain = parent;<font></font>
    s0 = <span class="hljs-keyword">new</span> QState();<font></font>
    s1 = <span class="hljs-keyword">new</span> QState();<font></font>
<font></font>
    s0-&gt;addTransition(<span class="hljs-keyword">this</span>, SIGNAL(GoS1()), s1);<font></font>
    s1-&gt;addTransition(<span class="hljs-keyword">this</span>, SIGNAL(GoS0()), s0);<font></font>
<font></font>
    connect (s0, SIGNAL(entered()), <span class="hljs-keyword">this</span>, SLOT(s0Exited()));<font></font>
    connect (s1, SIGNAL(entered()), <span class="hljs-keyword">this</span>, SLOT(s1Exited()));<font></font>
<font></font>
<font></font>
    machine = <span class="hljs-keyword">new</span> QStateMachine(<span class="hljs-literal">nullptr</span>);<font></font>
    machine-&gt;addState(s0);<font></font>
    machine-&gt;addState(s1);<font></font>
    machine-&gt;setInitialState(s1);<font></font>
    machine-&gt;start();<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">ine::s1Exited</span><span class="hljs-params">()</span> </span>{<font></font>
    bY = !(bX1&amp;&amp;bX2);<font></font>
    pMain-&gt;ui-&gt;checkBoxY-&gt;setChecked(bY);<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">ine::s0Exited</span><span class="hljs-params">()</span> </span>{<font></font>
    bY = !(bX1&amp;&amp;bX2);<font></font>
    pMain-&gt;ui-&gt;checkBoxY-&gt;setChecked(bY);<font></font>
}<font></font>
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Torna-se claro que os aut√¥matos de eventos no Qt se baseiam estritamente nos aut√¥matos de Moore. Isso limita os recursos e a flexibilidade do modelo, como a√ß√µes s√£o associadas apenas a estados. Como resultado, por exemplo, √© imposs√≠vel distinguir entre duas transi√ß√µes do estado 0 para 1 para o aut√¥mato mostrado na Fig. 4 em [2]. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obviamente, para implementar o Miles, voc√™ pode usar o procedimento conhecido para mudar para m√°quinas Moore. Mas isso leva a um aumento no n√∫mero de estados e elimina a associa√ß√£o simples, visual e √∫til dos estados modelo com o resultado de suas a√ß√µes. Por exemplo, ap√≥s essas transforma√ß√µes, o estado √∫nico da sa√≠da do modelo 1 de [2] precisa comparar dois estados do aut√¥mato de Moore.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em um modelo mais complexo, problemas com condi√ß√µes de transi√ß√£o come√ßam a aparecer com obviedade. </font><font style="vertical-align: inherit;">Para contorn√°-los para a implementa√ß√£o do software do elemento AND-NOT em considera√ß√£o, uma an√°lise do estado dos canais de entrada foi incorporada ao di√°logo de controle do modelo, conforme mostrado na Listagem 5.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Listagem 5. Di√°logo de controle do elemento NAND</font></font></b>
                        <div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"mainwindow.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"ui_mainwindow.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"ine.h"</span></span><font></font>
<font></font>
MainWindow::MainWindow(QWidget *parent)<font></font>
    : QMainWindow(parent)<font></font>
    , ui(<span class="hljs-keyword">new</span> Ui::MainWindow)<font></font>
{<font></font>
    ui-&gt;setupUi(<span class="hljs-keyword">this</span>);<font></font>
    pine = <span class="hljs-keyword">new</span> ine(<span class="hljs-keyword">this</span>);<font></font>
    connect(<span class="hljs-keyword">this</span>, SIGNAL(GoState0()), pine, SIGNAL(GoS0()));<font></font>
    connect(<span class="hljs-keyword">this</span>, SIGNAL(GoState1()), pine, SIGNAL(GoS1()));<font></font>
}<font></font>
<font></font>
MainWindow::~MainWindow()<font></font>
{<font></font>
    <span class="hljs-keyword">delete</span> ui;<font></font>
}<font></font>
<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">MainWindow::on_checkBoxX1_clicked</span><span class="hljs-params">(<span class="hljs-keyword">bool</span> checked)</span>
</span>{<font></font>
    bX1 = checked;<font></font>
    pine-&gt;bX1 = bX1;<font></font>
    bY = !(bX1&amp;&amp;bX2);<font></font>
    <span class="hljs-keyword">if</span> (!(bX1&amp;&amp;bX2)) <span class="hljs-function">emit <span class="hljs-title">GoState0</span><span class="hljs-params">()</span></span>;
    <span class="hljs-keyword">else</span> emit GoState1();<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">MainWindow::on_checkBoxX2_clicked</span><span class="hljs-params">(<span class="hljs-keyword">bool</span> checked)</span>
</span>{<font></font>
    bX2 = checked;<font></font>
    pine-&gt;bX2 = bX2;<font></font>
    bY = !(bX1&amp;&amp;bX2);<font></font>
    <span class="hljs-keyword">if</span> (!(bX1&amp;&amp;bX2)) <span class="hljs-function">emit <span class="hljs-title">GoState0</span><span class="hljs-params">()</span></span>;
    <span class="hljs-keyword">else</span> emit GoState1();<font></font>
}<font></font>
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em suma, tudo o que foi dito acima complica claramente o modelo e cria problemas com a compreens√£o de seu trabalho. </font><font style="vertical-align: inherit;">Al√©m disso, essas solu√ß√µes locais podem n√£o funcionar ao considerar composi√ß√µes delas. </font><font style="vertical-align: inherit;">Um bom exemplo nesse caso seria uma tentativa de criar um modelo de acionador RS (para obter mais detalhes sobre um modelo de aut√¥mato de dois componentes de um acionador RS, consulte [5]). </font><font style="vertical-align: inherit;">No entanto, o prazer do resultado alcan√ßado ser√° entregue aos f√£s das m√°quinas de eventos. </font><font style="vertical-align: inherit;">Se ... a menos que, √© claro, eles tenham sucesso;)</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. Fun√ß√£o quadr√°tica e ... borboleta?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√â conveniente representar os dados de entrada como um processo paralelo externo. Acima disso, havia o di√°logo para gerenciar o modelo de um elemento AND-NOT. Al√©m disso, a taxa de altera√ß√£o de dados pode afetar significativamente o resultado. Para confirmar isso, consideramos o c√°lculo da fun√ß√£o quadr√°tica y = ax¬≤ + bx + c, que implementamos na forma de um conjunto de blocos de funcionamento paralelo e de intera√ß√£o.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sabe-se que o gr√°fico de uma fun√ß√£o quadr√°tica tem o formato de uma par√°bola. Mas a par√°bola representada pelo matem√°tico e a par√°bola que o oscilosc√≥pio, por exemplo, exibir√°, a rigor, nunca corresponder√°. A raz√£o para isso √© que o matem√°tico geralmente pensa em categorias instant√¢neas, acreditando que uma altera√ß√£o na quantidade de entrada leva imediatamente ao c√°lculo da fun√ß√£o. Mas na vida real isso n√£o √© de todo verdade. A apar√™ncia do gr√°fico da fun√ß√£o depender√° da velocidade da calculadora, da taxa de altera√ß√£o dos dados de entrada etc. etc. Sim, e os pr√≥prios programas de velocidade podem diferir um do outro. Esses fatores afetar√£o a forma da fun√ß√£o, na qual, em uma determinada situa√ß√£o, ser√° dif√≠cil adivinhar a par√°bola. Estaremos convencidos disso ainda mais.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Assim, adicionamos ao bloco soma os blocos de multiplica√ß√£o, divis√£o e exponencia√ß√£o. Tendo esse conjunto, podemos "coletar" express√µes matem√°ticas de qualquer complexidade. Mas tamb√©m podemos ter "cubos" que implementam fun√ß√µes mais complexas. Fig. 5. a implementa√ß√£o de uma fun√ß√£o quadr√°tica √© mostrada em duas vers√µes - multi-bloco (ver seta com uma etiqueta - 1, e tamb√©m na Fig. 6) e uma variante de um bloco (na figura 5 seta com uma etiqueta 2). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ol/sy/-b/olsy-bjhlcp81hkd_7nt6x68j3m.jpeg" alt="imagem"> <br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig.5. Duas op√ß√µes para implementar a fun√ß√£o quadr√°tica </font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/ip/vb/ho/ipvbhompt2jbuexhklumgnxkr_y.jpeg" alt="imagem"> <br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 6. Modelo estrutural para calcular uma fun√ß√£o quadr√°tica</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso na figura 5. parece ‚Äúborrado‚Äù (veja a seta marcada como 3), quando ampliado adequadamente (veja gr√°ficos (tend√™ncias), marcado como 4), est√° convencido de que o assunto n√£o est√° nas propriedades gr√°ficas. Este √© o resultado da influ√™ncia do tempo no c√°lculo das vari√°veis: a vari√°vel y1 √© o valor de sa√≠da da variante de m√∫ltiplos blocos (cor vermelha do gr√°fico) e a vari√°vel y2 √© o valor de sa√≠da da variante de bloco √∫nico (cor preta). Mas esses dois gr√°ficos s√£o diferentes dos "gr√°ficos abstratos" [y2 (t), x (t-1)] (verde). Este √∫ltimo √© constru√≠do para o valor da vari√°vel y2 e o valor da vari√°vel de entrada atrasado em um ciclo de clock (veja a vari√°vel com o nome x [t-1]).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Assim, quanto maior a taxa de altera√ß√£o da fun√ß√£o de entrada x (t), mais forte ser√° o ‚Äúefeito de desfoque‚Äù e mais longe os gr√°ficos y1, y2 ser√£o do gr√°fico [y2 (t), x (t-1)]. O "defeito" detectado pode ser usado para seus pr√≥prios fins. Por exemplo, nada nos impede de aplicar um sinal senoidal √† entrada. Consideraremos uma op√ß√£o ainda mais complicada, quando o primeiro coeficiente da equa√ß√£o tamb√©m mudar de maneira semelhante. O resultado do experimento demonstra uma tela do meio VKPa, mostrada na Fig. 7. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ip/qz/q1/ipqzq1ueyewokzslezd1_vcpuke.jpeg" alt="imagem"> <br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 7. Resultados da simula√ß√£o com um sinal de entrada sinusoidal</font></font></i><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A tela no canto inferior esquerdo mostra o sinal fornecido √†s entradas de realiza√ß√µes de uma fun√ß√£o quadr√°tica. Acima est√£o os gr√°ficos dos valores de sa√≠da y1 e y2. Gr√°ficos na forma de "asas" s√£o valores plotados em duas coordenadas. Assim, com a ajuda de v√°rias realiza√ß√µes da fun√ß√£o quadr√°tica, desenhamos a metade da "borboleta". Desenhar um todo √© uma quest√£o de tecnologia ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas os paradoxos do paralelismo n√£o param por a√≠. Na fig. A Figura 8 mostra tend√™ncias na mudan√ßa "reversa" da vari√°vel independente x. Eles j√° passam para a esquerda do gr√°fico "abstrato" (o √∫ltimo, notamos, n√£o mudou de posi√ß√£o!). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/_e/br/dl/_ebrdlojr1kvybj6xjtwdbclefs.jpeg" alt="imagem"> <br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIG. 8. O tipo de gr√°fico com mudan√ßa linear direta e reversa do sinal de entrada</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Neste exemplo, o erro "duplo" do sinal de sa√≠da em rela√ß√£o ao seu valor "instant√¢neo" se torna aparente. </font><font style="vertical-align: inherit;">E quanto mais lento o sistema de computa√ß√£o ou quanto maior a frequ√™ncia do sinal, maior o erro. </font><font style="vertical-align: inherit;">Uma onda senoidal √© um exemplo de mudan√ßa para frente e para tr√°s de um sinal de entrada. </font><font style="vertical-align: inherit;">Devido a isso, as ‚Äúasas‚Äù na Fig. 4 assumiram esta forma. </font><font style="vertical-align: inherit;">Sem o efeito "erro de retorno", eles seriam duas vezes mais estreitos.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6. Controlador PID adapt√°vel</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos considerar mais um exemplo no qual os problemas considerados s√£o mostrados. </font><font style="vertical-align: inherit;">Na fig. </font><font style="vertical-align: inherit;">A Figura 9 mostra a configura√ß√£o do meio VKP (a) ao modelar um controlador PID adapt√°vel. </font><font style="vertical-align: inherit;">Um diagrama de blocos tamb√©m √© mostrado no qual o controlador PID √© representado por uma unidade chamada PID. </font><font style="vertical-align: inherit;">No n√≠vel da caixa preta, √© semelhante √† implementa√ß√£o em bloco √∫nico anteriormente considerada de uma fun√ß√£o quadr√°tica.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O resultado da compara√ß√£o dos resultados do c√°lculo do modelo do controlador PID dentro de um determinado pacote matem√°tico e o protocolo obtido a partir dos resultados da simula√ß√£o no ambiente VKP (a) √© mostrado na Fig. 10, onde o gr√°fico vermelho √© os valores calculados e o gr√°fico azul √© o protocolo. A raz√£o para essa incompatibilidade √© que o c√°lculo dentro da estrutura do pacote matem√°tico, conforme mostrado por an√°lises adicionais, corresponde √† opera√ß√£o seq√ºencial dos objetos quando eles primeiro trabalham no controlador PID e param, e depois no modelo do objeto, etc. no loop. O ambiente VKPa implementa / modela a opera√ß√£o paralela de objetos de acordo com a situa√ß√£o real, quando o modelo e o objeto trabalham em paralelo. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fh/2h/xw/fh2hxwfiimcko0qfrytqy_q0jno.jpeg" alt="imagem"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 9. Implementa√ß√£o do controlador PID </font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/st/55/nh/st55nh7x7lcyyroleawlr5xd-tg.jpeg" alt="imagem"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 10. Compara√ß√£o de valores calculados com resultados de simula√ß√£o do controlador PID</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como, como j√° anunciamos, no VKP (a) existe um modo para simular a opera√ß√£o seq√ºencial de blocos estruturais, n√£o √© dif√≠cil verificar a hip√≥tese de um modo de c√°lculo seq√ºencial para o controlador PID. </font><font style="vertical-align: inherit;">Alterando o modo de opera√ß√£o do meio para serial, obtemos a coincid√™ncia dos gr√°ficos, como mostra a Fig. 11. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/y4/a3/11/y4a311fqptw0zzi06v1ptbaz5a0.jpeg" alt="imagem"> <br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 11. </font><font style="vertical-align: inherit;">Opera√ß√£o sequencial do controlador PID e objeto de controle</font></font><br>
</i><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7. Conclus√µes</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dentro da estrutura do CPSU (a), o modelo computacional confere aos programas propriedades que s√£o caracter√≠sticas dos objetos "vivos" reais. Da√≠ a associa√ß√£o figurativa com a "matem√°tica viva". Como mostra a pr√°tica, n√≥s, nos modelos, somos simplesmente obrigados a levar em conta o que n√£o pode ser ignorado na vida real. Na computa√ß√£o paralela, esse √© principalmente o tempo e a finitude dos c√°lculos. Obviamente, sem esquecer a adequa√ß√£o do modelo matem√°tico [autom√°tico] a um ou outro objeto "vivo".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√â imposs√≠vel lutar contra o que n√£o pode ser derrotado. J√° estava na hora. Isso √© poss√≠vel apenas em um conto de fadas. Mas faz sentido levar isso em conta e / ou at√© us√°-lo para seus pr√≥prios prop√≥sitos. Na programa√ß√£o paralela moderna, ignorar o tempo leva a muitos problemas dificilmente controlados e detectados - corrida de sinal, processos de impasse, problemas com sincroniza√ß√£o, etc. etc. A tecnologia VKP (a) est√° praticamente livre de tais problemas, simplesmente porque inclui um modelo em tempo real e leva em considera√ß√£o a finitude dos processos de computa√ß√£o. Ele cont√©m o que a maioria de seus an√°logos √© simplesmente ignorada.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em conclus√£o. </font><font style="vertical-align: inherit;">Borboletas s√£o borboletas, mas voc√™ pode, por exemplo, considerar um sistema de equa√ß√µes de fun√ß√µes quadr√°ticas e lineares. </font><font style="vertical-align: inherit;">Para fazer isso, basta adicionar ao modelo j√° criado um modelo de fun√ß√£o linear e um processo que controla sua coincid√™ncia. </font><font style="vertical-align: inherit;">Portanto, a solu√ß√£o ser√° encontrada por modelagem. </font><font style="vertical-align: inherit;">Provavelmente n√£o ser√° t√£o preciso quanto anal√≠tico, mas ser√° obtido de maneira mais simples e r√°pida. </font><font style="vertical-align: inherit;">E, em muitos casos, isso √© mais do que suficiente. </font><font style="vertical-align: inherit;">E encontrar uma solu√ß√£o anal√≠tica √©, geralmente, uma quest√£o em aberto. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em conex√£o com este √∫ltimo, os AVMs foram recuperados. </font><font style="vertical-align: inherit;">Para aqueles que n√£o est√£o atualizados ou se esqueceram, - computadores anal√≥gicos. </font><font style="vertical-align: inherit;">Os princ√≠pios estruturais s√£o, em geral, a abordagem para encontrar uma solu√ß√£o.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">inscri√ß√£o</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1) </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V√≠deo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">youtu.be/vf9gNBAmOWQ</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
2) </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arquivo de exemplos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/lvs628/FsaHabr/blob/master/FsaHabr.zip</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3) </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arquivo das bibliotecas Qt dll necess√°rias vers√£o 5.11.2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/lvs628/FsaHabr/blob/master/QtDLLs.zip Os</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
exemplos s√£o desenvolvidos no ambiente Windows 7. Para instal√°-los, abra o arquivo de exemplos e, se o Qt n√£o estiver instalado ou a vers√£o atual do Qt √© diferente da vers√£o 5.11.2, abra adicionalmente o arquivo Qt e grave o caminho para as bibliotecas na vari√°vel de ambiente Path. Em seguida, execute \ FsaHabr \ VCPaMain \ release \ FsaHabr.exe e use a caixa de di√°logo para selecionar o diret√≥rio de configura√ß√£o de um exemplo, por exemplo, \ FsaHabr \ 9.ParallelOperators \ Heading1 \ Pict1.C2 = A + B + A1 + B1 \ (consulte tamb√©m v√≠deo).</font></font><br>
<br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comente. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Na primeira inicializa√ß√£o, em vez da caixa de di√°logo de sele√ß√£o de diret√≥rio, uma caixa de di√°logo de sele√ß√£o de arquivo pode aparecer. </font><font style="vertical-align: inherit;">Tamb√©m selecionamos o diret√≥rio de configura√ß√£o e algum arquivo nele, por exemplo, vSetting.txt. </font><font style="vertical-align: inherit;">Se a caixa de di√°logo de sele√ß√£o da configura√ß√£o n√£o aparecer, antes de iniciar, exclua o arquivo ConfigFsaHabr.txt no diret√≥rio em que o arquivo FsaHabr.exe est√° localizado. </font></font><br>
</i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para n√£o repetir a sele√ß√£o da configura√ß√£o na caixa de di√°logo "kernel: automatic spaces" (pode ser aberta usando o item de menu: FSA-tools / Space Management / Management), clique no bot√£o "lembrar o caminho do diret√≥rio" e desmarque "exibir a caixa de di√°logo de sele√ß√£o da configura√ß√£o na inicializa√ß√£o" " </font><font style="vertical-align: inherit;">No futuro, para selecionar uma configura√ß√£o diferente, essa op√ß√£o precisar√° ser definida novamente.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Literatura</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NPS, transportador, computa√ß√£o autom√°tica e, novamente ... corotinas.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> [Recurso eletr√¥nico], Modo de acesso: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">habr.com/en/post/488808</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gr√°tis. Yaz. russo (data do tratamento 02.22.2020). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As m√°quinas autom√°ticas s√£o uma coisa do evento?</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> [Recurso eletr√¥nico], Modo de acesso: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">habr.com/en/post/483610</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gr√°tis. Yaz. russo (data do tratamento 02.22.2020). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. BUCH G., RAMBO J., JACOBSON I. UML. Manual do usu√°rio. Segunda edi√ß√£o. IT Academy: Moscou, 2007 - 493 p. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4. Rogachev G.N. Stateflow V5. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Manual do usu√°rio.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> [Recurso eletr√¥nico], Modo de acesso: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bourabai.kz/cm/stateflow.htm</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gr√°tis. Yaz. russo (data de circula√ß√£o 10.04.2020). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5)</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modelo de computa√ß√£o paralela </font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[Recurso eletr√¥nico], Modo de acesso: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">habr.com/en/post/486622</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gr√°tis. </font><font style="vertical-align: inherit;">Yaz. </font><font style="vertical-align: inherit;">russo </font><font style="vertical-align: inherit;">(data de circula√ß√£o 04/11/2020).</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt499448/index.html">Implementando o SOLID e a arquitetura em camadas no Node.js com TypeScript e InversifyJS</a></li>
<li><a href="../pt499450/index.html">Escolhendo o equipamento para um jogo persa usando gen√©tica / evolu√ß√£o em Python</a></li>
<li><a href="../pt499452/index.html">Cotidiano de um oftalmologista na cl√≠nica: quando os m√©dicos n√£o s√£o suficientes</a></li>
<li><a href="../pt499454/index.html">Video Live! Badoo Localization Meetup 21 de abril</a></li>
<li><a href="../pt499458/index.html">Materiais mitap GOnline: design de biblioteca, gera√ß√£o de c√≥digo, aprendizado de m√°quina</a></li>
<li><a href="../pt499464/index.html">MOS Technology 6502 - Domando a semente de semicondutores</a></li>
<li><a href="../pt499470/index.html">N√£o toque! Gerenciar uma p√°gina da Web usando uma webcam</a></li>
<li><a href="../pt499472/index.html">Como o coronav√≠rus acelerar√° a quarta revolu√ß√£o industrial</a></li>
<li><a href="../pt499474/index.html">Como implementar Atlassian Jira + Confluence em uma corpora√ß√£o. Problemas t√©cnicos</a></li>
<li><a href="../pt499476/index.html">Teste de automa√ß√£o de aplicativos Web chave na m√£o, sem registro e SMS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>