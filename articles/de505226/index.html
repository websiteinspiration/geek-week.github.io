<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏼‍🏭 👇🏻 ❇️ Überlagern Sie eine 3D-Textur mit p5.js auf einem 3D-Objekt (Teil 1 - Erstellen eines Musters) 🐚 🛋️ 👨🏼‍🚀</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Das Überlagern einer flachen Zeichnung oder eines Musters auf einem dreidimensionalen Objekt ist immer eine nicht triviale Aufgabe, und wenn Sie es gl...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Überlagern Sie eine 3D-Textur mit p5.js auf einem 3D-Objekt (Teil 1 - Erstellen eines Musters)</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/505226/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/d4/n3/y3/d4n3y3ctwkgf4-n_oxmtycxt0yi.jpeg" alt="Bild"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Überlagern einer flachen Zeichnung oder eines Musters auf einem dreidimensionalen Objekt ist immer eine nicht triviale Aufgabe, und wenn Sie es gleichzeitig mit einer Art Animation ausführen möchten, nimmt die Komplexität manchmal zu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gleichzeitig gibt es eine recht einfache p5.js-Bibliothek, mit der Sie komplexe spektakuläre Muster in nur wenigen Dutzend Codezeilen erstellen können. </font><font style="vertical-align: inherit;">Ich habe kürzlich ein solches Projekt erstellt und möchte nun ein Beispiel geben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der einfachste Weg, um zu beginnen, besteht darin, ein neues Projekt im </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Online-Editor.p5js.org</font></a><font style="vertical-align: inherit;"> zu erstellen</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Standardmäßig lautet das neue Projekt wie folgt:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setup</span>(<span class="hljs-params"></span>) </span>{<font></font>
  createCanvas(<span class="hljs-number">400</span>, <span class="hljs-number">400</span>);<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">draw</span>(<span class="hljs-params"></span>) </span>{<font></font>
  background(<span class="hljs-number">220</span>);<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
function setup () - legt die Funktion fest, die nur einmal ausgeführt wird. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
function draw () - wiederholt sich in einer Endlosschleife. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zunächst erstellen wir ein 2D-Radialmuster, das wir dann auf unseren Würfel anwenden. Bei der Erstellung werden zuerst die </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Polarkoordinaten verwendet</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und erst dann in die kartesischen Koordinaten der Form x, y übersetzt, die den meisten bekannt sind. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was ist wichtig zu verstehen: Die Polarkoordinate eines Punktes wird durch zwei Zahlen bestimmt: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
r ist der Abstand vom Quellpunkt (z. B. der Mitte der Leinwand) zum Zielpunkt. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
a ist der Winkel der imaginären Linie relativ zum Startpunkt, an dem sich der Zielpunkt befindet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Somit kann der erste Parameter von 0 bis unendlich und der zweite von 0 bis 360 variieren.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Schöne an diesem Ansatz ist, dass Sie mit nur einer Formel recht komplexe Muster zeichnen können.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/in/xd/eo/inxdeo8zlssyrw14iiaae7cic3y.png" alt="Bild"><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die polare Rose ist gegeben durch die Gleichung r (φ) = 2 \ sin φ </font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um Variablen zu erstellen, fügen wir zu Beginn des Projekts zwei Variablen hinzu: die erste für den Abstand vom Zentrum und die zweite für den Winkel: let r = 10 let a = 0 </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dann fügen wir in der Funktion draw (), die in einer Endlosschleife ausgeführt wird, die Variablenänderung hinzu: a = a + 0,4 </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als Ergebnis erhalten Sie den folgenden Code:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">let</span> r =<span class="hljs-number">10</span>
<span class="hljs-keyword">let</span> a =<span class="hljs-number">0</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setup</span>(<span class="hljs-params"></span>) </span>{<font></font>
  createCanvas(<span class="hljs-number">400</span>, <span class="hljs-number">400</span>);<font></font>
<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">draw</span>(<span class="hljs-params"></span>) </span>{<font></font>
  background(<span class="hljs-number">220</span>);<font></font>
    a = a + <span class="hljs-number">0.4</span>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nun beginnen wir, die Koordinaten in die uns bekannten kartesischen Koordinaten x y zu übersetzen. </font><font style="vertical-align: inherit;">Wenn Sie verstehen möchten, was genau im Code passiert, lesen Sie besser das Trigonometrie-Tutorial. Da dies für das Ergebnis jedoch nicht so wichtig ist, können Sie den Code einfach in dieselbe draw () -Funktion einfügen:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">let</span> x = r*cos(a)
<span class="hljs-keyword">let</span> y = r*sin(a)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um endlich die Ergebnisse unserer mathematischen Berechnungen zu sehen, müssen wir zwei Dinge tun:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Malen Sie Objekte mit Farbe (Sie können das interne Farbwörterbuch verwenden oder den üblichen RGB-Formatcode angeben - drei Zahlen)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Legen Sie die Form der Punkteverteilung fest. </font><font style="vertical-align: inherit;">Zum Beispiel eine Ellipse.</font></font></li>
</ul><br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">draw</span>(<span class="hljs-params"></span>) </span>{<font></font>
  background(<span class="hljs-number">220</span>);<font></font>
  <font></font>
  <font></font>
  <span class="hljs-keyword">let</span> x = r*cos(a);
  <span class="hljs-keyword">let</span> y = r*sin(a);<font></font>
  fill(<span class="hljs-number">255</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>);<font></font>
  ellipse (x,y,<span class="hljs-number">10</span>,<span class="hljs-number">10</span>);<font></font>
  r = r + <span class="hljs-number">0.4</span><font></font>
    <font></font>
}</code></pre><br>
<img src="https://habrastorage.org/webt/-7/iv/8k/-7iv8kzzvnf3zn2mv2uldo1tvmk.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Parameter der Ellipse (Position entlang X, Position entlang Y, Durchmesser entlang X, Durchmesser entlang Y) werden unter Verwendung von Variablen entlang x und y eingestellt. Da die Variable x von der Variablen r abhängt, die in unserem Zyklus ständig um 0,4 zunimmt, bewegt sich der rote Kreis, den wir sehen, ständig in der oberen linken Ecke. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um den Referenzpunkt in die Mitte zu verschieben, fügen Sie die Übersetzungsfunktion (200.200) vor der Variablen x hinzu. Jetzt erscheint der Kreis in der Mitte unserer Leinwand. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und lassen Sie uns ein anderes Problem lösen - jetzt werden alle angezeigten Kreise mit jedem neuen Zyklus gelöscht. Um aus diesem Teufelskreis herauszukommen, müssen wir die Erstellung unserer canvas () über die Funktion draw () hinaus verschieben und an die Funktion setup () übertragen, die für die Erstellung der Umgebung verantwortlich ist.</font></font><br>
<img src="https://habrastorage.org/webt/pf/wz/mo/pfwzmowjzxqtg7gnmvwtkv5fzoc.png" alt="Bild"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nach dieser Änderung sehen wir etwas Ähnliches wie einen Ladekreis. </font><font style="vertical-align: inherit;">Das Hauptproblem ist, dass sie jetzt sehr nahe beieinander liegen. </font><font style="vertical-align: inherit;">Fügen wir etwas Platz hinzu, indem wir eine Variable C höherer Ordnung mit dem Wert 20 setzen und hinzufügen, um jeden Zyklus um 0,6 (neben a) zu ändern. </font><font style="vertical-align: inherit;">Nun, wir werden es in unsere trigonometrischen Formeln einführen: x = r + c * cos (a) und y = r + c * sin (a)</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">let</span> r=<span class="hljs-number">10</span>
<span class="hljs-keyword">let</span> a=<span class="hljs-number">0</span>
<span class="hljs-keyword">let</span> =<span class="hljs-number">20</span><font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setup</span>(<span class="hljs-params"></span>) </span>{<font></font>
  background(<span class="hljs-number">220</span>);<font></font>
  createCanvas(<span class="hljs-number">400</span>, <span class="hljs-number">400</span>);<font></font>
  <font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">draw</span>(<span class="hljs-params"></span>) </span>{<font></font>
translate(<span class="hljs-number">200</span>,<span class="hljs-number">200</span>)
  <span class="hljs-keyword">let</span> x = r+*cos(a);
  <span class="hljs-keyword">let</span> y = r+*sin(a);<font></font>
  fill(<span class="hljs-number">255</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>);<font></font>
  ellipse (x,y,<span class="hljs-number">10</span>,<span class="hljs-number">10</span>);<font></font>
   =  + <span class="hljs-number">0.6</span>
  a = a + <span class="hljs-number">0.4</span><font></font>
    <font></font>
}</code></pre><br>
<img src="https://habrastorage.org/webt/j_/7d/r7/j_7dr7dee42fdgsm4pi-c9yq9xc.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es scheint sich etwas abzuzeichnen. </font><font style="vertical-align: inherit;">Zum Schluss reduzieren wir den Wert von a auf 0,3, s auf 0,06</font></font><br>
<br>
<pre><code class="javascript hljs"> =  + <span class="hljs-number">0.06</span>
a = a + <span class="hljs-number">0.3</span></code></pre><br>
<img src="https://habrastorage.org/webt/4s/4t/rf/4s4trfjd_x_iewiw8ectzn3cqva.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Leerzeichen für das Muster ist fertig, Zeit, es dem Volume hinzuzufügen. </font><font style="vertical-align: inherit;">Wie das geht, werde ich im nächsten Teil schreiben. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es wird einen Link zu Teil 2 geben: Inhaber</font></font></b><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn es Ihnen gefallen hat, Links zu Materialien auf p5.js:</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">So erstellen Sie den Moiré-Mustereffekt in der p5.js-Bibliothek für Anfänger (Kurzanleitung)</font></font></a></li>
</ul></blockquote><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Idee und ein Teil des Quellcodes stammen aus dem Artikel Nazia Fakhruddin: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erstellen einer 2D-Textur auf einer 3D-Form in p5.js</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
→ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Link zu den Projektergebnissen</font></font></a></blockquote></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de505196/index.html">Schlechter Anführer - Bedienungsanleitung</a></li>
<li><a href="../de505208/index.html">Wie und warum sollte ein Produkt CustDev enthalten?</a></li>
<li><a href="../de505212/index.html">Apple warnte Plünderer, alle gestohlenen Telefone aufzuspüren</a></li>
<li><a href="../de505218/index.html">Online-Sicherheitstreffen</a></li>
<li><a href="../de505220/index.html">Tipps zur Auswahl eines 2G / 3G / 4G / 5G-Signalverstärkers</a></li>
<li><a href="../de505240/index.html">Die dunkle Seite der Arbeit in Yandex.Market</a></li>
<li><a href="../de505246/index.html">Drucken Sie die erste Tranche mit Upwork</a></li>
<li><a href="../en486014/index.html">SLAC Tour: US Department of Energy National Accelerator Laboratory at Stanford</a></li>
<li><a href="../en486018/index.html">Session Survey Results</a></li>
<li><a href="../en486024/index.html">Really simple graphics in R for science and journalism</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>