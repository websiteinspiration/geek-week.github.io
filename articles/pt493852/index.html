<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëõ üò¥ üë©üèæ‚Äçü§ù‚Äçüë®üèø CloudFlare - C√¢ncer na Internet ü¶Ü üå§Ô∏è üëÆ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Isen√ß√£o de responsabilidade:  Eu pr√≥prio uso muito o CloudFlare e acho que eles fazem um √≥timo trabalho, ajudam a desenvolver a Internet, fornecem pro...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>CloudFlare - C√¢ncer na Internet</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/493852/"><img src="https://habrastorage.org/webt/4e/tj/ed/4etjed_wbzdwjg3u90w4lhu_irg.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Isen√ß√£o de responsabilidade: </font></font></b> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eu pr√≥prio uso muito o CloudFlare e acho que eles fazem um √≥timo trabalho, ajudam a desenvolver a Internet, fornecem produtos legais de gra√ßa e, em geral, √≥timos profissionais. O artigo descreve os problemas da globaliza√ß√£o e novas amea√ßas quando a Internet descentralizada se torna centralizada.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Quando o CloudFlare apareceu pela primeira vez, foi uma verdadeira revolu√ß√£o na hospedagem na web: em dois cliques, sem mudar para outro servidor, voc√™ pode conectar uma CDN profissional ao seu site, o que economiza muito tr√°fego, acelera o carregamento de arquivos est√°ticos e tamb√©m protege contra DDoS. Anteriormente, apenas as empresas podiam pagar isso por muito dinheiro, mas agora ficou dispon√≠vel para todos, tamb√©m de gra√ßa!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Desde ent√£o, o CloudFlare cresceu exponencialmente e hoje procura um ter√ßo da Internet por meio de sua infraestrutura. </font><font style="vertical-align: inherit;">Por esse motivo, surgiram problemas que n√£o existiam antes. </font><font style="vertical-align: inherit;">Em um post, veremos como o CloudFlare amea√ßa o funcionamento normal da Internet, impede que pessoas comuns usem sites, tenha acesso ao tr√°fego criptografado e o que fazer a respeito.</font></font><br>
<a name="habracut"></a><br>
<h2><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como quebrar um ter√ßo da Internet</font></font></font></h2><br>
<div style="text-align:center;"><img width="500" src="https://habrastorage.org/webt/2y/cz/iu/2ycziuj0ewhyqjfnyxav6mgr_o8.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2 de julho de 2019 como resultado do erro do </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CloudFlare completamente quebrado</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Como resultado, todos os servi√ßos que de alguma forma usam sua rede estavam indispon√≠veis. </font><font style="vertical-align: inherit;">Entre os mais famosos: Discord, Reddit, Twitch. </font><font style="vertical-align: inherit;">Isso afetou n√£o apenas sites, mas tamb√©m jogos, aplicativos m√≥veis, terminais etc. </font><font style="vertical-align: inherit;">Ao mesmo tempo, mesmo os servi√ßos que n√£o usam diretamente o CloudFlare tiveram problemas devido a APIs de terceiros que se tornaram indispon√≠veis.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na maioria dos casos, para usar o CloudFlare, os clientes direcionam seus dom√≠nios para seus servidores DNS. No momento do acidente, o painel de controle e a API tamb√©m ficaram indispon√≠veis, devido aos quais os clientes n√£o podiam redirecionar seus dom√≠nios para contornar a rede CloudFlare, ficando presos: era imposs√≠vel desativar rapidamente os proxies e retornar √† sua infraestrutura. A √∫nica sa√≠da era delegar o dom√≠nio em seus pr√≥prios servidores DNS, mas essa atualiza√ß√£o poderia levar mais de um dia, e a maioria dos clientes n√£o estava pronta para isso e n√£o tinha servidores DNS principais sobressalentes nesse caso.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apesar do tempo de inatividade ter sido pequeno, apenas algumas horas, isso afetou significativamente todo o setor. </font><font style="vertical-align: inherit;">Devido a servi√ßos de pagamento que n√£o funcionam, as empresas sofreram perdas diretas. </font><font style="vertical-align: inherit;">Esse incidente revelou um problema √≥bvio que foi discutido anteriormente apenas na teoria: se a Internet depende muito de um provedor de servi√ßos, em algum momento tudo pode quebrar.</font></font><br>
<blockquote><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se uma empresa controla uma parte t√£o grande da Internet, ela amea√ßa a estabilidade da rede, tanto do lado t√©cnico quanto econ√¥mico.</font></font></h3></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O pr√≥prio conceito de Internet envolve descentraliza√ß√£o e resist√™ncia a esses erros. </font><font style="vertical-align: inherit;">Mesmo que uma parte da rede seja desconectada, o sistema de roteamento √© reconstru√≠do automaticamente. </font><font style="vertical-align: inherit;">Mas quando uma empresa gerencia uma parte t√£o grande do tr√°fego, a rede se torna vulner√°vel a seus erros, sabotagens, hacks, bem como a√ß√µes desonestas para obter lucro. </font><font style="vertical-align: inherit;">Essa ideia √© importante para entender os problemas restantes, que discutiremos mais adiante.</font></font><br>
<br>
<h2><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voc√™ parece suspeito</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se os algoritmos propriet√°rios para detectar tr√°fego malicioso do CloudFlare o considerarem um usu√°rio indigno da Internet, a navega√ß√£o na Web se tornar√° um tormento: em cada quinto site, voc√™ ver√° os requisitos para passar um captcha humilhante. </font></font><br>
<br>
<div style="text-align:center;"><img width="500" src="https://habrastorage.org/webt/98/ck/1f/98ck1fcu-tlbppn3tzybneukauo.png"></div><br>
<font color="999999"><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O CloudFlare CAPTCHA pode assombr√°-lo por toda a Internet.O</font></font></sup></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
autor dessas linhas acessa a Internet a partir do endere√ßo IP do escrit√≥rio, atr√°s do qual centenas de outros funcion√°rios est√£o sentados. </font><font style="vertical-align: inherit;">Aparentemente, o CloudFlare decidiu que todos parec√≠amos rob√¥s e come√ßou a mostrar a todos um captcha muito malvado. </font><font style="vertical-align: inherit;">√Äs vezes chega ao ponto do absurdo quando alguns aplicativos m√≥veis n√£o conseguem fazer login. </font><font style="vertical-align: inherit;">Como resultado, para navegar normalmente na Internet, voc√™ precisa conectar uma VPN. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Acontece que o CloudFlare pode desconect√°-lo pessoalmente de uma grande parte da Internet a qualquer momento, se isso n√£o lhe agradar ou, devido √† detec√ß√£o incorreta, transformar o uso usual dos servi√ßos em tormento.</font></font><br>
<br>
<h2><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Podemos ver atrav√©s de HTTPS</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para armazenar em cache e filtrar o conte√∫do adequadamente, os servidores CloudFlare devem poder ver o tr√°fego HTTP descriptografado. Para fazer isso, eles </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sempre</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> trabalham no modo MiTM (Man-in-the-middle), substituindo o certificado SSL pelo visitante final do site. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As imagens nas instru√ß√µes de configura√ß√£o do HTTPS podem ser enganosas, como se no modo Total, a criptografia √© usada em todo o fluxo de tr√°fego. De fato, o servidor CloudFlare descriptografa o tr√°fego do servidor e o criptografa novamente com seu certificado para o visitante do site.</font></font><br>
<br>
<div style="text-align:center;"><img width="600" src="https://habrastorage.org/webt/dt/fz/hb/dtfzhbk1u08rhih-8idholivpug.png"></div><br>
<font color="999999"><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em qualquer modo de opera√ß√£o, o CloudFlare descriptografa o tr√°fego SSL.</font></font></sup></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Mesmo que voc√™ tenha um certificado SSL v√°lido do seu lado, o CloudFlare ainda ter√° acesso a todos os dados transmitidos. Isso desacredita toda a id√©ia do SSL, que envolve criptografia do cliente para o servidor de destino sem descriptografia ao longo do caminho.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em caso de erro ou invas√£o dos servidores CloudFlare, todo o tr√°fego confidencial estar√° dispon√≠vel para os invasores. Basta lembrar</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> uma vulnerabilidade de vazamento de mem√≥ria que</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fez com</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"> que os</font></a><font style="vertical-align: inherit;"> servidores CloudFlare expusessem o conte√∫do aleat√≥rio da mem√≥ria diretamente no conte√∫do da p√°gina. Isso pode incluir cookies, contas, n√∫meros de cart√£o de cr√©dito etc.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ tamb√©m precisa ter em mente que os servi√ßos especiais do pa√≠s em cuja jurisdi√ß√£o a Cloudflare Inc podem solicitar acesso ao tr√°fego descriptografado, mesmo se o servidor original estiver em uma jurisdi√ß√£o diferente. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Isso transforma a id√©ia b√°sica do SSL em fic√ß√£o.</font></font></b><br>
<br>
<h2><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N√£o apenas infraestrutura, mas censura</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inicialmente, o Cloudflare afirmou que forneceria apenas infraestrutura para os clientes e n√£o planejava censurar recursos de conte√∫do, prometendo limitar-se apenas a requisitos leg√≠timos de ag√™ncias governamentais. O mesmo aconteceu com o site do famoso grupo LulzSec, que coordenava hacks e ataques DDoS. Nesta ocasi√£o, a Cloudflare </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">divulgou um comunicado</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No entanto, depois de um tempo, o Cloudflare decide recusar o servi√ßo ao site 8chan com base em seu entendimento moral. Al√©m disso, n√£o houve decis√µes judiciais ou outras raz√µes formais para isso - eles apenas decidiram. Isso causou uma discuss√£o p√∫blica sobre se o provedor pode decidir por si mesmo qual servi√ßo √© digno de ser servido em sua infraestrutura e qual n√£o √©. Artigo de reflex√£o sobre esse assunto no New York Times:</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por que proibir o 8chan foi t√£o dif√≠cil para o Cloudflare: 'Ningu√©m deveria ter esse poder'</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclus√£o</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apesar do Cloudflare ser um servi√ßo incrivelmente √∫til e ajudar a acelerar significativamente a entrega de conte√∫do, al√©m de desenvolver a Internet, seu perigoso crescimento e o monop√≥lio futuro amea√ßam a estabilidade de toda a Internet. </font><font style="vertical-align: inherit;">Vamos tentar resumir todos os itens acima em teses simples:</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voc√™ n√£o pode armazenar todos os ovos em uma cesta. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√â simplesmente inseguro, o pre√ßo de um erro neste caso √© muito alto. </font><font style="vertical-align: inherit;">Se uma empresa tem todos os segredos do mundo, ela sempre pode ser invadida, cometer um erro ou simplesmente agir de forma desonesta para afastar os concorrentes do mercado.</font></font></li>
<li><b>      ‚Äî  .</b>        ,       ,      ,    . </li>
<li><b>SSL       . </b>    ,    Cloudflare,      ‚Äî CloudFlare.         .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta publica√ß√£o n√£o deseja abandonar o Cloudflare, mas apenas descreve o que no futuro amea√ßa um crescimento e influ√™ncia t√£o r√°pidos dessa empresa. </font><font style="vertical-align: inherit;">Pense se voc√™ realmente precisa usar o Cloudflare para suas tarefas e, se for imposs√≠vel, considere o Plano B em caso de uma mudan√ßa de emerg√™ncia. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para quem procura servidores confi√°veis, lan√ßamos a a√ß√£o: ISPmanager por tr√™s meses gratuitamente. </font><font style="vertical-align: inherit;">E mais o tradicional desconto de 10% para os leitores da Habr√©:</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt493832/index.html">Painel de distribui√ß√£o do Coronavirus COVID-19 (React + Chart.js + BootstrapTable)</a></li>
<li><a href="../pt493840/index.html">Coment√°rios: Asana, Jira, Bitrix-24, Trello, YouGile. O que voc√™ gosta e o que enfurece?</a></li>
<li><a href="../pt493844/index.html">Livro ‚ÄúBancos de dados. Engenharia de Confiabilidade</a></li>
<li><a href="../pt493848/index.html">Quero come√ßar um blog, mas n√£o tenho minha pr√≥pria equipe. Como escolher empreiteiros de reda√ß√£o?</a></li>
<li><a href="../pt493850/index.html">Qual dos desenvolvedores que vivem na mesma cidade ganha mais: trabalhando remotamente ou no escrit√≥rio?</a></li>
<li><a href="../pt493856/index.html">Linux Strace: Hist√≥ria, Design e Uso</a></li>
<li><a href="../pt493858/index.html">10 livros √∫teis sobre gerenciamento de servi√ßos de TI</a></li>
<li><a href="../pt493862/index.html">O modelo atualizado Sauber Alfa Romeo F1 est√° equipado com 143 pe√ßas impressas em uma impressora 3D</a></li>
<li><a href="../pt493864/index.html">Carta √†s startups da Sequoia Capital sobre o coronav√≠rus</a></li>
<li><a href="../pt493866/index.html">Crie seu fluxo para o git do zero</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>