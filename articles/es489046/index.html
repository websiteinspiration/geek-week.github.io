<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§∑üèæ ‚õàÔ∏è üë®üèæ‚Äç‚öïÔ∏è Auto-conducci√≥n Monster Truck GAZ66 1/16 üë®üèº‚Äçüî¨ üöó „ÄΩÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Habr, hola! 
 
 Quiero contarles c√≥mo lo hice e hice una m√°quina autogestionable :) 
 
 Podr√≠a decir de inmediato c√≥mo hacerlo mediante la conexi√≥n en...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Auto-conducci√≥n Monster Truck GAZ66 1/16</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489046/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Habr, hola! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quiero contarles c√≥mo lo hice e hice una m√°quina autogestionable :) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Podr√≠a decir de inmediato c√≥mo hacerlo mediante la conexi√≥n en seco de circuitos y comandos bash, pero ser√° muy aburrido. </font><font style="vertical-align: inherit;">Te ofrezco una historia interesante (espero) sobre c√≥mo fui personalmente por este camino y por d√≥nde vine. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esos lugares donde hab√≠a algo para tomar fotos con fotos. </font><font style="vertical-align: inherit;">¬øQu√© pasa con el software? Lo m√°s probable es que no tenga una foto. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Realmente ser√° una historia en formato narrativo, como te dir√≠a con una taza de caf√©. </font><font style="vertical-align: inherit;">No se trata de comandos bash, scripts de python, y eso es todo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comencemos con fotos y videos de lo que sucedi√≥, y luego toda la historia debajo del corte.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ut/ws/eb/utwsebnltcbcoi7_0gxxrenuusq.jpeg"><br>
<a name="habracut"></a><br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://player.vimeo.com/video/392912248" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La historia seguir√° este escenario.</font></font></h2><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øPor qu√© lo quer√≠a?</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√≥mo funciona una m√°quina aut√≥noma (vista superior)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Edad 1 - Gelendwagen del mundo infantil + c√°mara Raspberry Pi Zero W +</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Edad 2 - C√°mara GAZ66 + NVIDIA Jetson Nano + para RaspberryPi</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Edad 3 - Remo Hobby SMAX</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Edad 4 - Conexi√≥n SMAX y GAZ66</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5 a√±os: componentes de montaje en un cami√≥n monstruo</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Edad 6: instalaci√≥n de Donkey Car y sus alrededores</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Edad 7 - Montaje de v√≠as, viajes</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8 a√±os: viajar con el joystick</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9 a√±os - Entrenamiento neuronal</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Edad 10 - ¬°Todo funciona, finalmente!</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øQue sigue?</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desaf√≠o de batalla</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comunidad</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La imagen de la tarjeta SD de mi m√°quina de escribir</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬°Vierte caf√©, nos vamos!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øPor qu√© lo quer√≠a?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todo comenz√≥ con el hecho de que estaba frustrado por el hecho de que en una gran empresa de TI en Rusia hacen drones muy geniales, esto es incre√≠blemente genial, pero estoy sin trabajo :) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No, bueno, es realmente genial: autos sin conductor) Una excelente aleaci√≥n de mec√°nica y algoritmos :) La </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
frustraci√≥n continu√≥ hasta que combin√© en mi cabeza diferentes hechos sobre m√≠, a saber:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Puedo escribir en python</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Entiendo (aproximadamente) c√≥mo funciona el aprendizaje autom√°tico</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S√© trabajar con Linux en la consola.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pas√© mi infancia con un soldador</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tengo una caja completa con componentes de bricolaje (raspberry pi, arduino, sensores, etc.)</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cuando todo funcion√≥ en mi cabeza, decid√≠: ¬°un auto sin conductor (sdc)! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para empezar, decid√≠ que vale la pena descubrir c√≥mo funciona sdc, y esta ser√° la siguiente secci√≥n.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√≥mo funciona una m√°quina aut√≥noma (vista superior)</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para que el autom√≥vil funcione solo, necesita cuatro componentes: un carrito, sensores, una computadora, un algoritmo.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vamos a resolverlo</font></font></h4><br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Trolley</font></font></u><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Lo que realmente conducir√°. Ruedas, motores, la bater√≠a que lo alimenta todo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hay dos cohortes condicionales de autos que llam√© para m√≠: autos del mundo de los ni√±os y autos para un pasatiempo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ni siquiera intente coquetear con los autos del mundo de los ni√±os, lo intent√©, esto es un fracaso. Su desventaja es que tienen motores d√©biles sin retroalimentaci√≥n. Esto significa que es probable que pueda detener cualquier alfombra dom√©stica, y que no puede girar con la precisi√≥n dada. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los autos del mundo de los pasatiempos son lo que necesitas. Tienen motores potentes, buenas bater√≠as, servos de ruedas delanteras para giros. Considere esto como un umbral de entrada. Lo m√°s barato y normal que pude encontrar fue Remo Hobby SMAX. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/lj/oq/yw/ljoqywagmai0u43w37v3h5dkxye.jpeg"><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sensores</font></font></u><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Recopila informaci√≥n sobre el mundo que lo rodea y la transfiere a una computadora para la toma de decisiones. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
B√°sicamente, un conjunto caballeroso para SDC es:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√°mara. </font><font style="vertical-align: inherit;">Conceptos b√°sicos de SDC. </font><font style="vertical-align: inherit;">Mira un espacio frente a √©l, transfiere la imagen a una computadora que reconoce lo que est√° sucediendo y decide qu√© hacer. </font><font style="vertical-align: inherit;">Parece que no he visto implementaciones SDC sin una c√°mara.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sensor IMU </font><font style="vertical-align: inherit;">Una pieza que muestra la aceleraci√≥n y el √°ngulo de inclinaci√≥n a lo largo de los ejes. </font><font style="vertical-align: inherit;">Ayuda a entender a d√≥nde vamos realmente y c√≥mo ha cambiado nuestra ubicaci√≥n en relaci√≥n con el punto de partida. </font><font style="vertical-align: inherit;">Utilizado en casi todos los helic√≥pteros.</font></font></li>
<li>.      ,     ,    ,      .   ,    SDC,   ,     .  ,     75$,      SDC  Velodyne    4K$.      ,     3D ,          2D.</li>
<li>GPS.     ,         ,     ,     SDC  .</li>
<li> .        ‚Äî    ,    .   3D   .</li>
</ul><br>
<img src="https://habrastorage.org/webt/iy/93/sd/iy93sdbvfijudiwjfaepopyxkkc.jpeg"><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Computadora</font></font></u><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Lo que recibe los valores de los sensores analiza la situaci√≥n, transferimos los comandos de control al carrito. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En el mundo de las computadoras para dispositivos electr√≥nicos integrados, los procesadores ARM de bajo consumo (como en su tel√©fono) y las computadoras de una sola placa basadas en ellos, gobiernan la pelota. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hoy existen dos de las opciones de placa √∫nica m√°s populares: RaspberryPi y NVIDIA Jetson. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RaspberryPi tiene un precio m√°s bajo, una amplia variedad de proyectos, una gran comunidad. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NVIDIA tiene un precio m√°s alto, menos proyectos, pero m√°s productividad en las tareas de aprendizaje autom√°tico. Tiene 128 n√∫cleos CUDA integrados (como en su gran tarjeta gr√°fica NVIDIA), que se utilizan para acelerar los algoritmos de aprendizaje autom√°tico.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hay tres piezas de Raspberry Pi (ZeroW, 3, 4) y NVIDIA Jetson Nano en mi colecci√≥n. Decid√≠ armar la m√°quina, por supuesto, en Jetson. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/97/6b/7s/976b7sfk9dpw6c2ih161squyvac.jpeg"><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Algoritmo</font></font></u><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
que decide sobre acciones basadas en lecturas de sensores. Por lo general, se utiliza una combinaci√≥n de visi√≥n por computadora y redes neuronales para esto. En la versi√≥n m√°s b√°sica, manejas tu m√°quina de escribir a lo largo de algunas marcas, grabas videos de tales viajes con seguimiento de gas / freno / giro, y luego entrenas en esta red neuronal para que descubras la dependencia de las se√±ales del motor en las im√°genes de la c√°mara. En pocas palabras, esta es la tarea de reconocer el marcado y tratar de permanecer en √©l. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si desea actualizar c√≥mo funciona la red neuronal, le sugiero que vea este video:</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/RJCIYBAAiEI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqu√≠ describ√≠ la opci√≥n m√°s simple, donde solo hay una c√°mara y un paseo de marcado. </font><font style="vertical-align: inherit;">Pero hay opciones con m√°s sensores y una l√≥gica de trabajo diferente: habr√° una publicaci√≥n separada sobre esto aqu√≠. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si el nivel es muy alto, entonces eso es todo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Solo queda:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ensamblar carro</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">colgar sensores</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">conectar la computadora</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dibujar marcado</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">montar en √©l</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">entrenar una red neuronal</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ir</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora que hemos descubierto de qu√© se trata un auto sin conductor, pasemos a la era de implementaci√≥n que ten√≠a espec√≠ficamente.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Edad 1 - Gelendwagen del mundo infantil + c√°mara Raspberry Pi Zero W +</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
S√≠, mi primer enfoque fue solo eso. Sucedi√≥ porque hab√≠a un mundo infantil cerca de mi casa en el que entr√©, en el que me gustaba Gelik, y lo compr√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien, pens√©, hay una h√©lice, ahora necesito una computadora y un sensor. Pensamiento hecho. Ped√≠ un RPi Zero W y una c√°mara para ella. Mientras esperaba la computadora y la c√°mara, entr√© y compr√© un banco de energ√≠a para este negocio. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, todo est√° en su lugar, es hora de recolectar. Encontr√© </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un proyecto as√≠</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , decid√≠ seguirlo. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gelik desmont√≥, sac√≥ sus cerebros nativos, los transfiri√≥ al controlador del motor, √©l, a su vez, los transfiri√≥ a RPi, conect√≥ una c√°mara, aliment√≥ todo con un banco de energ√≠a y qued√≥ satisfecho.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Antes de proceder al autogobierno, decid√≠ pasar por la consola por diversi√≥n, persiguiendo a un gato, transmitiendo la imagen de la c√°mara a mi computadora port√°til. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fue entonces cuando un par de fracasos me esperaban. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Primero, el Raspberry Pi Zero W es muy d√©bil en t√©rminos de rendimiento. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Segundo: la pasabilidad del gelik del mundo de los ni√±os es casi inexistente, se detuvo por casi cualquier obst√°culo m√≠nimo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ya se hizo evidente que el proyecto a√∫n no hab√≠a nacido, pero por inter√©s, trat√© de ensamblar la visi√≥n por computadora (OpenCV) para Raspberry Pi Zero directamente en √©l. </font><font style="vertical-align: inherit;">Tom√≥, sin bromas, m√°s de un d√≠a, y fue el √∫ltimo clavo en la tapa del ata√∫d de esta implementaci√≥n de SDC. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Qued√≥ claro que necesita cambiar tanto la computadora para un mayor rendimiento, como el carrito, para una mayor capacidad en todo el pa√≠s.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Result√≥ bastante divertido:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vl/bt/dg/vlbtdgde7-nhfcsowsypz6nrcay.jpeg"><br>
<br>
<h3> 2 ‚Äî 66 + NVIDIA Jetson Nano +   RaspberryPi</h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, en este punto, qued√≥ claro que necesita un autom√≥vil m√°s transitable, y preferiblemente un cami√≥n, para colocar todos los componentes en la carrocer√≠a. Despu√©s de estudiar un servicio para la selecci√≥n de productos, qued√≥ claro que el modelo de nuestro GAZ66 nativo me conviene, tambi√©n es un shishiga entre la gente. Bien, lo orden√©, espera, es hora de pensar en la computadora. En este momento, NVIDIA estaba preparando el inicio de las ventas de su Jetson Nano, y realic√© un pedido el primer d√≠a de ventas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lleg√≥ un cami√≥n, segu√≠ esperando a Jetson, mont√© impacientemente un shishiga por la casa, rod√© los gatitos a los que dio a luz el gato mencionado anteriormente. No quiere decir que a los gatitos les haya gustado, tuvieron que parar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mientras tanto, Jetson todav√≠a conduc√≠a, y ped√≠ un LIDAR de vac√≠o a China; no sab√≠a c√≥mo usarlo espec√≠ficamente, pero entend√≠ que quer√≠a hacerlo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un d√≠a, un mensajero de negocios apareci√≥ en la entrada de la oficina, me entreg√≥ una caja bastante grande de NVIDIA de un solo pagador, firm√© en la factura y me sent√≠ como un entusiasta de los desarrolladores: wow, me lleg√≥ un dispositivo comprado al comienzo de las ventas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬°Es hora de coleccionar! Pero primero, necesitas besarte, jajaja. Desmont√≥ el shishigu, arroj√≥ sus cerebros nativos, lubricado los mecanismos, comenz√≥ a ensamblar ya sobre la base de una computadora. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Conect√© la c√°mara, el controlador del motor, el motor rotativo, el motor de gas / freno, comenc√© las secuencias de comandos de Python para la prueba, ¬°de nuevo un fastidio! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta vez, la historia es esta: un shishigi usa un motor convencional para girar, no un servoaccionamiento. Entonces, no tiene comentarios. Por lo tanto, no puedo controlarlos con seguridad, lo que significa que no es adecuado para SDC.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien, de nuevo, necesitas resolver esto de alguna manera, hacer algo. </font><font style="vertical-align: inherit;">Pasamos a la pr√≥xima era.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ib/86/uv/ib86uv8xom4zf9yxa44-r6ikopi.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/97/6b/7s/976b7sfk9dpw6c2ih161squyvac.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Edad 3 - Remo Hobby SMAX</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dado que en este momento estaba claro que la m√°quina no solo necesitaba componentes transitables, sino tambi√©n m√≠nimamente buenos, la elecci√≥n recay√≥ en los talleres para aquellos que tienen RC, este es un pasatiempo. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sin m√°s pre√°mbulos, llegu√© a una de esas tiendas, y sin esconderme me dijo lo que estaba haciendo y qu√© tipo de m√°quina necesitaba. </font><font style="vertical-align: inherit;">El vendedor, sea amable, me dijo qu√© m√°quina se ajusta a mis requisitos m√≠nimos, y era una Remo Hobby SMAX. </font><font style="vertical-align: inherit;">Yo lo compr√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Llegu√© a casa, obtuve un shishigu, le quit√© todo, me sent√© para conectarme a SMAX. </font><font style="vertical-align: inherit;">¬øY, qu√© piensas? </font><font style="vertical-align: inherit;">As√≠ es, ¬°fracaso otra vez!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
B√°sicamente, los autos RC est√°n dise√±ados para que el motor se conecte al controlador del motor y, a su vez, se conecte al m√≥dulo de radio que se comunica con el control remoto. Y fue SMAX el que se dise√±√≥ para que all√≠ se combinaran el controlador del motor y el m√≥dulo de radio. Literalmente no tuve la oportunidad de conectarme al controlador del motor en lugar del m√≥dulo de radio. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vale, tienes que hacer algo otra vez. Regreso al sitio de los autos RC, me subo a los componentes. Hurgando por all√≠ y aplaudiendo, encuentro un controlador de motor que tiene un cable separado para el m√≥dulo de radio. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ordeno, traigo, recojo todo de nuevo, funciona, pero solo gira. Pero no hay gas y viceversa! Por qu√©, maldici√≥n, creo, pero sigo escogiendo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta vez no funcion√≥ que, para que el motor SMAX se active, la consola debe enviarle un cierto valor (360) a trav√©s del m√≥dulo de radio. Pero no lo sab√≠a, e ingres√© los valores directamente para el gas de freno. Y el motor no reaccion√≥, partiendo de la l√≥gica de que nadie le pidi√≥ que despertara. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En alg√∫n momento, me sent√© para clasificar literalmente todo en una fila, esperando que reaccionara al menos ante algo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al principio pas√© m√°s de 100 a√±os. Luego 50 por. Y cuando llegu√© a la b√∫squeda de 10, escuch√© un chillido de bienvenida en 360 - ¬°salud! ¬°Trabajos! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Prob√© gas / marcha atr√°s / izquierda / derecha desde la consola, todo funciona. Esto es fuego, aqu√≠ soy un programador =)</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parece que es hora de ensamblar, pero hay un problema: no hay absolutamente ning√∫n lugar para colocar los componentes. </font><font style="vertical-align: inherit;">Los autos RC est√°n dise√±ados para que su parte superior sea algo muy condicional. </font><font style="vertical-align: inherit;">En primer lugar, la parte superior est√° hecha de pl√°stico muy delgado y, en segundo lugar, es un jeep, y no hay ning√∫n lugar para ponerlo todo. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En este momento decid√≠ buscar y c√≥mo, de hecho, otros lo hacen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Encontr√© el proyecto de coche de burro, que tiene todo sobre una base llave en mano para ensamblar su SDC, tanto ejemplos de hardware como marco de software. </font><font style="vertical-align: inherit;">Parecer√≠a genial, t√≥malo y √∫salo, pero hay matices:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">imprimen la parte superior del autom√≥vil en una impresora 3D, y luego le recuerda al autom√≥vil muy distante. </font><font style="vertical-align: inherit;">feo, en resumen, no est√©ticamente agradable</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sus modelos 3D son compatibles con m√°quinas que no vendemos.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ok, recuerda Donkey Car, entonces tomaremos su marco de software, pero por ahora tenemos que pensar en el hardware. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un d√≠a, volviendo la cabeza en mi apartamento, mir√© el shishigu desmontado, en SMAX sin la parte superior, y pens√©: hmmm, y parecen ser de la misma escala (1/16). </font><font style="vertical-align: inherit;">Tom√≥ un shishiga, tom√≥ un SMAX, simplemente lo puso uno por uno sobre el otro, ¬°y realmente lo hace! </font><font style="vertical-align: inherit;">¬°Y se ve genial! </font><font style="vertical-align: inherit;">OK, tengo que hacerlo! </font><font style="vertical-align: inherit;">Pasamos a la pr√≥xima era.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/lj/oq/yw/ljoqywagmai0u43w37v3h5dkxye.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/5u/_9/xz/5u_9xz8-xext5xxw1gl_u61f_au.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/zp/f1/8v/zpf18v4bqoormzdbaqlvh5wg0ks.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Edad 4 - Conexi√≥n SMAX y GAZ66</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, al comienzo de esta era, tengo un objetivo interno: conectar la parte superior de una m√°quina a la parte inferior de otra. Como mis colegas y yo tomamos un chip en una impresora 3D, y soy su copropietario (un inversor serio), se decidi√≥ establecer una conexi√≥n en un programa CAD, imprimir y as√≠ conectarlos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Con esta idea, camin√© durante unos 2 meses, pensando que estaba a punto de sentarme a comprender los sistemas CAD. Jaja, no. Despu√©s de admitir que no quiero entender los sistemas CAD, comenc√© a pensar en otras opciones. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Regres√© al mundo de los ni√±os, decid√≠ ver a los dise√±adores, de repente me ayudaron de alguna manera. Compr√© un cl√°sico constructor de metal, que estaba conmigo cuando estaba en la escuela (ceniza de la vieja escuela reunida).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lo arrastr√≥ a su casa, coloc√≥ dos partes de la m√°quina una al lado de la otra y comenz√≥ a aplicarles todo tipo de elementos de dise√±o. </font><font style="vertical-align: inherit;">Cu√°nto tiempo, brevemente, comenz√≥ a aparecer alg√∫n tipo de comprensi√≥n, c√≥mo, al menos en teor√≠a, esto podr√≠a hacerse. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comenz√≥ a hacer. </font><font style="vertical-align: inherit;">Pas√© m√°s de un d√≠a con una llave para beb√©s, nueces y pensamiento espacial. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mientras me conectaba, aprend√≠ a perforar pl√°stico con un destornillador, arrancar con cuidado las partes sobrantes para no da√±ar la carcasa, bloquear las tuercas con otras tuercas (pero de todos modos sin arandelas). </font><font style="vertical-align: inherit;">En general, mi Trudovik estar√≠a orgulloso de m√≠. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despu√©s de unas tres modificaciones y tres d√≠as, vi este cami√≥n monstruo frente a m√≠: el GAZ66 SMAX Edition de Beslan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, parece que la base de hardware est√° lista, pase a la pr√≥xima era.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ae/1e/uy/ae1euyqkwmcpa8g1kkfetnfafg0.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/3v/ve/_u/3vve_ujwex5gar6kpbo5zynlddc.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5 a√±os: componentes de montaje en un cami√≥n monstruo</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al final:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tengo un carrito con buenos componentes</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tengo una parte superior est√©tica y espaciosa.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gas / freno / giros funcionan normalmente en este carro</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">arriba y abajo incluso est√°n conectados entre s√≠ =)</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es hora de montar componentes en esta belleza. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Armado con un destornillador como taladro para pl√°stico y cinta de doble cara como soporte universal para todo, me puse manos a la obra. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hice un soporte para la c√°mara en la cabina, que le permite ajustar el √°ngulo de la c√°mara. </font><font style="vertical-align: inherit;">Lanz√≥ un largo tren desde la c√°mara a Jetson, que, a su vez, se instal√≥ en la parte de atr√°s. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adem√°s de Jetson, las siguientes personas se instalaron en la parte de atr√°s:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">powerbank para alimentar la computadora (don√≥ su principal, genial, con entrega de energ√≠a usb para que jetson no falle en el poder)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PCA9685 (controlador PWM) para control de motor</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bater√≠a para alimentar el motor de la m√°quina</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como el proyecto ya se consideraba a largo plazo en ese momento, decid√≠ no meterme con el lidar todav√≠a y hacer MVP al menos en la c√°mara y el software de Donkey Car. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por diversi√≥n, conect√© mis faros nativos de GAZ66 para hacerlo m√°s hermoso y m√°s seguro en la oscuridad. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien, mi m√°quina se enciende, los motores responden a los comandos de la pit√≥n, la c√°mara da una imagen, las luces est√°n encendidas, todo est√° bien, es hora de instalar el software.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vi/6l/hn/vi6lhndoodzafm9jsbdkp36thkc.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/qj/bo/wz/qjbowztgjt1jocusuhducwkpxme.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Edad 6: instalaci√≥n de Donkey Car y sus alrededores</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Afortunadamente, en las √∫ltimas etapas encontr√© el proyecto Donkey Car, y me hizo la vida mucho m√°s f√°cil, me salv√≥ de escribir todo yo mismo. </font><font style="vertical-align: inherit;">En pocas palabras, DonkeyCar es un marco que ya tiene todo lo que necesita para SDC. </font><font style="vertical-align: inherit;">E incluso tienen gu√≠as sobre c√≥mo instalar software. </font><font style="vertical-align: inherit;">Pero, como suele ser el caso con OpenSource, las gu√≠as est√°n desactualizadas y se contradicen en unos instantes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De acuerdo, tengo que resolverlo. </font><font style="vertical-align: inherit;">Para el funcionamiento normal del marco, se necesitan las siguientes bibliotecas:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenCV</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tensorflow-gpu (gpu es para jetson, porque hay un n√∫cleo de cuda. ‚Äã‚Äãpara rpi hay tensorflow-lite)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tensorrt (biblioteca para acelerar la inferencia de neuronas)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y todo lo que se establece autom√°ticamente en funci√≥n de la lista de entorno</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comencemos con OpenCV. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La gu√≠a DonkeyCar dice que necesitas construirlo desde la fuente misma, porque para ARM no hay OpenCV en pip. Incluso hice esto, compil√© OpenCV, pero antes de instalarlo decid√≠ comprobarlo, de repente el sistema tiene una versi√≥n antigua de OpenCV y necesita ser demolido. Llam√© a python, import√© cv2, ped√≠ una versi√≥n, pero es bam y relevante. R√°pidamente busqu√© y descubr√≠ que en las √∫ltimas versiones de linux4tegra (que est√° en jetson), los chicos de NVIDIA comenzaron a instalar OpenCV. Genial, tengo menos que hacer. Bien hecho, que podr√≠a compilarme :) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A continuaci√≥n, tensorflow-gpu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La gu√≠a DonkeyCar indica, en primer lugar, una rama de versi√≥n desactualizada (1.xx) y, en segundo lugar, ni siquiera la √∫ltima versi√≥n de versiones desactualizadas. Decid√≠ no escucharlos y puse la √∫ltima versi√≥n actual (2.0). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El siguiente paso es tensorrt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La gu√≠a para instalar tensrort en jetson est√° escrita en una p√°gina wiki separada, y deja en claro que el autor no ley√≥ la gu√≠a principal =) Porque la gu√≠a tensorrt reasigna variables de entorno y OpenCV deja de funcionar. Lo torc√≠ de un lado a otro, volv√≠ todo hacia atr√°s y decid√≠ criticar el entorno y las variables de entorno, lo rod√© directamente al entorno principal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Satisfecho consigo mismo, abri√≥ la python, a su vez llamada cv2, tensorflow, tensorrt, y luego le pregunt√≥ a la python su versi√≥n: todos fueron importados, todos mostraron las √∫ltimas versiones. ¬°Frio! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El proceso de instalaci√≥n del coche de burro en s√≠ es bastante simple, no lo describir√©, sugiero leer su gu√≠a. Lo √∫nico que notar√© ahora es que en la configuraci√≥n del coche de burro puede aumentar la resoluci√≥n de la imagen de 86x86 para RPi a 224x224 para Jetson (porque habr√° m√°s rendimiento y la precisi√≥n ser√° mayor).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, todo est√° listo, ¬°es hora de correr y probar! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mi m√°quina realmente se enciende, inicia el servidor web en esa IP, a la cual el enrutador emiti√≥ la m√°quina. </font><font style="vertical-align: inherit;">Y realmente puede ir all√≠, y desde el navegador maneje el joystick, mirando la imagen de la c√°mara. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tambi√©n tuve que calibrar los valores suministrados al PWM (PCA9685) para encontrar un giro m√°ximo hacia adelante, hacia atr√°s y hacia los lados. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqu√≠, por cierto, descubr√≠ que mi motor estaba conectado incorrectamente, la m√°quina retrocedi√≥ mucho m√°s en√©rgicamente que hacia adelante, encontr√© experimentalmente los cables y los tir√© al rev√©s. </font><font style="vertical-align: inherit;">Estaba tan dispuesto all√≠ que todos los cables del motor son del mismo color, y no puedes recordar c√≥mo era. </font><font style="vertical-align: inherit;">Pero lo conect√© correctamente y puse un termorretr√°ctil en cada cable, para poder distinguirlos m√°s tarde.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬°Genial, es hora de pasar a preparar la pista!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Edad 7 - Montaje de v√≠as, viajes</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El algoritmo Donkey Car est√° tan dise√±ado que hay una neurona entrenada por un maestro. </font><font style="vertical-align: inherit;">Y esto significa que la imagen de la c√°mara est√° rastreando, y aparece un archivo json junto a cada imagen en la que se escribe el nombre de la imagen, la aceleraci√≥n, la rotaci√≥n y la marca de tiempo. </font><font style="vertical-align: inherit;">Y para entrenar una neurona, tales pares de imagen + json necesitan al menos 5K. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se decidi√≥ montar la pista en casa, dicen que el apartamento es grande, hay d√≥nde dar la vuelta. </font><font style="vertical-align: inherit;">Pero al comenzar a recolectar, qued√≥ claro que no hab√≠a un paseo por el apartamento: el piso es de diferentes colores, el contraste ser√° diferente y el modelo no se puede sacar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien, decid√≠ ponerlo en una habitaci√≥n. </font><font style="vertical-align: inherit;">Compr√© 4 rollos de cinta adhesiva y los pegu√© a la pista en el piso.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entr√© en el autom√≥vil, lo encend√≠, me fui y volv√≠ a fallar: resulta que una habitaci√≥n es demasiado peque√±a y mi autom√≥vil es cursi y no est√° incluido en las curvas. M√°s precisamente, est√° incluido, pero a una velocidad tal que ser√° una l√°stima entonces =) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien, tenemos que hacer la segunda iteraci√≥n, y necesitamos una gran sala. La elecci√≥n recay√≥ en la oficina: hay muchos lugares, los pisos son monof√≥nicos, abiertos las 24 horas, los 7 d√≠as de la semana. El √∫nico problema es que los limpiadores trabajan de noche y ser√° necesario quitar la pista. Es decir, debe hacer todo de una vez: conducir con las manos para ser un maestro, entrenar a la modelo, arrojarla de nuevo a la m√°quina de escribir y pasar sin control manual. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien, el d√≠a X, despu√©s del evento sobre los experimentos A / B, se decidi√≥ quedarse en la oficina y seguir la pista. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se elige el lugar, la cinta est√° lista, el equipo de constructores de la pista en el juego. Solo una hora, y en el pasillo de la oficina hay una gran pista.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puse el auto, lo encend√≠, trat√© de conducir - hurra, entra en giros, y tuve que limitar la velocidad al 80%.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/px/be/7t/pxbe7tj2qrtw7o0yekqk4lneiue.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8 a√±os: viajar con el joystick</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, tengo una pista, tengo un autom√≥vil y necesito 5K pares de imagen + json. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Emp√≠ricamente, descubr√≠ que una vuelta de mi pista son 250 pares de fotos + json, lo que significa que necesito dejar al menos 20 vueltas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Preferiblemente en una fila. Puede, por supuesto, de forma intermitente, pero luego el modelo arroja el gas arrojado, y puede comenzar a disminuir, pero no quiero esto. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comenc√© a intentar correr en 20 vueltas sin descanso, y esto, debo decir, no es una tarea f√°cil. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La primera dificultad surgi√≥ porque hab√≠a una columna considerable en el centro de la ruta, y cuando la m√°quina conduc√≠a despu√©s, la conexi√≥n con la computadora port√°til desde la que se controlaba se retras√≥, y este peque√±o retraso me dej√≥ fuera de los l√≠mites de la ruta.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien, entonces debes asegurarte de que la conexi√≥n sea del dispositivo con el que yo mismo voy a la m√°quina de escribir cuando conduzco. Y esto significa que debe conducir desde el navegador del tel√©fono. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero todav√≠a hay un joystick, y lo sostengo con ambas manos, ¬ød√≥nde m√°s puedo obtener el tel√©fono? Llevar una m√°quina de escribir no es una opci√≥n, la ralentizar√° y luego, sin un tel√©fono, ir√° m√°s r√°pido y puede confundirse en las esquinas debido a una aceleraci√≥n excesiva. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hmm, entonces necesitas combinar de alguna manera el tel√©fono y el joystick. De acuerdo, tengo un lector, es lo suficientemente grande, cabe tanto en un tel√©fono como en un joystick, funcionar√°. Tom√≥ la cinta y peg√≥ el tel√©fono al lector con cinta adhesiva, y justo debajo del joystick. Mir√© este milagro y pens√©: ¬øqu√© eres en general? :-)</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero funcion√≥ :) Con esto logr√© dejar 20 vueltas. </font><font style="vertical-align: inherit;">Pero en realidad, incluso 25, porque prob√© alrededor de 15 c√≠rculos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dachshund, listo, tengo un conjunto de datos para entrenar una neurona, ¬°es hora de entrenar!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9 a√±os - Entrenamiento neuronal</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En este momento tengo un autom√≥vil, una pista, un conjunto de datos, s√≠, ¬°estoy a un paso del resultado! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En casa, la PC giraba al ralent√≠, con la NVIDIA RTX 2070, en la que planeaba estudiar. Afortunadamente, para un hogar inteligente, tengo una IP externa, y solo tuve que obtener el puerto 22 de Internet a una PC. Es bueno que haya asistentes que hicieron esto por m√≠ mientras estaba en la oficina. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, voy en ssh a la computadora con ubuntu, monitorizo ‚Äã‚Äãla carpeta de inicio para sshfs, subo archivos. Parece que solo 40 megabytes, pero dur√≥ unos 30 minutos. Sucedi√≥, seg√∫n tengo entendido, porque hab√≠a muchos de ellos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Archivos en su computadora, tensorflow-gpu instalado, software DonkeyCar instalado, es hora de entrenar. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Llamo a un script de DonkeyCar para entrenar una neurona, lo se√±alo a las carpetas con el conjunto de datos: se ejecut√≥.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mientras la neurona se est√° ejecutando, nvtop (monitor de carga de la tarjeta de video) muestra una utilizaci√≥n del 1406%, htop normal muestra una carga de la CPU del 100% para los 16 n√∫cleos, est√° encendido). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despu√©s de unos 20 minutos, tengo un modelo entrenado para conducir un autom√≥vil. </font><font style="vertical-align: inherit;">Parecer√≠a, t√≥malo, √∫salo. </font><font style="vertical-align: inherit;">Pero no :) ¬ø </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Recuerdas que escrib√≠ anteriormente sobre Tensorrt, que optimiza la inferencia de neuronas y las ejecuta en n√∫cleos de Cuda? </font><font style="vertical-align: inherit;">Por supuesto, quiero revisarlo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y eso significa lo que necesito:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">congelar el modelo (necesita empacar todo para el modelo en un archivo)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">convertir el resultado del friso al formato tensorrt</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estoy tratando de congelar el modelo, llamo al script de DonkeyCar, fallo. Y mientras tanto, es de noche, pronto los limpiadores est√°n desmantelando mi pista, necesito hacerlo r√°pidamente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La hip√≥tesis naci√≥ de que esto se debe a que tom√© el flujo de tensor incorrecto que ten√≠a DonkeyCar. Bien, estoy tirando de tensorflow 2.0, configuro 1.15, lo intento de nuevo: ¬°√©xito, saludos! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora la conversi√≥n, y nuevamente el desglose: no se encontr√≥ el equipo. Bien, voy a buscar qu√© pasa. Result√≥ que NVIDIA marc√≥ esta caracter√≠stica como obsoleta y le quit√≥ el soporte. Ahora, dicen, necesitas convertir a mano. Afortunadamente, encontr√© el repositorio de git, donde hab√≠a una solicitud similar, y el usuario encontr√≥ el lugar donde realmente se encuentra el script de python, que convierte los modelos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Llamo el gui√≥n desde ese lugar, y la verdad responde. Pero, dice, no hay terceros pitones para ti, vamos segundo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien, estoy llamando a la segunda pit√≥n. √âl me dice: no tengo flujo de tensor. Bueno, le pido que ponga tensorflow-gpu 1.15, y me dice que no existe tal versi√≥n, solo hay 1.14. De acuerdo, estoy de acuerdo, arriesg√©monos y coloquemos las diferentes versiones en diferentes entornos de Python. Ponga tensorflow en la segunda python, solicit√≥ la conversi√≥n: ¬°salud, funcion√≥! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De acuerdo, tengo modelos para tensorrt y para tensorflow-gpu ordinario, lo dejo caer en la m√°quina. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Arranco la m√°quina con el modelo para tensorrt, un gran error de trackback, pulsaciones de tiempo - ok, probar√© el modelo habitual. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comienzo el error habitual nuevamente, pero esta vez es bastante claro: el tama√±o de su imagen es 224X224, mientras que se espera 86X86. ¬øRecuerdas que en alg√∫n lugar mucho m√°s alto escrib√≠ que las reglas de configuraci√≥n cambiaron la resoluci√≥n de la imagen de la c√°mara?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, en la m√°quina de escribir lo correg√≠, pero no en la computadora host. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Regreso a la computadora host, corrijo las configuraciones all√≠, vuelvo a entrenar, vuelvo a hacer el friso, vuelvo a convertir, vuelvo a tirar. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ga/wn/uw/gawnuwyx7iobukme4h_zrqkgcvs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comienzo la m√°quina con un modelo para tensorrt, y ...</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Edad 10 - ¬°Todo funciona, finalmente!</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬°Hurra! </font><font style="vertical-align: inherit;">¬°Mi auto se fue! </font><font style="vertical-align: inherit;">S√≠, sin m√≠. </font><font style="vertical-align: inherit;">Muy genial. </font><font style="vertical-align: inherit;">Estoy incre√≠blemente feliz)</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://player.vimeo.com/video/392912248" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Durante casi un a√±o hice todo esto, y ahora)</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øQue sigue?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hay varios planes para un mayor desarrollo; pasar√© de lo simple a lo complejo.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agregue un sensor IMU al modelo para posiblemente aumentar la precisi√≥n. </font><font style="vertical-align: inherit;">Por ejemplo, al conducir cuesta arriba, se necesita m√°s esfuerzo en el motor.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Convierta la l√≥gica en viajes que no est√©n en la carretera, sino que simplemente evite obst√°culos</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agregue lidar y tome lecturas de √©l</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desaf√≠o de batalla</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si usted, o con una compa√±√≠a de amigos, siente que quiere competir, escr√≠bame, organicemos las competencias =)</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comunidad</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tambi√©n arm√© una sala de chat de inter√©s y estoy preparando un canal. </font><font style="vertical-align: inherit;">No estoy seguro de que, de acuerdo con las reglas de Habr, sea posible, as√≠ que lo enviar√© al PM a solicitud.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La imagen de la tarjeta SD de mi m√°quina de escribir</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si lo solicita, tambi√©n le enviar√© una imagen img de mi autom√≥vil, si desea hacerlo de manera similar, y no quiere ba√±arse con la configuraci√≥n.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es489034/index.html">¬øLa nueva aplicaci√≥n m√≥vil UIS o salvaci√≥n para aquellos que buscan contrataci√≥n p√∫blica?</a></li>
<li><a href="../es489038/index.html">El libro "Concurrencia de Java en la pr√°ctica"</a></li>
<li><a href="../es489040/index.html">Contact Center AI: un tercero en conversaci√≥n est√° bien</a></li>
<li><a href="../es489042/index.html">Gran reapertura de la tienda: cargando datos en Android usando corutina</a></li>
<li><a href="../es489044/index.html">F√≠sica del texto. Parte 1. S√≠mbolos</a></li>
<li><a href="../es489048/index.html">El registro y el seguimiento de consultas son las mejores pr√°cticas. Informe Yandex</a></li>
<li><a href="../es489050/index.html">Windows vs Sysmon</a></li>
<li><a href="../es489058/index.html">Conjuntos de redes neuronales con PyTorch y Sklearn</a></li>
<li><a href="../es489060/index.html">An√°lisis: ¬øcu√°l es la diferencia entre las inversiones de alto riesgo y las de bajo riesgo?</a></li>
<li><a href="../es489062/index.html">Incre√≠ble rendimiento paralelo de Apache Parquet I / O en Python</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>