<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçØ ü¶Ö üèïÔ∏è Anatomia do cluster Kubernetes da minha casa üòÑ üê¢ üò§</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="H√° um ano, percebi que queria criar meu pr√≥prio cluster Kubernetes. Eu sou um desenvolvedor de software. Normalmente, eu uso um cluster local de n√≥ √∫n...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Anatomia do cluster Kubernetes da minha casa</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/493708/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">H√° um ano, percebi que queria criar meu pr√≥prio cluster Kubernetes. Eu sou um desenvolvedor de software. Normalmente, eu uso um cluster local de n√≥ √∫nico ou um cluster de v√°rios n√≥s remoto para testar meus projetos. Ao trabalhar com um cluster de n√≥ √∫nico, geralmente confio no </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Minikube</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , embora existam outras solu√ß√µes, como o projeto </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kind</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que podem emular a presen√ßa de v√°rios n√≥s em um cluster. O suporte para v√°rios n√≥s </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pode aparecer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> no Minikube.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ent√£o, eu gostaria de ter √† minha disposi√ß√£o os recursos dos dois ambientes acima. Ou seja, para que eu tivesse um cluster composto por v√°rios n√≥s e para que trabalhar com esses clusters n√£o implicasse em atrasos de rede t√≠picos para interagir com ambientes remotos. </font><font style="vertical-align: inherit;">
Muitos √≥timos tutoriais j√° foram escritos sobre a cria√ß√£o de clusters de v√°rios n√≥s do Kubernetes usando </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">computadores de placa √∫nica</font></a><font style="vertical-align: inherit;"> . Muitos desses manuais usam o Raspberry Pi como SBC. Vendo isso, decidi seguir o caminho de menor resist√™ncia e tamb√©m escolhi este computador. A plataforma Raspberry Pi se estabeleceu como uma solu√ß√£o barata e acess√≠vel.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/il/ui/ts/iluits7z2ihfycqlskr35gzsstg.jpeg"></a><br>
<br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Note-se que a escolha desta plataforma oferece alguns compromissos. </font><font style="vertical-align: inherit;">Por exemplo, a Broadcom e a Raspberry Pi Foundation n√£o licenciaram extens√µes criptogr√°ficas ARMv8 (isso √© necess√°rio para a acelera√ß√£o de hardware do suporte AES). </font><font style="vertical-align: inherit;">Outra solu√ß√£o controversa √© o uso de cart√µes microSD na forma de um meio de armazenamento padr√£o a partir do qual o sistema operacional √© carregado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Analisando as diretrizes existentes para a cria√ß√£o de clusters em computadores de placa √∫nica, n√£o encontrei nenhuma que descreva uma solu√ß√£o que atenda aos meus requisitos. </font><font style="vertical-align: inherit;">Vou come√ßar a hist√≥ria sobre o cluster que criei com eles.</font></font><br>
<a name="habracut"></a><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exig√™ncias</font></font></font></h2><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O cluster deve ser fechado em um compartimento separado, que pode ser facilmente movido, aberto e mantido, trabalhando com m√≥dulos separados do sistema;</font></font></li>
<li>            ,         .         ,        ,        .   ,      .   ,        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a>.</li>
<li>       ,      .</li>
<li>      , ,  ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> </a> .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por tr√°s desses requisitos, h√° um objetivo n√£o √≥bvio: eu precisava da minha filha de quatro anos para trabalhar com o cluster. </font><font style="vertical-align: inherit;">Espero que ele se torne para ela uma esp√©cie de guia de estudo que a ajude a se familiarizar com computadores, comandos e terminais.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Acess√≥rios</font></font></font></h2><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Detalhe</font></font></b></td>
<td><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fonte</font></font></b></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pico 5 framboesa PI 5S Starter Kit</font></font></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">picocluster.com</font></font></a></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Computadores de placa √∫nica: 2 Raspberry Pi 4B (4GB) 3 Raspberry Pi 3B +</font></font></td>
<td></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5 cart√µes microSD 32GB classe 10 / A1&nbsp;</font></font></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">raspberrypi.org</font></font></a></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cabos Ethernet: 2 0,25 m cat. 83 0,15 m cat. 7, S / FTP</font></font></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1attack.de</font></font></a></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cabos USB PortaPow 20AWG2 Cabo USB-C3 Cabo micro-USB</font></font></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">portablepowersupplies.co.uk</font></font></a></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Oficial Raspberry Pi 7 ‚Ä≥ Touchscreen</font></font></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">raspberrypi.org</font></font></a></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fonte de alimenta√ß√£o Dehner Elektronik STD-12090 12V / DC 9A 108W</font></font></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dehner.net</font></font></a></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conversor DC-Buck de 12V a 5V 15A</font></font></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">droking.com</font></font></a></td>
</tr>
<tr>
<td> Heschen 12V 25A SPST 2-Pin ON/OFF</td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">heschen.com</a></td>
</tr>
<tr>
<td> Noctua NF-A4x20 5V PWM</td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">noctua.at</a></td>
</tr>
<tr>
<td>  , (15A, 30V)  4 ,    MOSFET PSMN011-30YLC</td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ebay.com</a></td>
</tr>
<tr>
<td>2  M.2 NVMe  USB 3.0,   JMS58</td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">amazon.com</a></td>
</tr>
<tr>
<td>2  Samsung SSD 970 EVO Plus M.2 PCIe NVMe 500 Go</td>
<td></td>
</tr>
<tr>
<td>2   USB 3.0 (  ,  )  6‚Ä≥/152mm</td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">usbfirewire.com</a></td>
</tr>
<tr>
<td>2  USB 3.0- Delock, Male-Female ( 270¬∞)</td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">delock.com</a></td>
</tr>
<tr>
<td>  Adafruit  Raspberry Pi 24‚Ä≥/610mm</td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">adafruit.com</a></td>
</tr>
<tr>
<td>  Adafruit (DSI  CSI)  Raspberry Pi&nbsp;</td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">adafruit.com</a></td>
</tr>
<tr>
<td>  Wago  221</td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">wago.com</a></td>
</tr>
<tr>
<td>  Lapp Unitronic 300mm/1200mm 2x0.14mm¬≤</td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">lappgroup.com</a></td>
</tr>
<tr>
<td> Lemo FGG.0B.302.CLAD42  EGG.0B.302.CLL</td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">lemo.com</a></td>
</tr>
<tr>
<td>     DuPont Female-Female</td>
<td></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O gabinete do PicoCluster √© pequeno e muito f√°cil de usar. No kit inicial que pedi, usei apenas o chassi, incluindo as travas e racks, al√©m do switch Gigabit Ethernet de 8 portas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora entendo que seria melhor se o PicoCluster vendesse uma vers√£o de seu kit sem componentes el√©tricos. Outra alternativa para este kit foi o desenvolvimento de seu pr√≥prio gabinete. Isso, no entanto, exigiria mais tempo. Eu teria que criar desenhos vetoriais, eu teria que usar os servi√ßos de corte a laser em uma empresa que oferece chapas acr√≠licas, idealmente chapas com um revestimento que dissipa a descarga eletrost√°tica. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No decorrer do trabalho, deparei-me com avisos sobre </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tens√£o insuficiente</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e descobriu que o problema foi causado pelos cabos micro-USB que acompanham o gabinete. Al√©m disso, junto com o gabinete, havia um conversor DC-DC de 12V para 5V, 30W, que substitu√≠ por um mais potente. Fiz isso por raz√µes que discutirei abaixo na se√ß√£o sobre como ligar o sistema. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No momento em que comecei a trabalhar neste projeto, n√£o planejava usar as placas Raspberry Pi 4 lan√ßadas em 2019. Isso explica que ainda tenho tr√™s placas Raspberry Pi 3 que funcionam como n√≥s de trabalho. Troquei outras duas placas pelo Raspberry Pi 4. Elas s√£o usadas para n√≥s que precisam de mais recursos. Este √© o n√≥ principal e o n√≥ de trabalho, que, entre outras coisas, √© usado para criar backups de dados.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Logo ap√≥s o lan√ßamento do Raspberry Pi 4, o PicoCluster lan√ßou um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">novo chassi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> projetado especificamente para essas placas. Inclui uma fonte de alimenta√ß√£o poderosa, dois ventiladores e um interruptor de energia. √â verdade que este gabinete √© maior que o meu e os f√£s certamente ser√£o mais altos que o Noctua NF-A4x20. A velocidade de rota√ß√£o deste ventilador pode ser controlada usando </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a modula√ß√£o por largura de pulso</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (PWM), levando em considera√ß√£o os resultados das medi√ß√µes de temperatura realizadas nas placas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Deve-se notar que o SoC Broadcom BCM2837 (Raspberry Pi 3) e o SoC BCM2711 (Raspberry Pi 4) possuem temporizadores de hardware capazes de gerar sinais PWM. Como resultado, √© muito simples emitir </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sinais de entrada de controle</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">esperado pelo Noctua NF-A4x20 PWM sem sobrecarregar o processador. </font><font style="vertical-align: inherit;">Al√©m disso, o ventilador quase n√£o √© aud√≠vel quando est√° funcionando com metade da velocidade suportada (cerca de 2500 rpm). </font><font style="vertical-align: inherit;">Como se viu, √© suficiente para manter a temperatura do sistema abaixo de 45 ¬∞ C / 113 ¬∞ F sob carga normal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O novo gabinete inclui uma fonte de alimenta√ß√£o integrada. </font><font style="vertical-align: inherit;">Al√©m disso, ele √© mais caro do que o que eu escolhi. </font><font style="vertical-align: inherit;">Todos esses recursos deste gabinete s√£o a raz√£o pela qual eu escolheria o kit Pico 5S, mesmo que o tivesse comprado agora. </font><font style="vertical-align: inherit;">Devem ser envidados mais esfor√ßos para lembr√°-lo, mas o que acabou por me parecer melhor do que o que teria acontecido se eu tivesse escolhido um pr√©dio diferente. </font><font style="vertical-align: inherit;">Em geral, vale a pena o esfor√ßo e o tempo.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Montagem</font></font></font></h2><br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñç Painel frontal</font></font></font></h3><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c4c/69a/bae/c4c69abaec8489276a0ae015fcc88f93.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Painel</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
frontal O</font><i><font color="#999999"><font style="vertical-align: inherit;"> painel</font></font></i><font style="vertical-align: inherit;"> frontal possui uma abertura para acesso aos cart√µes microSD. Isso √© conveniente, mesmo considerando o fato de que planejo organizar a inicializa√ß√£o do sistema usando a</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> inicializa√ß√£o de armazenamento em massa USB</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Eu pretendo fazer isso logo ap√≥s o Raspberry Pi 4 suportar totalmente esse modo de inicializa√ß√£o. O orif√≠cio tamb√©m ajuda a organizar a circula√ß√£o de ar na carca√ßa. Nesse caso, dois drives SSD est√£o localizados diretamente em frente ao ventilador, o que ajuda a manter a temperatura operacional ideal.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os indicadores de atividade e energia das placas s√£o claramente vis√≠veis, o que permite avaliar rapidamente o estado do cluster. Os indicadores de atividade do comutador Ethernet tamb√©m s√£o vis√≠veis.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ada/9df/3c3/ada9df3c359aa12ccfe557460738e672.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O painel superior do gabinete sem tela A</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
tela pode ser movida facilmente para aproxim√°-lo do teclado ou para fornecer acesso ao painel superior ao abrir o gabinete.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñç painel esquerdo</font></font></font></h3><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bb5/0af/849/bb50af8494c2c3a3df84832943addf92.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Painel esquerdo</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
No</font><i><font color="#999999"><font style="vertical-align: inherit;"> painel</font></font></i><font style="vertical-align: inherit;"> esquerdo do gabinete, est√£o as portas GPIO das placas. </font><font style="vertical-align: inherit;">Um dos cabos conecta a unidade principal ao ventilador - para organizar o controle PWM de sua velocidade de rota√ß√£o. </font><font style="vertical-align: inherit;">Outro cabo conecta o n√≥ principal ao m√≥dulo da placa de circuito, que √© usado para ativar e desativar os n√≥s de trabalho. </font><font style="vertical-align: inherit;">Quatro cabos conectam cada um dos n√≥s em funcionamento ao n√≥ principal. </font><font style="vertical-align: inherit;">Ele usa pinos GPIO com um alto n√≠vel ativo quando desligado. </font><font style="vertical-align: inherit;">Isso permite que o n√≥ principal desligue com seguran√ßa a energia do n√≥ de trabalho ap√≥s a conclus√£o da sequ√™ncia de a√ß√µes executadas no final de sua opera√ß√£o.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/157/16e/984/15716e984e6204e35758d85c63fa87db.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O m√≥dulo usado para conectar o ventilador ao n√≥ principal</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
No canto superior esquerdo, h√° um pequeno m√≥dulo projetado para conectar o conector do ventilador Noctua de 4 pinos ao n√≥ principal do Raspberry Pi. </font><font style="vertical-align: inherit;">O conector GPIO correspondente, gra√ßas ao suporte de hardware para gerar sinais PWM, est√° configurado para controlar a velocidade do ventilador. </font><font style="vertical-align: inherit;">A velocidade √© selecionada com base na an√°lise da temperatura das placas, informa√ß√µes sobre as quais s√£o coletadas regularmente usando SSH. </font><font style="vertical-align: inherit;">A unidade principal, al√©m disso, para fins de monitoramento, l√™ a velocidade do ventilador.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñç painel traseiro</font></font></font></h3><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9ad/7ab/516/9ad7ab516db66c36391208b50f254db0.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Painel</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
traseiro O painel traseiro do chassi oculta os cabos. O fato de tudo parecer assim pode ser considerado a consequ√™ncia de uma abordagem astuta da organiza√ß√£o modular do meu projeto. Era dif√≠cil encontrar cabos de qualidade. Especialmente - cabos USB 3.0 curtos com plugues curvos. Cabos - este √© o maior grupo de elementos m√≥veis do meu sistema, eles devem atender a certas caracter√≠sticas mec√¢nicas e el√©tricas. Eles provaram ser a principal fonte de problemas.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tive a ideia de usar um √∫nico cabo espiral para substitu√≠-lo por um cabo de fita DSI, com o qual uma tela est√° conectada ao sistema. Em seguida, o cabo espiral conectaria a tela ao cluster e forneceria energia a ele. Mas n√£o consegui encontrar um conector DSI adequado. Abstive-me deste empreendimento e do fato de n√£o me sentir atra√≠do pela perspectiva de soldar 17 fios de 0,14 mm¬≤. Usei um extensor de cabo DSI e apliquei um cabo de alimenta√ß√£o micro-USB espiral de 2 fios. Isso me permitiu mover e desligar a tela facilmente sem abrir o gabinete.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b04/a96/1a4/b04a961a4401c18d4a44864fb11ecde8.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tentativa malsucedida de organizar cabos</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Aqui est√° uma tentativa malsucedida de usar o sistema para organizar a entrada de cabos no gabinete projetado para cabos de expans√£o USB 3.0. </font><font style="vertical-align: inherit;">Apesar das in√∫meras tentativas de rotear corretamente os cabos, eu encontrei sistematicamente erros de E / S durante as transfer√™ncias de dados. </font><font style="vertical-align: inherit;">Eles provavelmente foram causados ‚Äã‚Äãpelo fato de terem sido esticados demais ao colocar os cabos ou pelo fato de isso prejudicar a conex√£o confi√°vel dos cabos aos conectores.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñç Painel direito</font></font></font></h3><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/136/038/7ab/1360387abdbf37fa749782ec3df5b8ca.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Painel direito</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
No lado direito do gabinete, voc√™ pode ver o switch Ethernet de 8 portas.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Projeto de sistema</font></font></font></h2><br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñç Comida</font></font></font></h3><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/eed/93b/b85/eed93bb85e71ca00a19f343d39fd706c.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gabinete com painel frontal aberto,</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
tive que decidir qual fonte de alimenta√ß√£o usar. </font><font style="vertical-align: inherit;">Em particular, sobre qual pot√™ncia em watts ele deve suportar para atender √†s necessidades do cluster. </font><font style="vertical-align: inherit;">Essa √© uma pergunta sobre o que veio antes - uma galinha ou um ovo, j√° que as medi√ß√µes n√£o podem ser feitas antes que a energia seja aplicada ao cluster. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para obter uma estimativa aproximada de energia,</font><font style="vertical-align: inherit;">consultei a</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> documenta√ß√£o oficial</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que cont√©m algumas informa√ß√µes sobre a pot√™ncia do Raspberry Pi, bem como as especifica√ß√µes de outros componentes. </font><font style="vertical-align: inherit;">Isso me deu os seguintes valores aproximados com base no consumo m√©dio de energia.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8fa/097/c9b/8fa097c9b1f40c9003bcf75b31d6c672.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas o que aconteceu depois de levar em conta os valores m√°ximos de consumo de energia da documenta√ß√£o.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cec/3fc/424/cec3fc4241a30a788ff793edbf27cc86.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso foi muito maior do que a energia fornecida por essas fontes de energia que eu pude descobrir que produziam 5V, j√° que os componentes de "baixa energia" precisavam de uma corrente de 10A. Isso descartou a op√ß√£o de usar uma √∫nica fonte de alimenta√ß√£o de 5V. Ao mesmo tempo, fontes de alimenta√ß√£o de 12V s√£o muito comuns, o que pode fornecer o n√≠vel necess√°rio de energia. Como resultado, selecionei a fonte de alimenta√ß√£o Dehner Elektronik STD-12090 12V / DC 9A 108W e a conectei a um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">conversor de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 12V a 5V 75W </font><font style="vertical-align: inherit;">DC / DC </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui eu tinha outra op√ß√£o, que consistia em usar cinco conversores menos potentes - um para cada placa Raspberry Pi, mas isso complicaria bastante o design do cluster.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c86/e1a/95f/c86e1a95febd0d64ea0ee5f9bbafe28a.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Placa de remendo Uma placa de remendo de</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
4 pinos baseada no MOSFET PSMN011-30YLC est√° instalada na parte inferior do chassi. √â usado para ativar e desativar n√≥s de trabalho. √â rotulado como 15A, 30V, para lidar bem com a carga criada por quatro Raspberry Pi.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu medi a energia m√©dia e m√°xima consumida pelo cluster. Os resultados da medi√ß√£o s√£o aproximadamente consistentes com os c√°lculos aproximados que fiz anteriormente. A diferen√ßa entre os valores esperados e reais pode ser explicada pelos recursos da configura√ß√£o do sistema e pelos recursos do teste. Em particular, desliguei o Wi-Fi e o Bluetooth no meu Raspberry Pi, eles tamb√©m funcionam sem exibir uma imagem no monitor. Isso pode explicar o fato de que, na realidade, os valores acabaram sendo menores.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como se viu, a fonte de alimenta√ß√£o de 108W √© muito mais poderosa do que o necess√°rio para o cluster. </font><font style="vertical-align: inherit;">No entanto, o fato de eu ter apenas essa fonte de alimenta√ß√£o significa que posso expandir os recursos do sistema. </font><font style="vertical-align: inherit;">Por exemplo, substitua o Raspberry Pi 3 por Raspberry Pi 4.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Storage Armazenamento de dados</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um dos novos recursos agrad√°veis ‚Äã‚Äãdo Raspberry Pi 4 √© a presen√ßa na placa de duas portas USB 3.0 conectadas ao BCM2711 SoC usando uma conex√£o PCIe extremamente r√°pida. Gra√ßas a isso, pode-se esperar alcan√ßar taxas de dados muito altas. Decidi que estava usando essas portas USB 3.0 para conectar SSDs usando os adaptadores M.2 NVMe para USB 3.0. No entanto, como se viu, era muito dif√≠cil encontrar esses adaptadores. Sugeri ingenuamente que qualquer adaptador funcionaria para mim. Como resultado, comprei o primeiro adaptador desse tipo sem verificar sua compatibilidade com o Raspberry Pi 4. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Felizmente, deparei-me com </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">isso.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Guia de download do Raspberry Pi 4 e comprei o adaptador Shinestar M.2 NVMe para USB 3.0 recomendado. </font><font style="vertical-align: inherit;">Tinha quase o mesmo tamanho do M.2 NVMe 2280 (22 mm de largura e 80 mm de comprimento), o que √© √≥timo para o gabinete Pico 5S. </font><font style="vertical-align: inherit;">Usei o adaptador para conectar o SSD 970 EVO Plus M.2 PCIe NVMe 500 da Samsung ao Raspberry Pi.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/92e/5a5/1e9/92e5a51e924bcfe0c77ef14278917734.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adaptador NVMe M.2 para USB 3.0</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Depois de instalar e configurar tudo, decidi testar rapidamente a unidade e descobrir a velocidade de transfer√™ncia de dados. </font><font style="vertical-align: inherit;">Para fazer isso, copiei um arquivo grande do SSD para o meu laptop usando</font></font><code>scp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<code>$ scp pi@master:&lt;source&gt; &lt;destination&gt;<br>
100% 1181MB 39.0MB/s 00:30</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O resultado de 39 Mb / s me decepcionou. Esses n√∫meros est√£o longe dos necess√°rios para carregar completamente o comutador Gigabit Ethernet. Comecei a procurar um poss√≠vel gargalo no sistema e percebi que, durante a transfer√™ncia de arquivos, um dos n√∫cleos do processador √© sempre 100% carregado. Depois que descobri que o processador era o gargalo na transfer√™ncia de dados, descobri rapidamente que o Raspberry Pi 4 n√£o tem suporte de hardware AES, pois a Broadcom e a Raspberry Pi Foundation n√£o licenciavam extens√µes criptogr√°ficas ARMv8. Curiosamente, o processador √© o gargalo do sistema no Raspberry Pi 4, enquanto os gargalos do Raspberry Pi 3 eram USB 2.0 e interfaces de rede. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um novo teste usando </font></font><code>netcat</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, nas mesmas condi√ß√µes, deu resultados muito melhores a 104 Mb / s:</font></font><br>
<br>
<pre><code class="bash hljs">$ nc -l 6000 |dd bs=1m of=&lt;destination&gt; &amp; ssh pi@master <span class="hljs-string">"dd bs=1M if=&lt;source&gt; | nc -q 0 <span class="hljs-subst">$(hostname -I | awk '{print $1}')</span> 6000"</span><font></font>
[1] 71300 71301<font></font>
1181+1 records <span class="hljs-keyword">in</span><font></font>
1181+1 records out<font></font>
1238558304 bytes (1.2 GB, 1.2 GiB) copied, 11.8632 s, 104 MB/s<font></font>
0+740624 records <span class="hljs-keyword">in</span><font></font>
0+740624 records out<font></font>
1238558304 bytes transferred <span class="hljs-keyword">in</span> 14.212518 secs (87145593 bytes/sec)<font></font>
[1]&nbsp; + 71300 <span class="hljs-keyword">done</span> &nbsp; &nbsp; &nbsp; nc -l 6000 |<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;71301 <span class="hljs-keyword">done</span> &nbsp; &nbsp; &nbsp; dd bs=1m of=&lt;destination&gt;
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois de lidar com a primeira unidade SSD, conectei a segunda mesma unidade a outra placa Raspberry Pi 4. Vou usar essa unidade para fazer backup da primeira usando algo como </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Restic</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al√©m disso, pretendo usar SSDs para organizar a inicializa√ß√£o usando a inicializa√ß√£o de armazenamento em massa USB imediatamente ap√≥s o Raspberry Pi 4 suportar totalmente esse m√©todo de inicializa√ß√£o. </font><font style="vertical-align: inherit;">Em compara√ß√£o com o download do microSD, promete uma velocidade mais alta e um n√≠vel de desempenho mais est√°vel.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Programas</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como programador, pensei que seria mais f√°cil lidar com a parte de software do cluster do que com outras perguntas. </font><font style="vertical-align: inherit;">Os resultados do maravilhoso trabalho em </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">k3s</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> realizado pela equipe Rancher </font><font style="vertical-align: inherit;">definitivamente me ajudaram aqui </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">N√£o entrarei em detalhes espec√≠ficos sobre a configura√ß√£o de um cluster Kubernetes em um Raspberry Pi usando o k3s aqui. </font><font style="vertical-align: inherit;">Para quem estiver interessado, recomendo consultar </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">este</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> guia. </font><font style="vertical-align: inherit;">Aqui est√£o os principais pontos para configurar nos quais gostaria de me concentrar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para iniciar, em cada n√≥, ative </font></font><code>cgroups</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo sed -i <span class="hljs-string">'$ s/$/ cgroup_enable=cpuset cgroup_memory=1 cgroup_enable=memory/'</span> /boot/cmdline.txt<font></font>
$ sudo reboot<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, instale o k3s no n√≥ principal:</font></font><br>
<br>
<pre><code class="bash hljs">$ curl -sfL https://get.k3s.io | sh -s - --write-kubeconfig-mode 644
<span class="hljs-comment">#   </span><font></font>
$ sudo systemctl status k3s<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora, obtemos um token que autoriza a conex√£o dos n√≥s de trabalho com o n√≥ principal:</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo cat /var/lib/rancher/k3s/server/node-token
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida - instale o k3s em cada n√≥ de trabalho:</font></font><br>
<br>
<pre><code class="bash hljs">$ curl -sfL https://get.k3s.io | K3S_URL=<span class="hljs-string">"https://&lt;MASTER_IP&gt;:6443"</span> K3S_TOKEN=<span class="hljs-string">"&lt;NODE_TOKEN&gt;"</span> sh -
<span class="hljs-comment">#   </span><font></font>
$ sudo systemctl status k3s-agent<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se voc√™ planeja usar o registro interno de imagens de cont√™iner, instalado por padr√£o, pode ser necess√°rio configur√°-lo de uma maneira especial, para fazer com que as </font></font><code>containerd</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">imagens </font><font style="vertical-align: inherit;">sejam </font><font style="vertical-align: inherit;">carregadas a partir dele:</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo sh -c <span class="hljs-string">'REGISTRY=$(kubectl get svc -n kube-system registry -o jsonpath={.spec.clusterIP}); \
cat &lt;&lt;EOT &gt;&gt; /etc/rancher/k3s/registries.yaml
mirrors:
&nbsp;&nbsp;"$REGISTRY":
&nbsp;&nbsp;&nbsp;&nbsp;endpoint:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- "http://$REGISTRY"
EOT'</span><font></font>
$ sudo service k3s restart<font></font>
</code></pre><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Planos futuros</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Neste material, n√£o divulguei alguns t√≥picos importantes que merecem uma an√°lise suficientemente profunda. </font><font style="vertical-align: inherit;">Por exemplo, o seguinte:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gerenciamento de energia de software de n√≥s de trabalho e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dimensionamento autom√°tico de cluster</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instalar uma ventoinha PWM e ajustar sua velocidade, levando em considera√ß√£o os indicadores de temperatura do sistema.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instale o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pi-Hole</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> no Kubernetes usando o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MetalLB</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Talvez eu escreva mais sobre isso. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al√©m disso, pretendo continuar trabalhando no cluster, fazendo o seguinte:</font></font><br>
<br>
<ul>
<li>  SSD-   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">USB mass storage boot</a>.</li>
<li>       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Restic</a>.</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tenho certeza de que, quando falei sobre minha experi√™ncia na cria√ß√£o do cluster dom√©stico Kubernetes, esqueci muito. </font><font style="vertical-align: inherit;">Sou programador e estou acostumado a uma divis√£o bastante heterog√™nea de grandes tarefas em casos menores. </font><font style="vertical-align: inherit;">A experi√™ncia demonstrou que o hardware √© muito menos tolerante que o software quando se trata de trabalho de tentativa e erro. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em geral, quanto mais eu descubro, maior admira√ß√£o em mim √© causada pelas modernas tecnologias de hardware e software. </font><font style="vertical-align: inherit;">Surpreende-me como a engenhosidade de uma pessoa foi capaz de combinar fen√¥menos el√©tricos e linguagens de programa√ß√£o, tornando-a algo que pode ser considerado um exemplo de como os controles da consci√™ncia s√£o importantes. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Queridos leitores! </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voc√™ tentou fazer algo semelhante ao que o autor deste artigo descreveu?</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt493696/index.html">Acelerando o Subsistema de Disco Qemu KVM no Linux</a></li>
<li><a href="../pt493700/index.html">Usando malware no Azure para obter acesso aos inquilinos do Microsoft 365</a></li>
<li><a href="../pt493702/index.html">Transi√ß√£o maci√ßa para o trabalho remoto: problemas t√©cnicos e amea√ßas √† seguran√ßa</a></li>
<li><a href="../pt493704/index.html">Usando TypeScript em JavaScript sem escrever TypeScript</a></li>
<li><a href="../pt493706/index.html">Conhe√ßa o seu inimigo: crie um backdoor do Node.js.</a></li>
<li><a href="../pt493712/index.html">Novos recursos TypeScript para usabilidade aprimorada</a></li>
<li><a href="../pt493714/index.html">Folhas de dicas de seguran√ßa: Nodejs</a></li>
<li><a href="../pt493716/index.html">Digite infer√™ncia no TypeScript usando a constru√ß√£o as const e a palavra-chave infer</a></li>
<li><a href="../pt493718/index.html">Discuss√£o: utilit√°rios UNIX padr√£o que poucos usaram e est√£o usando atualmente</a></li>
<li><a href="../pt493720/index.html">A tempestade perfeita: como a tecnologia est√° mudando a ind√∫stria de servi√ßos de alimenta√ß√£o</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>