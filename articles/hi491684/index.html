<!doctype html>
<html class="no-js" lang="hi">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯзФЁЯП╜ ЁЯО╛ ЁЯСитАНтЪЦя╕П рд╕реНрд╡рддрдВрддреНрд░ рдореЛрд░реНрдЪрд╛ ЁЯИВя╕П ЁЯСитАНЁЯСзтАНЁЯСж ЁЯНР</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="GoF, рдкреНрдпреЛрд░ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░, рдкрд░рдлреЗрдХреНрдЯ рдХреЛрдб - рдЯреНрд░реВ рдкреНрд░реЛрдЧреНрд░рд╛рдорд░ рдХреА рд╣реИрдВрдбрдмреБрдХред рд▓реЗрдХрд┐рди рдлреНрд░рдВрдЯ-рдПрдВрдб рдХреА рджреБрдирд┐рдпрд╛ рдореЗрдВ, рдЗрди рдкреБрд╕реНрддрдХреЛрдВ рдХреЗ рдХрдИ рд╡рд┐рдЪрд╛рд░ рдЙрдкрд▓рдмреНрдз рдирд╣реАрдВ рд╣реИрдВред рд╡рд╛рд╕реНрддрд╡рд┐рдХ рджреБрди...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>рд╕реНрд╡рддрдВрддреНрд░ рдореЛрд░реНрдЪрд╛</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/491684/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GoF, рдкреНрдпреЛрд░ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░, рдкрд░рдлреЗрдХреНрдЯ рдХреЛрдб - рдЯреНрд░реВ рдкреНрд░реЛрдЧреНрд░рд╛рдорд░ рдХреА рд╣реИрдВрдбрдмреБрдХред </font><font style="vertical-align: inherit;">рд▓реЗрдХрд┐рди рдлреНрд░рдВрдЯ-рдПрдВрдб рдХреА рджреБрдирд┐рдпрд╛ рдореЗрдВ, рдЗрди рдкреБрд╕реНрддрдХреЛрдВ рдХреЗ рдХрдИ рд╡рд┐рдЪрд╛рд░ рдЙрдкрд▓рдмреНрдз рдирд╣реАрдВ рд╣реИрдВред </font><font style="vertical-align: inherit;">рд╡рд╛рд╕реНрддрд╡рд┐рдХ рджреБрдирд┐рдпрд╛ рдореЗрдВ рдХрдо рд╕реЗ рдХрдо рд╕рдорд╛рдирддрд╛ рдмрд╣реБрдд рдореБрд╢реНрдХрд┐рд▓ рд╣реИред </font><font style="vertical-align: inherit;">рд╢рд╛рдпрдж рдЖрдзреБрдирд┐рдХ рд╕реАрдорд╛рдВрдд рд╕рдордп рд╕реЗ рдкрд╣рд▓реЗ рд╣реИ? </font><font style="vertical-align: inherit;">рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ "рдХрд╛рд░реНрдпрд╛рддреНрдордХ" рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рдФрд░ рд░рд┐рдПрдХреНрдЯ рдкрд╣рд▓реЗ рд╣реА рдУрдУрдкреА рдкрд░ рдЕрдкрдиреА рд╢реНрд░реЗрд╖реНрдарддрд╛ рд╕рд╛рдмрд┐рдд рдХрд░ рдЪреБрдХреЗ рд╣реЛрдВ? </font><font style="vertical-align: inherit;">рдЗрд╕ рд▓реЗрдЦ рдореЗрдВ, рдореИрдВ рдПрдХ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЯреВрдбреВ-рд╕реВрдЪреА</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдПрдкреНрд▓рд┐рдХреЗрд╢рди </font><font style="vertical-align: inherit;">рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рджреЗрдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВ </font><font style="vertical-align: inherit;">рдЬрд┐рд╕реЗ рдореИрдВрдиреЗ рдХреНрд▓рд╛рд╕рд┐рдХ рдХрд┐рддрд╛рдмреЛрдВ рдореЗрдВ рд╡рд░реНрдгрд┐рдд рд╕рд┐рджреНрдзрд╛рдВрддреЛрдВ рдФрд░ рджреГрд╖реНрдЯрд┐рдХреЛрдгреЛрдВ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХреА рдереАред</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдврд╛рдВрдЪрд╛ рдирд┐рд░реНрднрд░рддрд╛</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд░реВрдкрд░реЗрдЦрд╛ рдЖрдзреБрдирд┐рдХ рдореЛрд░реНрдЪреЗ рдХреА рдЖрдзрд╛рд░рд╢рд┐рд▓рд╛ рд╣реИред Hh.ru рдкрд░ рд░рд┐рдХреНрддрд┐рдпрд╛рдВ рд░рд┐рдПрдХреНрдЯ рдмрдирд╛рдо рдПрдВрдЧреБрд▓рд░ рдмрдирд╛рдо рд╡реА рдбреЗрд╡рд▓рдкрд░реНрд╕ рд╣реИрдВред рдореИрдВрдиреЗ рдЗрдирдореЗрдВ рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рдЪреМрдЦрдЯреЗ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд┐рдпрд╛, рдФрд░ рдмрд╣реБрдд рд▓рдВрдмреЗ рд╕рдордп рддрдХ рдореИрдВ рдпрд╣ рдирд╣реАрдВ рд╕рдордЭ рд╕рдХрд╛ рдХрд┐ рдореБрдЭреЗ 3 рд╕рд╛рд▓ рд╕реЗ Vue рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдирд╛ рдкрдбрд╝рд╛ рдерд╛ рдПрдХ рдмрдЯрди рдХреЛ рд▓рд╛рд▓ рд╕реЗ рдмреИрдВрдЧрдиреА рд░рдВрдЧ рддрдХ? рдореБрдЭреЗ рдпрд╣ рдЬрд╛рдирдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдХрд┐ рдПрдХ рд╣реА рдмрдЯрди рдХреЛ рдмрд╛рдПрдВ рд╕реЗ рджрд╛рдПрдВ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкреНрд░реЛрдЯреЛрдЯрд╛рдЗрдк, рдпрд╛ рдЗрд╡реЗрдВрдЯ рд▓реВрдк рдХреЗ рд╕рд┐рджреНрдзрд╛рдВрдд рдкрд░ рдХреИрд╕реЗ рд╡рд╛рд░ рдХрд┐рдпрд╛ рдЬрд╛рдП? рдЗрд╕рдХрд╛ рдЙрддреНрддрд░ рд╕рд░рд▓ рд╣реИ - рд╣рдо рд▓рд╛рдЗрдмреНрд░реЗрд░реА-рдмрд╛рдЙрдВрдб рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд▓рд┐рдЦрддреЗ рд╣реИрдВред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдХреНрдпреЛрдВ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рд▓рдВрдмреЗ рдЕрдиреБрднрд╡ рд╡рд╛рд▓реА рдХрдВрдкрдирд┐рдпрд╛рдВ рд╣реИрдВ? </font><font style="vertical-align: inherit;">рд╣рд╛рдВ, рдХреНрдпреЛрдВрдХрд┐ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЗрд╕ рд░рд┐рдПрдХреНрдЯ рдХреА рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдкрд░ рдЕрддреНрдпрдзрд┐рдХ рдирд┐рд░реНрднрд░ рд╣реИ, рдФрд░ рдмрдЯрди рдХреЛ рджреЛрд╣рд░рд╛рддреЗ рд╕рдордп рдХреБрдЫ рднреА рдирд╣реАрдВ рддреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдЕрдкрдиреЗ рд╕рд┐рд░ рдХреЛ рддреЛрдбрд╝рдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ рдХреИрд╕реЗ рдкрд░рд┐рд╡рд░реНрддрди рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдШрдЯрдХ рдкреЗрдбрд╝ рдХреЗ рд░рд┐рдПрдХреНрд╢рди рдХреЗ рдЕрдВрджрд░ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдпрд╣ рдмрдЯрди рдХреЛ рдлрд┐рд░ рд╕реЗ рджрдмрд╛рдиреЗ рдХреЗ рдХрд╛рд░реНрдп рд╕реЗ рдХреИрд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИред </font><font style="vertical-align: inherit;">(рдореИрдВ рдорд╛рдирддрд╛ рд╣реВрдВ, рдпреЗ рд╕рднреА рд╡рд┐рд╢реЗрд╖ рдорд╛рдорд▓реЗ рд╣реИрдВ ... рдФрд░ рдЖрдкрдХреА рдХрдВрдкрдиреА рдореЗрдВ, рдХреНрдпрд╛ рдЖрдк рдврд╛рдВрдЪреЗ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рдЕрдиреБрднрд╡ рдХреЗ рдмрд┐рдирд╛ рд╡рд┐рд╢реЗрд╖рдЬреНрдЮ рд▓реЗрдиреЗ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рд╣реИрдВ?)</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рднрд╛рд╖рд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП рдХрд╛рд░реНрдпрдХреНрд░рдо, рднрд╛рд╖рд╛ рдирд╣реАрдВред </font><font style="vertical-align: inherit;">(рдореИрдХрдХреЛрдиреЗрд▓) рдПрдХ </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдврд╛рдВрдЪрд╛ рдПрдХ рдЙрдкрдХрд░рдг рд╣реИ, рдЬреАрд╡рди рдХрд╛ рдПрдХ рддрд░реАрдХрд╛ рдирд╣реАрдВ рд╣реИред </font><font style="vertical-align: inherit;">(рдорд╛рд░реНрдЯрд┐рди)</font></font><br>
</blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдореЛрд░реНрдЪреЗ рдХреА рджреБрдирд┐рдпрд╛ рдХреЗ рд▓рд┐рдП, рдпреЗ рд╢реЛрдз рд╕рдмрд╕реЗ рдЕрдЪреНрдЫрд╛ рдЦрд╛рд▓реА рд╡рд╛рдХреНрдпрд╛рдВрд╢ рд╣реИрдВ, рдФрд░ рд╡рд┐рдкрд░реАрдд рд╕рд╛рдмрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдмрд╕реЗ рдЦрд░рд╛рдм рдЪреБрдиреМрддреА рд╣реИред </font><font style="vertical-align: inherit;">рдЖрдЗрдП рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рджрд╕реНрддрд╛рд╡реЗрдЬ рджреЗрдЦреЗрдВ, рдФрд░ рдПрдХ рд╕рд░рд▓ рдЯреВрдбреВ-рд╕реВрдЪреА рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рджреЗрдЦреЗрдВред</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рд╡реЗрдмрд╕рд╛рдЗрдЯ рд╕реЗ рдЯреВрдбреВ-рд╕реВрдЪреА рдХрд╛ рдЙрджрд╛рд╣рд░рдг</font></font></b><div class="spoiler_text"><pre><code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TodoApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{
  <span class="hljs-keyword">constructor</span>(props) {
    <span class="hljs-keyword">super</span>(props);
    <span class="hljs-keyword">this</span>.state = { <span class="hljs-attr">items</span>: [], <span class="hljs-attr">text</span>: <span class="hljs-string">''</span> };
    <span class="hljs-keyword">this</span>.handleChange = <span class="hljs-keyword">this</span>.handleChange.bind(<span class="hljs-keyword">this</span>);
    <span class="hljs-keyword">this</span>.handleSubmit = <span class="hljs-keyword">this</span>.handleSubmit.bind(<span class="hljs-keyword">this</span>);<font></font>
  }<font></font>
<font></font>
  render() {<font></font>
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span> <span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">TodoList</span> <span class="hljs-attr">items</span>=<span class="hljs-string">{this.state.items}</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">{this.handleSubmit}</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">htmlFor</span>=<span class="hljs-string">"new-todo"</span>&gt;</span>
              ?
          <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
            <span class="hljs-attr">id</span>=<span class="hljs-string">"new-todo"</span>
            <span class="hljs-attr">onChange</span>=<span class="hljs-string">{this.handleChange}</span>
            <span class="hljs-attr">value</span>=<span class="hljs-string">{this.state.text}</span>
          /&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>
             #{this.state.items.length + 1}
          <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><font></font>
    );<font></font>
  }<font></font>
<font></font>
  handleChange(e) {<font></font>
    <span class="hljs-keyword">this</span>.setState({ <span class="hljs-attr">text</span>: e.target.value });<font></font>
  }<font></font>
<font></font>
  handleSubmit(e) {<font></font>
    e.preventDefault();<font></font>
    <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.state.text.length) {
      <span class="hljs-keyword">return</span>;<font></font>
    }<font></font>
    <span class="hljs-keyword">const</span> newItem = {
      <span class="hljs-attr">text</span>: <span class="hljs-keyword">this</span>.state.text,
      <span class="hljs-attr">id</span>: <span class="hljs-built_in">Date</span>.now()<font></font>
    };<font></font>
    <span class="hljs-keyword">this</span>.setState(<span class="hljs-function"><span class="hljs-params">state</span> =&gt;</span> ({
      <span class="hljs-attr">items</span>: state.items.concat(newItem),
      <span class="hljs-attr">text</span>: <span class="hljs-string">''</span><font></font>
    }));<font></font>
  }<font></font>
}<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TodoList</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{<font></font>
  render() {<font></font>
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
        {this.props.items.map(item =&gt; (
          <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{item.id}</span>&gt;</span>{item.text}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        ))}
      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><font></font>
    );<font></font>
  }<font></font>
}<font></font>
</code></pre><br>
</div></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">тАЬ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рд╣рд╛рд░рд╛</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдФрд░ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд░рд╛рдЬреНрдп</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ </font><font style="vertical-align: inherit;">, рдЖрдк рдПрдХ рдЫреЛрдЯреА рд╕реА рдЯреВ-рдбреВ рд╕реВрдЪреА рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рдЗрд╕ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ, </font><font style="vertical-align: inherit;">рддрддреНрд╡реЛрдВ рдХреА рд╡рд░реНрддрдорд╛рди рд╕реВрдЪреА рдХреЛ рдЯреНрд░реИрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд░рд╛рдЬреНрдп рдХрд╛</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ </font><font style="vertical-align: inherit;">рд╣реИ ... "</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
рдиреМрд╕рд┐рдЦрд┐рдП рдкреНрд░реЛрдЧреНрд░рд╛рдорд░ рдХреЗ рд▓рд┐рдП (рдЕрд░реНрдерд╛рдд, рдореБрдЭреЗ рдХреБрдЫ рд╕рд╛рд▓ рдкрд╣рд▓реЗ), рдпрд╣ рд╡рд╛рдХреНрдпрд╛рдВрд╢ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЖрдЙрдЯрдкреБрдЯ рдЙрддреНрдкрдиреНрди рдХрд░рддрд╛ рд╣реИ:" рдпрд╣рд╛рдВ рдПрдХ рдЯреВрдбреВ-рд╕реВрдЪреА рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХрд╛ рдПрдХ рдЖрджрд░реНрд╢ рдЙрджрд╛рд╣рд░рдг рд╣реИ "ред </font><font style="vertical-align: inherit;">рд▓реЗрдХрд┐рди рдШрдЯрдХ рдореЗрдВ рд░рд╛рдЬреНрдп рдХреЛ рдХреМрди рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддрд╛ рд╣реИ? </font><font style="vertical-align: inherit;">рдЗрд╕рдХреЗ рд▓рд┐рдП рдПрдХ рд░рд╛рдЬреНрдп рдкреНрд░рдмрдВрдзрди рдкреБрд╕реНрддрдХрд╛рд▓рдп рд╣реИред </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redux рдкреНрд░рд▓реЗрдЦрди рд╕реЗ рдПрдХ рдЯреВрдбреВ-рд╕реВрдЪреА рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
рд╣рд╛рдВ, рдпрд╣ рд╣реИ рдХрд┐ рдХреИрд╕реЗ рдЖрд╡реЗрджрди рдЕрдзрд┐рдХ рд╕рдордЭ рдореЗрдВ рдЖ рдЧрдпрд╛ рд╣реИ рдФрд░ рд╕рд░рд▓ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(рдирд╣реАрдВ) рд╣реИ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред </font><font style="vertical-align: inherit;">рдХреНрдпрд╛ рд╣рдо рдирд┐рд░реНрднрд░рддрд╛ рдХреЛ рд╕рд╣реА рджрд┐рд╢рд╛ рдореЗрдВ рдЦреАрдВрдЪрдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ?</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реНрд╡рддрдВрддреНрд░ рдирд┐рд░реНрдгрдп</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЖрдЗрдП, рдЯреВрдбреВ-рд▓рд┐рд╕реНрдЯ рдХреА рд╕рдорд╕реНрдпрд╛ рдХреЛ рдлреНрд░рдВрдЯ-рдПрдВрдб рдХреЗ рд░реВрдк рдореЗрдВ рдирд╣реАрдВ рджреЗрдЦреЗрдВ, рдЕрд░реНрдерд╛рдд, рдпрд╣ рднреВрд▓ рдЬрд╛рдПрдВ рдХрд┐ рд╣рдореЗрдВ рдПрдЪрдЯреАрдПрдордПрд▓ ("рд╡реЗрдм рдПрдХ рд╡рд┐рд╡рд░рдг рд╣реИ") рдЖрдХрд░реНрд╖рд┐рдд рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред </font><font style="vertical-align: inherit;">рд╣рдо рдЕрдкрдиреА рдЖрдВрдЦреЛрдВ рд╕реЗ рдкрд░рд┐рдгрд╛рдо рдХреА рдЬрд╛рдВрдЪ рдирд╣реАрдВ рдХрд░ рдкрд╛рдПрдВрдЧреЗ, рдЗрд╕рд▓рд┐рдП рд╣рдореЗрдВ рдкрд░реАрдХреНрд╖рдг рд▓рд┐рдЦрдирд╛ рд╣реЛрдЧрд╛ (рдЬреИрд╕рд╛ рдХрд┐ рдЕрдВрдХрд▓ рдмреЙрдм рдХрд╣рддреЗ рд╣реИрдВ, "рдЖрдк TDD рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ")ред </font><font style="vertical-align: inherit;">рдФрд░ рдХрд╛рд░реНрдп рдХреНрдпрд╛ рд╣реИ? </font><font style="vertical-align: inherit;">рдЯреВрдбреВ-рд╕реВрдЪреА рдХреНрдпрд╛ рд╣реИ? </font><font style="vertical-align: inherit;">рд╣рдо рд▓рд┐рдЦрдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░ рд░рд╣реЗ рд╣реИрдВред</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Todo.spec.ts</font></font></b><div class="spoiler_text"><pre><code class="javascript hljs"><span class="hljs-keyword">import</span> { Todo } <span class="hljs-keyword">from</span> <span class="hljs-string">'./Todo'</span>;<font></font>
<font></font>
describe(<span class="hljs-string">'Todo'</span>, () =&gt; {
  <span class="hljs-keyword">let</span> todo: Todo;<font></font>
<font></font>
  beforeEach(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {<font></font>
    todo = <span class="hljs-keyword">new</span> Todo(<span class="hljs-string">'description'</span>);<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+getItems() should returns Todo[]'</span>, () =&gt; {<font></font>
    expect(todo.getTitle()).toBe(<span class="hljs-string">'description'</span>);<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+isCompleted() should returns completion flag'</span>, () =&gt; {<font></font>
    expect(todo.isCompleted()).toBe(<span class="hljs-literal">false</span>);<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+toggleCompletion() should invert completion flag'</span>, () =&gt; {<font></font>
    todo.toggleCompletion();<font></font>
    expect(todo.isCompleted()).toBe(<span class="hljs-literal">true</span>);<font></font>
  });<font></font>
});<font></font>
</code></pre><br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TodoList.spec.ts</font></font></b><div class="spoiler_text"><pre><code class="javascript hljs"><span class="hljs-keyword">import</span> { TodoList } <span class="hljs-keyword">from</span> <span class="hljs-string">'./TodoList'</span>;<font></font>
<font></font>
describe(<span class="hljs-string">'TodoList'</span>, () =&gt; {
  <span class="hljs-keyword">let</span> todoList: TodoList;<font></font>
<font></font>
  beforeEach(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {<font></font>
    todoList = <span class="hljs-keyword">new</span> TodoList();<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+getItems() should returns Todo[]'</span>, () =&gt; {<font></font>
    expect(todoList.getItems()).toEqual([]);<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+add() should create item and add to collection'</span>, () =&gt; {<font></font>
    todoList.add(<span class="hljs-string">'Write tests'</span>);<font></font>
    expect(todoList.getItems()).toHaveLength(<span class="hljs-number">1</span>);<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+add() should create item with the description'</span>, () =&gt; {
    <span class="hljs-keyword">const</span> description = <span class="hljs-string">'Write tests'</span>;<font></font>
    todoList.add(description);<font></font>
    <span class="hljs-keyword">const</span> [item] = todoList.getItems();<font></font>
    expect(item.getTitle()).toBe(description);<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+getCompletedItems() should not returns uncompleted Todo[]'</span>, () =&gt; {
    <span class="hljs-keyword">const</span> description = <span class="hljs-string">'Write tests'</span>;<font></font>
    todoList.add(description);<font></font>
    expect(todoList.getCompletedItems()).toEqual([]);<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+getCompletedItems() should returns completed Todo[]'</span>, () =&gt; {
    <span class="hljs-keyword">const</span> description = <span class="hljs-string">'Write tests'</span>;<font></font>
    todoList.add(description);<font></font>
    <span class="hljs-keyword">const</span> [item] = todoList.getItems();<font></font>
    item.toggleCompletion();<font></font>
    expect(todoList.getCompletedItems()).toEqual([item]);<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+getUncompletedItems() should returns uncompleted Todo[]'</span>, () =&gt; {
    <span class="hljs-keyword">const</span> description = <span class="hljs-string">'Write tests'</span>;<font></font>
    todoList.add(description);<font></font>
    <span class="hljs-keyword">const</span> [item] = todoList.getItems();<font></font>
    expect(todoList.getUncompletedItems()).toEqual([item]);<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+getUncompletedItems() should not returns completed Todo[]'</span>, () =&gt; {
    <span class="hljs-keyword">const</span> description = <span class="hljs-string">'Write tests'</span>;<font></font>
    todoList.add(description);<font></font>
    <span class="hljs-keyword">const</span> [item] = todoList.getItems();<font></font>
    item.toggleCompletion();<font></font>
    expect(todoList.getUncompletedItems()).toEqual([]);<font></font>
  });<font></font>
});<font></font>
</code></pre><br>
</div></div><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Todo</span> </span>{<font></font>
  private completed: boolean = <span class="hljs-literal">false</span>;<font></font>
<font></font>
  <span class="hljs-keyword">constructor</span>(private description: string) {}<font></font>
<font></font>
  getTitle(): string {<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.description;<font></font>
  }<font></font>
<font></font>
  isCompleted(): boolean {<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.completed;<font></font>
  }<font></font>
<font></font>
  toggleCompletion(): <span class="hljs-keyword">void</span> {
    <span class="hljs-keyword">this</span>.completed = !<span class="hljs-keyword">this</span>.completed;<font></font>
  }<font></font>
}<font></font>
</code></pre><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> { Todo } <span class="hljs-keyword">from</span> <span class="hljs-string">'./Todo'</span>;<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TodoList</span> </span>{<font></font>
  private items: Todo[] = [];<font></font>
<font></font>
  getItems(): Todo[] {<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.items;<font></font>
  }<font></font>
<font></font>
  getCompletedItems(): Todo[] {<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.items.filter(<span class="hljs-function">(<span class="hljs-params">todo</span>) =&gt;</span> todo.isCompleted());<font></font>
  }<font></font>
<font></font>
  getUncompletedItems(): Todo[] {<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.items.filter(<span class="hljs-function">(<span class="hljs-params">todo</span>) =&gt;</span> !todo.isCompleted());<font></font>
  }<font></font>
<font></font>
  add(description: string): <span class="hljs-keyword">void</span> {
    <span class="hljs-keyword">this</span>.items.push(<span class="hljs-keyword">new</span> Todo(description));<font></font>
  }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдореЗрдВ рд╕реВрдЪрдирд╛рддреНрдордХ рдЗрдВрдЯрд░рдлреЗрд╕ рдХреЗ рд╕рд╛рде рджреЛ рд╕рд░рд▓ рдХрдХреНрд╖рд╛рдПрдВ рдорд┐рд▓рддреА рд╣реИрдВред </font><font style="vertical-align: inherit;">рдпрд╣реА рдмрд╛рдд рд╣реИ рди? </font><font style="vertical-align: inherit;">рдЯреЗрд╕реНрдЯ рдкрд╛рд╕ рдХрд░рддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рдЕрдм рд░рд┐рдПрдХреНрдЯ рдЙрдард╛рдПрдВред</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;<font></font>
<font></font>
<span class="hljs-keyword">import</span> { TodoList } <span class="hljs-keyword">from</span> <span class="hljs-string">'./core/TodoList'</span>;<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{
  <span class="hljs-attr">todoList</span>: TodoList = <span class="hljs-keyword">this</span>.createTodoList();<font></font>
<font></font>
  render(): any {<font></font>
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">React.Fragment</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">header</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Todo List App<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">main</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">TodoListCmp</span> <span class="hljs-attr">todoList</span>=<span class="hljs-string">{this.todoList}</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">TodoListCmp</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">AddTodoCmp</span> <span class="hljs-attr">todoList</span>=<span class="hljs-string">{this.todoList}</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">AddTodoCmp</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">React.Fragment</span>&gt;</span></span><font></font>
    );<font></font>
  }<font></font>
<font></font>
  private createTodoList(): TodoList {<font></font>
    <span class="hljs-keyword">const</span> todoList = <span class="hljs-keyword">new</span> TodoList();<font></font>
    todoList.add(<span class="hljs-string">'Initial created Todo'</span>);
    <span class="hljs-keyword">return</span> todoList;<font></font>
  }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> TodoListCmp: React.FC&lt;{ <span class="hljs-attr">todoList</span>: TodoList }&gt; = <span class="hljs-function">(<span class="hljs-params">{ todoList }</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>What to do?<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
        {todoList.getItems().map((todo) =&gt; (
          <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{todo.getTitle()}</span>&gt;</span>{todo.getTitle()}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        ))}
      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><font></font>
  );<font></font>
};<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> AddTodoCmp: React.FC&lt;{ <span class="hljs-attr">todoList</span>: TodoList }&gt; = <span class="hljs-function">(<span class="hljs-params">{ todoList }</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> todoList.add(`Todo ${todoList.getItems().length}`)}&gt;Add<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>;<font></font>
};<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдФрд░ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ ... рдХреЛрдИ рдЖрдЗрдЯрдо рдЬреЛрдбрд╝рдирд╛ рдХрд╛рдо рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рд╣рдореНрдо ... рдЕрдм рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд╣реИ рдХрд┐ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд░рд╛рдЬреНрдп</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдореЗрдВ рд╕рдм рдХреБрдЫ рдХреНрдпреЛрдВ рд▓рд┐рдЦрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП </font><font style="vertical-align: inherit;">- рддрд╛рдХрд┐ рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдиреЗ рдХреЗ рдмрд╛рдж рд░рд┐рдПрдХреНрдЯ рдШрдЯрдХ рдлрд┐рд░ рд╕реЗ рддреИрдпрд╛рд░ рд╣реЛ рдЬрд╛рдПред </font><font style="vertical-align: inherit;">рд▓реЗрдХрд┐рди рдХреНрдпрд╛ рдпрд╣ рд╕рднреА рд╕рдВрднрд╛рд╡рд┐рдд рд╕рд┐рджреНрдзрд╛рдВрддреЛрдВ рдХрд╛ рдЙрд▓реНрд▓рдВрдШрди рдХрд░рдиреЗ рдФрд░ рджреГрд╢реНрдп рдШрдЯрдХ рдореЗрдВ рддрд░реНрдХ рд░рдЦрдиреЗ рдХрд╛ рдПрдХ рдХрд╛рд░рдг рд╣реИ? </font><font style="vertical-align: inherit;">рдереЛрдбрд╝рд╛ рдзреИрд░реНрдп рдФрд░ рд╕рд╛рд╣рд╕ред </font><font style="vertical-align: inherit;">рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдХ рдЕрдирдВрдд рд▓реВрдк рдпрд╛ </font></font></s> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдСрдмреНрдЬрд░реНрд╡рд░ рдкреИрдЯрд░реНрди </font></font></a><font style="vertical-align: inherit;"><s><font style="vertical-align: inherit;">рдореЗрдВ рдлреЛрд░реНрд╕рдЕрдкрдбреЗрдЯ () рдХреЙрд▓рд┐рдВрдЧ</font></s><font style="vertical-align: inherit;"> рдПрдХрджрдо рд╕рд╣реА рд╣реИ </font><font style="vertical-align: inherit;">ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдореБрдЭреЗ рдЖрд░рдПрдХреНрд╕рдЬреЗ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдкрд╕рдВрдж рд╣реИ, рд▓реЗрдХрд┐рди рдореИрдВ рдЗрд╕реЗ рдХрдиреЗрдХреНрдЯ рдирд╣реАрдВ рдХрд░реВрдВрдЧрд╛, рд▓реЗрдХрд┐рди рд╣рдорд╛рд░реЗ рдХрд╛рдо рдХреЗ рд▓рд┐рдП рдЬрд░реВрд░реА рдЗрд╕рдХреА рдПрдкреАрдЖрдИ рдХреЙрдкреА рдХрд░реЗрдВред</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Observable.spec.ts</font></font></b><div class="spoiler_text"><pre><code class="javascript hljs"><span class="hljs-keyword">import</span> { Observable, Subject } <span class="hljs-keyword">from</span> <span class="hljs-string">'./Observable'</span>;<font></font>
<font></font>
describe(<span class="hljs-string">'Observable'</span>, () =&gt; {
  <span class="hljs-keyword">let</span> subject: Subject&lt;any&gt;;
  <span class="hljs-keyword">let</span> observable: Observable&lt;any&gt;;<font></font>
<font></font>
  beforeEach(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {<font></font>
    subject = <span class="hljs-keyword">new</span> Subject();<font></font>
    observable = subject.asObservable();<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'should call callback on next value'</span>, <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">const</span> spy = jasmine.createSpy();<font></font>
    observable.subscribe(spy);<font></font>
    subject.next({});<font></font>
    <span class="hljs-keyword">await</span> delay();<font></font>
    expect(spy).toHaveBeenCalled();<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'should not call callback on next value if unsubscribed'</span>, <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">const</span> spy = jasmine.createSpy();
    <span class="hljs-keyword">const</span> subscription = observable.subscribe(spy);<font></font>
    subscription.unsubscribe();<font></font>
    subject.next({});<font></font>
    <span class="hljs-keyword">await</span> delay();<font></font>
    expect(spy).not.toHaveBeenCalled();<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'should send to callback subject.next value'</span>, <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">const</span> spy = jasmine.createSpy();<font></font>
    observable.subscribe(spy);<font></font>
    <span class="hljs-keyword">const</span> sendingValue = {};<font></font>
    subject.next(sendingValue);<font></font>
    <span class="hljs-keyword">await</span> delay();<font></font>
    expect(spy.calls.first().args[<span class="hljs-number">0</span>]).toBe(sendingValue);<font></font>
  });<font></font>
});<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">delay</span>(<span class="hljs-params">timeoutInMs?: number</span>): <span class="hljs-title">Promise</span>&lt;<span class="hljs-title">void</span>&gt; </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> setTimeout(resolve, timeoutInMs));<font></font>
}<font></font>
</code></pre><br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Observable.ts</font></font></b><div class="spoiler_text"><pre><code class="javascript hljs"><span class="hljs-keyword">export</span> interface Observable&lt;T = unknown&gt; {<font></font>
  subscribe(onNext: <span class="hljs-function">(<span class="hljs-params">value: T</span>) =&gt;</span> <span class="hljs-keyword">void</span>): Subscription;<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> interface Subscription {<font></font>
  unsubscribe(): <span class="hljs-keyword">void</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Subject</span>&lt;<span class="hljs-title">T</span> </span>= unknown&gt; implements Observable&lt;T&gt; {<font></font>
  protected callbackSet: <span class="hljs-built_in">Set</span>&lt;<span class="hljs-function">(<span class="hljs-params">value: T</span>) =&gt;</span> <span class="hljs-keyword">void</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Set</span>();<font></font>
<font></font>
  asObservable(): Observable&lt;T&gt; {<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;<font></font>
  }<font></font>
<font></font>
  subscribe(onNext: <span class="hljs-function">(<span class="hljs-params">value: T</span>) =&gt;</span> <span class="hljs-keyword">void</span>): Subscription {
    <span class="hljs-keyword">this</span>.callbackSet.add(onNext);
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">unsubscribe</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">this</span>.callbackSet.delete(onNext) };<font></font>
  }<font></font>
<font></font>
  next(value: T): <span class="hljs-keyword">void</span> {
    <span class="hljs-built_in">Promise</span>.resolve().then(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">this</span>.callbackSet.forEach(<span class="hljs-function">(<span class="hljs-params">onNext</span>) =&gt;</span> onNext(value)));<font></font>
  }<font></font>
}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдореЗрд░реА рд░рд╛рдп рдореЗрдВ, рдХреБрдЫ рднреА рдЬрдЯрд┐рд▓ рдирд╣реАрдВ рд╣реИред </font><font style="vertical-align: inherit;">рдПрдХ рдкрд░реАрдХреНрд╖рдг рдЬреЛрдбрд╝реЗрдВ (рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреА рд╕реВрдЪрдирд╛ - рд╡рд╣ рддрд░реНрдХ рд╣реИ)ред</font></font><br>
<br>
<pre><code class="javascript hljs">  it(<span class="hljs-string">'+TodoList.prototype.add() should emit changes'</span>, <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">const</span> spy = jasmine.createSpy();<font></font>
    todoList.changes.subscribe(spy);<font></font>
    todoList.add(<span class="hljs-string">'description'</span>);
    <span class="hljs-keyword">await</span> delay();<font></font>
    expect(spy).toHaveBeenCalled();<font></font>
  });</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЖрдЗрдП рдПрдХ рдкрд▓ рдХреЗ рд▓рд┐рдП рд╕реЛрдЪреЗрдВ, рд▓реЗрдХрд┐рди рдХреНрдпрд╛ рдПрдХ рдЯреЛрдбреЛ рддрддреНрд╡ рдореЗрдВ рдмрджрд▓рд╛рд╡ рд╕реЗ рдЯреЛрдбреЛрд▓рд┐рд╕реНрдЯ рдХреА рд╕реНрдерд┐рддрд┐ рдкреНрд░рднрд╛рд╡рд┐рдд рд╣реЛрддреА рд╣реИ? рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░рддрд╛ рд╣реИ - getCompletedItems / getUncompletedItems рд╡рд┐рдзрд┐рдпреЛрдВ рдХреЛ рддрддреНрд╡реЛрдВ рдХрд╛ рдПрдХ рдЕрд▓рдЧ рд╕реЗрдЯ рд╡рд╛рдкрд╕ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдпрд╣ рдЯреЙрдбрд▓рд┐рд╕реНрдЯ рд╡рд░реНрдЧ рдХреЛ рдЯреЙрдЧрд▓ рдХреЙрдордкреНрд▓реЗрдХреНрд╢рди рдореЗрдВ рд▓реЗ рдЬрд╛рдиреЗ рд▓рд╛рдпрдХ рд╣реЛ? рдпрд╣ рдПрдХ рдмреБрд░рд╛ рд╡рд┐рдЪрд╛рд░ рд╣реИ - рдЗрд╕ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХреЗ рд╕рд╛рде, рд╣рдореЗрдВ рдПрдХ рдирдпрд╛ рдЯреЛрдбреЛ-рддрддреНрд╡ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╣рд░ рд╕реБрд╡рд┐рдзрд╛ рдХреЗ рд▓рд┐рдП рдЯреЛрдбрд▓рд┐рд╕реНрдЯ рдХреЛ рдмрдврд╝рд╛рдирд╛ рд╣реЛрдЧрд╛ (рд╣рдо рдЗрд╕ рдкрд░ рдмрд╛рдж рдореЗрдВ рд▓реМрдЯреЗрдВрдЧреЗ)ред рд▓реЗрдХрд┐рди рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреИрд╕реЗ рд╕реАрдЦрдирд╛ рд╣реИ, рдлрд┐рд░ рд╕реЗ рдкреНрд░реЗрдХреНрд╖рдХ? рдЪреАрдЬреЛрдВ рдХреЛ рд╕рд░рд▓ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдЯреЛрдбреЛ-рддрддреНрд╡ рдХреЛ рдХреЙрд▓рдмреИрдХ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХрд╛ рд╕рдВрдЪрд╛рд░ рдХрд░рдиреЗ рджреЗрдВред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдХрд╛рд░реНрдпрдХреНрд░рдо рдХрд╛ рдкреВрд░реНрдг рд╕рдВрд╕реНрдХрд░рдг рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрддрд╛ рд╣реИред</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { Observable, Subject } <span class="hljs-keyword">from</span> <span class="hljs-string">'src/utils/Observable'</span>;
<span class="hljs-keyword">import</span> { generateId } <span class="hljs-keyword">from</span> <span class="hljs-string">'src/utils/generateId'</span>;<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Todo</span> </span>{<font></font>
  private completed: boolean = <span class="hljs-literal">false</span>;<font></font>
<font></font>
  id: string = generateId();<font></font>
<font></font>
  <span class="hljs-keyword">constructor</span>(private description: string, private onCompletionToggle?: (todo: Todo) =&gt; void) {}<font></font>
<font></font>
  getTitle(): string {<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.description;<font></font>
  }<font></font>
<font></font>
  isCompleted(): boolean {<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.completed;<font></font>
  }<font></font>
<font></font>
  toggleCompletion(): <span class="hljs-keyword">void</span> {
    <span class="hljs-keyword">this</span>.completed = !<span class="hljs-keyword">this</span>.completed;
    <span class="hljs-keyword">this</span>.onCompletionToggle?.(<span class="hljs-keyword">this</span>);<font></font>
  }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TodoList</span> </span>{<font></font>
  private items: Todo[] = [];<font></font>
  private changesSubject = <span class="hljs-keyword">new</span> Subject();<font></font>
<font></font>
  readonly changes: Observable = <span class="hljs-keyword">this</span>.changesSubject.asObservable();<font></font>
<font></font>
  getItems(): Todo[] {<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.items;<font></font>
  }<font></font>
<font></font>
  getCompletedItems(): Todo[] {<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.items.filter(<span class="hljs-function">(<span class="hljs-params">todo</span>) =&gt;</span> todo.isCompleted());<font></font>
  }<font></font>
<font></font>
  getUncompletedItems(): Todo[] {<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.items.filter(<span class="hljs-function">(<span class="hljs-params">todo</span>) =&gt;</span> !todo.isCompleted());<font></font>
  }<font></font>
<font></font>
  add(description: string): <span class="hljs-keyword">void</span> {
    <span class="hljs-keyword">this</span>.items.push(<span class="hljs-keyword">new</span> Todo(description, () =&gt; <span class="hljs-keyword">this</span>.changesSubject.next({})));
    <span class="hljs-keyword">this</span>.changesSubject.next({});<font></font>
  }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{
  <span class="hljs-attr">todoList</span>: TodoList = <span class="hljs-keyword">this</span>.createTodoList();<font></font>
<font></font>
  render(): any {<font></font>
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">React.Fragment</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">header</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Todo List App<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">main</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">TodoListCmp</span> <span class="hljs-attr">todoList</span>=<span class="hljs-string">{this.todoList}</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">TodoListCmp</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">AddTodoCmp</span> <span class="hljs-attr">todoList</span>=<span class="hljs-string">{this.todoList}</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">AddTodoCmp</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">React.Fragment</span>&gt;</span></span><font></font>
    );<font></font>
  }<font></font>
<font></font>
  componentDidMount(): <span class="hljs-keyword">void</span> {
    <span class="hljs-keyword">this</span>.todoList.changes.subscribe(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">this</span>.forceUpdate());<font></font>
  }<font></font>
<font></font>
  private createTodoList(): TodoList {<font></font>
    <span class="hljs-keyword">const</span> todoList = <span class="hljs-keyword">new</span> TodoList();<font></font>
    todoList.add(<span class="hljs-string">'Initial created Todo'</span>);
    <span class="hljs-keyword">return</span> todoList;<font></font>
  }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> TodoListCmp: React.FC&lt;{ <span class="hljs-attr">todoList</span>: TodoList }&gt; = <span class="hljs-function">(<span class="hljs-params">{ todoList }</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>What to do?<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
        {todoList.getUncompletedItems().map((todo) =&gt; (
          <span class="hljs-tag">&lt;<span class="hljs-name">TodoCmp</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{todo.id}</span> <span class="hljs-attr">todo</span>=<span class="hljs-string">{todo}</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">TodoCmp</span>&gt;</span>
        ))}
        {todoList.getCompletedItems().map((todo) =&gt; (
          <span class="hljs-tag">&lt;<span class="hljs-name">TodoCmp</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{todo.id}</span> <span class="hljs-attr">todo</span>=<span class="hljs-string">{todo}</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">TodoCmp</span>&gt;</span>
        ))}
      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><font></font>
  );<font></font>
};<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> TodoCmp: React.FC&lt;{ <span class="hljs-attr">todo</span>: Todo }&gt; = <span class="hljs-function">(<span class="hljs-params">{ todo }</span>) =&gt;</span> (
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span>
    <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">textDecoration:</span> <span class="hljs-attr">todo.isCompleted</span>() ? '<span class="hljs-attr">line-through</span>' <span class="hljs-attr">:</span> '' }}
    <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> todo.toggleCompletion()}
  &gt;
    {todo.getTitle()}
  <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><font></font>
);<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> AddTodoCmp: React.FC&lt;{ <span class="hljs-attr">todoList</span>: TodoList }&gt; = <span class="hljs-function">(<span class="hljs-params">{ todoList }</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> todoList.add(`Todo ${todoList.getItems().length}`)}&gt;Add<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>;<font></font>
};<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдРрд╕рд╛ рдкреНрд░рддреАрдд рд╣реЛрддрд╛ рд╣реИ рдХрд┐ рдлреНрд░реЗрдорд╡рд░реНрдХ рд╕реЗ рд╕реНрд╡рддрдВрддреНрд░ рдЯреВрдбреВ-рд╕реВрдЪреА рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдХреНрдпрд╛ рджреЗрдЦрдирд╛ рдЪрд╛рд╣рд┐рдПред </font><font style="vertical-align: inherit;">рдХреЗрд╡рд▓ рд╕реАрдорд╛ рдкреАрдПрд▓ рд╣реИред </font><font style="vertical-align: inherit;">рдЖрдк рдХрдВрд╕реЛрд▓ рдХреЗ рд▓рд┐рдП рдкреНрд░рджрд░реНрд╢рди рдХреЛ рд▓рд╛рдЧреВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдпрд╛ рдХреЛрдгреАрдп рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╢рд╛рдпрдж рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдХрд╛ рд╡рд░реНрддрдорд╛рди рд╕рдВрд╕реНрдХрд░рдг рдЗрддрдирд╛ рдЬрдЯрд┐рд▓ рдирд╣реАрдВ рд╣реИ рдХрд┐ рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░ рд╕рдХреЗ рдХрд┐ рдПрдХ рд╕реНрд╡рддрдВрддреНрд░ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХрд╛рдо рдХрд░ рд░рд╣рд╛ рд╣реИ рдФрд░ рдЕрдкрдиреА рддрд╛рдХрдд рдХрд╛ рдкреНрд░рджрд░реНрд╢рди рдХрд░ рд░рд╣рд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдЗрд╕рд▓рд┐рдП, рд╣рдо рдЕрдкрдиреА рдХрд▓реНрдкрдирд╛ рдХреЛ рдЕрдзрд┐рдХ рдпрд╛ рдХрдо рдкреНрд░рд╢рдВрд╕рдиреАрдп рдЯреВрдбреВ-рд╕реВрдЪреА рд╡рд┐рдХрд╛рд╕ рдкрд░рд┐рджреГрд╢реНрдп рд╕реЗ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдЬреЛрдбрд╝рддреЗ рд╣реИрдВред</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЧреНрд░рд╛рд╣рдХ рд╕реЗ рд╕рдВрдкрд╛рджрди</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрдзрд┐рдХрд╛рдВрд╢ рдкрд░рд┐рдпреЛрдЬрдирд╛рдУрдВ рдХрд╛ рдореБрдЦреНрдп рджреБрдГрд╕реНрд╡рдкреНрди рдЖрд╡рд╢реНрдпрдХрддрд╛рдУрдВ рдХреЛ рдмрджрд▓ рд░рд╣рд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдЖрдк рдЬрд╛рдирддреЗ рд╣реИрдВ рдХрд┐ рд╕рдВрдкрд╛рджрди рд╕реЗ рдмрдЪрд╛ рдирд╣реАрдВ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдФрд░ рдЖрдк рдЬрд╛рдирддреЗ рд╣реИрдВ рдХрд┐ рдпрд╣ рд╕рд╛рдорд╛рдиреНрдп рд╣реИред </font><font style="vertical-align: inherit;">рд▓реЗрдХрд┐рди рдЖрдк рднрд╡рд┐рд╖реНрдп рдХреЗ рдмрджрд▓рд╛рд╡реЛрдВ рдХреЗ рд▓рд┐рдП рдХреИрд╕реЗ рддреИрдпрд╛рд░ рд╣реЛрддреЗ рд╣реИрдВ?</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╡рд┐рд╢реЗрд╖ рдЯреЛрдбреЛ рддрддреНрд╡</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
OOP рдХреА рдкреНрд░рдореБрдЦ рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдореЗрдВ рд╕реЗ рдПрдХ рдирдП рдкреНрд░рдХрд╛рд░ рдХреА рд╢реБрд░реВрдЖрдд рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рд╣реИред рд╢рд╛рдпрдж рдпрд╣ рд╕рдмрд╕реЗ рд╢рдХреНрддрд┐рд╢рд╛рд▓реА рдУрдУрдкреА рддрдХрдиреАрдХ рд╣реИ рдЬреЛ рдПрдХ рдЬрдЯрд┐рд▓ рдФрд░ рдмреЛрдЭрд┐рд▓ рдХрд╛рд░реНрдпрдХреНрд░рдо рдХреЛ рдПрдХрд▓ рд░реВрдк рд╕реЗ рдмрд╛рд╣рд░ рдирд┐рдХрд╛рд▓ рд╕рдХрддреА рд╣реИред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдореБрдЭреЗ рдирд╣реАрдВ рдкрддрд╛ рдХрд┐ рдЯреЛрдбреЛ рддрддреНрд╡ рдХреА рдХреНрдпрд╛ рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред рдЗрд╕рдХрд╛ рдирд╛рдо рдмрджрд▓рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реЛрдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рдЕрддрд┐рд░рд┐рдХреНрдд рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХреЛ рдЬреЛрдбрд╝рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рдЗрд╕ рддрддреНрд╡ рдХреЛ рд╕реНрдкреЗрд╕рдПрдХреНрд╕ рд╕рд░реНрд╡рд░ рддрдХ рд╕реАрдзреЗ рдкрд╣реБрдВрдЪ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдмрджрд▓рдирд╛ рд╕рдВрднрд╡ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ ... рд▓реЗрдХрд┐рди рдореБрдЭреЗ рдпрдХреАрди рд╣реИ рдХрд┐ рдЖрд╡рд╢реНрдпрдХрддрд╛рдУрдВ рдореЗрдВ рдмрджрд▓рд╛рд╡ рд╣реЛрдЧрд╛, рдФрд░ рдореБрдЭреЗ рд╡рд┐рднрд┐рдиреНрди рдкреНрд░рдХрд╛рд░ рдХреЗ рдЯреЛрдбреЛ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">EditableTodo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Todo</span> </span>{<font></font>
  changeTitle(title: string): <span class="hljs-keyword">void</span> {
    <span class="hljs-keyword">this</span>.title = title;
    <span class="hljs-keyword">this</span>.onChange?.(<span class="hljs-keyword">this</span>);<font></font>
  }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдРрд╕рд╛ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдПрдХ рд╡рд┐рд╢реЗрд╖ рдкреНрд░рдХрд╛рд░ рдХреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ рджреГрд╢реНрдп рдШрдЯрдХреЛрдВ рдХреЛ рднреА рдмрджрд▓рдирд╛ рд╣реЛрдЧрд╛ред рд╡реНрдпрд╡рд╣рд╛рд░ рдореЗрдВ, рдореБрдЭреЗ рдорд┐рд▓реЗ (рдФрд░ рд▓рд┐рдЦреЗ рдЧрдП) рдШрдЯрдХ рдЬрд┐рд╕рдореЗрдВ рдПрдХ рд▓рд╛рдЦ рдЕрд▓рдЧ-рдЕрд▓рдЧ рд╕реНрдерд┐рддрд┐рдпрд╛рдВ рдЬрд┐рд░рд╛рдл рд╕реЗ рдПрдХ рдорд╢реАрди рдмреНрд▓реЙрдХ рдореЗрдВ рдПрдХ рдбрд┐рд╡ рдмреНрд▓реЙрдХ рдХреЛ рдмрджрд▓ рджреЗрддреА рд╣реИрдВред рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рд╕реЗ рдмрдЪрдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдк рдПрдХ рд╡рд┐рд╢рд╛рд▓ рд╕реНрд╡рд┐рдЪ-рдХреЗрд╕ рд╕реВрдЪреА рдХреЗ рд╕рд╛рде рдПрдХ рдШрдЯрдХ рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВред рдпрд╛ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╡рд┐рдЬрд╝рд┐рдЯрд░ рдкреИрдЯрд░реНрди</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдФрд░ рджреЛрд╣рд░реА рдкреНрд░реЗрд╖рдг </font><font style="vertical-align: inherit;">рд▓рд╛рдЧреВ рдХрд░реЗрдВ </font><font style="vertical-align: inherit;">, рдФрд░ рдЯреЛрдбреЛ рддрддреНрд╡ рдХреЛ рдЦреБрдж рддрдп рдХрд░рдиреЗ рджреЗрдВ рдХрд┐ рдХрд┐рд╕ рдкреНрд░рдХрд╛рд░ рдХреЗ рдШрдЯрдХ рдХреЛ рдЖрдХрд░реНрд╖рд┐рдд рдХрд░рдирд╛ рд╣реИред</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Todo</span> </span>{
  <span class="hljs-attr">id</span>: string = <span class="hljs-string">''</span>;<font></font>
<font></font>
  <span class="hljs-keyword">constructor</span>(<font></font>
    protected title: string,<font></font>
    private completed: boolean = false,<font></font>
    protected onChange?: (todo: Todo) =&gt; void,<font></font>
  ) {}<font></font>
<font></font>
  getTitle(): string {<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.title;<font></font>
  }<font></font>
<font></font>
  isCompleted(): boolean {<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.completed;<font></font>
  }<font></font>
<font></font>
  toggleCompletion(): <span class="hljs-keyword">void</span> {
    <span class="hljs-keyword">this</span>.completed = !<span class="hljs-keyword">this</span>.completed;
    <span class="hljs-keyword">this</span>.onChange?.(<span class="hljs-keyword">this</span>);<font></font>
  }<font></font>
<font></font>
  render(renderer: TodoRenderer): any {<font></font>
    <span class="hljs-keyword">return</span> renderer.renderSimpleTodo(<span class="hljs-keyword">this</span>);<font></font>
  }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">EditableTodo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Todo</span> </span>{<font></font>
  changeTitle(title: string): <span class="hljs-keyword">void</span> {
    <span class="hljs-keyword">this</span>.title = title;
    <span class="hljs-keyword">this</span>.onChange?.(<span class="hljs-keyword">this</span>);<font></font>
  }<font></font>
<font></font>
  render(renderer: TodoRenderer): any {<font></font>
    <span class="hljs-keyword">return</span> renderer.renderEditableTodo(<span class="hljs-keyword">this</span>);<font></font>
  }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TodoRenderer</span> </span>{<font></font>
  renderSimpleTodo(todo: Todo): any {<font></font>
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">SimpleTodoCmp</span> <span class="hljs-attr">todo</span>=<span class="hljs-string">{todo}</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">SimpleTodoCmp</span>&gt;</span></span>;<font></font>
  }<font></font>
<font></font>
  renderFixedTodo(todo: Todo): any {<font></font>
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">FixedTodoCmp</span> <span class="hljs-attr">todo</span>=<span class="hljs-string">{todo}</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">FixedTodoCmp</span>&gt;</span></span>;<font></font>
  }<font></font>
<font></font>
  renderEditableTodo(todo: EditableTodo): any {<font></font>
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">EditableTodoCmp</span> <span class="hljs-attr">todo</span>=<span class="hljs-string">{todo}</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">EditableTodoCmp</span>&gt;</span></span>;<font></font>
  }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рджреЛрд╣рд░реА рдкреНрд░реЗрд╖рдг рд╡рд┐рдХрд▓реНрдк рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдЙрдкрдпреЛрдЧреА рд╣реЛрддрд╛ рд╣реИ рдЬрдм рдПрдХ рдкреНрд░рдХрд╛рд░ рдХреЗ рдЖрдЗрдЯрдо рдореЗрдВ рдЕрд▓рдЧ-рдЕрд▓рдЧ рд╡рд┐рдЪрд╛рд░ рд╣реЛрддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рдЖрдк рдЙрдиреНрд╣реЗрдВ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдЯреЛрдбрд░реЗрдВрдбрд░ рдХреЛ рд░реЗрдВрдбрд░ рд╡рд┐рдзрд┐ рдореЗрдВ рдмрджрд▓рдХрд░ рдмрджрд▓ рд╕рдХрддреЗ рд╣реИрдВред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрдм рд╣рдо рддреИрдпрд╛рд░ рд╣реИрдВред </font><font style="vertical-align: inherit;">"рд╡рд┐рд╢реЗрд╖" рдЯреЛрдбреЛ рддрддреНрд╡реЛрдВ рдХреЗ рд▓рд┐рдП рдирдИ рдорд╛рдВрдЧреЛрдВ рдХрд╛ рдбрд░ рдЧрд╛рдпрдм рд╣реЛ рдЧрдпрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдбреЗрд╡рд▓рдкрд░реНрд╕ рдЦреБрдж рдкрд╣рд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ рдХреБрдЫ рдРрд╕реЗ рдлреАрдЪрд░реНрд╕ рдкреЗрд╢ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬрд┐рдирдХреЗ рд▓рд┐рдП рдирдП рдкреНрд░рдХрд╛рд░реЛрдВ рдХреА рд╢реБрд░реБрдЖрдд рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рдЬреЛ рдЕрдм рдирдП рдХреЛрдб рдФрд░ рдореМрдЬреВрджрд╛ рдореЗрдВ рдиреНрдпреВрдирддрдо рдкрд░рд┐рд╡рд░реНрддрди рд▓рд┐рдЦрдХрд░ рдЬреЛрдбрд╝реЗ рдЬрд╛рддреЗ рд╣реИрдВред</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рд░реНрд╡рд░ рдкрд░ рдбреЗрдЯрд╛ рдХреА рдмрдЪрдд</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╕рд░реНрд╡рд░ рдХреЗ рд╕рд╛рде рдмрд╛рддрдЪреАрдд рдХреЗ рдмрд┐рдирд╛ рдХрд┐рд╕ рддрд░рд╣ рдХрд╛ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рд╣реИ? </font><font style="vertical-align: inherit;">рдмреЗрд╢рдХ, рдЖрдкрдХреЛ HTTP рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╣рдорд╛рд░реА рд╕реВрдЪреА рдХреЛ рдмрдЪрд╛рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП - рдПрдХ рдФрд░ рдирдИ рдЖрд╡рд╢реНрдпрдХрддрд╛ред </font><font style="vertical-align: inherit;">рд╣рдо рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░ рд░рд╣реЗ рд╣реИрдВред</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AppTodoList.spec.ts</font></font></b><div class="spoiler_text"><pre><code class="javascript hljs"><span class="hljs-keyword">import</span> { delay } <span class="hljs-keyword">from</span> <span class="hljs-string">'src/utils/delay'</span>;
<span class="hljs-keyword">import</span> { TodoType } <span class="hljs-keyword">from</span> <span class="hljs-string">'../core/TodoFactory'</span>;
<span class="hljs-keyword">import</span> { AppTodoList } <span class="hljs-keyword">from</span> <span class="hljs-string">'./AppTodoList'</span>;<font></font>
<font></font>
describe(<span class="hljs-string">'AppTodoList'</span>, () =&gt; {
  <span class="hljs-keyword">let</span> todoList: AppTodoList;<font></font>
<font></font>
  beforeEach(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {<font></font>
    todoList = <span class="hljs-keyword">new</span> AppTodoList({
      <span class="hljs-attr">getItems</span>: <span class="hljs-keyword">async</span> () =&gt; [{ <span class="hljs-attr">type</span>: TodoType.Simple, <span class="hljs-attr">title</span>: <span class="hljs-string">'Loaded todo'</span>, <span class="hljs-attr">completed</span>: <span class="hljs-literal">false</span> }],
      <span class="hljs-attr">save</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> delay(),<font></font>
    });<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+resolve() should load saved todo items'</span>, <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">await</span> todoList.resolve();<font></font>
    expect(todoList.getItems().length).toBeGreaterThan(<span class="hljs-number">0</span>);<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+resolve() should emit changes'</span>, <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">const</span> spy = jasmine.createSpy();<font></font>
    todoList.changes.subscribe(spy);<font></font>
    <span class="hljs-keyword">await</span> todoList.resolve();
    <span class="hljs-keyword">await</span> delay(<span class="hljs-number">1</span>);<font></font>
    expect(spy).toHaveBeenCalled();<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+add() should emit changes'</span>, <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">const</span> spy = jasmine.createSpy();<font></font>
    todoList.changes.subscribe(spy);<font></font>
    todoList.add({ <span class="hljs-attr">title</span>: <span class="hljs-string">''</span> });
    <span class="hljs-keyword">await</span> delay(<span class="hljs-number">1</span>);<font></font>
    expect(spy).toHaveBeenCalled();<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+add() should emit changes after resolve()'</span>, <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">const</span> spy = jasmine.createSpy();<font></font>
    todoList.changes.subscribe(spy);<font></font>
    <span class="hljs-keyword">await</span> todoList.resolve();<font></font>
    todoList.add({ <span class="hljs-attr">title</span>: <span class="hljs-string">''</span> });
    <span class="hljs-keyword">await</span> delay(<span class="hljs-number">1</span>);<font></font>
    expect(spy).toHaveBeenCalledTimes(<span class="hljs-number">2</span>);<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+todo.onChange() should emit changes'</span>, <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">await</span> todoList.resolve();
    <span class="hljs-keyword">await</span> delay(<span class="hljs-number">1</span>);
    <span class="hljs-keyword">const</span> spy = jasmine.createSpy();<font></font>
    todoList.changes.subscribe(spy);<font></font>
    <span class="hljs-keyword">const</span> [todo] = todoList.getItems();<font></font>
    todo.toggleCompletion();<font></font>
    <span class="hljs-keyword">await</span> delay(<span class="hljs-number">1</span>);<font></font>
    expect(spy).toHaveBeenCalled();<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+add() should call TodoListApi.save'</span>, <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">const</span> spy = jasmine.createSpy();<font></font>
    todoList = <span class="hljs-keyword">new</span> AppTodoList({ <span class="hljs-attr">getItems</span>: <span class="hljs-keyword">async</span> () =&gt; [], <span class="hljs-attr">save</span>: <span class="hljs-keyword">async</span> () =&gt; spy() });<font></font>
    todoList.add({ <span class="hljs-attr">title</span>: <span class="hljs-string">''</span> });
    <span class="hljs-keyword">await</span> delay();<font></font>
    expect(spy).toHaveBeenCalled();<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+todo.onChange() should call TodoListApi.save'</span>, <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">const</span> spy = jasmine.createSpy();<font></font>
    todoList = <span class="hljs-keyword">new</span> AppTodoList({ <span class="hljs-attr">getItems</span>: <span class="hljs-keyword">async</span> () =&gt; [{ <span class="hljs-attr">title</span>: <span class="hljs-string">''</span> }], <span class="hljs-attr">save</span>: <span class="hljs-keyword">async</span> () =&gt; spy() });
    <span class="hljs-keyword">await</span> todoList.resolve();
    <span class="hljs-keyword">const</span> [todo] = todoList.getItems();<font></font>
    todo.toggleCompletion();<font></font>
    <span class="hljs-keyword">await</span> delay();<font></font>
    expect(spy).toHaveBeenCalled();<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+add() should save todoList state on success and rollback to it on error'</span>, <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">const</span> api = { <span class="hljs-attr">getItems</span>: <span class="hljs-keyword">async</span> () =&gt; [], <span class="hljs-attr">save</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-built_in">Promise</span>.resolve() };<font></font>
    todoList = <span class="hljs-keyword">new</span> AppTodoList(api);<font></font>
    todoList.add({ <span class="hljs-attr">title</span>: <span class="hljs-string">'1'</span> });
    <span class="hljs-keyword">await</span> delay(<span class="hljs-number">1</span>);
    <span class="hljs-keyword">const</span> savedData = <span class="hljs-built_in">JSON</span>.stringify(todoList.getItems());<font></font>
    api.save = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-built_in">Promise</span>.reject(<span class="hljs-string">'Mock saving failed'</span>);<font></font>
    todoList.add({ <span class="hljs-attr">title</span>: <span class="hljs-string">'2'</span> });<font></font>
    expect(todoList.getItems()).toHaveLength(<span class="hljs-number">2</span>);
    <span class="hljs-keyword">await</span> delay(<span class="hljs-number">1</span>);<font></font>
    expect(<span class="hljs-built_in">JSON</span>.stringify(todoList.getItems())).toBe(savedData);<font></font>
  });<font></font>
});<font></font>
</code></pre><br>
</div></div><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">export</span> interface TodoListApi {<font></font>
  getItems(): <span class="hljs-built_in">Promise</span>&lt;TodoParams[]&gt;;<font></font>
  save(todoParamsList: TodoParams[]): <span class="hljs-built_in">Promise</span>&lt;<span class="hljs-keyword">void</span>&gt;;<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AppTodoList</span> <span class="hljs-title">implements</span> <span class="hljs-title">TodoList</span> </span>{<font></font>
  private todoFactory = <span class="hljs-keyword">new</span> TodoFactory();<font></font>
  private changesSubject = <span class="hljs-keyword">new</span> Subject();<font></font>
<font></font>
  changes: Observable = <span class="hljs-keyword">this</span>.changesSubject.asObservable();<font></font>
<font></font>
  private state: TodoList = <span class="hljs-keyword">new</span> TodoListImp();<font></font>
  private subscription: Subscription = <span class="hljs-keyword">this</span>.state.changes.subscribe(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">this</span>.onStateChanges());<font></font>
  private synchronizedTodoParamsList: TodoParams[] = [];<font></font>
<font></font>
  <span class="hljs-keyword">constructor</span>(private api: TodoListApi) {}<font></font>
<font></font>
  <span class="hljs-keyword">async</span> resolve(): <span class="hljs-built_in">Promise</span>&lt;<span class="hljs-keyword">void</span>&gt; {
    <span class="hljs-keyword">const</span> todoParamsList = <span class="hljs-keyword">await</span> <span class="hljs-keyword">this</span>.api.getItems();
    <span class="hljs-keyword">this</span>.updateState(todoParamsList);<font></font>
  }<font></font>
<font></font>
  private updateState(todoParamsList: TodoParams[]): <span class="hljs-keyword">void</span> {
    <span class="hljs-keyword">const</span> todoList = <span class="hljs-keyword">new</span> TodoListImp(todoParamsList);
    <span class="hljs-keyword">this</span>.state = todoList;
    <span class="hljs-keyword">this</span>.subscription.unsubscribe();
    <span class="hljs-keyword">this</span>.subscription = todoList.changes.subscribe(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">this</span>.onStateChanges());
    <span class="hljs-keyword">this</span>.synchronizedTodoParamsList = todoParamsList;
    <span class="hljs-keyword">this</span>.changesSubject.next({});<font></font>
  }<font></font>
<font></font>
  private <span class="hljs-keyword">async</span> onStateChanges(): <span class="hljs-built_in">Promise</span>&lt;<span class="hljs-keyword">void</span>&gt; {
    <span class="hljs-keyword">this</span>.changesSubject.next({});
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> params = <span class="hljs-keyword">this</span>.state.getItems().map(<span class="hljs-function">(<span class="hljs-params">todo</span>) =&gt;</span> <span class="hljs-keyword">this</span>.todoFactory.serializeTodo(todo));
      <span class="hljs-keyword">await</span> <span class="hljs-keyword">this</span>.api.save(params);
      <span class="hljs-keyword">this</span>.synchronizedTodoParamsList = params;<font></font>
    } <span class="hljs-keyword">catch</span> {
      <span class="hljs-keyword">this</span>.updateState(<span class="hljs-keyword">this</span>.synchronizedTodoParamsList);<font></font>
    }<font></font>
  }<font></font>
<font></font>
  destroy(): <span class="hljs-keyword">void</span> {
    <span class="hljs-keyword">this</span>.subscription.unsubscribe();<font></font>
  }<font></font>
<font></font>
  getItems(): Todo[] {<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.state.getItems();<font></font>
  }<font></font>
<font></font>
  getCompletedItems(): Todo[] {<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.state.getCompletedItems();<font></font>
  }<font></font>
<font></font>
  getUncompletedItems(): Todo[] {<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.state.getUncompletedItems();<font></font>
  }<font></font>
<font></font>
  add(todoParams: TodoParams): <span class="hljs-keyword">void</span> {
    <span class="hljs-keyword">this</span>.state.add(todoParams);<font></font>
  }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдореЗрдВ рдирд╣реАрдВ рдкрддрд╛ рдХрд┐ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдХреИрд╕реЗ рд╡реНрдпрд╡рд╣рд╛рд░ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред </font><font style="vertical-align: inherit;">рд╕рдлрд▓ рд╣реЛрдиреЗ рдФрд░ рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рд╣реЗрдЬреЗрдВ рдХреА рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░реЗрдВ? </font><font style="vertical-align: inherit;">рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдВ, рдФрд░ рддреНрд░реБрдЯрд┐ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝ рд░рд╛рдЬреНрдп рдореЗрдВ рд╡рд╛рдкрд╕ рдЬрд╛рдПрдВ? </font><font style="vertical-align: inherit;">рдпрд╛ рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХреЛ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЕрдирджреЗрдЦрд╛ рдХрд░реЗрдВ? </font><font style="vertical-align: inherit;">рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ, рдЧреНрд░рд╛рд╣рдХ рдХреЛ рднреА рдпрд╣ рдкрддрд╛ рдирд╣реАрдВ рд╣реИред </font><font style="vertical-align: inherit;">рдЗрд╕рд▓рд┐рдП, рдЖрд╡рд╢реНрдпрдХрддрд╛рдУрдВ рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрди рдЕрдкрд░рд┐рд╣рд╛рд░реНрдп рд╣реИ, рд▓реЗрдХрд┐рди рдЙрдиреНрд╣реЗрдВ рд╕рдВрд░рдХреНрд╖рдг рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рдХреЗрд╡рд▓ рдПрдХ рд╡рд░реНрдЧ рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред </font><font style="vertical-align: inherit;">рдФрд░ рд░рд╛рд╕реНрддреЗ рдореЗрдВ рдЕрдЧрд▓рд╛ рдПрдбрд┐рдЯред</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрддрд┐рд╣рд╛рд╕ рдмрджрд▓реЗрдВ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
"рд╣рдореЗрдВ рдХрд╛рд░реНрд░рд╡рд╛рдИ / рд░рджреНрдж рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ" ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдРрд╕рд╛ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдирдП рд╕рдВрдкрд╛рджрди рдХреА рдПрдХ рд▓рд╣рд░ рд╣рдореЗрдВ рдЖрд╢реНрдЪрд░реНрдпрдЪрдХрд┐рдд рдХрд░рддреА рд╣реИред </font><font style="vertical-align: inherit;">рд▓реЗрдХрд┐рди рдХрд┐рд╕реА рднреА рдорд╛рдорд▓реЗ рдореЗрдВ, рдЖрдк рдкрд░реАрдХреНрд╖рдгреЛрдВ рдХрд╛ рддреНрдпрд╛рдЧ рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗред </font><font style="vertical-align: inherit;">рдЕрдм рдпрд╣ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рд╕реНрдкрд╖реНрдЯ рдирд╣реАрдВ рд╣реИ рдХрд┐ рд╡рдВрд╢рд╛рдиреБрдХреНрд░рдо рдкрджрд╛рдиреБрдХреНрд░рдо рдмреЗрд╣рддрд░ рдЕрдиреБрдХреВрд▓ рд╣реИ, рдФрд░ рдХреНрдпрд╛ рд╡рд┐рд░рд╛рд╕рдд рдЖрдорддреМрд░ рдкрд░ рдЙрдкрдпреБрдХреНрдд рд╣реИред </font><font style="vertical-align: inherit;">рдЗрд╕рд▓рд┐рдП, рдХреБрдЫ рднреА рдмреБрд░рд╛ рдирд╣реАрдВ рд╣реЛрдЧрд╛ рдпрджрд┐ рд╣рдо рдХреЗрд╡рд▓ рд╣рдорд╛рд░реЗ рдЧрдВрджреЗ рд╡рд░реНрдЧ рдХреЛ рдкреВрд░рдХ рдХрд░рддреЗ рд╣реИрдВ (рд╣рдо рдЗрд╕реЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рд╡рд┐рд╡рд░рдг рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВрдЧреЗ), рдПрдХрдорд╛рддреНрд░ рдЬрд┐рдореНрдореЗрджрд╛рд░реА рдХреЗ рд╕рд┐рджреНрдзрд╛рдВрдд рдХрд╛ рддреНрдпрд╛рдЧ рдХрд░рддреЗ рд╣реБрдПред</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TodoListHistory.spec.ts</font></font></b><div class="spoiler_text"><pre><code class="javascript hljs"><span class="hljs-keyword">import</span> { TodoParams } <span class="hljs-keyword">from</span> <span class="hljs-string">'src/core/TodoFactory'</span>;
<span class="hljs-keyword">import</span> { delay } <span class="hljs-keyword">from</span> <span class="hljs-string">'src/utils/delay'</span>;
<span class="hljs-keyword">import</span> { TodoListHistory } <span class="hljs-keyword">from</span> <span class="hljs-string">'./TodoListHistory'</span>;<font></font>
<font></font>
describe(<span class="hljs-string">'TodoListHistory'</span>, () =&gt; {
  <span class="hljs-keyword">let</span> history: TodoListHistory;<font></font>
<font></font>
  beforeEach(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {<font></font>
    history = <span class="hljs-keyword">new</span> TodoListHistory();<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+getState() should returns TodoParams[]'</span>, () =&gt; {<font></font>
    expect(history.getState()).toEqual([]);<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+setState() should rewrite current state'</span>, () =&gt; {
    <span class="hljs-keyword">const</span> newState = [{ <span class="hljs-attr">title</span>: <span class="hljs-string">''</span> }] <span class="hljs-keyword">as</span> TodoParams[];<font></font>
    history.setState(newState);<font></font>
    expect(history.getState()).toBe(newState);<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+hasPrev() should returns false on init'</span>, () =&gt; {<font></font>
    expect(history.hasPrev()).toBe(<span class="hljs-literal">false</span>);<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+hasPrev() should returns true after setState()'</span>, () =&gt; {<font></font>
    history.setState([]);<font></font>
    expect(history.hasPrev()).toBe(<span class="hljs-literal">true</span>);<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+switchToPrev() should switch on prev state'</span>, () =&gt; {
    <span class="hljs-keyword">const</span> prevState = [{ <span class="hljs-attr">title</span>: <span class="hljs-string">''</span> }] <span class="hljs-keyword">as</span> TodoParams[];<font></font>
    history.setState(prevState);<font></font>
    history.setState([]);<font></font>
    history.switchToPrev();<font></font>
    expect(history.getState()).toBe(prevState);<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+hasPrev() should returns false after switch to first'</span>, () =&gt; {<font></font>
    history.setState([]);<font></font>
    history.switchToPrev();<font></font>
    expect(history.hasPrev()).toBe(<span class="hljs-literal">false</span>);<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+hasNext() should returns false on init'</span>, () =&gt; {<font></font>
    expect(history.hasNext()).toBe(<span class="hljs-literal">false</span>);<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+hasNext() should returns true after switchToPrev()'</span>, () =&gt; {<font></font>
    history.setState([]);<font></font>
    history.switchToPrev();<font></font>
    expect(history.hasNext()).toBe(<span class="hljs-literal">true</span>);<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+switchToNext() should switch on next state'</span>, () =&gt; {
    <span class="hljs-keyword">const</span> prevState = [{ <span class="hljs-attr">title</span>: <span class="hljs-string">''</span> }] <span class="hljs-keyword">as</span> TodoParams[];<font></font>
    history.setState([]);<font></font>
    history.setState(prevState);<font></font>
    history.switchToPrev();<font></font>
    history.switchToNext();<font></font>
    expect(history.getState()).toBe(prevState);<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+hasNext() should returns false after switchToNext()'</span>, () =&gt; {<font></font>
    history.setState([]);<font></font>
    history.switchToPrev();<font></font>
    history.switchToNext();<font></font>
    expect(history.hasNext()).toBe(<span class="hljs-literal">false</span>);<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+hasNext() should returns false after setState()'</span>, () =&gt; {<font></font>
    history.setState([]);<font></font>
    history.switchToPrev();<font></font>
    history.setState([]);<font></font>
    expect(history.hasNext()).toBe(<span class="hljs-literal">false</span>);<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+switchToPrev() should switch on prev state after setState()'</span>, () =&gt; {
    <span class="hljs-keyword">const</span> prevState = [{ <span class="hljs-attr">title</span>: <span class="hljs-string">''</span> }] <span class="hljs-keyword">as</span> TodoParams[];<font></font>
    history.setState(prevState);<font></font>
    history.setState([]);<font></font>
    history.switchToPrev();<font></font>
    history.setState([]);<font></font>
    history.switchToPrev();<font></font>
    expect(history.getState()).toBe(prevState);<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+setState() should not emit changes'</span>, <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">const</span> spy = jasmine.createSpy();<font></font>
    history.changes.subscribe(spy);<font></font>
    history.setState([]);<font></font>
    <span class="hljs-keyword">await</span> delay();<font></font>
    expect(spy).not.toHaveBeenCalled();<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+switchToPrev() should emit changes'</span>, <span class="hljs-keyword">async</span> () =&gt; {<font></font>
    history.setState([]);<font></font>
    <span class="hljs-keyword">await</span> delay();
    <span class="hljs-keyword">const</span> spy = jasmine.createSpy();<font></font>
    history.changes.subscribe(spy);<font></font>
    history.switchToPrev();<font></font>
    <span class="hljs-keyword">await</span> delay();<font></font>
    expect(spy).toHaveBeenCalled();<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+switchToPrev() should emit changes'</span>, <span class="hljs-keyword">async</span> () =&gt; {<font></font>
    history.setState([]);<font></font>
    history.switchToPrev();<font></font>
    <span class="hljs-keyword">await</span> delay();
    <span class="hljs-keyword">const</span> spy = jasmine.createSpy();<font></font>
    history.changes.subscribe(spy);<font></font>
    history.switchToNext();<font></font>
    <span class="hljs-keyword">await</span> delay();<font></font>
    expect(spy).toHaveBeenCalled();<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+reset() should reset history and apply initial state'</span>, <span class="hljs-keyword">async</span> () =&gt; {<font></font>
    history.setState([]);<font></font>
    expect(history.hasPrev()).toBe(<span class="hljs-literal">true</span>);
    <span class="hljs-keyword">const</span> initState = [{ <span class="hljs-attr">title</span>: <span class="hljs-string">''</span> }] <span class="hljs-keyword">as</span> TodoParams[];<font></font>
    history.reset(initState);<font></font>
    expect(history.hasPrev()).toBe(<span class="hljs-literal">false</span>);<font></font>
    expect(history.getState()).toBe(initState);<font></font>
  });<font></font>
});<font></font>
</code></pre><br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AppTodoList.spec.ts</font></font></b><div class="spoiler_text"><pre><code class="javascript hljs"><span class="hljs-keyword">import</span> { delay } <span class="hljs-keyword">from</span> <span class="hljs-string">'src/utils/delay'</span>;
<span class="hljs-keyword">import</span> { TodoType } <span class="hljs-keyword">from</span> <span class="hljs-string">'../core/TodoFactory'</span>;
<span class="hljs-keyword">import</span> { AppTodoList } <span class="hljs-keyword">from</span> <span class="hljs-string">'./AppTodoList'</span>;<font></font>
<font></font>
describe(<span class="hljs-string">'AppTodoList'</span>, () =&gt; {
  <span class="hljs-keyword">let</span> todoList: AppTodoList;<font></font>
<font></font>
  beforeEach(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {<font></font>
    todoList = <span class="hljs-keyword">new</span> AppTodoList({
      <span class="hljs-attr">getItems</span>: <span class="hljs-keyword">async</span> () =&gt; [{ <span class="hljs-attr">type</span>: TodoType.Simple, <span class="hljs-attr">title</span>: <span class="hljs-string">'Loaded todo'</span>, <span class="hljs-attr">completed</span>: <span class="hljs-literal">false</span> }],
      <span class="hljs-attr">save</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> delay(),<font></font>
    });<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+resolve() should load saved todo items'</span>, <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">await</span> todoList.resolve();<font></font>
    expect(todoList.getItems().length).toBeGreaterThan(<span class="hljs-number">0</span>);<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+resolve() should emit changes'</span>, <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">const</span> spy = jasmine.createSpy();<font></font>
    todoList.changes.subscribe(spy);<font></font>
    <span class="hljs-keyword">await</span> todoList.resolve();
    <span class="hljs-keyword">await</span> delay();<font></font>
    expect(spy).toHaveBeenCalled();<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+add() should emit changes'</span>, <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">const</span> spy = jasmine.createSpy();<font></font>
    todoList.changes.subscribe(spy);<font></font>
    todoList.add({ <span class="hljs-attr">title</span>: <span class="hljs-string">''</span> });
    <span class="hljs-keyword">await</span> delay();<font></font>
    expect(spy).toHaveBeenCalled();<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+add() should emit changes after resolve()'</span>, <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">const</span> spy = jasmine.createSpy();<font></font>
    todoList.changes.subscribe(spy);<font></font>
    <span class="hljs-keyword">await</span> todoList.resolve();<font></font>
    todoList.add({ <span class="hljs-attr">title</span>: <span class="hljs-string">''</span> });
    <span class="hljs-keyword">await</span> delay();<font></font>
    expect(spy).toHaveBeenCalledTimes(<span class="hljs-number">2</span>);<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+todo.onChange() should emit changes'</span>, <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">await</span> todoList.resolve();
    <span class="hljs-keyword">await</span> delay();
    <span class="hljs-keyword">const</span> spy = jasmine.createSpy();<font></font>
    todoList.changes.subscribe(spy);<font></font>
    <span class="hljs-keyword">const</span> [todo] = todoList.getItems();<font></font>
    todo.toggleCompletion();<font></font>
    <span class="hljs-keyword">await</span> delay();<font></font>
    expect(spy).toHaveBeenCalled();<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+add() should call TodoListApi.save'</span>, <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">const</span> spy = jasmine.createSpy();<font></font>
    todoList = <span class="hljs-keyword">new</span> AppTodoList({ <span class="hljs-attr">getItems</span>: <span class="hljs-keyword">async</span> () =&gt; [], <span class="hljs-attr">save</span>: <span class="hljs-keyword">async</span> () =&gt; spy() });<font></font>
    todoList.add({ <span class="hljs-attr">title</span>: <span class="hljs-string">''</span> });
    <span class="hljs-keyword">await</span> delay();<font></font>
    expect(spy).toHaveBeenCalled();<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+todo.onChange() should call TodoListApi.save'</span>, <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">const</span> spy = jasmine.createSpy();<font></font>
    todoList = <span class="hljs-keyword">new</span> AppTodoList({ <span class="hljs-attr">getItems</span>: <span class="hljs-keyword">async</span> () =&gt; [{ <span class="hljs-attr">title</span>: <span class="hljs-string">''</span> }], <span class="hljs-attr">save</span>: <span class="hljs-keyword">async</span> () =&gt; spy() });
    <span class="hljs-keyword">await</span> todoList.resolve();
    <span class="hljs-keyword">const</span> [todo] = todoList.getItems();<font></font>
    todo.toggleCompletion();<font></font>
    <span class="hljs-keyword">await</span> delay();<font></font>
    expect(spy).toHaveBeenCalled();<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+add() should ignore error on save'</span>, <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">const</span> api = { <span class="hljs-attr">getItems</span>: <span class="hljs-keyword">async</span> () =&gt; [], <span class="hljs-attr">save</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-built_in">Promise</span>.resolve() };<font></font>
    todoList = <span class="hljs-keyword">new</span> AppTodoList(api);<font></font>
    todoList.add({ <span class="hljs-attr">title</span>: <span class="hljs-string">'1'</span> });
    <span class="hljs-keyword">await</span> delay();<font></font>
    api.save = jasmine.createSpy().and.returnValue(<span class="hljs-built_in">Promise</span>.reject(<span class="hljs-string">'Mock saving failed'</span>));<font></font>
    todoList.add({ <span class="hljs-attr">title</span>: <span class="hljs-string">'2'</span> });<font></font>
    expect(todoList.getItems()).toHaveLength(<span class="hljs-number">2</span>);
    <span class="hljs-keyword">await</span> delay();<font></font>
    expect(api.save).toHaveBeenCalled();<font></font>
    expect(todoList.getItems()).toHaveLength(<span class="hljs-number">2</span>);<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+resolve() should provide current todoList state to history'</span>, <span class="hljs-keyword">async</span> () =&gt; {<font></font>
    expect(todoList.getItems()).toHaveLength(<span class="hljs-number">0</span>);<font></font>
    expect(todoList.getHistory().getState()).toHaveLength(<span class="hljs-number">0</span>);
    <span class="hljs-keyword">await</span> todoList.resolve();
    <span class="hljs-keyword">await</span> delay();<font></font>
    expect(todoList.getItems()).toHaveLength(<span class="hljs-number">1</span>);<font></font>
    expect(todoList.getHistory().getState()).toHaveLength(<span class="hljs-number">1</span>);<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+add() should provide current todoList state to history'</span>, <span class="hljs-keyword">async</span> () =&gt; {<font></font>
    expect(todoList.getItems()).toHaveLength(<span class="hljs-number">0</span>);<font></font>
    expect(todoList.getHistory().getState()).toHaveLength(<span class="hljs-number">0</span>);<font></font>
    todoList.add({ <span class="hljs-attr">title</span>: <span class="hljs-string">''</span> });
    <span class="hljs-keyword">await</span> delay();<font></font>
    expect(todoList.getItems()).toHaveLength(<span class="hljs-number">1</span>);<font></font>
    expect(todoList.getHistory().getState()).toHaveLength(<span class="hljs-number">1</span>);<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+history.switchToPrev() should change todoList state on prev'</span>, <span class="hljs-keyword">async</span> () =&gt; {<font></font>
    todoList.add({ <span class="hljs-attr">title</span>: <span class="hljs-string">''</span> });
    <span class="hljs-keyword">await</span> delay();<font></font>
    expect(todoList.getItems()).toHaveLength(<span class="hljs-number">1</span>);<font></font>
    expect(todoList.getHistory().getState()).toHaveLength(<span class="hljs-number">1</span>);<font></font>
    todoList.getHistory().switchToPrev();<font></font>
    <span class="hljs-keyword">await</span> delay();<font></font>
    expect(todoList.getHistory().getState()).toHaveLength(<span class="hljs-number">0</span>);<font></font>
    expect(todoList.getItems()).toHaveLength(<span class="hljs-number">0</span>);<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+history.switchToPrev() should change todoList state on prev after resolve()'</span>, <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">await</span> todoList.resolve();<font></font>
    todoList.add({ <span class="hljs-attr">title</span>: <span class="hljs-string">''</span> });
    <span class="hljs-keyword">await</span> delay();<font></font>
    expect(todoList.getItems()).toHaveLength(<span class="hljs-number">2</span>);<font></font>
    expect(todoList.getHistory().getState()).toHaveLength(<span class="hljs-number">2</span>);<font></font>
    todoList.getHistory().switchToPrev();<font></font>
    <span class="hljs-keyword">await</span> delay();<font></font>
    expect(todoList.getHistory().getState()).toHaveLength(<span class="hljs-number">1</span>);<font></font>
    expect(todoList.getItems()).toHaveLength(<span class="hljs-number">1</span>);<font></font>
  });<font></font>
<font></font>
  it(<span class="hljs-string">'+add() should emit changes after history.switchToPrev()'</span>, <span class="hljs-keyword">async</span> () =&gt; {<font></font>
    todoList.add({ <span class="hljs-attr">title</span>: <span class="hljs-string">''</span> });<font></font>
    todoList.getHistory().switchToPrev();<font></font>
    <span class="hljs-keyword">await</span> delay();
    <span class="hljs-keyword">const</span> spy = jasmine.createSpy();<font></font>
    todoList.changes.subscribe(spy);<font></font>
    todoList.add({ <span class="hljs-attr">title</span>: <span class="hljs-string">''</span> });
    <span class="hljs-keyword">await</span> delay();<font></font>
    expect(spy).toHaveBeenCalled();<font></font>
  });<font></font>
});<font></font>
</code></pre><br>
</div></div><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> { TodoParams } <span class="hljs-keyword">from</span> <span class="hljs-string">'src/core/TodoFactory'</span>;
<span class="hljs-keyword">import</span> { Observable, Subject } <span class="hljs-keyword">from</span> <span class="hljs-string">'src/utils/Observable'</span>;<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TodoListHistory</span> </span>{<font></font>
  private changesSubject = <span class="hljs-keyword">new</span> Subject();<font></font>
  private history: TodoParams[][] = [<span class="hljs-keyword">this</span>.state];<font></font>
<font></font>
  changes: Observable = <span class="hljs-keyword">this</span>.changesSubject.asObservable();<font></font>
<font></font>
  <span class="hljs-keyword">constructor</span>(private state: TodoParams[] = []) {}<font></font>
<font></font>
  reset(state: TodoParams[]): <span class="hljs-keyword">void</span> {
    <span class="hljs-keyword">this</span>.state = state;
    <span class="hljs-keyword">this</span>.history = [<span class="hljs-keyword">this</span>.state];<font></font>
  }<font></font>
<font></font>
  getState(): TodoParams[] {<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.state;<font></font>
  }<font></font>
<font></font>
  setState(state: TodoParams[]): <span class="hljs-keyword">void</span> {
    <span class="hljs-keyword">this</span>.deleteHistoryAfterCurrentState();
    <span class="hljs-keyword">this</span>.state = state;
    <span class="hljs-keyword">this</span>.history.push(state);<font></font>
  }<font></font>
<font></font>
  private nextState(state: TodoParams[]): <span class="hljs-keyword">void</span> {
    <span class="hljs-keyword">this</span>.state = state;
    <span class="hljs-keyword">this</span>.changesSubject.next({});<font></font>
  }<font></font>
<font></font>
  private deleteHistoryAfterCurrentState(): <span class="hljs-keyword">void</span> {
    <span class="hljs-keyword">this</span>.history = <span class="hljs-keyword">this</span>.history.slice(<span class="hljs-number">0</span>, <span class="hljs-keyword">this</span>.getCurrentStateIndex() + <span class="hljs-number">1</span>);<font></font>
  }<font></font>
<font></font>
  hasPrev(): boolean {<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getCurrentStateIndex() &gt; <span class="hljs-number">0</span>;<font></font>
  }<font></font>
<font></font>
  hasNext(): boolean {<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getCurrentStateIndex() &lt; <span class="hljs-keyword">this</span>.history.length - <span class="hljs-number">1</span>;<font></font>
  }<font></font>
<font></font>
  switchToPrev(): <span class="hljs-keyword">void</span> {
    <span class="hljs-keyword">const</span> prevStateIndex = <span class="hljs-built_in">Math</span>.max(<span class="hljs-keyword">this</span>.getCurrentStateIndex() - <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);
    <span class="hljs-keyword">this</span>.nextState(<span class="hljs-keyword">this</span>.history[prevStateIndex]);<font></font>
  }<font></font>
<font></font>
  switchToNext(): <span class="hljs-keyword">void</span> {
    <span class="hljs-keyword">const</span> nextStateIndex = <span class="hljs-built_in">Math</span>.min(<span class="hljs-keyword">this</span>.getCurrentStateIndex() + <span class="hljs-number">1</span>, <span class="hljs-keyword">this</span>.history.length - <span class="hljs-number">1</span>);
    <span class="hljs-keyword">this</span>.nextState(<span class="hljs-keyword">this</span>.history[nextStateIndex]);<font></font>
  }<font></font>
<font></font>
  private getCurrentStateIndex(): number {<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.history.indexOf(<span class="hljs-keyword">this</span>.state);<font></font>
  }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">import</span> { Observable, Subject, Subscription } <span class="hljs-keyword">from</span> <span class="hljs-string">'src/utils/Observable'</span>;
<span class="hljs-keyword">import</span> { Todo } <span class="hljs-keyword">from</span> <span class="hljs-string">'../core/Todo'</span>;
<span class="hljs-keyword">import</span> { TodoFactory, TodoParams } <span class="hljs-keyword">from</span> <span class="hljs-string">'../core/TodoFactory'</span>;
<span class="hljs-keyword">import</span> { TodoList, TodoListImp } <span class="hljs-keyword">from</span> <span class="hljs-string">'../core/TodoList'</span>;
<span class="hljs-keyword">import</span> { TodoListApi } <span class="hljs-keyword">from</span> <span class="hljs-string">'./TodoListApi'</span>;
<span class="hljs-keyword">import</span> { HistoryControl, TodoListHistory } <span class="hljs-keyword">from</span> <span class="hljs-string">'./TodoListHistory'</span>;<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AppTodoList</span> <span class="hljs-title">implements</span> <span class="hljs-title">TodoList</span> </span>{<font></font>
  private readonly todoFactory = <span class="hljs-keyword">new</span> TodoFactory();<font></font>
  private readonly history: TodoListHistory = <span class="hljs-keyword">new</span> TodoListHistory();<font></font>
<font></font>
  private changesSubject = <span class="hljs-keyword">new</span> Subject();<font></font>
  readonly changes: Observable = <span class="hljs-keyword">this</span>.changesSubject.asObservable();<font></font>
<font></font>
  private state: TodoList = <span class="hljs-keyword">new</span> TodoListImp();<font></font>
  private stateSubscription: Subscription = <span class="hljs-keyword">this</span>.state.changes.subscribe(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span>
    <span class="hljs-keyword">this</span>.onStateChanges(),<font></font>
  );<font></font>
  private historySubscription = <span class="hljs-keyword">this</span>.history.changes.subscribe(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">this</span>.onHistoryChanges());<font></font>
<font></font>
  <span class="hljs-keyword">constructor</span>(private api: TodoListApi) {}<font></font>
<font></font>
  private onStateChanges(): <span class="hljs-keyword">void</span> {
    <span class="hljs-keyword">const</span> params = <span class="hljs-keyword">this</span>.state.getItems().map(<span class="hljs-function">(<span class="hljs-params">todo</span>) =&gt;</span> <span class="hljs-keyword">this</span>.todoFactory.serializeTodo(todo));
    <span class="hljs-keyword">this</span>.history.setState(params);
    <span class="hljs-keyword">this</span>.api.save(params).catch(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {});
    <span class="hljs-keyword">this</span>.changesSubject.next({});<font></font>
  }<font></font>
<font></font>
  private onHistoryChanges(): <span class="hljs-keyword">void</span> {
    <span class="hljs-keyword">const</span> params = <span class="hljs-keyword">this</span>.history.getState();
    <span class="hljs-keyword">this</span>.updateStateTodoList(params);
    <span class="hljs-keyword">this</span>.api.save(params).catch(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {});<font></font>
  }<font></font>
<font></font>
  private updateStateTodoList(todoParamsList: TodoParams[]): <span class="hljs-keyword">void</span> {
    <span class="hljs-keyword">const</span> todoList = <span class="hljs-keyword">new</span> TodoListImp(todoParamsList);
    <span class="hljs-keyword">this</span>.state = todoList;
    <span class="hljs-keyword">this</span>.stateSubscription.unsubscribe();
    <span class="hljs-keyword">this</span>.stateSubscription = <span class="hljs-keyword">this</span>.state.changes.subscribe(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">this</span>.onStateChanges());
    <span class="hljs-keyword">this</span>.changesSubject.next({});<font></font>
  }<font></font>
<font></font>
  <span class="hljs-keyword">async</span> resolve(): <span class="hljs-built_in">Promise</span>&lt;<span class="hljs-keyword">void</span>&gt; {
    <span class="hljs-keyword">const</span> todoParamsList = <span class="hljs-keyword">await</span> <span class="hljs-keyword">this</span>.api.getItems();
    <span class="hljs-keyword">this</span>.history.reset(todoParamsList);
    <span class="hljs-keyword">this</span>.updateStateTodoList(todoParamsList);<font></font>
  }<font></font>
<font></font>
  destroy(): <span class="hljs-keyword">void</span> {
    <span class="hljs-keyword">this</span>.stateSubscription.unsubscribe();
    <span class="hljs-keyword">this</span>.historySubscription.unsubscribe();<font></font>
  }<font></font>
<font></font>
  getHistory(): HistoryControl&lt;TodoParams[]&gt; {<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.history;<font></font>
  }<font></font>
<font></font>
  getItems(): Todo[] {<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.state.getItems();<font></font>
  }<font></font>
<font></font>
  getCompletedItems(): Todo[] {<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.state.getCompletedItems();<font></font>
  }<font></font>
<font></font>
  getUncompletedItems(): Todo[] {<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.state.getUncompletedItems();<font></font>
  }<font></font>
<font></font>
  add(todoParams: TodoParams): <span class="hljs-keyword">void</span> {
    <span class="hljs-keyword">this</span>.state.add(todoParams);<font></font>
  }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЪреВрдВрдХрд┐ рдкрд░рд┐рд╡рд░реНрддрди рдЗрддрд┐рд╣рд╛рд╕ рдмрд╣реБрдд рд╕рдорд╛рди рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЯреВрдбреВ-рд╕реВрдЪреА рдЗрддрд┐рд╣рд╛рд╕ рдХреЗ рдкреНрд░рдмрдВрдзрди рдХреЛ рдЖрдзрд╛рд░ рд╡рд░реНрдЧ рдореЗрдВ рдЕрд▓рдЧ рдХрд░реЗрдВред</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> { Todo } <span class="hljs-keyword">from</span> <span class="hljs-string">'src/core/Todo'</span>;
<span class="hljs-keyword">import</span> { Observable, Subject, Subscription } <span class="hljs-keyword">from</span> <span class="hljs-string">'src/utils/Observable'</span>;
<span class="hljs-keyword">import</span> { TodoFactory, TodoParams } <span class="hljs-keyword">from</span> <span class="hljs-string">'../core/TodoFactory'</span>;
<span class="hljs-keyword">import</span> { TodoList, TodoListImp } <span class="hljs-keyword">from</span> <span class="hljs-string">'../core/TodoList'</span>;
<span class="hljs-keyword">import</span> { HistoryControl, HistoryState } <span class="hljs-keyword">from</span> <span class="hljs-string">'./HistoryState'</span>;<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HistoricalTodoList</span> <span class="hljs-title">implements</span> <span class="hljs-title">TodoList</span>, <span class="hljs-title">HistoryControl</span> </span>{<font></font>
  protected readonly todoFactory = <span class="hljs-keyword">new</span> TodoFactory();<font></font>
  protected readonly history = <span class="hljs-keyword">new</span> HistoryState&lt;TodoParams[]&gt;([]);<font></font>
<font></font>
  private changesSubject: Subject = <span class="hljs-keyword">new</span> Subject();<font></font>
  readonly changes: Observable = <span class="hljs-keyword">this</span>.changesSubject.asObservable();<font></font>
<font></font>
  private state: TodoList = <span class="hljs-keyword">new</span> TodoListImp();<font></font>
  private stateSubscription: Subscription = <span class="hljs-keyword">this</span>.state.changes.subscribe(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span>
    <span class="hljs-keyword">this</span>.onStateChanged(<span class="hljs-keyword">this</span>.getSerializedState()),<font></font>
  );<font></font>
<font></font>
  <span class="hljs-keyword">constructor</span>() {}<font></font>
<font></font>
  protected onStateChanged(params: TodoParams[]): <span class="hljs-keyword">void</span> {
    <span class="hljs-keyword">this</span>.history.addState(params);
    <span class="hljs-keyword">this</span>.changesSubject.next({});<font></font>
  }<font></font>
<font></font>
  protected onHistorySwitched(): <span class="hljs-keyword">void</span> {
    <span class="hljs-keyword">this</span>.updateState(<span class="hljs-keyword">this</span>.history.getState());<font></font>
  }<font></font>
<font></font>
  protected updateState(todoParamsList: TodoParams[]): <span class="hljs-keyword">void</span> {
    <span class="hljs-keyword">this</span>.state = <span class="hljs-keyword">new</span> TodoListImp(todoParamsList);
    <span class="hljs-keyword">this</span>.updateStateSubscription();
    <span class="hljs-keyword">this</span>.changesSubject.next({});<font></font>
  }<font></font>
<font></font>
  private updateStateSubscription(): <span class="hljs-keyword">void</span> {
    <span class="hljs-keyword">this</span>.stateSubscription.unsubscribe();
    <span class="hljs-keyword">this</span>.stateSubscription = <span class="hljs-keyword">this</span>.state.changes.subscribe(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span>
      <span class="hljs-keyword">this</span>.onStateChanged(<span class="hljs-keyword">this</span>.getSerializedState()),<font></font>
    );<font></font>
  }<font></font>
<font></font>
  private getSerializedState(): TodoParams[] {<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.state.getItems().map(<span class="hljs-function">(<span class="hljs-params">todo</span>) =&gt;</span> <span class="hljs-keyword">this</span>.todoFactory.serializeTodo(todo));<font></font>
  }<font></font>
<font></font>
  destroy(): <span class="hljs-keyword">void</span> {
    <span class="hljs-keyword">this</span>.stateSubscription.unsubscribe();<font></font>
  }<font></font>
<font></font>
  getItems(): Todo[] {<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.state.getItems();<font></font>
  }<font></font>
<font></font>
  getCompletedItems(): Todo[] {<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.state.getCompletedItems();<font></font>
  }<font></font>
<font></font>
  getUncompletedItems(): Todo[] {<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.state.getUncompletedItems();<font></font>
  }<font></font>
<font></font>
  add(todoParams: TodoParams): <span class="hljs-keyword">void</span> {
    <span class="hljs-keyword">this</span>.state.add(todoParams);<font></font>
  }<font></font>
<font></font>
  canUndo(): boolean {<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.history.hasPrev();<font></font>
  }<font></font>
<font></font>
  canRedo(): boolean {<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.history.hasNext();<font></font>
  }<font></font>
<font></font>
  undo(): <span class="hljs-keyword">void</span> {
    <span class="hljs-keyword">this</span>.history.switchToPrev();
    <span class="hljs-keyword">this</span>.onHistorySwitched();<font></font>
  }<font></font>
<font></font>
  redo(): <span class="hljs-keyword">void</span> {
    <span class="hljs-keyword">this</span>.history.switchToNext();
    <span class="hljs-keyword">this</span>.onHistorySwitched();<font></font>
  }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">import</span> { TodoParams } <span class="hljs-keyword">from</span> <span class="hljs-string">'src/core/TodoFactory'</span>;
<span class="hljs-keyword">import</span> { HistoricalTodoList } <span class="hljs-keyword">from</span> <span class="hljs-string">'./HistoricalTodoList'</span>;
<span class="hljs-keyword">import</span> { TodoListApi } <span class="hljs-keyword">from</span> <span class="hljs-string">'./TodoListApi'</span>;<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ResolvableTodoList</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HistoricalTodoList</span> </span>{
  <span class="hljs-keyword">constructor</span>(private api: TodoListApi) {
    <span class="hljs-keyword">super</span>();<font></font>
  }<font></font>
<font></font>
  <span class="hljs-keyword">async</span> resolve(): <span class="hljs-built_in">Promise</span>&lt;<span class="hljs-keyword">void</span>&gt; {
    <span class="hljs-keyword">const</span> todoParamsList = <span class="hljs-keyword">await</span> <span class="hljs-keyword">this</span>.api.getItems();
    <span class="hljs-keyword">this</span>.history.reset(todoParamsList);
    <span class="hljs-keyword">this</span>.updateState(todoParamsList);<font></font>
  }<font></font>
<font></font>
  protected onStateChanged(params: TodoParams[]): <span class="hljs-keyword">void</span> {
    <span class="hljs-keyword">super</span>.onStateChanged(params);
    <span class="hljs-keyword">this</span>.api.save(params).catch(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">this</span>.undo());<font></font>
  }<font></font>
<font></font>
  protected onHistorySwitched(): <span class="hljs-keyword">void</span> {
    <span class="hljs-keyword">super</span>.onHistorySwitched();
    <span class="hljs-keyword">this</span>.api.save(<span class="hljs-keyword">this</span>.history.getState()).catch(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {});<font></font>
  }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╕рдВрд░рдХреНрд╖рдг рд╕рдорд╕реНрдпрд╛ рдХрд╛ рд╕рдорд╛рдзрд╛рди рдЦреБрдж рд╣реА рдЖ рдЧрдпрд╛ред </font><font style="vertical-align: inherit;">рдЕрдм рд╣рдо рдЗрд╕ рдмрд╛рд░реЗ рдореЗрдВ рдЪрд┐рдВрддрд╛ рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдЧреНрд░рд╛рд╣рдХ рд▓рдВрдмреА рдЕрд╡рдзрд┐ рдореЗрдВ рдХрд┐рд╕ рд╕рдВрд░рдХреНрд╖рдг рд░рдгрдиреАрддрд┐ рдХрд╛ рдЪрдпрди рдХрд░реЗрдВрдЧреЗред </font><font style="vertical-align: inherit;">рдмреЗрд╕ рдХреНрд▓рд╛рд╕ рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░рддреЗ рд╣реБрдП, рдЖрдк рдЙрд╕реЗ рдЪреБрдирдиреЗ рдХреЗ рд▓рд┐рдП рд╕рднреА 3 рд╡рд┐рдХрд▓реНрдк рдкреНрд░рджрд╛рди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рд╛рд░рд╛рдВрд╢</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдРрд╕рд╛ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рд╣рдорд╛рд░реА рдЯреВрдбреВ рд╕реВрдЪреА рд╕реЗ рд╣рдореЗрдВ Google Keep рдХрд╛ рдПрдХ рдЫреЛрдЯрд╛ рдкреНрд░реЛрдЯреЛрдЯрд╛рдЗрдк рдорд┐рд▓ рдЧрдпрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд▓реЙрдиреНрдЪ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕реЗ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">рд▓рд┐рдВрдХ рдХрд░реЗрдВ</font></a><font style="vertical-align: inherit;"> рдпрд╛ рдХрдорд┐рдЯ рдХреЗ рдЗрддрд┐рд╣рд╛рд╕ рдкрд░ рдЬрд╛рдПрдВред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕ рдЙрджрд╛рд╣рд░рдг рдХреЛ рдЬреНрдпрд╛рджрд╛рддрд░ рдлреНрд░рдВрдЯ-рдПрдВрдб рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реЗ рдореМрд▓рд┐рдХ рд░реВрдк рд╕реЗ рдХреНрдпрд╛ рдЕрд▓рдЧ рдХрд░рддрд╛ рд╣реИ? рд╣рдо рдкреБрд╕реНрддрдХрд╛рд▓рдпреЛрдВ рдкрд░ рдирд┐рд░реНрднрд░ рдирд╣реАрдВ рдереЗ, рдЗрд╕рд▓рд┐рдП, рдПрдХ рд╡реНрдпрдХреНрддрд┐ рдЬрд┐рд╕рдиреЗ рдХрднреА рднреА рд░рд┐рдПрдХреНрдЯ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдирд╣реАрдВ рдХрд┐рдпрд╛ рд╣реИ, рд╡рд╣ рдЗрд╕ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рд╕рдордЭ рд╕рдХрддрд╛ рд╣реИред рд╣рдорд╛рд░реЗ рдирд┐рд░реНрдгрдп рдХреЗрд╡рд▓ рдкрд░рд┐рдгрд╛рдо рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рдЙрджреНрджреЗрд╢реНрдп рд╕реЗ рдереЗ, рдлреНрд░реЗрдорд╡рд░реНрдХ рдХреЗ рд╡рд┐рд╡рд░рдг рдкрд░ рдзреНрдпрд╛рди рднрдВрдЧ рдХрд┐рдП рдмрд┐рдирд╛, рдЗрд╕рд▓рд┐рдП рдХреЛрдб рдХрдо рдпрд╛ рдЬреНрдпрд╛рджрд╛ рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд░рддрд╛ рд╣реИред рд╣рдо рдирдП рдкреНрд░рдХрд╛рд░ рдХреЗ рдЯреЛрдбреЛ рддрддреНрд╡реЛрдВ рдХреЛ рдЬреЛрдбрд╝рдирд╛ рдЖрд╕рд╛рди рдмрдирд╛рдиреЗ рдореЗрдВ рдХрд╛рдордпрд╛рдм рд░рд╣реЗ, рдФрд░ рд╣рдо рд╕рдВрд░рдХреНрд╖рдг рд░рдгрдиреАрддрд┐ рдХреЛ рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рд╣реИрдВред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдореЗрдВ рдХрд┐рди рдХрдард┐рдирд╛рдЗрдпреЛрдВ рдХрд╛ рд╕рд╛рдордирд╛ рдХрд░рдирд╛ рдкрдбрд╝рд╛? рд╣рдордиреЗ рдлреНрд░реЗрдорд╡рд░реНрдХ рдХреЗ рд╕рдВрджрд░реНрдн рдХреЗ рдмрд┐рдирд╛ рдСрдмреНрдЬрд░реНрд╡рд░ рдкреИрдЯрд░реНрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рджреГрд╢реНрдп рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░рдиреЗ рдХреА рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд┐рдпрд╛ред рдЬреИрд╕рд╛ рдХрд┐ рдпрд╣ рдирд┐рдХрд▓рд╛, рдЗрд╕ рдкреИрдЯрд░реНрди рдХреЗ рдЖрд╡реЗрджрди рдХреЛ рдЕрднреА рднреА рдореБрдЦреНрдп рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдереА (рднрд▓реЗ рд╣реА рд╣рдореЗрдВ HTML рдЦреАрдВрдЪрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рдереА)ред рдЗрд╕рд▓рд┐рдП, рд╣рдордиреЗ рдлреНрд░реЗрдорд╡рд░реНрдХ рдореЗрдВ рдирд┐рд░реНрдорд┐рдд рдкрд░рд┐рд╡рд░реНрддрди рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рд╡рд╛рд▓реА рдкреНрд░рдгрд╛рд▓реА рдХреА "рд╕реЗрд╡рд╛рдУрдВ" рдХреЛ рдЫреЛрдбрд╝ рдХрд░ рд▓рд╛рдЧрдд рдХрд╛ рдЕрдиреБрдорд╛рди рдирд╣реАрдВ рд▓рдЧрд╛рдпрд╛ рдерд╛ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдореИрдВ рдЗрд╕ рдмрд╛рдд рдкрд░ рдЬреЛрд░ рджреЗрдирд╛ рдЪрд╛рд╣реВрдВрдЧрд╛ рдХрд┐ рд▓реЗрдЦрди рдкрд░реАрдХреНрд╖рдг рдореЗрдВ рдХреЛрдИ рдХрдард┐рдирд╛рдИ рдирд╣реАрдВ рдереАред рдПрдХ рд╕реВрдЪрдирд╛рддреНрдордХ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХреЗ рд╕рд╛рде рд╕рд░рд▓ рд╕реНрд╡рддрдВрддреНрд░ рд╡рд╕реНрддреБрдУрдВ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдПрдХ рдЦреБрд╢реА рд╣реИред рдХреЛрдб рдХреА рдЬрдЯрд┐рд▓рддрд╛ рдХреЗрд╡рд▓ рдХрд╛рд░реНрдп рдФрд░ рдореЗрд░реЗ рдХреМрд╢рд▓ (рдпрд╛ рд╡рдХреНрд░рддрд╛) рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддреА рдереАред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдбреЗрд╡рд▓рдкрд░ рдХреЗ рд╕реНрддрд░ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреНрдпрд╛ рдЬреЛ рдЗрд╕реЗ рд╕рдВрднрд╛рд▓реЗрдВрдЧреЗ? </font><font style="vertical-align: inherit;">рдХреНрдпрд╛ рдЬреВрдирд┐рдпрд░ рд░рд┐рдПрдХреНрдЯрд░ рдбреЗрд╡рд▓рдкрд░ рдРрд╕рд╛ рд╕рдорд╛рдзрд╛рди рд▓рд┐рдЦ рд╕рдХрддрд╛ рд╣реИ? </font><font style="vertical-align: inherit;">"рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рдПрдХ рд╢рд┐рд▓реНрдк рдХреА рддрд░рд╣ рдЕрдзрд┐рдХ рд╣реИ", рдЗрд╕рд▓рд┐рдП рдУрдУрдкреА рдФрд░ рдкреИрдЯрд░реНрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рдЕрднреНрдпрд╛рд╕ рдХреЗ рдмрд┐рдирд╛, рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдпрд╣ рдореБрд╢реНрдХрд┐рд▓ рд╣реЛрдЧрд╛ред </font><font style="vertical-align: inherit;">рд▓реЗрдХрд┐рди рдЖрдк рдФрд░ рдЖрдкрдХреА рдХрдВрдкрдиреА рддрдп рдХрд░рддреА рд╣реИ рдХрд┐ рдЖрдк рдХрд┐рд╕рдореЗрдВ рдирд┐рд╡реЗрд╢ рдХрд░рддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рдХреНрдпрд╛ рдЖрдк OOP рдХрд╛ рдЕрднреНрдпрд╛рд╕ рдХрд░рддреЗ рд╣реИрдВ рдпрд╛ рдЕрдЧрд▓реЗ рдврд╛рдВрдЪреЗ рдХреА рдкреЗрдЪреАрджрдЧрд┐рдпреЛрдВ рдХреЛ рд╕рдордЭрддреЗ рд╣реИрдВ? </font><font style="vertical-align: inherit;">рдореИрдВ рдХреЗрд╡рд▓ рдЕрдиреБрднрд╡реА рдкреНрд░реЛрдЧреНрд░рд╛рдорд░реЛрдВ рдХреЗ рд╕рд╛рд╣рд┐рддреНрдпрд┐рдХ рдХрд╛рд░реНрдпреЛрдВ рдХреА рдкреНрд░рд╛рд╕рдВрдЧрд┐рдХрддрд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЖрд╢реНрд╡рд╕реНрдд рд╣реЛ рдЧрдпрд╛, рдФрд░ рдпрд╣ рджрд┐рдЦрд╛рдпрд╛ рдХрд┐ рд╕рд╛рдордиреЗ рдХреА рдХреНрд╖рдорддрд╛ рдкрд░ рдХреНрд▓рд╛рд╕рд┐рдХреНрд╕ рдХреА рд╕рд▓рд╛рд╣ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреИрд╕реЗ рд╢реБрд░реВ рдХрд░реЗрдВред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдкрдврд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдзрдиреНрдпрд╡рд╛рдж!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi491672/index.html">рдЕрдЪрд╛рдирдХ: рдЕрд╢реНрд▓реАрд▓рддрд╛ рдХреЗ рдЦрд┐рд▓рд╛рдл рдЙрджреНрдзрд░рдг рдЪрд┐рд╣реНрдиред рдЙрд╕рдХрд╛ рдорддрд▓рдм рдЬреЛ рднреА рд╣реЛ</a></li>
<li><a href="../hi491674/index.html">IOS рдФрд░ Android рдХреЗ рд▓рд┐рдП рдореЛрдмрд╛рдЗрд▓ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдбрд┐рдЬрд╝рд╛рдЗрди рдореЗрдВ 32 рдЕрдВрддрд░</a></li>
<li><a href="../hi491678/index.html">рдЕрдореЗрдЬрд╝реЕрди рдЧреЛ: рдиреЛ рдХреИрд╢ рдбреЗрд╕реНрдХ - рдПрдХ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдЕрдиреБрднрд╡</a></li>
<li><a href="../hi491680/index.html">рдЗрдВрдЯреЗрд▓ рдПрдЯрдо P5900: рдПрдЯрдо рдХрд╛ рджреВрд╕рд░рд╛ рдЖ рд░рд╣рд╛ рд╣реИ</a></li>
<li><a href="../hi491682/index.html">рд╕реБрд░рдХреНрд╖рд╛ рд╕рдкреНрддрд╛рд╣ 11: рдЦреЛрдЬ рдЗрдВрдЬрди рдореИрд▓рд╡реЗрдпрд░</a></li>
<li><a href="../hi491686/index.html">рдЬрд╛рд╡рд╛ рдбрд╛рдЗрдЬреЗрд╕реНрдЯ 10 рдорд╛рд░реНрдЪ</a></li>
<li><a href="../hi491690/index.html">рдбреЗрдЯрд╛ рдЧреЛрдкрдиреАрдпрддрд╛ рдХреА рд░рдХреНрд╖рд╛ - рд╕рджреА рдХреА рдЪреБрдиреМрддреА</a></li>
<li><a href="../hi491692/index.html">рджреГрд╢реНрдп рд╕реНрдЯреВрдбрд┐рдпреЛ рдХреЛрдб рдХреЗ рд╕рд╛рде рдбреАрдмрдЧ рдХреЛрдгреАрдп рд╕реНрдХреИрдореИрдЯрд┐рдХреНрд╕</a></li>
<li><a href="../hi491694/index.html">90 рдХреЗ рджрд╢рдХ рдХреЗ рдХрдВрдкреНрдпреВрдЯрд░ рдмреНрд░рд╛рдВрдб</a></li>
<li><a href="../hi491696/index.html">рдЕрдЧрд░ рддреБрдо рдХрд░ рд╕рдХрддреЗ рд╣реЛ рддреЛ рдореБрдЭреЗ рдкрдХрдбрд╝реЛ: рд░реЗрдбрд┐рдпреЛ рддрд░рдВрдЧреЗрдВ, рдХрдгреЛрдВ рдХрд╛ рдПрдХ рдЭрд░рдирд╛ рдФрд░ рдиреНрдпреВрдЯреНрд░рд┐рдиреЛ рдХреЛ рдкрдХрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдмрд░реНрдл</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>