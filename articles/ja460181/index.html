<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📠 👶🏼 🖌️ ソースコードを解析してJavaScriptの知識を向上させる 💇🏽 🥁 🎿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="プログラミングのキャリアを始めるとき、オープンソースライブラリとフレームワークをソースコードから掘り下げるのは少し怖いように見えるかもしれません。この記事では、カールムンガジが恐怖を克服する方法に関する経験を共有し、ソースコードを使用して知識を獲得し、スキルを開発し始めました。また、Reduxを使用...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ソースコードを解析してJavaScriptの知識を向上させる</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/460181/"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プログラミングのキャリアを始めるとき、オープンソースライブラリとフレームワークをソースコードから掘り下げるのは少し怖いように見えるかもしれません。</font><font style="vertical-align: inherit;">この記事では、カールムンガジが恐怖を克服する方法に関する経験を共有し、ソースコードを使用して知識を獲得し、スキルを開発し始めました。</font><font style="vertical-align: inherit;">また、Reduxを使用して、ライブラリを「解析」する方法を示しています。</font></font></i><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
よく使用するライブラリまたはフレームワークのコードに初めて没頭したときのことを覚えていますか？私の人生では、この瞬間が3年前のフロントエンド開発者としての私の最初の仕事でした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
インタラクティブなトレーニングコースの作成に使用された古い独自のフレームワークを書き直しました。リライト作業の最初に、Mithril、Inferno、Angular、React、Aurelia、Vue、Polymerなどのターンキーソリューションを検討しました。私はまだ若いパダワン（ジャーナリズムからWeb開発に切り替えたばかり）だったので、各フレームワークの複雑さと、それらがどのように機能するかについての理解の欠如を恐れていました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ミスリルのフレームワークを注意深く探索し始めたとき、理解が始まりました。</font><font style="vertical-align: inherit;">それ以来、JavaScriptとプログラミング全般に関する私の知識は、仕事や自分のプロジェクトで毎日使用しているライブラリーを掘り下げることに費やした時間のおかげで、大幅に強化されました。</font><font style="vertical-align: inherit;">この記事では、お気に入りのライブラリをチュートリアルとして使用する方法を説明します</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/bbe/3d3/fad/bbe3d3fadd117038a615108327f4c867.png" alt="画像"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。Mithrilのハイパースクリプト関数を使用してソースコードを読み始めました</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソースコードの解析の長所</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ソースコードを解析する主な利点の1つは、多くのことを学ぶことができることです。ミスリルのコードを解析し始めたとき、仮想DOMが何であるかについて非常によくわかりませんでした。私が作業を終えたとき、仮想DOMは、ユーザーインターフェイスを記述するオブジェクトのツリーの作成を伴う手法であることをすでに知っていました。このツリーは、document.createElementなどのDOM APIを使用してDOM要素に変換できます。更新のために、インターフェースの将来の状態を説明する新しいツリーが作成され、このツリー自体の以前のバージョンと比較されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私は多くの記事やマニュアルでこれについて読みましたが、最も有益なのは、アプリケーションで作業しているときにこれをすべて観察することでした。フレームワークを比較するときに、正しい質問をすることも学びました。たとえば、評価を比較する代わりに、「このフレームワークが変更を処理する方法がエンドユーザーのパフォーマンスと利便性にどのように影響するか」という質問をすることができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もう1つの利点は、優れたアプリケーションアーキテクチャを理解することです。ほとんどのオープンソースプロジェクトの構造は一般的にリポジトリとほぼ同じですが、それらにはまだ違いがあります。 Mithrilの構造は非常にフラットであり、そのAPIに精通している場合は、render、router、およびrequestフォルダー内のコードについて非常に現実的な仮定を行うことができます。一方、Reactの構造は、新しいアーキテクチャを反映しています。開発者は、UIの更新を担当するモジュール（react-reconciler）を、DOM要素のレンダリングを担当するモジュール（react-dom）から分離しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
開発者にとってこの分離の利点の1つは、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">独自のレンダラーを</font></a><font style="vertical-align: inherit;">作成できること</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">反応調停でフックを使用します。最近研究したモジュールビルダーであるParcelにも、Reactと同じようにpackagesフォルダーがあります。主要モジュールはパーセルバンドラーと呼ばれ、アセンブリの作成、モジュール更新サーバー（ホットモジュールサーバー）の操作、およびコマンドラインツールを担当するコードが含まれています。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/fdd/7ef/ac1/fdd7efac1030c6d2678f44dd39a223cc.png" alt="画像"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソースコードを解析するとすぐにJavaScript仕様を読むようになります</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
が、私にとって大きな驚きであったもう1つの利点は、公式のJavaScript仕様を読みやすくすることです。初めてエラーをスローしたときとスローエラー（スポイラー- </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">何も</font></a><font style="vertical-align: inherit;">スローしない）の違いを理解しようとしたときに初めて彼女に目を向けた</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">ミスリルはm関数の実装でスローエラーを使用したため、この質問をしました。なぜ、新しいエラーをスローするよりも優れているのかと思いました。</font><font style="vertical-align: inherit;">次に、演算子&amp;&amp;および|| </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必ずしもブール値を返していない</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、私が見つかりました</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ルール</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">によって非厳密な比較==「の解決」の値のオペレータ及び</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">理由</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">理由Object.prototype.toString.call（{}）戻り「[対象オブジェクト]」。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソースコードを解析する方法</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ソースコードを解析する方法はたくさんあります。最も簡単な方法は、私には次のように思えます。ライブラリからメソッドを選択し、それを呼び出したときに何が起こるかを説明します。各手順を説明する価値はありません。一般的な原則と構造を理解する必要があるだけです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私は最近、この方法でReactDOM.renderを解析し、React Fiberとそれを実装する際のいくつかの困難について多くを学びました。幸い、Reactは非常に人気があり、同じトピックに関する他の開発者による多数の記事の存在がプロセスを加速させました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このコードに飛び込んだことで、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">協調スケジューリングの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概念</font><font style="vertical-align: inherit;">、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">window.requestIdleCallback</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メソッド</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">、</font></a><font style="vertical-align: inherit;">および</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">リンクリスト</font></a><font style="vertical-align: inherit;">の</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">実際の</font></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">例</font></a><font style="vertical-align: inherit;">も紹介されました</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Reactは更新をキューに送信することによって更新を処理します。これは優先度付きの更新のリンクされたリストです）。その過程で、ライブラリを使用して単純なアプリケーションを作成するとよいでしょう。これにより、他のライブラリのスタックトレースを処理する必要がないため、デバッグが容易になります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
詳細なレビューを行わない場合は、作業中のプロジェクトのnode_modulesフォルダーを開くか、GitHubを確認します。バグや興味深い機能に遭遇したときは、常にこれを行います。 GitHubでコードを読むときは、これが最新バージョンであることを確認してください。ブランチを変更するボタンをクリックして「タグ」を選択すると、最新バージョンのコードが表示されます。ライブラリとフレームワークの変更は進行中なので、次のバージョンにない可能性があるものを解析する必要はほとんどありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
学習用のソースコードのより表面的なバージョンは、私が「クイックルック」と呼んでいるものです。</font><font style="vertical-align: inherit;">どういうわけか、express.jsをインストールし、node_modulesフォルダーを開いて、依存関係を調べました。</font><font style="vertical-align: inherit;">READMEで十分な説明が得られなかった場合は、ソースを読みました。</font><font style="vertical-align: inherit;">これは私に興味深い発見をもたらしました：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Expressは2つのモジュールを使用してオブジェクトをマージしますが、これらのモジュールの操作は大きく異なります。</font><font style="vertical-align: inherit;">merge-descriptorsは、ソースオブジェクトにあるプロパティのみを追加し、列挙できないプロパティも追加します。一方、utils-mergeは、オブジェクトとそのプロトタイプチェーン全体の列挙されたプロパティを調べます。</font><font style="vertical-align: inherit;">merge-descriptorsはObject.getOwnPropertyNames（）およびObject.getOwnPropertyDescriptor（）を使用し、utils-mergeはfor..inを使用します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">setprototypeofモジュールは、作成された（インスタンス化された）オブジェクトのプロトタイプを指定するためのクロスプラットフォームオプションを提供します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">escape-htmlは、78行の文字列エスケープモジュールです。その後、コンテンツをHTMLに挿入できます。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらの発見はすぐには役に立たない可能性が高いですが、ライブラリまたはフレームワークの依存関係の一般的な理解は非常に役立ちます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フロントエンドでコードをデバッグするときは、ブラウザツールのデバッグが最適です。</font><font style="vertical-align: inherit;">さらに、いつでもプログラムを停止してそのステータスを確認したり、関数をスキップしたり、プログラムの内部に移動したり、プログラムを終了したりできます。</font><font style="vertical-align: inherit;">縮小されたコードでは、これは不可能です。このコードを解凍して、node_modulesフォルダー内の対応するファイルに入れます。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/ad0/0b7/2b1/ad00b72b170fb59cbc2d87ba99892a1f.png" alt="画像"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デバッガを便利なアプリケーションとして使用してください。</font><font style="vertical-align: inherit;">仮定を行い、それをテストします。</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ケーススタディ：Reduxの接続機能</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
React-Reduxは、Reactアプリケーションの状態を管理するためのライブラリです。</font><font style="vertical-align: inherit;">私がこのような人気のあるライブラリを扱うとき、私はそれらの使用に関する記事を探すことから始めます。</font><font style="vertical-align: inherit;">この例を準備するにあたり、この</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">記事</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を確認しました</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">これは、ソースコードを学習する上でのもう1つの利点です。この記事のように、思考と理解を向上させる有益な記事につながります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Connectは、reactコンポーネントとアプリケーションのreduxストアをリンクするreact-redux関数です。</font><font style="vertical-align: inherit;">どうやって？</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ドキュメントに</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">よると</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">、</font></a><font style="vertical-align: inherit;">彼女は次のことを行います：</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「...は、関連する新しいコンポーネントクラスを返します。これは、渡されたコンポーネントのラッパーです。」</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これを読んだ後、次の質問をします。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">関数が追加機能でラップされた入力パラメーターを返すパターンまたは概念を知っていますか？ </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">もしそうなら、ドキュメントの説明に基づいてこれをどのように使用しますか？ </font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通常、次のステップは、接続機能を使用してプリミティブアプリケーションを作成することです。</font><font style="vertical-align: inherit;">それにもかかわらず、この状況では、Reactで新しいアプリケーションを使用しました。これは、すぐに本番環境に入る可能性が高いアプリケーションのコンテキストで接続を理解したかったためです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私が焦点を当てたコンポーネントは次のようなものです：</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MarketContainer</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{
 <span class="hljs-comment">// code omitted for brevity</span><font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">const</span> mapDispatchToProps = <span class="hljs-function"><span class="hljs-params">dispatch</span> =&gt;</span> {
 <span class="hljs-keyword">return</span> {
   <span class="hljs-attr">updateSummary</span>: <span class="hljs-function">(<span class="hljs-params">summary, start, today</span>) =&gt;</span> dispatch(updateSummary(summary, start, today))<font></font>
 }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> connect(<span class="hljs-literal">null</span>, mapDispatchToProps)(MarketContainer);
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、4つの小さな関連コンポーネントのラッパーとして機能するコンテナコンポーネントです。</font><font style="vertical-align: inherit;">connectエクスポート</font><font style="vertical-align: inherit;">の</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイル</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で</font><font style="vertical-align: inherit;">最初に見つかるの</font><font style="vertical-align: inherit;">は、「connectはconnectAdvancedのファサードです」というコメントです。</font><font style="vertical-align: inherit;">すでにこの段階で、私たちは何かを学ぶことができます。「ファサード」パターンの動作を観察する機会があります。</font><font style="vertical-align: inherit;">ファイルの最後に、createConnect関数への呼び出しをエクスポートするconnectがあります。</font><font style="vertical-align: inherit;">そのパラメーターは、次のように構造化されていないデフォルト値のセットです：</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createConnect</span>(<span class="hljs-params">{
 connectHOC = connectAdvanced,
 mapStateToPropsFactories = defaultMapStateToPropsFactories,
 mapDispatchToPropsFactories = defaultMapDispatchToPropsFactories,
 mergePropsFactories = defaultMergePropsFactories,
 selectorFactory = defaultSelectorFactory
} = {}</span>)
</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、もう1つ有益な瞬間があります。呼び出された関数のエクスポートと、デフォルトでの関数引数の分解です。</font><font style="vertical-align: inherit;">コードは次のように記述できるため、再構築は有益です。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createConnect</span>(<span class="hljs-params">{
 connectHOC = connectAdvanced,
 mapStateToPropsFactories = defaultMapStateToPropsFactories,
 mapDispatchToPropsFactories = defaultMapDispatchToPropsFactories,
 mergePropsFactories = defaultMergePropsFactories,
 selectorFactory = defaultSelectorFactory
}</span>)
</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その結果、エラーが発生します-キャッチされないTypeError： 'undefined'または 'null'のプロパティ 'connectHOC'を分解できません。これは、関数にデフォルトの引数値がないために発生します。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注：引数の再構成について理解を深めるには、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">David Walshの記事をご覧ください</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。言語の知識によっては、いくつかの点はささいなことのように思えるかもしれません。そうすれば、慣れていない点に集中できます。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
createConnect関数自体は何もしません。ここで使用した接続関数を返すだけです。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> connect(<span class="hljs-literal">null</span>, mapDispatchToProps)(MarketContainer)
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは4つのオプションの引数を取り、最初の3つは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">match</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">関数を通過します</font><font style="vertical-align: inherit;">。これは、渡された引数とそのタイプに基づいて動作を決定するのに役立ちます。 matchに渡される2番目の引数は、connectにインポートされた3つの関数の1つであるため、次に進む場所を選択する必要があることがわかりました。</font><font style="vertical-align: inherit;">これらの引数が関数である場合、接続の最初の引数をラップするために使用される</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">プロキシ関数</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
から学ぶべきものもあり</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">プレーンオブジェクトのチェックに使用される</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">isPlainObject</font></a><font style="vertical-align: inherit;">ユーティリティから、</font><font style="vertical-align: inherit;">または</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">警告</font></a><font style="vertical-align: inherit;">モジュールから</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これは、すべてのエラーでブレークするデバッガーを作成する方法を示しています。</font><font style="vertical-align: inherit;">match関数の後で、reconnectコンポーネントを取得してreduxに関連付ける関数であるconnectHOCに進みます。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wrapWithConnect</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を返す別の関数呼び出しがあります</font><font style="vertical-align: inherit;">-リポジトリへのコンポーネントのバインディングを実際に処理する関数です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
connectHOC実装を見ると、接続実装の詳細を非表示にする必要がある理由がわかります。</font><font style="vertical-align: inherit;">これは本質的にreact-reduxの中心であり、接続を介してアクセスできないロジックが含まれています。</font><font style="vertical-align: inherit;">これについて詳しく説明した後でも、後でさらに深く掘り下げる必要がある場合は、コードの詳細な説明が記載されたソースマテリアルが既にあります。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">まとめる</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ソースコードの学習は、最初は非常に複雑です。しかし、他のすべてのように、それは時間とともに簡単になります。彼の仕事はすべてを理解することではなく、自分に役立つ何か、共通の理解と新しい知識を引き出すことです。同時に、プロセス全体で注意を払い、詳細を掘り下げることが非常に重要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、isPlainObject関数は興味深いものでした。これは、（typeof obj！== 'object' || obj === null）がfalseを返す場合にこれを使用して、渡された引数が単純なオブジェクトであることを確認するためです。このコードを初めて読んだとき、なぜObject.prototype.toString.call（opts）！== '[object Object]'を使用しないのかと思いました。これにより、コードが削減され、Dateのようなサブタイプからオブジェクトが分離されます。しかし、次の行ではすでに、突然（突然！）接続を使用する開発者がDateオブジェクトを返したとしても、たとえば、Object.getPrototypeOf（obj）=== nullをチェックすることでこれを処理できることは明らかです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この場所のisPlainObjectの別の予期しない点：</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">while</span> (<span class="hljs-built_in">Object</span>.getPrototypeOf(baseProto) !== <span class="hljs-literal">null</span>) {<font></font>
 baseProto = <span class="hljs-built_in">Object</span>.getPrototypeOf(baseProto)<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Googleで回答を見つけると、</font><font style="vertical-align: inherit;">StackOverflowの</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このスレッド</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font><font style="vertical-align: inherit;">、GitHubのReduxの</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このコメント</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に</font><font style="vertical-align: inherit;">私を導きました。</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">この</font></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">コメント</font></a><font style="vertical-align: inherit;">は、たとえば、オブジェクトがiFrameから転送される状況をこのコードがどのように処理するかを説明しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">記事を翻訳することにしました。</font><font style="vertical-align: inherit;">明確化、アドバイス、推奨に感謝します</font></font></i></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja460169/index.html">Rマニュアルは最近、学術論文で最も引用されている非学術出版物です。</a></li>
<li><a href="../ja460173/index.html">Dockerの開発。ローカル環境。パート2-Nginx + PHP + MySql + phpMyAdmin</a></li>
<li><a href="../ja460175/index.html">マーケティングの記号論：ブランドにとっての意味</a></li>
<li><a href="../ja460177/index.html">nRF52832、DIYプロジェクトのワイヤレス漏水センサー</a></li>
<li><a href="../ja460179/index.html">LEAN + AGILE = AGILEANまたは全体を部分的に収集</a></li>
<li><a href="../ja460185/index.html">オンラインサービス「事故別速報動画」</a></li>
<li><a href="../ja460187/index.html">データを収集する前に想像してみてください。</a></li>
<li><a href="../ja460191/index.html">ラインを停止するか、パイプラインをポンプで送ります。</a></li>
<li><a href="../ja460193/index.html">NetXMS上のWindowsでの証明書の有効期限の監視</a></li>
<li><a href="../ja460195/index.html">小さく、はい、削除：ミニチュア線形粒子加速器、新しい記録を樹立</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>