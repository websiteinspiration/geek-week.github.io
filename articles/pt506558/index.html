<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßëüèæ üï∫üèº üïú Automa√ß√£o de apartamentos üèª üåù üéµ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="fundo
 O velho sonho da automa√ß√£o de apartamentos iniciou sua transforma√ß√£o em realidade com a compra de um apartamento em um novo pr√©dio. J√° na fase ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Automa√ß√£o de apartamentos</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/506558/"><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fundo</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O velho sonho da automa√ß√£o de apartamentos iniciou sua transforma√ß√£o em realidade com a compra de um apartamento em um novo pr√©dio. </font><font style="vertical-align: inherit;">J√° na fase de planejamento de reparo, surgiram os principais requisitos para redes de servi√ßos p√∫blicos:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">controle flex√≠vel de ilumina√ß√£o, abastecimento de √°gua, ventila√ß√£o, aquecimento e cargas de energia;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a possibilidade de implementar cen√°rios;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">controle remoto e notifica√ß√£o;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">desligamento centralizado de toda a ilumina√ß√£o;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">parada centralizada de cargas n√£o priorit√°rias e abastecimento de √°gua;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">no futuro - a possibilidade de controle de voz.</font></font></li>
</ol><a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eletricista</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como para mim a op√ß√£o de controle mais confi√°vel √© um circuito com fio, foi decidido come√ßar a implementar a ideia com um retrabalho da el√©trica. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De acordo com o projeto do desenvolvedor, todas as cargas foram divididas em 4 grupos:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">caldeira;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ilumina√ß√£o;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cozinha e corredores;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">todo o resto.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Toda a automa√ß√£o modular estava localizada na placa do piso, 4 cabos entraram no apartamento - 2 3x2,5 mm2 e 2 3x1,5 mm2, que n√£o atendiam √†s minhas necessidades. </font><font style="vertical-align: inherit;">Foi decidido transportar o cabo da placa do piso e transferir a central diretamente para o apartamento. </font><font style="vertical-align: inherit;">Como resultado, um contador e um disjuntor introdut√≥rio para 40A permaneceram na placa de piso e, em seguida, um cabo de 3x6 mm2 para a placa do apartamento. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ao projetar uma placa de apartamento, os seguintes requisitos foram levados em considera√ß√£o:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prote√ß√£o contra surtos;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">carga priorit√°ria (n√£o desconect√°vel);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">carga n√£o priorit√°ria (desconectada);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prote√ß√£o diferencial em grupos ‚Äúperigosos‚Äù (tudo o que √© operado em salas √∫midas, tudo conectado √† √°gua e tudo o que as crian√ßas podem alcan√ßar).</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como resultado, surgiu o seguinte esquema:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/aj/ho/ue/ajhoueqw41w1cblhjxspipmvilm.png" alt="imagem"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todas as cargas foram divididas em grupos desconect√°veis ‚Äã‚Äãe n√£o desconect√°veis. </font><font style="vertical-align: inherit;">Grupos n√£o desconect√°veis ‚Äã‚Äãincluem: fonte de alimenta√ß√£o para geladeira, caldeira, gabinete de baixa corrente e controlador. </font><font style="vertical-align: inherit;">O grupo desconectado, ao qual todas as outras cargas pertencem, √© alimentado atrav√©s de um disjuntor e contator comum, que ser√° controlado por sinais do controlador, e tamb√©m levaremos o sinal de status do contator para o controlador. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para acomodar toda a automa√ß√£o modular necess√°ria, foi escolhida uma blindagem embutida para 72 m√≥dulos (como se viu depois - n√£o h√° muito espa√ßo na blindagem). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O processo de refazer completamente os eletricistas dentro do apartamento j√° come√ßou. </font><font style="vertical-align: inherit;">Entre os recursos - rotas de cabos de todas as fontes de luz e interruptores foram trazidas diretamente para o painel do apartamento.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Automa√ß√£o</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Devido ao fato de que, na minha pr√°tica, tive que lidar com automa√ß√£o industrial, v√°rias op√ß√µes de PLC e PLR ‚Äã‚Äãda Siemens, ABB, Schneider-Electric, Aries etc. foram consideradas como dispositivos de controle. </font><font style="vertical-align: inherit;">Como resultado, a escolha caiu no rel√© l√≥gico program√°vel ONI PLR (PLR-S-CPU-1004R-AC-BE, al√©m disso, em resumo, no controlador). </font><font style="vertical-align: inherit;">Por que exatamente isso:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">barramento RS-485 integrado com suporte ao protocolo Modbus;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sa√≠das discretas implementadas na forma de rel√©s de 3 e 10 amperes;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fonte de alimenta√ß√£o de 220V; </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tamanhos compactos;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fator de forma para montagem em um trilho DIN;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a presen√ßa de uma tela e controles diretamente no caso;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pre√ßo.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como 10 entradas digitais e 4 sa√≠das de rel√© n√£o foram suficientes, al√©m da unidade principal, foram selecionados dois m√≥dulos de expans√£o com 8 entradas digitais, 4 sa√≠das de rel√© 3A e 4 sa√≠das de rel√© 10A. </font><font style="vertical-align: inherit;">O desenvolvimento deste rel√© √© realizado usando a linguagem do diagrama funcional (FBD).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abastecimento de √°gua</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O construtor vendeu o suprimento de √°gua para o apartamento de tal maneira que o apartamento tenha 3 tomadas de √°gua fria. </font><font style="vertical-align: inherit;">Porque </font><font style="vertical-align: inherit;">Como a √°gua quente √© preparada em uma caldeira a g√°s, para desligar completamente a √°gua, por exemplo, no banheiro, √© necess√°rio bloquear o riser no banheiro e o riser na cozinha, a partir dos quais a caldeira √© alimentada. </font><font style="vertical-align: inherit;">Nesta base, para controlar o suprimento de √°gua e como sistema de prote√ß√£o contra vazamentos, foram adquiridos 3 conjuntos de Hydro-locks (acionamentos e sensores auto-alimentados), que t√™m a possibilidade de combinar um controle externo centralizado em um √∫nico sistema, al√©m de receber um sinal sobre a opera√ß√£o dos sensores de vazamento. </font><font style="vertical-align: inherit;">Um cabo STP foi conectado ao local da instala√ß√£o de cada unidade a partir do painel do apartamento. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
V√°lvula de esfera montada com atuador:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/a1/ul/oc/a1ulocy0gp7iy1wpjhdzi_d4fag.png" alt="imagem"></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sele√ß√£o de software de gerenciamento</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Porque </font><font style="vertical-align: inherit;">Como sou usu√°rio de v√°rios gadgets da Samsung, como plataforma de gerenciamento de software, decidi permanecer no software SmartThings, que suporta a integra√ß√£o por meio de um conector na nuvem. </font><font style="vertical-align: inherit;">Para conectar o ONI PLR ao SmartThings Cloud, voc√™ precisar√° desenvolver um servidor OPC e o CloudConnector. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No futuro, a integra√ß√£o com o modem GSM √© planejada como um canal de controle de backup, bem como para a notifica√ß√£o de emerg√™ncia de situa√ß√µes de emerg√™ncia. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como resultado, surgiu o seguinte diagrama da intera√ß√£o dos componentes do sistema:</font></font><br>
 <br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/me/am/eg/meameg3yhqclqqe6m3glbkjuvkg.png" alt="imagem"></div><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Implementa√ß√£o</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O maior problema nesta fase foi o fornecimento de componentes, como </font><font style="vertical-align: inherit;">o in√≠cio do trabalho coincidiu com o in√≠cio do per√≠odo de auto-isolamento. </font><font style="vertical-align: inherit;">E como o tempo para consertar o apartamento era muito limitado, todo o material para o escudo tinha que ser coletado por 5 fornecedores. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todos os cabos necess√°rios foram espalhados pelo apartamento, colocados em um escudo e marcados de acordo. </font><font style="vertical-align: inherit;">O resultado intermedi√°rio pode ser visto na foto abaixo:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/zi/23/en/zi23en4sgef8kzorqyyavsyfz38.png" alt="imagem"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para perceber a possibilidade de controle de ilumina√ß√£o habitual diretamente das salas, foram utilizados interruptores padr√£o de uma chave e duas chaves com uma posi√ß√£o n√£o segura. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A conex√£o de interruptores e cargas ao controlador foi realizada de acordo com o seguinte esquema:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/bi/mr/on/bimrontj12po6p3cvftv2qtt1la.png" alt="imagem"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comuta</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/gg/zj/yj/ggzjyjcktctegzkyknlgorzhilc.png" alt="imagem"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Durante o comissionamento e depura√ß√£o do controlador, foram observados atrasos estranhos de 0,5 a 1 segundo ao ligar / desligar as sa√≠das de rel√© localizadas nos m√≥dulos de expans√£o. </font><font style="vertical-align: inherit;">O problema acabou sendo muito comum - estudo desatento dos manuais. </font><font style="vertical-align: inherit;">Antes de conectar, era necess√°rio definir os endere√ßos dos m√≥dulos de expans√£o com comutadores DIP, assim que isso foi feito, o controlador funcionou como um rel√≥gio. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Atualmente, a blindagem montada no interior √© a seguinte:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/z0/ms/e3/z0mse3wc4hbhqlylva1-7zhxnii.png" alt="imagem"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Atualmente implementadas as seguintes fun√ß√µes:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">controle de ilumina√ß√£o de interruptores, para v√°rios c√¥modos - de v√°rios lugares;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cen√°rios simples com ativa√ß√£o autom√°tica da ventila√ß√£o em salas com alta umidade (at√© o momento sem sensores apropriados, apenas com base em cen√°rios comportamentais t√≠picos, com base no tempo em que as pessoas estavam nas salas);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">desligamento geral da ilumina√ß√£o (interruptor separado);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">desligamento for√ßado do abastecimento de √°gua;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">desligamento do abastecimento de √°gua quando sensores molhados.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Num futuro pr√≥ximo, a implementa√ß√£o da intera√ß√£o com o ecossistema SmartThings, a implementa√ß√£o de cen√°rios de trabalho mais complexos. </font><font style="vertical-align: inherit;">No momento, o trabalho de conclus√£o est√° sendo conclu√≠do, a implementa√ß√£o da parte do programa do projeto est√° planejada ap√≥s a mudan√ßa.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt506530/index.html">Como escolher um no-break</a></li>
<li><a href="../pt506532/index.html">Atrav√©s dos espinhos para as estrelas: crie um dispositivo para apontar um ponteiro laser para qualquer objeto celeste</a></li>
<li><a href="../pt506538/index.html">Como a Wikipedia pode revelar seus dados pessoais e como eles realmente os usam</a></li>
<li><a href="../pt506542/index.html">Grava√ß√£o de v√≠deo DIY na nuvem</a></li>
<li><a href="../pt506548/index.html">Uso pr√°tico do Kotlin em startups e empresas</a></li>
<li><a href="../pt506560/index.html">O que ouvir no fim de semana: 5 edi√ß√µes selecionadas do podcast em russo sobre tecnologia de √°udio</a></li>
<li><a href="../pt506562/index.html">Por que √© melhor compilar o TS em JS antecipadamente</a></li>
<li><a href="../pt506568/index.html">N√≠veis e momentos de avalia√ß√£o do projeto</a></li>
<li><a href="../pt506570/index.html">FizzBuzz funcional no Scala</a></li>
<li><a href="../pt506572/index.html">Criando uma loja on-line do SPA prot√≥tipo no htmlix.js</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>