<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏴󠁧󠁢󠁳󠁣󠁴󠁿 😈 🚚 6 mejores prácticas de seguridad para Go 💅🏻 📑 👡</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Se preparó una traducción del artículo específicamente para estudiantes del curso Golang Developer .
 
 
 
 
 La popularidad de Golang ha aumentado si...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>6 mejores prácticas de seguridad para Go</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/488724/"><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se preparó una traducción del artículo específicamente para estudiantes del curso </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Golang Developer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></b></i><br>
<br>
<img src="https://habrastorage.org/webt/g3/jd/s7/g3jds7zwidxpwd-ubopyb-bjhle.png"><br>
<hr><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La popularidad de Golang ha aumentado significativamente en los últimos años. Proyectos exitosos como </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Docker</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kubernetes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y Terraform han hecho una gran apuesta en este lenguaje de programación. Go se ha convertido recientemente en el estándar de facto para crear herramientas de línea de comandos. En términos de seguridad, Go se ha gestionado con éxito de acuerdo con sus informes de vulnerabilidad, teniendo solo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un registro CVE desde 2002</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sin embargo, la ausencia de vulnerabilidades no significa que el lenguaje de programación sea altamente seguro. Los humanos podemos crear aplicaciones inseguras si no seguimos ciertas reglas. Por ejemplo, conocer las </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reglas para escribir código seguro desde OWASP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, podemos pensar en cómo aplicar estos métodos al usar Go. </font><font style="vertical-align: inherit;">Y esto es exactamente lo que haré esta vez. </font><font style="vertical-align: inherit;">En esta publicación, le mostraré seis prácticas para tener en cuenta al desarrollar con Go.</font></font><a name="habracut"></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Comprobar entrada</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La verificación de la entrada del usuario es necesaria no solo para fines funcionales, sino que también ayuda a evitar ataques de ciberdelincuentes que nos envían datos intrusivos que podrían dañar el sistema. Además, ayuda a los usuarios a usar esta herramienta con más confianza, evitando que cometan errores tontos y comunes. Por ejemplo, puede evitar que un usuario intente eliminar varias entradas a la vez. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para probar la entrada del usuario, puede usar paquetes nativos de Go como strconv para manejar cadenas de conversión a otros tipos de datos. Go también admite expresiones regulares con </font></font><code>regexp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">controles complejos. Aunque Go prefiere usar bibliotecas nativas, hay paquetes de terceros como el </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">validador</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Con el validador, puede habilitar la validación para estructuras o campos individuales mucho más fácilmente. </font><font style="vertical-align: inherit;">Por ejemplo, el siguiente código verifica que la estructura </font></font><code>User</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contiene una dirección de correo electrónico válida:</font></font><br>
<br>
<pre><code class="go hljs"><span class="hljs-keyword">package</span> main<font></font>
<font></font>
<span class="hljs-keyword">import</span> (
	<span class="hljs-string">"fmt"</span><font></font>
<font></font>
	<span class="hljs-string">"gopkg.in/go-playground/validator.v9"</span><font></font>
)<font></font>
<font></font>
<span class="hljs-keyword">type</span> User <span class="hljs-keyword">struct</span> {<font></font>
	Email <span class="hljs-keyword">string</span> <span class="hljs-string">`json:"email" validate:"required,email"`</span>
	Name  <span class="hljs-keyword">string</span> <span class="hljs-string">`json:"name" validate:"required"`</span><font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {<font></font>
	v := validator.New()<font></font>
	a := User{<font></font>
		Email: <span class="hljs-string">"a"</span>,<font></font>
	}<font></font>
<font></font>
	err := v.Struct(a)<font></font>
<font></font>
	<span class="hljs-keyword">for</span> _, e := <span class="hljs-keyword">range</span> err.(validator.ValidationErrors) {<font></font>
		fmt.Println(e)<font></font>
	}<font></font>
}</code></pre><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Use plantillas HTML</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Una vulnerabilidad crítica común es la secuencia de comandos entre sitios o XSS. El principal problema es que un atacante puede inyectar código malicioso en la aplicación para modificar la salida. Por ejemplo, alguien podría enviar código JavaScript como parte de una cadena de consulta en una URL. Cuando la aplicación devuelve el valor del usuario, se puede ejecutar el código JavaScript. Por lo tanto, como desarrollador, debe ser consciente de esta posibilidad y borrar los datos ingresados ​​por el usuario. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Go tiene un paquete </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">html / template</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para codificar lo que la aplicación devuelve al usuario. Por lo tanto, en lugar de que el navegador haga entradas como</font></font><code><code>&lt;</code>script<code>&gt;</code>alert(‘ !’);<code>&lt;</code>/script<code>&gt;</code></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">él dará una advertencia; </font><font style="vertical-align: inherit;">Puede codificar la entrada y la aplicación procesará la entrada como un código HTML típico impreso en un navegador. </font><font style="vertical-align: inherit;">Un servidor HTTP que devuelve una plantilla HTML se verá así:</font></font><br>
<br>
<pre><code class="go hljs"><span class="hljs-keyword">package</span> main<font></font>
<font></font>
<span class="hljs-keyword">import</span> (
	<span class="hljs-string">"html/template"</span>
	<span class="hljs-string">"net/http"</span><font></font>
)<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">handler</span><span class="hljs-params">(w http.ResponseWriter, r *http.Request)</span></span> {<font></font>
	param1 := r.URL.Query().Get(<span class="hljs-string">"param1"</span>)<font></font>
	tmpl := template.New(<span class="hljs-string">"hello"</span>)<font></font>
	tmpl, _ = tmpl.Parse(<span class="hljs-string">`{{define "T"}}{{.}}{{end}}`</span>)<font></font>
	tmpl.ExecuteTemplate(w, <span class="hljs-string">"T"</span>, param1)<font></font>
}<font></font>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {<font></font>
	http.HandleFunc(<span class="hljs-string">"/"</span>, handler)<font></font>
	http.ListenAndServe(<span class="hljs-string">":8080"</span>, <span class="hljs-literal">nil</span>)<font></font>
}<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero hay bibliotecas de terceros que puede usar al desarrollar aplicaciones web en Go. </font><font style="vertical-align: inherit;">Por ejemplo, el </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kit de herramientas web Gorilla</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que incluye bibliotecas para ayudar a los desarrolladores a hacer cosas como codificar valores de autenticación de cookies. </font><font style="vertical-align: inherit;">También hay </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nosurf</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que es un paquete HTTP que ayuda a prevenir la falsificación de solicitudes entre sitios ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CSRF</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. Protégete de la inyección SQL </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si ha estado desarrollando durante algún tiempo, puede saber acerca de las inyecciones SQL, que aún ocupan la primera posición en la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">parte superior de OWASP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Sin embargo, hay algunos puntos específicos que debe considerar al usar Go. Lo primero que debe hacer es asegurarse de que el usuario que se conecta a la base de datos tenga derechos limitados. También es una buena práctica desinfectar la entrada del usuario, como describí en la sección anterior, o escapar de caracteres especiales y usar la función </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTMLEscapeString</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> del paquete de plantillas HTML. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero el código más importante que debe incluir es el uso de consultas parametrizadas. En Go, no prepara una expresión (esta es una </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">declaración preparada</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) en conexión; Lo preparas en la base de datos. Aquí hay un ejemplo de cómo usar consultas parametrizadas:</font></font><br>
<br>
<pre><code class="go hljs">customerName := r.URL.Query().Get(<span class="hljs-string">"name"</span>)<font></font>
db.Exec(<span class="hljs-string">"UPDATE creditcards SET name=? WHERE customerId=?"</span>, customerName, <span class="hljs-number">233</span>, <span class="hljs-number">90</span>)</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sin embargo, ¿qué sucede si el motor de la base de datos no admite el uso de expresiones preparadas? </font><font style="vertical-align: inherit;">¿O qué pasa si afecta el rendimiento de la consulta? </font><font style="vertical-align: inherit;">Bueno, puede usar la función db.Query (), pero primero asegúrese de desinfectar la entrada del usuario, como se muestra en las secciones anteriores. </font><font style="vertical-align: inherit;">También hay bibliotecas de terceros, como </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sqlmap</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , para evitar la inyección de SQL. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A pesar de todos nuestros esfuerzos, a veces las vulnerabilidades se escapan o ingresan a nuestras aplicaciones a través de terceros. </font><font style="vertical-align: inherit;">Para proteger sus aplicaciones web de ataques críticos, como la inyección de SQL, considere usar una plataforma de administración de seguridad de aplicaciones como </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sqreen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. Cifrar información confidencial</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El hecho de que la cadena sea difícil de leer, por ejemplo, en formato base 64, no significa que el valor oculto sea secreto. Necesita una forma de cifrar la información que los atacantes no pueden decodificar fácilmente. La información típica que le gustaría encriptar son contraseñas de bases de datos, contraseñas de usuarios o incluso números de seguridad social. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La OWASP tiene varias </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">recomendaciones</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en lo que utilizan algoritmos de cifrado, por ejemplo, </font></font><code>bcrypt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>PDKDF2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>Argon2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o </font></font><code>scrypt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Afortunadamente, hay un paquete Go que incluye implementaciones confiables para cifrar información: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">criptografía</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . El siguiente código es un ejemplo de uso </font></font><code>bcrypt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="go hljs"><span class="hljs-keyword">package</span> main<font></font>
<font></font>
<span class="hljs-keyword">import</span> (
	<span class="hljs-string">"database/sql"</span>
	<span class="hljs-string">"context"</span>
	<span class="hljs-string">"fmt"</span><font></font>
<font></font>
	<span class="hljs-string">"golang.org/x/crypto/bcrypt"</span><font></font>
)<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {<font></font>
	ctx := context.Background()<font></font>
	email := []<span class="hljs-keyword">byte</span>(<span class="hljs-string">"john.doe@somedomain.com"</span>)<font></font>
	password := []<span class="hljs-keyword">byte</span>(<span class="hljs-string">"47;u5:B(95m72;Xq"</span>)<font></font>
<font></font>
	hashedPassword, err := bcrypt.GenerateFromPassword(password, bcrypt.DefaultCost)<font></font>
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		<span class="hljs-built_in">panic</span>(err)<font></font>
	}<font></font>
<font></font>
	stmt, err := db.PrepareContext(ctx, <span class="hljs-string">"INSERT INTO accounts SET hash=?, email=?"</span>)
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		<span class="hljs-built_in">panic</span>(err)<font></font>
	}<font></font>
	result, err := stmt.ExecContext(ctx, hashedPassword, email)<font></font>
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		<span class="hljs-built_in">panic</span>(err)<font></font>
	}<font></font>
}</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tenga en cuenta que aún debe tener cuidado al transferir información entre servicios. </font><font style="vertical-align: inherit;">No querrá enviar datos de usuario en texto sin formato. </font><font style="vertical-align: inherit;">No importa si la aplicación cifra los datos del usuario antes de guardarlos. </font><font style="vertical-align: inherit;">Suponga que alguien en Internet puede escuchar su tráfico y mantener registros de las solicitudes de su sistema. </font><font style="vertical-align: inherit;">Un atacante puede usar esta información para que coincida con otros datos de otros sistemas.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. Proporcionar conectividad HTTPS</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La mayoría de los navegadores actualmente requieren HTTPS para funcionar en todos los sitios. </font><font style="vertical-align: inherit;">Chrome, por ejemplo, le mostrará una advertencia si el sitio no usa HTTPS. </font><font style="vertical-align: inherit;">El departamento de seguridad de la información puede usar el cifrado de tránsito para la comunicación entre servicios como una política. </font><font style="vertical-align: inherit;">Es decir, para garantizar la seguridad de la conexión de tránsito en el sistema, no se trata solo de escuchar la aplicación en el puerto 443. También debe usar los certificados apropiados y usar HTTPS para evitar que los atacantes degraden el protocolo a HTTP. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aquí hay un fragmento de código para una aplicación web que proporciona y utiliza el protocolo HTTPS:</font></font><br>
<br>
<pre><code class="go hljs"><span class="hljs-keyword">package</span> main<font></font>
<font></font>
<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"crypto/tls"</span>
    <span class="hljs-string">"log"</span>
    <span class="hljs-string">"net/http"</span><font></font>
)<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {<font></font>
    mux := http.NewServeMux()<font></font>
    mux.HandleFunc(<span class="hljs-string">"/"</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(w http.ResponseWriter, req *http.Request)</span></span> {<font></font>
        w.Header().Add(<span class="hljs-string">"Strict-Transport-Security"</span>, <span class="hljs-string">"max-age=63072000; includeSubDomains"</span>)<font></font>
        w.Write([]<span class="hljs-keyword">byte</span>(<span class="hljs-string">"This is an example server.\n"</span>))<font></font>
    })<font></font>
    cfg := &amp;tls.Config{<font></font>
        MinVersion:               tls.VersionTLS12,<font></font>
        CurvePreferences:         []tls.CurveID{tls.CurveP521, tls.CurveP384, tls.CurveP256},<font></font>
        PreferServerCipherSuites: <span class="hljs-literal">true</span>,<font></font>
        CipherSuites: []<span class="hljs-keyword">uint16</span>{<font></font>
            tls.TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,<font></font>
            tls.TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA,<font></font>
            tls.TLS_RSA_WITH_AES_256_GCM_SHA384,<font></font>
            tls.TLS_RSA_WITH_AES_256_CBC_SHA,<font></font>
        },<font></font>
    }<font></font>
    srv := &amp;http.Server{<font></font>
        Addr:         <span class="hljs-string">":443"</span>,<font></font>
        Handler:      mux,<font></font>
        TLSConfig:    cfg,<font></font>
        TLSNextProto: <span class="hljs-built_in">make</span>(<span class="hljs-keyword">map</span>[<span class="hljs-keyword">string</span>]<span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(*http.Server, *tls.Conn, http.Handler)</span>, 0),</span><font></font>
    }<font></font>
    log.Fatal(srv.ListenAndServeTLS(<span class="hljs-string">"tls.crt"</span>, <span class="hljs-string">"tls.key"</span>))<font></font>
}</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tenga en cuenta que la aplicación escuchará en el puerto 443. La siguiente línea es la línea que proporciona la configuración HTTPS:</font></font><br>
<br>
<pre><code class="go hljs">w.Header().Add(<span class="hljs-string">"Strict-Transport-Security"</span>, <span class="hljs-string">"max-age=63072000; includeSubDomains"</span>)</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
También puede especificar el nombre del servidor en la configuración de TLS de esta manera:</font></font><br>
<pre><code class="go hljs">config := &amp;tls.Config{ServerName: <span class="hljs-string">"yourSiteOrServiceName"</span>}</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Siempre se recomienda que use cifrado de fondo, incluso si su aplicación web es solo para comunicación interna. </font><font style="vertical-align: inherit;">Imagínese si por algún motivo un atacante pudiera escuchar su tráfico interno. </font><font style="vertical-align: inherit;">Siempre que sea posible, siempre es mejor elevar el listón para posibles futuros atacantes.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6. Preste atención a los errores y registros.</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por último, pero no menos importante, este es el manejo de errores y el inicio de sesión en sus aplicaciones Go. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para solucionar con éxito los problemas de producción, debe configurar correctamente sus aplicaciones. </font><font style="vertical-align: inherit;">Debe tener en cuenta los errores que muestra a los usuarios. </font><font style="vertical-align: inherit;">No querrá que los usuarios sepan exactamente qué salió mal. </font><font style="vertical-align: inherit;">Los atacantes pueden usar esta información para determinar qué servicios y tecnologías usa. </font><font style="vertical-align: inherit;">Además, debe recordar que aunque los registros son maravillosos, se almacenan en algún lugar. </font><font style="vertical-align: inherit;">Y si los registros caen en las manos equivocadas, pueden usarse para incrustar el próximo ataque en el sistema.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, lo primero que debe aprender o recordar es que no hay excepciones para Go. </font><font style="vertical-align: inherit;">Esto significa que debe manejar los errores de manera diferente que en otros idiomas. </font><font style="vertical-align: inherit;">El estándar se ve así:</font></font><br>
<br>
<pre><code class="go hljs"><span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
    <span class="hljs-comment">//  </span>
}</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Go también ofrece una biblioteca incorporada para trabajar con registros. </font><font style="vertical-align: inherit;">El código más simple se ve así:</font></font><br>
<br>
<pre><code class="go hljs"><span class="hljs-keyword">package</span> main<font></font>
<font></font>
<span class="hljs-keyword">import</span> (
	<span class="hljs-string">"log"</span><font></font>
)<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {<font></font>
	log.Print(<span class="hljs-string">"Logging in Go!"</span>)<font></font>
}</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero hay bibliotecas de terceros para mantener registros. </font><font style="vertical-align: inherit;">Algunos de estos son </font></font><code>logrus</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>glog</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y </font></font><code>loggo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Aquí hay un pequeño fragmento de código usando </font></font><code>logrus</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="go hljs"><span class="hljs-keyword">package</span> main<font></font>
<font></font>
<span class="hljs-keyword">import</span> (
	<span class="hljs-string">"os"</span><font></font>
<font></font>
	log <span class="hljs-string">"github.com/sirupsen/logrus"</span><font></font>
)<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {<font></font>
	file, err := os.OpenFile(<span class="hljs-string">"info.log"</span>, os.O_CREATE|os.O_APPEND, <span class="hljs-number">0644</span>)
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {<font></font>
		log.Fatal(err)<font></font>
	}<font></font>
<font></font>
	<span class="hljs-keyword">defer</span> file.Close()<font></font>
<font></font>
	log.SetOutput(file)<font></font>
	log.SetFormatter(&amp;log.JSONFormatter{})<font></font>
	log.SetLevel(log.WarnLevel)<font></font>
<font></font>
	log.WithFields(log.Fields{<font></font>
		<span class="hljs-string">"animal"</span>: <span class="hljs-string">"walrus"</span>,
		<span class="hljs-string">"size"</span>:   <span class="hljs-number">10</span>,<font></font>
	}).Info(<span class="hljs-string">"A group of walrus emerges from the ocean"</span>)<font></font>
}</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Finalmente, asegúrese de aplicar todas las recomendaciones anteriores, como el cifrado y el saneamiento de los datos que coloca en los registros.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Siempre hay espacio para crecer</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estas pautas son las mínimas que deberían ser específicas para sus aplicaciones Go. </font><font style="vertical-align: inherit;">Sin embargo, si su aplicación es una herramienta de línea de comandos, no necesitará métodos de cifrado para el tránsito. </font><font style="vertical-align: inherit;">Pero el resto de los consejos de seguridad se aplican a casi todos los tipos de aplicaciones. </font><font style="vertical-align: inherit;">Si desea saber más, hay un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">libro de OWASP específicamente para Go</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que </font><font style="vertical-align: inherit;">trata </font><font style="vertical-align: inherit;">algunos temas. </font><font style="vertical-align: inherit;">También hay un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">repositorio que</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> contiene enlaces a marcos, bibliotecas y otras herramientas de seguridad en Go.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No importa lo que termine haciendo, recuerde que siempre puede aumentar la seguridad de su aplicación. </font><font style="vertical-align: inherit;">Los atacantes siempre encontrarán nuevas formas de explotar las vulnerabilidades, así que trate de trabajar constantemente en la seguridad de su aplicación.</font></font><br>
<hr><br>
<i>     . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="></a> — ,            ,           ,  .NET, Node.js  Java,     Docker.</i><br>
<br>
<b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">   .</a></b></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es488708/index.html">Guardando la lógica de filtrado en Swift Combine. Parte 2</a></li>
<li><a href="../es488712/index.html">Check Point WatchTower: administre NGFW desde un teléfono inteligente</a></li>
<li><a href="../es488716/index.html">Materiales frontend del mitap de Kazan: Phoenix LiveView, frontops, JSON: API</a></li>
<li><a href="../es488720/index.html">Raspado web Parte 1</a></li>
<li><a href="../es488722/index.html">Semana de la seguridad 08: regresan los virus</a></li>
<li><a href="../es488726/index.html">Entrevista con el ingeniero de NIPTB Onega, el ganador de WorldSkills Hi-Tech sobre trabajo, campeonato y CAD</a></li>
<li><a href="../es488728/index.html">Dos formas de inflar el precio del petróleo, o los ataques contra el petróleo y el gas como medio para influir en los índices bursátiles</a></li>
<li><a href="../es488730/index.html">Nuevos estándares rusos para Internet de las cosas, fabricación inteligente y ciudad inteligente</a></li>
<li><a href="../es488732/index.html">Talentoso Sr. Simon: cómo las habilidades únicas y la impresión 3D pueden cambiar el proceso de producción</a></li>
<li><a href="../es488736/index.html">El trabajo remoto está ganando impulso</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>