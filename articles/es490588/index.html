<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèº‚Äçüéì üåô ü§Ωüèª Submarino casero con antena wifi de superficie ‚úÇÔ∏è üë©üèæ‚Äç‚úàÔ∏è üë©‚Äçüåæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="C√≥mo todo empez√≥
 Doy la bienvenida a todos. Soy Maxim y quiero compartir informaci√≥n sobre c√≥mo ensambl√© un submarino controlado por radio sin ning√∫n...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Submarino casero con antena wifi de superficie</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/490588/"><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√≥mo todo empez√≥</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Doy la bienvenida a todos. Soy Maxim y quiero compartir informaci√≥n sobre c√≥mo ensambl√© un submarino controlado por radio sin ning√∫n conocimiento de electr√≥nica al comienzo de mi viaje. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bz/u5/cv/bzu5cveeopuetfrblpp_-cugg0i.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yo mismo soy un artista de animaci√≥n y gr√°ficos por computadora, nunca he hecho programaci√≥n o electr√≥nica. Solo ten√≠a una peque√±a cantidad de conocimiento sobre soldadura, que mi abuelo me dio cuando a√∫n era un estudiante de primaria. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Toda mi vida me interes√≥ el tema de la investigaci√≥n subacu√°tica, todo comenz√≥ al mismo tiempo, en la infancia, con J.I. Cousteau, y termin√≥ con el desarrollo de un juego sobre los oc√©anos helados de Europa. Pero, sin embargo, ahora no se trata de eso.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Habiendo decidido que era hora de transferir mis pasatiempos al plano de pr√°ctica, fui a Youtube. </font><font style="vertical-align: inherit;">Obtuve un pu√±ado de los conocimientos m√°s b√°sicos y luego mi camino ya estaba en AliExpress, como muchos. </font><font style="vertical-align: inherit;">Todo termin√≥ con la compra de 27 nombres de varios m√≥dulos y otros componentes. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/k4/4b/gx/k44bgx07o5m0yezj2ozb2xgqb2s.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El empleado de la oficina de correos estaba muy descontento cuando buscaba 27 paquetes ...</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El comienzo del trabajo en el submarino y las primeras fallas.</font></font></h3><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Revelaci√≥n</font></font></b><div class="spoiler_text">   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="></a>   ,         ,           . <br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al principio encontr√© a un hombre que conoce de primera mano los submarinos; me ayud√≥ con la teor√≠a y las pruebas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Luego, inmediatamente comenc√© a escribir mi primer c√≥digo para Arduino. Era un c√≥digo para controlar dos motores submarinos. Dos potenci√≥metros: el izquierdo controla la potencia total de los motores y el derecho controla la rotaci√≥n del submarino (reduce la potencia de uno de los motores, dependiendo de la posici√≥n del potenci√≥metro). Todo esto lo mostr√© en una pantalla econ√≥mica, ya que planeaba hacer un panel de control separado (como resultado, el submarino se controla a trav√©s de un tel√©fono inteligente).</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ba/tr/nd/batrndfvay3ft6zhgdnwub1o-84.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Teniendo en cuenta que hace una semana no sab√≠a c√≥mo funcionan los potenci√≥metros, mi entusiasmo era indescriptible. </font><font style="vertical-align: inherit;">Sin parar all√≠, fui a una ferreter√≠a y a una farmacia. </font><font style="vertical-align: inherit;">En la industria de la construcci√≥n, califiqu√© varias tuber√≠as, acoplamientos y abrazaderas de polipropileno, y en la farmacia tom√© varias jeringas Janet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las tuber√≠as, respectivamente, fueron al casco del submarino y las jeringas al m√≥dulo cambiaron la flotabilidad. </font><font style="vertical-align: inherit;">Solo el m√≥dulo para cambiar la flotabilidad result√≥ ser la parte m√°s problem√°tica para m√≠.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√≥dulo de flotabilidad</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las tareas de este m√≥dulo son bastante simples, recolectan agua y la vuelven a ordenar. </font><font style="vertical-align: inherit;">Y surgi√≥ la pregunta: ¬øc√≥mo empujar el pist√≥n de una jeringa, con un pu√±ado de servos, motores y un conjunto de engranajes? </font><font style="vertical-align: inherit;">No vale la pena presionar as√≠: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/9h/er/6g/9her6gitp8uzl1io6bcms26qcwo.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
fue la primera experiencia de interactuar con engranajes y otras bagatelas. </font><font style="vertical-align: inherit;">Por cierto, pude rehacer el servo sg90 para una rotaci√≥n de 360 ‚Äã‚Äã¬∞: afil√© el pestillo del engranaje principal, que gir√≥ el potenci√≥metro, y pegu√© el eje del potenci√≥metro en la posici√≥n cero, para que no girara accidentalmente incluso con un limitador recortado.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Foto del engranaje</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/webt/ek/py/84/ekpy84eratokd-scwdoxk2csug0.jpeg"><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esto todav√≠a no ayud√≥ a resolver el problema: no pude arreglar de manera confiable el engranaje que interact√∫a con el portaequipajes. </font><font style="vertical-align: inherit;">La </font><font style="vertical-align: inherit;">experiencia de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ingenier√≠a</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adquirida me ayud√≥ a dominar el m√≥dulo de cambio de flotabilidad la segunda vez: tom√© un servo m√°s potente, una varilla roscada gruesa y una tuerca, que fij√© en el pist√≥n. </font><font style="vertical-align: inherit;">Esta vez no me molest√© con la modificaci√≥n del servo, decid√≠ que es m√°s f√°cil usar un controlador externo y conectarlo directamente al servomotor.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/pv/fn/l0/pvfnl0hcqik6ofdf37vg0x4olji.jpeg"><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Soy ingeniero en mama</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/webt/9v/nh/an/9vnhanu96dtnw9kvzuemkltwvjs.jpeg"><br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Acoplamiento flexible Wasyansky</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/webt/ve/i9/0e/vei90e6y1oezmmnql3kyuo4epac.jpeg"><br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Marco de aluminio para la rigidez</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/webt/tc/qt/di/tcqtdi_-xnk4gpj5qhop-3qdvfa.jpeg"><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se coloc√≥ un tel√©metro l√°ser en el pist√≥n para poder determinar en tiempo real, en qu√© posici√≥n se encuentra ahora. Bueno, en base a estos datos de distancia, prescrib√≠ un bloqueo de pist√≥n cuando est√° en posiciones extremas. Quiz√°s haya m√©todos m√°s simples para determinar la posici√≥n del pist√≥n, pero accidentalmente encontr√© un m√≥dulo muy barato de los chinos: el </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">buscador de</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> rango </font><b><font style="vertical-align: inherit;">VL53L0X</font></b><font style="vertical-align: inherit;"> y decid√≠ usarlo. Como resultado, qued√© muy satisfecho, la biblioteca es simple, funciona como deber√≠a, aconsejo. La precisi√≥n en el espacio confinado de la jeringa es de alrededor de 5 mm, en principio, eso fue suficiente para m√≠.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/1j/7v/sj/1j7vsjyxxezkjxh95l1jku2-n2y.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Durante la prueba, surgi√≥ otro problema: el pist√≥n se adhiere fuertemente a las paredes de la jeringa. </font><font style="vertical-align: inherit;">No s√© con qu√© est√° conectado, pero para iniciar el movimiento del pist√≥n es necesario aplicar una fuerza considerable, despu√©s del atasco inicial, contin√∫a normalmente. </font><font style="vertical-align: inherit;">Probamos casi todos los tipos de lubricantes, muchos de ellos lo empeoraron. </font><font style="vertical-align: inherit;">Por esta raz√≥n, tuve que agregar un marco de aluminio para el m√≥dulo.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Motores</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Con el sistema de propulsi√≥n, me decid√≠ por la soluci√≥n m√°s simple y tom√© motores submarinos listos para usar. </font><font style="vertical-align: inherit;">Antes de esto, prob√© la opci√≥n con un motor dentro de la caja. </font><font style="vertical-align: inherit;">Ped√≠ un tubo de popa en un conjunto con un eje y tornillos, pero a medida que estudiaba el tema, result√≥ que para mis prop√≥sitos necesitaba un sistema completo: un sello de aceite complejo, bridas, etc. </font><font style="vertical-align: inherit;">De lo contrario, proceder√° en cualquier caso. </font><font style="vertical-align: inherit;">Tengo planes para el futuro de lanzar el submarino en alg√∫n lugar de Ladoga y administrarlo a trav√©s de redes 3G, sentado en casa en el sof√°, lo que significa que cualquier posible fuga conducir√° a una peque√±a autonom√≠a del dispositivo. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/tr/3u/j4/tr3uj4jx8thwre3o3v30lxhsirw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En el futuro planeo usar solo motores submarinos, muy probablemente sin escobillas. </font><font style="vertical-align: inherit;">Por el momento, estos se utilizan, colector:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/eu/1k/wp/eu1kwp6v9vpix4xkcmvkmncmjae.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los controlo usando PWM. </font><font style="vertical-align: inherit;">El vendedor dice que tienen una profundidad m√°xima de 8 metros, lo que, nuevamente, impone algunas restricciones de inmediato.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alojamiento</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El caso fue una tarea interesante: hacer una conexi√≥n sellada, que se desmontar√≠a f√°cilmente. </font><font style="vertical-align: inherit;">No cumpl√≠ la tarea, tuve que pegar todo con fuerza. </font><font style="vertical-align: inherit;">Cuando la jeringa extrae agua, se crea presi√≥n dentro del cuerpo y todos nuestros sujetadores simplemente se exprimen. </font><font style="vertical-align: inherit;">Como resultado, todos los cables importantes se llevaron a un conector sellado, a trav√©s del cual puede cargar el dispositivo, flashear el Arduino a bordo y conectar la antena. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
S√≠, nuestra antena est√° conectada mediante un cable y est√° en la posici√≥n de superficie, lo que garantiza una comunicaci√≥n confiable. </font><font style="vertical-align: inherit;">Pero sobre la antena un poco m√°s tarde.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/kz/hq/2b/kzhq2bwlzjvd-rw43ejh-ur-uxm.jpeg"><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fotos adicionales</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/webt/px/in/ec/pxinecpnfji9yl2ztbkmvd1byim.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/gv/lk/xp/gvlkxplb_bjmrqpeueba1dsf82g.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/ns/bg/o0/nsbgo00lclah8zll2nh7xc3o5aq.jpeg"><br>
<br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La carcasa consta de tubos y acoplamientos de polipropileno de 50 mm. </font><font style="vertical-align: inherit;">Las juntas est√°n cubiertas con pasta sellada y, en la parte superior, para mayor resistencia, se llenan con fusi√≥n en caliente. </font><font style="vertical-align: inherit;">Una boquilla de jeringa, un conector herm√©tico, un interruptor de palanca de inclusi√≥n y dos cables para reflectores fueron llevados al final. </font><font style="vertical-align: inherit;">Proyectores montados en la proa de la parte inundada, este dise√±o permiti√≥ desplazar el centro de gravedad m√°s cerca del centro del submarino.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cerebros submarinos</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta es la parte m√°s interesante para m√≠. Cuando comenc√© a calcular el circuito, todav√≠a no sab√≠a c√≥mo, por ejemplo, funcionan los condensadores y por qu√© son necesarios. Estaba muy contento cuando, al apagar la alimentaci√≥n, el LED en el Arduino se desvaneci√≥ lentamente debido a un condensador capacitivo. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De hecho, fueron √∫tiles en el circuito para suavizar los picos que surgen en el circuito debido al funcionamiento de los motores del colector. Tambi√©n son necesarios para conectar un regulador de voltaje. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tenemos una bater√≠a de dos celdas, respectivamente 8.4 V, el voltaje va a los motores y 5 V despu√©s del estabilizador, al Arduino y otros sensores. </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Esquema de</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tama√±o completo </font><font style="vertical-align: inherit;">(se puede hacer clic):</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/8u/y5/j-/8uy5j-tm7ah4regwnriy-gsylg8.png"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al principio, muchas cosas no funcionaron solo por el hecho de que coleccion√© todo en una placa de pruebas. Simplemente no pod√≠a entender por qu√© esta o aquella parte del circuito no funciona. Como resultado, todo comenz√≥ a soldarse y los resultados positivos no tardaron en llegar. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rr/ms/rt/rrmsrt7g43ed7guybcbugkoj14q.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Uno de los problemas interesantes surgi√≥ con el tel√©metro. Tiene una buena biblioteca, pero si configura el modo de precisi√≥n en medio o alto, todo el boceto se ralentizar√° y el control saldr√° con un ping de 2000 ms como m√≠nimo. Debido a esto, el buscador de rango est√° en modo R√ÅPIDO, pero su precisi√≥n a√∫n es suficiente para nuestras tareas.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lo siguiente que encontr√© es la gesti√≥n de cables. </font><font style="vertical-align: inherit;">Di√°metro de la caja 50 mm. </font><font style="vertical-align: inherit;">Parece que esto es mucho, hasta que comienzas a tratar de colocar todo dentro. </font><font style="vertical-align: inherit;">Utilic√© cables rectos y audaces dise√±ados para audio, lo que me decepcion√≥ mucho. </font><font style="vertical-align: inherit;">Solo quer√≠a cobre, porque es conveniente soldarlos, y para que no se rompan, como los de aluminio. </font><font style="vertical-align: inherit;">La pr√≥xima vez pasar√© m√°s tiempo buscando buenos cables. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/tg/rk/kr/tgrkkrteouyf1pqcyqpsqozmqfk.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/qs/lt/n4/qsltn4obefspud7rvoulugh0-hy.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Otras dificultades surgieron solo con la antena.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Antena</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como antena, decid√≠ usar esp8266 y controlar el submarino a trav√©s de un tel√©fono inteligente a trav√©s de Wi-Fi. Solo los chinos tienen una amplia variedad de m√≥dulos basados ‚Äã‚Äãen ESP8266, compr√© tres diferentes, pero pude conectar y flashear solo uno de ellos: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ESP-01</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En teor√≠a, si ordena ahora, ya estar√°n con el firmware necesario. La administraci√≥n se realiza a trav√©s de RemoteXY, y necesita una versi√≥n de firmware espec√≠fica para los comandos AT. El problema de encontrar el firmware correcto para controlar mediante comandos AT se resolvi√≥ solo con la ayuda de la gu√≠a RemoteXY. Por cierto, no publicidad, simplemente me gust√≥ la interfaz, y solo entonces encontr√© dise√±adores de interfaz m√°s convenientes y bien desarrollados para todo tipo de IoT.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/sb/tw/y3/sbtwy3qqfrgnizav6ze85ogczes.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despu√©s de un firmware exitoso, colgu√© el m√≥dulo con los componentes necesarios para el trabajo y solde un conector USB para una conexi√≥n conveniente. Integramos el USB mate en el corcho debajo de una botella normal y obtuvimos una antena con cable simple con la capacidad de cambiar la carcasa (reemplazo de la botella). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/_h/hv/uh/_hhvuhtxp2dta1-hgnzv40yr9r0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hubo m√°s problemas adem√°s del firmware. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La placa ESP-01 deber√≠a funcionar desde 3.3 V, y no desde 5 V. Adem√°s, tanto la l√≥gica como la fuente de alimentaci√≥n. Si configur√© la l√≥gica a trav√©s de un convertidor de nivel, entonces era demasiado vago como para meterme con la corriente y solo puse un peque√±o radiador en el chip. A partir de cinco voltios funciona bien, pero hace mucho calor. El radiador al final ayuda a no quemar el chip.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gv/vx/as/gvvxaswprxalwfcicrbr-omweuu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Otro problema: tom√© el cable ideal para el conector sellado, pero solo tiene 2 pines con blindaje, mientras que para la antena necesitas 4 (alimentaci√≥n y RX y TX para la comunicaci√≥n entre la antena y Arduino a bordo). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Result√≥ que no ser√≠a posible encender nuestra antena por separado, ya que para que ESP + Arduino funcionara, era necesario tener una base com√∫n. </font><font style="vertical-align: inherit;">Tuve que usar blindaje como tierra cerca del cable y agregar una bater√≠a separada a la antena. </font><font style="vertical-align: inherit;">Inconveniente, pero funciona. </font><font style="vertical-align: inherit;">Es m√°s f√°cil, por supuesto, encontrar un cable para 4 n√∫cleos y alimentar la antena con bater√≠as del submarino. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kr/lv/3d/krlv3djpq_xaaa6kgv63vofdsdc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En la foto hay una buena coincidencia de los di√°metros del cable, el tubo de silicona y el orificio de engarzado en el conector sellado.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gesti√≥n y firmware</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La gesti√≥n se lleva a cabo a trav√©s de la interfaz desde el tel√©fono inteligente. La interfaz se compon√≠a de m√≥dulos listos para usar directamente en el sitio, recibi√≥ el c√≥digo fuente de la interfaz y luego qued√≥ solo para vincular los diversos elementos de la interfaz a las acciones dentro del firmware. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cv/lt/cb/cvltcbbbb9idvyj65gmr2tp_fi4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Antes de recibir el c√≥digo fuente de la interfaz, debe especificar en la configuraci√≥n el tipo de m√≥dulo inal√°mbrico con el que interactuar√° el Arduino. Solo mostramos el Arduino: con el m√≥dulo Wi-Fi, la comunicaci√≥n se realiza autom√°ticamente a trav√©s de los comandos AT. Se crea un punto de acceso, con√©ctese a √©l desde un tel√©fono inteligente y contr√≥lelo a trav√©s de una aplicaci√≥n preinstalada. La interfaz proviene de Arduino, est√° conectada al firmware y es reconocida por la aplicaci√≥n en el tel√©fono inteligente.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este fue mi primer c√≥digo, no lo dejar√© aqu√≠, porque solo usa habilidades b√°sicas de programaci√≥n y matem√°ticas b√°sicas. Hubo algunos momentos dif√≠ciles para m√≠: no pude hacer la operaci√≥n l√≥gica habitual la primera vez, por lo que a ciertos valores el servoaccionamiento de la jeringa se bloquear√≠a para un movimiento unidireccional. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por ejemplo, cuando se trata de la ingesta m√°xima de agua, el pist√≥n debe detenerse hacia atr√°s, pero no debe bloquearse hacia adelante. Y viceversa, cuando se exprime toda el agua, el pist√≥n no debe avanzar, pero sin ning√∫n problema, ejecute el comando de retorno.</font></font><br>
<br>
<pre><code class="cpp">  if ((RemoteXY.button_1 == 1) &amp;&amp; (RemoteXY.button_2 == 0) &amp;&amp; (val_f &lt; 100)) {<font></font>
    pwm_UP = 1;<font></font>
    pwm_DOWN = 0;<font></font>
  }<font></font>
<font></font>
  else if ((RemoteXY.button_1 == 0) &amp;&amp; (RemoteXY.button_2 == 1) &amp;&amp; (val_f &gt; 25)) {<font></font>
    pwm_UP = 0;<font></font>
    pwm_DOWN = 1;<font></font>
  }<font></font>
  else {<font></font>
    pwm_UP = 0;<font></font>
    pwm_DOWN = 0;<font></font>
  }</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta es la construcci√≥n l√≥gica al final, donde </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RemoteXY.button_ #</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> son botones en la interfaz para bucear o salir a la superficie. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adem√°s, desde la parte dif√≠cil para m√≠ en el c√≥digo, este es un filtro de buscador de rango (tom√© uno de los m√°s simples de la red), bueno, estableciendo los valores para el volt√≠metro. El filtro era necesario debido al modo FAST mencionado anteriormente en el tel√©metro, los valores de entrada aumentaron mucho y el filtro simplemente ayud√≥ a hacer frente. Pero el volt√≠metro fue √∫til para indicar la descarga de las bater√≠as. El Arduino tiene un pin de referencia, y si no se le aplican m√°s de 1.1 voltios, el Arduino podr√° determinar con precisi√≥n el voltaje suministrado a este pin. Convertimos 8.4 V despu√©s del divisor de voltaje a 1.1 V. Y esta conversi√≥n result√≥ ser inexacta, tuve que corregir experimentalmente el valor del voltaje agregando una variable al firmware.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pruebas</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las pruebas se llevaron a cabo en una cantera abandonada con agua relativamente limpia. </font><font style="vertical-align: inherit;">Para las pruebas, fue necesario reparar la c√°mara y ajustar el ajuste del submarino (junto con la flotabilidad neutra b√°sica). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La primera tarea se resolvi√≥ simplemente instalando el tornillo correcto para el soporte de la c√°mara. </font><font style="vertical-align: inherit;">Para evitar las rotaciones de la c√°mara, se agreg√≥ un poco de arcilla.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ie/kq/un/iekqunj_kf29qryzxv5jpibhvms.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El recortador estaba regido por una bolsa, que result√≥ conveniente enganchar a la abrazadera, y la abrazadera ya se puede mover f√°cilmente a lo largo del submarino. </font><font style="vertical-align: inherit;">Por la cantidad de nueces en la bolsa, establecimos flotabilidad neutra y luego recogimos r√°pidamente la posici√≥n de la abrazadera para que el submarino no se mordiera la nariz. </font><font style="vertical-align: inherit;">La decisi√≥n sobre esta opci√≥n se tom√≥ justo antes del viaje a la cantera, simplemente no quedaba tiempo para hacer un sistema de recorte autom√°tico. </font><font style="vertical-align: inherit;">En teor√≠a, es muy f√°cil de hacer moviendo la carga a lo largo de la varilla roscada. </font><font style="vertical-align: inherit;">En el pr√≥ximo submarino intentar√© exactamente esta opci√≥n. </font><font style="vertical-align: inherit;">Aqu√≠, tal vez, est√° todo el submarino. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Grab√© dos videos donde hablo con m√°s detalle sobre la asamblea y muestro las tomas que logr√© filmar bajo el agua. </font><font style="vertical-align: inherit;">Tener un buen</font></font><anchor><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de ver</font></font></anchor><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/gTyJJSzhPgU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Espero que el material haya sido interesante. </font><font style="vertical-align: inherit;">A continuaci√≥n se realizar√°n experimentos en la c√°mara de presi√≥n (para verificar la estanqueidad del aparato) y pruebas de remos bajo el agua. </font><font style="vertical-align: inherit;">Sobre ellos tambi√©n preparar√© material en forma de art√≠culo, pero ya con gr√°ficos y comparaciones de varias decisiones.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es490574/index.html">¬øQu√© tienen en com√∫n la recursividad, las p√°ginas de destino y el marketing de contenidos? Dice el fundador de la agencia Embacy</a></li>
<li><a href="../es490576/index.html">Ba√±o ultras√≥nico. Parte 1</a></li>
<li><a href="../es490578/index.html">El resumen de materiales interesantes para el desarrollador m√≥vil # 335 (24 de febrero - 1 de marzo)</a></li>
<li><a href="../es490584/index.html">Infineon ha implementado certificados de firma cruzada en sus chips criptogr√°ficos</a></li>
<li><a href="../es490586/index.html">¬øQu√© es Spring Framework? De la inyecci√≥n de dependencia a MVC web</a></li>
<li><a href="../es490592/index.html">Instalar VestaCP en VPS, usar docker para degradar PHP</a></li>
<li><a href="../es490594/index.html">FOSS News No. 5 - revisi√≥n de noticias gratuitas y de c√≥digo abierto del 24 de febrero al 1 de marzo de 2020</a></li>
<li><a href="../es490596/index.html">La historia de los sintetizadores de voz: las primeras instalaciones mec√°nicas</a></li>
<li><a href="../es490598/index.html">Anuncios de Microsoft sobre ex√°menes y certificados</a></li>
<li><a href="../es490602/index.html">Hack The Box. Recorrido del carro√±ero. DNS, FTP y rastros de otro hack</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>