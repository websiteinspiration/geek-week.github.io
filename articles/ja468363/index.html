<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👏🏿 ✌🏻 🍂 モバイルゲームの世界からの私のマグナムオーパス ✋ 👩🏼‍🤝‍👩🏻 📝</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="こんにちは、ハブル！今日、9月26日は私の誕生日です。つまり、これは私のパズルの続編に関する記事を公開する大きな理由です。私はアマチュアであることを警告します。つまり、開発のすべての面で多くのエラーが発生することになります（見つけた場合は、書いてください。喜んで考慮します）。この記事では、私が続編を...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>モバイルゲームの世界からの私のマグナムオーパス</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/468363/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">こんにちは、ハブル！</font><font style="vertical-align: inherit;">今日、9月26日は私の誕生日です。つまり、これは私のパズルの続編に関する記事を公開する大きな理由です。</font><font style="vertical-align: inherit;">私はアマチュアであることを警告します。つまり、開発のすべての面で多くのエラーが発生することになります（見つけた場合は、書いてください。喜んで考慮します）。</font><font style="vertical-align: inherit;">この記事では、私が続編をどのように作成したか、どのようにしてこれに行ったか、何をしたかについてすべて（まあ、またはほとんどすべて）に伝えたいと思います。</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
混乱しないように、ここでは記事にある用語の意味を示します</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。オリジナルは最初の部分であり、アンダーグラウンドの「テクノデモ」ドライブを備えたゲームです。あなたはそれについて</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここで</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">読むことができ</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
続編はシリーズの第2部で、この記事で説明するゲームです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
元のゲームと続編を定期的に比較して、両者の違いを強調します。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">開発について簡単に説明する</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
と、1月の終わりにゲームの</font><i><font style="vertical-align: inherit;">開発</font></i><font style="vertical-align: inherit;">を開始し、3月の終わりまでに技術的な部分が完了しました（2か月）。私は別のゲームを取り、5月中旬にこのゲームの開発を続けるために戻った後。私は夏の終わりにはっきりと卒業しましたが、この間（3.5か月）私はゲームをコンテンツで満たしました。その結果、続編は元のゲームよりも速くなりました（6か月対5.5か月）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unityエンジンでゲームを作りました。私は</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これらの人たち</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に独自のエンジンを作ってプログラミングを進めて</font><font style="vertical-align: inherit;">もらいたい</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">のです</font></a><font style="vertical-align: inherit;">が、何かがうまくいかず、標準でゲームを作ることにしましたが、私の楽器でテストしました。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オリジナルと続編</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
の</font><i><font style="vertical-align: inherit;">間に</font></i><font style="vertical-align: inherit;">オリジナルゲームのリリースの1か月前（8月のいつか）に、続編を作成するというアイデアが浮かびました。私が犯した間違いを見て、すべてを削除して、成功した成果で再び作業を開始したいと思いました。しかし、問題のあるコードがたくさんあり、すべてのコンテンツの準備ができていて、開発を遅らせただけで、何も変更し始めませんでした。リリースに行く必要がありました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リリース後、私は続編のアイデアに再び苦しみました。</font><font style="vertical-align: inherit;">今回は道徳的に怠惰だったのでリリースしませんでした。リリース後は完全にソフトでした。</font><font style="vertical-align: inherit;">新しくて面白いものが欲しかった。</font><font style="vertical-align: inherit;">大量実験が始まりました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次の3か月で、アイデア、設定、コンセプトをゲームに実装しようとしました。</font><font style="vertical-align: inherit;">野心の規模、実行の難しさ、そして時には論理と常識にもかかわらず、私はそうしました。</font><font style="vertical-align: inherit;">その結果、約50件のプロジェクトを獲得しました。</font><font style="vertical-align: inherit;">それらはすべて異なるジャンルでした：シューティングゲームから戦略、プラットフォーマーからRPGゲームまで。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
だから、飽きるまで実験は続く。</font><font style="vertical-align: inherit;">そして、私はゲームを作っていないのにうんざりしていますが、私が作ったゲームの不完全さです。</font><font style="vertical-align: inherit;">私は自分に目標を与えました：終了の1週間前に少なくともゲームを作ること。</font><font style="vertical-align: inherit;">そして、私の第二のゲームが登場しました。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロ2ゲーム</font></font></b><div class="spoiler_text">      .       .    ,       2,      .     ,     .  ,      .<br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/fq/ey/fc/fqeyfcevpqtzh8uxu8xvmib4h0g.jpeg" width="400"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/c-/xl/-j/c-xl-jj2fecfxp1d5eiofqybahg.jpeg" width="400"></div><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この後、やる気が出て（やる気が出て）、新しいプロジェクトの準備ができました。</font><font style="vertical-align: inherit;">私は強さの高まりを感じたが、それでも私のゲームの続編を取り上げた。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アイデア</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
何かを始める前に、オリジナルを完全に見てみることにしました。</font><font style="vertical-align: inherit;">そして恐ろしい。</font><font style="vertical-align: inherit;">品質から。</font><font style="vertical-align: inherit;">何よりも、ゲームは標準的なパズルの下で刈り取られました：レベルのロックを解除し、星を集め、タイマー、フィニッシュする必要がありますが、これはすべて予算なしで非常に味のないものでした。</font><font style="vertical-align: inherit;">オリジナルは本当にアニメーションが足りませんでした！</font><font style="vertical-align: inherit;">そこには独自の何かがありましたが、おそらく何か、誠実でした。</font><font style="vertical-align: inherit;">ここでさえ、彼らはなんとか私の前を走りました。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私は似たようなものを見つけました</font></font></b><div class="spoiler_text">,        .          .       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>.<br>
  ,      LG Smart TV.     LG R&amp;D Lab  2014 :<br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/qs/r_/ro/qsr_rozxewpa190vstdrslntr9i.png" width="400"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/h4/vt/3x/h4vt3xoolsh3l-rqqyxi7p52q7k.png" width="600"></div><br>
   «»  «»  .   ,      (2  ).   ,       — 30°.  ,  ,      .        2     .<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/9k/8h/u6/9k8hu6sbmhqtlta1k8nnand7jkm.png" width="500"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/sd/oa/dx/sdoadx3lb0kw-jx08nwmuszcewe.png" width="500"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/wc/hj/b7/wchjb7a3e8pfykhr1kokfnxxslw.png" width="500"></div><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
オリジナルの非常に悲惨な位置を理解して、私はそれをより良くするために、根本的な変更でゲームを復活させることにしました。そして、ファンタジーが飛びました：プロットがあり、そこに選択肢があり、思慮深い攻撃を持つボスがあり、オリジナルがそれほど欠けているプロダクションがあり、単一の完了した冒険の感覚があるなどです。一般的に、オリジナルと続編の間の時間に思いついたすべての最高のアイデア。そして、うまくいかなかったり、うまくいかなかったりしたことはすべて、続編から捨てる運命にありました。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初のデモ</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もちろん、すべて彼から始まりました。私は、「問題を解決する場合は徹底的に行う」と決定しました。そして、そのような変化の最初の犠牲者は管理でした。私はそれを同様のゲームから盗むことができました（上記を参照）。これはまさしく私が最初に欲しかった管理ですが、どうやって作るのかわかりませんでした。補足は非常に簡単です。クリックするたびに回転アニメーションを追加するだけです。しかし、それは私にはありませんでした。少なくともコントロールが同様のゲームと同様に認識されるためには、同じ静的カメラを作成し、ゲームのペースとともにレベルを明らかに下げる必要がありました。でも、アクション、ダイナミクス、スピードが欲しかったので、元のコントロールを論理的に開発しました。さて、ある程度押して回転させる代わりに、締め付けがあり、最終的な回転の程度はその持続時間によって決定されました。オリジナルより明らかに良く見えた。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
元々の主なバグが消えたのは通常私がコントロールを制御していたためで、今ではラグやフリーズを恐れることなく、元のレベルよりもはるかに多くのレベルをロードすることが可能でした。そして実験的な部分が来ました。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">グラフィックデモ</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
私は通常のグラフィックの描き方を知りませんでした。ほとんどの場合、それは技術的な部分、または通常の実行に置き換えられました。そして、このゲームも例外ではありませんでした。単純な通常のスプライトの代わりに、現実的な光が現れました。それは2Dライトの幻想でした。実際、これは金属表面に対する3次元の光であり、すべてのオブジェクトには特定のシェーダーを持つマテリアルがありました。それはかなりよさそうでした：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/xr/y4/r7/xry4r7d7f2-qgnnrzxno2cbmpea.png" width="500"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/5s/t7/9k/5st79k9tkdwa86zq4eg9xrcesc8.png" width="500"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テストでは、安定した60 fpsを生成しましたが、電話では、私のソニーのxperiaでも約20 fpsで、10 fpsまで低下しました。そしてパフォーマンスの上限にぶつかった。私は別の道に行かなければなりませんでした...の道破壊</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可能</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">破壊</font><i><font style="vertical-align: inherit;">可能</font></i></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
最初は一般的にそれは悪い考えだと思っていました。しかし、私は試してみることにしました、そして今、これは私の主なゲーム番組です。計画によると、私は再びより現実的なもの、つまり、影響の方向と強さに応じて、生成された断片への破壊を望みました。しかし、計画は再び天井にかかった、今回は私の知識。単純化する必要がありました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
現在、破壊性はより単純な動作原理に基づいていました。つまり、物理的なフラグメントからのみ自身のコピーを作成し、元のオブジェクトはSpriteRenderer、Collider2Dのコンポーネントを削除し、コンポーネントがある場合はRigidbody2Dを無効にしました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、別の疑問が生じた-コライダー。一方では、PolygonCollider2Dを使用して苦しむことはできませんが、他方では、後でゲームの設計と最適化に苦労する必要があります。したがって、破壊されたブロックのすべてのフラグメントには、BoxCollider2D（丸いオブジェクトのフラグメントも含む）がありました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、時間の固定ステップパラメーターを正しく設定することで、最適化に大きな貢献がありました（0.0（3）または1秒あたり30に等しくなりました）。しかし、今では高速でオブジェクトが飛んでいき、これは間違いなくゲームデザインに影響を与えました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらの要素により、最適化が許容可能なレベルになり、ステージ上には最大数百の物理オブジェクトが存在する可能性があります。オリジナルの後、それは間違いなく画期的、革命などでした。私が正しい方向に進んでいることに気づき、私はもう1つの長年のゲームの問題、圧倒的なハードコアを修正することにしました。少なくともなんとかしてゲームをレンダリングするには、私が作った... </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ダメージシステム</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
私にとって、これは開発の中で最もわかりにくい部分であり、2回書き直されました。その作業は進行中でした。その結果、非常に洗練されたシステムが生まれましたが、それは非常に広範囲にわたって機能しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、最初に、損傷の認識がここでどのように機能するかについて言及する価値があります。それは「あなたがより強く打つほど、より大きなダメージを与える」という原則に基づいて機能するように見えるかもしれませんが、これはそうではありません。ほとんどの場合、「接触が長いほど、損傷が大きい」という原則に基づいて機能します。「衝撃力」などの重要な場所は、状況に応じて、損傷を与えるオブジェクトごとに手動で構成された損傷係数に置き換えられます。これは、fixedstepの時間が非常に長いために強力なバグが作成されたために発生しました。ゲームはEnter2Dを処理できませんでした。そして、これは次のような状況を作り出しました：高速でクラッシュしました-ダメージを受けませんでした。なぜ修正しなかったのですか？そんなことは言えません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
では、損傷システムはどこから始まったのでしょうか？</font><font style="vertical-align: inherit;">健康から。</font><font style="vertical-align: inherit;">プレイヤーのヘルスは1です（後で2に増加）。</font><font style="vertical-align: inherit;">はい、これはまだ十分ではなく、トラップに最初に強く触れると死にますが、少なくとも低速では、生き残るチャンスがあります（数回でも）。</font><font style="vertical-align: inherit;">オリジナルを変えたくなかった。</font><font style="vertical-align: inherit;">「しかし、プレイヤーにダメージを与えるものは何ですか？」</font><font style="vertical-align: inherit;">-私は考えて、主な罠を思いつきました。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メイントラップ</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
私のパズルの基本はトラップで構成されていましたが、ゲームの名前と矛盾していました。</font><font style="vertical-align: inherit;">名前から、ゲームは重力の影響下にあるボールについてであるべきであるということになります。</font><font style="vertical-align: inherit;">しかし、それほど多くはありませんでした。</font><font style="vertical-align: inherit;">代わりに、より標準的なパズルがありました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
メインと最初はのこぎりでした。</font><font style="vertical-align: inherit;">シンプルでクリアなパズル。</font><font style="vertical-align: inherit;">ポストプロダクションの期間中、私はそれを修正しました。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/1z/rd/12/1zrd120z2iybncavb97pa6khk_0.png" width="500"></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スクリプトを見た</font></font></b><div class="spoiler_text"><pre><code class="plaintext hljs">using UnityEngine;<font></font>
<font></font>
public class Saw : GlobalFunctions<font></font>
{<font></font>
    public AudioClip setClip;<font></font>
    private TypePlaying typePlaying = TypePlaying.Sound;<font></font>
    private AudioBase audioBase;<font></font>
    private float speed = 4f;<font></font>
    private Transform tr;<font></font>
<font></font>
    private void Awake()<font></font>
    {<font></font>
        audioBase = GameObject.FindWithTag("MainCamera").GetComponent&lt;AudioBase&gt;();<font></font>
        tr = transform;<font></font>
    }<font></font>
<font></font>
    private void Update()<font></font>
    {<font></font>
        float s = Time.fixedDeltaTime / 0.03f * (Time.deltaTime / 0.03f);<font></font>
        tr.localEulerAngles = new Vector3(0f, 0f, tr.localEulerAngles.z - speed * s);<font></font>
    }<font></font>
<font></font>
    private void OnCollisionEnter2D(Collision2D collision)<font></font>
    {<font></font>
        if (collision.collider.tag == "Player")<font></font>
        {<font></font>
            audioBase.SetSound(setClip, 1, 0.2f, typePlaying, false);<font></font>
        }<font></font>
    }<font></font>
<font></font>
    public float GetSpeed()<font></font>
    {<font></font>
        return speed;<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次はレーザーで、すべてに非常に大きな負荷がかかりました。</font><font style="vertical-align: inherit;">ステージにそのようなピースを40個置くと、ゲームは大幅に遅れ始めます。</font><font style="vertical-align: inherit;">しかし、私は本格的な光の物理法則、つまり反射や屈折さえも追加したいと思っていました。</font><font style="vertical-align: inherit;">しかし、時間がありませんでした、私はそれを終えませんでした。</font><font style="vertical-align: inherit;">いくつかを最適化しましたが、あまり役に立ちませんでした。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ve/tr/yk/vetrykehlbbyyoiulruywx-ln2q.png" width="500"></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">レーザースクリプト</font></font></b><div class="spoiler_text"><pre><code class="plaintext hljs">using UnityEngine;<font></font>
<font></font>
public class Laser : MonoBehaviour<font></font>
{<font></font>
    public Vector2 vector2;<font></font>
    public bool active = true;<font></font>
    public GameObject laserActive;<font></font>
    public LineRenderer lr1;<font></font>
    public Transform tr;<font></font>
    public BoxCollider2D bcl;<font></font>
    public Damage dmg;<font></font>
<font></font>
    private void Start()<font></font>
    {<font></font>
        lr1.startColor = lr1.endColor = LaserColor();<font></font>
    }<font></font>
<font></font>
    public Color LaserColor()<font></font>
    {<font></font>
        Color c = new Color(0f, 0f, 0f, 1f);<font></font>
        switch (dmg.GetTypeLaser().Type2int())<font></font>
        {<font></font>
            case 1:<font></font>
                c = new Color(1f, 0f, 0f, 1f);<font></font>
                break;<font></font>
            case 2:<font></font>
                c = new Color(0f, 1f, 0f, 1f);<font></font>
                break;<font></font>
            case 3:<font></font>
                c = new Color(0f, 0f, 0f, 0.4901961f);<font></font>
                break;<font></font>
            case 4:<font></font>
                c = new Color(1f, 0.8823529f, 0f, 1f);<font></font>
                break;<font></font>
            case 5:<font></font>
                c = new Color(0.6078432f, 0.8823529f, 0f, 1f);<font></font>
                break;<font></font>
            case 6:<font></font>
                c = new Color(1f, 0.2745098f, 0f, 1f);<font></font>
                break;<font></font>
        }<font></font>
        return c;<font></font>
    }<font></font>
<font></font>
    private void Update()<font></font>
    {<font></font>
        LaserUpdate();<font></font>
    }<font></font>
<font></font>
    private void LaserUpdate()<font></font>
    {<font></font>
        if (active == true)<font></font>
        {<font></font>
            Vector2[] act1 = Points(tr.position, -tr.up);<font></font>
            lr1.SetPosition(0, act1[0]);<font></font>
            lr1.SetPosition(1, act1[1]);<font></font>
            bcl.size = new Vector2(0.1f, 0.1f);<font></font>
            bcl.offset = act1[2];<font></font>
        }<font></font>
        return;<font></font>
    }<font></font>
<font></font>
    private Vector2[] Points(Vector2 start, Vector2 end)<font></font>
    {<font></font>
        Vector2[] ret = new Vector2[3];<font></font>
        RaycastHit2D hit = Physics2D.Raycast(tr.position, -tr.up, 200f);<font></font>
        ret[0] = tr.position;<font></font>
        ret[1] = hit.point;<font></font>
        vector2 = ret[1];<font></font>
        float distance = Vector2.Distance(tr.position, hit.point);<font></font>
        bcl.size = new Vector2(0.1f, 0.1f);<font></font>
        if (hit.collider == bcl)<font></font>
        {<font></font>
            ret[2] = new Vector2(0f, 0.5f);<font></font>
        }<font></font>
        else<font></font>
        {<font></font>
            ret[2] = new Vector2(0f, -distance - 0.2f);<font></font>
        }<font></font>
        return ret;<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
</div></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
爆弾は最後の罠でした、そしてそれを追加する前に、私は特にダメージシステムを書き直しました。特に、プレイヤーの健康に関連するすべてのものを別のHealthBarスクリプトに転送しました（他の目的に役立ちます）。</font><font style="vertical-align: inherit;">爆弾がまだ出現していて、その物理学が望まれていなかった後、プロセスは再び終了しました。</font><font style="vertical-align: inherit;">そして結局、それは再びかなり価値のあることがわかりました。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/zg/gn/so/zggnsolmlabdaf5gupqicjr3ih8.png" width="500"></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">爆発スクリプト</font></font></b><div class="spoiler_text"><pre><code class="plaintext hljs">using System.Collections;<font></font>
using UnityEngine;<font></font>
<font></font>
public class Explosion : GlobalFunctions<font></font>
{<font></font>
    public float power = 1f;<font></font>
    public float radius = 5f;<font></font>
    public float health = 20f;<font></font>
    public float timeOffsetExplosion = 1f;<font></font>
    public GameObject[] contacts = new GameObject[0];<font></font>
    public Animator expAnim;<font></font>
    public bool writeContacs = true;<font></font>
    public AudioClip setClip;<font></font>
<font></font>
    private float timeOffsetExplosionCount;<font></font>
    private float alphaTimer;<font></font>
    private bool isTimerOn = false;<font></font>
    private bool firstAPEvirtual = true;<font></font>
    private Collider2D cl;<font></font>
    private Rigidbody2D rb;<font></font>
    private SpriteRenderer sr;<font></font>
    private AudioBase audioBase;<font></font>
    private Explosion explosion;<font></font>
<font></font>
    private void Awake()<font></font>
    {<font></font>
        audioBase = GameObject.FindWithTag("MainCamera").GetComponent&lt;AudioBase&gt;();<font></font>
        cl = GetComponent&lt;Collider2D&gt;();<font></font>
        rb = GetComponent&lt;Rigidbody2D&gt;();<font></font>
        sr = GetComponent&lt;SpriteRenderer&gt;();<font></font>
        explosion = GetComponent&lt;Explosion&gt;();<font></font>
    }<font></font>
<font></font>
    private void Start()<font></font>
    {<font></font>
        alphaTimer = sr.color.a;<font></font>
        StartCoroutineTimerOffsetExplosion();<font></font>
    }<font></font>
<font></font>
    private void OnCollisionEnter2D(Collision2D collision)<font></font>
    {<font></font>
        if (writeContacs == true)<font></font>
        {<font></font>
            int cont = contacts.Length;<font></font>
            GameObject[] n = new GameObject[cont + 1];<font></font>
<font></font>
            if (cont != 0)<font></font>
            {<font></font>
                for (int i = 0; i &lt; cont; i++)<font></font>
                {<font></font>
                    n[i] = contacts[i];<font></font>
                }<font></font>
            }<font></font>
<font></font>
            n[cont] = collision.gameObject;<font></font>
            contacts = n;<font></font>
        }<font></font>
    }<font></font>
<font></font>
    private void OnCollisionExit2D(Collision2D collision)<font></font>
    {<font></font>
        if (writeContacs == true)<font></font>
        {<font></font>
            int cont = contacts.Length;<font></font>
            if (cont != 1)<font></font>
            {<font></font>
                int counter = 0;<font></font>
                GameObject[] n = new GameObject[cont - 1];<font></font>
<font></font>
                for (int i = 0; i &lt; cont; i++)<font></font>
                {<font></font>
                    if (contacts[i] != collision.gameObject)<font></font>
                    {<font></font>
                        n[counter] = contacts[i];<font></font>
                        counter++;<font></font>
                    }<font></font>
                }<font></font>
<font></font>
                contacts = n;<font></font>
            }<font></font>
            else<font></font>
            {<font></font>
                contacts = new GameObject[0];<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
<font></font>
    public void ActionExplosionEmulation(GameObject obj)<font></font>
    {<font></font>
        float damage = 0f;<font></font>
        if (obj.CompareTag("Laser"))<font></font>
        {<font></font>
            damage = obj.GetComponent&lt;Damage&gt;().senDamage;<font></font>
        }<font></font>
        else<font></font>
        {<font></font>
            damage = obj.GetComponent&lt;Power&gt;().power;<font></font>
        }<font></font>
<font></font>
        health = health - damage;<font></font>
        StartCoroutineTimerOffsetExplosion();<font></font>
        return;<font></font>
    }<font></font>
<font></font>
    public void StartCoroutineTimerOffsetExplosion()<font></font>
    {<font></font>
        if (health &lt;= 0f &amp;&amp; isTimerOn == false)<font></font>
        {<font></font>
            isTimerOn = true;<font></font>
            timeOffsetExplosionCount = timeOffsetExplosion;<font></font>
            StartCoroutine(TimerOffsetExplosion(0.1f));<font></font>
        }<font></font>
    }<font></font>
<font></font>
    private IEnumerator TimerOffsetExplosion(float timeTick)<font></font>
    {<font></font>
        yield return new WaitForSeconds(timeTick);<font></font>
        timeOffsetExplosionCount = timeOffsetExplosionCount - timeTick;<font></font>
        if (timeOffsetExplosionCount &gt; 0f)<font></font>
        {<font></font>
            float c = timeOffsetExplosionCount / timeOffsetExplosion;<font></font>
            sr.color = new Color(1f, c, c, alphaTimer);<font></font>
            StartCoroutine(TimerOffsetExplosion(timeTick));<font></font>
        }<font></font>
        else<font></font>
        {<font></font>
            ExplosionAction();<font></font>
        }<font></font>
    }<font></font>
<font></font>
    private void ExplosionAction()<font></font>
    {<font></font>
        rb.gravityScale = 0f;<font></font>
        rb.velocity = Vector2.zero;<font></font>
        audioBase.SetSound(setClip, 2, 1f, TypePlaying.Sound, false);<font></font>
        Destroy(cl);<font></font>
        CircleCollider2D c = gameObject.AddComponent&lt;CircleCollider2D&gt;();<font></font>
        c.isTrigger = true;<font></font>
        c.radius = radius;<font></font>
        tag = "Explosion";<font></font>
        if (PlayerPrefs.GetString("graphicsquality") != "high")<font></font>
        {<font></font>
            Destroy(sr);<font></font>
            StartCoroutine(Off());<font></font>
        }<font></font>
        else<font></font>
        {<font></font>
            expAnim.enabled = true;<font></font>
            StartCoroutine(Off2High());<font></font>
        }<font></font>
    }<font></font>
<font></font>
    public IEnumerator Off()<font></font>
    {<font></font>
        yield return new WaitForSecondsRealtime(0.1f);<font></font>
        gameObject.SetActive(false);<font></font>
    }<font></font>
<font></font>
    public IEnumerator OffHigh(CircleCollider2D c)<font></font>
    {<font></font>
        yield return new WaitForSecondsRealtime(0.1f);<font></font>
        c.enabled = false;<font></font>
    }<font></font>
<font></font>
    public IEnumerator Off2High()<font></font>
    {<font></font>
        yield return new WaitForSecondsRealtime(1.5f);<font></font>
        gameObject.SetActive(false);<font></font>
    }<font></font>
<font></font>
    public void APEvirtual()<font></font>
    {<font></font>
        int cont = contacts.Length;<font></font>
        if (cont != 0 &amp;&amp; firstAPEvirtual == true)<font></font>
        {<font></font>
            firstAPEvirtual = false;<font></font>
            for (int i = 0; i &lt; cont; i++)<font></font>
            {<font></font>
                if (contacts[i] != null)<font></font>
                {<font></font>
                    if (contacts[i].GetComponent&lt;PhysicsEmulation&gt;())<font></font>
                    {<font></font>
                        contacts[i].GetComponent&lt;PhysicsEmulation&gt;().ExplosionPhysicsEmulation(explosion);<font></font>
                    }<font></font>
                }<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
<font></font>
    public void AnimFull()<font></font>
    {<font></font>
        sr.color = new Color(1f, 1f, 1f, 1f);<font></font>
        sr.size = new Vector2(3f * radius, 3f * radius);<font></font>
        return;<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ダメージシステム全体を見て、徹底的に書き直すことにしました。</font><font style="vertical-align: inherit;">そして今回、Damageはすべての可能なダメージのバリエーションを1つのDamageスクリプトに配置し、破壊可能なブロックに対して同様のActionPhysicsEmulationメソッドを作成しました（最後に、個々のダメージタイプごとに、独自の最適化されたメソッドが作成されました）。</font><font style="vertical-align: inherit;">また、ダメージの強さはオブジェクトの「強さ」の強さによって決定されました（スクリプトはプレイヤーのみにありました）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして結局のところ、これらの3つのパズルだけがオリジナルよりも優れていました。</font><font style="vertical-align: inherit;">しかし、これは停止する理由ではありませんでした。私はまた、開発中ずっと実験することを忘れていませんでした。</font><font style="vertical-align: inherit;">それで登場しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
力場（重力を無効にし、速度を落とし、ゆっくりと殺す）</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/-d/ai/yk/-daiykfxbws9lxxsalwbop6xblg.png" width="500"></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スクリプトVelocityField</font></font></b><div class="spoiler_text"><pre><code class="plaintext hljs">using UnityEngine;<font></font>
<font></font>
public class VelocityField : GlobalFunctions<font></font>
{<font></font>
    public float percent = 10f;<font></font>
    public float damage = 0.01f;<font></font>
    public float heal = 0.01f;<font></font>
    public GameObject[] contacts = new GameObject[0];<font></font>
    private HealthBar hb;<font></font>
<font></font>
    private void Awake()<font></font>
    {<font></font>
        hb = GameObject.FindWithTag("MainCamera").GetComponent&lt;Management&gt;().healthBar;<font></font>
    }<font></font>
<font></font>
    private void FixedUpdate()<font></font>
    {<font></font>
        if (contacts.Length != 0)<font></font>
        {<font></font>
            for (int i = 0; i &lt; contacts.Length; i++)<font></font>
            {<font></font>
                if (contacts[i] != null)<font></font>
                {<font></font>
                    if (contacts[i].GetComponent&lt;Rigidbody2D&gt;())<font></font>
                    {<font></font>
                        float s = Time.fixedDeltaTime / 0.03f;<font></font>
                        Vector2 vel = contacts[i].GetComponent&lt;Rigidbody2D&gt;().velocity;<font></font>
                        contacts[i].GetComponent&lt;Rigidbody2D&gt;().velocity = vel / 100f * (100f - percent * s);<font></font>
                    }<font></font>
                }<font></font>
                else<font></font>
                {<font></font>
                    contacts = Remove(contacts, i);<font></font>
                }<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
<font></font>
    private void OnTriggerEnter2D(Collider2D collision)<font></font>
    {<font></font>
        if (collision.GetComponent&lt;Rigidbody2D&gt;())<font></font>
        {<font></font>
            Rigidbody2D rb2 = collision.GetComponent&lt;Rigidbody2D&gt;();<font></font>
            if (rb2.isKinematic == false)<font></font>
            {<font></font>
                VelocityInput vi = collision.GetComponent&lt;VelocityInput&gt;();<font></font>
<font></font>
                vi.fields = Add(vi.fields, gameObject);<font></font>
<font></font>
                rb2.gravityScale = 0f;<font></font>
                rb2.freezeRotation = true;<font></font>
                vi.inVelocityField = true;<font></font>
                if (collision.GetComponent&lt;Destroy&gt;())<font></font>
                {<font></font>
                    collision.GetComponent&lt;Destroy&gt;().ActiveTimerDeleteChange(300f);<font></font>
                }<font></font>
                if (collision.tag == "Player")<font></font>
                {<font></font>
                    hb.StartVFRad(damage);<font></font>
                }<font></font>
<font></font>
                contacts = Add(contacts, collision.gameObject);<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
<font></font>
    public void OnTriggerExit2D(Collider2D collision)<font></font>
    {<font></font>
        if (collision.GetComponent&lt;Rigidbody2D&gt;())<font></font>
        {<font></font>
            Rigidbody2D rb2 = collision.GetComponent&lt;Rigidbody2D&gt;();<font></font>
            if (rb2.isKinematic == false)<font></font>
            {<font></font>
                VelocityInput vi = collision.GetComponent&lt;VelocityInput&gt;();<font></font>
<font></font>
                vi.fields = Remove(vi.fields, gameObject);<font></font>
<font></font>
                if (vi.fields.Length != 0)<font></font>
                {<font></font>
                    rb2.gravityScale = 0f;<font></font>
                    rb2.freezeRotation = true;<font></font>
                    vi.inVelocityField = true;<font></font>
                }<font></font>
                else<font></font>
                {<font></font>
                    rb2.gravityScale = 1f;<font></font>
                    rb2.freezeRotation = false;<font></font>
                    vi.inVelocityField = false;<font></font>
                }<font></font>
                if (collision.GetComponent&lt;Destroy&gt;())<font></font>
                {<font></font>
                    collision.GetComponent&lt;Destroy&gt;().ActiveTimerDeleteChange(60f);<font></font>
                }<font></font>
                if (collision.tag == "Player")<font></font>
                {<font></font>
                    hb.EndVFRad(heal);<font></font>
                }<font></font>
<font></font>
                contacts = Remove(contacts, collision.gameObject);<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ストンプ（彼は彼らを粉砕することによってプレーヤーを殺しました）</font></font><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ag/id/eu/agideu1-kir4r8z4xgmawwhcp_c.png" width="500"></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">トランプスクリプト</font></font></b><div class="spoiler_text"><pre><code class="plaintext hljs">using UnityEngine;<font></font>
<font></font>
public class TrampAnim : MonoBehaviour<font></font>
{<font></font>
    public float speed = 0.1f;<font></font>
    public float speedOffset = 0.01f;<font></font>
    public float damage = 1f;<font></font>
    private float sc;<font></font>
    private float maxDis;<font></font>
    public Vector3 start;<font></font>
    public Vector3 end;<font></font>
    public TrampAnim ender;<font></font>
    public bool active = true;<font></font>
    public bool trigPlayer = false;<font></font>
    private AudioSet audioSet;<font></font>
    private bool audioAct;<font></font>
    private Transform tr;<font></font>
    private HealthBar hb;<font></font>
    public int count = 0;<font></font>
<font></font>
    public void Start()<font></font>
    {<font></font>
        if (active)<font></font>
        {<font></font>
            tr = transform;<font></font>
            maxDis = Vector2.Distance(start, end);<font></font>
            sc = Vector2.Distance(tr.localPosition, start) / maxDis;<font></font>
            hb = Camera.main.GetComponent&lt;Management&gt;().healthBar;<font></font>
<font></font>
            audioAct = GetComponent&lt;AudioSet&gt;();<font></font>
            if (audioAct) { audioSet = GetComponent&lt;AudioSet&gt;(); }<font></font>
        }<font></font>
    }<font></font>
<font></font>
    public void Update()<font></font>
    {<font></font>
        if (active)<font></font>
        {<font></font>
            float s = Time.fixedDeltaTime / 0.03f * (Time.deltaTime / 0.03f);<font></font>
            if (count == 0)<font></font>
            {<font></font>
                tr.localPosition = Vector2.MoveTowards(tr.localPosition, end, (speed * sc + speedOffset) * s);<font></font>
                if (tr.localPosition == end)<font></font>
                {<font></font>
                    count = 1;<font></font>
                    if (trigPlayer &amp;&amp; ender.trigPlayer)<font></font>
                    {<font></font>
                        hb.Damage(100f, tag, Vector2.zero);<font></font>
                    }<font></font>
                    if (audioAct) { audioSet.SetMusic(); }<font></font>
                }<font></font>
            }<font></font>
            else<font></font>
            {<font></font>
                tr.localPosition = Vector2.MoveTowards(tr.localPosition, start, (speed * sc + speedOffset) * s);<font></font>
                if (tr.localPosition == start)<font></font>
                {<font></font>
                    count = 0;<font></font>
                }<font></font>
            }<font></font>
            sc = Vector2.Distance(tr.localPosition, start) / maxDis;<font></font>
        }<font></font>
    }<font></font>
<font></font>
    public void OnCollisionEnter2D(Collision2D collision)<font></font>
    {<font></font>
        Transform trans = collision.transform;<font></font>
        string tag = trans.tag;<font></font>
        if (tag == "Player")<font></font>
        {<font></font>
            trigPlayer = true;<font></font>
        }<font></font>
        else if (active == false)<font></font>
        {<font></font>
            if (trans.GetComponent&lt;PhysicsEmulation&gt;())<font></font>
            {<font></font>
                trans.GetComponent&lt;PhysicsEmulation&gt;().TrampAnimPhysicsEmulation(GetComponent&lt;TrampAnim&gt;());<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
<font></font>
    public void OnCollisionExit2D(Collision2D collision)<font></font>
    {<font></font>
        string tag = collision.transform.tag;<font></font>
        if (tag == "Player")<font></font>
        {<font></font>
            trigPlayer = false;<font></font>
        }<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
放射線（健康を徐々に低下させる）</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/bz/w2/mi/bzw2mi2pn0jk6lzbqiu4ze-we5u.png" width="500"></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スクリプトの放射</font></font></b><div class="spoiler_text"><pre><code class="plaintext hljs">using System.Collections;<font></font>
using UnityEngine;<font></font>
<font></font>
public class Radiation : MonoBehaviour<font></font>
{<font></font>
    public bool isActiveRadiation = false;<font></font>
    private Management m;<font></font>
    private HealthBar hb;<font></font>
<font></font>
    private void Awake()<font></font>
    {<font></font>
        gameObject.SetActive(PlayerPrefs.GetString("ai") == "off");<font></font>
        m = GameObject.FindWithTag("MainCamera").GetComponent&lt;Management&gt;();<font></font>
        hb = m.healthBar;<font></font>
    }<font></font>
<font></font>
    private void Start()<font></font>
    {<font></font>
        StartCoroutine(RadiationDamage());<font></font>
    }<font></font>
<font></font>
    public IEnumerator RadiationDamage()<font></font>
    {<font></font>
        yield return new WaitForSeconds(0.0002f);<font></font>
        if (isActiveRadiation)<font></font>
        {<font></font>
            hb.StraightDamage(0.0002f, "Radiation");<font></font>
        }<font></font>
        StartCoroutine(RadiationDamage());<font></font>
    }<font></font>
<font></font>
    public void OnTriggerEnter2D(Collider2D collision)<font></font>
    {<font></font>
        if (collision.tag == "Player")<font></font>
        {<font></font>
            isActiveRadiation = true;<font></font>
            hb.animator.SetBool("isVisible", true);<font></font>
        }<font></font>
    }<font></font>
<font></font>
    public void OnTriggerExit2D(Collider2D collision)<font></font>
    {<font></font>
        if (collision.tag == "Player")<font></font>
        {<font></font>
            isActiveRadiation = false;<font></font>
            hb.animator.SetBool("isVisible", false);<font></font>
            if (hb.healthBarImage.fillAmount == 0f)<font></font>
            {<font></font>
                m.StartGraphics();<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
<font></font>
    public void OnCollisionEnter2D(Collision2D collision)<font></font>
    {<font></font>
        if (collision.transform.tag == "Player")<font></font>
        {<font></font>
            hb.animator.SetBool("isVisible", false);<font></font>
            PlayerPrefs.SetString("ai", "on");<font></font>
            gameObject.SetActive(false);<font></font>
        }<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
トラップ（タッチすると殺される青いボール。これは世界で最も難しいゲームを指します）</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/oh/wg/6y/ohwg6ye0n_7lvpk_gt8igkknjye.png" width="500"></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スクリプトDeathlessScript</font></font></b><div class="spoiler_text"><pre><code class="plaintext hljs">using UnityEngine;<font></font>
<font></font>
public class DeathlessScript : MonoBehaviour<font></font>
{<font></font>
    private HealthBar hb;<font></font>
<font></font>
    private void Awake()<font></font>
    {<font></font>
        hb = Camera.main.GetComponent&lt;Management&gt;().healthBar;<font></font>
    }<font></font>
<font></font>
    public void OnTriggerEnter2D(Collider2D collision)<font></font>
    {<font></font>
        if (collision.tag == "Player")<font></font>
        {<font></font>
            hb.Damage(10f, tag, Vector2.zero);<font></font>
        }<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私はこれらの種類の損傷をすべて損傷スクリプトに登録しませんでしたが、それらは一般的に松葉杖でうまく機能しました。</font><font style="vertical-align: inherit;">この後、追加のメカニズムが登場しました。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">追加のメカニズム</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
彼らはさまざまな方法で作られました。</font><font style="vertical-align: inherit;">それらのかなりの数があったので、それらのすべてが興味深く、ほとんどのゲームメカニズムとの相互作用のために機能するのに十分に小さいものでした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初のそのような力学は門でした。</font><font style="vertical-align: inherit;">すべての中で最も最初で最も機能的です。</font><font style="vertical-align: inherit;">機能的な障壁が必要なすべての場所でユニークに役立ちます。</font><font style="vertical-align: inherit;">また、追加の機能があります。開始状態を決定するためのisActiveと、アクティブ化後の位置を修正するためのisState（名前は混同されていますが、修正するには遅すぎたことがわかりました）。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/1j/by/if/1jbyifik8daournyzffkwxtubxk.png" width="500"></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スクリプトゲート</font></font></b><div class="spoiler_text"><pre><code class="plaintext hljs">using UnityEngine;<font></font>
using System.Collections;<font></font>
<font></font>
public class Gate : MonoBehaviour<font></font>
{<font></font>
    [Header("StartSet")]<font></font>
    public Vector2 gateScale = new Vector2(1, 4);<font></font>
    public float speed = 0.1f;<font></font>
    public bool isReverse = false;<font></font>
    public bool isEnd = true;<font></font>
    public Vector2 animSetGateScale = new Vector2();<font></font>
    public Vector2 target = new Vector2();<font></font>
    [Header("SpriteEditor")]<font></font>
    public Sprite mainSprite;<font></font>
    [Header("Assets")]<font></font>
    public GameObject door1;<font></font>
    public GameObject door2;<font></font>
    private IEnumerator fixUpdate;<font></font>
<font></font>
    private void Start()<font></font>
    {<font></font>
        SpriteRenderer ds1 = door1.GetComponent&lt;SpriteRenderer&gt;();<font></font>
        SpriteRenderer ds2 = door2.GetComponent&lt;SpriteRenderer&gt;();<font></font>
        ds1.sprite = mainSprite;<font></font>
        ds2.sprite = mainSprite;<font></font>
        if (isReverse == false)<font></font>
        {<font></font>
            animSetGateScale = target = gateScale;<font></font>
        }<font></font>
        fixUpdate = FixUpdate();<font></font>
        SetGate(animSetGateScale);<font></font>
    }<font></font>
<font></font>
    private IEnumerator FixUpdate()<font></font>
    {<font></font>
        yield return new WaitForSeconds(0.03f);<font></font>
        if (animSetGateScale != target)<font></font>
        {<font></font>
            float s = Time.fixedDeltaTime / 0.03f;<font></font>
            animSetGateScale = Vector2.MoveTowards(animSetGateScale, target, speed * s);<font></font>
            SetGate(animSetGateScale);<font></font>
            StartCoroutine(FixUpdate());<font></font>
        }<font></font>
    }<font></font>
<font></font>
    private void SetGate(Vector2 scale)<font></font>
    {<font></font>
        SpriteRenderer ds1 = door1.GetComponent&lt;SpriteRenderer&gt;();<font></font>
        SpriteRenderer ds2 = door2.GetComponent&lt;SpriteRenderer&gt;();<font></font>
        Vector2 size = new Vector2(mainSprite.texture.width, mainSprite.texture.height);<font></font>
        float k = size.x / size.y;<font></font>
        ds1.size = new Vector2(gateScale.x, scale.y / 2f);<font></font>
        ds2.size = new Vector2(gateScale.x, scale.y / 2f);<font></font>
<font></font>
        BoxCollider2D d1 = door1.GetComponent&lt;BoxCollider2D&gt;();<font></font>
        BoxCollider2D d2 = door2.GetComponent&lt;BoxCollider2D&gt;();<font></font>
        d1.size = new Vector2(gateScale.x, scale.y / 2f);<font></font>
        d2.size = new Vector2(gateScale.x, scale.y / 2f);<font></font>
        <font></font>
        door1.transform.localScale = new Vector3(1f, 1f, 1f);<font></font>
        door2.transform.localScale = new Vector3(1f, 1f, 1f);<font></font>
        door1.transform.localPosition = new Vector3(0f, (gateScale.y / 2f) - (scale.y / 4f), 0f);<font></font>
        door2.transform.localPosition = new Vector3(0f, -(gateScale.y / 2f) + (scale.y / 4f), 0f);<font></font>
    }<font></font>
<font></font>
    public void OnTriggerEnter2D(Collider2D collision)<font></font>
    {<font></font>
        if (collision.CompareTag("Player"))<font></font>
        {<font></font>
            if (isReverse == false)<font></font>
            {<font></font>
                target = Vector2.zero;<font></font>
            }<font></font>
            else<font></font>
            {<font></font>
                target = gateScale;<font></font>
            }<font></font>
            StopCoroutine(fixUpdate);<font></font>
            fixUpdate = FixUpdate();<font></font>
            StartCoroutine(fixUpdate);<font></font>
        }<font></font>
    }<font></font>
<font></font>
    private void OnTriggerExit2D(Collider2D collision)<font></font>
    {<font></font>
        if (collision.CompareTag("Player") &amp;&amp; isEnd == true)<font></font>
        {<font></font>
            if (isReverse == false)<font></font>
            {<font></font>
                target = gateScale;<font></font>
            }<font></font>
            else<font></font>
            {<font></font>
                target = Vector2.zero;<font></font>
            }<font></font>
            StopCoroutine(fixUpdate);<font></font>
            fixUpdate = FixUpdate();<font></font>
            StartCoroutine(fixUpdate);<font></font>
        }<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同様の機能が物理的なオブジェクトに備わっていました。いいえ、これらは破壊からのオブジェクトではなく、単なる物理的なオブジェクトです（ただし、破壊することもできますが、このメカニズムは使用していません）。パズルにはそれほど多くはありませんが、他のメカニズムとうまく調和しています。たとえば、ゲートの場合：オブジェクトがゲートトリガーに触れると、ゲートが開きます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私が「自分の力」を習得して以来、3人ものメカニックがそれを制御していました。</font><font style="vertical-align: inherit;">これらは、オブジェクトと対話するための同じコードを持つトリガーでしたが、それぞれ独自の方法でタスクを実行しました。</font><font style="vertical-align: inherit;">1つ目は力場です（オブジェクトを減速させ、力に特定の係数を掛けます）。</font><font style="vertical-align: inherit;">ポイントの方向に追加された2番目の強度は、ポイントに「重力」がありました。</font><font style="vertical-align: inherit;">3つ目は偶然作成されたものです。無重力に関連するパズルが機能しなかったときに、このスクリプトによって保存されました。</font><font style="vertical-align: inherit;">その中で、オブジェクトは力自体の方向や強度を変えることなく、力の方向を変えます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/5t/cs/f7/5tcsf7fu4hrzrspc8fdlph14zpk.png" width="500"></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">それはどのように機能しますか</font></font></b><div class="spoiler_text">     ,         .       Atan2.     offsetAngle         ,           .<br>
<pre><code class="plaintext hljs">public Vector2 RotateVector(Vector2 a, float offsetAngle)<font></font>
{<font></font>
    float power = Mathf.Sqrt(a.x * a.x + a.y * a.y);<font></font>
    float angle = Mathf.Atan2(a.y, a.x) * Mathf.Rad2Deg - 90f + offsetAngle;<font></font>
    return Quaternion.Euler(0, 0, angle) * Vector2.up * power;<font></font>
}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、エクストラの私のファンタジー全体が枯渇しました。はい、ロープ爆弾やケーブルカーなどのアイデアがありました。しかし、その後、通常のアイデアが思いつきました。ゲームをもう一度レンダリングする必要があります。それでも、私は正直に言います。大多数の人々はモバイルゲームをプレイします。ゲームが耐えられないほど複雑な場合、ほとんどの人は私のゲームをプレイしません。私は、1ヒットでプレイヤーを殺すパズルから始めることにしましたが、破壊性があるため、ダメージを変更したくありませんでした。そして、通常の追加メカニズムのアイデアが登場しました：ブースターまたはモディファイアー。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コンセプトによると、彼らはいくつかの基本的な価値観に関連する一時的な改善を行いました。 5つのブースターがありました：治療、不死、時間の拡張（遅いmo）、重力の変化、プレイヤーの質量の変化。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、それはある種の標準のように見えました：通過を助けるためにレベル全体に散らばったトリガーボール。</font><font style="vertical-align: inherit;">そして、私はこれらのブースターをレーザーに追加しました。</font><font style="vertical-align: inherit;">メカニズムを少し変更して、うまくいきました。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/rf/fe/b_/rffeb_rey0t4dhbhwupljorcyva.png" width="500"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
現在、レーザーにはプレーヤーとの5つの相互作用モードがあります。損傷と回復、不死、時間の遅れ（遅いmo）、重力の変化、プレーヤーの質量の変化です。</font><font style="vertical-align: inherit;">それは同じことですが、1つの違いがあります。レーザーは常にプレーヤーに作用し、レーザーを離れると、効果はすぐに（またはしばらくすると）消えます。</font><font style="vertical-align: inherit;">はい、ブースターはほとんど同じですが、レーザーは標準ではありません（したがって、ゲーム全体）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ゲームの物理的なテーマにより、トランポリンを作成することが可能になりました。これは、通常、プレーヤーを分散させ、続いて壁を破壊するために使用されます（ただし、これは、バウンスパラメータが異なるバウンス力に対してツイストされたPhysicsMaterialを使用した単純なBoxCollider2Dです）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、ゲームの砂利により、アニメーション用の独自のスクリプトを作成できました。</font><font style="vertical-align: inherit;">基本的には、オブジェクトをポイントからポイントへ移動したり、オブジェクトを回転させたりしました。</font><font style="vertical-align: inherit;">以前は、はるかに多くの機能がありました：オブジェクトをアニメーションで（ポイント単位で）回転する機能、スケールで（ポイント単位）、オブジェクトのアニメーションの開始と終了のより正確なラベルなど。</font><font style="vertical-align: inherit;">しかし、これらはアタビズムであり、全体として必死に生産性を消費していたため、最適化という名目でそれらを切り捨てる必要がありました。</font><font style="vertical-align: inherit;">シンプルなアニメーションを表示する必要がある場合は、どこでもアニメーションスクリプトを使用します。なぜなら、私が言ったように、「元のアニメーションは非常に不足していた！」</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スクリプトは、BasicAnimationとPointsAnimationの</font><font style="vertical-align: inherit;">2つだけ</font><font style="vertical-align: inherit;">です。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BasicAnimationスクリプト</font></font></b><div class="spoiler_text"><pre><code class="plaintext hljs">using UnityEngine;<font></font>
using System.Collections;<font></font>
<font></font>
public class BasicAnimation : GlobalFunctions<font></font>
{<font></font>
    public AnimationType animationType = AnimationType.Infinity;<font></font>
    public float speedSpeed = 0.05f;<font></font>
    public float rotation = 0f;<font></font>
<font></font>
    private bool make = true;<font></font>
    private bool animMake = false;<font></font>
    private bool isMoved = false;<font></font>
    private Transform tr;<font></font>
    private float rotationActive = 0f;<font></font>
<font></font>
    public void SetPos(bool pos, float m)<font></font>
    {<font></font>
        rotationActive = rotation * (pos ? 1 : m);<font></font>
    }<font></font>
<font></font>
    private void Start()<font></font>
    {<font></font>
        tr = transform;<font></font>
        animMake = false;<font></font>
        switch (animationType)<font></font>
        {<font></font>
            case AnimationType.Infinity:<font></font>
                make = true;<font></font>
                isMoved = true;<font></font>
                rotationActive = rotation;<font></font>
                break;<font></font>
            case AnimationType.Start:<font></font>
                make = false;<font></font>
                isMoved = false;<font></font>
                break;<font></font>
            case AnimationType.End:<font></font>
                make = true;<font></font>
                isMoved = true;<font></font>
                rotationActive = rotation;<font></font>
                break;<font></font>
            case AnimationType.All: <font></font>
                make = false;<font></font>
                isMoved = false;<font></font>
                break;<font></font>
        }<font></font>
    }<font></font>
<font></font>
    public void TimerAnim(float timer, bool anim)<font></font>
    {<font></font>
        StartAnim(anim);<font></font>
        StartCoroutine(TimerTimerAnim(timer, anim));<font></font>
    }<font></font>
<font></font>
    private IEnumerator TimerTimerAnim(float timer, bool anim)<font></font>
    {<font></font>
        yield return new WaitForSeconds(timer);<font></font>
        EndAnim(anim);<font></font>
    }<font></font>
<font></font>
    public void StartAnim(bool anim)<font></font>
    {<font></font>
        make = true;<font></font>
        if (anim == true)<font></font>
        {<font></font>
            animMake = true;<font></font>
            isMoved = true;<font></font>
        }<font></font>
        else<font></font>
        {<font></font>
            rotationActive = rotation;<font></font>
        }<font></font>
    }<font></font>
<font></font>
    public void EndAnim(bool anim)<font></font>
    {<font></font>
        if (anim == true)<font></font>
        {<font></font>
            animMake = true;<font></font>
            isMoved = false;<font></font>
        }<font></font>
        else<font></font>
        {<font></font>
            make = false;<font></font>
            rotationActive = 0f;<font></font>
        }<font></font>
    }<font></font>
<font></font>
    private void FixedUpdate()<font></font>
    {<font></font>
        if (animMake == true)<font></font>
        {<font></font>
            if (isMoved == true)<font></font>
            {<font></font>
                if (rotationActive != rotation)<font></font>
                {<font></font>
                    rotationActive = Mathf.MoveTowards(rotationActive, rotation, speedSpeed);<font></font>
                }<font></font>
                else<font></font>
                {<font></font>
                    animMake = false;<font></font>
                    isMoved = false;<font></font>
                }<font></font>
            }<font></font>
            else<font></font>
            {<font></font>
                if (rotationActive != 0f)<font></font>
                {<font></font>
                    rotationActive = Mathf.MoveTowards(rotationActive, 0f, speedSpeed);<font></font>
                }<font></font>
                else<font></font>
                {<font></font>
                    animMake = false;<font></font>
                    isMoved = true;<font></font>
                }<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
<font></font>
    private void Update()<font></font>
    {<font></font>
        if (make == true)<font></font>
        {<font></font>
            float rot = tr.localEulerAngles.z;<font></font>
            float s = Time.fixedDeltaTime / 0.03f * (Time.deltaTime / 0.03f);<font></font>
            tr.localEulerAngles = new Vector3(0f, 0f, rot + rotationActive * s);<font></font>
        }<font></font>
    }<font></font>
}<font></font>
</code></pre> </div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スクリプトポイントアニメーション</font></font></b><div class="spoiler_text"><pre><code class="plaintext hljs">using UnityEngine;<font></font>
using System.Collections;<font></font>
<font></font>
public class PointsAnimation : GlobalFunctions<font></font>
{<font></font>
    public AnimationType animationType = AnimationType.Infinity;<font></font>
    public float speedSpeedPosition = 0.001f;<font></font>
    public float speedPosition = 0.1f;<font></font>
    public Vector3[] pointsPosition = new Vector3[0];<font></font>
    public int counterPosition = 0;<font></font>
<font></font>
    private float speedPositionActive = 0f;<font></font>
    private int pointsPositionLength = 0;<font></font>
    private bool make = true;<font></font>
    private bool animMake = false;<font></font>
    private bool isMoved = false;<font></font>
    private Transform tr;<font></font>
<font></font>
    public void SetPos(bool pos, float m) { speedPositionActive = speedPosition * (pos ? 1 : m); }<font></font>
<font></font>
    private void Awake()<font></font>
    {<font></font>
        pointsPositionLength = pointsPosition.Length;<font></font>
        tr = transform;<font></font>
        switch (animationType)<font></font>
        {<font></font>
            case AnimationType.Infinity:<font></font>
                make = true;<font></font>
                isMoved = true;<font></font>
                speedPositionActive = speedPosition;<font></font>
                break;<font></font>
            case AnimationType.Start:<font></font>
                make = false;<font></font>
                isMoved = false;<font></font>
                break;<font></font>
            case AnimationType.End:<font></font>
                make = true;<font></font>
                isMoved = true;<font></font>
                speedPositionActive = speedPosition;<font></font>
                break;<font></font>
            case AnimationType.All:<font></font>
                make = false;<font></font>
                isMoved = false;<font></font>
                break;<font></font>
        }<font></font>
    }<font></font>
<font></font>
    public void TimerAnim(float timer, bool anim)<font></font>
    {<font></font>
        StartAnim(anim);<font></font>
        StartCoroutine(TimerTimerAnim(timer, anim));<font></font>
    }<font></font>
<font></font>
    private IEnumerator TimerTimerAnim(float timer, bool anim)<font></font>
    {<font></font>
        yield return new WaitForSeconds(timer);<font></font>
        EndAnim(anim);<font></font>
    }<font></font>
<font></font>
    public void StartAnim(bool anim)<font></font>
    {<font></font>
        make = true;<font></font>
        if (anim == true)<font></font>
        {<font></font>
            animMake = true;<font></font>
            isMoved = true;<font></font>
        }<font></font>
        else<font></font>
        {<font></font>
            speedPositionActive = speedPosition;<font></font>
        }<font></font>
    }<font></font>
<font></font>
    public void EndAnim(bool anim)<font></font>
    {<font></font>
        if (anim == true)<font></font>
        {<font></font>
            animMake = true;<font></font>
            isMoved = false;<font></font>
        }<font></font>
        else<font></font>
        {<font></font>
            make = false;<font></font>
            speedPositionActive = 0f;<font></font>
        }<font></font>
    }<font></font>
<font></font>
    private void FixedUpdate()<font></font>
    {<font></font>
        if (animMake == true)<font></font>
        {<font></font>
            if (isMoved == true)<font></font>
            {<font></font>
                if (speedPositionActive != speedPosition)<font></font>
                {<font></font>
                    Vector2 ends = new Vector2(-speedPosition, speedPosition);<font></font>
                    speedPositionActive = Mathf.MoveTowards(speedPositionActive, speedPosition, speedSpeedPosition);<font></font>
                }<font></font>
                else<font></font>
                {<font></font>
                    animMake = false;<font></font>
                    isMoved = false;<font></font>
                }<font></font>
            }<font></font>
            else<font></font>
            {<font></font>
                if (speedPositionActive != 0f)<font></font>
                {<font></font>
                    Vector2 ends = new Vector2(-speedPosition, speedPosition);<font></font>
                    speedPositionActive = Mathf.MoveTowards(speedPositionActive, 0f, speedSpeedPosition);<font></font>
                }<font></font>
                else<font></font>
                {<font></font>
                    animMake = false;<font></font>
                    isMoved = true;<font></font>
                }<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
<font></font>
    private void Update()<font></font>
    {<font></font>
        if (make)<font></font>
        {<font></font>
            if (tr.localPosition == pointsPosition[counterPosition])<font></font>
            {<font></font>
                counterPosition++;<font></font>
                if (counterPosition == pointsPositionLength)<font></font>
                { counterPosition = 0; }<font></font>
            }<font></font>
            else<font></font>
            {<font></font>
                float s = Time.fixedDeltaTime / 0.03f * (Time.deltaTime / 0.03f);<font></font>
                tr.localPosition = Vector3.MoveTowards(tr.localPosition, pointsPosition[counterPosition], speedPositionActive * s);<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
</div></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UI</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
オリジナルと比べると、これは本当の傑作です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
比較のために、ここにオリジナルがあります：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/iu/i9/lz/iui9lzqmqtypz2cvs3cqacrz644.png" width="500"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これが続編です：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/tt/d9/7t/ttd97thjtgvskcddhk1qwo5zwdc.png" width="500"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これがオリジナルです：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/9m/9n/is/9m9nisamgqedkkpx1ou8498vdqa.png" width="500"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これが続編です：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/yx/l7/3k/yxl73kah93pbxu8hjsckduyylh0.png" width="500"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでorig ...はっきりしていると思います。私が思いついた続編のミニマリズム、そして不適切に色付けされた一時停止ボタンと率直に言って干渉するタイマーの代わりに、今や左下隅にロカニックで、なんとなく目立つ一時停止ボタンがあります。続編はまだメニューを獲得しています。オリジナルとは異なり、至る所にアニメーションがあり、背景はShader Graphで誤って書いた11個のシェーダーです。機能も改善されています。グラフィック設定、サウンドと音楽の個別設定、保存を変更できるコンソールがあります。元のメニューにはこれはありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
他のゲームを見ることにしたので、それはとても良かった。あちこちで、一般的に、私はどこからでも最高のものを盗んだ（むしろ盗んだ）。そして、これが私が特別に取ったものです：</font></font><br>
<br>
<ol>
<li>  <br>
  Alto's Adventure,     , ,    .. </li>
<li> <br>
  Alto,    ,       . </li>
<li> <br>
   Vector 2,       .<br>
   ,      . </li>
</ol><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンソール</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
まず、saveの動作について予約する必要があります。</font><font style="vertical-align: inherit;">地球規模の保全と地域規模の保全を担当する2つの変数があります。これらはそれぞれ、進行状況とエレベーターの数です。</font><font style="vertical-align: inherit;">progress変数はシーン間の保存を担当し、elevatorsave変数はシーン内の保存を担当します。</font><font style="vertical-align: inherit;">「スタート」または「再スタート」ボタンを押すと、ゲームは進行状況をシーンに転送し、保存時にエレベーターセーブ番号の下にプレイヤーをスポーンします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コンソールでは、変数を変更または作成できます。</font><font style="vertical-align: inherit;">このようなシンプルで強力なツールは、ゲームをテストしてバグを特定するのに非常に役立ちました。</font><font style="vertical-align: inherit;">コンソール自体は、他のコンソールを模倣する手書きコマンドです。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スクリプトDebugConsole</font></font></b><div class="spoiler_text"><pre><code class="plaintext hljs">using UnityEngine;<font></font>
using UnityEngine.UI;<font></font>
using UnityEngine.SceneManagement;<font></font>
using System.Collections;<font></font>
<font></font>
public class DebugConsole : MonoBehaviour<font></font>
{<font></font>
    public Animator animatorBlackScreen;<font></font>
    public Language l;<font></font>
    public InputField inputField;<font></font>
    public Text textDebug;<font></font>
    private bool access = false;<font></font>
<font></font>
    public void AnalyzeText()<font></font>
    {<font></font>
        string txt = inputField.text.ToLower();<font></font>
        string[] output = new string[0];<font></font>
        string txtLoc = "";<font></font>
<font></font>
        for (int i = 0; i &lt; txt.Length; i++)<font></font>
        {<font></font>
            if (txt[i] == ' ')<font></font>
            {<font></font>
                if (txtLoc != "")<font></font>
                {<font></font>
                    output = Add(output, txtLoc);<font></font>
                    txtLoc = "";<font></font>
                }<font></font>
            }<font></font>
            else<font></font>
            {<font></font>
                txtLoc = txtLoc + txt[i];<font></font>
            }<font></font>
        }<font></font>
        if (txtLoc != "")<font></font>
        {<font></font>
            output = Add(output, txtLoc);<font></font>
            txtLoc = "";<font></font>
        }<font></font>
<font></font>
        Analyze(output);<font></font>
    }<font></font>
<font></font>
    public void Analyze(string[] commands)<font></font>
    {<font></font>
        switch (commands[0])<font></font>
        {<font></font>
            case "playerprefs":<font></font>
                if (access == true)<font></font>
                {<font></font>
                    if (commands.Length &lt; 2)<font></font>
                    {<font></font>
                        Log(l.ConsoleLanguage(1));//1<font></font>
                    }<font></font>
                    else<font></font>
                    {<font></font>
                        switch (commands[1])<font></font>
                        {<font></font>
                            case "f":<font></font>
                            case "float":<font></font>
                                float f = 0f;<font></font>
                                if (float.TryParse(commands[3], out f))<font></font>
                                {<font></font>
                                    PlayerPrefs.SetFloat(commands[2], float.Parse(commands[3]));<font></font>
                                    Log(l.ConsoleLanguage(2, commands[2]));//2<font></font>
                                }<font></font>
                                else<font></font>
                                {<font></font>
                                    Log(l.ConsoleLanguage(3));//3<font></font>
                                }<font></font>
                                break;<font></font>
                            case "i":<font></font>
                            case "int":<font></font>
                                int i = 0;<font></font>
                                if (int.TryParse(commands[3], out i))<font></font>
                                {<font></font>
                                    PlayerPrefs.SetInt(commands[2], int.Parse(commands[3]));<font></font>
                                    Log(l.ConsoleLanguage(4, commands[2]));//4<font></font>
                                }<font></font>
                                else<font></font>
                                {<font></font>
                                    Log(l.ConsoleLanguage(5));//5<font></font>
                                }<font></font>
                                break;<font></font>
                            case "s":<font></font>
                            case "string":<font></font>
                                PlayerPrefs.SetString(commands[2], commands[3]);<font></font>
                                Log(l.ConsoleLanguage(6, commands[2]));//6<font></font>
                                break;<font></font>
                            case "clear":<font></font>
                                PlayerPrefs.DeleteAll();<font></font>
                                SceneManager.LoadScene(0);<font></font>
                                break;<font></font>
                            default:<font></font>
                                Log(l.ConsoleLanguage(7, commands[1]));//7<font></font>
                                break;<font></font>
                        }<font></font>
                    }<font></font>
                }<font></font>
                else<font></font>
                {<font></font>
                    Log(l.ConsoleLanguage(8));//8<font></font>
                }<font></font>
                break;<font></font>
            case "next":<font></font>
                if (access == true)<font></font>
                {<font></font>
                    if (commands.Length &gt; 1)<font></font>
                    {<font></font>
                        switch (commands[1])<font></font>
                        {<font></font>
                            case "level":<font></font>
                                int p = PlayerPrefs.GetInt("progress");<font></font>
                                PlayerPrefs.SetInt("progress", p + 1);<font></font>
                                Log("ok level");<font></font>
                                break;<font></font>
                            case "save":<font></font>
                                int s = PlayerPrefs.GetInt("elevatorsave");<font></font>
                                PlayerPrefs.SetInt("elevatorsave", s + 1);<font></font>
                                Log("ok save");<font></font>
                                break;<font></font>
                            case "start":<font></font>
                                PlayerPrefs.SetInt("elevatorsave", 0);<font></font>
                                Log("ok start");<font></font>
                                break;<font></font>
                            case "end":<font></font>
                                PlayerPrefs.SetInt("elevatorsave", 1);<font></font>
                                Log("ok end");<font></font>
                                break;<font></font>
                        }<font></font>
                    }<font></font>
                }<font></font>
                else<font></font>
                {<font></font>
                    Log(l.ConsoleLanguage(8));//8<font></font>
                }<font></font>
                break;<font></font>
            case "echo":<font></font>
                if (commands.Length == 1)<font></font>
                {<font></font>
                    Log(l.ConsoleLanguage(9));//9<font></font>
                }<font></font>
                else<font></font>
                {<font></font>
                    switch (commands[1])<font></font>
                    {<font></font>
                        case "vertogpro"://echo vertogpro<font></font>
                            access = true;<font></font>
                            Log(l.ConsoleLanguage(10));//10<font></font>
                            break;<font></font>
                        default:<font></font>
                            Log(l.ConsoleLanguage(11));//11<font></font>
                            break;<font></font>
                    }<font></font>
                }<font></font>
                break;<font></font>
            case "restart":<font></font>
                if (access == true)<font></font>
                {<font></font>
                    SceneManager.LoadScene(0);<font></font>
                }<font></font>
                else<font></font>
                {<font></font>
                    Log(l.ConsoleLanguage(12));//12<font></font>
                }<font></font>
                break;<font></font>
            case "authors":<font></font>
                Log(l.ConsoleLanguage(13));//13<font></font>
                break;<font></font>
            case "discharge":<font></font>
                animatorBlackScreen.SetBool("isActive", true);<font></font>
                PlayerPrefs.SetString("start", "key");<font></font>
                PlayerPrefs.SetString("language", "nothing");<font></font>
                PlayerPrefs.SetString("graphicsquality", "medium");<font></font>
                PlayerPrefs.SetFloat("sound", 0.5f);<font></font>
                PlayerPrefs.SetFloat("music", 0.5f);<font></font>
                PlayerPrefs.SetFloat("rotatenextlevel", 0f);<font></font>
                PlayerPrefs.SetInt("elevatorsave", 0);<font></font>
                PlayerPrefs.SetInt("progress", 1);<font></font>
                PlayerPrefs.SetInt("deaths", 0);<font></font>
                PlayerPrefs.SetInt("discharge", PlayerPrefs.GetInt("discharge") + 1);<font></font>
                PlayerPrefs.SetInt("lastmenueffect", -1);<font></font>
                PlayerPrefs.SetString("isshotmode", "false");<font></font>
                PlayerPrefs.SetString("boss1", "life");<font></font>
                PlayerPrefs.SetString("boss2", "life");<font></font>
                PlayerPrefs.SetString("ai", "off");<font></font>
                PlayerPrefs.SetString("boss3", "life");<font></font>
                PlayerPrefs.SetString("end", "none");<font></font>
                StartCoroutine(StartGame());<font></font>
                break;<font></font>
            case "clear":<font></font>
                Clear();<font></font>
                break;<font></font>
            case "info":<font></font>
                if (access == false)<font></font>
                {<font></font>
                    Log(l.ConsoleLanguage(14));//14<font></font>
                }<font></font>
                else<font></font>
                {<font></font>
                    Log(l.ConsoleLanguage(15));//15<font></font>
                }<font></font>
                break;<font></font>
            default:<font></font>
                Log(l.ConsoleLanguage(16, commands[0]));//16<font></font>
                break;<font></font>
        }<font></font>
    }<font></font>
<font></font>
    public void Log(object message)<font></font>
    {<font></font>
        textDebug.text = message.ToString();<font></font>
    }<font></font>
<font></font>
    public void Clear()<font></font>
    {<font></font>
        inputField.text = "";<font></font>
        textDebug.text = "";<font></font>
    }<font></font>
<font></font>
    public string[] Add(string[] old, string addComponent)<font></font>
    {<font></font>
        string[] n = new string[old.Length + 1];<font></font>
<font></font>
        if (old.Length != 0)<font></font>
        {<font></font>
            for (int i = 0; i &lt; old.Length; i++)<font></font>
            {<font></font>
                n[i] = old[i];<font></font>
            }<font></font>
        }<font></font>
<font></font>
        n[old.Length] = addComponent;<font></font>
        return n;<font></font>
    }<font></font>
<font></font>
    public IEnumerator StartGame()<font></font>
    {<font></font>
        yield return new WaitForSeconds(1f);<font></font>
        SceneManager.LoadSceneAsync(0);<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして特にあなたのために、私はその中に流動性のあるチームのリストを残します：</font></font><br>
<br>
<ol>
<li>discharge —    (    )</li>
<li>echo vertogpro —       </li>
<li>playerprefs [  (string, int, float)] [ ] [] —     . : playerprefs int progress 14</li>
<li> next —      ,   :<br>
 <ul>
<li>start —     (next start)</li>
<li>end —     (next end)</li>
<li>save —     (next save)</li>
<li>level —     (next level)</li>
</ul></li>
</ol><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">グラフィックス</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
今年は描画方法を習得しなかったため、オリジナルとほぼ同じように作成しました。Maycraft用に約30のテクスチャパックをダウンロードし、それぞれから最適なものを選択したため、メイングラフィックスが判明しました。</font><font style="vertical-align: inherit;">グラフィックは元のグラフィックとそれほど変わらなかったし、それは私を激怒させ、私を激怒させたので、さまざまなアニメーション効果（爆発、火など）を見つけ、さまざまなテクスチャパックをアセットストアから汲み上げました。</font><font style="vertical-align: inherit;">モバイルゲームの場合でも、進行状況はまだ観察されていますが、グラフィックはかなり悪いです。</font><font style="vertical-align: inherit;">これがオリジナルです：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/81/ap/oz/81apoz9lyvlrkz-zr73c2y54qjo.png" width="500"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、これが続編です。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/jz/gl/h3/jzglh35mj-d5ymacylqigsnmphw.png" width="500"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">保存保存</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
の原則が単純であれば、その実装はそれほど簡単ではありません。</font><font style="vertical-align: inherit;">保存システムは、3つのスクリプトで構成されています。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ElevatorBaseは、スタートアップチームが発生する基盤です。</font><font style="vertical-align: inherit;">その中で、elevatorsave変数によって、アクティブな保存が保存配列から選択されます。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スクリプトElevatorBase</font></font></b><div class="spoiler_text"><pre><code class="plaintext hljs">using UnityEngine;<font></font>
using System.Collections;<font></font>
<font></font>
public class ElevatorBase : MonoBehaviour<font></font>
{<font></font>
    public GameObject[] savers = new GameObject[0];<font></font>
    public float inputStartBlock = 1f;<font></font>
    private GameUI gameUI;<font></font>
<font></font>
    public void Awake()<font></font>
    {<font></font>
        int l = savers.Length;<font></font>
        if (l != 0)<font></font>
        {<font></font>
            for (int i = 0; i &lt; l; i++)<font></font>
            {<font></font>
                if (savers[i] != null)<font></font>
                {<font></font>
                    if (savers[i].GetComponent&lt;Saving&gt;())<font></font>
                    {<font></font>
                        Saving saving = savers[i].GetComponent&lt;Saving&gt;();<font></font>
                        saving.isFirst = false;<font></font>
                        saving.idElevatorBase = i;<font></font>
                    }<font></font>
                    else if (savers[i].GetComponent&lt;Elevator&gt;())<font></font>
                    {<font></font>
                        savers[i].GetComponent&lt;Elevator&gt;().isFirst = false;<font></font>
                    }<font></font>
                }<font></font>
            }<font></font>
<font></font>
            int es = PlayerPrefs.GetInt("elevatorsave");<font></font>
            if (savers[es] != null)<font></font>
            {<font></font>
                if (savers[es].GetComponent&lt;Saving&gt;())<font></font>
                {<font></font>
                    savers[es].GetComponent&lt;Saving&gt;().isFirst = true;<font></font>
                }<font></font>
                else if (savers[es].GetComponent&lt;Elevator&gt;())<font></font>
                {<font></font>
                    savers[es].GetComponent&lt;Elevator&gt;().isFirst = true;<font></font>
                }<font></font>
            }<font></font>
            else<font></font>
            {<font></font>
                gameUI = GameObject.FindWithTag("Canvas").GetComponent&lt;GameUI&gt;();<font></font>
                StartCoroutine(BlockEnabled());<font></font>
                GameObject.Find("TipsInput").GetComponent&lt;TipsGamePlayInput&gt;().active = true;<font></font>
            }<font></font>
        }<font></font>
        else<font></font>
        {<font></font>
            gameUI = GameObject.FindWithTag("Canvas").GetComponent&lt;GameUI&gt;();<font></font>
            gameUI.ChangeisBlocked();<font></font>
        }<font></font>
    }<font></font>
    <font></font>
    public IEnumerator BlockEnabled()<font></font>
    {<font></font>
        yield return new WaitForSeconds(inputStartBlock);<font></font>
        GameObject block = gameUI.block.gameObject;<font></font>
        block.SetActive(false);<font></font>
    }<font></font>
}<font></font>
</code></pre> </div></div><br>
</li>
<li> Saving — ,            ,   ,         elevatorsave  id.<br>
<br>
<div class="spoiler"><b class="spoiler_title"> Saving</b><div class="spoiler_text"><pre><code class="plaintext hljs">using System.Collections;<font></font>
using UnityEngine;<font></font>
<font></font>
public class Saving : MonoBehaviour<font></font>
{<font></font>
    public Saving[] savings;<font></font>
    public Vector2 startPos;<font></font>
    public float startRot;<font></font>
    public bool isActive = true;<font></font>
    public bool isFirst = true;<font></font>
    public int idElevatorBase = 0;<font></font>
    public TipsGamePlayInput tgpi;<font></font>
    private GameObject player;<font></font>
    private GameObject cam;<font></font>
    private Transform trp;<font></font>
    private GameUI gameui;<font></font>
    private Management m;<font></font>
    private Saving self;<font></font>
<font></font>
    private void Start()<font></font>
    {<font></font>
        self = GetComponent&lt;Saving&gt;();<font></font>
        cam = GameObject.FindWithTag("MainCamera");<font></font>
        m = cam.GetComponent&lt;Management&gt;();<font></font>
        gameui = GameObject.FindWithTag("Canvas").GetComponent&lt;GameUI&gt;();<font></font>
        player = m.player;<font></font>
        trp = player.GetComponent&lt;Transform&gt;();<font></font>
<font></font>
        if (isFirst)<font></font>
        {<font></font>
            trp.position = startPos;<font></font>
            m.Set(startRot);<font></font>
            OfferSaves();<font></font>
        }<font></font>
        isActive = !isFirst;<font></font>
        tgpi.SetActive(!isFirst);<font></font>
        StartCoroutine(BlockFalse());<font></font>
    }<font></font>
<font></font>
    public IEnumerator BlockFalse()<font></font>
    {<font></font>
        yield return new WaitForSeconds(1f);<font></font>
        gameui.block.gameObject.SetActive(false);<font></font>
    }<font></font>
<font></font>
    private void OnTriggerEnter2D(Collider2D collision)<font></font>
    {<font></font>
        if (collision.CompareTag("Player") &amp;&amp; isActive == true)<font></font>
        {<font></font>
            isActive = false;<font></font>
            PlayerPrefs.SetInt("elevatorsave", idElevatorBase);<font></font>
            OfferSaves();<font></font>
        }<font></font>
    }<font></font>
<font></font>
    public void OfferSaves()<font></font>
    {<font></font>
        if (savings.Length != 0)<font></font>
        {<font></font>
            for (int i = 0; i &lt; savings.Length; i++)<font></font>
            {<font></font>
                savings[i].isActive = false;<font></font>
                savings[i].tgpi.SetActive(false);<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
}<font></font>
</code></pre> </div></div><br>
</li>
<li> Elevator —   ,      .   :           (      ).<br>
<br>
<div class="spoiler"><b class="spoiler_title"> Elevator</b><div class="spoiler_text"><pre><code class="plaintext hljs">using System.Collections;<font></font>
using UnityEngine;<font></font>
<font></font>
public class Elevator : GlobalFunctions<font></font>
{<font></font>
    public Vector2 endPos;<font></font>
    public Vector2 startPos;<font></font>
    public int nextScene = 1;<font></font>
    public int nextElevatorSave = 0;<font></font>
    public float speed = 0.1f;<font></font>
<font></font>
    public bool isFirst = true;<font></font>
    public bool isActive = true;<font></font>
    public bool isReverse = false;<font></font>
    public bool isMake = false;<font></font>
    private GameObject player;<font></font>
    private Rigidbody2D rb;<font></font>
    private Transform tr;<font></font>
    private Transform trp;<font></font>
    private GameUI gameui;<font></font>
    private AudioBase audioBase;<font></font>
    private Transform cam;<font></font>
<font></font>
    private void Start()<font></font>
    {<font></font>
        audioBase = GameObject.FindWithTag("MainCamera").GetComponent&lt;AudioBase&gt;();<font></font>
        gameui = GameObject.FindWithTag("Canvas").GetComponent&lt;GameUI&gt;();<font></font>
        player = gameui.m.player;<font></font>
        rb = player.GetComponent&lt;Rigidbody2D&gt;();<font></font>
        trp = player.GetComponent&lt;Transform&gt;();<font></font>
        tr = GetComponent&lt;Transform&gt;();<font></font>
        cam = gameui.m.transform;<font></font>
<font></font>
        startPos = tr.position;<font></font>
        if (isFirst)<font></font>
        {<font></font>
            trp.position = startPos;<font></font>
            rb.velocity = new Vector2();<font></font>
            rb.gravityScale = 0f;<font></font>
            gameui.m.Set();<font></font>
        }<font></font>
        else<font></font>
        {<font></font>
            tr.position = endPos;<font></font>
            isMake = true;<font></font>
        }<font></font>
        isActive = isFirst;<font></font>
        isReverse = false;<font></font>
    }<font></font>
<font></font>
    private void OnTriggerEnter2D(Collider2D collision)<font></font>
    {<font></font>
        if (collision.CompareTag("Player") &amp;&amp; isMake == true)<font></font>
        {<font></font>
            isReverse = true;<font></font>
            isActive = true;<font></font>
            rb.velocity = new Vector2();<font></font>
            rb.gravityScale = 0f;<font></font>
            gameui.block.gameObject.SetActive(true); <font></font>
            PlayerPrefs.SetInt("elevatorsave", nextElevatorSave);<font></font>
            gameui.animatorBlackScreenGame.SetBool("isActive", true);<font></font>
            audioBase.LowerSound(0.05f, 16, 0, TypePlaying.Music);<font></font>
            StartCoroutine(NumSaveRotate());<font></font>
            StartCoroutine(gameui.StartGame(1.5f, nextScene));<font></font>
        }<font></font>
    }<font></font>
<font></font>
    private IEnumerator NumSaveRotate()<font></font>
    {<font></font>
        yield return new WaitForSeconds(1.5f);<font></font>
        PlayerPrefs.SetFloat("rotatenextlevel", Stable(cam.localEulerAngles.z, -180f, 180f));<font></font>
    }<font></font>
<font></font>
    private void FixedUpdate()<font></font>
    {<font></font>
        if (isActive == true)<font></font>
        {<font></font>
            float s = Time.fixedDeltaTime / 0.03f;<font></font>
            if (isReverse == false)<font></font>
            {<font></font>
                rb.velocity = new Vector2();<font></font>
                tr.position = Vector2.MoveTowards(tr.position, endPos, speed * s);<font></font>
                trp.position = tr.position;<font></font>
                if ((Vector2)tr.position == endPos)<font></font>
                {<font></font>
                    isMake = true;<font></font>
                    isActive = false;<font></font>
                    rb.gravityScale = 1f;<font></font>
                    gameui.block.gameObject.SetActive(false);<font></font>
                }<font></font>
            }<font></font>
            else if (isReverse == true)<font></font>
            {<font></font>
                tr.position = Vector2.MoveTowards(tr.position, startPos, speed * s);<font></font>
                trp.position = tr.position;<font></font>
                if (tr.position == (Vector3)startPos)<font></font>
                {<font></font>
                    isActive = false;<font></font>
                    rb.gravityScale = 1f;<font></font>
                }<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
}<font></font>
</code></pre> </div></div> </li>
</ol><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ゲームデザイン</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
それは本当の混乱でした。開発サイクルを4か月から6か月に延ばしたのはゲームデザインでした。合計すると、ゲームには34のレベルがあります。30のレギュラー、3つのボス、1つのファイナル（レベル）です。普通の私はそれぞれ2〜3日、上司は2週間、最終レベルは1週間でした。すべてのバランスを取るために、10レベル=&gt; 1ボス=&gt; 10レベル=&gt; 2ボス=&gt; 10レベル=&gt; 3ボス=&gt;最終レベルのように作成しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ローカルレベルは私の誇りです。彼らは珍しく、多様で、少しでも面白いです。レベルは、オープンワールドの感覚を生み出すために特定の形式で設計されています。これのために、私は地図も描いた：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/xv/1y/fx/xv1yfxu-5xf9nzogz1ffuzc8wc0.png" width="350"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
マップは最適な描画と情報ではありませんが、必要なレベルのレベルに重要な情報を提供しました。</font><font style="vertical-align: inherit;">当初、地図上にすべてのレベルを作成する計画でしたが、暗くなったものは作成しませんでした。</font><font style="vertical-align: inherit;">ちなみに、これは1000x1000ピクセルのサイズのマップで、このマップから縮尺が出てきました：1ブロック= 1ピクセル=プレーヤーサイズ。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
レベル間で、プレイヤーはエレベーターを通過します。</font><font style="vertical-align: inherit;">あらゆるレベルに配信できるため、レベル間を移動することが可能であり、世界の開放性をさらに高めるプレーヤーを作成できます。</font><font style="vertical-align: inherit;">また、一部の場所ではトリガーが隠されて、10〜15レベル進むことができる秘密のエレベーターが作動します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通常のレベルでは、構築アルゴリズムがありました：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 地図のような形と縮尺を持つ背景</font></font><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/iv/hk/bo/ivhkbo6wfuraf7ccfqsafxuwz44.png" width="500"></div> </li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 外壁（特別な物理学のために3つの厚さ）</font></font><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/zb/6j/1v/zb6j1vbcr_ok_-dnessoj2qgdxk.png" width="500"></div> </li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 壁は内部にあります</font></font><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ze/na/l8/zenal8v8mt8fbfxqz3ne8xdyt-e.png" width="500"></div> </li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> レベル自体</font></font><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/_k/nf/8k/_knf8kp4cndzcc7u3ldbux2anqg.png" width="500"></div> </li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> エレベーター、保存、音声トリガー</font></font><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/nq/bp/2v/nqbp2vgeiaca4ydxollwdcxsjk8.png" width="500"></div> </li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それぞれのボスが同時に異なる似たような行動パターンを示したため、ボスの場合はさらに複雑になります。</font><font style="vertical-align: inherit;">すべてのボスは100のヘルスを持ち、各レベルには破壊する何かがあります。</font><font style="vertical-align: inherit;">それぞれについて個別に話すことをお勧めします</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。1人のボスの行動は非常に単純です。ランダムに部屋の中を動き回り、5秒待ってから繰り返します。</font><font style="vertical-align: inherit;">正直に言うと、これは上司の悪い例です。シンプルで、遅れて、覚えにくいものです。</font><font style="vertical-align: inherit;">そして彼は彼について打つことによってのみ殺されることができます。</font><font style="vertical-align: inherit;">しかし、4つの鋸の形の防御があります。そのうちの3つは部屋の周りをランダムにスマートに動き、1つはボスが動くときにボスを保護します。</font><font style="vertical-align: inherit;">死後、爆発します。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スクリプトBossManagement1</font></font></b><div class="spoiler_text"><pre><code class="plaintext hljs">using UnityEngine;<font></font>
using System.Collections;<font></font>
<font></font>
public class BossManagement1 : GlobalFunctions<font></font>
{<font></font>
    public float hp = 100f;<font></font>
    public float speed = 0.2f;<font></font>
    public bool startActivated = false;<font></font>
    public bool activated = false;<font></font>
    public bool activatedSaw = false;<font></font>
    public bool activatedAngle = false;<font></font>
    public bool activatedCoroutine = true;<font></font>
    private bool active;<font></font>
    private float maxhp;<font></font>
    public Vector2 target;<font></font>
    public Vector2 targetSaw1;<font></font>
    public Vector2 targetSaw2;<font></font>
    public Vector2 minBorder;<font></font>
    public Vector2 maxBorder;<font></font>
    public DeadBoss1 deadBoss;<font></font>
    public GameObject backGround;<font></font>
    public GameObject healthBar;<font></font>
    public Transform tr;<font></font>
    public Transform sawMain;<font></font>
    public Transform saw1;<font></font>
    public Transform saw2;<font></font>
    public Arrow arrow;<font></font>
    public AudioSet setStart;<font></font>
    public AudioSet setEnd;<font></font>
    public Transform player;<font></font>
    public Power playerPower;<font></font>
    private Transform bg, hb;<font></font>
    private float targethp = 0f;<font></font>
<font></font>
    private Vector2 startMove = new Vector2(-20f, 0f);<font></font>
<font></font>
    public void Awake()<font></font>
    {<font></font>
        maxhp = hp;<font></font>
        bg = backGround.transform;<font></font>
        hb = healthBar.transform;<font></font>
    }<font></font>
<font></font>
    public void Start()<font></font>
    {<font></font>
        if (PlayerPrefs.GetString("boss1") == "death")<font></font>
        {<font></font>
            Dead(false);<font></font>
        }<font></font>
    }<font></font>
<font></font>
    public void FixedUpdate()<font></font>
    {<font></font>
        if (startActivated &amp;&amp; !activatedCoroutine)<font></font>
        {<font></font>
            if ((Vector2)tr.position != startMove)<font></font>
            {<font></font>
                tr.position = Vector2.MoveTowards(tr.position, startMove, speed);<font></font>
                saw1.position = Vector2.MoveTowards(saw1.position, startMove, speed);<font></font>
                saw2.position = Vector2.MoveTowards(saw2.position, startMove, speed);<font></font>
            }<font></font>
            else<font></font>
            {<font></font>
                activatedCoroutine = true;<font></font>
                startActivated = false;<font></font>
                StartCoroutine(ActivatedOn());<font></font>
            }<font></font>
        }<font></font>
        if (activated)<font></font>
        {<font></font>
            if ((Vector2)tr.position != target)<font></font>
            {<font></font>
                tr.position = Vector2.MoveTowards(tr.position, target, speed);<font></font>
            }<font></font>
            else<font></font>
            {<font></font>
                activated = false;<font></font>
                sawMain.localScale = new Vector2(0f, 0f);<font></font>
                StartCoroutine(TargetRotate());<font></font>
            }<font></font>
        }<font></font>
        if (activatedSaw)<font></font>
        {<font></font>
            if ((Vector2)saw1.position != targetSaw1)<font></font>
            {<font></font>
                saw1.position = Vector2.MoveTowards(saw1.position, targetSaw1, speed);<font></font>
            }<font></font>
            else<font></font>
            {<font></font>
                float x = Random.Range(minBorder.x, maxBorder.x);<font></font>
                float y = Random.Range(minBorder.y, maxBorder.y);<font></font>
                targetSaw1 = new Vector2(x, y);<font></font>
            }<font></font>
<font></font>
            if ((Vector2)saw2.position != targetSaw2)<font></font>
            {<font></font>
                saw2.position = Vector2.MoveTowards(saw2.position, targetSaw2, speed);<font></font>
            }<font></font>
            else<font></font>
            {<font></font>
                float x = Random.Range(minBorder.x, maxBorder.x);<font></font>
                float y = Random.Range(minBorder.y, maxBorder.y);<font></font>
                targetSaw2 = new Vector2(x, y);<font></font>
            }<font></font>
        }<font></font>
        if (activatedAngle)<font></font>
        {<font></font>
            Vector2 dir = player.position - tr.position;<font></font>
            float angle = Mathf.Atan2(dir.y, dir.x) * Mathf.Rad2Deg;<font></font>
            tr.localEulerAngles = new Vector3(0f, 0f, Mathf.LerpAngle(tr.localEulerAngles.z, angle, 0.1f));<font></font>
        }<font></font>
    }<font></font>
<font></font>
    public IEnumerator TargetRotate()<font></font>
    {<font></font>
        yield return new WaitForSeconds(3f + 3f * hp / maxhp);<font></font>
        sawMain.localScale = new Vector2(6f, 6f);<font></font>
        float x = Random.Range(minBorder.x, maxBorder.x);<font></font>
        float y = Random.Range(minBorder.y, maxBorder.y);<font></font>
        target = new Vector2(x, y);<font></font>
        activated = true;<font></font>
    }<font></font>
<font></font>
    public IEnumerator ActivatedOn()<font></font>
    {<font></font>
        yield return new WaitForSeconds(3f);<font></font>
        sawMain.localScale = new Vector2(6f, 6f);<font></font>
        target = new Vector2(Random.Range(minBorder.x, maxBorder.x), Random.Range(minBorder.y, maxBorder.y));<font></font>
        targetSaw1 = new Vector2(Random.Range(minBorder.x, maxBorder.x), Random.Range(minBorder.y, maxBorder.y));<font></font>
        targetSaw2 = new Vector2(Random.Range(minBorder.x, maxBorder.x), Random.Range(minBorder.y, maxBorder.y));<font></font>
        activatedSaw = true;<font></font>
        activated = true;<font></font>
        arrow.isActive = true;<font></font>
    }<font></font>
<font></font>
    public IEnumerator ActivatedCoroutineOff()<font></font>
    {<font></font>
        yield return new WaitForSeconds(1f);<font></font>
        activatedCoroutine = false;<font></font>
        activatedAngle = true;<font></font>
    }<font></font>
<font></font>
    public void Update()<font></font>
    {<font></font>
        if (active == true)<font></font>
        {<font></font>
            if (hp != targethp)<font></font>
            {<font></font>
                float s = Time.fixedDeltaTime / 0.03f * (Time.deltaTime / 0.03f);<font></font>
                hp = MoveToward(hp, targethp, speed * s, new Vector2(-0f, maxhp));<font></font>
            }<font></font>
            else<font></font>
            {<font></font>
                active = false;<font></font>
                if (targethp == 0f)<font></font>
                {<font></font>
                    Dead(true);<font></font>
                }<font></font>
            }<font></font>
        }<font></font>
<font></font>
        UpdateHP();<font></font>
    }<font></font>
<font></font>
    public void UpdateHP()<font></font>
    {<font></font>
        float h = hp / maxhp;<font></font>
        bg.localScale = new Vector3(5f, 0.9f, 1f);<font></font>
        hb.localScale = new Vector3(4.8f * h, 0.7f, 1f);<font></font>
        hb.localPosition = new Vector3(-2.4f + 4.8f * h / 2f, 0f, 0f);<font></font>
    }<font></font>
<font></font>
    private bool oneTimeMusic = true;<font></font>
    public void Damage(float damage)<font></font>
    {<font></font>
        if (oneTimeMusic == true)<font></font>
        {<font></font>
            oneTimeMusic = false;<font></font>
            deadBoss.StartBoss();<font></font>
            deadBoss.Boom();<font></font>
            setStart.SetMusic();<font></font>
            startActivated = true;<font></font>
            StartCoroutine(ActivatedCoroutineOff());<font></font>
        }<font></font>
<font></font>
        if (hp != 0f)<font></font>
        {<font></font>
            targethp = Stable2(hp - damage, 0f, maxhp);<font></font>
            speed = speed + damage * 0.02f;<font></font>
            active = true;<font></font>
        }<font></font>
    }<font></font>
<font></font>
    public void Dead(bool boom)<font></font>
    {<font></font>
        active = false;<font></font>
        activated = false;<font></font>
        activatedSaw = false;<font></font>
        startActivated = false;<font></font>
        activatedAngle = false;<font></font>
        activatedCoroutine = false;<font></font>
        backGround.SetActive(false);<font></font>
        healthBar.SetActive(false);<font></font>
        sawMain.gameObject.SetActive(false);<font></font>
        saw1.gameObject.SetActive(false);<font></font>
        saw2.gameObject.SetActive(false);<font></font>
        setEnd.SetMusic();<font></font>
        arrow.obj.SetActive(false);<font></font>
        PlayerPrefs.SetString("boss1", "death");<font></font>
        deadBoss.Dead(tr.position, boom);<font></font>
    }<font></font>
<font></font>
    public void OnCollisionEnter2D(Collision2D collision)<font></font>
    {<font></font>
        if (collision.transform.CompareTag("Player"))<font></font>
        {<font></font>
            Damage(playerPower.power);<font></font>
        }<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2ボスはすでに品質が優れていますが、理想からは程遠いです。</font><font style="vertical-align: inherit;">彼のパターンはより複雑です。彼は、プレーヤーの場所と、自分がいるエリアの後にいます。</font><font style="vertical-align: inherit;">ボスがエリア内のランダムなポイントを選択し、そこに移動した後。</font><font style="vertical-align: inherit;">彼の防御はすでにより意味があります。ボスの健康にはステージがあり、ステージごとに異なる武器があります。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">遠くに2本のこぎり</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">のこぎりで保護されている場合、離れたところにある2つののこぎり</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2レーザー制限、移動中に鋸で保護</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">鋸で保護されている場合は2つのレーザー</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2つのレーザー、のこぎりと2つののこぎりで保護されている場合</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、グラフィックパーツから見ると、2番目のボスは1番目のボスよりも優れています。部屋の中央でトリガーがアクティブになった場合、スタミンの回復という形での非アクティブ時間とボスレーザーの非アクティブ化という形でのサードパーティのアクティビティ。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スクリプトBossManagement2</font></font></b><div class="spoiler_text"><pre><code class="plaintext hljs">using System.Collections;<font></font>
using UnityEngine;<font></font>
<font></font>
public class BossManagement2 : GlobalFunctions<font></font>
{<font></font>
    public float hp = 100f;<font></font>
    public float speed = 0.5f;<font></font>
    public float speedRotate = 0.5f;<font></font>
    public int stage = 1;<font></font>
    public bool isAlive = true;<font></font>
    public bool isActivated = false;<font></font>
    public bool isMove = false;<font></font>
    public bool isWorkingLaser = true;<font></font>
    private float timeStamina = 0f;<font></font>
    private float timeRetarget = 0f;<font></font>
    public Vector2 region = Vector2.zero;<font></font>
    public Vector3 target = Vector3.zero;<font></font>
    <font></font>
    public GameObject player;<font></font>
    public Transform saw;<font></font>
    public Transform laser1;<font></font>
    public Transform laser2;<font></font>
    public Laser laserL1;<font></font>
    public Laser laserL2;<font></font>
    public Transform laserOffset1;<font></font>
    public Transform laserOffset2;<font></font>
    public Explosion explosion;<font></font>
    public GameObject explosionAsset;<font></font>
    public CircleCollider2D trigStart;<font></font>
    public BoxCollider2D laserDetected1;<font></font>
    public BoxCollider2D laserDetected2;<font></font>
    public GameObject saw1;<font></font>
    public GameObject saw2;<font></font>
    public Transform health;<font></font>
    public Transform stamina;<font></font>
    public SpriteRenderer srStamina;<font></font>
    private Transform pl;<font></font>
    private Transform tr;<font></font>
<font></font>
    public Transform state;<font></font>
    public Laser state1;<font></font>
    public Laser state2;<font></font>
    public Laser state3;<font></font>
    public Laser state4;<font></font>
    private Coroutine coroutineStamina;<font></font>
<font></font>
    public SpriteRenderer bossBase;<font></font>
    public SpriteRenderer laserD1;<font></font>
    public SpriteRenderer laserD2;<font></font>
    public Gate gateStart;<font></font>
    public Gate gateEnd;<font></font>
    public GameObject blockWin;<font></font>
    public GameObject physicsIn;<font></font>
    public GameObject stateLasers;<font></font>
    public GameObject expStart;<font></font>
    <font></font>
    public AudioSet setStart;<font></font>
    public AudioClip setEnd;<font></font>
    public AudioBase audioBase;<font></font>
<font></font>
    public void Awake()<font></font>
    {<font></font>
        bool isDeath = PlayerPrefs.GetString("boss2") == "death";<font></font>
        blockWin.SetActive(false);<font></font>
        if (isDeath)<font></font>
        {<font></font>
            isAlive = false;<font></font>
            gateStart.isReverse = true;<font></font>
            gateEnd.isReverse = true;<font></font>
            physicsIn.SetActive(false);<font></font>
            stateLasers.SetActive(false);<font></font>
            expStart.SetActive(false);<font></font>
            gameObject.SetActive(false);<font></font>
        }<font></font>
        else<font></font>
        {<font></font>
            tr = transform;<font></font>
            pl = player.transform;<font></font>
            timeStamina = 5.4f / speedRotate / 100f;<font></font>
            timeRetarget = 5.4f / speedRotate;<font></font>
            saw.localScale = Vector3.zero;<font></font>
            stamina.localScale = Vector3.zero;<font></font>
            srStamina.color = new Color(0f, 0.5f, 1f, 0f);<font></font>
            saw1.SetActive(false);<font></font>
            saw2.SetActive(false);<font></font>
            LaserDisable();<font></font>
            LaserBlockEnable();<font></font>
        }<font></font>
    }<font></font>
<font></font>
    public void Update()<font></font>
    {<font></font>
        if (isAlive)<font></font>
        {<font></font>
            if (isActivated == true)<font></font>
            {<font></font>
                switch (stage)<font></font>
                {<font></font>
                    case 1:<font></font>
                        if (isMove == true)<font></font>
                        {<font></font>
                            if (tr.position == target)<font></font>
                            {<font></font>
                                isMove = false;<font></font>
                                RotatePlayer();<font></font>
                                saw1.SetActive(true);<font></font>
                                saw2.SetActive(true);<font></font>
                                stamina.localScale = Vector3.zero;<font></font>
                                srStamina.color = new Color(0f, 0.5f, 1f, 1f);<font></font>
                                if (coroutineStamina != null) { StopCoroutine(coroutineStamina); }<font></font>
                                coroutineStamina = StartCoroutine(StaminaAnim(timeStamina, 100));<font></font>
                                StartCoroutine(Retarget1());<font></font>
                            }<font></font>
                            else<font></font>
                            {<font></font>
                                tr.position = Vector2.MoveTowards(tr.position, target, speed);<font></font>
                            }<font></font>
                        }<font></font>
                        break;<font></font>
                    case 2:<font></font>
                        if (isMove == true)<font></font>
                        {<font></font>
                            if (tr.position == target)<font></font>
                            {<font></font>
                                isMove = false;<font></font>
                                RotatePlayer();<font></font>
                                saw.localScale = Vector3.zero;<font></font>
                                saw1.SetActive(true);<font></font>
                                saw2.SetActive(true);<font></font>
                                stamina.localScale = Vector3.zero;<font></font>
                                srStamina.color = new Color(0f, 0.5f, 1f, 1f);<font></font>
                                if (coroutineStamina != null) { StopCoroutine(coroutineStamina); }<font></font>
                                coroutineStamina = StartCoroutine(StaminaAnim(timeStamina, 100));<font></font>
                                StartCoroutine(Retarget2());<font></font>
                            }<font></font>
                            else<font></font>
                            {<font></font>
                                tr.position = Vector2.MoveTowards(tr.position, target, speed);<font></font>
                            }<font></font>
                        }<font></font>
                        break;<font></font>
                    case 3:<font></font>
                        if (isMove == true)<font></font>
                        {<font></font>
                            if (tr.position == target)<font></font>
                            {<font></font>
                                isMove = false;<font></font>
                                RotatePlayer();<font></font>
                                saw.localScale = Vector3.zero;<font></font>
                                LaserEnable();<font></font>
                                stamina.localScale = Vector3.zero;<font></font>
                                srStamina.color = new Color(0f, 0.5f, 1f, 1f);<font></font>
                                if (coroutineStamina != null) { StopCoroutine(coroutineStamina); }<font></font>
                                coroutineStamina = StartCoroutine(StaminaAnim(timeStamina, 100));<font></font>
                                StartCoroutine(Retarget3());<font></font>
                            }<font></font>
                            else<font></font>
                            {<font></font>
                                tr.position = Vector2.MoveTowards(tr.position, target, speed);<font></font>
                            }<font></font>
                        }<font></font>
                        break;<font></font>
                    case 4:<font></font>
                        if (isMove == true)<font></font>
                        {<font></font>
                            if (tr.position == target)<font></font>
                            {<font></font>
                                isMove = false;<font></font>
                                RotatePlayer();<font></font>
                                saw.localScale = Vector3.zero;<font></font>
                                LaserEnable();<font></font>
                                stamina.localScale = Vector3.zero;<font></font>
                                srStamina.color = new Color(0f, 0.5f, 1f, 1f);<font></font>
                                if (coroutineStamina != null) { StopCoroutine(coroutineStamina); }<font></font>
                                coroutineStamina = StartCoroutine(StaminaAnim(timeStamina, 100));<font></font>
                                StartCoroutine(Retarget4());<font></font>
                            }<font></font>
                            else<font></font>
                            {<font></font>
                                tr.position = Vector2.MoveTowards(tr.position, target, speed);<font></font>
                            }<font></font>
                        }<font></font>
                        break;<font></font>
                    case 5:<font></font>
                        if (isMove == true)<font></font>
                        {<font></font>
                            if (tr.position == target)<font></font>
                            {<font></font>
                                isMove = false;<font></font>
                                RotatePlayer();<font></font>
                                saw.localScale = Vector3.zero;<font></font>
                                LaserEnable();<font></font>
                                saw1.SetActive(false);<font></font>
                                saw2.SetActive(false);<font></font>
                                stamina.localScale = Vector3.zero;<font></font>
                                srStamina.color = new Color(0f, 0.5f, 1f, 1f);<font></font>
                                if (coroutineStamina != null) { StopCoroutine(coroutineStamina); }<font></font>
                                coroutineStamina = StartCoroutine(StaminaAnim(timeStamina, 100));<font></font>
                                StartCoroutine(Retarget5());<font></font>
                            }<font></font>
                            else<font></font>
                            {<font></font>
                                tr.position = Vector2.MoveTowards(tr.position, target, speed);<font></font>
                            }<font></font>
                        }<font></font>
                        break;<font></font>
                }<font></font>
            }<font></font>
            else<font></font>
            {<font></font>
                if (trigStart.enabled == false)<font></font>
                {<font></font>
                    isActivated = true;<font></font>
                    float musicValue = PlayerPrefs.GetFloat("music");<font></font>
                    audioBase.UpSound(0.01f, 5, 0, TypePlaying.Music);<font></font>
                    explosion.health = 0f;<font></font>
                    explosion.StartCoroutineTimerOffsetExplosion();<font></font>
                    RegionDetected();<font></font>
                    LaserDisable();<font></font>
                    target = Target();<font></font>
                }<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
<font></font>
    public void FixedUpdate()<font></font>
    {<font></font>
        if (!isMove &amp;&amp; isActivated)<font></font>
        {<font></font>
            laserOffset1.localEulerAngles = new Vector3(0f, 0f, laserOffset1.localEulerAngles.z + speedRotate);<font></font>
            laserOffset2.localEulerAngles = new Vector3(0f, 0f, laserOffset2.localEulerAngles.z + speedRotate);<font></font>
            if (isWorkingLaser)<font></font>
            {<font></font>
                state.localEulerAngles = new Vector3(0f, 0f, state.localEulerAngles.z + speedRotate);<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
<font></font>
    public void RotatePlayer()<font></font>
    {<font></font>
        Vector2 p = pl.position;<font></font>
        float angle = Mathf.Atan2(p.y, p.x) * Mathf.Rad2Deg;<font></font>
        laserOffset1.localEulerAngles = new Vector3(0f, 0f, angle);<font></font>
        laserOffset2.localEulerAngles = new Vector3(0f, 0f, angle - 180f);<font></font>
    }<font></font>
<font></font>
    private Vector3[] posLasers = new Vector3[] { Vector3.zero, Vector3.zero};<font></font>
    public void TriggerLaserDefect(int id)<font></font>
    {<font></font>
        switch (id)<font></font>
        {<font></font>
            case 1: state1.active = false; state1.lr1.SetPositions(posLasers); break;<font></font>
            case 2: state2.active = false; state2.lr1.SetPositions(posLasers); break;<font></font>
            case 3: state3.active = false; state3.lr1.SetPositions(posLasers); break;<font></font>
            case 4: state4.active = false; state4.lr1.SetPositions(posLasers); break;<font></font>
        }<font></font>
        if (!state1.active &amp;&amp; !state2.active &amp;&amp; !state3.active &amp;&amp; !state4.active)<font></font>
        {<font></font>
            isWorkingLaser = false;<font></font>
            state1.active = false;<font></font>
            state2.active = false;<font></font>
            state3.active = false;<font></font>
            state4.active = false;<font></font>
            laserL1.active = false;<font></font>
            laserL2.active = false;<font></font>
            laser1.localPosition = Vector2.zero;<font></font>
            laser2.localPosition = Vector2.zero;<font></font>
        }<font></font>
    }<font></font>
<font></font>
    public void OnCollisionEnter2D(Collision2D collision)<font></font>
    {<font></font>
        if (collision.transform.tag == "Player")<font></font>
        {<font></font>
            hp = hp - pl.GetComponent&lt;Power&gt;().power;<font></font>
            health.localScale = new Vector2(hp / 50f, hp / 50f);<font></font>
            stage = 5 - (int)(hp / 25f);<font></font>
            if (stage == 4)<font></font>
            {<font></font>
                LaserBlockDisable();<font></font>
            }<font></font>
            if (hp &lt;= 0f &amp;&amp; isAlive == true)<font></font>
            {<font></font>
                audioBase.LowerSound(0.1f, 50, 0, TypePlaying.Music);<font></font>
                audioBase.SetSound(setEnd, 0, 0.8f, TypePlaying.Music, true, 1f);<font></font>
                GameObject deadInside = Instantiate(explosionAsset, pl.position, Quaternion.identity);<font></font>
                deadInside.GetComponent&lt;Rigidbody2D&gt;().isKinematic = true;<font></font>
                deadInside.transform.localScale = new Vector2(2f, 2f);<font></font>
                Explosion exp = deadInside.GetComponent&lt;Explosion&gt;();<font></font>
                exp.radius = 2f;<font></font>
                exp.health = 0f;<font></font>
                exp.timeOffsetExplosion = 3f;<font></font>
                exp.StartCoroutineTimerOffsetExplosion();<font></font>
                gateStart.OnTriggerEnter2D(player.GetComponent&lt;Collider2D&gt;());<font></font>
                gateEnd.OnTriggerEnter2D(player.GetComponent&lt;Collider2D&gt;());<font></font>
                PlayerPrefs.SetString("boss2", "death");<font></font>
                blockWin.SetActive(false);<font></font>
                gameObject.SetActive(false);<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
<font></font>
    public void OnTriggerEnter2D(Collider2D collision)<font></font>
    {<font></font>
        if (collision.tag == "Player")<font></font>
        {<font></font>
            blockWin.SetActive(true);<font></font>
            trigStart.enabled = false;<font></font>
        }<font></font>
    }<font></font>
<font></font>
    public void LaserEnable()<font></font>
    {<font></font>
        if (isWorkingLaser)<font></font>
        {<font></font>
            laserL1.active = true;<font></font>
            laserL2.active = true;<font></font>
            state1.active = false;<font></font>
            state2.active = false;<font></font>
            state3.active = false;<font></font>
            state4.active = false;<font></font>
        }<font></font>
        laser1.localPosition = new Vector2(0f, -1f);<font></font>
        laser2.localPosition = new Vector2(0f, -1f);<font></font>
        return;<font></font>
    }<font></font>
<font></font>
    public void LaserDisable()<font></font>
    {<font></font>
        if (isWorkingLaser)<font></font>
        {<font></font>
            state1.active = true;<font></font>
            state2.active = true;<font></font>
            state3.active = true;<font></font>
            state4.active = true;<font></font>
            laserL1.active = false;<font></font>
            laserL2.active = false;<font></font>
        }<font></font>
        laser1.localPosition = Vector2.zero;<font></font>
        laser2.localPosition = Vector2.zero;<font></font>
        return;<font></font>
    }<font></font>
<font></font>
    public void LaserBlockEnable()<font></font>
    {<font></font>
        laserDetected1.enabled = true;<font></font>
        laserDetected2.enabled = true;<font></font>
    }<font></font>
<font></font>
    public void LaserBlockDisable()<font></font>
    {<font></font>
        laserDetected1.enabled = false;<font></font>
        laserDetected2.enabled = false;<font></font>
    }<font></font>
<font></font>
    public void RegionDetected()<font></font>
    {<font></font>
        Vector2 result = Vector2.zero;<font></font>
        Vector2 pos = pl.position;<font></font>
        if (pos.x &gt; -45f &amp; pos.x &lt;= -30f) { result.x = 1; }<font></font>
        else if (pos.x &gt; -30f &amp; pos.x &lt; -5f) { result.x = 2; }<font></font>
        else if (pos.x &gt;= -5f &amp; pos.x &lt;= 5f) { result.x = 3; }<font></font>
        else if (pos.x &gt; 5f &amp; pos.x &lt;= 30f) { result.x = 4; }<font></font>
        else if (pos.x &gt;= 30f &amp; pos.x &lt; 45f) { result.x = 5; }<font></font>
<font></font>
        if (pos.y &gt; -45f &amp; pos.y &lt;= -30f) { result.y = 1; }<font></font>
        else if (pos.y &gt; -30f &amp; pos.y &lt; -5f) { result.y = 2; }<font></font>
        else if (pos.y &gt;= -5f &amp; pos.y &lt;= 5f) { result.y = 3; }<font></font>
        else if (pos.y &gt; 5f &amp; pos.y &lt;= 30f) { result.y = 4; }<font></font>
        else if (pos.y &gt;= 30f &amp; pos.y &lt; 45f) { result.y = 5; }<font></font>
        region = result;<font></font>
        return;<font></font>
    }<font></font>
<font></font>
    private readonly Vector2[] aroundCloser = new Vector2[] <font></font>
    {<font></font>
        new Vector2(2, 2), new Vector2(2, 3), new Vector2(2, 4),<font></font>
        new Vector2(3, 2), new Vector2(3, 4), new Vector2(4, 2),<font></font>
        new Vector2(4, 3), new Vector2(4, 4)<font></font>
    };<font></font>
<font></font>
    public Vector2 Target()<font></font>
    {<font></font>
        Vector2 result = Vector2.zero;<font></font>
        if (region == new Vector2(3, 3))<font></font>
        {<font></font>
            region = aroundCloser[Random.Range(0, 8)];<font></font>
        }<font></font>
        switch (region.x)<font></font>
        {<font></font>
            case 1:<font></font>
                result.x = Random.Range(-45f, -32f);<font></font>
                break;<font></font>
            case 2:<font></font>
                result.x = Random.Range(-29f, -5f);<font></font>
                break;<font></font>
            case 3:<font></font>
                result.x = Random.Range(-5f, 5f);<font></font>
                break;<font></font>
            case 4:<font></font>
                result.x = Random.Range(5f, 29f);<font></font>
                break;<font></font>
            case 5:<font></font>
                result.x = Random.Range(32f, 45f);<font></font>
                break;<font></font>
        }<font></font>
        switch (region.y)<font></font>
        {<font></font>
            case 1:<font></font>
                result.y = Random.Range(-45f, -32f);<font></font>
                break;<font></font>
            case 2:<font></font>
                result.y = Random.Range(-29f, -5f);<font></font>
                break;<font></font>
            case 3:<font></font>
                result.y = Random.Range(-5f, 5f);<font></font>
                break;<font></font>
            case 4:<font></font>
                result.y = Random.Range(5f, 29f);<font></font>
                break;<font></font>
            case 5:<font></font>
                result.y = Random.Range(32f, 45f);<font></font>
                break;<font></font>
        }<font></font>
        isMove = true;<font></font>
        return result;<font></font>
    }<font></font>
<font></font>
    public IEnumerator StaminaAnim(float time, int count)<font></font>
    {<font></font>
        yield return new WaitForSeconds(time);<font></font>
        float sc = hp * (100f - count) / 5000f;<font></font>
        stamina.localScale = new Vector2(sc, sc);<font></font>
        if (count &gt; 1)<font></font>
        {<font></font>
            count = count - 1;<font></font>
            coroutineStamina = StartCoroutine(StaminaAnim(time, count));<font></font>
        }<font></font>
    }<font></font>
<font></font>
    public IEnumerator Retarget1()<font></font>
    {<font></font>
        yield return new WaitForSeconds(timeRetarget);<font></font>
        srStamina.color = new Color(0f, 0.5f, 1f, 0f);<font></font>
        RotatePlayer();<font></font>
        saw1.SetActive(false);<font></font>
        saw2.SetActive(false);<font></font>
        RegionDetected();<font></font>
        target = Target();<font></font>
    }<font></font>
<font></font>
    public IEnumerator Retarget2()<font></font>
    {<font></font>
        yield return new WaitForSeconds(timeRetarget);<font></font>
        srStamina.color = new Color(0f, 0.5f, 1f, 0f);<font></font>
        RotatePlayer();<font></font>
        saw.localScale = new Vector2(2f, 2f);<font></font>
        saw1.SetActive(false);<font></font>
        saw2.SetActive(false);<font></font>
        RegionDetected();<font></font>
        target = Target();<font></font>
    }<font></font>
<font></font>
    public IEnumerator Retarget3()<font></font>
    {<font></font>
        yield return new WaitForSeconds(timeRetarget);<font></font>
        srStamina.color = new Color(0f, 0.5f, 1f, 0f);<font></font>
        RotatePlayer();<font></font>
        saw.localScale = new Vector2(2f, 2f);<font></font>
        LaserDisable();<font></font>
        RegionDetected();<font></font>
        target = Target();<font></font>
    }<font></font>
<font></font>
    public IEnumerator Retarget4()<font></font>
    {<font></font>
        yield return new WaitForSeconds(timeRetarget);<font></font>
        srStamina.color = new Color(0f, 0.5f, 1f, 0f);<font></font>
        RotatePlayer();<font></font>
        saw.localScale = new Vector2(2f, 2f);<font></font>
        LaserDisable();<font></font>
        RegionDetected();<font></font>
        target = Target();<font></font>
    }<font></font>
<font></font>
    public IEnumerator Retarget5()<font></font>
    {<font></font>
        yield return new WaitForSeconds(timeRetarget);<font></font>
        srStamina.color = new Color(0f, 0.5f, 1f, 0f);<font></font>
        RotatePlayer();<font></font>
        saw.localScale = new Vector2(2f, 2f);<font></font>
        saw1.SetActive(true);<font></font>
        saw2.SetActive(true);<font></font>
        LaserDisable();<font></font>
        RegionDetected();<font></font>
        target = Target();<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3ボスはボスの中で最高の品質です！彼はレイキャストを使って動き回っています。まず、任意の角度にランダムに回転します。次に、異なる方向に発射された12のレイキャストの中で、最も長いレイキャストを選択し、レイキャストのポイントまで飛行します。レベルにはオブジェクトがあり、それらの一部も破壊されています。また、ボスレイキャストはオブジェクトにどのように反応しますか？トリガーは、オブジェクト自体の2倍の大きさの静的オブジェクトに追加されたため、レイキャストは、ボスが空中に飛んだり、壁に飛んだりするのではなく、壁にリベットで留められるポイントを持っています。ボスには特別な防御があります。ボスのあるレベルの最初（各ボスはサードパーティのパズルのない独立した大きなレベルです）にトリガーがあり、1つだけがアクティブになるように設定されています。ボスには5つのトラップブランクがあり、各トリガーは3〜4つのトラップのみをアクティブにします。また、エリアのシステムも改善されました。これは、各エリア（プレイヤーがいることができる）と各トラップの事前定義されたエリアで構成されていました。そして飛行中、ボスは常にプレイヤーを殺します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
トラップリスト：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中央のレーザーは、ボスが飛行を開始するたびに、プレーヤーを見始めます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（プレーヤーの場所に応じて）指定された領域に移動するためにLerp機能を使用し、移動前にプレーヤーに送信される2つのレーザー（それらは常にプレーヤーの前にあるはずですが、何かがうまくいきませんでした）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">常にプレイヤーと同じエリアに行くのこぎり。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プレイヤーがいるエリアから常に左右のエリアに向けられる2つののこぎり。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中心に対称的に移動する4つのトラップボール</font></font></li>
</ol><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スクリプトBossManagement3</font></font></b><div class="spoiler_text"><pre><code class="plaintext hljs">using System.Collections;<font></font>
using UnityEngine;<font></font>
using UnityEngine.SceneManagement;<font></font>
<font></font>
public class BossManagement3 : MonoBehaviour<font></font>
{<font></font>
    public float health = 100f;<font></font>
    public Vector4[] boxs = new Vector4[0];<font></font>
    public int[] saw1Fields = new int[0];<font></font>
    public int[] saw2Fields = new int[0];<font></font>
    public int[] saw3Fields = new int[0];<font></font>
    public int[] laser1Fields = new int[0];<font></font>
    public int[] laser2Fields = new int[0];<font></font>
    public Transform trBoss;<font></font>
    public SpriteRenderer srBoss;<font></font>
    public BossTracing3 bt;<font></font>
    public Transform saw1;<font></font>
    public Transform saw2;<font></font>
    public Transform saw3;<font></font>
    public Transform laser;<font></font>
    public Transform laser1;<font></font>
    public Transform laser2;<font></font>
    public Transform trap1;<font></font>
    public Transform trap2;<font></font>
    public Transform trap3;<font></font>
    public Transform trap4;<font></font>
    public LineRenderer lr1;<font></font>
    public LineRenderer lr2;<font></font>
    public TrailRenderer trail;<font></font>
    public GameObject exp;<font></font>
    public GameObject terminal1;<font></font>
    public GameObject terminal2;<font></font>
    public GameObject LaserTarget;<font></font>
    public GameObject LaserMover;<font></font>
    public GameObject TrapsMover;<font></font>
    public GameObject SawMover;<font></font>
    public GameObject SawsAroundMover;<font></font>
    public Explosion explosion;<font></font>
    public SpriteRenderer sr;<font></font>
    public CircleCollider2D cc;<font></font>
    public Animator animatorEnd;<font></font>
    public bool isMove = false;<font></font>
    public bool isMoveSaw1 = false;<font></font>
    public bool isMoveSaw2 = false;<font></font>
    public bool isMoveSaw3 = false;<font></font>
    public bool isMoveLaser1 = false;<font></font>
    public bool isMoveLaser2 = false;<font></font>
    public bool isMoveTraps = false;<font></font>
    public int loadScene = 35;<font></font>
    public int fieldPlayer = 0;<font></font>
    private bool isActive = true;<font></font>
<font></font>
    private float maxHealth;<font></font>
    private Vector2 target = Vector2.zero;<font></font>
    private Vector2 saw1target = Vector2.zero;<font></font>
    private Vector2 saw2target = Vector2.zero;<font></font>
    private Vector2 saw3target = Vector2.zero;<font></font>
    private Vector2 laser1target = Vector2.zero;<font></font>
    private Vector2 laser2target = Vector2.zero;<font></font>
    private Vector2 traptarget1 = Vector2.zero;<font></font>
    private Vector2 traptarget2 = Vector2.zero;<font></font>
    private Vector2 traptarget3 = Vector2.zero;<font></font>
    private Vector2 traptarget4 = Vector2.zero;<font></font>
    private Vector2 border = new Vector2(47f, 44.5f);<font></font>
    private Vector2 borderSaw = new Vector2(46f, 43.5f);<font></font>
    private Management m;<font></font>
    public GameObject p { get; private set; }<font></font>
    private HealthBar hb;<font></font>
    private Transform tr;<font></font>
    private Power ppl;<font></font>
    private int lengthBoxs = 0;<font></font>
    private bool isLife = true;<font></font>
<font></font>
    public void Awake()<font></font>
    {<font></font>
        isActive = !(PlayerPrefs.GetString("boss1") == "life" &amp;&amp; PlayerPrefs.GetString("boss2") == "life");<font></font>
        terminal1.SetActive(!isActive);<font></font>
        terminal2.SetActive(isActive);<font></font>
        trail.enabled = PlayerPrefs.GetString("graphicsquality") != "low";<font></font>
        m = GameObject.FindWithTag("MainCamera").GetComponent&lt;Management&gt;();<font></font>
        lengthBoxs = boxs.Length;<font></font>
        maxHealth = health;<font></font>
        hb = m.healthBar;<font></font>
        p = m.player;<font></font>
        tr = p.transform;<font></font>
        ppl = m.ppl;<font></font>
        float c = health / maxHealth;<font></font>
        srBoss.color = new Color(0f, 0f, c);<font></font>
    }<font></font>
<font></font>
    public void Start()<font></font>
    {<font></font>
        if (isActive == false) { return; }<font></font>
        StartCoroutine(Mover());<font></font>
<font></font>
        fieldPlayer = bt.BoxPos(tr.position);<font></font>
        if (fieldPlayer &gt;= 0)<font></font>
        {<font></font>
            Vector4 r = boxs[saw1Fields[fieldPlayer]];<font></font>
            saw1target = new Vector2(Random.Range(r.z, r.x), Random.Range(r.w, r.y));<font></font>
            r = boxs[saw2Fields[fieldPlayer]];<font></font>
            saw2target = new Vector2(Random.Range(r.z, r.x), Random.Range(r.w, r.y));<font></font>
            r = boxs[saw3Fields[fieldPlayer]];<font></font>
            saw3target = new Vector2(Random.Range(r.z, r.x), Random.Range(r.w, r.y));<font></font>
            r = boxs[laser1Fields[fieldPlayer]];<font></font>
            laser1target = new Vector2(Random.Range(r.z, r.x), Random.Range(r.w, r.y));<font></font>
            r = boxs[laser2Fields[fieldPlayer]];<font></font>
            laser2target = new Vector2(Random.Range(r.z, r.x), Random.Range(r.w, r.y));<font></font>
        }<font></font>
        else<font></font>
        {<font></font>
            Vector4 r = boxs[Random.Range(0, lengthBoxs)];<font></font>
            saw1target = new Vector2(Random.Range(r.z, r.x), Random.Range(r.w, r.y));<font></font>
            r = boxs[Random.Range(0, lengthBoxs)];<font></font>
            saw2target = new Vector2(Random.Range(r.z, r.x), Random.Range(r.w, r.y));<font></font>
            r = boxs[Random.Range(0, lengthBoxs)];<font></font>
            saw3target = new Vector2(Random.Range(r.z, r.x), Random.Range(r.w, r.y));<font></font>
            r = boxs[Random.Range(0, lengthBoxs)];<font></font>
            laser1target = new Vector2(Random.Range(r.z, r.x), Random.Range(r.w, r.y));<font></font>
            r = boxs[Random.Range(0, lengthBoxs)];<font></font>
            laser2target = new Vector2(Random.Range(r.z, r.x), Random.Range(r.w, r.y));<font></font>
        }<font></font>
        TrapMover();<font></font>
        StartCoroutine(Laser1AIM());<font></font>
        StartCoroutine(Laser2AIM());<font></font>
        isMoveSaw1 = true;<font></font>
        isMoveSaw2 = true;<font></font>
        isMoveSaw3 = true;<font></font>
        isMoveLaser1 = true;<font></font>
        isMoveLaser2 = true;<font></font>
        return;<font></font>
    }<font></font>
<font></font>
    public void SawMover1()<font></font>
    {<font></font>
        fieldPlayer = bt.BoxPos(tr.position);<font></font>
        if (fieldPlayer &gt;= 0)<font></font>
        {<font></font>
            Vector4 r = boxs[saw1Fields[fieldPlayer]];<font></font>
            saw1target = new Vector2(Random.Range(r.z, r.x), Random.Range(r.w, r.y));<font></font>
        }<font></font>
        else<font></font>
        {<font></font>
            Vector4 r = boxs[Random.Range(0, lengthBoxs)];<font></font>
            saw1target = new Vector2(Random.Range(r.z, r.x), Random.Range(r.w, r.y));<font></font>
        }<font></font>
        isMoveSaw1 = true;<font></font>
    }<font></font>
<font></font>
    public void SawMover2()<font></font>
    {<font></font>
        fieldPlayer = bt.BoxPos(tr.position);<font></font>
        if (fieldPlayer &gt;= 0)<font></font>
        {<font></font>
            Vector4 r = boxs[saw2Fields[fieldPlayer]];<font></font>
            saw2target = new Vector2(Random.Range(r.z, r.x), Random.Range(r.w, r.y));<font></font>
        }<font></font>
        else<font></font>
        {<font></font>
            Vector4 r = boxs[Random.Range(0, lengthBoxs)];<font></font>
            saw2target = new Vector2(Random.Range(r.z, r.x), Random.Range(r.w, r.y));<font></font>
        }<font></font>
        isMoveSaw2 = true;<font></font>
    }<font></font>
<font></font>
    public void SawMover3()<font></font>
    {<font></font>
        fieldPlayer = bt.BoxPos(tr.position);<font></font>
        if (fieldPlayer &gt;= 0)<font></font>
        {<font></font>
            Vector4 r = boxs[saw3Fields[fieldPlayer]];<font></font>
            saw3target = new Vector2(Random.Range(r.z, r.x), Random.Range(r.w, r.y));<font></font>
        }<font></font>
        else<font></font>
        {<font></font>
            Vector4 r = boxs[Random.Range(0, lengthBoxs)];<font></font>
            saw3target = new Vector2(Random.Range(r.z, r.x), Random.Range(r.w, r.y));<font></font>
        }<font></font>
        isMoveSaw3 = true;<font></font>
    }<font></font>
<font></font>
    public void LaserMover1()<font></font>
    {<font></font>
        fieldPlayer = bt.BoxPos(tr.position);<font></font>
        if (fieldPlayer &gt;= 0)<font></font>
        {<font></font>
            Vector4 r = boxs[laser1Fields[fieldPlayer]];<font></font>
            laser1target = new Vector2(Random.Range(r.z, r.x), Random.Range(r.w, r.y));<font></font>
        }<font></font>
        else<font></font>
        {<font></font>
            Vector4 r = boxs[Random.Range(0, lengthBoxs)];<font></font>
            laser1target = new Vector2(Random.Range(r.z, r.x), Random.Range(r.w, r.y));<font></font>
        }<font></font>
        StartCoroutine(Laser1AIM());<font></font>
        isMoveLaser1 = true;<font></font>
    }<font></font>
<font></font>
    public void LaserMover2()<font></font>
    {<font></font>
        fieldPlayer = bt.BoxPos(tr.position);<font></font>
        if (fieldPlayer &gt;= 0)<font></font>
        {<font></font>
            Vector4 r = boxs[laser2Fields[fieldPlayer]];<font></font>
            laser2target = new Vector2(Random.Range(r.z, r.x), Random.Range(r.w, r.y));<font></font>
        }<font></font>
        else<font></font>
        {<font></font>
            Vector4 r = boxs[Random.Range(0, lengthBoxs)];<font></font>
            laser2target = new Vector2(Random.Range(r.z, r.x), Random.Range(r.w, r.y));<font></font>
        }<font></font>
        StartCoroutine(Laser2AIM());<font></font>
        isMoveLaser2 = true;<font></font>
    }<font></font>
<font></font>
    public void TrapMover()<font></font>
    {<font></font>
        traptarget1 = new Vector2(Random.Range(-border.x, border.x), Random.Range(-border.y, border.y));<font></font>
        traptarget2 = new Vector2(-traptarget1.x, -traptarget1.y);<font></font>
        traptarget3 = new Vector2(-traptarget1.x, traptarget1.y);<font></font>
        traptarget4 = new Vector2(traptarget1.x, -traptarget1.y);<font></font>
        isMoveTraps = true;<font></font>
    }<font></font>
<font></font>
    public IEnumerator Laser1AIM()<font></font>
    {<font></font>
        yield return new WaitForSeconds(0.5f);<font></font>
        Vector2 diff = tr.position;<font></font>
        float rot_z = Mathf.Atan2(diff.y, diff.x) * Mathf.Rad2Deg + 90f;<font></font>
        laser1.rotation = Quaternion.Euler(0f, 0f, rot_z);<font></font>
    }<font></font>
<font></font>
    public IEnumerator Laser2AIM()<font></font>
    {<font></font>
        yield return new WaitForSeconds(0.5f);<font></font>
        Vector2 diff = tr.position;<font></font>
        float rot_z = Mathf.Atan2(diff.y, diff.x) * Mathf.Rad2Deg + 90f;<font></font>
        laser2.rotation = Quaternion.Euler(0f, 0f, rot_z);<font></font>
    }<font></font>
<font></font>
    public IEnumerator Mover()<font></font>
    {<font></font>
        yield return new WaitForSeconds(7.5f);<font></font>
        if (isLife)<font></font>
        {<font></font>
            Vector2 diff = tr.position;<font></font>
            float rot_z = Mathf.Atan2(diff.y, diff.x) * Mathf.Rad2Deg + 90f;<font></font>
            laser.rotation = Quaternion.Euler(0f, 0f, rot_z);<font></font>
            target = bt.GetPosRaycast();<font></font>
            isMove = true;<font></font>
        }<font></font>
    }<font></font>
<font></font>
    public void Update()<font></font>
    {<font></font>
        if (isActive == false) { return; }<font></font>
        float s = Time.fixedDeltaTime / (0.03f / Time.timeScale);<font></font>
        if (isMove)<font></font>
        {<font></font>
            trBoss.position = Vector2.MoveTowards(trBoss.position, target, s * 0.5f);<font></font>
            if (trBoss.position == (Vector3)target)<font></font>
            {<font></font>
                isMove = false;<font></font>
                if (isLife)<font></font>
                {<font></font>
                    StartCoroutine(Mover());<font></font>
                }<font></font>
            }<font></font>
        }<font></font>
        if (isMoveSaw1)<font></font>
        {<font></font>
            saw1.position = Vector2.MoveTowards(saw1.position, saw1target, s * 0.1f);<font></font>
            if (saw1.position == (Vector3)saw1target)<font></font>
            {<font></font>
                isMoveSaw1 = false;<font></font>
                if (isLife)<font></font>
                {<font></font>
                    SawMover1();<font></font>
                }<font></font>
            }<font></font>
        }<font></font>
        if (isMoveSaw2)<font></font>
        {<font></font>
            saw2.position = Vector2.MoveTowards(saw2.position, saw2target, s * 0.1f);<font></font>
            if (saw2.position == (Vector3)saw2target)<font></font>
            {<font></font>
                isMoveSaw2 = false;<font></font>
                if (isLife)<font></font>
                {<font></font>
                    SawMover2();<font></font>
                }<font></font>
            }<font></font>
        }<font></font>
        if (isMoveSaw3)<font></font>
        {<font></font>
            saw3.position = Vector2.MoveTowards(saw3.position, saw3target, s * 0.1f);<font></font>
            if (saw3.position == (Vector3)saw3target)<font></font>
            {<font></font>
                isMoveSaw3 = false;<font></font>
                if (isLife)<font></font>
                {<font></font>
                    SawMover3();<font></font>
                }<font></font>
            }<font></font>
        }<font></font>
        if (isMoveLaser1)<font></font>
        {<font></font>
            laser1.position = Vector2.Lerp(laser1.position, laser1target, s * 0.1f);<font></font>
            if (laser1.position == (Vector3)laser1target)<font></font>
            {<font></font>
                isMoveLaser1 = false;<font></font>
                if (isLife)<font></font>
                {<font></font>
                    LaserMover1();<font></font>
                }<font></font>
            }<font></font>
        }<font></font>
        if (isMoveLaser2)<font></font>
        {<font></font>
            laser2.position = Vector2.Lerp(laser2.position, laser2target, s * 0.1f);<font></font>
            if (laser2.position == (Vector3)laser2target)<font></font>
            {<font></font>
                isMoveLaser2 = false;<font></font>
                if (isLife)<font></font>
                {<font></font>
                    LaserMover2();<font></font>
                }<font></font>
            }<font></font>
        }<font></font>
        if (isMoveTraps)<font></font>
        {<font></font>
            trap1.position = Vector2.MoveTowards(trap1.position, traptarget1, s * 0.1f);<font></font>
            trap2.position = Vector2.MoveTowards(trap2.position, traptarget2, s * 0.1f);<font></font>
            trap3.position = Vector2.MoveTowards(trap3.position, traptarget3, s * 0.1f);<font></font>
            trap4.position = Vector2.MoveTowards(trap4.position, traptarget4, s * 0.1f);<font></font>
            lr1.SetPosition(0, trap1.position);<font></font>
            lr1.SetPosition(1, trap2.position);<font></font>
            lr2.SetPosition(0, trap3.position);<font></font>
            lr2.SetPosition(1, trap4.position);<font></font>
            if (trap1.position == (Vector3)traptarget1)<font></font>
            {<font></font>
                isMoveTraps = false;<font></font>
                if (isLife)<font></font>
                {<font></font>
                    TrapMover();<font></font>
                }<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
<font></font>
    public void OnCollisionEnter2D(Collision2D collision)<font></font>
    {<font></font>
        if (collision.gameObject == p)<font></font>
        {<font></font>
            if (isActive == false) { isActive = true; Start(); }<font></font>
            if (isMove == true)<font></font>
            {<font></font>
                hb.StraightDamage(10f, "Boss3");<font></font>
            }<font></font>
            else<font></font>
            {<font></font>
                health = health - ppl.power;<font></font>
                float c = health / maxHealth;<font></font>
                srBoss.color = new Color(0f, 0f, c);<font></font>
                trail.startColor = srBoss.color;<font></font>
                if (health &lt;= 0f)<font></font>
                {<font></font>
                    isLife = false;<font></font>
                    isMove = false;<font></font>
                    saw1target = trBoss.position;<font></font>
                    saw2target = trBoss.position;<font></font>
                    saw3target = trBoss.position;<font></font>
                    isMoveSaw1 = true;<font></font>
                    isMoveSaw2 = true;<font></font>
                    isMoveSaw3 = true;<font></font>
                    sr.enabled = false;<font></font>
                    cc.enabled = false;<font></font>
                    exp.SetActive(true);<font></font>
                    explosion.health = 0f;<font></font>
                    explosion.StartCoroutineTimerOffsetExplosion();<font></font>
                    Vector2 diff = trBoss.position;<font></font>
                    float rot_z = Mathf.Atan2(diff.y, diff.x) * Mathf.Rad2Deg + 90f;<font></font>
                    laser.rotation = Quaternion.Euler(0f, 0f, rot_z);<font></font>
                    int fieldBoss = bt.BoxPos(trBoss.position);<font></font>
                    Vector4 r = boxs[laser1Fields[fieldBoss]];<font></font>
                    laser1target = new Vector2(Random.Range(r.z, r.x), Random.Range(r.w, r.y));<font></font>
                    r = boxs[laser2Fields[fieldBoss]];<font></font>
                    laser2target = new Vector2(Random.Range(r.z, r.x), Random.Range(r.w, r.y));<font></font>
                    StartCoroutine(Ended());<font></font>
                }<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
    <font></font>
    public void EndedCoroutine()<font></font>
    {<font></font>
        if (!isActive)<font></font>
        {<font></font>
            //Debug.Log("End");<font></font>
            isActive = true;<font></font>
            StartCoroutine(Ended());<font></font>
        }<font></font>
    }<font></font>
<font></font>
    public IEnumerator Ended()<font></font>
    {<font></font>
        yield return new WaitForSeconds(6.5f);<font></font>
        if (hb.healthBarImage.fillAmount != 0f)<font></font>
        {<font></font>
            animatorEnd.SetBool("isActive", true);<font></font>
            StartCoroutine(EndedFunction());<font></font>
        }<font></font>
    }<font></font>
<font></font>
    public IEnumerator EndedFunction()<font></font>
    {<font></font>
        yield return new WaitForSeconds(1.5f);<font></font>
        if (hb.healthBarImage.fillAmount != 0f)<font></font>
        {<font></font>
            PlayerPrefs.SetInt("progress", 35);<font></font>
            SceneManager.LoadSceneAsync(loadScene);<font></font>
        }<font></font>
    }<font></font>
<font></font>
    public void ControlDamagers(bool lt, bool lm, bool tm, bool sm, bool sam)<font></font>
    {<font></font>
        LaserTarget.SetActive(lt);<font></font>
        LaserMover.SetActive(lm);<font></font>
        TrapsMover.SetActive(tm);<font></font>
        SawMover.SetActive(sm);<font></font>
        SawsAroundMover.SetActive(sam);<font></font>
    }<font></font>
}<font></font>
</code></pre> </div></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オーディオと音楽</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
私も</font><i><font style="vertical-align: inherit;">音楽</font></i><font style="vertical-align: inherit;">を書くことはできませんが、適切な音楽を見つけるのに十分な音楽の好みがあります。</font><font style="vertical-align: inherit;">私の計画では、各レベルでトラックを選択する必要がありました。</font><font style="vertical-align: inherit;">そして、ほとんどの場合、私は計画を達成しました。25曲をピックアップしました。</font><font style="vertical-align: inherit;">アセットストアのすべてのトラックを検索しました。</font><font style="vertical-align: inherit;">彼はfreesound.orgまたは同様のサイトで残りのために音を出しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
技術的な部分からの音は、シンプルな原則に従って作成されました。カメラには、5つの無効なAudioSourceと音声を制御するAudioBaseスクリプトがありました。</font><font style="vertical-align: inherit;">このスクリプトでは、ボリューム、ループ、タイプ（音楽またはサウンド）とオーディオファイル自体を含むSetSoundのメイン関数がありました。</font><font style="vertical-align: inherit;">シグナルの後、サウンドが再生され始め（ループされていない場合）、IEnumeratorはトラックの長さに等しい時間でオンになり、有効期限が切れると、コンポーネントをオフにします。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スクリプトAudioBase</font></font></b><div class="spoiler_text"><pre><code class="plaintext hljs">using UnityEngine;<font></font>
using System.Collections;<font></font>
<font></font>
public class AudioBase : GlobalFunctions<font></font>
{<font></font>
    public AudioSource[] layerSounds = new AudioSource[0];<font></font>
    public GameObject music;<font></font>
    private float musicValue, soundValue;<font></font>
    private int lengthLayerSounds = 0;<font></font>
    private bool soundActive = true;<font></font>
    private Coroutine offsetActive;<font></font>
    private int lowerSoundCoroutineCounter = 100;<font></font>
    private int upSoundCoroutineCounter = 0;<font></font>
<font></font>
    public void Awake()<font></font>
    {<font></font>
        soundActive = PlayerPrefs.GetString("graphicsquality") != "low";<font></font>
        musicValue = PlayerPrefs.GetFloat("music");<font></font>
        soundValue = PlayerPrefs.GetFloat("sound");<font></font>
        lengthLayerSounds = layerSounds.Length;<font></font>
        for (int i = 0; i &lt; lengthLayerSounds; i++)<font></font>
        {<font></font>
            layerSounds[i].enabled = false;<font></font>
        }<font></font>
    }<font></font>
<font></font>
    public void LowerSound(float timer, int upd, int id, TypePlaying typePlaying)<font></font>
    {<font></font>
        lowerSoundCoroutineCounter = upd;<font></font>
        if (typePlaying == TypePlaying.Music)<font></font>
        { StartCoroutine(LowerSoundCoroutine(timer, upd, id, musicValue)); }<font></font>
        else { StartCoroutine(LowerSoundCoroutine(timer, upd, id, soundValue)); }<font></font>
    }<font></font>
<font></font>
    public void UpSound(float timer, int upd, int id, TypePlaying typePlaying)<font></font>
    {<font></font>
        upSoundCoroutineCounter = 0;<font></font>
        if (typePlaying == TypePlaying.Music)<font></font>
        { StartCoroutine(UpSoundCoroutine(timer, upd, id, musicValue)); }<font></font>
        else { StartCoroutine(UpSoundCoroutine(timer, upd, id, soundValue)); }<font></font>
    }<font></font>
<font></font>
    public IEnumerator LowerSoundCoroutine(float timer, int upd, int id, float volumeSen)<font></font>
    {<font></font>
        yield return new WaitForSeconds(timer);<font></font>
        layerSounds[id].volume = Stable2((layerSounds[id].volume / volumeSen - timer) * volumeSen, 0f, 1f);<font></font>
        if (lowerSoundCoroutineCounter &gt; 1)<font></font>
        {<font></font>
            StartCoroutine(LowerSoundCoroutine(timer, upd, id, volumeSen));<font></font>
            lowerSoundCoroutineCounter -= 1;<font></font>
        }<font></font>
    }<font></font>
<font></font>
    public IEnumerator UpSoundCoroutine(float timer, int upd, int id, float volumeSen)<font></font>
    {<font></font>
        yield return new WaitForSeconds(timer);<font></font>
        layerSounds[id].volume = Stable2((layerSounds[id].volume / volumeSen + timer) * volumeSen, 0f, 1f);<font></font>
        if (upSoundCoroutineCounter &lt; upd)<font></font>
        {<font></font>
            StartCoroutine(UpSoundCoroutine(timer, upd, id, volumeSen));<font></font>
            upSoundCoroutineCounter += 1;<font></font>
        }<font></font>
    }<font></font>
<font></font>
    public void UpdateSound()<font></font>
    {<font></font>
        if (soundActive)<font></font>
        {<font></font>
            float time = Time.timeScale;<font></font>
            for (int i = 0; i &lt; lengthLayerSounds; i++)<font></font>
            {<font></font>
                AudioSource audioSource = layerSounds[i];<font></font>
                if (audioSource.enabled == true)<font></font>
                {<font></font>
                    audioSource.pitch = time;<font></font>
                }<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
<font></font>
    public void SetSound(AudioClip audioClip, int layerSound, float volume, TypePlaying typePlaying, bool loop, float time)<font></font>
    {<font></font>
        StartCoroutine(SetSoundTime(audioClip, layerSound, volume, typePlaying, loop, time));<font></font>
    }<font></font>
<font></font>
    public IEnumerator SetSoundTime(AudioClip audioClip, int layerSound, float volume, TypePlaying typePlaying, bool loop, float time)<font></font>
    {<font></font>
        yield return new WaitForSeconds(time);<font></font>
        SetSound(audioClip, layerSound, volume, typePlaying, loop);<font></font>
    }<font></font>
<font></font>
    public void SetSound(AudioClip audioClip, int layerSound, float volume, TypePlaying typePlaying, bool loop)<font></font>
    {<font></font>
        if (volume == 0f) { return; }<font></font>
        if (soundActive)<font></font>
        {<font></font>
            AudioSource audioSource = layerSounds[layerSound];<font></font>
            audioSource.enabled = true;<font></font>
            audioSource.clip = audioClip;<font></font>
            audioSource.loop = loop;<font></font>
            if (typePlaying == TypePlaying.Sound)<font></font>
            {<font></font>
                audioSource.volume = soundValue * volume;<font></font>
            }<font></font>
            else<font></font>
            {<font></font>
                audioSource.volume = musicValue * volume;<font></font>
            }<font></font>
            audioSource.Play();<font></font>
            if (offsetActive != null)<font></font>
            {<font></font>
                StopCoroutine(offsetActive);<font></font>
                offsetActive = null;<font></font>
            }<font></font>
            if (!loop)<font></font>
            {<font></font>
                offsetActive = StartCoroutine(Offet(layerSound, audioClip.length, audioSource));<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
<font></font>
    public IEnumerator Offet(int layerSound, float length, AudioSource audioSource)<font></font>
    {<font></font>
        yield return new WaitForSeconds(length);<font></font>
        if (audioSource.clip == layerSounds[layerSound].clip)<font></font>
        {<font></font>
            AudioSource audioSource2 = layerSounds[layerSound];<font></font>
            audioSource2.Stop();<font></font>
            audioSource2.enabled = false;<font></font>
        }<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、Trampコンポーネント（スタンピング）には独自のサウンドシステムがあります。プレイヤーがスタンプのスタンピングに入ると、サウンドを担当するコンポーネントがオンになります。そして、必要に応じて、製品は、プレーヤーまでの距離を決定し、係数を計算した後、必要なボリュームを与え、現実的なサウンド効果を作成します。しかし、それは私が望んだように機能しません、おそらくそれは間違ったコードにあります。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロット</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
はい、このゲームは物語です。そして彼は2つの特徴を持っています：彼はほとんど非言語的であり、彼はゲームの終了に影響を与える選択肢を持っています。変動性について話してください（実際、この変動性はプロット全体なので）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ゲームには3つの選択肢があります。最初の2つのボスとレベル32です。ボスとの選択はかなり明白です。それぞれ、攻撃を開始するか、次のレベルに到達するかによって、殺すことができます。</font><font style="vertical-align: inherit;">レベル32では、少し複雑です。トリガーをアクティブにできます。これは、ローカルのストーリー保存アンカー（AIという名前のキャラクター）の目覚めを意味します。</font><font style="vertical-align: inherit;">最初の2人のボスの選択は、3人のボスとの戦いがあるかどうかに影響します。</font><font style="vertical-align: inherit;">最初の2人のボスのうち少なくとも1人を倒すと、3人目のボスとの戦いになります。</font><font style="vertical-align: inherit;">そうでない場合は、いいえ。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
エンディングは4つしかない：良い、悪い、中立、秘密。</font><font style="vertical-align: inherit;">彼らは2つの選択肢に影響されます：AIの活性化と3つのボスキルです。</font><font style="vertical-align: inherit;">私はエンディングを順番に分析します：</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">良い終わり</font></font></b><div class="spoiler_text"> ,  3        .     ,           (    ).<br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ic/7y/5q/ic7y5qybvgsqkntsirrs0vo2x50.png" width="250"></div><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><br>
   <br>
    <br>
     <br>
   <br>
 <br>
 </div></div></div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バッドエンド</font></font></b><div class="spoiler_text"> ,  3        .      («» ),         ( ).<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/zg/1y/ns/zg1yns6xsbmhbqw8ecailcmj9nc.png" width="250"></div><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text">  <br>
    <br>
  <br>
       <br>
  -1</div></div></div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ニュートラルエンディング</font></font></b><div class="spoiler_text"> ,  3       .            ,  ,    …<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/dt/up/xp/dtupxp-eviq15ssct_eyj-926dq.png" width="250"></div><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><br>
   <br>
,    <br>
    <br>
  <br>
   <br>
   <br>
 </div></div></div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">秘密結末</font></font></b><div class="spoiler_text"> ,  3         .     ,     -   (!)    . ( ,    )<br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text">-<br>
,  -  <br>
,     <br>
   <br>
,  ,   <br>
   …<br>
, , ,  ,   ...</div></div></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、なぜプロットはほとんど非言語的なのですか？エンディングのせいで、完全に非言語的にすることはできませんでした。しかし、ゲームには十分なテキストがあります。確かに、「ゲームの耳鼻咽喉科」についてプレーヤーに説明するために、メモ付きの端末がゲームに登場し、ゲームのスクリプトを非常に詳しく説明しています。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">シナリオ</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
この場合</font><i><font style="vertical-align: inherit;">の</font></i><font style="vertical-align: inherit;">シナリオは、世界の先史時代であり、このゲームの顔とキャラクターから、メモ、ログ、レポート、モノローグ、および対話の形で明らかにされています。そして、これはプログラマーのような書記狂信的なせん妄であり、グルホフスキーでさえ驚かれることでしょう（私は彼に対して何も持っていません、私はメトロが大好きです）。残念ながら、本格的なnpcを作成する時間はあまりありませんでした。ゲームでそれらのスプライトが見つかりましたが、</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/cp/wz/jn/cpwzjnsg2h0mgb72x1aj7hrrzu8.png" width="300"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
繰り返しになりますが、状況により、スクリプトは最後に書かれましたが、すでにその上で、ゲームを完成させるための計画を立てました。平日4週間、私が普通の仕事に行ったときにミニバスで書いた。そして、そのような短い時間でさえ、私はたくさん書くことができました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どちらかと言えば、元のゲームにはプロットもヒントもありません。そして今、私がプロットを隠すのは意味がありません（結局のところ、誰も完全にゲームに合格してすべてのノートを読むことはできません）。この書癖には3つの目標があります。プレーヤーのアクションの妥当な変動を追加し、不可解なゲームのことを説明し、少なくとも少しだけプレーヤーのゲームに興味を持たせます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私はスクリプトを非常に単純な方法で書きました。最初に、2〜3週間で40〜50文のストーリーでそれを書きました。次に、各メモについて、文に応じて選択し、1つの文に基づいて2〜3文をメモに追加し、それらをモノローグ（または他の形式のナレーション）に変更して、既製のバランスの取れたメモを受け取りました。その結果、すべてのメモのこのような受信から、情報を含む合計160文が蓄積されました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、あなたは理解する必要があります：私のゲームには十分な非論理的なものがあり、物語の形式でそれぞれを正直に正当化するためには、多くのテキストが必要です。したがって、私は水を注がないように努め、それぞれの文は意味で満たされるか、筋書きの穴を閉じるか、物語の性格を描き明かそうとしました。しかし、そうであっても、執筆のレベルは疑わしいままです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
では、スクリプトは何を話しているのでしょうか。</font><font style="vertical-align: inherit;">非常に単純な場合、これはポータルプロットであり、世界の開かれた履歴とわずかに変更されたキャラクター（より不機嫌）のみが含まれます。</font><font style="vertical-align: inherit;">ちなみに、このシナリオには1つの特徴があります。ロシア語（および他の言語も）の論理、常識、または規則にもかかわらず、無生物の性別は平均的になっています。</font><font style="vertical-align: inherit;">誰かが突然（よく、突然）興味を持った場合は、スクリプト全体とすべてのゲームノートをここに残します。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">シナリオ</font></font></b><div class="spoiler_text"> :<br>
, ,   (3 )<br>
 (1 )<br>
,  RLIS (2 )<br>
<br>
 :<br>
<br>
[1]   . [3]    :   ,   ,  ,  ,    ..      . [3]       ,    ,        ,   ([2]   , ,           ). (4)<br>
<br>
[4]         ,   . [5]     ,      . [6]          . [6]  ,    . [7]          . (5)<br>
<br>
[8]            :   . [9]      (- )      . [10]        (       ). (3)<br>
<br>
[11]     . [12]   ,     ,  ,   . [13]           . [13]    ,           . (3)<br>
<br>
[15]       ([14] —          ,      ,      ). [15]   (     )             ([16]            ). (4)<br>
<br>
[17]  . [18]     «». [18]            . [19]-       . (4)<br>
<br>
[20]      «». [21]   ,         . [22]      ,    . (3)<br>
<br>
[23]    . [24]          . [25]     « ». (3)<br>
<br>
[26]    ,       . [27]        ,  -  ,   . [28]       « ». [29]      . (4)<br>
<br>
[30] -   ( ?)            (     ,    ). [31]      . [32] ,          ([33]    ,         ),      - ,        . [34]     . [35]          ,  . [36]      (        ):     10  (10  = 1 )   . [X]- (  )        ,     (    2   1   ?). [37]   2 . (9)<br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スクラップブック</font></font></b><div class="spoiler_text"> ():<br>
<br>
1) {}    «» ,      .      ,       .   -   ,       .<br>
<br>
2) {} RLIS (reasonable likeness in simulation) —      .     . RLIS   ( )       —     .<br>
<br>
3) {}  RLIS     100  : , , , ,   ..    ,   , ,    .    ,       .<br>
<br>
4) {} ,        .     ,     ,    ,   ,       .    magnum opus      .<br>
<br>
5) {ARSotLotC}        ,       .    ,           .      ,      .<br>
<br>
6) {} -!!! -   ,       .    ,      ,     ,     .        ,  ,       ,      .        2 :      .<br>
<br>
7) {}       ,    backup       ,    .         :     ,       . ,          ,         .<br>
<br>
8) {}    .    ,              .    ,   ,         ,         (    ).<br>
<br>
9) {}   ,      ,   -.            ?  .          ,   .  ,    .   …<br>
<br>
10) {}    -   ,         .                  .      , …<br>
<br>
11) {ARSotLotC}      .  ,    «»   , ,    .            ,   …              .<br>
<br>
12) {}      ,      «»    .  .         «»,   .          .      .<br>
<br>
13) {}               ,       .     ,            .      ,         .                 .<br>
<br>
14) {}      ,     ,       (             ).  —   ,         .   :      ,           .<br>
<br>
15) {}  —            .    ,         .           .        ,       ,           .<br>
<br>
16) {}     ?        ,          .                 .<br>
<br>
17) {}     .       .      ,   «».         .       ,      ,       .<br>
<br>
18) {}       «».  , ?    ,          ,          .<br>
<br>
19) {}    «»     ,      .      ,     ,   ,       ,     .     .                  .<br>
<br>
20) {}   ''           ''. ,   , ''      '',          ,      .<br>
<br>
21) {}  ''       :       ,        ''.  ,     .     .<br>
<br>
22) {ARSotLotC}          :    ,     .        ,         .<br>
<br>
23) {}       ,           .                    ' '.          ,            .<br>
<br>
24) {}     ,   ,      .           ,   .   ,          .<br>
<br>
25) {}  .         ,  -  .      ,    ,   '  '.<br>
<br>
26) {}  .   ,      .                 .      ' '    !<br>
<br>
27) {}   ' '   ,      .              .     :    ,    ,     .<br>
<br>
28) {ARSotLotC} - &lt; &gt;     .             .        .  ,    .<br>
<br>
29) {ARSotLotC}         .   ? ,         (- ,          )    ARSotLotC (Automatic Recording System of the Logs of the Complex).<br>
<br>
30) {ARSotLotC}   «»  ,        .          ,     ,   .  -    ,  backup .    ,    ,         .<br>
<br>
31) {ARSotLotC}  :      .     ,       .           .          backup.<br>
<br>
32) {ARSotLotC}   .         .     ,   .           .<br>
<br>
33) {ARSotLotC}                  (       backup').          .<br>
<br>
34) {ARSotLotC}    ,      .    ,      ,     10     .      ,     . P.s:        ,           ,  .<br>
<br>
35.1) {}   .  .     ' '  .     ,      ,       ''.  ,          -   ,    .            ' '.<br>
<br>
35.2)                                                  <br>
</div></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コードベース</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
私の専門はプログラマーなので、コードは私にとって主な仕事でした。</font><font style="vertical-align: inherit;">元のコードベースと比較して、続編のコードベースは2〜3倍に増加しました（ループと配列やGetChild（）とループなどのバンドルを使用するのが怖かったため、元のコードベースには900行のコードメソッドが含まれていましたが） ）</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
量とともに、コードの全体的な品質も向上しましたが、エラーは避けられませんでした。</font><font style="vertical-align: inherit;">その結果、コード自体に多くのエラーがあります。</font><font style="vertical-align: inherit;">そして、客観的に乏しい知識にもかかわらず、私は間違いをはっきりと見ることができます。</font><font style="vertical-align: inherit;">それで、私は私の最も重要な間違いを分析します。</font><font style="vertical-align: inherit;">簡単なコードを例にとります：</font></font><br>
<br>
<pre><code class="plaintext hljs">public class VelocityRotate : MonoBehaviour<font></font>
{<font></font>
    public float rotate = 0f;<font></font>
    public bool oneTime = true;<font></font>
    private bool active = true;<font></font>
<font></font>
    public void OnTriggerEnter2D(Collider2D collision)<font></font>
    {<font></font>
        if (active == true)<font></font>
        {<font></font>
            if (oneTime == true)<font></font>
            {<font></font>
                active = false;<font></font>
            }<font></font>
<font></font>
            Rigidbody2D rb = collision.GetComponent&lt;Rigidbody2D&gt;();<font></font>
            Vector2 vel = rb.velocity;<font></font>
            rb.velocity = RotateVector(vel, rotate);<font></font>
        }<font></font>
    }<font></font>
<font></font>
    public Vector2 RotateVector(Vector2 a, float offsetAngle)<font></font>
    {<font></font>
        float power = Mathf.Sqrt(a.x * a.x + a.y * a.y);<font></font>
        float angle = Mathf.Atan2(a.y, a.x) * Mathf.Rad2Deg - 90f + offsetAngle;<font></font>
        return Quaternion.Euler(0, 0, angle) * Vector2.up * power;<font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このスクリプトが何を担当するのかすぐに理解しましたか？</font><font style="vertical-align: inherit;">そして、あなたがこのようにした場合：</font></font><br>
<br>
<pre><code class="plaintext hljs">public class VelocityRotate : MonoBehaviour<font></font>
{<font></font>
    //     <font></font>
    public float rotate = 0f;// <font></font>
    public bool oneTime = true;// <font></font>
    private bool active = true;// <font></font>
<font></font>
    public void OnTriggerEnter2D(Collider2D collision)<font></font>
    {<font></font>
        if (active == true)<font></font>
        {<font></font>
            if (oneTime == true)//  <font></font>
            {<font></font>
                active = false;<font></font>
            }<font></font>
            //  <font></font>
            Rigidbody2D rb = collision.GetComponent&lt;Rigidbody2D&gt;();<font></font>
            Vector2 vel = rb.velocity;<font></font>
            rb.velocity = RotateVector(vel, rotate);<font></font>
        }<font></font>
    }<font></font>
<font></font>
    public Vector2 RotateVector(Vector2 a, float offsetAngle)//  <font></font>
    {<font></font>
        float power = Mathf.Sqrt(a.x * a.x + a.y * a.y);// <font></font>
        float angle = Mathf.Atan2(a.y, a.x) * Mathf.Rad2Deg - 90f + offsetAngle;<font></font>
        //    offset'<font></font>
        return Quaternion.Euler(0, 0, angle) * Vector2.up * power;<font></font>
        //       <font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コメントの欠如は、ゲーム開発時の私の最初の、そして最も大きな間違いです！コードベース全体には、コードのこのブランチまたはそのブランチが何を担当するかを説明する単一のコメントはありません。そして、おそらくこれは小さなインディーズゲームには必要ありません。第一に、私は間違いなくこのゲームを小さくすることはできません。第二に、将来の開発者として、私は間違いなくチームで作業する必要があり、コメントが私に悪戯をするような便利な習慣がないことです。私はこの間違いに気づきました。すべてのプログラミングプロジェクトに悩まされました。今回は、これを考慮に入れて、次回コメントします。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バグと欠陥</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
多くのバグがありました。</font><font style="vertical-align: inherit;">非常に！</font><font style="vertical-align: inherit;">このような大規模な作業のために、1か月分の修正を割り当てました（8月）。</font><font style="vertical-align: inherit;">例を解析しても意味がありません。文書化されたすべてのバグをメモしただけです（ただし、それらのほとんどは文書化しておらず、適切に修正していません）。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GB2チェックリスト</font></font></b><div class="spoiler_text">:<br>
// —  <br>
\ —   <br>
<br>
//1)     ,  , <br>
//2)   : <br>
//3)       <br>
//4)     TipsGamePlay<br>
//5) ( )    <br>
//6) 0:     <br>
//7) 1:    ()<br>
//8)     <br>
//9) 2:  2     <br>
//10)               <br>
//11) 4:   <br>
//12)     layer Player<br>
//13) 7:    ()     <br>
//14) 8:           ( 1)<br>
//15) 8:     <br>
\16)         (    )<br>
\17) 8:           zero<br>
//18)       <br>
//19) 1:       <br>
//20)    ,  <br>
//21)       <br>
//22)    timescale=0<br>
//23) 6:        <br>
//24) 0:  <br>
//25)    <br>
//26) 7:   <br>
//27) 7:   <br>
//28)  AspectRatio<br>
\29)     <br>
//30)   <br>
//31)    &lt;EXfgpy)b&gt;    //32) 7:    - <br>
//33)   ,      <br>
//34) 9:    <br>
//35) 9:     <br>
//36) 'loop'  <br>
//37) 10:  <br>
//38) 11:   ()<br>
//39) 11:   <br>
//40) 11:     <br>
//41) 11:  <br>
//42) 11:     <br>
//43) 11:        <br>
//44)    ( )<br>
/45) 12:   <br>
\46)  Raycast  <br>
\47)   ( static, dynamic, kinematic)<br>
//48)     (next level, next start, next end)<br>
\49) 1:          elevatorsave = 0<br>
\50)   offset angle,           <br>
//51) 2:      <br>
//52)   <br>
//53) 7:       <br>
//54)  next save<br>
//55)      Dynamic Graph<br>
//56) 11:        (    )<br>
57) 11:  <br>
//58) 9:    ()<br>
//59) 11: (  )   <br>
//60) 12:   (   2 .     active   ,  .         .<br>
61) :    <br>
//62) :  -  <br>
//63)  :       <br>
64)   <br>
//65)      (. )<br>
//66)     <br>
//67)     HealthBar<br>
68) 0:         <br>
//69)      localposition  position<br>
70) 14:    bool isPresentation<br>
//71) 17:         2  4<br>
72)    ()<br>
\73)     <br>
//74)       <br>
//75)      layer,    <br>
//76)     <br>
//77) 2:      1    <br>
\78)     (     )<br>
//79)         <br>
//80) 3:  ,        <br>
//81)          <br>
//82) 6:      ,     <br>
//83) 6:     1 <br>
//84) 6:      <br>
//85) 7:    40.      .<br>
//86)       <br>
//87) 9:       <br>
//88) 32:     <br>
//89)  offsetAngle  elevator<br>
//90) 11:    <br>
//91)    (  )<br>
//92)     <br>
//93)   <br>
//94)   <br>
//95) 13:    <br>
//96) 15:     <br>
/97)    3            isshotmode<br>
//98) 17:      <br>
//99) 18:  ,        <br>
//100) 19:       (   )<br>
/101) 20:         <br>
\102)    Tramp<br>
//103) 20:        <br>
\104)        <br>
//105) 11:    ui  <br>
//106)   text         arial<br>
\107)             <br>
//108)         <br>
//109) 3:          <br>
//110) 3:       <br>
//111) 3:      ,   <br>
//112)    ,    <br>
//113)     ()<br>
//114) 4:    <br>
//115)       (    )<br>
//116)       ()<br>
//117)  pointsAnimation  basicAnimation<br>
//118) 7:  <br>
//119) 9:     <br>
//120)         AudioBase<br>
//121)     pointsAnimation      <br>
//122)       ,   ( )<br>
//123) 13:    HealthBar<br>
//124) 13:  ,     <br>
//125) 14:      kinematic (. )<br>
//126) 14:    <br>
//127) 14:      ,   <br>
//128)    velocityField   (     ,        )<br>
//129) 16:     velocityField<br>
//130) 22:     <br>
//131) 22:    <br>
\132) 25:      <br>
//133) 26:  <br>
//134) 27:  <br>
\135)       (  )<br>
//136)      <br>
//137) :         <br>
//138)    ( )<br>
//139)           <br>
//140) 8:  <br>
//141)      (  1.5-2,      -oneshot'<br>
\142)  lerp        <br>
//143)      ,  ,        (    ,         )<br>
//144) 22:      <br>
//145) 11:         <br>
//146) 11:     <br>
//147) 11:    <br>
//148)   <br>
//149)  «Home»  «Menu»<br>
//150)     <br>
//151)      <br>
//152)      <br>
\153)        (  healthEnd)<br>
//154) :      <br>
//155) 33:    ,     <br>
//156) 15:     (   0.1)<br>
//157) 15:      velocityfield          healthbar<br>
//158)    <br>
//159)   basicAnimation (27)<br>
//160)   (18, 27)<br>
//161)    <br>
\162) 19: -     <br>
//163)     ( trigger  collision)<br>
//164) 20:     50  250<br>
//165)      shotmode<br>
//166) 27:       <br>
//167) 28:    <br>
//168) 17:   <br>
//169) tag  boss3<br>
\170)   (  ,    )<br>
//171)    35<br>
//172)  :   ,  600    «I'll come back»<br>
//173) 33:       <br>
<br>
//174)     <br>
//175) HealthBar      <br>
//176)     (     damage-<br>
//177) 27:        <br>
<br>
  <br>
<br>
0) (0)<br>
1) (2)<br>
2) (2)<br>
3) (1)<br>
4) (1)<br>
5) (1)<br>
6) (1)<br>
7) (1)<br>
8) (2)<br>
9) (1)<br>
10) (0)<br>
11) (1)<br>
(13)<br>
12) (0)<br>
13) (2)<br>
14) (2)<br>
15) (0)<br>
16) (0)<br>
17) (1)<br>
18) (1)<br>
19) (3)<br>
20) (0)<br>
21) (3)<br>
22) (1)<br>
(13)<br>
23) (1)<br>
24) (1)<br>
25) (0)<br>
26) (0)<br>
27) (0)<br>
28) (3)<br>
29) (1)<br>
30) (2)<br>
31) (0)<br>
32) (0)<br>
33) (1)<br>
34) (1)<br>
(10)<br>
<br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、解体する意味があるのは欠陥です。</font><font style="vertical-align: inherit;">そして、バグに起因する可能性のある小さなものではなく、ゲームのパフォーマンスにおける最も大きなエラーである大きなものです。</font><font style="vertical-align: inherit;">また、欠陥とは欠陥を意味するものではないことにも注意してください。</font><font style="vertical-align: inherit;">ゲームには多くの欠点がありますが、これは理解できますが、修正または作成を妨げる可能性のあるものを明らかにしたいと思います。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
だから私の主な欠陥は何ですか？</font></font><br>
<br>
<ol>
<li>         .   ,           .    2       3-4 .     ,     ,    :               10 .        ,                  .             . </li>
<li>        ,    .   ,        ,     ,   ,       . </li>
<li>        .       ,   « »   60%     .       ,    . </li>
</ol><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ローカリゼーション</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
本格的なシナリオにより、ローカライズされたテキストの量は約30倍に増加しました。</font><font style="vertical-align: inherit;">しかし、翻訳手法は少し変わっていません。Google翻訳で翻訳したので、続けます。</font><font style="vertical-align: inherit;">最初はロシア語から直接翻訳しましたが、今は英語に翻訳し、エラーを修正し、すでに他の言語に翻訳しています。</font><font style="vertical-align: inherit;">また、言語の数が減りました：元のゲームに18言語があり、そのページがGoogleがサポートするすべての言語に翻訳されている場合、続編は10言語のみに転送されました：ゲームにあるもの、ページにあるもの（そしてこれが唯一の続編です）オリジナルより劣っています）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通常のノートターミナルでは、テキストを操作するのに十分な大きさのスキームを作成しました。</font><font style="vertical-align: inherit;">つまり、単純な文字列の代わりに、さまざまな言語を操作するための特別なクラスがありました。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スクリプトStringLanguageMinimize</font></font></b><div class="spoiler_text"><pre><code class="plaintext hljs">[System.Serializable]<font></font>
public class StringLanguageMinimize<font></font>
{<font></font>
    public string english = "";<font></font>
    public string spanish = "";<font></font>
    public string italian = "";<font></font>
    public string german = "";<font></font>
    public string russian = "";<font></font>
    public string french = "";<font></font>
    public string portuguese = "";<font></font>
    public string korean = "";<font></font>
    public string chinese = "";<font></font>
    public string japan = "";<font></font>
<font></font>
    public string GetString()<font></font>
    {<font></font>
        string ret = "";<font></font>
        switch (PlayerPrefs.GetString("language"))<font></font>
        {<font></font>
            case "english": ret = english; break;<font></font>
            case "spanish": ret = spanish; break;<font></font>
            case "italian": ret = italian; break;<font></font>
            case "german": ret = german; break;<font></font>
            case "russian": ret = russian; break;<font></font>
            case "french": ret = french; break;<font></font>
            case "portuguese": ret = portuguese; break;<font></font>
            case "korean": ret = korean; break;<font></font>
            case "chinese": ret = chinese; break;<font></font>
            case "japan": ret = japan; break;<font></font>
        }<font></font>
        return ret;<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
端末とまったく同じクラス：</font></font><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スクリプト端末</font></font></b><div class="spoiler_text"><pre><code class="plaintext hljs">[System.Serializable]<font></font>
public class StringLanguage<font></font>
{<font></font>
    [TextArea]<font></font>
    public string english = "";<font></font>
    [TextArea]<font></font>
    public string spanish = "";<font></font>
    [TextArea]<font></font>
    public string italian = "";<font></font>
    [TextArea]<font></font>
    public string german = "";<font></font>
    [TextArea]<font></font>
    public string russian = "";<font></font>
    [TextArea]<font></font>
    public string french = "";<font></font>
    [TextArea]<font></font>
    public string portuguese = "";<font></font>
    [TextArea]<font></font>
    public string korean = "";<font></font>
    [TextArea]<font></font>
    public string chinese = "";<font></font>
    [TextArea]<font></font>
    public string japan = "";<font></font>
<font></font>
    public string GetString()<font></font>
    {<font></font>
        string ret = "";<font></font>
        switch (PlayerPrefs.GetString("language"))<font></font>
        {<font></font>
            case "english": ret = english; break;<font></font>
            case "spanish": ret = spanish; break;<font></font>
            case "italian": ret = italian; break;<font></font>
            case "german": ret = german; break;<font></font>
            case "russian": ret = russian; break;<font></font>
            case "french": ret = french; break;<font></font>
            case "portuguese": ret = portuguese; break;<font></font>
            case "korean": ret = korean; break;<font></font>
            case "chinese": ret = chinese; break;<font></font>
            case "japan": ret = japan; break;<font></font>
        }<font></font>
        return ret;<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次はターミナルトリガーコードでした：</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スクリプトヒントの入力</font></font></b><div class="spoiler_text"><pre><code class="plaintext hljs">using UnityEngine;<font></font>
<font></font>
public class TipsInput : MonoBehaviour<font></font>
{<font></font>
    public int idTips = 0;<font></font>
    public bool isPress2Read = true;<font></font>
    public bool oneTime = true;<font></font>
    private bool active = true;<font></font>
    public GameObject[] copys;<font></font>
    private Data data;<font></font>
    private Press2Read p2r;<font></font>
    private TipsInput ti;<font></font>
<font></font>
    private void Awake()<font></font>
    {<font></font>
        data = GameObject.FindWithTag("MainCamera").GetComponent&lt;Data&gt;();<font></font>
        p2r = GameObject.FindWithTag("Press2Read").GetComponent&lt;Press2Read&gt;();<font></font>
        ti = GetComponent&lt;TipsInput&gt;();<font></font>
    }<font></font>
<font></font>
    public void OnCollisionEnter2D(Collision2D collision)<font></font>
    {<font></font>
        if (collision.transform.CompareTag("Player"))<font></font>
        {<font></font>
            if (isPress2Read == false &amp;&amp; active == true)<font></font>
            {<font></font>
                Disable();<font></font>
                data.SetDialoge(idTips);<font></font>
<font></font>
                if (copys.Length != 0)<font></font>
                {<font></font>
                    for (int i = 0; i &lt; copys.Length; i++)<font></font>
                    {<font></font>
                        copys[i].GetComponent&lt;TipsInput&gt;().Disable();<font></font>
                    }<font></font>
                }<font></font>
            }<font></font>
            else if (isPress2Read == true)<font></font>
            {<font></font>
                p2r.Active(ti);<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
<font></font>
    public void OnCollisionExit2D(Collision2D collision)<font></font>
    {<font></font>
        if (isPress2Read == true)<font></font>
        {<font></font>
            p2r.DeActive();<font></font>
        }<font></font>
    }<font></font>
<font></font>
    public void Disable()<font></font>
    {<font></font>
        if (oneTime == true)<font></font>
        {<font></font>
            active = false;<font></font>
        }<font></font>
        return;<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
重要なクラスデータ：</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データ</font></font></b><div class="spoiler_text"><pre><code class="plaintext hljs">using UnityEngine;<font></font>
using UnityEngine.UI;<font></font>
using System.Collections;<font></font>
<font></font>
public class Data : GlobalFunctions<font></font>
{<font></font>
    public Dialoge[] dialoges;<font></font>
    public DeadPhrases[] deadPhrases;<font></font>
    public GamePlay[] gameplay;<font></font>
    [Space]<font></font>
    public Tips tips;<font></font>
    public AudioBase audioBase;<font></font>
    public TipsGamePlay gamePlayTips;<font></font>
    public Image slowmobonus;<font></font>
    public Text fpsText;<font></font>
    public float scaleTips = 1f;<font></font>
    public float scaleGameUI = 1f;<font></font>
    public float scaleSlowMo = 1f;<font></font>
    <font></font>
    private float speed = 0f;<font></font>
    private float target = 1f;<font></font>
    private float timeDuration = 1f;<font></font>
    private int updFPS = 0;<font></font>
<font></font>
    public void Awake()<font></font>
    {<font></font>
        scaleTips = scaleGameUI = scaleSlowMo = 1f;<font></font>
        slowmobonus.color = new Color(0f, 0f, 0f, 0f);<font></font>
    }<font></font>
<font></font>
    public void Start()<font></font>
    {<font></font>
        StartCoroutine(SecFPSUpdate());<font></font>
    }<font></font>
<font></font>
    public void SetDialoge(int id)<font></font>
    {<font></font>
        if (dialoges.Length != 0)<font></font>
        {<font></font>
            tips.SetActiveTrue(dialoges[id].dialogeStrings, dialoges[id].name);<font></font>
        }<font></font>
    }<font></font>
<font></font>
    public void FalseP2R()<font></font>
    {<font></font>
        tips.SetFalse();<font></font>
    }<font></font>
<font></font>
    public string GetDeadPhrase(string typeDead)<font></font>
    {<font></font>
        int idType = -1;<font></font>
        for (int i = 0; i &lt; deadPhrases.Length; i++)<font></font>
        {<font></font>
            if (deadPhrases[i].typeDead == typeDead)<font></font>
            {<font></font>
                idType = i; break;<font></font>
            }<font></font>
        }<font></font>
<font></font>
        if (idType == -1)<font></font>
        {<font></font>
            return typeDead;<font></font>
        }<font></font>
<font></font>
        int rand = Random.Range(0, deadPhrases[idType].deadPhrases.Length);<font></font>
        return deadPhrases[idType].deadPhrases[rand].GetString();<font></font>
    }<font></font>
<font></font>
    public string GetDeadPhrase2()<font></font>
    {<font></font>
        string ret = "";<font></font>
        switch (PlayerPrefs.GetString("language"))<font></font>
        {<font></font>
            case "english": ret = "Tap to continue"; break;<font></font>
            case "spanish": ret = "Pulse para continuar"; break;<font></font>
            case "italian": ret = "Tocca per continuare"; break;<font></font>
            case "german": ret = "Tippen Sie, um fortzufahren"; break;<font></font>
            case "russian": ret = "  "; break;<font></font>
            case "french": ret = "Appuyez sur pour continuer"; break;<font></font>
            case "portuguese": ret = "Clique para continuar"; break;<font></font>
            case "korean": ret = "계속하려면 탭하세요"; break;<font></font>
            case "chinese": ret = "点按即可继续"; break;<font></font>
            case "japan": ret = "タップして続行します"; break;<font></font>
        }<font></font>
        return ret;<font></font>
    }<font></font>
<font></font>
    public void PauseGameUI(float time)<font></font>
    {<font></font>
        scaleGameUI = time;<font></font>
        Update();<font></font>
        audioBase.UpdateSound();<font></font>
    }<font></font>
<font></font>
    public void SetGamePlayTips(int id)<font></font>
    {<font></font>
        if (id == -1) { gamePlayTips.SetActiveTrueSaved(); }<font></font>
        else { gamePlayTips.SetActiveTrue(gameplay[id]); }<font></font>
    }<font></font>
<font></font>
    public void SlowMo(float timeDuration2, float setSlowMo, float speed2)<font></font>
    {<font></font>
        speed = speed2;<font></font>
        target = setSlowMo;<font></font>
        timeDuration = timeDuration2;<font></font>
        Update();<font></font>
        audioBase.UpdateSound();<font></font>
    }<font></font>
<font></font>
    public void SlowMo(float timeDuration2)<font></font>
    {<font></font>
        scaleSlowMo = 0.1f;<font></font>
        float sb = (1f - scaleSlowMo) * 0.3921569f;<font></font>
        slowmobonus.color = new Color(0f, 0f, 0f, sb);<font></font>
        Update();<font></font>
        audioBase.UpdateSound();<font></font>
    }<font></font>
<font></font>
    public IEnumerator EndAnim(float timeDuration)<font></font>
    {<font></font>
        yield return new WaitForSeconds(timeDuration);<font></font>
        End();<font></font>
    }<font></font>
<font></font>
    public void End()<font></font>
    {<font></font>
        scaleSlowMo = 1f;<font></font>
        float sb = (1f - scaleSlowMo) * 0.3921569f;<font></font>
        slowmobonus.color = new Color(0f, 0f, 0f, sb);<font></font>
        Update();<font></font>
        audioBase.UpdateSound();<font></font>
    }<font></font>
<font></font>
    public void End2(float timeDuration2)<font></font>
    {<font></font>
        if (timeDuration2 == 0) { End(); return; }<font></font>
        StartCoroutine(EndAnim(timeDuration2));<font></font>
    }<font></font>
<font></font>
    private void Update()<font></font>
    {<font></font>
        Time.timeScale = scaleTips * scaleSlowMo * scaleGameUI;<font></font>
        Time.fixedDeltaTime = 0.03f * scaleSlowMo * scaleTips;<font></font>
        updFPS = updFPS + 1;<font></font>
        return;<font></font>
    }<font></font>
<font></font>
    private IEnumerator SecFPSUpdate()<font></font>
    {<font></font>
        yield return new WaitForSeconds(1f);<font></font>
        fpsText.text = "FPS: " + updFPS; updFPS = 0;<font></font>
        StartCoroutine(SecFPSUpdate());<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、端末の操作を担当するメインのTipsクラス：</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スクリプトのヒント</font></font></b><div class="spoiler_text"><pre><code class="plaintext hljs">using System.Collections;<font></font>
using UnityEngine.UI;<font></font>
using UnityEngine;<font></font>
<font></font>
public class Tips : GlobalFunctions<font></font>
{<font></font>
    public Data data;<font></font>
    public Press2Read p2r;<font></font>
    public GameUI gameUI;<font></font>
    public GameObject obj;<font></font>
    public AudioClip setClip;<font></font>
    public Text nameText;<font></font>
    public Text txt;<font></font>
    private int textID = 0;<font></font>
    private int textsID = 0;<font></font>
    private AudioBase audioBase;<font></font>
    private DialogeString textActive;<font></font>
    private DialogeString[] textsActive;<font></font>
    private bool isMass = false;<font></font>
    [TextArea]<font></font>
    public string end = "";<font></font>
    [TextArea]<font></font>
    public string endPast = "";<font></font>
<font></font>
    public void Start()<font></font>
    {<font></font>
        audioBase = GameObject.FindWithTag("MainCamera").GetComponent&lt;AudioBase&gt;();<font></font>
        data.scaleTips = 1f;<font></font>
        obj.SetActive(false);<font></font>
        txt.text = "";<font></font>
    }<font></font>
<font></font>
    public void SetActiveTrue(DialogeString text, StringLanguageMinimize name)<font></font>
    {<font></font>
        data.scaleTips = 0.1f;<font></font>
        audioBase.layerSounds[0].volume /= 10f;<font></font>
        obj.SetActive(true);<font></font>
        nameText.text = name.GetString();<font></font>
        gameUI.pauseButton.SetActive(false);<font></font>
        textActive = text;<font></font>
        isMass = false;<font></font>
        StartCoroutine(TimerFalse());<font></font>
    }<font></font>
<font></font>
    public void SetActiveTrue(DialogeString[] texts, StringLanguageMinimize name)<font></font>
    {<font></font>
        data.scaleTips = 0.1f;<font></font>
        audioBase.layerSounds[0].volume /= 10f;<font></font>
        obj.SetActive(true);<font></font>
        nameText.text = name.GetString();<font></font>
        gameUI.pauseButton.SetActive(false);<font></font>
        textsActive = texts;<font></font>
        isMass = true;<font></font>
        StartCoroutine(TimersFalse());<font></font>
    }<font></font>
<font></font>
    public IEnumerator TimerFalse(float time = 0.02f)<font></font>
    {<font></font>
        yield return new WaitForSecondsRealtime(time);<font></font>
        string ds = textActive.dialogeString.GetString();<font></font>
        if (textID &lt; ds.Length &amp;&amp; ds != end)<font></font>
        {<font></font>
            audioBase.SetSound(setClip, 1, 0.5f, TypePlaying.Sound, false);<font></font>
            end = end + ds.Substring(textID, 1);<font></font>
            txt.text = endPast + end;<font></font>
            textID = textID + 1;<font></font>
<font></font>
            if (textID + 1 != ds.Length &amp;&amp; ds != end)<font></font>
            {<font></font>
                if (ds.Substring(textID + 1, 1) == ",")<font></font>
                {<font></font>
                    StartCoroutine(TimersFalse(0.1f));<font></font>
                }<font></font>
                else if (ds.Substring(textID + 1, 1) == ".")<font></font>
                {<font></font>
                    StartCoroutine(TimersFalse(0.15f));<font></font>
                }<font></font>
                else if (ds.Substring(textID + 1, 1) == "?")<font></font>
                {<font></font>
                    StartCoroutine(TimersFalse(0.15f));<font></font>
                }<font></font>
                else if (ds.Substring(textID + 1, 1) == ".")<font></font>
                {<font></font>
                    StartCoroutine(TimersFalse(0.15f));<font></font>
                }<font></font>
                else<font></font>
                {<font></font>
                    StartCoroutine(TimersFalse());<font></font>
                }<font></font>
            }<font></font>
            else<font></font>
            {<font></font>
                StartCoroutine(TimersFalse());<font></font>
            }<font></font>
        }<font></font>
        else<font></font>
        {<font></font>
            endPast = txt.text;<font></font>
            if (textActive.isSkip)<font></font>
            {<font></font>
                if (textActive.skipOffset == 0f)<font></font>
                {<font></font>
                    SetActiveFalse();<font></font>
                }<font></font>
                else<font></font>
                {<font></font>
                    IsSkip(textActive.skipOffset);<font></font>
                }<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
<font></font>
    public IEnumerator TimersFalse(float time = 0.02f)<font></font>
    {<font></font>
        yield return new WaitForSecondsRealtime(time);<font></font>
        string ds = textsActive[textsID].dialogeString.GetString();<font></font>
        if (textID &lt; ds.Length &amp;&amp; ds != end)<font></font>
        {<font></font>
            audioBase.SetSound(setClip, 1, 0.5f, TypePlaying.Sound, false);<font></font>
            end = end + ds.Substring(textID, 1);<font></font>
            txt.text = endPast + end;<font></font>
            textID = textID + 1;<font></font>
<font></font>
            string ds1 = textsActive[textsID].dialogeString.GetString();<font></font>
            if (textID + 1 != ds1.Length &amp;&amp; ds1 != end)<font></font>
            {<font></font>
                if (ds1.Substring(textID + 1, 1) == ",")<font></font>
                {<font></font>
                    StartCoroutine(TimersFalse(0.1f));<font></font>
                }<font></font>
                else if (ds1.Substring(textID + 1, 1) == ".")<font></font>
                {<font></font>
                    StartCoroutine(TimersFalse(0.15f));<font></font>
                }<font></font>
                else if (ds1.Substring(textID + 1, 1) == "?")<font></font>
                {<font></font>
                    StartCoroutine(TimersFalse(0.15f));<font></font>
                }<font></font>
                else if (ds1.Substring(textID + 1, 1) == "!")<font></font>
                {<font></font>
                    StartCoroutine(TimersFalse(0.15f));<font></font>
                }<font></font>
                else<font></font>
                {<font></font>
                    StartCoroutine(TimersFalse());<font></font>
                }<font></font>
            }<font></font>
            else<font></font>
            {<font></font>
                StartCoroutine(TimersFalse());<font></font>
            }<font></font>
        }<font></font>
        else<font></font>
        {<font></font>
            endPast = txt.text;<font></font>
            if (textsActive[textsID].isSkip)<font></font>
            {<font></font>
                if (textsActive[textsID].skipOffset == 0f)<font></font>
                {<font></font>
                    SetActiveFalse();<font></font>
                }<font></font>
                else<font></font>
                {<font></font>
                    IsSkip(textsActive[textsID].skipOffset);<font></font>
                }<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
<font></font>
    public IEnumerator IsSkip(float time)<font></font>
    {<font></font>
        yield return new WaitForSecondsRealtime(time);<font></font>
        SetActiveFalse();<font></font>
    }<font></font>
<font></font>
    public void SetFalse()<font></font>
    {<font></font>
        obj.SetActive(false);<font></font>
        gameUI.pauseButton.SetActive(true);<font></font>
        end = "";<font></font>
        endPast = "";<font></font>
        txt.text = "";<font></font>
        textID = textsID = 0;<font></font>
        data.scaleTips = 1f;<font></font>
        audioBase.layerSounds[0].volume *= 10f;<font></font>
    }<font></font>
<font></font>
    public void SetActiveFalse()<font></font>
    {<font></font>
        if (isMass == false)<font></font>
        {<font></font>
            if (textActive.dialogeString.GetString() != end)<font></font>
            {<font></font>
                end = textActive.dialogeString.GetString();<font></font>
                if (textActive.isSkip)<font></font>
                {<font></font>
                    SetActiveFalse();<font></font>
                }<font></font>
            }<font></font>
            else<font></font>
            {<font></font>
                obj.SetActive(false);<font></font>
                gameUI.pauseButton.SetActive(true);<font></font>
                end = "";<font></font>
                data.scaleTips = 1f;<font></font>
                audioBase.layerSounds[0].volume *= 10f;<font></font>
            }<font></font>
        }<font></font>
        else<font></font>
        {<font></font>
            if (textsActive[textsID].dialogeString.GetString() != end)<font></font>
            {<font></font>
                if (textsActive[textsID].isStep == true)<font></font>
                {<font></font>
                    txt.text = end = textsActive[textsID].dialogeString.GetString();<font></font>
                    if (textsActive[textsID].isSkip)<font></font>
                    {<font></font>
                        SetActiveFalse();<font></font>
                    }<font></font>
                }<font></font>
                else<font></font>
                {<font></font>
                    end = textsActive[textsID].dialogeString.GetString();<font></font>
                    txt.text = endPast + end;<font></font>
                }<font></font>
            }<font></font>
            else<font></font>
            {<font></font>
                if (textsID != textsActive.Length - 1)<font></font>
                {<font></font>
                    textsID = textsID + 1;<font></font>
                    textID = 0;<font></font>
                    end = "";<font></font>
                    if (textsActive[textsID].isStep == true)<font></font>
                    {<font></font>
                        endPast = "";<font></font>
                    }<font></font>
                    StartCoroutine(TimersFalse());<font></font>
                }<font></font>
                else<font></font>
                {<font></font>
                    obj.SetActive(false);<font></font>
                    gameUI.pauseButton.SetActive(true);<font></font>
                    p2r.UnTap();<font></font>
                    end = "";<font></font>
                    endPast = "";<font></font>
                    txt.text = "";<font></font>
                    textID = textsID = 0;<font></font>
                    data.scaleTips = 1f;<font></font>
                    audioBase.layerSounds[0].volume *= 10f;<font></font>
                }<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私は、テキストが表示されただけでは憂鬱であると判断したため、IEnumeratorの助けを借りて、テキストの記述をエミュレートしました（最終的にはまったく同じ効果です）。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リリース</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
当初、私の計画はゲームを9月1日に置くことでした。</font><font style="vertical-align: inherit;">そして私はそうしました：最後の瞬間に、エンディングにバグが4つあることが判明し（翻訳もされませんでした）、すぐに修正し、夜にゲームをレイアウトしました。</font><font style="vertical-align: inherit;">申し訳ありませんが、手動で申し出を確認することにしたため、確認は7日間延期されました。</font><font style="vertical-align: inherit;">ほとんどの場合、問題はアカウントにあり、アカウントは「定義」されており、モデレートによって手動ですでにチェックされています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PRはリリースの準備よりもはるかに困難でした。お金と接続がなかったためですが、ゲームを配布したかったのです。したがって、私は単純な方法を使用しました。それをVKのすべての友達に投げ、Redditに投稿を作成し、モバイルゲームのサイトへのオファーに投げ、音楽の作者に連絡を取ろうとしました。そして、これは小さな結果をもたらしました：</font></font><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/kj/u-/dd/kju-ddrnggd-val9oytmh3b9-pi.jpeg" width="400"></div><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結果は</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
素晴らしいですが、この記事を投稿した日で、IT部門で3年間過ごしました。そして、16歳でしたが、13歳のその日、プログラミングを学び、夢のゲームを作成するという目標を設定しました。そしてその瞬間から、ある程度、私の夢は実現しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ゲームはどうですか？私は彼女に満足しています。いいえ、実際には、このプロジェクトほど多くの有用な情報や経験を受け取っていません。まあ、ゲームの品質は明らかにもっと高いかもしれませんが、それでも私にはすでに良いです。また、私にとってこのゲームは個人的なものであり、まずこのゲームを収益化することは失礼です。したがって、広告や寄付はなく、有料版もありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この後、ゲーム開発に携わり続けたいと思います。</font><font style="vertical-align: inherit;">しかし、生活環境はもはや不可能です。</font><font style="vertical-align: inherit;">そして、普通にプログラマーになるためには、私自身の成長と成長が必要です。</font><font style="vertical-align: inherit;">私は今何を勉強すべきか、どこに行けばよいかわかりませんが、確かに1つ確かなことがあります。これは、おそらくユニティエンジンでの最後のゲームです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
少なくともいくつかの注意をありがとう。</font><font style="vertical-align: inherit;">私の話が無秩序な質問をすることが判明した場合、私はできると明記します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PS：誰かが前のトレーラーを気に入った：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ia/cm/se/iacmseb355qijfw6g2lsexdrtow.png" width="300"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、これがこのゲームのトレーラーです：</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/Whsn9B5t6Hc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja468341/index.html">Windowsターミナル上のAzure Cloud Shell</a></li>
<li><a href="../ja468343/index.html">ジェフ・ベゾス：「地球のために宇宙へ行く」</a></li>
<li><a href="../ja468345/index.html">GitHubがCI / CDとアーティファクト管理で触手を開始</a></li>
<li><a href="../ja468347/index.html">MetricKit。iOSアプリケーションのパフォーマンス分析</a></li>
<li><a href="../ja468351/index.html">市場の微細構造と逆選択</a></li>
<li><a href="../ja468367/index.html">アマゾンが地球温暖化計画を発表</a></li>
<li><a href="../ja468369/index.html">多くの8ビットゲームのパロディーである「WildMAN」を作成し、最近Androidに移植した方法</a></li>
<li><a href="../ja468371/index.html">人生にゲームデザイン。God of War 4へのシームレスなダウンロードまたは完全な没入</a></li>
<li><a href="../ja468377/index.html">中国内部についての8つの物語。外国人に見せられないもの</a></li>
<li><a href="../ja468379/index.html">汎用人工知能。TK、現状、見通し</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>