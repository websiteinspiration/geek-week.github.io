<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôáüèæ üë©üèº‚Äçüè≠ üëáüèø Spirale: Hochleistungs-PHP / Go-Framework üö¥üèª ü§òüèø üë®üèΩ‚Äçüé§</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo Habr. Mein Name ist Anton Titov, CTO von Spiral Scout. Heute m√∂chte ich Ihnen von unserem PHP-Elefanten erz√§hlen. Oder besser gesagt, √ºber die z...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Spirale: Hochleistungs-PHP / Go-Framework</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/495224/"><img src="https://habrastorage.org/webt/1_/ku/gu/1_kugualputdvwq2gxujopusshg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hallo Habr. </font><font style="vertical-align: inherit;">Mein Name ist Anton Titov, CTO von Spiral Scout. </font><font style="vertical-align: inherit;">Heute m√∂chte ich Ihnen von unserem PHP-Elefanten erz√§hlen. </font><font style="vertical-align: inherit;">Oder besser gesagt, √ºber die zweite Version des Open-Source-Full-Stack-PHP / Go-Frameworks - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spiral</font></font></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Spiral ist ein Komponenten-Full-Stack-Framework, das von unserem Unternehmen seit mehr als elf Jahren entwickelt wurde und hundert echte Projekte bedient. </font><font style="vertical-align: inherit;">Das Softwarepaket basiert auf vielen offenen und propriet√§ren Bibliotheken, einschlie√ülich </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RoadRunner</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cycle ORM</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Framework ist mit den meisten PSR-Empfehlungen kompatibel, unterst√ºtzt MVC und l√§uft 5-10 mal schneller als Laravel / Symfony. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie noch nie von Spiral geh√∂rt haben und sich fragen, was das PHP / Go-Framework ist und wohin die erste Version gegangen ist, dann sind Sie bei cat willkommen.</font></font><br>
<a name="habracut"></a><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√úber das Framework</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Spiralentwicklung begann 2008/09 als tragbarer Kernel f√ºr freiberufliche Anwendungen. 2010 haben wir endlich ein Outsourcing-Unternehmen gegr√ºndet und sind seitdem damit besch√§ftigt, unseren Stack zu verbessern. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Infolgedessen wurde das Framework in eine Reihe unabh√§ngiger Komponenten umgewandelt, die durch eine gemeinsame Integrationsschicht verbunden sind. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die einzige √∂ffentliche Ank√ºndigung der ersten Version erfolgte 2017 auf Reddit und machte uns klar, dass Spiral die Konkurrenz zu diesem Zeitpunkt technisch nicht wirklich geschlagen hat. Wir haben das Feedback, die Erfahrungen mit komplexeren Projekten ber√ºcksichtigt und die zweite Version im Mai 2019 fertiggestellt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nach einem Jahr Dokumentation und Ausf√ºhrung realer Projekte sind wir bereit, diese Entwicklung der √ñffentlichkeit vorzulegen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Hauptunterschied zwischen Spiral 2.0 von der vorherigen Generation des Frameworks und m√∂glicherweise von allen anderen vorhandenen PHP-Frameworks ist der integrierte Anwendungsserver RoadRunner sowie die Anpassung der Architektur an ein langlebiges Ausf√ºhrungsmodell (Daemon-Modus). </font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hybrid Rantheim</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Hauptkonzept des Frameworks ist die Symbiose zwischen dem in Golang geschriebenen Anwendungsserver und dem PHP-Kern. </font><font style="vertical-align: inherit;">Der PHP-Anwendungscode wird nur einmal in den Speicher geladen. Auf diese Weise erhalten Sie erhebliche Ressourceneinsparungen, verlieren jedoch die F√§higkeit, WordPress auszuf√ºhren.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/88/-o/fw/88-ofwfx3p83cjgqkkwuqmkuxk0.png"><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mehr √ºber das Hybridmodell k√∂nnen Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> lesen </font><font style="vertical-align: inherit;">.</font></font><br>
</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Server ist f√ºr den gesamten Infrastrukturteil verantwortlich: HTTP / FastCGI, Kommunikation mit Warteschlangenbrokern, GRPC, WebSockets, Pub / Sub, Cache, Metriken usw. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Schreiben von Code f√ºr Spiral unterscheidet sich praktisch nicht von Code f√ºr andere Frameworks. </font><font style="vertical-align: inherit;">Die SOLID-Prinzipien m√ºssen jedoch verantwortungsbewusster sein. </font><font style="vertical-align: inherit;">Wenn das vorherige Zwischenspeichern von Benutzerdaten in Singleton nur starke Schmerzen bei der Code√ºberpr√ºfung verursachte, funktioniert ein solcher Code jetzt einfach nicht mehr richtig.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Golang-Kenntnisse sind nicht erforderlich, um mit der Plattform zu arbeiten. </font><font style="vertical-align: inherit;">Nachdem Sie jedoch eine zweite Sprache gelernt haben, k√∂nnen Sie nahezu nahtlose Integrationen in Golang-Bibliotheken erstellen. </font><font style="vertical-align: inherit;">Betten Sie beispielsweise eine Volltextsuchmaschine ein oder schreiben Sie Ihren eigenen Kafka-Treiber.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Schie√üen in das Bein war etwas schwieriger, es wurde beschlossen, das System der Ereignisse und Haken aufzugeben und die Arbeit mit dem Aufrufstapel in expliziter Form zu priorisieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Framework bietet eine Reihe von Tools wie IoC-Closures, Middleware, Domain-Layer-Spoiler und unver√§nderliche Services.</font></font><br>
<br>
<pre><code class="php hljs">$container-&gt;runScope(<font></font>
    [UserContext::class =&gt; $user],<font></font>
    <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) <span class="hljs-title">use</span> (<span class="hljs-params">$container</span>) </span>{<font></font>
        dump($container-&gt;get(UserContext::class);<font></font>
    }<font></font>
);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obwohl ein solcher Ansatz einen zus√§tzlichen Overhead mit sich bringt, deckt die M√∂glichkeit, den Kern des Programms, die Verbindungen zur Datenbank und die Sockets aus dem Speicher nicht zu entladen, diese Einschr√§nkungen mehr als ab.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Performance</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der Full-Stack-Klasse von PHP-Frameworks konkurriert Spiral haupts√§chlich mit Swoole-basierten Assemblys und mehreren Micro-Frameworks. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/nw/a5/tz/nwa5tzv_osg63cq6l2ha2xpbs2c.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vollst√§ndige Benchmarks finden Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Leistung ist f√ºr uns ein Nebeneffekt der gew√§hlten Architektur. Wir sind sicher, dass bei richtiger Konfiguration und Ersetzen des PSR-7 durch eine leichtere Abstraktion die Produktivit√§t um 50-80% gesteigert werden kann (dies wird am Beispiel des </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ubiquity-Roadrunner</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bewiesen </font><font style="vertical-align: inherit;">).</font></font><br>
<br>
<blockquote> Swoole. Swoole     RoadRunner,     PHP        ++.       ,     Go.     ,   .<br>
<br>
   RoadRunner   (   ),    ,       Windows.<br>
<br>
   Spiral     Swoole,     !</blockquote><br>
<h4>PSR-*  </h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die meisten Spiral-Komponenten sind f√ºr Ihren Build optional. Der Unterschied zwischen Micro- und Full-Build besteht nur im Inhalt </font></font><code>composer.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Bei Bedarf k√∂nnen Sie die Schnittstellen verwenden, um Standardbibliotheken durch alternative Implementierungen zu ersetzen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die HTTP-Schicht des Frameworks wird unter Ber√ºcksichtigung der PSR-7/15/17-Standards geschrieben. Sie k√∂nnen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://spiral.dev/docs/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">den Router</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , die Implementierung von Nachrichten usw. </font><font style="vertical-align: inherit;">sicher </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://spiral.dev/docs/" rel="nofollow"><font style="vertical-align: inherit;">√§ndern</font></a><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die meisten Framework-Bibliotheken k√∂nnen au√üerhalb des Frameworks verwendet werden. </font><font style="vertical-align: inherit;">RoadRunner funktioniert beispielsweise hervorragend mit </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Symfony</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Laravel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , und Cycle ORM wird in Yii3 verf√ºgbar sein.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Serverkomponenten</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zus√§tzlich zu den PHP-Komponenten enth√§lt die RoadRunner-Assembly mehrere in Golang geschriebene Bibliotheken. </font><font style="vertical-align: inherit;">Die meisten Serverdienste k√∂nnen in PHP verwaltet werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Insbesondere gibt es eine Warteschlangenkomponente, die die Arbeit mit den Brokern AMQP, Amazon SQS und Beanstalk unterst√ºtzt. </font><font style="vertical-align: inherit;">Die Bibliothek kann eine beliebige Anzahl eingehender Warteschlangen korrekt stoppen, erneut verbinden und an mehrere Mitarbeiter verteilen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Standardm√§√üig werden Prometheus- und Health-Check-Punkte √ºberwacht, ein Hot-Neustart und ein Speicherlimit durchgef√ºhrt. </font><font style="vertical-align: inherit;">F√ºr verteilte Projekte gibt es einen GRPC-Server und -Client. </font><font style="vertical-align: inherit;">
Es gibt Web-Sockets, die von einer PHP-Anwendung autorisiert und mit dem Pub-Sub-Bus (im Speicher oder auf Redis) verbunden werden k√∂nnen. </font><font style="vertical-align: inherit;">Key-Value-Treiber werden derzeit getestet.</font></font><br>
<br>
<code>INFO[0154] 10.42.5.55:51990 Ok {2.28ms} /images.Service/GetFiles<br>
INFO[0155] 10.42.3.95:50926 Ok {11.3ms} /images.Service/GetFiles<br>
INFO[0156] 10.42.5.55:52068 Ok {3.60ms} /images.Service/GetFiles<br>
INFO[0158] 10.42.5.55:52612 Ok {2.30ms} /images.Service/GetFiles<br>
INFO[0166] 10.42.5.55:52892 Ok {2.23ms} /images.Service/GetFiles<br>
INFO[0167] 10.42.3.95:49938 Ok {2.37ms} /images.Service/GetFiles<br>
INFO[0169] 10.42.5.55:52988 Ok {2.22ms} /images.Service/GetFiles</code><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Portabilit√§t</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Framework ben√∂tigt kein PHP-FPM und NGINX. </font><font style="vertical-align: inherit;">Alle Golang-Komponenten verf√ºgen √ºber Treiber f√ºr das Arbeiten ohne externe Abh√§ngigkeiten. </font><font style="vertical-align: inherit;">So k√∂nnen Sie Warteschlangen, Websockets und Metriken verwenden, ohne externe Broker oder Programme zu installieren.</font></font><br>
<br>
<pre><code class="plaintext hljs">./spiral serve -v -d</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Spiral spielt keine Rolle, ob Sie eine gro√üe verteilte Anwendung oder eine kleine Site schreiben, die im Hintergrund "Schreiben an uns" sendet. </font><font style="vertical-align: inherit;">In jedem Fall k√∂nnen Sie dieselben Tools verwenden, um das Verhalten lokaler und Produktionsumgebungen zu vereinheitlichen.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Da die HTTP-Schicht optional ist, k√∂nnen Sie Konsolenanwendungen schreiben, die Daten im Hintergrund mithilfe eines Warteschlangenpakets verarbeiten. </font><font style="vertical-align: inherit;">Wir verwenden solche Programme f√ºr die Datenmigration.</font></font></blockquote><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zyklus ORM</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als ORM wird </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cycle ORM ausgeliefert</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Diese Data Mapper-Engine ist in ihrer Funktion Doctrine sehr √§hnlich, aber architektonisch sehr unterschiedlich. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie Doctrine kann Cycle mit reinen Dom√§nenmodellen arbeiten, unabh√§ngig Migrationen generieren und Fremdschl√ºssel anordnen. </font><font style="vertical-align: inherit;">Das Zuordnungsschema kann durch Code beschrieben oder aus Anmerkungen gesammelt werden. </font><font style="vertical-align: inherit;">Anstelle von DQL werden jedoch klassische Query Builder verwendet.</font></font><br>
<br>
<pre><code class="php hljs"><span class="hljs-comment">//    </span>
<span class="hljs-comment">//        </span><font></font>
$users = $orm-&gt;getRepository(User::class)<font></font>
    -&gt;select()<font></font>
    -&gt;where(<span class="hljs-string">'active'</span>, <span class="hljs-literal">true</span>)<font></font>
    -&gt;load(<span class="hljs-string">'orders'</span>, [
        <span class="hljs-string">'method'</span> =&gt; Select::SINGLE_QUERY, <span class="hljs-comment">// force LEFT JOIN</span>
        <span class="hljs-string">'load'</span>   =&gt; <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$query</span>) </span>{<font></font>
            $query-&gt;where(<span class="hljs-string">'paid'</span>, <span class="hljs-literal">true</span>)-&gt;orderBy(<span class="hljs-string">'timeCreated'</span>, <span class="hljs-string">'DESC'</span>);<font></font>
        }<font></font>
    ])<font></font>
    -&gt;fetchAll();<font></font>
<font></font>
$transaction = <span class="hljs-keyword">new</span> Transaction($orm);<font></font>
<font></font>
<span class="hljs-keyword">foreach</span>($users <span class="hljs-keyword">as</span> $user) {<font></font>
    $transaction-&gt;persist($user);<font></font>
}<font></font>
<font></font>
$transaction-&gt;run();</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Zyklus l√§uft </font><font style="vertical-align: inherit;">bei Auswahl </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">schneller als</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Doctrine, bei Persistenz jedoch langsamer. </font><font style="vertical-align: inherit;">Die Engine unterst√ºtzt komplexe Abfragen mit verschiedenen Ladestrategien, Proxy-Klassen und Einbettungen und bietet tragbare Transaktionen anstelle des globalen EntityManager.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Weitere Details finden Sie auf der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PHP Russia 2020</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Hauptmerkmal von ORM ist die M√∂glichkeit, die Zuordnung von Daten und Links zur Laufzeit zu √§ndern. </font><font style="vertical-align: inherit;">Mit einfachen Worten, Sie k√∂nnen Benutzern erlauben, das Datenschema unabh√§ngig zu definieren (DBAL unterst√ºtzt die Introspektion und Deklaration von Datenbankschemata).</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Weitere Informationen zum Vergleichen von Zyklus, Eloquent und Lehre 2 finden Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></blockquote><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rapid-Prototyping</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Spiral enth√§lt mehrere Tools, um die Entwicklung zu beschleunigen und zu vereinfachen. </font><font style="vertical-align: inherit;">Die wichtigsten sind die automatische Abh√§ngigkeitsinjektion, die automatische Konfiguration und die automatische Modellsuche mithilfe der statischen Analyse. </font><font style="vertical-align: inherit;">Mit Konsolenbefehlen k√∂nnen Sie die meisten erforderlichen Klassen generieren und sind leicht anpassbar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F√ºr die Integration in die IDE gibt es ein Rapid Prototyping System. </font><font style="vertical-align: inherit;">Mit dem magischen PrototypeTrait erhalten Sie schnellen Zugriff auf Tipps in der IDE. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/33/9u/_a/339u_ac_8gelzkarpyljtgtisck.gif"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Merkmal findet automatisch ORM-Repositorys, Standardkomponenten und kann Ihre Services durch Anmerkungen indizieren. </font><font style="vertical-align: inherit;">Unter der Haube wird die magische </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">__get-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Methode verwendet </font><font style="vertical-align: inherit;">, die Ihnen eine schnelle </font><b><font style="vertical-align: inherit;">Code√ºberpr√ºfung</font></b><font style="vertical-align: inherit;"> garantiert.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F√ºhren Sie einfach den Befehl `php app.php prototype: injizieren -r` aus, und das Prototyping-System entfernt automatisch alle Magie:</font></font><br>
<br>
<pre><code class="php hljs"><span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Controller</span>;<font></font>
<font></font>
<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Database</span>\<span class="hljs-title">Repository</span>\<span class="hljs-title">UserRepository</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Spiral</span>\<span class="hljs-title">Views</span>\<span class="hljs-title">ViewsInterface</span>;<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HomeController</span>
</span>{
    <span class="hljs-comment">/** <span class="hljs-doctag">@var</span> ViewsInterface */</span>
    <span class="hljs-keyword">private</span> $views;<font></font>
<font></font>
    <span class="hljs-comment">/** <span class="hljs-doctag">@var</span> UserRepository */</span>
    <span class="hljs-keyword">private</span> $users;<font></font>
<font></font>
    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@param</span> ViewsInterface $views
     * <span class="hljs-doctag">@param</span> UserRepository $users
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params">ViewsInterface $views, UserRepository $users</span>)
    </span>{
        <span class="hljs-keyword">$this</span>-&gt;users = $users;
        <span class="hljs-keyword">$this</span>-&gt;views = $views;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">index</span>(<span class="hljs-params"></span>)
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;views-&gt;render(<span class="hljs-string">'profile'</span>, [
            <span class="hljs-string">'user'</span> =&gt; <span class="hljs-keyword">$this</span>-&gt;users-&gt;findByName(<span class="hljs-string">'Antony'</span>)<font></font>
        ]);<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unter der Haube wird </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PHP-Parser verwendet</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sicherheit</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da die meisten unserer Anwendungen f√ºr das B2B-Segment entwickelt wurden, m√ºssen Sicherheitsaspekte ernst genommen werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Komponenten zur Validierung komplexer Anforderungen (Anforderungsfilter), CSRF und Verschl√ºsselung (basierend auf </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Defuse / PHP-Verschl√ºsselung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) stehen </font><font style="vertical-align: inherit;">Ihnen zur Verf√ºgung </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Die Arbeit mit Cookies und Sitzungen unterst√ºtzt die Verhinderung von Manipulationen und das Signieren von Daten auf der Serverseite. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Framework bietet </font><font style="vertical-align: inherit;">eine auslaufende tokenbasierte </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Authentifizierungskomponente</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Als Treiber k√∂nnen Sie Sitzungen, eine Datenbank oder sogar reine JWT verwenden.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Oder alle Arten von Token gleichzeitig, wenn die Anforderung ‚ÄûSAML / SSO / 2FA dringend verbinden!‚Äú Pl√∂tzlich zu Ihnen fliegt </font><font style="vertical-align: inherit;">:(</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Zugriffsautorisierung erfolgt √ºber die </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RBAC-Komponente</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mit einigen Verbesserungen, die den Betrieb im DAC- und ABAC-Modus erm√∂glichen. </font><font style="vertical-align: inherit;">Es gibt Unterst√ºtzung f√ºr viele Rollen, Anmerkungen zum Schutz von Controller-Methoden und ein Regelsystem. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Arbeit mit dem Dom√§nenschicht erfolgt durch eine Zwischen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Interceptor Schicht</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">So k√∂nnen Sie spezielle Einschr√§nkungen f√ºr eine Gruppe von Controllern erstellen, Daten vorab validieren und Fehler umbrechen.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Template Engine</font></font></h4><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn Sie nur Twig m√∂gen, k√∂nnen Sie durch diesen Abschnitt scrollen, einfach die Erweiterung installieren und vertraute Tools verwenden. </font><font style="vertical-align: inherit;">:) :)</font></font><br>
</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Lieferumfang ist die Stemper-Vorlagen-Engine bzw. eine Bibliothek zum Erstellen eines eigenen DSL-Markups enthalten. Insbesondere gibt es einen vollwertigen Lexer, mehrere Grammatiken, einen Parser und Zugriff auf AST (√§hnlich wie bei Nikitas PHP-Parser). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist m√∂glich, mehrere verschachtelte Grammatiken zu analysieren. So k√∂nnen Sie beispielsweise Laravel Blade-Direktiven und Ihr eigenes DSL-Markup (in Form von HTML-Tags) in derselben Vorlage verwenden. Es stellt sich so etwas wie Webkomponenten auf der Serverseite heraus. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir verwenden diese Komponente, um komplexe Schnittstellen mit einfachen Grundelementen und Regeln zu beschreiben.</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">extends:admin.layout.tabs</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"User Information"</span>/&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">use:bundle</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"admin/bundle"</span>/&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;<span class="hljs-name">ui:tab</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"info"</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"Information"</span>&gt;</span><font></font>
  User, {{ $user-&gt;name }}<font></font>
<span class="hljs-tag">&lt;/<span class="hljs-name">ui:tab</span>&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;<span class="hljs-name">ui:tab</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"data"</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"User Settings"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">grid:table</span> <span class="hljs-attr">for</span>=<span class="hljs-string">{{</span> $<span class="hljs-attr">user-</span>&gt;</span>settings }}&gt;
    <span class="hljs-tag">&lt;<span class="hljs-name">grid:cell</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"Key"</span>&gt;</span>{{ $key }}<span class="hljs-tag">&lt;/<span class="hljs-name">grid:cell</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">grid:cell</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"Value"</span>&gt;</span>{{ $value }}<span class="hljs-tag">&lt;/<span class="hljs-name">grid:cell</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">grid:table</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ui:tab</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es unterst√ºtzt die automatische Escape-Funktion mit Kontextunterst√ºtzung (z. B. konvertiert die Ausgabe von PHP im JS-Block automatisch Daten in JSON), Quellzuordnungen f√ºr die Arbeit mit Fehlern. </font><font style="vertical-align: inherit;">Vorlagen werden in optimierten PHP-Code kompiliert und dann direkt aus dem Anwendungsspeicher bereitgestellt.</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stemper kann vollst√§ndig mit dem DOM des Dokuments arbeiten (wenn auch langsamer, wenn Sie spezielle Tools verwenden).</font></font></blockquote><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rahmenentwicklung</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nat√ºrlich haben wir in mehr als einem Jahrzehnt der Entwicklung dieses Tools viele Fehler gemacht. Einige von ihnen wurden f√ºr die Ver√∂ffentlichung der zweiten Version korrigiert, w√§hrend der andere Teil eine √úberarbeitung des Konzepts einiger Komponenten erfordert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir werden auch nicht leugnen, dass einige Dinge eine Datei erfordern. Und einige Fragen m√∂gen f√ºr uns zum ersten Mal klingen. Obwohl die Dokumentation versucht, das Maximum an Komponenten abzudecken, kann sie an einigen Stellen immer noch durchh√§ngen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir sind offen f√ºr Kritik und Vorschl√§ge, da wir dieses Tool selbst aktiv nutzen. Der enorme R√ºckstand an Verbesserungen wird langsam von unserem Team und der Community behoben.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist viel Arbeit erforderlich, um den Zyklus zu verbessern und zu beschleunigen sowie Anforderungsfilter gem√§√ü den neuesten RFCs neu zu schreiben. </font><font style="vertical-align: inherit;">In der Entwicklung befindet sich eine Komponente zum Arbeiten und Emulieren von Schl√ºsselwertdatenbanken. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben es einfach nicht geschafft, viele Dinge aus der ersten Version zu √ºbersetzen. </font><font style="vertical-align: inherit;">Es ist geplant, ODM-Pakete, das Admin-Panel wiederherzustellen, einen guten Profiler zu schreiben usw.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Community und Links</font></font></h4> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie k√∂nnen sich bei unserer kleinen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Discord-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Community anmelden </font><font style="vertical-align: inherit;">. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Telegrammkanal</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Framework-Site</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Github-Framework</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Github Standardanwendung</font></font></a></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der gesamte Code wird unter der MIT-Lizenz vertrieben und unterliegt keinen Einschr√§nkungen f√ºr die kommerzielle Nutzung. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vielen Dank f√ºr Ihre Aufmerksamkeit. </font><font style="vertical-align: inherit;">Ich hoffe, unsere Tools sind in Ihren Projekten hilfreich!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de495210/index.html">Wie die Betr√ºger von Runet auf Coronavirus reagierten</a></li>
<li><a href="../de495212/index.html">Native Compilation in Quarkus - warum es wichtig ist</a></li>
<li><a href="../de495214/index.html">Im B√ºro von niemandem: Spiele auf einem entfernten Standort entwickeln</a></li>
<li><a href="../de495216/index.html">Remote lernen, verhandeln, beraten - Teil 2: Vinteo Server - 3 Monate kostenlose Videokonferenzen</a></li>
<li><a href="../de495220/index.html">Das Sonnensystem erhielt kurz nach seiner Entstehung seine derzeitige Konfiguration</a></li>
<li><a href="../de495226/index.html">In den meisten Unternehmensnetzwerken k√∂nnen Spuren von Hackern und verwandten Sicherheitsl√ºcken vorhanden sein</a></li>
<li><a href="../de495228/index.html">WebStorm 2020.1: Verbesserungen der Benutzeroberfl√§che, Vuex-Unterst√ºtzung und Starten von Prettier beim Speichern von Dateien</a></li>
<li><a href="../de495230/index.html">Interviewtechnik ‚ÄûMoSt‚Äú</a></li>
<li><a href="../de495232/index.html">Der 4. bis 5. April ist eine Auswahl f√ºr Online-Intensivkurse im Rahmen des Festivals RuCode</a></li>
<li><a href="../de495234/index.html">OpenStreetMap Public Dataset auf der Google Cloud Platform mit BigQuery SQL. OSM Layer Classifier</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>