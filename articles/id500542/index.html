<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🥒 👩🏻‍🌾 🔹 Retas Age of Empires III untuk mengubah pengaturan kualitas shader 🐇 ✊🏾 👼🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Awal Mei 2020 - jika Anda seperti saya, maka karantina membuat Anda mengulang game yang belum diluncurkan selama bertahun-tahun. 
 
 Dan jika Anda bah...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Retas Age of Empires III untuk mengubah pengaturan kualitas shader</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/500542/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Awal Mei 2020 - jika Anda seperti saya, maka karantina membuat Anda mengulang game yang belum diluncurkan selama bertahun-tahun. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan jika Anda bahkan lebih seperti saya, maka di suatu tempat Anda mungkin memiliki disk Age of Empires 3. tergeletak di sekitar. Mungkin Anda sedang bermain di Mac, mungkin Anda belum meng-upgrade ke Catalina dan ingin memerintah Morgan Black. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, Anda memulai permainan, masuk ke menu utama, dan segera perhatikan bahwa ada sesuatu yang salah ... Menu ini tampak </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menjijikkan</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5be/dfa/a66/5bedfaa660037faa86c176d9586f9d1a.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jika Anda bertanya-tanya apa sebenarnya “menjijikkan,” maka perhatikan airnya. </font><font style="vertical-align: inherit;">Segala sesuatu yang lain juga mengerikan, tetapi kurang jelas.</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/578/2d3/34f/5782d334f3be69385a0b69072ef6b7ed.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, Anda masuk ke opsi, naikkan semua parameter ke maksimum ... Tapi gamenya masih jelek. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda melihat bahwa opsi " </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kualitas Shader</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " curiga dikunci ke " </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rendah</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ."</font></font><br>
<a name="habracut"></a><br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mencoba No. 1 - parameter hack</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada titik ini, Anda mulai mencari folder game, yang seharusnya dibuat di suatu tempat di folder Documents, karena game itu pada tahun 2005, dan kemudian semua orang melakukannya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apa yang kita cari Tentu saja, file tempat parameter disimpan. Antarmuka menu tidak memungkinkan kita untuk mengubah pengaturan, tetapi kami rumit, kan? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami menemukan XML yang diperlukan, karena gim ini 2005 dan itu, tentu saja, XML, tempat kami menemukan opsi " </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">optiongrfxshaderquality</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ", yang disetel ke 0. Tampaknya kami sedang mencarinya, jadi kami meningkatkan nilainya menjadi 100, karena tidak ada banyak kualitas. Di sini saya setuju dengan Anda.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/61d/de5/d85/61dde5d85e5442f781fe9c4eaeb46a55.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anda juga mungkin memperhatikan bahwa ini adalah penggunaan XML yang buruk. Untungnya, ia tidak memiliki manfaat.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Puas dengan diri kita sendiri, kami meluncurkan game. Sayangnya, tidak ada yang berubah. Melihat lagi pada file XML, kita melihat bahwa parameter kembali diatur ke 0. Ensemble Studios (semoga tenang) terlihat dengan jijik sama sekali kecerdikan Anda. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah itu, kita </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bisa menyerah</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Ini adalah Mac, oleh karena itu, tambalan yang ditulis oleh pengguna tidak mungkin ditemukan (pada kenyataannya, saya memeriksa - ada semua jenis solusi yang meragukan yang mungkin berhasil). Semuanya tentang grafis. Tampaknya untuk memperbaiki masalah akan sulit.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tapi kami tidak akan menyerah. </font><font style="vertical-align: inherit;">Karena kita ingat seperti apa seharusnya usia 3. Kita ingat bagaimana kita mengagumi air bergelombang yang indah ini. </font><font style="vertical-align: inherit;">Efek partikel ini. </font><font style="vertical-align: inherit;">Ini kapal-kapal besar yang tidak cocok dengan bingkai. </font><font style="vertical-align: inherit;">Dan, hanya saja kamera diperbesar, apa yang baru saja saya pikirkan?</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mencoba No. 1 - meretas data</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di bagian paling awal folder di Dokumen ada file log. Gim ini menulis kartu grafis di sana dan melaporkan bahwa ia telah memilih pengaturan "generik dx7". Dikatakan bahwa Anda telah menginstal Intel GMA 950, yang sebenarnya ada di komputer sebelumnya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tetapi Anda memiliki Intel Iris Graphics 6100. Ada yang salah. Anda membuat asumsi - gim menentukan kemampuan grafis komputer, membandingkannya dengan basis data kartu grafis alih-alih memeriksa kemampuan kartu itu sendiri. Karena itulah yang dilakukan pengembang AAA, dan jika Anda bekerja pada </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RTS open-source</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , maka Anda tahu bagaimana ini terjadi.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b6e/8b3/fb2/b6e8b3fb28030917e8300cdce5653fac.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Isi file log. Jika Anda merasa lucu bahwa Intel ditetapkan sebagai 0x8086, maka Anda telah memilih artikel yang sesuai.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Secara kebetulan, Anda menemukan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">catatan tempel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> lama </font><font style="vertical-align: inherit;">yang mengkonfirmasi kekhawatiran Anda. Anda melihat ke dalam folder GameData, tetapi hanya ada </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">file .bar</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.xmb</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> yang sebagian besar tidak dapat dibaca. </font><em><font style="vertical-align: inherit;">Anda mencari</font></em><font style="vertical-align: inherit;"> grep " </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Intel</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " dan " </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dx7</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ". Tidak ada yang terjadi. Hapus beberapa file ... Tidak ada yang terjadi. Tapi Anda tahu bahwa game AAA dapat menyimpan beberapa sumber daya di tempat-tempat aneh, dan ini adalah port dari game Windows di Mac, jadi semuanya bisa sangat aneh di sini.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada akhirnya, Anda menemukan file "render.bar"; jika Anda memindahkannya, game akan mogok saat dimulai. Tidak terlalu jelas, tapi tidak buruk. Kami membuka file dalam </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hex Fiend</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , karena program ini biasanya memungkinkan Anda mempelajari sesuatu tentang file biner. Dan ternyata demikian. Bagian dari data ini adalah teks yang dapat dibaca. Beberapa dari mereka adalah shader. Tetapi sebagian besar data anehnya dibagi oleh ruang kosong ...</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9d1/3a2/6f5/9d13a26f5dfff14c2b44f59dbc69b673.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hex Fiend Interface Ini minimalis, tetapi berhasil. Byte pertama adalah huruf "ESPN", yang kemungkinan besar adalah header .bar.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Anda berseru: "Jelas, ini UTF-16!" Gim ini dibuat untuk Windows, jadi logis jika ia menyimpan teks dalam UTF-16, menghabiskan hampir setengah dari file data 30 megabyte. Lagi pula, Windows menyukai UTF-16 (walaupun </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">seharusnya tidak</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), jadi mengapa tidak menggunakan pengkodean ini dan ASCII shader dalam satu file. Itu ide yang logis! </font></font><br>
<br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Sebenarnya, saya butuh waktu sekitar satu hari untuk mengetahuinya)</font></font></em><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Hex Fiend memiliki opsi untuk mengurai byte seperti UTF-16, jadi sekali lagi kami mencari string grep dx7. Ada beberapa entri. Kami menggantinya dengan garis dx9, yang juga ditemukan dalam data, menyimpan file dan meluncurkan game.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ya Log lagi tidak menampilkan "dx9". Ini mungkin diatur di tempat lain. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita coba yang lain. Misalkan gim mengenali kartu grafis, dan pengidentifikasi heksadesimalnya disimpan dalam log (dalam kasus saya, 0x8086 adalah Intel, dan juga 0x2773). Kami mencari "8086" di Hex Fiend, kami menemukan sesuatu, dan bagian dari teks terlihat menjanjikan. Intel 9 Series adalah seri GMA 950, dan Usia 3 mungkin tidak bekerja dengan baik.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/af6/b22/f44/af6b22f4473691b673cb5dba2fd197f0.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beberapa angka seperti pengidentifikasi kartu (2582, 2592); mungkin jika Anda menggantinya, maka sesuatu akan berubah. Kami membuat salinan file, jadi Anda bisa mencoba. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sayangnya, ini juga jalan buntu. Sebenarnya, kami mempelajari file yang salah. Untungnya, saya dapat memberitahu Anda ini karena saya menghabiskan banyak waktu untuk itu dan mencoba </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">terlalu</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> banyak. Sialan ini butuh sekitar 20 jam. Dan ini belum termasuk waktu untuk semua tangkapan layar ... File yang </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
diinginkan disebut "DataP.bar", dan jika kita dengan bijak mengganti ID, kita akan melihat sesuatu yang sama sekali baru di log:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/445/e79/6a2/445e796a2ca507e1f1a056da1cbd30a3.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Saya tidak mengerti mengapa "generik DX7" ini tidak sama seperti pada tangkapan layar di atas. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tentu saja, dalam permainan kita masih dibatasi oleh pengaturan "Rendah", yaitu, log tidak berbohong. </font><font style="vertical-align: inherit;">Kami berharap untuk Medium, tapi </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sayangnya</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tampaknya lebih banyak dari data peretasan tidak dapat dicapai. </font><font style="vertical-align: inherit;">Sudah waktunya untuk mendapatkan alat dengan serius.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mencoba No. 2 - peretasan</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, jika tidak ada yang berhasil, kita memiliki satu hal lagi yang tersisa: untuk mengubah file yang dapat dieksekusi itu sendiri (yaitu, seperti yang mereka katakan pada tahun 2005, "crack" itu). </font><font style="vertical-align: inherit;">Tampaknya hari ini hanya disebut peretasan, tetapi istilah ini telah dipertahankan di bidang pembajakan game (tentu saja, saya pribadi </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tidak pernah</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> melakukan ini). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami beralih ke bagian paling menarik dari artikel (ya, Anda sudah membaca ribuan kata, tapi bukankah itu penasaran?).</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Disassembler Hopper</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada tahap ini, alat kami akan menjadi disassembler: aplikasi yang menerima kode biner dari file yang dapat dieksekusi dan mengubahnya menjadi kode assembler yang dapat dibaca (ha ha). Yang paling populer di antaranya adalah IDA Pro, tetapi harganya sangat mahal dan saya tidak yakin apakah itu berfungsi pada Mac, jadi saya akan menggunakan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hopper</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Ini tidak gratis (biaya $ 90), tetapi dapat digunakan secara bebas selama 30 menit sekaligus dengan hampir semua fungsi yang diperlukan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya tidak akan menjelaskan antarmuka secara rinci, karena </font><font style="vertical-align: inherit;">semuanya tersusun dengan baik </font><font style="vertical-align: inherit;">dalam </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tutorial Hopper</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , tetapi saya akan memberi tahu Anda apa yang akan saya lakukan dan mencoba mengambil tangkapan layar yang cukup sehingga Anda dapat mempelajari sesuatu.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertama, Anda perlu mengatakan: saya butuh lima hari untuk menyelesaikannya, dan banyak upaya yang gagal dilakukan. Pada dasarnya, saya akan berbicara tentang langkah-langkah sukses, jadi itu akan tampak ajaib. Tetapi itu </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sulit</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Jangan khawatir jika Anda memiliki masalah. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan satu lagi catatan: "cracking" paling sering ilegal dan / atau dilakukan untuk tujuan ilegal. Saya menunjukkan contoh yang agak jarang dari penggunaan yang cukup sah, yang pada saat yang sama sepenuhnya "topi putih", jadi semuanya beres di sini. Saya akan berasumsi bahwa, sebenarnya, ini ilegal / bertentangan dengan perjanjian pengguna akhir, tetapi, jelas, ini adalah kasus </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">force majeure</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Bagaimanapun, bayar untuk apa yang Anda suka, dan hanya untuk itu, karena anti-konsumerisme itu keren.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a04/597/b6a/a04597b6a9ad1979e14216547ecf61d6.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/db3/dfb/1e3/db3dfb1e3ec50890530001d69a22cdd2.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/605/66d/e69/60566de69653b745f83d196f56679263.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seret aplikasi Age 3 untuk membukanya. </font><font style="vertical-align: inherit;">Cukup pilih "x86" alih-alih powerPC, karena gim ini adalah sesuatu 2005.</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tahap 1 - mencari fragmen yang diinginkan</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anehnya, ini mungkin yang paling sulit. </font><font style="vertical-align: inherit;">Kami memiliki kode yang dibongkar, tetapi kami tidak tahu ke mana harus mencari. </font><font style="vertical-align: inherit;">Ya, beberapa game memiliki simbol debugging, sehingga Anda dapat membaca nama fungsi, tetapi tidak dalam kasus kami. </font><font style="vertical-align: inherit;">Hopper memberi kita nama seperti "sub_a8cbb6", yang harus kita tangani sendiri. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untungnya, kami memiliki kepala mulai: </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">file log</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> kami </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Sangat mungkin bahwa </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">string literal</font></a><font style="vertical-align: inherit;"> digunakan saat menulis ke log</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, yaitu, ASCII di-flash dalam file yang dapat dieksekusi. </font><font style="vertical-align: inherit;">Kami dapat mencarinya dengan grep, karena kami tidak akan menghapusnya dengan kompilasi apa pun (namun, mereka dapat disembunyikan dengan kebingungan kode. Untungnya, ini tidak terjadi.). </font><font style="vertical-align: inherit;">Menemukan literal string grep biasanya adalah hal pertama yang mereka lakukan ketika membongkar sebuah program. </font><font style="vertical-align: inherit;">Jadi, mari kita masukkan "vendor yang ditemukan" di kotak pencarian Hopper dan ia akan menemukan sesuatu:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/da7/114/b61/da7114b61ecba23df73633ad41ab338f.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Oh ya, string literal, saya memujanya. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini sendiri tidak terlalu memajukan kami. </font><font style="vertical-align: inherit;">Tetapi karena alamat "string literal" ini bersandi keras, kita dapat menemukan tautan ke sana. </font><font style="vertical-align: inherit;">Hopper menyorotnya dalam warna hijau di sebelah kanan: "DATA XREF = sub_1d5908 + 1252." </font><font style="vertical-align: inherit;">Mengklik dua kali pada garis, kita akan beralih ke pahlawan kita - prosedur </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sub_1d5908</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d6d/d6a/e8b/d6dd6ae8bbe346215273e7beb930b0a7.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini kita menemukan kode assembler. </font><font style="vertical-align: inherit;">Diyakini sulit untuk dibaca, tetapi tidak. </font><font style="vertical-align: inherit;">Hal yang paling sulit adalah memahaminya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Secara default, Hopper menggunakan "Intel syntax", yaitu operan pertama adalah penerima, dan yang kedua adalah sumber. </font><font style="vertical-align: inherit;">Pada baris yang disorot kita lihat </font></font><code>mov dword [esp+0x1DC8+var_1DC4], aXmlRenderConfi</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Mari kita lakukan.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Baris pertama kami di assembler</font></font></h2><br>
<code>mov</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adalah tim MOV yang dikenal dengan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T86-lengkap</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Ini memindahkan (sebenarnya menyalin) data dari A ke B, yang pada dasarnya berarti membaca A dan menulisnya ke B. Berdasarkan uraian di atas, </font></font><code>aXmlRenderConfi</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ini adalah A, dan </font></font><code>dword [esp+0x1DC8+var_1DC4]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ini adalah B, penerima. Mari kita lihat lebih dekat. </font></font><br>
<br>
<code>aXmlRenderConfi</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- ini adalah nilai yang Hopper membantu kami. Ini sebenarnya adalah alias untuk alamat memori string literal yang kami klik beberapa detik yang lalu. Jika Anda membagi jendela dan melihat kode dalam mode Hex (yang merupakan </font><font style="vertical-align: inherit;">mode yang </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">disukai</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> untuk peretas), kita akan melihat di sana </font></font><code>88 18 83 00</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0d3/d74/31d/0d3d7431d27f6a03c2af6142f27c9a9b.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hopper dengan mudah menyoroti fragmen terpilih yang sama di kedua jendela.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Jika nilai "flip" benar, maka kita akan mendapatkan 0x00831888 - alamat memori dari string literal (dalam salah satu tangkapan layar yang ditunjukkan di atas, bahkan disorot dengan warna kuning). Jadi, satu teka-teki terpecahkan: kode mengeksekusi MOV, yaitu menulis alamat 0x00831888. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mengapa ini ditulis sebagai </font></font><code>88 18 83 00</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, bukan bagaimana </font></font><code>00 83 18 88</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">? Ini terjadi karena </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">urutan byte</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - topik yang agak membingungkan yang biasanya berdampak kecil. Ini adalah salah satu hal yang membuat orang mengatakan bahwa "komputer tidak berfungsi." Bagi kami, ini berarti bahwa masalah ini akan terjadi di semua angka yang akan kami gunakan hari ini.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda mungkin memperhatikan bahwa saya mengatakan "tuliskan alamatnya", dan itu benar: kami tidak terlalu peduli dengan isinya, yang ternyata berupa string literal dengan nol byte di bagian akhir. Kami menuliskan alamat karena nanti kode akan merujuk ke alamat ini. Ini adalah sebuah pointer. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bagaimana dengan </font></font><code>dword [esp+0x1DC8+var_1DC4]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">? Semuanya lebih rumit di sini. </font></font><code>dword</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">artinya kita bekerja dengan "kata ganda (double-words)", yaitu, dengan 16 * 2 bit. Artinya, kami menyalin 32 bit. Ingat: alamat kami adalah</font></font><code>0x00831888</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, yaitu, 8 karakter heksadesimal, dan setiap karakter heksadesimal dapat memiliki 16 nilai, yaitu 4 bit data. Jadi kita mendapatkan 8 * 4 = 32. Omong-omong, notasi "32-bit" untuk sistem komputer datang dari sini. Jika kita menggunakan 64 bit, maka alamat memori akan ditulis sebagai 0x001122334455667788, akan dua kali lebih panjang dan 2 ^ 32 kali lebih besar, dan kita harus menyalin 16 byte. Jadi kita akan memiliki lebih banyak memori, tetapi menyalin pointer akan membutuhkan kerja dua kali lebih banyak, dan karena itu 64 bit sebenarnya tidak dua kali lebih cepat dari 32 bit. Ngomong-ngomong, penjelasan yang lebih rinci tentang istilah "kata" dapat ditemukan di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Karena itu, tentu saja, lebih rumit daripada penjelasan saya.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, bagaimana dengan bagian dalam tanda kurung? Tanda kurung berarti kita menghitung apa yang ada di dalamnya, dan menganggapnya sebagai penunjuk. Oleh karena itu, perintah MOV akan menulis ke alamat memori yang diperoleh dari perhitungan. Mari kita lihat lagi secara lebih detail (dan jangan khawatir, ketika Anda selesai dengan ini, Anda pada dasarnya akan tahu cara membaca kode assembler dengan sintaks Intel). </font></font><br>
<br>
<code>esp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">itu adalah </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">register</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> yang di assembler adalah yang paling dekat dengan variabel. Ada banyak register dalam arsitektur x86, dan register yang berbeda memiliki cara aplikasi yang berbeda, tetapi kami tidak akan terlalu peduli. Pelajari lebih lanjut tentang ini di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sini.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Perlu diketahui bahwa ada register khusus untuk angka floating point, serta "bendera" yang digunakan untuk perbandingan dan operasi serupa. Yang lainnya hanyalah angka heksadesimal yang Hopper ulang sedikit untuk membantu kami. </font></font><code>var_1DC4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- ini </font></font><code>-0x1DC4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, kita bisa melihatnya di awal prosedur, atau di panel kanan. Ini berarti bahwa hasil perhitungan </font></font><code>[esp+0x1DC8+var_1DC4]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">akan </font></font><code>[esp + 0x1DC8 — 0x1DC4]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sama dengan </font></font><code>[esp + 4]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Intinya, ini berarti "ambil nilai 32-bit dari register ESP, tambahkan 4, dan interpretasikan hasilnya sebagai alamat memori." </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, kami ulangi: kami menulis alamat string literal di "esp + 4". Ini informasi yang benar, tetapi sama sekali tidak berguna. Apa artinya ini?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini adalah kesulitan dalam membaca kode assembly: di parsing apa yang harus dilakukan. </font><font style="vertical-align: inherit;">Di sini kita memiliki awal: kita tahu bahwa dia kemungkinan besar menulis sesuatu ke log. </font><font style="vertical-align: inherit;">Oleh karena itu, kita dapat mengharapkan panggilan ke fungsi yang menulis ke log. </font><font style="vertical-align: inherit;">Mari kita cari dia.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c57/7f8/827/c577f8827feb59247a7c69ed0467fef2.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada tangkapan layar di atas, ada beberapa panggilan serupa, serta perintah </font></font><code>call</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yang memanggil prosedur. </font><font style="vertical-align: inherit;">Hopper biasanya membicarakan hal ini (saya tidak tahu mengapa dia tidak melakukannya di sini), tetapi pada dasarnya, kami memberikan argumen untuk memanggil fungsi. </font><font style="vertical-align: inherit;">Jika Anda mengeklik panggilan subrutin yang berbeda, kami menemukan sesuatu yang disebut imp___jump_table___Z22StringVPrintfExWorkerAPcmmPS_PmmPKcS_. </font><font style="vertical-align: inherit;">Ini adalah </font><font style="vertical-align: inherit;">nama yang </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diterjemahkan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dari fungsi, dan bagian "Printf" sudah cukup untuk memahami bahwa itu benar-benar menghasilkan sesuatu. </font><font style="vertical-align: inherit;">Kami tidak peduli bagaimana dia melakukannya.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ambil langkah mundur</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada tahap ini, kami sepenuhnya menyimpang dari apa yang kami lakukan: kami mencoba meyakinkan permainan bahwa kartu grafis 2015 kami cukup kuat untuk meluncurkan permainan 2005. Mari kita simpulkan. Kami menemukan tempat di mana log sedang direkam. Jika kita beruntung, maka di sini adalah kode yang memeriksa parameter dan kemampuan kartu grafis. Untungnya, kami benar-benar beruntung (ada kemungkinan besar kalau tidak, artikel ini tidak akan). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk mendapatkan gambaran besar, kita akan menggunakan fungsi Grafik Alur Kontrol Hopper, yang memecah kode menjadi blok kecil dan menggambar panah yang menunjukkan transisi yang berbeda. Ini jauh lebih mudah dipahami daripada di assembler biasa, di mana seringkali semuanya berantakan.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e3a/4bd/1b1/e3a4bd1b1528d0344f4f1174b16be79c.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Panggilan ke entri log berada di tengah fungsi yang sangat panjang, karena ini, sekali lagi, biasanya terjadi di game AAA. </font><font style="vertical-align: inherit;">Di sini kita harus mencari literal string dan "petunjuk" Hopper lainnya, berharap menemukan sesuatu. </font><font style="vertical-align: inherit;">Pada awal prosedur adalah sisa dari logging, dan di bawah ini ada bagian yang menarik tentang parameter "memaksa dx7" dan "Sangat Tinggi", serta masalah dengan versi pixel shaders ... </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yang kita miliki.</font></font></em><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Log dari data "diretas" kami melaporkan bahwa kami memiliki pixel shaders versi 0.0, dan mereka tidak kompatibel dengan parameter "Tinggi". </font><font style="vertical-align: inherit;">Kode ini terletak di sudut kiri bawah fungsi kami, dan jika Anda melihat lebih dekat, Anda dapat melihat sesuatu yang aneh (disorot oleh pelayan Anda yang rendah hati): ini adalah kode yang sama empat kali diulang untuk parameter "Sangat Tinggi", "Tinggi", "Sedang" dan "Rendah". </font><font style="vertical-align: inherit;">Dan ya, saya butuh beberapa jam untuk menemukan ini.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/27b/132/603/27b13260328e5da3cbef4323e840563f.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Saya menyoroti dengan warna biru blok di mana "pixel shader versi 0.0 High" ditampilkan dalam log. Saya menyoroti bagian yang serupa dengan warna-warna indah lainnya.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Satu-satunya perbedaan adalah bahwa kita menulis "0x0", "0x1", "0x2" dan "0x3" di tempat yang berbeda. Ini mencurigakan mirip dengan file parameter yang kami periksa di atas dan parameter </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">qualitygrfxshaderquality</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Anda mungkin belum memahami ini. Tapi, percayalah). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada tahap ini, kita dapat mencoba untuk pergi dengan cara yang berbeda, yang saya lakukan. Tapi saya akan singkat - kami akan melakukan yang paling penting: cari tahu mengapa verifikasi piksel shader gagal. Mari kita mencari cabang. Blok output ke log adalah linear, yang berarti harus berada di suatu tempat di atas.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/724/d53/3a7/724d533a7f9af2353f611c6bea4f15b7.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Penggemar SEMVER, lihat format versi lebih lanjut: angka floating point.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Dan pada kenyataannya, tepat di atasnya ada </font></font><code>jb</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">perintah transisi (pikirkan "goto"). Ini adalah " </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lompatan bersyarat</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ", dan kondisinya adalah " </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jika kurang</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ." Assembler "ifs" bekerja melalui </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">flag register</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , yang secara singkat saya bicarakan di atas. Cukup hanya untuk mengetahui bahwa kita perlu melihat perintah di atas: kemungkinan besar, ia menentukan benderanya. Seringkali ini adalah perintah </font></font><code>cmp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">atau </font></font><code>test</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, tetapi digunakan di sini </font></font><code>ucomiss</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Ini barbarisme. Tapi dia dengan mudah googles: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ucomiss</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Ini adalah perintah perbandingan titik mengambang, dan ini menjelaskan mengapa kode memiliki</font></font><code>xmm0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: Ini adalah daftar nomor floating point. Ini logis: log melaporkan bahwa versi pixel shaders kami adalah "0,0", yang merupakan nilai floating-point. Jadi apa yang terletak di alamat memori 0x89034c? Data heksadesimal memiliki tampilan </font></font><code>00 00 00 40</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan dapat membingungkan. Tetapi kita tahu bahwa kita harus mengharapkan angka floating point, jadi mari kita menafsirkan data seperti itu: itu artinya </font></font><code>2.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Yang merupakan nilai floating point logis untuk versi pixel shader yang sebenarnya digunakan Microsoft dalam </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bahasa Shading Tingkat Tinggi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">di mana DirectX shader ditulis. </font><font style="vertical-align: inherit;">Dan Age 3 adalah game DirectX, meskipun port di Mac menggunakan OpenGL. </font><font style="vertical-align: inherit;">Adalah logis juga bahwa pada tahun 2005 pixel shaders versi 2.0 diperlukan untuk mengaktifkan parameter Tinggi, jadi kami bergerak ke arah yang benar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bagaimana cara kita memperbaikinya? </font><font style="vertical-align: inherit;">Instruksi perbandingan ini melakukan perbandingan dengan nilai di </font></font><code>xmm0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yang diberikan pada baris di atas: </font></font><code>movss xmm0, dword [eax+0xA2A8]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">MOVSS adalah perintah "pindah" khusus untuk register floating point, dan kami menulis 32 bit dari alamat, yang merupakan hasil dari evaluasi eax + 0xA2A8. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agaknya, nilai ini bukan 2,0, melainkan 0,0. </font><font style="vertical-align: inherit;">Mari kita perbaiki.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Melakukan peretasan nyata</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Akhirnya, kami siap untuk menuju ke parameter permainan Tinggi. Kami ingin menyusuri jalur "merah" dan melewati semua logika dengan "versi pixel shaders" yang salah. Ini dapat dilakukan dengan berhasil melewati perbandingan, yaitu dengan membalik kondisi transisi, tetapi kami memiliki satu trik lagi: kode tersebut disusun sedemikian rupa sehingga ketika menghapus transisi kita akan pergi dengan cara "merah". Mari kita ganti transisi dengan </font></font><code>nop</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">operasi yang tidak menghasilkan apa-apa (tidak mungkin menghapus atau menambah data ke file yang dapat dieksekusi karena offset akan terjadi dan semuanya akan rusak). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya sarankan keluar dari CFG untuk ini, karena kalau tidak Hopper mulai menjadi gila. Jika semuanya dilakukan dengan benar, maka di jendela Hex kita akan melihat garis merah.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/903/09d/db2/90309ddb2fecf42031e8bf9d4a6abe88.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/010/d39/b35/010d39b355b0cb7e5b55fc83007e17ae.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Merah menunjukkan perubahan yang telah kami buat. </font><font style="vertical-align: inherit;">Pada titik ini, jika Anda membayar Hopper, Anda cukup menyimpan file. </font><font style="vertical-align: inherit;">Tetapi saya tidak membayar, jadi saya akan membuka file yang dapat dieksekusi di Hex Fiend, menemukan area yang diinginkan (dengan menyalin area dari Hopper ke tab Temukan di dalam Hex Fiend) dan mengubahnya secara manual. </font><font style="vertical-align: inherit;">Hati-hati di sini, Anda dapat merusak semuanya, jadi saya sarankan menyalin file executable sumber di suatu tempat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah melakukan ini, mulai permainan, buka opsi ... Dan sorak-sorai - kita dapat memilih "Tinggi". </font><font style="vertical-align: inherit;">Tapi kita tidak bisa memilih "sedang". </font><font style="vertical-align: inherit;">Dan kita tidak bisa menggunakan parameter tinggi dari bayangan. </font><font style="vertical-align: inherit;">Namun demikian, kami membuat kemajuan!</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3df/3a2/bba/3df3a2bbaa02e57ce2997e53137bdb56.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lihat saja pantulan menakjubkan di dalam air!</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perangkat tambahan</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bahkan, Anda dapat memperbaikinya dengan cara terbaik. Solusi kami berfungsi, tetapi kami dapat membuatnya agar kondisinya terpenuhi dengan benar: membuat permainan berpikir bahwa kartu grafis kami sebenarnya memiliki shader versi 2.0. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti yang kita ingat, game memuat nilai di alamat </font></font><code>eax+0xA2A8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Anda dapat menggunakan Hopper untuk mengetahui apa yang semula direkam di sana. Kita perlu menemukan perintah di mana 0xA2A8 digunakan sebagai operan penerima (saya memilih 0xA2A8 karena ini adalah nilai yang cukup spesifik, dan kami tidak dapat memastikan bahwa register yang sama tidak digunakan di tempat lain). Di sini lampu latar Hopper sangat berguna bagi kami, karena kami cukup mengklik 0xA2A8 dan mencari bagian kuning di CFG.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bbd/5ed/75b/bbd5ed75b7b712a39861769efc3f63cd.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kemenangan kami sedikit lebih tinggi: seperti yang diharapkan, kami menulis nilai semacam register floating-point. Saya akui bahwa saya tidak terlalu mengerti apa yang terjadi sebelum ini (tebakan terbaik saya: permainan memeriksa kemungkinan kompresi tekstur), tetapi ini tidak terlalu penting. Mari kita menulis "2.0" dan melanjutkan pekerjaan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk melakukan ini, kita akan menggunakan "Assemble instruksi" dari aplikasi Hopper, dan kemudian melakukan manipulasi yang sama di Hex Fiend.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/92d/3d1/637/92d3d1637e2c46321c9983f68ffda742.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/784/a8f/f5b/784a8ff5bb2755f378143d4740d4201f.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9b6/fed/ff0/9b6fedff0d7cbbeb9713c34513776468.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kami menggunakan MOV daripada MOVSS karena kami menulis nilai biasa, dan bukan nilai khusus register floating-point. Selain itu, itu dalam urutan byte langsung, yaitu, terbalik.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Anda akan melihat bahwa sesuatu yang aneh sedang terjadi: kami "memakan" tim </font></font><code>jb</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Itu terjadi karena perintah baru membutuhkan lebih banyak byte daripada yang sebelumnya, dan seperti yang saya katakan, kita tidak dapat menambah atau menghapus data dari yang dapat dieksekusi untuk menghemat offset. Karena itu, Hopper tidak punya pilihan selain menghancurkan tim </font></font><code>jb</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Ini bisa menjadi masalah, dan kita bisa menghilangkannya dengan memindahkan perintah (setelah semua, kita tidak perlu lagi menulis nilai xmm3). Ini akan bekerja di sini, karena bagaimanapun, kami melakukan percabangan di jalan yang benar. Beruntung.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda memulai permainan ... maka tidak ada yang akan berubah banyak. </font><font style="vertical-align: inherit;">Saya menyarankan bahwa seri Intel 9 tidak cukup cepat, sehingga permainan mengeluh. </font><font style="vertical-align: inherit;">Ini bukan masalah, karena pada kenyataannya kami berjuang untuk "Sangat Tinggi". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apa kartu yang paling kuat di sekitar tahun 2004? </font><font style="vertical-align: inherit;">NVIDIA GeforceFX 6800. Mari menipu kita untuk meyakinkan gim yang telah kita pasang.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Masuk kedalam lubang kelinci</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ya, ini adalah bagian yang sama sekali baru. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kita tahu bahwa permainan menggunakan kode Hex untuk merujuk ke kartu grafis, dan bahwa ia menerima informasi dari file data. Kita tahu bahwa ini harus terjadi dalam fungsi yang kita pelajari (setidaknya itu akan aneh jika tidak). Jadi kita dapat menemukan kode yang melakukan ini. Tapi itu masih bisa sulit, karena kita tidak tahu persis apa yang harus dicari. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami memiliki satu petunjuk: opsi berperilaku aneh, ada Rendah / Tinggi, tetapi tidak ada Medium. Jadi mungkin ada kode lain yang menangani semua ini "Sangat Tinggi", "Tinggi", "Sedang" dan "Rendah". Dan dia sebenarnya, dalam fungsi yang sama. Dia jauh lebih awal di CFG, dan sepertinya menarik.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e73/73a/ea1/e7373aea138358b603c609d8704cfed0.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kita dapat mengasumsikan bahwa data mentah disimpan dalam beberapa jenis XML, karena sangat mungkin, karena ada beberapa file data lain yang merupakan XML. Dan XML pada dasarnya adalah sekelompok petunjuk dan atribut. Oleh karena itu, kode di sini kemungkinan besar memeriksa beberapa atribut XML (dan pada kenyataannya, di bawah ini adalah "yang diharapkan dari ID, Sangat Tinggi ...", yang sangat mirip dengan memeriksa kebenaran file). Kita dapat membayangkan struktur XML serupa di mana nilai Boolean menentukan kualitas shader:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4e8/bf7/411/4e8bf7411dd677f1415ae71c887cbef5.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perlu mempertimbangkan bahwa ini adalah tebakan yang sangat sewenang-wenang. </font><font style="vertical-align: inherit;">Semuanya mungkin terlihat sedikit berbeda. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bagian yang sangat menarik ditampilkan di sisi kiri CFG (untuk Anda itu bisa di sebelah kanan, tetapi ditampilkan di sebelah kiri di tangkapan layar): kita melihat yang sama </font></font><code>var_CC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yang digunakan dalam kode yang menulis ID perangkat ke log. </font><font style="vertical-align: inherit;">Artinya </font></font><code>ebp+var_CC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, mungkin merujuk pada ID perangkat kami, 0x2773. </font><font style="vertical-align: inherit;">Yang aneh adalah bahwa tidak ada string literal di "cek" pertama, tetapi ini adalah bug Hopper: alamat 0x0089da8e berisi data heksadesimal 69006400, yang dalam UTF-16 singkatan dari "id" (pada kenyataannya, mungkin Hopper tidak dapat memahami ini karena UTF16). </font><font style="vertical-align: inherit;">Dan kami </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hanya</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mencari ID. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kamu tahu apa? </font><font style="vertical-align: inherit;">Mari kita jalankan debugger dan periksa semuanya dalam kenyataan.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Game debugging</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Buka jendela terminal dan jalankan lldb (cukup ketik lldb dan tekan enter). Pertama kita harus memberitahu LLDB untuk mengikuti Usia 3, dan kemudian kita bisa memulai permainan dengan menelepon </font></font><code>run</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Permainan dimulai, dan kami tidak mendapatkan apa pun yang berguna.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/47b/0f2/279/47b0f227957a0414bc739002abafb432.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang kita perlu menambahkan breakpoint: untuk mengkonfirmasi asumsi kita, kita ingin menghentikan eksekusi ketika kita sampai pada kode yang ditunjukkan di atas. Kami tidak memiliki kode sumber, tetapi itu tidak masalah: kami dapat menetapkan breakpoint di alamat memori. Dan kami memiliki alamat dalam kodenya. Mari kita tambahkan berhenti untuk panggilan MOV yang menerima "id", alamatnya adalah 0x001d5e68. Untuk menambahkan breakpoint, cukup masukkan </font></font><code>br set -a 001D5E68</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Setelah memulai permainan, itu berhenti dan LLDB menunjukkan kode yang dibongkar (dalam sintaks AT&amp;T, bukan Intel, jadi semua operan terbalik, tetapi kami melihat bahwa ini adalah kode yang sama). Anda mungkin memperhatikan bahwa LLDB dalam hal ini sebenarnya lebih pintar daripada Hopper; dia memberi tahu kami bahwa kami sedang melakukan operasi yang terkait dengan XML dan output printf.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cd0/2fa/07c/cd02fa07c9a2dbd13ed07558f0983595.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/95d/fa6/710/95dfa671088f1c7097b439851f586b24.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Merasa seperti seorang hacker? </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk melanjutkan, mari kita ambil "instruksi langkah". </font><font style="vertical-align: inherit;">Perintah singkat untuk ini </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 adalah </font></font><code>ni</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Mengulangi beberapa kali, kami perhatikan bahwa kami kembali ke tempat kami mulai. </font><font style="vertical-align: inherit;">Ini adalah sebuah siklus! </font><font style="vertical-align: inherit;">Dan ini sepenuhnya logis: kita mungkin beralih ke beberapa jenis XML. </font><font style="vertical-align: inherit;">Faktanya, Hopper menunjukkan ini kepada kita - jika kita mengikuti CFG, kita akan melihat siklus (kemungkinan).</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/70f/63f/fdd/70f63ffddb8c3c073dcc257af70581d8.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ini berarti:</font></font><code>if (*(ebp+var_CC) == *(ebp+var_28)) { *(ebp+var_1D84)=edi }</code></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Kondisi keluarnya adalah nilainya </font></font><code>ebp+var_1D84</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tidak nol. </font><font style="vertical-align: inherit;">Dan kita melihat parameter kode yang menarik dalam kode yang disorot oleh saya </font></font><code>var_CC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita tambahkan breakpoint yang satu ini </font></font><code>cmp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan kita akan mengetahuinya.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9a3/c32/d3a/9a3c32d3a01dd202e192648f5ef6609c.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/593/bc4/34d/593bc434d505cb29799846d61cb177bb.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kiri: atur breakpoint pada CMP dan lanjutkan eksekusi. Di sebelah kanan, kami memantau register dan memori.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Kami melihat register dengan </font></font><code>reg r</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, dan nilai memori dengan </font></font><code>mem read $ebp-0x28</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><code>eax</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan sebenarnya mengandung 0x2773, dan nilai dalam memori sekarang 0x00A0. Jika kami menjalankannya beberapa kali </font></font><code>thread c</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, maka kami akan melihat bahwa iterasi terjadi pada ID yang berbeda untuk mencari kecocokan. Pada tahap tertentu, nilai-nilai akan bertepatan, loop akan keluar, dan permainan akan dimulai. Sekarang kita tahu cara mengelolanya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ingat file log: itu mengidentifikasi perangkat dan pabrikan. Mungkin di suatu tempat ada siklus serupa untuk nama-nama produsen. Dan pada kenyataannya, ini sangat mirip dan terletak di CFG tepat di atas siklus kami. Loop ini sedikit lebih sederhana, dan kami mencari string "vendor". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kali ini perbandingan dilakukan dengan</font></font><code>var_D0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Variabel ini sebenarnya digunakan sebagai ID pabrikan. </font><font style="vertical-align: inherit;">Jika kita meletakkan breakpoint di sini dan memeriksa semuanya, kita akan melihat 0x8086 yang familier di </font></font><code>eax</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, dan pada saat yang sama, perbandingan dengan 0x10DE sedang terjadi. </font><font style="vertical-align: inherit;">Mari kita tulis </font></font><code>eax</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan lihat apa yang terjadi.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e4a/014/fd5/e4a014fd58bcc6408f48de1411db83b8.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/03b/9ce/7d0/03b9ce7d056048ecdf69987c3e8d774a.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wow. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yaitu, 0x10DE adalah NVIDIA. </font><font style="vertical-align: inherit;">Sebenarnya, orang bisa memahami ini ketika mempelajari file data, tetapi itu tidak terlalu menarik. </font><font style="vertical-align: inherit;">Sekarang pertanyaannya adalah: apa pengidentifikasi GeforceFX 6800? </font><font style="vertical-align: inherit;">Kita dapat menggunakan LLDB dan hanya memeriksa setiap pengenal, tetapi itu akan memakan waktu (ada banyak dari mereka, saya mencoba menemukan yang tepat). </font><font style="vertical-align: inherit;">Jadi mari kita lihat render.bar kali ini.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cbc/605/7f4/cbc6057f454e5ee95865324fea40e271.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Misalkan ini adalah "XMB", representasi biner dari XML yang digunakan di Usia 3.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
File ini sangat kacau. Tetapi setelah tag Geforce FX 6800, kami melihat beberapa pengidentifikasi. Kemungkinan besar, kita membutuhkan salah satunya. Mari kita coba 00F1. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cara termudah untuk menguji ini adalah dengan menggunakan LLDB dan mengatur breakpoint yang diinginkan. Saya akan melewatkan langkah ini, tetapi saya akan mengatakan bahwa 00F1 muncul (untungnya). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada tahap ini, kita perlu menjawab pertanyaan: "Bagaimana membuat perubahan ini permanen?" Tampaknya akan lebih mudah untuk mengubah nilai </font></font><code>var_CC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan </font></font><code>var_D0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pada 0X00F1 dan 0X10DE. Untuk melakukan ini, kita hanya perlu mendapatkan ruang untuk kode.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Solusi sederhana adalah mengganti salah satu panggilan rekaman log dengan NOP, misalnya, panggilan subsistem. </font><font style="vertical-align: inherit;">Ini akan membebaskan kita beberapa puluh byte, dan ini bahkan lebih dari yang diperlukan. </font><font style="vertical-align: inherit;">Mari kita pilih semua ini dan ganti dengan NOP. </font><font style="vertical-align: inherit;">Maka kita hanya perlu menulis informasi menggunakan variabel MOV: assembler </font></font><code>mov dword [ebp+var_CC], 0xF1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan </font></font><code>mov dword [ebp+var_D0], 0x10DE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e6f/eb6/d19/e6feb6d1903ca8305714594fe1911413.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/79c/096/783/79c096783f59920be40a85fdac85f44f.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sebelum dan sesudahnya</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Mari kita jalankan permainan. </font><font style="vertical-align: inherit;">Akhirnya, kami telah mencapai sesuatu: Anda dapat memilih dari Rendah, Sedang atau Tinggi, serta mengaktifkan parameter Tinggi untuk bayangan.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/370/8b5/7cb/3708b57cb8d0d5e405e54e4c5ee99eb8.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tapi kami masih tidak bisa mengaktifkan Sangat Tinggi, dan ini menyedihkan. </font><font style="vertical-align: inherit;">Apa yang terjadi?</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e16/2e6/732/e162e673279757ba3cac035fa5f9b0f6.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ah, mengerti.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ternyata, Geforce FX 6800 harus mendukung versi 3.0 pixel shader, dan kami hanya mengatur versi 2.0. Sekarang mudah bagi kami untuk memperbaikinya: cukup tulis 3.0 floating point </font></font><code>ebp+0xA2A8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Nilai ini adalah 0x40400000. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Akhirnya, permainan tidak lagi berubah-ubah, dan kami dapat menikmati pengaturan Sangat Tinggi.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f3c/24e/2c1/f3c24e2c156feb16f1d34bf67aa33d5a.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aneh, tetapi terlihat sangat berbeda. Warnanya jauh kurang cerah, dan kabut yang bergantung pada jangkauan telah muncul. Ada juga masalah kecil konflik bayangan (itu juga di screenshot di atas, ini disebabkan oleh parameter bayangan tinggi, bukan kualitas shader), yang saya belum dapat menyelesaikannya.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Dan ini adalah akhir dari perjalanan kami, terima kasih sudah membaca. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selain itu, saya akan memberikan contoh bagaimana masing-masing parameter dalam permainan terlihat, karena semua tangkapan layar yang ditemukan online mengerikan atau tidak lengkap. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Grafik pada Medium cukup dapat diterima, tetapi tidak memiliki bayangan. Sejauh yang saya tahu, Sangat Tinggi untuk sebagian besar menambahkan LUT yang sama sekali berbeda (penjelasan yang baik tentang istilah ini dapat ditemukan di bagian Color Grading dari </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">artikel ini.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), kabut di kejauhan, dan mungkin bahkan model pencahayaan yang sama sekali berbeda? </font><font style="vertical-align: inherit;">Gambarannya sangat berbeda, dan agak aneh.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b5a/ed3/00d/b5aed300d967d53f67bf3e8798615525.jpg"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1c8/0b8/bd7/1c80b8bd77a9cdfb4fdbd1da13146035.jpg"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/45a/73b/776/45a73b7760497a9424b4e92984071e2c.jpg"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/817/12a/54c/81712a54ca17e71925eea886f628db3f.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dari atas ke bawah: Sangat-Tinggi, Tinggi (dengan opsi Bayangan tinggi), Sedang (hanya dengan bayangan diaktifkan), Rendah (dengan bayangan dinonaktifkan).</font></font></i><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tautan bermanfaat lainnya</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Blog yang saya tautkan di atas berisi analisis yang luar biasa dari jaringan pipa rendering modern: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.adriancourreges.com/blog/</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Rate 0 AD adalah game RTS open-source dengan genre yang sama: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://play0ad.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Dia membutuhkan pengembang. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda ingin tahu lebih banyak tentang format XMB, Anda dapat membaca </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kodenya dalam 0 AD</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Saya tidak memeriksa, tetapi saya cukup yakin bahwa ini adalah format yang sama, karena orang yang menulis </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dekoder XMB untuk Age 3 di Age of Empires heaven</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> juga mengimplementasikan file-file ini dalam kode sumber 0 AD pada tahun 2004. Jadi ini akan menjadi pelajaran yang menyenangkan dalam paleontologi kode. Terima kasih untuk semua pekerjaannya, Ykkrosh.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya ingat persis bahwa saya membaca tutorial yang sangat baik tentang penggunaan Hopper, tetapi sekarang saya tidak dapat menemukan tautannya. </font><font style="vertical-align: inherit;">Jika ada yang tahu apa yang saya bicarakan, lepaskan tautannya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada akhirnya, saya ingin menyebutkan proyek Cosmic Frontier: pembuatan ulang seri Escape Velocity klasik (lebih dari Override, tetapi juga kompatibel dengan Nova). </font><font style="vertical-align: inherit;">Ini adalah permainan yang luar biasa, dan sangat menyedihkan bahwa hanya sedikit orang yang mengetahuinya. </font><font style="vertical-align: inherit;">Sekarang pencipta telah meluncurkan kampanye di Kickstarter, dan pengembang utama memiliki </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">blog</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pengembang yang sangat menarik </font><font style="vertical-align: inherit;">, yang berbicara tentang penggunaan Hex Fiend untuk membalikkan format data insinyur dari game asli. </font><font style="vertical-align: inherit;">Ini bacaan yang bagus. </font><font style="vertical-align: inherit;">Jika Anda pikir </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">artikel saya</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gila. </font><font style="vertical-align: inherit;">kemudian di salah satu postingan mereka:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kami meluncurkan emulator Mac klasik untuk menggunakan API lama usang untuk membaca file data yang dienkripsi.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Membalikkan enkripsi rekayasa dari kode permainan</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mereka menggunakan sistem file hack untuk mengakses data yang sama di Mac modern.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ya, ini adalah orang-orang yang benar-benar bersemangat, dan saya berharap proyek mereka akan berhasil diselesaikan, karena EV Nova adalah permainan favorit saya.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id500516/index.html">Transfer cepat dari pesan instan - QIWI Android Wallet</a></li>
<li><a href="../id500518/index.html">Iterasi memperkenalkan scrum di sebuah perusahaan</a></li>
<li><a href="../id500520/index.html">Cara membuat aplikasi Anda digunakan di seluruh dunia: 10 tips dari CEO Wachanga</a></li>
<li><a href="../id500528/index.html">Tentang terjemahan "latihan" / "kepraktisan" tanpa praktik / praktis</a></li>
<li><a href="../id500530/index.html">Memo API Canvas</a></li>
<li><a href="../id500546/index.html">Buat dokumen tabel sederhana menggunakan ODF Toolkit</a></li>
<li><a href="../id500552/index.html">Cara mempercepat tinjauan kode</a></li>
<li><a href="../id500554/index.html">Templat server backend Golang - bagian 2 (REST API)</a></li>
<li><a href="../id500556/index.html">Dua tahun transformasi digital dalam dua bulan</a></li>
<li><a href="../id500558/index.html">Pilihan artikel tentang pembelajaran mesin: studi kasus, panduan dan penelitian untuk April 2020</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>