<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩‍❤️‍👨 🥨 🗾 サーバーにGoogleフォントを保存する必要がありますか？ 🔍 👨🏿‍🎤 🌙</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="過去数週間、偶然に仕事やサードパーティのプロジェクトで、私はWebフォントについて多くを学び、特にGoogleフォントについて多くの新しいことを学びました。これにより、以前は簡単に思えた質問に対して、より詳細な回答をすることができます。サーバーにGoogleフォントを保存する必要がありますか？
 
...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>サーバーにGoogleフォントを保存する必要がありますか？</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/vdsina/blog/490366/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">過去数週間、偶然に仕事やサードパーティのプロジェクトで、私はWebフォントについて多くを学び、特にGoogleフォントについて多くの新しいことを学びました。これにより、以前は簡単に思えた質問に対して、より詳細な回答をすることができます。サーバーにGoogleフォントを保存する必要がありますか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
客観的に言えば、フォントは私の得意ではないことを認めます。私はより実用的なアプローチを好み、デザインに重点を置かず（このサイトを見て、それを確認します）、それまでは非標準フォントを使用する必要性を感じていませんでした。もちろん、彼らは少し見栄えがよく、テキストを「ブランド化」します。しかし、本文については、それらにはほとんど意味がありません。投稿に美しいフォントが使用されたという理由だけで、記事を評価したことはありません（またはそのコンテンツに異なる関連がありました）。しかし、追加のフォントがパフォーマンスとページの読み込み速度に与える悪影響を十分に認識していたため、おそらくこれが原因であると思います。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、多くの人が私に同意しない場合があり、フォントは、個人的に重要かどうかに関係なく、他の多くの開発者によって定期的に使用されており、選択の余地がないことがよくあります。</font><font style="vertical-align: inherit;">サイトの速度を落とさないために何ができるかを見て、デザイナーを満足させましょう。</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">セルフホスト型と外部リソース</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
数年前は、CDNを使用して共有リソースを接続するのが一般的であると考えられていました（たとえば、jQueryと</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">code.jquery.comの接続</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -そして</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://almanac."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はい、彼らはまだそれを非常に多く使用しています</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。明確にするために、ここではCDNとは、自分のCDNではなく、他の誰かのドメインからリソースをロードすることを意味します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その理由は、ブラウザーが各ドメインへの接続数を制限しているため（通常は6接続まで）、別のドメインを使用すると、さらに6つの接続が提供されるためです。これは、過去（特に制限が6ドメイン未満の場合）に当てはまり、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://www.tunetheweb.com/security/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTTPS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が標準になる</font><font style="vertical-align: inherit;">前</font><font style="vertical-align: inherit;">は、</font><font style="vertical-align: inherit;">接続</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コストが大幅に増加していました</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。さらに、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://www.tunetheweb.com/performance/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTTP / 2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">実際には1つの接続を使用することでメリットが得られるため（多くの場合！）、他のドメインを使用すると、取得ではなくパフォーマンスが低下することがよくあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同じことを実現する別の方法は、メインドメインを1つ以上のテクニカルサブドメイン（assets.example.comなど）でシャーディングすることでした。この場合、フォントはメインドメインに表示されず、ウェブページが読み込まれます。それでも、この方法には同じ接続の問題があるため、以前のようにパフォーマンスを向上させることはできません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
パブリックCDNのもう1つの利点は、訪問者がすでにこのバージョンの条件付きjQueryをキャッシュに持っている可能性が高いことです。しかし、これも多すぎると私は確信しています。非常に多くのライブラリとそのバージョンがあり、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://www.speedshop.co/2015/11/05/page-weight-doesnt-matter.html&amp;usg=ALkJrhiekOHGQ9sfm0oDEmSQtPkqjfcDCA#"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ブラウザのキャッシュは</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">見た目</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://www.speedshop.co/2015/11/05/page-weight-doesnt-matter.html&amp;usg=ALkJrhiekOHGQ9sfm0oDEmSQtPkqjfcDCA#"><font style="vertical-align: inherit;">より</font></a><font style="vertical-align: inherit;">も</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://www.speedshop.co/2015/11/05/page-weight-doesnt-matter.html&amp;usg=ALkJrhiekOHGQ9sfm0oDEmSQtPkqjfcDCA#"><font style="vertical-align: inherit;">小さい</font></a><font style="vertical-align: inherit;">ため、このような一致はほとんどありません。さらに、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Safariは</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プライバシー上の理由から、訪問したドメインごとに</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">一意のHTTPキャッシュ</font></a><font style="vertical-align: inherit;">（二重キーキャッシュ）を使用し、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chromeでもこの機能を間もなく導入する予定</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。したがって、これ以上議論することはありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このトピックはスムーズに、サードパーティのCDNがプライバシーに与える影響についての会話に変わります。ユーザーがユーザーを追跡する方法と理由がわかりません。これは、セルフホストソリューションでは発生しません。また、最近の法律の革新により、多くのサイトで、サイトで使用されているすべてのCookieを明示的にリストすることが義務付けられています。サードパーティのCDNを使用する場合、最も簡単な作業ではありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私は長い間、サードパーティのCDNや独自のドメインのシャーディングでさえ、約束されたパフォーマンスの向上とはかけ離れていると確信してきました。メインドメインがindex.htmlのみを配布しているサイトを見つけると、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新しい接続の設定に多くの時間を費やしています</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、サードパーティのサイトからリソースをダウンロードすることのセキュリティへの影響は言うまでもありません。はい、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SRI</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はありますが</font><font style="vertical-align: inherit;">、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://nooshu.github.io/blog/2019/12/17/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">予期しない問題</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://nooshu.github.io/blog/2019/12/17/"><font style="vertical-align: inherit;">発生</font></a><font style="vertical-align: inherit;">する可能</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://nooshu.github.io/blog/2019/12/17/"><font style="vertical-align: inherit;">性</font></a><font style="vertical-align: inherit;">が</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://nooshu.github.io/blog/2019/12/17/"><font style="vertical-align: inherit;">あり</font></a><font style="vertical-align: inherit;">ます。正​​直なところ、そのポイントはわかりません。静的リソース（SRIを使用できる場所）の場合はローカルに保存し、静的でない場合（内容が変更される可能性があるため）、SRIを使用できません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、サードパーティのソースからのリソースを使用すると、それらが単一障害点（SPOF）になり、サイトが無効になる恐れがあります。</font><font style="vertical-align: inherit;">これは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">複数回発生し</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ており</font><font style="vertical-align: inherit;">、Google Fontsが落ちる可能性は低いと思われるかもしれませんが、会社のプロキシまたは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国全体</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">によってブロックされる可能性があります</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一般に、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">静的リソースを自宅に</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、理想的にはWebページを配布しているドメイン</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">に置くことを</font></a><font style="vertical-align: inherit;">勧める人が増え</font><font style="vertical-align: inherit;">ています。</font><font style="vertical-align: inherit;">フォントは静的リソースなので、同じことが当てはまりますね。</font><font style="vertical-align: inherit;">まあ、すべてがそれほど単純ではないことがわかりました。フォントには独自の特性と最適化手法があり、ローカルストレージをもう少し複雑にすることができるためです...</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Googleフォントとその働き</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Googleフォント</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">フォント</font></a><font style="vertical-align: inherit;">が好きな方に最適なリソースです。誰でも無料で使える977のフリーフォント。商業用フォントは、とんでもないほど高価であり、通常は販売されるのではなく、ライセンスされています。つまり、ページビューの予想数に基づいて料金が請求されます。したがって、1つのコレクションに非常に多くの無料で使いやすいフォントを用意することは非常に便利です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、それだけではありません。 Google Fontsは、サイトの多くのリソースプロバイダー（上記のjQueryの例を参照）と同様に、CDNを提供し、誰もがサーバーから直接使用できるフォントを格納します。つまり、サイトにコードを1行追加してスタイルシートをロードするだけで、フォントの使用を開始できます。</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://fonts.googleapis.com/css?family=Lato&amp;display=swap"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プロパティとフォントを1行に追加して、複数のフォントとそれぞれのバリエーションを読み込むこともできます。</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://fonts.googleapis.com/css?family=Lato:400,400i,700,700i,900%7CPoppins:300,400,700,900&amp;display=swap"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
欠点はパフォーマンスの低下です（利点もパフォーマンスにありますが、これはそれほど明白ではありません。これについては後で説明します）。</font><font style="vertical-align: inherit;">問題は、サイト（たとえば</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.example.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）がfonts.googleapis.comからスタイルシートをロードすることです。これにより、font-facéルールを使用してCSSが返されます。</font><font style="vertical-align: inherit;">上記の例のリンクのソースは次のとおりです。</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-comment">/* latin-ext */</span>
<span class="hljs-keyword">@font-face</span> {
  <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'Lato'</span>;
  <span class="hljs-attribute">font-style</span>: normal;
  <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">400</span>;
  <span class="hljs-attribute">font-display</span>: swap;
  <span class="hljs-attribute">src</span>: <span class="hljs-built_in">local</span>(<span class="hljs-string">'Lato Regular'</span>), <span class="hljs-built_in">local</span>(<span class="hljs-string">'Lato-Regular'</span>), <span class="hljs-built_in">url</span>(https://fonts.gstatic.com/s/lato/v16/S6uyw4BMUTPHjxAwXiWtFCfQ7A.woff2) <span class="hljs-built_in">format</span>(<span class="hljs-string">'woff2'</span>);
  <span class="hljs-attribute">unicode-range</span>: U+<span class="hljs-number">0100</span>-<span class="hljs-number">024</span>F, U+<span class="hljs-number">0259</span>, U+<span class="hljs-number">1</span>E00-<span class="hljs-number">1</span>EFF, U+<span class="hljs-number">2020</span>, U+<span class="hljs-number">20</span>A0-<span class="hljs-number">20</span>AB, U+<span class="hljs-number">20</span>AD-<span class="hljs-number">20</span>CF, U+<span class="hljs-number">2113</span>, U+<span class="hljs-number">2</span>C60-<span class="hljs-number">2</span>C7F, U+A720-A7FF;<font></font>
}<font></font>
<span class="hljs-comment">/* latin */</span>
<span class="hljs-keyword">@font-face</span> {
  <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'Lato'</span>;
  <span class="hljs-attribute">font-style</span>: normal;
  <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">400</span>;
  <span class="hljs-attribute">font-display</span>: swap;
  <span class="hljs-attribute">src</span>: <span class="hljs-built_in">local</span>(<span class="hljs-string">'Lato Regular'</span>), <span class="hljs-built_in">local</span>(<span class="hljs-string">'Lato-Regular'</span>), <span class="hljs-built_in">url</span>(https://fonts.gstatic.com/s/lato/v16/S6uyw4BMUTPHjx4wXiWtFCc.woff2) <span class="hljs-built_in">format</span>(<span class="hljs-string">'woff2'</span>);
  <span class="hljs-attribute">unicode-range</span>: U+<span class="hljs-number">0000</span>-<span class="hljs-number">00</span>FF, U+<span class="hljs-number">0131</span>, U+<span class="hljs-number">0152</span>-<span class="hljs-number">0153</span>, U+<span class="hljs-number">02</span>BB-<span class="hljs-number">02</span>BC, U+<span class="hljs-number">02</span>C6, U+<span class="hljs-number">02</span>DA, U+<span class="hljs-number">02</span>DC, U+<span class="hljs-number">2000</span>-<span class="hljs-number">206</span>F, U+<span class="hljs-number">2074</span>, U+<span class="hljs-number">20</span>AC, U+<span class="hljs-number">2122</span>, U+<span class="hljs-number">2191</span>, U+<span class="hljs-number">2193</span>, U+<span class="hljs-number">2212</span>, U+<span class="hljs-number">2215</span>, U+FEFF, U+FFFD;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらの設定の一部については後で説明します（また、2つのフォントフェースルールがある理由についても説明します）が、ここでは、このフォントを次のようなスタイルで使用できることを意味します。</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-tag">body</span> {
    <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'Lato'</span>, sans-serif;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、今はfonts.googleapis.comに接続し、CSSをダウンロードしてからfonts.gstatic.comに接続してフォント自体をダウンロードする必要があります（Googleが同じドメインでCSSとフォントの両方をホストできないため、理解できません）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フォントは多くの場合、ページのロード時に遅延を伴ってブラウザによって検出されます（結局のところ、フォントへのリンクを見つけるにはCSSをロードする必要があります）。しかし、CSSを</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">別の</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ドメイン</font><font style="vertical-align: inherit;">からダウンロードし</font><font style="vertical-align: inherit;">、次に3番目のドメインからフォントを</font><font style="vertical-align: inherit;">ダウンロードする必要があるため、Googleフォントは後で発見さ</font><font style="vertical-align: inherit;">れ、HTTPS接続を確立することも簡単ではありません。これは、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebPageTest</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">によって生成された以下のカスケード図で確認できます</font><font style="vertical-align: inherit;">（すべてのテストがChrome-3GSlowで実行</font><font style="vertical-align: inherit;">された</font><font style="vertical-align: inherit;">ことに注意してください）。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/94/si/uk/94siukfgpsuc3y8vvcenns7d8rm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1行目は、HTMLが最初に読み込まれることを示しています。</font><font style="vertical-align: inherit;">次に、ダウンロードして2秒未満で読み取るとすぐに、ブラウザーはGoogle Fonts CSSをロードする必要があることを検出し、それを4行目にロードします。接続を確立するのに1秒かかり、その後、ファイルが3.5秒ダウンロードされます。</font><font style="vertical-align: inherit;">最後に、ブラウザーはフォントの存在を確認し、それを6行目にロードしました。fonts.gstatic.comとの接続に至るまでにさらに1秒遅れました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、Google Fontsからこのフォントを使用すると、フォント自体をダウンロードする時間を考慮せずに、HTMLが利用可能になった瞬間から3秒の生産性がかかります。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リソースをプリロードしてGoogleフォントを高速化する </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2つの異なるドメインからCSSとフォントをロードするときに、このひどいパフォーマンスヒットを軽減できます。最初のドメイン（CSSの場合）は、ブラウザーができるだけ早くそれを読み取るように、index.htmlファイルの先頭近くに配置する必要がありますが、2番目のドメインは非表示のままです。ただし、このドメインがどのようになるかはわかっているため（fonts.gstatic.com）、後で2番目の接続の時間を節約するために、事前に接続を開くことができます。</font></font><br>
<br>
<pre><code class="xml hljs">
<span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://fonts.gstatic.com"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"preconnect"</span> <span class="hljs-attr">crossorigin</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://fonts.googleapis.com/css?family=Lato&amp;display=swap"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
再テストすると、次の画像</font></font><br>
<br>
<img src="https://habrastorage.org/webt/0-/ab/1r/0-ab1rf2caybdrxaloc5xrs6d0k.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
が表示されます。CSSをロードする前に、回線5の接続が事前に開いていることがわかります。つまり、接続中に時間を無駄にせず、CSSのGoogleフォントを読んだ直後にフォントがダウンロードされるため、1秒以上勝ちました（5.25ではなく4秒でフォントをダウンロードします）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ドメインに参加するだけのコンテンツではなく、フォント全体をプリロードできると思うかもしれませんが、Google Fontsはフォントの一意のハッシュを呼び出します。上記の例では、ダウンロードされたフォントはlato.woff2ではなくS6uyw4BMUTPHjx4wXg.woff2と呼ばれるため、Googleが突然このハッシュを変更することを決定したときにサイトをクラッシュさせない限り、プリロードは不可能です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
いずれにせよ、Googleフォントを使用していて、このメモを読んだ後で他に何もするつもりがない場合は、ドメインへの予備接続を追加してください（まだ追加していない場合）。これは1行のコードであり、ページのパフォーマンスを大幅に向上させるはずです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際、Google FontsはCSSをレンダリングするときに、HTTPヘッダーで同様のコマンドを提供します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/1g/7n/lg/1g7nlg8c-qteofu6cr1t3eep2bi.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、多くの場合、CSSを使用してサーバーからHTTP応答ヘッダーを受信するまでに、ブラウザーはフォントをダウンロードするためにこのドメインに接続することをすでに認識しているため、あまり役に立ちません。</font><font style="vertical-align: inherit;">したがって、プリロードがより早く機能するように、HTMLコードでこれを指定することをお勧めします（このように重複していてもかまいません。2回目の試行は単に無視されます）。</font><font style="vertical-align: inherit;">ただし、Google Fonts CSSサーバーからのヘッダーを受信するまでにページがまだ処理されていて、DOMの準備ができていない場合（これはページのJavaScriptが多すぎることを示している可能性があります）、これにより、最終的に明らかになったときにパフォーマンスが向上します。ダウンロードするフォント。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フォント表示：スワップ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記のfont-faceコードでは、font-display：swap;行を確認できます。これは比較的新しい指示です。これはフォント宣言に追加でき、ブラウザに最初にフォールバック、つまりシステムフォント（この例ではsans-serif）を使用するように指示し、ダウンロード後に実際のフォントに置き換えます。このようにして、フォントがまだロードされていないときにコンテンツのロードの遅延を回避し、パフォーマンスを向上させることができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
はい、これはスタイルのないテキスト（FOUT）の発生につながります-ページの読み込み中のコンテンツの同じ「ジャンプ」、しかしそれを好まない人もいます（私の意見は同意します、コンテンツはスタイルより重要ですが、ページを飛び越えるテキストは煩わしいですが）これは、スペアフォントを調整することで軽減できます。別の方法は、Flash Invisible Text（FOIT）です。この場合、フォントが表示されるまでテキストは非表示になっているため、ダウンロードが明らかに遅延し、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一部のテキストが読み込まれる</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と他の問題が発生する可能性があり</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ますが、そうでないものもあり</font></a><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
いずれにせよ、font-display：swapが導入される前は、ブラウザーによってブラウザーの扱いが異なりました。IEやEdgeなど、FOUTを使用するブラウザーもあれば、FOITを使用するブラウザーもあり、フォントの待機を待つまでの時間も異なりました。このため、フォントが読み込まれなかった場合、コンテンツが長期間表示されないままになる可能性があります。 font-display：swapの導入により、Webサイト開発者はこれがどのように行われるかを自分で決めることができました。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ほとんどのブラウザー</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はIEとEdgeを除いてfont-display：swapを</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">サポート</font></a><font style="vertical-align: inherit;">していますが、上記のように、デフォルトでこれを使用しています。 Googleフォント</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">さまざまなフォント表示オプション</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">もサポートし</font></a><font style="vertical-align: inherit;">、デフォルトでfont-display：swapを提供します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、Googleフォントを使用する場合のもう1つのヒントは、URLに＆display = swapパラメータがあることを確認し、ない場合（最近サポートされたばかり）、それを追加します</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。たとえば、次のように置き換えます。</font></font><br>
<br>
<pre><code class="xml hljs">
<span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://fonts.gstatic.com"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"preconnect"</span> <span class="hljs-attr">crossorigin</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://fonts.googleapis.com/css?family=Lato"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これについて：</font></font><br>
<br>
<pre><code class="xml hljs">
<span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://fonts.gstatic.com"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"preconnect"</span> <span class="hljs-attr">crossorigin</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://fonts.googleapis.com/css?family=Lato&amp;display=swap"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">必要に応じて</font></a><font style="vertical-align: inherit;">、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">他のフォント表示値の1つを指定</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
することもでき</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます（</font></a><font style="vertical-align: inherit;">例：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">optional</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
残念ながら、これは問題の半分しか解決しません。</font><font style="vertical-align: inherit;">この命令はCSSに含まれており、Googleフォントを返すため、CSSファイルをダウンロードした後でのみ役立ちます。</font><font style="vertical-align: inherit;">したがって、フォント自体の読み込み中の遅延に対処することは役立ちますが、このCSSの読み込みを待っている間は効果がありません。</font><font style="vertical-align: inherit;">したがって、これは（少なくともFOUTを好む人にとっては）良い改善ですが、それでも全体としてのソリューション全体ではありません。</font></font><br>
<br>
<h2>  Google Fonts</h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はWeb Almanacの作成</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">手伝い</font></a><font style="vertical-align: inherit;">（インターネットの状態を</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://almanac."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一目で</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">確認できます。まだ</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://almanac."><font style="vertical-align: inherit;">ご覧になっ</font></a><font style="vertical-align: inherit;">ていない場合</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://almanac."><font style="vertical-align: inherit;">は、</font></a><font style="vertical-align: inherit;">ご自分の目で</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://almanac."><font style="vertical-align: inherit;">確かめて</font></a><font style="vertical-align: inherit;">ください）、Googleフォントのダウンロードが遅いために悩まされ、修正したいと思いました。特にfont-displayを使用したFOUT：swap。この影響を減らすことができるかどうか疑問に思っていました。ローカルソリューションは、おそらくプリロードを使用して、ファイルをローカルに保存しているようです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すでに上記のテクニック（プリロードとfont-display：swap;）を使用しましたが、もちろん、CSSを外部から接続しない方が良いでしょう。このCSSの内容はわかっています。それで、自信を持って自己ホスト型を選択しますか？ここが面白いところです... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
GitHubで便利なスクリプトを見つけました（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google Font Download</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）を使用して、さまざまなフォントオプションをすべてダウンロードし（ページによっては最大9個まで）、次に、メインスタイルシートに表示されるCSSをコピーし、フォントをサーバーにアップロードしました。</font><font style="vertical-align: inherit;">同じことを行う</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">他のオンラインツール</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">があります</font><font style="vertical-align: inherit;">。それはすべて機能しているように見え、面倒なCSSの読み込みと2つのドメインでの作業の必要性がなくなりました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、よく調べてみると、フォントが大きいことに気づきました。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/1w/hk/fs/1whkfsun5mb15p76jzen2eft4wk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ご覧のとおり、ダウンロードされたGoogleフォント（右）とローカルに配置されたフォント（左）と比較して、サイズが大幅に増加しています（そのうちのいくつかは最大74％余分です！）。最初は、これはローカルWebサーバーが原因であると考えました。たとえば、圧縮がオフになっているためです。ただし、フォーマットにはBrotli圧縮が含まれているため、WOFF2フォントはWebサーバーによって圧縮なしで提供されます。また、上のスクリーンショットは、各列のロードされたバイト（上部が黒）と非圧縮バイト（下部がわずかに明るい）を示しています（フォントは実際にはWebサーバーによって圧縮されずに送信されますが、ダウンロードされたバイトにはHTTPヘッダーが含まれているため、両方の列で非常に似ています） 、それで少し大きくなります）、圧縮されたバイトと圧縮されていないバイトの両方に違いがあったため、それは重要ではありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このツールを使用して取得したフォントフェースルールを元のルールと比較すると、1つの違いが明らかになり</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ました。</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-comment">/* latin-ext */</span>
<span class="hljs-keyword">@font-face</span> {
    <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'Lato'</span>;
    <span class="hljs-attribute">font-style</span>: normal;
    <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">400</span>;
    <span class="hljs-attribute">font-display</span>: swap;
    <span class="hljs-attribute">src</span>: <span class="hljs-built_in">local</span>(<span class="hljs-string">'Lato Regular'</span>), <span class="hljs-built_in">local</span>(<span class="hljs-string">'Lato-Regular'</span>), <span class="hljs-built_in">url</span>(https://fonts.gstatic.com/s/lato/v16/S6uyw4BMUTPHjxAwXiWtFCfQ7A.woff2) <span class="hljs-built_in">format</span>(<span class="hljs-string">'woff2'</span>);
    <span class="hljs-attribute">unicode-range</span>: U+<span class="hljs-number">0100</span>-<span class="hljs-number">024</span>F, U+<span class="hljs-number">0259</span>, U+<span class="hljs-number">1</span>E00-<span class="hljs-number">1</span>EFF, U+<span class="hljs-number">2020</span>, U+<span class="hljs-number">20</span>A0-<span class="hljs-number">20</span>AB, U+<span class="hljs-number">20</span>AD-<span class="hljs-number">20</span>CF, U+<span class="hljs-number">2113</span>, U+<span class="hljs-number">2</span>C60-<span class="hljs-number">2</span>C7F, U+A720-A7FF;<font></font>
}<font></font>
<span class="hljs-comment">/* latin */</span>
<span class="hljs-keyword">@font-face</span> {
    <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'Lato'</span>;
    <span class="hljs-attribute">font-style</span>: normal;
    <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">400</span>;
    <span class="hljs-attribute">font-display</span>: swap;
    <span class="hljs-attribute">src</span>: <span class="hljs-built_in">local</span>(<span class="hljs-string">'Lato Regular'</span>), <span class="hljs-built_in">local</span>(<span class="hljs-string">'Lato-Regular'</span>), <span class="hljs-built_in">url</span>(https://fonts.gstatic.com/s/lato/v16/S6uyw4BMUTPHjx4wXiWtFCc.woff2) <span class="hljs-built_in">format</span>(<span class="hljs-string">'woff2'</span>);
    <span class="hljs-attribute">unicode-range</span>: U+<span class="hljs-number">0000</span>-<span class="hljs-number">00</span>FF, U+<span class="hljs-number">0131</span>, U+<span class="hljs-number">0152</span>-<span class="hljs-number">0153</span>, U+<span class="hljs-number">02</span>BB-<span class="hljs-number">02</span>BC, U+<span class="hljs-number">02</span>C6, U+<span class="hljs-number">02</span>DA, U+<span class="hljs-number">02</span>DC, U+<span class="hljs-number">2000</span>-<span class="hljs-number">206</span>F, U+<span class="hljs-number">2074</span>, U+<span class="hljs-number">20</span>AC, U+<span class="hljs-number">2122</span>, U+<span class="hljs-number">2191</span>, U+<span class="hljs-number">2193</span>, U+<span class="hljs-number">2212</span>, U+<span class="hljs-number">2215</span>, U+FEFF, U+FFFD;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ダウンロードツールから：</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-keyword">@font-face</span> {
    <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'Lato'</span>;
    <span class="hljs-attribute">font-style</span>: normal;
    <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">400</span>;
    <span class="hljs-attribute">src</span>:
        <span class="hljs-built_in">local</span>(<span class="hljs-string">'Lato Regular'</span>),
        <span class="hljs-built_in">local</span>(<span class="hljs-string">'Lato-Regular'</span>),
        <span class="hljs-comment">/* from https://fonts.gstatic.com/s/lato/v16/S6uyw4BMUTPHjx4wXg.woff2 */</span>
        <span class="hljs-built_in">url</span>(<span class="hljs-string">'Lato_400.woff2'</span>) <span class="hljs-built_in">format</span>(<span class="hljs-string">'woff2'</span>),
        <span class="hljs-comment">/* from https://fonts.gstatic.com/s/lato/v16/S6uyw4BMUTPHjx4wWA.woff */</span>
        <span class="hljs-built_in">url</span>(<span class="hljs-string">'Lato_400.woff'</span>) <span class="hljs-built_in">format</span>(<span class="hljs-string">'woff'</span>);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初の違いは、font-display：swap行を失ったことですが、これは問題なく修正できます。</font><font style="vertical-align: inherit;">さらに興味深いのは、Google Fontsが2つのフォントを配布し、それらに異なるUnicode範囲が含まれていることです。</font><font style="vertical-align: inherit;">これは、フォントのサブセット化によるもので、フォントファイルを減らします。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フォントのサブセット化</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フォントのサブセット化とは、フォントファイルのサイズを縮小するために使用しない文字を削除することです。通常、ほとんどの西洋人はラテン文字のみを使用しており、おそらく使用しないであろうすべての文字を含むフォントをダウンロードするのは不合理です。私は以前にこれについて聞いたことがありますが、これがどれほど重要であるかについて私は決して考えませんでした！ Google Fontsは、ラテン文字のセットでfont-faceを自動的にレンダリングし、可能であれば、拡張ラテン文字（たとえば、Ā）の2番目のフォントを接続します。これは、必要な場合にのみダウンロードされます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際、textパラメータを使用して、必要な文字のみを含む特別なフォントをリクエストすることもできます：</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">https</font></a><font style="vertical-align: inherit;"> : </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">//fonts.googleapis.com/css?family=Lato&amp;</font></a><font style="vertical-align: inherit;"> text </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=ABC</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらなる観察から判断すると、私が使用したフォント読み込みツールはフォントのサブセット化をサポートしているようですが、これは「言語」全体（ラテン語または拡張ラテン語）に対してのみであり、文字の両方のサブセットを1つのファイルに結合します。</font><font style="vertical-align: inherit;">結局、ブラウザの使用に戻り、このツールの使用をやめました。</font><font style="vertical-align: inherit;">これにより同様のファイルサイズが得られましたが（私の開発環境ではHTTPヘッダーによるわずかな違いがあります）、フォントサブセットだけではないことがすぐにわかりました。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google Fontsはフォントをスマートに配布します</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Googleフォントは常に同じCSSをレンダリングするわけではなく、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用されるユーザーエージェントによって異なります</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">たとえば、Internet Explorer 11の場合、次を送信します。</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-keyword">@font-face</span> {
    <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'Lato'</span>;
    <span class="hljs-attribute">font-style</span>: normal;
    <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">400</span>;
    <span class="hljs-attribute">font-display</span>: swap;
    <span class="hljs-attribute">src</span>: <span class="hljs-built_in">local</span>(<span class="hljs-string">'Lato Regular'</span>), <span class="hljs-built_in">local</span>(<span class="hljs-string">'Lato-Regular'</span>), <span class="hljs-built_in">url</span>(https://fonts.gstatic.com/s/lato/v16/S6uyw4BMUTPHjx4wWA.woff) <span class="hljs-built_in">format</span>(<span class="hljs-string">'woff'</span>);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IE 11 </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はWOFF2をサポートしていないため</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、ここではWOFF形式のみが提供さ</font><font style="vertical-align: inherit;">れ、同じ理由でunicode-rangeが指定されて</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">いないことがわかり</font></a><font style="vertical-align: inherit;">ます。これはfont-display：swap（CSSのURLで指摘したとおり）を提供しますが、ブラウザーはそれをサポートしていませんが、害はありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ブラウザの製造元とバージョンだけではありません。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フォントヒント</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フォントファイルに追加の指示が含まれています。これは、特に低解像度の画面や非常に小さいサイズの場合に、フォントを最適に表示するために使用されます。フォントヒントはWindowsでは使用されますがMacOSでは使用されないため、ブラウザを使用して（各プラットフォームでChromeを使用している場合でも）Googleフォントを受信するときに使用するOSによっては、ヒントまたは彼なし。 Windowsバージョンをダウンロードして自分で使用すると、MacOSユーザーは未使用のヒントでいっぱいの大きなフォントファイルを処理する必要に悩まされ、逆の操作を行うと、Windowsユーザーにフォント表示の低下を招く可能性があります。フォントのヒントなし。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Googleフォントを使用しているとき、およびローカルで使用するためにフォントをダウンロードしたときは、Macでダウンロードしたため、ファイルが小さくなりました。</font><font style="vertical-align: inherit;">ツールを使用すると、ヒント付きのフルフォントが表示されました。</font><font style="vertical-align: inherit;">これがサイズの大きな違いのもう1つの理由でした。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フォントヒントはまだ関連していますか</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、高精細画面がより一般的になったため-これは良い質問であり、多くのフォントは作成に時間がかかるため、最初はヒントなしで提供されます。</font><font style="vertical-align: inherit;">存在する場合-フォントサイズが大幅に増加する可能性があります。</font><font style="vertical-align: inherit;">Latoの場合、サイズは2倍になります。</font><font style="vertical-align: inherit;">Googleフォントを放棄し、フォントをローカルに配置することで発生する余分な作業負荷に見合う価値がありますか？</font><font style="vertical-align: inherit;">これは、あなた自身で行う必要があるもう1つの決定です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、Google Fonts CDNは、最適なフォントを提供し、最大のパフォーマンスを維持するように最適化するスマートスクリプトによってサポートされています。フォントのローカルストレージに切り替えるには、これらすべてを自分で構成する必要があります。そうしないと、一部のブラウザーでフォントの正しい表示が失われる可能性があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Web Almanacについては、訪問者のブラウザーの統計を調べ、WOFF2のみをサポートすることを決定しました。また、重量が半分であるため、ヒントなしのMacOSのバージョンも使用することを決定しました。この単純化されたCSS（特に、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">unicode-rangeは</font></font></a><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">WOFF2</font></a><font style="vertical-align: inherit;">を</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">サポート</font></a><font style="vertical-align: inherit;">するすべてのブラウザーで</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">サポート</font></a><font style="vertical-align: inherit;">されている</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ため）</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）、IE 11やその他の古いブラウザのユーザーには、デフォルトでsans-serifが表示されますが、見た目はあまり良くありませんが、フォントは段階的に改善されており、フォントがなくてもサイトはまだ使用可能です。さらに、古いブラウザは、システムのデフォルトフォントを使用することでメリットを得ることもできます。古いブラウザは、低電力の古いマシンで使用される可能性が高いためです。</font><font style="vertical-align: inherit;">必要に応じ</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">て、フォントに他の調整を加える</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
こともでき</font><font style="vertical-align: inherit;">ます（最初にライセンスを確認してください！）。 。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それにもかかわらず、Google Fontsで解決した場合、ブラウザーに応じて正しいフォントの置換を詳細に構成する必要がなく、必要に応じてWOFF（さらには古いフォーマット）とヒントがあります。</font><font style="vertical-align: inherit;">したがって、フォントにGoogle Fontsを使用することには依然として一定の利点があり、ローカルストレージを選択するとフォントが拒否されます。</font><font style="vertical-align: inherit;">これは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、今後のGoogle Fontsの機能強化に</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">も適用され</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将来のフォントの機能強化</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フォントのトピックを掘り下げ、ローカルストレージにアクセスするとGoogleフォントの将来のメリットが失われる可能性があることを警告したので、メイントピックから少し離れて、発見した他の興味深いことについて話したいと思います。</font><font style="vertical-align: inherit;">フォントの世界で今後行われる大きな変更は何ですか？</font><font style="vertical-align: inherit;">さて、現在活発に議論されており、将来フォントに影響を与える可能性のある2つの変更があります（したがって、このサービスの使用を選択した場合、おそらくデフォルトでGoogle Fontsによってサポートされる可能性があります）：可変フォントとプログレッシブフォントエンリッチメント。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可変フォント</font></font></h3><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可変フォント</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用すると、個々のファイルをダウンロードしなくても、さまざまなフォントスタイルを使用できます。以前にWeb Almanacは最大9つの異なるフォントファイルを使用することを述べましたが、実際には2つのフォントしかありません。理由は単純です。サイトでは太字、斜体、太字、さらにはそれらの一方または両方のより薄いバージョンも使用しています。同じフォントの多くのバリエーションは不適切に思えるかもしれませんが、ブラウザ自体がテキストの太さを変更したり、イタリック体を書いたりするタスクに対応していると思うかもしれません。はい、可能です。ただし、これはブラウザごとに少し異なり、結果</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">も根本的に異なる可能性がある</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ため、多くの</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">場合</font></a><font style="vertical-align: inherit;">、「人工フォント」と呼ばれています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同じ表示を確実に行う唯一の方法は、特に必要な各スタイルに「実際のフォント」を使用することです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
可変フォント</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、さまざまなフォントのバリエーションの表示を標準化し、</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">追加のファイルの必要性がなくなります。理論的には、可変フォントバージョンが使用可能になったときに、これらの9つのフォントを2つに置き換えることができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これにより、インターネットでフォントを使用するための可能性が大きく広がります。 2つのフォントの9つのオプションは多すぎるように思えるかもしれませんが、実際には多すぎませんが、可変フォントでは無限のバリエーションが可能です。モバイルデバイスでは、「太字」の厚さをデスクトップやタブレットとは少し異なるように設定できます。</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">いくつかの簡単なCSS指示</font></a><font style="vertical-align: inherit;">を含む可変フォント</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">追加のフォントをダウンロードするためのリソースのコストなしでこれを許可します。最近で</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DotCSS、</font></font></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ジェイソンPamentalは</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、変数のフォントの話と</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">実証され</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ますが、異なるフォントがたくさんあると思われるものと美しくデザインされたページを取得する方法-すべての単一のファイルを使用して！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
可変フォントを使用する</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と、すべてのフォントのバリエーションを同時に読み込む</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">こともできるため、前述の問題による混乱を回避できます。これにより、レイアウトの再描画も少なくなります。可変フォントがない場合、</font><font style="vertical-align: inherit;">個々のフォントバリアントが読み込まれるたびに</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ブラウザ</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">によって</font></a><font style="vertical-align: inherit;">ページ</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">が</font></a><font style="vertical-align: inherit;">何度</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">も再描画され</font></a><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可変フォントは優れたサポートを持っています</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最近のブラウザでは、フォントのヒントの場合と同様に、さまざまなフォントのバリエーションを保存するにはより多くのスペースが必要になるため、サイズが大きいことが欠点です。</font><font style="vertical-align: inherit;">フォントによって異なりますが、通常は圧縮後のサイズが2倍になるため、使用を正当化するには、少なくとも2つのスタイルが必要です。</font><font style="vertical-align: inherit;">それでも、1つの大きなファイルですべてのテキストを表示するよりも、1つの小さなファイルを読み込んで重要なテキストを表示する方がよい場合があります。</font><font style="vertical-align: inherit;">そして再び、font-displayを使用できます：swapは問題の少ないソリューションですか？</font><font style="vertical-align: inherit;">これは各サイト所有者が決定します。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プログレッシブフォントエンリッチメント</font></font></h3><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プログレッシブフォントエンリッチメント</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、本質的に、新しいレベルにサブセット化し、現在読み込まれているフォントを補完する追加情報のストリームの形式で必要に応じて追加の文字定義をダウンロードできるようにしますが、追加のフォントは追加しません。これは私たち西洋人には小さな利点のように思えるかもしれませんが、他の言語、特に極東では</font><font style="vertical-align: inherit;">、これらの言語の文字数が膨大であるため</font><font style="vertical-align: inherit;">、フォントファイルが非常に大きくなる可能性があります（たとえば、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2Mb</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。このため、このような国ではWebフォントがあまり使用されておらず、プログレッシブフォントエンリッチメントが状況に良い影響を与える可能性があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プログレッシブフォントエンリッチメントは、私が理解しているように、可変フォントよりもはるかに早い段階ですが、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オンラインデモ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">いずれにせよ、これはフォントに関連する別の潜在的に興味深い変更です。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google Fontsは引き続き改善されますか？</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Google Fontsがどのように機能するかを考えると、CSSを変更するだけで、この記事（または他の多くの記事！）で説明されているような新しい拡張機能で成長し続けることが容易に想像できます。そして彼はそれを賢く行うことができます。たとえば、ブラウザが新しいテクノロジをサポートしているかどうか（フォント形式-WOFFまたはWOFF2で現在サポートされているように）かどうか、または他の方法で判断します。たとえば、3つ以上のフォントをリクエストし、可変フォントのリソース消費を少なくする場合、複数のフォントフェイス広告で同じフォントファイルに自動化してリンクすることができます。1つのオプションのみをリクエストする場合は、より軽量なものを参照してください。伝統的なフォント。遠くに聞こえますか？</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">彼らはすでに1つのフォントでそれをしました。</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（オズワルド）！正直なところ、プログレッシブフォントエンリッチメントでも同じことが可能かどうかはわかりません。私はその動作原理を完全には理解していないためですが、見るのは興味深いでしょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、Google Fontsを使用すると、たとえばフォントを更新するときに、新しい文字セットを追加したり、グリフのエラーを修正したりすると、新しいフォントが自動的に取得されます。ローカルストレージでは、これは機能しません-少なくとも片手での介入なしでは機能しません。おそらく、ドメインを介してリクエストをプロキシする方向を調べて、両方のオプションの最良の方法を取ることができますが、これはおそらく遅くなり、追加の構成と管理が必要になります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一方、ローカルストレージは安定性を提供します。たとえば、フォントの変更により1行のタイトルが2行に伸び始める場合など、一部の更新がデザインに影響を与える可能性があります。</font><font style="vertical-align: inherit;">このために非常に動揺している人々のカテゴリーがあります</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ローカルフォントストレージの利点</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、これまで多くの理論について説明してきましたが、ローカルストレージには明らかな潜在的なメリットがありますが、検討するのも難しいため、Google Fontsを使用することには明らかなメリットもあります。それで、自己ホストする価値はありますか？特定の状況での実際の快適さに依存します。パフォーマンスの違いがわずかである場合は、それぞれ大きい場合は、Googleフォントを引き続き使用する価値があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ウェブアルマナックについては、最近</font><font style="vertical-align: inherit;">Googleフォントの</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://github.com/HTTPArchive/almanac."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ローカルストレージを選択し</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、テストにより劇的な変化が見られました。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/oa/xy/ha/oaxyhappghsnk9rj-l4qoicboki.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
下の画像には、テストサーバーのローカルフォントが含まれており、ダウンロード時間が6〜3秒に半減したことがわかります。詳細な分析の結果、生産性がさらに向上することがわかりました（3⅓秒の節約）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それほど明白ではないもの（ただし、後で説明します）-この時点では、フォントはどのイメージにも完全には読み込まれていません。ローカルストレージでは、Googleフォントを使用すると7.5秒と10.5秒かかります。ただし、使用されているフォントは標準のものとかなり似ており、レイアウトに目立ったジャンプはありません。これは下の図で見ることができます：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ai/zw/vu/aizwvu3sstjfwd68gd7gzhez4im.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この図は、ローカルストレージ（赤）のあるページが2.4秒でほぼ完全に読み込まれ、画像が読み込まれるとさらに数回更新され、その後フォントも表示されることを示しています。はい、すべてをよりスムーズにしたいと思いますが、それでも一部のフォントダウンロードコストを最適化することは不可能です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
改善が実際に目に見えるのは、最初は考慮していなかったもう1つの理由、CSSブロックによるレンダリングが原因です。したがって、Google Fonts CSSへのリンクがある場合、ブラウザはテキストの表示を遅らせるだけではなく、ページのコンテンツ全体の表示を遅らせます！フォントは段階的に改善されているため、ページの残りの部分やテキスト自体（標準/フォールバックフォントを使用）でも安全にレンダリングできますが、ブラウザはそうではありません。CSSが存在することを確認し、読み込みを試み、ダウンロードを延期します。ページの残りの部分。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CSSの非同期読み込みはありません</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-しかし、おそらくそれはそのような場合のためであるべきですか？それでも、Google Fontsへの接続に問題が発生した場合、ブラウザがリンクの処理を中止するまで、サイト全体にアクセスできなくなる可能性があります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/v6/3_/oo/v63_oow5ktzvixadg7tpirrthcs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記の比較表では、開始レンダリングの緑の縦線が既に6秒後に発生しています。これは、Google Fonts CSSが12行目に読み込まれるまで待機する必要があるため、ドメインへの接続に半分の時間を費やし、残りの半分を実際に読み込んでいます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これをローカルバージョンと比較してください。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/x6/hm/4c/x6hm4c_omalxhr4ogx_5pueneci.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでは、サイトのCSSが読み込まれて2.5秒で処理されるとすぐにレンダリングを開始できます。これは、Google Fontsドメインへの接続に遅延がないためです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どちらの場合も、フォントが読み込まれる前にレンダリングの開始が発生することがわかります。font-display：swapの魔法のおかげで、テキストは引き続き表示されます。したがって、少なくともfont-display：swapを使用する場合、CSSブロッキングレンダリングを使用してGoogle Fontsをロードせず、CSSフォントを後にページに挿入する非同期JavaScriptを介してロードする方が良いでしょう。ダウンロード方法。このようにプロセスを実装した場合、レンダリングの遅延は発生しませんが、接続時の遅延と、テキストが正しく表示されるまでの長い待ち時間があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
UPD：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub Google Fontsに</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、レンダリングをブロックせずにGoogle Fontsをダウンロードする方法を追加するという提案を</font><font style="vertical-align: inherit;">含む</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">問題</font></a><font style="vertical-align: inherit;">を作成しました。</font><font style="vertical-align: inherit;">必要に応じて投票してください！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ザックレザーマンは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、再描画の回数</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">減らすために</font></a><font style="vertical-align: inherit;">このアプローチを推奨</font><font style="vertical-align: inherit;">し、CSSファイルを必要とせずに、JavaScriptだけでもこれが可能であることを示しています。</font><font style="vertical-align: inherit;">次に、JavaScriptを使用してフォントを管理する他の利点を示します。たとえば、サイトが低速のネットワークから開いている場合（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Network Information APIを使用</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）、またはユーザーが</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Save-Data</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">または</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prefers-Reduced-Motion</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">設定を有効に</font><font style="vertical-align: inherit;">している場合は、フォントのダウンロードをまったく拒否できます</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">。</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">興味深い機能！</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フォントのプリロード</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Googleのハッシュ化されたURLから離れると、フォントをプリロードして、パフォーマンスをさらに向上させることができます。ただし、Andy Daviesが記事</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Preloading Fonts and the Puzzle of Prioritiesで</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">説明したように、このオプションにはいくつかの潜在的な欠陥があります</font><font style="vertical-align: inherit;">。基本的に、フォントをプリロードして優先順位を上げることにより、他の重要なダウンロード（CSSなど）の優先順位を暗黙的に下げます。Chromeのエラーにより、フォント</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一部の</font><font style="vertical-align: inherit;">フォントの</font><font style="vertical-align: inherit;">上に</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ジャンプすることさえ</font></a><font style="vertical-align: inherit;">あります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、フォントが使用されないときにプリロードすると、たとえば、ローカルバージョンが存在し、優先的に使用できる場合や、ブラウザーがこのフォント形式をサポートしていない場合（プリロードをサポートするすべてのブラウザーもWOFF2をサポートしますが） ）プリロードを使用することの推奨に加えて、Google </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はこれについて</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">明確に</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">警告し</font></a><font style="vertical-align: inherit;">、彼らがそれに注意を払っているのを見るのは素晴らしいことです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
font-display：swap関数を使用する場合、プリロードの必要性はそれほど強くない場合があります。</font><font style="vertical-align: inherit;">ただし、この場合でも、必要最低限​​の数のフォントをダウンロードして、FOUTや再描画を回避することで、時間を稼ぐことができます。</font><font style="vertical-align: inherit;">現時点では、Web Almanacでプリロードを使用していないため、開始する前にさらにいくつかのテストが必要ですが、今のところは満足しています。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
記事のタイトルにある質問への回答：はい、それは価値があります。パフォーマンスが大幅に向上するためです。</font><font style="vertical-align: inherit;">もちろん、すべて特定のサイトに依存しているため、結果は異なる場合があります。そのため、テスト、テスト、そして再度テストしてください。</font><font style="vertical-align: inherit;">しかし、私は、これはほとんどのサイトにとって、パフォーマンスの点で、依然として最良のオプションだと思います。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、Google Fontsは単なる数百の無料フォントのリポジトリではなく、最新の最適化手法の多くを使用して、サイト所有者の負担を最小限に抑えながら最適なフォントをレンダリングするスマート配信メカニズムでもあります。セルフホストに切り替えると、理想的には、フォント表示などの多くの便利な改善点を再実装する必要があります：スワップ、フォントヒントの削除（少なくとも一部のブラウザーでは）、そうでなければ、重いもののパフォーマンスにしか害を及ぼすことができません。フォントファイル。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは簡単な作業ではありません（そして、Google Fontsはあなたのためにそうします）。しかし、今ではWOFF2形式のみを使用することが唯一の現実的なオプションであり、ブラウザーはほとんどの最適化手法をサポートしているため、すべてが以前よりもはるかに簡単になりました。それにもかかわらず、すべてを設定する前にWebフォントについてある程度の知識を持っている価値があります（この投稿がお役に立てば幸いです！）同時に、間違いなくさらなる改善があるので、フォントの世界の新しい変更に注目してください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まあ、多分私たちは最適化に熱心すぎて、ローカルストレージがあれば、サブセット化やヒントなしでフルフォントを使用する余裕がありますか？ Google FontsのWebサイトでは、任意のフォントをダウンロードできます。比較的シンプルですが、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">アーカイブにWOFFおよびWOFF2形式が含まれていないの</font></a><font style="vertical-align: inherit;">は奇妙です</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このロード方法を使用すると、私には完全に理解できません！</font><font style="vertical-align: inherit;">ただし、パフォーマンスの改善に本当に関心がある場合は（そして関心があるはずです！）、次に、正しいことを実行する必要があります。</font><font style="vertical-align: inherit;">この記事は、私がいつも期待していたように、サイトにフォントをダウンロードして配置するよりも少し複雑であることを示しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
うわー、テキストが予想よりも長くなってしまいました！</font><font style="vertical-align: inherit;">しかし、あなたがあなたと同じようにこのトピックを理解することに興味を持っていて、あなたのサイトでフォントのダウンロードを高速化するためのいくつかの新しいアイデアを持っていることを願っています。</font><font style="vertical-align: inherit;">フォントの詳細についてはTwitterで</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jason</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zach</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">をフォローし</font><font style="vertical-align: inherit;">、</font><font style="vertical-align: inherit;">Webアプリケーション全体の速度については</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Andy</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を確認すること</font><font style="vertical-align: inherit;">を強くお勧めします</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/9fa/cf4/a34/9facf4a348ef01048b4eb5e16ae66daa.png"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja490354/index.html">フィンテック企業における情報セキュリティ文化の強化</a></li>
<li><a href="../ja490356/index.html">Yandex.Cloud用のKubernetes CCM（Cloud Controller Manager）の紹介</a></li>
<li><a href="../ja490358/index.html">現代のプログラマーはアルゴリズムを作成できる必要がありますか？</a></li>
<li><a href="../ja490362/index.html">海賊行為の精神にあるKubernetes：マイクロサービスへの道と実装のための既製のテンプレート</a></li>
<li><a href="../ja490364/index.html">データセンターは大量の電力を消費しますが、まだ気候を脅かしていません</a></li>
<li><a href="../ja490372/index.html">Dodo Pizzaでのインタビュー</a></li>
<li><a href="../ja490376/index.html">複数</a></li>
<li><a href="../ja490378/index.html">IPv6-すぐに移行する価値のある素晴らしい世界</a></li>
<li><a href="../ja490380/index.html">削除されたポッドの完了の遅延</a></li>
<li><a href="../ja490382/index.html">FunCorp iOS Meetup＃2コンテンツ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>