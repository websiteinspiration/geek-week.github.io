<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👍 💃🏿 🏬 FirefoxとChromeはDNSクエリを暗号化し、検閲を回避します 💌 🛁 🌺</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="通常、リゾルバーは各DNSサーバーに、探しているドメインを通知します。このリクエストには、完全なIPアドレスまたはそのほとんどが含まれる場合があり、IDを確立するために他の情報と簡単に組み合わせることができます。 Lin Clarkeの記事「DoH in pictures」から
 
 Habréは ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>FirefoxとChromeはDNSクエリを暗号化し、検閲を回避します</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/globalsign/blog/468445/"><img src="https://habrastorage.org/webt/r5/tm/rk/r5tmrkwtqmjtl4ankon0ky9atgu.png"><br>
<i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通常、リゾルバーは各DNSサーバーに、探しているドメインを通知します。このリクエストには、完全なIPアドレスまたはそのほとんどが含まれる場合があり、IDを確立するために他の情報と簡単に組み合わせることができます。 Lin Clarkeの記事</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「DoH in pictures」から</font></font></a></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Habré</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は</font></font></a> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、最近、標準</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"> RFC 8484</font></a><font style="vertical-align: inherit;">として採用されたプロトコルDNS-over-HTTPS（DoH）について</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">繰り返し</font></a></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">話しました</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。 Mozilla、Google、Cloudflareによって開発されたDNS暗号化プロトコルは、中間者によるトラフィック監視の試みを無効にします。これはHTTPSの「最も弱いリンク」を排除します-オープンDNSクエリにより、攻撃者はDNSパケットの内容を追跡し、それらを置き換えることさえできます。これにより、IPアドレスまたはドメイン名でリソースへのアクセスをブロックできます。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Runetの隔離に関する法律が施行されるまでに1か月半もたっていません。ヤロヴァヤ法はすでに施行されており、国や民間企業はインターネットで市民を監視する試みを強化しています。この状況では、主要なブラウザ開発者からのニュースが非常にタイムリーに届きました。 FirefoxとChromeの開発者は、ほぼ同時にDNS暗号化の導入を発表しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2019年9月6日、Mozillaは、</font><font style="vertical-align: inherit;">Firefoxの次のバージョンの1つで</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://blog.mozilla.org/futurereleases/2019/09/06/whats-next-in-making-dns-over-"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デフォルトのDoHプロトコル（DNS-over-HTTPS）を有効に</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">する決定</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://blog.mozilla.org/futurereleases/2019/09/06/whats-next-in-making-dns-over-"><font style="vertical-align: inherit;">を</font></a><font style="vertical-align: inherit;">発表しました</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
つまり、DoHはDNSクエリをHTTPSパケットにカプセル化し、通常の暗号化されたWebトラフィックに変換します。リクエストは、本文がDNSメッセージ（通常のDNSクエリからのデータグラム）形式のHTTP POSTまたはGETとして送信されるか、JSON形式のHTTP GETリクエストとして送信されます。通常のHTTPS Webトラフィックと同様に、DoH経由で接続するための認証は必要なく、証明書は証明機関によって検証されます。</font><i><font color="gray"><font style="vertical-align: inherit;">DoHによるDNSトランザクションの修正。 HTTPS、TLSのみが表示されます。</font></font></i><i><font color="gray"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">「プロバイダーの詮索好きな目からDNSクエリを隠す方法」</font></a></font></i><i><font color="gray"><font style="vertical-align: inherit;">の記事から</font></font></i></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/ccd/7ea/f84/ccd7eaf847066ef35e091ccc20b62af3.jpg"></a><br>
<i><font color="gray"><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
暗号化されていないURLは、TLSプロトコルの特別な拡張であるSNI（サーバー名表示）要求フィールドを介して傍受することもできます。この脆弱性を排除するために、Firefoxはすでに暗号化されたホスト名暗号化標準のEncrypted SNI（ESNI）を実装しており、クライアントシステムはDNSからサーバーの公開鍵を受け取り、TLSセッションの開始前にすべてのデータを暗号化します。で</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、このページ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ブラウザがESNIや他の暗号化規格をサポートしている場合、あなたは確認することができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mozillaは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2018年6月に</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> DoHの実験を開始</font><font style="vertical-align: inherit;">し、ペアレンタルコントロールの設定や企業ポリシー（DoHが検出された場合、または他のDNS解決の問題が発生した場合は無効）と競合することなく、十分なパフォーマンスを提供することを確認しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テスト結果に基づいて、MozillaはDoHを9月下旬から米国のすべてのユーザーに段階的に導入することを決定しました。展開は「スタンバイモード」で行われます。つまり、わずかな問題が発生すると、DoHは自動的にオフになります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
計画は、少数のユーザーに対してDoHを徐々にオンにしてから、問題を監視しながら、より多くのオーディエンスに対してオンにすることです。すべてがうまくいけば、Mozillaは100％展開の準備ができたときに通知します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デフォルトでは、FirefoxにはCloudflare DNSリゾルバーがインストールされています。別のプロバイダーに変更するか、手動でDoHを完全に無効にすることができます。これを行うには、設定で</font></font><code>about:config</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パラメータ</font></font><code>network.trr.mode</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">をに</font><font style="vertical-align: inherit;">設定</font><font style="vertical-align: inherit;">する必要があります</font></font><code>5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。値</font></font><code>2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デフォルトの構成（Cloudflare）に対応し、値</font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は自動的に最速のリゾルバーを選択することです。現在、Firefox Nightlyのアルファ版ですべて動作します。</font><font style="vertical-align: inherit;">
DNSプロバイダーはネットワーク設定を使用できます：</font><i><font style="vertical-align: inherit;">設定</font></i><font style="vertical-align: inherit;"> → </font><i><font style="vertical-align: inherit;">ネットワーク設定</font></i><font style="vertical-align: inherit;"> → </font><i><font style="vertical-align: inherit;">使用プロバイダー</font></i><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">
公開DoHサーバーのリストは</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ここ</font></a><font style="vertical-align: inherit;">で更新され</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">Chromium開発者は</font></a><font style="vertical-align: inherit;"> 
、2019年9月10日に</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">同様の計画</font></a><font style="vertical-align: inherit;">を</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">発表し</font></a><font style="vertical-align: inherit;">ました</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><img src="https://habrastorage.org/webt/wo/t7/wj/wot7wjsag0svc9d-lmgp-lzpvqm.png"></a><br>
<br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<img src="https://habrastorage.org/webt/2l/ur/qf/2lurqf1jd9nl8gpxk4kng9epmg0.png"><br>
<br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。 DoHの実験的テストはChrome 78の次のビルドで開始されます。その安定版リリースは2019年10月22日に予定されています。米国のユーザー向けの機能を徐々に導入しているMozillaとは異なり、Googleの実験は最初は規模が大きく、地理的な制限はありません。最初から6つのCDNプロバイダーを使用できます。これらは、Cleanbrowsing、Cloudflare、DNS.SB、OpenDNS、Quad9、およびGoogleです。ローンチ時までに、パートナーのリストを増やすことができます。</font><font style="vertical-align: inherit;">設定の</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
チェックボックス</font></font><code>chrome://flags/#dns-over-https</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">無効にすることで、Chrome 78での実験への参加を拒否でき</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ブラウザーとCDNの両方でDoHがサポートされているため、ロシアを含む緊急の問題である「中間者」側からのリソースのブロックに効果的に対処できます。</font></font><br>
<br>
<hr><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><img src="https://habrastorage.org/webt/od/n-/xe/odn-xebtl8a5lexzip_kkkezr6s.jpeg"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja468435/index.html">セマンティクス、リンク、およびWebページの解析：SEOプロフェッショナル向けの16の便利なGoogleスプレッドシートの数式</a></li>
<li><a href="../ja468437/index.html">外耳道の形で、甘いものを認識します。ユーザーを識別する新しい方法</a></li>
<li><a href="../ja468439/index.html">ダミーのためのアメリカでのネットワーキング。個人的体験</a></li>
<li><a href="../ja468441/index.html">スポーツにおけるARとVR：現在と未来</a></li>
<li><a href="../ja468443/index.html">9月23日から29日までのモスクワでのデジタルイベント</a></li>
<li><a href="../ja468447/index.html">Laragon-自動ローカルドメインのWAMP</a></li>
<li><a href="../ja468453/index.html">MBLT19 ::レポート、製品の戦い、およびテスト</a></li>
<li><a href="../ja468455/index.html">素晴らしいGPSとそのダークサイド</a></li>
<li><a href="../ja468457/index.html">ダミーのための簡単な算術例のジェネレーターだけでなく、</a></li>
<li><a href="../ja468459/index.html">特徴的なレーダー探知機の概要：フラッグシップのPlayme Silent 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>