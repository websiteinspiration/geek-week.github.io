<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§™ üí™üèæ üìñ Test de charge en tant que service CI pour les d√©veloppeurs ‚òÅÔ∏è üë≤ üè•</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="L'un des probl√®mes que rencontrent souvent les √©diteurs de logiciels multiproduits est la duplication des comp√©tences des ing√©nieurs - d√©veloppeurs, t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Test de charge en tant que service CI pour les d√©veloppeurs</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pt/blog/504290/"><img src="https://habrastorage.org/webt/r5/fa/5g/r5fa5gszksri1ly608-wffhunqu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'un des probl√®mes que rencontrent souvent les √©diteurs de logiciels multiproduits est la duplication des comp√©tences des ing√©nieurs - d√©veloppeurs, testeurs et administrateurs d'infrastructure - dans presque toutes les √©quipes. Cela vaut √©galement pour les ing√©nieurs co√ªteux - experts dans le domaine des tests de charge. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au lieu de s'engager dans leurs responsabilit√©s directes et d'utiliser leur exp√©rience unique pour construire le processus de test de charge, en choisissant une m√©thodologie, des mesures optimales et en √©crivant des autotests en fonction des profils de charge, les ing√©nieurs doivent souvent d√©ployer l'infrastructure de test √† partir de z√©ro, configurer les outils de chargement et les int√©grer. dans les syst√®mes CI, configurer la surveillance et la publication des rapports.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez trouver des solutions √† certains probl√®mes d'organisation dans les tests que nous utilisons chez Positive Technologies dans </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un autre article</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Et je parlerai ici de la possibilit√© d‚Äôint√©grer des tests de charge dans un pipeline CI commun en utilisant le concept de ¬´test de charge en tant que service¬ª. </font><font style="vertical-align: inherit;">Vous apprendrez comment et quelles images Docker des sources de charge peuvent √™tre utilis√©es dans le pipeline CI; </font><font style="vertical-align: inherit;">Comment connecter des sources de charge √† votre projet CI √† l'aide d'un mod√®le d'assemblage; </font><font style="vertical-align: inherit;">√† quoi ressemble un tube de d√©monstration pour ex√©cuter des tests de charge et publier des r√©sultats. </font><font style="vertical-align: inherit;">Cet article peut √™tre utile aux ing√©nieurs de test logiciel et aux ing√©nieurs d'automatisation de CI qui ont pens√© √† l'architecture de leur syst√®me de charge.</font></font><a name="habracut"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Essence du concept</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le concept de test de charge en tant que service implique la capacit√© d'int√©grer les outils de charge Apache JMeter, Yandex.Tank et ses propres cadres dans un syst√®me d'int√©gration continue arbitraire. Une d√©monstration sera faite pour GitLab CI, mais les principes sont communs √† tous les syst√®mes CI. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le test de charge en tant que service est un service centralis√© pour effectuer des tests de charge. Les tests de charge sont ex√©cut√©s dans des pools d'agents d√©di√©s, les r√©sultats sont publi√©s automatiquement dans GitLab Pages, Influx DB et Grafana ou dans les syst√®mes de rapports de test (TestRail, ReportPortal, etc.). L'automatisation et la mise √† l'√©chelle sont r√©alis√©es aussi simplement que possible - en ajoutant et en param√©trant le mod√®le gitlab-ci.yml habituel dans le projet GitLab CI.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'avantage de l'approche est que l'ensemble de l'infrastructure CI, les agents de charge, les images docker des sources de charge, les pipelines de test et la publication des rapports sont pris en charge par le service d'automatisation central (ing√©nieurs DevOps), et les ing√©nieurs de test de charge peuvent concentrer leurs efforts sur le d√©veloppement de tests et l'analyse de leurs r√©sultats, sans aborder les probl√®mes d'infrastructure. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour simplifier la description, nous supposons que l'application ou le serveur de test cible est d√©j√† d√©ploy√© et configur√© √† l'avance (pour cela, des scripts automatis√©s en Python, SaltStack, Ansible, etc. peuvent √™tre utilis√©s). Ensuite, tout le concept du stress testing en tant que service s'inscrit en trois √©tapes: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pr√©paration, test, publication des rapports</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Plus de d√©tails sur le sch√©ma (toutes les photos sont cliquables):</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/uc/no/nj/ucnonjamcikvuob-3njskwev-he.png"></a><br>
<br>
<h2>      </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lors des tests de r√©sistance, nous essayons d'adh√©rer aux </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">normes et √† la m√©thodologie de l'ISTQB</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , nous utilisons la terminologie appropri√©e et les mesures recommand√©es. Je vais donner une courte liste de concepts de base et de d√©finitions dans les tests de charge. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agent de chargement (agent de chargement)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - la machine virtuelle sur laquelle l'application sera lanc√©e - la source de la charge (Apache JMeter, Yandex.Tank ou module de chargement auto-√©crit). </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le but du test (cible)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est un serveur ou une application install√©e sur le serveur qui sera soumis √† une charge. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cas de test (cas de test)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - un ensemble d'√©tapes param√©tr√©es: actions de l'utilisateur et r√©actions attendues √† ces actions, avec demandes et r√©ponses de r√©seau fixes, en fonction des param√®tres sp√©cifi√©s.</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Profil ou plan de charge (profil)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - dans la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m√©thodologie ISTQB</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Section 4.2.4, p. 43), les profils de charge d√©terminent les m√©triques critiques pour un test particulier et les options pour changer les param√®tres de charge pendant le test. Vous pouvez voir des exemples de profils sur la figure. </font><b><font style="vertical-align: inherit;">Test</font></b><font style="vertical-align: inherit;"> est un script avec un ensemble de param√®tres pr√©d√©finis. </font><b><font style="vertical-align: inherit;">Plan de</font></b><font style="vertical-align: inherit;"> test - suite de tests et profil de charge. </font><b><font style="vertical-align: inherit;">Testrun (testrun)</font></b><font style="vertical-align: inherit;"> - une it√©ration d'ex√©cution d'un test avec un sc√©nario de charge enti√®rement ex√©cut√© et un rapport re√ßu. </font><b><font style="vertical-align: inherit;">Requ√™te r√©seau (requ√™te)</font></b><font style="vertical-align: inherit;"> - Une requ√™te HTTP envoy√©e de l'agent √† la cible. </font><b><font style="vertical-align: inherit;">R√©ponse du r√©seau (r√©ponse)</font></b><font style="vertical-align: inherit;"> - Une r√©ponse HTTP envoy√©e de la cible √† l'agent.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/qm/iq/d5/qmiqd5egscabj6hrmlnufxnyv4m.png"></a><br>
<br>
<b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'√©tat de r√©ponse HTTP est un code de r√©ponse standard du serveur d'applications. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Transaction (transaction) - un cycle complet de ¬´demande - r√©ponse¬ª. </font><font style="vertical-align: inherit;">Une transaction est compt√©e depuis le d√©but de l'envoi d'une demande (demande) jusqu'√† la fin de la r√©ception d'une r√©ponse (r√©ponse). </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Statut de transaction (statut de transaction)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - √©tait-il possible de terminer avec succ√®s le cycle "demande-r√©ponse". </font><font style="vertical-align: inherit;">S'il y a eu une erreur dans cette boucle, alors la transaction enti√®re est consid√©r√©e comme infructueuse. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Temps de r√©ponse (latence)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - temps entre la fin de l'envoi d'une demande (demande) et le d√©but de la r√©ception d'une r√©ponse (r√©ponse). </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√©triques de chargement (m√©triques)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - les caract√©ristiques du service charg√© et de l'agent de chargement d√©finies au cours du processus de test de charge.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mesures de base pour mesurer les param√®tres de charge</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Certaines des </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mesures</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> les plus courantes et recommand√©es dans la m√©thodologie </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">ISTQB</font></a><font style="vertical-align: inherit;"> (p. 36, 52) sont pr√©sent√©es dans le tableau ci-dessous. </font><font style="vertical-align: inherit;">Des mesures similaires pour l'agent et la cible sont affich√©es sur la m√™me ligne.</font></font><br>
<br>
<div class="scrollable-table"><table>
<thead>
<tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Charger les m√©triques de l'agent</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mesures du syst√®me cible ou de l'application test√©e sous charge</font></font></th>
</tr>
</thead>
<tbody>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le nombre de&nbsp;&nbsp; </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vCPU</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et de m√©moire </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RAM</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Disque</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - "repasser" les caract√©ristiques de l'agent de charge</font></font></td>
<td><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CPU</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Memory, Disk usage</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - la dynamique du chargement du processeur, de la m√©moire et du disque </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
pendant les tests. </font><font style="vertical-align: inherit;">G√©n√©ralement mesur√© en pourcentage des </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
valeurs maximales disponibles.</font></font></td>
</tr>
<tr>
<td><b>Network throughput</b> (on load agent) ‚Äî   <br>
   , <br>
   . <br>
      (bps)</td>
<td><b>Network throughput</b>(on target) ‚Äî     <br>
  .       (bps)</td>
</tr>
<tr>
<td><b>Virtual users</b>‚Äî   , <br>
    <br>
   </td>
<td><b>Virtual users status</b>, Passed/Failed/Total ‚Äî    <br>
     <br>
  ,     .<br>
<br>
 ,      <br>
  ,    . <br>
   ,       <br>
      </td>
</tr>
<tr>
<td><b>Requests per second (minute)</b>‚Äî      ( ).<br>
<br>
   :     . <br>
       </td>
<td><b>Responses per second (minute)</b><br>
 ‚Äî      ( ).<br>
<br>
   :   <br>
       <br>
 </td>
</tr>
<tr>
<td></td>
<td><b>HTTP responses status</b>‚Äî     <br>
  ,   . <br>
, 200 OK   , <br>
 404 ‚Äî    </td>
</tr>
<tr>
<td></td>
<td><b>Latency</b> ( ) ‚Äî    <br>
  (request)     (response). <br>
    (ms)</td>
</tr>
<tr>
<td></td>
<td><b>Transaction response time</b>‚Äî    , <br>
  ¬´ ‚Äî ¬ª. <br>
      (request) <br>
    (response).<br>
<br>
      ( ) <br>
 :  , <br>
,  , , 90- . <br>
    ‚Äî   <br>
  . <br>
    , <br>
    , <br>
     </td>
</tr>
<tr>
<td></td>
<td><b>Transactions per second (minute)</b> ‚Äî   <br>
   (), <br>
       <br>
    . <br>
    </td>
</tr>
<tr>
<td></td>
<td><b>Transactions status</b> , Passed / Failed / Total ‚Äî  <br>
,     .<br>
<br>
    <br>
    <br>
     </td>
</tr>
</tbody>
</table></div><br>
<h2>   </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le sch√©ma de base des tests de charge est tr√®s simple et se compose de trois √©tapes principales, que j'ai d√©j√† mentionn√©es: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pr√©parer - Tester - Rapport</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , c'est-√†-dire pr√©parer des objectifs de test et d√©finir des param√®tres pour les sources de charge, puis effectuer des tests de charge et, enfin, g√©n√©rer et publier un rapport sur les tests. </font><font style="vertical-align: inherit;">
Notes sur le sch√©ma:</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/o5/s5/z5/o5s5z5f79dpui3ojk5vbwgsayso.png"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">QA.Tester - expert en stress tests,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Target est l'application cible pour laquelle vous devez conna√Ætre son comportement sous charge.</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Classificateur des entit√©s, √©tapes et √©tapes du diagramme</font></font></h2><br>
<div class="scrollable-table"><table>
<thead>
<tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√âtapes et √©tapes</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Que ce passe-t-il</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Ä l'entr√©e</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quelle est la sortie</font></font></th>
</tr>
</thead>
<tbody>
<tr>
<td colspan="4"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pr√©parer: phase de pr√©paration des tests</font></font></td>
</tr>
<tr>
<td><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Param√®tres de charge</font></font></b></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√©finition et initialisation </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
des </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
param√®tres de charge </font><font style="vertical-align: inherit;">utilisateur </font><font style="vertical-align: inherit;">, </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
s√©lection des m√©triques et </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
pr√©paration d'un plan de test </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
(profil de charge)</font></font></td>
<td>  <br>
  <br>
-<br>
 </td>
<td></td>
</tr>
<tr>
<td><b>VM</b></td>
<td>   <br>
   <br>
 </td>
<td>    <br>
   <br>
 </td>
<td>  <br>
 </td>
</tr>
<tr>
<td><b>Env</b></td>
<td>    <br>
  <br>
  </td>
<td>   <br>
 <br>
   <br>
 </td>
<td> : <br>
,   , <br>
   <br>
 </td>
</tr>
<tr>
<td><b>LoadAgents</b></td>
<td>,    <br>
 . <br>
  -  <br>
  </td>
<td>-   <br>
(, JM   )<br>
  <br>
 </td>
<td>   <br>
   <br>
</td>
</tr>
<tr>
<td colspan="4">Test:    .    ,       GitLab CI</td>
</tr>
<tr>
<td><b>Load</b></td>
<td>   <br>
  -<br>
   </td>
<td>  <br>
  <br>
 <br>
-<br>
 </td>
<td>  <br>
 <br>
 <br>
      </td>
</tr>
<tr>
<td><b>RunAgents</b></td>
<td>  <br>
   <br>
  <br>
  <br>
   <br>
  </td>
<td>-<br>
 </td>
<td></td>
</tr>
<tr>
<td><b>Logs</b></td>
<td> ¬´¬ª  <br>
   : <br>
    , <br>
   <br>
 ,    </td>
<td></td>
<td>  <br>
 <br>
 </td>
</tr>
<tr>
<td><b>Metrics</b></td>
<td> ¬´¬ª    </td>
<td></td>
<td>    <br>
  </td>
</tr>
<tr>
<td colspan="4">Report:     </td>
</tr>
<tr>
<td><b>Generator</b></td>
<td>  <br>
   <br>
  ¬´¬ª <br>
  <br>
   <br>
 , <br>
   <br>
</td>
<td>  <br>
 <br>
 <br>
   <br>
   </td>
<td> ¬´¬ª  <br>
 ,   <br>
   <br>
   ,<br>
   </td>
</tr>
<tr>
<td><b>Publish</b></td>
<td>  <br>
  <br>
   <br>
</td>
<td> ¬´¬ª <br>
  ,  <br>
    <br>
</td>
<td>   <br>
   <br>
,  <br>
  </td>
</tr>
</tbody>
</table></div><br>
<h2>    CI-</h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Passons √† la partie pratique. Je veux montrer comment, sur certains projets de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Positive Technologies,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nous avons mis en ≈ìuvre le concept de test de charge en tant que service. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout d'abord, avec l'aide de nos ing√©nieurs DevOps, nous avons cr√©√© un pool d'agents d√©di√© dans GitLab CI pour ex√©cuter des tests de charge. Afin de ne pas les confondre dans les mod√®les avec d'autres, tels que les pools d'assemblages, nous avons ajout√© des balises √† ces agents, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">balises</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : load. Vous pouvez utiliser toutes les autres balises claires. Ils sont d√©finis </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lors de l'inscription des</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> coureurs GitLab CI.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comment conna√Ætre la puissance requise par le mat√©riel? Les caract√©ristiques des agents de charge - une quantit√© suffisante de vCPU, de RAM et de disque - peuvent √™tre calcul√©es sur la base du fait que Docker, Python (pour Yandex.Tank), l'agent GitLab CI, Java (pour Apache JMeter) doivent √™tre ex√©cut√©s sur l'agent. Pour Java sous JMeter, il est √©galement recommand√© d'utiliser un minimum de 512 Mo de RAM et, comme limite sup√©rieure, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">80% de la m√©moire disponible</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, sur la base de notre exp√©rience, nous recommandons d'utiliser au moins 4 vCPU, 4 Go de RAM, 60 Go de SSD pour les agents de charge. La bande passante de la carte r√©seau est d√©termin√©e en fonction des exigences du profil de charge. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous utilisons principalement deux sources de charge - les images docker Apache JMeter et Yandex.Tank. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yandex.Tank</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Il s'agit de l'outil open source de Yandex pour les tests de stress. Son architecture modulaire est bas√©e sur le g√©n√©rateur de requ√™tes HTTP asynchrone √† hautes performances bas√© sur les hits Phantom. Le r√©servoir a une surveillance int√©gr√©e des ressources du serveur test√© en utilisant le protocole SSH, peut arr√™ter automatiquement le test selon les conditions donn√©es, peut produire les r√©sultats √† la fois sur la console et sous forme de graphiques, vous pouvez y connecter vos modules pour √©tendre les fonctionnalit√©s. Soit dit en passant, nous avons utilis√© Tank alors qu'il n'√©tait pas encore courant. Dans l'article ¬´ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yandex.Tank et automatisation des tests de charge</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ¬ª, vous pouvez lire l'histoire de la fa√ßon dont, en 2013, nous l'avons utilis√© pour </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">effectuer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> des tests de charge de </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">PT Appllication Firewall</font></a><font style="vertical-align: inherit;"> - l'un des produits de notre soci√©t√©. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apache JMeter</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Est un outil open source pour effectuer des tests de r√©sistance Apache. Il peut √©galement √™tre utilis√© pour tester des applications Web statiques et dynamiques. JMeter prend en charge un grand nombre de protocoles et de fa√ßons d'interagir avec les applications: HTTP, HTTPS (Java, NodeJS, PHP, ASP.NET, etc.), les services Web SOAP / REST, FTP, TCP, LDAP, SMTP (S), POP3 (S ) et IMAP (S), des bases de donn√©es via JDBC, peuvent ex√©cuter des commandes shell et travailler avec des objets Java. JMeter dispose d'un IDE pour cr√©er, d√©boguer et ex√©cuter des plans de test. Il existe √©galement une CLI pour travailler sur la ligne de commande de tout syst√®me d'exploitation Java compatible (Linux, Windows, Mac OS X). L'outil peut g√©n√©rer dynamiquement un rapport de test HTML.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour faciliter l'utilisation au sein de notre entreprise, pour permettre aux testeurs de changer et d'ajouter l'environnement, nous avons cr√©√© des images de docker des sources de charge sur GitLab CI avec publication dans le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">docker-register</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> interne </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">sur Artifactory</font></a><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">De cette fa√ßon, il s'av√®re plus rapide et plus facile de les connecter dans des pipelines pour les tests de charge. </font><font style="vertical-align: inherit;">Comment faire docker pousser le registre via GitLab CI - voir les </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">instructions</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le fichier docker de base pour Yandex.Tank nous avons pris ceci:</font></font><br>
<br>
<pre><code class="bash hljs">Dockerfile <font></font>
1 | FROM direvius/yandex-tank<font></font>
2 | ENTRYPOINT [<span class="hljs-string">""</span>]</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et pour Apache JMeter celui-ci:</font></font><br>
<br>
<pre><code class="bash hljs">Dockerfile <font></font>
1 | FROM vmarrazzo/jmeter<font></font>
2 | ENTRYPOINT [<span class="hljs-string">""</span>]</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez lire le fonctionnement de notre syst√®me d'int√©gration continue dans l'article ¬´ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Automatisation des processus de d√©veloppement: comment nous avons impl√©ment√© les id√©es DevOps dans les technologies positives</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ¬ª.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mod√®le et pipeline</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un exemple de mod√®le pour effectuer des tests de charge est disponible dans le projet de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d√©monstration</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Vous </font><font style="vertical-align: inherit;">pouvez lire les instructions d'utilisation du mod√®le </font><font style="vertical-align: inherit;">dans le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fichier Lisezmoi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Dans le mod√®le lui-m√™me (le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fichier .gitlab-ci.yml</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), il y a des notes sur ce dont telle ou telle √©tape est responsable. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le mod√®le est tr√®s simple et illustre les trois √©tapes du test de charge d√©crites ci-dessus dans le diagramme: pr√©paration, test et publication des rapports. Responsable du </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r√©pertoire des √©tapes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pr√©paration, test et rapport</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<ol>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Prepare</a>           .       ,     -    docker registry:       Test.         .</li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Test</a>     ,      .     : Yandex.Tank, Apache JMeter,    .         job-.     :<br>
 <ul>
<li>  Yandex.Tank    .<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">/tests/yandextank.sh</a>,</li>
<li>  Apache JMeter    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">./tests/jmeter.sh</a>.</li>
</ul><br>
:         CI-        .     ,    bash-.   ,       ‚Äî    QA-.               .        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">./tests</a>.<br>
 </li>
<li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Report</a>      ,    Test,   ,   GitLab Pages    .  GitLab Pages ,      ./public        index.html.     GitLab Pages    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> </a>.<br>
<br>
,   : <ul>
<li> JMeter  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">GitLab Pages</a>,</li>
<li> Yandex.Tank  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">InfluxDB  Grafana</a>.</li>
</ul><br>
   :<ul>
<li>HTML-  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">GitLab Pages</a>,</li>
<li> InfluxDB    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Grafana</a>.</li>
</ul></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans un exemple de d√©monstration, un pipeline avec des tests de charge et deux sources de charge (vous pouvez d√©sactiver inutiles) ressemble √† ceci: </font><font style="vertical-align: inherit;">
Apache JMeter peut g√©n√©rer un rapport HTML lui-m√™me, il est donc plus rentable de l'enregistrer dans les pages GitLab √† l'aide d'outils standard. </font><font style="vertical-align: inherit;">Voici √† quoi ressemble le rapport Apache JMeter: </font><font style="vertical-align: inherit;">
Dans la d√©mo de Yandex.Tank, vous ne verrez qu'un </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">faux rapport de texte</font></a><font style="vertical-align: inherit;"> dans la section des pages GitLab. </font><font style="vertical-align: inherit;">Pendant les tests, le Tank est capable d'enregistrer les r√©sultats dans la base de donn√©es InfluxDB, et √† partir de l√†, ils peuvent √™tre affich√©s, par exemple, dans Grafana (la configuration est effectu√©e dans le fichier </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">./tests/example-yandextank-test.yml</font></a><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">Voici √† quoi ressemble le rapport de Tank √† Grafana:</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/t6/0f/bx/t60fbxhrvwnju5mubzwmifhjmn0.png"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/fr/pl/pr/frplprdv1ns3obkqrpn2i4tgetu.png"></a><br>
<br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/a6/y9/zw/a6y9zw9ej6wcy_g5pk69s1ncrpa.png"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sommaire</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans l'article, j'ai parl√© du concept de "test de charge en tant que service" (test de charge en tant que service). L'id√©e principale est d'utiliser l'infrastructure de pools pr√©configur√©s d'agents de chargement, d'images Docker des sources de charge, de syst√®mes de reporting et d'un pipeline les unissant dans GitLab CI bas√© sur un simple mod√®le .gitlab-ci.yml (exemple </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">par r√©f√©rence</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). Tout cela est pris en charge par une petite √©quipe d'ing√©nieurs en automatisation et est reproduit √† la demande des √©quipes de produits. J'esp√®re que cela vous aidera √† pr√©parer et √† mettre en ≈ìuvre un programme similaire dans votre entreprise. Merci de votre attention! </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS Je tiens √† remercier chaleureusement mes coll√®gues, Sergey Kurbanov et Nikolay Yusev, pour leur assistance technique √† la mise en ≈ìuvre du concept de test de charge en tant que service dans notre entreprise. </font></font></i><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Auteur</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Timur Gilmullin</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - d√©put√©. </font><font style="vertical-align: inherit;">Responsable Technologie et Processus de D√©veloppement (DevOps), Technologies Positives</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr504264/index.html">Commentaire Huawei Review: commentez les publications Wi-Fi 6 et obtenez des prix</a></li>
<li><a href="../fr504270/index.html">Svelte est-il un bon choix pour la mise en ≈ìuvre de widgets?</a></li>
<li><a href="../fr504276/index.html">Top 10 des livres pour d√©veloppeurs</a></li>
<li><a href="../fr504282/index.html">Cr√©ation d'architecture d'entreprise dans NSPK</a></li>
<li><a href="../fr504284/index.html">Le livre ¬´Pure Agile. Les bases de la flexibilit√©</a></li>
<li><a href="../fr504296/index.html">G√©n√©ration de branches al√©atoires en Python</a></li>
<li><a href="../fr504306/index.html">Comment le mat√©riel russe est-il con√ßu pour le stockage Aerodisk Vostok sur Elbrus</a></li>
<li><a href="../fr504310/index.html">Dichotomie des donn√©es: repenser la relation avec les donn√©es et les services</a></li>
<li><a href="../fr504312/index.html">Registre unifi√© des programmes russes et de la GPL. Mes cinq cents</a></li>
<li><a href="../fr504314/index.html">Impl√©mentation des commandes Docker Pull et Docker Push sans client Docker via des requ√™tes HTTP</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>