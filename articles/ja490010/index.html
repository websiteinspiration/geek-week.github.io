<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏕️ 🛸 🧙 音楽の正しさをチェックするための型システムの検査 💄 👕 🐛</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="今日、プログラミング言語を使用した音楽のプレゼンテーションについて多くの話題があります。これは一方ではエンジニアにとって興味深いタスクであり、他方では音楽の普遍的な説明の一部であるためです。
 
 それはどのように見えますか？多くの言語で、音楽プログラミング環境が作成されています。最も人気があるのは...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>音楽の正しさをチェックするための型システムの検査</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/nix/blog/490010/"><img src="https://habrastorage.org/webt/ge/ng/6l/geng6lj6ji51qdtlif1kb8izjnm.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今日、プログラミング言語を使用した音楽のプレゼンテーションについて多くの話題があります。これは一方ではエンジニアにとって興味深いタスクであり、他方では音楽の普遍的な説明の一部であるためです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それはどのように見えますか？多くの言語で、音楽プログラミング環境が作成されています。最も人気があるのは</font><font style="vertical-align: inherit;">、Haskellの</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TidalCycles</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font><font style="vertical-align: inherit;">Raspberry Pi上のRubyの</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sonic Pi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ライプツィヒ作曲家ライブラリ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用するツールもあり</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。 Clojureで記述されているため、型チェックがありません。</font></font><br>
<br>
<pre><code class="plaintext hljs">(def row-row-row-your-boat<font></font>
  (phrase [3/3 3/3 2/3 1/3 3/3]<font></font>
          [  0   0   0   1   2]))<font></font>
<font></font>
-&gt;&gt; row-row-row-your-boat<font></font>
  (canon (simple 4))<font></font>
  (where :pitch (comp C major))<font></font>
  (where :time (bpm 90))<font></font>
  play)<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
音の持続時間とピッチは整数とリテラル係数として表されるため、あまり便利ではありません。音楽の変革に関して言えば、プログラミングは非常に役立ちます。たとえば、上記の例では、キーはCメジャーのキーに設定され、テンポは90ビート/分です。</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プログラマーが音楽コードを見るとき、彼らはほとんどの場合、型システムを使用して偽の実行を防ぐことが可能かどうか尋ねます。公正な質問。音楽をコードとして表すことができる場合、音楽の書き込みエラーはプログラミングエラーと見なすことができますか？もしそうなら、私たちがプログラムを書くために使用するテクニックを使って音楽を書くプロセスを改善しませんか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
特に、型システムで防止できるエラーと、一般的な音楽の不正確さのケースの間には明らかな類似点があります。プログラミング言語が、数値を取得することを期待している関数に文字列を渡したかどうかを確認できる場合、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">Cメジャーで</font></a><font style="vertical-align: inherit;">記述されたパッセージでf-sharpを使用していないことを確認できます</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、変質の兆候がない鍵。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、音楽が正しくなる理由と、タイプシステムを使用して音楽を表現する方法について説明します。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">規範主義</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
理論家たちは何世紀にもわたって音楽を正しくするものについて議論してきました。</font><font style="vertical-align: inherit;">ほとんどの場合、それらは音楽の規定主義のフレームワーク内で動作します。音楽をいくつかのルールセットに準拠して評価します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ルールを形成するための主要な方法論を説明できます。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">カノンを学ぶ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パターンの定義</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">それらを一連のルールとして定式化する</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それからそれは主張することができます：</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これらのルールに準拠していない音楽は正しくありません。</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、合成規則では、メロディー内の大きなseptimaからsへのジャンプは許可されていません。このアプローチにより、数多くの貴重な発見がありました。クラシック音楽には非常に興味深いパターンがあり、規則のセットとしての観察の一般化は、音楽の現象を議論するのに役立ちます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、楽器を習得する場合は、ルールに従うと便利です。教師がヴァイオリンをハ長調で練習する子どもたちを正すが、道に迷うのは良いことです。正しい音楽と正しくない音楽の定義を守ることが役立つ状況があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、このアプローチには2つの主な欠点があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、このプロセスから生じるルールは、理論家が規範と見なすものに大きく依存します。データセットの偏りは結論の偏りにつながり、西洋のクラシック音楽は人類の音楽体験全体を反映していません。バッハとモーツァルトの音楽に基づいてルールを作成するのは楽しいかもしれませんが、音楽全般についてはあまり説明しません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
音楽のジャンルは特定の文化や民族に強く関連していることが多く、特定のタイプの音楽を優先することで、特定のタイプの人々を無意識のうちに優先することに気づくと、状況は複雑になります。たとえば、音楽の学術理論では、ヨーロッパの古典的な伝統の研究に多くの注意が払われ、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">アフリカからの移民のディアスポラに由来する音楽には比較的</font></a><font style="vertical-align: inherit;">注意が払われてい</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ません</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：ブルース、ジャズ、ロックンロール、ヒップホップ。伝統的な理論を通じて音楽の正しさを評価する場合、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">顔認識アルゴリズムが黒人よりも白人でうまく機能した</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">場合、これは問題の文化的バージョンにつながる可能性があり</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます。</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
パターンを特定して一般化してルールを作成することの2番目の大きな欠点は、この方法で常に過去に焦点を当てることです。そして、音楽はルールを破ったときに最も興奮します。ジミーペイジ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が歪み効果を使用する</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前は</font><font style="vertical-align: inherit;">、エンジニアは増幅中に信号をクリップすることを欠陥と考えていました。そして、明らかにされたパターンは現代の音楽を理解するのに役立ちますが、それらは将来の音楽を評価するために完全に不適切です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
音楽に適したタイプシステムは、記述された規範主義の両方のトラップを回避する必要があります。</font><font style="vertical-align: inherit;">それは正しい音楽のための受け入れられないか主観的な基準に基づいているべきではありません。</font><font style="vertical-align: inherit;">同時に、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">誤った状態を表現できないよう</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">にしようと</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">する</font></a><font style="vertical-align: inherit;">と、型システムは新しい状態の出現を妨げるべきではありません。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">記述主義</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
規範主義の代替手段は記述主義です。</font><font style="vertical-align: inherit;">最初のケースで音楽パターンが拘束力のあるルールと見なされる場合、2番目のケースでは、それらは練習の過程で形成されるパターンと見なされます。</font><font style="vertical-align: inherit;">音楽ルールの研究への記述的アプローチは次のようになります：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">音楽の身体を探る</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">傾向を特定する</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">それらをモデルの形で定式化します</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次のように主張することができます：</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モデルから逸脱した音楽は珍しいです。</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを行うには、正しいか間違っているかではなく、普通か異常かを説明できる音楽構造の優れたモデルが必要です。</font><font style="vertical-align: inherit;">David Huronは、彼の著書「</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sweet Anticipation」で、</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 3つの主要な側面に還元できる記述理論を提供しています。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">音楽は統計的トレーニングによって評価されます</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">あなたは正しい予測に満足しています</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目新しさに飽きさせない</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
前の規範的な例では、音符からCへのジャンプは間違いと見なされます。</font><font style="vertical-align: inherit;">そしてヒューロンの理論によれば、これは非常に珍しいでしょう。</font><font style="vertical-align: inherit;">西洋音楽をよく聞いた人は、音符を聞くと、次の音符が別の音符であるか、音が1つ上または下であることに気付くでしょう。</font><font style="vertical-align: inherit;">Bにジャンプすると、聴衆を驚かせるでしょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ヒューロンの理論の奇妙な結果の1つは、音楽を書くことはフィクションを最大化または最小化するための練習ではないということです。音楽は秩序とカオスの境界でバランスをとり、リスナーの位置は、ノベルティの衝撃と期待される満足感のバランスをとるミュージシャンの能力に依存します。本当にその構成の正しさをチェックしたいのであれば、それが受け入れられた伝統から遠すぎないことを確認する必要がありますが、それらを厳格に守ってはいけません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下は、旋律の傾向の統計分析からのデータです。色が濃いほど、結果の可能性が高くなります。いずれかの音符が含まれる行を選択し、選択した音符に続く可能性が高い音符が含まれているセルを見つけます。交差点が別の音符の列と暗くハイライト表示されます。たとえば、このデータセットでは、メモがメモに戻った後のケースの33.53％です。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d5f/958/cf0/d5f958cf07219b7f4d092ab67b2e9529.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらのデータはヒューロンの本から取られたものであり、メジャーのゲルマン民謡からの25万以上のトーンペアの分析の結果です。ヒップホップやロックンロールなどの別のデータ配列は、さまざまな確率を示します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらすべての確率は、エントロピービットとして同等に表すことができます。50％の確率は1ビットに対応し、25％の確率は2ビットに対応します。ゼロによる除算を回避するために、データセットで発生しない遷移の確率は1/100 000であると想定します。暗い色は、エントロピーの点でより高価な遷移を示します。たとえば、re afterが6ビットのエントロピーに等しい場合、つまり、1/64の確率があります。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a3f/ae7/419/a3fae7419ea6c759ee7ff137cc6810db.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
エントロピーの形で表現することで、一連の音からの驚きを、ある音から別の音への各遷移がエントロピーカウンターであり、メロディ全体からの驚きを遷移の合計として組み合わせることができます。</font></font><br>
<br>
<pre><code class="plaintext hljs"> -&gt;  -&gt;  -&gt;  = 2,20 + 2,71 + 5,94 = 10,85 <font></font>
 -&gt;  -&gt;  -&gt;  = 2,48 + 7,43 + 5,94 = 15,85 <font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは隠れ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マルコフモデル</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">とよく似てい</font><font style="vertical-align: inherit;">ますが、音符の文字列を生成する代わりに、加重確率を使用してメロディーの可能性を推定します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ノートからCへの遷移は2.48ビットに過ぎないことに気づいたかもしれませんが、一見すると、これはCからCへの遷移が非常に異常であると上記で説明されていたという事実と矛盾します。</font><font style="vertical-align: inherit;">ほとんどの場合、異常な遷移は約10ビットのエントロピーです。</font><font style="vertical-align: inherit;">不一致の理由は、ヒューロンのデータでは、6つの音符のtoからsiへのジャンプ（非常に珍しい）と1つの音符から低いsiへの遷移（かなり一般的な状況）が区別されないためです。</font><font style="vertical-align: inherit;">データでこれら2つのケースを分離できる場合、モデルはpre-si-mi-faチェーンがpre-re-mi-faよりも型破りに聞こえることを示します。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">入力されたメモ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
理想的には、型システムは、プログラマーが正しい決定を行い、エラーの可能性を排除するのに役立ちます。</font><font style="vertical-align: inherit;">音楽の良い例えはソルフェジオです。</font><font style="vertical-align: inherit;">あなたは音楽教育を持っていない場合は、曲のソルフェージュと知り合いもでき</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DO-再ミ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ミュージカルから</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">音楽ザサウンド</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">オクターブの各ノートには独自の名前があり、名前の調性以外のノートには次のものがありません。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">へ（このセットの最低音）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">再</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ミ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">塩</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ラ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">へ（現在は1オクターブ上）</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このシステムは、ミュージシャンが正しい音符に固執することを可能にし、選択されたキーの外で音符を演奏することを禁止するミニ言語を設定します。</font><font style="vertical-align: inherit;">dとreの間には無限に多くの周波数がありますが、ソルフェージョ内では再現されません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、代数型データとしてコードで簡単に表すことができます。</font></font><br>
<br>
<pre><code class="plaintext hljs">data Solfege = Do | Re | Mi | Fa | So | La | Ti
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、キーの外側のノートを許可しない音楽機能を定義できます。たとえば、次の関数は1つのノートを</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回</font><font style="vertical-align: inherit;">繰り返します</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="plaintext hljs">repeat : Nat -&gt; Solfege -&gt; List Solfege<font></font>
repeat 0 s = [s]<font></font>
repeat n s = s :: repeat (n - 1) s<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このように定義すると、音符の三重反復は、音楽の分野で理解しやすい表現になります。</font><font style="vertical-align: inherit;">シャープシャープはタイプ値ではないため、シャープシャープを3回繰り返すとタイプチェックエラーになります</font></font><code>Solfege</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これにより、特定のタイプの安全性が得られます。</font><font style="vertical-align: inherit;">私たちのシステムは間違った音符を回避することを可能にしますが、それでも</font><font style="vertical-align: inherit;">音符の</font><font style="vertical-align: inherit;">誤った</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">組み合わせから</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">保護しません</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">Cメジャーで演奏した場合、Fシャープは演奏しませんが、Cを演奏してから、B音符の大きなセプティマにジャンプすることができます。これは、（従来の）合成ルールでは禁止されています。</font><font style="vertical-align: inherit;">このようなコンテキストタイプチェックは可能ですが、より複雑なアプローチが必要です。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">型付き遷移</font></font></h2><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mezzo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Haskellライブラリ</font><font style="vertical-align: inherit;">は、関連する型を使用して音楽の正確さを検証します。</font><font style="vertical-align: inherit;">説明では、これは「音楽の非常に厳密なテスト」であり、ライブラリは調性だけでなく、さまざまな作曲規則の遵守をチェックできます。</font><font style="vertical-align: inherit;">Mezzoでは、pre-re-mi-faメロディーが許可された間隔で構成されているため、次のコードがコンパイルされます。</font></font><br>
<br>
<pre><code class="plaintext hljs">comp = defScore $ start $ melody :| c :| d :| e :| f :&gt;&gt; g
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、からto siへのジャンプを禁止する規則に違反すると、Mezzoはそのようなコードをコンパイルしません。</font></font><br>
<br>
<pre><code class="plaintext hljs">comp = defScore $ start $ melody :| c :| b :| e :| f :&gt;&gt; g
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mezzoが問題を指摘することさえ素晴らしいです：</font></font><br>
<br>
<pre><code class="plaintext hljs">Major sevenths are not permitted in melody: C and B<font></font>
In the first argument of ‘(:|)’, namely ‘melody :| c :| b’<font></font>
In the first argument of ‘(:|)’, namely ‘melody :| c :| b :| e’<font></font>
In the first argument of ‘(:&gt;&gt;)’, namely<font></font>
    ‘melody :| c :| b :| e :| f_’<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
タイプミスとして間違った音楽を提示するという夢が実現したように思えるかもしれません。</font><font style="vertical-align: inherit;">しかし、時々厄介な状況が発生します。</font><font style="vertical-align: inherit;">ライブラリの作者がショパンの前奏曲をエンコードしたとき、作曲家がいくつかの状況で伝統的な規則に従わないことが判明しました：</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作品はほぼ完全に書き起こされましたが、メゾが指し示す禁止された音程が作成されたため、いくつかのメモをスキップすることが必要な場合がありました。</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
あなたは、誰がそれを禁止することを約束したのかと尋ねるかもしれません。</font><font style="vertical-align: inherit;">ショパンが西洋音楽で何が許され、何が許されないかについて話すことを許されないなら、誰がそれから？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
問題は、Mezzoはコンテキストを考慮に入れることができますが、型推定はバイナリ選択タスクのままであることです。</font><font style="vertical-align: inherit;">ノートのいずれかがノックアウトされ、作業がコンパイルされないかどうかにかかわらず、すべてのノートが正しく、作業がコンパイルされます。</font><font style="vertical-align: inherit;">また、Mezzoでは合成ルールを選択できるという事実にもかかわらず、ルールを適用するかどうかの決定はグローバルです。</font><font style="vertical-align: inherit;">音楽的な決定が通常の合意に違反しているためにルールを無効にすると、作品の他の部分のチェックがキャンセルされます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">型付きエントロピー</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
音楽のタイピング規則を破る、または回避する1つの方法は、ヒューロンのアドバイスの類似性の観点から音符間の遷移をモデル化することです。</font><font style="vertical-align: inherit;">特定の遷移を正しいか間違っているかを宣言する代わりに、ノートのペアの組み合わせに対する観客の驚きを反映するエントロピーの量を計算できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次のコードは、依存型付き関数型言語</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idrisで</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">記述されてい</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">コードでは、ルールに対応するメロディがtoで始まり、saltで終わること、およびこれらのノート間のパスが8〜16ビットのエントロピーを生成することがチェックされます。</font><font style="vertical-align: inherit;">最初に</font></font><code>Melody</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、特定の類似性または大きさのエントロピーを持つメロディーの表現を反映</font><font style="vertical-align: inherit;">するタイプを決定する必要があります</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">この型には3つのコンストラクタがあります。</font></font><br>
<br>
<ul>
<li><code>Pure</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：単一の音符からのメロディーの作成を反映します。上限と下限のエントロピーレベルは0です。</font></font></li>
<li><code>(&gt;&gt;=)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：2つのメロディーを取り、最初のメロディーの終わりの音符から2番目のメロディーの終わりの音に切り替えるコストで、エントロピー境界を合計します。</font></font></li>
<li><code>Relax</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：メロディーを取り、エントロピーの境界を拡大します。</font></font></li>
</ul><br>
<pre><code class="plaintext hljs">data Melody : (Solfege, Solfege) -&gt; (Nat, Nat) -&gt; Type where<font></font>
<font></font>
  Pure  : x -&gt; Melody (x, x) (0, 0)<font></font>
<font></font>
  (&gt;&gt;=) : Melody (w, x) (low, high) -&gt;<font></font>
          (() -&gt; Melody (y, z) (low2, high2)) -&gt;<font></font>
          Melody (w, z) (cost x y + low + low2, cost x y + high + high2)<font></font>
<font></font>
  Relax : Melody (x, y) (low + dl, high) -&gt;<font></font>
          Melody (x, y) (low, high + dh)<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このタイプの定義はより複雑ですが、おかげでイドリスはnotationを使用してメロディーを作成でき</font></font><code>do</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、コンパイラーはエントロピーの境界を追跡します。</font><font style="vertical-align: inherit;">すべての移行のコストが低い、関連する曲は次のとおりです。</font></font><br>
<br>
<pre><code class="plaintext hljs">conventional : Melody (Do, So) (8, 16)<font></font>
conventional = Relax $ do<font></font>
  Pure Do<font></font>
  Pure Re<font></font>
  Pure Mi<font></font>
  Pure Fa<font></font>
  Pure So<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次の曲は大きな中隔にジャンプするため、ルールに準拠していません。</font><font style="vertical-align: inherit;">Mezzoでは、禁止されるか、ルールを完全に無効にする必要があります。</font><font style="vertical-align: inherit;">ここでは、8〜24ビットのエントロピーの範囲に収まるように、メロディーの複雑さの境界を拡大しました。</font></font><br>
<br>
<pre><code class="plaintext hljs">unconventional : Melody (Do, So) (8, 24)<font></font>
unconventional = Relax $ do<font></font>
  Pure Do<font></font>
  Pure Ti<font></font>
  Pure Mi<font></font>
  Pure Fa<font></font>
  Pure So<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
代わり</font></font><code>Melody (Do, So) (8, 24)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に、メロディの規則に準拠しないタイプを割り当てると、</font></font><code>Melody (Do, So) (8, 16)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンパイルされません！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このアプローチの目新しさは、音楽が退屈になりすぎるといつ理解できるかです。メロディーのエントロピーが下限に達しない場合、タイプエラーが生成されます。したがって、ルールに準拠するメロディにタイプを割り当てると、</font></font><code>Melody (Do, So) (16, 24)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エントロピーが下限に達しないため、タイプもコンパイルされません。これはヒューロン理論への信念を持って私たちを鼓舞します。それによれば、人々があまりにも珍しい、または予測できない音楽を聴くのは非常に難しいでしょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
縮退の場合、キー内部のノート間の遷移はエントロピーを増加させず、キー外部の遷移はエントロピーを任意に大きく増加させます。</font><font style="vertical-align: inherit;">次に、中間ステータスなしで、各ノートが許可または禁止されていると見なされるバイナリ評価に戻すことをお勧めします。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重要だが確認が難しい</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
音楽の正しさを判断することは難しいため、音楽の種類を確認することは困難です。音楽の正確さの定義を数学的に正確にモデル化できない場合、それを型システムに転送できません。理解を正式に形式化できたとしても、コンパイラがメロディーを適切に評価できるように、努力して強力な型システムを適用する必要があります。ただし、これは、いくつかの定義といくつかの簡略化の仮定で可能です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは単なる好奇心ですか？多分。音楽業界が作曲エラーを防ぐためにすぐにタイプシステムを採用することはまずありません。しかし、音楽の分野でのコンピューティングの研究が、ほとんどすべての人の生活の中でそのような重要な役割を果たしているものを異なる方法で評価するのに役立つなら、これだけですべての努力を正当化できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
おそらく、音楽は正しさが重要であるが検証が困難な分野の1つに過ぎないという事実も重要です。</font><font style="vertical-align: inherit;">プログラミングの助けを借りてより積極的に社会的および文化的領域が自動化されるほど、答えを評価することが困難である状況がより頻繁に発生します。これは人々にとって重要です。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">投獄する期間を決定するコンピュータプログラムを使用して</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ください</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">課された文の正確さは、コストと確率の間の複雑なトレードオフに依存し、システムによる意思決定のロジックを追跡できない場合、結果の公平性をどのように評価できますか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
不透明な意思決定プロセスを自動化するたびに、「システムが正しく機能していることをどのようにして知ることができるのか」と自問する必要があります。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja489992/index.html">Kubernetesクラスターでのポッドのシャットダウンを修正</a></li>
<li><a href="../ja489994/index.html">Kubernetesのヒントとコツ：NGINXとPHP-FPMの優雅なシャットダウンランタイム機能</a></li>
<li><a href="../ja489998/index.html">11. Fortinet Getting Started v6.0。ライセンシング</a></li>
<li><a href="../ja490002/index.html">KotlinとMicronautでGraphQLをグラフ化し、複数のマイクロサービスのAPIへの単一のアクセスポイントを作成する方法</a></li>
<li><a href="../ja490006/index.html">技術仕様の教育プログラム</a></li>
<li><a href="../ja490012/index.html">ストレージのアラートとエラー、それらに対処する方法？</a></li>
<li><a href="../ja490014/index.html">プロのようなJavaScriptツリーの揺れ</a></li>
<li><a href="../ja490018/index.html">片手でモバイルアプリケーションを設計する方法</a></li>
<li><a href="../ja490020/index.html">PVS-Studioの例によるIT分野での英語への翻訳</a></li>
<li><a href="../ja490022/index.html">PowerShellを使用してREST APIを操作する</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>