<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚è∏Ô∏è üë®üèø‚Äçüç≥ ü§™ Utilisation de RabbitMQ avec MonsterMQ Partie 2 üëàüèº üôáüèø üëª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="(Image prise sur le site officiel de RabbitMQ )
 
 Dans le premier article, nous avons √©crit deux programmes PHP qui utilisent RabbitMQ: l'un envoy√© d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Utilisation de RabbitMQ avec MonsterMQ Partie 2</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489022/"><img src="https://habrastorage.org/getpro/habr/post_images/640/66e/579/64066e579d113ef3373c9a3c2c3e75ce.png" alt="image"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Image prise sur le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">site officiel de RabbitMQ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Dans le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">premier article,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nous avons √©crit deux programmes PHP qui utilisent RabbitMQ: l'un envoy√© des messages, le second re√ßu. </font><font style="vertical-align: inherit;">Dans cet article, nous expliquerons comment cr√©er une file d'attente qui r√©partira les t√¢ches qui consomment beaucoup de temps entre de nombreux travailleurs (gestionnaires de messages).</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'id√©e principale n'est pas de terminer imm√©diatement des t√¢ches qui consomment beaucoup de temps, mais de les ajouter √† la file d'attente sous forme de message. </font><font style="vertical-align: inherit;">Plus tard, le travailleur actif re√ßoit un message de la file d'attente, qu'il consomme et ex√©cute la t√¢che comme s'il √©tait en arri√®re-plan. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce concept est tr√®s pertinent pour les applications Web, o√π, par exemple, vous devrez peut-√™tre effectuer des t√¢ches fastidieuses, dont le r√©sultat n'est pas imm√©diatement requis, telles que l'envoi d'un e-mail ou l'envoi d'une demande HTTP √† une application tierce (par exemple, via libcurl √† PHP).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cuisine</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cette partie, nous enverrons des messages qui repr√©senteront des t√¢ches pour les travailleurs. Comme nous n'avons pas de t√¢ches r√©elles, comme le traitement d'images ou la g√©n√©ration de fichiers pdf, nous pr√©tendons que nous sommes occup√©s √† utiliser la fonction </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sleep ()</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Nous prendrons le nombre de points dans le message comme la complexit√© de la t√¢che. Chaque point signifiera une seconde de travail, par exemple, le message </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bonjour ...</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> prendra trois secondes de travail. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous allons l√©g√®rement </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">modifier</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> notre script </font><b><font style="vertical-align: inherit;">send.php</font></b><font style="vertical-align: inherit;"> de la derni√®re le√ßon afin qu'il puisse envoyer des messages arbitraires.</font></font><br>
<br>
<pre><code class="php hljs"><span class="hljs-keyword">try</span> {<font></font>
   $producer = \MonsterMQ\Client\Producer();<font></font>
<font></font>
   $producer-&gt;connect(<span class="hljs-string">'127.0.0.1'</span>, <span class="hljs-number">5672</span>);<font></font>
   $producer-&gt;logIn(<span class="hljs-string">'guest'</span>, <span class="hljs-string">'guest'</span>);<font></font>
<font></font>
   $producer-&gt;queue(<span class="hljs-string">'test-queue'</span>)-&gt;declare();<font></font>
<font></font>
   $message = implode(<span class="hljs-string">' '</span>, array_slice($argv, <span class="hljs-number">1</span>));<font></font>
   $message = <span class="hljs-keyword">empty</span>($message) ? <span class="hljs-string">'Hello world!'</span> : $message;<font></font>
<font></font>
   $producer-&gt;publish($message, <span class="hljs-string">'test-queue'</span>);<font></font>
<font></font>
   <span class="hljs-keyword">echo</span> <span class="hljs-string">"\n Sent {$message} \n"</span>;<font></font>
} <span class="hljs-keyword">catch</span>(\<span class="hljs-built_in">Exception</span> $e) {<font></font>
   var_dump($e);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Notre script </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">receive.php</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> doit √©galement √™tre modifi√©. </font><font style="vertical-align: inherit;">Il doit simuler le fonctionnement pendant une seconde pour chaque point du message re√ßu. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Renommons</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> le fichier en </font><b><font style="vertical-align: inherit;">worker.php</font></b><font style="vertical-align: inherit;"> et √©crivons-y le code suivant:</font></font><br>
<br>
<pre><code class="php hljs"><span class="hljs-keyword">try</span> {<font></font>
   $consumer = \MonsterMQ\Client\Consumer();<font></font>
<font></font>
   $consumer-&gt;connect(<span class="hljs-string">'127.0.0.1'</span>, <span class="hljs-number">5672</span>);<font></font>
   $consumer-&gt;logIn(<span class="hljs-string">'guest'</span>, <span class="hljs-string">'guest'</span>);<font></font>
<font></font>
   $consumer-&gt;queue(<span class="hljs-string">'test-queue'</span>)-&gt;declare();<font></font>
<font></font>
   $consumer-&gt;consume(<span class="hljs-string">'test-queue'</span>);<font></font>
<font></font>
   $consumer-&gt;wait(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">$message, $channelNumber</span>) <span class="hljs-title">use</span> (<span class="hljs-params">$consumer</span>)</span>{
      <span class="hljs-keyword">echo</span> <span class="hljs-string">"\n Received: {$message}"</span>;<font></font>
      sleep(substr_count($message, <span class="hljs-string">'.'</span>));
      <span class="hljs-keyword">echo</span> <span class="hljs-string">"\n Done"</span>;<font></font>
   });<font></font>
} <span class="hljs-keyword">catch</span>(\<span class="hljs-built_in">Exception</span> $e) {<font></font>
   var_dump($e);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, ex√©cutez les deux scripts dans diff√©rents terminaux:</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-comment"># Shell 1</span><font></font>
php worker.php <font></font>
</code></pre><br>
<pre><code class="bash hljs"><span class="hljs-comment"># Shell 2</span>
php send.php <span class="hljs-string">"A very hard task which takes two seconds.."</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'un des avantages de l'utilisation des files d'attente de t√¢ches est la possibilit√© de partager le travail entre de nombreux travailleurs. </font><font style="vertical-align: inherit;">Essayons d'ex√©cuter deux scripts </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">worker.php</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √† la </font><b><font style="vertical-align: inherit;">fois</font></b><font style="vertical-align: inherit;"> dans deux terminaux diff√©rents. </font><font style="vertical-align: inherit;">Et dans le troisi√®me, nous enverrons des messages avec le script </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">send.php</font></font></b><br>
<br>
<pre><code class="bash hljs"><span class="hljs-comment"># Shell 1</span><font></font>
php worker.php <font></font>
</code></pre><br>
<pre><code class="bash hljs"><span class="hljs-comment"># Shell 2</span><font></font>
php worker.php <font></font>
</code></pre><br>
<pre><code class="php hljs"><span class="hljs-comment"># Shell 3</span><font></font>
php new_task.php First message.<font></font>
php new_task.php Second message..<font></font>
php new_task.php Third message...<font></font>
php new_task.php Fourth message....<font></font>
php new_task.php Fifth message.....<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voyons ensuite ce que nos travailleurs ont fait ressortir:</font></font><br>
<pre><code class="php hljs"><span class="hljs-comment"># shell 1</span><font></font>
php worker.php<font></font>
<span class="hljs-comment"># Received: First message.</span>
<span class="hljs-comment"># Done</span>
<span class="hljs-comment"># Received: Third message...</span>
<span class="hljs-comment"># Done</span>
<span class="hljs-comment"># Received: Fifth message.....</span>
<span class="hljs-comment"># Done</span>
</code></pre><br>
<pre><code class="php hljs"><span class="hljs-comment"># shell 2</span><font></font>
php worker.php<font></font>
<span class="hljs-comment"># Received: Second message..</span>
<span class="hljs-comment"># Done</span>
<span class="hljs-comment"># Received: Fourth message....</span>
<span class="hljs-comment"># Done</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par d√©faut, RabbitMQ enverra tour √† tour chaque message suivant au prochain destinataire consommateur. </font><font style="vertical-align: inherit;">En moyenne, chaque destinataire recevra le m√™me nombre de messages, cette m√©thode de distribution des messages est appel√©e round-robin (en cercle). </font><font style="vertical-align: inherit;">Essayez ceci avec trois travailleurs ou plus.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Confirmation du message</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les t√¢ches peuvent prendre un certain temps. </font><font style="vertical-align: inherit;">Peut-√™tre que vous √™tes int√©ress√© par ce qui arrivera au message si vous terminez le travail du destinataire qui n'a pas r√©ussi √† traiter ce message √† la fin. </font><font style="vertical-align: inherit;">Avec notre code actuel, le message sera renvoy√© dans la file d'attente, car l'accus√© de r√©ception du message est activ√© par d√©faut dans MonsterMQ.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque nous utilisons la confirmation de message, nous informons RabbitMQ que le message a √©t√© trait√© et qu'il a le droit de le supprimer de la file d'attente. Si le destinataire a termin√© son travail sans envoyer de confirmation (par exemple, √† la suite d'une interruption inattendue de la connexion TCP), RabbitMQ comprendra que le message n'a pas √©t√© trait√© et le renverra dans la file d'attente, en essayant de le livrer √† d'autres travailleurs disponibles. Ainsi, vous pouvez √™tre s√ªr que les messages ne seront pas perdus, m√™me en cas d'arr√™t inattendu de l'un des employ√©s. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour d√©sactiver l'accus√© de r√©ception de message dans MonsterMQ, vous pouvez passer </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">true</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> comme deuxi√®me argument √† </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">consume ()</font></font></b><br>
<br>
<pre><code class="php hljs">$consumer-&gt;consume(<span class="hljs-string">'test-queue'</span>, <span class="hljs-literal">true</span>);
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oublier la confirmation des messages re√ßus est une erreur assez courante et facilement tol√©r√©e, qui peut entra√Æner de graves cons√©quences. </font><font style="vertical-align: inherit;">Si cela se produit, les messages seront remis encore et encore et s'accumuleront √©galement dans les files d'attente occupant de plus en plus de m√©moire. </font><font style="vertical-align: inherit;">Pour d√©boguer cette erreur, utilisez </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rabbitmqctl</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour afficher le champ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">messages_unacknowledged</font></font></b><br>
<br>
<pre><code class="bash hljs">sudo rabbitmqctl list_queues name messages_ready messages_unacknowledged</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sous Windows, d√©posez sudo</font></font><br>
<br>
<pre><code class="bash hljs">rabbitmqctl.bat list_queues name messages_ready messages_unacknowledged</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S√©curit√© des files d'attente</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Malgr√© le fait que nos messages ne seront pas perdus si l'un des employ√©s met fin inopin√©ment √† son travail, nous pouvons n√©anmoins perdre les files d'attente cr√©√©es si RabbitMQ est ferm√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour vous prot√©ger contre la perte de files d'attente, vous devez d√©clarer la file d'attente comme </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">durable</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (persistante, durable). </font><font style="vertical-align: inherit;">√âtant donn√© que les files d'attente sont idempotentes, c'est-√†-dire que nous ne pouvons pas les modifier ou les recr√©er en appelant la m√©thode de d√©claration avec le m√™me nom, nous devrons d√©clarer une nouvelle file d'attente. </font><font style="vertical-align: inherit;">Faisons-le comme suit</font></font><br>
<br>
<pre><code class="php hljs">$consumer-&gt;queue(<span class="hljs-string">'new-queue'</span>)-&gt;setDurable()-&gt;declare();</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N'oubliez pas de modifier √©galement le code d'annonce de file d'attente dans le code de l'exp√©diteur.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Distribution √©quitable des messages</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous avez peut-√™tre remarqu√© que les messages entre nos deux employ√©s ne sont toujours pas distribu√©s assez honn√™tement. Si, par exemple, chaque message pair prend du temps et que chaque message impair est trait√© rapidement, alors un travailleur recevant des messages chronophages sera toujours occup√©, tandis que le second sera inactif. Pour √©viter cela, vous pouvez utiliser la </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">qualit√© de service</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Ajoutons la ligne suivante √† notre code</font></font><br>
<br>
<pre><code class="php hljs">$consumer-&gt;qos()-&gt;prefetchCount(<span class="hljs-number">1</span>)-&gt;perConsumer()-&gt;apply();</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette ligne indique √† RabbitMQ de ne pas envoyer de messages au destinataire tant qu'il n'a pas trait√© et accus√© r√©ception du message actuel. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">perConsumer ()</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> applique la qualit√© de service √† tous les canaux du destinataire, utilisez la m√©thode </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">perChannel ()</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> si vous souhaitez appliquer la qualit√© de service uniquement au canal actuel. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/270/e31/4b5/270e314b59a085e186e46b28e2593613.png" alt="image"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Image prise sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le site officiel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">RabbitMQ</font></a><font style="vertical-align: inherit;"> )</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Assembler tout le code</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cela ressemblera √† notre </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">send.php</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (exp√©diteur)</font></font><br>
<br>
<pre><code class="php hljs"><span class="hljs-keyword">try</span> {<font></font>
   $producer = \MonsterMQ\Client\Producer();<font></font>
<font></font>
   $producer-&gt;connect(<span class="hljs-string">'127.0.0.1'</span>, <span class="hljs-number">5672</span>);<font></font>
   $producer-&gt;logIn(<span class="hljs-string">'guest'</span>, <span class="hljs-string">'guest'</span>);<font></font>
<font></font>
   $consumer-&gt;queue(<span class="hljs-string">'new-queue'</span>)-&gt;setDurable()-&gt;declare();<font></font>
<font></font>
   $message = implode(<span class="hljs-string">' '</span>, array_slice($argv, <span class="hljs-number">1</span>));<font></font>
   $message = <span class="hljs-keyword">empty</span>($message) ? <span class="hljs-string">'Hello world!'</span> : $message;<font></font>
<font></font>
   $producer-&gt;publish($message, <span class="hljs-string">'test-queue'</span>);<font></font>
<font></font>
   <span class="hljs-keyword">echo</span> <span class="hljs-string">"\n Sent {$message} \n"</span>;<font></font>
} <span class="hljs-keyword">catch</span>(\<span class="hljs-built_in">Exception</span> $e) {<font></font>
   var_dump($e);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et donc le destinataire </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">worker.php</font></font></b><br>
<br>
<pre><code class="php hljs"><span class="hljs-keyword">try</span> {<font></font>
   $consumer = \MonsterMQ\Client\Consumer();<font></font>
<font></font>
   $consumer-&gt;connect(<span class="hljs-string">'127.0.0.1'</span>, <span class="hljs-number">5672</span>);<font></font>
   $consumer-&gt;logIn(<span class="hljs-string">'guest'</span>, <span class="hljs-string">'guest'</span>);<font></font>
<font></font>
   $consumer-&gt;queue(<span class="hljs-string">'new-queue'</span>)-&gt;setDurable()-&gt;declare();<font></font>
<font></font>
   $consumer-&gt;qos()-&gt;prefetchCount(<span class="hljs-number">1</span>)-&gt;perConsumer()-&gt;apply();<font></font>
<font></font>
   $consumer-&gt;consume(<span class="hljs-string">'test-queue'</span>);<font></font>
<font></font>
   $consumer-&gt;wait(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">$message, $channelNumber</span>) <span class="hljs-title">use</span> (<span class="hljs-params">$consumer</span>)</span>{
      <span class="hljs-keyword">echo</span> <span class="hljs-string">"\n Received: {$message}"</span>;<font></font>
      sleep(substr_count($message, <span class="hljs-string">'.'</span>));
      <span class="hljs-keyword">echo</span> <span class="hljs-string">"\n Done"</span>;<font></font>
   });<font></font>
} <span class="hljs-keyword">catch</span>(\<span class="hljs-built_in">Exception</span> $e) {<font></font>
   var_dump($e);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'est tout, dans la prochaine le√ßon, nous apprendrons comment envoyer des messages √† de nombreux destinataires √† partir de la m√™me file d'attente.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr489010/index.html">Nous partageons la plus grande couche de donn√©es en Russie sur la formation en ligne avec des projets en linguistique, personnalisation, conception graphique, ML</a></li>
<li><a href="../fr489012/index.html">Google Cloud Spanner: bon, mauvais, mal</a></li>
<li><a href="../fr489014/index.html">Le livre ¬´Algorithme parfait. Algorithmes gourmands et programmation dynamique ¬ª</a></li>
<li><a href="../fr489016/index.html">Gref allemand: ¬´Nous avons essay√© d'organiser une discussion sur l'AGI, et pas un seul scientifique qui se respecte n'est venu √† lui¬ª</a></li>
<li><a href="../fr489020/index.html">L'√©tude d'un malveillant</a></li>
<li><a href="../fr489024/index.html">Biblioth√®que JavaScript Webix vue par un d√©butant. Partie 5. Travailler avec des donn√©es c√¥t√© utilisateur</a></li>
<li><a href="../fr489026/index.html">La modification des algorithmes Google AdSense peut conduire les propri√©taires de sites et les webmasters</a></li>
<li><a href="../fr489028/index.html">√Ä propos du travail √† distance</a></li>
<li><a href="../fr489034/index.html">La nouvelle application mobile de l'ISU pour le salut ou le salut pour ceux qui cherchent des march√©s publics?</a></li>
<li><a href="../fr489038/index.html">Le livre "Java Concurrency in Practice"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>