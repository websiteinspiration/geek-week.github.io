<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🗽 👩🏿‍🤝‍👨🏼 🚍 アヒルを使用したReduxアプリのスケーリング 👦🏿 🚑 👥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="コースの開始を見越して、「React.js開発者」は有用な資料の翻訳を準備しました。
 
 
 
 
 アプリケーションのフロントエンドはどのように拡張されますか？ 6か月後にコードをサポートする方法は？
 
 2015年、Reduxはフロントエンド開発の世界を席巻し、Reactを超えた標準としての...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>アヒルを使用したReduxアプリのスケーリング</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/492638/"><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コースの開始を見越して、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「React.js開発者」</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は有用な資料の翻訳を準備しました。</font></font><br>
</i></b><br>
<br>
<img src="https://habrastorage.org/webt/v4/na/xg/v4naxgyec9pamduy0s1qf7gjqyc.png"><br>
<hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アプリケーションのフロントエンドはどのように拡張されますか？ 6か月後にコードをサポートする方法は？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2015年、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redux</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はフロントエンド開発の世界を席巻し、Reactを超えた標準としての地位を確立しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私が働いている会社は最近、Reactの大きなコードベースのリファクタリングを完了しました</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">ここでは、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">refluxの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代わりにreduxを実装しました</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
適切に構造化されたアプリケーションと明確な一連のルールなしに前進することは不可能だったので、このステップを踏む必要がありました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コードベースは2年以上前から存在しており、最初から逆流が続いています。 1年以上誰も触れなかったReactコンポーネントに強く結び付けられたコードを変更する必要がありました。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
行われた作業の経験に基づいて、私はこの</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リポジトリ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を作成しました。これは</font><font style="vertical-align: inherit;">、reduxでコードを編成するための私たちのアプローチを説明するのに役立ち</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font><a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
あなたはReduxの、詳細学ぶとき</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の動作、</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">および</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">減速</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、あなたは簡単な例で始まります。</font><font style="vertical-align: inherit;">今日利用できる多くのチュートリアルはそれらを超えていません。</font><font style="vertical-align: inherit;">ただし、Reduxでタスクリストよりも複雑なものを作成する場合は、時間の経過とともにコードベースをスケーリングする適切な方法が必要になります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ある人はかつて、コンピュータサイエンスではさまざまなものに名前を付けることほど難しいことはないと言っていました。</font><font style="vertical-align: inherit;">私は反対できませんでした。</font><font style="vertical-align: inherit;">この場合、フォルダの構造化とファイルの整理は2番目になります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コード編成への取り組み方を見てみましょう。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">機能と機能</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 アプリケーションを整理するには、一般に受け入れられている2つのアプローチがあります。機能優先と機能優先です。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 左側のスクリーンショットでは、フォルダー構造は機能優先の原則に従って構成されており、右側は機能優先の原則に従って構成されています。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ur/le/wb/urlewbt5etkrntpbqzlygb0yzlo.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Function-firstは、最上位ディレクトリが内部のファイルに従って名前が付けられることを意味します。つまり</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、コンテナ、コンポーネント、アクション、レデューサー</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">などがあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これはまったくスケーリングしません。アプリケーションが大きくなり、新しい機能が表示されたら、同じフォルダにファイルを追加します。その結果、目的のファイルを見つけるには、いずれかのフォルダの内容を長い間スクロールする必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
別の問題は、フォルダの結合です。アプリケーションスレッドの1つは、おそらくすべてのフォルダーからのファイルへのアクセスを必要とします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このアプローチの利点の1つは、ReuxからReactを分離できることです。したがって、状態管理ライブラリを変更する場合は、必要なフォルダがわかります。ビューライブラリを変更する必要がある場合は、reduxのフォルダーをそのまま残すことができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
機能優先とは、トップレベルのディレクトリがアプリケーションの主な機能（製品、カート、セッション）に従って命名されることを意味します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
新しい機能はそれぞれ新しいフォルダーにあるため、このアプローチははるかに適切に拡張されます。ただし、ReduxコンポーネントとReactコンポーネントを分離することはできません。そのうちの1つを長期的に変更することは簡単な作業ではありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、どの関数にも属さないファイルがあります。</font><font style="vertical-align: inherit;">その結果、アプリケーションのさまざまな機能でコードを使用する必要があるため、すべてがcommonまたはsharedフォルダーに分類されます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2つの世界の最良の組み合わせ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 これは記事のトピックではありませんが、UIファイルの状態管理ファイルは個別に保存する必要があると言いたいです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
長期的にはアプリケーションについて考えます。 Reactから別のコードに切り替えると、コードがどうなるか想像してみてください。または、コードベースがWebバージョンと並行してReactNativeをどのように使用するかについて考えます。</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">私たちのアプローチ</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
の中心</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、</font></font></a><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">views</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">というフォルダーにReactコードを分離し、</font><font style="vertical-align: inherit;">reduxという別のフォルダーにreduxを</font><font style="vertical-align: inherit;">コード化するという原則です</font><font style="vertical-align: inherit;">。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
エントリレベルでのこの分離により、アプリケーションの個々の部分をまったく異なる方法で整理する柔軟性が得られます。</font><i><font style="vertical-align: inherit;">ビュー</font></i></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
フォルダ内</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">機能優先ファイルの編成をサポートします。</font><font style="vertical-align: inherit;">Reactのコンテキストでは、これは自然に見えます：</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ページ、レイアウト、コンポーネント、エンハンサー</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">など。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フォルダー内のファイルの数に夢中にならないようにするには、これらのフォルダー内で機能優先アプローチを使用できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一方、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">redux</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フォルダーでは</font><font style="vertical-align: inherit;">......</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リダックの紹介</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 各アプリケーション関数は、個別のアクションとレデューサーに対応している必要があるため、機能優先アプローチを適用することは理にかなっています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
元のモジュラーアプローチの</font></font><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アヒル</font></font></a></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はreduxでの作業を容易にし、アプリケーションに新しい機能を追加するための構造化された方法を提供します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、アプリケーションをスケーリングするとどうなるかを理解する必要がありました。</font><font style="vertical-align: inherit;">機能ごとに1つのファイルを整理する方法では、アプリケーションが煩雑になり、サポートが問題になることがわかりました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それで</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">re-ducksが現れました</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">解決策は、機能をアヒルフォルダに分割することでした。</font></font><br>
<br>
<pre><code class="javascript hljs">duck/<font></font>
├── actions.js<font></font>
├── index.js<font></font>
├── operations.js<font></font>
├── reducers.js<font></font>
├── selectors.js<font></font>
├── tests.js<font></font>
├── types.js<font></font>
├── utils.js</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 ダックフォルダは：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">たとえば、製品、カート、セッションなど、アプリケーションの1つの概念のみを処理するロジックをすべて含みます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ダックルールに従ってエクスポートされるindex.jsファイルを含みます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リデューサー、セレクター、アクションなどの同様の作業を行う単一のファイルにコードを保存します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アヒルに関連するテストが含まれています。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、この例では、reduxの上に構築された抽象化を使用していません。</font><font style="vertical-align: inherit;">ソフトウェアを作成するときは、最小限の抽象化から始めることが重要です。</font><font style="vertical-align: inherit;">したがって、抽象化の価値がそれらのメリットを超えていないことがわかります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
抽象化が悪いことを確認したい場合は、この</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cheng Lou</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ビデオを</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ご覧ください</font></a><font style="vertical-align: inherit;">。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
各ファイルの内容を見てみましょう。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">タイプ</font></font></h4><br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">タイプ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
 ファイルに</font><font style="vertical-align: inherit;">は、</font><font style="vertical-align: inherit;">アプリケーションで実行する</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アクション</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の名前が​​含ま</font><font style="vertical-align: inherit;">れています。</font><font style="vertical-align: inherit;">良い方法として、所属する関数に対応する名前空間をカバーするようにしてください。</font><font style="vertical-align: inherit;">このアプローチは、複雑なアプリケーションをデバッグするときに役立ちます。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> QUACK = <span class="hljs-string">"app/duck/QUACK"</span>;
<span class="hljs-keyword">const</span> SWIM = <span class="hljs-string">"app/duck/SWIM"</span>;<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {<font></font>
    QUACK,<font></font>
    SWIM<font></font>
};</code></pre><br>
 <h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">行動</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 このファイルには、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アクション作成者の</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべての機能が含まれています</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> types <span class="hljs-keyword">from</span> <span class="hljs-string">"./types"</span>;<font></font>
<font></font>
<span class="hljs-keyword">const</span> quack = <span class="hljs-function"><span class="hljs-params">( )</span> =&gt;</span> ( {
    <span class="hljs-attr">type</span>: types.QUACK<font></font>
} );<font></font>
<font></font>
<span class="hljs-keyword">const</span> swim = <span class="hljs-function">(<span class="hljs-params"> distance </span>) =&gt;</span> ( {
    <span class="hljs-attr">type</span>: types.SWIM,
    <span class="hljs-attr">payload</span>: {<font></font>
        distance<font></font>
    }<font></font>
} );<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {<font></font>
    swim,<font></font>
    quack<font></font>
};</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パラメータ化されていない場合でも、</font><font style="vertical-align: inherit;">
 すべての</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アクションは</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">関数によって表される</font><font style="vertical-align: inherit;">ことに注意して</font><font style="vertical-align: inherit;">ください。</font><font style="vertical-align: inherit;">大規模なコードベースでは、一貫したアプローチが最も優先されます。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オペレーション</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 オペレーションのチェーン（</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オペレーション</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">を表すに</font><font style="vertical-align: inherit;">は</font><i><font style="vertical-align: inherit;">、ディスパッチの</font></i><font style="vertical-align: inherit;">機能を向上させるための</font><font style="vertical-align: inherit;">redux </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ミドルウェア</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が必要になります</font><font style="vertical-align: inherit;">。人気のある例は、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">redux-thunk</font></a><font style="vertical-align: inherit;">、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">redux-saga、</font></a><font style="vertical-align: inherit;">または</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">redux-observable</font></a><font style="vertical-align: inherit;">です。</font><font style="vertical-align: inherit;">
この例では、</font><i><font style="vertical-align: inherit;">redux-thunkが使用されてい</font></i><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">追加のコードを作成する代償を払っても</font><i><font style="vertical-align: inherit;">、</font></i><i><font style="vertical-align: inherit;">サンク</font></i><font style="vertical-align: inherit;">を</font><i><font style="vertical-align: inherit;">アクションの作成者</font></i><font style="vertical-align: inherit;">から</font><font style="vertical-align: inherit;">分離する必要があり</font><font style="vertical-align: inherit;">ます。したがって、操作を</font><i><font style="vertical-align: inherit;">アクションの</font></i><font style="vertical-align: inherit;">ラッパーとして定義します</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">
操作が1つの</font><i><font style="vertical-align: inherit;">アクション</font></i><font style="vertical-align: inherit;">のみを送信する場合</font><font style="vertical-align: inherit;">、つまり実際には</font><i><font style="vertical-align: inherit;">redux-thunkを</font></i><font style="vertical-align: inherit;">使用しない場合は</font><font style="vertical-align: inherit;">、</font><i><font style="vertical-align: inherit;">アクションクリエーター</font></i><font style="vertical-align: inherit;">関数を送信します</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">操作が</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サンクを</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用する場合、</font><font style="vertical-align: inherit;">多くの</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アクション</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">送信し、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロミス</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用してそれらをリンクできます</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> actions <span class="hljs-keyword">from</span> <span class="hljs-string">"./actions"</span>;<font></font>
<font></font>
<span class="hljs-comment">// This is a link to an action defined in actions.js.</span>
<span class="hljs-keyword">const</span> simpleQuack = actions.quack;<font></font>
<font></font>
<span class="hljs-comment">// This is a thunk which dispatches multiple actions from actions.js</span>
<span class="hljs-keyword">const</span> complexQuack = <span class="hljs-function">(<span class="hljs-params"> distance </span>) =&gt;</span> <span class="hljs-function">(<span class="hljs-params"> dispatch </span>) =&gt;</span> {<font></font>
    dispatch( actions.quack( ) ).then( <span class="hljs-function"><span class="hljs-params">( )</span> =&gt;</span> {<font></font>
        dispatch( actions.swim( distance ) );<font></font>
        dispatch( <span class="hljs-comment">/* any action */</span> );<font></font>
    } );<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {<font></font>
    simpleQuack,<font></font>
    complexQuack<font></font>
};</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必要に応じて、</font><font style="vertical-align: inherit;">
 操作、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サンク</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、サガ、エピックと</font><font style="vertical-align: inherit;">呼びます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">命名の原則を特定し、それらに固執するだけです。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後に、インデックスについて説明し、操作がduckパブリックインターフェイスの一部であることを確認します。</font><font style="vertical-align: inherit;">アクションはカプセル化され、操作は外部からアクセス可能になります。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">レデューサー</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 より多面的な関数がある場合は、必ずいくつかの</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">レデューサー</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">使用して</font><font style="vertical-align: inherit;">複雑な状態構造を処理</font><font style="vertical-align: inherit;">する必要があります</font><font style="vertical-align: inherit;">。また、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">combinReducer</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を必要な</font><i><font style="vertical-align: inherit;">だけ</font></i><font style="vertical-align: inherit;">使用することを恐れないで</font><font style="vertical-align: inherit;">ください。これにより、状態オブジェクト構造をより自由に操作できるようになります。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> { combineReducers } <span class="hljs-keyword">from</span> <span class="hljs-string">"redux"</span>;
<span class="hljs-keyword">import</span> types <span class="hljs-keyword">from</span> <span class="hljs-string">"./types"</span>;<font></font>
<font></font>
<span class="hljs-comment">/* State Shape
{
    quacking: bool,
    distance: number
}
*/</span><font></font>
<font></font>
<span class="hljs-keyword">const</span> quackReducer = <span class="hljs-function">(<span class="hljs-params"> state = <span class="hljs-literal">false</span>, action </span>) =&gt;</span> {
    <span class="hljs-keyword">switch</span>( action.type ) {
        <span class="hljs-keyword">case</span> types.QUACK: <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-comment">/* ... */</span>
        <span class="hljs-keyword">default</span>: <span class="hljs-keyword">return</span> state;<font></font>
    }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">const</span> distanceReducer = <span class="hljs-function">(<span class="hljs-params"> state = <span class="hljs-number">0</span>, action </span>) =&gt;</span> {
    <span class="hljs-keyword">switch</span>( action.type ) {
        <span class="hljs-keyword">case</span> types.SWIM: <span class="hljs-keyword">return</span> state + action.payload.distance;
        <span class="hljs-comment">/* ... */</span>
        <span class="hljs-keyword">default</span>: <span class="hljs-keyword">return</span> state;<font></font>
    }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">const</span> reducer = combineReducers( {
    <span class="hljs-attr">quacking</span>: quackReducer,
    <span class="hljs-attr">distance</span>: distanceReducer<font></font>
} );<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> reducer;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 大規模なアプリケーションでは、状態ツリーは少なくとも3つのレベルで構成されます。</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">レデューサー</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">関数</font><font style="vertical-align: inherit;">はできるだけ小さくし、単純なデータ構造のみを処理</font><font style="vertical-align: inherit;">する</font><font style="vertical-align: inherit;">必要があります。</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CombineReducers</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">関数</font><font style="vertical-align: inherit;">は、柔軟で保守可能な状態構造を作成するために必要なすべてです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
本格的な</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロジェクトの例</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を確認し</font><font style="vertical-align: inherit;">、特にファイル</font><font style="vertical-align: inherit;">や</font><font style="vertical-align: inherit;">状態ツリーを</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">構築し</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ている場所で</font><font style="vertical-align: inherit;">、</font><i><font style="vertical-align: inherit;">combinReducersを適切</font></i><font style="vertical-align: inherit;">に使用する方法を</font><font style="vertical-align: inherit;">確認してください</font><font style="vertical-align: inherit;">。</font></font><code>reducers.js</code><font style="vertical-align: inherit;"></font><code>store.js</code><font style="vertical-align: inherit;"></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">セレクター</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 操作セレクター（</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">selector</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">と共に、</font><font style="vertical-align: inherit;">パブリックインターフェイスの一部です。</font><font style="vertical-align: inherit;">操作とセレクターの違いは、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CQRS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パターンに似ています</font><font style="vertical-align: inherit;">。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
セレクター関数は、アプリケーションの状態の一部を取得し、それに基づいていくつかのデータを返します。</font><font style="vertical-align: inherit;">アプリケーションの状態を変更することはありません。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkIfDuckIsInRange</span>(<span class="hljs-params"> duck </span>) </span>{
    <span class="hljs-keyword">return</span> duck.distance &gt; <span class="hljs-number">1000</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {<font></font>
    checkIfDuckIsInRange<font></font>
};</code></pre><br>
 <h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">索引</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 このファイルは、duckフォルダーから何がエクスポートされるかを示します。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
彼は：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デフォルトでダックから</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リデューサー</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">関数</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">エクスポート</font><font style="vertical-align: inherit;">します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">セレクターと操作を登録済みエクスポートとしてエクスポートします。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">他のアヒルで必要に応じてタイプをエクスポートします。</font></font></li>
</ul><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> reducer <span class="hljs-keyword">from</span> <span class="hljs-string">"./reducers"</span>;<font></font>
<font></font>
<span class="hljs-keyword">export</span> { <span class="hljs-keyword">default</span> <span class="hljs-keyword">as</span> duckSelectors } <span class="hljs-keyword">from</span> <span class="hljs-string">"./selectors"</span>;
<span class="hljs-keyword">export</span> { <span class="hljs-keyword">default</span> <span class="hljs-keyword">as</span> duckOperations } <span class="hljs-keyword">from</span> <span class="hljs-string">"./operations"</span>;
<span class="hljs-keyword">export</span> { <span class="hljs-keyword">default</span> <span class="hljs-keyword">as</span> duckTypes } <span class="hljs-keyword">from</span> <span class="hljs-string">"./types"</span>;<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> reducer;</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テスト</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Reduxをducksフレームワークと共に使用する利点は、テストするコードの直後にテストを記述できることです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Reduxでのコードのテストは非常に簡単です。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> expect <span class="hljs-keyword">from</span> <span class="hljs-string">"expect.js"</span>;
<span class="hljs-keyword">import</span> reducer <span class="hljs-keyword">from</span> <span class="hljs-string">"./reducers"</span>;
<span class="hljs-keyword">import</span> actions <span class="hljs-keyword">from</span> <span class="hljs-string">"./actions"</span>;<font></font>
<font></font>
describe( <span class="hljs-string">"duck reducer"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> </span>) </span>{<font></font>
    describe( <span class="hljs-string">"quack"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> </span>) </span>{
        <span class="hljs-keyword">const</span> quack = actions.quack( );
        <span class="hljs-keyword">const</span> initialState = <span class="hljs-literal">false</span>;<font></font>
<font></font>
        <span class="hljs-keyword">const</span> result = reducer( initialState, quack );<font></font>
<font></font>
        it( <span class="hljs-string">"should quack"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> </span>) </span>{<font></font>
            expect( result ).to.be( <span class="hljs-literal">true</span> ) ;<font></font>
        } );<font></font>
    } );<font></font>
} );</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このファイル内で、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">レデューサー</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、操作、セレクターなどの</font><font style="vertical-align: inherit;">テストを作成できます</font><font style="vertical-align: inherit;">。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コードテストの利点については、まったく別の記事を書くこともできますが、すでに十分なので、コードをテストしてください。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">それで全部です</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
re-ducksの良い点は、すべてのreduxコードに同じテンプレートを使用できることです。</font><font style="vertical-align: inherit;">reduxコード</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
の</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">機能</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ベースのパーティショニングアプローチ</font><font style="vertical-align: inherit;">は、アプリケーションが成長しても柔軟性とスケーラビリティを維持するのに役立ちます。</font><font style="vertical-align: inherit;">アプリケーションのさまざまな部分に共通する小さなコンポーネントを構築する場合、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">機能</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ベースの分離アプローチ</font><font style="vertical-align: inherit;">がうまく</font><i><font style="vertical-align: inherit;">機能</font></i><font style="vertical-align: inherit;">します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
こちらで完全な</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">react-redux-example</font></font></i> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コードベースを確認でき</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">リポジトリはアクティブに機能していることに注意してください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
reduxアプリケーションをどのように整理しますか？</font><font style="vertical-align: inherit;">上記のアプローチについてフィードバックをお待ちしています。</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">コースで</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
お会いしましょう</font><font style="vertical-align: inherit;">。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja492622/index.html">「いじめっ子、ウイスキーを持ってきて！」、またはアイルランド語のルーツを持つ英語の単語について</a></li>
<li><a href="../ja492626/index.html">セキュリティウィーク12：重大なSMBの脆弱性</a></li>
<li><a href="../ja492628/index.html">コロナウイルス患者数の信頼区間（死亡率の計算）</a></li>
<li><a href="../ja492632/index.html">隔離された中小企業：パニックは理性の敵</a></li>
<li><a href="../ja492636/index.html">効果があるとはどういう意味ですか？</a></li>
<li><a href="../ja492642/index.html">動的なマイクロサービスを使用して、スケーラブルで復元力のあるアーキテクチャを作成する</a></li>
<li><a href="../ja492652/index.html">2つのM5Stackのカードゲーム「フール」</a></li>
<li><a href="../ja492658/index.html">私はリモコンに行きました-ポッドキャストを起動しました：初心者のために何を読むべきか-5証明された本</a></li>
<li><a href="../ja492660/index.html">コロナウイルスに対する全世界。Intelストーリー</a></li>
<li><a href="../ja492662/index.html">大学の講義を最初にストリーミングした方法</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>