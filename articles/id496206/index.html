<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ•œ ğŸ—ï¸ ğŸ•— Satu miliar operasi dalam database dalam 0,3 detik. Jangan membandingkan OLTP dengan OLAP, tetapi QuestDB dengan PostgreSQL ğŸ”– ğŸ™…ğŸ» ğŸ¤·ğŸ¿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sangat sering, selama 15 tahun pengalaman saya sebagai pengembang perangkat lunak dan pemimpin tim, saya menemukan hal yang sama. Pemrograman berubah ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Satu miliar operasi dalam database dalam 0,3 detik. Jangan membandingkan OLTP dengan OLAP, tetapi QuestDB dengan PostgreSQL</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/496206/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sangat sering, selama 15 tahun pengalaman saya sebagai pengembang perangkat lunak dan pemimpin tim, saya menemukan hal yang sama. Pemrograman berubah menjadi agama - jarang ada orang yang mencoba memperkenalkan teknologi berdasarkan pilihan yang masuk akal, dengan masuk akal, dengan mempertimbangkan batasan akun, portabilitas, menilai tingkat keterikatan dengan vendor, harga sebenarnya, prospek teknologi dan kebebasan lisensi. Pengembang pergi ke konferensi atau membaca posting - mulai hype, dan direktur dan manajer TI mereka diberi makan tidak hanya dengan kisah masa depan yang lincah cerah di berbagai acara, berbagai visioner, penjualan dan konsultan. Dan ternyata teknologinya ada di proyek, tidak memperhitungkan kenyamanan pengembangan dan implementasi, persyaratan non-fungsional dari proyek, tetapi karena hype dan google menggunakan sendiri,amazon merekomendasikan (meskipun lowongan mereka mengatakan bahwa mereka sendiri tidak sering menggunakannya) atau keputusan tertinggi telah dibuat oleh manajemen perusahaan untuk menerapkan "ini."</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/gw/5o/oc/gw5ooc3vrg7l1posp3i32i1r5ng.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tetapi kesenangan khusus adalah memilih database. Semakin besar volume informasi yang disimpan, semakin kompleks struktur data dalam proyek dan perubahan / evolusi mereka, semakin tinggi persyaratan untuk waktu respons atau kinerja, semakin mahal kesalahan pemilihan di awal pada tahap akhir proyek.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya punya ide mengapa ini begitu - singkatnya, kemudian membuat prototipe dan membandingkan teknologi yang berbeda adalah "mahal" (waktu, lisensi, pelatihan atau rekayasa terbalik) dan ada godaan untuk menghidupkan naluri kuno dan beralih dari bagian bukti yang memakan waktu ke menyenangkan dan sederhana, menyentuh jurang irasionalitas. Saya melakukan ini juga, dan saya juga melihat bagaimana hal-hal paling konyol terjadi pada pekerjaan saya dan teman-teman saya dan tidak hanya dengan keputusan spesialis teknis. Oleh karena itu, pilihan bahasa pemrograman, kerangka kerja, antrian pesan atau penyedia cloud dapat juga dibuat berdasarkan posting di jaringan, laporan di konferensi, manual dari Gartner untuk manajer atau peramalan. Sangat disayangkan bahwa saya tidak bisa menceritakan banyak kisah dari pekerjaan saya, karena saya takut untuk hidup saya setelah itu ...</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apa yang mempengaruhi pemilihan basis data?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dari sudut pandang saya, ketika memilih database, saya harus menyelesaikan setidaknya trade-off berikut:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pemrosesan transaksi real-time atau pemrosesan analitik online</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">terukur secara vertikal atau horizontal</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dalam kasus basis terdistribusi - konsistensi / ketersediaan / ketahanan pemisahan data (teorema CAP)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">skema data tertentu dan batasan dalam database atau penyimpanan yang tidak memerlukan skema data</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">model data - nilai kunci, hierarkis, grafik, dokumen, atau relasional</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pemrosesan logika sedekat mungkin dengan data atau semua pemrosesan dalam aplikasi</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bekerja terutama di RAM atau dengan subsistem disk</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">solusi universal atau khusus</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kami menggunakan keahlian yang ada pada database yang tidak terlalu cocok untuk persyaratan proyek atau kami mengembangkan yang baru dalam pelatihan yang sesuai tetapi tidak dikenal, "darah dan keringat" (hal yang sama tidak hanya berlaku untuk pengembangan, tetapi juga untuk operasi)</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">built-in atau dalam proses / jaringan lain</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hipster atau mundur</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seringkali kita mendapatkan "hadiah" untuk solusi yang diterapkan:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bahasa permintaan "Alien"</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">satu-satunya API asli untuk bekerja dengan database, yang akan mempersulit transisi ke database lain (waktu, upaya tim dan anggaran proyek dihabiskan)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tidak tersedianya driver untuk platform / bahasa / sistem operasi lain</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kurangnya kode sumber, deskripsi format data pada disk (atau larangan lisensi reverse engineering, terutama Oracle dengan buggy Coherence)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pertumbuhan biaya lisensi dari tahun ke tahun</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memiliki ekosistem dan kesulitan menemukan spesialis</font></font></li>
<li>    ,  , </li>
<li></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sistem penskalaan horizontal cukup rumit dan membutuhkan keahlian tim. Pengembang berpengalaman cukup mahal di pasar, aplikasi terdistribusi lebih sulit untuk dikembangkan, di-debug dan diuji. Oleh karena itu, jika memungkinkan untuk mengubah server ke server yang lebih kuat dan jumlah data yang diizinkan sistem, mereka sering melakukannya. Sekarang server dapat memiliki RAM terabyte dan ratusan inti prosesor. Jadi, tidak pernah sebelumnya, menjadi penting untuk menggunakan semua sumber daya server seefisien mungkin. Biaya lisensi basis data juga penting, dan jika mereka dijual oleh inti prosesor, anggaran operasi, bahkan dengan penskalaan vertikal, dapat menelan biaya sebanyak program ruang superpower. Oleh karena itu, penting untuk mengingat hal ini agar tidak dapat meningkatkan skala kinerja database karena lisensi.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jelas bahwa dengan bantuan pemasaran mereka akan mencoba meyakinkan Anda bahwa hanya solusi dari perusahaan tertentu yang akan menyelesaikan semua masalah Anda (tetapi mereka diam tentang berapa banyak yang baru akan muncul). Tidak ada satu pun basis data yang ideal yang cocok untuk semua orang dan cocok untuk semuanya.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi di masa mendatang, kami masih akan mendukung beberapa basis data yang berbeda untuk memproses data yang sama untuk berbagai jenis kueri dalam sistem yang berbeda. Tidak ada solusi untuk Fabric Data tanpa caching data, Data Lake belum dapat dibandingkan dengan database dengan arsitektur paralel-massa dalam hal kinerja dan optimalisasi kueri. Data transaksional akan tetap disimpan di PostgreSQL, Oracle, MS Sql Server, pertanyaan analitik dalam Citus, Greenplum, Snowflake, Redshift, Vertica, Impala, Teradata, dan rawa data mentah dalam HDFS / S3 / ADLS (Azure) akan dikelola oleh Dremio , Redshift Spectrum, Apache Spark, Presto.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tetapi solusi yang tercantum di atas tidak cocok untuk menganalisis data deret waktu dengan waktu respons rendah. </font><font style="vertical-align: inherit;">Menurut popularitasnya dalam bekerja dengan data deret waktu, sekarang menjadi favorit InfluxDB. </font><font style="vertical-align: inherit;">Dalam ceruk basis data dalam-memori, kdb + dan memSQL menjaga tempatnya.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">QuestDB</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apa yang bisa menentang semua solusi </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">QuestDB</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> open source ini dengan lisensi Apache?</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Upaya untuk memanfaatkan perangkat keras secara maksimal untuk melakukan kueri analitik - vektorisasi fungsi agregasi, bekerja dengan data melalui file yang dipetakan memori</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SQL sebagai bahasa kueri DML dan operasi DDL untuk mengelola struktur basis data</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dukungan untuk tabel bergabung khusus untuk time series DB</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dukungan untuk fungsi jendela dan agregasi dalam SQL</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kemampuan untuk menanamkan basis data dalam aplikasi pada JVM</font></font></li>
<li>        JVM,        ServiceLoader</li>
<li> Influx DB line protocol (ILP)  UDP  Telegraf.      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">Â«What makes QuestDB faster than InfluxDBÂ»</a></li>
<li> PostgreSql 11           PostgreSQL: JDBC, ODBC   psql <br>
</li>
<li>   web    -  REST endpoint  ,     SQL      json <br>
</li>
<li>       ,    <br>
</li>
<li>          zero-GC API,       .<br>
</li>
<li>                  (        )<br>
</li>
<li> 64  Windows, Linux, OSX, ARM Linux    FreeBSD<br>
</li>
<li>,    open source,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"> </a></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketika database ini dapat berguna bagi Anda - jika Anda sedang mengembangkan sistem keuangan pada JVM dengan latensi rendah dan Anda memerlukan solusi untuk analisis data dalam RAM. </font><font style="vertical-align: inherit;">Sebagai pengganti kdb + karena biaya lisensi. </font><font style="vertical-align: inherit;">Jika Anda mengumpulkan metrik sesuai dengan protokol Influx / Telegraf, tetapi kinerja dan kegunaan bekerja dengan InfluxDB tidak memuaskan. </font><font style="vertical-align: inherit;">Jika proyek Anda berjalan di JVM dan Anda memerlukan database bawaan untuk menyimpan metrik atau data aplikasi yang hanya ditambahkan dan tidak diperbarui. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Rilis baru 4.2.0 dengan dukungan untuk instruksi SIMD menyebabkan </font><font style="vertical-align: inherit;">gelombang komentar </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pada Reddit</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Bagi penggemar untuk berpartisipasi dalam kompetisi pengetahuan tentang perangkat keras modern dan pemrogramannya yang efektif, saya sarankan berbicara dengan penulis database (bluestreak01) di komentar!</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Operasi SIMD</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tim proyek </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">melakukan tes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pada data sintetik dan membandingkan QuestDB 4.2.0 dengan kdb 4.0 untuk mengumpulkan satu miliar nilai, memanfaatkan instruksi SIMD dari prosesor. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada platform Intel 8850H: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bh/-z/vy/bh-zvyhql33d-ezkf9h0mudxia0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada </font><font style="vertical-align: inherit;">platform </font><font style="vertical-align: inherit;">AMD Ryzen 3900X: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ba/f7/_d/baf7_d-6mpkifdhg8wiwtay2xle.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jelas bahwa semua ini adalah tes dalam "ruang hampa", tetapi Anda dapat membandingkan data Anda jika proyek Anda menggunakan kdb dan membagikan hasilnya dengan komunitas.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menjalankan gambar basis data buruh pelabuhan</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Basis data diterbitkan di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dockerhub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dengan setiap rilis. </font><font style="vertical-align: inherit;">Rincian lebih lanjut dijelaskan dalam </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dokumentasi proyek</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dapatkan gambar QuestDB:</font></font><br>
<br>
<pre><code class="bash hljs">docker pull questdb/questdb</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami meluncurkan:</font></font><br>
<br>
<pre><code class="bash hljs">docker run --rm -it -p 9000:9000 -p 8812:8812 questdb/questdb</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah itu, Anda dapat terhubung menggunakan protokol PostgreSQL ke port 8812, konsol web tersedia di port 9000.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Akses Jdbc</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bergantung pada proyek kami, kami menambahkan driver jdbc </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PostrgreSQL org.postgresql: postgresql: 42.2.12</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , untuk tes ini saya menggunakan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">modul QuestDB untuk testcontainers</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tes tersedia</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> di github bersama dengan skrip build:</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">import</span> org.junit.jupiter.api.Test;<font></font>
<font></font>
<span class="hljs-keyword">import</span> java.sql.Connection;
<span class="hljs-keyword">import</span> java.sql.DriverManager;
<span class="hljs-keyword">import</span> java.sql.ResultSet;
<span class="hljs-keyword">import</span> java.sql.Statement;<font></font>
<font></font>
<span class="hljs-keyword">import</span> <span class="hljs-keyword">static</span> org.assertj.core.api.Assertions.*;<font></font>
<font></font>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">QuestDbDriverTest</span> </span>{<font></font>
<font></font>
    <span class="hljs-meta">@Test</span>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">containerIsUpTestByJdbcInvocation</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception </span>{
        <span class="hljs-keyword">try</span> (Connection connection = DriverManager.getConnection(<span class="hljs-string">"jdbc:tc:questdb:///?user=admin&amp;password=quest"</span>)){
            <span class="hljs-keyword">try</span> (Statement statement = connection.createStatement()){
                <span class="hljs-keyword">try</span> (ResultSet resultSet = statement.executeQuery(<span class="hljs-string">"select 42 from long_sequence(1)"</span>)){<font></font>
                    resultSet.next();<font></font>
                    assertThat(resultSet.getInt(<span class="hljs-number">1</span>)).isEqualTo(<span class="hljs-number">42</span>);<font></font>
                }<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menjalankan buruh pelabuhan mengarah ke overhead tambahan, dan ini dapat dihindari dengan hanya menerapkan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">org.questdb: core: jar: 4.2.0</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sebagai ketergantungan pada proyek dan menjalankan io.questdb.ServerMain:</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">import</span> io.questdb.ServerMain;
<span class="hljs-keyword">import</span> org.junit.jupiter.api.Test;
<span class="hljs-keyword">import</span> org.junit.jupiter.api.io.TempDir;<font></font>
<font></font>
<span class="hljs-keyword">import</span> java.nio.file.Path;
<span class="hljs-keyword">import</span> java.sql.Connection;
<span class="hljs-keyword">import</span> java.sql.DriverManager;
<span class="hljs-keyword">import</span> java.sql.PreparedStatement;
<span class="hljs-keyword">import</span> java.sql.Statement;<font></font>
<font></font>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">QuestDbJdbcTest</span> </span>{
    <span class="hljs-meta">@Test</span>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">embeddedServerStartTest</span><span class="hljs-params">(<span class="hljs-meta">@TempDir</span> Path tempDir)</span> <span class="hljs-keyword">throws</span> Exception</span>{<font></font>
        ServerMain.main(<span class="hljs-keyword">new</span> String[]{<span class="hljs-string">"-d"</span>, tempDir.toString()});
        <span class="hljs-keyword">try</span> (DriverManager.getConnection(<span class="hljs-string">"jdbc:postgresql://localhost:8812/"</span>, <span class="hljs-string">"admin"</span>, <span class="hljs-string">"quest"</span>)){
            <span class="hljs-keyword">try</span> (Statement statement = connection.createStatement()){
                <span class="hljs-keyword">try</span> (ResultSet resultSet = statement.executeQuery(<span class="hljs-string">"select 42 from long_sequence(1)"</span>)){<font></font>
                    resultSet.next();<font></font>
                    assertThat(resultSet.getInt(<span class="hljs-number">1</span>)).isEqualTo(<span class="hljs-number">42</span>);<font></font>
                }<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menyematkan aplikasi java</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tapi ini adalah cara tercepat untuk bekerja dengan database menggunakan API java inprocess:</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">import</span> io.questdb.cairo.CairoEngine;
<span class="hljs-keyword">import</span> io.questdb.cairo.DefaultCairoConfiguration;
<span class="hljs-keyword">import</span> io.questdb.griffin.CompiledQuery;
<span class="hljs-keyword">import</span> io.questdb.griffin.SqlCompiler;
<span class="hljs-keyword">import</span> io.questdb.griffin.SqlExecutionContextImpl;
<span class="hljs-keyword">import</span> org.junit.jupiter.api.Test;
<span class="hljs-keyword">import</span> org.junit.jupiter.api.io.TempDir;<font></font>
<font></font>
<span class="hljs-keyword">import</span> java.nio.file.Path;<font></font>
<font></font>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TruncateExecuteTest</span> </span>{
    <span class="hljs-meta">@Test</span>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">truncate</span><span class="hljs-params">(<span class="hljs-meta">@TempDir</span> Path tempDir)</span> <span class="hljs-keyword">throws</span> Exception</span>{<font></font>
        SqlExecutionContextImpl executionContext = <span class="hljs-keyword">new</span> SqlExecutionContextImpl();<font></font>
        DefaultCairoConfiguration configuration = <span class="hljs-keyword">new</span> DefaultCairoConfiguration(tempDir.toAbsolutePath().toString());
        <span class="hljs-keyword">try</span> (CairoEngine engine = <span class="hljs-keyword">new</span> CairoEngine(configuration)) {
            <span class="hljs-keyword">try</span> (SqlCompiler compiler = <span class="hljs-keyword">new</span> SqlCompiler(engine)) {<font></font>
                CompiledQuery createTable = compiler.compile(<span class="hljs-string">"create table tr_table(id long,name string)"</span>, executionContext);<font></font>
                compiler.compile(<span class="hljs-string">"truncate table tr_table"</span>, executionContext);<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Konsol web</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Proyek ini mencakup </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">konsol web</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> untuk menanyakan QuestDB </font></font><br>
<br>
<img src="https://habrastorage.org/webt/5v/_w/bb/5v_wbbpw-roh7cbrv7jpivazvgc.gif"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DAN mengunduh data ke basis data dalam format csv melalui peramban.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fw/ya/lu/fwyalug09h88tp3iyaeyotztxoo.gif"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apakah Anda memerlukan database lain?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Proyek ini masih muda dan masih kurang memiliki fitur perusahaan, tetapi sedang berkembang cukup cepat dan beberapa kontributor aktif mengerjakan proyek ini. Saya </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">telah</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mengikuti </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">QuestDB</font></a><font style="vertical-align: inherit;"> sejak Agustus lalu dan mengembangkan beberapa ekstensi untuk proyek ini ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fungsi jdbc</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">osquery</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), dan juga mengintegrasikan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">proyek ini dengan testcontainers</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Sekarang saya mencoba untuk menyelesaikan masalah saya saat ini di Dremio dengan mengunggah data tambahan, partisi data dan transaksi panjang ke sumber data dalam produksi menggunakan QuestDB, melengkapi dengan fungsi ekspor data. Saya berencana untuk berbagi pengalaman dalam publikasi berikut. Ini menyuap saya terutama karena saya dapat men-debug fungsi dan database saya pada platform yang saya kenal, menulis tes unit yang berjalan dengan kecepatan cahaya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda memutuskan sebagai pengembang berpengalaman. Sekali lagi, QuestDB bukan pengganti untuk database OLTP - PostgreSQL, Oracle, MS Sql Server, DB2, atau bahkan pengganti </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">H2 untuk pengujian</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">di JVM. </font><font style="vertical-align: inherit;">Ini adalah basis data sumber terbuka khusus yang kuat dengan dukungan untuk protokol jaringan PostgreSQL, Influx / Telegraf. </font><font style="vertical-align: inherit;">Jika skenario penggunaan Anda sesuai dengan fitur yang diterapkan di dalamnya dan skenario utama menggunakan basis data kolom, maka pilihannya dibenarkan!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id496188/index.html">Bagaimana menghentikan pesta menonton acara TV dan mulai hidup</a></li>
<li><a href="../id496190/index.html">Tentang Phrasal Verbs-2</a></li>
<li><a href="../id496192/index.html">Panggil fungsi Rust dari Go</a></li>
<li><a href="../id496194/index.html">Pada binarisasi gambar tomografi struktur halus</a></li>
<li><a href="../id496204/index.html">Pembaruan Proses CI / CD: Persiapan dan Perencanaan</a></li>
<li><a href="../id496208/index.html">Bagaimana JIT menguraikan kode C # kami (heuristik)</a></li>
<li><a href="../id496210/index.html">Keanekaragaman hayati mungkin telah berevolusi dari prinsip bermain batu-kertas-gunting</a></li>
<li><a href="../id496212/index.html"># 04 - Dan seluruh byte tidak cukup ... | Ambil BK dengan klakson</a></li>
<li><a href="../id496214/index.html">AdColony: 89% penerbit aplikasi dan game seluler menggunakan video promosi</a></li>
<li><a href="../id496216/index.html">Toko gelap: apakah Anda sudah memikirkan ini?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>