<!doctype html>
<html class="no-js" lang="hi">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯМбя╕П ЁЯСйтАНЁЯСйтАНЁЯСжтАНЁЯСж ЁЯдк рдПрдХрддрд╛ рд╕рдВрдкрд╛рджрдХ рдПрдбрд╡реЗрдВрдЪрд░реНрд╕: рд╕реАрд░рд┐рдпрд▓ рдореИрдЯреНрд░реАрд╢реЛрдХрд╛ ЁЯЪгЁЯП╝ ЁЯЪ┤ЁЯП╗ ЁЯНА</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рд╕рдВрдХреНрд╖рд┐рдкреНрдд рдкрд░рд┐рдЪрдп
 рдПрдХ рдирд┐рдпрдо рдХреЗ рд░реВрдк рдореЗрдВ, рд╣рдорд╛рд░реЗ рд▓рд┐рдП рдмреНрдпрд╛рдЬ рдХреА рдХреНрд░рдордмрджреНрдз рд╕рдВрдкрддреНрддрд┐ рдХреЗ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рдЬрд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдореИрдиреБрдЕрд▓ рдереЗрд░реЗрдкреА рд╣рдореЗрдВ FindPropertyRelative () рд╡рд┐рдзрд┐ рдХ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>рдПрдХрддрд╛ рд╕рдВрдкрд╛рджрдХ рдПрдбрд╡реЗрдВрдЪрд░реНрд╕: рд╕реАрд░рд┐рдпрд▓ рдореИрдЯреНрд░реАрд╢реЛрдХрд╛</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/502836/"><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рдВрдХреНрд╖рд┐рдкреНрдд рдкрд░рд┐рдЪрдп</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдПрдХ рдирд┐рдпрдо рдХреЗ рд░реВрдк рдореЗрдВ, рд╣рдорд╛рд░реЗ рд▓рд┐рдП рдмреНрдпрд╛рдЬ рдХреА рдХреНрд░рдордмрджреНрдз рд╕рдВрдкрддреНрддрд┐ рдХреЗ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рдЬрд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдореИрдиреБрдЕрд▓ рдереЗрд░реЗрдкреА рд╣рдореЗрдВ FindPropertyRelative () рд╡рд┐рдзрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рд╕рд▓рд╛рд╣ рджреЗрддреА рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рдЪрд░ рдирд╛рдо рдлреЗрдВрдХрд╛ рдЧрдпрд╛ рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдХреБрдЫ рдХрд╛рд░рдгреЛрдВ рд╕реЗ, рдпрд╣ рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╣рдореЗрд╢рд╛ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИред рдХрд╛рд░рдг рдмрд╣реБрдд рд╡рд┐рд╡рд┐рдз рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрдХ рдЪрд░ рдХрд╛ рдирд╛рдо рдмрджрд▓ рд╕рдХрддрд╛ рд╣реИ, рд╣рдореЗрдВ рдЧреИрд░-рдЕрдиреБрдХреНрд░рдорд┐рдд рд╕рдВрдкрддреНрддрд┐ рддрдХ рдирдХрд╝рд▓реА рдкрд╣реБрдВрдЪ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рд╣рдореЗрдВ рд╕реЗрдЯрд░ рдЧреЗрдЯрд░реНрд╕ рдпрд╛ рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдзрд╛рд░рд╛рд╡рд╛рд╣рд┐рдХ рд╡рд╕реНрддреБ рдХреЗ рддрд░реАрдХреЛрдВ рддрдХ рдкрд╣реБрдВрдЪ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред рд╣рдо рд╕рд╡рд╛рд▓ рдирд╣реАрдВ рдкреВрдЫреЗрдВрдЧреЗ "рдЖрдкрдХреЛ рдЗрд╕рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХреНрдпреЛрдВ рд╣реИ" рдФрд░ "рдЖрдк рдкрд╛рд░рдВрдкрд░рд┐рдХ рддрд░реАрдХреЛрдВ рдХреЗ рдмрд┐рдирд╛ рдХреНрдпреЛрдВ рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ"ред рдорд╛рди рд▓реАрдЬрд┐рдП рд╣рдореЗрдВ рдЬрд░реВрд░рдд рд╣реИ - рдФрд░ рдпрд╣ рдмрд╛рдд рд╣реИред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рддреЛ, рдЖрдЗрдП рдЬрд╛рдиреЗрдВ рдХрд┐ рд╣рдо рдЬрд┐рд╕ рд╡рд╕реНрддреБ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рдЙрд╕рдХреЗ рд╕рд╛рде-рд╕рд╛рде рдзрд╛рд░рд╛рд╡рд╛рд╣рд┐рдХ рд╕рдВрдкрддреНрддрд┐ рд╕реЗ рдЙрд╕рдХреЗ рд╕рднреА рдореВрд▓ рд╡рд╕реНрддреБрдУрдВ рдХреЛ рдХреИрд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ, рдФрд░ рдХрдорд┐рдпреЛрдВ рд╕реЗ рднрд░рд╛ рдХреНрд░рдорд╛рдВрдХрди рд╕рдбрд╝рдХ рдкрд░ рдирд╣реАрдВ рдкрдХрдбрд╝рд╛ рдЬрд╛рдПред </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдзреНрдпрд╛рдиред </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрд╕ рд▓реЗрдЦ рдХрд╛ рддрд╛рддреНрдкрд░реНрдп рд╣реИ рдХрд┐ рдЖрдк рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдЬрд╛рдирддреЗ рд╣реИрдВ рдХрд┐ рдпреВрдирд┐рдЯреА рдПрдбрд┐рдЯрд░ рдХреЗ рд╕рд╛рде рдХреИрд╕реЗ рдХрд╛рдо рдХрд┐рдпрд╛ рдЬрд╛рдП, рдХрдо рд╕реЗ рдХрдо рдПрдХ рдмрд╛рд░ рдХрд╕реНрдЯрдо рдкреНрд░реЙрдкрд░реНрдЯреАрд╡рд╛рд░реНрдбреНрд╕ рд▓рд┐рдЦреЗ, рдФрд░ рдХрдо рд╕реЗ рдХрдо рд╕рд╛рдорд╛рдиреНрдп рд╢рдмреНрджреЛрдВ рдореЗрдВ рд╕рдордЭреЗрдВ рдХрд┐ рдХреИрд╕реЗ рдПрдХ рд╕реАрд░рд┐рдпрд▓рд╛рдЗрдЬреНрдб рдкреНрд░реЙрдкрд░реНрдЯреА рдПрдХ рдХреНрд░рдордмрджреНрдз рдСрдмреНрдЬреЗрдХреНрдЯ рд╕реЗ рдЕрд▓рдЧ рд╣реЛрддреА рд╣реИред</font></font><br>
<br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреНрд░рдордмрджреНрдзрддрд╛ рдкрде</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдУ рдкрд░ рд╕рднреА рдбреЙрдЯреНрд╕ </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд▓рдЧрд╛рдПрдВред рд╕рдмрд╕реЗ рдЖрджрд┐рдо рдорд╛рдорд▓реЗ рдореЗрдВ, рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдореЛрдиреЛрдмреЗрд╣рд╡рд╛рдпрд░ рд╕реЗ рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рд╡рд╛рд░рд┐рд╕ рд╡рд░реНрдЧ рд╣реИ, рдФрд░ рдЗрд╕рдореЗрдВ рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рдХреНрд╖реЗрддреНрд░ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИ рдЬреЛ рдХреНрд░рдордмрджреНрдз рд╡рд░реНрдЧ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИ, рдЬрд╛рд╣рд┐рд░ рд╣реИ рдХрд┐ A.K.A рдХреА рдкрд╡рд┐рддреНрд░ рдПрдХрд╛рддреНрдордХ рдЧрд╛рдп рд╕реЗ рдХреЛрдИ рд╡рд╛рд░рд┐рд╕ рдирд╣реАрдВ рд╣реИред </font><font style="vertical-align: inherit;">UnityEngine.Objectред</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ExamplePulsar</span> : <span class="hljs-title">MonoBehaviour</span><font></font>
{<font></font>
...<font></font>
        [<span class="hljs-meta">Space</span>][Header(<span class="hljs-string">"Example Sandbox Inspector Field"</span>)]
        <span class="hljs-keyword">public</span> SandboxField sandboxField;<font></font>
...<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдКрдкрд░ рджрд┐рдП рдЧрдП рдХреЛрдб рдореЗрдВ, рд╕реИрдВрдбрдмреЙрдХреНрд╕рдлрд╝рд┐рд▓реНрдб рдПрдХ рд╢реНрд░реЗрдгреА рд╣реИ, рдЬреЛ рд╕реАрд░рд┐рдпрд▓ рдХреА рд╡рд┐рд╢реЗрд╖рддрд╛ рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╕реНрд╡рд╛рдореА рдХреА рдореЛрдиреЛрдмреЗрд╣реЙрдЙрд░ рддрдХ рдкрд╣реБрдБрдЪ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдХреЛрдИ рд╕рдорд╕реНрдпрд╛ рдирд╣реАрдВ рд╣реИ:</font></font><br>
<br>
<pre><code class="cs hljs">UnityEngine.Object serializationRoot = property.serializedObject.targetObject;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрджрд┐ рдЖрдк рдЪрд╛рд╣реЗрдВ, рддреЛ рдЖрдк рдЗрд╕реЗ рдЗрд╕ рд░реВрдк рдореЗрдВ рд▓реЗ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЕрдм рд╣рдореЗрдВ рдЗрд╕рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред </font><font style="vertical-align: inherit;">рд╣рдо рдХреНрд░рдордмрджреНрдз рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рд╣реА рд░реБрдЪрд┐ рд░рдЦрддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рдЗрд╕реЗ рдиреАрдЪреЗ рджрд┐рдП рдЧрдП рдЖрдВрдХрдбрд╝реЗ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рд╕рднреА рд▓рд╛рдареА рдХреЗ рд╕рд╛рде рдЦреАрдВрдЪрд╛ рдЬрд╛ рд╕рдХреЗред</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/-w/3n/th/-w3nthkn0gmcdeuvpqlw2zctxhy.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдо рдХреНрд░рдорд╛рдВрдХрди рдкрде рдХреЛ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рд▓реЗ рд╕рдХрддреЗ рд╣реИрдВ:</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">string</span> serializationPath = property.propertyPath;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдХреНрд░рдорд╛рдВрдХрди рдкрде рд╣рдорд╛рд░реЗ рдХреНрд╖реЗрддреНрд░реЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рд╕реЗ рдорд┐рд▓рдХрд░ рдмрдиреЗрдЧрд╛ рдФрд░ "рд╕реИрдВрдбрдмреЙрдХреНрд╕рдлрд╝рд┐рд▓реНрдб" рд▓реМрдЯрд╛рдПрдЧрд╛, рдЬрд┐рд╕рдореЗрдВ рд╕реЗ рд╣рдо рди рддреЛ рдардВрдбреЗ рд╣реИрдВ рдФрд░ рди рд╣реА рдЧрд░реНрдо рд╣реИрдВ, рдХреНрдпреЛрдВрдХрд┐ рдШреЛрдВрд╕рд▓реЗ рдХреЗ рд╢рд┐рдХрд╛рд░ рдХреЗ рдкрд╣рд▓реЗ рд╕реНрддрд░ рдХреЗ рд▓рд┐рдП рд╣рдореЗрдВ рдХреЗрд╡рд▓ рдЪрд░ рдХрд╛ рдирд╛рдо рдкрддрд╛ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП (рдЬреЛ, рд╕рдВрдпреЛрдЧрд╡рд╢, рд╣рдореЗрдВ рд╡рд╛рдкрд╕ рдХрд░ рджрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛)ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдХреГрдкрдпрд╛ рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рд░рд╛рд╕реНрддреЗ рдореЗрдВ рдХреЛрдИ рдорд╛рддрд╛-рдкрд┐рддрд╛ рдореЛрдиреЛрд╣реЗрд╡рд┐рдпрд░ рдирд╣реАрдВ рд╣реИред </font><font style="vertical-align: inherit;">рдЕрдм рдЗрд╕рд╕реЗ рдХреЛрдИ рдлрд░реНрдХ рдирд╣реАрдВ рдкрдбрд╝рддрд╛, рд▓реЗрдХрд┐рди рдпрд╣ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реЛ рдЬрд╛рдПрдЧрд╛ рдЬрдм рд╣рдо рдПрдХ рд░реВрд╕реА рдЧреБрдбрд╝рд┐рдпрд╛ рдХреЛ рдЕрд▓рдЧ рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд░реЗрдВрдЧреЗ рдЬреЛ рдХреБрдЫ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрддреА рд╣реИ:</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nestedClassVariable.exampleSandboxesList.Array.data [0] .evenMoreNested.Array.data [0]</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдмрд╛рдж рдореЗрдВ рдкрдХрдбрд╝реЗ рдирд╣реАрдВ рдЬрд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдЬрдм рд╕рдВрдкрддреНрддрд┐рдпреЛрдВ рдХреЛ рдШреЛрдВрд╕рд▓рд╛ рдмрдирд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рд╕рдордп рд╕реЗ рдкрд╣рд▓реЗ рд╣рдо рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрд╛рд░реНрдп рдХрд░реЗрдВрдЧреЗ:</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">string</span>[] path = property.propertyPath.Split(<span class="hljs-string">'.'</span>);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрдм рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдХреНрд░рдорд╛рдВрдХрди рдкрде рдХреЗ рд╕рднреА рдиреЛрдб рд╣реИрдВред </font><font style="vertical-align: inherit;">рд▓реЗрдХрд┐рди рд╕рдмрд╕реЗ рдЖрджрд┐рдо рдорд╛рдорд▓реЗ рдореЗрдВ, рд╣рдореЗрдВ рдХреЗрд╡рд▓ рд╢реВрдиреНрдп рдиреЛрдб рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рд▓реЗ рд▓реЛ:</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">string</span> pathNode = path[<span class="hljs-number">0</span>];</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдереЛрдбрд╝рд╛ рдкреНрд░рддрд┐рдмрд┐рдВрдм рдЪрд╛рд▓реВ рдХрд░реЗрдВ рдФрд░ рдпрд╣рд╛рдВ рд╕реЗ рдХреНрд╖реЗрддреНрд░ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ:</font></font><br>
<br>
<pre><code class="cs hljs">Type objectType = serializationRoot.GetType();<font></font>
FieldInfo objectFieldInfo = objectType.GetField(pathNode);<font></font>
<span class="hljs-keyword">object</span> field = objectFieldInfo.GetValue(serializationRoot);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдо рдкрд░реНрджреЗ рдХреЗ рдкреАрдЫреЗ рдЫреЛрдбрд╝рддреЗ рд╣реИрдВ рдЗрд╕ рдЙрджреНрдпрдо рдХреА рдЧрддрд┐ рдХрд╛ рд╕рд╡рд╛рд▓ред рдРрд╕реЗ рдХреНрд╖реЗрддреНрд░реЛрдВ рдХреА рдПрдХ рдЫреЛрдЯреА рд╕рдВрдЦреНрдпрд╛ рдФрд░ рдПрдХ рдЫреЛрдЯреЗ рд╕реЗ рдШреЛрдВрд╕рд▓реЗ рдХреЗ рд╢рд┐рдХрд╛рд░ рдХреЗ рд▓рд┐рдП, рдкреНрд░рддрд┐рдмрд┐рдВрдм рдХреА рд▓рд╛рдЧрдд рдЙрди рд╕рднреА рдЪреАрдЬреЛрдВ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдХрд╛рдлреА рдХрдо рд╣реЛрдЧреА рдЬреЛ рд░реЗрдВрдбрд░рд┐рдВрдЧ рдХреЗ рджреМрд░рд╛рди рдпреВрдирд┐рдЯреАрдбрд┐рдЯрд░ рдХреЗ рд╣реБрдб рдХреЗ рддрд╣рдд рд╣реЛрддреА рд╣реИред рдпрджрд┐ рдЖрдк рдкреНрд░рдорд╛рдг рдЪрд╛рд╣рддреЗ рд╣реИрдВ - рдПрдХ рдЧрд┐рддреБрдм рдкрд░, рдпреВрдирд┐рдЯреА рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЗ рдкрд╛рд╕ рдЗрд╕ рддрд░рд╣ рдХреА рдПрдХ рджрд┐рд▓рдЪрд╕реНрдк рдЪреАрдЬ рд╣реИ, рдпреВрдирд┐рдЯреАрд╕реАрдЖрд░ рд╕рдВрджрд░реНрдн, рдЕрдкрдиреЗ рдЕрд╡рдХрд╛рд╢ рдХреЛ рджреЗрдЦреЗрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП рдСрдмреНрдЬреЗрдХреНрдЯрдлрд┐рд▓реНрдб рд░реЗрдВрдбрд░рд┐рдВрдЧ рдХреИрд╕реЗ рд▓рд╛рдЧреВ рдХреА рдЬрд╛рддреА рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рдпрд╣ </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(рд╣рд╛ рд╣рд╛) рдирд╣реАрдВ рд╣реИ</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕рдм рдХреБрдЫред рд╣рдореЗрдВ рдХреНрд╖реЗрддреНрд░ рдорд┐рд▓рд╛ рд╣реИ, рд╣рдо рдЦреБрд╢ рд╣реИрдВ, рд╣рдо рдЬреЛ рдЪрд╛рд╣реЗрдВ рдЙрд╕рдХреЗ рд╕рд╛рде рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рд╕рднреА рдмрдЯрди рдФрд░ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рд╕рд╛рде рдЕрдкрдиреЗ рд╕реНрд╡рдпрдВ рдХреЗ рдпреВрдирд┐рдЯреАрдИрд╡реЗрдВрдЯ рдХреЛ рд▓рд┐рдЦрдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддреЗ рд╣реИрдВ рдЬреЛ рдХреЗрд╡рд▓ рд╣рдорд╛рд░реЗ рдХреНрд╖реЗрддреНрд░ рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рдЪрд╛рд╣реЗ рд╡рд╣ рдХрд┐рд╕ рд╡рд╕реНрддреБ рдкрд░ рд▓рдЯрдХрд╛ рд╣реЛред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдХрдо рд╕реЗ рдХрдо, рдЬрдмрдХрд┐ рдпрд╣ рдЗрд╕ рд╡рд╕реНрддреБ рдХреЗ рдореВрд▓ рдореЗрдВ рд▓рдЯрдХрд╛ рд╣реБрдЖ рд╣реИ, рд╕рдм рдХреБрдЫ рдареАрдХ рд╣реЛ рдЬрд╛рдПрдЧрд╛, рд▓реЗрдХрд┐рди рддрдм рдпрд╣ рдЗрддрдирд╛ рдЕрдзрд┐рдХ рдирд╣реАрдВ рд╣реИред </font><font style="vertical-align: inherit;">рдХреНрд░рдордмрджреНрдзрддрд╛ рдХреЗ рдорд╛рд░реНрдЧ рдХреЗ рдиреАрдЪреЗ, рд╣рдо рд╕рд░рдгрд┐рдпреЛрдВ рдФрд░ рд╕рднреА рдкреНрд░рдХрд╛рд░ рдХреА рд╕реВрдЪрд┐рдпреЛрдВ рдХреА рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рдЬрд┐рдирдХреА рдореБрдЦреНрдп рдЗрдЪреНрдЫрд╛ рд╣рдореЗрдВ рдЪрдкреНрдкрд▓ рдореЗрдВ рд░рдЦрдирд╛ рд╣реИ, рд╕рдордп-рд╕рдордп рдкрд░ рддрддреНрд╡реЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЛ рдКрдкрд░ рдХреА рдУрд░ рдмрджрд▓рдирд╛ред </font><font style="vertical-align: inherit;">рд▓реЗрдХрд┐рди рдЗрд╕рдХреЗ рд╕рд╛рде рдирд░рдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо рдкрд╣рд▓реЗ рд╕рд░рдгреА рдХреЗ рдиреАрдЪреЗ рдЦреБрджрд╛рдИ рдХрд░реЗрдВрдЧреЗред</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣рдорд╛рд░рд╛ рд▓рдХреНрд╖реНрдп рдРрд╕реА рдЧреБрдбрд╝рд┐рдпрд╛ рдХрд╛ рд╡рд┐рд░реЛрдз рд╣реИ</font></font></b>
                        <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/l7/do/h3/l7doh3b9j_da24zsw9rc-7xefjs.png"></div></div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрджрд┐ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдХреНрд░рдорд╛рдВрдХрди рдкрде рдореЗрдВ рд╕рд░рдгрд┐рдпрд╛рдБ рдирд╣реАрдВ рд╣реИрдВ, рддреЛ рдХрд╛рд░реНрдп рддреБрдЪреНрдЫ рд╣реЛрдЧрд╛: рд╣рдо рд╢реНрд░реГрдВрдЦрд▓рд╛ рдХреЗ рдЕрдВрдд рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рддрдХ рдХреНрд░рдорд┐рдХ рдиреЛрдбреНрд╕ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд▓реВрдк рдХрд░реЗрдВрдЧреЗред </font><font style="vertical-align: inherit;">рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреЛрдб рдХреА рддрд░рд╣ рдХреБрдЫ:</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">object</span> currentObject = serializationRoot;
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; directSearchDepth; i++)<font></font>
{<font></font>
       <span class="hljs-keyword">string</span> pathNode = path[i];<font></font>
       Type objectType = currentObject.GetType();<font></font>
       FieldInfo objectFieldInfo = objectType.GetField(pathNode);<font></font>
       <span class="hljs-keyword">object</span> nextObject = objectFieldInfo.GetValue(currentObject);<font></font>
       currentObject = nextObject;<font></font>
}<font></font>
<span class="hljs-keyword">return</span> currentObject;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрд╣рд╛рдВ рд╣рдо рдПрдХ рд╕рд╛рде рджреЛ рдЕрдкреНрд░рд┐рдп рд╕рдорд╛рдЪрд╛рд░реЛрдВ рдХреА рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░ рд░рд╣реЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рдореИрдВ рджреВрд╕рд░реЗ рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рдХрд░реВрдБрдЧрд╛ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдиреЗрдХреНрд╕реНрдЯ рдСрдмрдЬреЗрдХреНрдЯ рд▓реЗрдиреЗ рдХрд╛ рдХрджрдо рдЙрдореНрдореАрдж рдХреА рд╡рд╕реНрддреБ рдХреЗ рдмрдЬрд╛рдп рдЕрдЪрд╛рдирдХ рдЕрд╢рдХреНрдд рд╣реЛ рд╕рдХрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдЖрдорддреМрд░ рдкрд░ рдРрд╕рд╛ рддрдм рд╣реЛрддрд╛ рд╣реИ рдЬрдм рд╣рдо рдкрд╣рд▓реА рдмрд╛рд░ рдирд┐рд░реАрдХреНрд╖рдХ рдореЗрдВ рдореВрд▓ рд╡рд╕реНрддреБ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд░рддреЗ рд╣реИрдВ, рдФрд░ рдХреНрд░рдорд╛рдВрдХрди рдкрде рдкрд╣рд▓реЗ рд╕реЗ рдореМрдЬреВрдж рд╣реИ, рд▓реЗрдХрд┐рди рд╕рдВрдмрдВрдзрд┐рдд рдХреНрд╖реЗрддреНрд░ рдРрд╕рд╛ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ (рдЗрд╕рд╕реЗ рд╣рдореЗрдВ рдФрд░ рднреА рдЕрдзрд┐рдХ рд╕реБрд╡рд┐рдзрд╛рдПрдВ рдорд┐рд▓реЗрдВрдЧреА)ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рд╡рд╛рдкрд╕реА рдирд▓ рдХреЗ рд╕рд╛рде рд╡рд┐рдзрд┐ рд╕реЗ рдмрд╛рд╣рд░ рдирд┐рдХрд▓рдиреЗ рдХреЛ рддреБрд░рдВрдд рдЬреЛрдбрд╝рдирд╛ рдЕрдЪреНрдЫрд╛ рд╣реЛрдЧрд╛:</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">object</span> nextObject = objectFieldInfo.GetValue(currentObject);
<span class="hljs-keyword">if</span> (nextObject == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<font></font>
currentObject = nextObject;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
"рдПрдХ рдорд┐рдирдЯ рд░реБрдХрд┐рдП! </font><font style="vertical-align: inherit;">- рддреБрдо рдХрд╣реЛред </font><font style="vertical-align: inherit;">"рдФрд░ рдлрд┐рд░ рдУрдПрдирдЬреАрдЬреА рдореЗрдВ рдХреНрдпрд╛ рдХрд░рдирд╛ рд╣реИ рдЕрдЧрд░ рд╢реВрдиреНрдп рд╣рдореЗрдВ рд╡рд╛рдкрд╕ рдХрд░ рджрд┐рдпрд╛ рдЧрдпрд╛?" </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЙрддреНрддрд░: рдХреБрдЫ рдирд╣реАрдВред </font><font style="vertical-align: inherit;">рд╕рдЪрдореБрдЪ рдХреБрдЫ рднреА рдирд╣реАрдВред </font><font style="vertical-align: inherit;">рдмрд╕ рдПрдХ рд╡рд╛рдкрд╕реА рдХрд░реЗрдВ рдФрд░ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдЗрд╕ рдбреНрд░рд╛рдЗрдВрдЧ рдХрджрдо рдХреЛ рдЫреЛрдбрд╝ рджреЗрдВ, рдЬрд┐рд╕ рдХреНрд╖реЗрддреНрд░ рдХреЗ рдирд┐рд░реНрдорд╛рдг рдХреА рдкреНрд░рддреАрдХреНрд╖рд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдЗрд╕рд╕реЗ рднрдпрд╛рдирдХ рдХреБрдЫ рдирд╣реАрдВ рд╣реЛрдЧрд╛ред</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnGUI</span>(<span class="hljs-params">Rect position, SerializedProperty property, GUIContent label</span>)</span><font></font>
{<font></font>
       SandboxField sandboxField = GetTarget&lt;T&gt;(property);<font></font>
       <span class="hljs-keyword">if</span> (sandboxField == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span>;<font></font>
тАж<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрд╣рд╛рдБ GetTarget () рд╕рдВрдкрддреНрддрд┐ рд╕реЗ рдХреНрд░рдордмрджреНрдз рдСрдмреНрдЬреЗрдХреНрдЯ рд▓реЗрддреЗ рд╣реБрдП, рдПрдХ рд╣реА рдХрд╛рд░реНрдп рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╡реИрд╕реЗ, рдореИрдВ рдЖрдкрдХреЛ рдпрд╣рд╛рдБ рдкрд░ рдирд╣реАрдВ, рдмрд▓реНрдХрд┐ GetPropertyHeight рдореЗрдВ рджрд┐рд▓рдЪрд╕реНрдкреА рдХреЗ рдХреНрд╖реЗрддреНрд░ рдХреЛ рд▓реЗрдиреЗ рдХреА рд╕рд▓рд╛рд╣ рджреВрдВрдЧрд╛ред рдпрджрд┐ рд╣рдо рд╕рд╛рдордЧреНрд░реА рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд╡рд┐рднрд┐рдиреНрди рдЖрдХрд╛рд░реЛрдВ рдХреЗ рд╕рд╛рде рдмрдВрдзрдиреЗрд╡рд╛рд▓рд╛-рд╡рд┐рд╕реНрддрд╛рд░ рдпреЛрдЧреНрдп рдХреНрд╖реЗрддреНрд░ рд▓рд┐рдЦрддреЗ рд╣реИрдВ, рддреЛ рдЗрд╕рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред GetPropertyHeight () рдХреЛ OnGUI () рд╕реЗ рдкрд╣рд▓реЗ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдпрджрд┐ рд╣рдо рд╡рд╣рд╛рдВ рдлреАрд▓реНрдб рд▓реЗрддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕реЗ рдЕрдкрдиреЗ рдкреНрд░реЙрдкрд░реНрдЯреАрдбреНрд░рд╛рд╡рд░ рдХреЗ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рд▓рд┐рдЦрддреЗ рд╣реИрдВ, рддреЛ рд╣рдореЗрдВ рдЗрд╕реЗ рдлрд┐рд░ рд╕реЗ OnGUI рдкрд░ рдирд╣реАрдВ рд▓реЗ рдЬрд╛рдирд╛ рдкрдбрд╝реЗрдЧрд╛ред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдХреГрдкрдпрд╛ рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдХрд╕реНрдЯрдо PropertyDrawer рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рд╡рд░реНрддрдорд╛рди рдореЗрдВ рд╕рднреА рджреГрд╢реНрдпрдорд╛рди рдЕрдиреБрдХреНрд░рдорд┐рдд рдЧреБрдгреЛрдВ рдХреЛ рдЖрдХрд░реНрд╖рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдХреЗрд▓реЗ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдФрд░ рдКрдкрд░ рд╕реЗ рдиреАрдЪреЗ рддрдХ рдмрд╛рд░реА-рдмрд╛рд░реА рд╕реЗ рдирдП рдЧреБрдг рдбрд╛рд▓реЗ рдЬрд╛рддреЗ рд╣реИрдВред рдЗрд╕реЗ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП рддрд╛рдХрд┐ рдЕрдЧрд▓реА рд╕рдВрдкрддреНрддрд┐ рдХреА рдКрдВрдЪрд╛рдИ рдХреА рдЧрдгрдирд╛ рдХреЗ рд╕рд╛рде рдЧрдбрд╝рдмрдбрд╝ рди рд╣реЛ, рдЕрдиреНрдпрдерд╛ рдЖрдк рдПрдХ рдЕрдкреНрд░рд┐рдп рд╕реНрдерд┐рддрд┐ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬрдм рдЖрдк рддрд╣ рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдЬрд┐рд╕ рдХреНрд╖реЗрддреНрд░ рдХреА рдЖрдк рдЕрдкреЗрдХреНрд╖рд╛ рдХрд░рддреЗ рд╣реИрдВ рдЙрд╕рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рд╣реЛрддрд╛ рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рд╕рднреА tinsel рдЬреЛ рд╕рдВрдкрд╛рджрдХ рдореЗрдВ рдлрд╝реАрд▓реНрдб рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЬрд╝рд┐рдореНрдореЗрджрд╛рд░ рд╣реИ рдФрд░ рдЬрд┐рд╕реЗ рдЖрдк рдХреНрд░рдордмрджреНрдз рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рдЖрдкрдХреЛ рдХреНрд░рдорд┐рдХ рд╡рд░реНрдЧ рдХреА рдУрд░ рд╕реЗ рдЕрдиреБрдХреНрд░рдорд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП, рди рдХрд┐ PropertyDrawer, рдФрд░ рд╕рдЯреАрдХрддрд╛ рдХреА рдЦрд╛рддрд┐рд░ - рдПрдиреНрдХреНрд▓реЛрдЬрд╝рд▓ рд╕рдВрдХрд▓рди рд╕рдВрдХрд▓рди рдХреЛрд╖реНрдардХ рддрд╛рдХрд┐ рдпрд╣ рд╕рднреА рд╕реНрдкреИрдирд┐рд╢ рд╢рд░реНрдорд┐рдВрджрд╛ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рди рдХрд░реЗрдВ :</font></font><br>
<br>
<pre><code class="cs hljs">[<span class="hljs-meta">Serializable</span>]
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">SandboxField</span><font></font>
{<font></font>
тАж<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> UNITY_EDITOR</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">bool</span> editorFoldout;
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span><font></font>
тАж<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдПрдХ рдФрд░ рдиреБрдХрд╕рд╛рди рдЬреЛ рд╣рдореЗрдВ рдпрд╣рд╛рдВ рдЗрдВрддрдЬрд╛рд░ рдХрд░ рд░рд╣рд╛ рд╣реИ: рд╕рдВрдкрд╛рджрдХ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдмрдирд╛рдП рдЧрдП рд╕рднреА рдлрд╝реАрд▓реНрдб рд╡рд░реНрдЧ рдирд┐рд░реНрдорд╛рддрд╛ рдкрд░ рдФрд░ рдХрдХреНрд╖рд╛ рдореЗрдВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдореВрд▓реНрдпреЛрдВ рдкрд░ рдереВрдХрдирд╛ рдЪрд╛рд╣рддреЗ рдереЗред </font><font style="vertical-align: inherit;">рдпрджрд┐ рдЖрдк рдХрд░рддреЗ рд╣реИрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЗрд╕ рддрд░рд╣ рд╕реЗ (рдореЗрд░реЗ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рд╕реЗ рдЙрджрд╛рд╣рд░рдг, рдЬрд╣рд╛рдВ рдпрд╣ рдкрд╛рдиреА рдХреА рд╕рддрд╣ рдХреЗ рдиреЛрдбреНрд╕ рдХрд╛ рдореВрд▓реНрдп рдерд╛):</font></font><br>
<br>
<pre><code class="cs hljs">[<span class="hljs-meta">SerializeField</span>]<span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> m_nodesPerUnit = <span class="hljs-number">5</span>;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЬреИрд╕реЗ рд╣реА рдЖрдк рд╕реВрдЪреА рдореЗрдВ рдПрдХ рдирдпрд╛ рдЖрдЗрдЯрдо рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ, рдЗрд╕ рдорд╛рди рдХреЛ рдмрд┐рдВрджреБ-рд░рд┐рдХреНрдд рдХреНрд░рдорд╛рдВрдХрди рдкрд░ рдзреНрдпрд╛рди рдирд╣реАрдВ рджрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред </font><font style="vertical-align: inherit;">рдорджрдж рдХреЗ рд▓рд┐рдП рдХрдВрд╕реНрдЯреНрд░рдХреНрдЯрд░ рдХреЛ рдХреЙрд▓ рдХрд░рдирд╛ рдХреЛрдИ рдХрдо рдмреЗрдХрд╛рд░ рдирд╣реАрдВ рд╣реИ: рдЖрдкрдиреЗ рдЬреЛ рдХреБрдЫ рднреА рд▓рд┐рдЦрд╛ рд╣реИ рдЙрд╕реЗ рдЕрдирджреЗрдЦрд╛ рдХрд░ рджрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред </font><font style="vertical-align: inherit;">рдирдИ рд╡рд╕реНрддреБ рдПрдХ рдмрд╛рдЬрд╝ рдХреА рддрд░рд╣ рдПрдХ рд▓рдХреНрд╖реНрдп рд╣реИ, рдЗрд╕рдХреЗ рд╕рднреА рдореВрд▓реНрдп рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдорд╛рди рд╣реИрдВ, рд▓реЗрдХрд┐рди рд╡реЗ рдирд╣реАрдВ рдЬрд┐рдиреНрд╣реЗрдВ рдЖрдк рд╡рд╣рд╛рдВ рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рдмрд▓реНрдХрд┐ рд╕рднреА рдкреНрд░рдХрд╛рд░ рдХреЗ рдЕрд╢рдХреНрдд, рдЭреВрдареЗ, 0, Color.clear рдФрд░ рдЕрдиреНрдп рдЕрд╢реНрд▓реАрд▓ рдЪреАрдЬреЗрдВ рд╣реИрдВред</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдорд╛рдВрд╕ рдореЗрдВ рдмреИрд╕рд╛рдЦреА</font></font></b>
                        <div class="spoiler_text">  .   NonUnitySerializableClass,       .      , DefaultEditorObject(),    . <br>
<br>
  - :<br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title">NonUnitySerializableClass</span><font></font>
{<font></font>
        <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">DefaultEditorObject</span>(<span class="hljs-params"></span>)</span><font></font>
        {<font></font>
            <span class="hljs-comment">// virtually do nothing</span><font></font>
        }<font></font>
<font></font>
        [<span class="hljs-meta">SerializeField</span>]<span class="hljs-keyword">private</span> <span class="hljs-keyword">bool</span> validated = <span class="hljs-literal">false</span>;
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">EditorCreated</span>(<span class="hljs-params"><span class="hljs-keyword">bool</span> force = <span class="hljs-literal">false</span></span>)</span><font></font>
        {<font></font>
            <span class="hljs-keyword">if</span> (validated &amp;&amp; !force) <span class="hljs-keyword">return</span>;<font></font>
            DefaultEditorObject();<font></font>
            validated = <span class="hljs-literal">true</span>;<font></font>
        }<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">NonUnitySerializableClass</span>(<span class="hljs-params"></span>)</span><font></font>
        {<font></font>
            EditorCreated(<span class="hljs-literal">true</span>);<font></font>
        }<font></font>
}</code></pre><br>
        DefaultEditorObject(),    ,   EditorCreated     .<br>
<br>
 :       .<br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/fg/dh/dr/fgdhdrfczfhhcki7dw6plxzj7vi.png"></div><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЖрдЗрдП, рдЕрдкрдиреА рднреЗрдбрд╝реЛрдВ рдХреЗ рдкрд╛рд╕, рдпрд╛ рдпреЛрдВ рдХрд╣реЗрдВ, рд╕рд░рдгрд┐рдпреЛрдВ рдореЗрдВ рд╡рд╛рдкрд╕ рдЬрд╛рдПрдБред </font><font style="vertical-align: inherit;">рдПрдХ рдФрд░ рд╕рдорд╕реНрдпрд╛ рдЬреЛ рдкрд╣рд▓реЗ рдЪрд░рдг рдореЗрдВ рднреА рдЙрддреНрдкрдиреНрди рд╣реЛ рд╕рдХрддреА рд╣реИ, рд╡рд╣ рдЗрд╕ рдкрдВрдХреНрддрд┐ рдореЗрдВ рд╣реИ:</font></font><br>
<br>
<pre><code class="cs hljs">FieldInfo objectFieldInfo = objectType.GetField(pathNode);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрджрд┐ рдпрд╣ рдХреНрд░рдорд┐рдХ рдкрде рдореЗрдВ рдПрдХ рд╕рд░рдгреА рдХреЗ рд╡рд┐рд░реБрджреНрдз рдЖрддрд╛ рд╣реИ (рдФрд░ рдХреЛрдИ рднреА "IList" рдСрдмреНрдЬреЗрдХреНрдЯ "рд╕рд░рдгреА" рд╕рд░рдгреА рд╣реЛрдЧрд╛) рддреЛ рд░рд╛рдЗрдЯ-рд╣реИрдВрдб рд╕рд╛рдЗрдб рд╣рдореЗрдВ рд╢реВрдиреНрдп рд╡рд╛рдкрд╕ рдХрд░ рд╕рдХрддреА рд╣реИред </font><font style="vertical-align: inherit;">рдЕрдкреНрд░рд┐рдпред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдХреНрдпрд╛ рдХрд░реЗрдВ? </font><font style="vertical-align: inherit;">рд╣реИрдВрдбрд▓рд░ рд▓рд┐рдЦрдХрд░ </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдРрд╕реА рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдореЗрдВ рди рдкрдбрд╝рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░реЗрдВ</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; pathNode.Length; i++)<font></font>
{<font></font>
        <span class="hljs-keyword">string</span> pathNode = path[i];<font></font>
        Type objectType = currentObject.GetType();<font></font>
        FieldInfo objectFieldInfo = objectType.GetField(pathNode);<font></font>
<font></font>
        <span class="hljs-keyword">if</span> (objectFieldInfo == <span class="hljs-literal">null</span>)<font></font>
        {<font></font>
                <span class="hljs-keyword">if</span> (pathNode == <span class="hljs-string">"Array"</span>)<font></font>
                {<font></font>
                        i++;<font></font>
                        <span class="hljs-keyword">string</span> nextNode = path[i];
                        <span class="hljs-keyword">string</span> idxstr = nextNode.Substring(nextNode.IndexOf(<span class="hljs-string">"["</span>) + <span class="hljs-number">1</span>);<font></font>
                        idxstr = idxstr.Replace(<span class="hljs-string">"]"</span>, <span class="hljs-string">""</span>);
                        <span class="hljs-keyword">int</span> arrayNumber = Convert.ToInt32(idxstr);<font></font>
                        IList collection = currentObject <span class="hljs-keyword">as</span> IList;
                        <span class="hljs-keyword">if</span> (collection.Count &lt;= arrayNumber) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<font></font>
                        currentObject = collection[arrayNumber];<font></font>
                }<font></font>
                <span class="hljs-keyword">else</span><font></font>
                {<font></font>
                        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NotImplementedException(<span class="hljs-string">"   "</span>);<font></font>
                }<font></font>
        }<font></font>
        <span class="hljs-keyword">else</span> <span class="hljs-comment">//  ,     </span><font></font>
        {<font></font>
                <span class="hljs-keyword">object</span> nextObject = objectFieldInfo.GetValue(currentObject);
                <span class="hljs-keyword">if</span> (nextObject == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<font></font>
                currentObject = nextObject;<font></font>
        }<font></font>
}<font></font>
<span class="hljs-keyword">return</span> currentObject;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рд╛рдВ, рд╣рдо рдпрд╣рд╛рдВ рдПрдХ рдЕрдкреНрд░рд┐рдп рд╕реНрдерд┐рддрд┐ рдореЗрдВ рднреА рдкрд╣реБрдВрдЪ рд╕рдХрддреЗ рд╣реИрдВ, рдЬрдм рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдХреНрд░рдорд╛рдВрдХрди рдкрде рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдбреЗрдЯрд╛ [0] рдпрд╛ рдбреЗрдЯрд╛ [1] рддрддреНрд╡, рдФрд░ рд╕рд░рдгреА рдиреЗ рдЕрднреА рддрдХ рдЗрд╕реЗ рд▓рд╛рдЧреВ рдирд╣реАрдВ рдХрд┐рдпрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рд╣рдордиреЗ рдПрдХ рдЦрд╛рд▓реА рд╕реВрдЪреА рдмрдирд╛рдИред </font><font style="vertical-align: inherit;">рд╣рдо рдЙрдирд╕реЗ N рддрддреНрд╡ рдкреВрдЫрддреЗ рд╣реИрдВ - рдФрд░ рдЗрд╕ рд╕реБрдВрджрд░ рд░реЗрдЦрд╛ рдХреЗ рдмрд┐рдирд╛:</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">if</span> (collection.Count &lt;= arrayNumber) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... рд╣рдореЗрдВ purrs рдореЗрдВ рдЕрдкрд╡рд╛рджреЛрдВ рдХрд╛ рдПрдХ рд╕рдореВрд╣ рдорд┐рд▓рддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдФрд░ рдЬреЛ рдХреБрдЫ рднреА рдЖрд╡рд╢реНрдпрдХ рдерд╛ рд╡рд╣ рдкреНрд░рддрд┐рдкрд╛рджрди рдХрджрдо рдХреЛ рдЫреЛрдбрд╝ рджреЗрдирд╛ рдерд╛, рдЬрдм рддрдХ рдХрд┐ рд╣рдорд╛рд░реЗ рд▓рд┐рдП рдмреНрдпрд╛рдЬ рдХреЗ рдХреНрд╖реЗрддреНрд░реЛрдВ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рддрдм рддрдХ рдЗрдВрддрдЬрд╛рд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдореИрдВ рдЕрднреА рддрдХ рдЕрдиреНрдп рдорд╛рдорд▓реЛрдВ рдореЗрдВ рдирд╣реАрдВ рдЖрдпрд╛ рд╣реВрдВ рдЬрдм objectFieldInfo == рдЕрд╢рдХреНрдд рд╣реИ, рд▓реЗрдХрд┐рди рдПрдХ рд╣реА рд╕рдордп рдореЗрдВ рдХреНрд░рдорд╛рдВрдХрди рдиреЛрдб рдХреЛ рдРрд░реЗ рдХреЗ рд░реВрдк рдореЗрдВ рдирд╛рдорд┐рдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЗрд╕ рддрд░рд╣ рдХреЗ рдХрд╛рд▓реНрдкрдирд┐рдХ рдЕрд╕рд╛рдзрд╛рд░рдг рд╕реНрдерд┐рддрд┐ рдореЗрдВ рдПрдХ рднрдпрд╛рдирдХ рдЕрдкрд╡рд╛рдж рдХреЛ рдлреЗрдВрдХрдирд╛ рдмрд╛рдж рдореЗрдВ рдЗрд╕реЗ рджрд░рд╛рд░ рдХрд░рдирд╛ рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, рд╣рдореЗрдВ рдЕрдзрд┐рдХ рдпрд╛ рдХрдо рдХрд╛рдордХрд╛рдЬреА рдлрд╝рдВрдХреНрд╢рди рдорд┐рд▓рд╛ рдЬреЛ рд╣рдореЗрдВ рдЗрд╕рдХреА рдХреНрд░рдордмрджреНрдз рд╕рдВрдкрддреНрддрд┐ рджреНрд╡рд╛рд░рд╛ рдПрдХ рдХреНрд╖реЗрддреНрд░ рдирд┐рдХрд╛рд▓рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рднрд╡рд┐рд╖реНрдп рдореЗрдВ, рдЗрд╕ рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдХреНрд░рдорд╛рдВрдХрди рдкрде рдореЗрдВ рд╕рднреА рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдХреЛ рдирд┐рдХрд╛рд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдордЬрдмреВрд░ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рд╕рд╛рде рд╣реА рд░рд╛рд╕реНрддреЗ рдХреЗ рд╕рд╛рде рд╕рд░рдгрд┐рдпреЛрдВ рдХреЛ рд╢рд╛рдорд┐рд▓ рдпрд╛ рдмрд╛рд╣рд░ рдХрд░рдиреЗ рдХреЗ рд╕рд╛рде рдирд┐рдХрдЯрддрдо "рдорд╛рддрд╛-рдкрд┐рддрд╛" рдХреА рдЦреЛрдЬ рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИред</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдиреЗрд╕реНрдЯреЗрдб рдЧреБрдгреЛрдВ рдХреЛ рдЖрдХрд░реНрд╖рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЬреАрд╡рди рд╣реИрдХ</font></font></b>
                        <div class="spoiler_text">      -  ,   Rect position  Rect indentedPosition = EditorGUI.IndentedRect(position).     ,         EditorGUI,      position ,       GUI тАУ    indentedPosition.   EditorGUILayout  OnGUI,       (   ,   ).<br>
<br>
    ,   MonoScript   (     -,   ),     static-,      AssetDatabase,        <i></i>         .<br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдзреНрдпрд╛рди рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ рдзрдиреНрдпрд╡рд╛рджред</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi502818/index.html">рд╡рд╛рдИ рд╕рдВрджреЗрд╢рд╡рд╛рд╣рдХ: рдмреНрд▓реЙрдХрдЪреЗрди рдкрд░ рд╡рд┐рдХреЗрдВрджреНрд░реАрдХреГрдд рд╕рдВрджреЗрд╢рд╡рд╛рд╣рдХ *</a></li>
<li><a href="../hi502826/index.html">3 рдбреА рдХреНрд░реАрдкрд░рдлреЙрд░реНрдо рдореЗрдЯрд╛рд╕реНрдХреИрди 3 рдбреА рд╕реНрдХреИрдирд░ рдЕрд╡рд▓реЛрдХрди</a></li>
<li><a href="../hi502830/index.html">рдСрдирд▓рд╛рдЗрди рд╣реИрдХрд╛рдереЙрди "рдиреНрдпреВ рд░рд┐рдпрд▓рд┐рдЯреА" рд╡рд╛рдпрд░рд╕рд╣реИрдХред рдпрд╣ рдХреИрд╕рд╛ рдерд╛</a></li>
<li><a href="../hi502832/index.html">ISTQB рдкреНрд░рдорд╛рдгрди рдСрдирд▓рд╛рдЗрди рдЙрдкрд▓рдмреНрдз рдХрд░рд╛рдпрд╛ рдЧрдпрд╛: рд╡реНрдпрдХреНрддрд┐рдЧрдд рдЕрдиреБрднрд╡</a></li>
<li><a href="../hi502834/index.html">рдЫрд╣ рдорд╣реАрдиреЗ рдореЗрдВ рдпрд╛ рдЙрд╕рд╕реЗ рднреА рддреЗрдЬреА рд╕реЗ рджреЗрд╡рдУрдкреНрд╕ рдЗрдВрдЬреАрдирд┐рдпрд░ рдХреИрд╕реЗ рдмрдиреЗрдВред рднрд╛рдЧ 5. рдкрд░рд┐рдирд┐рдпреЛрдЬрди</a></li>
<li><a href="../hi502838/index.html">рдЖрдИрдЯреА рдФрд░ рдбрд┐рдЬрд┐рдЯрд▓ рд╡реНрдпрд╡рд╕рд╛рдпреЛрдВ рдХреЗ рдмреАрдЪ рдХреНрдпрд╛ рдЕрдВрддрд░ рд╣реИ: рдбрд┐рдЬрд┐рдЯрд▓ рдкрд░рд┐рд╡рд░реНрддрди рдФрд░ рд╡рд┐рд╢реЗрд╖рдЬреНрдЮ рд░рд╛рдп</a></li>
<li><a href="../hi502840/index.html">рд╢рд╛рдЗрдирд┐рдВрдЧ 3 рдбреА рдЖрдЗрдВрд╕реНрдХреИрди рдкреНрд░реЛ 2 рдПрдХреНрд╕ рдкреНрд▓рд╕ 3 рдбреА рд╕реНрдХреИрдирд░ рд░рд┐рд╡реНрдпреВ</a></li>
<li><a href="../hi502842/index.html">рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдмреЙрдпреЛрдореАрдЯреНрд░рд┐рдХ рдбреЗрдЯрд╛ рдХреЛ рдЖрдкрд░рд╛рдзрд┐рдХ рдЙрдкрдпреЛрдЧ рд╕реЗ рдХреИрд╕реЗ рдмрдЪрд╛рдПрдВ</a></li>
<li><a href="../hi502844/index.html">[рднрд╛рдЧ 2/2] FFmpeg рдФрд░ SDL рдХреЗ рд▓рд┐рдП рдЧрд╛рдЗрдб рдпрд╛ 1000 рд▓рд╛рдЗрдиреЛрдВ рд╕реЗ рдХрдо рдореЗрдВ рд╡реАрдбрд┐рдпреЛ рдкреНрд▓реЗрдпрд░ рдХреИрд╕реЗ рд▓рд┐рдЦреЗрдВ</a></li>
<li><a href="../hi502846/index.html">рдЬреБрдХрд░рдмрд░реНрдЧ рдиреЗ рджреБрдХрд╛рдиреЗрдВ рд╢реБрд░реВ рдХреАред рдЗрдВрд╕реНрдЯрд╛рдЧреНрд░рд╛рдо рдФрд░ рдлреЗрд╕рдмреБрдХ рдзреАрд░реЗ-рдзреАрд░реЗ рд╕реНрдЯреЛрд░ рд╣реЛ рдЧрдПред</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>