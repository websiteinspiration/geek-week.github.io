<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏾‍🏭 🚈 👩🏽‍⚕️ Como aluguei o OSCP 🤙🏾 😠 🙏</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Meus colegas e eu fizemos o curso OSCP e passamos no exame. Neste artigo, descreverei em detalhes como o exame é aprovado, quais são as armadilhas e s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Como aluguei o OSCP</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/acribia/blog/497806/"><img src="https://habrastorage.org/webt/xu/c1/b3/xuc1b3o751swqrwezdo2zazw_hy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Meus colegas e eu fizemos o curso OSCP e passamos no exame. </font><font style="vertical-align: inherit;">Neste artigo, descreverei em detalhes como o exame é aprovado, quais são as armadilhas e se o jogo vale a pena.</font></font><br>
<a name="habracut"></a><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como tudo começou</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Meu colega </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c4n</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">há dois anos, ele disse que deveríamos aprovar a OSCP e eu concordei, mas, como costuma ser o caso de boas idéias, </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pontuamos</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> essa ideia. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um ano depois, nossa empresa teve a oportunidade de liberar treinamento sobre coisas úteis para os funcionários (infelizmente, meu entendimento não coincide com os cursos de administração e sommelier ainda se recusam a me pagar). </font><font style="vertical-align: inherit;">Pela gloriosa tarefa de passar OSCP puxado</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GolovnyaD</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, disse que nossas desculpas sobre o emprego são mais ou menos e que precisamos prosseguir. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E nós começamos.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O que sabíamos sobre OSCP</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sabíamos que o OSCP consiste, de fato, em 3 partes: material teórico (daqui em diante vou chamá-lo em pdf), acesso a um laboratório com máquinas virtuais (daqui em diante vou chamar de laboratório) e um exame. </font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O começo do caminho</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como se viu, o acesso ao laboratório pode ser comprado por 30, 60 ou 90 dias, custa US $ 999, US $ 1199, US $ 1349. Como não queremos dedicar todo o nosso tempo livre apenas ao OSCP, e a diferença entre 30 dias e 90 é de apenas US $ 350), escolhemos o acesso por 90 dias. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em 9 de outubro de 2019, paguei o curso, esperando me divertir por 3 meses, como eu estava errado, me diverti por 5 meses. E aqui está o porquê: a </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">primeira configuração:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> você não pode começar o treinamento amanhã. No meu caso, a data de início mais próxima era 20 de outubro (como dizem nos fóruns, o tempo médio para começar após o pagamento é de 2 semanas).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em 9 de outubro, eles enviaram um pacote de teste (pacote de conectividade) para conectar-se a uma VPN. </font><font style="vertical-align: inherit;">A julgar pelos seus testes, não tive problemas com a conexão VPN (como se viu, eles fizeram o chamado teste, depois eu digo). </font><font style="vertical-align: inherit;">Em seguida, eles enviaram um link para sua assembléia Kali (na aparência não é diferente do habitual), que é especialmente preparado para a passagem.</font></font><br>
<br>
<b><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Início do curso</font></font></h3></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Formalmente, o curso começou às 03:00 do dia 20 de outubro, mas uma carta com o material do curso chegou às 03:09 (notei essa discrepância apenas agora quando estava escrevendo o artigo). </font><font style="vertical-align: inherit;">A carta com os materiais do curso contém links para:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">380 pages pdfku</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">imagens de vídeo para este pdfk</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pacote de conectividade VPN</font></font></li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E aqui nos deparamos com uma segunda configuração: os</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> links de download são válidos por 72 horas e, se não tiverem tempo para fazer o download, pedirão US $ 100 adicionais, após o que eles cuidadosamente dizem fazer um backup e inserir uma piada: " </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lembre-se do ditado sábio:" Existem dois tipos de pessoas. </font><font style="vertical-align: inherit;">Aqueles que fazem backup e aqueles que ainda precisam perder tudo em uma falha no sistema. </font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">» </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Além disso, em todos os fóruns, é recomendável iniciar o curso com as tarefas do pdfk. </font><font style="vertical-align: inherit;">Todos nós fizemos exatamente isso.</font></font><br>
<br>
<b><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tarefas do PDF</font></font></h3></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As tarefas do pdfk precisam ser realizadas para aprender novas ferramentas e técnicas, lembrar como usar as ferramentas e, possivelmente, obter 5 pontos extras no exame. Do surpreendente: em pdfk, não há uma palavra sobre Burp Suite e PowerShell Empire (deveria ter sido adicionado na atualização de fevereiro). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O  conduz sua história do básico: somos ensinados a pesquisar no Google, usar nc.exe (netcat), tcpdump e wireshark e outras ferramentas que têm mais probabilidade de estar relacionadas à engenharia de sistemas do que à segurança. Somente na página 113 de 380 nos familiarizamos com o nmap!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Também somos ensinados a usar ferramentas como o OpenVAS, que não podem ser usadas no exame. Além disso, os exemplos costumam usar o meterpreter, o que também é proibido (pode ser usado apenas em uma máquina). Em geral, eu ainda não entendi o que causou essa proibição no meterpreter, é claro que você pode proibi-lo de aumentar com sua ajuda, mas seria conveniente manter o inverso com vários consoles. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Torna-se interessante na página 148, onde o estouro de buffer começa, e aqui peguei o problema com a conexão VPN. Como se viu, meu ISP mata o tamanho dos pacotes, e a VPN no laboratório é criada usando UDP e meus pacotes com estouros de buffer simplesmente não rastejam e desaparecem. A solução é simples - corrija a configuração adicionando as linhas:</font></font><br>
<br>
<pre><code class="php hljs">tun-mtu <span class="hljs-number">1492</span>
mssfix <span class="hljs-number">1370</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas é uma pena que essas verificações não sejam realizadas pelos organizadores do OSCP, porque em seu fórum, muitos reclamam. Perdi 5 horas e muitos nervos sobre isso (alcançando a solução, encontrei um monte de ramos no fórum sobre isso). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para gravar estouros de buffer e fazer todo tipo de experimentos com o Windows, eles nos fornecem uma máquina virtual dentro do laboratório, isso é bastante conveniente. Durante todo o curso, não instalei uma única máquina virtual (uma vez que tentei instalar o Windows XP SP2, mas não encontrei um torrent funcionando). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em geral, as tarefas para estouros de buffer são muito bem escritas (para Windows e Linux), seria legal fazer isso em etapas, ensinadas nas universidades. O curso OSCP obviamente diz que ignorar o DEP e o ASLR não está incluído no curso.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eles nos dizem como preparar explorações, transferir arquivos, falar sobre escalação de privilégios, mas com isso ainda jogamos o suficiente no laboratório, então tudo bem. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, vem o bloqueio de ataques aos usuários (ataques do lado do cliente), onde eu peguei o problema com uma máquina Kali “especialmente preparada”, que tinha uma versão mais recente do Java e meu Java Appet não funcionava na máquina de teste. Outras 5 horas pesquisando e resolvendo o problema por conta própria e, é claro, há um tópico no fórum sobre isso) </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Geralmente, tudo pode ser encontrado no fórum, este é um local muito útil se você estiver preso em um beco sem saída, mas eu entendi isso apenas no final do curso.</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, vêm os ataques na web - XSS, LFI, RFI, injeção de SQL e muito mais. Está escrito claramente e bem, dê exemplos de cutucadas. Eles falam sobre o sqlmap, que também não pode ser usado no exame, mas é claro que é útil saber. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Outros ataques a senhas (força bruta e obtenção de hashes para Windows e Linux) são muito estendidos para mim; deixei algumas tarefas para mais tarde (e já as fiz dentro do laboratório). No final, há uma história sobre o metasplit e como usá-lo, em grandes detalhes, ao escrever seu próprio módulo. Ele também fornece um exemplo de invasão a uma empresa fictícia que usa muitas das técnicas descritas (leva 34 páginas). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em geral, de todos os pdfs no caso de 100 páginas (e há um grande número de capturas de tela). Levei duas semanas para lê-lo e concluir as tarefas (mas não tinha pressa).</font></font><br>
<br>
<b>   -     ,     ,    ,  .</b><br>
<br>
<b><h3></h3></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Resolvendo o laboratório, decidiu-se não usar o Metasploit e o Meterpreter, porque eles não podem ser (apenas possíveis uma vez) utilizados no exame. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Laba consiste em aproximadamente 60 máquinas virtuais, todas as máquinas são divididas em 4 sub-redes (rede pública, rede de desenvolvedores, rede de departamentos de TI, rede de administradores). Inicialmente, o acesso é apenas na rede pública (na verdade, o acesso é em todas as redes, não podemos reverter as máquinas de uma rede não pública). No laboratório (escrevo sobre os eventos antes da atualização de fevereiro), todas as máquinas são bastante antigas, o Windows mais recente é o servidor Windows 2012R2 (bastante Windows XP), as máquinas Linux são o Ubuntu 14 (o Ubuntu 8 também estava no laboratório), o Centos 7 (o Centos 5 também conheceu ) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em teoria, todo o laboratório deve ser resolvido usando vulnerabilidades publicadas antes de 2016, mas eu não estabeleci essas restrições.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Laba (acesso não privilegiado estava ativado)</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em geral, o laboratório corresponde bem ao que foi declarado em pdfk. </font><font style="vertical-align: inherit;">Em termos de obtenção de acesso não privilegiado, você precisa usar várias técnicas (incluindo ataques a clientes), coletar senhas de máquinas quebradas e reutilizá-las, iniciar brutos e assim por diante. </font><font style="vertical-align: inherit;">Provavelmente, o pior tópico é injeção SQL e injeção cega - eles nunca foram vistos antes. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O algoritmo para inicialização de acesso foi em toda parte como na vida:</font></font></b><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enumeração de portas e serviços</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diretórios brutos para a web</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">definindo produtos e versões</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">explorar pesquisa e modificação</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Algumas máquinas exigem a criação de suas próprias explorações com uma caixa preta, mas nada complicado - LFI / RFI. </font><font style="vertical-align: inherit;">Acima de tudo, fiquei feliz por quase não haver carros da categoria CTF, onde há uma imagem, dentro da qual também há uma imagem, dentro da qual um arquivo zip está oculto e assim por diante.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Laba (escalonamento de privilégios)</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para mim, foi a parte mais interessante e demorou a maior parte do tempo (no início). </font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">janelas</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nas máquinas Windows, usei esses </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">conjuntos de divisões,</font></font></a> <br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
mas em algumas máquinas Windows todas as vulnerabilidades do “kernel” foram corrigidas especialmente e tive que descobrir como me levantar. </font><font style="vertical-align: inherit;">Existem carros para todos os gostos, serviços, startups, tarefas programadas, software instalado. </font><font style="vertical-align: inherit;">O software instalado é obviamente uma grande falha, porque </font><font style="vertical-align: inherit;">é óbvio que os carros estão preparados e, se apenas um aplicativo estiver instalado no sistema, você poderá escalá-lo.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linux</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para o Linux, é claro, você sempre pode usar as vulnerabilidades do kernel, a vaca suja amada de todos trabalha em metade das máquinas, eu usei </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">esta versão</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , embora ela esteja presente em quase todas as máquinas do laboratório, cria com êxito um usuário com acesso ssh. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas em quase todos os lugares onde você pode se </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">deparar</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> com vulnerabilidades na configuração, o </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">LinEnum</font></a><font style="vertical-align: inherit;"> ajuda </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">aqui</font></a><font style="vertical-align: inherit;"> e, para preguiçosos </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">linux-smart-enumeration</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Em geral, não vale a pena abusar das vulnerabilidades do kernel no laboratório, se você deseja se preparar para o exame, é melhor usar as vulnerabilidades de configuração, porque </font><font style="vertical-align: inherit;">todas as máquinas do exame estarão com kernels novos e atualizações instaladas (pelo menos eu as adquiri).</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pós-plotagem no laboratório</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Deixei parte da pós-exploração para mais tarde, mas depois de coletar todas as senhas e visualizar todos os bancos de dados, arquivos de configuração e logs, você pode acessar facilmente muitas máquinas (especialmente em uma rede não pública). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Muitas máquinas quebram a cadeia, é importante entender isso, especialmente para ataques a clientes, se o carro for chamado de correio, então talvez alguém se apegue a ele como um cliente de email) e, se HELPDESK, abrir bilhetes.</font></font><br>
<br>
<b><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os quatro grandes</font></font></h3></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Existem 4 carros no laboratório que são considerados os mais complexos e alguns recomendam deixá-los no final, são eles: Dor, Sofrimento, Gh0st e Humilde. </font><font style="vertical-align: inherit;">Eu sabia da presença deles desde o começo, mas não os fugi especificamente ou não os procurei. </font><font style="vertical-align: inherit;">Quando decidi voltar para eles, dois dos quatro que eu já havia quebrado. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Minha impressão deles:</font></font></b><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A dor é um carro bacana, complicado tanto na obtenção da concha inicial quanto na elevação.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sufferance - uma complexa caminhada inicial, em várias etapas, obtive algo semelhante no exame. </font><font style="vertical-align: inherit;">Impulso simples.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gh0st - o início e a inicialização foram como máquinas CTF, mas uma das mais belas melhorias em todo o laboratório.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Humilde - sem dúvida a caminhada de inicialização mais complexa do laboratório, mas um simples impulso.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em geral, esses são carros legais, e tenho quase certeza de que, se você os quebrou em seu laboratório, você passará no exame sem problemas, eu quebrei o Humble por mais tempo do que fiz no exame. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Meu top incluiria:</font></font></b><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A prova de Sherlock acontece em alguns minutos, e você pode ficar sentado por um longo tempo para reverter.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">beta é uma máquina muito vital, tanto na obtenção de acesso primário quanto em atualizações (bash limitado).</font></font></li>
</ul><br>
<b><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Resultados laboratoriais</font></font></h3></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em geral, o laboratório causou uma boa impressão, quebrei todos os carros que peguei (cerca de 45 carros). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em geral, lembrei-me de muitas coisas que nem sempre são usadas.</font></font><br>
<br>
<b><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Preparação para exames</font></font></h3></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alguns dias antes do final do acesso ao laboratório, decidi que era hora de me inscrever para o exame. </font><font style="vertical-align: inherit;">Aqui eu estava errado, é melhor fazer isso com antecedência. </font><font style="vertical-align: inherit;">A data mais próxima no dia de folga era apenas um mês depois, em 23 de fevereiro (e depois às 9 da manhã). </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A conclusão e a configuração são três - se você quiser fazer o exame em um horário conveniente e se inscrever para o fim de semana com antecedência. </font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Também comecei a escrever um relatório no laboratório (preciso descrever 10 carros, se você quiser obter 5 pontos extras), o exemplo padrão do relatório é muito inteligente, então comecei a usá- </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lo. </font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para uma descrição detalhada, escolhi carros interessantes ou casos em que você obtém a raiz imediatamente. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eu precisava tirar de 10 a 15 capturas de tela adicionais, por isso recomendo ter acesso ao laboratório enquanto escrevia este relatório.</font></font></b><br>
<br>
<b><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Preparação para exames. </font><font style="vertical-align: inherit;">Treinamento. </font><font style="vertical-align: inherit;">Binarismo</font></font></h3></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No exame, um dos componentes está escrevendo uma exploração para estourar o buffer, dá 25 pontos e, sem saber como fazê-lo rapidamente e bem, ir para o exame não faz muito sentido, vale a pena tentar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Boas pessoas já montaram um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">conjunto de softwares para praticar. </font></font></a> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Decidi cerca de 7 peças e, se eu passasse duas horas na primeira, decidi a sétima em 20 minutos, na verdade, com a velocidade de escrever código e digitar comandos. </font><font style="vertical-align: inherit;">Um algoritmo que não me falhou:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">estamos eliminando a queda com as letras A (no exame, essa etapa já será feita para nós)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">procurando deslocamento, normalmente através de pattern_create.rb e pattern_offset.rb</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">verifique o comprimento, altere normalmente A para B no lugar certo e depois de B insira muito C para ver o tamanho possível da carga útil sem pular no buffer</font></font></li>
<li>   (   \x00,       99% )</li>
<li> “jmp esp” (  ,     )</li>
<li>   ,    </li>
<li>     (   20  — \x90)</li>
<li></li>
</ol><br>
<b><h3>  . . </h3></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em um dos </font><font style="vertical-align: inherit;">procedimentos de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">exame vraytaps</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , encontrei esta foto: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yn/by/pd/ynbypdxr9-sk8bgkqybmghrs26i.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta imagem mostra quais carros no hackthebox.eu parecem carros do exame (o carro do cérebro não parece nada, eu recomendo não treiná-lo). </font><font style="vertical-align: inherit;">Para ativar os carrinhos de mão, é necessária uma assinatura paga (10 dólares por mês, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">não se esqueça de cancelá-la</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> imediatamente </font><font style="vertical-align: inherit;">). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Passei 8 horas e decidi por 10 máquinas, alternando entre Windows e Linux. </font><font style="vertical-align: inherit;">E ele decidiu que é o suficiente para mim, mas, provavelmente, aqui, como com o estouro de buffer, é necessário trazer para o automatismo. </font><font style="vertical-align: inherit;">Esses carros são mais simples que os carros do exame, pelo menos em termos de escalonamento de privilégios (algumas cópias de carros do laboratório, não sei quem emprestou de ninguém).</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Preparação para exames. </font><font style="vertical-align: inherit;">Treinamento. </font><font style="vertical-align: inherit;">Escalonamento de privilégios</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Você pode treinar nas mesmas máquinas com hackthebox.eu, mas em geral será suficiente </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ler vraytapy</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para entender quais técnicas existem; existem exemplos de todas as técnicas que você pode precisar no exame.</font></font><br>
<br>
<b><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Preparação para exames. </font><font style="vertical-align: inherit;">Parte organizacional</font></font></h3></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para passar no exame, você precisará de:</font></font></b><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">passaporte estrangeiro (seu nome e sobrenome devem ser escritos em inglês)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Webcam</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">internet estável</font></font></li>
</ol><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">É bom ter mais:</font></font></b><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Internet de backup (usei celular)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">um computador sobressalente (eu tinha um laptop sobressalente ao meu lado totalmente configurado para fazer um exame)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instantâneo da VM com Kali</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cópia da VM com Kali (coloquei uma cópia no disco rígido, a segunda no disco rígido externo)</font></font></li>
</ol><br>
<b><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exame!</font></font></h3></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O exame é considerado em período integral (Proctored Exam) e, portanto, é iniciado 15 minutos antes do horário selecionado. </font><font style="vertical-align: inherit;">Você se conecta a uma plataforma web especial, vasculha suas telas. Em um bate-papo por texto, elas começam a fazer tarefas e perguntas:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mostre o passaporte pela webcam</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mostrar que ninguém está na sala</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fornecer resultados de script de teste para conexão</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Então eu tinha um arquivo e quando tentei copiar um novo pacote de usuário final para uma máquina virtual com Kali, ele caiu. </font><font style="vertical-align: inherit;">Eu estava pronto para isso, revirei a máquina virtual, copiei o pacote, o iniciei e comecei a esperar as 9 da manhã. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu tenho acesso às 9:01. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eu tinha um plano de ação simples:</font></font></b><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iniciar numeração de serviços</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">faça um carro para o estouro de buffer em 1 hora</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">faça um carro por 10 pontos em 1 hora</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">faça o primeiro carro por 20 pontos em 2 horas</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">faça um segundo carro por 20 pontos em 2 horas</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">faça um carro por 25 pontos em 3 horas</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como você pode ver no meu plano, levei 9 horas para passar no exame, mas não foi conforme o planejado desde o início :) Esqueci de levar em conta um importante fator inibidor - anotar em etapas tudo o que foi feito com todas as capturas de tela do relatório. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O resultado final que obtive é o seguinte:</font></font></b><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">estouro de buffer - 2,5 horas. </font><font style="vertical-align: inherit;">Eu perdi uma hora, porque </font><font style="vertical-align: inherit;">não notou alguns caracteres ruins, outros 30 minutos para relatórios</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">carro em 10 a 30 minutos: 10 minutos de hackers, 20 minutos de screenshots</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">primeiro carro em 20 a 2,5 horas: 1,5 horas de hacking, capturas de tela e relatório de 40 minutos, intervalo de 20 minutos</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">segundo carro em 20 - 2 horas: 1,5 horas de hacking, capturas de tela de 30 minutos e relatório.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">carro por 25 a 3,5 horas: 3 horas de hackers (com duas pausas), 30 minutos de capturas de tela e relatório</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em geral, o exame é muito mais interessante que os laboratórios, as vulnerabilidades são todas bastante recentes - 2018-2019. </font><font style="vertical-align: inherit;">Os aprimoramentos não estão em toda parte através das vulnerabilidades do kernel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fiquei sentado por mais tempo, esperando a escalada de privilégios, todas as conchas não privilegiadas foram recebidas em 10 a 30 minutos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O exame fez muitos caminhos falsos que não levarão ao sucesso. </font><font style="vertical-align: inherit;">Se tudo é facilmente descartado para o shell de inicialização (por exemplo, uma exploração pelo estouro de buffer no Windows XP SP2, embora o próprio serviço esteja sendo executado no Windows 10), então na atualização eu fiquei preso nesses caminhos falsos algumas vezes. </font><font style="vertical-align: inherit;">O principal aqui é dizer a tempo que vale a pena mudar esse vetor e escolher um novo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Após 11 horas, terminei o exame, quebrando tudo e fui beber alguns copos de cerveja (apenas alguns, já que no dia seguinte ainda temos que escrever um belo relatório formal).</font></font><br>
<br>
<b><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Escrevendo e enviando um relatório</font></font></h3></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Peguei o modelo no mesmo repositório onde o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">modelo para os laboratórios</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e preenchi em 4 horas.Em </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
seguida, a diversão começou com para onde enviá-lo e como. Primeiro, você precisa criptografá-lo usando 7z com uma senha, a senha não é aleatória e seu ID está no sistema (5 dígitos, voa em 0,3 segundos na CPU). Pesquisei informações por um longo tempo sobre onde colocar o relatório no laboratório no mesmo arquivo ou em outro (Resposta: você precisa colocá-lo no mesmo arquivo). Então, me deparei com o fato de que o formato para definir a senha no arquivo 7z, o sinalizador -p, após o qual a senha deve ser escrita juntos, ou seja, algo como -pPassword. De fato, todas as etapas estão descritas no </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">guia</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , você só precisa procurá-las.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O arquivo resultante deve ser carregado no site, obter um link e enviar esse link para correio especial! </font><font style="vertical-align: inherit;">Por que essas dificuldades em 2020 são um mistério para mim. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois de algumas horas, você receberá uma carta de resposta que: “Recebemos o seu link, mas não verificamos se ele possui um arquivo normal, se está descriptografado e se contém os dados necessários. </font><font style="vertical-align: inherit;">E que informaremos os resultados do exame em 10 dias úteis ".</font></font><br>
<br>
<b><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Total</font></font></h3></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Exatamente uma semana após o exame, no domingo, 1º de março, recebi uma alegre carta de que compilei o arquivo corretamente: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/1s/ks/2t/1sks2t-sibr4csu0vrrgb-ygnry.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois disso, preenchi os dados para me enviar um certificado físico e um cartão de certificação OSCP.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quem precisa dessa certificação?</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu obtive a seguinte lista (classificada pela significância do recebimento e pelos requisitos deste certificado):</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alunos de 4-5 anos. </font><font style="vertical-align: inherit;">Para eles, essa é uma prática muito legal.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqueles que decidiram mudar para a segurança de indústrias relacionadas. </font><font style="vertical-align: inherit;">Tudo é descrito em um bom nível, muitos exemplos, há algo a aprender.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Empregador. </font><font style="vertical-align: inherit;">O certificado mostra que uma pessoa sabe alguma coisa e sabe como fazer algo com as mãos (em nossas vagas, indicamos isso como um plus).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pessoas do setor que desejam atualizar / testar seus conhecimentos</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pentesters experientes. </font><font style="vertical-align: inherit;">Talvez uma bela crosta permita que eles se tornem mais interessantes para os empregadores.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Planos adicionais para aprovação do OSWE (Offensive Security Web Expert). </font><font style="vertical-align: inherit;">Quanto a mim, ele é mais interessante que o OSCE (especialista em segurança ofensiva certificado). </font><font style="vertical-align: inherit;">E para aqueles que estão interessados ​​em ler sobre os vários tipos de certificação no campo da segurança da informação, escrevemos um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">artigo separado</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt497792/index.html">Ferramentas de um investidor iniciante em ações: teste de acesso, tarifa inicial, terminal de negociação</a></li>
<li><a href="../pt497794/index.html">Critérios de avaliação para sistemas de BI russos</a></li>
<li><a href="../pt497796/index.html">A tendência para isolamento e massas é mais popular que o trigo sarraceno: o April Fools busca resultados para as pessoas de TI</a></li>
<li><a href="../pt497800/index.html">A luta contra a pirataria e a contrafação online sem a ajuda dos tribunais</a></li>
<li><a href="../pt497804/index.html">Maior sensibilidade dos testes A / B com o Cuped. Relatório em Yandex</a></li>
<li><a href="../pt497808/index.html">3D faça você mesmo. Parte 2: é tridimensional</a></li>
<li><a href="../pt497810/index.html">PVS Studio.VS. Análise estatística do GCC 10. Mini-teste independente</a></li>
<li><a href="../pt497812/index.html">Cientistas do MIT estão desenvolvendo um dispositivo que permitirá controlar pelo menos parcialmente seus sonhos</a></li>
<li><a href="../pt497814/index.html">Cinco estágios de aceitação do inevitável, ou Como desenvolvemos um programa para criação de perfil automatizado</a></li>
<li><a href="../pt497816/index.html">A Russian Railways me envia os bilhetes de outra pessoa</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>