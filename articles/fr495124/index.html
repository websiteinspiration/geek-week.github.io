<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤦 🧑🏿‍🤝‍🧑🏾 🦔 Comment voler un Macbook 💆🏾 📺 👣</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Des MacBook m'ont été volés plusieurs fois, et les outils antivol d'Apple comme Find My Mac ne m'ont jamais aidé à récupérer mon ordinateur. Sont-ils ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Comment voler un Macbook</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/495124/"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/cd/4n/8a/cd4n8ada0cmbsbsl46d1oqpzshk.jpeg"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Des MacBook m'ont été volés plusieurs fois, et les outils antivol d'Apple comme Find My Mac ne m'ont jamais aidé à récupérer mon ordinateur. Sont-ils vraiment sans valeur? Puis-je faire confiance au chiffrement intégré de FileVault? Comment augmenter les chances de récupérer l'ordinateur? Cet article est le résultat de mes souffrances lors de vaines tentatives de restitution d'ordinateurs volés. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'article décrit en détail les mécanismes de protection à travers les yeux d'un attaquant, dans notre cas un voleur. Cela vous donne une meilleure idée de leur fonctionnement. Le récit de l'article est au nom du voleur - ce n'est qu'un outil artistique pour une meilleure compréhension de la matière. </font></font><br>
<br>
<font color="red"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Attention!</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les matériaux de l'article sont présentés à titre informatif uniquement. </font><font style="vertical-align: inherit;">Toutes les descriptions d'activités frauduleuses sont mises en scène et exécutées avec le consentement des propriétaires d'ordinateurs portables. </font><font style="vertical-align: inherit;">L'auteur n'appelle pas à des actions frauduleuses, et le seul but de l'article est de montrer comment configurer au mieux le système pour protéger vos données.</font></font></font><a name="habracut"></a><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Préface</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans la capture d'écran ci-dessous, l'un de plusieurs de mes ordinateurs portables volés qui sont restés enfouis dans le panneau iCloud. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/i8/gm/38/i8gm38skst0f5pndf9txebxd2hy.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'interface de la fonction Find My Mac du panneau de configuration iCloud indique que les fonctions de verrouillage deviendront disponibles lorsque l'ordinateur portable se connectera à Internet. </font><font style="vertical-align: inherit;">Mais cela n'arrivera jamais.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chaque fois que je volais un MacBook ou que je le perdais avec mon sac, je réalisais la futilité de Find My Mac. </font><font style="vertical-align: inherit;">Après tout, l'ordinateur portable n'a pas de modem et je ne peux ni suivre son emplacement ni supprimer des données à distance. </font><font style="vertical-align: inherit;">Pour que les fonctions antivol fonctionnent, le voleur doit connecter mon ordinateur portable à Internet. </font><font style="vertical-align: inherit;">Mais comment le fera-t-il si le compte est verrouillé avec un mot de passe? </font><font style="vertical-align: inherit;">Il s'avère que même une personne qui souhaite me rendre un ordinateur ne pourra pas le faire si je n'écris pas mes contacts quelque part sur le dossier à l'avance. </font><font style="vertical-align: inherit;">Je suis absolument certain que dans tous les cas de vol, mes ordinateurs portables ont été complètement nettoyés et vendus à de nouveaux propriétaires qui les utilisent désormais sans aucun problème sans même soupçonner qu'ils ont été volés.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les iPhone sont mieux protégés</font></font></font></h2><br>
<img width="600" src="https://habrastorage.org/webt/eg/hh/49/eghh49gvtto0tepj6zebavkqm3m.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un iPhone avec iOS à jour ne peut pas simplement être détaché d'iCloud. </font><font style="vertical-align: inherit;">(Image par Alexander Varakin)</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Les iPhones modernes sont assez bien protégés, ils ne peuvent pas simplement être détachés de votre compte iCloud et vendus sur le marché de la radio. </font><font style="vertical-align: inherit;">Par conséquent, il existe des schémas frauduleux entiers pour délier les appareils par phishing. </font><font style="vertical-align: inherit;">Bonne recherche d'Anton</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bo0oM</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">à propos de ce phénomène: les </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hameçonneurs iCloud et leur lieu de résidence</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Des voleurs tentent de se connecter au compte iCloud de la victime et de déverrouiller le téléphone. </font><font style="vertical-align: inherit;">Même si le voleur a réussi à retirer la carte SIM et à désactiver le WiFi avant que le propriétaire ne puisse verrouiller le téléphone, il ne pourrait toujours pas le déverrouiller si l'autorisation par empreinte digitale, visage ou code PIN était activée. </font><font style="vertical-align: inherit;">Et c'est génial. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y a beaucoup d'informations sur le blocage des iPhones, ces mécanismes ont été bien étudiés. </font><font style="vertical-align: inherit;">Mais personne ne discute des mêmes fonctions dans les macbooks, il semble qu'ils n'y soient pas. </font><font style="vertical-align: inherit;">Malheureusement, tous les modèles de MacBook jusqu'en 2018 (sans la puce </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) sont sans défense contre les voleurs, et en tout cas ils seront vendus complètement nettoyés. </font><font style="vertical-align: inherit;">Mais en même temps, vous pouvez compliquer autant que possible la vie d'un voleur et protéger vos données.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Étape 1: voler un MacBook</font></font></font></h2><br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/TJLjl0Lsz_Q" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour un test réaliste de toutes les hypothèses, nous devons voler un vrai MacBook. </font><font style="vertical-align: inherit;">Plus de narration, je dirigerai au nom du voleur. </font><font style="vertical-align: inherit;">Afin de comprendre le fonctionnement des mécanismes de protection, vous devez reproduire le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">modèle de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> menace réel ( </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">modèle d'intrus</font></a><font style="vertical-align: inherit;"> ). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selon le script de la vidéo, j'ai volé le MacBook inclus à la victime dans un café. </font><font style="vertical-align: inherit;">Au moment du vol, j'ai fermé le couvercle, pour que l'ordinateur portable passe en mode veille et se déconnecte du WiFi. </font><font style="vertical-align: inherit;">C'est un point important, car il reproduit le scénario le plus populaire dans lequel un ordinateur portable tombe entre les mains d'un voleur. </font><font style="vertical-align: inherit;">Le plus souvent, les propriétaires de MacBook ferment simplement le couvercle et mettent l'ordinateur portable dans le sac sans éteindre l'ordinateur. </font><font style="vertical-align: inherit;">Toutes les fois, quand j'ai perdu mon ordinateur, il était dans cet état - il dormait dans un sac à dos.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Find My - dispositifs de suivi sans Internet</font></font></font></h3><br>
<img src="https://habrastorage.org/webt/h1/w0/vk/h1w0vkv1zh3-3t1cpbeobugx6e0.jpeg"> <br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La nouvelle technologie de géolocalisation d'Apple sans Internet</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Juste après le vol, je cours avec mon aisselle MacBook volée dans mon laboratoire. Imaginez que je cours plus vite que la victime et que j'ai pu me cacher. En même temps, des actions ont lieu dans la ville, et je cours le long d'une rue bondée. Que fera la victime en ce moment? Pris de panique, il entre dans l'application FindMy et tentera de suivre l'ordinateur ou de le bloquer. Mais vous ne pourrez pas bloquer ou effacer les données, car l'ordinateur portable n'a pas de connexion Internet. Mais il s'avère que les coordonnées réelles de l'ordinateur portable sur la carte, et c'est incroyable!</font></font><br>
<br>
<div style="text-align:center;"><img width="500" src="https://habrastorage.org/webt/we/ri/oa/werioaix9_rwlnsmugf9b0kwwcc.jpeg"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En 2019, Apple a annoncé une application FindMy mise à jour et une nouvelle façon de suivre les appareils, dans les paramètres qu'elle appelle la recherche hors ligne. La plupart des utilisateurs de la technologie Apple ne connaissent pas cette fonctionnalité. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le principe de fonctionnement est le suivant: vous devez d'abord avoir au moins deux appareils Apple liés au même compte iCloud. Les deux appareils doivent avoir le système d'exploitation actuel, au moins iOS 13 et macOS 10.15 (Catalina). Si toutes les conditions sont remplies, les deux appareils génèrent des clés et échangent des parties privées (clé privée) afin que chaque appareil puisse décrypter les messages de l'autre.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/tj/8e/h4/tj8eh4uyrwgt4e_sunrx4btk69s.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selon Apple, ces clés sont stockées uniquement sur les appareils et ne sont pas stockées sur le serveur. Autrement dit, vous ne pouvez utiliser la fonction que depuis un autre appareil et non depuis icloud.com. Cela signifie qu'ayant perdu les deux appareils, sur icloud.com, vous ne pouvez voir que la géolocalisation en ligne, qui ne fonctionne que si l'appareil a accès à Internet, mais pas la recherche hors ligne.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/x9/cw/rl/x9cwrlrcwzr5lyxadtqfvkd8krw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque l'appareil est sans Internet, par exemple, un téléphone sans carte SIM ou un MacBook sans WiFi, il commence à envoyer des packages spéciaux via Bluetooth Low Energy avec sa clé publique. Et tout appareil Apple à proximité, par exemple, un passant aléatoire avec un iPhone, ayant entendu un tel signal, prendra automatiquement cette clé, la chiffrera avec ses coordonnées actuelles et les enverra au serveur. Cela ne nécessite aucune action de la part de l'utilisateur, tout se passe en arrière-plan alors que le téléphone est dans une poche avec un écran verrouillé. Une sorte de botnet propriétaire avec de légères notes de réseaux maillés. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sous macOS, le démon </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ usr / libexec / searchpartyuseragent</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est responsable de cette fonction </font><font style="vertical-align: inherit;">. Les clés sont censées être stockées dans le porte-clés sous le nom </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LocalBeaconStore → LocalBeaconStoreKey</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Il est bouleversant que les balises BLE ne soient envoyées que lorsque le système est allumé ou en mode veille, c'est-à-dire que pour désactiver ce suivi, le voleur n'a qu'à maintenir le bouton d'alimentation enfoncé. </font><font style="vertical-align: inherit;">Ce serait formidable si cette fonctionnalité fonctionnait directement sur la puce Bluetooth / WiFi lorsqu'il y avait une alimentation de secours sur la carte mère.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Étape 2: Masquage - usurpation de géolocalisation via un proxy Bluetooth</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Est-il possible de tromper le système et de montrer à la victime une fausse adresse de son ordinateur portable? Si le MacBook perdu lui-même ne connaît pas ses coordonnées, mais envoie uniquement une clé publique, l'appareil qui a reçu le signal ajoute les coordonnées. Ce schéma est donc vulnérable à l'usurpation d'identité! </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ha/rw/ni/harwniuiqtb7yvwzu-f_nwtijtu.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le relais de paquets BLE envoie tous les signaux entendus à l'émetteur</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
distant.Dans le circuit avec le répéteur, le récepteur écoute tous les signaux de la victime et les envoie sur Internet à l'émetteur. Des passants aléatoires qui ont reçu le signal y ajoutent leurs coordonnées et l'envoient au serveur. Je suis assis avec l'appareil de la victime au sous-sol, et l'émetteur est à l'autre bout de la ville. Ainsi, la victime voit de fausses coordonnées. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour construire un tel schéma, vous aurez besoin de deux ordinateurs avec des adaptateurs BLE connectés au même réseau et au même framework</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BtleJuice</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le protocole propriétaire FindMy n'a pas encore été étudié, le format des paquets BLE est inconnu. </font><font style="vertical-align: inherit;">Même les intervalles exacts entre les expéditions de balises et les conditions dans lesquelles cette fonction est activée sont inconnus. </font><font style="vertical-align: inherit;">Un intervalle établi expérimentalement de 10 à 20 minutes. </font><font style="vertical-align: inherit;">Selon Apple, la clé privée change régulièrement, mais la fréquence est inconnue. </font><font style="vertical-align: inherit;">J'invite tout le monde à participer à l'inversion du protocole. </font><font style="vertical-align: inherit;">Apple a une </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">description de la cryptographie</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> utilisée par FindMy. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UPD:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Au moment de la rédaction de ces lignes, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">une étude de la</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cryptographie utilisée dans FindMy a </font><font style="vertical-align: inherit;">été </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">publiée</font></a><font style="vertical-align: inherit;"> , l'auteur ne considère pas la mise en œuvre technique du protocole, et je ne comprenais pas très bien en quoi consistait le travail.</font></font><br>
</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour proxy les demandes à l'émetteur, vous avez besoin d'un serveur et fonctionnera avec une configuration minimale, comme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RUVDS pour 130 roubles</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Il n'a tarification à la seconde et paiement que pour les ressources utilisées. </font><font style="vertical-align: inherit;">Pour les habrayuzers, une réduction de 15% sur le code promotionnel dontpanic fonctionne.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/iq/fi/b4/iqfib45pgphfrxv--zfemt0qnmw.jpeg"></a><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Étape 3: voler des données à partir d'un ordinateur portable</font></font></font></h2><br>
<div style="text-align:center;"><img width="500" src="https://habrastorage.org/webt/qu/j-/ao/quj-ao96qzesjaabluh6cvczhuq.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les données sur un disque peuvent être beaucoup plus précieuses que le macbook lui-même. Et s'il y a des clés pour les portefeuilles Bitcoin, les noms d'utilisateur, les mots de passe ou les photos intimes? Par conséquent, essayez d'abord de lire les données sur le disque. Nous avons volé l'ordinateur portable à l'état allumé, mais au moment du vol, le couvercle était fermé, et maintenant il est verrouillé avec un mot de passe utilisateur. La plupart des propriétaires de MacBook les portent en mode veille, c'est-à-dire qu'ils ne ferment que le couvercle. Il s'agit de la condition la plus probable dans laquelle un voleur recevra un ordinateur. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La façon la plus simple de lire des données est de démarrer à partir d'une clé USB sous Linux. Mais si FileVault est activé dans le système, la lecture des données ne fonctionnera pas, donc le redémarrage est risqué pour nous, car on ne sait pas à l'avance si le cryptage est activé ou non. Lorsque l'ordinateur est allumé, le système de fichiers est déchiffré exactement, vous devez donc essayer d'y accéder sans redémarrer.</font></font><br>
<br>
<blockquote>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">DMA-</a>,    FileVault  .    ,  DMA-    Thunderbolt - IOMMU.    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Thunderclap</a>     Thunderbolt-,   -   .</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous ne considérerons pas l'option de mot de passe brutal du compte utilisateur, car ce n'est pas du sport. </font><font style="vertical-align: inherit;">De plus, macOS ajoute un long délai avant d'entrer un nouveau mot de passe après des tentatives infructueuses. </font><font style="vertical-align: inherit;">Pour une telle attaque, vous pouvez utiliser tous les outils matériels qui vous permettent d'émuler un clavier HID, y compris Raspberry Pi ou Arduino. </font><font style="vertical-align: inherit;">Le point clé ici sera le dictionnaire de sélection. </font><font style="vertical-align: inherit;">Je vous conseille d'utiliser un mot de passe avec au moins un caractère spécial et sans mots du dictionnaire. </font><font style="vertical-align: inherit;">C'est assez pour se défendre contre un tel brutus.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Connectez un ordinateur portable verrouillé au Wi-Fi</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pendant que l'ordinateur portable est allumé et que le système de fichiers est déverrouillé, essayez de le toucher sur le réseau. Peut-être que la victime a un lecteur réseau ou d'autres services à travers lesquels vous pouvez monter. Essayons de persuader l'ordinateur portable de se connecter à notre WiFi. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xl/j3/vs/xlj3vsqwdnvict8fpcpk05kbis0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque les appareils scannent les réseaux WiFi, ils envoient également les noms des réseaux auxquels ils se sont récemment connectés dans des paquets de demande de sonde. Autrement dit, pendant que vous vous promenez dans la ville, votre téléphone ou votre ordinateur portable envoie le nom de votre réseau Wi-Fi domestique dans l'espoir qu'il y répondra. Comme prévu, cela devrait accélérer la connexion au réseau lorsqu'il est à proximité. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour savoir à quels réseaux l'ordinateur portable de la victime est prêt à se connecter, je mets un adaptateur WiFi externe à côté de lui et ferme le couvercle de la cage Faraday impromptue. Maintenant, l'adaptateur entend bien les signaux de l'ordinateur portable et n'entend pas les autres.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous commençons le mode moniteur avec un filtre pour un type de paquet, car nous voulons voir uniquement des exemples de demandes.</font></font><br>
<br>
<pre><code class="bash">tcpdump -e -l -I -i en0 type mgt subtype probe-req<font></font>
<font></font>
BSSID:Broadcast DA:Broadcast SA:xx:xx:xx:xx:xx:xx  Probe Request (MGTS_GPON_1856)<font></font>
BSSID:Broadcast DA:Broadcast SA:xx:xx:xx:xx:xx:xx  Probe Request (MGTS_GPON_1856)<font></font>
BSSID:Broadcast DA:Broadcast SA:xx:xx:xx:xx:xx:xx  Probe Request (Onlime)<font></font>
BSSID:Broadcast DA:Broadcast SA:xx:xx:xx:xx:xx:xx  Probe Request (MT_FREE)<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
On peut voir que l'ordinateur portable se souvient de plusieurs réseaux différents, parmi lesquels il existe des réseaux similaires à ceux de la maison. </font><font style="vertical-align: inherit;">Il est important de garder à l'esprit que si un ordinateur portable se souvient d'un réseau avec un mot de passe, il ne s'y connectera pas automatiquement s'il apparaît soudainement sans mot de passe, mais avec le même nom. </font><font style="vertical-align: inherit;">À partir de ces noms, nous pouvons supposer que les deux premiers réseaux avaient probablement des mots de passe, mais le dernier est le réseau de transports en commun de Moscou et il a apparemment été stocké dans la mémoire de l'ordinateur sans mot de passe.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ce type d'attaque est assez ancien, mais il fonctionne toujours parfois. </font><font style="vertical-align: inherit;">Il existe des outils automatiques comme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hostapd-karma</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> qui répondent immédiatement à tous les noms de réseau.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Maintenant, nous devons augmenter le point d'accès avec le nom du réseau sélectionné, dans notre cas MT_FREE, afin que l'ordinateur portable s'y connecte automatiquement. Il convient de garder à l'esprit que si l'ordinateur portable peut accéder à Internet, le propriétaire peut immédiatement le bloquer et nettoyer le disque. Mais vous ne pouvez pas complètement déconnecter Internet, sinon macOS peut immédiatement se déconnecter d'un tel réseau WiFi, car il est cassé. Par conséquent, il doit disposer d'un DHCP, d'un résolveur DNS et d'Internet via HTTP fonctionnels pour que les tests du portail captif fonctionnent. Il suffit d'ouvrir uniquement le port TCP 80 sur Internet, et macOS supposera que le réseau est absolument normal, tandis que les fonctions anti-vol iCloud ne fonctionneront pas.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si le MacBook se connecte avec succès au WiFi, nous n'aurons qu'à le scanner sur le réseau pour les services ouverts, la boule réseau, etc. </font><font style="vertical-align: inherit;">Je ne vous dirai pas comment procéder car cela dépasse le cadre de cet article.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous devons honnêtement admettre que la plupart des utilisateurs utilisent les paramètres par défaut et ne configurent aucun service réseau supplémentaire, de sorte que les chances de succès avec une telle attaque sont négligeables. </font><font style="vertical-align: inherit;">Mais cela valait quand même la peine d'être essayé, car c'est le dernier moyen disponible d'interagir avec un système doté d'un lecteur déchiffré.</font></font></blockquote><h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redémarrez dans l'inconnu</font></font></font></h3><br>
<img src="https://habrastorage.org/webt/ik/_-/ks/ik_-ks2gn2vdbptatlrlek_zd5s.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Permettez-moi de vous rappeler que pendant le chargement du système, nous n'avions aucun moyen de savoir si le chiffrement de disque FileVault était activé. </font><font style="vertical-align: inherit;">Pour vérifier cela, vous devez redémarrer l'ordinateur portable. </font><font style="vertical-align: inherit;">Cela ne peut être fait qu'en maintenant le bouton d'alimentation enfoncé, car il n'y a pas de menu de gestion de l'alimentation sur l'écran d'une session verrouillée. </font><font style="vertical-align: inherit;">De plus, il existe deux scénarios possibles:</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FileVault non configuré</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Patinoire facile! </font><font style="vertical-align: inherit;">Il vous suffit de démarrer à partir de la clé USB ou de retirer le disque (sur les modèles jusqu'en 2016) et tous les fichiers de nos victimes sont disponibles en texte clair. </font><font style="vertical-align: inherit;">Sous Linux, vous devez être un peu confus avec la configuration de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fuse-apfs</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FileVault activé</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La première fois que vous configurez FileVault, il suggère de télécharger la clé de chiffrement du lecteur dans iCloud, et en théorie, un voleur pourrait attaquer le compte de la victime, mais nous ne considérons pas les attaques de phishing dans cet article. </font><font style="vertical-align: inherit;">Il existe plusieurs outils pour la brute FileVault: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">des programmes commerciaux d'Elcomsoft</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et des programmes open source comme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apfs2john</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour une utilisation avec </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">John The Ripper</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Très probablement, un voleur ordinaire ne dépensera pas de ressources pour la brutalité de votre disque, sauf s'il s'agit d'une attaque ciblée contre les données. </font><font style="vertical-align: inherit;">Pour simplifier, nous supposons qu'un mot de passe non-dictionnaire de 6-8 caractères de registres différents utilisant des caractères spéciaux est invulnérable.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment cela devrait fonctionner comme prévu par Apple</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pendant longtemps, je ne pouvais pas comprendre exactement comment Apple représente le travail de Find My Mac dans la vie réelle, car si vous suivez les recommandations par défaut lors de la première configuration du système, l'utilisateur recevra un ordinateur avec FileVault activé et l'attaquant ne pourra jamais se connecter pour frapper sur Internet et activer tous les pièges .</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/f57/fbb/506/f57fbb506220fe6d8d3247581006a28c.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le seul scénario possible est un compte invité. </font><font style="vertical-align: inherit;">Selon l'idée, le voleur après un redémarrage arrive à l'écran de saisie du mot de passe pour déverrouiller le disque. </font><font style="vertical-align: inherit;">Sans deviner le mot de passe, il sélectionne le compte invité et se charge en mode Safari uniquement. </font><font style="vertical-align: inherit;">Il s'agit d'un mode de fonctionnement spécial disponible uniquement pour le compte invité. </font><font style="vertical-align: inherit;">Il n'exécute qu'un seul programme - le navigateur Safari. </font><font style="vertical-align: inherit;">Le fait est que lorsque FileVault est activé, une partie du disque reste non chiffrée pour la partition de récupération. </font><font style="vertical-align: inherit;">Il stocke une image macOS minimale, d'ici les bottes Safari. </font><font style="vertical-align: inherit;">Dans ce mode, le voleur peut se connecter à Internet, et ici l'ordinateur portable contactera iCloud et pourra exécuter les commandes à distance du propriétaire.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Étape 4: Vendre un MacBook</font></font></font></font><br>
</h2><h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Utilisation des variables NVRAM</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, le voleur a eu ou n'a pas eu accès aux données et il veut ensuite vendre l'ordinateur portable sur le marché secondaire. </font><font style="vertical-align: inherit;">Pour ce faire, il doit détacher l'ordinateur des comptes iCloud et réinstaller le système d'exploitation. </font><font style="vertical-align: inherit;">En plus du système d'exploitation lui-même sur le disque dur, le macbook possède des variables NVRAM stockées sur un lecteur flash USB dans la carte mère. </font><font style="vertical-align: inherit;">Ces données survivent après la </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
réinstallation de macOS. </font><font style="vertical-align: inherit;">Ils stockent un jeton par lequel le serveur reconnaît la liaison du macbook au compte iCloud. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour travailler avec des variables de l'espace utilisateur, il existe l'utilitaire </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nvram</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exemple de recherche de jeton Mac</font></font></b><div class="spoiler_text"><pre><code class="bash">#  Find My Mac <font></font>
$ nvram fmm-mobileme-token-FMM<font></font>
<font></font>
fmm-mobileme-token-FMM bplist00%dc%01%02%03%04%05%06%07%08%09%0a%0b%0c%0d%0e%10%0d%11%0d%12%13%14%15%16%1d_%10%0funregisterState_%10%12enabledDataclassesYauthToken^disableContextVuserid]enableContextXusernameXpersonIDWaddTimeTguidXuserInfo_%10%13dataclassProperties%10%00%a1%0f_%10!com.apple.Dataclass.DeviceLocator_%10%ccEAADAAAABLwIAAAAAF6Jva4RDmqzLmljbG91ZC5hdXRovQA_OvlxQ5x0ULxeZIwLf9ZKD2GL8xWXoQiCKVs4tSztt-QZ2ZPlgZqpHekekaGd06Bm20kyU4m1ryRhBPR5DNSSbfzrKM_Ap0elpAitBDkGyHGjTe9c5WajVpfvWe_RGFhcamieaVhGQGzsiFGe11nt1PtCzA~~%11%01%f5_%10%11ivan@ivanov.comZ1253943158#A%d7%a2or%f3kP_%10$7C83E2DA-8A39-414E-B004-4DE79E4D35B3%d3%17%18%19%1a%1b%1c_%10%15InUseOwnerDisplayName_%10%13InUseOwnerFirstName_%10%12InUseOwnerLastName]ivan ivanovUivanWivanov%d1%0f%1e%d5%1f !"#$%25&amp;'(VapsEnvXhostname]idsIdentifierVscheme]authMechanismZProduction_%10%13p09-fmip.icloud.com_%10$0FFD23C3-F469-42C1-97E0-FD8EE1F80502UhttpsUtoken%00%08%00!%003%00H%00R%00a%00h%00v%00%7f%00%88%00%90%00%95%00%9e%00%b4%00%b6%00%b8%00%dc%01%ab%01%ae%01%c2%01%cd%01%d6%01%fd%02%04%02%1c%022%02G%02U%02[%02c%02f%02q%02x%02%81%02%8f%02%96%02%a4%02%af%02%c5%02%ec%02%f2%00%00%00%00%00%00%02%01%00%00%00%00%00%00%00)%00%00%00%00%00%00%00%00%00%00%00%00%00%00%02%f8<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fait intéressant, l'aide officielle de la commande nvram masque certaines fonctionnalités. Le manuel des documents divulgués de la CIA publiés sur Wikileaks: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EFI Basics: NVRAM Variables</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> s'est avéré beaucoup plus utile </font><font style="vertical-align: inherit;">. Il s'avère que l'utilitaire peut fonctionner directement avec des variables UEFI (vars efi). Mais les valeurs de la plupart des variables ne peuvent être modifiées que si SIP (protection de l'intégrité du système) est désactivé. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UPD:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Mon accès aux variables EFI via l'utilitaire nvram sur macOS Catalina a cessé de fonctionner pour moi. Le GUID, les noms de variables ou la syntaxe du programme peuvent avoir changé. Il est nécessaire de vérifier la pertinence des variables via le shell UEFI ou Linux. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour détacher un ordinateur portable volé, effacez simplement les variables nvram et réinstallez le système d'exploitation. Pour réinitialiser nvram, vous avez besoin</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">maintenez la commande (⌘) + Option + P + R lors du chargement d'un ordinateur portable. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cela suffit pour que le serveur iCloud ne considère plus l'appareil comme appartenant à un compte iCloud spécifique. </font><font style="vertical-align: inherit;">Et bien qu'après avoir réinitialisé le nvram, le numéro de série de la carte mère reste le même, iCloud vous permettra de lier l'ordinateur portable à un nouveau compte.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mot de passe sur UEFI</font></font></font></h3><br>
<img width="500" src="https://habrastorage.org/webt/yr/do/ps/yrdopshalm6h-yflmccj3uidrim.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans les étapes précédentes, nous avons démarré à partir du lecteur flash USB (touche Option au démarrage) et réinitialisé nvram. </font><font style="vertical-align: inherit;">Mais il s'avère que tout cela peut être désactivé avec un mot de passe UEFI. </font><font style="vertical-align: inherit;">Soit dit en passant, peu de gens le savent même parmi les utilisateurs expérimentés de coquelicots. </font><font style="vertical-align: inherit;">Le mot de passe installé pour le firmware interdit de telles actions:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Réinitialiser la NVRAM au démarrage</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Réinitialisation SMC</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sélectionnez une autre méthode de démarrage (touche Option)</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans tous les cas, un mot de passe vous sera demandé. </font><font style="vertical-align: inherit;">Autrement dit, le voleur ne pourra pas démarrer à partir du lecteur flash USB et ne pourra pas facilement détacher l'ordinateur d'iloud, laissant tomber le jeton Find My Mac de nvram. </font><font style="vertical-align: inherit;">Il ne fonctionne pas non plus facilement en réinstallant le système d'exploitation. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vv/2g/6g/vv2g6gl97knqw_0jrjajvnkixmi.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez définir un mot de passe pour UEFI via le mode de récupération. </font><font style="vertical-align: inherit;">Pour ce faire, maintenez CMD + R au stade de démarrage et sélectionnez Startup Security Utility dans le menu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais tout n'est pas si rose, le mot de passe sur l'UEFI ne protège pas. </font><font style="vertical-align: inherit;">Sur les macbooks jusqu'en 2019, le firmware UEFI et les variables NVRAM sont stockés sur un lecteur flash SPI standard, auquel vous pouvez vous connecter avec le programmeur et modifier toutes les données sans autorisation.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Réinitialiser le mot de passe UEFI</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sur tous les MacBook sans puce T2, le firmware de la carte mère n'est en aucun cas protégé. Il peut être facilement reflasher, notamment en supprimant le mot de passe pour UEFI. Pour ce faire, connectez simplement le programmateur au connecteur de débogage sur la carte mère et vous pourrez alors travailler avec la puce de mémoire comme avec un lecteur flash classique. </font></font><br>
<br>
<img width="400" src="https://habrastorage.org/webt/pw/bh/kw/pwbhkws-uye_igppdmvrbmlcs74.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Câble universel pour le firmware du lecteur flash pour tous les modèles de macbooks</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Il y a une certaine confusion avec ces connecteurs, car ils n'ont pas de clé, c'est-à-dire qu'ils peuvent être connectés par différents côtés. Sur différents modèles de macbooks, le connecteur se trouve à différents endroits, il est parfois nécessaire de souder séparément la puissance du lecteur flash 3,3V. Par conséquent, vous devez parfois étudier attentivement le circuit d'une carte mère spécifique.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/jm/ve/pt/jmveptpckft30t2yccbhf4pdplw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe également des appareils entièrement autonomes qui trouvent le décalage souhaité dans le micrologiciel et le tapotent à la volée, désactivant le mot de passe UEFI. </font><font style="vertical-align: inherit;">Dans certains centres de services, où ils proposent de se débarrasser du mot de passe sur UEFI, ils préfèrent dessouder la puce mémoire et la flasher dans le clip du programmeur.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Implants UEFI</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe une carte externe exotique séparée avec EEPROM, qui est insérée immédiatement dans le connecteur de débogage. </font><font style="vertical-align: inherit;">Habituellement, ils sont déjà flashés sous la carte mère souhaitée. </font><font style="vertical-align: inherit;">Immédiatement après l'installation, l'ordinateur commence à démarrer à partir de ce lecteur flash, ignorant celui natif soudé à la carte mère. </font><font style="vertical-align: inherit;">Dans ce cas, le lecteur flash natif peut conserver le mot de passe du micrologiciel. </font><font style="vertical-align: inherit;">Il est pratique d'utiliser de tels implants pour des expériences avec des correctifs UEFI, vous pouvez toujours revenir à votre firmware natif en retirant simplement le module.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ui/2b/hl/ui2bhlqhw1o7zyjgo03rul18zxu.jpeg"><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Système antivol de phishing</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'étais tellement bouleversé par l'inutilité de tous les systèmes antivol Apple que j'ai décidé de créer le mien. </font><font style="vertical-align: inherit;">C'était avant l'annonce de la puce T2, il était donc impossible de compter sur la protection matérielle, et j'ai décidé de simplement tromper le voleur pour qu'il fasse lui-même tout ce qui était nécessaire. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le schéma est le suivant:</font></font></b><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sur le disque du MacBook, une petite partition Linux est mise en évidence. </font><font style="vertical-align: inherit;">Le noyau moderne (efistub) peut démarrer immédiatement sans aucun chargeur de démarrage intermédiaire comme refind. </font><font style="vertical-align: inherit;">J'ai écrit à ce sujet dans un article </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linux dans un seul fichier pour un Macbook. </font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Par défaut, l'ordinateur portable démarre Linux, qui lance l'assistant de configuration initiale déguisé en macOS. </font><font style="vertical-align: inherit;">Dans la vidéo, il est montré à partir de 7h00.</font></font></li>
<li>   ,    macOS   ,       () ,     nvram:  macOS     .        ,   ,      .       ,   .     ,      .         .  ,      ,        . </li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'assistant de configuration propose d'effectuer la configuration initiale du système et demande pour cela de se connecter au WiFi. </font><font style="vertical-align: inherit;">Ensuite, il dessine le faux processus de téléchargement de quelque chose, et à ce moment-là, il tape sur le serveur et donne un accès complet au véritable propriétaire.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le propriétaire du BSSID des points d'accès WiFi trouve l'emplacement de l'ordinateur portable, peut écouter le son du microphone et regarder le voleur à travers la caméra, etc. </font><font style="vertical-align: inherit;">Alors que l'interface de l'assistant de configuration affiche le faux processus de téléchargement de mise à jour, le propriétaire de l'ordinateur portable se rend déjà à l'adresse.</font></font></li>
</ol><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par conséquent, je n'ai pas terminé la partie serveur, mais voici les </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sources de l'assistant de configuration</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sur Electron. </font><font style="vertical-align: inherit;">Ça a l'air d'ailleurs très crédible, je serais même séduit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Démonstration en vidéo:</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/I3_XST3z4qo" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">résultats</font></font></font></h2><br>
<ul>
<li><b> FindMy  .</b>        .   ,    ,       . ,             . <b>     ,     !</b></li>
<li><b>   FileVault!</b>       .          .       ,          .   ,        ,        ,         ,     .   ,          ,    . </li>
<li>[]<b>   .</b>        UEFI,       Safari Only Mode.  ,        .</li>
<li><b>   UEFI.</b>         iCloud.    ,    ,    .</li>
<li><b>    T2.</b>   ,     2.      ,  EEPROM   .       .</li>
</ul><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/zg/zf/j2/zgzfj2gg1a2tn7leusfxt7qfmm4.png" width="780"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr495112/index.html">Balisage basé sur le contenu dans le collecteur werf: pourquoi et comment cela fonctionne-t-il?</a></li>
<li><a href="../fr495114/index.html">Auto-isolement: quelle est la probabilité d'attraper un coronavirus si vous vous promenez</a></li>
<li><a href="../fr495116/index.html">Comment tout cacher du nano au macro: les scientifiques ont développé les principes généraux de la "théorie de l'invisibilité"</a></li>
<li><a href="../fr495118/index.html">Problèmes d'utilisation de Doctrine ODM dans les processus démon</a></li>
<li><a href="../fr495120/index.html">Il est temps de repenser la sécurité d'OpenBSD</a></li>
<li><a href="../fr495128/index.html">Existe-t-il un VPN à visage humain?</a></li>
<li><a href="../fr495130/index.html">Tri à Scala - un exemple sur les chats</a></li>
<li><a href="../fr495138/index.html">Comment la société et la technologie changeront-elles après le coronavirus. Opinions d'experts</a></li>
<li><a href="../fr495140/index.html">Les 10 meilleurs mèmes de la dernière décennie</a></li>
<li><a href="../fr495146/index.html">Alimentation électrique ininterrompue des centres commerciaux ou Shopping Must Go On</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>