<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨‍👨‍👦 🚾 🤜🏻 还有一只老鼠和一只青蛙。通用编译器 🛵 ⚡️ 🎅</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="在一系列有关可靠编程的文章中[1]，[2] Swift仍然被人们遗忘了。老实说，我只是不认为它是跨平台的，而是专门为macOS / iOS而工作。偶然的是，Swift也得到了RemObjects Elements等开发环境的支持。
 
 原来她有一个通用编译器。可以在以下C＃，Go，Java，Oxy...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>还有一只老鼠和一只青蛙。通用编译器</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489708/"><img src="https://habrastorage.org/webt/cp/dm/ol/cpdmol50cor9fv53vzs_yjiv1y4.png" align="right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在一系列有关可靠编程的文章中[1]，[2] Swift仍然被人们遗忘了。老实说，我只是不认为它是跨平台的，而是专门为macOS / iOS而工作。偶然的是，Swift也得到了</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RemObjects Elements</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">等开发环境的支持</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
原来她有一个通用编译器。可以在以下C＃，Go，Java，Oxygene Object Pascal，Swift中编译程序：Android，可可（MacOS，iOS，tvOS），JVM，Linux（x64，armv6，aarch64）、. NET / .NET Core / Mono，本机Windows （x86 / x64），WebAssembly。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
并且它几乎以任何语言→目标系统的组合来实现！例如，您可以用Java编写一个程序，该程序将WPF用于目标.NET平台，并且程序包随附的示例中都包含了这些。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
因此，我提出了一个有关RemObjects Elements的迷你说明，同时介绍了其中支持的两种语言-Swift和Oxygene的可靠性。</font></font><br>
<br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来自</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">radionetplus的</font></a><font style="vertical-align: inherit;">图</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"></font></a> <br>
</p><a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
而且除了讨论不同的运行时环境（本机，JVM，.NET，GC，ARC）的互操作性问题之外，事实证明这简直令人难以置信，而且从两种意义上讲，因为在讨论中它们得出的结论是普通IO是不可能的。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">简要介绍RemObjects元素</font></font></h3> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这是一个带有调试器的独立开发环境，其中包括一个远程调试器，并且适用于Windows或macOS的代码完成，或者它与Visual Studio集成，并且Cocoa需要Xcode。对于Swift来说，它是免费的，其余的价格从个人项目版本的199美元到所有语言的商业许可证的799美元不等。对于使用客户端-服务器DBMS的系统，必须支付大量额外费用。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Water是Windows版本的名称，它相当苦行，它没有可视的表单编辑器，但是严格要求同情，安装程序仅占用700MB，当然不包括JRE，.NET，Android NDK等。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
要责骂她，或者我不会赞美她，她履行了自己的职责，但从未跌倒（但记忆不断）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IDE的好处很多：</font></font><br>
<br>
<ul>
<li>  ( Water  ,     -)</li>
<li></li>
<li> -</li>
<li>      C#, Swift, Java, Delphi, C, Obj-C  Oxygene, C#, Swift, Java, Go</li>
<li>   Go-  .  Go    </li>
<li>  - </li>
<li>    Delphi/VCL</li>
</ul><br>
<h3></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当然，对于那些认为（c）您可以将任何程序转移到另一个平台上的人来说，都是很少的收获。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这里的OI是程序只能针对所有语言及其组合使用其RTL目标平台的功能。也就是说，就.NET而言，您可以使用WPF，但不能使用rt.jar，但对于本机，只能分别使用WinAPI或GTK。但是用Oxygene编写的基础库随处可见，Delphi的迁移层也是如此（通过</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上可用的方式）</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一个项目可以包含RO支持的不同语言的子项目。随着外部库的导入，也有完善的选择。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
将从目标平台（例如ARC for Cocoa）使用内存管理。</font><font style="vertical-align: inherit;">我没有详细介绍，因为默认情况下会使用Native GC，尽管可以选择-已选中，但</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我的项目在github上</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
添加一个观察值。</font><font style="vertical-align: inherit;">如果程序是在手动内存管理（malloc / free）下编写的，则它将仅在ARC下运行。</font><font style="vertical-align: inherit;">而且，如果该程序在ARC下，则无需更改即可在GC下运行（除非立即销毁）。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可靠性 </font></font></h3><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">氧气</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这基本上是一个古老的熟悉的对象Pascal，但是在类固醇上。</font><font style="vertical-align: inherit;">.NET版本的Oxygene也以Delphi Prism的形式出售。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
由于以下原因，它看起来更安全：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GC </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可为空的控件支持 </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">合同和不变式的可用性</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">身份注册控制</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制开始/结束对的缩进的能力（尚不清楚其工作方式）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">锁定/惰性线程安全类方法</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在RAII的意义上使用使用</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
缺点。</font><font style="vertical-align: inherit;">GC也有一个缺点-暂时的不确定性，过多的内存消耗。</font><font style="vertical-align: inherit;">您还可以写下公司和社区规模较小的缺点，因此，与</font><font style="vertical-align: inherit;">技术怪兽相比，</font><font style="vertical-align: inherit;">实现错误</font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可能</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更多。</font><font style="vertical-align: inherit;">文档薄弱，本机框架很少，如果目标不是.NET或JRE，则可以将大量“自行车”拖入项目中。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在技​​术方面，相对于Delphi，它添加了糖：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异步/等待/将来，等待-到目前为止仅适用于.NET</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LINQ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通用/动态类型（与Delphi不同）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元组</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">顺序/产量</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符串插值</font></font></li>
</ul><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">插曲。</font><font style="vertical-align: inherit;">C ＃</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以前由于跨平台有限而被取消，但是随着.NET Core 3的发布以及本机编译器（包括Linux）的出现，它变得更好了。</font><font style="vertical-align: inherit;">此外，RemObjects也支持任意选择的目标语言。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
实际上，凭着可靠性，C＃差不多可以了。</font><font style="vertical-align: inherit;">GC破坏了美观性，使用nullable并不是很舒服，这导致常规的NPE，无辜的外观功能获得异常的能力以及LINQ使用不成功的问题。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
由于GC和资源消耗，它不太适合嵌入式。</font><font style="vertical-align: inherit;">此外，</font><font style="vertical-align: inherit;">自2015年以来</font><font style="vertical-align: inherit;">，只有没有JIT </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.NET Micro Framework</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的解释器</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">才被</font></a><font style="vertical-align: inherit;">放弃</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">嵌入</font></a><font style="vertical-align: inherit;">，尽管它是作为</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">TinyCLR</font></a><font style="vertical-align: inherit;">开发的</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"></font></a><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现在关于</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Swift</font></font></a></h4> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
总的来说，这是一种类似于C的机器编译语言，是考虑到其前辈的历史而最新创建的。官方编译器由Apple自己制造，仍在Ubuntu之下，已转移到Open Source。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
可靠性级别的机会受到了关注。我可能会抱怨更改常量类的可能性以及将引用类与结构（值）混淆的可能性，但是在这里像在C＃中那样。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
内存管理位于原始ARC中，并且Apple以外的其他平台的RemObjects具有GC。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
嵌入式很重，没有实时功能。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我想看的剩下的几乎是所有东西了，没有合同（RemObjects中有非标准扩展名），但是可以通过5.2中出现的Property Observers或@propertyWrapper进行某种模拟（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尚未</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在RemObjects中</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">实现</font></a><font style="vertical-align: inherit;">），</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
应注意元组，参数名称函数，</font></font><code>array.insert(x, at: i)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为Optional显式展开，并且通常考虑使用它。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一个基本的细微差别，我称之为语言的发展。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">官方教程</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（5.2）中的</font><font style="vertical-align: inherit;">许多示例</font><font style="vertical-align: inherit;">根本无法在同一个Repl.it（5.0）上运行，更不用说RemObjects了，</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不清楚不清楚哪个版本完全对应</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RemObjects中的实现与参考中的实现不同-此处引用了Array，并且String是不可变的，并且接口也与本教程中描述的接口不同，并且库接口​​不仅具有自己的接口，而且在平台之间也略有不同。</font><font style="vertical-align: inherit;">这给无聊的编码过程带来了一些变化=）</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最终摘要更新了可靠性表</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
实际上，我提醒您，这只是根据参考数据而言的肤浅表述，所有以这些语言编写的专家都被邀请进行硬编辑。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编译质量</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
让我们尝试制作一个类似于</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">Levenshtein距离</font></a><font style="vertical-align: inherit;">的Swift程序</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"></font></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0xd34df00d</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 并将其与那里的程序进行比较。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">迅速</font></font></b><div class="spoiler_text"><pre><code class="swift hljs"><span class="hljs-comment">/*    
	  Windows.Native, Elements.Island
*/</span><font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Program</span> </span>{
	 <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">LevDist</span><span class="hljs-params">(<span class="hljs-number">_</span> s1: [UInt8], <span class="hljs-number">_</span> s2: [UInt8])</span></span> -&gt; <span class="hljs-type">Int32!</span> {
		 <span class="hljs-keyword">let</span> m = s1.<span class="hljs-built_in">count</span>
		 <span class="hljs-keyword">let</span> n = s2.<span class="hljs-built_in">count</span>
		 <span class="hljs-comment">//  Edge cases.</span>
		 <span class="hljs-keyword">if</span> m == <span class="hljs-number">0</span> {
			 <span class="hljs-keyword">return</span> n<font></font>
		 } <span class="hljs-keyword">else</span> {
			 <span class="hljs-keyword">if</span> n == <span class="hljs-number">0</span> {
				 <span class="hljs-keyword">return</span> m<font></font>
			 }<font></font>
		 }<font></font>
<font></font>
		 <span class="hljs-keyword">var</span> range = <span class="hljs-type">Range</span>(<span class="hljs-number">0</span> ... (n + <span class="hljs-number">1</span>))
		 <span class="hljs-keyword">var</span> v0: <span class="hljs-type">Swift</span>.<span class="hljs-type">Array</span>&lt;<span class="hljs-type">Int64</span>&gt; = range.<span class="hljs-type">GetSequence</span>()  <span class="hljs-comment">//17ms</span><font></font>
<font></font>
<span class="hljs-comment">//         var v1 = v0;    // in Swift must copy, but RO make a ref</span>
		 <span class="hljs-keyword">var</span> v1 = <span class="hljs-type">Swift</span>.<span class="hljs-type">Array</span>&lt;<span class="hljs-type">Int64</span>&gt;(v0);<font></font>
<font></font>
		 <span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>
		 <span class="hljs-keyword">while</span> i &lt; m {<font></font>
			 v1[<span class="hljs-number">0</span>] = i + <span class="hljs-number">1</span>
			 <span class="hljs-keyword">var</span> j = <span class="hljs-number">0</span>
			 <span class="hljs-keyword">while</span> j &lt; n {
				 <span class="hljs-keyword">let</span> substCost = (s1[i] == s2[j] ? v0[j] : v0[j] + <span class="hljs-number">1</span>)
				 <span class="hljs-keyword">let</span> delCost = v0[j + <span class="hljs-number">1</span>] + <span class="hljs-number">1</span>
				 <span class="hljs-keyword">let</span> insCost = v1[j] + <span class="hljs-number">1</span>
				 v1[j + <span class="hljs-number">1</span>] = substCost &lt; delCost ? substCost : delCost
				 <span class="hljs-keyword">if</span> insCost &lt; v1[j + <span class="hljs-number">1</span>] {<font></font>
					 v1[j + <span class="hljs-number">1</span>] = insCost<font></font>
				 }<font></font>
				 j += <span class="hljs-number">1</span><font></font>
			 }<font></font>
<font></font>
			 <span class="hljs-keyword">let</span> temp = v0; v0 = v1; v1 = temp <span class="hljs-comment">// copy refs</span>
			 i += <span class="hljs-number">1</span><font></font>
		 }<font></font>
		 <span class="hljs-keyword">return</span> v0[n]<font></font>
	 }<font></font>
 }<font></font>
<font></font>
<font></font>
<span class="hljs-keyword">var</span> b1 = [<span class="hljs-type">UInt8</span>](repeating: <span class="hljs-number">61</span> <span class="hljs-keyword">as</span>! <span class="hljs-type">UInt8</span>, <span class="hljs-built_in">count</span>: <span class="hljs-number">20000</span>)
<span class="hljs-keyword">var</span> b2: [<span class="hljs-type">UInt8</span>] = b1
<span class="hljs-keyword">var</span> b3 = <span class="hljs-type">Swift</span>.<span class="hljs-type">Array</span>&lt;<span class="hljs-type">UInt8</span>&gt;(repeating: <span class="hljs-type">UInt8</span>(<span class="hljs-number">63</span>), <span class="hljs-built_in">count</span>: <span class="hljs-number">20000</span>)<font></font>
<font></font>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"Start Distance"</span>);<font></font>
<font></font>
<span class="hljs-keyword">var</span> execTimer: <span class="hljs-type">StopWatch!</span> = <span class="hljs-type">StopWatch</span>()<font></font>
execTimer.<span class="hljs-type">Start</span>()<font></font>
<font></font>
<span class="hljs-built_in">print</span>(<span class="hljs-type">Program</span>.<span class="hljs-type">LevDist</span>(b1, b2))
<span class="hljs-built_in">print</span>(<span class="hljs-type">Program</span>.<span class="hljs-type">LevDist</span>(b1, b3))<font></font>
<font></font>
execTimer.<span class="hljs-type">Stop</span>()<font></font>
<font></font>
<span class="hljs-keyword">var</span> execTime: <span class="hljs-type">Float64</span> = execTimer.<span class="hljs-type">ElapsedMilliseconds</span> / <span class="hljs-number">1000.0</span> / <span class="hljs-number">10</span><font></font>
<font></font>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"\(execTime) s"</span>)
<span class="hljs-keyword">return</span> <span class="hljs-number">0</span></code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
剩下的改动很小，尽管当然是最严重的缺陷，我</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在github上进行了</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">修整</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">那些不害怕并且懒于下载环境和进行编译的人，那里也有二进制文件，如果您愿意，您可以运行相对安全的JVM和NET选项，也可以在沙箱中运行。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
所做的更改与对RO的编辑，从度量部分中删除Encoding.UTF8.GetBytes有关。事实证明，在Pascal版本中，表格中的线条形成</font></font><code>for i := 1 to 20000 do s1 := s1 + 'a';</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可能需要长达4分钟的时间（在度量部分之外）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
结果表（由Java标准化为通用表）</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">舌</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">平台</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编译器</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时间s</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">规范</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参量</font></font></th>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C ＃</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NET4.7 </font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NET4.7.3062</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13,075</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">445％</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-o +</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C ＃</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NET Core 3.1</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元素10.0</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11,327</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">385％</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发布，&gt; dotnet cs.dll</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C ＃</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">赢x64</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元素10.0</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6,312</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">215％</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">释放</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">爪哇</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">虚拟机</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JDK 1.8.0.242</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2,941</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">100％</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-g：无</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 $ java LevDist</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">爪哇</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">虚拟机</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元素10.0</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2,851</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">97％</font></font></td>
<td>release<br>
 $java -jar java8.jar</td>
</tr>
<tr>
<td>Oxygene</td>
<td>NET4.7</td>
<td>Elements 10.0</td>
<td>22,079</td>
<td>751%</td>
<td>release, range checking off</td>
</tr>
<tr>
<td>Oxygene</td>
<td>Win x64</td>
<td>Elements 10.0</td>
<td>9,421</td>
<td>320%</td>
<td>release, range checking off</td>
</tr>
<tr>
<td>Swift</td>
<td>JVM</td>
<td>Elements 10.0</td>
<td>23,733</td>
<td>807%</td>
<td>release<br>
 $java -jar swiftjvm.jar</td>
</tr>
<tr>
<td>Swift</td>
<td>Win x64</td>
<td>Elements 10.0</td>
<td>131,400</td>
<td>4468%</td>
<td>release</td>
</tr>
<tr>
<td>Go (Beta)</td>
<td>Win x64</td>
<td>Elements 10.0</td>
<td>89,243</td>
<td>3034%</td>
<td>release</td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试WASM会很有趣，但是我错过了这一点。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这些测量是在装有Win7的虚拟机上进行的，相对于我的真实硬件，该速度使这项任务的速度降低了大约三倍，平均是从5次测量中</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
得出的。</font><font style="vertical-align: inherit;">但是到目前为止还不算快。</font><font style="vertical-align: inherit;">Win7存在问题的假设（因为Win10 SDK用于本机编译）尚未得到证实-在Server 2016 1607上，时间大致相同。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[1] </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在语言环境中进行可靠的编程-noob评论。</font><font style="vertical-align: inherit;">第1部分</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
[2] </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在语言环境中进行可靠的编程。</font><font style="vertical-align: inherit;">第2部分-挑战者</font></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN489692/index.html">将RabbitMQ与MonsterMQ结合使用第3部分</a></li>
<li><a href="../zh-CN489696/index.html">生物声学如何帮助探索动物界</a></li>
<li><a href="../zh-CN489700/index.html">去哪里：莫斯科开发商的下一次免费活动（2月25日至3月11日）</a></li>
<li><a href="../zh-CN489704/index.html">2月24日至3月1日在莫斯科举行的数字活动</a></li>
<li><a href="../zh-CN489706/index.html">2月24日至3月1日在圣彼得堡举行的数字活动</a></li>
<li><a href="../zh-CN489710/index.html">如何用最少的烙铁技能和电子知识在2分钟内恢复LED灯</a></li>
<li><a href="../zh-CN489712/index.html">同时进行Ajile（监狱监狱）和Waterfall项目</a></li>
<li><a href="../zh-CN489716/index.html">更改项目需求是关键的软件开发问题</a></li>
<li><a href="../zh-CN489722/index.html">Arduino控制器上的温湿度计，LCD显示屏上显示数值</a></li>
<li><a href="../zh-CN489724/index.html">您想念什么服务？</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>