<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üò¥ üîØ üëâüèª Wie ich tausend Tabs losgeworden bin ... ü§¶üèΩ ü§òüèª üê∂</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="... und war 3 Jahre zu sp√§t. Im Idealfall sollte es so aussehen: Der Benutzer startet den Browser und der Browser zeigt an, was der Benutzer ben√∂tigt....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Wie ich tausend Tabs losgeworden bin ...</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/487782/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">... und war 3 Jahre zu sp√§t. Im Idealfall sollte es so aussehen: Der Benutzer startet den Browser und der Browser zeigt an, was der Benutzer ben√∂tigt. Obwohl dies nicht implementiert ist, m√ºssen Sie Suchmaschinen verwenden. Im Idealfall sollte es so aussehen: Der Benutzer √∂ffnet eine Suchmaschine, gibt eine Suchabfrage ein und zeigt an, was der Benutzer ben√∂tigt. </font><font style="vertical-align: inherit;">Obwohl die </font><font style="vertical-align: inherit;">Schaltfl√§che </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Ich f√ºhle mich gl√ºcklich"</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nicht so gut funktioniert (obwohl sich in letzter Zeit eine Bewegung in diese Richtung bemerkbar gemacht hat), m√ºssen Sie manchmal auf der Suchergebnisseite zu mehreren Adressen gehen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Szenario der Verwendung von Suchmaschinen wurde anscheinend historisch behoben (als das Internet langsam war): Als ich zur Suchergebnisseite kam, √∂ffnete ich mehrere Registerkarten im Hintergrund, und w√§hrend der Rest geladen wurde, war es bereits m√∂glich, die erste Registerkarte zu lesen. F√ºr den Fall, dass ich die erforderlichen Informationen auf einer der Registerkarten fand, musste der Rest manuell geschlossen werden. Wenn es nicht sofort geschlossen wurde, blieben die Registerkarten h√§ngen und erh√∂hten die Anzahl der ge√∂ffneten Registerkarten im Browser, die danach in der Regel selten geschlossen wurden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie auf die Seite mit den Links klicken, die in einem neuen Fenster ge√∂ffnet werden, werden au√üerdem mehrere (logisch) Registerkarten mit Registerkarten erstellt. </font><font style="vertical-align: inherit;">Wenn Sie die ben√∂tigten Informationen finden, k√∂nnen Sie sich nicht immer daran erinnern, welche Registerkarten verbunden sind. Sie k√∂nnen nicht alles schlie√üen, was auch dazu f√ºhrt, dass die Anzahl der ge√∂ffneten Registerkarten erh√∂ht wird. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich brauchte immer den </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Gefunden"</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -Button </font><font style="vertical-align: inherit;">, der die Konsequenzen der Suche nach mir bereinigt (nennen wir es </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Ich hatte Gl√ºck"</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">Nachdem ich in die Welt der Browser-Erweiterungen eingetaucht war, dachte ich, dass dies in diesem Fall hilfreich sein k√∂nnte. </font><font style="vertical-align: inherit;">So schwach tauchte der Wunsch auf, eine Erweiterung zu schreiben, die meine Probleme l√∂sen w√ºrde. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich werde Ihnen meine Geschichte erz√§hlen, ich werde die Geschichte in chronologischer Reihenfolge f√ºhren, die Schlussfolgerungen k√∂nnen unerwartet sein.</font></font><a name="habracut"></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erster Schritt in Richtung</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als erstes habe ich die Infrastruktur eingerichtet: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Webpack + Babel</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Und sofort mochte ich diesen </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">babel-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> duplizierten Code f√ºr seine Helfer in jedem Modul nicht. </font><font style="vertical-align: inherit;">Es war m√∂glich, es f√ºr die Verwendung des Objekts zu konfigurieren </font></font><code>babelHelper</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, aber dann musste </font></font><code>babelHelper</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">die </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Codedatei</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in der </font><i><font style="vertical-align: inherit;">Webpack-</font></i><font style="vertical-align: inherit;"> Konfiguration verbunden werden </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Es </font></font><code>entry</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">war h√§sslich, eine </font><font style="vertical-align: inherit;">solche Datei im Projekt zu </font><font style="vertical-align: inherit;">behalten </font><font style="vertical-align: inherit;">und darauf zu zeigen. </font><font style="vertical-align: inherit;">Ich habe ein Plug-In f√ºr das Webpack erstellt, das dies automatisch f√ºr mich erledigt hat. </font><font style="vertical-align: inherit;">Nachdem ich mich im ersten Schritt viel M√ºhe gegeben und mehr Code f√ºr die Erweiterung selbst geschrieben hatte, wurde ich etwas langsamer.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plugin</font></font></b><div class="spoiler_text"><strong>webpack-babel-external-helpers-2:</strong><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">www.npmjs.com/package/webpack-babel-external-helpers-2</a></div></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stiftung</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Zeit verging und es war nur ein Plug-In f√ºr das Webpack verf√ºgbar, das meine Probleme in keiner Weise l√∂ste. Und jedes Mal, wenn ich nach etwas suchte und die Registerkarten nicht schloss, kam mir der Gedanke: ‚ÄûEs w√§re sch√∂n, diese Erweiterung zu vervollst√§ndigen ...‚Äú Der Wunsch wuchs und wuchs, und jetzt, eines sch√∂nen Tages, wuchs die Quantit√§t zu Qualit√§t. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist Zeit zu sagen, was die Hauptidee war: Der </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Benutzer </font></font><abbr title="Suchmaschinen-Ergebnisseite"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gelangt</font></font></abbr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zur Suchergebnisseite - </font><abbr title="Search Engine Results Page"><font style="vertical-align: inherit;">SICKLE</font></abbr><font style="vertical-align: inherit;"> , wir analysieren die Ergebnisse, speichern die </font><abbr title="Search Engine Results Page"><font style="vertical-align: inherit;">Linkadressen</font></abbr><font style="vertical-align: inherit;"> f√ºr uns selbst, nachdem der Benutzer auf eine der Adressen </font><abbr title="Search Engine Results Page"><font style="vertical-align: inherit;">geklickt</font></abbr><font style="vertical-align: inherit;"> hat, zeigt ihm eine Benachrichtigung mit den restlichen Adressen und der Schaltfl√§che </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Gefunden"</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Tabs schlie√üen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie zur Seite gehen, gibt es m√∂glicherweise verschiedene Optionen. Das einfachste: eine Anfrage - eine Antwort vom Server ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">200</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font><font style="vertical-align: inherit;">Das Schwierigste: eine Anfrage - mehrere Serverumleitungen ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3xx</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), nach der </font><i><font style="vertical-align: inherit;">Clientumleitung</font></i><font style="vertical-align: inherit;"> (mit </font></font><code>&lt;meta/&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">oder Javascript) steht auch die </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verlaufs-API ganz</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> oben </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Und die Kombinationen zwischen ihnen fallen in der Regel in diese Kategorie. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Einfacher √úbergangsfall:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/d9/ml/od/d9mlodnv9fkgcqczxiomnwwhvqc.png" alt="Der Fall eines einfachen √úbergangs (Antwort 200)"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Komplexer √úbergangsfall:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/yl/zc/ps/ylzcpsc_dcgocw-o5vhwci2xoy4.png" alt="Komplexer √úbergangsfall (3xx + Client-Weiterleitungen)"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das hei√üt, es reicht nicht immer aus, die Seitenadresse zu speichern und nur zu √ºberpr√ºfen. Daher m√ºssen Sie einen logischen √úbergang erstellen, in dem Sie alle auf dem Pfad gefundenen Adressen notieren und dann √ºberpr√ºfen, ob der logische √úbergang die gespeicherte Adresse enth√§lt. Die Aufgabe ist klar, aber nicht alles ist so einfach in der Ausf√ºhrung. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In Chrome gibt es zwei APIs f√ºr die Navigation: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">webNavigation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">webRequest</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - jede mit ihren eigenen Ereignissen. Die erste - verbindet die √úberg√§nge und die Benutzeroberfl√§che des Browsers, die zweite - die zugrunde liegenden Netzwerkanforderungen. Daher, wenn die Adress√§nderung auf der Seite aufgrund der </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verlaufs-API erfolgt ist</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F√ºr letztere gibt es keine Ereignisse, und wenn w√§hrend einer Netzwerkanforderung Weiterleitungen auftreten, meldet diese erstere √ºberhaupt nicht. </font><font style="vertical-align: inherit;">Daher ist es erforderlich, beide APIs zu verwenden und eine Prise von jedem Ereignis jeder API zu sammeln, um einen logischen √úbergang zu bilden.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein paar Details</font></font></b><div class="spoiler_text">   ,   <code>webNavigation</code> (wN)    :<br>
<br>
<pre><code class="plaintext hljs">onBeforeNavigate -&gt; onCommitted -&gt; onDOMContentLoaded -&gt; onCompleted
</code></pre><br>
  <code>webRequest</code> (wR):<br>
<br>
<pre><code class="plaintext hljs">onBeforeRequest -&gt; [onBeforeRedirect -&gt; onBeforeRequest]* -&gt; onCompleted | onErrorOccurred
</code></pre><br>
    wR  wN     (   ), ..  -  <code>wN.onBeforeNavigate</code>    <code>wR.onBeforeRequest</code>,  - .     .<br>
<br>
<code>         ,     ,        .</code><br>
</div></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Entwicklung</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... Kehren wir zu dem Moment zur√ºck, in dem die Quantit√§t zur Qualit√§t gewachsen ist. Vom Beginn der Entwicklung bis zu diesem Punkt ist viel Zeit vergangen: Browser unterst√ºtzen </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">es6-Module</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Shadow-DOM</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und andere moderne Funktionen. Um das Projekt zu erstellen, bin ich zu </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rollup gewechselt</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , diesmal musste ich kein Plugin schreiben. Nach dem Erstellen der Grundlage - der M√∂glichkeit, Informationen zu jedem √úbergang in einer beliebigen Registerkarte abzurufen - muss die Logik des Parsens unterst√ºtzter SICKLES und des Anzeigens von Benachrichtigungen auf verwandten Seiten implementiert werden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die erste Aufgabe ist ziemlich primitiv: Wir kennen die Adresse des SICKLE, klettern mit dem Inhaltsskript in den Seiteninhalt, holen die Daten ab, die uns interessieren, speichern sie und warten, bis der Benutzer zu einer der Seiten geht, um ihm eine Benachrichtigung mit den anderen Seiten anzuzeigen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F√ºr die zweite Aufgabe m√ºssen Sie die Benachrichtigung selbst implementieren, was dem Benutzer auf der Seite angezeigt werden soll. Und auch hier k√∂nnen Inhaltsskripte nicht. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anfangs gab es nur einen Handler (auch bekannt als Controller), der f√ºr die Logik w√§hrend der Benutzerinteraktion mit Suchmaschinen verantwortlich war. Dann kam die Idee auf, warum nicht Benachrichtigungen auf verwandten Registerkarten anzeigen, wenn der Benutzer einfach auf die Links klickt, die in neuen Registerkarten ge√∂ffnet werden. Ich musste die Logik wiederholen, um sie universeller zu machen. √Ñhnlich wie bei Middleware </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">React / Redux</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">k√∂nnen Sie mehrere Transition-Handler verbinden, wodurch Sie in Zukunft die M√∂glichkeit implementieren k√∂nnen, verschiedene Handler in den Erweiterungseinstellungen zu deaktivieren / aktivieren.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Privatsph√§re</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da es sich bei der Benachrichtigung um ein Bedienfeld am unteren Bildschirmrand handelt, das dem Seitenlayout hinzugef√ºgt wird, kann das Skript auf der Seite auf dasselbe Element wie jedes andere Element auf dieser Seite zugreifen. Das hei√üt, theoretisch k√∂nnte die Seite herausfinden, welche Suchanfrage Sie verwendet haben, in welcher Suchmaschine und welche anderen Seiten Ihnen angeboten wurden, was nicht sehr gut ist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine Technologie namens </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Shadow DOM</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> hilft </font><font style="vertical-align: inherit;">. Es wird nicht empfohlen, es </font></font><code>closed mode</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">beim Erstellen im </font><font style="vertical-align: inherit;">Web zu verwenden </font></font><code>shadowRoot</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, da es wenig sinnvoll ist (Sie m√ºssen den Link zum Element noch </font></font><code>shadowRoot</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">irgendwo </font><font style="vertical-align: inherit;">speichern, </font><font style="vertical-align: inherit;">wenn Sie programmgesteuert darauf zugreifen m√∂chten). Sie k√∂nnen die </font></font><code>attachShadow</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zu erstellende </font><font style="vertical-align: inherit;">Funktion auch neu definieren</font></font><code>shadowRoot</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">im ge√∂ffneten Modus, und dann verwenden die nach der Neudefinition geladenen Skripte bereits die neue Version der Funktion. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei der Erweiterung ist dies nicht der Fall. Inhaltsskripte und Seitenskripte leben in parallelen Welten. Skripte von der Seite haben keinen Zugriff auf die in den Inhaltsskripten definierten Objekte, w√§hrend Inhaltsskripte mit der nativen Implementierung der DOM-Funktionen von Objekten arbeiten (eine √ºberschriebene Funktion eines Skripts von der Seite hat keine Auswirkungen auf die Funktion, mit der das Inhaltsskript arbeitet). Wenn wir diese beiden Bedingungen kombinieren, sehen wir, dass es m√∂glich ist, ein Element mit einem privaten zu erstellen, </font></font><code>shadowRoot</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">indem der Link dazu in einer Variablen gespeichert wird.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diesem Fall kann das Skript von der Seite nur auf das Wrapper-Element zugreifen, das f√ºr dieses Element leer ist. </font><font style="vertical-align: inherit;">Er kann den Text der Anfrage oder die vorgeschlagenen Seiten nicht erhalten. </font><font style="vertical-align: inherit;">Es muss darauf geachtet werden, dass in den generierten Ereignissen kein Link zu einem Element in der Benachrichtigung oder im Klartext angezeigt wird. </font><font style="vertical-align: inherit;">Daher wird in der Erweiterung die generierte ID in Ereignissen verwendet, und das Hintergrundskript versteht bereits, was diese ID von ihr verlangt. </font><font style="vertical-align: inherit;">F√ºr die Seite ist diese ID ziemlich bedeutungslos.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√úbersetzungsschwierigkeiten</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Urspr√ºnglich wurde die Erweiterung nur f√ºr </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google Chrome entwickelt</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , aber seit der </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebExtensions-API</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> konnte irgendwo in meinem Kopf die Portierung auf andere Browser beibehalten werden. Und das Vorhandensein von </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Webextension-Polyfill weckte</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Vertrauen. Aber egal wie. Das Polyphil f√ºr diese Erweiterung brachte nur die M√∂glichkeit, die Chrome-API mit Versprechungen zu verwenden. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Firefox ist</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zu einer Entt√§uschung des Jahres geworden. Die </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nicht√ºbereinstimmung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> der Chrome-API in Firefox ( </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">Bug 1543647</font></a><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bug 1595621</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) erwies sich als kritisch f√ºr das Funktionieren der Erweiterung. Wir k√∂nnen sagen, dass sie in diesem Browser (wie erwartet) nicht funktioniert. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vivaldi</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> war am n√§chsten, aber auch nicht ohne Kosten. Veranstaltung</font></font><code>wN.onCreatedNavigationTarget</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es tritt nicht auf, wenn der Benutzer den Link mit der mittleren Maustaste oder √ºber die </font></font><code>Shift|Ctrl</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">linke Maustaste + anstelle des Ereignisses </font><font style="vertical-align: inherit;">√∂ffnet </font></font><code>wN.onCommitted transitionType == 'start_page'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, das nicht in der </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chrome-API enthalten</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ist. Aus diesem Grund funktioniert die Erweiterung nicht in allen F√§llen ordnungsgem√§√ü. </font><font style="vertical-align: inherit;">Auch in Vivaldi funktionieren keine Hotkeys f√ºr Erweiterungen. </font><font style="vertical-align: inherit;">Was in diesem Fall in Chrome eine Killerfunktion ist, erm√∂glicht es Ihnen, schnell durch die Registerkarten zu navigieren und sie zu schlie√üen, ohne daf√ºr eine Maus verwenden zu m√ºssen.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fazit</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
W√§hrend des Schreibens des Codes wurde die Logik zum Anzeigen von Benachrichtigungen mehrmals ge√§ndert und jedes Mal vereinfacht. Als Ergebnis stellte sich heraus, dass es m√∂glich war, den Garten nicht mit logischen √úberg√§ngen zu umz√§unen, sondern die ‚Äûverwandten √úberg√§nge‚Äú des Benutzers zu erfassen (falls </font></font><code>wN.onCommitted</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">es ein Flag </font></font><code>transitionType</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gibt, das angibt, wof√ºr der √úbergang gedacht war, handelt es sich in vielen F√§llen um ‚ÄûLink‚Äú, was bedeutet, dass der Benutzer gewechselt hat durch Bezugnahme), was den Code erheblich vereinfachen und in vielen F√§llen funktionieren w√ºrde, aber nicht in allen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da ich nicht zum Thema geh√∂rte, erwartete ich auch mehr Kompatibilit√§t in Bezug auf die </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">webExtensions-API</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Wie immer ist es gut, in einer Welt moderner Browser zu leben, wenn Sie keine Unterst√ºtzung f√ºr √§ltere Versionen ben√∂tigen. </font><font style="vertical-align: inherit;">CSS-Animationen sind eine wunderbare Sache: Was Sie fr√ºher f√ºr die js-Bibliothek verwendet haben, wird jetzt in wenigen Zeilen auf CSS ausgef√ºhrt. </font><font style="vertical-align: inherit;">Benutzerdefinierte Elemente funktionieren nicht in Erweiterungen, aber das Schatten-DOM funktioniert, sodass Sie alle Funktionen nutzen k√∂nnen.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erweiterung</font></font></b><div class="spoiler_text">     chrome web store: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Handy Search</a></div></div></div>
      
    </div><p class="reference-to-source js-reference-to-source">Source: https://habr.com/ru/post/undefined/</p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de487768/index.html">√ñffnen der Ports 4321 und 9898 auf Xiaomi Gateway 2</a></li>
<li><a href="../de487772/index.html">Lernen Sie die Tschuwaschische Sprache in Yandex kennen. √úbersetzen: Wie wir das Hauptproblem der maschinellen √úbersetzung l√∂sen</a></li>
<li><a href="../de487774/index.html">SQL Server-Fehler bei Datum und Uhrzeit</a></li>
<li><a href="../de487776/index.html">Microsoft Azure-Schulungstag: Migration der Serverinfrastruktur (Registrierung abgeschlossen)</a></li>
<li><a href="../de487780/index.html">Vulnerability Management - mehr: Management oder Schwachstellen?</a></li>
<li><a href="../de487784/index.html">Woher kommen sie in der Qualit√§tssicherung?</a></li>
<li><a href="../de487786/index.html">Wie viel Freiheit braucht ein intelligenter Ofenbenutzer? Wie ein starkes Team Hypothesen in zwei statt in drei Wochen testen kann</a></li>
<li><a href="../de487788/index.html">Produktdesign ohne Designer</a></li>
<li><a href="../de487790/index.html">"Ja, sie existieren!" Was machen Data Science-Spezialisten in Kasachstan und wie viel verdienen sie?</a></li>
<li><a href="../de487792/index.html">Mercurial auf einem Windows-Server ausl√∂sen (mit Nginx)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>