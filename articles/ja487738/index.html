<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⚪️ 🙎🏿 🎭 SCADAのスキーマアニメーション 🤾 💆🏼 🤰</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="HMIを作成する場合、関連する要素の複雑な回路のマッピングを作成することが非常によくあります。これは、分岐パイプラインスキーム、電気などです。
 
 もちろん、主要な要素（ゲートバルブ、回路ブレーカー）の表示に制限することもできますが、回路が大きくなると、完全な図を作成してオペレーターの正しいアクシ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>SCADAのスキーマアニメーション</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/487738/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HMIを作成する場合、関連する要素の複雑な回路のマッピングを作成することが非常によくあります。</font><font style="vertical-align: inherit;">これは、分岐パイプラインスキーム、電気などです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もちろん、主要な要素（ゲートバルブ、回路ブレーカー）の表示に制限することもできますが、回路が大きくなると、完全な図を作成してオペレーターの正しいアクションを確実にすることが難しくなります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/js/86/tr/js86trkeud1o6qilw9cdjckia8s.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、このようなスキームの要素の色分けについて説明し、Simatic WinCC v7の解決方法とSimargl SCADAでの実装について説明します。</font><font style="vertical-align: inherit;">WinCCを使用する必要がない場合は、記事の最後をご覧ください。好奇心旺盛なビデオがあります。</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これがすべて必要な理由をより視覚的に表現するために、小さな単純なスキームを採用します。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/zm/7-/rm/zm7-rmshnfpa9zuahdxt6m_mdfo.png" alt="画像"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
操作があるとどうなるか想像してみてください。</font><font style="vertical-align: inherit;">パイプラインシステムを介して製品のパスを追跡するのにどのくらい時間がかかりますか？</font><font style="vertical-align: inherit;">ストップウォッチを身につけます。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">準備はいい？</font><font style="vertical-align: inherit;">行こう！</font></font></b><div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/iq/l8/jt/iql8jtcvyifvukrjviudd-s4mxu.png" alt="image"></div><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私の観察によると、それは10〜15秒かかります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、（突然）操作が同時に複数になる可能性があることを思い出してください。</font><font style="vertical-align: inherit;">これは「わずかに」タスクを複雑にします。</font><font style="vertical-align: inherit;">もう一度テストする準備はできましたか？</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">行こう！</font></font></b><div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/-d/zl/oh/-dzloh6cxb2zcwpqzpdiwlolmm0.png" alt="image"></div><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私の同僚の言葉をまともな言語に翻訳する：「それはチャンスです！ 2番目のルートを追跡している間、最初のルートについては非常に忘れてしまいます。なんて素晴らしくて便利な計画でしょう！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、このスキームは非常にシンプルです。楽器の読み取り値やさまざまな署名さえありません（「三次元」のパイプを描くためのファンへの特別な挨拶）実際には、事態はさらに悪化する可能性があります。かなり大きなスキーム（400を超えるバルブ）に出会いました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
オペレーターはそのような模倣で何ができますか？最良のケースでは、ルートに沿ってゲートバルブをゆっくりと開き、彼が間違っていないことを期待します。しかし、切り替えを迅速に行う必要があり、エラーのコストが高い場合はどうなりますか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この状況からの脱出方法は明らかです。ルートに沿って線に色を付ける必要があり、コントロールアクションの前にこれを行うことをお勧めします。</font><font style="vertical-align: inherit;">奇妙なことに、私は、高価なSCADAパッケージを使用していても、既成の解決策をすぐには見当たりませんでした。</font><font style="vertical-align: inherit;">各ラインを手動で色付けしようとすると、セットアップがほぼ無限に遅れる恐れがあります。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WinCC v7のソリューション</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WinCC v7に基づいてこのような問題を解決しました。残念ながら、契約の条件の下で、既製のソリューションを提示する権利はありませんが、可能なソリューションについて説明することはできます。突然誰かが助けになります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VBAを使用する機会があるので、これはWinCCバージョン7製品ファミリに関するものであることをすぐに述べます。警告する必要があります。以下に説明するすべてはハックである可能性が高く、絶望から使用されており、すべての場合に適しているわけではありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
パイプとバルブの観点から議論を続けますが、もちろん、電源スキームはすべて同じです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スキームを精神的にセクションに分割して、各側に1つだけの入力/出力があるようにします。それら。出口がパイプにカットされている場合、3つのセクションを作成する必要があります。ブランチの前に、ブランチ自体です。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
図を作成するには、2種類の標準グラフィックオブジェクトを使用する必要があります。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コネクタ（線を描く場合）と円（図の制御点を作成する場合）です。コネクタは、通常の回線とは異なり、回路内のどのオブジェクトが接続されているかを判別できるため必要です。標準のCircleはCustomObjectでやり直す必要があります。これにより、ニーモニックスキームの要素を並べ替えるときの混乱を回避し、プロパティにわかりやすい名前を付けることができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コントロールポイントの一部はパイプラインのジョイントに対応し、一部はゲートバルブに対応します。後者の場合、未使用のプロパティを選択してVBSアクションを割り当てます。ここで定数を作成し、バルブの名前を含む文字列値を割り当てます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/4a/4a/6s/4a4a6sqjj2s_tn7vq-o87itgkhk.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、すべての画面要素を通過するスクリプトをVBAに記述し、各コネクタに対して間接的に接続されたラッチのリストを作成して、最終的にBorderColorプロパティのVBSテキストを作成できるようにします。これは、ConnectorにVBAで使用可能なTopConnectedObjectNameとBottomConnectedObjectNameの2つのプロパティがあるために実現できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このスクリプトの結果は次のようになります</font></font><br>
<br>
<img src="https://habrastorage.org/webt/2j/sg/io/2jsgiom-vpl8c5vahyyd3nsutro.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。D1およびD2-バルブの名前を持つ配列。 TubeColor-バルブの状態に応じて色と線のスタイルを返す関数。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
重要なポイント：VBSスクリプトを要素に書き込むときは、トリガーも変更する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
TubeColor関数では、技術的な状況に応じてすべてのカラーリングルールを設定する必要があります。もちろん、TubeColorはグローバルスクリプトでレンダリングする必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その後、WinCCは大きなニーモニック図をほとんど転送できないため、パフォーマンス、VBSの最適化などの闘争が始まります。</font><font style="vertical-align: inherit;">しかし、シーメンスの同僚に敬意を表する必要があります。バージョン7.3からVBSの速度が大幅に向上しました。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">Simargl SCADA</font></a><font style="vertical-align: inherit;">での実装の説明</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アニメーションスキームを描画するために、</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Simargl </font><font style="vertical-align: inherit;">SCADAには2つのウィジェットが含まれています</font><font style="vertical-align: inherit;">。SPipeScene-線を描画し、カラーリングルールを設定するためのシーン。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SPipe-ノードポイントを指定し、フィールド機器の状態の変化を表示します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
要するに、このプロセスは、回路の節点を配置し、プロパティをタグ値にバインドし、機器のステータスを表示するウィジェットをシーンの上に配置することになります。</font><font style="vertical-align: inherit;">それはすべてこのように見えます：</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際の回路を作成するために、コードをまったく作成する必要がなかったことは奇妙です。</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">Facebookページの</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ビデオからSimargl SCADAのデモ版、ドキュメント、プロジェクトソースを入手</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">できます</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja487720/index.html">競争的コーティニズムについて（例としてリアクティブプログラミングを使用）</a></li>
<li><a href="../ja487724/index.html">BlazingPizza：最初から最後までBlazorアプリ。パート2.コンポーネントを追加する</a></li>
<li><a href="../ja487728/index.html">@Pythonetcコンパイル、2020年1月</a></li>
<li><a href="../ja487730/index.html">自然言語処理。2019年の結果と2020年の傾向</a></li>
<li><a href="../ja487734/index.html">Entity Framework Coreの高速化</a></li>
<li><a href="../ja487740/index.html">ポータブル磁力計の組み立て</a></li>
<li><a href="../ja487742/index.html">アービトラージ取引（Bellman-Fordアルゴリズム）</a></li>
<li><a href="../ja487744/index.html">FAROがFOCUS S 70レーザー3Dスキャナーを発表</a></li>
<li><a href="../ja487746/index.html">永遠の</a></li>
<li><a href="../ja487748/index.html">3ドルのハードウェア暗号化キー-これは可能ですか？</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>