<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧑🏿‍🤝‍🧑🏿 🍲 🏀 Angular: membuat elemen formulir kustom dan menyampaikan status formulir ke sana 🏬 🐹 🧞</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Berbagai bentuk dalam aplikasi web kami sering dibangun dari elemen bata yang sama. Kerangka kerja komponen membantu kita menyingkirkan kode berulang,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Angular: membuat elemen formulir kustom dan menyampaikan status formulir ke sana</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/491062/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Berbagai bentuk dalam aplikasi web kami sering dibangun dari elemen bata yang sama. </font><font style="vertical-align: inherit;">Kerangka kerja komponen membantu kita menyingkirkan kode berulang, dan sekarang saya ingin mempertimbangkan salah satu dari pendekatan ini. </font><font style="vertical-align: inherit;">Jadi, seperti kebiasaan di Angular.</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tugas teknis:</font></font></h3><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Anda perlu membuat komponen "elemen formulir untuk memasukkan SNILS";</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Komponen harus memformat nilai yang dimasukkan dengan mask;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Komponen harus memvalidasi input.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> komponen harus berfungsi sebagai bagian dari bentuk reaktif;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> formulir yang tidak lengkap harus mempertahankan kondisinya di antara reboot;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> saat memuat halaman, setelah formulir yang diedit harus segera menunjukkan kesalahan;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> digunakan oleh Material Sudut.</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Membuat proyek dan menginstal dependensi</font></font></h3><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Buat proyek uji</font></font></h4><br>
<pre><code class="plaintext hljs">ng new input-snils</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instal perpustakaan pihak ketiga</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertama-tama, Material Sudut itu sendiri</font></font><br>
<br>
<pre><code class="plaintext hljs">ng add @angular/material</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maka kita perlu menutupi dan memeriksa SNIL sendiri sesuai dengan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aturan untuk menghitung checksum</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Instal perpustakaan:</font></font><br>
<br>
<pre><code class="plaintext hljs">npm install ngx-mask ru-validation-codes</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menyimpan data formulir</font></font></h3><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mempersiapkan layanan untuk bekerja dengan Penyimpanan lokal</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Formulir data akan disimpan di Penyimpanan lokal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda dapat segera mengambil metode peramban untuk bekerja dengan LS, tetapi di Angular biasanya mencoba untuk menulis kode universal, dan menjaga semua dependensi eksternal terkendali. Ini juga menyederhanakan pengujian. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oleh karena itu, itu akan benar ketika kelas mendapatkan semua dependensinya dari wadah DI. Mengingat kucing Matroskin - untuk membeli sesuatu yang tidak perlu dari injector, Anda harus terlebih dahulu menjual sesuatu yang tidak perlu ke injector. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Buat penyedia </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">window.provider.ts</font></font></b><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> { InjectionToken } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getWindow</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-built_in">window</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> WINDOW = <span class="hljs-keyword">new</span> InjectionToken(<span class="hljs-string">'Window'</span>, {
  <span class="hljs-attr">providedIn</span>: <span class="hljs-string">'root'</span>,
  <span class="hljs-attr">factory</span>: getWindow,<font></font>
});</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apa yang terjadi di sini? </font><font style="vertical-align: inherit;">Injector DI Angular mengingat token dan memberikan entitas yang terkait dengannya. </font><font style="vertical-align: inherit;">Token - itu bisa berupa objek InjectionToken, string atau kelas. </font><font style="vertical-align: inherit;">Ini menciptakan InjectionToken tingkat root baru dan berkomunikasi dengan pabrik, yang mengembalikan browser </font></font><code>window</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang kita memiliki jendela, mari kita buat layanan sederhana untuk bekerja dengan </font><b><font style="vertical-align: inherit;">storage.service.ts</font></b><font style="vertical-align: inherit;"> LocalStorage</font></font><br>
<b><font style="vertical-align: inherit;"></font></b><br>
<br>
<pre><code class="javascript hljs">@Injectable({
  <span class="hljs-attr">providedIn</span>: <span class="hljs-string">'root'</span><font></font>
})<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">StorageService</span> </span>{<font></font>
  readonly prefix = <span class="hljs-string">'snils-input__'</span>;<font></font>
<font></font>
  <span class="hljs-keyword">constructor</span>(<font></font>
    @Inject(WINDOW) private window: Window,<font></font>
  ) {}<font></font>
<font></font>
  public set&lt;T&gt;(key: string, <span class="hljs-attr">data</span>: T): <span class="hljs-keyword">void</span> {
    <span class="hljs-keyword">this</span>.window.localStorage.setItem(<span class="hljs-keyword">this</span>.prefix + key, <span class="hljs-built_in">JSON</span>.stringify(data));<font></font>
  }<font></font>
<font></font>
  public get&lt;T&gt;(key: string): T {<font></font>
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">return</span> <span class="hljs-built_in">JSON</span>.parse(<span class="hljs-keyword">this</span>.window.localStorage.getItem(<span class="hljs-keyword">this</span>.prefix + key));<font></font>
    } <span class="hljs-keyword">catch</span> (e) { }<font></font>
  }<font></font>
<font></font>
  public remove(key: string): <span class="hljs-keyword">void</span> {
    <span class="hljs-keyword">this</span>.window.localStorage.removeItem(<span class="hljs-keyword">this</span>.prefix + key);<font></font>
  }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
StorageService mengambil jendela dari injektor dan menyediakan pembungkusnya sendiri untuk menyimpan dan membaca data. </font><font style="vertical-align: inherit;">Saya tidak membuat awalan dapat dikonfigurasi agar tidak membebani artikel dengan deskripsi cara membuat modul dengan konfigurasi.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FormPersistModule</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami membuat layanan sederhana untuk menyimpan data formulir. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">form-persist.service.ts</font></font></b><br>
<br>
<pre><code class="javascript hljs">@Injectable({
  <span class="hljs-attr">providedIn</span>: <span class="hljs-string">'root'</span><font></font>
})<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FormPersistService</span> </span>{<font></font>
  private subscriptions: Record&lt;string, Subscription&gt; = {};<font></font>
<font></font>
  <span class="hljs-keyword">constructor</span>(<font></font>
    private storageService: StorageService,<font></font>
  ) { }<font></font>
<font></font>
  <span class="hljs-comment">/**
   * <span class="hljs-doctag">@returns </span>restored data if exists
   */</span>
  public registerForm&lt;T&gt;(formName: string, <span class="hljs-attr">form</span>: AbstractControl): T {
    <span class="hljs-keyword">this</span>.subscriptions[formName]?.unsubscribe();
    <span class="hljs-keyword">this</span>.subscriptions[formName] = <span class="hljs-keyword">this</span>.createFormSubscription(formName, form);<font></font>
<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.restoreData(formName, form);<font></font>
  }<font></font>
<font></font>
  public unregisterForm(formName: string): <span class="hljs-keyword">void</span> {
    <span class="hljs-keyword">this</span>.storageService.remove(formName);<font></font>
<font></font>
    <span class="hljs-keyword">this</span>.subscriptions[formName]?.unsubscribe();
    <span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>.subscriptions[formName];<font></font>
  }<font></font>
<font></font>
  public restoreData&lt;T&gt;(formName: string, <span class="hljs-attr">form</span>: AbstractControl): T {
    <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">this</span>.storageService.get(formName) <span class="hljs-keyword">as</span> T;
    <span class="hljs-keyword">if</span> (data) {<font></font>
      form.patchValue(data, { <span class="hljs-attr">emitEvent</span>: <span class="hljs-literal">false</span> });<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">return</span> data;<font></font>
  }<font></font>
<font></font>
  private createFormSubscription(formName: string, <span class="hljs-attr">form</span>: AbstractControl): Subscription {
    <span class="hljs-keyword">return</span> form.valueChanges.pipe(<font></font>
      debounceTime(<span class="hljs-number">500</span>),<font></font>
    )<font></font>
      .subscribe(<span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> {
        <span class="hljs-keyword">this</span>.storageService.set(formName, value);<font></font>
      });<font></font>
  }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
FormPersistService dapat mendaftarkan formulir dengan kunci string yang diteruskan. Registrasi berarti bahwa formulir data akan disimpan di LS dengan setiap perubahan. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saat mendaftar, nilai yang diekstraksi dari LS juga dikembalikan sehingga dimungkinkan untuk memahami bahwa formulir telah disimpan sebelumnya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Batalkan registrasi ( </font></font><code>unregisterForm</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) menghentikan proses simpan dan menghapus entri dalam LS. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya ingin menggambarkan fungsi penyimpanan secara deklaratif, dan tidak melakukannya setiap kali dalam kode komponen. Sudut memungkinkan Anda melakukan mukjizat dengan bantuan arahan, dan saat ini yang terjadi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Buat direktif </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">form-persist.directive.ts</font></font></b><br>
<br>
<pre><code class="javascript hljs">@Directive({
  <span class="hljs-attr">selector</span>: <span class="hljs-string">'form[formPersist]'</span>, <span class="hljs-comment">// tslint:disable-line: directive-selector</span><font></font>
})<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FormPersistDirective</span> <span class="hljs-title">implements</span> <span class="hljs-title">OnInit</span> </span>{<font></font>
  @Input() formPersist: string;<font></font>
<font></font>
  <span class="hljs-keyword">constructor</span>(<font></font>
    private formPersistService: FormPersistService,<font></font>
    @Self() private formGroup: FormGroupDirective,<font></font>
  ) { }<font></font>
<font></font>
  @HostListener(<span class="hljs-string">'submit'</span>)<font></font>
  onSubmit() {<font></font>
    <span class="hljs-keyword">this</span>.formPersistService.unregisterForm(<span class="hljs-keyword">this</span>.formPersist);<font></font>
  }<font></font>
<font></font>
  ngOnInit() {<font></font>
    <span class="hljs-keyword">const</span> savedValue = <span class="hljs-keyword">this</span>.formPersistService.registerForm(<span class="hljs-keyword">this</span>.formPersist, <span class="hljs-keyword">this</span>.formGroup.control);
    <span class="hljs-keyword">if</span> (savedValue) {
      <span class="hljs-keyword">this</span>.formGroup.control.markAllAsTouched();<font></font>
    }<font></font>
  }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketika ditumpangkan pada formulir, FormPersistDirective menarik keluar arahan lain dari injektor lokal - FormGroupDirective dan mengambil objek formulir reaktif dari sana untuk mendaftar dengan FormPersistService. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kunci pendaftaran harus diambil dari templat, formulir itu sendiri tidak memiliki pengenal unik yang melekat di dalamnya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saat mengirimkan formulir, pendaftaran harus dibatalkan. </font><font style="vertical-align: inherit;">Untuk melakukan ini, dengarkan acara pengiriman menggunakan HostListener. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Arahan juga perlu dikirim ke komponen di mana ia dapat digunakan. </font><font style="vertical-align: inherit;">Ini adalah praktik yang baik untuk membuat modul kecil yang terpisah untuk setiap entitas yang digunakan kembali. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">form-persist.module.ts</font></font></b><br>
<br>
<pre><code class="javascript hljs">@NgModule({
  <span class="hljs-attr">declarations</span>: [FormPersistDirective],
  <span class="hljs-attr">exports</span>: [FormPersistDirective]<font></font>
})<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FormPersistModule</span> </span>{ }</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Elemen bentuk SNILS</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tugas apa yang ditugaskan padanya? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertama-tama, itu harus memvalidasi data.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">snilsValidator</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Angular memungkinkan Anda untuk melampirkan validator Anda untuk membentuk kontrol, dan inilah saatnya untuk membuat Anda sendiri. </font><font style="vertical-align: inherit;">Untuk memeriksa SNILS, saya menggunakan pustaka ru-validation-codes eksternal dan validator akan cukup sederhana. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">snils.validator.ts</font></font></b><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> { checkSnils } <span class="hljs-keyword">from</span> <span class="hljs-string">'ru-validation-codes'</span>;<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">snilsValidator</span>(<span class="hljs-params">control: AbstractControl</span>): <span class="hljs-title">ValidationErrors</span> | <span class="hljs-title">null</span> </span>{
  <span class="hljs-keyword">if</span> (control.value === <span class="hljs-string">''</span>  || control.value === <span class="hljs-literal">null</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<font></font>
  }<font></font>
<font></font>
  <span class="hljs-keyword">return</span> checkSnils(control.value)<font></font>
    ? <span class="hljs-literal">null</span>
    : { <span class="hljs-attr">snils</span>: <span class="hljs-string">'error'</span> };<font></font>
}</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Komponen InputSnilsComponent</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Templat komponen terdiri dari bidang input terbungkus, versi klasik dari perpustakaan Bahan Angular. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan satu tambahan kecil, masker input akan ditumpangkan pada input menggunakan perpustakaan eksternal ngx-mask, dari sini topeng parameter input - setel topeng dan dropSpecialCharacters - mematikan penghapusan karakter topeng khusus dari nilai. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lihat </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dokumentasi ngx-mask untuk</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> lebih jelasnya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berikut adalah </font><b><font style="vertical-align: inherit;">templat</font></b><font style="vertical-align: inherit;"> komponen </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">input-snils.component.html</font></font></b><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">mat-form-field</span> <span class="hljs-attr">appearance</span>=<span class="hljs-string">"outline"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
    <span class="hljs-attr">matInput</span>
    <span class="hljs-attr">autocomplete</span>=<span class="hljs-string">"snils"</span>
    [<span class="hljs-attr">formControl</span>]=<span class="hljs-string">"formControl"</span>
    [<span class="hljs-attr">mask</span>]=<span class="hljs-string">"mask"</span>
    [<span class="hljs-attr">dropSpecialCharacters</span>]=<span class="hljs-string">"false"</span>
    [<span class="hljs-attr">placeholder</span>]=<span class="hljs-string">"placeholder"</span>
    [<span class="hljs-attr">readonly</span>]=<span class="hljs-string">"readonly"</span>
    [<span class="hljs-attr">required</span>]=<span class="hljs-string">"required"</span>
    [<span class="hljs-attr">tabIndex</span>]=<span class="hljs-string">"tabIndex"</span>
  &gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">mat-error</span> [<span class="hljs-attr">hidden</span>]=<span class="hljs-string">"formControl | snilsErrors: 'required'"</span>&gt;</span>  <span class="hljs-tag">&lt;/<span class="hljs-name">mat-error</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">mat-error</span> [<span class="hljs-attr">hidden</span>]=<span class="hljs-string">"formControl | snilsErrors: 'format'"</span>&gt;</span>   <span class="hljs-tag">&lt;/<span class="hljs-name">mat-error</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">mat-error</span> [<span class="hljs-attr">hidden</span>]=<span class="hljs-string">"formControl | snilsErrors: 'snils'"</span>&gt;</span> <span class="hljs-tag">&lt;/<span class="hljs-name">mat-error</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">mat-form-field</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertanyaannya adalah, apa formControl ini | </font><font style="vertical-align: inherit;">snilsErrors? </font><font style="vertical-align: inherit;">Ini adalah pipa khusus untuk menampilkan kesalahan, sekarang kita akan membuatnya. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">snils-errors.pipe.ts</font></font></b><br>
<br>
<pre><code class="javascript hljs">type ErrorType = <span class="hljs-string">'required'</span> | <span class="hljs-string">'format'</span> | <span class="hljs-string">'snils'</span>;<font></font>
<font></font>
@Pipe({<font></font>
  <span class="hljs-attr">name</span>: <span class="hljs-string">'snilsErrors'</span>,
  <span class="hljs-attr">pure</span>: <span class="hljs-literal">false</span>,<font></font>
})<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SnilsErrorsPipe</span> <span class="hljs-title">implements</span> <span class="hljs-title">PipeTransform</span> </span>{<font></font>
<font></font>
  transform(control: AbstractControl, <span class="hljs-attr">errorrType</span>: ErrorType): boolean {
    <span class="hljs-keyword">switch</span> (errorrType) {
      <span class="hljs-keyword">case</span> <span class="hljs-string">'required'</span>: <span class="hljs-keyword">return</span> !control.hasError(<span class="hljs-string">'required'</span>);
      <span class="hljs-keyword">case</span> <span class="hljs-string">'format'</span>: <span class="hljs-keyword">return</span> !control.hasError(<span class="hljs-string">'Mask error'</span>);
      <span class="hljs-keyword">case</span> <span class="hljs-string">'snils'</span>: <span class="hljs-keyword">return</span> control.hasError(<span class="hljs-string">'Mask error'</span>) || !control.hasError(<span class="hljs-string">'snils'</span>);
      <span class="hljs-keyword">default</span>: <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<font></font>
    }<font></font>
  }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pipa tidak bersih, yang berarti akan dieksekusi setiap kali perubahan terdeteksi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pipe menerima parameter tipe kesalahan dan mendeteksi kesalahan tiga tipe:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "Diperlukan" - kesalahan ini berasal dari Angular directive RequiredValidator bawaan</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "Snils" - kesalahan ini berasal dari validator kami snilsValidator</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Mask error" - kesalahan ini dari arahan MaskDirective dari perpustakaan ngx-mask</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan mengembalikan nilai boolean - apakah ada kesalahan atau tidak. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang, mari kita lihat kode komponen </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">input-snils.component.ts itu sendiri</font></font></b><br>
<br>
<pre><code class="javascript hljs">@Component({
  <span class="hljs-attr">selector</span>: <span class="hljs-string">'app-input-snils'</span>,
  <span class="hljs-attr">templateUrl</span>: <span class="hljs-string">'./input-snils.component.html'</span>,
  <span class="hljs-attr">styleUrls</span>: [<span class="hljs-string">'./input-snils.component.css'</span>],
  <span class="hljs-attr">encapsulation</span>: ViewEncapsulation.None,
  <span class="hljs-attr">providers</span>: [<font></font>
    {<font></font>
      <span class="hljs-attr">provide</span>: NG_VALUE_ACCESSOR,
      <span class="hljs-attr">useExisting</span>: forwardRef(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> InputSnilsComponent),
      <span class="hljs-attr">multi</span>: <span class="hljs-literal">true</span><font></font>
    },<font></font>
    {<font></font>
      <span class="hljs-attr">provide</span>: NG_VALIDATORS,
      <span class="hljs-attr">useExisting</span>: forwardRef(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> InputSnilsComponent),
      <span class="hljs-attr">multi</span>: <span class="hljs-literal">true</span>,<font></font>
    },<font></font>
    {<font></font>
      <span class="hljs-attr">provide</span>: STATE_VALUE_ACCESSOR,
      <span class="hljs-attr">useExisting</span>: forwardRef(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> InputSnilsComponent),<font></font>
    },<font></font>
  ]<font></font>
})<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">InputSnilsComponent</span> <span class="hljs-title">implements</span> <span class="hljs-title">OnInit</span>, <span class="hljs-title">ControlValueAccessor</span>, <span class="hljs-title">StateValueAccessor</span>, <span class="hljs-title">OnDestroy</span> </span>{<font></font>
  public mask = <span class="hljs-string">'000-000-000 00'</span>;<font></font>
  public formControl = <span class="hljs-keyword">new</span> FormControl(<span class="hljs-string">''</span>, [snilsValidator]);<font></font>
  private sub = <span class="hljs-keyword">new</span> Subscription();<font></font>
<font></font>
  @Input() readonly: boolean;<font></font>
  @Input() placeholder = <span class="hljs-string">''</span>;<font></font>
  @Input() tabIndex = <span class="hljs-number">0</span>;<font></font>
  @Input() required: boolean;<font></font>
<font></font>
  private onChange = <span class="hljs-function">(<span class="hljs-params">value: any</span>) =&gt;</span> { };<font></font>
  private onTouched = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> { };<font></font>
  registerOnChange = <span class="hljs-function">(<span class="hljs-params">fn: (value: any</span>) =&gt;</span> {}) =&gt; <span class="hljs-keyword">this</span>.onChange = fn;<font></font>
  registerOnTouched = <span class="hljs-function">(<span class="hljs-params">fn: (</span>) =&gt;</span> {}) =&gt; <span class="hljs-keyword">this</span>.onTouched = fn;<font></font>
<font></font>
<font></font>
  ngOnInit() {<font></font>
    <span class="hljs-keyword">this</span>.sub = <span class="hljs-keyword">this</span>.linkForm();<font></font>
  }<font></font>
<font></font>
  ngOnDestroy() {<font></font>
    <span class="hljs-keyword">this</span>.sub.unsubscribe();<font></font>
  }<font></font>
<font></font>
  private linkForm(): Subscription {<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.formControl.valueChanges.subscribe(<span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> {
      <span class="hljs-keyword">this</span>.onTouched();
      <span class="hljs-keyword">this</span>.onChange(value);<font></font>
    });<font></font>
  }<font></font>
<font></font>
  writeValue(outsideValue: string): <span class="hljs-keyword">void</span> {
    <span class="hljs-keyword">if</span> (outsideValue) {
      <span class="hljs-keyword">this</span>.onTouched();<font></font>
    }<font></font>
    <span class="hljs-keyword">this</span>.formControl.setValue(outsideValue, { <span class="hljs-attr">emitEvent</span>: <span class="hljs-literal">false</span> });<font></font>
  }<font></font>
<font></font>
  setDisabledState(disabled: boolean) {<font></font>
    disabled<font></font>
      ? <span class="hljs-keyword">this</span>.formControl.disable()<font></font>
      : <span class="hljs-keyword">this</span>.formControl.enable();<font></font>
  }<font></font>
<font></font>
  validate(): ValidationErrors | <span class="hljs-literal">null</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.formControl.errors;<font></font>
  }<font></font>
<font></font>
  setPristineState(pristine: boolean) {<font></font>
    pristine<font></font>
      ? <span class="hljs-keyword">this</span>.formControl.markAsPristine()<font></font>
      : <span class="hljs-keyword">this</span>.formControl.markAsDirty();<font></font>
<font></font>
    <span class="hljs-keyword">this</span>.formControl.updateValueAndValidity({ <span class="hljs-attr">emitEvent</span>: <span class="hljs-literal">false</span> });<font></font>
  }<font></font>
<font></font>
  setTouchedState(touched: boolean) {<font></font>
    touched<font></font>
      ? <span class="hljs-keyword">this</span>.formControl.markAsTouched()<font></font>
      : <span class="hljs-keyword">this</span>.formControl.markAsUntouched();<font></font>
<font></font>
    <span class="hljs-keyword">this</span>.formControl.updateValueAndValidity({ <span class="hljs-attr">emitEvent</span>: <span class="hljs-literal">false</span> });<font></font>
  }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ada banyak hal dan saya tidak akan menjelaskan cara bekerja dengan ControlValueAccessor, Anda dapat membaca tentang ini di dokumentasi Angular, atau misalnya di sini </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tyapk.ru/blog/post/angular-custom-form-field-control</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Apa yang perlu penjelasan di sini? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertama, kami menggunakan kontrol internal form formControl, kami lampirkan perubahannya untuk mengirim perubahan nilai ke atas, melalui metode onChange dan onTouched. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan sebaliknya, perubahan pada formulir eksternal datang kepada kami melalui metode writeValue dan setDisabledState dan tercermin dalam formControl. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kedua, ada token STATE_VALUE_ACCESSOR yang tidak dikenal, antarmuka StateValueAccessor yang tidak diketahui dan beberapa metode setPristineState dan setTouchedState tambahan. Mereka akan dijelaskan nanti. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sementara itu, buat modul pribadi untuk komponen</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">input-snils.module.ts</font></font></b><br>
<br>
<pre><code class="javascript hljs">@NgModule({
  <span class="hljs-attr">declarations</span>: [InputSnilsComponent, SnilsErrorsPipe],
  <span class="hljs-attr">imports</span>: [<font></font>
    CommonModule,<font></font>
    MatFormFieldModule,<font></font>
    MatInputModule,<font></font>
    NgxMaskModule.forChild(),<font></font>
    ReactiveFormsModule,<font></font>
  ],<font></font>
  <span class="hljs-attr">exports</span>: [InputSnilsComponent],<font></font>
})<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">InputSnilsModule</span> </span>{ }</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Melewati status ke suatu item</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saat menggunakan ControlValueAccessor, ada nuansa berikut: Bentuk </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
reaktif telah menyentuh dan kondisi asli (selanjutnya hanya "menyatakan").</font></font><br>
 <br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">murni awalnya benar dan berubah menjadi false ketika nilai kontrol diubah dari templat</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> disentuh awalnya salah dan berubah menjadi true ketika kontrol kehilangan fokus</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mereka juga dapat diatur secara paksa, tetapi ini tidak akan mempengaruhi kontrol di dalam ControlValueAccessor, untuk komponen kami itu adalah formControl. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan kesalahan mat-error diberikan hanya ketika kontrol saat ini disentuh. Kami memiliki persyaratan bahwa formulir yang dipulihkan segera menampilkan kesalahan validasi, sehingga FormPersistDirective mengeksekusi markAllAsTouched jika nilai formulir telah dibaca dari localStorage. Tetapi mat-error tidak akan ditampilkan, karena mereka berada di dalam komponen ControlValueAccessor kami, mereka bergantung pada kontrol formControl, dan pada kontrol independen ini keadaan yang disentuh masih salah. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami membutuhkan mekanisme untuk melempar status ini. Untuk melakukan ini, Anda dapat membuat analog Anda sendiri dari ControlValueAccessor, sebut saja StateValueAccessor. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertama, Anda perlu membuat token dan antarmuka.</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">state-value-accessor.token.ts</font></font></b><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> STATE_VALUE_ACCESSOR = <span class="hljs-keyword">new</span> InjectionToken&lt;StateValueAccessor&gt;(<span class="hljs-string">'STATE_VALUE_ACCESSOR'</span>);</code></pre><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">state-value-accessor.interface.ts</font></font></b><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">export</span> interface StateValueAccessor {<font></font>
  setTouchedState?(touched: boolean): <span class="hljs-keyword">void</span>;<font></font>
  setPristineState?(pristine: boolean): <span class="hljs-keyword">void</span>;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Antarmuka menjelaskan persyaratan untuk kelas yang mengimplementasikannya memiliki (opsional) dua metode yang ditentukan. </font><font style="vertical-align: inherit;">Metode-metode ini diimplementasikan dalam InputSnilsComponent dan memaksa negara-negara ini pada formControl kontrol internal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maka Anda perlu arahan untuk mengikat NgControl dan komponen kami yang mengimplementasikan StateValueAccessor. </font><font style="vertical-align: inherit;">Tidak mungkin menentukan dengan tepat saat keadaan formulir berubah, tetapi kami tahu bahwa setiap kali formulir berubah, Angular menandai komponen sebagai menunggu siklus deteksi perubahan. </font><font style="vertical-align: inherit;">Komponen yang diuji dan turunannya menjalankan kait siklus hidup ngDoCheck, yang akan digunakan oleh arahan kami.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FormStatusesDirective</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Buat direktif </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">form-statuses.directive.ts</font></font></b><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> noop: <span class="hljs-function">(<span class="hljs-params">v?: boolean</span>) =&gt;</span> <span class="hljs-keyword">void</span> = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> { };<font></font>
<font></font>
@Directive({<font></font>
  <span class="hljs-attr">selector</span>: <span class="hljs-string">'[formControlName],[ngModel],[formControl]'</span> <span class="hljs-comment">// tslint:disable-line: directive-selector</span><font></font>
})<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FormStatusesDirective</span> <span class="hljs-title">implements</span> <span class="hljs-title">DoCheck</span>, <span class="hljs-title">OnInit</span> </span>{<font></font>
  private setSVATouched = noop;<font></font>
  private setSVAPristine = noop;<font></font>
<font></font>
  <span class="hljs-keyword">constructor</span>(<font></font>
    @Self() private control: NgControl,<font></font>
    @Self() @Optional()  @Inject(STATE_VALUE_ACCESSOR) private stateValueAccessor: StateValueAccessor,<font></font>
  ) { }<font></font>
<font></font>
  ngOnInit() {<font></font>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.stateValueAccessor?.setTouchedState) {
      <span class="hljs-keyword">this</span>.setSVATouched = wrapIfChanges(<span class="hljs-function"><span class="hljs-params">touched</span> =&gt;</span> <span class="hljs-keyword">this</span>.stateValueAccessor.setTouchedState(touched));<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.stateValueAccessor?.setPristineState) {
      <span class="hljs-keyword">this</span>.setSVAPristine = wrapIfChanges(<span class="hljs-function"><span class="hljs-params">pristine</span> =&gt;</span> <span class="hljs-keyword">this</span>.stateValueAccessor.setPristineState(pristine));<font></font>
    }<font></font>
  }<font></font>
<font></font>
  ngDoCheck() {<font></font>
    <span class="hljs-keyword">this</span>.setSVAPristine(<span class="hljs-keyword">this</span>.control.pristine);
    <span class="hljs-keyword">this</span>.setSVATouched(<span class="hljs-keyword">this</span>.control.touched);<font></font>
  }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
FormStatusesDirective ditumpangkan pada semua kontrol yang mungkin dan memeriksa keberadaan StateValueAccessor. </font><font style="vertical-align: inherit;">Untuk melakukan ini, ketergantungan opsional pada token STATE_VALUE_ACCESSOR diminta dari injektor, yang harus diperiksa oleh komponen yang mengimplementasikan StateValueAccessor. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika tidak ada yang ditemukan oleh token, maka tidak ada yang terjadi, metode setSVATouched dan setSVAPristine hanya akan fungsi kosong. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika StateValueAccessor ditemukan, maka metode setTouchedState dan setPristineState akan dipanggil untuk setiap perubahan status yang terdeteksi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tetap memberi arahan dengan modul untuk mengekspor </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">form-statuses.module.ts</font></font></b><br>
<br>
<pre><code class="javascript hljs">@NgModule({
  <span class="hljs-attr">declarations</span>: [FormStatusesDirective],
  <span class="hljs-attr">exports</span>: [FormStatusesDirective]<font></font>
})<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FormStatusesModule</span> </span>{ }</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Halaman Utama</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang Anda perlu membuat formulir itu sendiri. </font><font style="vertical-align: inherit;">Agar tidak membuat keributan, letakkan di halaman utama AppComponent. </font><font style="vertical-align: inherit;">Tentu saja, dalam aplikasi nyata, lebih baik membuat komponen terpisah untuk formulir. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Templat </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">App.component.html</font></font></b><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-wrapper"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">form</span>
    <span class="hljs-attr">class</span>=<span class="hljs-string">"form"</span>
    [<span class="hljs-attr">formGroup</span>]=<span class="hljs-string">"form"</span>
    <span class="hljs-attr">formPersist</span>=<span class="hljs-string">"inputSnils"</span>
  &gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">app-input-snils</span>
      <span class="hljs-attr">class</span>=<span class="hljs-string">"input-snils"</span>
      <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"snils"</span>
      [<span class="hljs-attr">required</span>]=<span class="hljs-string">"true"</span>
    &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">app-input-snils</span>&gt;</span><font></font>
<font></font>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
      <span class="hljs-attr">class</span>=<span class="hljs-string">"ready-button"</span>
      <span class="hljs-attr">mat-raised-button</span>
      [<span class="hljs-attr">disabled</span>]=<span class="hljs-string">"form.invalid"</span>
      <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>
    &gt;</span><font></font>
      Submit<font></font>
    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Arahan FormPersistDirective tergantung pada formulir, Angular mempelajarinya melalui pemilih form [formPersist]. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Templat harus dilengkapi dengan variabel, </font><b><font style="vertical-align: inherit;">mari</font></b><font style="vertical-align: inherit;"> lakukan </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">app.component.ts</font></font></b><br>
<br>
<pre><code class="javascript hljs">@Component({
  <span class="hljs-attr">selector</span>: <span class="hljs-string">'app-root'</span>,
  <span class="hljs-attr">templateUrl</span>: <span class="hljs-string">'./app.component.html'</span>,
  <span class="hljs-attr">styleUrls</span>: [<span class="hljs-string">'./app.component.css'</span>]<font></font>
})<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AppComponent</span> </span>{<font></font>
  public form = <span class="hljs-keyword">new</span> FormGroup({
    <span class="hljs-attr">snils</span>: <span class="hljs-keyword">new</span> FormControl(<span class="hljs-string">''</span>, [Validators.required])<font></font>
  });<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kode komponen dengan formulir keluar sangat sederhana dan tidak mengandung sesuatu yang berlebihan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini terlihat seperti ini: </font></font><br>
<img src="https://habrastorage.org/webt/qb/qa/ko/qbqakozek8aqxafpbojkbn3b65y.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kode sumber dapat diambil di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Demo pada </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stackblitz</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Kode pada stackblitz sedikit berbeda, karena fakta bahwa versi naskah tidak mendukung operator elvis. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selain itu, masih ada nuansa yang tidak tercermin dalam artikel, jika seseorang membutuhkannya, saya akan menambahkannya.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id491050/index.html">Pendaftaran untuk NeoQUEST-2020: World Open Pasca-Apokaliptik</a></li>
<li><a href="../id491052/index.html">Bagaimana dan mengapa kurator di St. Petersburg HSE membantu mahasiswa baru</a></li>
<li><a href="../id491054/index.html">Cara menandatangani korespondensi email dengan kunci GPG menggunakan token PKCS # 11</a></li>
<li><a href="../id491056/index.html">Ampere Altra - prosesor ARM 80-core pertama di dunia</a></li>
<li><a href="../id491058/index.html">Kematian, kematian, coronavirus dan matan</a></li>
<li><a href="../id491076/index.html">Bekerja pintar dengan RabbitMQ di NestJS</a></li>
<li><a href="../id491084/index.html">saneex.c: coba / tangkap / akhirnya berdasarkan setjmp / longjmp (C99) lebih cepat dari pengecualian C ++ standar ¹</a></li>
<li><a href="../id491086/index.html">Perpustakaan Webix JavaScript melalui mata seorang pemula. Bagian 6. Interaksi server</a></li>
<li><a href="../id491088/index.html">GitHub: Perpustakaan Open Source Baru untuk OSINT</a></li>
<li><a href="../id491090/index.html">Konversi dokumen teks ke xml dalam C #</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>