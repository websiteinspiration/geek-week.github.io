<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üç© üì≥ ü§∑üèæ Gesti√≥n de certificados SSL: del caos en cientos de servidores a una soluci√≥n centralizada ‚èØÔ∏è üßùüèª üêê</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="¬øQu√© puede estar detr√°s de las palabras "la escuela en l√≠nea m√°s grande de Europa"? Por un lado, esto es mil lecciones por hora, 10 mil maestros, 100 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Gesti√≥n de certificados SSL: del caos en cientos de servidores a una soluci√≥n centralizada</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/skyeng/blog/497432/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øQu√© puede estar detr√°s de las palabras "la escuela en l√≠nea m√°s grande de Europa"? </font><font style="vertical-align: inherit;">Por un lado, esto es mil lecciones por hora, 10 mil maestros, 100 mil estudiantes. </font><font style="vertical-align: inherit;">Y para m√≠, un ingeniero de infraestructura, esto tambi√©n incluye m√°s de 200 servidores, cientos de servicios (micro y no muy), nombres de dominio del segundo al sexto nivel. </font><font style="vertical-align: inherit;">En todas partes necesita SSL y, en consecuencia, un certificado para ello.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/sn/ha/dd/snhaddan7851uhnwtm7fjn8zste.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En su mayor parte, utilizamos los certificados Let's Encrypt. </font><font style="vertical-align: inherit;">Sus ventajas son que son gratuitas y el recibo est√° totalmente automatizado. </font><font style="vertical-align: inherit;">Por otro lado, tienen una caracter√≠stica: corta - solo tres meses - validez. </font><font style="vertical-align: inherit;">En consecuencia, deben actualizarse con frecuencia. </font><font style="vertical-align: inherit;">Intentamos automatizarlo de alguna manera, pero a√∫n hab√≠a mucho trabajo manual y algo se romp√≠a constantemente. </font><font style="vertical-align: inherit;">Hace un a√±o, se nos ocurri√≥ un m√©todo simple y confiable para actualizar este mont√≥n de certificados y desde entonces nos olvidamos de este problema.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">De un certificado en un servidor a cientos en varios centros de datos</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hab√≠a una vez un solo servidor. </font><font style="vertical-align: inherit;">Y en √©l viv√≠a un certbot, que trabajaba desde debajo de la corona. </font><font style="vertical-align: inherit;">Luego, un servidor dej√≥ de hacer frente a la carga, por lo que apareci√≥ otro servidor. </font><font style="vertical-align: inherit;">Y luego m√°s y m√°s. </font><font style="vertical-align: inherit;">Cada uno de ellos ten√≠a sus propios certificados con su propio conjunto √∫nico de nombres, y en todas partes era necesario configurar su actualizaci√≥n. </font><font style="vertical-align: inherit;">En alg√∫n lugar durante la extensi√≥n, copiaron los certificados existentes, pero olvidaron la actualizaci√≥n. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para obtener un certificado Let's Encrypt, debe confirmar la propiedad del nombre de dominio especificado en el certificado. </font><font style="vertical-align: inherit;">Esto generalmente se hace con una solicitud HTTP inversa.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/p8/vy/z3/p8vyz3i9qzoxvbfmxkev6rev8t8.png"></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aqu√≠ hay un par de dificultades est√°ndar que encontramos a medida que crec√≠amos:</font></font></b><br>
<br>
<ul>
<li>      :            .      . </li>
<li>     HTTP. ,  .    .   - LDAP.    - .      .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En algunos lugares, los certificados autofirmados se han utilizado durante bastante tiempo, y esto parec√≠a una buena soluci√≥n en aquellos lugares donde no se necesita autenticaci√≥n, por ejemplo, para pruebas internas. </font><font style="vertical-align: inherit;">Para evitar que el navegador informe constantemente sobre un "sitio sospechoso", solo necesita agregar nuestro certificado ra√≠z a la lista de confiables, y el punto est√° en el sombrero. </font><font style="vertical-align: inherit;">Pero aqu√≠ tambi√©n surgieron dificultades posteriores. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fr/mb/py/frmbpydq1rypmgjuwpz54phjjaa.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El problema es que en BrowserStack, que utilizan los probadores, es imposible agregar un certificado a la lista de confianza para al menos iPad, Mac, iPhone. </font><font style="vertical-align: inherit;">Por lo tanto, los evaluadores tuvieron que soportar advertencias emergentes constantemente sobre sitios peligrosos.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Busca una soluci√≥n</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por supuesto, antes que nada, debe hacer un monitoreo para averiguar acerca de los certificados que finalizan no cuando ya han finalizado, sino un poco antes. Oh bien. El monitoreo es que ahora sabemos que los certificados terminar√°n pronto aqu√≠ y all√°. ¬øY ahora qu√© puedo hacer? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/as/iw/tu/asiwtuhzz_az9aqy_lfwc2vohpq.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Big Ear es un viejo bot que no arruinar√° un certificado. </font></font></i><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øY usemos certificados comod√≠n?</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Vamos! Let's Encrypt ya los emite. Es cierto que deber√° configurar la confirmaci√≥n de la propiedad del dominio a trav√©s de DNS. Y nuestro DNS vive en AWS Route53. Y debe descomponer los detalles de acceso en AWS en todos los servidores. Y con la llegada de nuevos servidores, copie toda esta econom√≠a all√≠ tambi√©n.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bueno, los nombres de tercer nivel est√°n cubiertos por comodines. ¬øY qu√© hacer con los nombres del 4to nivel y superior? Tenemos muchos equipos que se dedican al desarrollo de diversos servicios. Ahora se acostumbra dividir el frontend y el backend. Y si el frontend obtiene un nombre de tercer nivel como </font></font><b><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">service.skyeng.ru</font></font></u></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , entonces el backend intenta dar el nombre </font></font><b><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">api.service.skyeng.ru</font></font></u></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Hmm, ¬øtal vez les proh√≠ben continuar haciendo esto? ¬°Gran idea! ¬øY qu√© hacer con docenas de los existentes? ¬øPodr√≠a ser con mano de hierro conducirlos a todos en un nombre de dominio? Reemplace todos estos nombres de diferentes niveles con URL como </font></font><b><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">skyeng.ru/service</font></font></u></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. T√©cnicamente, esta es una opci√≥n, pero ¬øcu√°nto tiempo lleva? ¬øY c√≥mo pueden las empresas justificar la necesidad de tales acciones? Tenemos m√°s de 30 equipos de desarrollo, cada uno persuade: llevar√° al menos seis meses. Y estamos creando un √∫nico punto de falla. Nos guste o no, esta es una decisi√≥n controvertida. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øQu√© otras ideas hay? .. ¬ø</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Tal vez se pueda hacer un certificado donde incluyamos todo-todo-todo? Y lo instalaremos en todos los servidores. Esta podr√≠a ser la soluci√≥n a nuestros problemas, pero Let's Encrypt le permite tener solo 100 nombres en el certificado, y ya tenemos m√°s de un microservicio.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øQu√© hacer con los probadores? </font><font style="vertical-align: inherit;">No se les ocurri√≥ nada, pero se quejan constantemente. </font><font style="vertical-align: inherit;">Toda la mierda excepto las abejas. </font><font style="vertical-align: inherit;">Las abejas tambi√©n son basura, pero hay muchas. </font><font style="vertical-align: inherit;">Cada desarrollador o evaluador recibe un servidor de prueba; los llamamos pruebas. </font><font style="vertical-align: inherit;">Las pruebas no son abejas, pero ya hay m√°s de cien. </font><font style="vertical-align: inherit;">Y para cada uno se implementan todos los proyectos. </font><font style="vertical-align: inherit;">Eso es todo. </font><font style="vertical-align: inherit;">Y si para la venta necesita N certificados, entonces hay la misma cantidad para cada prueba. </font><font style="vertical-align: inherit;">Hasta ahora, est√°n autofirmados. </font><font style="vertical-align: inherit;">Ser√≠a genial reemplazarlos por otros reales ...</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dos libros de jugadas y una fuente de verdad</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El cisne, el c√°ncer y el lucio no llevar√°n el carrito a ninguna parte. Necesitamos un solo </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">centro de</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> control del </font><font style="vertical-align: inherit;">servidor. En nuestro caso, esto es Ansible. Certbot en cada servidor es malo. Deje que todos los certificados se almacenen en un solo lugar. Si alguien necesita un certificado, ven a este lugar y toma la √∫ltima versi√≥n del estante. Y nos aseguraremos de que los certificados est√©n siempre actualizados en esta tienda. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los detalles de acceso de AWS tambi√©n est√°n presentes en un solo lugar. En consecuencia, las preguntas desaparecen, como configurar AWS CLI en un nuevo servidor, que tiene acceso a Route53 y similares. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todos los certificados requeridos se describen en un archivo en Ansible en formato YAML:</font></font><br>
<br>
<pre><code class="plaintext hljs">    certificates:<font></font>
      - common_name: skyeng.ru<font></font>
        alt_names:<font></font>
          - *.skyeng.ru<font></font>
      - common_name: olympiad.skyeng.ru<font></font>
        alt_names:<font></font>
          - *.olympiad.skyeng.ru<font></font>
          - api.content.olympiad.skyeng.ru<font></font>
          - games.skyeng.ru<font></font>
      - common_name: skyeng.tech<font></font>
        alt_names:<font></font>
          - *.skyeng.tech<font></font>
<font></font>
      .  .  .<font></font>
</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se lanza un libro de jugadas peri√≥dicamente,</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que pasa por esta lista y hace su trabajo duro, esencialmente lo mismo que certbot:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">crea una cuenta con Let's Encrypt Certificate Authority</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">genera una clave privada</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">genera un certificado (a√∫n no firmado): la llamada solicitud de firma de certificado</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">env√≠a una solicitud de firma</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">recibe un desaf√≠o de DNS</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pone los registros recibidos en DNS</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">env√≠a una solicitud de firma nuevamente</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y, despu√©s de haber recibido finalmente el certificado firmado, lo pone en la tienda.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El libro de jugadas se realiza una vez al d√≠a. </font><font style="vertical-align: inherit;">Si no pudo renovar ning√∫n certificado por alg√∫n motivo, ya sean problemas de red o algunos errores del lado de Let's Encrypt, esto no es un problema. </font><font style="vertical-align: inherit;">Se actualizar√° la pr√≥xima vez. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora, cuando se necesita SSL en alg√∫n host de servicio, puede ir a este repositorio y obtener algunos archivos desde all√≠, la operaci√≥n m√°s simple que realiza el segundo libro de jugadas ... Los certificados necesarios en este host se describen en los par√°metros de este host, en </font></font><b><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">inventarios / host_vars / server .yml</font></font></u></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="plaintext hljs">    certificates:<font></font>
      - common_name: skyeng.ru<font></font>
        handler: reload nginx<font></font>
      - common_name: crm.skyeng.ru<font></font>
<font></font>
      .  .  .<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si los archivos han cambiado, Ansible tira de un gancho; es t√≠pico reiniciar Nginx (en nuestro caso, esta es la acci√≥n predeterminada). </font><font style="vertical-align: inherit;">Y de la misma manera, puede obtener certificados de otras CA que utilizan el protocolo ACME.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Total</font></font></h3><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ten√≠amos muchas configuraciones diferentes. </font><font style="vertical-align: inherit;">Algo se romp√≠a constantemente. </font><font style="vertical-align: inherit;">A menudo ten√≠a que escalar servidores y descubrir qu√© se hab√≠a vuelto a caer.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ahora tenemos dos libros de jugadas y todo est√° grabado en un solo lugar. </font><font style="vertical-align: inherit;">Todo funciona como un reloj. </font><font style="vertical-align: inherit;">La vida se ha vuelto m√°s aburrida.</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pruebas</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
S√≠, ¬øqu√© pasa con los probadores con sus pruebas? </font><font style="vertical-align: inherit;">Cada desarrollador o evaluador recibe un servidor de prueba personal: prueba. </font><font style="vertical-align: inherit;">Actualmente hay alrededor de 200. Tienen nombres de la forma </font></font><b><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">test-y123.skyeng.link</font></font></u></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , donde </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">123</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> es el n√∫mero de prueba. </font><font style="vertical-align: inherit;">La creaci√≥n y eliminaci√≥n de pruebas est√° automatizada. </font><font style="vertical-align: inherit;">Uno de los componentes de la acci√≥n es la instalaci√≥n de un certificado SSL en √©l. </font><font style="vertical-align: inherit;">Se genera un certificado SSL por adelantado, con nombres por plantilla:</font></font><br>
<br>
<pre><code class="plaintext hljs">    ssl_cert_pattern:<font></font>
      - *<font></font>
      - *.auth<font></font>
      - *.bill<font></font>
<font></font>
      .  .  .<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Solo unos 30 nombres. </font><font style="vertical-align: inherit;">Entonces el certificado viene con nombres</font></font><br>
<br>
<pre><code class="plaintext hljs">    test-y123.skyeng.link<font></font>
    *.test-y123.skyeng.link<font></font>
    *.auth.test-y123.skyeng.link<font></font>
    *.bill.test-y123.skyeng.link<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
etc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despu√©s del despido del desarrollador o evaluador, se eliminan sus pruebas. </font><font style="vertical-align: inherit;">El certificado permanece listo para usar. </font><font style="vertical-align: inherit;">Es todo lo que se almacena. T√∫ mismo sabes d√≥nde se descompone en hosts; t√∫ mismo sabes c√≥mo.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PD</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Repositorio con c√≥digo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tambi√©n puede ser interesante leer sobre este tema </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://nickcraver.com/blog/2017/05/22/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c√≥mo Stack Overflow cambi√≥ a HTTPS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cientos de dominios de diferentes niveles.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Websockets</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Muchas API HTTP (problemas de proxy)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Haz todo y no pierdas rendimiento</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si tiene alguna pregunta, escriba los comentarios, estaremos encantados de responder.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es497414/index.html">Procesamiento de datos de red sobre la marcha</a></li>
<li><a href="../es497416/index.html">Toque Soporte en JavaScript</a></li>
<li><a href="../es497420/index.html">StegoPy - Herramienta de esteganograf√≠a LSB en Python</a></li>
<li><a href="../es497422/index.html">Cisco UCS a trav√©s de los ojos de un proveedor de la nube</a></li>
<li><a href="../es497428/index.html">C√≥mo aprendimos a dividir videos en escenas usando matem√°ticas inteligentes</a></li>
<li><a href="../es497434/index.html">Bicicleta est√°tica # Autoaislamiento o c√≥mo calmar a un ni√±o en cuarentena</a></li>
<li><a href="../es497436/index.html">Geeky Groving, o una granja de s√≥tano</a></li>
<li><a href="../es497438/index.html">C√≥mo el registrador verifica la disponibilidad de un nombre de dominio en el ejemplo de REG.RU</a></li>
<li><a href="../es497440/index.html">La estupidez es peor que el Pecheneg. Correo electr√≥nico registrado de Rusia</a></li>
<li><a href="../es497446/index.html">Alexander Iofa: "Liderar un gran equipo es caminar por el filo de un cuchillo"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>