<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ›… ğŸ¤´ğŸ¼ ğŸš• VMware vSAN 6.7-é›·å£°å¤§ä½œ ğŸ ğŸ¤°ğŸ¼ ğŸ§œğŸ¿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="2018å¹´å³å°†ç»“æŸ... 
 
 åœ¨ä¸€ä¸ªæ™´æœ—çš„12æœˆä¸€æ—¥ï¼Œæˆ‘ä»¬å…¬å¸å†³å®šè´­ä¹°æ–°ç¡¬ä»¶ã€‚ä¸ï¼Œå½“ç„¶ï¼Œè¿™ä¸æ˜¯ä¸€æœä¸€å¤•çš„äº‹ã€‚è¯¥å†³å®šæ˜¯è¾ƒæ—©åšå‡ºçš„ã€‚æ—©å¾—å¤šã€‚ä½†æ˜¯ï¼Œå’Œå¾€å¸¸ä¸€æ ·ï¼Œæˆ‘ä»¬çš„æ„¿æœ›å¹¶éæ€»æ˜¯ä¸è‚¡ä¸œçš„èƒ½åŠ›ç›¸å»åˆã€‚æ²¡æœ‰é’±äº†ï¼Œæˆ‘ä»¬åšæŒäº†ä¸‹æ¥ã€‚ä½†æœ€åï¼Œå½“æ”¶è´­è·å¾—å„çº§æ‰¹å‡†æ—¶ï¼Œé‚£æ¬¢ä¹çš„æ—¶åˆ»åˆ°æ¥äº†ã€‚ä¸€åˆ‡éƒ½å¾ˆå¥½ï¼Œç™½é¢†ä»¬ä¸ºä»–ä»¬é¼“æŒ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>VMware vSAN 6.7-é›·å£°å¤§ä½œ</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/487592/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2018å¹´å³å°†ç»“æŸ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨ä¸€ä¸ªæ™´æœ—çš„12æœˆä¸€æ—¥ï¼Œæˆ‘ä»¬å…¬å¸å†³å®šè´­ä¹°æ–°ç¡¬ä»¶ã€‚ä¸ï¼Œå½“ç„¶ï¼Œè¿™ä¸æ˜¯ä¸€æœä¸€å¤•çš„äº‹ã€‚è¯¥å†³å®šæ˜¯è¾ƒæ—©åšå‡ºçš„ã€‚æ—©å¾—å¤šã€‚ä½†æ˜¯ï¼Œå’Œå¾€å¸¸ä¸€æ ·ï¼Œæˆ‘ä»¬çš„æ„¿æœ›å¹¶éæ€»æ˜¯ä¸è‚¡ä¸œçš„èƒ½åŠ›ç›¸å»åˆã€‚æ²¡æœ‰é’±äº†ï¼Œæˆ‘ä»¬åšæŒäº†ä¸‹æ¥ã€‚ä½†æœ€åï¼Œå½“æ”¶è´­è·å¾—å„çº§æ‰¹å‡†æ—¶ï¼Œé‚£æ¬¢ä¹çš„æ—¶åˆ»åˆ°æ¥äº†ã€‚ä¸€åˆ‡éƒ½å¾ˆå¥½ï¼Œç™½é¢†ä»¬ä¸ºä»–ä»¬é¼“æŒé¼“æŒï¼Œä»–ä»¬åŒå€¦äº†åœ¨ä½¿ç”¨7å¹´çš„æ—§æœåŠ¡å™¨ä¸Šæ¯æœˆå¤„ç†25ä¸ªå°æ—¶çš„æ–‡æ¡£çš„çƒ¦æ¼ï¼Œä»–ä»¬éå¸¸åšæŒåœ°è¦æ±‚ITéƒ¨é—¨æå‡ºä¸€äº›å»ºè®®ï¼Œè®©ä»–ä»¬æœ‰æ›´å¤šçš„æ—¶é—´æ¥å¤„ç†å…¶ä»–åŒæ ·é‡è¦çš„äº‹æƒ…ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬æ‰¿è¯ºå°†æ–‡ä»¶å¤„ç†æ—¶é—´å‡å°‘3å€ï¼Œæœ€å¤š8ä¸ªå°æ—¶ã€‚</font><font style="vertical-align: inherit;">ä¸ºæ­¤ï¼Œä»å¤§ç‚®å‘å°„äº†ä¸€åªéº»é›€ã€‚</font><font style="vertical-align: inherit;">è¯¥é€‰é¡¹ä¼¼ä¹æ˜¯å”¯ä¸€çš„é€‰æ‹©ï¼Œå› ä¸ºæˆ‘ä»¬çš„å›¢é˜Ÿæ²¡æœ‰ï¼Œä¹Ÿæ²¡æœ‰æ•°æ®åº“ç®¡ç†å‘˜æ¥åº”ç”¨å„ç§æŸ¥è¯¢ä¼˜åŒ–ï¼ˆDBAï¼‰ã€‚</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ‰€é€‰è®¾å¤‡çš„é…ç½®å½“ç„¶å¾ˆé«˜ã€‚</font><font style="vertical-align: inherit;">è¿™æ˜¯</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HPE</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å…¬å¸çš„ä¸‰å°æœåŠ¡å™¨</font><font style="vertical-align: inherit;">-DL560 Gen10ã€‚</font><font style="vertical-align: inherit;">ä»–ä»¬æ¯ä¸ªäººéƒ½æ‹¥æœ‰4ä¸ªå…·æœ‰26ä¸ªå†…æ ¸ï¼Œ256ä¸ªDDR4 RAMçš„Intel Xeon Platinum 8164 2.0Ghzå¤„ç†å™¨ä»¥åŠ8ä¸ªSSD 800Gb SASï¼ˆ800Gb WD Ultrastar DC SS530 WUSTR6480ASS204 SSDï¼‰+ 8ä¸ª1.92Tb SSDï¼ˆWestern Digital Ultrastar DC SS530 ï¼‰</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿™äº›â€œé“æ†â€æ—¨åœ¨ç”¨äºVMwareç¾¤é›†ï¼ˆHA + DRS + vSANï¼‰ã€‚åœ¨ç¬¬7ä»£å’Œç¬¬8ä»£çš„ç±»ä¼¼æœåŠ¡å™¨ï¼ˆä¹Ÿæ¥è‡ªHPEï¼‰ä¸Šï¼Œä¸æˆ‘ä»¬åˆä½œäº†è¿‘3å¹´ã€‚é¡ºä¾¿è¯´ä¸€å¥ï¼Œç›´åˆ°HPEæ‹’ç»æ”¯æŒå®ƒä»¬å¹¶å°†ESXiä»6.0ç‰ˆæœ¬å‡çº§åˆ°6.5ï¼Œå¹¶ä¸”æ²¡æœ‰é“ƒé¼“çš„æƒ…å†µä¸‹ï¼Œå®ƒæ‰å‡ºç°é—®é¢˜ã€‚å¥½å§ï¼Œå› æ­¤ï¼Œæœ‰å¯èƒ½è¿›è¡Œæ›´æ–°ã€‚é€šè¿‡æ›´æ”¹å®‰è£…æ˜ åƒï¼Œä»å®‰è£…æ˜ åƒä¸­åˆ é™¤ä¸å…¼å®¹çš„é—®é¢˜æ¨¡å—ç­‰ã€‚è¿™ä¹Ÿå¢åŠ äº†æˆ‘ä»¬æ¸´æœ›åŒ¹é…æ‰€æœ‰æ–°äº‹ç‰©çš„çƒ­æƒ…ã€‚å½“ç„¶ï¼Œå¦‚æœä¸æ˜¯è¦ä½¿ç”¨æ–°çš„vSANâ€œæŠ€å·§â€ï¼Œé‚£ä¹ˆåœ¨æ£ºæä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†æ•´ä¸ªç³»ç»Ÿä»6.0ç‰ˆæ›´æ–°åˆ°è¾ƒæ–°ç‰ˆæœ¬çš„æƒ…å†µï¼Œå› æ­¤æ— éœ€æ’°å†™æ–‡ç« ï¼Œä½†æ˜¯æˆ‘ä»¬å¹¶æ²¡æœ‰åœ¨å¯»æ‰¾ç®€å•çš„æ–¹æ³•...</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å› æ­¤ï¼Œæˆ‘ä»¬è´­ä¹°äº†è¯¥è®¾å¤‡ï¼Œå¹¶å†³å®šæ›´æ¢å·²è¿‡æ—¶çš„è®¾å¤‡ã€‚æˆ‘ä»¬å°†æœ€åä¸€ä¸ª</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SPP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åº”ç”¨äºæ¯å°æ–°æœåŠ¡å™¨ï¼Œåœ¨æ¯å°æ–°æœåŠ¡å™¨ä¸­å‡å®‰è£…äº†ä¸¤ä¸ªä»¥å¤ªç½‘10Gç½‘å¡ï¼ˆä¸€ä¸ªç”¨äºç”¨æˆ·ç½‘ç»œï¼Œç¬¬äºŒä¸ªç”¨äºSANï¼Œ656596-B21 HPä»¥å¤ªç½‘10Gb 2ç«¯å£530Tï¼‰ã€‚æ˜¯çš„ï¼Œæ¯å°æ–°æœåŠ¡å™¨éƒ½é™„å¸¦ä¸€ä¸ªä¸å¸¦æ¨¡å—çš„SFP +ç½‘å¡ï¼Œä½†æ˜¯æˆ‘ä»¬çš„ç½‘ç»œåŸºç¡€ç»“æ„æš—ç¤ºäº†ä»¥å¤ªç½‘ï¼ˆä¸¤å ç”¨äºLANå’ŒSANç½‘ç»œçš„DELL 4032Näº¤æ¢æœºï¼‰ï¼Œè«æ–¯ç§‘çš„HPåˆ†é”€å•†æ²¡æœ‰HPE 813874-B21æ¨¡å—ï¼Œæˆ‘ä»¬ä»–ä»¬æ²¡æœ‰ç­‰å¾…ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å½“éœ€è¦å®‰è£…ESXiå¹¶å°†æ–°èŠ‚ç‚¹åˆå¹¶åˆ°é€šç”¨VMwareæ•°æ®ä¸­å¿ƒæ—¶ï¼Œå‘ç”Ÿäº†â€œå¥‡è¿¹â€ã€‚äº‹å®è¯æ˜ï¼ŒHPE ESXi Custom ISOç‰ˆæœ¬6.5åŠä»¥ä¸‹ç‰ˆæœ¬ä¸é€‚åˆå®‰è£…åœ¨æ–°çš„Gen10æœåŠ¡å™¨ä¸Šã€‚ä»…é“æ†ï¼Œåªæœ‰6.7ã€‚è€Œä¸”ï¼Œæˆ‘ä»¬ä¸å¾—ä¸ä¸ç»æ„åœ°éµå¾ªâ€œè™šæ‹Ÿå…¬å¸â€çš„æˆ’å¾‹ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„HA + DRSç¾¤é›†ï¼Œåˆ›å»ºäº†ä¸€ä¸ªvSANç¾¤é›†ï¼Œæ‰€æœ‰è¿™äº›éƒ½ä¸¥æ ¼éµå®ˆVMware HCLå’Œ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœ¬æ–‡æ¡£</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚ä¸€åˆ‡éƒ½æ˜¯æ ¹æ®é£æ°´é…ç½®çš„ï¼Œåªæœ‰å®šæœŸçš„``è­¦æŠ¥''å¯ç–‘åœ°ç›‘è§†vSANä¸­æœ‰å…³éé›¶å‚æ•°å€¼çš„è¿™ä¸€éƒ¨åˆ†ï¼š</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/800/65a/ff5/80065aff58945762f1660b556d61216e.png" alt="å›¾ç‰‡"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬å®‰å¿ƒåœ°å°†æ‰€æœ‰è™šæ‹Ÿæœºï¼ˆçº¦50ä¸ªï¼‰ç§»è‡³æ–°æœåŠ¡å™¨å’ŒåŸºäºSSDç£ç›˜æ„å»ºçš„æ–°vSANå­˜å‚¨å™¨ï¼Œæˆ‘ä»¬æ£€æŸ¥äº†æ–°ç¯å¢ƒä¸­æ–‡æ¡£å¤„ç†çš„æ€§èƒ½ï¼ˆé¡ºä¾¿è¯´ä¸€å¥ï¼Œäº‹å®è¯æ˜ï¼Œè¿™æ¯”è®¡åˆ’èŠ‚çœäº†æ›´å¤šæ—¶é—´ï¼‰ ã€‚åœ¨å°†æœ€ç¹é‡çš„åŸºåœ°è½¬ç§»åˆ°æ–°é›†ç¾¤ä¹‹å‰ï¼Œæœ¬æ–‡å¼€å¤´æåˆ°çš„æ“ä½œå¤§çº¦éœ€è¦4ä¸ªå°æ—¶ï¼Œè€Œä¸æ˜¯25ä¸ªå°æ—¶ï¼è¿™æ˜¯è¯¥è¿‡ç¨‹ä¸­æ‰€æœ‰å‚ä¸è€…çš„æ–°å¹´å¿ƒæƒ…çš„é‡è¦è´¡çŒ®ã€‚æœ‰äº›äººå¯èƒ½å¼€å§‹æ¢¦æƒ³è·å¾—å¥–å“ã€‚ç„¶åæ¯ä¸ªäººéƒ½å¿«ä¹åœ°ç¦»å¼€äº†æ–°å¹´å‡æœŸã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å½“æ–°å¹´2019çš„å·¥ä½œæ—¥å¼€å§‹æ—¶ï¼Œæ²¡æœ‰ä»€ä¹ˆé¢„ç¤ºç€ç¾éš¾ã€‚æ¯«ä¸å¤¸å¼ åœ°å°†æ‰€æœ‰æœåŠ¡è½¬ç§»åˆ°æ–°çš„å®¹é‡ä¸Šï¼Œä¸€åˆ‡éƒ½å¼€å§‹äº†ï¼åªæœ‰å¯¹è±¡çš„é‡æ–°åŒæ­¥éƒ¨åˆ†ä¸­çš„äº‹ä»¶æ‰æ›´å¤šã€‚å‡ å‘¨åå‘ç”Ÿäº†éº»çƒ¦ã€‚åœ¨æ¸…æ™¨ï¼Œå…¬å¸çš„å‡ ä¹æ‰€æœ‰å…³é”®æœåŠ¡ï¼ˆ1sï¼ŒMSSQLï¼ŒSMBï¼ŒExchangeç­‰ï¼‰éƒ½åœæ­¢å“åº”ï¼Œæˆ–å¼€å§‹å“åº”å¾ˆé•¿æ—¶é—´ã€‚æ•´ä¸ªåŸºç¡€è®¾æ–½é™·å…¥æ··ä¹±ï¼Œæ²¡äººçŸ¥é“å‘ç”Ÿäº†ä»€ä¹ˆäº‹å’Œåšä»€ä¹ˆã€‚ vCenterä¸­çš„æ‰€æœ‰è™šæ‹Ÿæœºå‡æ˜¾ç¤ºä¸ºâ€œç»¿è‰²â€ï¼Œå…¶ç›‘æ§æ²¡æœ‰é”™è¯¯ã€‚é‡æ–°å¯åŠ¨æ²¡æœ‰å¸®åŠ©ã€‚æ­¤å¤–ï¼Œé‡æ–°å¼•å¯¼åï¼ŒæŸäº›è®¡ç®—æœºç”šè‡³æ— æ³•å¼•å¯¼ï¼Œä»è€Œåœ¨æ§åˆ¶å°ä¸­æ˜¾ç¤ºå„ç§å¤„ç†é”™è¯¯ã€‚åœ°ç‹±ä¼¼ä¹æ¥äº†ï¼Œé­”é¬¼æ­£åœ¨æœŸå¾…ä»–çš„åŒæ‰‹ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨ä¸¥é‡çš„å‹åŠ›ä¸‹ï¼Œæœ‰å¯èƒ½ç¡®å®šç¾éš¾çš„æ ¹æºã€‚åŸæ¥ï¼Œæ­¤é—®é¢˜æ˜¯vSANåˆ†å¸ƒå¼å­˜å‚¨ã€‚ä¹ä¸€çœ‹ï¼Œè™šæ‹Ÿæœºç£ç›˜ä¸Šå‘ç”Ÿäº†ä¸å—æ§åˆ¶çš„æ•°æ®æŸå-è¿™æ˜¯æ²¡æœ‰åŸå› çš„ã€‚å½“æ—¶ï¼Œå”¯ä¸€åˆç†çš„è§£å†³æ–¹æ¡ˆæ˜¯å¤§å£°ç–¾å‘¼åœ°è”ç³»VMwareæŠ€æœ¯æ”¯æŒï¼šSOSï¼Œä¿å­˜å¸®åŠ©ï¼</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
éšåï¼Œè¯¥å†³å®šä½¿å…¬å¸å…äºä¸¢å¤±ç›¸å…³æ•°æ®ï¼ŒåŒ…æ‹¬å‘˜å·¥é‚®ç®±ï¼Œæ•°æ®åº“å’Œå…±äº«æ–‡ä»¶ã€‚æˆ‘ä»¬åœ¨ä¸€èµ·è°ˆè®ºçš„æ˜¯30 TBä»¥ä¸Šçš„ä¿¡æ¯ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»–æœ‰ä¹‰åŠ¡å‘æœªä¸åŸºæœ¬æŠ€æœ¯æ”¯æŒè®¢é˜…è€…â€œè¸¢è¶³çƒâ€çš„VMwareæ”¯æŒäººå‘˜è‡´æ•¬ï¼Œä½†æ­¤æ¡ˆä¾‹åŒ…æ‹¬åœ¨Enterpiseç»†åˆ†ä¸­ï¼Œå¹¶ä¸”æµç¨‹æ—¥ä»¥ç»§å¤œåœ°è¿›è¡Œã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¥ä¸‹æ¥å‘ç”Ÿäº†ä»€ä¹ˆï¼š</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VMwareæŠ€æœ¯æ”¯æŒæå‡ºäº†ä¸¤ä¸ªä¸»è¦é—®é¢˜ï¼šå¦‚ä½•æ¢å¤æ•°æ®ä»¥åŠå¦‚ä½•è§£å†³â€œ vSANâ€æˆ˜æ–—é›†ç¾¤ä¸­è™šæ‹Ÿæœºç£ç›˜ä¸­çš„â€œè™šæ‹Ÿâ€æ•°æ®æŸåé—®é¢˜ã€‚</font><font style="vertical-align: inherit;">é¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œæ•°æ®æ— å¤„å¯å¯»ï¼Œå› ä¸ºé¢å¤–çš„å­˜å‚¨ç©ºé—´å·²è¢«å¤‡ä»½å‰¯æœ¬å ç”¨ï¼Œå¹¶ä¸”æ ¹æœ¬æ²¡æœ‰åœ°æ–¹å¯ä»¥éƒ¨ç½²â€œæˆ˜æ–—â€æœåŠ¡ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å½“æˆ‘ä¸VMwareä¸€èµ·è¯•å›¾å°†vSANç¾¤é›†ä¸­çš„â€œæŸåâ€å¯¹è±¡æ”¾åœ¨ä¸€èµ·æ—¶ï¼Œæˆ‘çš„åŒäº‹ä»¬ç´§æ€¥åœ°æŒ–æ˜äº†ä¸€ä¸ªæ–°çš„å­˜å‚¨ï¼Œè¯¥å­˜å‚¨å¯ä»¥å®¹çº³å…¬å¸æ‰€æœ‰30 TBä»¥ä¸Šçš„æ•°æ®ã€‚</font></font></li>
<li>  ,   ,     VMware      ,           ,     Â«Â»      - -   .         , ? </li>
<li>        .</li>
<li> ,  Â« Â»   .</li>
<li>          ,   ,   Â«Â»        .</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘ä¸å¾—ä¸æš‚æ—¶ï¼ˆå‡ å¤©ï¼‰ç‰ºç‰²é‚®ä»¶çš„æ•ˆç‡ï¼Œä»¥ä¾¿åœ¨å•†åº—ä¸­å†å¢åŠ 6 TBçš„å¯ç”¨ç©ºé—´ï¼Œä»¥å¯åŠ¨å…¬å¸æ”¶å…¥æ‰€ä¾èµ–çš„å…³é”®æœåŠ¡ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸æ¥è‡ªVMwareçš„è®²è‹±è¯­çš„åŒäº‹æˆåƒä¸Šä¸‡çš„èŠå¤©çƒ­çº¿è¢«â€œä¿å­˜ä¸‹æ¥â€ï¼Œè¿™æ˜¯æˆ‘ä»¬å¯¹è¯çš„ç®€çŸ­æ‘˜å½•ï¼š</font></font></li>
</ol><br>
<pre><code class="plaintext">I understood that you are now migrating all the VMs out of vSAN datastore.<font></font>
May I know, how the migration task is going on.? How many VMs left and how much time is expected to migrate the remaining VMs. ?<font></font>
There are 6 vms still need to be migrated. 1 of them is fail so far.<font></font>
How much time is expected to complete the migration for the working VMs..?<font></font>
I think atleast 2-3 hours<font></font>
ok<font></font>
Can you please SSH to vCenter server ?<font></font>
you on it<font></font>
/localhost/Datacenter ###CLUB/computers/###Cluster&gt; vsan.check_state .<font></font>
2019-02-02 05:22:34 +0300: Step 1: Check for inaccessible vSAN objects<font></font>
Detected 3 objects to be inaccessible<font></font>
Detected 7aa2265c-6e46-2f49-df40-20677c0084e0 on esxi-dl560-gen10-2.####.lan to be inaccessible<font></font>
Detected 99c3515c-bee0-9faa-1f13-20677c038dd8 on esxi-dl560-gen10-3.####.lan to be inaccessible<font></font>
Detected f1ca455c-d47e-11f7-7e90-20677c038de0 on esxi-dl560-gen10-1.####.lan to be inaccessible<font></font>
2019-02-02 05:22:34 +0300: Step 2: Check for invalid/inaccessible VMs<font></font>
Detected VM 'i.#####.ru' as being 'inaccessible'<font></font>
2019-02-02 05:22:34 +0300: Step 3: Check for VMs for which VC/hostd/vmx are out of sync<font></font>
Did not find VMs for which VC/hostd/vmx are out of sync<font></font>
/localhost/Datacenter ###CLUB/computers/###Cluster&gt;<font></font>
Thank you<font></font>
second vm with issues: sd.####.ru</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿™ä¸ªé—®é¢˜æ˜¯å¦‚ä½•è¡¨ç°çš„ï¼ˆé™¤äº†åšå®šä¸ç§»çš„ç»„ç»‡æœåŠ¡ä¹‹å¤–ï¼‰ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨HBAæ¨¡å¼ä¸‹ä¸ç£ç›˜è¿›è¡Œæ•°æ®äº¤æ¢æœŸé—´ï¼Œæ ¡éªŒå’Œé”™è¯¯ï¼ˆCRCï¼‰å‘ˆæŒ‡æ•°å¢é•¿ã€‚</font><font style="vertical-align: inherit;">å¦‚ä½•æ£€æŸ¥è¿™ä¸€ç‚¹-åœ¨æ¯ä¸ªESXièŠ‚ç‚¹çš„æ§åˆ¶å°ä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</font></font><br>
<br>
<pre><code class="cs">while true; do clear; for disk in $(localcli vsan storage list | grep -B10 'ity Tier: tr' |grep "VSAN UUID"|awk '{print $3}'|sort -u);do echo ==DISK==$disk====;vsish -e get /vmkModules/lsom/disks/$disk/checksumErrors | grep -v ':0';done; sleep 3; done</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä½œä¸ºæ‰§è¡Œçš„ç»“æœï¼Œæ‚¨å¯ä»¥çœ‹åˆ°æ­¤èŠ‚ç‚¹çš„vSANç¾¤é›†ä¸­æ¯ä¸ªç£ç›˜çš„CRCé”™è¯¯ï¼ˆä¸ä¼šæ˜¾ç¤ºé›¶å€¼ï¼‰ã€‚</font><font style="vertical-align: inherit;">å¦‚æœæ‚¨æ‹¥æœ‰æ­£å€¼ï¼Œè€Œä¸”å®ƒä»¬åœ¨ä¸æ–­å¢é•¿ï¼Œé‚£ä¹ˆåœ¨é›†ç¾¤çš„Monitor-&gt; vSAN-&gt; Resincing objectséƒ¨åˆ†ä¸­æœ‰ä¸€ä¸ªä¸æ–­å‡ºç°ä»»åŠ¡çš„åŸå› ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¦‚ä½•æ¢å¤æœªé€šè¿‡æ ‡å‡†æ–¹å¼å…‹éš†æˆ–è¿ç§»çš„è™šæ‹Ÿæœºçš„ç£ç›˜ï¼Ÿ</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è°ä¼šæƒ³åˆ°ä½¿ç”¨åŠŸèƒ½å¼ºå¤§çš„catå‘½ä»¤ï¼š</font></font><br>
<br>
<pre><code class="bash">1. cd      vSAN<font></font>
[root@esxi-dl560-gen10-1:~] cd /vmfs/volumes/vsanDatastore/estaff<font></font>
<font></font>
2. grep vmdk     uuid<font></font>
<font></font>
[root@esxi-dl560-gen10-1:/vmfs/volumes/vsan:52f53dfd12dddc84-f712dbefac32cd1a/2636a75c-e8f1-d9ca-9a00-20677c0084e0] grep vsan *vmdk<font></font>
estaff.vmdk:RW 10485760 VMFS "vsan://3836a75c-d2dc-5f5d-879c-20677c0084e0"<font></font>
estaff_1.vmdk:RW 41943040 VMFS "vsan://3736a75c-e412-a6c8-6ce4-20677c0084e0"<font></font>
[root@esxi-dl560-gen10-1:/vmfs/volumes/vsan:52f53dfd12dddc84-f712dbefac32cd1a/2636a75c-e8f1-d9ca-9a00-20677c0084e0]<font></font>
<font></font>
3.    VM  ,  :<font></font>
<font></font>
mkdir /vmfs/volumes/POWERVAULT/estaff<font></font>
<font></font>
4.   vmx  <font></font>
<font></font>
cp *vmx *vmdk /vmfs/volumes/POWERVAULT/estaff<font></font>
<font></font>
5.      ,      ^_^<font></font>
<font></font>
/usr/lib/vmware/osfs/bin/objtool open -u 3836a75c-d2dc-5f5d-879c-20677c0084e0; sleep 1; cat /vmfs/devices/vsan/3836a75c-d2dc-5f5d-879c-20677c0084e0 &gt;&gt; /vmfs/volumes/POWERVAULT/estaff/estaff-flat.vmdk<font></font>
<font></font>
6. cd   :<font></font>
<font></font>
 cd /vmfs/volumes/POWERVAULT/estaff<font></font>
<font></font>
7.    - estaff.vmdk     <font></font>
<font></font>
[root@esxi-dl560-gen10-1:/tmp] cat estaff.vmdk<font></font>
# Disk DescriptorFile<font></font>
version=4<font></font>
encoding="UTF-8"<font></font>
CID=a7bb7cdc<font></font>
parentCID=ffffffff<font></font>
createType="vmfs"<font></font>
<font></font>
# Extent description<font></font>
RW 10485760 VMFS "vsan://3836a75c-d2dc-5f5d-879c-20677c0084e0"      &lt;&lt;&lt;&lt;&lt;     "estaff-flat.vmdk"<font></font>
<font></font>
# The Disk Data Base<font></font>
#DDB<font></font>
<font></font>
ddb.adapterType = "ide"<font></font>
ddb.deletable = "true"<font></font>
ddb.geometry.cylinders = "10402"<font></font>
ddb.geometry.heads = "16"<font></font>
ddb.geometry.sectors = "63"<font></font>
ddb.longContentID = "6379fa7fdf6009c344bd9a64a7bb7cdc"<font></font>
ddb.thinProvisioned = "1"<font></font>
ddb.toolsInstallType = "1"<font></font>
ddb.toolsVersion = "10252"<font></font>
ddb.uuid = "60 00 C2 92 c7 97 ca ae-8d da 1c e2 3c df cf a5"<font></font>
ddb.virtualHWVersion = "8"<font></font>
[root@esxi-dl560-gen10-1:/tmp]</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¦‚ä½•è¯†åˆ«ç£ç›˜ç»„ä¸­çš„naa.xxxx ...ç£ç›˜ï¼š</font></font><br>
<br>
<pre><code class="bash">[root@esxi-dl560-gen10-1:/vmfs/volumes] vdq -Hi<font></font>
Mappings:<font></font>
   DiskMapping[0]:<font></font>
           SSD:  naa.5000c5003024eb43<font></font>
            MD:  naa.5000cca0aa0025f4<font></font>
            MD:  naa.5000cca0aa00253c<font></font>
            MD:  naa.5000cca0aa0022a8<font></font>
            MD:  naa.5000cca0aa002500<font></font>
<font></font>
   DiskMapping[2]:<font></font>
           SSD:  naa.5000c5003024eb47<font></font>
            MD:  naa.5000cca0aa002698<font></font>
            MD:  naa.5000cca0aa0029c4<font></font>
            MD:  naa.5000cca0aa002950<font></font>
            MD:  naa.5000cca0aa0028cc<font></font>
<font></font>
   DiskMapping[4]:<font></font>
           SSD:  naa.5000c5003024eb4f<font></font>
            MD:  naa.5000c50030287137<font></font>
            MD:  naa.5000c50030287093<font></font>
            MD:  naa.5000c50030287027<font></font>
            MD:  naa.5000c5003024eb5b<font></font>
            MD:  naa.5000c50030287187<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¦‚ä½•æ‰¾å‡ºæ¯ä¸ªnaaçš„vUAN UUID ....ï¼š</font></font><br>
<br>
<pre><code class="bash">[root@esxi-dl560-gen10-1:/vmfs/volumes] localcli vsan storage list | grep -B15 'ity Tier: tr' | grep -E '^naa|VSAN UUID'<font></font>
<font></font>
naa.5000cca0aa002698:<font></font>
   VSAN UUID: 52247b7d-fed5-a2f2-a2e8-5371fa7ef8ed<font></font>
naa.5000cca0aa0029c4:<font></font>
   VSAN UUID: 52309c55-3ecc-3fe8-f6ec-208701d83813<font></font>
naa.5000c50030287027:<font></font>
   VSAN UUID: 523d7ea5-a926-3acd-2d58-0c1d5889a401<font></font>
naa.5000cca0aa0022a8:<font></font>
   VSAN UUID: 524431a2-4291-cb49-7070-8fa1d5fe608d<font></font>
naa.5000c50030287187:<font></font>
   VSAN UUID: 5255739f-286c-8808-1ab9-812454968734<font></font>
naa.5000cca0aa0025f4: &lt;&lt;&lt;&lt;&lt;&lt;&lt;<font></font>
   VSAN UUID: 52b1d17e-02cc-164b-17fa-9892df0c1726<font></font>
naa.5000cca0aa00253c:<font></font>
   VSAN UUID: 52bd28f3-d84e-e1d5-b4dc-54b75456b53f<font></font>
naa.5000cca0aa002950:<font></font>
   VSAN UUID: 52d6e04f-e1af-cfb2-3230-dd941fd8a032<font></font>
naa.5000c50030287137:<font></font>
   VSAN UUID: 52df506a-36ea-f113-137d-41866c923901<font></font>
naa.5000cca0aa002500:<font></font>
   VSAN UUID: 52e2ce99-1836-c825-6600-653e8142e10f<font></font>
naa.5000cca0aa0028cc:<font></font>
   VSAN UUID: 52e89346-fd30-e96f-3bd6-8dbc9e9b4436<font></font>
naa.5000c50030287093:<font></font>
   VSAN UUID: 52ecacbe-ef3b-aa6e-eba3-6e713a0eb3b2<font></font>
naa.5000c5003024eb5b:<font></font>
   VSAN UUID: 52f1eecb-befa-12d6-8457-a031eacc1cab</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æœ€é‡è¦çš„æ˜¯ </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åŸæ¥ï¼Œé—®é¢˜æ˜¯RAIDæ§åˆ¶å™¨çš„å›ºä»¶å’Œå¸¦æœ‰vSANçš„HPEé©±åŠ¨ç¨‹åºçš„æ“ä½œä¸æ­£ç¡®ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»¥å‰ï¼Œåœ¨VMware 6.7 U1ä¸­ï¼Œç”¨äºvSAN HCLä¸­çš„HPE Smart Array P816i-a SR Gen10æ§åˆ¶å™¨çš„å…¼å®¹å›ºä»¶æ˜¯1.98ç‰ˆï¼ˆè¿™å¯¹æˆ‘ä»¬çš„ç»„ç»‡æ¥è¯´æ˜¯è‡´å‘½çš„ï¼‰ï¼Œç°åœ¨</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ˜¯1.65ç‰ˆ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ­¤å¤–ï¼Œå½“æ—¶ï¼ˆ2019å¹´1æœˆ31æ—¥ï¼‰å·²è§£å†³è¯¥é—®é¢˜çš„1.99ç‰ˆå·²ç»åŒ…å«åœ¨HPEåƒåœ¾ç®±ä¸­ï¼Œä½†å°½ç®¡æˆ‘ä»¬å¦è®¤äº†æ‰€æœ‰å£°æ˜ï¼Œä½†ç”±äºç¼ºä¹è®¤è¯ï¼Œä»–ä»¬æ²¡æœ‰å°†å…¶ä¼ é€’ç»™VMwareæˆ–æˆ‘ä»¬ï¼Œä»–ä»¬è¯´ï¼Œå¯¹æˆ‘ä»¬è€Œè¨€ï¼Œæœ€ä¸»è¦çš„æ˜¯è§£å†³å­˜å‚¨é—®é¢˜ï¼Œä»…æ­¤è€Œå·²ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç»“æœï¼Œä»…åœ¨ä¸‰ä¸ªæœˆåå‘å¸ƒäº†ç£ç›˜æ§åˆ¶å™¨çš„å›ºä»¶ç‰ˆæœ¬1.99ï¼Œè¯¥é—®é¢˜ç»ˆäºå¾—åˆ°è§£å†³ï¼</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘å¾—å‡ºäº†ä»€ä¹ˆç»“è®ºï¼Ÿ</font></font><br>
<br>
<ol>
<li>     (   ),         .</li>
<li>     !   .</li>
<li>       Â«Â» ,   Â«Â»    Â«Â»   ,    30%      Â«Â».</li>
<li>HPE,    ,           .</li>
<li> ,       :<br>
<br>
<ul>
<li>HPE -           .   ,     Enterprise       . ,    ,       ).</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘æ²¡æœ‰é¢„è§åˆ°åœ¨ç´§æ€¥æƒ…å†µä¸‹å¯èƒ½éœ€è¦é¢å¤–çš„ç£ç›˜ç©ºé—´æ¥æ”¾ç½®å…¬å¸æ‰€æœ‰æœåŠ¡å™¨å‰¯æœ¬çš„æƒ…å†µã€‚</font></font></li>
</ul></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ­¤å¤–ï¼Œé‰´äºå‘ç”Ÿçš„æƒ…å†µï¼Œå¯¹äºVMwareæˆ‘å°†ä¸å†ä¸ºå¤§å‹å…¬å¸ï¼ˆé™¤DELLä»¥å¤–çš„ä»»ä½•ä¾›åº”å•†ï¼‰è´­ä¹°ç¡¬ä»¶ã€‚</font><font style="vertical-align: inherit;">ä¸ºä»€ä¹ˆï¼Œå› ä¸ºæ®æˆ‘æ‰€çŸ¥ï¼ŒDELLæ”¶è´­äº†VMwareï¼Œè€Œç°åœ¨åœ¨è¿™ä¸ªæ–¹å‘ä¸Šçš„ç¡¬ä»¶å’Œè½¯ä»¶é›†æˆæœ‰æœ›å°½å¯èƒ½åœ°ç´§å¯†ã€‚</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ­£å¦‚ä»–ä»¬æ‰€è¯´ï¼Œå°†ç‰›å¥¶çƒ§å…¥æ°´ä¸­ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¼™è®¡ä»¬ã€‚</font><font style="vertical-align: inherit;">å¸Œæœ›æ‚¨æ°¸è¿œä¸è¦é™·å…¥è¿™ç§å¯æ€•çš„å¢ƒåœ°ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘è®°å¾—ï¼Œæˆ‘å·²ç»æƒŠå‘†äº†ï¼</font></font></div>
      
    </div><p class="reference-to-source js-reference-to-source">Source: https://habr.com/ru/post/undefined/</p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN487574/index.html">ä½¿ç”¨éŸ³é¢‘ï¼šè¿›åº¦å’Œæ•°æ®å¯è§†åŒ–</a></li>
<li><a href="../zh-CN487578/index.html">CMakeé™æ€åº“ä¼˜åŒ–</a></li>
<li><a href="../zh-CN487582/index.html">æ²¡æœ‰ç¥çƒ§é”…</a></li>
<li><a href="../zh-CN487584/index.html">ä¿¡æ¯å®‰å…¨åŒ–</a></li>
<li><a href="../zh-CN487588/index.html">å¤¸åº“æ–¯ï¼šè¶…éŸ³é€ŸäºšåŸå­å…½åŒ»</a></li>
<li><a href="../zh-CN487594/index.html">æœ‰è¶£çš„åŠ©è®°ç¬¦ï¼šæˆ‘ä»¬ä»è§†è§‰ä¸Šæ”¶é›†å¬è§‰è®°å¿†</a></li>
<li><a href="../zh-CN487596/index.html">Googleå¼€å‘äººå‘˜Eugene Varavvaã€‚å¦‚ä½•ç”¨5ä¸ªå­—æ¥å½¢å®¹Google</a></li>
<li><a href="../zh-CN487604/index.html">åµŒå…¥ç¨‹åºå‘˜çš„ç®€çŸ­è¯´æ˜ï¼šå¾®æ§åˆ¶å™¨å†…å­˜ä¸­çš„èŠ‚é‡å¤</a></li>
<li><a href="../zh-CN487606/index.html">å¯è§†åŒ–å¼ åŠ›çº¿å’Œé™ç”µè·çš„è¿åŠ¨ï¼Œæ¨¡æ‹Ÿå¤ªé˜³ç³»çš„è¡Œæ˜Ÿè¿åŠ¨</a></li>
<li><a href="../zh-CN487610/index.html">çœŸå®ä¸–ç•Œï¼šaiohttpï¼ŒTortoise ORM</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>