<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🛀🏾 🥓 👈🏾 ISA ne pardonne pas les erreurs 🀄️ 😬 🙋🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="–X86 est un malentendu historique, - le maître et en 80 n'a pas perdu l'enthousiasme polémique. 
 "En fait, elle détient 95% du marché des serveurs", ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ISA ne pardonne pas les erreurs</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/huawei/blog/503194/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">–X86 est un malentendu historique, - le maître et en 80 n'a pas perdu l'enthousiasme polémique. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
"En fait, elle détient 95% du marché des serveurs", répondis-je lentement. Je ne voulais pas discuter sur un sujet cent fois galvaudé </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- et je suis déjà confus dans ces préfixes, - l'académicien n'a pas cédé. - 15 octets par instruction, c'est impensable! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Pas de glace, bien sûr. Mais qui est le meilleur? </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Oui, n'importe qui, au moins ARM-a. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
"Je ne comprends toujours pas." Les ajouts avec multiplications devraient être? </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Devrait. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Et des décalages avec des opérations logiques? </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Oui. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Et les téléchargements avec sauvegardes aussi. Quelle est la différence dans la façon dont ils sont appelés et encodés?</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme d'habitude, j'ai réalisé l'exactitude de l'enseignant beaucoup plus tard. Quand je me suis assis pour écrire un décodeur de commandes dans une morne soirée d'hiver afin de m'amuser en quelque sorte. J'ai réussi à représenter un simple décodeur pour ARM sur VHDL (et je le connais pas mal) en quelques jours. C'est vrai, je me repens, j'avais une </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">feuille de triche.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :) </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zz/6g/sh/zz6gsh4coxuhsz_nnnip5wxlgsi.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour X86 ce n'était pas possible pendant une semaine, ni pour deux, ni pour un mois ... Même pour le set de base.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici, la différence n'est pas seulement dans RISC (Reduced Instruction Set Computing) pour ARM et CISC (Complex Instruction Set) pour X86. La différence est plutôt dans le chemin du développement historique. Il y a plus de 40 ans, et tout a commencé en 1978, le X86 ISA (Instruction Set Architecture) était un ensemble de commandes assez compact avec sa propre logique interne. Mais le temps a passé, la capacité des bus a augmenté, les registres ont augmenté (y compris SIMD), le nombre d'équipes n'a cessé d'augmenter. Puis un gars a fait une </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tentative</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> intéressante </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">pour</font></a><font style="vertical-align: inherit;"> simplement compter le nombre d'instructions dans X86. S'il était trop paresseux pour ouvrir le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">manuel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et les compter, soit il connaissait l'existence d'opcodes «sans nom» (équipes qui n'ont même pas de nom), soit il croyait à l'omnipotence de la logique. Il est facile de comprendre que la logique s'est avérée impuissante. :) Au fait, j'ai essayé de trouver un graphique de la croissance du nombre d'instructions X86 par année (ou par génération). Je ne pourrais pas encore (peut-être que quelqu'un l'a?). Mais j'ai trouvé ici une telle </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">photo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<img src="https://habrastorage.org/webt/-v/t6/ni/-vt6ni8guqbh8kv0obshqd5dnnm.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour être honnête, je ne sais pas combien d'instructions il y a dans l'ISA X86. Mais je me souviens bien de tous ceux que j'ai investis dans le développement moi-même, sans réaliser que chaque nouveau bit dans ISA est étiqueté «garder pour toujours». Et il y avait plusieurs milliers de «créateurs» comme moi chez Intel. Et les morceaux pour encoder tous leurs fantasmes manquaient constamment. :) Tous les nouveaux préfixes ont été ajoutés au jeu de commandes existant: REX, VEX ... La dernière extension de quatre octets (EVEX) a été introduite pour l'AVX-512. Par ailleurs, l'ensemble des commandes ARM (même en tenant compte de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SVE</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) est supprimé dans ces mêmes 4 octets. ARM est initialement allé dans l'autre sens, construisant son système de commande sur les principes de base de simplicité, compacité et extensibilité.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La différence peut être comprise si nous passons du point de vue du programmeur au point de vue du concepteur de circuits. Et on sait que le transistor est une bonne chose, mais il commute lentement et dissipe l'énergie sans vergogne. Et toutes choses étant égales par ailleurs, il serait préférable qu'il y en ait moins. Maintenant, jetez un œil à </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l'algorithme de décodage des instructions x86</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (le problème que j'essayais de résoudre). </font></font><br>
 <br>
<img src="https://habrastorage.org/webt/lk/0v/3s/lk0v3s92ryuppxkgwwd2h1yvaak.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et comme on dit, ressentez la différence dans les chemins d'entrée (frontal) pour ARM et X86. Ici, on peut faire valoir que l'extrémité avant est une très petite partie du noyau, seulement environ 10%. Oui, mais n'oubliez pas que toute cette logique est multipliée par le nombre de cœurs sur la puce. Et c'est grave.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une autre considération est que le frontal n'est que la partie responsable de la compatibilité descendante. Vous pouvez pelleter en toute sécurité ou même lancer l'arrière. Intel, soit dit en passant, en a profité au début des années 2000, remplaçant l'architecture NetBurst (P4) par Core-M (P3). Mais l'extrémité avant ne peut pas être considérablement réduite. Bien que parfois je le veuille vraiment, à cause de l'ISA X86 existant, environ 20% est maintenant utilisé. Les autres sont des vestiges du passé.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un autre inconvénient de la longueur énorme des instructions est le manque relativement fréquent dans le cache d'instructions. Grosso modo, avec une taille égale de caches, le nombre de ratés sera d'autant plus important que la durée de l'instruction sera grande. Bien sûr, la taille des caches peut être augmentée. Mais là encore, ce sont des transistors qui n'auraient pas pu l'être si les instructions étaient plus courtes. Pour la même raison, je me méfie beaucoup des différents types d'architectures VLIW (Very Long Instruction World). Cependant, ils ont également l'inconvénient qu'il leur est très difficile de développer des compilateurs. Jusqu'à présent, j'ai délibérément évité le sujet des compilateurs, car je ne les ai jamais développés moi-même. Je voudrais écouter ce que les personnes compétentes diront sur les délices de développer des compilateurs pour RISC, CISC et VLIW.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et pourtant, malgré l'énorme charge accumulée de l'héritage, et peut-être grâce à lui, les développeurs X86 étaient dans le principal. </font><font style="vertical-align: inherit;">Le principe de la compatibilité descendante a été respecté en architecture depuis le tout début. </font><font style="vertical-align: inherit;">Tous les logiciels existants fonctionnent sur le nouveau matériel prêt à l'emploi. </font><font style="vertical-align: inherit;">C'est ce qui a permis de construire un écosystème aussi profond et développé autour de l'architecture. </font><font style="vertical-align: inherit;">Et il ne reste plus qu'à décoller devant les ingénieurs Intel et AMD qui, malgré la conception ISA pas du tout parfaite, ont conservé leur leadership dans le segment des serveurs pendant de nombreuses années. </font><font style="vertical-align: inherit;">Cependant, la charge héritée devient plus difficile.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr503176/index.html">Implémentation d'un algorithme de détermination de la largeur d'un objet à l'aide d'un télémètre à ultrasons et d'encodeurs en langage RobotC</a></li>
<li><a href="../fr503178/index.html">Apple Mac et appareils fantaisie. LTO, SAS, Fibre Channel, eSATA</a></li>
<li><a href="../fr503182/index.html">"Je suis le premier développeur aveugle de mon entreprise." Partie 1</a></li>
<li><a href="../fr503184/index.html">Nous vous invitons à la réunion en ligne Zabbix</a></li>
<li><a href="../fr503192/index.html">oVirt en 2 heures. Partie 4. Opérations de base</a></li>
<li><a href="../fr503196/index.html">450 cours gratuits de la Ivy League</a></li>
<li><a href="../fr503200/index.html">YOLOv4 - le réseau neuronal en temps réel le plus précis du jeu de données Microsoft COCO</a></li>
<li><a href="../fr503204/index.html">Comment flasher Xiaomi Redmi 4 Prime / Pro / Premium sur Android 10</a></li>
<li><a href="../fr503208/index.html">Quel est le meilleur moment pour investir?</a></li>
<li><a href="../fr503210/index.html">Les sites de phishing peuvent-ils être éradiqués?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>