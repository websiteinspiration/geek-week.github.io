<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ›€ğŸ¾ ğŸ¥“ ğŸ‘ˆğŸ¾ ISA ne pardonne pas les erreurs ğŸ€„ï¸ ğŸ˜¬ ğŸ™‹ğŸ»</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="â€“X86 est un malentendu historique, - le maÃ®tre et en 80 n'a pas perdu l'enthousiasme polÃ©mique. 
 "En fait, elle dÃ©tient 95% du marchÃ© des serveurs", ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ISA ne pardonne pas les erreurs</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/huawei/blog/503194/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">â€“X86 est un malentendu historique, - le maÃ®tre et en 80 n'a pas perdu l'enthousiasme polÃ©mique. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
"En fait, elle dÃ©tient 95% du marchÃ© des serveurs", rÃ©pondis-je lentement. Je ne voulais pas discuter sur un sujet cent fois galvaudÃ© </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- et je suis dÃ©jÃ  confus dans ces prÃ©fixes, - l'acadÃ©micien n'a pas cÃ©dÃ©. - 15 octets par instruction, c'est impensable! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Pas de glace, bien sÃ»r. Mais qui est le meilleur? </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Oui, n'importe qui, au moins ARM-a. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
"Je ne comprends toujours pas." Les ajouts avec multiplications devraient Ãªtre? </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Devrait. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Et des dÃ©calages avec des opÃ©rations logiques? </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Oui. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Et les tÃ©lÃ©chargements avec sauvegardes aussi. Quelle est la diffÃ©rence dans la faÃ§on dont ils sont appelÃ©s et encodÃ©s?</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme d'habitude, j'ai rÃ©alisÃ© l'exactitude de l'enseignant beaucoup plus tard. Quand je me suis assis pour Ã©crire un dÃ©codeur de commandes dans une morne soirÃ©e d'hiver afin de m'amuser en quelque sorte. J'ai rÃ©ussi Ã  reprÃ©senter un simple dÃ©codeur pour ARM sur VHDL (et je le connais pas mal) en quelques jours. C'est vrai, je me repens, j'avais une </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">feuille de triche.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :) </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zz/6g/sh/zz6gsh4coxuhsz_nnnip5wxlgsi.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour X86 ce n'Ã©tait pas possible pendant une semaine, ni pour deux, ni pour un mois ... MÃªme pour le set de base.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici, la diffÃ©rence n'est pas seulement dans RISC (Reduced Instruction Set Computing) pour ARM et CISC (Complex Instruction Set) pour X86. La diffÃ©rence est plutÃ´t dans le chemin du dÃ©veloppement historique. Il y a plus de 40 ans, et tout a commencÃ© en 1978, le X86 ISA (Instruction Set Architecture) Ã©tait un ensemble de commandes assez compact avec sa propre logique interne. Mais le temps a passÃ©, la capacitÃ© des bus a augmentÃ©, les registres ont augmentÃ© (y compris SIMD), le nombre d'Ã©quipes n'a cessÃ© d'augmenter. Puis un gars a fait une </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tentative</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> intÃ©ressante </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">pour</font></a><font style="vertical-align: inherit;"> simplement compter le nombre d'instructions dans X86. S'il Ã©tait trop paresseux pour ouvrir le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">manuel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et les compter, soit il connaissait l'existence d'opcodes Â«sans nomÂ» (Ã©quipes qui n'ont mÃªme pas de nom), soit il croyait Ã  l'omnipotence de la logique. Il est facile de comprendre que la logique s'est avÃ©rÃ©e impuissante. :) Au fait, j'ai essayÃ© de trouver un graphique de la croissance du nombre d'instructions X86 par annÃ©e (ou par gÃ©nÃ©ration). Je ne pourrais pas encore (peut-Ãªtre que quelqu'un l'a?). Mais j'ai trouvÃ© ici une telle </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">photo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<img src="https://habrastorage.org/webt/-v/t6/ni/-vt6ni8guqbh8kv0obshqd5dnnm.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour Ãªtre honnÃªte, je ne sais pas combien d'instructions il y a dans l'ISA X86. Mais je me souviens bien de tous ceux que j'ai investis dans le dÃ©veloppement moi-mÃªme, sans rÃ©aliser que chaque nouveau bit dans ISA est Ã©tiquetÃ© Â«garder pour toujoursÂ». Et il y avait plusieurs milliers de Â«crÃ©ateursÂ» comme moi chez Intel. Et les morceaux pour encoder tous leurs fantasmes manquaient constamment. :) Tous les nouveaux prÃ©fixes ont Ã©tÃ© ajoutÃ©s au jeu de commandes existant: REX, VEX ... La derniÃ¨re extension de quatre octets (EVEX) a Ã©tÃ© introduite pour l'AVX-512. Par ailleurs, l'ensemble des commandes ARM (mÃªme en tenant compte de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SVE</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) est supprimÃ© dans ces mÃªmes 4 octets. ARM est initialement allÃ© dans l'autre sens, construisant son systÃ¨me de commande sur les principes de base de simplicitÃ©, compacitÃ© et extensibilitÃ©.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La diffÃ©rence peut Ãªtre comprise si nous passons du point de vue du programmeur au point de vue du concepteur de circuits. Et on sait que le transistor est une bonne chose, mais il commute lentement et dissipe l'Ã©nergie sans vergogne. Et toutes choses Ã©tant Ã©gales par ailleurs, il serait prÃ©fÃ©rable qu'il y en ait moins. Maintenant, jetez un Å“il Ã  </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l'algorithme de dÃ©codage des instructions x86</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (le problÃ¨me que j'essayais de rÃ©soudre). </font></font><br>
 <br>
<img src="https://habrastorage.org/webt/lk/0v/3s/lk0v3s92ryuppxkgwwd2h1yvaak.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et comme on dit, ressentez la diffÃ©rence dans les chemins d'entrÃ©e (frontal) pour ARM et X86. Ici, on peut faire valoir que l'extrÃ©mitÃ© avant est une trÃ¨s petite partie du noyau, seulement environ 10%. Oui, mais n'oubliez pas que toute cette logique est multipliÃ©e par le nombre de cÅ“urs sur la puce. Et c'est grave.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une autre considÃ©ration est que le frontal n'est que la partie responsable de la compatibilitÃ© descendante. Vous pouvez pelleter en toute sÃ©curitÃ© ou mÃªme lancer l'arriÃ¨re. Intel, soit dit en passant, en a profitÃ© au dÃ©but des annÃ©es 2000, remplaÃ§ant l'architecture NetBurst (P4) par Core-M (P3). Mais l'extrÃ©mitÃ© avant ne peut pas Ãªtre considÃ©rablement rÃ©duite. Bien que parfois je le veuille vraiment, Ã  cause de l'ISA X86 existant, environ 20% est maintenant utilisÃ©. Les autres sont des vestiges du passÃ©.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un autre inconvÃ©nient de la longueur Ã©norme des instructions est le manque relativement frÃ©quent dans le cache d'instructions. Grosso modo, avec une taille Ã©gale de caches, le nombre de ratÃ©s sera d'autant plus important que la durÃ©e de l'instruction sera grande. Bien sÃ»r, la taille des caches peut Ãªtre augmentÃ©e. Mais lÃ  encore, ce sont des transistors qui n'auraient pas pu l'Ãªtre si les instructions Ã©taient plus courtes. Pour la mÃªme raison, je me mÃ©fie beaucoup des diffÃ©rents types d'architectures VLIW (Very Long Instruction World). Cependant, ils ont Ã©galement l'inconvÃ©nient qu'il leur est trÃ¨s difficile de dÃ©velopper des compilateurs. Jusqu'Ã  prÃ©sent, j'ai dÃ©libÃ©rÃ©ment Ã©vitÃ© le sujet des compilateurs, car je ne les ai jamais dÃ©veloppÃ©s moi-mÃªme. Je voudrais Ã©couter ce que les personnes compÃ©tentes diront sur les dÃ©lices de dÃ©velopper des compilateurs pour RISC, CISC et VLIW.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et pourtant, malgrÃ© l'Ã©norme charge accumulÃ©e de l'hÃ©ritage, et peut-Ãªtre grÃ¢ce Ã  lui, les dÃ©veloppeurs X86 Ã©taient dans le principal. </font><font style="vertical-align: inherit;">Le principe de la compatibilitÃ© descendante a Ã©tÃ© respectÃ© en architecture depuis le tout dÃ©but. </font><font style="vertical-align: inherit;">Tous les logiciels existants fonctionnent sur le nouveau matÃ©riel prÃªt Ã  l'emploi. </font><font style="vertical-align: inherit;">C'est ce qui a permis de construire un Ã©cosystÃ¨me aussi profond et dÃ©veloppÃ© autour de l'architecture. </font><font style="vertical-align: inherit;">Et il ne reste plus qu'Ã  dÃ©coller devant les ingÃ©nieurs Intel et AMD qui, malgrÃ© la conception ISA pas du tout parfaite, ont conservÃ© leur leadership dans le segment des serveurs pendant de nombreuses annÃ©es. </font><font style="vertical-align: inherit;">Cependant, la charge hÃ©ritÃ©e devient plus difficile.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr503176/index.html">ImplÃ©mentation d'un algorithme de dÃ©termination de la largeur d'un objet Ã  l'aide d'un tÃ©lÃ©mÃ¨tre Ã  ultrasons et d'encodeurs en langage RobotC</a></li>
<li><a href="../fr503178/index.html">Apple Mac et appareils fantaisie. LTO, SAS, Fibre Channel, eSATA</a></li>
<li><a href="../fr503182/index.html">"Je suis le premier dÃ©veloppeur aveugle de mon entreprise." Partie 1</a></li>
<li><a href="../fr503184/index.html">Nous vous invitons Ã  la rÃ©union en ligne Zabbix</a></li>
<li><a href="../fr503192/index.html">oVirt en 2 heures. Partie 4. OpÃ©rations de base</a></li>
<li><a href="../fr503196/index.html">450 cours gratuits de la Ivy League</a></li>
<li><a href="../fr503200/index.html">YOLOv4 - le rÃ©seau neuronal en temps rÃ©el le plus prÃ©cis du jeu de donnÃ©es Microsoft COCO</a></li>
<li><a href="../fr503204/index.html">Comment flasher Xiaomi Redmi 4 Prime / Pro / Premium sur Android 10</a></li>
<li><a href="../fr503208/index.html">Quel est le meilleur moment pour investir?</a></li>
<li><a href="../fr503210/index.html">Les sites de phishing peuvent-ils Ãªtre Ã©radiquÃ©s?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>