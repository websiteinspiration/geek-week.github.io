<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>â¤µï¸ ğŸš» ğŸ¤£ ICQ Baru: panduan pemuliaan bot ğŸ› ğŸ›‘ ğŸ–¥ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Setiap kali, memasuki messenger, kami bertemu bot dalam manifestasi mereka yang paling beragam. Beberapa berbicara tentang cuaca, yang lain bermain bu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ICQ Baru: panduan pemuliaan bot</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/506206/"><img src="https://habrastorage.org/webt/hz/yl/ac/hzylac6lisykfejesv6dmsxquok.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setiap kali, memasuki messenger, kami bertemu bot dalam manifestasi mereka yang paling beragam. Beberapa berbicara tentang cuaca, yang lain bermain burger, dan yang lain lagi meme dalam suasana hati. Tentunya, sebuah pemikiran muncul di antara Anda: "Tapi bisakah saya membuat bot sendiri?" Sayangnya, sering kali pikiran seperti itu pecah tentang kesalahpahaman tentang cara membuat bot sama sekali. Mungkin, untuk ini Anda harus menjadi spesialis IT yang keren dan memahami jutaan teknologi? Tidak juga. Dan hari ini kami akan mencoba menunjukkan bahwa pembuatan bot kami adalah proses yang sederhana dan mudah dipahami. Mari kita menganalisis siklus penuh pembuatan bot, dari mendapatkan data yang diperlukan dari messenger hingga menulis kode dan meluncurkannya di server.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beberapa waktu lalu, platform bot sangat diperbarui di ICQ. </font><font style="vertical-align: inherit;">Dia menjadi lebih ramah, mudah dimengerti, dan nyaman. </font><font style="vertical-align: inherit;">Menggunakan perpustakaan Python dari pengembang, kami akan membuat bot pertama kami.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hal pertama</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertama, Anda harus terdaftar di ICQ. </font><font style="vertical-align: inherit;">Ini dapat dilakukan melalui aplikasi untuk ponsel, komputer atau langsung dari browser di versi web. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah mendaftar, Anda dapat mulai membuat bot sendiri di sistem:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mencari </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">metabot</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> di ICQ.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tulis dia tim </font></font><code>/newbot</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kirim nama untuk bot baru Anda (harus diakhiri dengan </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bot</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah metabot ini akan mengirim data bot Anda:</font></font><br>
<br>
<ul>
<li><code>botId</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: nomor bot unik;</font></font></li>
<li><code>nick</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: nama bot yang akan dicari;</font></font></li>
<li><code>token</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: token yang digunakan untuk permintaan jaringan ke server.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Itu dia, bot diciptakan. Dia dapat ditemukan dalam pencarian, menulis pesan kepadanya. Sekarang kita perlu membuat bot aktif dan merespons. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada halaman </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://icq.com/botapi/#/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ada deskripsi lengkap tentang metode API. Mereka digunakan untuk berinteraksi dengan server. Mari kita periksa beberapa di antaranya dengan lebih detail. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Metode dasarnya adalah </font></font><code>/events/get</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Ini digunakan untuk menerima acara bot baru. Misalnya, jika seseorang menulis bot, maka acara ini akan diberikan saat diminta </font></font><code>/events/get</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Mari kita menulis pesan ke bot dan memeriksa tampilan acara yang sesuai. Ini dapat dilakukan, misalnya, di browser. Untuk melakukan ini, buka </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://api.icq.net/bot/v1/events/get?token=Tanda Anda &amp; pollTime = 1 &amp; lastEventId = 0</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Parameter</font></font><code>pollTime</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bertanggung jawab atas lama waktu permintaan dipegang oleh server. </font><font style="vertical-align: inherit;">Misalnya, jika Anda memasukkan nilai 60, maka server akan menunggu acara untuk bot selama 60 detik, dan jika tidak ada selama waktu ini, server akan mengembalikan array peristiwa yang kosong. </font></font><code>lastEventId</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bertanggung jawab atas acara yang diproses terakhir. </font><font style="vertical-align: inherit;">Dengan kata lain, peristiwa dengan nilai lebih kecil dari yang ditransmisikan akan terpotong. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah pergi ke alamat ini, sesuatu seperti ini akan muncul di layar:</font></font><br>
<br>
<pre><code class="json hljs">{
 <span class="hljs-attr">"events"</span>: [<font></font>
  {<font></font>
    <span class="hljs-attr">"eventId"</span>: <span class="hljs-number">41</span>,
     <span class="hljs-attr">"payload"</span>: {
         <span class="hljs-attr">"chat"</span>: {
           <span class="hljs-attr">"chatId"</span>: <span class="hljs-string">"745294945"</span>,
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"private"</span><font></font>
         },<font></font>
         <span class="hljs-attr">"from"</span>: {
                <span class="hljs-attr">"firstName"</span>: <span class="hljs-string">"Andrey"</span>,
                <span class="hljs-attr">"lastName"</span>: <span class="hljs-string">"Shvedov"</span>,
                <span class="hljs-attr">"nick"</span>: <span class="hljs-string">"shvedoff"</span>,
                <span class="hljs-attr">"userId"</span>: <span class="hljs-string">"745294945"</span><font></font>
         },<font></font>
         <span class="hljs-attr">"msgId"</span>: <span class="hljs-string">"6831171945581511151"</span>,
         <span class="hljs-attr">"text"</span>: <span class="hljs-string">""</span>,
         <span class="hljs-attr">"timestamp"</span>: <span class="hljs-number">1590506161</span><font></font>
     },<font></font>
     <span class="hljs-attr">"type"</span>: <span class="hljs-string">"newMessage"</span><font></font>
  }<font></font>
 ],<font></font>
 <span class="hljs-attr">"ok"</span>: <span class="hljs-literal">true</span>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan cara yang sama, Anda dapat mengirim pesan atas nama bot menggunakan metode ini </font></font><code>/messages/sendText</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami tidak perlu mempelajari metode ini secara lebih rinci, kami memiliki pustaka Python siap pakai yang memungkinkan kami untuk menulis bot kami tanpa merinci.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menulis kode?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ya, tetapi pertama-tama kita perlu menyiapkan komputer kita sendiri untuk ini. </font><font style="vertical-align: inherit;">Kami akan menggunakan Python di versi ketiga (unduh versi untuk OS Anda di sini: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://www.python.org/downloads/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan pengelola paket pip di sini: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://pip.pypa.io/en/stable/installing/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) Juga, Anda perlu menginstal perpustakaan untuk bekerja dengan bot:</font></font><br>
<br>
<pre><code class="bash hljs">$ pip3 install --upgrade mailru-im-bot
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang kamu bisa melanjutkan.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kami sedang menulis!</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebagai contoh, kita akan menulis bot permainan yang akan menguji pengetahuan matematika sederhana. Dia akan bekerja seperti ini: seseorang menulis pesan ke bot, dia memperkenalkan dirinya dan menawarkan untuk bermain. Setelah pengguna setuju, bot menghasilkan contoh matematika sederhana dan 4 opsi untuk dipilih. Ketika pengguna mengklik tombol dengan jawaban yang dipilih, bot menjawab, benar atau salah. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, bot harus terlebih dahulu menerima acara dari server. Untuk melakukan ini, selain mengimpor semua perpustakaan, kita perlu membuat objek kelas </font></font><code>Bot</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan mulai menerima pembaruan:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">import</span> logging
<span class="hljs-keyword">from</span> bot.bot <span class="hljs-keyword">import</span> Bot<font></font>
<font></font>
<font></font>
logging.basicConfig(format=<span class="hljs-string">'%(asctime)s %(levelname)s %(message)s'</span>,<font></font>
                    datefmt=<span class="hljs-string">'%Y.%m.%d %I:%M:%S %p'</span>, level=logging.DEBUG)<font></font>
<font></font>
TOKEN = <span class="hljs-string">""</span> <span class="hljs-comment">#your token here</span><font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span>():</span><font></font>
    bot = Bot(token=TOKEN)<font></font>
    bot.start_polling()<font></font>
<font></font>
<font></font>
<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:<font></font>
    main()</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini kita mengimpor perpustakaan logging dan menjalankannya. </font><font style="vertical-align: inherit;">Kami juga mengimpor perpustakaan untuk bot ICQ, mengatur parameter yang diperlukan </font></font><code>token</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, membuat objek kelas </font></font><code>Bot</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan mulai menerima pembaruan dari server ( </font></font><code>bot.start_polling()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang bot kami dapat menerima acara, tetapi tidak dapat memprosesnya. </font><font style="vertical-align: inherit;">Kami melengkapi bot sehingga dapat menanggapi pesan. </font><font style="vertical-align: inherit;">Untuk melakukan ini, tambahkan impor yang diperlukan:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">import</span> json
<span class="hljs-keyword">from</span> bot.handler <span class="hljs-keyword">import</span> MessageHandler
</code></pre><br>
<code>json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diperlukan untuk memformat bagian dari pesan yang bertanggung jawab atas tombol. </font></font><code>MessageHandler</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diperlukan untuk menambahkan pesan baru ke kode handler. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selanjutnya, kita memerlukan fungsi yang akan menyusun pesan untuk respons:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">startup</span>(<span class="hljs-params">bot, event</span>):</span><font></font>
    default_markup = [<font></font>
        [{<span class="hljs-string">"text"</span>: <span class="hljs-string">"!"</span>, <span class="hljs-string">"callbackData"</span>: <span class="hljs-string">"start"</span>}]<font></font>
        ]<font></font>
<font></font>
    first_message_text = <span class="hljs-string">"!  -  . ?"</span><font></font>
    bot.send_text(chat_id=event.from_chat,<font></font>
         text=first_message_text,<font></font>
         inline_keyboard_markup=json.dumps(default_markup))</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ia menerima input bot yang dibuat dan acara pesan baru. </font></font><code>default_markup</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- matriks tombol (objek "daftar", terdiri dari serangkaian string tombol. Dalam kasus kami, ini adalah satu-satunya tombol </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mulai!</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><code>first_message_text</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- sebuah string, teks yang akan dikirim ke pengguna. </font><font style="vertical-align: inherit;">Metode </font></font><code>send_text</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menerima:</font></font><br>
<br>
<ul>
<li><code>chat_id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (bidang dari acara yang sedang diproses) - pengidentifikasi obrolan tempat pesan diterima, </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">teks pesan yang akan dikirim </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan </font></font><code>inline_keyboard_markup</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- tombol kami.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang tinggal menjelaskan panggilan ke fungsi ini saat pesan diterima. </font><font style="vertical-align: inherit;">Untuk ini, perpustakaan memiliki desain khusus:</font></font><br>
<br>
<pre><code class="python hljs">bot.dispatcher.add_handler(MessageHandler(callback=startup))
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini memungkinkan Anda untuk secara otomatis memanggil fungsi </font></font><code>startup()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dengan parameter yang diperlukan </font><font style="vertical-align: inherit;">ketika Anda menerima pesan baru </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Pawang ini harus ditempatkan dalam fungsi </font></font><code>main()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Kami mendapat kode yang memungkinkan Anda mengirim pesan awal ketika bot menerima pesan apa pun:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">import</span> logging
<span class="hljs-keyword">import</span> json
<span class="hljs-keyword">from</span> bot.bot <span class="hljs-keyword">import</span> Bot
<span class="hljs-keyword">from</span> bot.handler <span class="hljs-keyword">import</span> MessageHandler<font></font>
<font></font>
logging.basicConfig(format=<span class="hljs-string">'%(asctime)s %(levelname)s %(message)s'</span>,<font></font>
                    datefmt=<span class="hljs-string">'%Y.%m.%d %I:%M:%S %p'</span>, level=logging.DEBUG)<font></font>
<font></font>
TOKEN = Â«Â» <span class="hljs-comment">#your token here</span><font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">startup</span>(<span class="hljs-params">bot, event</span>):</span><font></font>
    default_markup = [<font></font>
        [{Â«textÂ»: Â«!Â», Â«callbackDataÂ»: Â«startÂ»}]<font></font>
        ]<font></font>
    first_message_text = Â«!  â€”  . ?Â»<font></font>
    bot.send_text(chat_id=event.from_chat,<font></font>
        text=first_message_text,<font></font>
        inline_keyboard_markup=json.dumps(default_markup))<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span>():</span><font></font>
    bot = Bot(token=TOKEN)<font></font>
    bot.dispatcher.add_handler(MessageHandler(callback=startup))<font></font>
    bot.start_polling()<font></font>
<font></font>
<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:<font></font>
    main()<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk pengguna, akan terlihat seperti ini:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6a4/a51/4b4/6a4a514b4e5629c69a6cb9a1f187de4b.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertimbangkan lebih detail tombol yang kami kirim dalam pesan:</font></font><br>
<br>
<pre><code class="python hljs">[ [{Â«textÂ»: Â«!Â», Â«callbackDataÂ»: Â«startÂ»}]]</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selain teks yang ditulis pada tombol, pesan memiliki bidang </font></font><code>callbackData</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Ketika tombol diklik, server menghasilkan acara klik tombol. </font><font style="vertical-align: inherit;">Di dalamnya, ia melewati bidang ini sebagai pengidentifikasi dari tombol yang ditekan. </font><font style="vertical-align: inherit;">Artinya, dengan baris ini yang diterima dari server, kita dapat menilai tombol mana yang diklik pengguna. </font><font style="vertical-align: inherit;">Jadi, lebih jauh kita perlu menambahkan logika pemrosesan klik tombol ke bot. </font><font style="vertical-align: inherit;">Untuk melakukan ini, kita perlu mengimpor metode yang diperlukan:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">from</span> bot.handler <span class="hljs-keyword">import</span> BotButtonCommandHandler
<span class="hljs-keyword">from</span> bot.filter <span class="hljs-keyword">import</span> Filter
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Baris pertama adalah pengendali event untuk mengklik tombol, yang kedua adalah filter untuk membantu Anda memahami tombol mana yang ditekan. </font><font style="vertical-align: inherit;">Kami juga perlu menjelaskan logika respons terhadap klik tombol:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">start</span>(<span class="hljs-params">bot, event</span>):</span>
    question = <span class="hljs-string">''</span>
    operands = [<span class="hljs-string">"+"</span>, <span class="hljs-string">"-"</span>, <span class="hljs-string">"*"</span>]<font></font>
    operations_count = randrange(<span class="hljs-number">3</span>)+<span class="hljs-number">2</span>
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(operations_count):<font></font>
        question += str(randrange(<span class="hljs-number">9</span>))<font></font>
        question += choice(operands)<font></font>
    question = question[:<span class="hljs-number">-1</span>]<font></font>
    answer = eval(question)<font></font>
    buttons = [<font></font>
        [{<span class="hljs-string">'text'</span>: str(answer), <span class="hljs-string">'callbackData'</span>: <span class="hljs-string">"right"</span>},<font></font>
         {<span class="hljs-string">'text'</span>: str(answer+<span class="hljs-number">1</span>), <span class="hljs-string">'callbackData'</span>: <span class="hljs-string">"wrong"</span>}],<font></font>
        [{<span class="hljs-string">'text'</span>: str(answer<span class="hljs-number">-1</span>), <span class="hljs-string">'callbackData'</span>: <span class="hljs-string">"wrong"</span>},<font></font>
         {<span class="hljs-string">'text'</span>: str(answer+<span class="hljs-number">2</span>), <span class="hljs-string">'callbackData'</span>: <span class="hljs-string">"wrong"</span>}]]<font></font>
    shuffle(buttons[<span class="hljs-number">0</span>])<font></font>
    shuffle(buttons[<span class="hljs-number">1</span>])<font></font>
    shuffle(buttons)<font></font>
    bot.answer_callback_query(<font></font>
        query_id=event.data[<span class="hljs-string">'queryId'</span>],<font></font>
        text=<span class="hljs-string">' '</span>)<font></font>
    bot.send_text(chat_id=event.data[<span class="hljs-string">'message'</span>][<span class="hljs-string">'chat'</span>][<span class="hljs-string">'chatId'</span>],<font></font>
        text=question,<font></font>
        inline_keyboard_markup=json.dumps(buttons))<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan analogi dengan pesan, suatu fungsi menerima argumen yang sama dengan input. </font><font style="vertical-align: inherit;">Kemudian dihasilkan sebuah contoh dan berbagai tombol dengan jawaban. </font><font style="vertical-align: inherit;">Salah satu jawabannya akan benar. </font><font style="vertical-align: inherit;">Atas dasar ini, jawabannya akan berbeda </font></font><code>callbackData</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Pada akhirnya, Anda harus memanggil metode </font></font><code>answer_callback_query</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dengan parameter:</font></font><br>
<br>
<ul>
<li><code>query_id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - nomor unik dari acara menekan tombol,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan </font></font><code>text</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- teks yang akan ditampilkan di tooltip ketika Anda mengklik tombol.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan memanggil metode ini, kami akan menunjukkan kepada pengguna bahwa bot telah menerima klik tombol. </font><font style="vertical-align: inherit;">Jika tidak, indikator unduhan akan muncul pada tombol untuk sementara waktu. </font><font style="vertical-align: inherit;">Dengan menggunakan metode ini, </font></font><code>send_text</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anda perlu mengirim pesan itu sendiri dengan tombol tanya jawab. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita segera menambahkan fungsi untuk memproses jawaban yang benar dan salah:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">right</span>(<span class="hljs-params">bot, event</span>):</span>
    bot.send_text(chat_id=event.data[<span class="hljs-string">'message'</span>][<span class="hljs-string">'chat'</span>][<span class="hljs-string">'chatId'</span>],<font></font>
        text=<span class="hljs-string">'!'</span>)<font></font>
    start(bot, event)<font></font>
<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">wrong</span>(<span class="hljs-params">bot, event</span>):</span>
    bot.send_text(chat_id=event.data[<span class="hljs-string">'message'</span>][<span class="hljs-string">'chat'</span>][<span class="hljs-string">'chatId'</span>],<font></font>
        text=<span class="hljs-string">':('</span>)<font></font>
    start(bot, event)<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fungsi-fungsi ini akan dipanggil ketika Anda mengklik jawaban yang benar dan salah. </font><font style="vertical-align: inherit;">Dan setelah pesan dengan jawaban yang benar, pengguna akan menerima pertanyaan baru. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yang tersisa adalah menambahkan penangan klik tombol:</font></font><br>
<br>
<pre><code class="python hljs">    bot.dispatcher.add_handler(BotButtonCommandHandler(<font></font>
        callback=start, filters=Filter.callback_data(Â«startÂ»)))<font></font>
    bot.dispatcher.add_handler(BotButtonCommandHandler(<font></font>
        callback=wrong, filters=Filter.callback_data(Â«wrongÂ»)))<font></font>
    bot.dispatcher.add_handler(BotButtonCommandHandler(<font></font>
        callback=right, filters=Filter.callback_data(Â«rightÂ»)))<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Masing-masing dari tiga penangan ini berisi filter dengan </font></font><code>callbackData</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(misalnya, </font></font><code>filters=Filter.callback_data(Â«startÂ»)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) dan fungsi untuk memanggil. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini melengkapi pemrograman bot. </font><font style="vertical-align: inherit;">Kode yang dihasilkan terlihat seperti ini:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">import</span> logging
<span class="hljs-keyword">import</span> json
<span class="hljs-keyword">from</span> bot.bot <span class="hljs-keyword">import</span> Bot
<span class="hljs-keyword">from</span> bot.handler <span class="hljs-keyword">import</span> BotButtonCommandHandler
<span class="hljs-keyword">from</span> bot.handler <span class="hljs-keyword">import</span> MessageHandler
<span class="hljs-keyword">from</span> bot.filter <span class="hljs-keyword">import</span> Filter
<span class="hljs-keyword">from</span> random <span class="hljs-keyword">import</span> randrange, choice, random, shuffle<font></font>
<font></font>
logging.basicConfig(format=<span class="hljs-string">'%(asctime)s %(levelname)s %(message)s'</span>,<font></font>
        datefmt=<span class="hljs-string">'%Y.%m.%d %I:%M:%S %p'</span>, level=logging.DEBUG)<font></font>
<font></font>
TOKEN = <span class="hljs-string">""</span> <span class="hljs-comment">#your token here</span><font></font>
<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">startup</span>(<span class="hljs-params">bot, event</span>):</span><font></font>
    default_markup = [<font></font>
        [{<span class="hljs-string">"text"</span>: <span class="hljs-string">"!"</span>, <span class="hljs-string">"callbackData"</span>: <span class="hljs-string">"start"</span>}]<font></font>
        ]<font></font>
<font></font>
    first_message_text = <span class="hljs-string">"!  -  . ?"</span><font></font>
    bot.send_text(chat_id=event.from_chat,<font></font>
        text=first_message_text,<font></font>
        inline_keyboard_markup=json.dumps(default_markup))<font></font>
<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">start</span>(<span class="hljs-params">bot, event</span>):</span>
    question = <span class="hljs-string">''</span>
    operands = [<span class="hljs-string">"+"</span>, <span class="hljs-string">"-"</span>, <span class="hljs-string">"*"</span>]<font></font>
    operations_count = randrange(<span class="hljs-number">3</span>)+<span class="hljs-number">2</span>
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(operations_count):<font></font>
        question += str(randrange(<span class="hljs-number">9</span>))<font></font>
        question += choice(operands)<font></font>
    question = question[:<span class="hljs-number">-1</span>]<font></font>
    answer = eval(question)<font></font>
    buttons = [<font></font>
        [{<span class="hljs-string">'text'</span>: str(answer), <span class="hljs-string">'callbackData'</span>: <span class="hljs-string">"right"</span>},<font></font>
         {<span class="hljs-string">'text'</span>: str(answer+<span class="hljs-number">1</span>), <span class="hljs-string">'callbackData'</span>: <span class="hljs-string">"wrong"</span>}],<font></font>
        [{<span class="hljs-string">'text'</span>: str(answer<span class="hljs-number">-1</span>), <span class="hljs-string">'callbackData'</span>: <span class="hljs-string">"wrong"</span>},<font></font>
         {<span class="hljs-string">'text'</span>: str(answer+<span class="hljs-number">2</span>), <span class="hljs-string">'callbackData'</span>: <span class="hljs-string">"wrong"</span>}]]<font></font>
    shuffle(buttons[<span class="hljs-number">0</span>])<font></font>
    shuffle(buttons[<span class="hljs-number">1</span>])<font></font>
    shuffle(buttons)<font></font>
    bot.answer_callback_query(<font></font>
        query_id=event.data[<span class="hljs-string">'queryId'</span>],<font></font>
        text=<span class="hljs-string">' '</span>)<font></font>
    bot.send_text(chat_id=event.data[<span class="hljs-string">'message'</span>][<span class="hljs-string">'chat'</span>][<span class="hljs-string">'chatId'</span>],<font></font>
        text=question,<font></font>
        inline_keyboard_markup=json.dumps(buttons))<font></font>
<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">right</span>(<span class="hljs-params">bot, event</span>):</span>
    bot.send_text(chat_id=event.data[<span class="hljs-string">'message'</span>][<span class="hljs-string">'chat'</span>][<span class="hljs-string">'chatId'</span>],<font></font>
        text=<span class="hljs-string">'!'</span>)<font></font>
    start(bot, event)<font></font>
<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">wrong</span>(<span class="hljs-params">bot, event</span>):</span>
    bot.send_text(chat_id=event.data[<span class="hljs-string">'message'</span>][<span class="hljs-string">'chat'</span>][<span class="hljs-string">'chatId'</span>],<font></font>
        text=<span class="hljs-string">':('</span>)<font></font>
    start(bot, event)<font></font>
<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span>():</span><font></font>
    bot = Bot(token=TOKEN)<font></font>
    bot.dispatcher.add_handler(MessageHandler(callback=startup))<font></font>
    bot.dispatcher.add_handler(BotButtonCommandHandler(<font></font>
        callback=start, filters=Filter.callback_data(<span class="hljs-string">"start"</span>)))<font></font>
    bot.dispatcher.add_handler(BotButtonCommandHandler(<font></font>
        callback=wrong, filters=Filter.callback_data(<span class="hljs-string">"wrong"</span>)))<font></font>
    bot.dispatcher.add_handler(BotButtonCommandHandler(<font></font>
        callback=right, filters=Filter.callback_data(<span class="hljs-string">"right"</span>)))<font></font>
    bot.start_polling()<font></font>
<font></font>
<font></font>
<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:<font></font>
    main()</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya perhatikan bahwa itu berisi impor yang diperlukan untuk fungsi untuk menghasilkan pertanyaan. </font><font style="vertical-align: inherit;">Alih-alih fungsi ini dan lainnya, Anda dapat menulis semacam logika Anda sendiri :)</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Di mana dan bagaimana menjalankannya?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Paling nyaman meluncurkan bot di server jarak jauh. </font><font style="vertical-align: inherit;">Ada banyak layanan yang menawarkan server virtual dengan akses yang memadai untuk menginstal program. </font><font style="vertical-align: inherit;">Beberapa layanan menyediakan periode uji coba gratis. </font><font style="vertical-align: inherit;">Karena kita adalah Mail.ru, kita akan menganalisanya menggunakan contoh Mail.ru Cloud Solutions. </font><font style="vertical-align: inherit;">Ada proses pendaftaran yang sederhana, akses cepat ke server Anda, serta masa percobaan gratis tanpa kartu bank atau kesulitan lainnya.</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kami mendaftarkan akun di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://mcs.mail.ru/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Buat instance dari mesin virtual. </font><font style="vertical-align: inherit;">Semua pengaturan dibiarkan tidak berubah, itu sudah cukup.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Layanan akan menawarkan untuk mengunduh kunci akses. </font><font style="vertical-align: inherit;">Unduh.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sekarang kita pergi ke mesin virtual kami: di </font></font><code>ssh -i ./xxx.pem user@ip</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mana </font></font><code>./xxx.pem</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">path ke kunci yang diunduh.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Setelah itu, kita perlu menginstal program dan paket yang diperlukan:</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo curl https://raw.githubusercontent.com/dvershinin/apt-get-centos/master/apt-get.sh -o /usr/<span class="hljs-built_in">local</span>/bin/apt-get<font></font>
$ chmod 0755 /usr/<span class="hljs-built_in">local</span>/bin/apt-get<font></font>
$ sudo apt-get install python3<font></font>
$ curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py<font></font>
$ python3 get-pip.py<font></font>
$ pip3 install --upgrade mailru-im-bot</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini kami memasang Python dan semua perpustakaan yang diperlukan agar bot kami berfungsi. </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tetap menyalin bot ke server dan menjalankannya. </font><font style="vertical-align: inherit;">Dari folder dengan skrip, jalankan:</font></font><code>scp -i ./xxx.pem ./path/to_bot.py user@ip:~</code><br>
<br>
<ul>
<li><code>./xxx.pem</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - jalur menuju kunci;</font></font></li>
<li><code>./path/to_bot.py</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - path ke file dengan bot;</font></font></li>
<li><code>user@ip:~</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - masuk, alamat dan jalur tempat menyalin bot.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah itu, file dengan bot akan berada di direktori home di server jauh. </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kami kembali ke server dan menjalankan :, di </font></font><code>python3 ~/file_name.py</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mana </font></font><code>file_name.py</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nama file kami dengan bot.</font></font></li>
</ol><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apa berikutnya?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Akibatnya, kami mendapat bot yang bekerja sendiri di server pribadi kami. </font><font style="vertical-align: inherit;">Jika Anda ingin lebih mengembangkan pembuatan bot untuk ICQ, maka pelajari dokumentasi pada API API secara lebih terperinci dan menyulitkan logika internal bot Anda. </font><font style="vertical-align: inherit;">Dan ICQ juga memiliki obrolan di mana Anda dapat mengajukan pertanyaan tentang bot: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://icq.im/botapi_faq</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tautan yang bermanfaat</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://icq.com/botapi/#/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - API ICQ bot. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/mail-ru-im/bot-python</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - pustaka Python untuk bot ICQ. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://icq.im/metabot</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - dapatkan token dan edit bot. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/shvedoff/Icq_buttons</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - bot yang melakukan semua tindakan yang mungkin dengan tombol. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://icq.im/AoLE1J5Ecm5DIjZh1gg</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - mengobrol untuk pertanyaan tentang bot.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id506180/index.html">Cara memilih daya yang tepat untuk UPS Anda. Kami menganalisis contoh Eaton</a></li>
<li><a href="../id506188/index.html">Pengurai tata bahasa kustom 400-baris</a></li>
<li><a href="../id506190/index.html">Cara mengurangi serangkaian interval waktu dan coba algoritma Bentley-Ottmann</a></li>
<li><a href="../id506196/index.html">Bagaimana Kami Meretas Pabrik yang Cerdas</a></li>
<li><a href="../id506204/index.html">Tipe data abstrak. Bagian 2: Manajemen Data</a></li>
<li><a href="../id506208/index.html">Ilmuwan Rusia telah menciptakan bahan yang paling tahan panas di dunia</a></li>
<li><a href="../id506218/index.html">Megafon terus mengganggu lalu lintas HTTP saya pada tahun 2020, mengirim iklan, bahkan setelah menerima larangan itu</a></li>
<li><a href="../id506222/index.html">Daftar periksa: cobalah untuk tidak melewatkan detailnya</a></li>
<li><a href="../id506228/index.html">AdonisJS 5 - Kerangka kerja mirip-Laravel pada nodeJS dan dengan naskah yang layak Anda perhatikan</a></li>
<li><a href="../id506230/index.html">Lampu sorot yang mengejutkan saya. Uji dan ulas Gauss QPlus</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>