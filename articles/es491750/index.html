<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üí™üèΩ üåí üë®üèø‚Äçüéì Escribimos la b√∫squeda de subcadenas mejor que en los libros de texto üêü üê≥ üëáüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La vida de un ingeniero est√° llena de sorpresas: especialmente cuando tienes que lidiar con la productividad. Por ejemplo, ¬øqu√© sucede si intenta ejec...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Escribimos la b√∫squeda de subcadenas mejor que en los libros de texto</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/jugru/blog/491750/"><img src="https://habrastorage.org/webt/ri/ei/to/rieitoeutxefbbjts6ag-carfqk.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La vida de un ingeniero est√° llena de sorpresas: especialmente cuando tienes que lidiar con la productividad. </font><font style="vertical-align: inherit;">Por ejemplo, ¬øqu√© sucede si intenta ejecutar este fragmento de c√≥digo Java? </font><font style="vertical-align: inherit;">Se ve bastante inocente:</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-comment">//   String.repeat  JDK 11  :</span>
<span class="hljs-keyword">final</span> <span class="hljs-keyword">var</span> needle = <span class="hljs-string">"A"</span>.repeat(<span class="hljs-number">500000</span>) + <span class="hljs-string">"B"</span>;
<span class="hljs-keyword">final</span> <span class="hljs-keyword">var</span> haystack = <span class="hljs-string">"A"</span>.repeat(<span class="hljs-number">1000000</span>) + <span class="hljs-string">"B"</span>;<font></font>
System.out.println(haystack.indexOf(needle));</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esperamos, esperamos, esperamos ... Al menos en mi computadora port√°til 2015 OpenJDK 13, encontrar una aguja en un pajar lleva aproximadamente un minuto. </font><font style="vertical-align: inherit;">Nuestro viejo JVM ha pasado por d√©cadas de ajuste de rendimiento, ha implementado de manera efectiva intr√≠nsecos </font></font><code>String.indexOf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y m√°s. </font><font style="vertical-align: inherit;">¬øQu√© pudo haber salido mal?</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Este es el comienzo de una serie de varios art√≠culos por cortes√≠a de su autor, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linas Med≈æi≈´nas</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , y originalmente publicados en el blog de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ingenier√≠a de WiX</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
</blockquote><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eche un vistazo m√°s de cerca a lo que se ingresa: los datos se seleccionan especialmente para lograr un rendimiento cuadr√°tico en el peor de los casos ( </font></font><code>O(nm)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">donde </font></font><code>n</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">est√° la longitud </font></font><code>haystack</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y </font></font><code>m</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la longitud </font></font><code>needle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) para el ingenuo algoritmo de b√∫squeda de subcadenas. Repasamos todos los caracteres </font></font><code>haystack</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, y si coinciden con los primeros caracteres </font></font><code>needle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, comenzamos a correr </font></font><code>needle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en el bucle interno, y as√≠ sucesivamente hasta el primer car√°cter no coincidente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puede argumentar que este ejemplo es in√∫til, ya que dichos datos de entrada fueron dise√±ados y archivados especialmente, en la pr√°ctica no encontrar√° esto. Pensar dos veces. ¬øQu√© sucede si est√° trabajando en un servicio web cuyos usuarios pueden cargar cadenas arbitrarias, y en alg√∫n lugar en la parte posterior del servicio hay un c√≥digo que se ejecuta</font></font><code>indexOf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en estas lineas? Luego, solo unas pocas solicitudes maliciosas como la anterior pondr√°n su servicio de rodillas. Vale la pena saber, al menos, sobre los peores casos para los datos de entrada. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Afortunadamente, existen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">algoritmos de b√∫squeda de subcadenas que</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tienen complejidad lineal ( </font></font><code>O(n+m)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). No tienen problemas con los datos del ejemplo anterior. Por ejemplo, el siguiente c√≥digo Scala hace lo mismo, pero se ejecuta en milisegundos en la misma computadora, la misma JVM y usa exactamente lo mismo bajo el cap√≥ </font></font><code>java.lang.String</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="java hljs">val needle = <span class="hljs-string">"A"</span> * <span class="hljs-number">500000</span> + <span class="hljs-string">"B"</span>
val haystack = <span class="hljs-string">"A"</span> * <span class="hljs-number">1000000</span> + <span class="hljs-string">"B"</span>
println(haystack.indexOfSlice(needle))</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El secreto de la gran diferencia est√° dentro del m√©todo </font></font><code>indexOfSlice</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, que forma parte de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la biblioteca est√°ndar de Scala</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Implementa el inteligente algoritmo lineal </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Knut-Morris-Pratt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Y no, no estoy diciendo que el lenguaje X sea mejor que el lenguaje Y. ¬°Desafortunadamente, aqu√≠ todo es mucho m√°s complicado! Por ejemplo, </font></font><code>indexOfSlice</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en Scala, este es un m√©todo generalizado que funciona no solo con cadenas, sino tambi√©n en otras colecciones secuenciales, y puede comparar no solo caracteres, sino tambi√©n elementos de otros tipos. Deber√≠a ser mucho m√°s lento que</font></font><code>String.indexOf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de Java en el caso del medio (hablaremos de esto m√°s adelante). Por lo tanto, tenemos un algoritmo eficiente con un rendimiento mucho mejor en el peor de los casos, pero en promedio es m√°s lento porque tiene una parte constante mucho m√°s grande. Dilemas como este son un problema t√≠pico en el rendimiento del ajuste. No existe una p√≠ldora m√°gica que resuelva todos los problemas: debe analizar cuidadosamente el problema y hacer los micro-puntos de referencia correctos.</font></font><br>
<br>
<hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sigues conmigo ¬°Bueno! Ver√°s, esto es solo una introducci√≥n. Quer√≠a motivarte a lidiar con la complejidad te√≥rica y el rendimiento pr√°ctico de los algoritmos. En el resto de este art√≠culo, veremos algunas implementaciones de varios algoritmos de b√∫squeda de subcadenas y sus puntos de referencia. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Exploraremos tres algoritmos de b√∫squeda de subcadenas. Todos ellos trabajan en tiempo lineal y requieren preprocesamiento, que depende linealmente de la longitud </font></font><code>needle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. El c√°lculo de lo mismo </font></font><code>needle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">se requiere solo una vez, y luego se puede reutilizar en varios intentos de b√∫squeda. Esto es razonable, porque en muchos casos necesitamos buscar la misma l√≠nea una y otra vez. E incluso si no hacemos esto, la precomputaci√≥n no es una operaci√≥n particularmente costosa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todos los algoritmos a continuaci√≥n omiten cada uno de los caracteres en</font></font><code>haystack</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">solo una vez en una fila (sin acceso aleatorio por √≠ndice), por lo que todos funcionan bien en modo de transmisi√≥n. </font><font style="vertical-align: inherit;">Este art√≠culo surgi√≥ durante un trabajo real en un servidor proxy para producci√≥n basado en el marco </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Netty</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , y esto influy√≥ en algunas de las decisiones de dise√±o de API. </font><font style="vertical-align: inherit;">Adem√°s, dado que necesit√°bamos hacer una b√∫squeda en buffers de bytes, el c√≥digo funcionar√° con </font></font><code>Byte</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, no con </font></font><code>Char</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<hr><br>
<h2><font color="#D93740"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Knut-Morris-Pratt (algoritmo KMP)</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este es un conocido algoritmo de b√∫squeda de subcadenas que data de los a√±os 70 del siglo pasado. </font><font style="vertical-align: inherit;">Est√° </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bien descrito en la literatura</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , por lo que no lo describir√© aqu√≠ en detalle. </font><font style="vertical-align: inherit;">El ILC se basa en </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m√°quinas de estado</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : durante la fase de c√°lculo preliminar, se construye una matriz de √≠ndices de enlace a partir de </font></font><code>needle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Durante la b√∫squeda, la m√°quina acepta caracteres </font></font><code>haystack</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uno por uno </font><font style="vertical-align: inherit;">en la entrada </font><font style="vertical-align: inherit;">y actualiza su estado interno en consecuencia (y el estado de que solo hay un √≠ndice en la tabla de relaciones). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqu√≠ hay una </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">implementaci√≥n en Scala</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font color="#D93740"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Algoritmo de b√∫squeda de subcadena binaria</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inicialmente, tuve que inventar independientemente el nombre de este algoritmo: nunca hab√≠a visto algo as√≠ en ninguna parte de la literatura. Como resultado, llegu√© al nombre de "Shifting Bit Mask". M√°s tarde result√≥ que este algoritmo y sus variaciones se conocen desde 1964 bajo varios </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nombres ingleses</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> como "Bitap", "Shift-or", "Shift-and", "Baeza-Yates - Gonnet". Gracias a los lectores que lo han encontrado por m√≠. Este art√≠culo fue escrito mucho antes de esta noticia. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este algoritmo se basa en una idea muy simple y funciona muy bien, ya que casi no hay saltos, y se basa en varias operaciones binarias primitivas. Debido a esto, tiene un l√≠mite en la longitud </font></font><code>needle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que vamos a buscar: no puede tener m√°s de 64 bytes. Este n√∫mero fue tomado simplemente por el n√∫mero de bits en</font></font><code>Long</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en la JVM </font><font style="vertical-align: inherit;">Esta limitaci√≥n es lo suficientemente generosa para una gran cantidad de tareas reales. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como desarroll√© originalmente este algoritmo, intentar√© hablar sobre √©l con m√°s detalle. </font><font style="vertical-align: inherit;">Primero, calculamos previamente el contexto de b√∫squeda para el deseado </font></font><code>needle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="scala hljs">  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">computeBitMasks</span></span>(needle: <span class="hljs-type">Array</span>[<span class="hljs-type">Byte</span>]): <span class="hljs-type">Array</span>[<span class="hljs-type">Long</span>] = {<font></font>
    require(needle.length &lt;= <span class="hljs-number">64</span>, <span class="hljs-string">"Maximum supported search pattern length is 64."</span>)
    <span class="hljs-keyword">val</span> bitMasks = <span class="hljs-type">Array</span>.ofDim[<span class="hljs-type">Long</span>](<span class="hljs-number">256</span>)
    <span class="hljs-keyword">var</span> bit = <span class="hljs-number">1</span>L
    <span class="hljs-keyword">for</span> (c &lt;- needle) {<font></font>
      bitMasks(toUnsignedInt(c)) |= bit<font></font>
      bit &lt;&lt;= <span class="hljs-number">1</span><font></font>
    }<font></font>
    bitMasks<font></font>
  }</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Calculamos previamente </font></font><code>bitMask</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(64 bits </font></font><code>Long</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) para cada valor de byte posible (256 piezas </font></font><code>bitMask</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). </font><font style="vertical-align: inherit;">Para alg√∫n valor de byte </font></font><code>X</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>bitmask</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contiene unidades en todos los lugares donde se </font></font><code>X</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">encuentra </font></font><code>needle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Por ejemplo, aqu√≠ hay una m√°scara de bits para la cadena "abracadabra": </font><font style="vertical-align: inherit;">
adem√°s, debe realizar un c√°lculo previo </font><font style="vertical-align: inherit;">, lo que ayudar√° a comprender que encontramos una coincidencia exacta. </font><font style="vertical-align: inherit;">Parece un valor </font><font style="vertical-align: inherit;">, con un poco </font><font style="vertical-align: inherit;">en posici√≥n </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<a rel="noopener noreferrer" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/099/0d9/f95/0990d9f9590612cce258139fb7c287bd.png"></a><br>
<br><font style="vertical-align: inherit;"></font><code>successBitMask</code><font style="vertical-align: inherit;"></font><code>Long</code><font style="vertical-align: inherit;"></font><code>1</code><font style="vertical-align: inherit;"></font><code>needle.length ‚Äî 1</code><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="scala hljs">  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">computeSuccessBitMask</span></span>(needle: <span class="hljs-type">Array</span>[<span class="hljs-type">Byte</span>]): <span class="hljs-type">Long</span> = {
    <span class="hljs-number">1</span>L &lt;&lt; (needle.length - <span class="hljs-number">1</span>)<font></font>
  }</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y finalmente, debes hacer, de hecho, una b√∫squeda. El √∫nico estado mutable que queremos almacenar es </font></font><code>currentMask</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><code>Long</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). Para cada byte en, </font></font><code>haystack</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nos desplazamos </font></font><code>currentMask</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bit </font><font style="vertical-align: inherit;">hacia la </font><font style="vertical-align: inherit;">izquierda </font><font style="vertical-align: inherit;">, establecemos su bit menos significativo </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y hacemos un bit a bit </font></font><code>and</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">entre el resultado y </font></font><code>bitMask</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, calculado para el valor de byte procesado actual de </font></font><code>haystack</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(esto </font></font><code>and</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">borra todos los bits en aquellos lugares </font></font><code>currentMask</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que no coinciden con el byte procesado actual). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por lo tanto, despu√©s de procesar cada byte, solo sobrevivir√°n aquellos bits que est√©n en posiciones adecuadas. Y con cada byte procesado, todos los bits se desplazan a la izquierda en una posici√≥n. Si el bit "sobrevive" durante el n√∫mero de iteraciones igual a la longitud</font></font><code>needle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- ¬°Encontramos una coincidencia! Y podemos verificar esto con </font></font><code>successBitMask</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="scala hljs">  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">process</span></span>(value: <span class="hljs-type">Byte</span>): <span class="hljs-type">Boolean</span> = {<font></font>
    currentMask = ((currentMask &lt;&lt; <span class="hljs-number">1</span>) | <span class="hljs-number">1</span>) &amp; bitMasks(toUnsignedInt(value))<font></font>
    (currentMask &amp; successBitMask) == <span class="hljs-number">0</span>
  }</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nota: el m√©todo descrito anteriormente devuelve </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">si se encuentra algo y parece contradictorio. </font><font style="vertical-align: inherit;">Esto se puede entender para que el valor </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">signifique la necesidad de continuar la b√∫squeda, pero lo </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">detiene, esto se debe al hecho de que, como escrib√≠ anteriormente, la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API se hizo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> compatible con Netty. </font><font style="vertical-align: inherit;">Si se pregunta c√≥mo ejecutar una b√∫squeda, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqu√≠</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> hay un ejemplo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como resultado, toda la l√≥gica se reduce a unas pocas instrucciones simples del procesador. </font><font style="vertical-align: inherit;">Desafortunadamente, sigue habiendo una comprobaci√≥n completamente in√∫til de los l√≠mites de los √≠ndices de la matriz </font></font><code>bitMasks</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, que ning√∫n JDK puede eliminar (y mir√© el ensamblador generado por varios JDK diferentes). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqu√≠ est√° la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">implementaci√≥n completa en Scala</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font color="#D93740"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aho korasik</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este es otro </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">algoritmo popular</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> conocido desde 1975. Su caracter√≠stica distintiva (y a veces bastante √∫til) es la capacidad de buscar varios </font></font><code>needle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a la vez, mientras que todos los personajes </font></font><code>haystack</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">se omiten exactamente una vez (¬°creo que es genial!). La idea de que todo esto funciona es una extensi√≥n del algoritmo KMP, una m√°quina de estados finitos que utiliza un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√°rbol de prefijos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (que se basa en varios </font></font><code>needle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), que contiene enlaces a enlaces (comp√°relos con una matriz unidimensional del KMP). Basado en estos enlaces, el estado interno del aut√≥mata se cambia entre los nodos del √°rbol de prefijos despu√©s de cada s√≠mbolo procesado, y algunos de los nodos indican un resultado de b√∫squeda positivo para un determinado</font></font><code>needle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">La fase de precomputaci√≥n aqu√≠ es bastante complicada, pero la fase de b√∫squeda es inesperadamente muy simple. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqu√≠ hay un enlace a una </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">implementaci√≥n</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> funcional </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">en Scala</font></a><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta era una lista completamente incompleta de algoritmos de b√∫squeda de subcadenas. </font><font style="vertical-align: inherit;">Tambi√©n probamos el </font><font style="vertical-align: inherit;">algoritmo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rabin-Karp</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y el algoritmo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Boyer-Moore</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">De estos dos, Boyer-Moore mostr√≥ un rendimiento comparable, pero ambos no son compatibles con la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">transmisi√≥n</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (utilizando acceso aleatorio </font></font><code>haystack</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">por √≠ndice), por lo que los descart√© de esta investigaci√≥n.</font></font><br>
<br>
<hr><br>
<h2><font color="#D93740"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Puntos de referencia</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos a comparar los tres algoritmos descritos anteriormente y, adem√°s, veremos los resultados de los m√©todos </font></font><code>String.indexOf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Java) y </font></font><code>indexOfSlice</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Scala). Para ser honesto, esta no es una comparaci√≥n completamente correcta, porque </font></font><code>String.indexOf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">funciona con cadenas y todos los dem√°s m√©todos est√°n en matrices de bytes. Pero esto no parece invalidar los resultados de tal comparaci√≥n. Adem√°s, tambi√©n </font></font><code>Bytes.indexOf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">inclu√≠ </font><font style="vertical-align: inherit;">los resultados </font><font style="vertical-align: inherit;">de Guava (v.28.1). Este m√©todo funciona en conjuntos de bytes. Y lo escribieron en Google: todo lo que escriben all√≠ funciona muy r√°pido, ¬øverdad? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Escribir puntos de referencia siempre es dif√≠cil, porque puede enviar datos completamente diferentes a la entrada, cambiarlos de muchas maneras diferentes, no solo en longitud </font></font><code>needle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y</font></font><code>haystack</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, pero tambi√©n por el contenido interno de estas l√≠neas (que pueden afectar en gran medida a algunos algoritmos). En la pr√°ctica, siempre vale la pena verificar los datos de entrada que son m√°s similares a los datos de sus tareas reales (esto es lo que hicimos en nuestro proyecto). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para acortar este art√≠culo, utilic√© solo 2 tipos de entrada. Uno de ellos est√° destinado a reflejar el caso real: </font></font><code>haystack</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aproximadamente 1,5 KB de tama√±o (con texto legible por humanos dentro) </font></font><code>needle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- 9 bytes, y no en </font></font><code>haystack</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">esta secuencia (esto es necesario para forzar al algoritmo a realizar un escaneo completo). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se necesita otro tipo de entrada para obtener el peor comportamiento de un algoritmo cuadr√°tico. Es mucho m√°s corto que los datos desde el comienzo de este art√≠culo: de lo contrario tendr√≠amos que esperar un minuto entero, ¬ørecuerdas? Formaci√≥n</font></font><code>haystack</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">se establece en el formato </font></font><code>"AA...AAB"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(la misma longitud que el primer tipo de datos) y </font></font><code>needle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- 64 bytes (especialmente para el algoritmo de b√∫squeda de subcadenas binarias para hacer frente a √©l) una matriz del mismo tipo (la coincidencia es solo al final </font></font><code>haystack</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un punto de referencia escrito en el marco JMH </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">se puede encontrar aqu√≠</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Si tiene otras ideas sobre qu√© y c√≥mo medir aqu√≠, puede clonar este repositorio, cambiar algo y publicar comentarios.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A sugerencia de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vladimir Sitnikov</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , agregu√© resultados de referencia para </font></font><code>java.util.regex.Pattern</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">; √©l usa el algoritmo Boyer-Moore bajo el cap√≥.</font></font></blockquote><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
(Nota del traductor: por cierto, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vladimir Sitnikov</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> es miembro de varios comit√©s de programa en el Grupo JUG Ru y hace informes interesantes. Por ejemplo, un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">video de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> su informe de JPoint 2019 titulado "Java se ralentiza: edici√≥n CodeCache" </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">est√° disponible en el enlace</font></a><font style="vertical-align: inherit;"> ).</font></font><br>
<br>
<h2><font color="#D93740"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Resultados de referencia</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los resultados se dan en milisegundos, menos es mejor: </font><font style="vertical-align: inherit;">
aqu√≠ todo es como se esperaba:</font></font><br>
<br>
<code># JMH version: 1.21<br>
# VM version: JDK 13.0.1, OpenJDK 64-Bit Server VM, 13.0.1+9<br>
Benchmark (searchInput) Mode Cnt Score Error Units<br>
javaIndexOf REGULAR avgt 5 0.622 ¬± 0.002 us/op<br>
shiftingBitMask REGULAR avgt 5 1.982 ¬± 0.017 us/op<br>
regexPattern REGULAR avgt 5 2.184 ¬± 0.006 us/op<br>
kmp REGULAR avgt 5 2.635 ¬± 0.016 us/op<br>
scalaIndexOfSlice REGULAR avgt 5 3.202 ¬± 0.009 us/op<br>
guavaIndexOf REGULAR avgt 5 3.696 ¬± 0.095 us/op<br>
ahoCorasic REGULAR avgt 5 7.063 ¬± 0.040 us/op<br>
shiftingBitMask WORST_CASE avgt 5 1.986 ¬± 0.010 us/op<br>
kmp WORST_CASE avgt 5 5.120 ¬± 0.006 us/op<br>
ahoCorasic WORST_CASE avgt 5 6.892 ¬± 0.025 us/op<br>
scalaIndexOfSlice WORST_CASE avgt 5 8.765 ¬± 0.007 us/op<br>
regexPattern WORST_CASE avgt 5 11.566 ¬± 0.086 us/op<br>
javaIndexOf WORST_CASE avgt 5 23.029 ¬± 0.124 us/op<br>
guavaIndexOf WORST_CASE avgt 5 52.927 ¬± 0.275 us/op<br>
</code><br><font style="vertical-align: inherit;"></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para los datos ordinarios, domina </font></font><code>javaIndexOf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, porque utiliza intr√≠nsecos de alto rendimiento en su interior, por lo que la parte constante es peque√±a;</font></font></li>
<li>     ,  :     ,     (<code>O(nm)</code>)   <code>javaIndexOf</code>,           ‚Äî      ,  <code>shiftingBitMask</code> (  )   .</li>
<li><code>guavaIndexOf</code>      ,    <code>javaIndexOf</code>;  ,        2  ,    <code>shiftingBitMask</code>;</li>
<li><code>scalaIndexOfSlice</code>  -  ,  <code>knuthMorrisPratt</code>,   ,      ‚Äî   ,  ;</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">el rendimiento no es la caracter√≠stica m√°s fuerte </font></font><code>ahoCorasic</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(o al menos de su implementaci√≥n; debo admitir que realmente no intent√© hacer microoptimizaciones en √©l, porque lo agregu√© solo por su caracter√≠stica distintiva: la capacidad de buscar en varias l√≠neas a la vez, y esto similar al tema para un art√≠culo separado);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">los datos de entrada (y la longitud </font></font><code>needle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) no afectaron el rendimiento </font></font><code>shiftingBitMask</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y </font></font><code>ahoCorasic</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li>
</ul><br>
<h2><font color="#D93740"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">recomendaciones</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En diferentes casos, los puntos de referencia pueden funcionar de diferentes maneras. </font><font style="vertical-align: inherit;">A pesar de que los resultados anteriores parecen muy indicativos, siempre debe tomar medidas usted mismo y con datos que reflejen sus tareas reales. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En base a los datos presentados, hice las siguientes conclusiones:</font></font><br>
<br>
<ul>
<li>    <code>String</code>-   ,           ,   <code>String.indexOf</code> ( <code>java.util.regex.Pattern</code> ‚Äî      );</li>
<li>,   <code>needle</code>   64 ,    ;</li>
<li> ,   --;</li>
<li>   Scala        - (     ),   <code>indexOfSlice</code>    ‚Äî    ;</li>
<li>    ,  -.</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬°Eso es todo! </font><font style="vertical-align: inherit;">Si le gusta leer sobre algoritmos, rendimiento y similares (y tambi√©n sobre Scala, JVM y Java en general), suscr√≠base al autor de este art√≠culo, Linas Medziunas ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Medio</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Twitter</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El repositorio de github con todo el c√≥digo en este art√≠culo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">est√° aqu√≠</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<hr><br>
<img src="https://habrastorage.org/webt/_f/ku/xn/_fkuxncdimo0rsaeealkeqpe8f0.png" align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Las traducciones de los art√≠culos se publican con el apoyo del Grupo JUG Ru y la Conferencia </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JPoint</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br clear="all"></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es491740/index.html">Internet de las cosas en Yandex.Cloud: c√≥mo se organizan los servicios Yandex IoT Core y Yandex Cloud Functions</a></li>
<li><a href="../es491742/index.html">Sorbete: teclado ergon√≥mico para juegos</a></li>
<li><a href="../es491744/index.html">Los piratas inform√°ticos iran√≠es explotaron vulnerabilidades en VPN</a></li>
<li><a href="../es491746/index.html">La historia de la s√≠ntesis del habla: la era de las soluciones el√©ctricas.</a></li>
<li><a href="../es491748/index.html">Tecnolog√≠as que ayudan a los ciegos a aprender ingl√©s</a></li>
<li><a href="../es491780/index.html">GitLab 12.8 lanzado con Log Browser, NuGet y Compliance Dashboard</a></li>
<li><a href="../es491782/index.html">LANIT lanza la Escuela de Pruebas en Mosc√∫, Penza, Sochi y Novorossiysk</a></li>
<li><a href="../es491788/index.html">Lo que mi compromiso en Angular me ense√±√≥</a></li>
<li><a href="../es491792/index.html">Wireless HiFiMan como etapa en la evoluci√≥n de los auriculares isodin√°micos</a></li>
<li><a href="../es491796/index.html">–°–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–µ –∑–¥–æ—Ä–æ–≤–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>