<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üñêüèº ‚ñ´Ô∏è üö∂üèΩ Comment nous avons fait un bal de danse en ligne üßîüèº üõ∏ üë©‚Äç‚ù§Ô∏è‚Äçüë®</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Le bal des officiers du Bolcho√Ø S√©bastopol se d√©roule traditionnellement en juin, mais cette fois la pr√©paration n'a pas fonctionn√©. Les organisateurs...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Comment nous avons fait un bal de danse en ligne</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/506362/"><img src="https://habrastorage.org/webt/r5/ac/7i/r5ac7iy_cxktzepbq9f02bdsweq.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le bal des officiers du Bolcho√Ø S√©bastopol se d√©roule traditionnellement en juin, mais cette fois la pr√©paration n'a pas fonctionn√©. </font><font style="vertical-align: inherit;">Les organisateurs ont d√©cid√© de lancer Sevastopol Ball Online. </font><font style="vertical-align: inherit;">Depuis que nous diffusons l'√©v√©nement depuis plusieurs ann√©es cons√©cutives, il n'y avait nulle part o√π se retirer. </font><font style="vertical-align: inherit;">Spectateurs sur facebook, vkontakte et sur YouTube, 35 couples dansent √† la maison.</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En g√©n√©ral, bien que nous soyons engag√©s dans des √©missions en ligne depuis un certain temps, nous avons remarqu√© une tendance selon laquelle presque tous les projets n√©cessitent (ou nous exigent de nous-m√™mes) une sorte d'innovation. </font><font style="vertical-align: inherit;">Nous utilisons d'abord SDI, puis un √©metteur vid√©o, puis nous transmettons un signal √† l'aide de plusieurs modems 4G de la mer, une nouvelle t√©l√©commande, une matrice de signal, captons la vid√©o d'un h√©licopt√®re, restreignons √† 25 groupes VC et autres. </font><font style="vertical-align: inherit;">Chaque nouveau projet vous fait plonger encore plus profond√©ment dans le monde des streams. </font><font style="vertical-align: inherit;">Nous en parlons sur VidMK YouTube, nous avons d√©cid√© d'√©crire sur Habr.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alors la t√¢che ...</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un bal de danse √©pid√©mique est organis√© en ligne. Il y a un couple principal, le reste des participants dansent, r√©p√©tant apr√®s eux, c'est-√†-dire qu'ils doivent voir et entendre le couple principal avec la musique. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zi/le/m7/zilem75qo6iakbpyybhq8dqumg8.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au d√©but, le gouverneur de S√©bastopol est connect√© pour ouvrir le bal. La diffusion dirig√©e pr√™te √† l'emploi va sur YouTube, Facebook et VK. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/td/e-/ks/tde-ksp-4qv10sdzlgyxnoqnsfo.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le moyen le plus √©vident √©tait de t√©l√©phoner √† tout le monde dans le chat vid√©o. Le premier qui m'est venu √† l'esprit √©tait Zoom, mais j'essaie g√©n√©ralement de ne pas saisir imm√©diatement ce que j'entends, mais de chercher des alternatives. Ils ont peut-√™tre un excellent marketing, et m√™me si l'outil est bon, il y a probablement autre chose. Dans le chat, AVstream a parl√© plusieurs fois de TrueConf, j'ai d√©cid√© de l'essayer.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est important de dire ici que nous sommes en Crim√©e et que de nombreux services populaires ne fonctionnent pas ici. Il faut regarder, et souvent les alternatives sont meilleures. Ainsi, par exemple, au lieu du Trello verrouill√©, nous avons commenc√© √† utiliser le puissant Planfix. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
TrueConf a imm√©diatement soudoy√© la possibilit√© d'augmenter son serveur. En th√©orie, cela signifierait que nous ne d√©pendons pas de la charge globale accrue sur les centres de donn√©es pendant la p√©riode d'auto-isolement, nous nous asseyons tranquillement √† S√©bastopol, nous connectons principalement des utilisateurs locaux et plusieurs autres villes, et tout fonctionne de mani√®re stable. De plus, l'utilisation de votre serveur √©tait plus rentable pour l'argent. Et dans le cas de nos clients, il √©tait √©galement offert gratuitement, car les organisateurs du bal avaient des OBNL.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En g√©n√©ral, nous avons test√© le produit et r√©alis√© qu'il nous convenait. </font><font style="vertical-align: inherit;">Bien qu'ils n'aient pas fait la pleine charge de 35 personnes dans les tests, c'√©tait un peu effrayant comment l'ancien ordinateur se comporterait comme un serveur. </font><font style="vertical-align: inherit;">Les exigences du syst√®me sont assez √©lev√©es avec une telle charge, alors ils ont tra√Æn√© un ordinateur bas√© sur AMD Ryzen 7 2700, il est devenu plus silencieux avec. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le serveur √©tait physiquement situ√© l√† o√π la balle a √©t√© diffus√©e. </font><font style="vertical-align: inherit;">La principale application de communication vid√©o √©tait connect√©e sur le m√™me r√©seau que le serveur. </font><font style="vertical-align: inherit;">Cela a ajout√© que l'image parviendrait certainement au serveur, et alors seulement elle serait mise en ligne pour les autres participants. </font><font style="vertical-align: inherit;">Soit dit en passant, Internet devrait √™tre bon. </font><font style="vertical-align: inherit;">Pour nos 35 participants, la vitesse de retour a atteint 120 Mbit, c'est-√†-dire que l'Internet habituel √† 100 Mbit ne sera pas suffisant. </font><font style="vertical-align: inherit;">En g√©n√©ral, le serveur fonctionne, allons sur l'antenne ...</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Signal de cam√©ra</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout chat vid√©o propose de choisir une webcam comme source d'image et un microphone pour le son. Et si nous avions besoin d'une cam√©ra vid√©o professionnelle et du son de deux microphones avec un phonogramme? En bref, nous avons utilis√© le NDI. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons d√ª diriger l'ensemble de la diffusion et du streaming sur les r√©seaux sociaux. Pour ce faire, nous avions un ordinateur principal dans le r√¥le d'un mini-TCP (studio de t√©l√©vision mobile). Tout le travail a √©t√© effectu√© √† l'aide du programme vMix. Il s'agit d'un logiciel assez puissant pour organiser des √©missions de diff√©rents types et niveaux de complexit√©.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/kn/tt/rw/knttrwjaoeoay65nbb0nvwa2yac.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Notre couple de danseurs a √©t√© film√© par une seule cam√©ra, ce n'√©tait tout simplement plus n√©cessaire. Nous avons captur√© le signal de la cam√©ra √† l'aide de la carte interne BlackMagic Intensity Pro. √Ä mon avis, il s'agit d'une carte actuelle pour capturer un signal HDMI. Ce signal devait √©galement √™tre envoy√© sous forme de webcam √† TrueConf. Vous pouvez imm√©diatement convertir le flux en webcam √† l'aide de vMix, mais vous ne voulez pas tout empiler sur un ordinateur. Par cons√©quent, un ordinateur portable s√©par√© a √©t√© utilis√© pour l'appel t√©l√©phonique.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comment obtenir un signal d'une cam√©ra sur un ordinateur portable? Vous pouvez cr√©er un signal vid√©o virtuel sur un ordinateur et l'attraper sur n'importe quel autre ordinateur du r√©seau local autant de fois que vous le souhaitez. Il s'agit de NDI (Network Device Interface). En fait, une sorte de c√¢ble virtuel qui n'a pas besoin d'√™tre administr√© de fa√ßon astucieuse. La largeur d'un flux pour 1080p25 est de pr√®s de 100 Mbit, donc pour un fonctionnement stable, vous avez certainement besoin d'un r√©seau 1 Gbit ou d'une connexion Wi-Fi de plus de 150 Mbit. Mais le c√¢ble est meilleur. Il peut y avoir plusieurs de ces signaux NDI dans un r√©seau local, si seulement la largeur du canal est suffisante.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, sur l'ordinateur principal de vMix, nous voyons le signal de la cam√©ra, l'envoyer au r√©seau comme un signal NDI. </font><font style="vertical-align: inherit;">Sur un ordinateur portable, nous interceptons ce signal en utilisant le programme NDI Virtual Input du package NDI Tools (il est gratuit). </font><font style="vertical-align: inherit;">Ce mini-programme cr√©e une webcam virtuelle dans laquelle vous incluez le signal NDI souhait√©. </font><font style="vertical-align: inherit;">En fait, tout, notre cam√©ra HDMI via NDI est apparue dans TrueConf.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quel est le son?</font></font></h2><br>
<img src="https://habrastorage.org/webt/5v/lc/ei/5vlceisfjup8w_keruygyoulnoy.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous collectons le son de deux microphones radio et d'un phonogramme √† l'aide d'une bonne t√©l√©commande audio et d√©marrons une carte audio externe dans vMix. </font><font style="vertical-align: inherit;">C'est cette somme audio que nous envoyons √† l'air et √† notre flux NDI pour Trukonf. </font><font style="vertical-align: inherit;">L√†, au lieu du microphone de l'ordinateur portable, nous s√©lectionnons NewTek NDI Audio. </font><font style="vertical-align: inherit;">Maintenant, tous nos danseurs voient et entendent dans un appel notre belle image et un son de haute qualit√©.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Image √©th√©r√©e</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
TrueConf a choisi le mode de t√©l√©phonie habituel, quand tout le monde voit tout le monde. </font><font style="vertical-align: inherit;">Il y avait une autre option lorsque nous voyons tout le monde, et tout le monde ne voit que les dirigeants. </font><font style="vertical-align: inherit;">C'est plus efficace, mais il n'y aurait alors aucun effet de masse. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bh/gw/yt/bhgwyt231u4btanw1-gt4w7agza.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le format d'appel ¬´tout le monde voit tout le monde¬ª, vous pouvez s√©lectionner n'importe quelle fen√™tre devant √™tre agrandie. </font><font style="vertical-align: inherit;">Les participants ont donc vu le couple de t√™te et nous avons cr√©√© un autre utilisateur √† partir du compte duquel l'image a √©t√© diffus√©e et bascul√© entre les paires. </font><font style="vertical-align: inherit;">Nous avons cliqu√© sur la paire souhait√©e et agrandi leur √©cran, les paires restantes √©taient petites en dessous. </font><font style="vertical-align: inherit;">Parfois, tous les √©crans √©taient affich√©s pour montrer combien de personnes dansaient en synchronisation.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Maintenant sur la synchronisation</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous vous √™tes probablement interrog√© sur le retard. Oui, elle l'a √©t√©, environ 1-2 secondes dans les deux sens. Ici nous jouons de la musique, le son arrive plus tard aux participants, ils dansent √† ce rythme, et leur image nous revient encore plus tard. Nous avons d√©cid√© de n√©gliger cela dans le cadre du format, et cela semblait encore √† grande √©chelle et int√©ressant. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez r√©soudre le probl√®me de synchronisation pour les t√©l√©spectateurs en retardant artificiellement le son sur nos ondes pour les r√©seaux sociaux. Ensuite, le spectateur du flux verrait les participants danser au rythme de la musique. Mais pas le fait que l'image vienne de tout le monde avec le m√™me retard. Ceci est une autre complication du sch√©ma √©ther, nous le ferons certainement la prochaine fois.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Soit dit en passant, dans le package NDI Tools, il existe un autre mini-programme - Scan Converter. </font><font style="vertical-align: inherit;">Il cr√©e un signal NDI, capturant votre √©cran ou votre webcam. </font><font style="vertical-align: inherit;">C'est ainsi qu'il est facile d'organiser un √©ther, par exemple, une cyber-concurrence √† l'int√©rieur du r√©seau local, ne disposant que de ce r√©seau et de webcams. </font><font style="vertical-align: inherit;">Plus aucun appareil n'est n√©cessaire. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/j_/qo/tk/j_qotkmfhackaibgynkxlzruylc.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour nous, c'√©tait un autre projet o√π il √©tait n√©cessaire d'essayer de nouvelles solutions en entreprise qui n'√©taient pas encore rencontr√©es dans les champs de bataille. </font><font style="vertical-align: inherit;">Je serai heureux de r√©pondre √† tous vos commentaires, avec attention et avec int√©r√™t j'√©tudierai les souhaits et recommandations, si vous savez faire mieux. </font><font style="vertical-align: inherit;">Le monde des flux est infini, de nombreuses technologies apparaissent sous nos yeux et vous pouvez apprendre ensemble plus rapidement. </font><font style="vertical-align: inherit;">Ci-dessous, vous pouvez voir la vid√©o de pr√©sentation du site.</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/RemrkGwDP2g" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr506338/index.html">L'or contre le cancer: Des nanoparticules d'or biocompatibles pour l'oncoth√©rapie individuelle sont obtenues.</a></li>
<li><a href="../fr506340/index.html">√Ä quoi ressemblent les nouvelles garanties d'Amazon</a></li>
<li><a href="../fr506342/index.html">Comment un syst√®me d'automatisation r√©sout les probl√®mes d'un club de sport</a></li>
<li><a href="../fr506346/index.html">Million en un mois: comment lancer vous-m√™me une startup en Europe</a></li>
<li><a href="../fr506358/index.html">3 options de comportement judiciaire lorsqu'ils re√ßoivent des cas de verrous de poursuite</a></li>
<li><a href="../fr506370/index.html">Comparer les performances de la contrainte de v√©rification et de la cl√© √©trang√®re dans SQL Server</a></li>
<li><a href="../fr506372/index.html">L'instinct de reproduction se retrouve dans l'intelligence artificielle</a></li>
<li><a href="../fr506380/index.html">Logiciel gratuit ou domestique. Cours standard ou gratuit</a></li>
<li><a href="../fr506384/index.html">R√©seau de neurones - formation sans professeur. M√©thode du gradient de politique</a></li>
<li><a href="../fr506386/index.html">Comment abandonner l'√©cole et transf√©rer un enfant dans un endroit √©loign√©</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>