<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>âœğŸ¾ ğŸ˜¿ ğŸ‘  Java 11ä¸­çš„AWS Lambdaä»˜è¯¸å®è·µ ğŸ‘©ğŸ»â€âœˆï¸ ğŸ§”ğŸ½ ğŸ </title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æœ¬æ–‡æ˜¯ä¸€ä¸ªå¦‚ä½•é€šè¿‡ä¸€ä¸ªç®€å•ç¤ºä¾‹å¿«é€Ÿè½»æ¾åœ°å¼€å§‹ä½¿ç”¨AWS Lambdaçš„æŒ‡å—ã€‚é€‚åˆå®Œå…¨ä¸ä½¿ç”¨Lambdaçš„å¼€å‘äººå‘˜ï¼Œä»¥åŠçŸ¥é“Cloudå¯ä»¥è¯„ä¼°å¼€å‘æ— æœåŠ¡å™¨åº”ç”¨ç¨‹åºçš„å¦ä¸€ç§æ„¿æ™¯çš„å¼€å‘äººå‘˜ã€‚
 
 
 
 
 ä»‹ç»
 å¤§å®¶å¥½ã€‚
 æˆ‘çš„åå­—å«Alexander Gruzdevï¼Œæˆ‘æ˜¯DINSçš„Javaå›¢é˜Ÿè´Ÿè´£...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Java 11ä¸­çš„AWS Lambdaä»˜è¯¸å®è·µ</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dins/blog/486648/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœ¬æ–‡æ˜¯ä¸€ä¸ªå¦‚ä½•é€šè¿‡ä¸€ä¸ªç®€å•ç¤ºä¾‹å¿«é€Ÿè½»æ¾åœ°å¼€å§‹ä½¿ç”¨AWS Lambdaçš„æŒ‡å—ã€‚</font><font style="vertical-align: inherit;">é€‚åˆå®Œå…¨ä¸ä½¿ç”¨Lambdaçš„å¼€å‘äººå‘˜ï¼Œä»¥åŠçŸ¥é“Cloudå¯ä»¥è¯„ä¼°å¼€å‘æ— æœåŠ¡å™¨åº”ç”¨ç¨‹åºçš„å¦ä¸€ç§æ„¿æ™¯çš„å¼€å‘äººå‘˜ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bd/y8/lu/bdy8luzeox9qq09msokx8yzoba4.jpeg" alt="å›¾ç‰‡"><br>
<a name="habracut"></a><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»‹ç»</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¤§å®¶å¥½ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘çš„åå­—å«Alexander Gruzdevï¼Œæˆ‘æ˜¯DINSçš„Javaå›¢é˜Ÿè´Ÿè´£äººã€‚ä¸¤å¹´å¤šæ¥ï¼Œæˆ‘ä¸€ç›´ä¸AWSåŸºç¡€æ¶æ„ç´§å¯†åˆä½œï¼Œå¹¶ä¸”åœ¨ç¼–å†™é€‚ç”¨äºAWSçš„åº”ç”¨ç¨‹åºä»¥åŠéƒ¨ç½²è¿™äº›åº”ç”¨ç¨‹åºæ–¹é¢éƒ½æœ‰ç»éªŒã€‚åœ¨æˆ‘çš„å·¥ä½œä¸­ï¼Œæˆ‘ä¸å¾—ä¸ä½¿ç”¨ElasticBeanstalkï¼ŒECSï¼ŒFargateï¼ŒEKSï¼Œå½“ç„¶è¿˜æœ‰AWS Lambdaã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿™äº›æœåŠ¡ä¸­çš„æ¯ä¸€ä¸ªéƒ½ä»¥å…¶è‡ªå·±çš„æ–¹å¼å¾ˆå¥½ï¼Œå¹¶ä¸”åœ¨æœ¬æ–‡çš„æ¡†æ¶å†…ï¼Œæˆ‘ä¸ä¼šæ•¦ä¿ƒä»…ä½¿ç”¨AWS Lambdaæ›¿ä»£æ‰€æœ‰å…¶ä»–é€‰é¡¹ã€‚æˆ‘åªæƒ³å±•ç¤ºå¼€å§‹ä½¿ç”¨Lambdaçš„è¿‡ç¨‹æ˜¯å¤šä¹ˆå®¹æ˜“ï¼Œåœ¨ä»€ä¹ˆæƒ…å†µä¸‹æ‚¨ä¼šä»ä¸­å—ç›Šã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»å¼€å‘äººå‘˜åˆ°ç®¡ç†äººå‘˜ï¼Œæ¯ä¸ªäººéƒ½éœ€è¦ä¸€ä¸ªæ¸…æ™°çš„è¿‡ç¨‹æ¥ä¸ºå®¢æˆ·äº¤ä»˜æ›´æ”¹ã€‚</font><font style="vertical-align: inherit;">è¯¥è·¯å¾„è¶Šé€æ˜ï¼Œéœ€è¦çš„å·¥ä½œé‡è¶Šå°‘ï¼Œåˆ©æ¶¦å°±è¶Šé«˜ã€‚</font><font style="vertical-align: inherit;">å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå¼€å‘äººå‘˜å’Œæµ‹è¯•äººå‘˜ä¸å¸Œæœ›çŸ¥é“åº”ç”¨ç¨‹åºå°†éƒ¨ç½²åœ¨ä½•å¤„ï¼Œé€‰æ‹©å“ªç§ç¡¬ä»¶ï¼Œè¦å°†å‰¯æœ¬æ”¾ç½®åœ¨å“ªä¸ªåŒºåŸŸç­‰ã€‚</font><font style="vertical-align: inherit;">åœ¨ä¸‹å›¾ä¸­ï¼Œæ‚¨å¯ä»¥çœ‹åˆ°â€œ aaSâ€æœåŠ¡ç±»ï¼ˆä½œä¸ºæœåŠ¡ï¼‰ï¼Œå…¶ä¸­AWS Lambdaä»£è¡¨FaaSç±»åˆ«ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/webt/z8/nj/wl/z8njwlqjrgatljwptthtqe9ealu.png" alt="å›¾ç‰‡"><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¦‚è¿°</font></font></b>
                        <div class="spoiler_text">FaaS ,            .     ,  , CRUD   C, R, U, D     Create   Read.      ,   â€”  .<br>
</div>
                    </div><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç†å¿µ</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸ºäº†æ¼”ç¤ºæ— æœåŠ¡å™¨è§£å†³æ–¹æ¡ˆçš„å‘å±•ï¼Œæˆ‘å†³å®šä¸¾ä¸€ä¸ªå¹³åº¸çš„ä¾‹å­ã€‚</font><font style="vertical-align: inherit;">æˆ‘è®¤ä¸ºæ‚¨å·²ç»åœ¨è®¸å¤šç«™ç‚¹ä¸Šçœ‹åˆ°äº†â€œä¸æˆ‘ä»¬è”ç³»â€åé¦ˆè¡¨ï¼Œæ‚¨å¯ä»¥åœ¨å…¶ä¸­ç•™ä¸‹æ‚¨çš„é‚®ä»¶æˆ–ç”µè¯å¹¶æå‡ºé—®é¢˜ä»¥å¾…æ—¥åå›ç­”ã€‚</font><font style="vertical-align: inherit;">åœ¨ä¸‹é¢çš„å±å¹•ä¸Šï¼Œè¡¨å•ä¸æ˜¯è¶…çº§ï¼Œä½†æœ¬æ–‡çš„ä¸»é¢˜ä¸æ˜¯ææ–™è®¾è®¡ã€‚</font></font><br>
<img src="https://habrastorage.org/webt/gv/5g/iv/gv5givju7glj8vftkb1cdhupdiw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é€šè¿‡å¡«å†™æ­¤è¡¨æ ¼ï¼Œæ½œåœ¨å®¢æˆ·å°†ç­‰å¾…æ‚¨çš„æ¥ç”µæˆ–æ¥ä¿¡ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»æŠ€æœ¯æ–¹é¢ï¼Œæ‚¨éœ€è¦ï¼š</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å°†æ•°æ®ä»è¡¨å•ä¿å­˜åˆ°æ•°æ®åº“ï¼›</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¯„ä¿¡ç»™å°†å›ç­”é—®é¢˜çš„ä»£ç†å•†ï¼›</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¹Ÿè®¸ç¼–å†™å¦ä¸€ä¸ªæœåŠ¡ï¼Œä»£ç†å°†åœ¨è¯¥æœåŠ¡ä¸Šæ ‡è®°åŸºäºåŒä¸€æ•°æ®åº“å®Œæˆçš„å·¥ä½œï¼ˆä¸åŒ…æ‹¬åœ¨æœ¬æ–‡èŒƒå›´å†…ï¼‰ã€‚</font></font></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿™ä¸ªæƒ³æ³•çš„å®ç°å¯ä»¥åœ¨</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸Š</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">æ‰¾åˆ°</font></a><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å»ºç­‘</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨å®ç°è¿‡ç¨‹ä¸­é¦–å…ˆæƒ³åˆ°çš„æ˜¯æˆ‘ä»¬éœ€è¦çš„ï¼š</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœºå™¨èƒŒé¢ï¼Œæ­£é¢ï¼Œå›¾åƒç­‰ä¸‹æ–¹ï¼Œ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¸¦åº•åº§è½¦</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœºå¸¦æœ‰ç”µå­é‚®ä»¶æœåŠ¡ã€‚</font></font></li>
</ul><br>
<br>
<img src="https://habrastorage.org/webt/9a/7h/83/9a7h83iyieeicpht4-bcwy8l-ja.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
éœ€è¦å¾ˆå¥½åœ°å¤åˆ¶èƒŒé¢å’Œåº•é¢ï¼Œä½†æ˜¯å‡è®¾æˆ‘ä»¬æ˜¯åœ¨æˆ‘ä»¬çš„è¿·ä½ å•†åº—ä¸­è¿™æ ·åšçš„ï¼Œé‚£ä¹ˆæ­¤è¡¨å•ä¸Šçš„è´Ÿè½½æ˜¯æœ€å°çš„ã€‚</font><font style="vertical-align: inherit;">å› æ­¤ï¼Œæ‰€æœ‰è¿™äº›æœºå™¨éƒ½å¯ä»¥ç»„åˆä¸ºä¸€ä¸ªï¼Œå¹¶åœ¨å•ä¸ªé›†åˆä¸­éƒ¨ç½²ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä½†æ˜¯ï¼Œç”±äºæˆ‘ä»¬æ­£åœ¨è€ƒè™‘æ— æœåŠ¡å™¨ï¼Œå› æ­¤è®©æˆ‘ä»¬å®Œå…¨åœ¨æ— æœåŠ¡å™¨ç»„ä»¶ä¸Šæ„å»ºä½“ç³»ç»“æ„ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ— è®ºServerlesså¬èµ·æ¥å¤šä¹ˆæœ‰å‰é€”ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“æœåŠ¡å™¨ä»åœ¨è¿™é‡Œï¼Œå®ƒä»¬åªæ˜¯ä»æ‚¨çš„è§†é‡ä¸­æ¶ˆå¤±äº†ã€‚</font><font style="vertical-align: inherit;">ç°åœ¨ï¼Œæ‚¨å¯ä»¥å®Œæˆäº‘å·¥ä½œï¼Œè€Œæ‚¨å¯ä»¥è‡ªå·±å®Œæˆçäº‹ã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯ï¼Œè®©æˆ‘ä»¬å°è¯•ä»…ä½¿ç”¨æ­¤ç±»æ— æœåŠ¡å™¨ç»„ä»¶ï¼š</font></font><br>
<img src="https://habrastorage.org/webt/mf/iw/6i/mfiw6if-6nlss4pl-brkgxenxuc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¯¥å›¾æ˜¾ç¤ºäº†æ¯ä¸ªç»„ä»¶åŠŸèƒ½çš„éå¸¸æ¸…æ™°çš„åˆ†ç¦»ã€‚</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AWS Lambdaæ˜¯åŒ…å«ä»£ç /é€»è¾‘çš„ä¸»è¦ç»„ä»¶ï¼Œ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S3è´Ÿè´£å­˜å‚¨é™æ€èµ„æºå’ŒJSè„šæœ¬ï¼Œ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CloudFront-ç”¨äºç¼“å­˜æœºåˆ¶å’Œå¤šåŒºåŸŸæ”¯æŒï¼Œ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SES-ç”µå­é‚®ä»¶æœåŠ¡ï¼Œ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DynamoDB-ç”¨äºå­˜å‚¨è¡¨å•æ•°æ®çš„åŸºç¡€ï¼ˆä»è°é‚£é‡Œï¼Œä»€ä¹ˆé—®é¢˜ï¼Œåœ¨å“ªé‡Œå‘é€ç­”æ¡ˆï¼‰ï¼Œ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç½‘å…³API-ç”¨äºæˆ‘ä»¬çš„lambdaçš„HTTP APIï¼Œ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Route53-å¦‚æœè¦æ·»åŠ æ¼‚äº®çš„åŸŸåï¼Œåˆ™éœ€è¦ã€‚</font></font></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¹¶éæ‰€æœ‰è¿™äº›ç»„ä»¶éƒ½å°†åœ¨æˆ‘ä»¬çš„ä¸‹ä¸€ä¸ªæŒ‡å—ä¸­ä½¿ç”¨ï¼Œåªæ˜¯ä¸ºäº†é¿å…æ‹‰ä¼¸æœ¬æ–‡ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Route53å’ŒCloudFrontæ˜¯ç›¸å½“ç®€å•çš„ç»„ä»¶ï¼Œæ‚¨å¯ä»¥åˆ†åˆ«é˜…è¯»ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸€äº›ç ´åè€…å°†ä¸ºæˆ‘ä»¬æä¾›è¿™æ ·çš„è§£å†³æ–¹æ¡ˆï¼š</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘ä»¬ä¸å†æ”¯æŒEC2æœºå™¨ï¼Œä¸å†é€šè¿‡sshè¿›è¡Œè°ƒè¯•ï¼Œ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è½»æ¾é…ç½®ï¼šä¸€é”®é…ç½®é™åˆ¶/ç¼“å­˜/è®¿é—®ï¼Œ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ”¯æŒè®¿é—®ç­–ç•¥ï¼šé™åˆ¶æƒé™å¹¶æˆäºˆè®¿é—®æƒé™ï¼Œ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¼€ç®±å³ç”¨åœ°è®°å½•/ç›‘è§†ï¼Œ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åªä¸ºå·²ä½¿ç”¨çš„èµ„æº/è¯·æ±‚ä»˜è´¹ã€‚</font></font></li>
</ul><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¼”ç¤ºç‰ˆ</font></font></h1><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è®­ç»ƒ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¦å¼€å§‹å¼€å‘æˆ‘ä»¬çš„æ— æœåŠ¡å™¨è§£å†³æ–¹æ¡ˆï¼Œæ‚¨å¿…é¡»æ»¡è¶³ä»¥ä¸‹è¦æ±‚ï¼š</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœ‰æ•ˆçš„AWSè´¦æˆ·</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aws-cli</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¡‘å…‹é‡Œ</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ°å…‹11</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ‘‡ç¯®</font></font></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å®‰è£…å®Œä¸Šè¿°æ‰€æœ‰å·¥å…·åï¼Œæ‚¨éœ€è¦é…ç½®aws-cliä»¥è¿œç¨‹è®¿é—®AWSã€‚</font><font style="vertical-align: inherit;">è¯·æŒ‰ç…§</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¯´æ˜è¿›è¡Œæ“ä½œ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">è¿™å°†éœ€è¦åˆ›å»ºä¸€ä¸ªæ–°ç”¨æˆ·å¹¶å¸è½½å…¶è®¿é—®å¯†é’¥å’Œç§˜å¯†å¯†é’¥ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é¡¹ç›®ç»„è£…</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.ä»æ¨¡æ¿åˆ›å»ºé¡¹ç›®</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ‰“å¼€æœªæ¥é¡¹ç›®çš„ç›®å½•ï¼Œç„¶åä»ä¸­å¯åŠ¨SAM CLIã€‚</font><font style="vertical-align: inherit;">è¯·æŒ‰ç…§è¯´æ˜è¿›è¡Œæ“ä½œï¼š</font></font><br>
<img src="https://habrastorage.org/webt/kn/gu/7f/kngu7fr3q_h_7t7bq-ygr7baccs.png"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ³¨æ„ï¼šæ ¹æ®SAM-CLIç‰ˆæœ¬ï¼Œå‘½ä»¤å¯èƒ½ä¼šç•¥æœ‰ä¸åŒï¼Œä½†æ˜¯å®ƒä»¬éƒ½ä¿æŒç›´è§‚ã€‚</font><font style="vertical-align: inherit;">åªéœ€é€‰æ‹©ä¸ä¸Šé¢ä½¿ç”¨çš„æœ€ç›¸ä¼¼çš„é‚£äº›å³å¯ã€‚</font><font style="vertical-align: inherit;">å¦‚æœGradleä¸é€‚åˆæ‚¨ï¼Œæ‚¨è¿˜å¯ä»¥é€‰æ‹©å…¶ä»–æ„å»ºå·¥å…·ã€‚</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é¡¹ç›®â€œä½ å¥½ï¼Œä¸–ç•Œï¼â€ </font><font style="vertical-align: inherit;">å‡†å¤‡ã€‚</font><font style="vertical-align: inherit;">ç°åœ¨ï¼Œæ‚¨å¯ä»¥å¤„ç†é¡¹ç›®çš„åç§°ä»¥åŠç¨‹åºåŒ…ï¼Œä¾èµ–é¡¹å’Œæºä»£ç ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.è®©æˆ‘ä»¬åº”å¯¹æˆç˜¾</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å°†ä»¥ä¸‹ä¾èµ–é¡¹æ·»åŠ åˆ°build.gradleï¼š</font></font><br>
<pre><code class="javascript hljs">dependencies {
    <span class="hljs-comment">// AWS</span>
    implementation group: <span class="hljs-string">'com.amazonaws.serverless'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'aws-serverless-java-container-core'</span>, <span class="hljs-attr">version</span>: <span class="hljs-string">'1.4'</span>
    implementation group: <span class="hljs-string">'com.amazonaws'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'aws-lambda-java-core'</span>, <span class="hljs-attr">version</span>: <span class="hljs-string">'1.2.0'</span>
    implementation group: <span class="hljs-string">'com.amazonaws'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'aws-java-sdk-ses'</span>, <span class="hljs-attr">version</span>: <span class="hljs-string">'1.11.670'</span>
    implementation group: <span class="hljs-string">'com.amazonaws'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'aws-java-sdk-dynamodb'</span>, <span class="hljs-attr">version</span>: <span class="hljs-string">'1.11.670'</span>
    implementation group: <span class="hljs-string">'com.amazonaws'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'aws-lambda-java-log4j2'</span>, <span class="hljs-attr">version</span>: <span class="hljs-string">'1.1.0'</span><font></font>
<font></font>
    <span class="hljs-comment">// Utils</span>
    implementation group: <span class="hljs-string">'com.fasterxml.jackson.core'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'jackson-core'</span>, <span class="hljs-attr">version</span>: <span class="hljs-string">'2.10.0'</span>
    implementation group: <span class="hljs-string">'commons-io'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'commons-io'</span>, <span class="hljs-attr">version</span>: <span class="hljs-string">'2.6'</span><font></font>
<font></font>
    <span class="hljs-comment">// Test</span>
    testImplementation group: <span class="hljs-string">'org.mockito'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'mockito-core'</span>, <span class="hljs-attr">version</span>: <span class="hljs-string">'3.1.0'</span>
    testImplementation group: <span class="hljs-string">'org.powermock'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'powermock-api-mockito2'</span>, <span class="hljs-attr">version</span>: <span class="hljs-string">'2.0.4'</span>
    testImplementation group: <span class="hljs-string">'org.powermock'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'powermock-module-junit4'</span>, <span class="hljs-attr">version</span>: <span class="hljs-string">'2.0.4'</span>
    testImplementation group: <span class="hljs-string">'junit'</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'junit'</span>, <span class="hljs-attr">version</span>: <span class="hljs-string">'4.12'</span><font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸»è¦çš„æ˜¯AWSå¼€å‘å·¥å…·åŒ…ã€‚</font><font style="vertical-align: inherit;">å®ƒä»¬å°†å…è®¸æ‚¨ä½¿ç”¨ç‰¹å®šçš„æœåŠ¡ï¼Œä¾‹å¦‚SESï¼ŒDynamoDBç­‰ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.æˆ‘ä»¬å†™ä¸€ä¸ªlambda</font></font></h3><br>
<ul>
<li><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘ä»¬å°†RequestHandlerçš„æ¨¡æ¿è¯·æ±‚å’Œå“åº”ç±»æ›´æ”¹ä¸ºAwsProxyRequestå’ŒContactUsProxyResponseã€‚</font></font></b>
                        <div class="spoiler_text"><pre><code class="java hljs"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">RequestHandler</span>&lt;<span class="hljs-title">AwsProxyRequest</span>, <span class="hljs-title">ContactUsProxyResponse</span>&gt;
...
<span class="hljs-title">public</span> <span class="hljs-title">ContactUsProxyResponse</span> <span class="hljs-title">handleRequest</span>(<span class="hljs-title">AwsProxyRequest</span> <span class="hljs-title">request</span>, <span class="hljs-title">Context</span> <span class="hljs-title">context</span>) </span></code></pre><br>
</div>
                    </div></li>
<li><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title">  AwsClientFactory   AWS SDK-.</b>
                        <div class="spoiler_text"><pre><code class="java hljs"><span class="hljs-comment">/**
 * Just an util class for an eager initialization of sdk clients.
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AwsClientFactory</span> </span>{<font></font>
<font></font>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Logger LOG = LogManager.getLogger(AwsClientFactory.class);<font></font>
<font></font>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> AmazonSimpleEmailService sesClient;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> DynamoDB dynamoDB;<font></font>
<font></font>
    /**<font></font>
     * AWS regions should be env variables <span class="hljs-keyword">if</span> you want to generalize the solution.<font></font>
     */<font></font>
    AwsClientFactory() {<font></font>
        LOG.debug("AWS clients factory initialization.");<font></font>
        sesClient = AmazonSimpleEmailServiceClient.builder().withRegion(Regions.EU_WEST_1).build();<font></font>
        AmazonDynamoDB dynamoDBClient = AmazonDynamoDBClientBuilder.standard().withRegion(Regions.EU_WEST_1).build();<font></font>
        dynamoDB = <span class="hljs-keyword">new</span> DynamoDB(dynamoDBClient);<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function">DynamoDB <span class="hljs-title">getDynamoDB</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> dynamoDB;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function">AmazonSimpleEmailService <span class="hljs-title">getSesClient</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> sesClient;<font></font>
    }<font></font>
<font></font>
}<font></font>
</code></pre><br>
</div>
                    </div></li>
<li><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title">    ObjectMapper   .</b>
                        <div class="spoiler_text"><pre><code class="java hljs">
<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> ObjectMapper OBJECT_MAPPER = <span class="hljs-keyword">new</span> ObjectMapper();
<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> AwsClientFactory AWS_CLIENT_FACTORY = <span class="hljs-keyword">new</span> AwsClientFactory();
</code></pre><br>
</div>
                    </div></li>
<li><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title">         .</b>
                        <div class="spoiler_text"><pre><code class="java hljs">
 <span class="hljs-function"><span class="hljs-keyword">private</span> SendEmailResult <span class="hljs-title">sendEmail</span><span class="hljs-params">(ContactUsRequest contactUsRequest)</span> </span>{<font></font>
        String emailTemplate = getEmailTemplate();<font></font>
        String email = fillTemplate(emailTemplate, contactUsRequest);<font></font>
<font></font>
        SendEmailRequest sendEmailRequest =<font></font>
                <span class="hljs-keyword">new</span> SendEmailRequest(<font></font>
                        System.getenv(<span class="hljs-string">"SENDER_EMAIL"</span>),
                        <span class="hljs-keyword">new</span> Destination(List.of(System.getenv(<span class="hljs-string">"RECIPIENT_EMAIL"</span>))),
                        <span class="hljs-keyword">new</span> Message()<font></font>
                                .withSubject(<font></font>
                                        <span class="hljs-keyword">new</span> Content()<font></font>
                                                .withCharset(UTF_8.name())<font></font>
                                                .withData(contactUsRequest.getSubject()))<font></font>
                                .withBody(<span class="hljs-keyword">new</span> Body()<font></font>
                                        .withHtml(<span class="hljs-keyword">new</span> Content()<font></font>
                                                .withCharset(UTF_8.name())<font></font>
                                                .withData(email))));<font></font>
        LOG.info(<span class="hljs-string">"Email template is ready"</span>);
        <span class="hljs-keyword">return</span> AWS_CLIENT_FACTORY.getSesClient().sendEmail(sendEmailRequest);<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">private</span> String <span class="hljs-title">fillTemplate</span><span class="hljs-params">(String emailTemplate, ContactUsRequest contactUsRequest)</span> </span>{
        <span class="hljs-keyword">return</span> String.format(<font></font>
                emailTemplate,<font></font>
                contactUsRequest.getUsername(),<font></font>
                contactUsRequest.getEmail(),<font></font>
                contactUsRequest.getPhone(),<font></font>
                contactUsRequest.getQuestion());<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">private</span> String <span class="hljs-title">getEmailTemplate</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">return</span> IOUtils.toString(<font></font>
                    Objects.requireNonNull(<span class="hljs-keyword">this</span>.getClass().getClassLoader()<font></font>
                                               .getResourceAsStream(<span class="hljs-string">"email_template.html"</span>)),<font></font>
                    UTF_8);<font></font>
        } <span class="hljs-keyword">catch</span> (IOException e) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> RuntimeException(<span class="hljs-string">"Loading an email template failed."</span>, e);<font></font>
        }<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">addEmailDetailsToDb</span><span class="hljs-params">(ContactUsRequest contactUsRequest, SendEmailResult sendEmailResult)</span> </span>{<font></font>
        AWS_CLIENT_FACTORY.getDynamoDB().getTable(<span class="hljs-string">"ContactUsTable"</span>)<font></font>
                          .putItem(<span class="hljs-keyword">new</span> Item()<font></font>
                                  .withPrimaryKey(<span class="hljs-string">"Id"</span>, sendEmailResult.getMessageId())<font></font>
                                  .withString(<span class="hljs-string">"Subject"</span>, contactUsRequest.getSubject())<font></font>
                                  .withString(<span class="hljs-string">"Username"</span>, contactUsRequest.getUsername())<font></font>
                                  .withString(<span class="hljs-string">"Phone"</span>, contactUsRequest.getPhone())<font></font>
                                  .withString(<span class="hljs-string">"Email"</span>, contactUsRequest.getEmail())<font></font>
                                  .withString(<span class="hljs-string">"Question"</span>, contactUsRequest.getQuestion()));<font></font>
}<font></font>
</code></pre><br>
</div>
                    </div></li>
<li><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title">         .</b>
                        <div class="spoiler_text"><pre><code class="java hljs">
<span class="hljs-function"><span class="hljs-keyword">private</span> ContactUsProxyResponse <span class="hljs-title">buildResponse</span><span class="hljs-params">(<span class="hljs-keyword">int</span> statusCode, String body)</span> </span>{<font></font>
        ContactUsProxyResponse awsProxyResponse =<font></font>
                <span class="hljs-keyword">new</span> ContactUsProxyResponse();<font></font>
        awsProxyResponse.setStatusCode(statusCode);<font></font>
        awsProxyResponse.setBody(getBodyAsString(body));<font></font>
        awsProxyResponse.addHeader(CONTENT_TYPE, ContentType.APPLICATION_JSON.toString());<font></font>
        awsProxyResponse.addHeader(<span class="hljs-string">"Access-Control-Allow-Origin"</span>, <span class="hljs-string">"*"</span>);
        <span class="hljs-keyword">return</span> awsProxyResponse;<font></font>
}<font></font>
<font></font>
 <span class="hljs-function"><span class="hljs-keyword">private</span> String <span class="hljs-title">getBodyAsString</span><span class="hljs-params">(String body)</span> </span>{
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">return</span> OBJECT_MAPPER.writeValueAsString(<span class="hljs-keyword">new</span> ContactUsResponseBody(body));<font></font>
        } <span class="hljs-keyword">catch</span> (JsonProcessingException e) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> RuntimeException(<span class="hljs-string">"Writing ContactUsResponseBody as string failed."</span>, e);<font></font>
        }<font></font>
}<font></font>
</code></pre><br>
</div>
                    </div></li>
<li><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title">    .      Â«// WARMING UPÂ».</b>
                        <div class="spoiler_text"><pre><code class="java hljs">
<span class="hljs-keyword">if</span> (Optional.ofNullable(request.getMultiValueHeaders()).map(headers -&gt; headers.containsKey(<span class="hljs-string">"X-WARM-UP"</span>)).orElse(FALSE)) {<font></font>
            LOG.info(<span class="hljs-string">"Lambda was warmed up"</span>);
            <span class="hljs-keyword">return</span> buildResponse(<span class="hljs-number">201</span>, <span class="hljs-string">"Lambda was warmed up. V1"</span>);<font></font>
}<font></font>
</code></pre><br>
</div>
                    </div></li>
<li><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title">         handleRequest()</b>
                        <div class="spoiler_text"><pre><code class="java hljs">
<span class="hljs-meta">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> ContactUsProxyResponse <span class="hljs-title">handleRequest</span><span class="hljs-params">(AwsProxyRequest request, Context context)</span> </span>{<font></font>
        LOG.info(<span class="hljs-string">"Request was received"</span>);<font></font>
        LOG.debug(getAsPrettyString(request));<font></font>
<font></font>
        <span class="hljs-keyword">if</span> (Optional.ofNullable(request.getMultiValueHeaders()).map(headers -&gt; headers.containsKey(<span class="hljs-string">"X-WARM-UP"</span>)).orElse(FALSE)) {<font></font>
            LOG.info(<span class="hljs-string">"Lambda was warmed up"</span>);
            <span class="hljs-keyword">return</span> buildResponse(<span class="hljs-number">201</span>, <span class="hljs-string">"Lambda was warmed up. V1"</span>);<font></font>
        }<font></font>
<font></font>
        ContactUsRequest contactUsRequest = getContactUsRequest(request);<font></font>
<font></font>
        SendEmailResult sendEmailResult = sendEmail(contactUsRequest);<font></font>
        LOG.info(<span class="hljs-string">"Email was sent"</span>);<font></font>
<font></font>
        addEmailDetailsToDb(contactUsRequest, sendEmailResult);<font></font>
        LOG.info(<span class="hljs-string">"DB is updated"</span>);<font></font>
<font></font>
        <span class="hljs-keyword">return</span> buildResponse(<span class="hljs-number">200</span>,<font></font>
                String.format(<span class="hljs-string">"Message %s has been sent successfully."</span>, sendEmailResult.getMessageId()));<font></font>
}<font></font>
</code></pre><br>
</div>
                    </div></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åŸºæœ¬é€»è¾‘å¾ˆç®€å•ï¼Œå› æ­¤æˆ‘è®¤ä¸ºä¸å€¼å¾—å¯¹å…¶è¿›è¡Œè¯¦ç»†æè¿°ã€‚æœ‰å‡ ç‚¹éœ€è¦æ³¨æ„ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é¦–å…ˆæ˜¯æ—¥å¿—è®°å½•ã€‚ä¸Šä¸‹æ–‡lambdaæ–¹æ³•çš„å‚æ•°ä¹‹ä¸€åŒ…å«è®¸å¤šè¾…åŠ©ä¿¡æ¯ä»¥åŠä¸€ä¸ªè®°å½•å™¨ã€‚å› æ­¤ï¼Œæ‚¨ä¸èƒ½åˆ›å»ºå•ç‹¬çš„è®°å½•å™¨ï¼Œè€Œæ˜¯ä½¿ç”¨æä¾›çš„lambdaä¸Šä¸‹æ–‡ã€‚ä¸ºæ­¤ï¼Œåªéœ€åœ¨ä½¿ç”¨å‰è°ƒç”¨å³å¯ï¼š</font></font><br>
<blockquote><code>LambdaLogger logger = context.getLogger(); </code></blockquote><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç¬¬äºŒç‚¹æ˜¯çƒ­èº«ã€‚ç”±äºä¸ºlambdaåˆ›å»ºå¯æ‰§è¡Œç¯å¢ƒæ˜¯å¾ˆæ‡’çš„ï¼Œå› æ­¤å¯åŠ¨JVMï¼ŒåŠ è½½ç±»è·¯å¾„å¹¶æ‰§è¡Œä»£ç éœ€è¦ä¸€äº›æ—¶é—´ã€‚ç¬¬ä¸€æ¬¡è°ƒç”¨å¯èƒ½éœ€è¦èŠ±è´¹å‡ ç§’é’Ÿçš„æ—¶é—´ï¼Œå¦‚æœæ‚¨ç¼–å†™ä¸åŒçš„åŒæ­¥APIï¼Œåˆ™æ•ˆæœä¸ä½³ã€‚å¯¹äºæ­¤ç±»æƒ…å†µï¼Œæ‚¨è‡ªå·±å¯ä»¥å‘Šè¯‰AWSæ‚¨éœ€è¦ä¿æŒå‡ ä¸ªlambdaå®ä¾‹å¤„äºè­¦æŠ¥çŠ¶æ€ã€‚ä½†è¿™éœ€è¦æœ‰äººè°ƒç”¨lambdaã€‚å¦‚æœæˆ‘ä»¬ä½¿ç”¨åŸºæœ¬ç‰ˆæœ¬çš„ä»£ç æ‰§è¡Œæ­¤æ“ä½œï¼Œé‚£ä¹ˆå®é™…ä¸Šï¼Œæˆ‘ä»¬å°†å‘é€ä¸€å°ä¿¡å¹¶å°†ä¸€äº›ä¸æ­£ç¡®çš„æ•°æ®å†™å…¥æ•°æ®åº“ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸ºé¿å…è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ æŸç§è¯·æ±‚å¤„ç†ï¼Œä»¥åŒºåˆ†å®é™…è¯·æ±‚å’Œé¢„çƒ­è¯·æ±‚ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥å‘è¯·æ±‚æ·»åŠ ç‰¹æ®Šçš„æ ‡å¤´ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œâ€œ X-WARM-UPâ€å¤´å°†ä¸ä»»ä½•å€¼ä¸€èµ·ä½¿ç”¨-ä¸ºäº†äº†è§£è¿™æ˜¯ä¸€ä¸ªé¢„çƒ­è¯·æ±‚ï¼Œæˆ‘ä»¬åªéœ€è¦è¿”å›æŸç§å“åº”å³å¯ï¼Œè€Œæ— éœ€æ‰§è¡Œä¸šåŠ¡é€»è¾‘ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘è¦å¼•èµ·æ³¨æ„çš„æœ€åä¸€ä»¶äº‹æ˜¯ä½¿ç”¨é™æ€å˜é‡ã€‚</font><font style="vertical-align: inherit;">åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œè¿™ä¸ä¼šäº§ç”Ÿæœ‰çŠ¶æ€çš„lambdaå®ä¾‹ï¼Œè€Œåªæ˜¯å…è®¸é‡ç”¨ç°æœ‰å’Œåˆå§‹åŒ–çš„å¯¹è±¡ã€‚</font><font style="vertical-align: inherit;">å¦‚æœè¦åˆå§‹åŒ–çš„å¯¹è±¡åœ¨ä»£ç æ‰§è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿé™æ€æ›´æ”¹ï¼Œè¯·å°è¯•å†æ¬¡è€ƒè™‘è¿™æ˜¯å¦ä¼šå¹²æ‰°åç»­å¯¹lambdaçš„è°ƒç”¨çš„æ“ä½œã€‚</font><font style="vertical-align: inherit;">å¦å¤–ï¼Œå¦‚æœè¿™äº›å¯¹è±¡åœ¨åˆå§‹åŒ–æœŸé—´ä½¿ç”¨ç¯å¢ƒå˜é‡ï¼Œåˆ™ä¸åº”å°†å…¶è®¾ç½®ä¸ºé™æ€ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.æˆ‘ä»¬ç¼–å†™æµ‹è¯•</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lambdaä»£ç å¯ä»¥è¢«å¤§å¤šæ•°æƒ…å†µä¸‹ä½¿ç”¨çš„ç›¸åŒç±»å‹çš„æµ‹è¯•æ‰€è¦†ç›–ã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯ï¼Œä¸ºäº†é˜²æ­¢æ–‡ç« è¿›ä¸€æ­¥å‘å±•ï¼Œæˆ‘å°†åœ¨ä¸‹ä¸€ç¯‡æœ‰å…³AWS Lambdaæµ‹è¯•å’Œæœ¬åœ°å¼€å‘çš„æ–‡ç« ä¸­ä»‹ç»æµ‹è¯•æ— æœåŠ¡å™¨åº”ç”¨ç¨‹åºã€‚</font><font style="vertical-align: inherit;">å°½ç®¡åœ¨</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å­˜å‚¨åº“</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸­å·²ç»å¯ä»¥ä½¿ç”¨å•å…ƒæµ‹è¯•</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.æˆ‘ä»¬ç¼–å†™äº†SAMèµ„æºæ¨¡æ¿</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨æœ¬åœ°ç¼–å†™å¹¶æµ‹è¯•äº†lambdaä¹‹åï¼Œæˆ‘ä»¬éœ€è¦ç¼–å†™SAMæ¨¡æ¿ä»¥åœ¨AWSä¸­éƒ¨ç½²æ‰€æœ‰è¿™äº›èµ„æºã€‚</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å…³äºSAMçš„ä¸€ç‚¹</font></font></b>
                        <div class="spoiler_text">Serverless Application Model â€“     serverless .  ,      CloudFormation DSL,     â€“   Lambda, Gateway, DynamoDB  . . <br>
SAM, CloudFormation, Terraform â€“   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">IaC-</a>. SAM     Serverless-,   Terraform        . <br>
 Terraform   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">    DINS</a>.<br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å®é™…ä¸Šï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹éœ€è¦åœ¨</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SAM-templateä¸­</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å£°æ˜å“ªäº›èµ„æº</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AWS :: Serverless ::å‡½æ•°</font></font></b></i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
å¦‚æœæˆ‘ä»¬ä½¿ç”¨SAMåˆå§‹åŒ–æ¥åˆ›å»ºé¡¹ç›®ï¼Œåˆ™ä¸»è¦åŠŸèƒ½å·²ç»ä¸ºæˆ‘ä»¬å¡«å……ã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯åœ¨æˆ‘çš„ç¤ºä¾‹ä¸­ï¼Œå®ƒä»¬æ˜¯è¿™æ ·çš„ï¼š</font></font><br>
<pre><code class="plaintext hljs">CodeUri: contact-us-function<font></font>
Handler: com.gralll.sam.App::handleRequest<font></font>
Runtime: java8<font></font>
MemorySize: 256<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨è¿™é‡Œï¼Œæˆ‘è®¤ä¸ºä¸€åˆ‡éƒ½è¶³å¤Ÿæ¸…æ¥šã€‚</font></font><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CodeUri</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ˜¯æˆ‘ä»¬çš„ç›®å½•</font></font><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¤„ç†å™¨</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ‹‰å§†è¾¾</font><font style="vertical-align: inherit;">-çš„å®Œæ•´è·¯å¾„</font></font><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¿è¡Œ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–¹æ³•</font><font style="vertical-align: inherit;">-ä»€ä¹ˆ</font></font><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MemorySize</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ‹‰å§†è¾¾å†™</font><i><font style="vertical-align: inherit;">ä¸Š</font></i><font style="vertical-align: inherit;"> -ä¸è¨€è‡ªæ˜</font></font><br>
<br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¯´åˆ°å†…å­˜</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼šé«˜è¾¾3GBçš„å†…å­˜å¯ç”¨åœ¨lambdaï¼Œè¿™ç›¸å½“äº2ä¸ªCPUçš„èµ„æºã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ‚¨ä¸èƒ½å•ç‹¬è°ƒæ•´CPUï¼Œè€Œåªèƒ½å¢åŠ /å‡å°‘å†…å­˜é‡ã€‚</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
éœ€è¦ä¸‹ä¸€ä¸ªæ¡†æ¥é€‰æ‹©éƒ¨ç½²æ–¹æ³•ã€‚</font></font><br>
<pre><code class="plaintext hljs">AutoPublishAlias: live<font></font>
DeploymentPreference:<font></font>
  Type: Canary10Percent10Minutes<font></font>
</code></pre><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AutoPublishAlias-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å…è®¸æ‚¨ä¸ºæ¯ä¸ªæ–°çš„éƒ¨ç½²ç‰ˆæœ¬</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ·»åŠ åˆ«å</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚ä¸ºäº†å®ç°é‡‘ä¸é›€éƒ¨ç½²ï¼Œè¿™æ˜¯å¿…éœ€çš„ã€‚</font></font><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Canary10Percent10Minutes-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸€ç§éƒ¨ç½²ç±»å‹ï¼Œå®ƒå…è®¸æ‚¨åŒæ—¶å®¹çº³lambdaçš„ä¸¤ä¸ªç‰ˆæœ¬ï¼šæ—§ç‰ˆæœ¬å’Œæ–°ç‰ˆæœ¬ï¼Œä½†ä»…å°†10ï¼…çš„æµé‡é‡å®šå‘åˆ°æ–°ç‰ˆæœ¬ã€‚å¦‚æœååˆ†é’Ÿä¹‹å†…æ²¡æœ‰é—®é¢˜ï¼Œå…¶ä½™çš„æµé‡ä¹Ÿå°†è¢«é‡å®šå‘åˆ°æ–°ç‰ˆæœ¬ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ‚¨å¯ä»¥</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨SAMé¡µé¢ä¸Š</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é˜…è¯»æœ‰å…³ä½¿ç”¨é«˜çº§åŠŸèƒ½çš„æ›´å¤šä¿¡æ¯</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¥ä¸‹æ¥æ˜¯å°†åœ¨ä»£ç ä¸­ä½¿ç”¨çš„ç¯å¢ƒå˜é‡ã€‚ä¹‹åï¼Œå¦ä¸€ä¸ªlambdaå—ï¼š</font></font><br>
<pre><code class="plaintext hljs">Events:<font></font>
  ContactUs:<font></font>
    Type: Api<font></font>
    Properties:<font></font>
      Path: /contact<font></font>
      Method: post<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨å…¶ä¸­ï¼Œæˆ‘ä»¬å¿…é¡»æè¿°è°ƒç”¨lambdaçš„è§¦å‘å™¨ã€‚åœ¨æˆ‘ä»¬çš„æƒ…å†µä¸‹ï¼Œè¿™äº›å°†æ˜¯</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">APIç½‘å…³è¯·æ±‚</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿™æ˜¯æè¿°APIçš„ä¸€ç§ç›¸å½“ç®€åŒ–çš„å½¢å¼ï¼Œä½†æ˜¯å¯¹äºæ–°åˆ›å»ºçš„Gateway APIè€Œè¨€ï¼Œè¶³ä»¥å°†æ‰€æœ‰</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">POST /è”ç³»</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¯·æ±‚é‡å®šå‘</font><font style="vertical-align: inherit;">åˆ°æˆ‘ä»¬çš„lambdaã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å½“ç„¶ï¼Œæˆ‘ä»¬éœ€è¦æè¿°å®‰å…¨æ€§æ–¹é¢ã€‚å¼€ç®±å³ç”¨ï¼Œåˆ›å»ºçš„lambdaå°†æ— æ³•è®¿é—®æ•°æ®åº“æˆ–ç”µå­é‚®ä»¶æœåŠ¡ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦æ˜ç¡®è§„å®šå…è®¸çš„å†…å®¹ã€‚æœ‰</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‡ ç§æ–¹æ³•</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¯ä»¥åœ¨AWSå†…éƒ¨è¿›è¡Œè®¿é—®ã€‚æˆ‘ä»¬å°†ä½¿ç”¨åŸºäºèµ„æºçš„ç­–ç•¥ï¼š</font></font><br>
<pre><code class="plaintext hljs">Policies:<font></font>
  - AWSLambdaExecute<font></font>
  - Version: '2012-10-17'<font></font>
    Statement:<font></font>
      - Effect: Allow<font></font>
        Action:<font></font>
          - ses:SendEmail<font></font>
          - ses:SendRawEmail<font></font>
        Resource: 'arn:aws:ses:eu-west-1:548476639829:identity/aleksandrgruzdev11@gmail.com'<font></font>
      - Effect: Allow<font></font>
        Action:<font></font>
          - dynamodb:List*<font></font>
        Resource: '*'<font></font>
      - Effect: Allow<font></font>
        Action:<font></font>
          - dynamodb:Get*<font></font>
          - dynamodb:PutItem<font></font>
          - dynamodb:DescribeTable<font></font>
        Resource: 'arn:aws:dynamodb:*:*:table/ContactUsTable'<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¯·æ³¨æ„ï¼Œå¯¹äºæ•°æ®åº“è¡¨ï¼Œæˆ‘ä»¬æŒ‡å®šäº†ä¸€ä¸ªç‰¹å®šçš„åç§°ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å°†éœ€è¦åˆ›å»ºä¸€ä¸ªå…·æœ‰ç›¸åŒåç§°çš„è¡¨ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å…³äºSESï¼šæ‚¨ä¼šçœ‹åˆ°æˆ‘çš„ç”µå­é‚®ä»¶åœ°å€ã€‚å°±æ‚¨è€Œè¨€ï¼Œå®ƒå¿…é¡»æ˜¯æ‚¨è‡ªå·±ç¡®è®¤çš„åœ°å€ã€‚å¦‚ä½•æ‰§è¡Œæ­¤æ“ä½œï¼Œè¯·å‚è§</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ­¤å¤„</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¹‹åï¼Œæ‚¨å¯ä»¥é€šè¿‡å•å‡»åˆ›å»ºçš„åœ°å€æ‰¾åˆ°è¯¥èµ„æºçš„èº«ä»½ARNï¼Œå¹¶åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­å°†å…¶æ›¿æ¢ä¸ºç”µå­é‚®ä»¶ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»–ä»¬æœ‰ç‚¹æƒ³å‡ºäº†lambdaã€‚ç°åœ¨è®©æˆ‘ä»¬è¿›å…¥æ•°æ®åº“ã€‚</font></font><br>
<br>
<b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AWS ::æ— æœåŠ¡å™¨:: SimpleTable</font></font></i></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
å¯¹äºæˆ‘ä»¬çš„ä»»åŠ¡ï¼Œæˆ‘ä»¬å°†ä»…åˆ›å»ºä¸€ä¸ª</font><b><i><font style="vertical-align: inherit;">ContactUsTable</font></i></b><font style="vertical-align: inherit;">è¡¨ï¼š</font></font><br>
<pre><code class="plaintext hljs">ContactUsTable:<font></font>
  Type: AWS::Serverless::SimpleTable<font></font>
  Properties:<font></font>
    PrimaryKey:<font></font>
      Name: Id<font></font>
      Type: String<font></font>
    TableName: ContactUsTable<font></font>
    ProvisionedThroughput:<font></font>
      ReadCapacityUnits: 2<font></font>
      WriteCapacityUnits: 2<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨å¿…å¡«å­—æ®µä¸­-ä»…æ˜¯IDï¼Œè¿˜æŒ‡ç¤ºReadCapacityUnitså’ŒWriteCapacityUnitsã€‚</font><font style="vertical-align: inherit;">æˆ‘ä»¬ä¸ä¼šè¯¦ç»†ä»‹ç»é€‰æ‹©ä»€ä¹ˆå€¼ï¼Œå› ä¸ºè¿™ä¹Ÿæ˜¯ä¸€ä¸ªç›¸å½“å¹¿æ³›çš„è¯é¢˜ã€‚</font><font style="vertical-align: inherit;">æ‚¨å¯ä»¥</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨è¿™é‡Œ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é˜…è¯»</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">å¯¹äºæµ‹è¯•åº”ç”¨ç¨‹åºï¼Œè¾ƒå°çš„1-2æ•°é‡çº§å°±è¶³å¤Ÿäº†ã€‚</font></font><br>
<br>
<b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å…¨å±€</font></font></i></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
å‚æ•°ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨å£°æ˜äº†å‡ ä¸ªFunctionæˆ–APIç±»å‹çš„èµ„æºï¼Œåˆ™å¯ä»¥åœ¨æ­¤å—ä¸­å–å‡ºGeneralå‚æ•°ã€‚</font></font><br>
<pre><code class="plaintext hljs">Globals:<font></font>
  Function:<font></font>
    Timeout: 15<font></font>
  Api:<font></font>
    Cors:<font></font>
      AllowOrigin: "'*'"<font></font>
      AllowHeaders: "'Content-Type,X-WARM-UP,X-Amz-Date,Authorization,X-Api-Key'"<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ç”¨å®ƒæ¥è®¾ç½®å‡½æ•°çš„è¶…æ—¶æ—¶é—´å’Œä¸€äº›Corsè®¾ç½®ï¼Œä»¥ä¾¿ç¨åé€šè¿‡ContactUsè¡¨å•ä»æˆ‘çš„é™æ€é¡µé¢è°ƒç”¨Gateway APIã€‚</font></font><br>
<br>
<b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¾“å‡º</font></font></i></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
æ­¤å—ä½¿æ‚¨å¯ä»¥åœ¨å…¨å±€AWS CloudFormationä¸Šä¸‹æ–‡ä¸­åŠ¨æ€å®šä¹‰ä¸€äº›å˜é‡ã€‚</font></font><br>
<pre><code class="plaintext hljs">Outputs:<font></font>
  ContactUsApi:<font></font>
    Description: "API Gateway endpoint URL for Prod stage for ContactUs function"<font></font>
    Value: !Sub "https://${ServerlessRestApi}.execute-api.${AWS::Region}.amazonaws.com/Prod/contact/"<font></font>
  ContactUsFunction:<font></font>
    Description: "ContactUs Lambda Function ARN"<font></font>
    Value: !GetAtt ContactUsFunction.Arn<font></font>
  ContactUsFunctionIamRole:<font></font>
    Description: "Implicit IAM Role created for ContactUs function"<font></font>
    Value: !GetAtt ContactUsFunctionRole.Arn<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¾‹å¦‚ï¼Œæˆ‘ä»¬å£°æ˜äº†ä¸€ä¸ªContactUsApiå˜é‡ï¼Œè¯¥å˜é‡å°†è¢«è®¾ç½®ä¸ºä¸€ä¸ªå€¼ï¼Œä½œä¸ºæˆ‘ä»¬åˆ›å»ºçš„APIç«¯ç‚¹çš„å…¬å…±åœ°å€ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç”±äºæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ {ServerlessRestApi}</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ŒAWSå°†åœ¨å­—ç¬¦ä¸²ä¸­æ’å…¥æ–°ç½‘å…³APIçš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚ç»“æœï¼Œä»»ä½•æœ‰æƒè®¿é—®CloudFormationçš„åº”ç”¨ç¨‹åºéƒ½å°†èƒ½å¤Ÿè·å¾—è¯¥åœ°å€-å› æ­¤ï¼Œæ‚¨æ— æ³•å¯¹æœåŠ¡çš„URLè¿›è¡Œç¡¬ç¼–ç ã€‚å¥½å§ï¼Œå¦ä¸€ä¸ªå¥½å¤„æ˜¯ï¼ŒæŸ¥çœ‹è¾“å‡ºåˆ—è¡¨éå¸¸æ–¹ä¾¿-æœ‰å…³å †æ ˆçš„ä¸€äº›å…ƒä¿¡æ¯ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ­¤å¤„</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¯ä»¥æ‰¾åˆ°åŠŸèƒ½çš„å®Œæ•´åˆ—è¡¨ä»¥åŠå¯ä»¥ä½¿ç”¨çš„å‚æ•°</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‚æ•°</font></font></i></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
é™¤äº†ä¸Šè¿°æ‰€æœ‰ä»¥å¤–ï¼Œæ‚¨è¿˜å¯ä»¥æ·»åŠ ä¸€ä¸ª</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">Parameters</font></a><font style="vertical-align: inherit;">å—</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">è¿™äº›é€‰é¡¹å°†æœ‰åŠ©äºä½¿æ¨¡æ¿æ›´å…·é€šç”¨æ€§ã€‚</font><font style="vertical-align: inherit;">åœ¨æ¨¡æ¿çš„ä»»ä½•å…¶ä»–å—ä¸­ï¼Œæ‚¨éƒ½å¯ä»¥å¼•ç”¨è¿™äº›å‚æ•°ï¼Œä»è€Œä¸å¿…å¯¹æŸäº›å€¼è¿›è¡Œç¡¬ç¼–ç ã€‚</font><font style="vertical-align: inherit;">ä¾‹å¦‚ï¼Œåœ¨æˆ‘çš„æ¨¡æ¿ä¸­ï¼Œå®ƒå¯ä»¥æ˜¯ç”µå­é‚®ä»¶ï¼ŒSES ARNï¼Œå†…å­˜é‡ç­‰ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿™å°±æ˜¯æ•´ä¸ªæ¨¡æ¿ã€‚</font><font style="vertical-align: inherit;">æ²¡æœ‰äººç¦æ­¢åœ¨é™„è¿‘æ·»åŠ æ›´å¤šèµ„æºï¼Œä¾‹å¦‚S3å­˜å‚¨æ¡¶ï¼Œä»»ä½•å…¶ä»–CloudFormationèµ„æºæˆ–ä¸€èˆ¬çš„</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è‡ªå®šä¹‰èµ„æº</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.æˆ‘ä»¬ç»§ç»­è¿›è¡Œéƒ¨ç½²</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸ºäº†ç»„è£…æˆ‘ä»¬çš„é¡¹ç›®ï¼Œæˆ‘ä»¬å°†ä¸ä½¿ç”¨Gradleï¼Œè€Œæ˜¯ä½¿ç”¨SAMã€‚</font></font><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">éƒ¨ä»¶</font></font></b>
                        <div class="spoiler_text"><pre><code class="bash hljs">F:\aws\projects\contact-us-sam-app&gt;sam build<font></font>
Building resource <span class="hljs-string">'ContactUsFunction'</span><font></font>
Running JavaGradleWorkflow:GradleBuild<font></font>
Running JavaGradleWorkflow:CopyArtifacts<font></font>
<font></font>
Build Succeeded<font></font>
<font></font>
Built Artifacts  : .aws-sam\build<font></font>
Built Template   : .aws-sam\build\template.yaml<font></font>
<font></font>
Commands you can use next<font></font>
=========================<font></font>
[*] Invoke Function: sam <span class="hljs-built_in">local</span> invoke<font></font>
[*] Deploy: sam deploy â€“guided<font></font>
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»é¡¹ç›®çš„æ ¹ç›®å½•</font><font style="vertical-align: inherit;">
è¿è¡Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sam build</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‘½ä»¤å°†è‡ªåŠ¨å°†</font><font style="vertical-align: inherit;">æ‰€æœ‰å¿…éœ€çš„æ–‡ä»¶</font><font style="vertical-align: inherit;">æ”¶é›†åˆ°</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.aws-sam</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡ä»¶å¤¹ä¸­ï¼šç±»ï¼Œä¾èµ–é¡¹ï¼ŒSAMæ¨¡æ¿ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¥ä¸‹æ¥ï¼Œæ‚¨éœ€è¦åˆ›å»ºä¸€ä¸ªS3å­˜å‚¨æ¡¶ï¼ŒSAMéšåå°†åœ¨å…¶ä¸­ä¸Šä¼ æ‰€æœ‰æ”¶é›†çš„å·¥ä»¶ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¯ä»¥é€šè¿‡åŸºäºæµè§ˆå™¨çš„AWSæ§åˆ¶å°æˆ–ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥å®Œæˆæ­¤æ“ä½œ</font></font><br>
<blockquote><code>aws s3 mb s3://bucket-name</code></blockquote><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ³¨æ„ï¼šæ‰€æœ‰å­˜å‚¨æ¡¶éƒ½æ˜¯åœ¨å…¨å±€ä¸Šä¸‹æ–‡ä¸­åˆ›å»ºçš„ï¼Œå¹¶ä¸”åœ¨æ‰€æœ‰å¸æˆ·ä¹‹é—´éƒ½ç»è¿‡äº†ç¿»ç‰ˆã€‚</font><font style="vertical-align: inherit;">å› æ­¤ï¼Œå¦‚æœæœ‰äººå·²ç»åœ¨æ‚¨çš„å¸æˆ·ä¸­åˆ›å»ºäº†å­˜å‚¨æ¡¶ï¼Œåˆ™æ— æ³•åˆ›å»ºè¯¥å­˜å‚¨æ¡¶ã€‚</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å­˜å‚¨æ¡¶å‡†å¤‡å°±ç»ªåï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</font></font><br>
<blockquote><code>sam package --output-template-file packaged.yaml --s3-bucket &lt;YOUR_BACKET&gt;</code></blockquote><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åŒ…è£…ç»“æœ</font></font></b>
                        <div class="spoiler_text"><pre><code class="bash hljs">F:\aws\projects\contact-us-sam-app&gt;sam package --output-template-file packaged.yaml --s3-bucket contact-us-sam-app<font></font>
Uploading to ea0c122c06a50d9676fbf9000a80a3bf  9212768 / 9212768.0  (100.00%)<font></font>
<font></font>
Successfully packaged artifacts and wrote output template to file packaged.yaml.<font></font>
Execute the following <span class="hljs-built_in">command</span> to deploy the packaged template<font></font>
sam deploy --template-file F:\aws\projects\contact-us-sam-app\packaged.yaml --stack-name &lt;YOUR STACK NAME&gt;<font></font>
</code></pre></div>
                    </div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘æŒ‡å‘äº†æˆ‘çš„contact-us-sam-appå­˜å‚¨æ¡¶ï¼ŒSAMå°†æ‰€æœ‰èµ„æºä¸Šä¼ åˆ°äº†æŒ‡å®šä½ç½®ã€‚</font><font style="vertical-align: inherit;">æ¥ä¸‹æ¥ï¼ŒSAMå·²ç»å‘Šè¯‰æ‚¨ä½¿ç”¨èµ„æºåˆ›å»ºå †æ ˆçš„å‘½ä»¤ï¼Œä»è€ŒåµŒå…¥æ‚¨çš„å†³å®šã€‚</font><font style="vertical-align: inherit;">æˆ‘ä»¬æ‰§è¡Œäº†ä¸€ä¸‹å‘½ä»¤ï¼Œå¹¶å®Œæˆäº†ä¸€ç‚¹ï¼š</font></font><br>
<blockquote><code>sam deploy --template-file packaged.yaml --region eu-west-1 --capabilities CAPABILITY_IAM --stack-name contact-us-sam-app </code></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¦‚æ‚¨æ‰€è§ï¼Œæˆ‘æ·»åŠ äº†</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--capabilities CAPABILITY_IAM</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">è¿™å°†ä½¿CloudFormationèƒ½å¤Ÿåˆ›å»ºIAMèµ„æºã€‚</font><font style="vertical-align: inherit;">å¦åˆ™ï¼Œåˆ›å»ºæ—¶ä¼šæ”¶åˆ°InsufficientCapabilitiesé”™è¯¯ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»¥ä¸‹æ˜¯æ­¤å‘½ä»¤çš„å·¥ä½œæ—¥å¿—ï¼ˆå›¾ç‰‡å¯å•å‡»ï¼‰ã€‚</font><font style="vertical-align: inherit;">æ¯ä¸ªèµ„æºçš„çŠ¶æ€å’Œè¾“å‡ºå€¼ç­‰è¯¦ç»†ä¿¡æ¯ä»…åœ¨SAM CLIçš„æœ€æ–°ç‰ˆæœ¬ä¸­å¯ç”¨ã€‚</font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/webt/nv/7p/4z/nv7p4zreqati1wd8c8vy3ubuzcm.png"></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.æ£€æŸ¥CloudFormationçš„çŠ¶æ€</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬å¯ä»¥ç­‰å¾…æ§åˆ¶å°ä¸­çš„éƒ¨ç½²å®Œæˆï¼Œç›´åˆ°å‡ºç°ä¸€æ¡æ¶ˆæ¯ï¼ŒæŒ‡å‡ºå·²éƒ¨ç½²äº†å †æ ˆï¼ˆdeployå‘½ä»¤è®°å½•åœ¨ä¸Šä¸€æ®µä¸­ï¼‰ï¼š</font></font><br>
<blockquote><code>Successfully created/updated stack - contact-us-sam-app in eu-west-1</code></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä½†æ˜¯åœ¨æˆ‘ä»¬çš„æƒ…å†µä¸‹ï¼Œç”±äºé‡‘ä¸é›€éƒ¨ç½²æ¨¡å¼ï¼Œæ‚¨åªä¼šåœ¨ååˆ†é’Ÿåçœ‹åˆ°æ­¤æ¶ˆæ¯ã€‚å› æ­¤ï¼Œæ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°å¹¶æŸ¥çœ‹å…¶ä¸­çš„å †æ ˆä¼šæ›´åŠ å®¹æ˜“ã€‚</font></font><br>
<img src="https://habrastorage.org/webt/97/ki/k8/97kik8apukwxsvqwyvsd_wtmaqo.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸€æ®µæ—¶é—´åï¼ŒçŠ¶æ€å°†æ›´æ”¹ä¸º</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CREATE_COMPLETE</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œè¿™è¡¨ç¤ºæˆåŠŸå®Œæˆã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">äº‹ä»¶</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é€‰é¡¹å¡ä¸­ï¼Œ</font><font style="vertical-align: inherit;">æ‚¨å¯ä»¥æŸ¥çœ‹æ‰€æœ‰èµ„æºçš„çŠ¶æ€ã€‚å¦‚æœæ‚¨çš„å †æ ˆå‡ºç°æ•…éšœï¼Œåˆ™å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°è¯¦ç»†çš„é”™è¯¯æ¶ˆæ¯ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¾‹å¦‚ï¼Œè¿™ï¼š</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UPDATE_FAILED-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¦‚æœæ‚¨åœ¨æ¨¡æ¿ä¸­é”™è¯¯åœ°é…ç½®äº†ç½‘å…³APIã€‚</font></font><br>
<img src="https://habrastorage.org/webt/ce/mh/aq/cemhaqtl6uvdmlvnr0bsvrbokok.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨èµ„æºé€‰é¡¹å¡ä¸­ï¼Œæ‚¨å¯ä»¥æ‰¾åˆ°æ‰€æœ‰åˆ›å»ºçš„èµ„æºã€‚</font><font style="vertical-align: inherit;">ä¸è¦æƒŠè®¶äºå…¶æ•°é‡ã€‚</font><font style="vertical-align: inherit;">å°½ç®¡æˆ‘ä»¬ä»…åœ¨SAMæ¨¡æ¿ä¸­å£°æ˜äº†ä¸€ä¸ªå‡½æ•°å’Œä¸€ä¸ªæ•°æ®åº“è¡¨ï¼Œä½†æ˜¯CloudFormationä¸ºæˆ‘ä»¬åˆ›å»ºäº†è®¸å¤šå…¶ä»–èµ„æºã€‚</font><font style="vertical-align: inherit;">å¦‚æœæŸ¥çœ‹å®ƒä»¬çš„ç±»å‹ï¼Œå°±å¯ä»¥äº†è§£å®ƒä»¬æ‰€å±çš„æœåŠ¡ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¯¹äºApi Gatewayï¼Œå®ƒæ˜¯éšå¼åˆ›å»ºçš„ï¼š</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ServerlessRestApi</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ServerlessRestApiéƒ¨ç½²</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ServerlessRestApiProdStage</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åŒæ ·ä¸ºlambdaåˆ›å»ºäº†å‡ ä¸ªå…¶ä»–å¯¹è±¡ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨æ‰“å¼€â€œ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¾“å‡ºâ€</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¹¶æ‰¾åˆ°æˆ‘ä»¬APIçš„URLã€‚</font><font style="vertical-align: inherit;">å¤åˆ¶å®ƒï¼Œå®ƒå°†å¾ˆå¿«æ´¾ä¸Šç”¨åœºã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8. HTML ContactUsè¡¨å•</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¦‚æ‚¨æ‰€è®°å¾—ï¼Œæˆ‘å†³å®šåˆ¶ä½œä¸€ä¸ªContactUsè¡¨å•ï¼Œç°åœ¨æˆ‘ä»¬éœ€è¦ä»¥æŸç§æ–¹å¼ä½¿å®ƒä¸ä»…åœ¨æœ¬åœ°è®¡ç®—æœºä¸Šå¯ç”¨ã€‚</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é…ç½®</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ä¾‹å¦‚ï¼Œå¯¹äºè¡¨å•æœ¬èº«ï¼Œæˆ‘å†³å®šé‡‡ç”¨æœ€ç®€å•çš„HTMLè¡¨å•ï¼Œå¹¶é€šè¿‡ajaxæ·»åŠ äº†Gateway APIè°ƒç”¨ã€‚</font></font><br>
<img src="https://habrastorage.org/webt/ps/e-/4h/pse-4hta3mojfuamij0dhj3bmyg.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é™¤äº†è¡¨å•æœ¬èº«ä¹‹å¤–ï¼Œæˆ‘è¿˜æ·»åŠ äº†ä¸€äº›ç”¨äºè°ƒè¯•å’Œç®€åŒ–å¡«å……çš„æŒ‰é’®ï¼š</font></font><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è®¾ç½®é»˜è®¤å€¼</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -å¯ä»¥é¢„æœŸåœ°æ›¿æ¢HTMLå†…éƒ¨æŒ‡å®šçš„é»˜è®¤å‚æ•°ã€‚</font></font><br>
<pre><code class="javascript hljs">$(<span class="hljs-string">"#url-input"</span>).val(<span class="hljs-string">"https://4ykskscuq0.execute-api.eu-west-1.amazonaws.com/Prod/contact"</span>);<font></font>
$(<span class="hljs-string">"#name-input"</span>).val(<span class="hljs-string">"Mike"</span>);<font></font>
$(<span class="hljs-string">"#email-input"</span>).val(<span class="hljs-string">"Mike@somemail.com"</span>);<font></font>
$(<span class="hljs-string">"#phone-input"</span>).val(<span class="hljs-string">"+79999999999"</span>);<font></font>
$(<span class="hljs-string">"#description-input"</span>).val(<span class="hljs-string">"How much does it cost?"</span>);
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¦‚æœè¦ä½¿ç”¨æ­¤åŠŸèƒ½ï¼Œè¯·å°†url-inputæ›´æ”¹ä¸ºä»</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Outputs</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¤åˆ¶çš„Gateway APIçš„è·¯å¾„</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»£ç®¡</font></font></b><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åˆ›å»ºä¸€ä¸ªæ–°çš„S3å­˜å‚¨æ¡¶ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é€šè¿‡é€‰æ‹©å°†æ–‡ä»¶å…¬å¼€çš„é€‰é¡¹ï¼Œæˆ‘ä»¬å°†HTMLæ–‡ä»¶åŠ è½½åˆ°å­˜å‚¨æ¡¶ä¸­ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘ä»¬è¿›å…¥ä¸Šè½½æ–‡ä»¶çš„å­˜å‚¨æ¡¶ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è½¬åˆ°â€œå±æ€§â€ï¼Œç„¶åæ‰“å¼€â€œé™æ€â€ç½‘ç«™æ‰˜ç®¡ï¼Œç„¶åæŸ¥çœ‹æ–°çš„å…¬å…±å¯ç”¨ç«¯ç‚¹ã€‚</font></font></li>
</ul><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9.å¥åº·æ£€æŸ¥</font></font></h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ ‡å‡†è¯·æ±‚</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ç°åœ¨ï¼Œæ‚¨å¯ä»¥å•å‡»è¡¨å•çš„é“¾æ¥ï¼Œå•å‡»â€œè®¾ç½®é»˜è®¤å€¼â€å’Œâ€œå‘é€â€ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿™æ ·ï¼Œæ‚¨å°†å‘å‡ºå°†é€šè¿‡ç½‘å…³APIåˆ°è¾¾AWS Lambdaçš„è¯·æ±‚ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¦‚æœè¿‡ä¸€ä¼šå„¿æ‚¨æ­£ç¡®é…ç½®äº†æ‰€æœ‰å†…å®¹ï¼Œæ‚¨å°†æ”¶åˆ°ä»¥ä¸‹æ¶ˆæ¯ï¼š</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆåŠŸï¼šæ¶ˆæ¯0102016f28b06243-ae897a1e-b805-406b-9987-019f21547682-000000å·²æˆåŠŸå‘é€ã€‚</font></font><br>
</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿™æ„å‘³ç€é‚®ä»¶å·²æˆåŠŸä¼ é€’ã€‚æ£€æŸ¥æ‚¨åœ¨SAMæ¨¡æ¿ä¸­æŒ‡å®šçš„é‚®ç®±ã€‚å¦‚æœå°šæœªæ›´æ”¹æ¨¡æ¿ï¼Œåˆ™å­—æ¯å°†é‡‡ç”¨ä»¥ä¸‹æ ¼å¼ï¼š</font></font><br>
<img src="https://habrastorage.org/webt/0z/wy/sv/0zwysv5ytv3uzn9fb9az7bsa6lg.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ‚¨è¿˜å¯ä»¥æ‰“å¼€DynamoDBå¹¶ç¡®ä¿å·²å‡ºç°æ–°æ¡ç›®ã€‚</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å†·å¯åŠ¨çš„åŠŸèƒ½</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
æˆ‘æƒ³æ‚¨å·²ç»æ³¨æ„åˆ°æœ‰å…³æˆåŠŸå‘é€çš„æ¶ˆæ¯æ˜¯åœ¨ç›¸å½“é•¿çš„ä¸€æ®µæ—¶é—´ä¹‹åå‘å‡ºçš„ã€‚è¿™æ˜¯ç”±äºä»¥ä¸‹äº‹å®ï¼šAWS LambdaæœåŠ¡å·²æ”¶åˆ°å¤„ç†è¯·æ±‚ï¼Œå¹¶å¼€å§‹å¼•å‘Javaåº”ç”¨ç¨‹åºçš„å®ä¾‹ï¼Œè¿™åŒ…æ‹¬ä½¿ç”¨æ“ä½œç³»ç»Ÿå’ŒJREæå‡å®¹å™¨ï¼ŒåŠ è½½ç±»è·¯å¾„ï¼Œåˆå§‹åŒ–æ‰€æœ‰å˜é‡ï¼Œç„¶åæ‰æ˜¯</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">handleRequestï¼ˆ ï¼‰</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚è¿™ç§°ä¸ºå†·å¯åŠ¨ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å°è¯•å¡«å†™å¹¶å†æ¬¡æäº¤è¡¨å•ã€‚è¿™æ¬¡ç­”æ¡ˆå‡ ä¹ç«‹åˆ»å°±æ¥äº†ï¼Œå¯¹å—ï¼Ÿå¦‚æœåœ¨ç¬¬ä¸€ä¸ªè¯·æ±‚å’Œç¬¬äºŒä¸ªè¯·æ±‚ä¹‹é—´ç»è¿‡äº†20-30åˆ†é’Ÿï¼Œåˆ™ç»“æœå¯èƒ½ä¼šæœ‰æ‰€ä¸åŒã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿™æ˜¯ä»€ä¹ˆåŸå› å‘¢ï¼Ÿäº‹å®æ˜¯ï¼ŒAWS Lambdaç¼“å­˜å·²ä½¿ç”¨å¸¦æœ‰lambdaçš„å®¹å™¨è¿›è¡Œé‡å¤ä½¿ç”¨ã€‚è¿™å‡å°‘äº†ç”¨äºå¯åŠ¨è¯¥æ–¹æ³•çš„æ•´ä¸ªä¸Šä¸‹æ–‡çš„åˆå§‹åŒ–æ—¶é—´ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
lambdasçš„ç¼“å­˜æ—¶é—´é•¿çŸ­å¹¶æ²¡æœ‰æ˜æ˜¾çš„ç›¸å…³æ€§ï¼Œä½†æ˜¯æœ‰äººé€šè¿‡å®éªŒå‘ç°è¿™</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç›´æ¥å–å†³äºæ‰€é€‰æ‹©çš„RAMå€¼</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå…·æœ‰128MBå†…å­˜çš„lambdaå°†æ¯”3GBå¯ç”¨çš„æ—¶é—´æ›´é•¿ã€‚ä¹Ÿè®¸è¿˜æœ‰å…¶ä»–å‚æ•°ï¼Œä¾‹å¦‚ï¼Œæ‰§è¡Œlambdaçš„åŒºåŸŸçš„å¹³å‡è´Ÿè½½ï¼Œä½†è¿™æ˜¯ä¸å‡†ç¡®çš„ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å› æ­¤ï¼Œå¦‚æœæ‚¨ä½¿ç”¨åŒæ­¥è¯·æ±‚ï¼Œè¯·å°è¯•ä¸€ä¸‹å¹¶è®¡åˆ’ç¼“å­˜æ—¶é—´ã€‚</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çƒ­èº«</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ä½œä¸ºé™„åŠ é€‰é¡¹ï¼Œä½ å¯ä»¥ä½¿ç”¨æ‹‰å§†è¾¾åŠ çƒ­ã€‚åœ¨ä»£ç ä¸­ï¼Œæˆ‘æ·»åŠ äº†</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">X-WAMP-UPæ ‡å¤´</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ£€æŸ¥</font><font style="vertical-align: inherit;">ã€‚å¦‚æœæœ‰ä¸€ä¸ªï¼Œåˆ™lambdaä»…è¿”å›å“åº”è€Œä¸æ‰§è¡Œä»»ä½•ä¸šåŠ¡é€»è¾‘ï¼Œä½†å®¹å™¨å°†ä¸ºåç»­è°ƒç”¨åšå¥½å‡†å¤‡ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨CloudWatchè‡ªå·±é€šè¿‡çš‡å† è®¡æ—¶å™¨è°ƒç”¨lambdaã€‚å¦‚æœæ‚¨ä¸å¸Œæœ›å®¢æˆ·åŠ å…¥å†·å¯åŠ¨ï¼Œè¿™å°†æœ‰æ‰€å¸®åŠ©ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨HTMLè¡¨å•ä¸­ï¼Œæ‚¨å¯ä»¥æ‰¾åˆ°WarmUpæ¨¡å¼æŒ‰é’®ï¼Œè¯¥æŒ‰é’®å°†æ­¤ç‰¹æ®Šæ ‡å¤´æ·»åŠ åˆ°è¯·æ±‚ä¸­ã€‚</font><font style="vertical-align: inherit;">æ‚¨å¯ä»¥éªŒè¯æ—¢ä¸ä¼šå‘é€ä¿¡ä»¶ä¹Ÿä¸ä¼šå†™å…¥æ•°æ®åº“ï¼Œä½†æ˜¯æ¥è‡ªlambdaçš„å“åº”åˆ°è¾¾äº†ï¼Œéšåå¯¹çœŸå®è¯·æ±‚çš„è°ƒç”¨å°†ä¸ä¼šèŠ±è´¹å¾ˆå¤šæ—¶é—´ã€‚</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ€»ç»“</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬ç»å†äº†ä»åº”ç”¨ç¨‹åºè®¾è®¡åˆ°</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ‰€è°“çš„ç”Ÿäº§</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‘å¸ƒçš„æ‰€æœ‰ä¸»è¦é˜¶æ®µ</font><font style="vertical-align: inherit;">ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘å¸Œæœ›é‚£äº›å·²ç»å¬è¯´è¿‡Serverlesså’ŒAWS Lambdaä½†åˆæ²¡æœ‰å®é™…ç»éªŒçš„äººèƒ½å¤Ÿä½¿ç”¨æœ¬æŒ‡å—ï¼Œå¹¶æ„Ÿåˆ°è¿™æ ·åšä¸ä»…åœ¨æŸäº›è½¯ä»¶è§£å†³æ–¹æ¡ˆçš„éƒ¨ç½²é€Ÿåº¦ä¸Šå…·æœ‰æ˜¾ç€çš„ä¼˜åŠ¿ã€‚</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¥½å¤„</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
å¯¹äºæˆ‘è‡ªå·±ï¼Œæˆ‘å·²ç»ç¡®å®šäº†æœ€å®è´µçš„å¥½å¤„ï¼š</font></font><br>
<ul>
<li>     Free Tier      ,     ,       .</li>
<li>           1-2 .        /.</li>
<li>  ,          ,         .</li>
<li>  Serverless      .   ,  â€”  .   SAM          AWS. AWS    ,         ,   .</li>
<li>      Lambda ,     .</li>
<li>   Serverless    , , .          ELK/Promethes/Grafana      .</li>
<li>   ,             API.          API Key,   IAM ,                      .</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¥½å§ï¼Œæœ€åŸºæœ¬çš„ä¸œè¥¿å¯èƒ½æ˜¯æ— æœåŠ¡å™¨ã€‚</font><font style="vertical-align: inherit;">æ— éœ€è€ƒè™‘éœ€è¦ä¸ºå“ªä¸ªEC2å®ä¾‹ä»˜è´¹ï¼Œå¦‚ä½•é…ç½®å¯¹å…¶çš„è®¿é—®æƒé™ï¼Œåœ¨åº”ç”¨ç¨‹åºå´©æºƒæ—¶å¦‚ä½•é…ç½®è­¦æŠ¥ï¼Œé…ç½®è‡ªåŠ¨ç¼©æ”¾ç­‰ã€‚</font></font></li>
</ul><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç¼ºç‚¹</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ä¸å¹¸çš„æ˜¯ï¼Œè¿™å¹¶ä¸æ„å‘³ç€ç°åœ¨æ‚¨å¯ä»¥é‡‡ç”¨æ­¤è§£å†³æ–¹æ¡ˆå¹¶å°†å…¶ç”¨ä½œä¼ä¸šç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ï¼Œè€Œä¸æ˜¯æ‚¨åœ¨cuberä¸­æœ€å–œæ¬¢çš„å¾®æœåŠ¡ã€‚</font><font style="vertical-align: inherit;">å¾ˆå¤šæ—¶å€™ï¼Œæ‚¨éœ€è¦æ·±å…¥ç ”ç©¶ä»¥ç¡®å®šåœ¨ç‰¹å®šæƒ…å†µä¸‹æ›´åˆé€‚çš„è§£å†³æ–¹æ¡ˆã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä¹Ÿæœ‰è¯„è®ºï¼Œé€‰æ‹©Lambdaæ—¶åº”æ³¨æ„ï¼š</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å†·å¯åŠ¨ã€‚</font><font style="vertical-align: inherit;">åœ¨ä½¿ç”¨åŒæ­¥æŸ¥è¯¢ä»¥åŠJavaæˆ–Cï¼ƒç­‰è¯­è¨€æ—¶ç‰¹åˆ«é‡è¦ã€‚</font><font style="vertical-align: inherit;">é€šè¿‡é¢„çƒ­å¯ä»¥é€‚å½“åœ°è§£å†³æ­¤é—®é¢˜ï¼Œä½†æœ€å¥½äº‹å…ˆè€ƒè™‘ä¸€ä¸‹è¿™ç§è§£å†³æ–¹æ¡ˆï¼Œç„¶åæ¯”è¾ƒæˆæœ¬å’Œå¯èƒ½çš„æ”¶ç›Š</font></font></li>
<li>    .       3GB  ,    2   ,    ,     - Fargate,       ,     .</li>
<li>          API,       ,           .</li>
<li>    /   1-2     Serverless,                .</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¦‚æœæ‚¨å·²ç»æ‹¥æœ‰åœ¨Cooberä¸­å¼€å‘å¾®æœåŠ¡å’ŒCI / CDçš„åŸºç¡€ç»“æ„ï¼Œé‚£ä¹ˆï¼ˆç‰¹åˆ«æ˜¯å¯¹äºç®¡ç†äººå‘˜ï¼‰äº‰è¾©æ˜¯å¦éœ€è¦æ”¯æŒå¦ä¸€ä¸ªCI / CDæµç¨‹å°†å†æ¬¡æˆä¸ºé—®é¢˜ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¥½å§ï¼Œè¿™é‡Œæ²¡æœ‰æµ‹è¯•ã€‚</font><font style="vertical-align: inherit;">è€Œä¸”ï¼Œæµ‹è¯•lambdaçš„ååé‡éå¸¸å›°éš¾ï¼Œå› ä¸ºå®ƒä»ç„¶ä¸é€šå¸¸çš„æ€§èƒ½æµ‹è¯•ä¸åŒï¼Œå¹¶ä¸”å¿…é¡»è€ƒè™‘è®¸å¤šå› ç´ ã€‚</font></font></li>
</ul><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç”¨æ³•</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
é€šå¸¸ï¼ŒAWS Lambdaå’Œå…¶ä»–æ— æœåŠ¡å™¨æœåŠ¡çš„ä½¿ç”¨éå¸¸é€‚åˆå¼‚æ­¥å’Œäº‹ä»¶é©±åŠ¨çš„å¼€å‘åŸåˆ™ã€‚</font><font style="vertical-align: inherit;">é€šè¿‡ä½¿ç”¨å¼‚æ­¥å¤„ç†ï¼Œå¯ä»¥åœ¨æ€§èƒ½å’Œæˆæœ¬ä¸Šè·å¾—æœ€ä½³ç»“æœã€‚</font><font style="vertical-align: inherit;">è¿™æ˜¯Serveressè§£å†³æ–¹æ¡ˆå°†åœ¨å…¶ä¸­å‘æŒ¥é‡è¦ä½œç”¨çš„è§£å†³æ–¹æ¡ˆåˆ—è¡¨ï¼š</font></font><br>
<img src="https://habrastorage.org/webt/i6/ov/y6/i6ovy6ha2pszsiui5jvyewbf-dk.png"><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">èšè‹¯ä¹™çƒ¯</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç”±äºè¿™ç¯‡æ–‡ç« çš„å†…å®¹ç›¸å½“å¹¿æ³›ï¼Œå¹¶ä¸”æˆ‘ä¸æƒ³å†å¤¸å¤§å…¶è¯ï¼Œå› æ­¤æˆ‘å¾ˆå¯èƒ½ä¼šå‡†å¤‡ä¸€ä¸ªç»­é›†ï¼Œå…¶ä¸­å°†å±•ç¤ºå¦‚ä½•ä½¿ç”¨AWSæ§åˆ¶å°ï¼ŒSAMæ¡†æ¶ç”šè‡³IntelljIDEAçš„æ‰€æœ‰åŠŸèƒ½æ›´æœ‰æ•ˆåœ°è¿›è¡Œå¼€å‘ã€‚</font><font style="vertical-align: inherit;">å¥½å§ï¼Œç”±äºæˆ‘çœç•¥äº†æµ‹è¯•éƒ¨åˆ†ï¼Œå› æ­¤æˆ‘å°†å°è¯•æ›´è¯¦ç»†åœ°æè¿°å¼€å‘çš„è¿™ä¸€æ–¹é¢ã€‚</font><font style="vertical-align: inherit;">å¦å¤–ï¼Œå¦‚æœæ‚¨æœ‰ä»»ä½•è¦æ·»åŠ åˆ°ä¸‹ä¸€ç¯‡æ–‡ç« æˆ–é—®é¢˜çš„æ„¿æœ›ï¼Œè¯·éšæ—¶åœ¨è¯„è®ºæˆ–ç§äººæ¶ˆæ¯ä¸­å†™ã€‚</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¡¥å……ï¼š</font></font></b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AWS Lambdaçš„å®é™…åº”ç”¨ã€‚</font><font style="vertical-align: inherit;">ç¬¬2</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
éƒ¨åˆ†æ–‡ç« ä¸­çš„ä¸€äº›é‡è¦å’Œæœ‰ç”¨çš„é“¾æ¥ï¼š</font></font><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHubé¡¹ç›®</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸‹è½½AWS-CLI</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸‹è½½SAM-CLI</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AWS-CLIé…ç½®</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åŸºç¡€æ¶æ„å³ä»£ç </font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½¿ç”¨Terraformçš„ç»éªŒ</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SAMèµ„æºçš„æè¿°</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AWS Lambdaå‡½æ•°åˆ«å</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é«˜çº§Lambdaéƒ¨ç½²</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SAM Apièµ„æºé…ç½®</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">AWS IAM   </a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">       SES</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> Read/Write capacity  DynamoDB </a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">SAM/CloudFormation  </a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> Parameters   </a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">  CloudFormation </a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">      </a></li>
</ul></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN486648/">https://habr.com/ru/post/zh-CN486648/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN486634/index.html">Visual Studio 2019ç‰ˆæœ¬16.3å’Œ16.4ä¸­çš„MSVCåç«¯æ›´æ–°</a></li>
<li><a href="../zh-CN486638/index.html">Blazor WebAssembly 3.2.0 Preview 1ç°åœ¨å¯ç”¨</a></li>
<li><a href="../zh-CN486640/index.html">331å·ç§»åŠ¨å¼€å‘äººå‘˜çš„æœ‰è¶£ææ–™æ‘˜è¦ï¼ˆ1æœˆ27æ—¥è‡³2æœˆ2æ—¥ï¼‰</a></li>
<li><a href="../zh-CN486644/index.html">5åˆ†é’Ÿå†…DIYå¤©çº¿</a></li>
<li><a href="../zh-CN486646/index.html">æ‘†è„±jQueryåˆ°Svelteçš„çƒ¦æ¼</a></li>
<li><a href="../zh-CN486650/index.html">ç¡¬å®æ—¶ç³»ç»Ÿä¸­çš„åŠ¨æ€å†…å­˜</a></li>
<li><a href="../zh-CN486652/index.html">ç¨‹åºå‘˜çš„â€œçº¯ç†æ€§æ‰¹åˆ¤â€</a></li>
<li><a href="../zh-CN486654/index.html">Raspberry Piä¸Šå®¶åº­åŠ©æ‰‹ä¸­çš„è¿åŠ¨ä¼ æ„Ÿå™¨ä»¥åŠè­¦æŠ¥å’Œè§†é¢‘æ³¨å†Œè¿æ¥</a></li>
<li><a href="../zh-CN486656/index.html">å¦‚ä½•å‘Unicodeæ·»åŠ æ–°å­—ç¬¦ï¼šå¤–è¡Œçš„ç»éªŒ</a></li>
<li><a href="../zh-CN486658/index.html">Moxyç­–ç•¥æ’ä»¶</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>