<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üêå üßñüèº üëéüèª Faules Laden mit der Intersection Observer API ‚ö∞Ô∏è ‚ö°Ô∏è ‚ÜòÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Guten Tag, Freunde! 
 
 In diesem Artikel stellen wir die Intersection Observer API vor, ein leistungsstarkes neues Tool zum langsamen Laden von Bilde...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Faules Laden mit der Intersection Observer API</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/492592/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Guten Tag, Freunde! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diesem Artikel stellen wir die Intersection Observer API vor, ein leistungsstarkes neues Tool zum langsamen Laden von Bildern und anderen Elementen auf einer Seite, das von allen modernen Browsern unterst√ºtzt wird. </font><font style="vertical-align: inherit;">Mit diesem Tool k√∂nnen wir die Sichtbarkeit von Elementen steuern, indem wir das vorl√§ufige oder verz√∂gerte Laden unserer DOM-Inhalte definieren.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
W√§hrend sich das Web weiterentwickelt, unterst√ºtzen Browser immer mehr neue Funktionen und APIs, aber etwas tut Entwicklern immer noch weh - DOM-Rendering. Wenn wir mit der Entwicklung einer neuen Anwendung beginnen, Komponenten erstellen, √ºber die HTML-Struktur nachdenken, Elemente mit CSS formatieren, denken wir auch √ºber den Renderprozess nach, wie unsere Seite im Allgemeinen aussehen wird und √ºber einige andere wichtige Dinge, die sorgf√§ltige Behandlung und Auswirkungen erfordern Anwendungs-Rendering. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies wirkt sich wiederum darauf aus, wie wir unsere Elemente erstellen, wie unser CSS organisiert wird, welche Bibliotheken und Frameworks im Projekt verwendet werden usw. Aus diesem Grund ist das Rendern f√ºr Entwickler so wichtig.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Einer der Gr√ºnde f√ºr die Beliebtheit der React-Bibliothek in der Entwicklergemeinde ist die Tatsache, dass sie ein virtuelles DOM verwendet. Im Wesentlichen handelt es sich hierbei um eine virtuelle Darstellung des realen DOM, die Sie nach Belieben steuern k√∂nnen. Nach allen Aktualisierungen entscheidet das virtuelle DOM, welche √Ñnderungen am urspr√ºnglichen DOM vorgenommen werden m√ºssen, und nimmt diese √Ñnderungen "nahtlos" vor. Es ist nicht erforderlich, die gesamte Seite zu aktualisieren, wenn Sie ein Element √§ndern. Dies ist einer der wichtigsten Vorteile von React gegen√ºber anderen Bibliotheken und Frameworks. DOM-Rendering ist eine kostspielige (in Bezug auf die Leistung) Aufgabe, die React problemlos erledigt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit einigen Bibliotheken und APIs k√∂nnen wir das Rendern von Elementen unserer Anwendungen verbessern. </font><font style="vertical-align: inherit;">Wir werden eine davon kennenlernen - die Intersection Observer API. </font><font style="vertical-align: inherit;">Aber zuerst wollen wir herausfinden, was "faul" das Laden von Bildern ist.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie funktioniert das verz√∂gerte Laden von Bildern?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das verz√∂gerte Laden ist eine der Techniken zum Rendern von Seiteninhalten. Das Konzept des "faulen" Ladens besteht darin, dass wir anstelle des vollst√§ndigen Ladens der Seite nur die erforderlichen Teile laden und das Laden der verbleibenden Teile verschieben (verz√∂gern), bis sie vom Benutzer ben√∂tigt werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein Beispiel f√ºr einen "faulen" Download, von dem Sie wahrscheinlich geh√∂rt haben oder auf den Sie gesto√üen sind, ist das endlose Scrollen der Seite. Dies funktioniert ungef√§hr so: Der Benutzer besucht die Seite, der urspr√ºngliche Inhalt wird geladen, und erst nachdem der Benutzer die Seite bis zum Ende gescrollt hat, wird der n√§chste Teil des Inhalts geladen. In diesem Fall muss nicht der gesamte Inhalt auf einmal heruntergeladen werden, was die Anwendung erheblich erleichtert.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn ein "fauler" Download nur zum Herunterladen von "benutzergenerierten" Inhalten dient, wie hei√üt die entgegengesetzte Technik? Einige haben schon einmal von faulem Laden geh√∂rt, aber nicht das Gegenteil. Das Gegenteil von "faulem" Laden ist "energetisches" Laden (andere Optionen sind ungeduldig, schnelllebig) - wenn der gesamte Inhalt sofort gerendert wird. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wissen Sie, dass es HTML-Attribute zum verz√∂gerten Laden von Bildern gibt? Um sie zu verwenden, f√ºgen Sie dem Element "img" oder "iframe" einfach "load =" faul "hinzu.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wo/6v/hy/wo6vhy3y4zhzk3kk1edxmtsgmvu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit dieser Technik erhalten wir viele Vorteile: Das Laden nur der erforderlichen Ressourcen reduziert den Speicherverbrauch und letztendlich die Ladezeit der Seite. </font><font style="vertical-align: inherit;">Es verhindert auch das Rendern von "nicht beanspruchtem" Code, wodurch die Anwendung f√ºr Bedingungen mit geringer Netzwerkbandbreite optimiert wird. </font><font style="vertical-align: inherit;">Es gibt jedoch einige Nachteile: Dies kann das Ranking der Seite durch Suchmaschinen beeinflussen. </font><font style="vertical-align: inherit;">Dar√ºber hinaus dauert es einige Zeit, die richtige Bibliothek oder API f√ºr die Arbeit auszuw√§hlen.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Intersection Observer API</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JavaScript entwickelt sich so schnell, dass wir fast jedes Jahr eine neue API erhalten. Das Hauptziel der neuen APIs ist es, gro√üartige Anwendungen und Seiten zu erstellen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Intersection Observer ist eine API, mit der Sie die Sichtbarkeit und Position von DOM-Elementen √ºberwachen k√∂nnen. Die Sache ist, dass es asynchron arbeitet und es Ihnen erm√∂glicht, die Sichtbarkeit von Elementen reibungslos (unmerklich) zu √§ndern und das vorl√§ufige oder verz√∂gerte Laden des Inhalts unseres DOM zu bestimmen. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/h7/yj/qj/h7yjqj1e_xj4luztht-s08hle1e.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vor einigen Jahren hatten wir keine API oder ein anderes Tool zum Positionieren und Verfolgen eines Elements. Wir mussten verr√ºckte und riesige Funktionen schreiben, teure (in Bezug auf die Leistung) Methoden erstellen, die mehr Probleme verursachten. Mit der Intersection Observer API k√∂nnen wir coole Dinge tun wie:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Endloses Scrollen von Seiten - Erstellen Sie endloses Scrollen von Tabellen, Listen, Rastercontainern usw. </font><font style="vertical-align: inherit;">Es war noch nie so einfach.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bilder - Warum alle Bilder auf einmal hochladen, wenn Sie den "faulen" Download verwenden und nur den Inhalt anzeigen k√∂nnen, den der Benutzer gerade ben√∂tigt? </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Elemente √ºberwachen - Sie k√∂nnen die Elemente auf der Seite √ºberwachen. </font><font style="vertical-align: inherit;">Beispielsweise erhalten Sie m√∂glicherweise Nachrichten √ºber die Schlie√üung von Anzeigen.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier f√§ngt alles an:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">let</span> myFirstObserver = <span class="hljs-keyword">new</span> IntersectionObserver(callback, options)
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir initialisieren den IntersectionObserver-Konstruktor und √ºbergeben ihm zwei Parameter. </font><font style="vertical-align: inherit;">Der erste Parameter ist eine R√ºckruffunktion, die als Reaktion auf den Schnittpunkt unseres Elements mit dem Ansichtsfenster (d. H. Wenn das Element die Grenzen des Ansichtsfensters √ºberschreitet) oder mit einem anderen Element aufgerufen wird. </font><font style="vertical-align: inherit;">Der Parameter options ist ein Objekt, das die Bedingungen zum Starten der R√ºckruffunktion steuert. </font><font style="vertical-align: inherit;">Dieses Objekt hat die folgenden Felder:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">root - das √ºbergeordnete Element, das als Ansichtsfenster f√ºr das Zielelement dient (f√ºr das Element, das wir beobachten)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rootMargin - der √§u√üere Rand um das Wurzelelement (die Werte dieses Feldes √§hneln den Randwerten in CSS). </font><font style="vertical-align: inherit;">Diese Werte k√∂nnen sich f√ºr jede Seite der Wurzel √§ndern, bevor der Schnittpunkt festgeschrieben wird.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schwellenwert - Eine Zahl oder ein Array von Zahlen, die den Prozentsatz der Schnittmenge des Zielelements mit dem Stammelement bestimmt, bei dem die R√ºckruffunktion gestartet wird </font></font></li>
</ul><br>
<img src="https://habrastorage.org/webt/sp/up/tk/spuptkzkbpv0m30sblumsls7cgy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Werfen wir einen Blick auf die Verwendung der Intersection Observer-API:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">let</span> options = {
    <span class="hljs-attr">root</span>: <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'.scroll-list'</span>),
    <span class="hljs-attr">rootMargin</span>: <span class="hljs-string">'5px'</span>,
    <span class="hljs-attr">threshold</span>: <span class="hljs-number">0.5</span><font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">let</span> myFirstObserver = <span class="hljs-keyword">new</span> IntersectionObserver(<span class="hljs-function"><span class="hljs-params">elements</span> =&gt;</span> { elements.forEach(<span class="hljs-function"><span class="hljs-params">element</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'element'</span>, element)) }, options)
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um mit dem ‚Äû√úberwachen‚Äú eines Elements zu beginnen, m√ºssen Sie das Ziel bestimmen und den Beobachter mithilfe der ‚ÄûBeobachten‚Äú -Methode aufrufen und das Ziel als Parameter √ºbergeben:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">let</span> myDivTarget = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'.header'</span>)<font></font>
<font></font>
observer.observe(myDivTarget)<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist zu beachten, dass alle vom Beobachter beobachteten Elemente Rechtecke sind. </font><font style="vertical-align: inherit;">Unregelm√§√üig geformte Elemente passen in das kleinste Rechteck. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was ist mit der Browserunterst√ºtzung? </font><font style="vertical-align: inherit;">Die Intersection Observer-API wird von allen modernen Browsern wie Chrome, Edge, Firefox und Opera unterst√ºtzt. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pp/0g/vc/pp0gvc64xhmxpi8ehtktge53zic.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie mit vielen Daten arbeiten m√∂chten, z. B. mit einer Tabelle, die viele Informationen enth√§lt, ist die Intersection Observer-API f√ºr Sie √§u√üerst n√ºtzlich. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Einer der Vorteile dieser API besteht darin, dass Sie zur L√∂sung solcher Probleme keine Bibliothek mehr verwenden m√ºssen.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fazit</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben die Intersection Observer-API und ihre Verwendung zum verz√∂gerten Laden, Beobachten der Position von DOM-Elementen usw. untersucht. </font><font style="vertical-align: inherit;">Browser unterst√ºtzen immer mehr APIs, die die Renderzeit von Seiten verk√ºrzen, vor allem f√ºr Benutzer mit einer langsamen Verbindung, die Gr√∂√üe des Projekts reduzieren und nur relevante Inhalte anzeigen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Von einem √úbersetzer: Der Artikel schien mir nicht ausreichend informativ zu sein, daher hier Links zu zus√§tzlicher Literatur:</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spezifikation</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artikel √ºber Intersection Observer API in </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MDN</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Russisch)</font></font></li>
<li><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CSS Tricks Beispiel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Artikel </font><font style="vertical-align: inherit;">(Englisch)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artikel mit Beispielen zu </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Envato</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Englisch)</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Endlos-Scroll-Beispiel</font></a></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Noch ein </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">paar Beispiele</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> auf GitHub</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vielen Dank f√ºr Ihre Aufmerksamkeit.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de492572/index.html">Der aktuelle Stand der Java-Welt: Trends und Fakten f√ºr eine der beliebtesten Programmiersprachen</a></li>
<li><a href="../de492574/index.html">√úberlegungen zur Startwahrscheinlichkeit: Apple AirPods mit Momentum True Wireless 2</a></li>
<li><a href="../de492580/index.html">Was haben Coronavirus und Schach gemeinsam?</a></li>
<li><a href="../de492582/index.html">Cisco bietet sicheren Fernzugriff</a></li>
<li><a href="../de492590/index.html">Wie die Sprachsynthese auf dem PC erschien</a></li>
<li><a href="../de492594/index.html">Lokalisierung von Indie-Spielen: Ist das Spiel die Kerze wert?</a></li>
<li><a href="../de492596/index.html">Speicherplatz als Datenbank</a></li>
<li><a href="../de492600/index.html">Semi-wissenschaftlicher Leitfaden zum Hosten eines WLAN-Routers</a></li>
<li><a href="../de492604/index.html">Asynchrones Arbeiten mit View mithilfe von Coroutine</a></li>
<li><a href="../de492606/index.html">Toolkit-Probleme in gro√üen Projekten</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>