<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôÅ üë©üèª‚Äç‚öñÔ∏è üóΩ As we tested the performance of new processors in the cloud for 1C according to the Gilyov test üå§Ô∏è üöÖ üë®‚Äçüë¶‚Äçüë¶</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We won‚Äôt discover America if we say that virtual machines on new processors are always more productive than equipment on old-generation processors. An...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>As we tested the performance of new processors in the cloud for 1C according to the Gilyov test</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/croccloudteam/blog/502920/"><img src="https://habrastorage.org/webt/jw/-5/b4/jw-5b4r9n3xljewphz9u41uwbia.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We won‚Äôt discover America if we say that virtual machines on new processors are always more productive than equipment on old-generation processors. Another thing is more interesting: when analyzing the capabilities of systems that would seem to be very close in their technical characteristics, the result can be completely different. We were convinced of this when we tested Intel processors in our cloud to check which of them give the greatest return when operating systems on 1C.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Spoiler: as our test showed, it all depends on the task. </font><font style="vertical-align: inherit;">We managed to select the product from the entire line of new Intel processors that gave a multiple increase in performance due to the fact that Intel Xeon Gold 6244 has fewer cores, each core has more L3 cache memory and a higher clock frequency is assigned - both the base and and in turbo boost mode. </font><font style="vertical-align: inherit;">In other words, it is these processors that better cope with resource-intensive tasks in terms of a unit of productivity / ruble. </font><font style="vertical-align: inherit;">For 1C, this fits the best: with new processors, 1C applications in our cloud began to literally ‚Äúbreathe‚Äù.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now we‚Äôll tell you how we tested. </font><font style="vertical-align: inherit;">Below are the results of Gilev synthetic tests. </font><font style="vertical-align: inherit;">You can focus on them, but in any case, you need to check the actual disposal yourself on your tasks.</font></font><a name="habracut"></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Test conditions</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
An important note: we did the comparison without any additional optimizations, not a benchmark. </font><font style="vertical-align: inherit;">With additional configuration of systems in the cloud, the results will be guaranteed better. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Given: two virtual machines with 8 vCPU and 64 GB RAM with FLASH 10,000 IOPS. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The first virtual machine - with Windows Server 2016 and installed 1C 8.3.10.2580, for the second image of a virtual machine with a database (Centos + Postgresql) was taken on </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gilev.ru</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The Postgresql database is not accidental, since its operation is closest to the actual conditions of use of 1C by our customers. </font><font style="vertical-align: inherit;">Yes, yes, we did synthetic tests similar to typical installations, that is, this is not a universal answer to all the questions of the Universe, namely, a guideline for your own analysis.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The important thing is that if you use file architecture instead of a database, test results are usually higher. </font><font style="vertical-align: inherit;">But in reality, this type of architecture is used only for very small installations. </font><font style="vertical-align: inherit;">Here </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RuVDS tested</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> on file architecture. </font><font style="vertical-align: inherit;">And here is what </font><font style="vertical-align: inherit;">Vyacheslav Gilyov himself </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">said</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in a </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;">comment</font></a><font style="vertical-align: inherit;"> about this </font><font style="vertical-align: inherit;">:</font></font><br>
<blockquote><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If we are talking about renting 1C in file mode, then yes, but what catches my eye works exclusively in the client-server version. </font><font style="vertical-align: inherit;">It makes sense: 1) or to make this clarification in the article; </font><font style="vertical-align: inherit;">2) or test the client-server version, because the difference in architecture is significant, and the file version does not have full functionality.</font></font></i></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No additional settings for the operating system and 1C product were made.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Processors</font></font></h3><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In the left corner of the ring is the Intel Xeon E5-2690 v2 processor, 3.00 GHz. </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In the right corner of the ring is Intel Xeon Gold 6254, 3.10 GHz.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In the center of the ring is Intel Xeon Gold 6244, 3.60 GHz.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let the battle begin!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">results</font></font></h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Intel Xeon E5-2690 v2, 3.00 GHz: </font></font></b><br>
<br>
<img src="https://habrastorage.org/webt/lo/ne/xs/lonexsrvk2dhkjo3fllq_qft-fc.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúGood‚Äù for us - the minimum mark that guarantees a comfortable level of customer experience with 1C systems. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The result is 22.03. </font></font><br>
‚ÄÉ<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Intel Xeon Gold 6254, 3.10 GHz:</font></font></b><br>
<br>
<img src="https://habrastorage.org/webt/fe/cu/vs/fecuvszxs45eh_yushqrk9t19j0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
The result is 27.62. ‚ÄÉ</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Intel Xeon Gold Processor 6244, 3.60 GHz:</font></font></b><br>
<br>
<img src="https://habrastorage.org/webt/uf/yt/rm/ufytrmqgk5ba1rjc1w3bh5t_d8u.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Result - 35.21. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Total: even if the virtual machine on Intel Xeon Gold 6244 at 3.6 GHz will cost 60% more than the E5-2690 v2 at 3 GHz, then you should choose it. </font><font style="vertical-align: inherit;">With a smaller difference in price, the benefits become even greater. </font><font style="vertical-align: inherit;">But we have a much smaller price gap, so such VMs are noticeably more profitable.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cascade Lake processor cores demonstrate performance gains not only due to the increased frequency, but also more modern architecture. </font><font style="vertical-align: inherit;">Moreover, different processor models from this line give different results, which must be taken into account when solving your problem. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the cloud, we plan to use these processors in Turbo Boost mode, at which the processor clock frequency reaches 4.40 GHz, which will increase its performance gap and make the choice in favor of this product even more obvious.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">What does this mean for us</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For a long time we lived in the old paradigm when one processor didn‚Äôt have very many cores, and therefore not many virtual machines were placed on one server. I had to squat a lot in order to achieve at least some optimality in the tight packing of VMs in these servers. Now, when we get 28 or even 56 cores per socket, the problem with the density of stacking is solved almost by itself. And we have resources to think about other goodies for customers of our CROC Cloud. For example, we filmed a separate pool with 6244 processors under the DBMS.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
An additional bonus - all this turned out to be a very suitable architecture for 1C. </font><font style="vertical-align: inherit;">The point is that if you switch from a 3 GHz processor to a 4 GHz processor, then almost all the tests give you not +30%, but + 15‚Äì20% ... And this thing gives you +45%. </font><font style="vertical-align: inherit;">That is, the frequency increases by 30%, and the increase grows nonlinearly to the frequency. </font><font style="vertical-align: inherit;">And processors are 40 percent more expensive. As a result, new processors are more expensive, but finally 1C starts working normally. </font><font style="vertical-align: inherit;">You can go to the cloud without worrying that the wrong processors are there. </font><font style="vertical-align: inherit;">For many of our customers this is now very important.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en502908/index.html">VKontakte, MIPT and GSOM SPbSU have created a machine learning course for computer science teachers</a></li>
<li><a href="../en502910/index.html">Internet History: Era of Fragmentation; part 2: sowing wasteland</a></li>
<li><a href="../en502914/index.html">Mathematical logic that can help check more people for coronavirus</a></li>
<li><a href="../en502916/index.html">Unit tests for RxSwift code</a></li>
<li><a href="../en502918/index.html">Error with #line directive in Visual C ++ compiler</a></li>
<li><a href="../en502922/index.html">Crowd marketing as a tool for enhancing business vitality</a></li>
<li><a href="../en502924/index.html">Snom D735 IP Phone Review</a></li>
<li><a href="../en502926/index.html">Paul Graham: Brevity = Strength</a></li>
<li><a href="../en502928/index.html">Mini-conference "Safe work with cloud services"</a></li>
<li><a href="../en502930/index.html">Azure DevOps and App Center instead of test farms: simplify and speed up mobile development with cloud services</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>