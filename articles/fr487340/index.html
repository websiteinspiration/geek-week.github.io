<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚õπüèª üïµüèª üßôüèΩ Comme nous l'avons fait le prochain concepteur de chat bots. Partie 1 üêô üö£üèª üèØ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Salut Habromir! L'ann√©e derni√®re, l'√©quipe et moi avons pass√© la cr√©ation de notre startup Botlify Chatbot Constructor for Business, et je voudrais pa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Comme nous l'avons fait le prochain concepteur de chat bots. Partie 1</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/487340/"><img src="https://habrastorage.org/webt/d-/nb/kc/d-nbkcwczgbkbz3ywbf55vj94k4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Salut Habromir! L'ann√©e derni√®re, l'√©quipe et moi avons pass√© la cr√©ation de notre startup Botlify Chatbot Constructor for Business, et je voudrais partager avec le public un bref historique du projet et des d√©cisions techniques prises. Dans cet article, j'essaierai de me concentrer autant que possible sur les d√©tails techniques et d'approfondir moins le produit et les affaires, malgr√© le fait que dans ce projet mon r√¥le soit beaucoup moins li√© au d√©veloppement et √† la technologie. Ce mat√©riel est bas√© sur mon exp√©rience personnelle, je ne suis pas un coach de startup et je ne pr√©tends pas √™tre un bon programmeur, manager, architecte ou entrepreneur. Nous sommes une startup relativement jeune avec peu d'utilisateurs, donc il n'y aura rien sur les charges de travail et les probl√®mes des grands projets. Sous la coupe, je vais vous dire comment mon projet a commenc√©, sur quel type de rake de d√©veloppement nous sommes all√©s et quelles conclusions nous avons tir√©es.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je m'appelle Andrey, pendant quelque temps j'ai travaill√© en tant que d√©veloppeur, principalement en PHP, puis chef d'√©quipe, puis en tant que directeur technique dans plusieurs petites startups, o√π je suis tomb√© amoureux de NodeJS. </font><font style="vertical-align: inherit;">Mais il se trouve que ces derniers temps, je suis plus probablement un entrepreneur. </font><font style="vertical-align: inherit;">Ce n'est pas la premi√®re startup que j'ai fond√©e, et encore moins la premi√®re startup √† laquelle j'ai particip√©. </font><font style="vertical-align: inherit;">Il m'est arriv√© de travailler dans plusieurs projets r√©ussis et de nombreux √©checs. </font><font style="vertical-align: inherit;">J'ai moi-m√™me fond√© des projets encore plus rat√©s. </font><font style="vertical-align: inherit;">√Ä chaque fois, les causes de l'√©chec sont compl√®tement diff√©rentes, ainsi que les √©tapes auxquelles j'ai √©chou√©, mais j'ai en quelque sorte utilis√© cette exp√©rience dans ce projet.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Buts</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avant de commencer l'histoire du projet, je voudrais parler des objectifs que nous avons poursuivis d√®s le d√©but, en commen√ßant cette aventure. En fait, notre concepteur a commenc√© comme un projet favori pour apprendre les bases de la gestion de produits, le d√©veloppement client, acqu√©rir de nouvelles comp√©tences en gestion et de l'exp√©rience dans les startups. J'ai entendu et essay√© √† plusieurs reprises d'appliquer les approches de d√©marrage LEAN et chaque fois, cela s'est av√©r√© compl√®tement diff√©rent. Bien s√ªr, nous r√™vions de b√¢tir une entreprise sur ce point et de gagner beaucoup d'argent, mais nous ne nous amusions pas avec l'illusion que c'√©tait un moyen simple et court. Et plus encore, nous n'avons pas essay√© de faire une sorte de WOW! -Innovation. Mon co-fondateur et moi avions un travail √† plein temps constant et nous avons compris que nous ne pourrions pas consacrer beaucoup de temps.Le principal facteur de motivation √©tait pr√©cis√©ment la possibilit√© de ma√Ætriser des domaines compl√®tement nouveaux de l'industrie informatique et d'appliquer de nouvelles connaissances dans la pratique, tout en gagnant de l'argent.</font></font><br>
<br>
<h3></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En tant que programmeur, j'ai vraiment aim√© dessiner des diagrammes de classes, des s√©quences, des organigrammes. Pour moi, le processus de visualisation lui-m√™me √©tait une √©tape dans la compr√©hension des probl√®mes et des solutions, et il m'a permis d'avoir une vue d'ensemble de ce qui se passait. En travaillant sur le prochain projet, j'ai de nouveau √©t√© confront√© √† la n√©cessit√© d'ins√©rer un widget avec chat en ligne sur le site et de voir quelles solutions pr√™tes √† l'emploi sont dans ce domaine. Donc, parmi ce que je cherchais, je suis tomb√© sur des plates-formes qui permettaient non seulement de cr√©er des widgets avec le chat en ligne pour le site, mais √©galement d'y int√©grer des robots de chat. J'ai parl√© √† l'un de ces robots et il m'a laiss√© une bonne impression. Et puis j'ai commenc√© √† essayer de trouver diff√©rents scripts de chatbot qui pourraient √™tre utiles dans mes projets. La fantaisie vient de couler sur la table: un rendez-vous avec le salon de manucure,aider √† faire un choix dans la boutique en ligne, indiquer le bon endroit dans la documentation, accepter la demande au service d'assistance. Ce √† quoi je ne pensais tout simplement pas.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, j'ai grimp√© pour regarder diff√©rents designers et presque tous m'ont propos√© de remplir des formulaires, puis de remplir des formulaires, puis de remplir √† nouveau des formulaires. En g√©n√©ral, cr√©ez des bots en remplissant des formulaires. En cons√©quence, cela √©tait extr√™mement g√™nant pour moi, je perdais constamment le contexte de ce qui se passait, je devais revenir aux √©tapes pr√©c√©dentes pour restaurer le contexte, et il n'√©tait pas question d'une r√©flexion pratique √† travers la logique et la conception de scripts. Eh bien, je pense que je vais d'abord essayer de ¬´concevoir¬ª mes bots dans un outil externe, puis je les transf√©rerai sur la plateforme souhait√©e. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et l√†, je suis tomb√© sur le premier probl√®me: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">comment d√©crire le dialogue avec le bot de telle mani√®re qu'il soit clair √† quoi et pourquoi le bot r√©pond et en m√™me temps avoir toute la s√©quence d'actions devant lui?</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Au d√©but, j'ai essay√© d'utiliser xmind et d'autres outils pour cr√©er une carte mentale. Il s'est av√©r√© quelque chose comme √ßa. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/9b/lj/fd/9bljfdg_rb26tagz8csasws9ikc.png" alt="Exemple de chatbot de carte mentale"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Plus tard, il est devenu clair que les robots de discussion dans leur ensemble s'int√©graient assez bien dans le concept de description des √©tats et des transitions entre eux, il s'av√®re tr√®s pratique de naviguer dans les branches de conversation m√™me lorsqu'il y en a beaucoup.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seuls quelques concurrents ont √©t√© trouv√©s fournissant un concepteur de bot visuel. </font><font style="vertical-align: inherit;">Pour certains, c'√©tait plus intuitif, pour quelqu'un de moins, mais en g√©n√©ral, ces constructeurs me semblaient beaucoup plus conviviaux. </font><font style="vertical-align: inherit;">Il est devenu int√©ressant pour nous d'essayer de faire quelque chose de similaire, nous voulions cr√©er un outil avec lequel vous pouvez cr√©er un chat bot sans comp√©tences en programmation, en le d√©crivant simplement sous la forme d'un diagramme. </font><font style="vertical-align: inherit;">Bien s√ªr, certaines comp√©tences techniques sont encore n√©cessaires, mais il n'est pas beaucoup plus difficile de cr√©er une carte mentale. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les bots sont un sujet assez compliqu√© et important, et nos ressources sont tr√®s limit√©es. </font><font style="vertical-align: inherit;">Par cons√©quent, il √©tait vital pour nous de simplifier au maximum notre d√©cision afin qu'elle puisse jamais voir le march√©. </font><font style="vertical-align: inherit;">¬´ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le plus t√¥t sera le mieux</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ¬ª - je ne me lasserai pas de r√©p√©ter ce mantra dans le contexte des startups.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AI &amp; ML</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La question de l'intelligence artificielle dans les robots de discussion est toujours ouverte pour moi. Mais maintenant, nous partons du fait que nous sommes une start-up pr√©coce, nous n'avons pas de comp√©tences en IA et ML au sein de l'√©quipe et nous avons d√©j√† convenu que nous voulons juste dessiner des diagrammes et non pas pr√©parer des ensembles de donn√©es, former des r√©seaux de neurones et c'est tout. Pour le moment, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nous n'utilisons pas l'intelligence artificielle et l'apprentissage automatique dans nos robots</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Peut-√™tre un jour, √† l'avenir, quand il y aura de l'argent pour cela. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est important de comprendre que les m√™mes robots dans leur essence peuvent √™tre cr√©√©s tr√®s diff√©remment. En gros, il peut y avoir un bot qui √©crit: " </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Que faites-vous?</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " Et attend une r√©ponse arbitraire de l'utilisateur dans l'esprit: " </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En savoir plus sur borsch</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ", " </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Je veux commander borsch</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ", "</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quelle heure est-il maintenant?</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">". Apr√®s avoir re√ßu la r√©ponse, le bot essaie de la reconna√Ætre, de d√©terminer l'intention et de choisir la bonne branche pour le d√©veloppement du dialogue. Inutile de dire, √©tant donn√© les fautes de frappe, une vari√©t√© de formes et d'expressions, cela peut √™tre co√ªteux. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D'autre part, nous pouvons utiliser des questions ferm√©es lorsqu'il s'agit de il s'agit de choisir, par exemple, un bot peut √©crire: " </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Que voulez-vous faire?</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "et proposer des options:" </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En savoir plus sur borsch</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "," </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Commander borsch</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "," </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conna√Ætre l'heure</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">". D'une part, l'utilisateur perd sa libert√© d'action, mais d'autre part, non seulement nous simplifions consid√©rablement les calculs, mais nous pouvons √©galement g√©rer plus facilement le contexte du dialogue en le tournant dans la bonne direction. Nous pr√©f√©rons utiliser des questions ouvertes dans le cadre de la collecte de donn√©es texte utilisateur: saisir un e-mail , t√©l√©phonez, √©crivez votre question au support, etc.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chat bot vs homme</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un autre argument contre le fait de laisser l'utilisateur communiquer avec le bot sous forme libre √©tait la croyance que le bot de chat ne devrait pas "jouer" chez une personne. </font><font style="vertical-align: inherit;">√Ä mon avis, lors de la communication avec un bot, une personne doit clairement comprendre ce qui communique avec le bot, savoir quelles opportunit√©s il a et comment les utiliser. </font><font style="vertical-align: inherit;">Et si une personne comprend qu'elle communique avec un bot - quel est l'int√©r√™t de la communication en texte libre? </font><font style="vertical-align: inherit;">C'est beaucoup mieux lorsque le chatbot devient l'assistant d'une personne, et non un substitut √† celui-ci et qu'il n'est pas timide √† ce sujet, et que la personne comprend clairement qu'elle communique avec le chatbot et quelles sont ses fonctions. </font><font style="vertical-align: inherit;">Dans ce cas, la communication s'av√®re nettement plus efficace.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Processus</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je suis fan d'Udalenki. Ne me donnez pas de pain - laissez-moi constituer une √©quipe √† distance et commencer √† travailler avec elle. Je suis √† l'aise de travailler √† distance moi-m√™me, je sais organiser le travail et trouver des personnes capables de travailler de mani√®re autonome et efficace. Je comprends tr√®s bien que cela ne convient pas √† tout le monde, je suis enti√®rement d'accord avec cela, mais je pense que dans un avenir radieux, il y aura de plus en plus d'uddalenki. C'est juste que l'√©conomie n'est rien de personnel. Puisque c'est mon projet et que j'ai command√© de la musique pour lui - ici aussi, c'est un projet distant, cela laisse une certaine empreinte.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au tout d√©but du travail sur un projet, je consid√®re qu'il est tr√®s important d'essayer de formaliser mes id√©es autant que possible. Bien que l'id√©e n'ait pas trouv√© sa forme sur papier, sous forme de texte, de notes, de dessins, aucune id√©e n'existe du tout. Dans le m√™me temps, tous les processus au sein de l'√©quipe doivent √™tre aussi simples, naturels et rapides que possible, la communication efficace. Vous ne devez pas utiliser de gros outils lourds pour g√©rer votre √©quipe, comme Jira ou Redmine, si toute votre √©quipe est vous et votre ami. Mais aussi de ne rien utiliser, sinon, tout ira tr√®s vite hors de contr√¥le et le chaos se produira, freinant ce qui est beaucoup plus difficile que de ne pas le permettre. M√™me dans la t√™te d'une personne, un tel g√¢chis peut se former en fonction du projet, ce n'est pas √† moi de vous dire quoi dire sur l'√©quipe, m√™me si seulement 2-3 personnes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme de vrais startupers, nous avons utilis√© </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Trello</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour organiser les t√¢ches et stocker les liens importants pour le projet, et des id√©es y ont √©galement √©t√© lanc√©es. Pour la documentation commerciale, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google Docs</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , bien que technique, est assez bien cr√©√© dans le </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d√©marquage</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et plac√© dans le r√©f√©rentiel correspondant. Communication tout au long de la journ√©e - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T√©l√©gramme</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et pour les stand-ups quotidiens </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google Hangouts</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les stand-up quotidiens sont l'une des pierres angulaires de l'existence d'√©quipes distantes</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Si ce n'est pas le cas, il n'y a pas d'√©quipe, quelqu'un commence n√©cessairement √† se sentir seul, fatigu√©, les malentendus et le m√©contentement s'accumulent, non seulement le contr√¥le de la situation mais aussi les relations au sein de l'√©quipe sont perdus.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Du point de vue du processus de d√©veloppement, l'Am√©rique n'avait pas non plus √† √™tre d√©couverte. Nous d√©terminons la dur√©e du sprint, planifions le sprint en fonction des objectifs de la startup. Nous prenons des puzzles et commen√ßons la saucisse. Un nouveau d√©fi est une nouvelle branche dans votre syst√®me de contr√¥le de version pr√©f√©r√©. As tu fini? Nous √©mettons une demande Pull, attendez que quelqu'un se r√©sume √† l'examen. L'avis a-t-il √©t√© annul√©? CI a bien fonctionn√©? Eh bien, vous pouvez tout garder dans la branche de d√©veloppement, attendre le feu vert de l'assemblage de d√©veloppement et mettre √† jour le serveur de test. Le code que nous stockons sur </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Jusqu'au premier client payant, il s'agissait de r√©f√©rentiels ouverts au public. En tant que personne qui a essay√© de promouvoir plusieurs solutions open source dans le pass√©, je suis sinc√®rement irrit√© √† chaque fois qu'une startup commence √† trembler pour la s√©curit√© de son code avant de commencer √† gagner de l'argent.</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous essayez de copier - c'est un succ√®s commercial √©vident</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . La fermeture du r√©f√©rentiel ne co√ªte rien. Et les affaires, vous savez, sont enterr√©es, en r√®gle g√©n√©rale, loin du code. J'ai acc√®s au code de plusieurs, y compris des produits tr√®s r√©ussis, mais vaut-il la peine de dire que les avoir, je ne r√©p√©terai m√™me pas leur succ√®s? Pour construire des conteneurs Docker et ex√©cuter des autotests, nous avons d√©cid√© d'essayer les </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">actions GitHub</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , heureusement, ils ont donn√© un acc√®s pr√©liminaire. En g√©n√©ral, les impressions sont rest√©es assez agr√©ables, la vitesse de montage est satisfaisante. La seule chose qui √©tait d√©sagr√©able √©tait les mises √† jour avec perte de compatibilit√© avec les versions pr√©c√©dentes. √Ä quelques reprises, ils ont chang√© tr√®s s√©rieusement le sch√©ma de description des actions et ont d√ª tout reconfigurer. Mais nous savions ce que nous faisions lorsque nous avons accept√© d'essayer le produit en √©tat</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beta</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D√®s les premiers jours, litt√©ralement, de l'√©laboration d'une page de destination pour les tests de demande, nous avons essay√© de publier des versions au moins une fois par semaine et de tester au moins une hypoth√®se. Au d√©but, les hypoth√®ses √©taient plus globales, nous avons essay√© de trouver divers probl√®mes, de cibler le public et d'√©laborer une proposition. Mais plus le produit √©voluait, moins il devenait mondial et l'essence elle-m√™me √©tait moins susceptible de changer. Le projet est parti de z√©ro, avec la page de destination habituelle, puis √† genoux, nous avons cr√©√© un client de d√©monstration du chat bot, qui se bloque toujours sur notre page principale. Cette d√©mo pourrait reproduire un dialogue strictement programm√© et nous servir de d√©monstration de ce qui pourrait √™tre fait sur notre constructeur - le r√©sultat de son travail, et non le constructeur lui-m√™me. L'astuce √©tait que nous supposions que l'entreprise ne viendrait pas √† nous pour le concepteur de bot,mais pour quelque r√©sultat, l'avantage qu'il donnera. Nous voulions verser √† nos clients une tasse de caf√© faite par notre machine √† caf√©, au lieu de montrer la machine √† caf√© elle-m√™me. Il est facile de deviner que</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">faire une tasse de caf√© est beaucoup plus rapide et moins cher que de r√©cup√©rer une machine √† caf√©</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Guid√©s par ce principe, nous avons d√©cid√© de faire d'abord une d√©mo client, d'autant plus qu'avec un certain nombre d'outils pr√™ts √† l'emploi cela ne nous a pris que deux soir√©es, dont l'√©laboration de sc√©narios de dialogue. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque nous avons vu l'int√©r√™t des visiteurs pour le palier et les conversions suppl√©mentaires g√©n√©r√©es par notre d√©mo, nous avons d√©cid√© d'aller plus loin. Je me souviens que notre premi√®re version du constructeur √©tait un formulaire d'inscription avec un formulaire de connexion, apr√®s quoi l'utilisateur √©tait redirig√© vers une page pr√©sentant des excuses et une promesse d'informer lorsque quelque chose d'autre fonctionnait. J'ai fait les formulaires de connexion et d'inscription une centaine de fois dans ma vie et je ne pouvais m√™me pas penser qu'ici nous trouverions imm√©diatement beaucoup de probl√®mes.</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Environ 60% des premiers utilisateurs n'ont tout simplement pas pu terminer le processus d'inscription</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Pour qui le bouton ne fonctionne pas, pour qui le courrier √©lectronique ne vient pas, pour qui est autre chose. Au d√©but, j'ai per√ßu l'id√©e de ne publier que quelques formes avec beaucoup de scepticisme, mais un premier regard sur Yandex.Metrica a clairement indiqu√© que c'√©tait plut√¥t la bonne d√©cision. La prise de conscience que les utilisateurs se comportent diff√©remment de ce que vous souhaiteriez, et parfois la fa√ßon dont vous pensiez que vous ne pourriez pas, a eu un grand impact sur tout ce que nous avons fait ensuite. Comme passe-temps, j'ai pass√© plusieurs fois par semaine quelques heures dans un navigateur Web √† regarder comment les utilisateurs utilisent notre m√©tier.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Donc, petit √† petit, nous avons ajout√© des fonctionnalit√©s √† notre id√©e et sommes arriv√©s √† un produit qui a encore de la valeur non seulement pour nous, mais aussi pour nos utilisateurs, dont certains nous paient m√™me de l'argent. </font><font style="vertical-align: inherit;">√Ä long terme, nous n'avons pas compris √† quoi nous voulons en venir, √† quoi ressemblera notre produit. </font><font style="vertical-align: inherit;">La seule chose que nous avons alors compris, c'est que nous ne comprenons rien et que nous sommes dans un √©tat d'incertitude.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R√©sultat</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette exp√©rience m'a amen√©, moi et mon √©quipe, √† un investissement ang√©lique de la cat√©gorie amis, famille, imb√©ciles, construit par MVP, premi√®res ventes, grande exp√©rience, beaucoup de joies et de d√©ceptions. Nous ne sommes pas encore une v√©ritable entreprise, mais nous nous effor√ßons de le devenir. Et quand je dis cela, je veux dire que nous sommes toujours √† la recherche d'un mod√®le commercial durable et d'une ad√©quation march√©-produit. Encore une fois, nous pr√©voyons de chercher le bon concept de produit, notre client, notre march√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les objectifs initiaux n'ont pas du tout √©t√© atteints, mais le projet est pass√© d'un passe-temps √† la maison et s'est transform√© en un emploi √† temps plein, et la responsabilit√© est apparue aux investisseurs, aux utilisateurs et aux employ√©s. Bien s√ªr, le projet a beaucoup de probl√®mes, √† la fois conceptuels et techniques, mais il n'y a rien d'insoluble et nous pr√©voyons de continuer √† travailler.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avant de vous lancer dans la partie la plus technique de mon opus, il est probablement utile de parler bri√®vement de ce que le produit vous permet de faire.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">G√©rez les chatbots dans votre compte</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√âditeur de chatbot visuel</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contr√¥lez l'acc√®s aux robots de discussion (acc√®s d'√©dition, acc√®s public)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Possibilit√© de publier des robots de discussion sur le Web (widget, int√©gr√©, plein √©cran)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Param√®tres du chatbot (conception, noms, m√©triques, position du widget, etc.)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prise en charge de l'int√©gration des chatbots avec des services externes via les requ√™tes GET et POST</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Analyse des dialogues de robots</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gestion de compte</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mod√®le d'abonnement, gestion des abonnements</font></font></li>
</ul><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Architecture</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, connaissant le contexte, les objectifs, l'id√©e et les principes qui nous ont guid√©s dans le d√©veloppement, je peux commencer √† donner une description g√©n√©rale de la fa√ßon dont tout cela fonctionne. </font><font style="vertical-align: inherit;">√âtant donn√© que notre choix initial √©tait de cr√©er des </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chatbots</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour les sites et des </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">chatbots en</font></a><font style="vertical-align: inherit;"> plein √©cran, comme </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">app.botlify.io/bot/5de53dbf9b9bae002b319600,</font></a><font style="vertical-align: inherit;"> il √©tait clair que la plupart du travail se ferait du c√¥t√© frontal. </font><font style="vertical-align: inherit;">En cons√©quence, l'avant du travail sur le client a √©t√© form√© en une liste significative de t√¢ches et une liste de souhaits:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cr√©ez / trouvez une biblioth√®que client, une sorte de ¬´moteur¬ª pour les robots de discussion dans un navigateur qui comprend les instructions json re√ßues et maintient un dialogue avec l'utilisateur.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cr√©ez une application pour √©diter des n≈ìuds de bot, qui enregistrera une liste de n≈ìuds et des liens entre eux dans un objet json (sur la base duquel la biblioth√®que cliente m√®nera des dialogues).</font></font></li>
<li> ,    , ,      -  .      ,        ,  ,  . ,  ,  ,     ..</li>
<li> ,     ,     .  id ,       :<br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">defer</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://app.botlify.io/botlify.min.js"</span>
    <span class="hljs-attr">onload</span>=<span class="hljs-string">"Botlify({ bot: '5de53dbf9b9bae002b319600', type: 'widget'})"</span>
&lt;/<span class="hljs-attr">script</span>&gt;</span>
</code></pre></li>
<li>        ,  ,  (       )</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Toute la logique des dialogues, de la cr√©ation de robots de discussion (n≈ìuds et connexions) √† leur utilisation directe dans le client Web, est g√©r√©e par le frontend. </font><font style="vertical-align: inherit;">Le r√¥le du backend consiste davantage √† g√©rer l'acc√®s, les abonnements, les newsletters, les notifications et le stockage des donn√©es transmises par de nombreux clients Web.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'extr√©mit√© avant</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour l'avant, nous utilisons </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reactjs</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Nous emballons tout dans </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Docker</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (nous le construisons et le pla√ßons dans le conteneur nginx), le code sur </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Github</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans des r√©f√©rentiels priv√©s, pour CI, nous utilisons des </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">actions Github</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Nous lan√ßons des conteneurs sur des serveurs VPS ordinaires avec de simples scripts bash. </font><font style="vertical-align: inherit;">Pour simplifier le d√©veloppement de l'interface utilisateur a pris </font></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Blueprint</font></font></a></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<ul>
<li>Web  ‚Äî  javascript ,   -  .  json     -,     .       -(, ,  ,  , ,   .).<img src="https://habrastorage.org/webt/fi/0s/lj/fi0slje6f5pudmobz1olwwf15um.png"></li>
<li>Web  ‚Äî  javascript  .       id     ,     ,     Web-  .</li>
<li>  ‚Äî  ,      .        json,   -.   ,       ¬´¬ª        ,   ‚Äî  -.<img src="https://habrastorage.org/webt/pr/bo/j4/prboj4obbfqtwlznnjbljvjobnu.png"></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Compte d'utilisateur - une application Web pour g√©rer votre compte, votre abonnement et vos robots.</font></font><img src="https://habrastorage.org/webt/cw/vc/q5/cwvcq5zg2zxjgacfakqr6y7yh64.png"></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le panneau d'administration est une application Web pour les administrateurs. </font><font style="vertical-align: inherit;">Gestion des utilisateurs, bots, abonnements, tableaux de bord avec analytique.</font></font><img src="https://habrastorage.org/webt/kp/_9/1d/kp_91dhvq_ane41aqkipyovzkwe.png"></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le diagramme ci-dessous montre les composants du frontend et comment ils interagissent les uns avec les autres. </font><font style="vertical-align: inherit;">Webclient et l'√©diteur de bots ne sont utilis√©s que dans le contexte d'autres applications, alors que si l'√©diteur n'est utilis√© que dans nos applications, le client Web peut √©galement √™tre utilis√© par nos clients comme module Web. </font><font style="vertical-align: inherit;">Lors de la construction du projet, des packages avec Webclient et Editor sont ajout√©s aux applications Dashboard et Admin. </font><font style="vertical-align: inherit;">De plus, le module Web est construit √† l'aide de Webpack pour la livraison aux utilisateurs.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/kt/ys/uq/ktysuqp6v_dlfhvhsu0pcjz5q-u.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MVP 1. Client Web</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En tant que startup, nous nous effor√ßons toujours d'obtenir des r√©sultats maximaux en utilisant un minimum de ressources. Il me semble qu'une √©tape assez logique pour le premier MVP a √©t√© la cr√©ation d'un client web du point de vue qu'il repr√©sentait le ¬´visage du produit¬ª, montrait le r√©sultat du travail du designer, et non le processus de cr√©ation du bot - une tasse de caf√©, pas une machine √† caf√©. Afin de minimiser le temps de d√©veloppement de la solution, nous avons d√©cid√© de rechercher des biblioth√®ques adapt√©es √† nos demandes et, soudain, trouv√©! </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lucasbassetti.com.br/react-simple-chatbot</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est un composant </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">React</font></a><font style="vertical-align: inherit;"> qui a couvert presque tous nos besoins!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce composant a sugg√©r√© de d√©crire la logique du chatbot sous la forme d'un tableau d'√©tapes, de lire les valeurs entr√©es par les utilisateurs, de personnaliser l'apparence, de valider les donn√©es et semblait suffisamment flexible pour commencer. </font><font style="vertical-align: inherit;">La description des √©tapes les plus simples ressemble √† ceci:</font></font><br>
<br>
<pre><code class="json hljs">&lt;ChatBot<font></font>
      steps={[<font></font>
        {<font></font>
          id: '<span class="hljs-number">1</span>',<font></font>
          message: 'What is your name?',<font></font>
          trigger: '<span class="hljs-number">2</span>',<font></font>
        },<font></font>
        {<font></font>
          id: '<span class="hljs-number">2</span>',<font></font>
          user: <span class="hljs-literal">true</span>,<font></font>
          trigger: '<span class="hljs-number">3</span>',<font></font>
        },<font></font>
        {<font></font>
          id: '<span class="hljs-number">3</span>',<font></font>
          message: 'Hi {previousValue}, nice to meet you!',<font></font>
          end: <span class="hljs-literal">true</span>,<font></font>
        },<font></font>
      ]}<font></font>
    /&gt;<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons commenc√© par essayer de cette fa√ßon de composer un chatbot pr√©sentant notre projet, dont la carte mentale √©tait √† l'√©cran au d√©but de l'article. </font><font style="vertical-align: inherit;">Bien s√ªr, d√©crire manuellement un tel json s'est av√©r√© plut√¥t g√™nant, et j'ai d√ª √©crire de nombreuses fonctions personnalis√©es, mais en g√©n√©ral, ce processus a permis de comprendre comment le composant fonctionne, comment obtenir le r√©sultat souhait√© avec. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De plus, mon coll√®gue a personnalis√© l'apparence, fait plusieurs options d'affichage, et nous avons concoct√© un exemple avec un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">salon de coiffure</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et une exposition </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Van Gogh</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Vous pourriez m√™me remarquer que nous n'avons m√™me pas pens√© √† l'optimisation d'image. </font><font style="vertical-align: inherit;">Oui, c'√©tait et n'√©tait pas n√©cessaire. </font><font style="vertical-align: inherit;">Dans le processus de travail, nous avons form√© une vision approximative de la fa√ßon dont le client va travailler et nous avons commenc√© √† chercher des solutions pour le concepteur lui-m√™me, afin de profiter des avantages de l'√©dition visuelle d√®s que possible.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MVP 2. Constructeur</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sur la base de ce que nous avons vu en travaillant avec le client, nous avons conclu que le bot peut avoir plusieurs types d'actions: envoyer quelque chose, attendre les actions de l'utilisateur, envoyer une demande √† un service externe. </font><font style="vertical-align: inherit;">Pour un √©diteur de bots minimalement viable, nous avons d√©cid√© de nous limiter aux blocs:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√©marrer - une unit√© technique qui d√©marre une nouvelle session</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fin - bloquer la fin de la session</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Message - en atteignant le bloc, le bot envoie le message sp√©cifi√© dans le corps du bloc</font></font></li>
<li>   ‚Äî      .       ,      </li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
On a suppos√© que les blocs seraient interconnect√©s par des fl√®ches ou des lignes. Tous les blocs, √† l'exception du bloc ¬´Start¬ª, ont un port d'entr√©e (socket). De nombreuses lignes peuvent se connecter au port d'entr√©e, connectant l'unit√© √† d'autres. Tous les blocs, √† l'exception du bloc de fin, ont un √† plusieurs ports de sortie. Les ports de sortie d√©terminent √† quel contr√¥le de bloc est transf√©r√© une fois la logique du bloc actuel termin√©e. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s une br√®ve inspection des solutions disponibles, nous nous sommes install√©s sur Rete.js (https://rete.js.org). J'ai pris connaissance de la documentation, des exemples et y ai trouv√© tout ce dont nous avions besoin pour commencer. Ils ont m√™me eu un exemple avec un chat bot, qui √©tait le dernier d√©clencheur</font></font><br>
<br>
<blockquote> Rete                .       . ,    ‚Äî  ,    JSON </blockquote><br>
<br>
<img src="https://habrastorage.org/webt/pa/tz/5e/patz5emykn7nicpa2sjrujjo-dg.png" alt="Noeud dans Rete.js"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tous les n≈ìuds peuvent contenir un nom, des entr√©es, des sorties et des commandes. Les entr√©es et sorties doivent √™tre situ√©es respectivement √† gauche et √† droite du n≈ìud (pour les n≈ìuds personnalis√©s, il peut y avoir des exceptions). Ils sont repr√©sent√©s par une socket et peuvent avoir des noms. Pour les entr√©es, nous avons autoris√© un nombre illimit√© de connexions (vous pouvez acc√©der au n≈ìud de plusieurs mani√®res), pour la sortie, nous nous sommes limit√©s √† une seule connexion, cependant, contrairement aux prises d'entr√©e, certains blocs ont de nombreuses prises de sortie. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Rete.js est con√ßu pour que ses fonctionnalit√©s soient √©tendues en cr√©ant des n≈ìuds, des contr√¥les et des composants personnalis√©s, ce qui nous a permis d'obtenir rapidement exactement l'image que nous voulions voir, pour laquelle je </font><font style="vertical-align: inherit;">remercie les </font><font style="vertical-align: inherit;">cr√©ateurs de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rete</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ! Bien s√ªr, l'un des plus importants est un √©diteur pr√™t √† l'emploi! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme √©crit en</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">documentation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un √©diteur est une zone avec des n≈ìuds et des connexions entre leurs sockets. </font><font style="vertical-align: inherit;">Les options suivantes sont disponibles:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Interaction avec l'espace de travail (d√©placement, mise √† l'√©chelle) et gestion des n≈ìuds (d√©placement, ajout, suppression)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Affichage des connexions, des n≈ìuds, de leurs entr√©es / sorties et des commandes</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gestion des √©v√©nements de l'√©diteur</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sch√©ma d'importation / exportation au format JSON</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Extension des fonctionnalit√©s avec des plugins</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Personnalisation de l'espace de travail, des n≈ìuds et des connexions</font></font></li>
</ul><br>
</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s avoir un peu conjur√© avec Rete et avoir √©tudi√© plus en d√©tail des exemples, nous avons r√©ussi √† construire quelque chose qui nous a permis de cr√©er et de supprimer des blocs ¬´d√©but¬ª, ¬´fin¬ª, ¬´message¬ª, ¬´saisie au clavier¬ª. </font><font style="vertical-align: inherit;">En sortie, nous avons re√ßu json avec une description des n≈ìuds, des sockets et des lignes les reliant. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qy/ul/kb/qyulkb_ydgahfqvgmcgxtazqmmy.jpeg" alt="Une des premi√®res versions de l'√©diteur"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D√©j√† quelque chose, mais cela ne suffit pas, car notre client web ne comprend pas ce json. </font><font style="vertical-align: inherit;">Il a besoin d'une sorte de son propre, avec la description des √©tapes. </font><font style="vertical-align: inherit;">Il a √©t√© d√©cid√© d'incorporer un convertisseur d'un format json √† un autre dans le client.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transformateur Json</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'utilitaire re√ßoit NodesMap, compil√© par l'√©diteur, en entr√©e et renvoie un StepsMap que le client comprend. Le code de l'ensemble du transformateur prend un peu plus de 100 lignes, selon le type de n≈ìud et les donn√©es, une √©tape appropri√©e, des fonctions de d√©clenchement et un ensemble d'instructions (actions) √† effectuer dans cette √©tape y sont cr√©√©es. Il existe des instructions qui enregistrent la variable dans l'√©tat chatbot, il y a celles qui remplacent la variable dans le texte ou envoient une demande √† notre serveur.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s avoir li√© les composants ensemble, nous avons commenc√© √† tester les outils r√©sultants. </font><font style="vertical-align: inherit;">M√™me sans backend, c'√©tait tr√®s excitant. </font><font style="vertical-align: inherit;">Nous avons cr√©√© des bo√Ætes de dialogue dans l'√©diteur et ins√©r√© json dans le client via des outils de d√©veloppement, et en cons√©quence, nous avons obtenu un bot qui dit comment nous en avons besoin! </font><font style="vertical-align: inherit;">Il sait aussi sauvegarder des variables et les utiliser, bon sang! </font><font style="vertical-align: inherit;">De grandes sensations des premi√®res victoires ... La mosa√Øque du dispositif de notre application s'est d√©j√† pratiquement form√©e dans ma t√™te, nous avons obtenu quelque chose de travailler sur les principes que nous voulons utiliser √† l'avenir. </font><font style="vertical-align: inherit;">Nous avons obtenu un certain squelette autour duquel il restait √† construire de la "viande". </font><font style="vertical-align: inherit;">Et surtout - il est devenu clair comment proc√©der:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modifiez l'√©diteur, ajoutez le type de n≈ìud souhait√©</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous apprenons √† Json Transformer √† transformer un nouveau n≈ìud en une nouvelle √©tape</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous apprenons au client √† travailler avec une nouvelle √©tape</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D'autre part, il √©tait n√©cessaire de commencer √† engager le compte personnel de l'utilisateur afin qu'il soit possible de cr√©er des bots, de les enregistrer, de g√©rer et nous avons d√©cid√© de nous concentrer sur cela afin de montrer rapidement aux utilisateurs non pas un concept, mais un produit.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Compte d'utilisateur</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les biblioth√®ques ci-dessus remplissaient certaines fonctions li√©es √† la cr√©ation de la logique du chatbot (√©diteur), son interpr√©tation ou sa reproduction (client). Les probl√®mes de stockage de donn√©es, la possibilit√© de charger des bots cr√©√©s, de les g√©rer et de d√©finir des propri√©t√©s non li√©es √† la logique sont rest√©s ouverts et l'application aurait d√ª les r√©soudre pour les utilisateurs. Arm√©s de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">blueprintJS,</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nous avons esquiss√© un prototype de </font><b><font style="vertical-align: inherit;">compte</font></b><font style="vertical-align: inherit;"> personnel dans lequel il √©tait possible de s'inscrire et de cr√©er plusieurs bots. Lorsque vous cliquez sur le bot pour cr√©er une personne, vous devez tomber dans l'√©diteur avec un nouveau bot, et lorsque vous cliquez sur la carte du bot dans l'√©diteur avec ce bot. Nous avons d√©cid√© de confier les fonctions de chargement et de sauvegarde du bot via l'API de notre backend √† cette couche afin de laisser l'√©diteur de bot ind√©pendant du backend.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vu/0h/ip/vu0hippebcgv2huzg9tkbb3rq1e.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'application du compte de l'utilisateur peut t√©l√©charger le package de l'√©diteur et y transf√©rer les donn√©es pr√™tes √† √™tre affich√©es. Cette application g√®re √©galement les formulaires pour d√©finir les propri√©t√©s du bot (nom, cl√©s API, avatar, param√®tres de publication) et vous permet d'afficher des statistiques. Afin de permettre aux utilisateurs de voir imm√©diatement le r√©sultat de l'√©diteur, nous avons ajout√© un client Web au bureau de l'utilisateur, auquel nous donnons le sch√©ma json bot, il l'interpr√®te par √©tapes et le lit sur l'onglet "Aper√ßu". En gros, c'est un panneau d'administration tr√®s classique avec quelques composants int√©ressants (√©diteur de bot et client Web), je pense que beaucoup l'ont fait. Mais c'est √† ce stade qu'il est devenu tr√®s g√™nant de d√©velopper notre application.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au d√©part, il nous a sembl√© une bonne id√©e de contenir les composants du produit dans diff√©rents r√©f√©rentiels et nous n'avons pas vu de probl√®me particulier dans ce domaine. Cependant, il est rapidement devenu clair que la mise √† jour de nombreux r√©f√©rentiels est probl√©matique, sans parler de la n√©cessit√© de danser avec un tambourin lors du d√©veloppement, car ils sont dans une certaine mesure interd√©pendants. Et √©tant donn√© que nous n'avions qu'un seul d√©veloppeur √† temps plein, cette approche √©tait un √©norme poil dans le cul. Et tout d√©ploiement s'est transform√© en une branche de l'enfer sur terre en raison de la diff√©rence dans l'assemblage et la publication des biblioth√®ques, des applications, des probl√®mes de compatibilit√© descendante. D'o√π la conclusion banale, mais pas la plus inutile: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">une allocation pr√©matur√©e des modules peut faire plus de mal que d'aider</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J'en ai d√©j√† √©t√© convaincu √† plusieurs reprises sur le backend, et je suis revenu ici, mais √† l'avant. Oui, et je n'ai manqu√© aucune chance sur le backend: =) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un de mes coll√®gues a rassembl√© sa volont√© en un coup de poing et a tout combin√© dans un </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mono-r√©f√©rentiel</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> g√©r√© avec </font></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lerna</font></font></a></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Maintenant, notre </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">seul r√©f√©rentiel frontal est</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> divis√© en packages: administrateur, client, commun, tableau de bord, √©diteur, module Web. Ils peuvent avoir un assemblage diff√©rent √† l'int√©rieur, mais lerna leur permet de se lier et de mettre √† jour les d√©pendances entre les packages. Apr√®s cela, le d√©veloppement et le d√©ploiement du frontend sont devenus beaucoup plus rapides et plus faciles, tout est imm√©diatement √† port√©e de main, mais toujours divis√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s avoir cr√©√© l'armoire, nous avons pass√© un peu de temps sur de nouveaux blocs dans l'√©diteur et leur traitement par le client:</font></font><br>
<br>
<ul>
<li> ‚Äî       .           ( ),                </li>
<li> ‚Äî     -  </li>
<li>Email ‚Äî  email   </li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je n'ai pas grand-chose √† dire sur le panneau d'administration et le module Web, tout y est tr√®s standard. </font><font style="vertical-align: inherit;">Permettez-moi simplement de noter que le panneau d'administration </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ne doit pas √™tre fait √† l'avance</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> non plus </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Nous l'avons, mais personne ne l'utilise, car personnellement il n'est pas difficile pour moi de voir tout ce qui m'int√©resse imm√©diatement dans la base de donn√©es. </font><font style="vertical-align: inherit;">Il n'y a pas de sciences humaines qui auraient besoin de notre panneau d'administration dans l'√©quipe, et le maintenir √† jour est essentiellement un peu moins cher que de maintenir le compte d'un utilisateur. </font><font style="vertical-align: inherit;">Au fil du temps, un simple tableau de bord y a √©t√© ajout√©, affichant les paiements, les nouvelles inscriptions et les visites de l'application, mais ces informations ne valent gu√®re le d√©veloppement de tout un administrateur. </font><font style="vertical-align: inherit;">panneaux avec tableaux, formulaires et authentification s√©par√©e</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R√©sultats?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons pu construire des prototypes et des landing pages tr√®s rapidement. Oui, ce n'√©tait pas du tout ce que beaucoup imaginent sous le couvert de MVP. Mais quelques soirs seulement apr√®s la naissance de l'id√©e, nous pouvions commencer √† la montrer aux gens et √† la tester. Diff√©rentes pages de destination, publicit√©s, textes dans le bot - nous pourrions tester et rechercher. Je recommande fortement √† toute personne impliqu√©e dans le d√©veloppement de startup de r√©fl√©chir √† la mani√®re de faire avancer les choses le plus rapidement possible. Nous avons fabriqu√© le premier produit √† extraire de la valeur en trois mois environ, puis un processus d'am√©lioration plus progressif a commenc√©. Bien s√ªr, nous avons maintenant plus de blocs √† l'int√©rieur du constructeur, nous avons ajout√© la validation, les types de donn√©es, les demandes GET et POST, beaucoup de toutes sortes de param√®tres de conception et d'affichage, mais vous pouvez commencer sans tout cela, ce que nous avons fait.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au fil du temps, le syst√®me a commenc√© √† devenir plus complexe et √† √©voluer, et je n'ai m√™me pas √©t√© en mesure de d√©crire de pr√®s tout ce qui se passe r√©ellement. Commencez petit, les choses se compliquent avec le temps, si n√©cessaire. Tout composant suppl√©mentaire peut entra√Æner un co√ªt tr√®s √©lev√© car il est non seulement n√©cessaire de cr√©er et d'int√©grer, mais √©galement de prendre en charge, tester, documenter, d√©ployer, surveiller, lui pr√©senter d'autres membres de l'√©quipe. Vous ne devriez probablement pas vous soucier des files d'attente sur RabbitMQ, si auparavant il n'y avait pas de files d'attente dans votre application. Tr√®s probablement, des solutions bas√©es sur des technologies d√©j√† existantes seront suffisantes pour commencer. Tout nouveau composant repr√©sente un co√ªt suppl√©mentaire pour l'int√©gration, le fonctionnement, les tests, le support, la documentation, le d√©ploiement, etc., etc.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'esp√®re que mon exp√©rience sera utile √† au moins quelqu'un. </font><font style="vertical-align: inherit;">Pendant longtemps, j'ai essay√© de d√©terminer le hub pour le d√©terminer, mais je n'ai pas compris. </font><font style="vertical-align: inherit;">Faites-moi savoir s'il vaut la peine d'√©crire la deuxi√®me partie dans laquelle je voulais parler un peu du backend, des services externes et des plans de d√©veloppement</font></font></div>
      
    </div><p class="reference-to-source js-reference-to-source">Source: https://habr.com/ru/post/undefined/</p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr487324/index.html">Agr√©gateur de nouvelles de deux semaines</a></li>
<li><a href="../fr487326/index.html">Logiciel de test d'automatisation QIWI-terminaux</a></li>
<li><a href="../fr487332/index.html">Testez les ampoules LED Ergolux pas ch√®res</a></li>
<li><a href="../fr487334/index.html">Comment ¬´√† distance¬ª am√©liore la collaboration</a></li>
<li><a href="../fr487336/index.html">Unity - Activer Multidex ou trop de m√©thodes</a></li>
<li><a href="../fr487342/index.html">Le√ßon # 2 - R√©unions et √©v√©nements</a></li>
<li><a href="../fr487346/index.html">Cas d'utilisation des outils d'analyse d'anomalies r√©seau: d√©tection des fuites</a></li>
<li><a href="../fr487348/index.html">Classement des t√¢ches prioritaires - IL TEMPO app</a></li>
<li><a href="../fr487356/index.html">Allez-vous changer? D√©trompez-vous</a></li>
<li><a href="../fr487358/index.html">BERT, ELMO et Co. en images (comment la formation au transfert est arriv√©e √† la PNL)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>