<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏾‍🔧 💪🏽 👎🏽 DPI（SSLインスペクション）は暗号化の意味に矛盾しますが、企業はそれを実装しています 💭 🍩 👍</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="信頼の連鎖。 CC BY-SA 4.0 Yanpas
 
 SSLトラフィックインスペクション（SSL / TLS復号化、SSLまたはDPI分析）は、企業部門でますますホットな話題になっています。トラフィックを復号化するという考え方は、暗号化の概念そのものとは矛盾しているようです。ただし、事実は事実...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>DPI（SSLインスペクション）は暗号化の意味に矛盾しますが、企業はそれを実装しています</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/globalsign/blog/467259/"><img src="https://habrastorage.org/webt/jd/o2/mm/jdo2mmdlfiaflrqeextk2sr90ke.png"><br>
<i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">信頼の連鎖。 CC BY-SA 4.0 </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yanpas</font></font></a></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
SSLトラフィックインスペクション（SSL / TLS復号化、SSLまたはDPI分析）は、企業部門でますますホットな話題になっています。トラフィックを復号化するという考え方は、暗号化の概念そのものとは矛盾しているようです。ただし、事実は事実です。DPIテクノロジを使用する企業が増えており、マルウェアやデータリークなどのコンテンツをチェックする必要があることで説明しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そのようなテクノロジを実装する必要があるという事実を受け入れる場合は、少なくともこれを行う方法を検討する必要があります。最も安全で管理しやすい方法で。少なくとも、たとえばDPIシステムプロバイダーから提供されたこれらの証明書に依存しないでください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
誰もが知っているとは限らない実装の1つの側面があります。</font><font style="vertical-align: inherit;">実際、多くの人は彼について聞いて本当に驚いています。</font><font style="vertical-align: inherit;">これは、プライベート証明機関（CA）です。</font><font style="vertical-align: inherit;">トラフィックを復号化および再暗号化するための証明書を生成します。</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
自己署名証明書またはDPIデバイスからの証明書に依存する代わりに、GlobalSignなどのサードパーティの証明機関からの専用CAを使用できます。</font><font style="vertical-align: inherit;">しかし、最初に、問題自体の簡単なレビューを行いましょう。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SSLインスペクションとは何ですか？なぜそれが使用されるのですか？</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ますます多くの公開WebサイトがHTTPSに切り替えられています。たとえば、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://transparencyreport.google.com/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chromeの統計</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">による</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://transparencyreport.google.com/"><font style="vertical-align: inherit;">と</font></a><font style="vertical-align: inherit;">、2019年9月初旬に、ロシアでの暗号化されたトラフィックのシェアは83％に達しました。</font><font style="vertical-align: inherit;">
残念ながら、特にLet's Encryptが数千の無料SSL証明書を自動的に配布するため、サイバー犯罪者はますますトラフィック暗号化を使用しています。したがって、HTTPSはあらゆる場所で使用され、ブラウザのアドレスバーのロックは、セキュリティの信頼できるインジケータとして機能しなくなりました。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><img src="https://habrastorage.org/webt/to/2a/i0/to2ai0j5kawt2uhmd6siugk9zge.png"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらの立場から、DPIソリューションのメーカーは自社の製品を宣伝しています。</font><font style="vertical-align: inherit;">エンドユーザー（つまり、ウェブを閲覧している従業員）とインターネットの間に配置され、悪意のあるトラフィックを除外します。</font><font style="vertical-align: inherit;">今日、市場にはそのような製品が数多くありますが、プロセスは基本的に同じです。</font><font style="vertical-align: inherit;">HTTPSトラフィックは検証デバイスを通過し、そこで復号化されてマルウェアがスキャンされます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
検証が完了すると、デバイスはエンドクライアントとの新しいSSLセッションを作成して、コンテンツを復号化および再暗号化します。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">復号化/再暗号化プロセスのしくみ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SSLインスペクションデバイスがエンドユーザーに送信する前にパケットを復号化および再暗号化するには、その場でSSL証明書を発行できる必要があります。つまり、CA証明書をインストールする必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
企業（または中間者）にとって、これらのSSL証明書がブラウザで信頼されていることが重要です（つまり、以下のような恐ろしい警告メッセージが表示されないようにします）。したがって、CAチェーン（または階層）はブラウザーのトラストストアに存在する必要があります。これらの証明書は公的に信頼された認証局から発行されたものではないため、手動でCA階層をすべてのエンドクライアントに転送する必要があります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/36/eu/yi/36euyibponftu9pxzzekct_k3ze.png"><br>
<i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chromeの自己署名証明書に関する警告メッセージ。出典：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BadSSL.com</font></font></a></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Windowsがインストールされているコンピューターでは、Active Directoryとグループポリシーを使用できますが、モバイルデバイスの場合、手順はより複雑です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえばMicrosoftから、またはOpenSSLに基づいて、企業環境で他のルート証明書をサポートする必要がある場合、状況はさらに複雑になります。</font><font style="vertical-align: inherit;">さらに、秘密キーを保護および管理して、キーの1つが予期せず期限切れにならないようにします。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最適なオプション：サードパーティCAからのプライベートな専用ルート証明書</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
複数のルートまたは自己署名証明書を管理することが魅力的でない場合は、別のオプションがあります。サードパーティのCAを利用できます。この場合、証明書は</font><font style="vertical-align: inherit;">、企業専用に作成された専用のプライベートルート証明機関と信頼の連鎖でリンク</font><font style="vertical-align: inherit;">されている</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プライベート</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">証明</font><font style="vertical-align: inherit;">機関から発行され</font><font style="vertical-align: inherit;">ます。</font><i><font color="gray"><font style="vertical-align: inherit;">専用クライアントルート証明書の簡素化されたアーキテクチャ</font></font></i></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><img src="https://habrastorage.org/webt/hh/ss/vn/hhssvnz46qs34htk1iotowv_viy.png"></a><br>
<i><font color="gray"><font style="vertical-align: inherit;"></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この設定により、前述の問題の一部が解消されます。少なくとも、管理する必要があるルートの数が減ります。ここでは、任意の数の中間証明機関とのすべての内部PKIニーズに対して1つのプライベートルートセンターのみを使用できます。たとえば、上の図は、中間認証局の1つがSSLの検証/復号化に使用され、もう1つが内部コンピューター（ラップトップ、サーバー、デスクトップコンピューターなど）に使用されるマルチレベル階層を示しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このスキームでは、すべてのクライアントにCAを配置する必要はありません。トップレベルのCAはGlobalSignによってホストされ、秘密鍵と有効期間の保護に関する問題を解決します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このアプローチのもう1つの利点は、何らかの理由でSSL認証局を取り消すことができることです。</font><font style="vertical-align: inherit;">代わりに、元のプライベートルートにバインドする新しいルートを作成するだけで、すぐに使用できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべての矛盾にもかかわらず、企業はSSLトラフィック検査をPKIの内部またはプライベートインフラストラクチャの一部として実装することがますます増えています。</font><font style="vertical-align: inherit;">プライベートPKIを使用するためのその他のオプションは、デバイスまたはユーザーを認証するための証明書の発行、内部サーバー用のSSL、およびCA /ブラウザーフォーラムの要件に従ってパブリックの信頼できる証明書で許可されていないさまざまな構成です。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ブラウザは抵抗する</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ブラウザー開発者はこの傾向に対抗し、エンドユーザーをMiTMから保護しようとしていることに注意してください。</font><font style="vertical-align: inherit;">たとえば、数日前、Mozilla </font><font style="vertical-align: inherit;">はデフォルトのDoHプロトコル（DNS-over-HTTPS）をFirefoxの次のブラウザバージョンの1つ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://blog.mozilla.org/futurereleases/2019/09/06/whats-next-in-making-dns-over-"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">含める</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://blog.mozilla.org/futurereleases/2019/09/06/whats-next-in-making-dns-over-"><font style="vertical-align: inherit;">ことを決定し</font></a><font style="vertical-align: inherit;">ました。</font><font style="vertical-align: inherit;">DoHプロトコルはDNSクエリをDPIシステムから隠し、SSL検査を困難にします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2019年9月10日</font><font style="vertical-align: inherit;">に、Chromeブラウザー用のGoogleによって</font><font style="vertical-align: inherit;">同様の計画が</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">発表</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">さ</font><font style="vertical-align: inherit;">れました。</font></font><br>
<br>
<hr><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><img src="https://habrastorage.org/webt/9q/wb/zs/9qwbzsfapeaakd_obyftagefhny.jpeg"></a><br>
<b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">企業</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">向け</font><b><font style="vertical-align: inherit;">PKIソリューションの</font></b><b><font style="vertical-align: inherit;">特別な条件</font></b><font style="vertical-align: inherit;">は</font><font style="vertical-align: inherit;">、新規顧客向けのプロモーションコードAL002HRFRの下で2019年11月30日まで有効です。</font><font style="vertical-align: inherit;">詳細については、マネージャー+7（499）678 2210、sales-ru @ globalsign.comにお問い合わせください。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja467249/index.html">V8、React、パフォーマンス低下の物語。パート2</a></li>
<li><a href="../ja467251/index.html">COBOL人質と数学。パート1</a></li>
<li><a href="../ja467253/index.html">COBOL人質と数学。パート2</a></li>
<li><a href="../ja467255/index.html">すべてのReact開発者が知っておくべき3つの一般的なセキュリティミス</a></li>
<li><a href="../ja467257/index.html">一度にすべての卵を1つのバスケットに保管しないでください</a></li>
<li><a href="../ja467261/index.html">Qtでの適切なスレッド</a></li>
<li><a href="../ja467263/index.html">私たちは、年間25％の太陽エネルギーまたは受動的収入で実務経験を積んでいます。パート2</a></li>
<li><a href="../ja467269/index.html">情報セキュリティのモデル</a></li>
<li><a href="../ja467271/index.html">職業プログラマー、職業別化学者</a></li>
<li><a href="../ja467275/index.html">プログラマの日へ。2019年のプログラマー</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>