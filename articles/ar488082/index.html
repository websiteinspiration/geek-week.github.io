<!doctype html>
<html class="no-js" lang="ar">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>โ๏ธ ๐คฒ๐ป ๐ท๏ธ ุจุงุฎุชุตุงุฑ: Async / Await ุฃูุถู ุงูููุงุฑุณุงุช ูู .NET ๐๐ผ ๐๐พ ๐จ๐ฝโ๐คโ๐จ๐ป</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุชุญุณุจูุง ูุจุฏุก ุงูุฏูุฑุฉ ุ ุฃุนุฏุช "C # Developer" ุชุฑุฌูุฉ ูููุงุฏ ูุซูุฑุฉ ููุงูุชูุงู.
 
 
 
 ุบูุฑ ูุชุฒุงูู / ุงูุชุธุงุฑ - ููุฏูุฉ
 ุชู ุฅูุดุงุก ูุบุฉ Async / Await ููุฐ ุงูุฅุตุฏุงุฑ 5.0 ู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ุจุงุฎุชุตุงุฑ: Async / Await ุฃูุถู ุงูููุงุฑุณุงุช ูู .NET</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/488082/"><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุญุณุจูุง ูุจุฏุก ุงูุฏูุฑุฉ ุ </font><font style="vertical-align: inherit;">ุฃุนุฏุช </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"C # Developer"</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุชุฑุฌูุฉ ูููุงุฏ ูุซูุฑุฉ ููุงูุชูุงู.</font></font></i></b><br>
<br>
<img src="https://habrastorage.org/webt/6f/io/l8/6fiol8vwkg-r8ja-3zurutnz-ci.png"><br>
<hr><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุบูุฑ ูุชุฒุงูู / ุงูุชุธุงุฑ - ููุฏูุฉ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุชู ุฅูุดุงุก ูุบุฉ Async / Await ููุฐ ุงูุฅุตุฏุงุฑ 5.0 ูู C # (2012) ูุฃุตุจุญุช ุจุณุฑุนุฉ ุฃุญุฏ ุฑูุงุฆุฒ ุจุฑูุฌุฉ .NET ุงูุญุฏูุซุฉ - ูุฌุจ ุนูู ุฃู ูุทูุฑ C # ูุญุชุฑู ููุณู ุฃู ูุณุชุฎุฏูู ูุชุญุณูู ุฃุฏุงุก ุงูุชุทุจูู ูุงูุงุณุชุฌุงุจุฉ ุงูุนุงูุฉ ูุฅููุงููุฉ ูุฑุงุกุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฌุนู Async / Await ุฅุฏุฎุงู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุบูุฑ ุงููุชุฒุงููุฉ ุฃูุฑูุง ุจุณูุทูุง ุจุดูู ุฎุงุฏุน ููุฒูู ุงูุญุงุฌุฉ ุฅูู ุงููุจุฑูุฌ ูููู ุชูุงุตูู ูุนุงูุฌุชู ุ ูููู ูู ููุง ูุนุฑู ุญููุง ููู ูุนูู ููุง ูู ูุฒุงูุง ูุนููุจ ูุฐู ุงูุทุฑููุฉุ </font><font style="vertical-align: inherit;">ููุงู ุงููุซูุฑ ูู ุงููุนูููุงุช ุงููููุฏุฉ ุ ููููุง ูุฌุฒุฃุฉ ุ ูุฐูู ูุฑุฑุช ูุชุงุจุฉ ูุฐู ุงูููุงูุฉ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุญุณููุง ุ ุฏุนูุง ูุชุนูู ูู ุงูููุถูุน.</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุขูุฉ ุงูุฏููุฉ (IAsyncStateMachine)</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฃูู ุดูุก ุชุญุชุงุฌ ุฅูู ูุนุฑูุชู ูู ุฃูู ุชุญุช ุบุทุงุก ุงููุญุฑู ูู ูู ูุฑุฉ ูููู ูุฏูู ุทุฑููุฉ ุฃู ูุธููุฉ ูุน Async / Await ุ ูููู ุงููุชุฑุฌู ุจุงููุนู ุจุชุญููู ุทุฑููุชู ุฅูู ูุตู ุฏุฑุงุณู ูุทุจู ูุงุฌูุฉ IAsyncStateMachine. ูุฐู ุงููุฆุฉ ูุณุคููุฉ ุนู ุงูุญูุงุธ ุนูู ุญุงูุฉ ุทุฑููุชู ุฎูุงู ุฏูุฑุฉ ุญูุงุฉ ุนูููุฉ ุบูุฑ ูุชุฒุงููุฉ - ููู ุชุบูู ุฌููุน ูุชุบูุฑุงุช ุทุฑููุชู ูู ุดูู ุญููู ูุชูุณูู ุงูููุฏ ุงูุฎุงุต ุจู ุฅูู ุฃูุณุงู ูุชู ุชูููุฐูุง ุฃุซูุงุก ุนูููุงุช ุงูุชูุงู ุขูุฉ ุงูุญุงูุฉ ุจูู ุงูุญุงูุงุช ุ ุจุญูุซ ูููู ููุคุดุฑ ุงูุชุฑุงุจุท ูุบุงุฏุฑุฉ ุงูุทุฑููุฉ ููุชู ุณูุนูุฏ ุ ูู ุชุชุบูุฑ ุงูุฏููุฉ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุซุงู ุ ููุง ุชุนุฑูู ูุฆุฉ ุจุณูุท ููุบุงูุฉ ูุน ุทุฑููุชูู ุบูุฑ ูุชุฒุงููุชูู: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุงุณุชุฎุฏุงู System.Threading.Tasks ุ</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">using</span> System.Diagnostics;<font></font>
<font></font>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">AsyncAwait</span><font></font>
{<font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">AsyncAwait</span><font></font>
    {<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">AsyncAwaitExample</span>(<span class="hljs-params"></span>)</span><font></font>
        {<font></font>
            <span class="hljs-keyword">int</span> myVariable = <span class="hljs-number">0</span>;<font></font>
<font></font>
            <span class="hljs-keyword">await</span> DummyAsyncMethod();<font></font>
            Debug.WriteLine(<span class="hljs-string">"Continuation - After First Await"</span>);<font></font>
            myVariable = <span class="hljs-number">1</span>;<font></font>
<font></font>
            <span class="hljs-keyword">await</span> DummyAsyncMethod();<font></font>
            Debug.WriteLine(<span class="hljs-string">"Continuation - After Second Await"</span>);<font></font>
            myVariable = <span class="hljs-number">2</span>;<font></font>
<font></font>
        }<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">DummyAsyncMethod</span>(<span class="hljs-params"></span>)</span><font></font>
        {<font></font>
            <span class="hljs-comment">// </span><font></font>
        }<font></font>
<font></font>
    }<font></font>
}</code></pre><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฆุฉ ุฐุงุช ุทุฑููุชูู ุบูุฑ ูุชุฒุงููุชูู</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ุฅุฐุง ูุธุฑูุง ุฅูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุชู ุชู ุฅูุดุงุคูุง ุฃุซูุงุก ุงูุชุฌููุน ุ ูุณูู ูุฑู ุดูุฆูุง ูุซู ูุฐุง: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qo/xe/63/qoxe63foidhmllsdwfi78tdhrsm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุงุญุธ ุฃู ูุฏููุง ูุฆุชูู ุฏุงุฎููุชูู ุฌุฏูุฏุชูู ุชู ุฅูุดุงุคููุง ููุง ุ ูุงุญุฏุฉ ููู ุทุฑููุฉ ุบูุฑ ูุชุฒุงููุฉ. ุชุญุชูู ูุฐู ุงููุฆุงุช ุนูู ุฌูุงุฒ ุญุงูุฉ ููู ูู ุทุฑููุง ุบูุฑ ุงููุชุฒุงููุฉ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุนูุงูุฉ ุนูู ุฐูู ุ ุจุนุฏ ุฏุฑุงุณุฉ ุงูุดูุฑุฉ ุงููุชุฑุฌูุฉ </font></font><code><code>&lt;AsyncAwaitExample&gt;</code></code><code> d__0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ุณููุงุญุธ ุฃู ุงููุชุบูุฑ ุงูุฏุงุฎูู ูุฏููุง </font></font><code>ยซmyVariableยป</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃุตุจุญ ุงูุขู ุญูู ูุฆุฉ: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gd/_m/qj/gd_mqjxvsjfw9-_zfd7740n42ua.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูููููุง ุฃูุถูุง ุฑุคูุฉ ุญููู ูุฆุฉ ุฃุฎุฑู ูุณุชุฎุฏูุฉ ุฏุงุฎูููุง ููุญูุงุธ ุนูู ุงูุญุงูุฉ </font></font><code>IAsyncStateMachine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ุขูุฉ ุงูุญุงูุฉ ุชูุฑ ุนุจุฑ ุงูุญุงูุงุช ุจุงุณุชุฎุฏุงู ุงูุทุฑููุฉ</font></font><code>MoveNext()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ูู ุงููุงูุน ุ ููุชุงุญ ูุจูุฑ. </font><font style="vertical-align: inherit;">ูุงุญุธ ููู ุชุณุชูุฑ ุงูุทุฑููุฉ ูู ุฃูุณุงู ูุฎุชููุฉ ุจุนุฏ ูู ูู ุงูููุงููุงุช ุบูุฑ ุงููุชุฒุงููุฉ (ูุน ููุตู ุงููุชุงุจุนุฉ ุงูุณุงุจู). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/km/li/ea/kmlieahswg0ebqn3db5nctfzsti.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุฐุง ูุนูู ุฃู ุงูุฃูุงูุฉ ุบูุฑ ุงููุชุฒุงููุฉ / ุชูุชุธุฑ ุชุฃุชู ุจุซูู. </font><font style="vertical-align: inherit;">ูุถูู ุงุณุชุฎุฏุงู ุงููุฒุงููุฉ / ุงูุงูุชุธุงุฑ ุจุนุถ ุงูุชุนููุฏ (ูุงูุฐู ูุฏ ูุง ุชููู ุนูู ุฏุฑุงูุฉ ุจู). </font><font style="vertical-align: inherit;">ูู ุงูููุทู ูู ุฌุงูุจ ุงูุฎุงุฏู ุ ูุฏ ูุง ูููู ูุฐุง ุญุฑุฌูุง ุ ูููู ุนูู ูุฌู ุงูุฎุตูุต ุนูุฏ ุจุฑูุฌุฉ ุชุทุจููุงุช ุงููุงุชู ุงููุญููู ุงูุชู ุชุฃุฎุฐ ูู ุงูุงุนุชุจุงุฑ ูู ุฏูุฑุฉ ุฐุงูุฑุฉ CPU ู KB ุ ูุฌุจ ุฃู ุชุถุน ุฐูู ูู ุงูุงุนุชุจุงุฑ ุ ุญูุซ ูููู ุฃู ุชุฒูุฏ ูููุฉ ุงููููุงุช ุงูุนุงูุฉ ุจุณุฑุนุฉ. </font><font style="vertical-align: inherit;">ูุงุญููุง ูู ูุฐู ุงูููุงูุฉ ุ ุณููุงูุด ุฃูุถู ุงูููุงุฑุณุงุช ูุงุณุชุฎุฏุงู Async / Await ููุท ุนูุฏ ุงูุถุฑูุฑุฉ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุญุตูู ุนูู ุดุฑุญ ูููุฏ ุฌุฏูุง ูุฌูุงุฒ ุงูุฏููุฉ ุ ุดุงูุฏ ูุฐุง </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูููุฏูู ุนูู YouTube</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชู ุชุณุชุฎุฏู Async / Await</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุฌุฏ ุจุดูู ุนุงู ุณููุงุฑูููุงู ุญูุซ Async / Await ูู ุงูุญู ุงูุตุญูุญ.</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุนูู ุงููุฑุชุจุท ุจุฅุฏุฎุงู / ุฅุฎุฑุงุฌ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : ูุชููุน ุงูุฑูุฒ ุงูุฎุงุต ุจู ุดูุฆูุง ุ ูุซู ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุจูุงูุงุช ุ ุฃู ูุฑุงุกุฉ ููู ุ ุฃู ุงูุงุชุตุงู ุจุฎุฏูุฉ ููุจ. </font><font style="vertical-align: inherit;">ูู ูุฐู ุงูุญุงูุฉ ุ ูุฌุจ ุนููู ุงุณุชุฎุฏุงู Async / Await ุ ูููุณ ููุชุจุฉ ุงูููุงู ุงููุชูุงุฒูุฉ.</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุนูู ุงููุชุนูู ุจูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : ุณูููู ุงูููุฏ ุงูุฎุงุต ุจู ุจุฅุฌุฑุงุก ุญุณุงุจุงุช ูุนูุฏุฉ. </font><font style="vertical-align: inherit;">ูู ูุฐู ุงูุญุงูุฉ ุ ูุฌุจ ุนููู ุงุณุชุฎุฏุงู Async / Await ุ ูููู ุชุญุชุงุฌ ุฅูู ุจุฏุก ุงูุนูู ูู ููุถูุน ุขุฎุฑ ุจุงุณุชุฎุฏุงู Task.Run. </font><font style="vertical-align: inherit;">ููููู ุฃูุถูุง ุงูุชูููุฑ ูู ุงุณุชุฎุฏุงู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Task Parallel Library</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
</ul><br>
<hr><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุบูุฑ ูุชุฒุงูู ุนูู ุทูู ุงูุทุฑูู</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุนูุฏูุง ุชุจุฏุฃ ูู ุงูุนูู ุจุฃุณุงููุจ ุบูุฑ ูุชุฒุงููุฉ ุ ุณุชูุงุญุธ ุจุณุฑุนุฉ ุฃู ุงูุทุจูุนุฉ ุบูุฑ ุงููุชุฒุงููุฉ ููุดูุฑุฉ ุชุจุฏุฃ ูู ุงูุงูุชุดุงุฑ ูุงูุชุฏุฑุฌ ูู ุงูุชุณูุณู ุงููุฑูู ููููุงููุงุช - ููุฐุง ูุนูู ุฃูู ูุฌุจ ุนููู ุฃูุถูุง ุฌุนู ุฑูุฒ ุงูุงุชุตุงู ุงูุฎุงุต ุจู ุบูุฑ ูุชุฒุงูู ููุง ุฅูู ุฐูู. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฏ ุชููู ุฅูู "ุฅููุงู" ูุฐุง ูู ุฎูุงู ุญุธุฑ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุจุงุณุชุฎุฏุงู Task.Result ุฃู Task.Wait ุ ุชุญููู ุฌุฒุก ุตุบูุฑ ูู ุงูุชุทุจูู ูููู ูู API ูุชุฒุงูู ุจุญูุซ ูุชู ุนุฒู ุจููุฉ ุงูุชุทุจูู ูู ุงูุชุบููุฑุงุช. ูุณูุก ุงูุญุธ ุ ูุฐู ูุตูุฉ ูุฎูู ุทุฑูู ูุณุฏูุฏ ูุตุนุจ ุชุชุจุนู.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฃูุถู ุญู ููุฐู ุงููุดููุฉ ูู ุงูุณูุงุญ ููุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุบูุฑ ุงููุชุฒุงููุฉ ุจุงูููู ูู ูุงุนุฏุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุจุดูู ุทุจูุนู. </font><font style="vertical-align: inherit;">ุฅุฐุง ุงุชุจุนุช ูุฐุง ุงููุฑุงุฑ ุ ูุณุชุฑู ุงูุชุฏุงุฏ ุงูููุฏ ุบูุฑ ุงููุชุฒุงูู ุฅูู ููุทุฉ ุฏุฎููู ุ ูุนุงุฏุฉ ูุง ูููู ูุนุงูุฌ ุญุฏุซ ุฃู ุฅุฌุฑุงุก ุชุญูู. </font><font style="vertical-align: inherit;">ุงูุงุณุชุณูุงู ููุชุฒุงูู ุฏูู ุฃู ูุชุฑู ุฃุซุฑุง! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฒูุฏ ูู ุงููุนูููุงุช ูู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฐู ุงูููุงูุฉ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> MSDN.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุฐุง ุชู ุฅุนูุงู ุงูุทุฑููุฉ ุบูุฑ ูุชุฒุงููุฉ ุ ูุชุฃูุฏ ูู ูุฌูุฏ ุงูุชุธุงุฑ!</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุง ูุงูุดูุง ุ ุนูุฏูุง ูุฌุฏ ุงููุชุฑุฌู ุทุฑููุฉ ุบูุฑ ูุชุฒุงููุฉ ุ ูุฅูู ูุญูู ูุฐู ุงูุทุฑููุฉ ุฅูู ุขูุฉ ุญุงูุฉ. </font><font style="vertical-align: inherit;">ุฅุฐุง ูู ููู ุงูููุฏ ุงูุฎุงุต ุจู ููุชุธุฑ ูู ุฌุณูู ุ ูุณูููู ุงููุชุฑุฌู ุจุฅูุดุงุก ุชุญุฐูุฑ ุ ูููู ูุน ุฐูู ุณูุชู ุฅูุดุงุก ุฌูุงุฒ ุงูุญุงูุฉ ุ ูุน ุฅุถุงูุฉ ุญูู ุบูุฑ ุถุฑูุฑู ูุนูููุฉ ูู ุชูุชูู ุฃุจุฏูุง.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุฌูุจ ุงููุฑุงุบ ุบูุฑ ุงููุชุฒุงูู</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฑุงุบ ุบูุฑ ูุชุฒุงูู ูู ุดูุก ูุฌุจ ุชุฌูุจู ุญููุง. </font><font style="vertical-align: inherit;">ุงุฌุนููุง ูุงุนุฏุฉ ูุงุณุชุฎุฏุงู ูููุฉ ุบูุฑ ูุชุฒุงููุฉ ุจุฏูุงู ูู ูุฑุงุบ ุบูุฑ ูุชุฒุงูู.</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">void</span> <span class="hljs-title">AsyncVoidMethod</span>(<span class="hljs-params"></span>)</span><font></font>
{<font></font>
    <span class="hljs-comment">//!</span><font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">AsyncTaskMethod</span>(<span class="hljs-params"></span>)</span><font></font>
{<font></font>
    <span class="hljs-comment">//!</span>
}</code></pre><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุทุฑู ุงูููุงู ุงููุชุฒุงููุฉ ุจุงุทูุฉ ูุบูุฑ ูุชุฒุงููุฉ</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ููุงู ุนุฏุฉ ุฃุณุจุงุจ ูุฐูู ุ ุจูุง ูู ุฐูู:</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุง ูููู ุงูุชุดุงู ุงูุงุณุชุซูุงุกุงุช ุงูุชู ุชู ุทุฑุญูุง ูู ุทุฑููุฉ ุฅูุบุงุก ุงูุชุฒุงูู ุฎุงุฑุฌ ูุฐู ุงูุทุฑููุฉ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font></li>
</ul><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุนูุฏูุง ูุชู ุทุฑุญ ุงุณุชุซูุงุก ูู ุฃุณููุจ async Task ุฃู async Task </font></font><code>&lt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T </font></font><code>&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ูุชู ุงูุชุดุงู ูุฐุง ุงูุงุณุชุซูุงุก ููุถุนู ูู ูุงุฆู Task. </font><font style="vertical-align: inherit;">ุนูุฏ ุงุณุชุฎุฏุงู ุทุฑู ุนุฏู ุงูุชุฒุงูู ุ ูููู ูุงุฆู ุงููููุฉ ุบุงุฆุจูุง ุ ูุฐูู ุ ุณูุชู ุงุณุชุฏุนุงุก ุฃู ุงุณุชุซูุงุกุงุช ุชู ุทุฑุญูุง ูู ุทุฑููุฉ ุฅูุบุงุก ุงูุชุฒุงูู ูุจุงุดุฑุฉู ูู SynchronizationContext ุ ุงูุฐู ูุงู ูุดุทูุง ุนูุฏ ุชุดุบูู ุทุฑููุฉ ุฅูุบุงุก ุงูุชุฒุงูู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฎุฐ ุจุนูู ุงูุงุนุชุจุงุฑ ุงููุซุงู ุฃุฏูุงู. </font><font style="vertical-align: inherit;">ูู ูุชู ุงููุตูู ุฅูู ูุชูุฉ ุงูุงูุชูุงุท.</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">void</span> <span class="hljs-title">AsyncVoidMethodThrowsException</span>(<span class="hljs-params"></span>)</span><font></font>
{<font></font>
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Exception(<span class="hljs-string">"Hmmm, something went wrong!"</span>);<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ThisWillNotCatchTheException</span>(<span class="hljs-params"></span>)</span><font></font>
{<font></font>
    <span class="hljs-keyword">try</span><font></font>
    {<font></font>
        AsyncVoidMethodThrowsException();<font></font>
    }<font></font>
    <span class="hljs-keyword">catch</span>(Exception ex)<font></font>
    {<font></font>
        <span class="hljs-comment">//     </span><font></font>
        Debug.WriteLine(ex.Message);<font></font>
    }<font></font>
}</code></pre><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุง ูููู ุงูุชุดุงู ุงูุงุณุชุซูุงุกุงุช ุงูุชู ุชู ุทุฑุญูุง ูู ุทุฑููุฉ ุฅูุบุงุก ุงูุชุฒุงูู ุฎุงุฑุฌ ูุฐู ุงูุทุฑููุฉ.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ูุงุฑู ูุน ูุฐุง ุงูุฑูุฒ ุ ุญูุซ ุจุฏูุงู ูู ุนุฏู ุงูุชุฒุงูู ูุฏููุง ูููุฉ ุบูุฑ ูุชุฒุงููุฉ. </font><font style="vertical-align: inherit;">ูู ูุฐู ุงูุญุงูุฉ ุ ุณูุชู ุงููุตูู ุฅูู ุงูุตูุฏ.</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">AsyncTaskMethodThrowsException</span>(<span class="hljs-params"></span>)</span><font></font>
{<font></font>
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Exception(<span class="hljs-string">"Hmmm, something went wrong!"</span>);<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">ThisWillCatchTheException</span>(<span class="hljs-params"></span>)</span><font></font>
{<font></font>
    <span class="hljs-keyword">try</span><font></font>
    {<font></font>
        <span class="hljs-keyword">await</span> AsyncTaskMethodThrowsException();<font></font>
    }<font></font>
    <span class="hljs-keyword">catch</span> (Exception ex)<font></font>
    {<font></font>
        <span class="hljs-comment">//    </span><font></font>
        Debug.WriteLine(ex.Message);<font></font>
    }<font></font>
}</code></pre><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชู ุงูุชุดุงู ุงูุงุณุชุซูุงุก ููุถุนู ูู ูุงุฆู ุงูููุงู.</font></font></i><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ุฃู ุชุชุณุจุจ ุทุฑู ุงููุฑุงุบ ุบูุฑ ุงููุชุฒุงูู ูู ุญุฏูุซ ุขุซุงุฑ ุฌุงูุจูุฉ ุบูุฑ ูุฑุบูุจ ูููุง ุฅุฐุง ูู ูุชููุน ุงููุชุตู ุฃู ุชููู ุบูุฑ ูุชุฒุงููุฉ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : ุฅุฐุง ูู ุชูุฑุฌุน ุทุฑููุชู ุบูุฑ ุงููุชุฒุงููุฉ ุฃู ุดูุก ุ ูุงุณุชุฎุฏู ูููุฉ ุบูุฑ ูุชุฒุงููุฉ (ุจุฏูู " </font></font><code>&lt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T </font></font><code>&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" ูููููุฉ) ูููุน ุงูุฅุฑุฌุงุน.</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุงูุตุนุจ ุฌุฏูุง ุงุฎุชุจุงุฑ ุทุฑู ุงููุฑุงุบ ุบูุฑ ุงููุชุฒุงูู</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : ูุธุฑูุง ููุงุฎุชูุงูุงุช ูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ูุงูุชุฎุทูุท ุ ูุตุนุจ ูุชุงุจุฉ ุงุฎุชุจุงุฑุงุช ุงููุญุฏุฉ ุงูุชู ุชุณุชุฏุนู ุทุฑู ุงููุฑุงุบ ุบูุฑ ุงููุชุฒุงูู. </font><font style="vertical-align: inherit;">ุบูุฑ ุงููุชุฒุงูู MSTest ุงุฎุชุจุงุฑ ูุนูู ููุท ูุฃุณุงููุจ ุบูุฑ ูุชุฒุงูู ุงูุชู ุชุฑุฌุน ูููุฉ ุฃู ูููุฉ </font></font><code>&lt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T </font></font><code>&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุงุณุชุซูุงุก ููุฐู ุงูููุงุฑุณุฉ ูุนุงูุฌุงุช ุงูุฃุญุฏุงุซ ุบูุฑ ุงููุชุฒุงููุฉ. </font><font style="vertical-align: inherit;">ูููู ุญุชู ูู ูุฐู ุงูุญุงูุฉ ุ ููุตู ุจุชูููู ุงูุดูุฑุฉ ุงูููุชูุจุฉ ูู ุงููุนุงูุฌ ููุณู - ุชููุน ุทุฑููุฉ ูููุฉ ุบูุฑ ูุชุฒุงููุฉ ุชุญุชูู ุนูู ููุทู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฒูุฏ ูู ุงููุนูููุงุช ูู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฐู ุงูููุงูุฉ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> MSDN.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชูุถู ูููุฉ ุงูุฅุฑุฌุงุน ุจุฏูุงู ูู ุงูุชุธุงุฑ ุงูุนูุฏุฉ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุง ุชูุช ููุงูุดุชู ุจุงููุนู ุ ูู ูู ูุฑุฉ ุชุนูู ูููุง ุฃู ุฅุญุฏู ุงูุทุฑู ุบูุฑ ูุชุฒุงููุฉ ุ ููุดุฆ ุงููุญูู ุงูุจุฑูุฌู ูุฆุฉ ุขูุฉ ุญุงูุฉ ุชูุชู ูุนูููุง ููุทู ุฃุณููุจู. ููุฐุง ูุถูู ุจุนุถ ุงููููุงุช ุงูุนุงูุฉ ุงูุชู ูููู ุฃู ุชุชุฑุงูู ุ ุฎุงุตุฉ ุจุงููุณุจุฉ ููุฃุฌูุฒุฉ ุงููุญูููุฉ ุ ุญูุซ ูุฏููุง ุญุฏูุฏ ุฃูุซุฑ ุตุฑุงูุฉ ููููุงุฑุฏ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ุจุนุถ ุงูุฃุญูุงู ุ ูุง ูุฌุจ ุฃู ุชููู ุงูุทุฑููุฉ ุบูุฑ ูุชุฒุงููุฉ ุ ูููููุง ุชูุฑุฌุน ุงููููุฉ </font></font><code>&lt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T </font></font><code>&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชุณูุญ ููุฌุงูุจ ุงูุขุฎุฑ ุจูุนุงูุฌุชูุง ููููุง ูุฐูู. ุฅุฐุง ูุงูุช ุงูุฌููุฉ ุงูุฃุฎูุฑุฉ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุฎุงุตุฉ ุจู ุนุจุงุฑุฉ ุนู ุนูุฏุฉ ููุชุธุฑุฉ ุ ููุฌุจ ุงูุชูููุฑ ูู ุฅุนุงุฏุฉ ููููุชูุง ุจุญูุซ ูููู ููุน ุงูุฅุฑุฌุงุน ููุทุฑููุฉ ูู ุงููููุฉ </font></font><code>&lt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T</font></font><code>&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ุจุฏูุงู ูู ุนุฏู ุงูุชุฒุงูู T). </font><font style="vertical-align: inherit;">ูุจุณุจุจ ูุฐุง ุ ุชุชุฌูุจ ุฅูุดุงุก ุฌูุงุฒ ุญุงูุฉ ุ ููุง ูุฌุนู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุฎุงุตุฉ ุจู ุฃูุซุฑ ูุฑููุฉ. </font><font style="vertical-align: inherit;">ุงูุญุงูุฉ ุงููุญูุฏุฉ ุงูุชู ูุฑุบุจ ุญููุง ูู ุงูุชุธุงุฑูุง ูู ุนูุฏูุง ููุนู ุดูุฆูุง ูุน ูุชูุฌุฉ ูููุฉ ุบูุฑ ูุชุฒุงููุฉ ูู ุงุณุชูุฑุงุฑ ุงูุทุฑููุฉ.</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task&lt;<span class="hljs-keyword">string</span>&gt; <span class="hljs-title">AsyncTask</span>(<span class="hljs-params"></span>)</span><font></font>
<font></font>
{<font></font>
   <span class="hljs-comment">//  !</span>
   <span class="hljs-comment">//...  -  </span>
   <span class="hljs-comment">//await -   ,  await  </span><font></font>
<font></font>
   <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> GetData();<font></font>
<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">public</span> Task&lt;<span class="hljs-keyword">string</span>&gt; <span class="hljs-title">JustTask</span>(<span class="hljs-params"></span>)</span><font></font>
<font></font>
{<font></font>
   <span class="hljs-comment">//!</span>
   <span class="hljs-comment">//...  -  </span>
   <span class="hljs-comment">// Task</span><font></font>
<font></font>
   <span class="hljs-keyword">return</span> GetData();<font></font>
<font></font>
}</code></pre><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชูุถูู ูููุฉ ุงูุฅุฑุฌุงุน ุจุฏูุงู ูู ุงูุนูุฏุฉ ูู ุงูุชุธุงุฑ</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ุงูููุงุญุธุฉ ูุงุญุธ ุฃูู ุฅุฐุง ูู ููู ูุฏููุง ุงูุชุธุงุฑ ูุจุฏูุงู ูู ุฅุฑุฌุงุน ุงููููุฉ </font></font><code>&lt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T </font></font><code>&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ูุณูุชู ุงูุฅุฑุฌุงุน ุนูู ุงูููุฑ ุ ูุฐูู ุฅุฐุง ูุงู ุงูุฑูุฒ ุฏุงุฎู ูุชูุฉ ูุญุงููุฉ / ุงูุชูุงุท ุ ููู ูุชู ุงูุชุดุงู ุงูุงุณุชุซูุงุก. </font><font style="vertical-align: inherit;">ูุจุงููุซู ุ ุฅุฐุง ูุงู ุงูุฑูุฒ ุฏุงุฎู ูุชูุฉ ุงูุงุณุชุฎุฏุงู ุ ูุณูุญุฐู ุงููุงุฆู ุนูู ุงูููุฑ. </font><font style="vertical-align: inherit;">ุงูุธุฑ ุงููุตูุญุฉ ุงูุชุงููุฉ.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุง ุชูู ูููุฉ ุงูุฅุฑุฌุงุน ุฏุงุฎู try..catch {} ุฃู ุงุณุชุฎุฏุงู {} block</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูููู ุฃู ุชุชุณุจุจ ูููุฉ ุงูุฅุฑุฌุงุน ูู ุณููู ุบูุฑ ูุญุฏุฏ ุนูุฏ ุงุณุชุฎุฏุงููุง ุฏุงุฎู ูุชูุฉ try..catch (ูู ูุชู ุงูุชุดุงู ุงุณุชุซูุงุก ุชู ุทุฑุญู ุจูุงุณุทุฉ ุงูุทุฑููุฉ ุบูุฑ ุงููุชุฒุงููุฉ ูุทูููุง) ุฃู ุฏุงุฎู ูุชูุฉ ุชุณุชุฎุฏู ุ ูุฃูู ุณูุชู ุฅุฑุฌุงุน ุงููููุฉ ุนูู ุงูููุฑ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฅูู ุงูุชูุงู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุบูุฑ ุงููุชุฒุงููุฉ ูู ูุญุงููุฉ .. ุงูุชูุงุท ุฃู ุงุณุชุฎุฏุงู ูุชูุฉ ุ ุงุณุชุฎุฏู ุงูุนูุฏุฉ ูู ุงูุชุธุงุฑ ุจุฏูุงู ูู ุฐูู.</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> Task&lt;<span class="hljs-keyword">string</span>&gt; <span class="hljs-title">ReturnTaskExceptionNotCaught</span>(<span class="hljs-params"></span>)</span><font></font>
<font></font>
{<font></font>
   <span class="hljs-keyword">try</span><font></font>
   {<font></font>
       <span class="hljs-comment">// ...</span><font></font>
<font></font>
       <span class="hljs-keyword">return</span> GetData();<font></font>
<font></font>
   }<font></font>
   <span class="hljs-keyword">catch</span> (Exception ex)<font></font>
<font></font>
   {<font></font>
       <span class="hljs-comment">//     </span><font></font>
<font></font>
       Debug.WriteLine(ex.Message);<font></font>
       <span class="hljs-keyword">throw</span>;<font></font>
   }<font></font>
<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">public</span> Task&lt;<span class="hljs-keyword">string</span>&gt; <span class="hljs-title">ReturnTaskUsingProblem</span>(<span class="hljs-params"></span>)</span><font></font>
<font></font>
{<font></font>
   <span class="hljs-keyword">using</span> (<span class="hljs-keyword">var</span> resource = GetResource())<font></font>
   {<font></font>
<font></font>
       <span class="hljs-comment">// ...  ,     , ,    </span><font></font>
<font></font>
       <span class="hljs-keyword">return</span> GetData(resource);<font></font>
   }<font></font>
}</code></pre><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุง ุชูู ูููุฉ ุงูุฅุฑุฌุงุน ุฏุงุฎู ุงููุชู </font></font><code>try..catch{}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃู</font></font><code>using{}</code></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฒูุฏ ูู ุงููุนูููุงุช ูู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฐุง</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูููุถูุน ุญูู ุชุฌุงูุฒ ุณุนุฉ ุงูููุฏุณ.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุฌูุจ ุงุณุชุฎุฏุงู </font></font><code>.Wait()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃู </font></font><code>.Result</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- ุงุณุชุฎุฏู ุจุฏูุงู ูู ุฐูู</font></font><code>GetAwaiter().GetResult()</code></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฅุฐุง ููุช </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุญุงุฌุฉ ุฅูู ููุน</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุชุธุงุฑ ุงูุชุฒุงูู ุงูููุงู ููุงููุ ูุงุณุชุฎุฏุงู </font></font><code>GetAwaiter().GetResult().</code> <code>Wait</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ู </font></font><code>Result</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฑูู ุฃู ุงุณุชุซูุงุกุงุช ูู </font></font><code>AggregateException</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ููุง ูุนูุฏ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก. </font><font style="vertical-align: inherit;">ุงูููุฒุฉ </font></font><code>GetAwaiter().GetResult()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุฃูู ูุนูุฏ ุงูุงุณุชุซูุงุก ุงููุนุชุงุฏ ุจุฏูุงู ูู ุฐูู </font></font><code>AggregateException</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">GetAwaiterGetResultExample</span>(<span class="hljs-params"></span>)</span><font></font>
<font></font>
{<font></font>
   <span class="hljs-comment">// ,    ,     AggregateException  </span><font></font>
<font></font>
   <span class="hljs-keyword">string</span> data = GetData().Result;<font></font>
<font></font>
   <span class="hljs-comment">// ,   ,      </span><font></font>
<font></font>
   data = GetData().GetAwaiter().GetResult();<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฅูู ุญุธุฑ ุงูุชุธุงุฑ ุงูุชูุงู ูููุฉ Async ุ ูุงุณุชุฎุฏู </font></font><code>GetAwaiter().GetResult().</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฒูุฏ ูู ุงููุนูููุงุช ุนูู ูุฐุง </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุฑุงุจุท</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุฐุง ูุงูุช ุงูุทุฑููุฉ ุบูุฑ ูุชุฒุงููุฉ ุ ูู ุจุฅุถุงูุฉ ูุงุญูุฉ Async ุฅูู ุงุณููุง</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฐุง ูู ุงูุงุตุทูุงุญ ุงููุณุชุฎุฏู ูู .NET ููุชูููุฒ ุจุณูููุฉ ุฃูุจุฑ ุจูู ุงูุทุฑู ุงููุชุฒุงููุฉ ูุบูุฑ ุงููุชุฒุงููุฉ (ุจุงุณุชุซูุงุก ูุนุงูุฌุงุช ุงูุฃุญุฏุงุซ ุฃู ุทุฑู ุชุญูู ุงูููุจ ุ ูููู ูุง ูุฒุงู ูุง ููุจุบู ุฃู ูุชู ุงุณุชุฏุนุงุคูุง ุจุดูู ุตุฑูุญ ุจูุงุณุทุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุฎุงุตุฉ ุจู).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฌุจ ุฃู ุชุณุชุฎุฏู ุฃุณุงููุจ ุงูููุชุจุฉ ุบูุฑ ุงููุชุฒุงููุฉ Task.ConfigureAwait (false) ูุชุญุณูู ุงูุฃุฏุงุก</font></font></h3><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุญุชูู .NET Framework ุนูู ููููู "ุณูุงู ุงููุฒุงููุฉ" ุ ููู ูุณููุฉ "ููุนูุฏุฉ ุฅูู ูุง ููุช ุนููู ูู ูุจู". ุนูุฏูุง ุชูุชุธุฑ ุงููููุฉ ุ ูุฅููุง ุชูุชูุท ุณูุงู ุงููุฒุงููุฉ ุงูุญุงูู ูุจู ุงูุงูุชุธุงุฑ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุจุนุฏ ุงูุชูุงู ุงููููุฉ </font></font><code>.Post()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ </font><font style="vertical-align: inherit;">ูุชู ุงุณุชุฏุนุงุก ุฃุณููุจ </font><font style="vertical-align: inherit;">ุณูุงู ุงููุฒุงููุฉ ุ ุงูุฐู ูุณุชุฃูู ุงูุนูู ูู ุงูููุงู ุงูุฐู ูุงู ุนููู ูู ูุจู. ูููุฏ ุฐูู ูู ุงูุนูุฏุฉ ุฅูู ูุคุดุฑ ุชุฑุงุจุท ูุงุฌูุฉ ุงููุณุชุฎุฏู ุฃู ูู ุงูุนูุฏุฉ ุฅูู ุณูุงู ASP.NET ููุณู ุ ุฅูุฎ.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุนูุฏ ูุชุงุจุฉ ุฑูุฒ ุงูููุชุจุฉ ุ ูุงุฏุฑูุง ูุง ุชุญุชุงุฌ ุฅูู ุงูุนูุฏุฉ ุฅูู ุงูุณูุงู ุงูุฐู ููุช ููู ูู ูุจู. ุนูุฏ ุงุณุชุฎุฏุงู Task.ConfigureAwait (false) ุ ูู ูุนุฏ ุงูุฑูุฒ ูุญุงูู ุงูุงุณุชุฆูุงู ูู ุงูููุงู ุงูุฐู ูุงู ุนููู ูู ูุจู ุ ูุจุฏูุงู ูู ุฐูู ุ ุฅู ุฃููู ุ ูุฎุฑุฌ ุงูุฑูุฒ ูู ุณูุณูุฉ ุงููุญุงุฏุซุงุช ุงูุชู ุฃูููุช ุงููููุฉ ุ ูุงูุชู ุชุชุฌูุจ ุชุจุฏูู ุงูุณูุงู. ูุฐุง ูุญุณู ุงูุฃุฏุงุก ููููุงู ููููู ุฃู ูุณุงุนุฏ ูู ุชุฌูุจ ุงูุฌููุฏ.</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">ConfigureAwaitExample</span>(<span class="hljs-params"></span>)</span><font></font>
<font></font>
{<font></font>
   <span class="hljs-comment">//   ConfigureAwait(false)   .</span><font></font>
<font></font>
   <span class="hljs-keyword">var</span> data = <span class="hljs-keyword">await</span> GetData().ConfigureAwait(<span class="hljs-literal">false</span>);<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุนุงุฏุฉู ุ ุงุณุชุฎุฏู ConfigureAwait (false) ูุนูููุงุช ุงูุฎุงุฏู ูุฑูุฒ ุงูููุชุจุฉ. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฐุง ููู ุจุดูู ุฎุงุต ุนูุฏูุง ุชุณูู ุทุฑููุฉ ุงูููุชุจุฉ ุจุนุฏุฏ ูุจูุฑ ูู ุงููุฑุงุช ุ ูู ุฃุฌู ุงุณุชุฌุงุจุฉ ุฃูุถู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุจุดูู ุนุงู ุ ุงุณุชุฎุฏู ConfigureAwait (false) ูุนูููุงุช ุงูุฎุงุฏู ุจุดูู ุนุงู. ูุญู ูุง ููุชู ุจุณูุณูุฉ ุงููุญุงุฏุซุงุช ุงูุชู ูุชู ุงุณุชุฎุฏุงููุง ูููุชุงุจุนุฉ ุ ุนูู ุนูุณ ุงูุชุทุจููุงุช ุงูุชู ูุญุชุงุฌ ูููุง ููุนูุฏุฉ ุฅูู ุณูุณูุฉ ุฑุณุงุฆู ูุงุฌูุฉ ุงููุณุชุฎุฏู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุงูุขู ... ูู ASP.NET Core ุ ุชุฎูุตุช Microsoft ูู SynchronizationContext ุ ูุฐุง ูุง ุชุญุชุงุฌ ูุธุฑููุง ูุฐูู. ูููู ุฅุฐุง ููุช ุชูุชุจ ุฑูุฒูุง ููููุชุจุฉ ููุญุชูู ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงูู ูู ุชุทุจููุงุช ุฃุฎุฑู (ูุซู ุชุทุจูู ูุงุฌูุฉ ุงููุณุชุฎุฏู ุ ู Legacy ASP.NET ุ ู Xamarin Forms) ุ ูุฅู ุฐูู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุธู ุฃูุถู ููุงุฑุณุฉ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุญุตูู ุนูู ุดุฑุญ ุฌูุฏ ููุฐุง ุงูููููู ุ ุดุงูุฏ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฐุง ุงูููุฏูู</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชูุฑูุฑ ุชูุฏู ุงููููุฉ ุบูุฑ ุงููุชุฒุงูู</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฅุญุฏู ุญุงูุงุช ุงูุงุณุชุฎุฏุงู ุงูุดุงุฆุนุฉ ุฅูู ุญุฏ ูุง ููุทุฑู ุบูุฑ ุงููุชุฒุงููุฉ ูู ุงูุนูู ูู ุงูุฎูููุฉ ุ ูุชุญุฑูุฑ ูุคุดุฑ ุชุฑุงุจุท ูุงุฌูุฉ ุงููุณุชุฎุฏู ููููุงู ุงูุฃุฎุฑู ุ ูุงูุญูุงุธ ุนูู ุงูุงุณุชุฌุงุจุฉ. ูู ูุฐุง ุงูุณููุงุฑูู ุ ูุฏ ุชุฑุบุจ ูู ุงูุฅุจูุงุบ ุนู ุงูุชูุฏู ูุฑุฉ ุฃุฎุฑู ุฅูู ูุงุฌูุฉ ุงููุณุชุฎุฏู ุญุชู ูุชููู ุงููุณุชุฎุฏู ูู ูุฑุงูุจุฉ ุชูุฏู ุงูุนูููุฉ ูุงูุชูุงุนู ูุน ุงูุนูููุฉ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุญู ูุฐู ุงููุดููุฉ ุงูุดุงุฆุนุฉ ุ ูููุฑ .NET ูุงุฌูุฉ IProgress </font></font><code>&lt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T </font></font><code>&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ูุงูุชู ุชููุฑ ุทุฑููุฉ Report </font></font><code>&lt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T </font></font><code>&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ุงูุชู ูุชู ุงุณุชุฏุนุงุคูุง ุจูุงุณุทุฉ ูููุฉ ุบูุฑ ูุชุฒุงููุฉ ูุฅุจูุงุบ ุงูุชูุฏู ุฅูู ุงููุชุตู. ูุชู ูุจูู ูุฐู ุงููุงุฌูุฉ ููุนููุฉ ููุทุฑููุฉ ุบูุฑ ุงููุชุฒุงููุฉ - ูุฌุจ ุนูู ุงููุชุตู ุชูููุฑ ูุงุฆู ูููู ุจุชูููุฐ ูุฐู ุงููุงุฌูุฉ.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูููุฑ .NET Progress </font></font><code>&lt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T </font></font><code>&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ุงูุชูููุฐ ุงูุงูุชุฑุงุถู ูู IProgress </font></font><code>&lt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T </font></font><code>&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ููู ุฃูุฑ ููุตู ุจู ูู ุงููุงูุน ุ ุญูุซ ูุชุนุงูู ูุน ุฌููุน ููุทู ุงููุณุชูู ุงูููุฎูุถ ุงููุฑุชุจุท ุจุญูุธ ุณูุงู ุงููุฒุงููุฉ ูุงุณุชุนุงุฏุชู. ุชูุฏู Progress </font></font><code>&lt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T </font></font><code>&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃูุถูุง ุญุฏุซ Action </font></font><code>&lt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T ูุฑุฏ </font><font style="vertical-align: inherit;">ุงูุงุชุตุงู </font></font><code>&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- ููุงููุง ููุฏุนู ุนูุฏ ุชูุฏู ูููุฉ ุงูุชูุงุฑูุฑ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุนูุง ุ ูููุฑ ูู ูู IProgress </font></font><code>&lt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T </font></font><code>&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ู Progress </font></font><code>&lt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T </font></font><code>&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุทุฑููุฉ ุณููุฉ ูููู ูุนูููุงุช ุงูุชูุฏู ูู ูููุฉ ุฎูููุฉ ุฅูู ูุคุดุฑ ุชุฑุงุจุท ูุงุฌูุฉ ุงููุณุชุฎุฏู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฑุฌู ููุงุญุธุฉ ุฃู </font></font><code>&lt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T</font></font><code>&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ุฃู ุชููู ูููุฉ ุจุณูุทุฉ ุ ูุซู int ุฃู ูุงุฆู ูููุฑ ูุนูููุงุช ุชูุฏู ุณูุงููุฉ ุ ูุซู ุงููุณุจุฉ ุงููุฆููุฉ ููุงูุชูุงู ุ ููุตู ุณูุณูุฉ ููุนูููุฉ ุงูุญุงููุฉ ุ ู ETA ุ ููุง ุฅูู ุฐูู. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุถุน ูู ุงุนุชุจุงุฑู ุนุฏุฏ ุงููุฑุงุช ุงูุชู ุฃุจูุบุช ูููุง ุนู ุงูุชูุฏู. </font><font style="vertical-align: inherit;">ุงุนุชูุงุฏูุง ุนูู ุงูุนูููุฉ ุงูุชู ุชููู ุจูุง ุ ูุฏ ุชุฌุฏ ุฃู ุชูุงุฑูุฑ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุฎุงุตุฉ ุจู ุชุชูุฏู ุนุฏุฉ ูุฑุงุช ูู ุงูุซุงููุฉ ุ ููุง ูุฏ ูุคุฏู ุฅูู ุฃู ุชุตุจุญ ูุงุฌูุฉ ุงููุณุชุฎุฏู ุฃูู ุงุณุชุฌุงุจุฉ. </font><font style="vertical-align: inherit;">ูู ูุซู ูุฐุง ุงูุณููุงุฑูู ุ ููุตู ุจุงูุฅุจูุงุบ ุนู ุงูุชูุฏู ุนูู ูุชุฑุงุช ุฃูุจุฑ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฒูุฏ ูู ุงููุนูููุงุช ูู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฐู ุงูููุงูุฉ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุนูู ูุฏููุฉ Microsoft .NET ุงูุฑุณููุฉ.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅูุบุงุก ุงูููุงู ุบูุฑ ุงููุชุฒุงููุฉ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุญุงูุฉ ุฃุฎุฑู ุดุงุฆุนุฉ ุงูุงุณุชุฎุฏุงู ูููุงู ุงูุฎูููุฉ ูู ุงููุฏุฑุฉ ุนูู ุฅูุบุงุก ุงูุชูููุฐ. </font><font style="vertical-align: inherit;">ูููุฑ .NET ูุฆุฉ CancellationToken. </font><font style="vertical-align: inherit;">ุชุณุชูุจู ุงูุทุฑููุฉ ุบูุฑ ุงููุชุฒุงููุฉ ุงููุงุฆู CancellationToken ุ ุงูุฐู ูุชู ุจุนุฏ ุฐูู ูุดุงุฑูุชู ุจูุงุณุทุฉ ุฑูุฒ ุงูุทุฑู ุงูุทุงูุจ ูุงูุทุฑููุฉ ุบูุฑ ุงููุชุฒุงููุฉ ุ ูุจุงูุชุงูู ุชูููุฑ ุขููุฉ ูุฅูุบุงุก ุงูุฅุดุงุฑุฉ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ุงูุญุงูุฉ ุงูุฃูุซุฑ ุดููุนูุง ุ ูุญุฏุซ ุงูุฅูุบุงุก ุนูู ุงููุญู ุงูุชุงูู:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ุงููุชุตู ุจุฅูุดุงุก ูุงุฆู CancellationTokenSource.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชุตู ุงููุชุตู ุจูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุบูุฑ ุงููุชุฒุงููุฉ ุงูููุบุงุฉ ูููุฑุฑ CancellationToken ูู CancellationTokenSource (CancellationTokenSource.Token).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุทูุจ ุงููุชุตู ุฅูุบุงุก ุจุงุณุชุฎุฏุงู ูุงุฆู CancellationTokenSource (CancellationTokenSource.Cancel ()).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุคูุฏ ุงููููุฉ ุงูุฅูุบุงุก ูุชูุบู ููุณูุง ุ ุนุงุฏุฉู ุจุงุณุชุฎุฏุงู ุทุฑููุฉ CancellationToken.ThrowIfCancellationRequested.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฑุฌู ููุงุญุธุฉ ุฃูู ููู ุชุนูู ูุฐู ุงูุขููุฉ ุ ุณุชุญุชุงุฌ ุฅูู ูุชุงุจุฉ ุฑูุฒ ููุชุญูู ูู ุงูุฅูุบุงุกุงุช ุงููุทููุจุฉ ุนูู ูุชุฑุงุช ููุชุธูุฉ (ุฃู ุนูุฏ ูู ุชูุฑุงุฑ ูููุฏู ุฃู ุนูุฏ ููุทุฉ ุชููู ุทุจูุนูุฉ ูู ุงูููุทู). </font><font style="vertical-align: inherit;">ูู ุงููุงุญูุฉ ุงููุซุงููุฉ ุ ุจุนุฏ ุทูุจ ุฅูุบุงุก ุ ูุฌุจ ุฅูุบุงุก ุงููููุฉ ุบูุฑ ุงููุชุฒุงููุฉ ูู ุฃุณุฑุน ููุช ูููู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฌุจ ุฃู ุชููุฑ ูู ุงุณุชุฎุฏุงู ุงูุชุฑุงุฌุน ูุฌููุน ุงูุทุฑู ุงูุชู ูุฏ ุชุณุชุบุฑู ููุชูุง ุทูููุงู ูุฅููุงููุง. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฒูุฏ ูู ุงููุนูููุงุช ูู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฐู ุงูููุงูุฉ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุนูู ูุฏููุฉ Microsoft .NET ุงูุฑุณููุฉ.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชูุฑูุฑ ุงูุชูุฏู ูุงูุฅูุบุงุก - ูุซุงู</font></font></h4><br>
<pre><code class="cs hljs"><span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.Threading.Tasks;
<span class="hljs-keyword">using</span> System.Windows.Forms;
<span class="hljs-keyword">using</span> System.Threading;
<span class="hljs-keyword">namespace</span> <span class="hljs-title">TestAsyncAwait</span><font></font>
{<font></font>
   <span class="hljs-keyword">public</span> <span class="hljs-keyword">partial</span> <span class="hljs-keyword">class</span> <span class="hljs-title">AsyncProgressCancelExampleForm</span> : <span class="hljs-title">Form</span><font></font>
   {<font></font>
       <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">AsyncProgressCancelExampleForm</span>(<span class="hljs-params"></span>)</span><font></font>
       {<font></font>
           InitializeComponent();<font></font>
       }<font></font>
<font></font>
       CancellationTokenSource _cts = <span class="hljs-keyword">new</span> CancellationTokenSource();<font></font>
<font></font>
       <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">void</span> <span class="hljs-title">btnRunAsync_Click</span>(<span class="hljs-params"><span class="hljs-keyword">object</span> sender, EventArgs e</span>)</span><font></font>
<font></font>
       {<font></font>
<font></font>
           <span class="hljs-comment">//   .</span><font></font>
<font></font>
            &lt;<span class="hljs-keyword">int</span>&gt;   ,          ,   ,    , ETA  . .<font></font>
<font></font>
           <span class="hljs-keyword">var</span> progressIndicator = <span class="hljs-keyword">new</span> Progress&lt;<span class="hljs-keyword">int</span>&gt;(ReportProgress);<font></font>
<font></font>
           <span class="hljs-keyword">try</span><font></font>
<font></font>
           {<font></font>
               <span class="hljs-comment">//   ,         </span><font></font>
<font></font>
               <span class="hljs-keyword">await</span> AsyncMethod(progressIndicator, _cts.Token);<font></font>
<font></font>
           }<font></font>
<font></font>
           <span class="hljs-keyword">catch</span> (OperationCanceledException ex)<font></font>
<font></font>
           {<font></font>
               <span class="hljs-comment">// </span><font></font>
<font></font>
               lblProgress.Text = <span class="hljs-string">"Cancelled"</span>;<font></font>
           }<font></font>
       }<font></font>
<font></font>
       <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">btnCancel_Click</span>(<span class="hljs-params"><span class="hljs-keyword">object</span> sender, EventArgs e</span>)</span><font></font>
<font></font>
       {<font></font>
          <span class="hljs-comment">// </span><font></font>
           _cts.Cancel();<font></font>
<font></font>
       }<font></font>
<font></font>
       <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ReportProgress</span>(<span class="hljs-params"><span class="hljs-keyword">int</span> <span class="hljs-keyword">value</span></span>)</span><font></font>
<font></font>
       {<font></font>
           <span class="hljs-comment">//    </span><font></font>
<font></font>
           lblProgress.Text = <span class="hljs-keyword">value</span>.ToString();<font></font>
<font></font>
       }<font></font>
<font></font>
       <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">AsyncMethod</span>(<span class="hljs-params">IProgress&lt;<span class="hljs-keyword">int</span>&gt; progress, CancellationToken ct</span>)</span><font></font>
<font></font>
       {<font></font>
<font></font>
           <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++)<font></font>
<font></font>
           {<font></font>
              <span class="hljs-comment">//   ,     </span><font></font>
<font></font>
               <span class="hljs-keyword">await</span> Task.Delay(<span class="hljs-number">1000</span>);<font></font>
<font></font>
               <span class="hljs-comment">//   </span><font></font>
<font></font>
               <span class="hljs-keyword">if</span> (ct != <span class="hljs-literal">null</span>)<font></font>
<font></font>
               {<font></font>
<font></font>
                   ct.ThrowIfCancellationRequested();<font></font>
<font></font>
               }<font></font>
<font></font>
               <span class="hljs-comment">//   </span><font></font>
<font></font>
               <span class="hljs-keyword">if</span> (progress != <span class="hljs-literal">null</span>)<font></font>
<font></font>
               {<font></font>
<font></font>
                   progress.Report(i);<font></font>
               }<font></font>
           }<font></font>
       }<font></font>
   }<font></font>
}</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุงูุชุธุงุฑ ููุชุฑุฉ ูู ุงูุฒูู</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฅูู ุงูุงูุชุธุงุฑ ูุจุนุถ ุงูููุช (ุนูู ุณุจูู ุงููุซุงู ุ ุญุงูู ูุฑุฉ ุฃุฎุฑู ููุชุญูู ูู ุชููุฑ ุงูููุฑุฏ) ุ ูุชุฃูุฏ ูู ุงุณุชุฎุฏุงู Task.Delay - ูุง ุชุณุชุฎุฏู ุฃุจุฏูุง Thread.Sleep ูู ูุฐุง ุงูุณููุงุฑูู.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุงูุชุธุงุฑ ุงูุชูุงู ุงูุนุฏูุฏ ูู ุงูููุงู ุบูุฑ ุงููุชุฒุงููุฉ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุงุณุชุฎุฏู Task.WaitAny ูุงูุชุธุงุฑ ุงูุชูุงู ุฃู ูููุฉ. </font><font style="vertical-align: inherit;">ุงุณุชุฎุฏู Task.WaitAll ูู ุงูุชุธุงุฑ ุงูุชูุงู ุฌููุน ุงูููุงู. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ูุฌุจ ุฃู ุฃุชุณุฑุน ูู ุงูุชุญูู ุฅูู C # 7 ุฃู 8ุ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุจุงูุชุณุฌูู ูู ูุฏูุฉ ูุฌุงููุฉ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูููุงูุดุฉ ูุฐุง ุงูููุถูุน.</font></font></b></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar488060/index.html">Backblaze - ุฅุญุตุงุฆูุงุช ุงููุฑุต ุงูุตูุจ ูุนุงู 2019</a></li>
<li><a href="../ar488062/index.html">ุชูุฑูุฑ Dynamics 365 & Power Platform ูู Lamoda - Report</a></li>
<li><a href="../ar488064/index.html">ุณุจุนุฉ ุฃุณุจุงุจ ููุงุฐุง ููููุณ</a></li>
<li><a href="../ar488072/index.html">ูู ุญูู ุงูุชุจุนูุฉ ูููู ุฃู ูุญุฏุฏ ุงูุฎุฏูุฉุ</a></li>
<li><a href="../ar488078/index.html">ุฑูุจูุชู ููุฃุณ ุงูุฐูุงุก ุงูุงุตุทูุงุนู ุงูุฑูุณู 2019</a></li>
<li><a href="../ar488088/index.html">ููู ูุชูุงุนู ูุจุฑ ูุน ููุฆุงุช ุงูุฏููุฉ ูุงููุชูุฏููู ุงูุขุฎุฑูู. ุชูุฑูุฑ ุงูุดูุงููุฉ ูุฌููุน ุงูุณููุงุช</a></li>
<li><a href="../ar488092/index.html">ุงููุงูุงุซูู. ููููุฉ ุงูุญุตูู ุนูู ุฃูุตู ุงุณุชูุงุฏุฉ ูุงูุจูุงุก ุนูู ููุฏ ุงูุญูุงุฉ</a></li>
<li><a href="../ar488096/index.html">400 ุฌุฑุงู ููุธุฑ ูู ุฌุงูุจ ูุงูู ุงูุญุฑูุฉ. ZR / ZR +</a></li>
<li><a href="../ar488098/index.html">ููููุฉ ุฅูุดุงุก ูุดุฑูุน Django ูู ูุงูุจ</a></li>
<li><a href="../ar488102/index.html">ุงูุนูุงูุฉ ุจูู C # ู C #: REST ู gRPC ููู ุดูุก ุจููููุง</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>