<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üõï üö® üêó Die Implementierung des Aquarelleffekts in Spielen üë®üèΩ‚Äç‚öñÔ∏è ü§∏ üëû</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Einf√ºhrung
 Als wir im Januar 2019 anfingen, √ºber unser neues Farbspiel zu diskutieren . Wir haben sofort entschieden, dass der Aquarelleffekt das wic...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Die Implementierung des Aquarelleffekts in Spielen</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/494924/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f9b/8bc/7c5/f9b8bc7c53c4d97ed983c428ce53926b.gif" alt="Bild"></div><br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Einf√ºhrung</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als wir im Januar 2019 anfingen, √ºber unser neues </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Farbspiel zu</font></font></em></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> diskutieren </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><em><font style="vertical-align: inherit;">.</font></em></a><font style="vertical-align: inherit;"> Wir haben sofort entschieden, dass der Aquarelleffekt das wichtigste Element ist. Inspiriert von </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dieser </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bulgari-</font></font></em></a><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"> Werbung</font></a><font style="vertical-align: inherit;"> stellten wir fest, dass die Umsetzung der Aquarellmalerei mit der hohen Qualit√§t der verbleibenden Ressourcen, die wir erstellen wollten, vereinbar sein sollte. Wir haben einen interessanten Artikel von Forschern von Adobe gefunden </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(1)</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Die darin beschriebene Aquarelltechnik sah wunderbar aus und konnte aufgrund ihrer Vektor- (und nicht Pixel-) Natur auch auf schwachen Mobilger√§ten funktionieren. Unsere Implementierung basiert auf dieser Studie. Wir haben Teile davon ge√§ndert und / oder vereinfacht, weil unsere Leistungsanforderungen unterschiedlich waren. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Farbton</font></font></em></a><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Dies ist ein Spiel, daher mussten wir zus√§tzlich zur Zeichnung selbst die gesamte 3D-Umgebung rendern und die Spielelogik in einem Frame ausf√ºhren. </font><font style="vertical-align: inherit;">Wir wollten auch sicherstellen, dass die Simulation in Echtzeit durchgef√ºhrt wurde und der Spieler sofort sah, was gezeichnet wurde.</font></font><br>
<a name="habracut"></a><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2e8/277/d95/2e8277d95ed5a29796176e375ecf59c5.gif"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aquarellsimulation in Farbton. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diesem Artikel werden wir die einzelnen Details der Implementierung dieser Technik in der Unity-Spiel-Engine teilen und dar√ºber sprechen, wie wir sie so angepasst haben, dass sie nahtlos auf Low-End-Mobilger√§ten funktioniert. </font><font style="vertical-align: inherit;">Wir werden mehr √ºber die Hauptphasen dieses Algorithmus sprechen, ohne jedoch den Code zu demonstrieren. </font><font style="vertical-align: inherit;">Diese Implementierung wurde in Unity 2018.4.2 erstellt und sp√§ter auf Version 2018.4.7 aktualisiert.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Was ist Farbton?</font></font></h1><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Farbton</font></font></em></a><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Dies ist ein Puzzlespiel, mit dem der Spieler die Level abschlie√üen und die Farben der Aquarelle so mischen kann, dass sie den Farben des Origamis entsprechen. </font><font style="vertical-align: inherit;">Das Spiel wurde im Herbst 2019 bei Apple Arcade f√ºr iOS, macOS und tvOS ver√∂ffentlicht.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bb0/630/d46/bb0630d469679d86535ec46fd97c8f0a.png" width="2224" height="1668"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Screenshot-Farbton.</font></font></i><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bedarf</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die in meinem Artikel beschriebene Technik kann in drei Hauptstufen unterteilt werden, die in jedem Frame ausgef√ºhrt werden:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Generiere neue Spots basierend auf Spielereingaben und f√ºge sie der Spotliste hinzu</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Malsimulation f√ºr alle Stellen auf der Liste</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spot-Rendering</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Folgenden werden wir detailliert dar√ºber sprechen, wie wir die einzelnen Phasen implementiert haben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir wollten 60 FPS erreichen, dh diese Stufen und die gesamte unten beschriebene Logik werden 60 Mal pro Sekunde ausgef√ºhrt.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Input bekommen</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In jedem Frame transformieren wir die Eingabe des Players (abh√§ngig von der Plattform kann es sich um eine Ber√ºhrung, die Position der Maus oder den virtuellen Cursor handeln) in eine </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">splatData-</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Struktur </font><font style="vertical-align: inherit;">, die Position, Bewegungsvektor, Farbe und Druck enth√§lt (2). Zuerst √ºberpr√ºfen wir die Schlagl√§nge des Spielers auf dem Bildschirm und vergleichen sie mit einem bestimmten Schwellenwert. Mit kurzen Wischbewegungen erzeugen wir einen Punkt pro Frame an der Eingabeposition. Im umgekehrten Fall f√ºllen wir den Abstand zwischen dem Start- und dem Endpunkt des Wischens des Spielers mit neuen Punkten, die mit einer vorgegebenen Dichte erstellt wurden (dies gew√§hrleistet eine konstante Farbdichte unabh√§ngig von der Wischgeschwindigkeit). Die Farbe gibt die aktuell verwendete Farbe an, und die Neigung der Bewegung gibt die Richtung des Wischens an. Erstellte neue Spots werden einer Sammlung namens </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">splatList hinzugef√ºgt</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, die auch alle zuvor erstellten Spots enth√§lt. </font><font style="vertical-align: inherit;">Es wird verwendet, um Farbe in den folgenden Schritten zu simulieren und zu rendern. </font><font style="vertical-align: inherit;">Jeder einzelne Punkt kennzeichnet einen ‚ÄûTropfen‚Äú Farbe, der gerendert werden muss - den Hauptbaustein der Aquarellmalerei. </font><font style="vertical-align: inherit;">Die fertige Aquarellzeichnung ist das Ergebnis des Renderns von Dutzenden / Hunderten von sich √ºberschneidenden Punkten. </font><font style="vertical-align: inherit;">Au√üerdem wird dem neu erstellten Spot der Wert der Lebensdauer (in Frames) zugewiesen, der bestimmt, wie lange der Spot simuliert werden kann.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ccb/e15/628/ccbe15628a553ba6ceb25af2fd2e2e36.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein Beispiel f√ºr die Interpolation langer Wischpunkte. </font><font style="vertical-align: inherit;">Hohlkreise kennzeichnen Punkte, die in regelm√§√üigen Abst√§nden erzeugt werden.</font></font></i><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Segeltuch</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie echte Farbe brauchen wir eine Leinwand. </font><font style="vertical-align: inherit;">Um dies zu implementieren, haben wir einen begrenzten Bereich im 3D-Raum erstellt, der wie ein Blatt Papier aussieht. </font><font style="vertical-align: inherit;">Die Eingabekoordinaten des Players und alle anderen Vorg√§nge, z. B. das Rendern eines Netzes, werden im Canvas-Bereich aufgezeichnet. </font><font style="vertical-align: inherit;">In √§hnlicher Weise h√§ngt die Gr√∂√üe eines Puffers, der zum Simulieren des Zeichnens verwendet wird, in Pixel von der Gr√∂√üe der Leinwand ab. </font><font style="vertical-align: inherit;">Der in diesem Artikel verwendete Begriff "Canvas" ist in keiner Weise mit der Canvas-Klasse von Unity UI verkn√ºpft.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/648/367/1cc/6483671ccaa809a93bcf2a276cdd2471.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das gr√ºne Rechteck zeigt den Leinwandbereich im Spiel</font></font></i><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stelle</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Optisch wird der Punkt durch ein rundes Netz dargestellt, dessen Rand aus 25 Eckpunkten besteht. Sie k√∂nnen es als ‚ÄûTropfen‚Äú wahrnehmen, den ein nasser Pinsel auf einem St√ºck Papier hinterl√§sst, wenn Sie es f√ºr einen sehr kurzen Moment ber√ºhren. Wir f√ºgen der Position jedes Scheitelpunkts einen kleinen zuf√§lligen Versatz hinzu, der die Ungleichm√§√üigkeit der Kanten der Farbflecken sicherstellt.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9bb/baa/daa/9bbbaadaaf2b6d0fc1b295f5739ff083.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beispiele f√ºr Maschennetze.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
F√ºr jeden Scheitelpunkt speichern wir auch den Geschwindigkeitsvektor nach au√üen, der dann in der Simulationsphase verwendet wird. Wir generieren mehrere solcher Netze mit kleinen Abweichungen zwischen den Formularen und speichern ihre Daten in einem skriptuemy-Objekt ( </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">einem skriptf√§higen Objekt</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). Jedes Mal, wenn ein Spieler in Echtzeit einen Punkt zeichnet, weisen wir ihm ein zuf√§llig aus diesem Satz ausgew√§hltes Netz zu. Es ist erw√§hnenswert, dass die Leinwand bei unterschiedlichen Bildschirmaufl√∂sungen eine unterschiedliche Gr√∂√üe in Pixel hat. Damit auf allen Ger√§ten der Koeffizient der Gr√∂√üe der Spots gleich ist, √§ndern wir zu Beginn des Spiels die Skalierung entsprechend der Gr√∂√üe der Leinwand.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1af/f92/8de/1aff928de51a35f64351fe72f5c10d80.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein Beispiel f√ºr Punktvektoren, die mit neuen Punktdaten gespeichert wurden.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Wenn ein Punktnetz erzeugt wird, speichern wir auch seinen ‚ÄûBenetzungsbereich‚Äú, der eine Reihe von Pixeln definiert, die sich innerhalb der urspr√ºnglichen Punktgrenzen befinden. Der Benetzungsbereich wird verwendet, um die </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Advektion</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zu simulieren </font><font style="vertical-align: inherit;">. W√§hrend der Ausf√ºhrung der Anwendung zum Zeitpunkt der Erstellung jedes neuen Spots markieren wir die Leinwand darunter als nass. Wenn wir die Bewegung von Farbe simulieren, lassen wir sie sich √ºber die Bereiche der Leinwand ‚Äûausbreiten‚Äú, die bereits nass geworden sind. Wir speichern den Feuchtigkeitsgehalt der Leinwand im globalen </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wetmap-</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Puffer </font><font style="vertical-align: inherit;">, der aktualisiert wird, wenn jeder neue Punkt hinzugef√ºgt wird. Neben der Teilnahme am Mischen zweier Farben spielt die Advektion eine wichtige Rolle f√ºr das endg√ºltige Erscheinungsbild des Malstrichs.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/31d/843/67e/31d84367e786d15bd7fe0f59cbe2e3a5.jpg"></div><br>
<i><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wetmap-</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> F√ºllung </font><font style="vertical-align: inherit;">, Pixel innerhalb der </font><em><font style="vertical-align: inherit;">Punktform</font></em><font style="vertical-align: inherit;"> (gr√ºner Kreis) markieren den </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wetmap-</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Puffer </font><font style="vertical-align: inherit;">(Raster) als nass (gr√ºn). </font><font style="vertical-align: inherit;">Der Wetmap-Puffer selbst hat eine viel h√∂here Aufl√∂sung. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zus√§tzlich enth√§lt jeder Punkt einen </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opazit√§tswert</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , der eine Funktion seiner Fl√§che ist. </font><font style="vertical-align: inherit;">es repr√§sentiert den Effekt der Speicherung von Pigment (eine konstante Menge an Pigment im Fleck). </font><font style="vertical-align: inherit;">Wenn die Gr√∂√üe eines Spots w√§hrend der Simulation zunimmt, nimmt seine Deckkraft ab und umgekehrt.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a88/870/a5b/a88870a5b213286e20815f3b87ecca5d.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein Beispiel f√ºr Farbe ohne Advektion (links) und damit (rechts).</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/341/069/348/341069348c265951c765843ca792b2c8.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beispiele f√ºr Farbvorschub.</font></font></i><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Simulationszyklus</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem die Eingabe des Players im aktuellen Frame empfangen und in neue Spots konvertiert wurde, besteht der n√§chste Schritt darin, die Spots zu simulieren, um die Verbreitung von Aquarellen zu simulieren. Zu Beginn dieser Simulation haben wir eine Liste der Punkte, die aktualisiert werden m√ºssen, und eine aktualisierte </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wetmap</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In jedem Frame gehen wir die Liste der Punkte um und √§ndern die Positionen aller Eckpunkte der Punkte unter Verwendung der folgenden Gleichung:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4b8/6fe/91a/4b86fe91ae4f677697b43e99a3299ecc.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dabei gilt: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ist der neue Bewegungsvektor, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ist der konstante Korrekturparameter (0,33), </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ist der Bewegungssteigungsvektor = normalisierte Richtung des </font><font style="vertical-align: inherit;">Schlagens </font><font style="vertical-align: inherit;">des Spielers multipliziert mit 0,3, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cr</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ist der Skalarwert der Leinwandrauheit = Random.Range (1,1 + r), </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ist der globale Rauheitsparameter, f√ºr Standardfarbe setzen wir ihn auf 0,4, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ist der Geschwindigkeitsvektor, der im Voraus mit dem </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Punktnetz erstellt wurde</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><b><font style="vertical-align: inherit;">vm</font></b><font style="vertical-align: inherit;"> ist der Geschwindigkeitsfaktor, der Skalarwert, den wir in einigen Situationen lokal verwenden, um die Advektion zu beschleunigen, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x (t +) 1)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - m√∂gliche neue Scheitelpunktposition, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x (t)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - aktuelle Scheitelpunktposition, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">br</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ist der Verzweigungsrauheitsvektor = (Random.Range (-r, r), Random.Range (-r, r)), ist </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">w (x)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> der Benetzungswert im Wetmap-Puffer. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Ergebnis solcher Gleichungen wird als </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">voreingenommener Zufallslauf bezeichnet</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Es ahmt das Verhalten von Partikeln in echten Aquarellfarben nach. Wir versuchen, jeden Scheitelpunkt des Punkts von seiner Mitte ( </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font><font style="vertical-align: inherit;">nach au√üen zu bewegen </font><font style="vertical-align: inherit;">, um Zuf√§lligkeit hinzuzuf√ºgen. Dann √§ndert sich die Bewegungsrichtung geringf√ºgig mit der Richtung des Strichs ( </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) und wird erneut durch eine andere Rauheitskomponente ( </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">br</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font><font style="vertical-align: inherit;">randomisiert </font><font style="vertical-align: inherit;">. Dann wird diese neue Scheitelpunktposition mit einer </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wetmap</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> verglichen </font><font style="vertical-align: inherit;">. Wenn die Leinwand an der neuen Position bereits nass war (Wert im </font><em><font style="vertical-align: inherit;">Wetmap-</font></em><font style="vertical-align: inherit;"> Puffer</font></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gr√∂√üer als 0), dann geben wir dem Scheitelpunkt eine neue Position </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x (t + 1)</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , andernfalls √§ndern wir seine Position nicht. </font><font style="vertical-align: inherit;">Infolgedessen verteilt sich die Farbe nur in den Bereichen der Leinwand, die bereits nass waren. </font><font style="vertical-align: inherit;">In der letzten Phase berechnen wir den Spotbereich neu, der im Renderzyklus verwendet wird, um seine Deckkraft zu √§ndern.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a69/742/ae4/a69742ae4ee6d91b27bac6397bd317ff.gif"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mikroskaliges Beispiel einer Advektionssimulation zwischen zwei aktiven Farbflecken.</font></font></i><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Renderzyklus - Nasspuffer</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem Sie die Spots nachgez√§hlt haben, k√∂nnen Sie mit dem Rendern beginnen. Am Ausgang nach der Emulationsphase stellt sich heraus, dass das Netz der Punkte h√§ufig deformiert ist (es treten beispielsweise Schnittpunkte auf). Daher verwenden wir f√ºr die korrekte Wiedergabe ohne zus√§tzliche Kosten f√ºr die wiederholte Triangulation eine L√∂sung mit Schablonenpuffer mit zwei Durchg√§ngen. Die Unity </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Graphics-</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Zeichenoberfl√§che wird zum Rendern von Spots verwendet </font><font style="vertical-align: inherit;">, und der </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Renderzyklus</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> wird innerhalb der Unity </font><em><font style="vertical-align: inherit;">OnPostRender-</font></em><font style="vertical-align: inherit;"> Methode ausgef√ºhrt </font><font style="vertical-align: inherit;">. </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Punktnetze</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> werden gerendert, um die Textur ( </font><em><font style="vertical-align: inherit;">WetBuffer</font></em><font style="vertical-align: inherit;"> ) mit einer separaten Kamera </font><font style="vertical-align: inherit;">zu rendern </font><font style="vertical-align: inherit;">. Zu Beginn des Zyklus wird </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wetBuffer</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gel√∂scht und mithilfe von </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Graphics.SetRenderTarget (wetBuffer) als Renderziel festgelegt</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Weiter f√ºr jeden aktiven Spot aus </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">splatList</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Wir f√ºhren die im folgenden Diagramm gezeigte Sequenz aus:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1e7/a09/328/1e7a0932807463744d7fd50a40fddedc.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Renderzyklusdiagramm. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir beginnen mit der Reinigung des Schablonenpuffers vor jedem Punkt, damit der Zustand des Schablonenpuffers des vorherigen Punkts den neuen Punkt nicht beeinflusst. </font><font style="vertical-align: inherit;">Dann w√§hlen wir das Material aus, mit dem der Punkt gezeichnet wird. </font><font style="vertical-align: inherit;">Dieses Material ist f√ºr die Farbe des Spots verantwortlich und wir w√§hlen es basierend auf dem Farbindex aus, der in </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">splatData</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gespeichert wurde, </font><font style="vertical-align: inherit;">als der Spieler </font><em><font style="vertical-align: inherit;">den</font></em><font style="vertical-align: inherit;"> Spot </font><em><font style="vertical-align: inherit;">gezeichnet hat</font></em><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Dann √§ndern wir die Farbopazit√§t (Alphakanal) basierend auf der im vorherigen Schritt berechneten Fl√§che des Punktnetzes. </font><font style="vertical-align: inherit;">Das Rendern selbst wird mit einem Schablonenpuffer-Shader mit zwei Durchg√§ngen durchgef√ºhrt. </font><font style="vertical-align: inherit;">Im ersten Durchgang (Material.SetPass (0)) √ºbergeben wir das urspr√ºngliche Punktnetz, um die Koordinaten aufzuzeichnen, in die das Netz gef√ºllt ist. </font><font style="vertical-align: inherit;">Mit diesem Pass </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ColorMask</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hat den Wert 0 zugewiesen, sodass das Netz selbst nicht gerendert wird. </font><font style="vertical-align: inherit;">Im zweiten Durchgang (Material.SetPass (1)) verwenden wir das um das Punktnetz beschriebene Viereck. </font><font style="vertical-align: inherit;">Wir √ºberpr√ºfen den Wert im Schablonenpuffer f√ºr jedes Pixel des Vierecks; </font><font style="vertical-align: inherit;">Wenn der Wert eins ist, wird das Pixel gerendert, andernfalls wird es √ºbersprungen. </font><font style="vertical-align: inherit;">Als Ergebnis dieser Operation rendern wir dieselbe Form wie das Punktnetz, aber es enth√§lt sicherlich keine unerw√ºnschten Artefakte, z. B. Selbst√ºberschneidungen.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1a9/06b/beb/1a906bbeb3f003d057430f6fb28e9257.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das Verfahren zur Durchf√ºhrung der Doppelschablonenpuffertechnik (von links nach rechts). </font><font style="vertical-align: inherit;">Beachten Sie, dass dieser Schablonenpuffer eine viel h√∂here Aufl√∂sung als gezeigt hat, sodass er seine urspr√ºngliche Form mit gro√üer Genauigkeit beibehalten kann.</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ed5/15d/3ae/ed515d3aec23cd4eb9041761913afd2c.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein Beispiel f√ºr drei sich √ºberschneidende Punkte, die auf herk√∂mmliche Weise gerendert wurden, was zum Auftreten von Artefakten f√ºhrte (links) und die Verwendung der Zwei-Pass-Schablonenpuffertechnik unter Eliminierung aller Artefakte (rechts).</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Nachdem alle Spots in </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WetBuffer gerendert wurden, wird</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> es in der Spielszene angezeigt. Unsere Leinwand verwendet einen provisorischen Shader, der einen </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WetBuffer</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , eine diffuse Papierkarte und eine normale Papierkarte </font><font style="vertical-align: inherit;">kombiniert </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/968/db5/55a/968db555a2a477134013c355e3898e90.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Canvas-Shader: nur WetBuffer (links), hinzugef√ºgte Papierstruktur (Mitte), normale Karte hinzugef√ºgt (rechts). </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Spiel unterst√ºtzt einen Modus f√ºr Menschen mit Farbenblindheit, in dem separate Muster √ºber die Farbe gelegt werden. </font><font style="vertical-align: inherit;">Um dies zu erreichen, haben wir das Material der Flecken ge√§ndert, indem wir die Textur des Musters mit Kacheln hinzugef√ºgt haben. </font><font style="vertical-align: inherit;">Muster folgen den Regeln zum Mischen der Farben des Spiels, z. B. Blau (Balken) + Gelb (Kreise) ergeben Gr√ºn (Kreise in den Balken) an der Kreuzung. </font><font style="vertical-align: inherit;">Um Muster nahtlos zu mischen, m√ºssen sie im selben UV-Raum gerendert werden. </font><font style="vertical-align: inherit;">Wir passen die UV-Koordinaten des im zweiten Durchgang des Schablonenpuffers verwendeten Vierecks an und teilen die x- und y-Positionen (die im Canvas-Bereich angegeben sind) durch die Breite und H√∂he der Canvas. </font><font style="vertical-align: inherit;">Als Ergebnis erhalten wir die korrekten Werte von u, v im Raum von 0 bis 1.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7b5/057/211/7b50572119f116fae451dd321275a920.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein Beispiel f√ºr Farbenblindheitsmuster.</font></font></i><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Optimierung - Puffer f√ºr getrocknete Stellen</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie oben erw√§hnt, bestand eine unserer Aufgaben darin, mobile Ger√§te mit geringem Stromverbrauch zu unterst√ºtzen. </font><font style="vertical-align: inherit;">Spot-Rendering stellte sich als Engpass unseres Spiels heraus. </font><font style="vertical-align: inherit;">Jeder Punkt erfordert drei Zeichenaufrufe (zwei Durchg√§nge aufrufen + Schablonenpuffer l√∂schen). Da die Mallinie zehn oder Hunderte von Punkten enth√§lt, steigt die Anzahl der Zeichenaufrufe schnell an und f√ºhrt zu einem R√ºckgang der Bildrate. </font><font style="vertical-align: inherit;">Um dies zu bew√§ltigen, haben wir zwei Optimierungstechniken angewendet: erstens das gleichzeitige Zeichnen aller ‚Äûgetrockneten‚Äú Punkte in </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dryBuffer</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und zweitens die lokale Beschleunigung des Trocknens der Punkte nach Erreichen einer bestimmten Anzahl aktiver Punkte. </font></font><br>
<br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dryBuffer</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wird dem Renderzyklus eine zus√§tzliche Rendertextur hinzugef√ºgt. Wie bereits erw√§hnt, hat jeder Spot eine Lebensdauer (in Frames), die mit jedem Frame abnimmt. Nachdem die Lebensdauer 0 erreicht hat, gilt der Fleck als ‚Äûausgetrocknet‚Äú. Trockene Stellen werden nicht mehr simuliert, ihre Form √§ndert sich nicht und daher m√ºssen sie nicht in jedem Frame erneut gerendert werden.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b44/afe/714/b44afe714c3be2aed6d853d031e2379a.gif"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DryBuffer in Aktion; Die grauen Flecken zeigen die in dryBuffer kopierten Flecken.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Jeder Punkt , </font><font style="vertical-align: inherit;">deren Lebensdauer erreicht 0 von dem entfernt </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">splatList</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und ‚Äûkopiert‚Äú zu </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dryBuffer</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . W√§hrend des Kopiervorgangs wird der </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Renderzyklus</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> wiederverwendet, und diesmal wird </font><em><font style="vertical-align: inherit;">dryBuffer</font></em><font style="vertical-align: inherit;"> als Ziel- </font><em><font style="vertical-align: inherit;">Rendertextur</font></em><font style="vertical-align: inherit;"> festgelegt </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das richtige Mischen zwischen </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WetBuffer</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DryBuffer</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> kann nicht durch einfaches √úberlappen der Puffer im Canvas-Shader erreicht werden, da die </font><em><font style="vertical-align: inherit;">Rendertextur</font></em><font style="vertical-align: inherit;"> des </font><em><font style="vertical-align: inherit;">WetBuffer-</font></em><font style="vertical-align: inherit;"> Puffers</font></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">enth√§lt Spots, die bereits mit dem Alpha-Wert gerendert wurden (was vormultipliziertem Alpha entspricht). </font><font style="vertical-align: inherit;">Wir haben dieses Problem umgangen, indem wir dem Start des Renderzyklus einen Schritt hinzugef√ºgt haben, bevor wir die Spots iterativ durchlaufen haben. </font><font style="vertical-align: inherit;">Zu diesem Zeitpunkt rendern wir ein Viereck von der Gr√∂√üe einer Kamera- </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Trimmpyramide</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , die </font><em><font style="vertical-align: inherit;">dryBuffer</font></em><font style="vertical-align: inherit;"> anzeigt </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Dank dessen wird jeder Fleck, der in </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wetBuffer</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gerendert </font><font style="vertical-align: inherit;">wird, bereits mit trockenen, zuvor gestrichenen Flecken gemischt.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/24e/afe/417/24eafe41762bcd3e7b2363e78c8bb9c0.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eine Mischung aus nassen und getrockneten Stellen. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dryBuffer-</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Puffer </font><font style="vertical-align: inherit;">sammelt alle "getrockneten" Stellen und wird zwischen den Frames nicht gel√∂scht. </font><font style="vertical-align: inherit;">Daher kann der gesamte Speicher, der abgelaufenen Flecken zugeordnet ist, gel√∂scht werden, nachdem sie in den Puffer ‚Äûkopiert‚Äú wurden.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/00e/aa0/5bd/00eaa05bd29ca5c46eb8a845accc0b75.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dank der Optimierung mit </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dryBuffer</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sind die </font><em><font style="vertical-align: inherit;">Farbmengen</font></em><font style="vertical-align: inherit;"> , die ein Spieler auf die Leinwand </font><em><font style="vertical-align: inherit;">auftragen kann</font></em><font style="vertical-align: inherit;"> , nicht mehr begrenzt.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Wenn Sie die </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dryBuffer-</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Technik </font><font style="vertical-align: inherit;">separat verwenden, kann der Spieler mit nahezu unendlich viel Farbe zeichnen, garantiert jedoch keine gleichbleibende Leistung. Wie oben erw√§hnt, hat der Malstrich eine konstante </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dicke</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , die durch Zeichnen unter Interpolation vieler Punkte zwischen dem Start- und dem Endpunkt des Wischens erreicht wird. Bei vielen schnellen und langen Wischen kann der Spieler eine gro√üe Anzahl von aktiven Punkten erzeugen. Diese Spots werden simuliert und √ºber die durch ihre Lebensdauer festgelegte Anzahl von Frames gerendert, was letztendlich zu niedrigeren Frameraten f√ºhrt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um eine stabile Bildrate zu gew√§hrleisten, haben wir den Algorithmus so ge√§ndert, dass die Anzahl der aktiven Spots durch einen konstanten Wert von </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">maxActiveSplats begrenzt wurde</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Alle Flecken, die diesen Wert √ºberschreiten, ‚Äûtrocknen‚Äú sofort aus. Dies wird erreicht, indem die Lebensdauer der √§ltesten aktiven Spots auf 0 reduziert wird, weshalb sie fr√ºher in den Puffer f√ºr getrocknete Spots kopiert werden. Da wir, wenn wir die Lebensdauer verk√ºrzen, einen Punkt im unvollst√§ndigen Zustand der Simulation erhalten (was sehr interessant aussehen wird), erh√∂hen wir gleichzeitig die Ausbreitungsgeschwindigkeit der Farbe. Aufgrund der Geschwindigkeitssteigerung erreicht der Spot fast die gleiche Gr√∂√üe wie bei normaler Geschwindigkeit mit einer normalen Lebensdauer.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/907/c68/4c9/907c684c9c3642f6a109b4cadcf8718c.gif"></div><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d79/fe2/72b/d79fe272b648131541bfbf423384fc29.gif"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Demonstration von maximal 40 (oben) und 80 (unten) aktiven Spots. </font><font style="vertical-align: inherit;">In dryBuffer kopierte getrocknete Stellen werden grau angezeigt. </font><font style="vertical-align: inherit;">Der Wert gibt die ‚ÄûMenge‚Äú an Farbe an, die gleichzeitig simuliert werden kann. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Wert von </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">maxActiveSplats</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ist der wichtigste Leistungsparameter. Er erm√∂glicht es uns, die Anzahl </font><font style="vertical-align: inherit;">der </font><em><font style="vertical-align: inherit;">Zeichenaufrufe</font></em><font style="vertical-align: inherit;"> , die wir dem Aquarell-Rendering zuweisen k√∂nnen, genau zu steuern. </font><font style="vertical-align: inherit;">Wir legen es beim Start fest, basierend auf der Plattform- und Ger√§teleistung. </font><font style="vertical-align: inherit;">Sie k√∂nnen diesen Wert auch w√§hrend der Anwendungsausf√ºhrung √§ndern, wenn eine Verringerung der Bildrate festgestellt wird.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fazit</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Implementierung dieses Algorithmus ist zu einer interessanten und herausfordernden Aufgabe geworden. </font><font style="vertical-align: inherit;">Wir hoffen, dass die Leser den Artikel genossen haben. </font><font style="vertical-align: inherit;">Sie k√∂nnen Fragen in den Kommentaren zum </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Original stellen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Wenn Sie unser Aquarell in Aktion sch√§tzen m√∂chten, versuchen Sie, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T√∂nung zu spielen. </font><font style="vertical-align: inherit;">auf der Apple Arcade</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/959/89e/fda/95989efda4d27809e1ce3923b341ac46.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Screenshot eines Spiels, das auf Apple TV l√§uft</font></font></i><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(1) S. DiVerdi, A. Krishnaswamy, R. M√Ñch und D. Ito, "Malen mit Polygonen: Eine prozedurale Aquarellmaschine", in IEEE Transactions on Visualization and Computer Graphics, vol. </font><font style="vertical-align: inherit;">19, nein. </font><font style="vertical-align: inherit;">5, pp. </font><font style="vertical-align: inherit;">723‚Äì735, Mai 2013. doi: 10.1109 / TVCG.2012.295 </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
(2) Der Druck wird nur beim Zeichnen des Apple Pencil auf einem iPad ber√ºcksichtigt.</font></font></blockquote></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de494912/index.html">Mein Beitrag zum Schutz gegen Covid-19</a></li>
<li><a href="../de494916/index.html">Wie man H√§ndlerkonten verkauft und eine Welle des Interesses am Online-Gesch√§ft ausl√∂st</a></li>
<li><a href="../de494918/index.html">Die dritte Woche des Fernfluges. Bewertungen von IT-QIWI-Mitarbeitern √ºber Vollzeitarbeit von zu Hause aus</a></li>
<li><a href="../de494920/index.html">Schlechter Rat an den Entwickler: Was tun, um das Management zufrieden zu stellen?</a></li>
<li><a href="../de494922/index.html">Nischni Nowgorod f√ºr einen IT-Spezialisten: Perspektiven f√ºr die Arbeit und Chancen f√ºr das Leben</a></li>
<li><a href="../de494938/index.html">Gl√ºcklicher Backup-Tag! Vergiss ihn nicht</a></li>
<li><a href="../de494940/index.html">DevOps - was ist das, warum und wie stark ist es gefragt?</a></li>
<li><a href="../de494942/index.html">CGI zu Hause mit Unreal Engine und iPhone</a></li>
<li><a href="../de494950/index.html">Einige Speichertrends, auf die Sie achten sollten</a></li>
<li><a href="../de494956/index.html">Datenbyte-Lebensdauer</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>