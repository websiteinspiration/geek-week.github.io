<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üöØ üï≥Ô∏è üè§ Kulhacker. Come√ßar üé° ‚ô®Ô∏è üëå</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Uma breve hist√≥ria sobre como ingressar rapidamente na seguran√ßa da informa√ß√£o. Uma hist√≥ria antiga, um longo come√ßo, mas talvez eu comece ...
 
 Epis...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Kulhacker. Come√ßar</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/493086/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/0l/cz/90/0lcz90jurwg6j-swtqvrxyzvogy.jpeg" alt="imagem"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Uma breve hist√≥ria sobre como ingressar rapidamente na seguran√ßa da informa√ß√£o. </font><font style="vertical-align: inherit;">Uma hist√≥ria antiga, um longo come√ßo, mas talvez eu comece ...</font></font><br>
<a name="habracut"></a><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Epis√≥dio 1. Introdu√ß√£o, captcha, cortando bots</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu tenho um projeto na Internet de natureza pessoal, por assim dizer, com o in√≠cio em 2006. O projeto √© muito pessoal, por isso n√£o publico o link, mas posso dar a quem desejar o link no PM. No momento, o projeto est√° morrendo lentamente, j√° passou pelo est√°gio de crescimento e prosperidade, parece que precisa ser enterrado, mas ainda n√£o decidimos essa etapa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A mudan√ßa em 2006 foi comprada, n√£o √© segredo - o DLE e, em cerca de um ano, ela foi dopada por si mesma, dopada tanto que paramos de atualizar desde 2007. Saytets, onde as pessoas saem, escrevem, comentam, se comunicam no PM sobre v√°rios t√≥picos importantes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As caracter√≠sticas distintivas do projeto foram suas pr√≥prias melhorias, mas t√£o simples que, √†s vezes, fiquei muito surpreso com o porqu√™ de outras pessoas n√£o terem pensado nisso antes. Uma dessas melhorias est√° relacionada ao captcha.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quando todos esses projetos introduziram o captcha para prote√ß√£o contra bots, um amigo e eu decidimos apresent√°-lo, mas rapidamente percebemos que est√°vamos perdendo estupidamente nosso p√∫blico, e havia mais e mais bots e eles continuavam enviando spam. Como resultado, o captcha permaneceu, mas apenas como uma roleta, exibindo o n√∫mero de desist√™ncias, o que n√£o afeta a capacidade de deixar um coment√°rio - em outras palavras, cortamos completamente o mecanismo de verifica√ß√£o do captcha, mas deixamos a gera√ß√£o e a exibi√ß√£o. E ap√≥s um per√≠odo bastante curto, tornou-se um chip - as pessoas nos coment√°rios foram medidas pelo n√∫mero de captcha, que √© mais bonito etc. "O que quer que a crian√ßa divirta, se n√£o com as m√£os", pensamos.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas se voc√™ se lembra da hist√≥ria do captcha, ele se destina a proteger contra bots, daqueles que s√£o massivamente spam na Internet, e bebemos esse mecanismo de prote√ß√£o porque n√£o funcionou. </font><font style="vertical-align: inherit;">No entanto, fomos capazes de analisar o comportamento dos bots e cortar tudo sem deixar vest√≠gios. </font><font style="vertical-align: inherit;">Existe um site, existe a possibilidade de simples, considere f√°cil, comentar, sem SMS e cadastro, sem captcha, sem bots. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta foi uma aplica√ß√£o digna de solicita√ß√µes POST e GET para scripts do site do meu lado.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Epis√≥dio 2. Atualiza√ß√µes do motor, conhecendo o kulhacker</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Porque O mecanismo do site n√£o foi atualizado, periodicamente surgiram algumas vulnerabilidades e alguns outros epis√≥dios de aplica√ß√£o de vulnerabilidades espec√≠ficas ao nosso site. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√â bom que tenhamos descoberto essa vulnerabilidade nos recursos de 0 dia antes de a vulnerabilidade ser aplicada ao nosso site ou na forma de suporte t√©cnico ao nosso mecanismo, novamente at√© o momento em que essa vulnerabilidade foi aplicada ao nosso site. Mas tamb√©m aprendemos sobre a vulnerabilidade com a an√°lise de solicita√ß√µes POST e GET para scripts do site, de fato, por exemplo, uma desfigura√ß√£o ou outras manipula√ß√µes com o site.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E ent√£o chegou o dia em que a vers√£o do mecanismo do site ficou t√£o antiga que as mensagens sobre esse mecanismo e essa vers√£o simplesmente pararam de aparecer nos recursos de 0 dia, sem mencionar que no f√≥rum TP nos √∫ltimos 5 anos, simplesmente n√£o h√° novas postagens sobre nossa vers√£o do mecanismo apareceu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E ent√£o ele aparece - um kulhacker. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N√£o vou falar sobre quem √©, vou falar sobre a divers√£o que recebemos. Tudo come√ßou com o fato de o propriet√°rio do site receber uma mensagem de que o site foi hackeado, conduza seus chap√©us, caso contr√°rio, todo o c√£. Na primeira carta, foi anunciada a quantidade de 100 mil rublos em bitcoins.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esses s√£o os tempos, pensamos, e chegamos √†s an√°lises. Primeiro, era necess√°rio encontrar o resultado do hacking. Foi rapidamente encontrado um script que n√£o estava relacionado ao mecanismo do site, mas disfar√ßado como um script t√≠pico para o nosso mecanismo, e tamb√©m foram encontrados scripts de site modificados - o site estava com defeito. N√≠vel de trabalho - kulhacker, n√£o foi poss√≠vel chegar ao servidor.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por meio de manipula√ß√µes simples, todas as solicita√ß√µes POST e GET para o site foram analisadas para o nome do novo script e, √© claro, os par√¢metros passados ‚Äã‚Äãforam encontrados na solicita√ß√£o POST para o site, como resultado de uma vulnerabilidade encontrada, um vetor de ataque foi determinado e um fraco foi encontrado na frente uma vari√°vel e, √© claro, a vulnerabilidade foi encerrada e um estado de "revers√£o para seguran√ßa" foi feito para o mecanismo do site. </font><font style="vertical-align: inherit;">Uma observa√ß√£o adicional foi estabelecida para o kulhacker - de repente ele ainda sabe o que n√£o sabemos, e no p√∫blico praticamente n√£o h√° informa√ß√µes desconhecidas, e nosso caso claramente n√£o foi descrito em nenhum lugar.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Epis√≥dio 3. Kulhacker revida, barganhando</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois de algum tempo, a carta novamente, desta vez dizendo que somos pessoas m√°s, que ele n√£o vai nos perdoar por isso, que se n√£o pagarmos os limites, n√£o seremos recebidos novamente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esses s√£o os dois, pensamos, e novamente ignoramos a carta. Depois de alguns dias, recebemos um desfecho do site com a exig√™ncia de pagar limites. Analisamos novamente as solicita√ß√µes POST e GET, descobrimos novamente o vetor de ataque, descobrimos uma nova vari√°vel fraca para o front end, fechamos a vulnerabilidade novamente e fizemos novamente um estado de "revers√£o para um seguro".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J√° entendemos que o kulhacker deveria come√ßar a suspeitar que estamos usando seu conhecimento em nossos pr√≥prios interesses e que n√£o estamos correndo em sua dire√ß√£o com uma sacola de dinheiro, por isso foi decidido escrever uma carta para o nosso "cliente" de uma certa "secret√°ria", quem n√£o entende o que est√° sendo discutido e o que ela precisa fazer, e mais ainda, ela n√£o entende o que s√£o bitcoins. Esper√°vamos que, de certo modo, isso alimentasse o interesse do nosso kulhacker, o que o faria demonstrar as vulnerabilidades do nosso motor mais algumas vezes, se ele sobrasse.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tamb√©m analisamos o primeiro e o segundo vetores de ataque, determinamos a fraqueza geral do mecanismo do site e, em seguida, analisamos todos os scripts para vari√°veis ‚Äã‚Äãadequadas que foram consideradas vulner√°veis ‚Äã‚Äã√†s fraquezas. </font><font style="vertical-align: inherit;">Fechou rapidamente mais alguns gargalos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A resposta do kulhacker n√£o demorou a chegar, novamente houve uma amea√ßa de que nos sentir√≠amos mal, o site foi desfigurado novamente, mas agora a soma dos requisitos diminuiu 10 vezes, o que nos deu a suposi√ß√£o de que as id√©ias de nossa ala haviam terminado, o que significa da pr√≥xima vez que ele n√£o vir√° at√© n√≥s. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Manipula√ß√µes padr√£o com a an√°lise de solicita√ß√µes ao site, um novo vetor de ataque, um novo conjunto de vari√°veis, fechamento de vulnerabilidades, "revers√£o para um estado seguro".</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Epis√≥dio 4. Adeus</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como esperado, n√£o houve novos casos de hackers, mas houve uma nova carta do nosso cliente declarando que √©ramos rabanetes, que nos comportamos de maneira extremamente profissional e que poder√≠amos pagar limites pelo menos por nos mostrar as vulnerabilidades de nosso mecanismo . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Trocamos contatos, encontramos v√°rias comunidades fechadas com informa√ß√µes de 0 dias, onde foram publicadas vulnerabilidades desconhecidas at√© o momento para nosso mecanismo - elas foram agradavelmente surpreendidas. </font><font style="vertical-align: inherit;">Eles agradeceram a Kulkhatsker e jogaram dinheiro em um telefone cujo n√∫mero ele n√£o nos contou;)</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Epis√≥dio 5. Momentos de Trabalho</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nova empresa, novas tarefas. Ouvi falar de engenheiros de TI sobre o fato de o site principal da empresa ter sido invadido pela en√©sima vez, que a empresa que o desenvolveu h√° v√°rios anos quer dinheiro para atualizar o mecanismo e fechar as vulnerabilidades, o que devo fazer, mas em breve eles come√ßar√£o a atacar as bandeiras. Eu me envolvo em uma conversa, ofere√ßo ajuda. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O cl√°ssico √©, no entanto, ao ponto da loucura ser simples, todos os kulhackers come√ßam com isso. Para come√ßar, proponho permitir a an√°lise de solicita√ß√µes POST, como nos logs GET, est√° vazio o que √© l√≥gico. Depois de algumas horas, recebo uma resposta de que o hoster disse que √© imposs√≠vel, que eles n√£o mant√™m esses registros, que, se voc√™ deseja coletar o POST, colecione voc√™ mesmo. Os caras est√£o chateados.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estes s√£o os tr√™s, pensei, e disseram como for√ßar a coleta de solicita√ß√µes POST de todos os scripts do site. </font><font style="vertical-align: inherit;">No dia seguinte, o vetor de ataque foi descoberto, a vulnerabilidade foi prontamente fechada e os engenheiros de TI ganharam uma experi√™ncia inestim√°vel na an√°lise da situa√ß√£o, que eles provavelmente ainda usam hoje. </font><font style="vertical-align: inherit;">N√£o havia IS na empresa.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclus√£o</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se voc√™ quiser aprender o b√°sico sobre seguran√ßa da informa√ß√£o, comece com o kulhacking. </font><font style="vertical-align: inherit;">Se a dire√ß√£o se tornar interessante - v√° para o pr√≥ximo passo. </font><font style="vertical-align: inherit;">Quanto mais voc√™ souber sobre os m√©todos de hackers, mais poder√° contra-atacar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E sim, quando voc√™ seleciona o acesso √† pessoa, pode come√ßar a elaborar regulamentos de SI competentes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
"E os bots?" </font><font style="vertical-align: inherit;">- Voc√™ pergunta. </font><font style="vertical-align: inherit;">E eu responderei: "Analise o comportamento, encontre o vetor de ataque, padr√µes e pontos gerais - voc√™ pode lidar com eles!" </font><font style="vertical-align: inherit;">- muito semelhante √† abordagem geral para garantir a seguran√ßa de fato. </font><font style="vertical-align: inherit;">As medidas preventivas s√£o baseadas apenas na experi√™ncia.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt493074/index.html">Como encontrar 14 funcion√°rios de TI em 1 m√™s por conta pr√≥pria</a></li>
<li><a href="../pt493076/index.html">Como transferir rapidamente uma empresa para o trabalho remoto: uma confer√™ncia on-line gratuita da Netology e da TalentTech</a></li>
<li><a href="../pt493078/index.html">Os 5 principais livros a serem lidos por um gerente</a></li>
<li><a href="../pt493082/index.html">Como os sistemas de an√°lise de tr√°fego detectam as t√°ticas MITRE ATT e CK Hacker usando a descoberta de ataques de rede da PT</a></li>
<li><a href="../pt493084/index.html">Escrevendo um processo comercial no Bitrix24 com um dep√≥sito para o futuro</a></li>
<li><a href="../pt493088/index.html">Analisando um site de cinema em Golang</a></li>
<li><a href="../pt493090/index.html">Conhe√ßa NestJS</a></li>
<li><a href="../pt493094/index.html">Funcion√°rios do armaz√©m da Amazon disparam alarme sobre a propaga√ß√£o de coronav√≠rus</a></li>
<li><a href="../pt493096/index.html">Adicionar um tema sombrio no iOS</a></li>
<li><a href="../pt493098/index.html">Implante o conjunto de balanceamento de carga da VPN ASA</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>