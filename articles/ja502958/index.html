<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🈸 ☕️ 🧝🏿 Plotlyを使用したPythonデータ視覚化チートシート 🌝 🤸🏾 👁‍🗨</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Plotly-データの可視化のためのライブラリで、いくつかの部分で構成されています：
 
 

- JSのフロントエンド
- Pythonのバックエンド（Seabornライブラリに基づく）
- Rのバックエンド
 このシートでは、すべての例が非常に単純なものからより複雑なものに分類されているため、経...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Plotlyを使用したPythonデータ視覚化チートシート</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/502958/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plotly-データの可視化のためのライブラリで、いくつかの部分で構成されています：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JSのフロントエンド</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pythonのバックエンド（Seabornライブラリに基づく）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rのバックエンド</font></font></li>
</ul><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このシートでは、すべての例が非常に単純なものからより複雑なものに分類されているため、経験のある開発者は退屈します。</font><font style="vertical-align: inherit;">また、この「チートシート」は、ドキュメントの100％の例を置き換えるものではありません。</font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/o2/jn/nm/o2jnnmubbn2dcgsw1nsib2ksee4.gif"><br>
<br>
<a name="habracut"></a><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">画面から録画されたビデオから変換するときに発生する、雑然としたgifをお詫びします。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
記事のすべての例を含むJupyter Notebook：</font></font><br>
<br>
<ul>
<li><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github</font></font></a></b></li>
<li><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コラボ</font></font></a></b></li>
</ul><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ドキュメント</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
plotlyおよびFlask Webサーバーに基づいて</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ダッシュダッシュ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ボードを作成するための特別なライブラリもあります</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plotlyは、商用目的で使用できる無料のライブラリです。</font></font></b></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plotlyはオフラインで動作します</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plotlyを使用すると、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インタラクティブな</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">視覚化</font><font style="vertical-align: inherit;">を構築できます</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それら。</font><font style="vertical-align: inherit;">Plotlyを使用すると、「オンザフライ」で一部のデータを調査し（matplotlibでチャートを再構築したり、スケールを変更したり、一部のデータをオン/オフしたりせずに）、本格的なインタラクティブレポート（ダッシュボード）を作成できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、ライブラリをインストールする必要があります。</font><font style="vertical-align: inherit;">標準パッケージにも、Anacondaにも含まれていません。</font><font style="vertical-align: inherit;">このため、pipを使用することをお勧めします</font></font><br>
<br>
<code>pip install plotly</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。JupyterNotebookを使用している場合は、魔法の「！」を使用できます。この記号をコマンドの前に置くと</font></font><br>
<br>
<code>!pip install plotly</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
、次のようになります。開始する前に、モジュールをインポートする必要があります。</font><font style="vertical-align: inherit;">さまざまなタスクのチートシートのさまざまな部分で、メインモジュールとそのサブモジュールの1つが必要になるため、インポート手順の完全なセットがあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、生データを処理するためのPandasおよびNumpyライブラリも必要です。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">機能インポートコード</font></font></b>
                        <div class="spoiler_text"><code>import plotly<br>
import plotly.graph_objs as go<br>
import plotly.express as px<br>
from plotly.subplots import make_subplots<br>
<br>
import numpy as np<br>
import pandas as pd</code><br>
</div>
                    </div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">折れ線グラフ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ポイントでプロットする簡単なタスクから始めましょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
関数f（x）= x </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></sup> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初に、非常に簡単に「額」を行います。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plotly.expressサブモジュールの関数scatterを使用してグラフを作成します（内部に2つのポイントリストを渡します：X座標とY座標）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">show（）メソッドを使用して即座に「表示」</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
グラフはインタラクティブであり、グラフにカーソルを合わせると、ズームインとズームアウト、セクションの選択、カーソルをポイントに移動して詳細情報を取得し、画像を元の位置に戻し、必要に応じて「スクリーンショットを撮って」ファイルとして保存できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これはすべて、ブラウザでJSを使用して行われます。</font><font style="vertical-align: inherit;">したがって、必要に応じて、図を作成した後でこれを制御できます（</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ただし、JS！= Pythonであるため、おそらくこれは行いません</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">x = np.arange(<span class="hljs-number">0</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0.1</span>)
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">f</span>(<span class="hljs-params">x</span>):</span>
    <span class="hljs-keyword">return</span> x**<span class="hljs-number">2</span><font></font>
<font></font>
px.scatter(x=x, y=f(x)).show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/-o/1w/hr/-o1whr3b43i0_xumjp7qrepivay.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次のようにコードに同じことを書く方が読みやすく、正しいです。</font></font><br>
<br>
<pre><code class="python hljs">fig = px.scatter(x=x, y=f(x))<font></font>
fig.show()</code></pre><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">形を作る</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">グラフを描く</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図を表示します</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2行と完成した結果。</font><font style="vertical-align: inherit;">なぜなら </font><font style="vertical-align: inherit;">エクスプレスを使用します。</font><font style="vertical-align: inherit;">早くて簡単。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、柔軟性は十分ではないので、ほとんどすぐに高度なレベルに進みます-すぐに形状を作成し、それにオブジェクトを適用します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、show（）メソッドを使用して、表示する図をすぐに表示します。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Matplotlibとは異なり、別々の軸オブジェクトは作成されませんが、複数のグラフを一緒に作成したい場合は、それらに遭遇します</font></font></i><br>
<br>
<pre><code class="python hljs">fig = go.Figure()
<span class="hljs-comment">#  </span>
fig.show()</code></pre><br>
<img src="https://habrastorage.org/webt/lk/bn/pi/lkbnpiofy8jjnfmtokpucyhfq9y.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ご覧のとおり、まだ空です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
チャートに何を追加するには、add_traceシェイプメソッドが必要です。</font></font><br>
<br>
<pre><code class="python hljs">fig.add_trace(________)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、何を描きたいですか？</font><font style="vertical-align: inherit;">ポイントごとのグラフ。</font><font style="vertical-align: inherit;">ExpressでScatterを使用してグラフを既に描画しました。オブジェクトには独自のScatterがあります。それが何をするか見てみましょう：</font></font><br>
<br>
<pre><code class="python hljs">go.Scatter(x=x, y=f(x))</code></pre><br>
<br>
<img src="https://habrastorage.org/webt/ds/ho/vm/dshovmplsiclz9qjdodimbhlxec.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今組み合わせる：</font></font><br>
<br>
<pre><code class="python hljs">fig = go.Figure()<font></font>
fig.add_trace(go.Scatter(x=x, y=f(x)))<font></font>
fig.show()</code></pre><br>
<br>
<img src="https://habrastorage.org/webt/3r/zc/fx/3rzcfxqptm3pw8qqbwbak6pjlfs.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ご覧のように、違いはコードだけでなく、結果としても滑らかな曲線が得られます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、このメソッドを使用すると、グラフに必要な数の曲線をプロットできます。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure()<font></font>
fig.add_trace(go.Scatter(x=x, y=f(x)))<font></font>
fig.add_trace(go.Scatter(x=x, y=x))<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/br/yy/zx/bryyzx7i9mrzssz1jptelmcql_i.gif"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
待って、それは何ですか？</font><font style="vertical-align: inherit;">伝説も右側に登場！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、それは論理的ですが、スケジュールは1つでしたが、なぜ凡例が必要なのでしょうか。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、Plotlyの魔法はここで終わりません。</font><font style="vertical-align: inherit;">凡例のいずれかの署名をクリックすると、対応するグラフが消え、碑文がより淡くなります。</font><font style="vertical-align: inherit;">それらを返すと、2回目のクリックが許可されます。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">グラフの署名</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
凡例に表示するグラフの名前を含む行を渡すname属性を追加します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PlotlyはシグネチャでLATEXをサポートします（両側で$$を使用することでmatplotlibと同様）。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure()<font></font>
fig.add_trace(go.Scatter(x=x, y=f(x), name=<span class="hljs-string">'$$f(x)=x^2$$'</span>))<font></font>
fig.add_trace(go.Scatter(x=x, y=x, name=<span class="hljs-string">'$$g(x)=x$$'</span>))<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/9k/a_/ix/9ka_ixp8ui_d8m27j_ij-pz5wc0.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
残念ながら、これには制限があります。ご覧のとおり、グラフにカーソルを合わせるとヒントが「生の」フォームで表示され、LATEXでは表示されません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
署名でHTMLマークアップを使用する場合、これは無効にすることができます。</font><font style="vertical-align: inherit;">この例では、supタグを使用します。</font><font style="vertical-align: inherit;">また、LATEXとHTMLのフォントはスタイルが異なることに注意してください。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure()<font></font>
fig.add_trace(go.Scatter(x=x, y=f(x), name=<span class="hljs-string">'f(x)=x&lt;sup&gt;2&lt;/sup&gt;'</span>))<font></font>
fig.add_trace(go.Scatter(x=x, y=x, name=<span class="hljs-string">'$$g(x)=x$$'</span>))<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/u-/g1/t8/u-g1t8eetjb7875lkfjzpowvrjm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
グラフの署名の長さが長くなると、凡例がグラフに出くわし始めました。</font><font style="vertical-align: inherit;">気に入らないので、凡例を下に移動します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを行うには、update_layoutメソッドを図に適用します。この図では、属性に関心があります。</font></font><code>legend_orientation fig.update_layout(legend_orientation="h")</code><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure()<font></font>
fig.add_trace(go.Scatter(x=x, y=f(x),  name=<span class="hljs-string">'f(x)=x&lt;sup&gt;2&lt;/sup&gt;'</span>))<font></font>
fig.add_trace(go.Scatter(x=x, y=x, name=<span class="hljs-string">'$$g(x)=x$$'</span>))<font></font>
fig.update_layout(legend_orientation=<span class="hljs-string">"h"</span>)<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/cj/ba/db/cjbadbt0zt2nvmbq25wr6xxws_i.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
良いですが、ラップトップのワークスペースの多くが使用されていません。</font><font style="vertical-align: inherit;">これは特に上から目立ちます-上からグラフフィールドへの大きなインデント。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デフォルトでは、グラフの余白は20ピクセルずつインデントされています。</font><font style="vertical-align: inherit;">辞書をインデントから取得するmargin属性を持つupdate_layoutを使用して、インデントに値を設定できます。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l-左マージン</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r-右マージン</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t-上からインデント</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b-下インデント</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべての場所にゼロパディングを設定します</font></font><code>fig.update_layout(margin=dict(l=0, r=0, t=0, b=0))</code><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。Update_layoutは連続して数回適用することも、1つの関数にすべての引数を渡すこともできます（これを行うだけです）。</font></font></i><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure()<font></font>
fig.add_trace(go.Scatter(x=x, y=f(x),  name=<span class="hljs-string">'f(x)=x&lt;sup&gt;2&lt;/sup&gt;'</span>))<font></font>
fig.add_trace(go.Scatter(x=x, y=x, name=<span class="hljs-string">'$$g(x)=x$$'</span>))<font></font>
fig.update_layout(legend_orientation=<span class="hljs-string">"h"</span>, <font></font>
                  margin=dict(l=<span class="hljs-number">0</span>, r=<span class="hljs-number">0</span>, t=<span class="hljs-number">0</span>, b=<span class="hljs-number">0</span>))<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
凡例の署名は短いので、左側にあるのが気に入らない。私はそれらを中央に置きたいと思います。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを行うには、update_layoutのlegend属性を使用して、シフトの座標とともにディクショナリを転送します（</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">シフトは垂直にすることもできますが、水平のみを使用します</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
シフトは図全体の幅の分数で設定されますが、凡例の左端がシフトされることを覚えておくことが重要です。それら。 0.5（幅の50％）を指定すると、碑文は実際には少し右にシフトします。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">なぜなら実際の幅は、画面、ブラウザー、フォントなどの機能によって異なります。このパラメーターは、多くの場合、カスタマイズする必要があります。個人的には、0.43はこの例ではかなりうまく機能します。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
幅を持たないようにするために、xanchor引数を使用してシフトポイントについての凡例を作成できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その結果、凡例には次の辞書が表示されます。</font></font><br>
<br>
<pre><code class="python hljs">legend=dict(x=<span class="hljs-number">.5</span>, xanchor=<span class="hljs-string">"center"</span>)</code></pre><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード全体</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure()<font></font>
fig.add_trace(go.Scatter(x=x, y=f(x),  name=<span class="hljs-string">'f(x)=x&lt;sup&gt;2&lt;/sup&gt;'</span>))<font></font>
fig.add_trace(go.Scatter(x=x, y=x, name=<span class="hljs-string">'$$g(x)=x$$'</span>))<font></font>
fig.update_layout(legend_orientation=<span class="hljs-string">"h"</span>,<font></font>
                  legend=dict(x=<span class="hljs-number">.5</span>, xanchor=<span class="hljs-string">"center"</span>),<font></font>
                  margin=dict(l=<span class="hljs-number">0</span>, r=<span class="hljs-number">0</span>, t=<span class="hljs-number">0</span>, b=<span class="hljs-number">0</span>))<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
軸とグラフ全体に署名をすぐに設定する価値があります。</font><font style="vertical-align: inherit;">これを行うには、3つの新しい引数を追加するupdate_layoutが再び必要です。</font></font><br>
<br>
<pre><code class="python hljs">title=<span class="hljs-string">"Plot Title"</span>,<font></font>
xaxis_title=<span class="hljs-string">"x Axis Title"</span>,<font></font>
yaxis_title=<span class="hljs-string">"y Axis Title"</span>,</code></pre><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前に設定したシフトは、署名の読みやすさに悪影響を与える可能性があることに注意してください（このようにして、グラフのタイトルは通常、範囲外に圧縮されるため、インデントを上から0ピクセルから30ピクセルに増やします</font></font></i><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure()<font></font>
fig.add_trace(go.Scatter(x=x, y=f(x),  name=<span class="hljs-string">'f(x)=x&lt;sup&gt;2&lt;/sup&gt;'</span>))<font></font>
fig.add_trace(go.Scatter(x=x, y=x, name=<span class="hljs-string">'$$g(x)=x$$'</span>))<font></font>
fig.update_layout(legend_orientation=<span class="hljs-string">"h"</span>,<font></font>
                  legend=dict(x=<span class="hljs-number">.5</span>, xanchor=<span class="hljs-string">"center"</span>),<font></font>
                  title=<span class="hljs-string">"Plot Title"</span>,<font></font>
                  xaxis_title=<span class="hljs-string">"x Axis Title"</span>,<font></font>
                  yaxis_title=<span class="hljs-string">"y Axis Title"</span>,<font></font>
                  margin=dict(l=<span class="hljs-number">0</span>, r=<span class="hljs-number">0</span>, t=<span class="hljs-number">30</span>, b=<span class="hljs-number">0</span>))<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/4h/0t/rp/4h0trprnpakf5e264fxidguo5r4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
グラフ自体に戻りましょう。グラフはドットで構成されていることを思い出してください。</font><font style="vertical-align: inherit;">Scatterオブジェクト自体のモード属性を使用してそれらを選択します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デモにはさまざまな選択オプションを使用します。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure()<font></font>
fig.add_trace(go.Scatter(x=x, y=f(x), mode=<span class="hljs-string">'lines+markers'</span>,  name=<span class="hljs-string">'f(x)=x&lt;sup&gt;2&lt;/sup&gt;'</span>))<font></font>
fig.add_trace(go.Scatter(x=x, y=x, mode=<span class="hljs-string">'markers'</span>, name=<span class="hljs-string">'$$g(x)=x$$'</span>))<font></font>
fig.update_layout(legend_orientation=<span class="hljs-string">"h"</span>,<font></font>
                  legend=dict(x=<span class="hljs-number">.5</span>, xanchor=<span class="hljs-string">"center"</span>),<font></font>
                  margin=dict(l=<span class="hljs-number">0</span>, r=<span class="hljs-number">0</span>, t=<span class="hljs-number">0</span>, b=<span class="hljs-number">0</span>))<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/sf/1o/ik/sf1oikvrbupkfvch8lpto7v1ntq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで、マウスカーソルをポイントの上に置くと、関数g（x）= xのLATEXが正しく表示されないことに特に注意してください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この情報を非表示にしましょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
update_tracesメソッドを使用して、すべてのグラフのホバー動作を設定します。</font><font style="vertical-align: inherit;">これは、属性名からのマスクが渡されるhoverinfo属性を制御します。たとえば、「x + y」-これは、引数と関数の値に関する情報のみです。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure()<font></font>
fig.add_trace(go.Scatter(x=x, y=f(x), mode=<span class="hljs-string">'lines+markers'</span>,  name=<span class="hljs-string">'f(x)=x&lt;sup&gt;2&lt;/sup&gt;'</span>))<font></font>
fig.add_trace(go.Scatter(x=x, y=x, mode=<span class="hljs-string">'markers'</span>, name=<span class="hljs-string">'$$g(x)=x$$'</span>))<font></font>
fig.update_layout(legend_orientation=<span class="hljs-string">"h"</span>,<font></font>
                  legend=dict(x=<span class="hljs-number">.5</span>, xanchor=<span class="hljs-string">"center"</span>),<font></font>
                  margin=dict(l=<span class="hljs-number">0</span>, r=<span class="hljs-number">0</span>, t=<span class="hljs-number">0</span>, b=<span class="hljs-number">0</span>))<font></font>
fig.update_traces(hoverinfo=<span class="hljs-string">"x+y"</span>)<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/q1/ik/zv/q1ikzvccax6n3rh-tusvf_emaq8.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どういうわけか十分に明確ではない、あなたは見つけませんか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべての引数からの情報の使用を許可し、ヒントテンプレートを自分で設定しましょう。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hoverinfo = "すべて"</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文字列をhovertemplateに渡し、HTMLを使用して書式設定し、変数名を中かっこで囲んで％を選択します（例：％{x}）。</font></font></li>
</ul><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure()<font></font>
fig.add_trace(go.Scatter(x=x, y=f(x), mode=<span class="hljs-string">'lines+markers'</span>,  name=<span class="hljs-string">'f(x)=x&lt;sup&gt;2&lt;/sup&gt;'</span>))<font></font>
fig.add_trace(go.Scatter(x=x, y=x, mode=<span class="hljs-string">'markers'</span>, name=<span class="hljs-string">'g(x)=x'</span>))<font></font>
fig.update_layout(legend_orientation=<span class="hljs-string">"h"</span>,<font></font>
                  legend=dict(x=<span class="hljs-number">.5</span>, xanchor=<span class="hljs-string">"center"</span>),<font></font>
                  margin=dict(l=<span class="hljs-number">0</span>, r=<span class="hljs-number">0</span>, t=<span class="hljs-number">0</span>, b=<span class="hljs-number">0</span>))<font></font>
fig.update_traces(hoverinfo=<span class="hljs-string">"all"</span>, hovertemplate=<span class="hljs-string">": %{x}&lt;br&gt;: %{y}"</span>)<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/ej/ti/ug/ejtiugvzombajuwptibmenlmi00.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、たとえば、同じ引数を使用して、ポイントで2つのカーブの情報を比較したい場合はどうでしょうか。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
なぜなら </font><font style="vertical-align: inherit;">これは図全体に適用されます。update_layoutとそのhovermode引数が必要です。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure()<font></font>
fig.add_trace(go.Scatter(x=x, y=f(x), mode=<span class="hljs-string">'lines+markers'</span>,  name=<span class="hljs-string">'f(x)=x&lt;sup&gt;2&lt;/sup&gt;'</span>))<font></font>
fig.add_trace(go.Scatter(x=x, y=x, mode=<span class="hljs-string">'markers'</span>, name=<span class="hljs-string">'g(x)=x'</span>))<font></font>
fig.update_layout(legend_orientation=<span class="hljs-string">"h"</span>,<font></font>
                  legend=dict(x=<span class="hljs-number">.5</span>, xanchor=<span class="hljs-string">"center"</span>),<font></font>
                  hovermode=<span class="hljs-string">"x"</span>,<font></font>
                  margin=dict(l=<span class="hljs-number">0</span>, r=<span class="hljs-number">0</span>, t=<span class="hljs-number">0</span>, b=<span class="hljs-number">0</span>))<font></font>
fig.update_traces(hoverinfo=<span class="hljs-string">"all"</span>, hovertemplate=<span class="hljs-string">": %{x}&lt;br&gt;: %{y}"</span>)<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/ve/69/fw/ve69fwlr_4hw7q7awo68bqzzqye.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ちなみに、マーカーは特定の曲線に対して明示的に制御できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを行うには、辞書を入力として取るマーカー引数を使用します。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">詳細な例</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして私たちは甘やかすことに専念します：</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure()<font></font>
fig.add_trace(go.Scatter(x=x, y=f(x), mode=<span class="hljs-string">'lines+markers'</span>,  name=<span class="hljs-string">'f(x)=x&lt;sup&gt;2&lt;/sup&gt;'</span>))<font></font>
fig.add_trace(go.Scatter(x=x, y=x, mode=<span class="hljs-string">'markers'</span>,name=<span class="hljs-string">'g(x)=x'</span>,<font></font>
                         marker=dict(color=<span class="hljs-string">'LightSkyBlue'</span>, size=<span class="hljs-number">20</span>, line=dict(color=<span class="hljs-string">'MediumPurple'</span>, width=<span class="hljs-number">3</span>))))<font></font>
fig.update_layout(legend_orientation=<span class="hljs-string">"h"</span>,<font></font>
                  legend=dict(x=<span class="hljs-number">.5</span>, xanchor=<span class="hljs-string">"center"</span>),<font></font>
                  hovermode=<span class="hljs-string">"x"</span>,<font></font>
                  margin=dict(l=<span class="hljs-number">0</span>, r=<span class="hljs-number">0</span>, t=<span class="hljs-number">0</span>, b=<span class="hljs-number">0</span>))<font></font>
fig.update_traces(hoverinfo=<span class="hljs-string">"all"</span>, hovertemplate=<span class="hljs-string">": %{x}&lt;br&gt;: %{y}"</span>)<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/rl/ki/jc/rlkijch2ske8iyr2i4ard4pentq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
曲線が交差している部分（おそらく私たちにとって最も興味深い部分）はグラフ上では見づらいようです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを行うには、Figureメソッドがあります。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">update_yaxes-Y軸（垂直）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">update_xaxes-X軸（水平）</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
彼らの助けを借りて、軸の表示間隔を設定します（</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これは初期位置にすぎず、グラフとの相互作用の過程でスケールを変更することを妨げるものは何もありません</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure()<font></font>
fig.update_yaxes(range=[<span class="hljs-number">-0.5</span>, <span class="hljs-number">1.5</span>])<font></font>
fig.update_xaxes(range=[<span class="hljs-number">-0.5</span>, <span class="hljs-number">1.5</span>])<font></font>
fig.add_trace(go.Scatter(x=x, y=f(x), mode=<span class="hljs-string">'lines+markers'</span>,  name=<span class="hljs-string">'f(x)=x&lt;sup&gt;2&lt;/sup&gt;'</span>))<font></font>
fig.add_trace(go.Scatter(x=x, y=x, mode=<span class="hljs-string">'markers'</span>,name=<span class="hljs-string">'g(x)=x'</span>,<font></font>
                         marker=dict(color=<span class="hljs-string">'LightSkyBlue'</span>, size=<span class="hljs-number">20</span>, line=dict(color=<span class="hljs-string">'MediumPurple'</span>, width=<span class="hljs-number">3</span>))))<font></font>
fig.update_layout(legend_orientation=<span class="hljs-string">"h"</span>,<font></font>
                  legend=dict(x=<span class="hljs-number">.5</span>, xanchor=<span class="hljs-string">"center"</span>),<font></font>
                  hovermode=<span class="hljs-string">"x"</span>,<font></font>
                  margin=dict(l=<span class="hljs-number">0</span>, r=<span class="hljs-number">0</span>, t=<span class="hljs-number">0</span>, b=<span class="hljs-number">0</span>))<font></font>
fig.update_traces(hoverinfo=<span class="hljs-string">"all"</span>, hovertemplate=<span class="hljs-string">": %{x}&lt;br&gt;: %{y}"</span>)<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/cp/vm/9r/cpvm9r99uqlv2ktsujphkgid4hu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
良いですが、中心線をプロットするのが適切です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このため、同じ関数には3つの属性があります。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ゼロライン-中心線を表示するかどうか</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zerolinewidth-軸の太さを設定します（ピクセル単位）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zerolinecolor-軸の色を設定します（文字列、色の名前を指定でき、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTMLマークアップで</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">慣例となっているように、そのコードを指定できます</font><font style="vertical-align: inherit;">）</font></font></li>
</ul><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure()<font></font>
fig.update_yaxes(range=[<span class="hljs-number">-0.5</span>, <span class="hljs-number">1.5</span>], zeroline=<span class="hljs-literal">True</span>, zerolinewidth=<span class="hljs-number">2</span>, zerolinecolor=<span class="hljs-string">'LightPink'</span>)<font></font>
fig.update_xaxes(range=[<span class="hljs-number">-0.5</span>, <span class="hljs-number">1.5</span>], zeroline=<span class="hljs-literal">True</span>, zerolinewidth=<span class="hljs-number">2</span>, zerolinecolor=<span class="hljs-string">'#008000'</span>)<font></font>
fig.add_trace(go.Scatter(x=x, y=f(x), mode=<span class="hljs-string">'lines+markers'</span>,  name=<span class="hljs-string">'f(x)=x&lt;sup&gt;2&lt;/sup&gt;'</span>))<font></font>
fig.add_trace(go.Scatter(x=x, y=x, mode=<span class="hljs-string">'markers'</span>,name=<span class="hljs-string">'g(x)=x'</span>,<font></font>
                         marker=dict(color=<span class="hljs-string">'LightSkyBlue'</span>, size=<span class="hljs-number">20</span>, line=dict(color=<span class="hljs-string">'MediumPurple'</span>, width=<span class="hljs-number">3</span>))))<font></font>
fig.update_layout(legend_orientation=<span class="hljs-string">"h"</span>,<font></font>
                  legend=dict(x=<span class="hljs-number">.5</span>, xanchor=<span class="hljs-string">"center"</span>),<font></font>
                  hovermode=<span class="hljs-string">"x"</span>,<font></font>
                  margin=dict(l=<span class="hljs-number">0</span>, r=<span class="hljs-number">0</span>, t=<span class="hljs-number">0</span>, b=<span class="hljs-number">0</span>))<font></font>
fig.update_traces(hoverinfo=<span class="hljs-string">"all"</span>, hovertemplate=<span class="hljs-string">": %{x}&lt;br&gt;: %{y}"</span>)<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/lw/mb/g8/lwmbg8vesuqxjml_nv5negeeopq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
グラフにさまざまな関数を追加してみましょう。ただし、デフォルトでは表示されないようにしてください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このため、Scatterオブジェクトには特別な属性があります。</font></font><br>
<br>
<pre><code class="python hljs">visible=<span class="hljs-string">'legendonly'</span></code></pre><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">なぜなら </font><font style="vertical-align: inherit;">シフトポイントに関する凡例を中央に配置したので、シグネチャの数を増やしてもシフト値を変更する必要はありませんでした。</font></font></i><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">h</span>(<span class="hljs-params">x</span>):</span>
    <span class="hljs-keyword">return</span> np.sin(x)<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">k</span>(<span class="hljs-params">x</span>):</span>
    <span class="hljs-keyword">return</span> np.cos(x)<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">m</span>(<span class="hljs-params">x</span>):</span>
    <span class="hljs-keyword">return</span> np.tan(x)<font></font>
<font></font>
<font></font>
fig = go.Figure()<font></font>
fig.update_yaxes(range=[<span class="hljs-number">-0.5</span>, <span class="hljs-number">1.5</span>], zeroline=<span class="hljs-literal">True</span>, zerolinewidth=<span class="hljs-number">2</span>, zerolinecolor=<span class="hljs-string">'LightPink'</span>)<font></font>
fig.update_xaxes(range=[<span class="hljs-number">-0.5</span>, <span class="hljs-number">1.5</span>], zeroline=<span class="hljs-literal">True</span>, zerolinewidth=<span class="hljs-number">2</span>, zerolinecolor=<span class="hljs-string">'#008000'</span>)<font></font>
<font></font>
fig.add_trace(go.Scatter(visible=<span class="hljs-string">'legendonly'</span>, x=x, y=h(x),  name=<span class="hljs-string">'h(x)=sin(x)'</span>))<font></font>
fig.add_trace(go.Scatter(visible=<span class="hljs-string">'legendonly'</span>, x=x, y=k(x),  name=<span class="hljs-string">'k(x)=cos(x)'</span>))<font></font>
fig.add_trace(go.Scatter(visible=<span class="hljs-string">'legendonly'</span>, x=x, y=m(x),  name=<span class="hljs-string">'m(x)=tg(x)'</span>))<font></font>
<font></font>
fig.add_trace(go.Scatter(x=x, y=f(x), mode=<span class="hljs-string">'lines+markers'</span>,  name=<span class="hljs-string">'f(x)=x&lt;sup&gt;2&lt;/sup&gt;'</span>))<font></font>
fig.add_trace(go.Scatter(x=x, y=x, mode=<span class="hljs-string">'markers'</span>,name=<span class="hljs-string">'g(x)=x'</span>,<font></font>
                         marker=dict(color=<span class="hljs-string">'LightSkyBlue'</span>, size=<span class="hljs-number">20</span>, line=dict(color=<span class="hljs-string">'MediumPurple'</span>, width=<span class="hljs-number">3</span>))))<font></font>
fig.update_layout(legend_orientation=<span class="hljs-string">"h"</span>,<font></font>
                  legend=dict(x=<span class="hljs-number">.5</span>, xanchor=<span class="hljs-string">"center"</span>),<font></font>
                  hovermode=<span class="hljs-string">"x"</span>,<font></font>
                  margin=dict(l=<span class="hljs-number">0</span>, r=<span class="hljs-number">0</span>, t=<span class="hljs-number">0</span>, b=<span class="hljs-number">0</span>))<font></font>
fig.update_traces(hoverinfo=<span class="hljs-string">"all"</span>, hovertemplate=<span class="hljs-string">": %{x}&lt;br&gt;: %{y}"</span>)<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/av/zt/sc/avztscvg159vrcqfsnu8dbim5fy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
おそらくすべて同じで、三角関数と算術関数を一緒に混ぜてはいけません。</font><font style="vertical-align: inherit;">隣接する別のグラフに表示してみましょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを行うには、いくつかの軸を持つFigureを作成する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
複数のプロットを持つ図は、make_subplotsサブモジュールを使用して作成されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
必要な数量：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">行-行</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">col-列</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
グラフを作成するときは、この「マトリックス」のグラフの「座標」を転送します（最初に行、次に列）。</font></font><br>
<br>
<pre><code class="python hljs">fig = make_subplots(rows=<span class="hljs-number">1</span>, cols=<span class="hljs-number">2</span>, specs=[[{<span class="hljs-string">'type'</span>:<span class="hljs-string">'domain'</span>}, {<span class="hljs-string">'type'</span>:<span class="hljs-string">'domain'</span>}]])</code></pre><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = make_subplots(rows=<span class="hljs-number">1</span>, cols=<span class="hljs-number">2</span>)<font></font>
<font></font>
fig.update_yaxes(range=[<span class="hljs-number">-0.5</span>, <span class="hljs-number">1.5</span>], zeroline=<span class="hljs-literal">True</span>, zerolinewidth=<span class="hljs-number">2</span>, zerolinecolor=<span class="hljs-string">'LightPink'</span>)<font></font>
fig.update_xaxes(range=[<span class="hljs-number">-0.5</span>, <span class="hljs-number">1.5</span>], zeroline=<span class="hljs-literal">True</span>, zerolinewidth=<span class="hljs-number">2</span>, zerolinecolor=<span class="hljs-string">'#008000'</span>)<font></font>
<font></font>
fig.add_trace(go.Scatter(x=x, y=h(x),  name=<span class="hljs-string">'h(x)=sin(x)'</span>), <span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<font></font>
fig.add_trace(go.Scatter(x=x, y=k(x),  name=<span class="hljs-string">'k(x)=cos(x)'</span>), <span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<font></font>
fig.add_trace(go.Scatter(visible=<span class="hljs-string">'legendonly'</span>, x=x, y=m(x),  name=<span class="hljs-string">'m(x)=tg(x)'</span>), <span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<font></font>
<font></font>
fig.add_trace(go.Scatter(x=x, y=f(x), mode=<span class="hljs-string">'lines+markers'</span>,  name=<span class="hljs-string">'f(x)=x&lt;sup&gt;2&lt;/sup&gt;'</span>), <span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<font></font>
fig.add_trace(go.Scatter(x=x, y=x, mode=<span class="hljs-string">'markers'</span>,name=<span class="hljs-string">'g(x)=x'</span>,<font></font>
                         marker=dict(color=<span class="hljs-string">'LightSkyBlue'</span>, size=<span class="hljs-number">20</span>, line=dict(color=<span class="hljs-string">'MediumPurple'</span>, width=<span class="hljs-number">3</span>))), <span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<font></font>
fig.update_layout(legend_orientation=<span class="hljs-string">"h"</span>,<font></font>
                  legend=dict(x=<span class="hljs-number">.5</span>, xanchor=<span class="hljs-string">"center"</span>),<font></font>
                  hovermode=<span class="hljs-string">"x"</span>,<font></font>
                  margin=dict(l=<span class="hljs-number">0</span>, r=<span class="hljs-number">0</span>, t=<span class="hljs-number">0</span>, b=<span class="hljs-number">0</span>))<font></font>
fig.update_traces(hoverinfo=<span class="hljs-string">"all"</span>, hovertemplate=<span class="hljs-string">": %{x}&lt;br&gt;: %{y}"</span>)<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/35/ky/1_/35ky1_1odmngt7yzlbhnfkteu60.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
軸の変更が両方のグラフに適用されていることに注意してください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当然、軸を変更するメソッドが引数を指定する場合：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">row-行座標</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">col-列座標</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、特定のグラフでのみ軸を変更できます。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = make_subplots(rows=<span class="hljs-number">1</span>, cols=<span class="hljs-number">2</span>)<font></font>
<font></font>
fig.update_yaxes(range=[<span class="hljs-number">-0.5</span>, <span class="hljs-number">1.5</span>], zeroline=<span class="hljs-literal">True</span>, zerolinewidth=<span class="hljs-number">2</span>, zerolinecolor=<span class="hljs-string">'LightPink'</span>, col=<span class="hljs-number">2</span>)<font></font>
fig.update_xaxes(range=[<span class="hljs-number">-0.5</span>, <span class="hljs-number">1.5</span>], zeroline=<span class="hljs-literal">True</span>, zerolinewidth=<span class="hljs-number">2</span>, zerolinecolor=<span class="hljs-string">'#008000'</span>, col=<span class="hljs-number">2</span>)<font></font>
<font></font>
fig.add_trace(go.Scatter(x=x, y=h(x),  name=<span class="hljs-string">'h(x)=sin(x)'</span>), <span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<font></font>
fig.add_trace(go.Scatter(x=x, y=k(x),  name=<span class="hljs-string">'k(x)=cos(x)'</span>), <span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<font></font>
fig.add_trace(go.Scatter(visible=<span class="hljs-string">'legendonly'</span>, x=x, y=m(x),  name=<span class="hljs-string">'m(x)=tg(x)'</span>), <span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<font></font>
<font></font>
fig.add_trace(go.Scatter(x=x, y=f(x), mode=<span class="hljs-string">'lines+markers'</span>,  name=<span class="hljs-string">'f(x)=x&lt;sup&gt;2&lt;/sup&gt;'</span>), <span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<font></font>
fig.add_trace(go.Scatter(x=x, y=x, mode=<span class="hljs-string">'markers'</span>,name=<span class="hljs-string">'g(x)=x'</span>,<font></font>
                         marker=dict(color=<span class="hljs-string">'LightSkyBlue'</span>, size=<span class="hljs-number">20</span>, line=dict(color=<span class="hljs-string">'MediumPurple'</span>, width=<span class="hljs-number">3</span>))), <span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<font></font>
fig.update_layout(legend_orientation=<span class="hljs-string">"h"</span>,<font></font>
                  legend=dict(x=<span class="hljs-number">.5</span>, xanchor=<span class="hljs-string">"center"</span>),<font></font>
                  hovermode=<span class="hljs-string">"x"</span>,<font></font>
                  margin=dict(l=<span class="hljs-number">0</span>, r=<span class="hljs-number">0</span>, t=<span class="hljs-number">0</span>, b=<span class="hljs-number">0</span>))<font></font>
fig.update_traces(hoverinfo=<span class="hljs-string">"all"</span>, hovertemplate=<span class="hljs-string">": %{x}&lt;br&gt;: %{y}"</span>)<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/qb/2d/o1/qb2do1vl8wkvudg_spwnvnzueve.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、update_layoutにtitle、xaxis_title、yaxis_titleを不注意に使用すると、インシデントが発生する可能性があります-署名は1つのグラフにのみ適用されます。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">原因コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = make_subplots(rows=<span class="hljs-number">1</span>, cols=<span class="hljs-number">2</span>)<font></font>
<font></font>
fig.update_yaxes(range=[<span class="hljs-number">-0.5</span>, <span class="hljs-number">1.5</span>], zeroline=<span class="hljs-literal">True</span>, zerolinewidth=<span class="hljs-number">2</span>, zerolinecolor=<span class="hljs-string">'LightPink'</span>, col=<span class="hljs-number">2</span>)<font></font>
fig.update_xaxes(range=[<span class="hljs-number">-0.5</span>, <span class="hljs-number">1.5</span>], zeroline=<span class="hljs-literal">True</span>, zerolinewidth=<span class="hljs-number">2</span>, zerolinecolor=<span class="hljs-string">'#008000'</span>, col=<span class="hljs-number">2</span>)<font></font>
<font></font>
fig.add_trace(go.Scatter(x=x, y=h(x),  name=<span class="hljs-string">'h(x)=sin(x)'</span>), <span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<font></font>
fig.add_trace(go.Scatter(x=x, y=k(x),  name=<span class="hljs-string">'k(x)=cos(x)'</span>), <span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<font></font>
fig.add_trace(go.Scatter(visible=<span class="hljs-string">'legendonly'</span>, x=x, y=m(x),  name=<span class="hljs-string">'m(x)=tg(x)'</span>), <span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<font></font>
<font></font>
fig.add_trace(go.Scatter(x=x, y=f(x), mode=<span class="hljs-string">'lines+markers'</span>,  name=<span class="hljs-string">'f(x)=x&lt;sup&gt;2&lt;/sup&gt;'</span>), <span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<font></font>
fig.add_trace(go.Scatter(x=x, y=x, mode=<span class="hljs-string">'markers'</span>,name=<span class="hljs-string">'g(x)=x'</span>,<font></font>
                         marker=dict(color=<span class="hljs-string">'LightSkyBlue'</span>, size=<span class="hljs-number">20</span>, line=dict(color=<span class="hljs-string">'MediumPurple'</span>, width=<span class="hljs-number">3</span>))), <span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<font></font>
fig.update_layout(legend_orientation=<span class="hljs-string">"h"</span>,<font></font>
                  legend=dict(x=<span class="hljs-number">.5</span>, xanchor=<span class="hljs-string">"center"</span>),<font></font>
                  hovermode=<span class="hljs-string">"x"</span>,<font></font>
                  margin=dict(l=<span class="hljs-number">0</span>, r=<span class="hljs-number">0</span>, t=<span class="hljs-number">30</span>, b=<span class="hljs-number">0</span>))<font></font>
fig.update_layout(title=<span class="hljs-string">"Plot Title"</span>,<font></font>
                  xaxis_title=<span class="hljs-string">"x Axis Title"</span>,<font></font>
                  yaxis_title=<span class="hljs-string">"y Axis Title"</span>)<font></font>
fig.update_traces(hoverinfo=<span class="hljs-string">"all"</span>, hovertemplate=<span class="hljs-string">": %{x}&lt;br&gt;: %{y}"</span>)<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/f_/m6/a9/f_m6a9mywtxbxblzdi4epanr7im.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、形状を作成するときに、名前付きのタプル/リストをsubplot_titles引数に渡すことにより、グラフのタイトルを設定できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
グラフの下の軸ラベルは、figureメソッドを使用して変更できます。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fig.update_xaxes</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fig.update_yaxes</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それらに行と列の番号を渡します（つまり、「変更するグラフの座標」）</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべてのチャートに個別にコード署名する</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = make_subplots(rows=<span class="hljs-number">1</span>, cols=<span class="hljs-number">2</span>, subplot_titles=(<span class="hljs-string">"Plot 1"</span>, <span class="hljs-string">"Plot 2"</span>))<font></font>
<font></font>
fig.update_yaxes(range=[<span class="hljs-number">-0.5</span>, <span class="hljs-number">1.5</span>], zeroline=<span class="hljs-literal">True</span>, zerolinewidth=<span class="hljs-number">2</span>, zerolinecolor=<span class="hljs-string">'LightPink'</span>, col=<span class="hljs-number">2</span>)<font></font>
fig.update_xaxes(range=[<span class="hljs-number">-0.5</span>, <span class="hljs-number">1.5</span>], zeroline=<span class="hljs-literal">True</span>, zerolinewidth=<span class="hljs-number">2</span>, zerolinecolor=<span class="hljs-string">'#008000'</span>, col=<span class="hljs-number">2</span>)<font></font>
<font></font>
fig.add_trace(go.Scatter(x=x, y=h(x),  name=<span class="hljs-string">'h(x)=sin(x)'</span>), <span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<font></font>
fig.add_trace(go.Scatter(x=x, y=k(x),  name=<span class="hljs-string">'k(x)=cos(x)'</span>), <span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<font></font>
fig.add_trace(go.Scatter(visible=<span class="hljs-string">'legendonly'</span>, x=x, y=m(x),  name=<span class="hljs-string">'m(x)=tg(x)'</span>), <span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<font></font>
<font></font>
fig.add_trace(go.Scatter(x=x, y=f(x), mode=<span class="hljs-string">'lines+markers'</span>,  name=<span class="hljs-string">'f(x)=x&lt;sup&gt;2&lt;/sup&gt;'</span>), <span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<font></font>
fig.add_trace(go.Scatter(x=x, y=x, mode=<span class="hljs-string">'markers'</span>,name=<span class="hljs-string">'g(x)=x'</span>,<font></font>
                         marker=dict(color=<span class="hljs-string">'LightSkyBlue'</span>, size=<span class="hljs-number">20</span>, line=dict(color=<span class="hljs-string">'MediumPurple'</span>, width=<span class="hljs-number">3</span>))), <span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<font></font>
fig.update_layout(legend_orientation=<span class="hljs-string">"h"</span>,<font></font>
                  legend=dict(x=<span class="hljs-number">.5</span>, xanchor=<span class="hljs-string">"center"</span>),<font></font>
                  hovermode=<span class="hljs-string">"x"</span>,<font></font>
                  margin=dict(l=<span class="hljs-number">0</span>, r=<span class="hljs-number">0</span>, t=<span class="hljs-number">40</span>, b=<span class="hljs-number">0</span>))<font></font>
fig.update_layout(title=<span class="hljs-string">"Plot Title"</span>)<font></font>
fig.update_xaxes(title=<span class="hljs-string">' X  1'</span>, col=<span class="hljs-number">1</span>, row=<span class="hljs-number">1</span>)<font></font>
fig.update_xaxes(title=<span class="hljs-string">' X  2'</span>, col=<span class="hljs-number">2</span>, row=<span class="hljs-number">1</span>)<font></font>
fig.update_yaxes(title=<span class="hljs-string">' Y  1'</span>, col=<span class="hljs-number">1</span>, row=<span class="hljs-number">1</span>)<font></font>
fig.update_yaxes(title=<span class="hljs-string">' Y  2'</span>, col=<span class="hljs-number">2</span>, row=<span class="hljs-number">1</span>)<font></font>
fig.update_traces(hoverinfo=<span class="hljs-string">"all"</span>, hovertemplate=<span class="hljs-string">": %{x}&lt;br&gt;: %{y}"</span>)<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/wz/b_/b2/wzb_b20jonnskfzo8axzx0iqnmo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そしてもちろん、1つのグラフが大きく、もう1つのグラフが小さいことを確認したい場合は、このために引数が使用されます。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">column_widths-グラフの幅の比率を設定します（1行で）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">row_heights-グラフの高さの関係を設定します（1列）</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらの各パラメーターは、行/列のグラフと同じ数のリストを受け入れます。</font><font style="vertical-align: inherit;">数値の比率は、幅または高さの比率を指定します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
幅の例を考えてみましょう。</font><font style="vertical-align: inherit;">左のチャートを右のチャートの2倍にします。</font><font style="vertical-align: inherit;">比率2を設定します：1。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = make_subplots(rows=<span class="hljs-number">1</span>, cols=<span class="hljs-number">2</span>, column_widths=[<span class="hljs-number">2</span>, <span class="hljs-number">1</span>])<font></font>
<font></font>
fig.update_yaxes(range=[<span class="hljs-number">-0.5</span>, <span class="hljs-number">1.5</span>], zeroline=<span class="hljs-literal">True</span>, zerolinewidth=<span class="hljs-number">2</span>, zerolinecolor=<span class="hljs-string">'LightPink'</span>, col=<span class="hljs-number">2</span>)<font></font>
fig.update_xaxes(range=[<span class="hljs-number">-0.5</span>, <span class="hljs-number">1.5</span>], zeroline=<span class="hljs-literal">True</span>, zerolinewidth=<span class="hljs-number">2</span>, zerolinecolor=<span class="hljs-string">'#008000'</span>, col=<span class="hljs-number">2</span>)<font></font>
<font></font>
fig.add_trace(go.Scatter(x=x, y=h(x),  name=<span class="hljs-string">'h(x)=sin(x)'</span>), <span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<font></font>
fig.add_trace(go.Scatter(x=x, y=k(x),  name=<span class="hljs-string">'k(x)=cos(x)'</span>), <span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<font></font>
fig.add_trace(go.Scatter(visible=<span class="hljs-string">'legendonly'</span>, x=x, y=m(x),  name=<span class="hljs-string">'m(x)=tg(x)'</span>), <span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<font></font>
<font></font>
fig.add_trace(go.Scatter(x=x, y=f(x), mode=<span class="hljs-string">'lines+markers'</span>,  name=<span class="hljs-string">'f(x)=x&lt;sup&gt;2&lt;/sup&gt;'</span>), <span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<font></font>
fig.add_trace(go.Scatter(x=x, y=x, mode=<span class="hljs-string">'markers'</span>,name=<span class="hljs-string">'g(x)=x'</span>,<font></font>
                         marker=dict(color=<span class="hljs-string">'LightSkyBlue'</span>, size=<span class="hljs-number">20</span>, line=dict(color=<span class="hljs-string">'MediumPurple'</span>, width=<span class="hljs-number">3</span>))), <span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<font></font>
fig.update_layout(legend_orientation=<span class="hljs-string">"h"</span>,<font></font>
                  legend=dict(x=<span class="hljs-number">.5</span>, xanchor=<span class="hljs-string">"center"</span>),<font></font>
                  hovermode=<span class="hljs-string">"x"</span>,<font></font>
                  margin=dict(l=<span class="hljs-number">0</span>, r=<span class="hljs-number">0</span>, t=<span class="hljs-number">0</span>, b=<span class="hljs-number">0</span>))<font></font>
fig.update_traces(hoverinfo=<span class="hljs-string">"all"</span>, hovertemplate=<span class="hljs-string">": %{x}&lt;br&gt;: %{y}"</span>)<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/nh/q4/et/nhq4eto15vatvcfqnyalmooczc8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、グラフの1つに他のスペースよりも多くのスペースを割り当てたい場合はどうなるでしょうか。たとえば、2行またはその逆、2列などです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
matplotlibでは、いくつかの形状、または指定された次元の軸を使用しますが、ここには別のツールがあります。列に沿って、または線に沿って結合するようにいくつかの軸に指示できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを行うには、図の仕様を記述する必要があります（最初は非常に簡単です）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
仕様はリスト（より正確には、リストからの行列）であり、その内部の各オブジェクトは、軸の1つを記述する辞書です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
軸がない場合（たとえば、間隔を空けた隣接セルが配置される場合）、辞書の代わりにNoneが渡されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2x2の行列を作成し、左側のグラフを結合して、1つの高い垂直軸を取得します。</font><font style="vertical-align: inherit;">これを行うには、2に等しい「rowspan」属性を最初のグラフに渡し、その下の隣のオブジェクト（None）を破棄します。</font></font><br>
<br>
<code>specs=[<br>
 [{"rowspan": 2}, {}],<br>
 [None, {}]<br>
]</code><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = make_subplots(rows=<span class="hljs-number">2</span>, cols=<span class="hljs-number">2</span>,<font></font>
                    specs=[[{<span class="hljs-string">"rowspan"</span>: <span class="hljs-number">2</span>}, {}], [<span class="hljs-literal">None</span>, {}]])<font></font>
<font></font>
<font></font>
fig.update_yaxes(range=[<span class="hljs-number">-0.5</span>, <span class="hljs-number">1.5</span>], zeroline=<span class="hljs-literal">True</span>, zerolinewidth=<span class="hljs-number">2</span>, zerolinecolor=<span class="hljs-string">'LightPink'</span>, col=<span class="hljs-number">2</span>)<font></font>
fig.update_xaxes(range=[<span class="hljs-number">-0.5</span>, <span class="hljs-number">1.5</span>], zeroline=<span class="hljs-literal">True</span>, zerolinewidth=<span class="hljs-number">2</span>, zerolinecolor=<span class="hljs-string">'#008000'</span>, col=<span class="hljs-number">2</span>)<font></font>
<font></font>
fig.add_trace(go.Scatter(x=x, y=h(x),  name=<span class="hljs-string">'h(x)=sin(x)'</span>), <span class="hljs-number">2</span>, <span class="hljs-number">2</span>)<font></font>
fig.add_trace(go.Scatter(x=x, y=k(x),  name=<span class="hljs-string">'k(x)=cos(x)'</span>), <span class="hljs-number">2</span>, <span class="hljs-number">2</span>)<font></font>
fig.add_trace(go.Scatter(x=x, y=m(x),  name=<span class="hljs-string">'m(x)=tg(x)'</span>), <span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<font></font>
<font></font>
fig.add_trace(go.Scatter(x=x, y=f(x), mode=<span class="hljs-string">'lines+markers'</span>,  name=<span class="hljs-string">'f(x)=x&lt;sup&gt;2&lt;/sup&gt;'</span>), <span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<font></font>
fig.add_trace(go.Scatter(x=x, y=x, mode=<span class="hljs-string">'markers'</span>,name=<span class="hljs-string">'g(x)=x'</span>,<font></font>
                         marker=dict(color=<span class="hljs-string">'LightSkyBlue'</span>, size=<span class="hljs-number">20</span>, line=dict(color=<span class="hljs-string">'MediumPurple'</span>, width=<span class="hljs-number">3</span>))), <span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<font></font>
fig.update_layout(legend_orientation=<span class="hljs-string">"h"</span>,<font></font>
                  legend=dict(x=<span class="hljs-number">.5</span>, xanchor=<span class="hljs-string">"center"</span>),<font></font>
                  hovermode=<span class="hljs-string">"x"</span>,<font></font>
                  margin=dict(l=<span class="hljs-number">0</span>, r=<span class="hljs-number">0</span>, t=<span class="hljs-number">0</span>, b=<span class="hljs-number">0</span>))<font></font>
fig.update_traces(hoverinfo=<span class="hljs-string">"all"</span>, hovertemplate=<span class="hljs-string">": %{x}&lt;br&gt;: %{y}"</span>)<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/9s/kq/yb/9skqybxwinpqzp4mv3pypdek2-w.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ご覧のように、接線は垂直グラフに完全にフィットし、もはや見えなくなります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
組み合わせるには、以下を使用します。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">行間隔-垂直</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">colspan-水平</font></font></li>
</ul><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">セルを反対方向に結合するコード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = make_subplots(rows=<span class="hljs-number">2</span>, cols=<span class="hljs-number">2</span>,<font></font>
                    specs=[[{<span class="hljs-string">"colspan"</span>: <span class="hljs-number">2</span>}, <span class="hljs-literal">None</span>], [{}, {}]])<font></font>
<font></font>
<font></font>
fig.update_yaxes(range=[<span class="hljs-number">-0.5</span>, <span class="hljs-number">1.5</span>], zeroline=<span class="hljs-literal">True</span>, zerolinewidth=<span class="hljs-number">2</span>, zerolinecolor=<span class="hljs-string">'LightPink'</span>, col=<span class="hljs-number">2</span>)<font></font>
fig.update_xaxes(range=[<span class="hljs-number">-0.5</span>, <span class="hljs-number">1.5</span>], zeroline=<span class="hljs-literal">True</span>, zerolinewidth=<span class="hljs-number">2</span>, zerolinecolor=<span class="hljs-string">'#008000'</span>, col=<span class="hljs-number">2</span>)<font></font>
<font></font>
fig.add_trace(go.Scatter(x=x, y=h(x),  name=<span class="hljs-string">'h(x)=sin(x)'</span>), <span class="hljs-number">2</span>, <span class="hljs-number">2</span>)<font></font>
fig.add_trace(go.Scatter(x=x, y=k(x),  name=<span class="hljs-string">'k(x)=cos(x)'</span>), <span class="hljs-number">2</span>, <span class="hljs-number">2</span>)<font></font>
fig.add_trace(go.Scatter(x=x, y=m(x),  name=<span class="hljs-string">'m(x)=tg(x)'</span>), <span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<font></font>
<font></font>
fig.add_trace(go.Scatter(x=x, y=f(x), mode=<span class="hljs-string">'lines+markers'</span>,  name=<span class="hljs-string">'f(x)=x&lt;sup&gt;2&lt;/sup&gt;'</span>), <span class="hljs-number">2</span>, <span class="hljs-number">1</span>)<font></font>
fig.add_trace(go.Scatter(x=x, y=x, mode=<span class="hljs-string">'markers'</span>,name=<span class="hljs-string">'g(x)=x'</span>,<font></font>
                         marker=dict(color=<span class="hljs-string">'LightSkyBlue'</span>, size=<span class="hljs-number">20</span>, line=dict(color=<span class="hljs-string">'MediumPurple'</span>, width=<span class="hljs-number">3</span>))), <span class="hljs-number">2</span>, <span class="hljs-number">1</span>)<font></font>
fig.update_layout(legend_orientation=<span class="hljs-string">"h"</span>,<font></font>
                  legend=dict(x=<span class="hljs-number">.5</span>, xanchor=<span class="hljs-string">"center"</span>),<font></font>
                  hovermode=<span class="hljs-string">"x"</span>,<font></font>
                  margin=dict(l=<span class="hljs-number">0</span>, r=<span class="hljs-number">0</span>, t=<span class="hljs-number">0</span>, b=<span class="hljs-number">0</span>))<font></font>
fig.update_traces(hoverinfo=<span class="hljs-string">"all"</span>, hovertemplate=<span class="hljs-string">": %{x}&lt;br&gt;: %{y}"</span>)<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/il/rw/es/ilrweskgueear8dguiaxwlg5fto.png"><br>
<br>
<i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">make_subplotsを使用するその他の例</font></font></a></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
最後のオプションは、垂直方向に狭すぎることが</font><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">わかりました</font></a></i><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
高さは、update_layoutメソッドのheight属性を使用して簡単に増やすことができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
図のサイズは2つの属性によって管理されます。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">幅-幅（ピクセル単位）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高さ-高さ（ピクセル単位）</font></font></li>
</ul><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ただし、プロットの形状をどこかに埋め込む場合（たとえば、ダッシュボードを作成している場合はこれは論理的です）、形状は割り当てられたスペース全体の幅を占有するため、プロットの幅を変更しないことはお勧めできません。</font><font style="vertical-align: inherit;">マークアップでスタイルを使用することをお勧めします。</font></font></i><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = make_subplots(rows=<span class="hljs-number">2</span>, cols=<span class="hljs-number">2</span>,<font></font>
                    specs=[[{<span class="hljs-string">"colspan"</span>: <span class="hljs-number">2</span>}, <span class="hljs-literal">None</span>], [{}, {}]])<font></font>
<font></font>
<font></font>
fig.update_yaxes(range=[<span class="hljs-number">-0.5</span>, <span class="hljs-number">1.5</span>], zeroline=<span class="hljs-literal">True</span>, zerolinewidth=<span class="hljs-number">2</span>, zerolinecolor=<span class="hljs-string">'LightPink'</span>, col=<span class="hljs-number">2</span>)<font></font>
fig.update_xaxes(range=[<span class="hljs-number">-0.5</span>, <span class="hljs-number">1.5</span>], zeroline=<span class="hljs-literal">True</span>, zerolinewidth=<span class="hljs-number">2</span>, zerolinecolor=<span class="hljs-string">'#008000'</span>, col=<span class="hljs-number">2</span>)<font></font>
<font></font>
fig.add_trace(go.Scatter(x=x, y=h(x),  name=<span class="hljs-string">'h(x)=sin(x)'</span>), <span class="hljs-number">2</span>, <span class="hljs-number">2</span>)<font></font>
fig.add_trace(go.Scatter(x=x, y=k(x),  name=<span class="hljs-string">'k(x)=cos(x)'</span>), <span class="hljs-number">2</span>, <span class="hljs-number">2</span>)<font></font>
fig.add_trace(go.Scatter(x=x, y=m(x),  name=<span class="hljs-string">'m(x)=tg(x)'</span>), <span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<font></font>
<font></font>
fig.add_trace(go.Scatter(x=x, y=f(x), mode=<span class="hljs-string">'lines+markers'</span>,  name=<span class="hljs-string">'f(x)=x&lt;sup&gt;2&lt;/sup&gt;'</span>), <span class="hljs-number">2</span>, <span class="hljs-number">1</span>)<font></font>
fig.add_trace(go.Scatter(x=x, y=x, mode=<span class="hljs-string">'markers'</span>,name=<span class="hljs-string">'g(x)=x'</span>,<font></font>
                         marker=dict(color=<span class="hljs-string">'LightSkyBlue'</span>, size=<span class="hljs-number">20</span>, line=dict(color=<span class="hljs-string">'MediumPurple'</span>, width=<span class="hljs-number">3</span>))), <span class="hljs-number">2</span>, <span class="hljs-number">1</span>)<font></font>
fig.update_layout(legend_orientation=<span class="hljs-string">"h"</span>,<font></font>
                  legend=dict(x=<span class="hljs-number">.5</span>, xanchor=<span class="hljs-string">"center"</span>),<font></font>
                  hovermode=<span class="hljs-string">"x"</span>,<font></font>
                  margin=dict(l=<span class="hljs-number">0</span>, r=<span class="hljs-number">0</span>, t=<span class="hljs-number">0</span>, b=<span class="hljs-number">0</span>),<font></font>
                  height=<span class="hljs-number">1000</span>,<font></font>
                  width=<span class="hljs-number">600</span>)<font></font>
fig.update_traces(hoverinfo=<span class="hljs-string">"all"</span>, hovertemplate=<span class="hljs-string">": %{x}&lt;br&gt;: %{y}"</span>)<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/dg/dp/om/dgdpomvyiklv15shedqqpwczhpg.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">情報の密度を高めます</font></font></h3><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ヒートマップ</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1つのグラフに戻りましょう。ただし、カラーコーディング（ヒートマップのようなもの-特定の値の値が高いほど、色が「暖かく」）を使用して、グラフにさらに多くの情報を当てはめます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを行うには、go.Scatterオブジェクトでおなじみのマーカー属性を使用します（思い出してください、辞書が必要です）。</font><font style="vertical-align: inherit;">次の属性を辞書に渡します。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">color-色が選択される値のリスト。</font><font style="vertical-align: inherit;">ポイントと同じ数のリストアイテムがあるはずです。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">colorbar-グラフの右側にあるインジケーターのカラーバーを説明する辞書。</font><font style="vertical-align: inherit;">辞書エントリを受け入れます。</font><font style="vertical-align: inherit;">これまでのところ、辞書の1つの値-title-ストリップのタイトルにのみ関心があります。</font></font></li>
</ul><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure()<font></font>
fig.add_trace(go.Scatter(x=x, y=f(x), mode=<span class="hljs-string">'lines+markers'</span>,  name=<span class="hljs-string">'f(x)=x&lt;sup&gt;2&lt;/sup&gt;'</span>, <font></font>
                         marker=dict(color=h(x), colorbar=dict(title=<span class="hljs-string">"h(x)=sin(x)"</span>))<font></font>
                        ))<font></font>
fig.add_trace(go.Scatter(visible=<span class="hljs-string">'legendonly'</span>, x=x, y=h(x),  name=<span class="hljs-string">'h(x)=sin(x)'</span>))<font></font>
fig.add_trace(go.Scatter(visible=<span class="hljs-string">'legendonly'</span>, x=x, y=k(x),  name=<span class="hljs-string">'k(x)=cos(x)'</span>))<font></font>
<font></font>
fig.update_layout(legend_orientation=<span class="hljs-string">"h"</span>,<font></font>
                  legend=dict(x=<span class="hljs-number">.5</span>, xanchor=<span class="hljs-string">"center"</span>),<font></font>
                  margin=dict(l=<span class="hljs-number">0</span>, r=<span class="hljs-number">0</span>, t=<span class="hljs-number">0</span>, b=<span class="hljs-number">0</span>))<font></font>
fig.update_traces(hoverinfo=<span class="hljs-string">"all"</span>, hovertemplate=<span class="hljs-string">": %{x}&lt;br&gt;: %{y}"</span>)<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/vg/uy/tm/vguytm5ebudojxsxcmahdixt3xu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
前の例では、カラースケールはヒートマップとあまり似ていません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際、スケールの色は変更できます。これには、パレット名が渡されるcolorscale属性が使用されます。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure()<font></font>
fig.add_trace(go.Scatter(x=x, y=f(x), mode=<span class="hljs-string">'lines+markers'</span>,  name=<span class="hljs-string">'f(x)=x&lt;sup&gt;2&lt;/sup&gt;'</span>, <font></font>
                         marker=dict(color=h(x), colorbar=dict(title=<span class="hljs-string">"h(x)=sin(x)"</span>), colorscale=<span class="hljs-string">'Inferno'</span>)<font></font>
                        ))<font></font>
fig.add_trace(go.Scatter(visible=<span class="hljs-string">'legendonly'</span>, x=x, y=h(x),  name=<span class="hljs-string">'h(x)=sin(x)'</span>))<font></font>
fig.add_trace(go.Scatter(visible=<span class="hljs-string">'legendonly'</span>, x=x, y=k(x),  name=<span class="hljs-string">'k(x)=cos(x)'</span>))<font></font>
<font></font>
fig.update_layout(legend_orientation=<span class="hljs-string">"h"</span>,<font></font>
                  legend=dict(x=<span class="hljs-number">.5</span>, xanchor=<span class="hljs-string">"center"</span>),<font></font>
                  margin=dict(l=<span class="hljs-number">0</span>, r=<span class="hljs-number">0</span>, t=<span class="hljs-number">0</span>, b=<span class="hljs-number">0</span>))<font></font>
fig.update_traces(hoverinfo=<span class="hljs-string">"all"</span>, hovertemplate=<span class="hljs-string">": %{x}&lt;br&gt;: %{y}"</span>)<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/_q/gp/yr/_qgpyre64gd38ovlhfym-rhhzya.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに情報を追加できますか？</font><font style="vertical-align: inherit;">もちろんできますが、トリックがあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
別の測定では、マーカーのサイズを使用できます。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重要</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。</font><font style="vertical-align: inherit;">サイズ-ピクセル単位で設定します。</font><font style="vertical-align: inherit;">値は（色とは異なり）負ではないため、いずれかの関数のモジュールを使用します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通常、2ピクセル未満の値は画面上ではよく見えないため、サイズに乗数を追加します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
寸法は、マーカー内の同じ辞書のサイズ属性によって定義されます。</font><font style="vertical-align: inherit;">この属性は、1つの値（数値）、または（数値の）リストを取ります。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure()<font></font>
fig.add_trace(go.Scatter(x=x, y=f(x), mode=<span class="hljs-string">'lines+markers'</span>,  name=<span class="hljs-string">'f(x)=x&lt;sup&gt;2&lt;/sup&gt;'</span>, <font></font>
                         marker=dict(color=h(x), colorbar=dict(title=<span class="hljs-string">"h(x)=sin(x)"</span>), colorscale=<span class="hljs-string">'Inferno'</span>,<font></font>
                                     size=<span class="hljs-number">50</span>*abs(h(x)))<font></font>
                        ))<font></font>
fig.add_trace(go.Scatter(visible=<span class="hljs-string">'legendonly'</span>, x=x, y=h(x),  name=<span class="hljs-string">'h(x)=sin(x)'</span>))<font></font>
fig.add_trace(go.Scatter(visible=<span class="hljs-string">'legendonly'</span>, x=x, y=abs(h(x)),  name=<span class="hljs-string">'h_mod(x)=|sin(x)|'</span>))<font></font>
fig.add_trace(go.Scatter(visible=<span class="hljs-string">'legendonly'</span>, x=x, y=k(x),  name=<span class="hljs-string">'k(x)=cos(x)'</span>))<font></font>
<font></font>
fig.update_layout(legend_orientation=<span class="hljs-string">"h"</span>,<font></font>
                  legend=dict(x=<span class="hljs-number">.5</span>, xanchor=<span class="hljs-string">"center"</span>),<font></font>
                  margin=dict(l=<span class="hljs-number">0</span>, r=<span class="hljs-number">0</span>, t=<span class="hljs-number">0</span>, b=<span class="hljs-number">0</span>))<font></font>
fig.update_traces(hoverinfo=<span class="hljs-string">"all"</span>, hovertemplate=<span class="hljs-string">": %{x}&lt;br&gt;: %{y}"</span>)<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/p4/ot/t2/p4ott2nmw76ug1pkpenlhmsftvw.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アニメーション</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
チャートの情報をさらに圧縮することは可能ですか？</font><font style="vertical-align: inherit;">はい、できます。「4次元」を使用すればできます-時間。</font><font style="vertical-align: inherit;">スケジュールを活性化すること自体にも役立ちます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
いくつかのステップに戻りましょう。</font><font style="vertical-align: inherit;">放物線のプロットをアニメーション化します。</font><font style="vertical-align: inherit;">これには、次のものが必要です。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">初期状態</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ボタン（アニメーションはそれ自体で開始しないでください。最初に、それを起動するシンプルなボタンを作成し、徐々にタイムラインに移動します）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フレーム（またはフレーム）-中間状態</font></font></li>
</ol><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.初期状態</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
これは、アニメーションの開始前にチャートに表示される</font><b><font style="vertical-align: inherit;">状態</font></b><font style="vertical-align: inherit;">です。</font><font style="vertical-align: inherit;">私たちの場合、これが出発点になります。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前のステップから不要なほとんどすべてを削除します</font></font></i><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ステップ1-プレハブコード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure()<font></font>
fig.add_trace(go.Scatter(x=[x[<span class="hljs-number">0</span>]], y=[f(x)[<span class="hljs-number">0</span>]], mode=<span class="hljs-string">'lines+markers'</span>,  name=<span class="hljs-string">'f(x)=x&lt;sup&gt;2&lt;/sup&gt;'</span>))<font></font>
<font></font>
fig.update_layout(legend_orientation=<span class="hljs-string">"h"</span>,<font></font>
                  legend=dict(x=<span class="hljs-number">.5</span>, xanchor=<span class="hljs-string">"center"</span>),<font></font>
                  margin=dict(l=<span class="hljs-number">0</span>, r=<span class="hljs-number">0</span>, t=<span class="hljs-number">0</span>, b=<span class="hljs-number">0</span>))<font></font>
fig.update_traces(hoverinfo=<span class="hljs-string">"all"</span>, hovertemplate=<span class="hljs-string">": %{x}&lt;br&gt;: %{y}"</span>)<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.ボタン</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
最小動作</font><b><font style="vertical-align: inherit;">ボタン</font></b><font style="vertical-align: inherit;">のコードは次のようになります。</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-string">"updatemenus"</span>: [{<span class="hljs-string">"type"</span>: <span class="hljs-string">"buttons"</span>,
                 <span class="hljs-string">"buttons"</span>: [{<span class="hljs-string">"label"</span>: <span class="hljs-string">"Your Label"</span>,
                              <span class="hljs-string">"method"</span>: <span class="hljs-string">"animate"</span>,
                              <span class="hljs-string">"args"</span>: [See Below]}]}]</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
updatemenusは、レイヤーの要素の1つです。</font><font style="vertical-align: inherit;">形状のレイアウト。つまり、update_layoutメソッドを使用してボタンを追加します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
彼女は何もしませんが、tk。</font><font style="vertical-align: inherit;">アニメートするものは何もありません。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ステップ2-コードはまだ半完成です</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure()<font></font>
fig.add_trace(go.Scatter(x=[x[<span class="hljs-number">0</span>]], y=[f(x)[<span class="hljs-number">0</span>]], mode=<span class="hljs-string">'lines+markers'</span>,  name=<span class="hljs-string">'f(x)=x&lt;sup&gt;2&lt;/sup&gt;'</span>))<font></font>
<font></font>
fig.update_layout(legend_orientation=<span class="hljs-string">"h"</span>,<font></font>
                  legend=dict(x=<span class="hljs-number">.5</span>, xanchor=<span class="hljs-string">"center"</span>),<font></font>
                  updatemenus=[dict(type=<span class="hljs-string">"buttons"</span>, buttons=[dict(label=<span class="hljs-string">"Play"</span>, method=<span class="hljs-string">"animate"</span>, args=[<span class="hljs-literal">None</span>])])],<font></font>
                  margin=dict(l=<span class="hljs-number">0</span>, r=<span class="hljs-number">0</span>, t=<span class="hljs-number">0</span>, b=<span class="hljs-number">0</span>))<font></font>
fig.update_traces(hoverinfo=<span class="hljs-string">"all"</span>, hovertemplate=<span class="hljs-string">": %{x}&lt;br&gt;: %{y}"</span>)<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.フレーム</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
これは、アニメーションを構成する「フレーム」のリストです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
各フレームには、完全に完成したグラフが含まれている必要があります。これは、シーナリーの場合のように、図に単に表示されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フレームはgo.Frame（）を使用して作成されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
チャートはフレーム内でデータ引数に渡されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、一連のグラフ（1ポイントから図全体）を作成する場合は、ループを実行するだけです。</font></font><br>
<br>
<pre><code class="python hljs">frames=[]
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">1</span>, len(x)):<font></font>
    frames.append(go.Frame(data=[go.Scatter(x=x[:i], y=f(x[:i]))]))</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この後、フレームをフィギュアに転送する必要があります。</font><font style="vertical-align: inherit;">各形状にはフレーム属性があり、これを使用します。</font></font><br>
<br>
<pre><code class="python hljs">fig.frames = frames</code></pre><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ステップ3-アニメーションを開始するコードの意味でのクリスマスツリーの書き込み</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure()<font></font>
fig.add_trace(go.Scatter(x=[x[<span class="hljs-number">0</span>]], y=[f(x)[<span class="hljs-number">0</span>]], mode=<span class="hljs-string">'lines+markers'</span>,  name=<span class="hljs-string">'f(x)=x&lt;sup&gt;2&lt;/sup&gt;'</span>))<font></font>
<font></font>
frames=[]<font></font>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">1</span>, len(x)):<font></font>
    frames.append(go.Frame(data=[go.Scatter(x=x[:i+<span class="hljs-number">1</span>], y=f(x[:i+<span class="hljs-number">1</span>]))]))<font></font>
<font></font>
fig.frames = frames   <font></font>
<font></font>
fig.update_layout(legend_orientation=<span class="hljs-string">"h"</span>,<font></font>
                  legend=dict(x=<span class="hljs-number">.5</span>, xanchor=<span class="hljs-string">"center"</span>),<font></font>
                  updatemenus=[dict(type=<span class="hljs-string">"buttons"</span>, buttons=[dict(label=<span class="hljs-string">"Play"</span>, method=<span class="hljs-string">"animate"</span>, args=[<span class="hljs-literal">None</span>])])],<font></font>
                  margin=dict(l=<span class="hljs-number">0</span>, r=<span class="hljs-number">0</span>, t=<span class="hljs-number">0</span>, b=<span class="hljs-number">0</span>))<font></font>
fig.update_traces(hoverinfo=<span class="hljs-string">"all"</span>, hovertemplate=<span class="hljs-string">": %{x}&lt;br&gt;: %{y}"</span>)<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/32/ug/jt/32ugjt3edznlewn1dum2hqormg4.gif"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
初期状態、レイヤー（ボタン付き）、フレームを設定するもう1つの方法は、すべてをgo.Figureオブジェクトにすぐに転送することです。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">data-初期状態のチャートの属性</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">レイアウト-ボタンを含む「風景」の説明</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フレーム-アニメーションのフレーム（フレーム）</font></font></li>
</ul><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">frames=[]
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">1</span>, len(x)):<font></font>
    frames.append(go.Frame(data=[go.Scatter(x=x[:i+<span class="hljs-number">1</span>], y=f(x[:i+<span class="hljs-number">1</span>]))]))<font></font>
    <font></font>
    <font></font>
fig = go.Figure(data=go.Scatter(x=[x[<span class="hljs-number">0</span>]], y=[f(x[<span class="hljs-number">0</span>])], mode=<span class="hljs-string">'lines+markers'</span>,  name=<span class="hljs-string">'f(x)=x&lt;sup&gt;2&lt;/sup&gt;'</span>),<font></font>
                frames=frames,<font></font>
                layout=dict(legend_orientation=<span class="hljs-string">"h"</span>,<font></font>
                            legend=dict(x=<span class="hljs-number">.5</span>, xanchor=<span class="hljs-string">"center"</span>),<font></font>
                            updatemenus=[dict(type=<span class="hljs-string">"buttons"</span>, buttons=[dict(label=<span class="hljs-string">"Play"</span>, method=<span class="hljs-string">"animate"</span>, args=[<span class="hljs-literal">None</span>])])],<font></font>
                            margin=dict(l=<span class="hljs-number">0</span>, r=<span class="hljs-number">0</span>, t=<span class="hljs-number">0</span>, b=<span class="hljs-number">0</span>)))<font></font>
<font></font>
fig.update_traces(hoverinfo=<span class="hljs-string">"all"</span>, hovertemplate=<span class="hljs-string">": %{x}&lt;br&gt;: %{y}"</span>)<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当然のことながら、色、カラースケール、サイズのマーカー（初期とフレームの両方）をグラフに追加すると、アニメーションはより複雑なグラフィックになります。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure()<font></font>
fig.add_trace(go.Scatter(x=[x[<span class="hljs-number">0</span>]], y=[f(x)[<span class="hljs-number">0</span>]], mode=<span class="hljs-string">'lines+markers'</span>,  name=<span class="hljs-string">'f(x)=x&lt;sup&gt;2&lt;/sup&gt;'</span>,<font></font>
                         marker=dict(color=h(x[<span class="hljs-number">0</span>]), colorbar=dict(title=<span class="hljs-string">"h(x)=sin(x)"</span>), colorscale=<span class="hljs-string">'Inferno'</span>, size=<span class="hljs-number">50</span>*abs(h(x[<span class="hljs-number">0</span>])))<font></font>
                        ))<font></font>
<font></font>
frames=[]<font></font>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">1</span>, len(x)):<font></font>
    frames.append(go.Frame(data=[go.Scatter(x=x[:i+<span class="hljs-number">1</span>], y=f(x[:i+<span class="hljs-number">1</span>]), marker=dict(color=h(x[:i+<span class="hljs-number">1</span>]), size=<span class="hljs-number">50</span>*abs(h(x[:i+<span class="hljs-number">1</span>]))))]))<font></font>
<font></font>
fig.frames = frames   <font></font>
<font></font>
fig.update_layout(legend_orientation=<span class="hljs-string">"h"</span>,<font></font>
                  legend=dict(x=<span class="hljs-number">.5</span>, xanchor=<span class="hljs-string">"center"</span>),<font></font>
                  updatemenus=[dict(type=<span class="hljs-string">"buttons"</span>, buttons=[dict(label=<span class="hljs-string">"Play"</span>, method=<span class="hljs-string">"animate"</span>, args=[<span class="hljs-literal">None</span>])])],<font></font>
                  margin=dict(l=<span class="hljs-number">0</span>, r=<span class="hljs-number">0</span>, t=<span class="hljs-number">0</span>, b=<span class="hljs-number">0</span>))<font></font>
fig.update_traces(hoverinfo=<span class="hljs-string">"all"</span>, hovertemplate=<span class="hljs-string">": %{x}&lt;br&gt;: %{y}"</span>)<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ビデオの再生を開始する最も単純なボタンのコードは次のようになります。</font></font><br>
<br>
<pre><code class="python hljs">dict(label=<span class="hljs-string">"Play"</span>, method=<span class="hljs-string">"animate"</span>, args=[<span class="hljs-literal">None</span>])</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
または</font></font><br>
<br>
<pre><code class="python hljs">dict(label=<span class="hljs-string">""</span>, method=<span class="hljs-string">"animate"</span>, args=[<span class="hljs-literal">None</span>])</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「一時停止」ボタンを追加する場合（通常の一時停止とは異なり、もう一度押すと再生は行われません。再生を開始するには[再生]を押す必要があります）、コードはさらに複雑になります。</font></font><br>
<br>
<pre><code class="python hljs">dict(label=<span class="hljs-string">"❚❚"</span>, method=<span class="hljs-string">"animate"</span>, args=[[<span class="hljs-literal">None</span>], {<span class="hljs-string">"frame"</span>: {<span class="hljs-string">"duration"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"redraw"</span>: <span class="hljs-literal">False</span>},
                                                 <span class="hljs-string">"mode"</span>: <span class="hljs-string">"immediate"</span>,
                                                 <span class="hljs-string">"transition"</span>: {<span class="hljs-string">"duration"</span>: <span class="hljs-number">0</span>}}])</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、このようなボタンを2つ追加すると、一時停止後に押した再生ボタンを押すと、最終的に最初から再生が開始されます。</font><font style="vertical-align: inherit;">これは非常に直感的な動作ではないので、彼女はもう1つの引数を追加する必要があります。</font></font><br>
<br>
<pre><code class="python hljs">dict(label=<span class="hljs-string">""</span>, method=<span class="hljs-string">"animate"</span>, args=[<span class="hljs-literal">None</span>, {<span class="hljs-string">"fromcurrent"</span>: <span class="hljs-literal">True</span>}])</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、2つのボタンの完全なセットは次のようになります。</font></font><br>
<br>
<pre><code class="python hljs">buttons=[dict(label=<span class="hljs-string">"►"</span>, method=<span class="hljs-string">"animate"</span>, args=[<span class="hljs-literal">None</span>, {<span class="hljs-string">"fromcurrent"</span>: <span class="hljs-literal">True</span>}]),<font></font>
         dict(label=<span class="hljs-string">"❚❚"</span>, method=<span class="hljs-string">"animate"</span>, args=[[<span class="hljs-literal">None</span>], {<span class="hljs-string">"frame"</span>: {<span class="hljs-string">"duration"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"redraw"</span>: <span class="hljs-literal">False</span>},
                                                           <span class="hljs-string">"mode"</span>: <span class="hljs-string">"immediate"</span>,
                                                           <span class="hljs-string">"transition"</span>: {<span class="hljs-string">"duration"</span>: <span class="hljs-number">0</span>}}])])]</code></pre><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2つのボタンを持つコード：アニメーションの開始と停止</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure()<font></font>
fig.add_trace(go.Scatter(x=[x[<span class="hljs-number">0</span>]], y=[f(x)[<span class="hljs-number">0</span>]], mode=<span class="hljs-string">'lines+markers'</span>,  name=<span class="hljs-string">'f(x)=x&lt;sup&gt;2&lt;/sup&gt;'</span>,<font></font>
                         marker=dict(color=h(x[<span class="hljs-number">0</span>]), colorbar=dict(title=<span class="hljs-string">"h(x)=sin(x)"</span>), colorscale=<span class="hljs-string">'Inferno'</span>, size=<span class="hljs-number">50</span>*abs(h(x[<span class="hljs-number">0</span>])))<font></font>
                        ))<font></font>
<font></font>
frames=[]<font></font>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">1</span>, len(x)):<font></font>
    frames.append(go.Frame(data=[go.Scatter(x=x[:i+<span class="hljs-number">1</span>], y=f(x[:i+<span class="hljs-number">1</span>]), marker=dict(color=h(x[:i+<span class="hljs-number">1</span>]), size=<span class="hljs-number">50</span>*abs(h(x[:i+<span class="hljs-number">1</span>]))))]))<font></font>
<font></font>
fig.frames = frames   <font></font>
<font></font>
fig.update_layout(legend_orientation=<span class="hljs-string">"h"</span>,<font></font>
                  legend=dict(x=<span class="hljs-number">.5</span>, xanchor=<span class="hljs-string">"center"</span>),<font></font>
                  updatemenus=[dict(type=<span class="hljs-string">"buttons"</span>, buttons=[dict(label=<span class="hljs-string">"►"</span>, method=<span class="hljs-string">"animate"</span>, args=[<span class="hljs-literal">None</span>, {<span class="hljs-string">"fromcurrent"</span>: <span class="hljs-literal">True</span>}]),<font></font>
                                                             dict(label=<span class="hljs-string">"❚❚"</span>, method=<span class="hljs-string">"animate"</span>, args=[[<span class="hljs-literal">None</span>], {<span class="hljs-string">"frame"</span>: {<span class="hljs-string">"duration"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"redraw"</span>: <span class="hljs-literal">False</span>},
                                                                                                               <span class="hljs-string">"mode"</span>: <span class="hljs-string">"immediate"</span>,
                                                                                                               <span class="hljs-string">"transition"</span>: {<span class="hljs-string">"duration"</span>: <span class="hljs-number">0</span>}}])])],<font></font>
                  margin=dict(l=<span class="hljs-number">0</span>, r=<span class="hljs-number">0</span>, t=<span class="hljs-number">0</span>, b=<span class="hljs-number">0</span>))<font></font>
fig.update_traces(hoverinfo=<span class="hljs-string">"all"</span>, hovertemplate=<span class="hljs-string">": %{x}&lt;br&gt;: %{y}"</span>)<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ボタンを別の場所に移動すると便利な場合があります。</font><font style="vertical-align: inherit;">これに役立ついくつかの属性を検討してください。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">direction-ボタンの方向（デフォルトでは上から下へ、ただし「左」を指定した場合は左から右になります）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x、y-位置（図のシェア）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xanchor、yanchor-ボタンの配置方法。</font><font style="vertical-align: inherit;">以前、伝説の配置に問題がありました。ここでも同じ話です。</font><font style="vertical-align: inherit;">中央揃えにしたい場合は、x = 0.5およびxanchor = "center"が役立ちます。</font></font></li>
</ul><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下のボタンのあるコード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure()<font></font>
fig.add_trace(go.Scatter(x=[x[<span class="hljs-number">0</span>]], y=[f(x)[<span class="hljs-number">0</span>]], mode=<span class="hljs-string">'lines+markers'</span>,  name=<span class="hljs-string">'f(x)=x&lt;sup&gt;2&lt;/sup&gt;'</span>,<font></font>
                         marker=dict(color=h(x[<span class="hljs-number">0</span>]), colorbar=dict(title=<span class="hljs-string">"h(x)=sin(x)"</span>), colorscale=<span class="hljs-string">'Inferno'</span>, size=<span class="hljs-number">50</span>*abs(h(x[<span class="hljs-number">0</span>])))<font></font>
                        ))<font></font>
<font></font>
frames=[]<font></font>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">1</span>, len(x)):<font></font>
    frames.append(go.Frame(data=[go.Scatter(x=x[:i+<span class="hljs-number">1</span>], y=f(x[:i+<span class="hljs-number">1</span>]), marker=dict(color=h(x[:i+<span class="hljs-number">1</span>]), size=<span class="hljs-number">50</span>*abs(h(x[:i+<span class="hljs-number">1</span>]))))]))<font></font>
<font></font>
fig.frames = frames   <font></font>
<font></font>
fig.update_layout(legend_orientation=<span class="hljs-string">"h"</span>,<font></font>
                  legend=dict(x=<span class="hljs-number">.5</span>, xanchor=<span class="hljs-string">"center"</span>),<font></font>
                  updatemenus=[dict(direction=<span class="hljs-string">"left"</span>, x=<span class="hljs-number">0.5</span>, xanchor=<span class="hljs-string">"center"</span>, y=<span class="hljs-number">0</span>,<font></font>
                                    type=<span class="hljs-string">"buttons"</span>, buttons=[dict(label=<span class="hljs-string">"►"</span>, method=<span class="hljs-string">"animate"</span>, args=[<span class="hljs-literal">None</span>, {<span class="hljs-string">"fromcurrent"</span>: <span class="hljs-literal">True</span>}]),<font></font>
                                                             dict(label=<span class="hljs-string">"❚❚"</span>, method=<span class="hljs-string">"animate"</span>, args=[[<span class="hljs-literal">None</span>], {<span class="hljs-string">"frame"</span>: {<span class="hljs-string">"duration"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"redraw"</span>: <span class="hljs-literal">False</span>},
                                                                                                               <span class="hljs-string">"mode"</span>: <span class="hljs-string">"immediate"</span>,
                                                                                                               <span class="hljs-string">"transition"</span>: {<span class="hljs-string">"duration"</span>: <span class="hljs-number">0</span>}}])])],<font></font>
                  margin=dict(l=<span class="hljs-number">0</span>, r=<span class="hljs-number">0</span>, t=<span class="hljs-number">0</span>, b=<span class="hljs-number">0</span>))<font></font>
fig.update_traces(hoverinfo=<span class="hljs-string">"all"</span>, hovertemplate=<span class="hljs-string">": %{x}&lt;br&gt;: %{y}"</span>)<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スライダー</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スライダーは原則としてアニメーションに似ていますが、重大な違いがあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スライダーは、ナビゲーション要素であり、図のグラフの状態を制御するスライダーがスライドします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それら。</font><font style="vertical-align: inherit;">アニメーションのフレームが次々と変化する場合、スライダーを使用すると、すべてのグラフが同時に表示されます。</font><font style="vertical-align: inherit;">しかし、それらのほとんどは目に見えません。</font><font style="vertical-align: inherit;">スライダーを動かすと、一部が非表示になり、他のスライダーが反対を表示します（もちろん軸を再構築します）。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.グラフのリストを作成します。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">グラフの1つ（たとえば、1番目）が表示されていることが重要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
可視性/不可視性を確立するには、visible引数を使用します。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可視グラフ- </font></font><code>go.Scatter(visible=True, x=[x[0]], y=[f(x)[0]], mode='lines+markers', name='f(x)=x<sup>2</sup>')</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非表示のグラフ- </font></font><code>go.Scatter(visible=False, x=[x[0]], y=[f(x)[0]], mode='lines+markers', name='f(x)=x<sup>2</sup>')</code></li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図上にすべてのグラフを描画します。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これを行うには、図のデータ引数を使用してすべてをリストで渡すと便利です</font></font><br>
<br>
<code>fig = go.Figure(data=trace_list)</code><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。2.スライダーの「ステップ」のリストを作成します。</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ステップには特定の構文があります。本質的には、状態（どのグラフが表示され、どのグラフが表示されないか）とその遷移方法を記述します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ステップでは、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべてのグラフ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の状態を説明する必要が</font><b><font style="vertical-align: inherit;">あります</font></b><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1ステップの最小構文：</font><font style="vertical-align: inherit;">
可視性/不可視性の状態は、「可視」と論理値のリストのペアで指定されます（どのグラフが「可視」で、どのグラフが不可視か）。したがって、すべてのステップで、Falseリストを作成し、目的の値をTrueに変更して、特定のグラフを表示します。</font><font style="vertical-align: inherit;">
ステップはリストにまとめる必要があります（つまり、これは辞書のリストになります）。</font><font style="vertical-align: inherit;">
最後に、すべてのステップを図に追加する必要があります。</font></font><br>
<br>
<code>dict(<br>
 method = 'restyle',<br>
 args = #   <br>
 )</code><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<code>fig.layout.sliders = sliders</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最小限の動作コード（いくつかの微妙な点があるため、慎重に検討してください）：</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">num_steps = len(x)<font></font>
trace_list = [go.Scatter(visible=<span class="hljs-literal">True</span>, x=[x[<span class="hljs-number">0</span>]], y=[f(x)[<span class="hljs-number">0</span>]], mode=<span class="hljs-string">'lines+markers'</span>, name=<span class="hljs-string">'f(x)=x&lt;sup&gt;2&lt;/sup&gt;'</span>)]<font></font>
<font></font>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">1</span>, len(x)):<font></font>
    trace_list.append(go.Scatter(visible=<span class="hljs-literal">False</span>, x=x[:i+<span class="hljs-number">1</span>], y=f(x[:i+<span class="hljs-number">1</span>]), mode=<span class="hljs-string">'lines+markers'</span>, name=<span class="hljs-string">'f(x)=x&lt;sup&gt;2&lt;/sup&gt;'</span>))<font></font>
<font></font>
fig = go.Figure(data=trace_list)<font></font>
<font></font>
steps = []<font></font>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(num_steps):
    <span class="hljs-comment"># Hide all traces</span><font></font>
    step = dict(<font></font>
        method = <span class="hljs-string">'restyle'</span>,  <font></font>
        args = [<span class="hljs-string">'visible'</span>, [<span class="hljs-literal">False</span>] * len(fig.data)],<font></font>
    )<font></font>
    <span class="hljs-comment"># Enable trace we want to see</span>
    step[<span class="hljs-string">'args'</span>][<span class="hljs-number">1</span>][i] = <span class="hljs-literal">True</span><font></font>
    <font></font>
    <span class="hljs-comment"># Add step to step list</span><font></font>
    steps.append(step)<font></font>
<font></font>
sliders = [dict(<font></font>
    steps = steps,<font></font>
)]<font></font>
<font></font>
fig.layout.sliders = sliders<font></font>
<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/xv/x2/_3/xvx2_3zrouwmtwaiwdire13jw8m.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1つのグラフではなく2つのグラフを追加する場合は、どこにでもいくつか追加する必要があります。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">初期アクティブ状態</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべて非アクティブ（非表示）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ペアでステップ状態を生成する</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ペアで、ステップに表示されるグラフをアクティブにします</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
調査した図をサインとコサインに変更します（それらがどのように発達するかを監視するため）：</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">num_steps = len(x)<font></font>
trace_list = [go.Scatter(visible=<span class="hljs-literal">True</span>, x=[x[<span class="hljs-number">0</span>]], y=[h(x)[<span class="hljs-number">0</span>]], mode=<span class="hljs-string">'lines+markers'</span>, name=<span class="hljs-string">'h(x)=sin(x)'</span>),<font></font>
              go.Scatter(visible=<span class="hljs-literal">True</span>, x=[x[<span class="hljs-number">0</span>]], y=[k(x)[<span class="hljs-number">0</span>]], mode=<span class="hljs-string">'lines+markers'</span>, name=<span class="hljs-string">'k(x)=cos(x)'</span>)]<font></font>
<font></font>
<span class="hljs-comment">#       :</span>
<span class="hljs-comment">#fig.add_trace(go.Scatter(x=x, y=h(x),  name='h(x)=sin(x)'), 1, 1)</span>
<span class="hljs-comment">#fig.add_trace(go.Scatter(x=x, y=k(x),  name='k(x)=cos(x)'), 1, 1)</span><font></font>
<font></font>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">1</span>, len(x)):<font></font>
    trace_list.append(go.Scatter(visible=<span class="hljs-literal">False</span>, x=x[:i+<span class="hljs-number">1</span>], y=h(x[:i+<span class="hljs-number">1</span>]), mode=<span class="hljs-string">'lines+markers'</span>, name=<span class="hljs-string">'h(x)=sin(x)'</span>))<font></font>
    trace_list.append(go.Scatter(visible=<span class="hljs-literal">False</span>, x=x[:i+<span class="hljs-number">1</span>], y=k(x[:i+<span class="hljs-number">1</span>]), mode=<span class="hljs-string">'lines+markers'</span>, name=<span class="hljs-string">'k(x)=cos(x)'</span>))<font></font>
<font></font>
fig = go.Figure(data=trace_list)<font></font>
<font></font>
steps = []<font></font>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(num_steps):<font></font>
    step = dict(<font></font>
        method = <span class="hljs-string">'restyle'</span>,  <font></font>
        args = [<span class="hljs-string">'visible'</span>, [<span class="hljs-literal">False</span>] * len(fig.data)],<font></font>
    )<font></font>
    step[<span class="hljs-string">'args'</span>][<span class="hljs-number">1</span>][<span class="hljs-number">2</span>*i] = <span class="hljs-literal">True</span>
    step[<span class="hljs-string">'args'</span>][<span class="hljs-number">1</span>][<span class="hljs-number">2</span>*i+<span class="hljs-number">1</span>] = <span class="hljs-literal">True</span><font></font>
    steps.append(step)<font></font>
<font></font>
sliders = [dict(<font></font>
    steps = steps,<font></font>
)]<font></font>
<font></font>
fig.layout.sliders = sliders<font></font>
<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/yz/li/ef/yzliefesx1cieje524vgqy2yljw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
前の部分のボタンを追加するだけです。</font><font style="vertical-align: inherit;">彼らは何もしません、なぜなら </font><font style="vertical-align: inherit;">まだアニメーションを追加していません。</font><font style="vertical-align: inherit;">「狙う」だけです。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非アクティブなアニメーションボタンがあるスライダーコード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">num_steps = len(x)<font></font>
trace_list = [go.Scatter(visible=<span class="hljs-literal">True</span>, x=[x[<span class="hljs-number">0</span>]], y=[h(x)[<span class="hljs-number">0</span>]], mode=<span class="hljs-string">'lines+markers'</span>, name=<span class="hljs-string">'h(x)=sin(x)'</span>),<font></font>
              go.Scatter(visible=<span class="hljs-literal">True</span>, x=[x[<span class="hljs-number">0</span>]], y=[k(x)[<span class="hljs-number">0</span>]], mode=<span class="hljs-string">'lines+markers'</span>, name=<span class="hljs-string">'k(x)=cos(x)'</span>)]<font></font>
<font></font>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">1</span>, len(x)):<font></font>
    trace_list.append(go.Scatter(visible=<span class="hljs-literal">False</span>, x=x[:i+<span class="hljs-number">1</span>], y=h(x[:i+<span class="hljs-number">1</span>]), mode=<span class="hljs-string">'lines+markers'</span>, name=<span class="hljs-string">'h(x)=sin(x)'</span>))<font></font>
    trace_list.append(go.Scatter(visible=<span class="hljs-literal">False</span>, x=x[:i+<span class="hljs-number">1</span>], y=k(x[:i+<span class="hljs-number">1</span>]), mode=<span class="hljs-string">'lines+markers'</span>, name=<span class="hljs-string">'k(x)=cos(x)'</span>))<font></font>
<font></font>
fig = go.Figure(data=trace_list)<font></font>
<font></font>
steps = []<font></font>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(num_steps):<font></font>
    step = dict(<font></font>
        method = <span class="hljs-string">'restyle'</span>,  <font></font>
        args = [<span class="hljs-string">'visible'</span>, [<span class="hljs-literal">False</span>] * len(fig.data)],<font></font>
    )<font></font>
    step[<span class="hljs-string">'args'</span>][<span class="hljs-number">1</span>][<span class="hljs-number">2</span>*i] = <span class="hljs-literal">True</span>
    step[<span class="hljs-string">'args'</span>][<span class="hljs-number">1</span>][<span class="hljs-number">2</span>*i+<span class="hljs-number">1</span>] = <span class="hljs-literal">True</span><font></font>
    steps.append(step)<font></font>
<font></font>
sliders = [dict(<font></font>
    steps = steps,<font></font>
)]<font></font>
<font></font>
fig.update_layout(updatemenus=[dict(direction=<span class="hljs-string">"left"</span>, x=<span class="hljs-number">0.5</span>, xanchor=<span class="hljs-string">"center"</span>, y=<span class="hljs-number">0</span>,<font></font>
                                    type=<span class="hljs-string">"buttons"</span>, buttons=[dict(label=<span class="hljs-string">"►"</span>, method=<span class="hljs-string">"animate"</span>, args=[<span class="hljs-literal">None</span>, {<span class="hljs-string">"fromcurrent"</span>: <span class="hljs-literal">True</span>}]),<font></font>
                                                             dict(label=<span class="hljs-string">"❚❚"</span>, method=<span class="hljs-string">"animate"</span>, args=[[<span class="hljs-literal">None</span>], {<span class="hljs-string">"frame"</span>: {<span class="hljs-string">"duration"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"redraw"</span>: <span class="hljs-literal">False</span>},
                                                                                                               <span class="hljs-string">"mode"</span>: <span class="hljs-string">"immediate"</span>,
                                                                                                               <span class="hljs-string">"transition"</span>: {<span class="hljs-string">"duration"</span>: <span class="hljs-number">0</span>}}])])],<font></font>
                  )<font></font>
<font></font>
<font></font>
fig.layout.sliders = sliders<font></font>
<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以前と同じようにアニメーション付きのフレームを追加するだけで、アニメーションボタンは確実に機能します。</font><font style="vertical-align: inherit;">ただし、スライダーの1つの状態のみ。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不自由なスライダーコード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">num_steps = len(x)<font></font>
trace_list = [go.Scatter(visible=<span class="hljs-literal">True</span>, x=[x[<span class="hljs-number">0</span>]], y=[h(x)[<span class="hljs-number">0</span>]], mode=<span class="hljs-string">'lines+markers'</span>, name=<span class="hljs-string">'h(x)=sin(x)'</span>),<font></font>
              go.Scatter(visible=<span class="hljs-literal">True</span>, x=[x[<span class="hljs-number">0</span>]], y=[k(x)[<span class="hljs-number">0</span>]], mode=<span class="hljs-string">'lines+markers'</span>, name=<span class="hljs-string">'k(x)=cos(x)'</span>)]<font></font>
<font></font>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">1</span>, len(x)):<font></font>
    trace_list.append(go.Scatter(visible=<span class="hljs-literal">False</span>, x=x[:i+<span class="hljs-number">1</span>], y=h(x[:i+<span class="hljs-number">1</span>]), mode=<span class="hljs-string">'lines+markers'</span>, name=<span class="hljs-string">'h(x)=sin(x)'</span>))<font></font>
    trace_list.append(go.Scatter(visible=<span class="hljs-literal">False</span>, x=x[:i+<span class="hljs-number">1</span>], y=k(x[:i+<span class="hljs-number">1</span>]), mode=<span class="hljs-string">'lines+markers'</span>, name=<span class="hljs-string">'k(x)=cos(x)'</span>))<font></font>
<font></font>
frames=[]<font></font>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">1</span>, len(x)):<font></font>
    frames.append(go.Frame(data=[go.Scatter(visible=<span class="hljs-literal">True</span>, x=x[:i+<span class="hljs-number">1</span>], y=h(x[:i+<span class="hljs-number">1</span>]), mode=<span class="hljs-string">'lines+markers'</span>, name=<span class="hljs-string">'h(x)=sin(x)'</span>),<font></font>
                                 go.Scatter(visible=<span class="hljs-literal">True</span>, x=x[:i+<span class="hljs-number">1</span>], y=k(x[:i+<span class="hljs-number">1</span>]), mode=<span class="hljs-string">'lines+markers'</span>, name=<span class="hljs-string">'k(x)=cos(x)'</span>)])) <font></font>
<font></font>
fig = go.Figure(data=trace_list)<font></font>
<font></font>
steps = []<font></font>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(num_steps):<font></font>
    step = dict(<font></font>
        method = <span class="hljs-string">'restyle'</span>,  <font></font>
        args = [<span class="hljs-string">'visible'</span>, [<span class="hljs-literal">False</span>] * len(fig.data)],<font></font>
    )<font></font>
    step[<span class="hljs-string">'args'</span>][<span class="hljs-number">1</span>][<span class="hljs-number">2</span>*i] = <span class="hljs-literal">True</span>
    step[<span class="hljs-string">'args'</span>][<span class="hljs-number">1</span>][<span class="hljs-number">2</span>*i+<span class="hljs-number">1</span>] = <span class="hljs-literal">True</span><font></font>
    steps.append(step)<font></font>
<font></font>
sliders = [dict(<font></font>
    steps = steps,<font></font>
)]<font></font>
<font></font>
fig.update_layout(updatemenus=[dict(direction=<span class="hljs-string">"left"</span>, x=<span class="hljs-number">0.5</span>, xanchor=<span class="hljs-string">"center"</span>, y=<span class="hljs-number">0</span>,<font></font>
                                    type=<span class="hljs-string">"buttons"</span>, buttons=[dict(label=<span class="hljs-string">"►"</span>, method=<span class="hljs-string">"animate"</span>, args=[<span class="hljs-literal">None</span>, {<span class="hljs-string">"fromcurrent"</span>: <span class="hljs-literal">True</span>}]),<font></font>
                                                             dict(label=<span class="hljs-string">"❚❚"</span>, method=<span class="hljs-string">"animate"</span>, args=[[<span class="hljs-literal">None</span>], {<span class="hljs-string">"frame"</span>: {<span class="hljs-string">"duration"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"redraw"</span>: <span class="hljs-literal">False</span>},
                                                                                                               <span class="hljs-string">"mode"</span>: <span class="hljs-string">"immediate"</span>,
                                                                                                               <span class="hljs-string">"transition"</span>: {<span class="hljs-string">"duration"</span>: <span class="hljs-number">0</span>}}])])],<font></font>
                  )<font></font>
<font></font>
<font></font>
fig.layout.sliders = sliders<font></font>
fig.frames = frames  <font></font>
<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それでは、耳を使ってフェイントを作成し、非表示のグラフを破棄し、スライダーをアニメーションフレームに直接アタッチする必要があります（なぜ、すぐにそれを行わなかったのですか？フリルのないスライダーに直接適した代替方法があるため）</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">trace_list（「見えない」グラフのリスト）に関連するすべてについてコメントします。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図の最初の作成で2つの可視グラフを作成することによってレンダリングされます</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">各フレームに名前パラメーターを追加する</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ステップテンプレートをやり直します。</font></font><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">対応するフレームの名前と一致するラベルを追加します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メソッドを「animate」に変更します</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべての引数を、フレームの名前に一致する1行の1つのリストで置き換えます</font></font></li>
</ul></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スライダーの特定の位置にある非表示のグラフの「症状」を削除しましょう。</font><font style="vertical-align: inherit;">スライダーはフレームに取り付けられます</font></font></li>
</ol><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべての変更が明確に見えるように、削除する行をコメント化しました。</font></font></i><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アニメーションボタンを使用して機能するスライダーのコード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">num_steps = len(x)<font></font>
fig = go.Figure(data=[go.Scatter(x=[x[<span class="hljs-number">0</span>]], y=[h(x)[<span class="hljs-number">0</span>]], mode=<span class="hljs-string">'lines+markers'</span>, name=<span class="hljs-string">'h(x)=sin(x)'</span>),<font></font>
                      go.Scatter(x=[x[<span class="hljs-number">0</span>]], y=[k(x)[<span class="hljs-number">0</span>]], mode=<span class="hljs-string">'lines+markers'</span>, name=<span class="hljs-string">'k(x)=cos(x)'</span>)])
<span class="hljs-string">'''
trace_list = [go.Scatter(visible=True, x=[x[0]], y=[h(x)[0]], mode='lines+markers', name='h(x)=sin(x)'),
              go.Scatter(visible=True, x=[x[0]], y=[k(x)[0]], mode='lines+markers', name='k(x)=cos(x)')]

for i in range(1, len(x)):
    trace_list.append(go.Scatter(visible=False, x=x[:i+1], y=h(x[:i+1]), mode='lines+markers', name='h(x)=sin(x)'))
    trace_list.append(go.Scatter(visible=False, x=x[:i+1], y=k(x[:i+1]), mode='lines+markers', name='k(x)=cos(x)'))
'''</span><font></font>
frames=[]<font></font>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">0</span>, len(x)):<font></font>
    frames.append(go.Frame(name=str(i),<font></font>
                           data=[go.Scatter(x=x[:i+<span class="hljs-number">1</span>], y=h(x[:i+<span class="hljs-number">1</span>]), mode=<span class="hljs-string">'lines+markers'</span>, name=<span class="hljs-string">'h(x)=sin(x)'</span>),<font></font>
                                 go.Scatter(x=x[:i+<span class="hljs-number">1</span>], y=k(x[:i+<span class="hljs-number">1</span>]), mode=<span class="hljs-string">'lines+markers'</span>, name=<span class="hljs-string">'k(x)=cos(x)'</span>)])) <font></font>
<font></font>
<span class="hljs-comment">#fig = go.Figure(data=trace_list)</span><font></font>
<font></font>
steps = []<font></font>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(num_steps):<font></font>
    step = dict(<font></font>
        <span class="hljs-comment">#method = 'restyle',  </span>
        <span class="hljs-comment">#args = ['visible', [False] * len(fig.data)],</span><font></font>
        label = str(i),<font></font>
        method = <span class="hljs-string">"animate"</span>,<font></font>
        args = [[str(i)]]<font></font>
    )<font></font>
    <span class="hljs-comment">#step['args'][1][2*i] = True</span>
    <span class="hljs-comment">#step['args'][1][2*i+1] = True</span><font></font>
    steps.append(step)<font></font>
<font></font>
sliders = [dict(<font></font>
    steps = steps,<font></font>
)]<font></font>
<font></font>
fig.update_layout(updatemenus=[dict(direction=<span class="hljs-string">"left"</span>, x=<span class="hljs-number">0.5</span>, xanchor=<span class="hljs-string">"center"</span>, y=<span class="hljs-number">0</span>,<font></font>
                                    type=<span class="hljs-string">"buttons"</span>, buttons=[dict(label=<span class="hljs-string">"►"</span>, method=<span class="hljs-string">"animate"</span>, args=[<span class="hljs-literal">None</span>, {<span class="hljs-string">"fromcurrent"</span>: <span class="hljs-literal">True</span>}]),<font></font>
                                                             dict(label=<span class="hljs-string">"❚❚"</span>, method=<span class="hljs-string">"animate"</span>, args=[[<span class="hljs-literal">None</span>], {<span class="hljs-string">"frame"</span>: {<span class="hljs-string">"duration"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"redraw"</span>: <span class="hljs-literal">False</span>},
                                                                                                               <span class="hljs-string">"mode"</span>: <span class="hljs-string">"immediate"</span>,
                                                                                                               <span class="hljs-string">"transition"</span>: {<span class="hljs-string">"duration"</span>: <span class="hljs-number">0</span>}}])])],<font></font>
                  )<font></font>
<font></font>
<font></font>
fig.layout.sliders = sliders<font></font>
fig.frames = frames  <font></font>
<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
少し厄介なのは、「再生」が発生したときだけで、スライダースライダーはクリープしません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、メニューのshowactive引数で簡単に修正できます。</font><font style="vertical-align: inherit;">オフにすると、再生/一時停止ボタンから「押された」状態も削除されます。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すでに通常アニメーション化されているスライダーコード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">num_steps = len(x)<font></font>
fig = go.Figure(data=[go.Scatter(x=[x[<span class="hljs-number">0</span>]], y=[h(x)[<span class="hljs-number">0</span>]], mode=<span class="hljs-string">'lines+markers'</span>, name=<span class="hljs-string">'h(x)=sin(x)'</span>),<font></font>
                      go.Scatter(x=[x[<span class="hljs-number">0</span>]], y=[k(x)[<span class="hljs-number">0</span>]], mode=<span class="hljs-string">'lines+markers'</span>, name=<span class="hljs-string">'k(x)=cos(x)'</span>)])<font></font>
<font></font>
frames=[]<font></font>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">0</span>, len(x)):<font></font>
    frames.append(go.Frame(name=str(i),<font></font>
                           data=[go.Scatter(x=x[:i+<span class="hljs-number">1</span>], y=h(x[:i+<span class="hljs-number">1</span>]), mode=<span class="hljs-string">'lines+markers'</span>, name=<span class="hljs-string">'h(x)=sin(x)'</span>),<font></font>
                                 go.Scatter(x=x[:i+<span class="hljs-number">1</span>], y=k(x[:i+<span class="hljs-number">1</span>]), mode=<span class="hljs-string">'lines+markers'</span>, name=<span class="hljs-string">'k(x)=cos(x)'</span>)])) <font></font>
<font></font>
steps = []<font></font>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(num_steps):<font></font>
    step = dict(<font></font>
        label = str(i),<font></font>
        method = <span class="hljs-string">"animate"</span>,<font></font>
        args = [[str(i)]]<font></font>
    )<font></font>
    steps.append(step)<font></font>
<font></font>
sliders = [dict(<font></font>
    steps = steps,<font></font>
)]<font></font>
<font></font>
fig.update_layout(updatemenus=[dict(direction=<span class="hljs-string">"left"</span>,<font></font>
                                    x=<span class="hljs-number">0.5</span>,<font></font>
                                    xanchor=<span class="hljs-string">"center"</span>,<font></font>
                                    y=<span class="hljs-number">0</span>,<font></font>
                                    showactive=<span class="hljs-literal">False</span>,<font></font>
                                    type=<span class="hljs-string">"buttons"</span>, <font></font>
                                    buttons=[dict(label=<span class="hljs-string">"►"</span>, method=<span class="hljs-string">"animate"</span>, args=[<span class="hljs-literal">None</span>, {<span class="hljs-string">"fromcurrent"</span>: <span class="hljs-literal">True</span>}]),<font></font>
                                             dict(label=<span class="hljs-string">"❚❚"</span>, method=<span class="hljs-string">"animate"</span>, args=[[<span class="hljs-literal">None</span>], {<span class="hljs-string">"frame"</span>: {<span class="hljs-string">"duration"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"redraw"</span>: <span class="hljs-literal">False</span>},
                                                                                               <span class="hljs-string">"mode"</span>: <span class="hljs-string">"immediate"</span>,
                                                                                               <span class="hljs-string">"transition"</span>: {<span class="hljs-string">"duration"</span>: <span class="hljs-number">0</span>}}])])],<font></font>
                  )<font></font>
<font></font>
<font></font>
fig.layout.sliders = sliders<font></font>
fig.frames = frames  <font></font>
<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もちろん、ヒートマップデータとマーカーサイズを追加して情報密度を上げています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
カラーバーを追加したのは1回だけですが、カラーバーにいくつかの変更を加える必要がありました。</font><font style="vertical-align: inherit;">右側の列に凡例があります。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">num_steps = len(x)<font></font>
fig = go.Figure(data=[go.Scatter(x=[x[<span class="hljs-number">0</span>]], y=[h(x)[<span class="hljs-number">0</span>]], mode=<span class="hljs-string">'lines+markers'</span>, name=<span class="hljs-string">'h(x)=sin(x)'</span>,<font></font>
                                 marker=dict(color=[f(x[<span class="hljs-number">0</span>])], colorbar=dict(yanchor=<span class="hljs-string">'top'</span>, y=<span class="hljs-number">0.8</span>, title=<span class="hljs-string">"f(x)=x&lt;sup&gt;2&lt;/sup&gt;"</span>), colorscale=<span class="hljs-string">'Inferno'</span>, size=[<span class="hljs-number">50</span>*abs(h(x[<span class="hljs-number">0</span>]))])),<font></font>
                      go.Scatter(x=[x[<span class="hljs-number">0</span>]], y=[k(x)[<span class="hljs-number">0</span>]], mode=<span class="hljs-string">'lines+markers'</span>, name=<span class="hljs-string">'k(x)=cos(x)'</span>,<font></font>
                                 marker=dict(color=[f(x[<span class="hljs-number">0</span>])], colorscale=<span class="hljs-string">'Inferno'</span>, size=[<span class="hljs-number">50</span>*abs(k(x[<span class="hljs-number">0</span>]))]))])<font></font>
<font></font>
frames=[]<font></font>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">0</span>, len(x)):<font></font>
    frames.append(go.Frame(name=str(i),<font></font>
                           data=[go.Scatter(x=x[:i+<span class="hljs-number">1</span>], y=h(x[:i+<span class="hljs-number">1</span>]), mode=<span class="hljs-string">'lines+markers'</span>, name=<span class="hljs-string">'h(x)=sin(x)'</span>,<font></font>
                                            marker=dict(color=f(x[:i+<span class="hljs-number">1</span>]), colorscale=<span class="hljs-string">'Inferno'</span>, size=<span class="hljs-number">50</span>*abs(h(x[:i+<span class="hljs-number">1</span>])))),<font></font>
                                 go.Scatter(x=x[:i+<span class="hljs-number">1</span>], y=k(x[:i+<span class="hljs-number">1</span>]), mode=<span class="hljs-string">'lines+markers'</span>, name=<span class="hljs-string">'k(x)=cos(x)'</span>,<font></font>
                                            marker=dict(color=f(x[:i+<span class="hljs-number">1</span>]), colorscale=<span class="hljs-string">'Inferno'</span>, size=<span class="hljs-number">50</span>*abs(k(x[:i+<span class="hljs-number">1</span>]))))])) <font></font>
<font></font>
steps = []<font></font>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(num_steps):<font></font>
    step = dict(<font></font>
        label = str(i),<font></font>
        method = <span class="hljs-string">"animate"</span>,<font></font>
        args = [[str(i)]]<font></font>
    )<font></font>
    steps.append(step)<font></font>
<font></font>
sliders = [dict(<font></font>
    steps = steps,<font></font>
)]<font></font>
<font></font>
fig.update_layout(updatemenus=[dict(direction=<span class="hljs-string">"left"</span>,<font></font>
                                    x=<span class="hljs-number">0.5</span>,<font></font>
                                    xanchor=<span class="hljs-string">"center"</span>,<font></font>
                                    y=<span class="hljs-number">0</span>,<font></font>
                                    showactive=<span class="hljs-literal">False</span>,<font></font>
                                    type=<span class="hljs-string">"buttons"</span>, <font></font>
                                    buttons=[dict(label=<span class="hljs-string">"►"</span>, method=<span class="hljs-string">"animate"</span>, args=[<span class="hljs-literal">None</span>, {<span class="hljs-string">"fromcurrent"</span>: <span class="hljs-literal">True</span>}]),<font></font>
                                             dict(label=<span class="hljs-string">"❚❚"</span>, method=<span class="hljs-string">"animate"</span>, args=[[<span class="hljs-literal">None</span>], {<span class="hljs-string">"frame"</span>: {<span class="hljs-string">"duration"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"redraw"</span>: <span class="hljs-literal">False</span>},
                                                                                               <span class="hljs-string">"mode"</span>: <span class="hljs-string">"immediate"</span>,
                                                                                               <span class="hljs-string">"transition"</span>: {<span class="hljs-string">"duration"</span>: <span class="hljs-number">0</span>}}])])],<font></font>
                  )<font></font>
<font></font>
<font></font>
fig.layout.sliders = sliders<font></font>
fig.frames = frames  <font></font>
<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/gi/gs/ii/gigsiii3ycrmbrqaqwg5-coezbe.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スライダーパネルを少し調整するために残っています。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">グラフと軸にキャプションを追加し、スライダーの現在の値のシグネチャを増やして描画します（他の状況ではタイムラインになります）、アニメーションボタンを左に移動し、スライダーを少し絞ってそれらのスペースを解放します。</font></font></i><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Currentvalue引数-プレフィックス、スライド上の位置、フォントなど、現在のステップの署名のフォーマットを指定します</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">引数x、y、xanchor、yanchor、pad-スライダーの位置とインデントを設定し、それらの構文はボタンの構文に似ています</font></font></li>
</ul><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">num_steps = len(x)<font></font>
fig = go.Figure(data=[go.Scatter(x=[x[<span class="hljs-number">0</span>]], y=[h(x)[<span class="hljs-number">0</span>]], mode=<span class="hljs-string">'lines+markers'</span>, name=<span class="hljs-string">'h(x)=sin(x)'</span>,<font></font>
                                 marker=dict(color=[f(x[<span class="hljs-number">0</span>])], colorbar=dict(yanchor=<span class="hljs-string">'top'</span>, y=<span class="hljs-number">0.8</span>, title=<span class="hljs-string">"f(x)=x&lt;sup&gt;2&lt;/sup&gt;"</span>), colorscale=<span class="hljs-string">'Inferno'</span>, size=[<span class="hljs-number">50</span>*abs(h(x[<span class="hljs-number">0</span>]))])),<font></font>
                      go.Scatter(x=[x[<span class="hljs-number">0</span>]], y=[k(x)[<span class="hljs-number">0</span>]], mode=<span class="hljs-string">'lines+markers'</span>, name=<span class="hljs-string">'k(x)=cos(x)'</span>,<font></font>
                                 marker=dict(color=[f(x[<span class="hljs-number">0</span>])], colorscale=<span class="hljs-string">'Inferno'</span>, size=[<span class="hljs-number">50</span>*abs(k(x[<span class="hljs-number">0</span>]))]))])<font></font>
<font></font>
frames=[]<font></font>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">0</span>, len(x)):<font></font>
    frames.append(go.Frame(name=str(i),<font></font>
                           data=[go.Scatter(x=x[:i+<span class="hljs-number">1</span>], y=h(x[:i+<span class="hljs-number">1</span>]), mode=<span class="hljs-string">'lines+markers'</span>, name=<span class="hljs-string">'h(x)=sin(x)'</span>,<font></font>
                                            marker=dict(color=f(x[:i+<span class="hljs-number">1</span>]), colorscale=<span class="hljs-string">'Inferno'</span>, size=<span class="hljs-number">50</span>*abs(h(x[:i+<span class="hljs-number">1</span>])))),<font></font>
                                 go.Scatter(x=x[:i+<span class="hljs-number">1</span>], y=k(x[:i+<span class="hljs-number">1</span>]), mode=<span class="hljs-string">'lines+markers'</span>, name=<span class="hljs-string">'k(x)=cos(x)'</span>,<font></font>
                                            marker=dict(color=f(x[:i+<span class="hljs-number">1</span>]), colorscale=<span class="hljs-string">'Inferno'</span>, size=<span class="hljs-number">50</span>*abs(k(x[:i+<span class="hljs-number">1</span>]))))])) <font></font>
<font></font>
steps = []<font></font>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(num_steps):<font></font>
    step = dict(<font></font>
        label = str(i),<font></font>
        method = <span class="hljs-string">"animate"</span>,<font></font>
        args = [[str(i)]]<font></font>
    )<font></font>
    steps.append(step)<font></font>
<font></font>
sliders = [dict(<font></font>
    currentvalue = {<span class="hljs-string">"prefix"</span>: <span class="hljs-string">" №"</span>, <span class="hljs-string">"font"</span>: {<span class="hljs-string">"size"</span>: <span class="hljs-number">20</span>}},<font></font>
    len = <span class="hljs-number">0.9</span>,<font></font>
    x = <span class="hljs-number">0.1</span>,<font></font>
    pad = {<span class="hljs-string">"b"</span>: <span class="hljs-number">10</span>, <span class="hljs-string">"t"</span>: <span class="hljs-number">50</span>},<font></font>
    steps = steps,<font></font>
)]<font></font>
<font></font>
fig.update_layout(title=<span class="hljs-string">"     "</span>,<font></font>
                  xaxis_title=<span class="hljs-string">" X"</span>,<font></font>
                  yaxis_title=<span class="hljs-string">" Y"</span>,<font></font>
                  updatemenus=[dict(direction=<span class="hljs-string">"left"</span>,<font></font>
                                    pad = {<span class="hljs-string">"r"</span>: <span class="hljs-number">10</span>, <span class="hljs-string">"t"</span>: <span class="hljs-number">80</span>},<font></font>
                                    x = <span class="hljs-number">0.1</span>,<font></font>
                                    xanchor = <span class="hljs-string">"right"</span>,<font></font>
                                    y = <span class="hljs-number">0</span>,<font></font>
                                    yanchor = <span class="hljs-string">"top"</span>,<font></font>
                                    showactive=<span class="hljs-literal">False</span>,<font></font>
                                    type=<span class="hljs-string">"buttons"</span>, <font></font>
                                    buttons=[dict(label=<span class="hljs-string">"►"</span>, method=<span class="hljs-string">"animate"</span>, args=[<span class="hljs-literal">None</span>, {<span class="hljs-string">"fromcurrent"</span>: <span class="hljs-literal">True</span>}]),<font></font>
                                             dict(label=<span class="hljs-string">"❚❚"</span>, method=<span class="hljs-string">"animate"</span>, args=[[<span class="hljs-literal">None</span>], {<span class="hljs-string">"frame"</span>: {<span class="hljs-string">"duration"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"redraw"</span>: <span class="hljs-literal">False</span>},
                                                                                               <span class="hljs-string">"mode"</span>: <span class="hljs-string">"immediate"</span>,
                                                                                               <span class="hljs-string">"transition"</span>: {<span class="hljs-string">"duration"</span>: <span class="hljs-number">0</span>}}])])],<font></font>
                  )<font></font>
<font></font>
<font></font>
fig.layout.sliders = sliders<font></font>
fig.frames = frames  <font></font>
<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/hy/bn/ch/hybnchguinqe1eakm8cn1mkx6ly.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
疑問が生じます：</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">それらが役に立たないのに、なぜ非表示のグラフでオプションを作ったのですか？</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際、アニメーションも含めて必要です。</font><font style="vertical-align: inherit;">実際、異なるアニメーションスライドに異なる数のグラフを表示する場合、図を作成する段階の最初に、できるだけ多くのグラフを追加する必要があります。</font><font style="vertical-align: inherit;">それらはすべて見えないはずです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
具体的に2つの変数を設定します。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">graphs_invisible-一般に、非表示の正しいグラフと、可視性を示さない空のグラフオブジェクトの両方が含まれます</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">graphs_visible-順番に表示する必要がある正しい可視グラフが含まれています</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
初期状態では、不可視のグラフまたはダミーを表示し、各フレームで可視と不可視を組み合わせて、それらの数が一定になるようにします。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">graphs_invisible = [go.Scatter(visible = <span class="hljs-literal">False</span>, x=x, y=f(x),  name=<span class="hljs-string">'f(x)=x&lt;sup&gt;2&lt;/sup&gt;'</span>),<font></font>
                    go.Scatter(visible = <span class="hljs-literal">False</span>, x=x, y=x,  name=<span class="hljs-string">'g(x)=x'</span>),<font></font>
                    go.Scatter(visible = <span class="hljs-literal">False</span>, x=x, y=h(x), name=<span class="hljs-string">'h(x)=sin(x)'</span>),<font></font>
                    go.Scatter(visible = <span class="hljs-literal">False</span>, x=x, y=k(x), name=<span class="hljs-string">'k(x)=cos(x)'</span>)]<font></font>
graphs_visible = [go.Scatter(visible = <span class="hljs-literal">True</span>, x=x, y=f(x), name=<span class="hljs-string">'f(x)=x&lt;sup&gt;2&lt;/sup&gt;'</span>),<font></font>
                  go.Scatter(visible = <span class="hljs-literal">True</span>, x=x, y=x,  name=<span class="hljs-string">'g(x)=x'</span>),<font></font>
                  go.Scatter(visible = <span class="hljs-literal">True</span>, x=x, y=h(x), name=<span class="hljs-string">'h(x)=sin(x)'</span>),<font></font>
                  go.Scatter(visible = <span class="hljs-literal">True</span>, x=x, y=k(x), name=<span class="hljs-string">'k(x)=cos(x)'</span>)]<font></font>
fig = go.Figure(data=graphs_invisible)<font></font>
<font></font>
frames=[]<font></font>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(len(graphs_visible)+<span class="hljs-number">1</span>):<font></font>
    frames.append(go.Frame(name=str(i),<font></font>
                           data=graphs_visible[:i]+graphs_invisible[i:])) <font></font>
<font></font>
steps = []<font></font>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(len(graphs_visible)+<span class="hljs-number">1</span>):<font></font>
    step = dict(<font></font>
        label = str(i),<font></font>
        method = <span class="hljs-string">"animate"</span>,<font></font>
        args = [[str(i)]]<font></font>
    )<font></font>
    steps.append(step)<font></font>
<font></font>
sliders = [dict(<font></font>
    currentvalue = {<span class="hljs-string">"prefix"</span>: <span class="hljs-string">" : "</span>, <span class="hljs-string">"font"</span>: {<span class="hljs-string">"size"</span>: <span class="hljs-number">20</span>}},<font></font>
    len = <span class="hljs-number">0.9</span>,<font></font>
    x = <span class="hljs-number">0.1</span>,<font></font>
    pad = {<span class="hljs-string">"b"</span>: <span class="hljs-number">10</span>, <span class="hljs-string">"t"</span>: <span class="hljs-number">50</span>},<font></font>
    steps = steps,<font></font>
)]<font></font>
<font></font>
fig.update_layout(title=<span class="hljs-string">"   "</span>,<font></font>
                  xaxis_title=<span class="hljs-string">" X"</span>,<font></font>
                  yaxis_title=<span class="hljs-string">" Y"</span>,<font></font>
                  updatemenus=[dict(direction=<span class="hljs-string">"left"</span>,<font></font>
                                    pad = {<span class="hljs-string">"r"</span>: <span class="hljs-number">10</span>, <span class="hljs-string">"t"</span>: <span class="hljs-number">80</span>},<font></font>
                                    x = <span class="hljs-number">0.1</span>,<font></font>
                                    xanchor = <span class="hljs-string">"right"</span>,<font></font>
                                    y = <span class="hljs-number">0</span>,<font></font>
                                    yanchor = <span class="hljs-string">"top"</span>,<font></font>
                                    showactive=<span class="hljs-literal">False</span>,<font></font>
                                    type=<span class="hljs-string">"buttons"</span>, <font></font>
                                    buttons=[dict(label=<span class="hljs-string">"►"</span>, method=<span class="hljs-string">"animate"</span>, args=[<span class="hljs-literal">None</span>, {<span class="hljs-string">"fromcurrent"</span>: <span class="hljs-literal">True</span>}]),<font></font>
                                             dict(label=<span class="hljs-string">"❚❚"</span>, method=<span class="hljs-string">"animate"</span>, args=[[<span class="hljs-literal">None</span>], {<span class="hljs-string">"frame"</span>: {<span class="hljs-string">"duration"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"redraw"</span>: <span class="hljs-literal">False</span>},
                                                                                               <span class="hljs-string">"mode"</span>: <span class="hljs-string">"immediate"</span>,
                                                                                               <span class="hljs-string">"transition"</span>: {<span class="hljs-string">"duration"</span>: <span class="hljs-number">0</span>}}])])],<font></font>
                  )<font></font>
<font></font>
<font></font>
fig.layout.sliders = sliders<font></font>
fig.frames = frames  <font></font>
<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/tg/qc/oq/tgqcoq3crqd0laengz-5vbrydos.png"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">哲学的質問-plotly.expressがあるとなぜ私たちはそんなに苦しむのですか？</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アニメーション</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plotly.com/python/animations</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">のplotlyドキュメントは</font><font style="vertical-align: inherit;">、魅力的な例から始まります：</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plotly Expressを使用してデータのかなり複雑なアニメーションを作成するコード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword">import</span> plotly.express <span class="hljs-keyword">as</span> px<font></font>
df = px.data.gapminder()<font></font>
px.scatter(df, x=<span class="hljs-string">"gdpPercap"</span>, y=<span class="hljs-string">"lifeExp"</span>, animation_frame=<span class="hljs-string">"year"</span>, animation_group=<span class="hljs-string">"country"</span>,<font></font>
           size=<span class="hljs-string">"pop"</span>, color=<span class="hljs-string">"continent"</span>, hover_name=<span class="hljs-string">"country"</span>,<font></font>
           log_x=<span class="hljs-literal">True</span>, size_max=<span class="hljs-number">55</span>, range_x=[<span class="hljs-number">100</span>,<span class="hljs-number">100000</span>], range_y=[<span class="hljs-number">25</span>,<span class="hljs-number">90</span>])</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際、Express関数はデータフレームを入力として受け入れます（はい、通常のPandasからのもの）。データを集計する列を指定するだけです。</font><font style="vertical-align: inherit;">また、次の例のように、ごく少量のコードでヒートマップとアニメーションの両方をすぐに構築できます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/o2/jn/nm/o2jnnmubbn2dcgsw1nsib2ksee4.gif"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
答えはシンプルで複雑です。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Expressの標準的な例ではニーズを満たさない場合があります。たとえば、グラフとヒストグラムを組み合わせるなど、もう少し複雑でトリッキーなものが必要です。</font><font style="vertical-align: inherit;">手動でより柔軟になります。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このような視覚化のために、データフレーム内のデータをグループ化および集約する方法を理解することは、アニメーション/スライダーフレームの一連の画像を作成するよりも難しい場合があります。</font></font></li>
</ol><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サイトにプロットグラフを表示する</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Plotlyは、Pythonのライブラリだけでなく、JSでもあります。つまり、Jupyter Notebookで構築したグラフィックをサイトに表示できます（Pythonの場合、または事前に必要なすべてをアップロードした場合）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このレッスンの一部として、ダッシュボードまたはWebアプリケーションの開発サイクル全体を検討するのではなく、次の小さな例を検討します。</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">import</span> json
<span class="hljs-comment">#       fig</span>
graphJSON = json.dumps(fig, cls=plotly.utils.PlotlyJSONEncoder)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
graphJSONには適切なJSONがあります。すべてのグラフ、フレーム、サブストレート、ボタンなど、その構造が図のオブジェクトに対応していることに気付くのは簡単ですが、その機能については説明しません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
エッジの周りに少し追加して、このコードをファイルに追加しましょう：</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">with</span> open(<span class="hljs-string">'example.JSON'</span>, <span class="hljs-string">'w'</span>) <span class="hljs-keyword">as</span> file:<font></font>
    file.write(<span class="hljs-string">'var graphs = {};'</span>.format(graphJSON))</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして</font><font style="vertical-align: inherit;">、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">example.JSON</font></a><font style="vertical-align: inherit;">ファイルが同じディレクトリにあるときに</font><font style="vertical-align: inherit;">、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">example.html</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ページを開き</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">（</font><b><font style="vertical-align: inherit;">一部のスタイルとJSはサードパーティのサイトから取得されているため、正しく動作させるにはインターネット接続が必要です</font></b><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">
すごいでしょ？</font><font style="vertical-align: inherit;">
同時に、構造を見ると、それは非常にシンプルで、4つの重要なオブジェクトしか含まれていません（ページ上の順序が重要です）</font><font style="vertical-align: inherit;">
。組織内で作業するには、JSをローカルサーバーに配置してリンクを変更するのが簡単です）</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.plot.ly/plotly-latest.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2.チャートが表示されるブロック</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"plotly_graph"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Plotlyはデフォルトではグラフのサイズを固定しないので、このサイズで必要な場所に折りたたむことでスタイルをコンテナーに適用できることを理解することが重要です。</font><font style="vertical-align: inherit;">Plotlyは幅のすべての空き領域を占有しようとします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
真に一意のIDを使用することが重要です。これにより、グラフを埋め込むページ上の場所を見つけることができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3.グラフを説明するJSONを含むJS変数。</font><font style="vertical-align: inherit;">それを形成し、全体としてファイルに入れました。</font><font style="vertical-align: inherit;">ページコードに直接出力できます。</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"example.JSON"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4. JS関数plotlyを呼び出すと、プロットされます。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初は、グラフを表示するコンテナーのIDです。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2番目には、JSON Plotlyオブジェクトを含む変数が渡されます</font></font></li>
</ul><br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">Plotly.plot(<span class="hljs-string">'plotly_graph'</span>,graphs,{});</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次に、グラフィックの一部でコードを試してください！</font></font></b><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">円グラフ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
完全を期すために、折れ線グラフに加えて、データを視覚化する他のいくつかの方法を検討してください。</font><font style="vertical-align: inherit;">円グラフから始めましょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この実験では、2つのダイス（ダイス）を100回「投げて」、落ちたポイントの合計を書き留めます。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">dices = pd.DataFrame(np.random.randint(low=<span class="hljs-number">1</span>, high=<span class="hljs-number">7</span>, size=(<span class="hljs-number">100</span>, <span class="hljs-number">2</span>)), columns=(<span class="hljs-string">' 1'</span>, <span class="hljs-string">' 2'</span>))<font></font>
<font></font>
<font></font>
dices[<span class="hljs-string">''</span>] = dices[<span class="hljs-string">' 1'</span>] + dices[<span class="hljs-string">' 2'</span>] 
<span class="hljs-comment">#  5   </span><font></font>
display(dices.head())<font></font>
<font></font>
sum_counts = dices[<span class="hljs-string">''</span>].value_counts().sort_index()
<span class="hljs-comment">#   </span>
display(sum_counts)</code></pre><br>
<img src="https://habrastorage.org/webt/db/f0/k2/dbf0k2jv9sjbkn0vjbgpzffn2ra.png"><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
円グラフを作成するには、作成した図形にグラフを追加したのと同じ方法で追加するgo.Pieを使用します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2つの主要な属性を使用します。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">値-チャートのセクターサイズ（この場合）は、特定の金額に直接比例します</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">labels-セクターの署名、この場合は合計の値。</font><font style="vertical-align: inherit;">署名を渡さない場合、値リストの値インデックスが署名として使用されます</font></font></li>
</ul><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure()<font></font>
fig.add_trace(go.Pie(values=sum_counts, labels=sum_counts.index))<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/x3/6l/ec/x36lecc7shadjwxdqrnsqx1secq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すぐに目を引くのは、インデックスでソートされた配列を渡したものの、構築中に値で再ソートされたことです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは引数で簡単に修正できます。</font></font><code>sort = False</code><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure()<font></font>
fig.add_trace(go.Pie(values=sum_counts, labels=sum_counts.index, sort = <span class="hljs-literal">False</span>))<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/cs/qg/9o/csqg9oxqzfkroatp_mf2ehabrlm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、必要に応じて、1つ以上のセクターを「プッシュ」できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを行うには、数値のリストを受け入れるプル引数を使用します。</font><font style="vertical-align: inherit;">各数値は、セクターを円から押し出すために必要な分数です。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0-プッシュしない</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1-100％円の半径</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
値の配列と同じ長さのゼロのリストを作成します。</font><font style="vertical-align: inherit;">そして、1つの要素を0.2に増やします。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><i> ,     idxmax Pandas, ..    ,  .           ,     .</i><br>
<br>
<pre><code class="python hljs">fig = go.Figure()<font></font>
pull = [<span class="hljs-number">0</span>]*len(sum_counts)<font></font>
pull[sum_counts.tolist().index(sum_counts.max())] = <span class="hljs-number">0.2</span><font></font>
fig.add_trace(go.Pie(values=sum_counts, labels=sum_counts.index, pull=pull))<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/7u/iv/8p/7uiv8pdqaajkb2pfmc5lazmi-sa.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
従来のパイケーキが気に入らない場合は、中心部を切り取ってドーナツにするのは簡単です。</font><font style="vertical-align: inherit;">これを行うには、穴の引数を使用します。この引数には、数値（削除する必要がある半径の割合）を渡します。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0-何もカットしません</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1-100％カット、何も残さない</font></font></li>
</ul><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">したがって、0.9の値は円グラフを円グラフに変えます。</font></font></i><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure()<font></font>
pull = [<span class="hljs-number">0</span>]*len(sum_counts)<font></font>
pull[sum_counts.tolist().index(sum_counts.max())] = <span class="hljs-number">0.2</span>
fig.add_trace(go.Pie(values=sum_counts, labels=sum_counts.index, pull=pull, hole=<span class="hljs-number">0.9</span>))<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/_x/g2/c-/_xg2c-y-v5z7a7heauswyfoad-y.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ちなみに、結果の「ドーナツの穴」は、署名の理想的な場所です。これは、レイヤーの注釈属性を使用して行うことができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
多くの注釈が存在する可能性があることを忘れないでください。したがって、注釈は辞書のリストを受け入れます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注釈テキストはHTMLマークアップをサポートします（1行に収まらない不合理に長いテキストを設定して使用します）</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure()<font></font>
pull = [<span class="hljs-number">0</span>]*len(sum_counts)<font></font>
pull[sum_counts.tolist().index(sum_counts.max())] = <span class="hljs-number">0.2</span>
fig.add_trace(go.Pie(values=sum_counts, labels=sum_counts.index, pull=pull, hole=<span class="hljs-number">0.9</span>))<font></font>
<font></font>
fig.update_layout(<font></font>
    annotations=[dict(text=<span class="hljs-string">' &lt;br&gt; &lt;br&gt;2  '</span>, x=<span class="hljs-number">0.5</span>, y=<span class="hljs-number">0.5</span>, font_size=<span class="hljs-number">20</span>, showarrow=<span class="hljs-literal">False</span>)])<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/um/g2/co/umg2cowc5fljemp6umyfzzsjvja.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当然、グラフに示される通常の視覚化設計方法もここで機能します。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">題名</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">title_x</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マージン</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">legend_orientation</font></font></li>
</ul><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure()<font></font>
pull = [<span class="hljs-number">0</span>]*len(sum_counts)<font></font>
pull[sum_counts.tolist().index(sum_counts.max())] = <span class="hljs-number">0.2</span>
fig.add_trace(go.Pie(values=sum_counts, labels=sum_counts.index, pull=pull, hole=<span class="hljs-number">0.9</span>))<font></font>
<font></font>
fig.update_layout(<font></font>
    title=<span class="hljs-string">" / "</span>,<font></font>
    title_x = <span class="hljs-number">0.5</span>,<font></font>
    margin=dict(l=<span class="hljs-number">0</span>, r=<span class="hljs-number">0</span>, t=<span class="hljs-number">30</span>, b=<span class="hljs-number">0</span>),<font></font>
    legend_orientation=<span class="hljs-string">"h"</span>,<font></font>
    annotations=[dict(text=<span class="hljs-string">' &lt;br&gt; &lt;br&gt;2  '</span>, x=<span class="hljs-number">0.5</span>, y=<span class="hljs-number">0.5</span>, font_size=<span class="hljs-number">20</span>, showarrow=<span class="hljs-literal">False</span>)])<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/xu/an/1b/xuan1bedfot9wubzuiydi15kkpk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
写真の詳細を表示したい場合はどうすればよいですか？</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サンバーストまたはサンバーストチャート</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「太陽光線」図が役立ちます。円形の図に基づく階層図です。</font><font style="vertical-align: inherit;">実際、これは互いにつながった一連のリングダイアグラムであり、次のレベルのセグメントは、前のレベルの「親」のセグメントの境界内にあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、いくつかの方法で2つのサイコロを使用して8ポイントを獲得できます。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 + 6</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3 + 5</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4 + 4</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
チャートを作成するには、go.Sunburstと4つの主要な引数が必要です。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">値-グラフ上の円の比率を指定する値</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">branchvalues = "total"-この値は、親要素の値が子孫の値の合計であることを示します。</font><font style="vertical-align: inherit;">これは、各レベルで完全な円を作るために必要です。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">labels-グラフに表示されるラベルのリスト</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">parents-階層を構築するための親署名のリスト。</font><font style="vertical-align: inherit;">レベル0（親なし）の要素の場合、親は空の文字列を示します。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
はじめに、2つのレベル（すべてのイベントと金額）を取得します</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-comment"># 1- ,  </span>
labels = [<span class="hljs-string">" : "</span> + str(sum(sum_counts))]<font></font>
parents = [<span class="hljs-string">""</span>]<font></font>
values = [sum(sum_counts)]<font></font>
<font></font>
<span class="hljs-comment"># 2- , "" </span>
second_level_dict = {x:<span class="hljs-string">': '</span> + str(sum_counts[x]) + <span class="hljs-string">'&lt;br&gt;Σ = '</span> + str(x) <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> sum_counts.index}<font></font>
labels += map(<span class="hljs-keyword">lambda</span> x: second_level_dict[x], sum_counts.index)<font></font>
parents += [labels[<span class="hljs-number">0</span>]]*len(sum_counts)<font></font>
values += sum_counts.tolist()<font></font>
<font></font>
fig = go.Figure(go.Sunburst(<font></font>
    labels = labels,<font></font>
    parents = parents,<font></font>
    values=values,<font></font>
    branchvalues=<span class="hljs-string">"total"</span><font></font>
))<font></font>
<span class="hljs-comment">#fig.update_layout(margin = dict(t=0, l=0, r=0, b=0))</span><font></font>
<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/mx/10/s6/mx10s6igoplbs4xrsczd6ip8_u4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして今、私たちはサイコロの結果のペアによるグループ化とそのような「親」のペアの計算を追加します。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">もちろん、ボーンが同一の場合、3 + 5と5 + 3のペアのように、6 + 2と2 + 6は同一の結果になりますが、次の例では、コードを追加しないように、それらを異なるものと見なします。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、インデントを減らします。</font><font style="vertical-align: inherit;">署名は非常に小さいです。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-comment"># 1- ,  </span>
labels = [<span class="hljs-string">" : "</span> + str(sum(sum_counts))]<font></font>
parents = [<span class="hljs-string">""</span>]<font></font>
values = [sum(sum_counts)]<font></font>
<font></font>
<span class="hljs-comment"># 2- , ""</span>
second_level_dict = {x:<span class="hljs-string">': '</span> + str(sum_counts[x]) + <span class="hljs-string">'&lt;br&gt;Σ = '</span> + str(x) <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> sum_counts.index}<font></font>
labels += map(<span class="hljs-keyword">lambda</span> x: second_level_dict[x], sum_counts.index)<font></font>
parents += [labels[<span class="hljs-number">0</span>]]*len(sum_counts)<font></font>
values += sum_counts.tolist()<font></font>
<font></font>
<span class="hljs-comment">#  DataFrame  3  ( )</span>
third_level = dices.groupby([<span class="hljs-string">' 1'</span>, <span class="hljs-string">' 2'</span>]).count().reset_index()<font></font>
third_level.rename(columns={<span class="hljs-string">''</span>:<span class="hljs-string">'Value'</span>}, inplace=<span class="hljs-literal">True</span>)<font></font>
third_level[<span class="hljs-string">''</span>] = third_level[<span class="hljs-string">' 1'</span>] + third_level[<span class="hljs-string">' 2'</span>]<font></font>
third_level[<span class="hljs-string">'Label'</span>] = third_level[<span class="hljs-string">' 1'</span>].map(str) + <span class="hljs-string">' + '</span> + third_level[<span class="hljs-string">' 2'</span>].map(str)<font></font>
third_level[<span class="hljs-string">'Parent'</span>] = third_level[<span class="hljs-string">''</span>].map(<span class="hljs-keyword">lambda</span> x: second_level_dict[x])
<span class="hljs-comment"># 3- , "" </span>
values += third_level[<span class="hljs-string">'Value'</span>].tolist()<font></font>
parents += third_level[<span class="hljs-string">'Parent'</span>].tolist()<font></font>
labels += third_level[<span class="hljs-string">'Label'</span>].tolist()<font></font>
<font></font>
fig = go.Figure(go.Sunburst(<font></font>
    labels = labels,<font></font>
    parents = parents,<font></font>
    values=values,<font></font>
    branchvalues=<span class="hljs-string">"total"</span><font></font>
))<font></font>
fig.update_layout(margin = dict(t=<span class="hljs-number">0</span>, l=<span class="hljs-number">0</span>, r=<span class="hljs-number">0</span>, b=<span class="hljs-number">0</span>))<font></font>
<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/di/rj/up/dirjupqmovqbhlwg3fpjfn7wxxk.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">棒グラフ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
元々均一な円グラフではなく、通常の縦棒グラフも必要になる場合があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最も単純なヒストグラムは、go.Histogramを使用して作成されます。</font><font style="vertical-align: inherit;">xへの唯一の引数として、選択に関係する値のリストを渡します（Plotlyはそれらを独立して列にグループ化し、高さを計算します）。この場合、これは合計の列です。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure(data=[go.Histogram(x=dices[<span class="hljs-string">''</span>])])<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/fx/_g/gp/fx_ggp4bcthggx_nygajy66y7xi.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
何らかの理由で垂直ではなく水平のヒストグラムを作成する必要がある場合は、xをyに変更します。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure(data=[go.Histogram(y=dices[<span class="hljs-string">''</span>])])<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/oj/sg/5j/ojsg5jzpseouu5kix8i2fcnm5eo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、2つまたは3つのデータセットがあり、それらを比較したい場合はどうでしょうか。</font><font style="vertical-align: inherit;">キューブのペアの別の1100ロールを生成し、2つのヒストグラムを図に追加します。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">dices2 = pd.DataFrame(np.random.randint(low=<span class="hljs-number">1</span>, high=<span class="hljs-number">7</span>, size=(<span class="hljs-number">100</span>, <span class="hljs-number">2</span>)), columns=(<span class="hljs-string">' 1'</span>, <span class="hljs-string">' 2'</span>))<font></font>
dices2[<span class="hljs-string">''</span>] = dices2[<span class="hljs-string">' 1'</span>] + dices2[<span class="hljs-string">' 2'</span>]<font></font>
dices3 = pd.DataFrame(np.random.randint(low=<span class="hljs-number">1</span>, high=<span class="hljs-number">7</span>, size=(<span class="hljs-number">1000</span>, <span class="hljs-number">2</span>)), columns=(<span class="hljs-string">' 1'</span>, <span class="hljs-string">' 2'</span>))<font></font>
dices3[<span class="hljs-string">''</span>] = dices3[<span class="hljs-string">' 1'</span>] + dices3[<span class="hljs-string">' 2'</span>]<font></font>
<font></font>
fig = go.Figure()<font></font>
fig.add_trace(go.Histogram(x=dices[<span class="hljs-string">''</span>]))<font></font>
fig.add_trace(go.Histogram(x=dices2[<span class="hljs-string">''</span>]))<font></font>
fig.add_trace(go.Histogram(x=dices3[<span class="hljs-string">''</span>]))<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/q1/8a/py/q18apyf3mefpkv-fjh-ttinh0gc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3つのサンプルはすべて同じ分布の対象であり、明らかですが、イベントの数は非常に異なるため、ヒストグラムでは一部の列が他の列よりもはるかに大きくなっています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
画像は「正規化」されている必要があります。</font><font style="vertical-align: inherit;">histnorm引数はこれに役立ちます。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure()<font></font>
fig.add_trace(go.Histogram(x=dices[<span class="hljs-string">''</span>], histnorm=<span class="hljs-string">'probability density'</span>))<font></font>
fig.add_trace(go.Histogram(x=dices2[<span class="hljs-string">''</span>], histnorm=<span class="hljs-string">'probability density'</span>))<font></font>
fig.add_trace(go.Histogram(x=dices3[<span class="hljs-string">''</span>], histnorm=<span class="hljs-string">'probability density'</span>))<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/jq/qi/ni/jqqinis8hdwnxbalg4dqtnchq44.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以前のタイプの視覚化と同様に、ヒストグラムは次のデザインを持つことができます。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">署名グラフィック、軸ラベル</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">凡例の向きと位置。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インデント</font></font></li>
</ul><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure()<font></font>
fig.add_trace(go.Histogram(x=dices[<span class="hljs-string">''</span>], histnorm=<span class="hljs-string">'probability density'</span>, name=<span class="hljs-string">'100  v.1'</span>))<font></font>
fig.add_trace(go.Histogram(x=dices2[<span class="hljs-string">''</span>], histnorm=<span class="hljs-string">'probability density'</span>, name=<span class="hljs-string">'100  v.2'</span>))<font></font>
fig.add_trace(go.Histogram(x=dices3[<span class="hljs-string">''</span>], histnorm=<span class="hljs-string">'probability density'</span>, name=<span class="hljs-string">'1000 '</span>))<font></font>
fig.update_layout(<font></font>
    title=<span class="hljs-string">"       "</span>,<font></font>
    title_x = <span class="hljs-number">0.5</span>,<font></font>
    xaxis_title=<span class="hljs-string">" "</span>,<font></font>
    yaxis_title=<span class="hljs-string">" "</span>,<font></font>
    legend=dict(x=<span class="hljs-number">.5</span>, xanchor=<span class="hljs-string">"center"</span>, orientation=<span class="hljs-string">"h"</span>),<font></font>
    margin=dict(l=<span class="hljs-number">0</span>, r=<span class="hljs-number">0</span>, t=<span class="hljs-number">30</span>, b=<span class="hljs-number">0</span>))<font></font>
<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/rt/ax/1i/rtax1iszccqulhxfp-i05p8u4w8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もう1つの興味深いレイアウトモードは、barmode = 'overlay'です。これにより、ヒストグラムの列を重ねて描画できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ヒストグラム自体の不透明度引数と同時に使用することは理にかなっています-ヒストグラムの透明度を設定します（0〜100％）。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ただし、この場合、多数のヒストグラムは視覚的に解釈するのが難しいため、ヒストグラムを非表示にします。</font></font></i><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure()<font></font>
fig.add_trace(go.Histogram(x=dices[<span class="hljs-string">''</span>], histnorm=<span class="hljs-string">'probability density'</span>, opacity=<span class="hljs-number">0.75</span>, name=<span class="hljs-string">'100  v.1'</span>))<font></font>
fig.add_trace(go.Histogram(x=dices2[<span class="hljs-string">''</span>], histnorm=<span class="hljs-string">'probability density'</span>, opacity=<span class="hljs-number">0.75</span>, name=<span class="hljs-string">'100  v.2'</span>))
<span class="hljs-comment">#fig.add_trace(go.Histogram(x=dices3[''], histnorm='probability density', opacity=0.75, name='1000 '))</span><font></font>
fig.update_layout(<font></font>
    title=<span class="hljs-string">"       "</span>,<font></font>
    title_x = <span class="hljs-number">0.5</span>,<font></font>
    xaxis_title=<span class="hljs-string">" "</span>,<font></font>
    yaxis_title=<span class="hljs-string">" "</span>,<font></font>
    legend=dict(x=<span class="hljs-number">.5</span>, xanchor=<span class="hljs-string">"center"</span>, orientation=<span class="hljs-string">"h"</span>),<font></font>
    barmode=<span class="hljs-string">'overlay'</span>,<font></font>
    margin=dict(l=<span class="hljs-number">0</span>, r=<span class="hljs-number">0</span>, t=<span class="hljs-number">30</span>, b=<span class="hljs-number">0</span>))<font></font>
<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/ll/bm/ie/llbmie6bsthux1_n4odah-gdidi.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
確率について話している場合は、累積ヒストグラムを作成することにも意味があります。</font><font style="vertical-align: inherit;">たとえば、2つのサイコロの合計で少なくともXポイント落下する確率。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを行うには、ヒストグラム引数incremental_enabled = Trueを使用します</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure()<font></font>
fig.add_trace(go.Histogram(x=dices[<span class="hljs-string">''</span>], histnorm=<span class="hljs-string">'probability density'</span>, cumulative_enabled=<span class="hljs-literal">True</span>, name=<span class="hljs-string">'100  v.1'</span>))<font></font>
fig.add_trace(go.Histogram(x=dices2[<span class="hljs-string">''</span>], histnorm=<span class="hljs-string">'probability density'</span>, cumulative_enabled=<span class="hljs-literal">True</span>, name=<span class="hljs-string">'100  v.2'</span>))<font></font>
fig.add_trace(go.Histogram(x=dices3[<span class="hljs-string">''</span>], histnorm=<span class="hljs-string">'probability density'</span>, cumulative_enabled=<span class="hljs-literal">True</span>, name=<span class="hljs-string">'1000 '</span>))<font></font>
fig.update_layout(<font></font>
    title=<span class="hljs-string">"        "</span>,<font></font>
    title_x = <span class="hljs-number">0.5</span>,<font></font>
    xaxis_title=<span class="hljs-string">" "</span>,<font></font>
    yaxis_title=<span class="hljs-string">""</span>,<font></font>
    legend=dict(x=<span class="hljs-number">.5</span>, xanchor=<span class="hljs-string">"center"</span>, orientation=<span class="hljs-string">"h"</span>),<font></font>
    margin=dict(l=<span class="hljs-number">0</span>, r=<span class="hljs-number">0</span>, t=<span class="hljs-number">30</span>, b=<span class="hljs-number">0</span>))<font></font>
<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/nl/rj/z_/nlrjz_rzsxu1oorvcc6rlgmljly.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、1つの図で、ポイント（go.Scatter）とヒストグラム（go.Histogram）で構成されたグラフを組み合わせることができることも非常に便利です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このアプリケーションを示すために、別のディストリビューション（通常のディストリビューション）から1000個のイベントを生成してみましょう。</font><font style="vertical-align: inherit;">彼が理論的な曲線を描くのは簡単です。</font><font style="vertical-align: inherit;">このために、scipyモジュールから既製の関数を取得します。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">scipy.stats.norm.rvs-イベントを生成するため</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">scipy.stats.norm.pdf-理論的な分布関数を取得する</font></font></li>
</ul><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text">       (x)     3σ<br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">from</span> scipy.stats <span class="hljs-keyword">import</span> norm<font></font>
r = norm.rvs(size=<span class="hljs-number">1000</span>)<font></font>
<font></font>
x_norm = np.linspace(norm.ppf(<span class="hljs-number">0.01</span>), norm.ppf(<span class="hljs-number">0.99</span>), <span class="hljs-number">100</span>)<font></font>
<font></font>
fig = go.Figure()<font></font>
fig.add_trace(go.Histogram(x=r, histnorm=<span class="hljs-string">'probability density'</span>, name=<span class="hljs-string">'"" '</span>))<font></font>
fig.add_trace(go.Scatter(x=x_norm, y=norm.pdf(x_norm), name=<span class="hljs-string">'   '</span>))<font></font>
fig.update_layout(<font></font>
    title=<span class="hljs-string">"     "</span>,<font></font>
    title_x = <span class="hljs-number">0.5</span>,<font></font>
    legend=dict(x=<span class="hljs-number">.5</span>, xanchor=<span class="hljs-string">"center"</span>, orientation=<span class="hljs-string">"h"</span>),<font></font>
    margin=dict(l=<span class="hljs-number">0</span>, r=<span class="hljs-number">0</span>, t=<span class="hljs-number">30</span>, b=<span class="hljs-number">0</span>))<font></font>
<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/hj/kb/dc/hjkbdcc3vchrgake4jkadp7tryc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この例は、値が離散的でない場合に列の結合がどのように発生するかも示しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この場合、各列が高いほど、この列の幅に対応する間隔に入る値が多くなります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
つまり、必要に応じて、列の数と幅を調整できます（これらは相互に関連する2つのパラメーターです）。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オプション1-列幅の設定-xbins = {"size"：0.1}</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オプション2-列数の設定-nbinsx = 200</font></font></li>
</ul><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure()<font></font>
fig.add_trace(go.Histogram(nbinsx=<span class="hljs-number">200</span>,<font></font>
                           x=r, histnorm=<span class="hljs-string">'probability density'</span>, name=<span class="hljs-string">'"" '</span>))<font></font>
fig.add_trace(go.Scatter(x=x_norm, y=norm.pdf(x_norm), name=<span class="hljs-string">'   '</span>))<font></font>
fig.update_layout(<font></font>
    title=<span class="hljs-string">"     "</span>,<font></font>
    title_x = <span class="hljs-number">0.5</span>,<font></font>
    legend=dict(x=<span class="hljs-number">.5</span>, xanchor=<span class="hljs-string">"center"</span>, orientation=<span class="hljs-string">"h"</span>),<font></font>
    margin=dict(l=<span class="hljs-number">0</span>, r=<span class="hljs-number">0</span>, t=<span class="hljs-number">30</span>, b=<span class="hljs-number">0</span>))<font></font>
<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/wq/hq/_u/wqhq_u5rz3typ0bgmw6ptvyvjs4.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">その他の棒グラフ-棒グラフ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
データをグループ化して列の高さを計算すると、縦棒グラフを自分で生成することもできます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、go.Barクラスを使用して、列の名前とその値を2つの引数に渡します：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x-署名</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y-値</font></font></li>
</ul><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">d_grouped = dices.groupby([<span class="hljs-string">''</span>]).count()<font></font>
<font></font>
labels = d_grouped.index<font></font>
values = d_grouped[<span class="hljs-string">' 1'</span>].values<font></font>
<font></font>
fig = go.Figure(data=[go.Bar(x = labels, y = values)])<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/el/9p/tv/el9ptvi3jaa9qqbkk1f2izj3bse.png"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重要！</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
円グラフのように、そのような縦棒は、以前に調査されたヒストグラムとは異なり、そうでないものの縦棒を構築しません！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、2つのサイコロを10個しか出さない場合、考えられるすべてのケースが失敗するわけではありません。</font><font style="vertical-align: inherit;">したがって、それらは図に表示されません。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">極端な列がない穴ダイアグラムコード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">BAD_d_grouped = dices.head(<span class="hljs-number">10</span>).groupby([<span class="hljs-string">''</span>]).count()<font></font>
<font></font>
labels = BAD_d_grouped.index<font></font>
values = BAD_d_grouped[<span class="hljs-string">' 1'</span>].values<font></font>
<font></font>
fig = go.Figure(data=[go.Bar(x = labels, y = values)])<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/n1/er/c5/n1erc5gndrzwgulihszbdf95bys.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ALLを導出する必要がある場合、ゼロの列であっても、それらは独立して形成する必要があります。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">labels = tuple(range(<span class="hljs-number">2</span>,<span class="hljs-number">13</span>))<font></font>
<font></font>
BAD_d_grouped = dices.head(<span class="hljs-number">10</span>).groupby([<span class="hljs-string">''</span>]).count()<font></font>
clear = BAD_d_grouped[<span class="hljs-string">' 1'</span>].append(pd.DataFrame([<span class="hljs-number">0</span>]*len(labels), index=labels)).reset_index().drop_duplicates(<span class="hljs-string">'index'</span>).sort_values(<span class="hljs-string">'index'</span>)<font></font>
<font></font>
values = clear[<span class="hljs-number">0</span>]<font></font>
<font></font>
fig = go.Figure(data=[go.Bar(x = labels, y = values)])<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/zw/rc/fx/zwrcfxtq4cplaadwfodklwvicr4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
100スローの2セットのペアヒストグラムを作成して、ゼロがない列がない場合に備えて、両方のセットにゼロの列を追加します。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">初期データの生成に応じて、一部の場所には列が1つしかない場合や、列がまったくない場合があります。</font></font></i><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">labels = tuple(range(<span class="hljs-number">2</span>,<span class="hljs-number">13</span>))<font></font>
<font></font>
d_grouped = dices.groupby([<span class="hljs-string">''</span>]).count()<font></font>
clear = d_grouped[<span class="hljs-string">' 1'</span>].append(pd.DataFrame([<span class="hljs-number">0</span>]*len(labels), index=labels)).reset_index().drop_duplicates(<span class="hljs-string">'index'</span>).sort_values(<span class="hljs-string">'index'</span>)<font></font>
values = clear[<span class="hljs-number">0</span>]<font></font>
<font></font>
d_grouped2 = dices2.groupby([<span class="hljs-string">''</span>]).count()<font></font>
clear2 = d_grouped2[<span class="hljs-string">' 1'</span>].append(pd.DataFrame([<span class="hljs-number">0</span>]*len(labels), index=labels)).reset_index().drop_duplicates(<span class="hljs-string">'index'</span>).sort_values(<span class="hljs-string">'index'</span>)<font></font>
values2 = clear2[<span class="hljs-number">0</span>]<font></font>
<font></font>
<font></font>
fig = go.Figure()<font></font>
fig.add_trace(go.Bar(x = labels, y = values))<font></font>
fig.add_trace(go.Bar(x = labels, y = values2))<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/bi/ai/27/biai275ndr_eoufv1__fs5xab4o.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、3番目のテストセット（1000回のスロー）を導出する場合は、データを自分で正規化する必要があります。</font><font style="vertical-align: inherit;">go.Barは、ヒストグラムとは異なり、histnormのような引数はありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そうしないと、3番目のシリーズの列が他の列よりもはるかに大きく、比較できないときに、奇妙な画像が再び表示されます。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">labels = tuple(range(<span class="hljs-number">2</span>,<span class="hljs-number">13</span>))<font></font>
<font></font>
d_grouped = dices.groupby([<span class="hljs-string">''</span>]).count()<font></font>
clear = d_grouped[<span class="hljs-string">' 1'</span>].append(pd.DataFrame([<span class="hljs-number">0</span>]*len(labels), index=labels)).reset_index().drop_duplicates(<span class="hljs-string">'index'</span>).sort_values(<span class="hljs-string">'index'</span>)<font></font>
values = clear[<span class="hljs-number">0</span>] / clear[<span class="hljs-number">0</span>].sum()<font></font>
<font></font>
<font></font>
d_grouped2 = dices2.groupby([<span class="hljs-string">''</span>]).count()<font></font>
clear2 = d_grouped2[<span class="hljs-string">' 1'</span>].append(pd.DataFrame([<span class="hljs-number">0</span>]*len(labels), index=labels)).reset_index().drop_duplicates(<span class="hljs-string">'index'</span>).sort_values(<span class="hljs-string">'index'</span>)<font></font>
values2 = clear2[<span class="hljs-number">0</span>] / clear2[<span class="hljs-number">0</span>].sum()<font></font>
<font></font>
<font></font>
d_grouped3 = dices3.groupby([<span class="hljs-string">''</span>]).count()<font></font>
clear3 = d_grouped3[<span class="hljs-string">' 1'</span>].append(pd.DataFrame([<span class="hljs-number">0</span>]*len(labels), index=labels)).reset_index().drop_duplicates(<span class="hljs-string">'index'</span>).sort_values(<span class="hljs-string">'index'</span>)<font></font>
values3 = clear3[<span class="hljs-number">0</span>] / clear3[<span class="hljs-number">0</span>].sum()<font></font>
<font></font>
<font></font>
fig = go.Figure()<font></font>
fig.add_trace(go.Bar(x = labels, y = values))<font></font>
fig.add_trace(go.Bar(x = labels, y = values2))<font></font>
fig.add_trace(go.Bar(x = labels, y = values3))<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/ih/ki/oe/ihkioepzxz__g265viqhnqpjleg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、そのような図には重大な利点があります。列の高さが正である必要はありません。</font><font style="vertical-align: inherit;">これは、たとえば、期間ごとの損益チャートを作成するために使用できます。</font><font style="vertical-align: inherit;">ある値のセットから別の値のセットを減算し、数値のリスト（一部は負、一部は正、一部は0）を取得し、それを使用して作成します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これはまた、棒グラフの場合、グラフに対して行ったすべての設計方法が機能することを思い出すのに最適な機会でもあります。</font><font style="vertical-align: inherit;">この場合、ゼロレベルを赤で強調表示することが論理的です。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">labels = tuple(range(<span class="hljs-number">2</span>,<span class="hljs-number">13</span>))<font></font>
<font></font>
d_grouped = dices.groupby([<span class="hljs-string">''</span>]).count()<font></font>
clear = d_grouped[<span class="hljs-string">' 1'</span>].append(pd.DataFrame([<span class="hljs-number">0</span>]*len(labels), index=labels)).reset_index().drop_duplicates(<span class="hljs-string">'index'</span>).sort_values(<span class="hljs-string">'index'</span>)<font></font>
values = clear[<span class="hljs-number">0</span>]<font></font>
<font></font>
<font></font>
d_grouped2 = dices2.groupby([<span class="hljs-string">''</span>]).count()<font></font>
clear2 = d_grouped2[<span class="hljs-string">' 1'</span>].append(pd.DataFrame([<span class="hljs-number">0</span>]*len(labels), index=labels)).reset_index().drop_duplicates(<span class="hljs-string">'index'</span>).sort_values(<span class="hljs-string">'index'</span>)<font></font>
values2 = clear2[<span class="hljs-number">0</span>]<font></font>
<font></font>
<font></font>
<font></font>
fig = go.Figure()<font></font>
fig.add_trace(go.Bar(x = labels, y = values - values2))<font></font>
fig.update_yaxes(zeroline=<span class="hljs-literal">True</span>, zerolinewidth=<span class="hljs-number">3</span>, zerolinecolor=<span class="hljs-string">'red'</span>)<font></font>
fig.update_layout(legend_orientation=<span class="hljs-string">"h"</span>,<font></font>
                  legend=dict(x=<span class="hljs-number">.5</span>, xanchor=<span class="hljs-string">"center"</span>),<font></font>
                  title=<span class="hljs-string">" ,      &lt;br&gt;       100    ?"</span>,<font></font>
                  xaxis_title=<span class="hljs-string">" "</span>,<font></font>
                  yaxis_title=<span class="hljs-string">"   "</span>,<font></font>
                  margin=dict(l=<span class="hljs-number">0</span>, r=<span class="hljs-number">0</span>, t=<span class="hljs-number">50</span>, b=<span class="hljs-number">0</span>))<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/ph/mo/9f/phmo9f8fa8mjoh0oa_ziqbhr4rk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
列の上に直接キャプションを表示することもできます。</font><font style="vertical-align: inherit;">これには、いくつかの議論が役立ちます。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テキスト-ここでは、表示する必要のある値のリストを渡します（任意の行を事前に作成できます）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">textposition-テキストを表示する方法：</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'auto'-Plotly selfの例のソリューション</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'外側'-外、棒グラフの場合、</font><font style="vertical-align: inherit;">高さが正</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列の</font><b><font style="vertical-align: inherit;">上、</font></b><font style="vertical-align: inherit;">高さが負の列の</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下</font></font></b><font style="vertical-align: inherit;"></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">長方形の内側（長方形の高さ= 0の場合、碑文は表示されません）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">等</font></font></li>
</ul><br>
</li>
</ul><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">labels = tuple(range(<span class="hljs-number">2</span>,<span class="hljs-number">13</span>))<font></font>
<font></font>
d_grouped = dices.groupby([<span class="hljs-string">''</span>]).count()<font></font>
clear = d_grouped[<span class="hljs-string">' 1'</span>].append(pd.DataFrame([<span class="hljs-number">0</span>]*len(labels), index=labels)).reset_index().drop_duplicates(<span class="hljs-string">'index'</span>).sort_values(<span class="hljs-string">'index'</span>)<font></font>
values = clear[<span class="hljs-number">0</span>]<font></font>
<font></font>
<font></font>
d_grouped2 = dices2.groupby([<span class="hljs-string">''</span>]).count()<font></font>
clear2 = d_grouped2[<span class="hljs-string">' 1'</span>].append(pd.DataFrame([<span class="hljs-number">0</span>]*len(labels), index=labels)).reset_index().drop_duplicates(<span class="hljs-string">'index'</span>).sort_values(<span class="hljs-string">'index'</span>)<font></font>
values2 = clear2[<span class="hljs-number">0</span>]<font></font>
<font></font>
<font></font>
<font></font>
fig = go.Figure()<font></font>
fig.add_trace(go.Bar(x = labels, y = values - values2, text=values - values2, textposition=<span class="hljs-string">'outside'</span>))<font></font>
fig.update_yaxes(zeroline=<span class="hljs-literal">True</span>, zerolinewidth=<span class="hljs-number">3</span>, zerolinecolor=<span class="hljs-string">'red'</span>)<font></font>
fig.update_layout(legend_orientation=<span class="hljs-string">"h"</span>,<font></font>
                  legend=dict(x=<span class="hljs-number">.5</span>, xanchor=<span class="hljs-string">"center"</span>),<font></font>
                  title=<span class="hljs-string">" ,      &lt;br&gt;       100    ?"</span>,<font></font>
                  xaxis_title=<span class="hljs-string">" "</span>,<font></font>
                  yaxis_title=<span class="hljs-string">"   "</span>,<font></font>
                  margin=dict(l=<span class="hljs-number">0</span>, r=<span class="hljs-number">0</span>, t=<span class="hljs-number">50</span>, b=<span class="hljs-number">0</span>))<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/0y/ds/ej/0ydsejpo2uwuvbqey86on5fy37q.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、横の列ではなく横の縞を描画したい場合はどうでしょうか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを行うのは簡単です。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">引数の向きを追加= 'h'</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データと署名のxとyを入れ替えます（軸ラベル、中心線などを指定する場所はもちろん）。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、そのような「</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">トルネードダイアグラム</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」</font><font style="vertical-align: inherit;">を得ました</font><font style="vertical-align: inherit;">（</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この方法は、たとえば、列ラベルが長すぎて下から読み取るのに不便な場合にも適しています</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">labels = tuple(range(<span class="hljs-number">2</span>,<span class="hljs-number">13</span>))<font></font>
<font></font>
d_grouped = dices.groupby([<span class="hljs-string">''</span>]).count()<font></font>
clear = d_grouped[<span class="hljs-string">' 1'</span>].append(pd.DataFrame([<span class="hljs-number">0</span>]*len(labels), index=labels)).reset_index().drop_duplicates(<span class="hljs-string">'index'</span>).sort_values(<span class="hljs-string">'index'</span>)<font></font>
values = clear[<span class="hljs-number">0</span>]<font></font>
<font></font>
<font></font>
d_grouped2 = dices2.groupby([<span class="hljs-string">''</span>]).count()<font></font>
clear2 = d_grouped2[<span class="hljs-string">' 1'</span>].append(pd.DataFrame([<span class="hljs-number">0</span>]*len(labels), index=labels)).reset_index().drop_duplicates(<span class="hljs-string">'index'</span>).sort_values(<span class="hljs-string">'index'</span>)<font></font>
values2 = clear2[<span class="hljs-number">0</span>]<font></font>
<font></font>
<font></font>
<font></font>
fig = go.Figure()<font></font>
fig.add_trace(go.Bar(y = labels, x = values - values2, orientation=<span class="hljs-string">'h'</span>, text=values - values2, textposition=<span class="hljs-string">'outside'</span>))<font></font>
fig.update_xaxes(zeroline=<span class="hljs-literal">True</span>, zerolinewidth=<span class="hljs-number">3</span>, zerolinecolor=<span class="hljs-string">'red'</span>)<font></font>
fig.update_layout(legend_orientation=<span class="hljs-string">"h"</span>,<font></font>
                  legend=dict(x=<span class="hljs-number">.5</span>, xanchor=<span class="hljs-string">"center"</span>),<font></font>
                  title=<span class="hljs-string">" ,      &lt;br&gt;       100    ?"</span>,<font></font>
                  yaxis_title=<span class="hljs-string">" "</span>,<font></font>
                  xaxis_title=<span class="hljs-string">"   "</span>,<font></font>
                  margin=dict(l=<span class="hljs-number">0</span>, r=<span class="hljs-number">0</span>, t=<span class="hljs-number">50</span>, b=<span class="hljs-number">0</span>))<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/px/gw/8p/pxgw8pydhm81jd-is3c3phanpb4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、2つのデータセットのヒストグラムを表示する場合、レイヤーには便利な引数があります-barmode = 'stack'。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
列を組み合わせて共通の列にすることができます。</font><font style="vertical-align: inherit;">これは、データを一連の実験として表示する場合、つまり </font><font style="vertical-align: inherit;">サイコロを100回投げ、さらに100回投げ、最後に何が起こったのか、何が同じ結果になったのかを調べます。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">labels = tuple(range(<span class="hljs-number">2</span>,<span class="hljs-number">13</span>))<font></font>
<font></font>
d_grouped = dices.groupby([<span class="hljs-string">''</span>]).count()<font></font>
clear = d_grouped[<span class="hljs-string">' 1'</span>].append(pd.DataFrame([<span class="hljs-number">0</span>]*len(labels), index=labels)).reset_index().drop_duplicates(<span class="hljs-string">'index'</span>).sort_values(<span class="hljs-string">'index'</span>)<font></font>
values = clear[<span class="hljs-number">0</span>]<font></font>
<font></font>
<font></font>
d_grouped2 = dices2.groupby([<span class="hljs-string">''</span>]).count()<font></font>
clear2 = d_grouped2[<span class="hljs-string">' 1'</span>].append(pd.DataFrame([<span class="hljs-number">0</span>]*len(labels), index=labels)).reset_index().drop_duplicates(<span class="hljs-string">'index'</span>).sort_values(<span class="hljs-string">'index'</span>)<font></font>
values2 = clear2[<span class="hljs-number">0</span>]<font></font>
<font></font>
<font></font>
fig = go.Figure()<font></font>
fig.add_trace(go.Bar(x = labels, y = values))<font></font>
fig.add_trace(go.Bar(x = labels, y = values2))<font></font>
fig.update_layout(barmode=<span class="hljs-string">'stack'</span>)<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/zl/do/c7/zldoc7jrsw42wliq_3nq-y-alpu.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">口ひげのあるボックス（ボックスプロット）</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、より複雑で有益なツールが必要な場合はどうでしょうか。</font><font style="vertical-align: inherit;">例は、範囲グラフまたは「口ひげボックス」（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リンク</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
例として、他のサイコロのセットのロールで100イベントのセットを作成します。</font><font style="vertical-align: inherit;">今回は、3つの4面のボーン（3d4）です。</font><font style="vertical-align: inherit;">これは、2d6と3d4のダメージのある2つのゲームの剣を比較したものですが、2番目の剣の方が効果的であることは明らかです（散布図2-12と散布図3-12）。</font><font style="vertical-align: inherit;">このデータから「引き出す」ことができるこの情報はすべてありますか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もちろん、そうではありません。中心傾向の中央値（中央値または平均値）も異なるためです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
口ひげのあるボックスを作成するには、go.Boxクラスを使用します。</font><font style="vertical-align: inherit;">データ（「合計」の配列全体）は、単一の引数-yで渡されます。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">dices4 = pd.DataFrame(np.random.randint(low=<span class="hljs-number">1</span>, high=<span class="hljs-number">5</span>, size=(<span class="hljs-number">100</span>, <span class="hljs-number">3</span>)), columns=(<span class="hljs-string">' 1'</span>, <span class="hljs-string">' 2'</span>, <span class="hljs-string">' 4'</span>))<font></font>
dices4[<span class="hljs-string">''</span>] = dices4[<span class="hljs-string">' 1'</span>] + dices4[<span class="hljs-string">' 2'</span>] + dices4[<span class="hljs-string">' 4'</span>]<font></font>
<font></font>
fig = go.Figure()<font></font>
fig.add_trace(go.Box(y=dices[<span class="hljs-string">''</span>]))<font></font>
fig.add_trace(go.Box(y=dices4[<span class="hljs-string">''</span>]))<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/vn/rp/0f/vnrp0fxlevgv04fkbgt9xp7mkqi.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
誰が誰であるかは明らかではありません。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">まあ、または比較的明確</font></font></b>
                        <div class="spoiler_text"><i>. ..   random,         ,      ,  ,               :</i><br>
<br>
<img src="https://habrastorage.org/webt/q6/kj/va/q6kjva_tuw3jkyrk7gqbw9pvnow.png"><br>
<br>
<i> ,  «»     2-12, ,    2d6.  ,      «»  ,    !   ,  100      ,    3   .       . ,          3d4       25%  —      . .. «  »              .</i><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、他の図と同様に、ここで署名を指定できます。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure()<font></font>
fig.add_trace(go.Box(y=dices[<span class="hljs-string">''</span>], name=<span class="hljs-string">'2d6'</span>))<font></font>
fig.add_trace(go.Box(y=dices4[<span class="hljs-string">''</span>], name=<span class="hljs-string">'3d4'</span>))<font></font>
fig.update_layout(title=<span class="hljs-string">"   100   "</span>,<font></font>
                  xaxis_title=<span class="hljs-string">" "</span>,<font></font>
                  yaxis_title=<span class="hljs-string">" "</span>)<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/we/si/lh/wesilhyeiv1xecnq525r9dxws6a.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
垂直ボックスがあまり視覚的でない場合（またはキャプションを下から読み取るのが難しい場合）は、通常の棒グラフの場合と同じように「横に」配置できます。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure()<font></font>
fig.add_trace(go.Box(x=dices[<span class="hljs-string">''</span>], name=<span class="hljs-string">'2d6'</span>))<font></font>
fig.add_trace(go.Box(x=dices4[<span class="hljs-string">''</span>], name=<span class="hljs-string">'3d4'</span>))<font></font>
fig.update_layout(title=<span class="hljs-string">"   100   "</span>,<font></font>
                  yaxis_title=<span class="hljs-string">" "</span>,<font></font>
                  xaxis_title=<span class="hljs-string">" "</span>)<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/2q/_i/yu/2q_iyuqrwjlwzsjanotbcbb8wvy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
口ひげのあるボックスごとに、分布を形成する点群も表示すると便利な場合があります。</font><font style="vertical-align: inherit;">これは、引数boxpoints = 'all'で簡単に実行できます</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure()<font></font>
fig.add_trace(go.Box(x=dices[<span class="hljs-string">''</span>], name=<span class="hljs-string">'2d6'</span>, boxpoints=<span class="hljs-string">'all'</span>))<font></font>
fig.add_trace(go.Box(x=dices4[<span class="hljs-string">''</span>], name=<span class="hljs-string">'3d4'</span>, boxpoints=<span class="hljs-string">'all'</span>))<font></font>
fig.update_layout(title=<span class="hljs-string">"   100   "</span>,<font></font>
                  yaxis_title=<span class="hljs-string">" "</span>,<font></font>
                  xaxis_title=<span class="hljs-string">"C "</span>)<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/br/uj/pq/brujpqegmoo9f4dgmchrtjwudt4.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">地理マップ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Plotlyは非常に多くの異なるタイプの視覚化をサポートしています。1つのレビューでそれらすべてをカバーすることは非常に困難です（そして、一般原則は以前に示したものと同様であるため、それは無意味</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
です</font><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">私の意見では最も美しい「グラフ」の1つだけを示すことは結局有用ですScattermapbox-地理マップ。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを行うには、ロシア連邦の1117の和解とその座標をCSVで取得します（ファイルは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/hflabs/city/blob/master/city.csvに</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基づいて作成され</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ました</font></a><font style="vertical-align: inherit;">）</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">-'https://raw.githubusercontent.com/hflabs/city/master</font></a><font style="vertical-align: inherit;"> /city.csv。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
go.Scattermapboxクラスと2つの属性を使用します。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">緯度（緯度）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lon（経度）</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
OSMカードも接続する必要があります。</font><font style="vertical-align: inherit;">Scattermapboxは、さまざまなタイプのカードで機能します。</font></font><br>
<br>
<pre><code class="python hljs">fig.update_layout(mapbox_style=<span class="hljs-string">"open-street-map"</span>)</code></pre><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">cities = pd.read_csv(<span class="hljs-string">'https://raw.githubusercontent.com/hflabs/city/master/city.csv'</span>)<font></font>
fig = go.Figure(go.Scattermapbox(lat=cities[<span class="hljs-string">'geo_lat'</span>], lon=cities[<span class="hljs-string">'geo_lon'</span>]))<font></font>
fig.update_layout(mapbox_style=<span class="hljs-string">"open-street-map"</span>)<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/a5/tq/_9/a5tq_9-wmq6u0sisvmdqvsqz_ac.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どういうわけか曲がりましたね？</font><font style="vertical-align: inherit;">地図の中心を移動して、故郷の首都（または、読者が別の故郷を持っている可能性があるため、これらの行の作者の祖国の首都）に当たるようにします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを行うには、go.layout.mapbox.Centerオブジェクトまたは2つの引数を持つ通常の辞書が必要です。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">緯度</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lon</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このオブジェクト/辞書をmapbox内の辞書の中央引数の値として渡します。</font></font><br>
<br>
<pre><code class="python hljs">fig.update_layout(<font></font>
    mapbox=dict(<font></font>
        center=dict(<font></font>
            lat=...,<font></font>
            lon=...<font></font>
        )<font></font>
    )<font></font>
)</code></pre><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure(go.Scattermapbox(lat=cities[<span class="hljs-string">'geo_lat'</span>], lon=cities[<span class="hljs-string">'geo_lon'</span>]))<font></font>
capital = cities[cities[<span class="hljs-string">'region'</span>]==<span class="hljs-string">''</span>]<font></font>
map_center = go.layout.mapbox.Center(lat=capital[<span class="hljs-string">'geo_lat'</span>].values[<span class="hljs-number">0</span>], lon=capital[<span class="hljs-string">'geo_lon'</span>].values[<span class="hljs-number">0</span>])
<span class="hljs-comment">#    </span>
<span class="hljs-comment">#map_center =                   dict(lat=capital['geo_lat'].values[0], lon=capital['geo_lon'].values[0])</span><font></font>
<font></font>
fig.update_layout(mapbox_style=<span class="hljs-string">"open-street-map"</span>, mapbox=dict(center=map_center))<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/ff/dv/uo/ffdvuomukii941tj0iv8k-x_bpg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
悪くはありませんが、縮尺は小さいです（実際、世界地図が表示されており、土地の1/6がすべての有効な場所を占めていません）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
役立つ情報を損なうことなく、画像を少し拡大できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを行うには、引数zoom = 2を使用します</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure(go.Scattermapbox(lat=cities[<span class="hljs-string">'geo_lat'</span>], lon=cities[<span class="hljs-string">'geo_lon'</span>]))<font></font>
capital = cities[cities[<span class="hljs-string">'region'</span>]==<span class="hljs-string">''</span>]<font></font>
map_center = go.layout.mapbox.Center(lat=capital[<span class="hljs-string">'geo_lat'</span>].values[<span class="hljs-number">0</span>], lon=capital[<span class="hljs-string">'geo_lon'</span>].values[<span class="hljs-number">0</span>])<font></font>
fig.update_layout(mapbox_style=<span class="hljs-string">"open-street-map"</span>,<font></font>
                  mapbox=dict(center=map_center, zoom=<span class="hljs-number">2</span>))<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/78/hu/d8/78hud8s_jkybw-itg8ixwwhixk0.png"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">悲しいかな、地図上にデータのないヨーロッパが多すぎてロシア極東が少なすぎるので、この場合は国の幾何学的中心に焦点を合わせる価値があります（非常に「およそ」計算してみましょう）。</font></font></i><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure(go.Scattermapbox(lat=cities[<span class="hljs-string">'geo_lat'</span>], lon=cities[<span class="hljs-string">'geo_lon'</span>]))<font></font>
<font></font>
map_center = go.layout.mapbox.Center(lat=(cities[<span class="hljs-string">'geo_lat'</span>].max()+cities[<span class="hljs-string">'geo_lat'</span>].min())/<span class="hljs-number">2</span>, <font></font>
                                     lon=(cities[<span class="hljs-string">'geo_lon'</span>].max()+cities[<span class="hljs-string">'geo_lon'</span>].min())/<span class="hljs-number">2</span>)<font></font>
fig.update_layout(mapbox_style=<span class="hljs-string">"open-street-map"</span>,<font></font>
                  mapbox=dict(center=map_center, zoom=<span class="hljs-number">2</span>))<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/ec/zq/zh/eczqzhteu9g5wtgcpzqg5w64uoe.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
市の署名を追加しましょう。</font><font style="vertical-align: inherit;">これを行うには、テキスト引数を使用します。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><i> ,      (  ) -    city,         address.   ,  ,   .</i><br>
<br>
<pre><code class="python hljs">cities.loc[cities[<span class="hljs-string">'city'</span>].isna(), <span class="hljs-string">'city'</span>] = cities.loc[cities[<span class="hljs-string">'city'</span>].isna(), <span class="hljs-string">'address'</span>]<font></font>
<font></font>
fig = go.Figure(go.Scattermapbox(lat=cities[<span class="hljs-string">'geo_lat'</span>], lon=cities[<span class="hljs-string">'geo_lon'</span>], text=cities[<span class="hljs-string">'city'</span>]))<font></font>
map_center = go.layout.mapbox.Center(lat=(cities[<span class="hljs-string">'geo_lat'</span>].max()+cities[<span class="hljs-string">'geo_lat'</span>].min())/<span class="hljs-number">2</span>, <font></font>
                                     lon=(cities[<span class="hljs-string">'geo_lon'</span>].max()+cities[<span class="hljs-string">'geo_lon'</span>].min())/<span class="hljs-number">2</span>)<font></font>
fig.update_layout(mapbox_style=<span class="hljs-string">"open-street-map"</span>,<font></font>
                  mapbox=dict(center=map_center, zoom=<span class="hljs-number">2</span>))<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/ff/zb/fs/ffzbfsvsfn4cdiaacryu9w6mqri.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
従来のグラフの情報密度をどのように高めたかを思い出してください。</font><font style="vertical-align: inherit;">ここでは、たとえば母集団からマーカーのサイズを設定することもできます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
考慮すべき点が2つあります。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データがポイ捨てされています。</font><font style="vertical-align: inherit;">一部の都市の人口は96の形をしています[3]。</font><font style="vertical-align: inherit;">したがって、母集団のある列は数値ではなく、このガベージをゼロにリセットするか、ある種の読み取り可能なフォームに導く関数が必要です。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マーカーのサイズはピクセル単位で設定されます。</font><font style="vertical-align: inherit;">そして1500万ピクセルは直径が大きすぎます。</font><font style="vertical-align: inherit;">したがって、対数などの式を考え出すのが妥当です。</font></font></li>
</ul><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">to_int_size</span>(<span class="hljs-params">value</span>):</span>
    <span class="hljs-keyword">try</span>:
        <span class="hljs-keyword">return</span> np.log10(int(value))
    <span class="hljs-keyword">except</span>:
        <span class="hljs-keyword">return</span> np.log10(int(value.split(<span class="hljs-string">'['</span>)[<span class="hljs-number">0</span>]))<font></font>
<font></font>
fig = go.Figure(go.Scattermapbox(lat=cities[<span class="hljs-string">'geo_lat'</span>], <font></font>
                                 lon=cities[<span class="hljs-string">'geo_lon'</span>], <font></font>
                                 text=cities[<span class="hljs-string">'city'</span>],<font></font>
                                 marker=dict(size=cities[<span class="hljs-string">'population'</span>].map(to_int_size))))<font></font>
map_center = go.layout.mapbox.Center(lat=(cities[<span class="hljs-string">'geo_lat'</span>].max()+cities[<span class="hljs-string">'geo_lat'</span>].min())/<span class="hljs-number">2</span>, <font></font>
                                     lon=(cities[<span class="hljs-string">'geo_lon'</span>].max()+cities[<span class="hljs-string">'geo_lon'</span>].min())/<span class="hljs-number">2</span>)<font></font>
fig.update_layout(mapbox_style=<span class="hljs-string">"open-street-map"</span>,<font></font>
                  mapbox=dict(center=map_center, zoom=<span class="hljs-number">2</span>))<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/qy/gx/ev/qygxevfjkt2l84ekdpr-qo71b38.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
色分けを追加します。</font><font style="vertical-align: inherit;">これには、創設年のデータを使用します。</font><font style="vertical-align: inherit;">なぜなら </font><font style="vertical-align: inherit;">すべての都市で確実に知られているわけではありません（世紀が示されている場合もあれば、アラビア数字ではなくローマ字で示されている場合もあります）。年を処理するために独自の関数も作成する必要があります。そのようなすべての都市。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">たとえば、np.NaNを返す場合、ヒートマップを作成するときに、これらの値は0と同等と見なされ、そのような和解は国内で最も古いものの1つと見なされます）</font></font></i><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">to_int_year</span>(<span class="hljs-params">value</span>):</span>
    <span class="hljs-keyword">try</span>:
        <span class="hljs-keyword">return</span> int(value)
    <span class="hljs-keyword">except</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span><font></font>
<font></font>
cities[<span class="hljs-string">'foundation_year'</span>] = cities[<span class="hljs-string">'foundation_year'</span>].map(to_int_year)<font></font>
cities = cities[[<span class="hljs-string">'region'</span>, <span class="hljs-string">'city'</span>, <span class="hljs-string">'geo_lat'</span>, <span class="hljs-string">'geo_lon'</span>, <span class="hljs-string">'foundation_year'</span>, <span class="hljs-string">'population'</span>]].dropna()<font></font>
<font></font>
fig = go.Figure(go.Scattermapbox(lat=cities[<span class="hljs-string">'geo_lat'</span>], <font></font>
                                 lon=cities[<span class="hljs-string">'geo_lon'</span>], <font></font>
                                 text=cities[<span class="hljs-string">'city'</span>],<font></font>
                                 marker=dict(colorbar=dict(title=<span class="hljs-string">" "</span>),<font></font>
                                             color=cities[<span class="hljs-string">'foundation_year'</span>],<font></font>
                                             size=cities[<span class="hljs-string">'population'</span>].map(to_int_size))))<font></font>
map_center = go.layout.mapbox.Center(lat=(cities[<span class="hljs-string">'geo_lat'</span>].max()+cities[<span class="hljs-string">'geo_lat'</span>].min())/<span class="hljs-number">2</span>, <font></font>
                                     lon=(cities[<span class="hljs-string">'geo_lon'</span>].max()+cities[<span class="hljs-string">'geo_lon'</span>].min())/<span class="hljs-number">2</span>)<font></font>
fig.update_layout(mapbox_style=<span class="hljs-string">"open-street-map"</span>,<font></font>
                  mapbox=dict(center=map_center, zoom=<span class="hljs-number">2</span>))<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/qg/ji/ru/qgjirujyailqbji3jzyowiqk9so.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、線を引きたい場合はどうでしょうか？</font><font style="vertical-align: inherit;">問題ない！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
モスクワとサンクトペテルブルクの2つのポイントのみが含まれる既存の画像に新しいチャートを追加します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
新しい属性mode =“ lines”が必要になります（これには、他の値（たとえば、「markers + lines」など）が使用可能です）が既に都市ラベルを表示しているため、重複させたくありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この新しいチャートにカーソルを合わせると、情報は表示されません。そのため、主要なポイントを指す効果を妨げることはありません。</font><font style="vertical-align: inherit;">hoverinfo = 'スキップ'</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure(go.Scattermapbox(lat=cities[<span class="hljs-string">'geo_lat'</span>], <font></font>
                                 lon=cities[<span class="hljs-string">'geo_lon'</span>], <font></font>
                                 text=cities[<span class="hljs-string">'city'</span>],<font></font>
                                 marker=dict(colorbar=dict(title=<span class="hljs-string">" "</span>),<font></font>
                                             color=cities[<span class="hljs-string">'foundation_year'</span>].map(to_int_year),<font></font>
                                             size=cities[<span class="hljs-string">'population'</span>].map(to_int_size))))<font></font>
fig.add_trace(go.Scattermapbox(mode = <span class="hljs-string">"lines"</span>,<font></font>
                               hoverinfo=<span class="hljs-string">'skip'</span>,<font></font>
                               lat=cities[cities[<span class="hljs-string">'region'</span>].isin([<span class="hljs-string">'-'</span>, <span class="hljs-string">''</span>])][<span class="hljs-string">'geo_lat'</span>],<font></font>
                               lon=cities[cities[<span class="hljs-string">'region'</span>].isin([<span class="hljs-string">'-'</span>, <span class="hljs-string">''</span>])][<span class="hljs-string">'geo_lon'</span>]))    <font></font>
<font></font>
map_center = go.layout.mapbox.Center(lat=(cities[<span class="hljs-string">'geo_lat'</span>].max()+cities[<span class="hljs-string">'geo_lat'</span>].min())/<span class="hljs-number">2</span>, <font></font>
                                     lon=(cities[<span class="hljs-string">'geo_lon'</span>].max()+cities[<span class="hljs-string">'geo_lon'</span>].min())/<span class="hljs-number">2</span>)<font></font>
fig.update_layout(mapbox_style=<span class="hljs-string">"open-street-map"</span>,<font></font>
                  mapbox=dict(center=map_center, zoom=<span class="hljs-number">2</span>))<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/8y/4y/fl/8y4yfl9uhzbhy8q_rzt2t1qdoe8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ああ、ヒートマップのストリップが凡例と重なっているようです。</font><font style="vertical-align: inherit;">さらに、ポイントの都市とモスクワとサンクトペテルブルグの間の線の凡例が個別に表示されるようになりました。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">凡例を水平モードに切り替えますlegend_orientation = "h"（レイヤー設定）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">伝説を「グループ化」します。</font><font style="vertical-align: inherit;">これを行うには、各グループグラフにlegendgroup =“ group”引数を追加します（同じグループのメンバーに対して同じであれば、任意の線を使用できます）。</font></font></li>
</ol><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure(go.Scattermapbox(legendgroup=<span class="hljs-string">"group"</span>,<font></font>
                                 lat=cities[<span class="hljs-string">'geo_lat'</span>], <font></font>
                                 lon=cities[<span class="hljs-string">'geo_lon'</span>], <font></font>
                                 text=cities[<span class="hljs-string">'city'</span>],<font></font>
                                 marker=dict(colorbar=dict(title=<span class="hljs-string">" "</span>),<font></font>
                                             color=cities[<span class="hljs-string">'foundation_year'</span>].map(to_int_year),<font></font>
                                             size=cities[<span class="hljs-string">'population'</span>].map(to_int_size))))<font></font>
fig.add_trace(go.Scattermapbox(legendgroup=<span class="hljs-string">"group"</span>,<font></font>
                               mode = <span class="hljs-string">"lines"</span>,<font></font>
                               hoverinfo=<span class="hljs-string">'skip'</span>,<font></font>
                               lat=cities[cities[<span class="hljs-string">'region'</span>].isin([<span class="hljs-string">'-'</span>, <span class="hljs-string">''</span>])][<span class="hljs-string">'geo_lat'</span>],<font></font>
                               lon=cities[cities[<span class="hljs-string">'region'</span>].isin([<span class="hljs-string">'-'</span>, <span class="hljs-string">''</span>])][<span class="hljs-string">'geo_lon'</span>]))    <font></font>
<font></font>
map_center = go.layout.mapbox.Center(lat=(cities[<span class="hljs-string">'geo_lat'</span>].max()+cities[<span class="hljs-string">'geo_lat'</span>].min())/<span class="hljs-number">2</span>, <font></font>
                                     lon=(cities[<span class="hljs-string">'geo_lon'</span>].max()+cities[<span class="hljs-string">'geo_lon'</span>].min())/<span class="hljs-number">2</span>)<font></font>
fig.update_layout(legend_orientation=<span class="hljs-string">"h"</span>,<font></font>
                  mapbox_style=<span class="hljs-string">"open-street-map"</span>,<font></font>
                  mapbox=dict(center=map_center, zoom=<span class="hljs-number">2</span>))<font></font>
<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/ng/tw/rx/ngtwrxgsty-kwez6usnvqy5anok.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すばらしいです。今、彼らは一緒に電源を入れたり切ったりします。</font><font style="vertical-align: inherit;">凡例から「余分な」要素（都市の行）を削除しましょうshowlegend = False </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、都市の凡例に署名します。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">fig = go.Figure(go.Scattermapbox(legendgroup=<span class="hljs-string">"group"</span>,<font></font>
                                 name=<span class="hljs-string">' '</span>,<font></font>
                                 lat=cities[<span class="hljs-string">'geo_lat'</span>], <font></font>
                                 lon=cities[<span class="hljs-string">'geo_lon'</span>], <font></font>
                                 text=cities[<span class="hljs-string">'city'</span>],<font></font>
                                 marker=dict(colorbar=dict(title=<span class="hljs-string">" "</span>),<font></font>
                                             color=cities[<span class="hljs-string">'foundation_year'</span>].map(to_int_year),<font></font>
                                             size=cities[<span class="hljs-string">'population'</span>].map(to_int_size))))<font></font>
fig.add_trace(go.Scattermapbox(legendgroup=<span class="hljs-string">"group"</span>,<font></font>
                               showlegend=<span class="hljs-literal">False</span>,<font></font>
                               mode = <span class="hljs-string">"lines"</span>,<font></font>
                               hoverinfo=<span class="hljs-string">'skip'</span>,<font></font>
                               lat=cities[cities[<span class="hljs-string">'region'</span>].isin([<span class="hljs-string">'-'</span>, <span class="hljs-string">''</span>])][<span class="hljs-string">'geo_lat'</span>],<font></font>
                               lon=cities[cities[<span class="hljs-string">'region'</span>].isin([<span class="hljs-string">'-'</span>, <span class="hljs-string">''</span>])][<span class="hljs-string">'geo_lon'</span>]))    <font></font>
<font></font>
map_center = go.layout.mapbox.Center(lat=(cities[<span class="hljs-string">'geo_lat'</span>].max()+cities[<span class="hljs-string">'geo_lat'</span>].min())/<span class="hljs-number">2</span>, <font></font>
                                     lon=(cities[<span class="hljs-string">'geo_lon'</span>].max()+cities[<span class="hljs-string">'geo_lon'</span>].min())/<span class="hljs-number">2</span>)<font></font>
fig.update_layout(legend_orientation=<span class="hljs-string">"h"</span>,<font></font>
                  mapbox_style=<span class="hljs-string">"open-street-map"</span>,<font></font>
                  mapbox=dict(center=map_center, zoom=<span class="hljs-number">2</span>))<font></font>
<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/1r/se/yp/1rseyp69de3mkftz7ztoke98mc0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
マップにもう少し意味のある行を追加しましょう。</font><font style="vertical-align: inherit;">そのために、列車のルート002M Rossiya Moscow-Vladivostok（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ロシア鉄道のウェブサイト</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）を使用します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
事前に、日ごとに分割されたルートに都市を含む別のファイルを用意しました。</font><font style="vertical-align: inherit;">これはおおよその内訳です。</font><font style="vertical-align: inherit;">スケジュールが変更されているので、私のテーブルを使用して、愛する義母にいつ訪問するかを評価しないでください。</font><font style="vertical-align: inherit;">一部の駅では、元の都市の表に類似物がないため、省略されています。</font><font style="vertical-align: inherit;">一部の都市は2回表示されます。</font><font style="vertical-align: inherit;">それらは、1つの毎日の運搬の終点であり、別の毎日の運搬の開始です。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私たちのルートは、鉄道駅ではなく都市を結ぶものであり、実際の鉄道と一致するものでもありません。</font><font style="vertical-align: inherit;">これは単なるルートの視覚化であり、ナビゲーションツールではありません！</font></font></i><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">train_russia = pd.read_csv(<span class="hljs-string">'https://gist.githubusercontent.com/lexnekr/2da07b5fc12b5be24068e4d68ed47ca5/raw/d6256765a3223282fbfec7e0b040cbfb21593fff/train_russia.scv'</span>)<font></font>
<font></font>
fig = go.Figure(go.Scattermapbox(legendgroup=<span class="hljs-string">"group"</span>,<font></font>
                                 name=<span class="hljs-string">' '</span>,<font></font>
                                 lat=cities[<span class="hljs-string">'geo_lat'</span>], <font></font>
                                 lon=cities[<span class="hljs-string">'geo_lon'</span>], <font></font>
                                 text=cities[<span class="hljs-string">'city'</span>],<font></font>
                                 marker=dict(colorbar=dict(title=<span class="hljs-string">" "</span>),<font></font>
                                             color=cities[<span class="hljs-string">'foundation_year'</span>].map(to_int_year),<font></font>
                                             size=cities[<span class="hljs-string">'population'</span>].map(to_int_size))))<font></font>
<font></font>
<span class="hljs-keyword">for</span> df_for_today <span class="hljs-keyword">in</span> train_russia.groupby([<span class="hljs-string">'day number'</span>]):<font></font>
    fig.add_trace(go.Scattermapbox(name=<span class="hljs-string">' {}'</span>.format(df_for_today[<span class="hljs-number">0</span>]),<font></font>
                                   mode = <span class="hljs-string">"lines"</span>,<font></font>
                                   hoverinfo=<span class="hljs-string">'skip'</span>,<font></font>
                                   lat=df_for_today[<span class="hljs-number">1</span>][<span class="hljs-string">'geo_lat'</span>],<font></font>
                                   lon=df_for_today[<span class="hljs-number">1</span>][<span class="hljs-string">'geo_lon'</span>]))    <font></font>
<font></font>
map_center = go.layout.mapbox.Center(lat=(cities[<span class="hljs-string">'geo_lat'</span>].max()+cities[<span class="hljs-string">'geo_lat'</span>].min())/<span class="hljs-number">2</span>, <font></font>
                                     lon=(cities[<span class="hljs-string">'geo_lon'</span>].max()+cities[<span class="hljs-string">'geo_lon'</span>].min())/<span class="hljs-number">2</span>)<font></font>
fig.update_layout(title=<span class="hljs-string">'   '</span>,<font></font>
                  legend_orientation=<span class="hljs-string">"h"</span>,<font></font>
                  mapbox_style=<span class="hljs-string">"open-street-map"</span>,<font></font>
                  mapbox=dict(center=map_center, zoom=<span class="hljs-number">2</span>))<font></font>
<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/lg/tk/eo/lgtkeo8emylokn85fta1d3ewn_a.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
毎日表示されるルートのプロセスをアニメーション化する場合は、いくつかのスケジュールが出現した以前と同じ手法を使用する必要があります。すべてのスケジュールまたはそのスタブを事前に見えないように表示し、すべてのフレームとスライダーのステップでそれらを表示します。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">data = [go.Scattermapbox(legendgroup=<span class="hljs-string">"group"</span>,<font></font>
                         name=<span class="hljs-string">' '</span>,<font></font>
                         lat=cities[<span class="hljs-string">'geo_lat'</span>], <font></font>
                         lon=cities[<span class="hljs-string">'geo_lon'</span>],<font></font>
                         text=cities[<span class="hljs-string">'city'</span>],<font></font>
                         marker=dict(colorbar=dict(title=<span class="hljs-string">" "</span>),<font></font>
                                     color=cities[<span class="hljs-string">'foundation_year'</span>].map(to_int_year),<font></font>
                                     size=cities[<span class="hljs-string">'population'</span>].map(to_int_size)))]
<span class="hljs-keyword">for</span> df_for_today <span class="hljs-keyword">in</span> train_russia.groupby([<span class="hljs-string">'day number'</span>]):<font></font>
    data.append(go.Scattermapbox(visible=<span class="hljs-literal">False</span>,<font></font>
                                 name=<span class="hljs-string">' {}'</span>.format(df_for_today[<span class="hljs-number">0</span>]),<font></font>
                                 mode = <span class="hljs-string">"lines"</span>,<font></font>
                                 hoverinfo=<span class="hljs-string">'skip'</span>,<font></font>
                                 lat=df_for_today[<span class="hljs-number">1</span>][<span class="hljs-string">'geo_lat'</span>],<font></font>
                                 lon=df_for_today[<span class="hljs-number">1</span>][<span class="hljs-string">'geo_lon'</span>]))    <font></font>
<font></font>
<font></font>
<font></font>
fig = go.Figure(data)<font></font>
<font></font>
frames=[]<font></font>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(len(data)+<span class="hljs-number">1</span>):<font></font>
    temp_frame = go.Frame(name=str(i), data=data)<font></font>
<font></font>
    <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> range(<span class="hljs-number">1</span>, i):<font></font>
        temp_frame[<span class="hljs-string">'data'</span>][j][<span class="hljs-string">'visible'</span>]=<span class="hljs-literal">True</span><font></font>
    <font></font>
    <font></font>
    frames.append(temp_frame)<font></font>
<font></font>
steps = []<font></font>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(len(data)):<font></font>
    step = dict(<font></font>
        label = str(i),<font></font>
        method = <span class="hljs-string">"animate"</span>,<font></font>
        args = [[str(i+<span class="hljs-number">1</span>)]]<font></font>
    )<font></font>
    steps.append(step)<font></font>
<font></font>
sliders = [dict(<font></font>
    currentvalue = {<span class="hljs-string">"prefix"</span>: <span class="hljs-string">" №"</span>, <span class="hljs-string">"font"</span>: {<span class="hljs-string">"size"</span>: <span class="hljs-number">20</span>}},<font></font>
    len = <span class="hljs-number">0.9</span>,<font></font>
    x = <span class="hljs-number">0.1</span>,<font></font>
    pad = {<span class="hljs-string">"b"</span>: <span class="hljs-number">10</span>, <span class="hljs-string">"t"</span>: <span class="hljs-number">50</span>},<font></font>
    steps = steps,<font></font>
)]<font></font>
<font></font>
map_center = go.layout.mapbox.Center(lat=(cities[<span class="hljs-string">'geo_lat'</span>].max()+cities[<span class="hljs-string">'geo_lat'</span>].min())/<span class="hljs-number">2</span>, <font></font>
                                     lon=(cities[<span class="hljs-string">'geo_lon'</span>].max()+cities[<span class="hljs-string">'geo_lon'</span>].min())/<span class="hljs-number">2</span>)<font></font>
fig.update_layout(title=<span class="hljs-string">'   '</span>,<font></font>
                  legend_orientation=<span class="hljs-string">"h"</span>,<font></font>
                  mapbox_style=<span class="hljs-string">"open-street-map"</span>,<font></font>
                  mapbox=dict(center=map_center, zoom=<span class="hljs-number">2</span>),<font></font>
                  updatemenus=[dict(direction=<span class="hljs-string">"left"</span>,<font></font>
                                    pad = {<span class="hljs-string">"r"</span>: <span class="hljs-number">10</span>, <span class="hljs-string">"t"</span>: <span class="hljs-number">80</span>},<font></font>
                                    x = <span class="hljs-number">0.1</span>,<font></font>
                                    xanchor = <span class="hljs-string">"right"</span>,<font></font>
                                    y = <span class="hljs-number">0</span>,<font></font>
                                    yanchor = <span class="hljs-string">"top"</span>,<font></font>
                                    showactive=<span class="hljs-literal">False</span>,<font></font>
                                    type=<span class="hljs-string">"buttons"</span>, <font></font>
                                    buttons=[dict(label=<span class="hljs-string">"►"</span>, method=<span class="hljs-string">"animate"</span>, args=[<span class="hljs-literal">None</span>, {<span class="hljs-string">"fromcurrent"</span>: <span class="hljs-literal">True</span>}]),<font></font>
                                             dict(label=<span class="hljs-string">"❚❚"</span>, method=<span class="hljs-string">"animate"</span>, args=[[<span class="hljs-literal">None</span>], {<span class="hljs-string">"frame"</span>: {<span class="hljs-string">"duration"</span>: <span class="hljs-number">0</span>, <span class="hljs-string">"redraw"</span>: <span class="hljs-literal">False</span>},
                                                                                               <span class="hljs-string">"mode"</span>: <span class="hljs-string">"immediate"</span>,
                                                                                               <span class="hljs-string">"transition"</span>: {<span class="hljs-string">"duration"</span>: <span class="hljs-number">0</span>}}])])],<font></font>
                  )<font></font>
<font></font>
<font></font>
fig.layout.sliders = sliders<font></font>
fig.frames = frames  <font></font>
<font></font>
fig.show()</code></pre><br>
</div>
                    </div><br>
<img src="https://habrastorage.org/webt/d7/_u/9h/d7_u9h4mpcfqhkve5cvbwjr9zkc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もちろん、Plotlyグラフのすべてのタイプを分析したわけではありません。</font><font style="vertical-align: inherit;">ただし、この基本的な例のセットは、すべてが機能する原理を理解するには十分です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
他の視覚化の例はここにあります</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-plotly.com/python</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（すべての例が各カテゴリに提供されているわけではないことに注意してください。より多くの例は、リンク "More ..."で常に利用可能です。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja502942/index.html">ブーツを履いた靴屋：デジタル代理店がウェブサイトを作成して壊れないようにするにはどうすればよいですか？</a></li>
<li><a href="../ja502944/index.html">Windowsターミナル1.0をリリース</a></li>
<li><a href="../ja502946/index.html">「仕分けセンターを離れる」：ロシア郵政局の物流はどうですか</a></li>
<li><a href="../ja502948/index.html">Terraforming：Doom 64の作成方法</a></li>
<li><a href="../ja502954/index.html">5つのウェビナープラットフォームのサンプル</a></li>
<li><a href="../ja502962/index.html">なぜオフィスに戻らないのか（2か月後のリモート作業を見る）</a></li>
<li><a href="../ja502964/index.html">ITプロジェクトのプロジェクト契約における財務上のニュアンス</a></li>
<li><a href="../ja502968/index.html">Data Vaultの基本</a></li>
<li><a href="../ja502972/index.html">SD Express：SD 8.0およびPCIe 4.0標準。これは何ですか？なぜですか？</a></li>
<li><a href="../ja502974/index.html">C＃.NETでの実装</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>