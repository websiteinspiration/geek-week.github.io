<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©‚Äçüé® üÜò ‚ñ∂Ô∏è Comment nous, chez Sportmaster, avons choisi un syst√®me de mise en cache. Partie 1 ‚ùóÔ∏è ‚¨õÔ∏è üë©üèΩ‚Äçüî¨</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="salut! Je m'appelle Alexey Pyankov, je suis d√©veloppeur chez Sportmaster. Dans cet article, j'ai expliqu√© comment le travail sur le site Web de Sportm...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Comment nous, chez Sportmaster, avons choisi un syst√®me de mise en cache. Partie 1</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/sportmaster_lab/blog/490912/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">salut! Je m'appelle Alexey Pyankov, je suis d√©veloppeur chez Sportmaster. Dans cet </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">article,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> j'ai expliqu√© comment le travail sur le site Web de Sportmaster a commenc√© en 2012, quelles initiatives nous avons r√©ussi √† faire passer, et vice versa, quel r√¢teau nous avons collect√©. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aujourd'hui, je veux partager les r√©flexions qui suivent une autre histoire - choisir un syst√®me de mise en cache pour le backend java dans le panneau d'administration du site. Ce complot est d'une importance particuli√®re pour moi - bien que l'histoire n'ait eu lieu que 2 mois, mais ces 60 jours, nous avons travaill√© pendant 12-16 heures et sans jour de cong√©. Je n'avais jamais pens√© et imagin√© que vous pouviez travailler autant.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par cons√©quent, je d√©compose le texte en 2 parties, afin de ne pas le t√©l√©charger en entier. Au contraire, la premi√®re partie sera tr√®s facile - pr√©paration, introduction, quelques consid√©rations sur ce qu'est la mise en cache. Si vous √™tes d√©j√† un d√©veloppeur exp√©riment√© ou avez travaill√© avec des caches - du c√¥t√© technique, il n'y a probablement rien de nouveau dans cet article. Mais pour un junior, une petite revue de ce type peut dire dans quelle direction regarder, s'il se retrouve √† un tel carrefour.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/c-/8-/z5/c-8-z5hphf6b0qo46ruj5mdf1vc.png"></a><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque la nouvelle version du site Web de Sportmaster a √©t√© lanc√©e en production, les donn√©es sont arriv√©es d'une mani√®re, pour le moins, pas tr√®s pratique. La base √©tait les tableaux pr√©par√©s pour la version pr√©c√©dente du site (Bitrix), qui devaient √™tre resserr√©s dans ETL, apport√©s √† un nouveau look et enrichis de diff√©rentes petites choses d'une douzaine de syst√®mes suppl√©mentaires. Pour qu'une nouvelle photo ou description du produit apparaisse sur le site, vous avez d√ª attendre le lendemain - mise √† jour uniquement la nuit, 1 fois par jour.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au d√©but, il y avait tellement de soucis d√®s les premi√®res semaines de la mise en production que de tels inconv√©nients pour les gestionnaires de contenu √©taient minimes. Mais, d√®s que tout s'est calm√©, le d√©veloppement du projet s'est poursuivi - quelques mois plus tard, d√©but 2015, nous avons commenc√© √† d√©velopper activement le panneau d'administration. En 2015 et 2016, tout va bien, nous le publierons r√©guli√®rement, la zone d'administration couvre la plus grande partie de la pr√©paration des donn√©es, et nous nous pr√©parons au fait que bient√¥t la chose la plus importante et la plus difficile sera confi√©e √† notre √©quipe - la gamme de produits (pr√©paration compl√®te et maintenance des donn√©es pour tous les produits). Mais √† l'√©t√© 2017, juste avant le lancement de la gamme de produits, le projet sera dans une situation tr√®s difficile - pr√©cis√©ment en raison de probl√®mes de mise en cache. Je veux parler de cet √©pisode dans la deuxi√®me partie de cette publication en deux parties.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais dans ce post, je vais partir de loin, comme quelques r√©flexions - des id√©es sur la mise en cache, que faire d√©filer avant un gros projet √† l'avance serait une bonne √©tape.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lorsqu'une t√¢che de cache survient</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La t√¢che de mise en cache n'appara√Æt pas seulement. Nous sommes des d√©veloppeurs, nous √©crivons un produit logiciel et nous voulons qu'il soit en demande. Si le produit est en demande et r√©ussi, les utilisateurs arrivent. Et plus viennent et plus. Et donc il y a beaucoup d'utilisateurs et le produit devient alors tr√®s charg√©. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lors des premi√®res √©tapes, nous ne pensons pas √† l'optimisation et aux performances du code. L'essentiel est la fonctionnalit√©, d√©ployez rapidement le pilote et testez les hypoth√®ses. Et si la charge augmente, nous pompons du fer. Nous l'augmentons d'un facteur deux, trois, cinq, que ce soit 10 fois. Quelque part ici - les finances ne le permettront plus. Et combien de fois le nombre d'utilisateurs augmentera-t-il? Ce ne sera pas seulement 2-5-10, mais en cas de succ√®s, ce sera de 100-1000 et jusqu'√† 100 000 fois. C'est, t√¥t ou tard, mais devra faire l'optimisation.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Disons qu'une partie du code (appelons cette partie une fonction) fonctionne ind√©cemment pendant longtemps et nous voulons r√©duire le temps d'ex√©cution. Fonction - cela peut √™tre l'acc√®s √† la base de donn√©es, cela peut √™tre l'ex√©cution d'une logique complexe - l'essentiel est que cela prenne beaucoup de temps. Combien pouvez-vous r√©duire le d√©lai de livraison? Dans la limite - peut √™tre r√©duit √† z√©ro, pas plus loin. Et comment pouvez-vous r√©duire le temps d'ex√©cution √† z√©ro? R√©ponse: exclut g√©n√©ralement l'ex√©cution. Au lieu de cela, renvoyez imm√©diatement le r√©sultat. Et comment connais-tu le r√©sultat? R√©ponse: calculez ou regardez quelque part. Calculer est long. Et regarder, c'est, par exemple, se souvenir du r√©sultat que la fonction a produit la derni√®re fois lorsqu'elle a √©t√© appel√©e avec les m√™mes param√®tres.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Autrement dit, la mise en ≈ìuvre de la fonction n'a pas d'importance pour nous. </font><font style="vertical-align: inherit;">Il suffit de savoir de quels param√®tres d√©pend le r√©sultat. </font><font style="vertical-align: inherit;">Ensuite, si les valeurs des param√®tres sont pr√©sent√©es sous la forme d'un objet qui peut √™tre utilis√© comme cl√© dans un stockage, nous pouvons enregistrer le r√©sultat du calcul et le lire la prochaine fois. </font><font style="vertical-align: inherit;">Si ces r√©sultats d'√©criture-lecture sont plus rapides que l'ex√©cution de la fonction, nous avons un gain de vitesse. </font><font style="vertical-align: inherit;">La valeur du profit peut atteindre 100, 1000 et 100 mille fois (10 ^ 5 est plus probablement une exception, mais dans le cas d'une base de d√©calage d√©cente, c'est tout √† fait possible).</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exigences de mise en cache cl√©s</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La premi√®re chose qui peut devenir une exigence pour un syst√®me de mise en cache est une vitesse de lecture rapide et, dans une moindre mesure, une vitesse d'√©criture. Il en est ainsi, mais seulement jusqu'√† ce que nous d√©ployions le syst√®me en production. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jouons un tel cas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Supposons que nous ayons fourni la charge actuelle en fer et que nous introduisions progressivement la mise en cache. Les utilisateurs augmentent un peu, la charge augmente - nous ajoutons un peu de caches, nous le fixons ici et l√†. Cela dure depuis un certain temps, et maintenant les fonctions lourdes ne sont pratiquement plus appel√©es - tout le fardeau principal tombe sur le cache. Le nombre d'utilisateurs pendant cette p√©riode a augment√© N fois.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et si l'approvisionnement initial en fer pouvait √™tre de 2 √† 5 fois, alors avec l'aide du cache, nous pourrions resserrer la productivit√© tous les 10 ou, dans le bon cas, 100 fois, √† certains endroits, peut-√™tre 1000. Autrement dit, nous traitons sur le m√™me fer 100 fois plus de demandes. Super, m√©rite un pain d'√©pice! </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais maintenant, √† un moment donn√©, par accident, le syst√®me s'est √©cras√© et le cache s'est √©cras√©. Rien de sp√©cial - apr√®s tout, le cache a √©t√© s√©lectionn√© √† la demande "lecture et √©criture √† grande vitesse, le reste n'a pas d'importance". </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En ce qui concerne la charge de d√©part, la r√©serve de fer √©tait de 2 √† 5 fois, et la charge pendant cette p√©riode a augment√© de 10 √† 100 fois. Avec l'aide du cache, nous avons √©limin√© les appels √† des fonctions lourdes et donc tout a vol√©. Et maintenant, sans cache - combien de fois notre syst√®me s'affaisse-t-il? Qu'est-ce qui va nous arriver? Le syst√®me va tomber.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
M√™me si notre cache n'a pas plant√©, mais n'a √©t√© effac√© que pendant un certain temps, il devra √™tre r√©chauff√©, ce qui prendra un certain temps. </font><font style="vertical-align: inherit;">Et √† ce moment - le principal fardeau tombera sur le fonctionnel. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Conclusion: les projets √† forte charge dans la prod n√©cessitent du syst√®me de mise en cache non seulement une vitesse de lecture et d'√©criture √©lev√©e, mais √©galement la s√©curit√© des donn√©es et la r√©sistance aux pannes.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Farine de choix</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le projet avec le panneau d'administration, le choix a √©t√© le suivant: ils ont d'abord mis Hazelcast, car </font><font style="vertical-align: inherit;">connaissaient d√©j√† ce produit de l'exp√©rience du site principal. </font><font style="vertical-align: inherit;">Mais, ici, ce choix n'a pas r√©ussi - pour notre profil de charge, Hazelcast fonctionne non seulement lentement, mais terriblement lentement. </font><font style="vertical-align: inherit;">Et √† ce moment-l√†, nous nous √©tions d√©j√† inscrits pour les conditions de retrait au prod. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Spoiler: comment exactement les circonstances se sont-elles produites lorsque nous avons rat√© un tel plop et que nous avons eu une situation aigu√´ et tendue - je dirai dans la deuxi√®me partie - √† la fois comment nous avons tourn√© et comment nous sommes sortis. </font><font style="vertical-align: inherit;">Mais maintenant - je vais juste dire que c'√©tait beaucoup de stress, et "pensez - d'une mani√®re ou d'une autre, je ne pense pas, secouez la bouteille." </font><font style="vertical-align: inherit;">¬´Secouer la bouteille¬ª est aussi un spoiler, √† ce sujet un peu plus loin. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Qu'avons-nous fait:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous faisons une liste de tous les syst√®mes demand√©s par google et StackOverflow. </font><font style="vertical-align: inherit;">Un peu plus de 30</font></font></li>
<li>   ,   .    ,      - ‚Äî       ,   .      </li>
<li> ,      , ,  .   ,    ‚Äì ,     .</li>
<li> 17-   ,   .  ¬´ ¬ª,   .</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais c'est une option lorsque vous devez choisir un syst√®me qui "rampe en vitesse" dans des tests pr√©-pr√©par√©s. Et s'il n'y a pas encore de tels tests et que vous souhaitez choisir plus rapidement? </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous simulerons une telle option (il est difficile d'imaginer que le d√©veloppeur interm√©diaire + vit dans le vide, et au moment de la s√©lection, il n'avait pas encore d√©cid√© quel produit essayer en premier lieu - par cons√©quent, une discussion plus approfondie est probablement un th√©oricien / philosophie / √† propos d'un junior). </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s avoir d√©termin√© les exigences, nous commencerons √† choisir une solution dans la bo√Æte. Pourquoi r√©inventer la roue: nous irons prendre un syst√®me de cache pr√™t √† l'emploi.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous venez de commencer et que vous allez sur Google, alors plus ou moins la commande, mais en g√©n√©ral, les directives seront comme √ßa. </font><font style="vertical-align: inherit;">Tout d'abord, vous tombez sur Redis, on l'entend partout. </font><font style="vertical-align: inherit;">Ensuite, vous d√©couvrirez qu'il existe EhCache comme syst√®me le plus ancien et le plus √©prouv√©. </font><font style="vertical-align: inherit;">Ensuite, il sera √©crit sur Tarantool - un d√©veloppement national dans lequel il y a un aspect unique de la solution. </font><font style="vertical-align: inherit;">Et aussi Ignite, car il gagne en popularit√© et b√©n√©ficie du soutien de SberTech. </font><font style="vertical-align: inherit;">En fin de compte, il y a Hazelcast, car dans le monde de l'entreprise, il clignote souvent au milieu des grandes entreprises. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette liste ne s'arr√™te pas l√†, il existe des dizaines de syst√®mes. </font><font style="vertical-align: inherit;">Et nous n'en visons qu'un. </font><font style="vertical-align: inherit;">Prenez les 5 syst√®mes s√©lectionn√©s pour le "concours de beaut√©" et effectuez une s√©lection. </font><font style="vertical-align: inherit;">Qui sera le vainqueur?</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redis</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous lisons ce qu'ils √©crivent sur le site officiel. </font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redis</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est un projet open source. </font><font style="vertical-align: inherit;">Il offre un stockage de donn√©es en m√©moire, la possibilit√© d'enregistrer sur le disque, une partition automatique en partitions, une haute disponibilit√© et une r√©cup√©ration apr√®s des ruptures de r√©seau. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il semble que tout va bien, vous pouvez le prendre et le visser - tout ce dont il a besoin est ce qu'il fait. </font><font style="vertical-align: inherit;">Mais regardons juste pour l'int√©r√™t des autres candidats.</font></font><br>
 <br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ehcache</font></font></h3><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EhCache</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - "le cache le plus utilis√© pour Java" (traduction du slogan du site officiel). </font><font style="vertical-align: inherit;">Open source √©galement. </font><font style="vertical-align: inherit;">Et ici, nous comprenons que Redis n'est pas sous java, mais g√©n√©ral, et pour interagir avec lui, vous avez besoin d'un wrapper. </font><font style="vertical-align: inherit;">Et EhCache sera plus pratique. </font><font style="vertical-align: inherit;">Que promet le syst√®me d'autre? </font><font style="vertical-align: inherit;">Fiabilit√©, solidit√©, fonctionnalit√© compl√®te. </font><font style="vertical-align: inherit;">Eh bien, et elle est la plus courante. </font><font style="vertical-align: inherit;">Et met en cache des t√©raoctets de donn√©es. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Redis est oubli√©, je suis pr√™t √† choisir EhCache. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais un sens du patriotisme me pousse √† voir ce qui rend Tarantool bon.</font></font><br>
 <br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tarantool</font></font></h3><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tarantool</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - R√©pond √† la d√©signation ¬´plate-forme d'int√©gration de donn√©es en temps r√©el¬ª. Cela semble tr√®s difficile, alors nous lisons la page en d√©tail et trouvons une d√©claration forte: "Caches 100% des donn√©es dans la RAM." Cela devrait soulever des questions - apr√®s tout, il peut y avoir beaucoup plus de donn√©es que de m√©moire. Le d√©chiffrement est qu'ici, il est sous-entendu que Tarantool n'ex√©cute pas la s√©rialisation pour √©crire des donn√©es sur un disque √† partir de la m√©moire. Au lieu de cela, il utilise les fonctionnalit√©s de bas niveau du syst√®me lorsque la m√©moire est simplement mapp√©e sur un syst√®me de fichiers avec de tr√®s bonnes performances d'E / S. En g√©n√©ral, ils l'ont fait en quelque sorte merveilleux et cool. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Examinons la mise en ≈ìuvre: l'autoroute d'entreprise Mail.ru, Avito, Beeline, Megafon, Alfa-Bank, Gazprom ...</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
S'il y avait encore des doutes sur Tarantool, l'introduction de l'impl√©mentation Mastercard me tuerait. </font><font style="vertical-align: inherit;">Je prends Tarantool. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais peu importe‚Ä¶</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enflammer</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... il y a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ignite</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , d√©clar√© comme "une plate-forme informatique en m√©moire ... des vitesses en m√©moire sur des p√©taoctets de donn√©es". </font><font style="vertical-align: inherit;">Les avantages sont √©galement nombreux: cache distribu√© en m√©moire, stockage et cache de valeurs-cl√©s les plus rapides, mise √† l'√©chelle horizontale, haute disponibilit√©, int√©grit√© stricte. </font><font style="vertical-align: inherit;">En g√©n√©ral, il s'av√®re que le plus rapide est Ignite. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Impl√©mentations: Sberbank, American Airlines, Yahoo! </font><font style="vertical-align: inherit;">Japon </font><font style="vertical-align: inherit;">Et puis, je d√©couvre toujours qu'Ignite n'est pas seulement impl√©ment√© dans Sberbank, mais l'√©quipe SberTech envoie son personnel √† l'√©quipe Ignite pour finaliser le produit. </font><font style="vertical-align: inherit;">C'est compl√®tement captivant et je suis pr√™t √† prendre Ignite. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est totalement incompr√©hensible pourquoi, je regarde le cinqui√®me point.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hazelcast</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je vais sur le site </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hazelcast</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , je le lis. </font><font style="vertical-align: inherit;">Et il s'av√®re que la solution la plus rapide pour la mise en cache distribu√©e est Hazelcast. </font><font style="vertical-align: inherit;">Il est des ordres de grandeur plus rapide que toutes les autres solutions et en g√©n√©ral, il est un leader dans le domaine de la grille de donn√©es en m√©moire. </font><font style="vertical-align: inherit;">Dans ce contexte, prenez autre chose - ne vous respectez pas. </font><font style="vertical-align: inherit;">Il utilise √©galement un stockage de donn√©es redondant pour un fonctionnement continu du cluster sans perte de donn√©es. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout, je suis pr√™t √† prendre Hazelcast.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comparaison</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais si vous regardez, les cinq candidats sont si bien peints que chacun d'eux est le meilleur. Comment choisir? Nous pouvons voir lequel est le plus populaire, chercher des comparaisons et le mal de t√™te passera. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous trouvons un tel </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">avis</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , choisissez nos 5 syst√®mes. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/r8/ix/gi/r8ixgicyh9dc4wgwv7sl_prtxsi.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici, ils sont tri√©s: au sommet de Redis, en deuxi√®me place, Hazelcast, Tarantool et Ignite gagnent en popularit√©, EhCache a √©t√© et reste. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais regardons </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la m√©thode de calcul</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : liens vers des sites Web, int√©r√™t g√©n√©ral pour le syst√®me, offres d'emploi - super! Autrement dit, lorsque mon syst√®me tombe en panne, je dirai: ¬´Non, il est fiable! Voici beaucoup d'offres d'emploi ... ". Une comparaison aussi simple ne fonctionnera pas.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tous ces syst√®mes ne sont pas uniquement des syst√®mes de mise en cache. </font><font style="vertical-align: inherit;">Ils ont encore beaucoup de fonctionnalit√©s, y compris lorsque les donn√©es ne sont pas transf√©r√©es au client pour traitement, mais plut√¥t: le code qui doit √™tre ex√©cut√© sur les donn√©es se d√©place vers le serveur, il y est ex√©cut√© et le r√©sultat est retourn√©. </font><font style="vertical-align: inherit;">Et en tant que syst√®me distinct pour la mise en cache, ils ne sont pas si souvent consid√©r√©s. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eh bien, n'abandonnez pas, nous trouvons une comparaison directe des syst√®mes. </font><font style="vertical-align: inherit;">Prenez les deux premi√®res options - Redis et Hazelcast. </font><font style="vertical-align: inherit;">Nous nous int√©ressons √† la vitesse, nous pouvons les comparer par ce param√®tre.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hz vs Redis</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous trouvons une telle </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">comparaison</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : le </font></font><br>
<img src="https://habrastorage.org/webt/vq/ue/l0/vquel0ijbidfqlj_iailrnfhzgg.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
bleu est Redis, le rouge est Hazelcast. </font><font style="vertical-align: inherit;">Hazelcast gagne partout, et la justification est donn√©e: il est multi-thread, hautement optimis√©, chaque thread fonctionne avec sa propre partition, donc il n'y a pas de verrous. </font><font style="vertical-align: inherit;">Et Redis est mono-thread, il ne prend pas de gain par rapport aux processeurs multic≈ìurs modernes. </font><font style="vertical-align: inherit;">Hazelcast a des E / S asynchrones, Redis-Jedis a des sockets de blocage. </font><font style="vertical-align: inherit;">Au final, Hazelcast utilise un protocole binaire, tandis que Redis est orient√© texte, ce qui signifie qu'il est inefficace. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au cas o√π, nous nous tournons vers une autre source de comparaison. </font><font style="vertical-align: inherit;">Que va-t-il nous montrer?</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redis vs Hz</font></font></h3> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Autre </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">comparaison</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br>
<img src="https://habrastorage.org/webt/70/ez/yp/70ezypii1cgalhogxc9jo7kmshk.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ici, au contraire, le rouge est Redis. </font><font style="vertical-align: inherit;">Autrement dit, Redis surpasse Hazelcast en termes de performances. </font><font style="vertical-align: inherit;">Dans la premi√®re comparaison, Hazelcast a gagn√©, dans la seconde - Redis. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ici,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ils ont expliqu√© tr√®s pr√©cis√©ment pourquoi Hazelcast avait gagn√© dans la comparaison pr√©c√©dente. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il s'av√®re que le r√©sultat du premier a √©t√© truqu√©: Redis a √©t√© emmen√© dans la bo√Æte de base et Hazelcast a √©t√© emprisonn√© pour un test. </font><font style="vertical-align: inherit;">Ensuite, il s'av√®re: premi√®rement, personne ne peut faire confiance, et deuxi√®mement, quand nous choisissons n√©anmoins un syst√®me, nous devons encore le configurer correctement. </font><font style="vertical-align: inherit;">Ces param√®tres incluent des dizaines, presque des centaines de param√®tres.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Secouant une bouteille</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et tout le processus que nous venons de faire, je peux l'expliquer avec une telle m√©taphore, "Secouez la bouteille." Autrement dit, maintenant vous ne pouvez pas programmer, maintenant l'essentiel est de pouvoir lire stackoverflow. Et dans mon √©quipe, il y a une personne, un professionnel, qui travaille comme √ßa aux moments critiques.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Que fait-il? Il voit une chose cass√©e, voit une trace de pile, prend certains de ses mots (lesquels sont son expertise dans le programme), recherche dans Google, trouve stackoverflow parmi les r√©ponses. Sans lire, sans r√©fl√©chir, parmi les r√©ponses √† la question - il choisit quelque chose de plus similaire √† la phrase ¬´faire ceci et cela¬ª (choisir une telle r√©ponse est son talent, car ce n'est pas toujours la r√©ponse qui a recueilli le plus de likes), il utilise , regarde: si quelque chose a chang√©, √ßa va. S'il n'a pas chang√©, nous reculons. Et nous r√©p√©tons start-check-search. Et d'une mani√®re si intuitive, il y parvient apr√®s un certain temps, le code fonctionne. Il ne sait pas pourquoi, il ne sait pas ce qu'il a fait, il ne peut pas l'expliquer. Mais! Cette infection fonctionne. Et le ¬´feu √©teint¬ª. Nous comprenons maintenant ce que nous avons fait. Lorsque le programme fonctionne, c'est beaucoup plus facile.Et √©conomise consid√©rablement du temps.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette m√©thode est tr√®s bien expliqu√©e par un tel exemple. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il √©tait autrefois tr√®s populaire de r√©cup√©rer un voilier dans une bouteille. Dans le m√™me temps, le voilier est grand et fragile, et le col de la bouteille est tr√®s √©troit, vous ne pouvez pas le pousser √† l'int√©rieur. Comment l'assembler? </font></font><br>
 <br>
<img src="https://habrastorage.org/webt/c-/8-/z5/c-8-z5hphf6b0qo46ruj5mdf1vc.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe une telle m√©thode, tr√®s rapide et tr√®s efficace. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le navire se compose d'un tas de petites choses: b√¢tons, cordes, voiles, colle. Nous mettons tout cela dans une bouteille. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous prenons la bouteille √† deux mains et commen√ßons √† trembler. Nous tremblons, tremblons. Et g√©n√©ralement - vous obtenez des ordures compl√®tes, bien s√ªr. Mais parfois. Parfois, vous obtenez un navire! Plus pr√©cis√©ment, quelque chose de similaire √† un navire. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous montrons ceci √† quelqu'un: "Serge, tu vois!?". Et en effet, de loin - comme si un navire. Mais alors, vous ne pouvez pas laisser tomber.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y a une autre mani√®re. Les gars en utilisent des plus avanc√©s, tels des hackers. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A donn√© un tel gars une t√¢che, il a tout fait et est parti. Et vous regardez - cela semble √™tre fait. Et au bout d'un moment, quand il faut affiner le code - l√† √ßa commence √† cause de √ßa ... C'est bien qu'il ait d√©j√† r√©ussi √† s'enfuir loin. Ce sont les gars qui, en utilisant l'exemple d'une bouteille, feront cela: vous voyez, o√π se trouve le fond - le verre se plie. Et il n'est pas tout √† fait clair s'il est transparent ou non. Puis les ¬´hackers¬ª ont coup√© ce fond, y ont ins√©r√© le vaisseau, puis coll√© √† nouveau le fond, et comme si c'√©tait n√©cessaire.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Du point de vue de la d√©finition du probl√®me, tout semble correct. Mais voici un exemple de navires: pourquoi ce navire en g√©n√©ral, qui en a besoin? Il ne comporte aucune fonctionnalit√©. Habituellement, ces navires sont des cadeaux pour des personnes de tr√®s haut rang qui les placent sur une √©tag√®re au-dessus d'eux-m√™mes, comme une sorte de symbole, comme un signe. Et maintenant, si une telle personne, la t√™te d'une grande entreprise ou un haut fonctionnaire, comment le drapeau tient-il une telle poubelle, dans laquelle le cou est coup√©? Ce serait mieux s'il ne le savait jamais. Alors, comment ces navires peuvent-ils finalement √™tre pr√©sent√©s √† une personne importante?</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le seul endroit, cl√©, avec lequel il n'y a vraiment rien √† faire, c'est le b√¢timent. Et la coque du navire passe juste par le cou. Alors que le navire sort de la bouteille. Mais ce n'est pas seulement pour assembler un navire, c'est un v√©ritable artisanat de bijoux. Des leviers sp√©ciaux sont ajout√©s aux composants, ce qui permet de les soulever plus tard. Par exemple, les voiles sont pli√©es, d√©riv√©es doucement, puis √† l'aide d'une pince √† √©piler, c'est tr√®s bijou, bien s√ªr, elles sont tir√©es et soulev√©es. Le r√©sultat est une ≈ìuvre d'art qui peut √™tre pr√©sent√©e avec une conscience claire et une fiert√©.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et si nous voulons que le projet r√©ussisse, il doit y avoir au moins un bijoutier dans l'√©quipe. </font><font style="vertical-align: inherit;">Quiconque se soucie de la qualit√© du produit et prend en compte tous les aspects, sans en sacrifier un seul m√™me en p√©riode de stress, lorsque les circonstances n√©cessitent une urgence au d√©triment de l'important. </font><font style="vertical-align: inherit;">Tous les projets r√©ussis qui sont durables, qui ont r√©sist√© √† l'√©preuve du temps, ils sont construits sur ce principe. </font><font style="vertical-align: inherit;">Ils ont quelque chose de tr√®s pr√©cis et unique, quelque chose qui utilise toutes les fonctionnalit√©s disponibles. </font><font style="vertical-align: inherit;">Dans l'exemple d'un navire dans une bouteille, il se joue que la coque du navire passe par le cou.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Revenant √† la t√¢che de choisir notre serveur de mise en cache, comment cette m√©thode pourrait-elle √™tre appliqu√©e? </font><font style="vertical-align: inherit;">Je propose une telle option parmi tous les syst√®mes qui existent - ne secouez pas la bouteille, ne choisissez pas, mais voyez ce que, en principe, ils ont quelque chose √† rechercher lors du choix d'un syst√®me.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O√π chercher un goulot d'√©tranglement</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Essayons de ne pas secouer la bouteille, de ne pas trier tout ce qui est tour √† tour, mais voyons quelles t√¢ches surgissent, si soudainement, pour votre t√¢che - pour concevoir vous-m√™me un tel syst√®me. </font><font style="vertical-align: inherit;">Bien s√ªr, nous n'assemblerons pas le v√©lo, mais nous utiliserons ce sch√©ma pour nous orienter sur les points √† prendre en compte dans les descriptions de produits. </font><font style="vertical-align: inherit;">Nous d√©crivons un tel sch√©ma. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/d3/pk/uf/d3pkufjwip_flieqquuhgk-8jlm.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si le syst√®me est distribu√©, nous aurons plusieurs serveurs (6). </font><font style="vertical-align: inherit;">Disons quatre (il est pratique de les placer dans l'image, mais, bien s√ªr, il peut y en avoir un certain nombre). </font><font style="vertical-align: inherit;">Si les serveurs sont sur des n≈ìuds diff√©rents, cela signifie que du code tourne sur tous, ce qui est responsable de s'assurer que ces n≈ìuds forment un cluster et, en cas de rupture, se connectent, se reconnaissent.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Encore besoin d'une logique de code (2), qui concerne en fait la mise en cache. Les clients interagissent avec ce code via une API. Le code client (1) peut √™tre √† la fois dans la m√™me JVM et y acc√©der via le r√©seau. La logique impl√©ment√©e √† l'int√©rieur est la d√©cision des objets √† laisser dans le cache, √† jeter. Nous utilisons de la m√©moire (3) pour stocker le cache, mais si n√©cessaire, nous pouvons √©galement enregistrer une partie des donn√©es sur le disque (4).</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voyons dans quelles parties la charge va se produire. En fait, chaque fl√®che et chaque n≈ìud seront charg√©s. Premi√®rement, entre le code client et l'API, s'il s'agit d'une interaction r√©seau, l'affaissement peut √™tre assez perceptible. Deuxi√®mement, dans le cadre de l'API elle-m√™me - ayant remplac√© une logique complexe, nous pouvons ex√©cuter le CPU. Et ce serait bien si la logique ne pilotait pas la m√©moire une fois de plus. Et il reste une interaction avec le syst√®me de fichiers - dans la version habituelle, il est s√©rialis√© / restaur√© et √©crit / lu. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Poursuite de l'interaction avec le cluster. Tr√®s probablement, il sera dans le m√™me syst√®me, mais il peut √™tre s√©par√©. Ici, vous devez √©galement prendre en compte le transfert de donn√©es vers celui-ci, la vitesse de s√©rialisation des donn√©es et l'interaction entre le cluster.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, d'une part, nous pouvons imaginer ¬´quels engrenages tourneront¬ª dans le syst√®me de cache lors du traitement des demandes de notre code, et d'autre part, nous pouvons estimer ce que et combien de demandes notre code g√©n√©rera √† ce syst√®me. Cela suffit pour faire un choix plus ou moins sobre - choisir un syst√®me pour notre cas d'utilisation. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hazelcast</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Voyons comment cette d√©composition s'applique √† notre liste. Par exemple, Hazelcast. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Afin de mettre / prendre des donn√©es de Hazelcast, le code client acc√®de (1) √† l'API. Hz vous permet de d√©marrer le serveur en tant qu'embarqu√©, et dans ce cas, l'acc√®s √† l'API est un appel de m√©thode √† l'int√©rieur de la JVM, vous pouvez le lire gratuitement.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour que la logique fonctionne en (2), Hz s'appuie sur un hachage du tableau d'octets de la cl√© s√©rialis√©e - c'est-√†-dire que la s√©rialisation de la cl√© se produit dans tous les cas. Il s'agit d'une surcharge in√©vitable pour Hz. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les strat√©gies d'expulsion sont bien mises en ≈ìuvre, mais pour des cas particuliers - vous pouvez connecter les v√¥tres. Vous n'avez pas √† vous soucier de cette partie. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le stockage (4) peut √™tre connect√©. Bien. L'interaction (5) pour embarqu√© peut √™tre consid√©r√©e comme instantan√©e. L'√©change de donn√©es entre les n≈ìuds du cluster (6) - oui, c'est le cas. Cela contribue √† la r√©silience au d√©triment de la vitesse. La fonction Hz de Near-cache permet de r√©duire le prix - les donn√©es re√ßues des autres n≈ìuds du cluster seront mises en cache. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Que peut-on faire dans de telles conditions pour augmenter la vitesse?</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, pour √©viter de s√©rialiser la cl√© dans (2), au-dessus de Hazelcast, vissez un autre cache pour les donn√©es les plus chaudes. Chez Sportmaster, la caf√©ine a √©t√© choisie √† cet effet. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour la torsion au niveau (6), Hz propose deux types de stockage: IMap et ReplicatedMap. </font></font><br>
<img src="https://habrastorage.org/webt/t_/_a/ie/t__aieqdprk1bzb_ac_qpuvn7ro.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il vaut la peine de dire comment Hazelcast est entr√© dans la pile technologique Sportmaster.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En 2012, lorsque nous avons travaill√© sur le tout premier pilote du futur site, c'est Hazelcast qui s'est av√©r√© √™tre le premier lien √©mis par le moteur de recherche. La connaissance a commenc√© ¬´la premi√®re fois¬ª - nous avons √©t√© impressionn√©s par le fait que seulement deux heures plus tard, lorsque nous avons viss√© le Hz dans le syst√®me, cela a fonctionn√©. Et cela a bien fonctionn√©. Jusqu'√† la fin de la journ√©e, nous avons ajout√© quelques tests, nous √©tions contents. Et cet apport de vigueur a suffi √† surmonter ces surprises que Hz a lanc√©es au fil du temps. Maintenant, l'√©quipe Sportmaster n'a aucune raison de refuser de Hazelcast.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais des arguments tels que ¬´le premier lien dans un moteur de recherche¬ª et ¬´HelloWorld rapidement assembl√©¬ª sont, bien s√ªr, une exception et une caract√©ristique du moment o√π le choix a eu lieu. Ces tests pour le syst√®me s√©lectionn√© commencent par la sortie de la prod, et c'est √† ce stade que vous devez faire attention lorsque vous choisissez un syst√®me, y compris le cache. En fait, dans notre cas, nous pouvons dire que nous avons choisi Hazelcast par hasard, mais il s'est av√©r√© que nous avons choisi la bonne.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour la production, c'est beaucoup plus important: surveillance, √©checs de traitement sur les n≈ìuds individuels, r√©plication des donn√©es, co√ªt de la mise √† l'√©chelle. </font><font style="vertical-align: inherit;">C'est-√†-dire qu'il vaut la peine de pr√™ter attention aux t√¢ches qui surviendront juste au moment o√π le syst√®me est pris en charge - lorsque la charge est dix fois plus √©lev√©e que pr√©vu, lorsque nous remplissons accidentellement quelque chose dans la mauvaise direction, lorsque vous devez d√©ployer une nouvelle version du code, remplacer les donn√©es et le faire inaper√ßu pour les clients. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour toutes ces exigences, Hazelcast convient parfaitement.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Ä suivre</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais Hazelcast n'est pas une panac√©e. </font><font style="vertical-align: inherit;">En 2017, nous avons choisi Hazelcast pour le cache dans le panneau d'administration, en nous appuyant simplement sur la bonne impression de l'exp√©rience pass√©e. </font><font style="vertical-align: inherit;">Cela a jou√© un r√¥le cl√© dans une blague tr√®s diabolique, c'est pourquoi nous √©tions dans une situation difficile et nous en sommes ¬´h√©ro√Øquement¬ª sortis pendant 60 jours. </font><font style="vertical-align: inherit;">Mais plus √† ce sujet dans la partie suivante. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En attendant ... Happy New Code!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr490892/index.html">Comment g√©n√©rer gratuitement des cl√©s et des publicit√©s pour Yandex et Google √† partir d'un fichier YML</a></li>
<li><a href="../fr490894/index.html">R√©flexions subtiles sur l'architecture du site Web</a></li>
<li><a href="../fr490896/index.html">Principes de travail pour l'unit√© de soins intensifs pour enfants sous la forme d'une r√©ponse √† ¬´Programmer, the pack and John Steinbeck¬ª ou</a></li>
<li><a href="../fr490906/index.html">Yandex a d√©ploy√© une version b√™ta d'un Aura - aura.top ind√©pendant. C'est top?</a></li>
<li><a href="../fr490908/index.html">Stockage des donn√©es de zone</a></li>
<li><a href="../fr490916/index.html">Probl√®mes d'interaction avec des √©quipes externes sur de grands projets</a></li>
<li><a href="../fr490918/index.html">Andrei Zaretsky, Alexander Trukhanov (suite): "Nous n'avions pas de nom, mais il y avait de l'arrogance"</a></li>
<li><a href="../fr490920/index.html">Acc√©l√©rez votre recherche dans Have I Been Pwned √† 49 microsecondes (C ++)</a></li>
<li><a href="../fr490924/index.html">Qu'est-ce que Windows PowerShell et que mange-t-il? Partie 2: Introduction au langage de programmation</a></li>
<li><a href="../fr490926/index.html">Trajectoire Unity Ball 2D pour les d√©butants</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>