<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤟🏽 👦🏻 🌃 Composants Web au lieu de réagir - une autre tentative 🕵🏾 🧚🏿 🤽🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour, Habr! 
 
 J'ai récemment décidé de comprendre à quoi devrait ressembler une application Web côté client entièrement écrite sur des composants...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Composants Web au lieu de réagir - une autre tentative</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/500484/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bonjour, Habr! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai récemment décidé de comprendre à quoi devrait ressembler une application Web côté client entièrement écrite sur des composants Web vanilla sans utiliser de frameworks. </font><font style="vertical-align: inherit;">Cela s'est avéré être une chose très fonctionnelle, à la fin j'ai esquissé </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le modèle PWA mobile</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que j'utilise maintenant dans les prototypes. </font><font style="vertical-align: inherit;">Partant des locaux suivants:</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DOM est un état. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comme nous n'avons pas de cadre, nous oublions immédiatement le fonctionnalisme et revenons à l'impératif POO. </font><font style="vertical-align: inherit;">Les composants Web sont des nœuds DOM à longue durée de vie qui encapsulent leur état et disposent d'une API publique. </font><font style="vertical-align: inherit;">Ils ne sont pas recréés, mais modifiés. </font><font style="vertical-align: inherit;">Cela signifie que nous devons considérer le DOM non seulement comme une représentation, mais comme un référentiel d'objets métier, et donc nous devons construire une hiérarchie de composants en tenant compte de la commodité de leur interaction.</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'interaction des composants. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les composants peuvent interagir via des appels directs, des échanges de rappel ou via des événements DOM utilisateur haut / bas. </font><font style="vertical-align: inherit;">Cette dernière méthode est la plus préférable, car elle réduit l'engagement mutuel (couplage) et ordonne le graphique des liaisons (voir l'exemple ci-dessous).</font></font><a name="habracut"></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les événements DOM ne fonctionnent que dans la hiérarchie - ils peuvent apparaître de bas en haut de la chaîne des ancêtres, ou être diffusés à tous les descendants. </font><font style="vertical-align: inherit;">Dans d'autres cas, l'API de navigateur standard est utilisée pour adresser le composant: document.querySelector ('page-home'), et certains composants peuvent s'enregistrer dans la fenêtre et utilisés globalement: APP.route ('page-login').</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Styles intérieurs. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le DOM fantôme n'est pas utilisé, donc les composants héritent des styles globaux, mais peuvent aussi avoir les leurs. </font><font style="vertical-align: inherit;">Étant donné qu'il est peu probable que &lt;style scoped&gt; soit implémenté dans un avenir proche, vous devez utiliser le préfixe du nom du composant pour déclarer le style interne, mais cela est laconique et fonctionne correctement (voir l'exemple ci-dessous).</font></font></li>
<li><b>  HTML/DOM.</b>  DOM —  ,        HTML (value, checked, innerHTML  contenteditable=«true»  ..).   JS  ,        —     / ,       (    ).           , , this.pass —  ,     &lt;input&gt;  .  ,     DOM,   ,         ,        ,     .</li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La navigation. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les composants de la page vivent à l'intérieur du conteneur &lt;main&gt;, et une fois créés, ils ne sont pas supprimés, mais simplement masqués. </font><font style="vertical-align: inherit;">Cela vous permet d'implémenter la navigation à l'aide de location.hash, et les boutons de navigateur standard d'avant en arrière fonctionnent correctement. </font><font style="vertical-align: inherit;">Lorsque vous accédez à un composant existant, la méthode onRoute () est appelée, où vous pouvez mettre à jour les données.</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Structure d'application</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Notre application consiste en:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le composant racine &lt;app-app&gt;, accessible via window.APP, qui contient le routeur de page et la fonctionnalité globale;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">des panneaux avec des boutons contextuels (je ne les ai pas placés dans un composant séparé, mais je les ai intégrés à la disposition &lt;app-app&gt; pour simplifier la gestion des événements);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menu déroulant (composant séparé);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le conteneur &lt;main&gt; dans lequel les composants de la page seront ajoutés: &lt;page-home&gt;, &lt;page-login&gt;, &lt;page-work&gt; lors de leur ouverture.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les pages sont empilées avec une navigation dans les deux sens. </font><font style="vertical-align: inherit;">De plus, nous montrons des flux de données ascendants et descendants:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le statut d'autorisation et le nom d'utilisateur actuel sont stockés dans le composant &lt;app-app&gt;, mais proviennent du composant &lt;page-login&gt; via un événement contextuel.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un temporisateur fait tic tac dans le composant &lt;app-app&gt;, qui envoie la valeur actuelle vers le bas au moyen d'un événement de diffusion qui n'est intercepté que dans le descendant de &lt;page-work&gt;.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Grâce à des événements contextuels, l'installation de boutons contextuels sur le panneau d'application est également implémentée - les boutons eux-mêmes, ainsi que les gestionnaires, sont créés dans les composants de la page, puis envoyés en haut, où ils sont interceptés au niveau de l'application et insérés dans le panneau.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la mise en oeuvre</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour travailler avec le DOM interne du composant et envoyer des événements en aval, la minuscule bibliothèque </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WcMixin.js</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">utilisée</font></a><font style="vertical-align: inherit;"> - moins de 200 lignes de code, dont la moitié (unification des événements d'entrée utilisateur) peut également être supprimée. </font><font style="vertical-align: inherit;">Tout le reste est de la vanille pure. </font><font style="vertical-align: inherit;">Un composant typique (page d'autorisation) ressemble à ceci:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> wcmixin <span class="hljs-keyword">from</span> <span class="hljs-string">'./WcMixin.js'</span><font></font>
<font></font>
<span class="hljs-keyword">const</span> me = <span class="hljs-string">'page-login'</span>
customElements.define(me, <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HTMLElement</span> </span>{<font></font>
   _but = <span class="hljs-literal">null</span><font></font>
<font></font>
   connectedCallback() {<font></font>
      <span class="hljs-keyword">this</span>.innerHTML = <span class="hljs-string">`
         &lt;style scoped&gt;
            <span class="hljs-subst">${me}</span> {
               height: 90%; width: 100%;
               display: flex; flex-direction: column;
               justify-content: center; align-items: center;
            }
            <span class="hljs-subst">${me}</span> input { width: 60%; }
         &lt;/style&gt;
         &lt;input w-id='userInp/user' placeholder='user'/&gt;&nbsp;
         &lt;input w-id='passInp/pass' type='password' placeholder='password'/&gt;
      `</span>
      wcmixin(<span class="hljs-keyword">this</span>)<font></font>
<font></font>
      <span class="hljs-keyword">this</span>.userInp.oninput = <span class="hljs-function">(<span class="hljs-params">ev</span>) =&gt;</span> {
         <span class="hljs-keyword">this</span>.bubbleEvent(<span class="hljs-string">'login-change'</span>, {<span class="hljs-attr">logged</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">user</span>: <span class="hljs-keyword">this</span>.user})<font></font>
      }<font></font>
<font></font>
      <span class="hljs-keyword">this</span>.passInp.onkeypress = <span class="hljs-function">(<span class="hljs-params">ev</span>) =&gt;</span> {
         <span class="hljs-keyword">if</span> (ev.key === <span class="hljs-string">'Enter'</span>) <span class="hljs-keyword">this</span>.login()<font></font>
      }<font></font>
   }<font></font>
<font></font>
   onRoute() {<font></font>
      <span class="hljs-keyword">this</span>.userInp.focus()
      <span class="hljs-keyword">this</span>._but = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'button'</span>)
      <span class="hljs-keyword">this</span>._but.innerHTML = <span class="hljs-string">'Log in&lt;br&gt;⇒'</span>
      <span class="hljs-keyword">this</span>._but.onclick = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">this</span>.login()
      <span class="hljs-keyword">this</span>.bubbleEvent(<span class="hljs-string">'set-buts'</span>, { <span class="hljs-attr">custom</span>: [<span class="hljs-keyword">this</span>._but] })<font></font>
   }<font></font>
<font></font>
   <span class="hljs-keyword">async</span> login() {<font></font>
      APP.msg = <span class="hljs-string">'Authorization...'</span>
      <span class="hljs-keyword">this</span>._but.disabled = <span class="hljs-literal">true</span>
      setTimeout(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
         <span class="hljs-keyword">this</span>._but.disabled = <span class="hljs-literal">false</span>
         <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.user) {
            <span class="hljs-keyword">this</span>.bubbleEvent(<span class="hljs-string">'login-change'</span>, {<span class="hljs-attr">logged</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">user</span>: <span class="hljs-keyword">this</span>.user})<font></font>
            APP.route(<span class="hljs-string">'page-work'</span>)<font></font>
         } <span class="hljs-keyword">else</span> {<font></font>
            APP.msg = <span class="hljs-string">'Empty user !'</span>
            <span class="hljs-keyword">this</span>.userInp.focus()<font></font>
         }<font></font>
      }, <span class="hljs-number">1500</span>)<font></font>
   }<font></font>
})<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout d'abord, nous voyons ici les styles locaux du composant. Deuxièmement, le seul attribut non standard w-id = `` userInp / user '' a été ajouté au balisage HTML. La fonction wcmixin () traite tous les éléments marqués avec cet attribut et ajoute des variables au composant actuel: this.userInp fait référence à l'élément &lt;input&gt; lui-même (qui vous permet de bloquer le gestionnaire), et this.user est la valeur de l'élément (username). Si l'accès à l'élément n'est pas nécessaire, vous pouvez spécifier w-id = `` / user '', et seule la valeur sera créée. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque vous entrez un nom d'utilisateur, nous envoyons la valeur actuelle par le biais d'un événement contextuel, créons un bouton contextuel dans la méthode onRoute () et l'envoyons également.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est important que le composant d'autorisation ne sache rien des composants supérieurs de l'application / du panneau, c'est-à-dire qu'il n'est pas accroché. </font><font style="vertical-align: inherit;">Il envoie simplement les événements à l'étage, et quiconque les intercepte dépend du développeur. </font><font style="vertical-align: inherit;">La réception des événements de l'application &lt;app-app&gt; dans le composant &lt;page-work&gt; est implémentée de la même manière:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> wcmixin <span class="hljs-keyword">from</span> <span class="hljs-string">'./WcMixin.js'</span><font></font>
<font></font>
<span class="hljs-keyword">const</span> me = <span class="hljs-string">'page-work'</span>
customElements.define(me, <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HTMLElement</span> </span>{<font></font>
<font></font>
   connectedCallback() {<font></font>
      <span class="hljs-keyword">this</span>.innerHTML = <span class="hljs-string">`
         &lt;p w-id='/msg'&gt;Enter text:&lt;/p&gt;
         &lt;p w-id='textDiv/text' contenteditable='true'&gt;1)&lt;br&gt;2)&lt;br&gt;3)&lt;/p&gt;
      `</span>
      wcmixin(<span class="hljs-keyword">this</span>)<font></font>
<font></font>
      <span class="hljs-keyword">this</span>.addEventListener(<span class="hljs-string">'notify-timer'</span>, (ev) =&gt; {
         <span class="hljs-keyword">this</span>.msg = <span class="hljs-string">`Enter text (elapsed <span class="hljs-subst">${ev.val}</span>s):`</span><font></font>
      })<font></font>
   }<font></font>
<font></font>
   <span class="hljs-keyword">async</span> onRoute() {
      <span class="hljs-keyword">this</span>.textDiv.focus()
      <span class="hljs-built_in">document</span>.execCommand(<span class="hljs-string">'selectAll'</span>,<span class="hljs-literal">false</span>,<span class="hljs-literal">null</span>)
      <span class="hljs-keyword">const</span> but = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'button'</span>)<font></font>
      but.innerHTML = <span class="hljs-string">'Done&lt;br&gt;⇒'</span>
      but.onclick = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> alert(<span class="hljs-keyword">this</span>.text)
      <span class="hljs-keyword">this</span>.bubbleEvent(<span class="hljs-string">'set-buts'</span>, { <span class="hljs-attr">custom</span>: [but] })<font></font>
   }<font></font>
})<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et dans le composant &lt;app-app&gt; nous écrivons:</font></font><br>
<br>
<pre><code class="javascript hljs">setInterval(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
   <span class="hljs-keyword">this</span>._elapsed += <span class="hljs-number">1</span>
   <span class="hljs-keyword">this</span>.drownEvent(<span class="hljs-string">'notify-timer'</span>, <span class="hljs-keyword">this</span>._elapsed)<font></font>
}, <span class="hljs-number">1000</span>)
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le composant &lt;app-app&gt; ne sait rien non plus sur les composants de page qui veulent utiliser son compteur, c'est-à-dire qu'il n'est pas accroché à ses descendants. </font><font style="vertical-align: inherit;">Il suffit que le développeur se mette d'accord sur les signatures d'événement. </font><font style="vertical-align: inherit;">Les événements DOM sont légers, les événements descendants sont envoyés uniquement aux composants Web (et non aux éléments simples), et les événements ascendants traversent toute la chaîne des ancêtres en standard. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En fait, c'est tout ce que je voulais dire. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
→&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Code de projet complet</font></font></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Objections et suggestions</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
On m'objecte souvent qu'une telle approche mélange la logique métier et l'affichage dans un composant «épais», ce qui viole les schémas généralement acceptés. Cependant, nous ne parlons que de la logique d'affichage et de validation des entrées utilisateur, le reste de la logique métier peut être facilement déplacé vers des classes JS ou même des services séparés - avec sa propre hiérarchie et ses propres méthodes d'interaction. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pourquoi est-ce nécessaire? Il y a toujours un problème de performances de rendu (la récupération de place n'est pas gratuite), et une approche impérative utilisant des outils natifs sera toujours plus rapide et moins gourmande en ressources que déclarative / fonctionnelle utilisant les bibliothèques JS et VDOM. Si vous le souhaitez, je suis prêt à concurrencer un représentant de n'importe quel cadre, sur un mandat convenu, si vous assumez la fonction d'analyse comparative (je peux le faire mal).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Merci pour l'attention.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr500468/index.html">Guide des fonctionnalités Java 8-14</a></li>
<li><a href="../fr500470/index.html">Adapter votre solution commerciale existante pour SwiftUI. Partie 3. Travailler avec l'architecture</a></li>
<li><a href="../fr500472/index.html">Python est temps de faire de la place. À propos des perspectives de Julia</a></li>
<li><a href="../fr500476/index.html">Incertitude</a></li>
<li><a href="../fr500478/index.html">Tetris sur la manche: matériau perméable aux gaz pour l'électronique portable</a></li>
<li><a href="../fr500486/index.html">Comment expliquer la notation binaire</a></li>
<li><a href="../fr500488/index.html">Dispersion et méthode de diffusion dynamique de la lumière: un grand pas en médecine et en médecine légale</a></li>
<li><a href="../fr500492/index.html">Adapter votre solution commerciale existante pour SwiftUI. Partie 4. Navigation et configuration</a></li>
<li><a href="../fr500494/index.html">Vérification orthographique en ligne VS confidentialité</a></li>
<li><a href="../fr500498/index.html">Créez un service Python Flask avec des données COVID-19 à jour de Wikipedia</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>