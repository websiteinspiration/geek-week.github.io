<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåÉ üßòüèª ‚úäüèΩ Verschl√ºsseln wir SSL-Zertifikate mit dem Cert-Manager in Kubernetes üë®üèº üö£üèº üçï</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In diesem Artikel werde ich dar√ºber sprechen, wie die Bestellung und Erneuerung von Zertifikaten von Let's Encrypt (und nicht nur) f√ºr Ingress in Kube...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Verschl√ºsseln wir SSL-Zertifikate mit dem Cert-Manager in Kubernetes</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/496936/"><img src="https://habrastorage.org/webt/la/qd/o7/laqdo7i6ovirl5ciie_qmnbrau4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diesem Artikel werde ich dar√ºber sprechen, wie die Bestellung und Erneuerung von Zertifikaten von Let's Encrypt (und nicht nur) f√ºr Ingress in Kubernetes mithilfe des Add-On-Zertifikatsmanagers automatisiert werden kann. </font><font style="vertical-align: inherit;">Aber ich beginne mit einer kurzen Einf√ºhrung in das Wesentliche des Problems.</font></font><a name="habracut"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein bisschen Bildungsprogramm</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das HTTP-Protokoll, das in den fr√ºhen 90er Jahren des letzten Jahrhunderts entwickelt wurde, ist so eng in unseren Alltag eingedrungen, dass man sich kaum einen Tag ohne Verwendung vorstellen kann. An sich bietet es jedoch nicht einmal ein Mindestma√ü an Sicherheit beim Austausch von Informationen zwischen einem Benutzer und einem Webserver. HTTPS (‚ÄûS‚Äú - sicher) hilft dabei: Durch die Verpackung der √ºbertragenen Daten in SSL / TLS hat sich dieses Protokoll beim Schutz von Informationen vor dem Abfangen bew√§hrt und wird von der Industrie aktiv gef√∂rdert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zum Beispiel hat Google </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://security.googleblog.com/2014/08/"><font style="vertical-align: inherit;">an</font></a><font style="vertical-align: inherit;"> 2014 </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://security.googleblog.com/2014/08/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">festgehalten</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Position "HTTPS √ºberall" und senkt sogar die Priorit√§t von Websites ohne diese in den Suchergebnissen. Diese ‚ÄûPropaganda‚Äú umgeht auch nicht die normalen Verbraucher: Moderne Browser warnen ihre Benutzer vor dem Vorhandensein und der Richtigkeit von SSL-Zertifikaten f√ºr besuchte Websites. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sr/me/il/srmeilomqktrr7qofwjlgpiw01i.png"><br>
<img src="https://habrastorage.org/webt/mj/jo/pf/mjjopfpjvy84bnbdae_mv6vluw8.png"><br>
<img src="https://habrastorage.org/webt/dd/t4/vn/ddt4vnh-3yseofqyzip5qma-dti.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Kosten f√ºr ein Zertifikat f√ºr eine pers√∂nliche Website beginnen bei mehreren zehn Dollar. Es ist nicht immer gerechtfertigt und angemessen, es zu kaufen. Gl√ºcklicherweise ist seit Ende 2015 eine kostenlose Alternative in Form von </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Let's Encrypt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (LE) </font><font style="vertical-align: inherit;">-Zertifikaten verf√ºgbar </font><font style="vertical-align: inherit;">. Dieses gemeinn√ºtzige Projekt wurde von Mozilla-Enthusiasten erstellt, um die meisten Websites verschl√ºsselt abzudecken. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Zertifizierungsstelle stellt </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">dom√§nenvalidierte</font></a><font style="vertical-align: inherit;"> Zertifikate aus</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(das einfachste unter den auf dem Markt erh√§ltlichen) mit einer G√ºltigkeitsdauer von 90 Tagen, und seit vielen Jahren ist es m√∂glich, das sogenannte Wildcard-Zertifikat f√ºr mehrere Subdomains auszustellen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um das Zertifikat zu erhalten, verwendet die Site die Algorithmen, die im </font><font style="vertical-align: inherit;">ACME- </font><font style="vertical-align: inherit;">Protokoll </font><font style="vertical-align: inherit;">( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Automated Certificate Management Environment</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) beschrieben sind, das speziell f√ºr Let's Encrypt erstellt wurde. </font><font style="vertical-align: inherit;">Bei Verwendung erfolgt die Best√§tigung des Dom√§nenbesitzes durch Anforderungen durch Platzierung eines bestimmten HTTP-Codes ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTTP-01</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) oder Installation von DNS-Eintr√§gen </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(DNS-01).</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Weitere Informationen hierzu finden Sie weiter unten.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zertifizierungsmanager</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cert-Manager</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ist ein spezielles Projekt f√ºr Kubernetes, bei dem es sich um eine Reihe von CustomResourceDefinitions (daher die </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beschr√§nkung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> der unterst√ºtzten Mindestversion von K8s - v1.12) f√ºr die CA-Konfiguration (Zertifizierungsstellen) und die direkte Bestellung von Zertifikaten handelt. </font><font style="vertical-align: inherit;">Die Installation von CRD in einem Cluster ist trivial und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">erfordert die</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Verwendung einer YAML-Datei:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl create ns cert-manager<font></font>
kubectl apply -f https://github.com/jetstack/cert-manager/releases/download/v0.13.0/cert-manager.yaml</code></pre><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es besteht</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> auch die M√∂glichkeit der Installation mit Helm.)</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Um den Bestellvorgang zu starten, m√ºssen im Cluster die Ressourcen der Zertifizierungsstellen (CAs) deklariert sein: </font></font><code>Issuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">oder </font></font><code>ClusterIssuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, - die zum Signieren der CSR (Certificate Issuance Requests) verwendet werden. </font><font style="vertical-align: inherit;">Der Unterschied zwischen der ersten und der zweiten Ressource liegt im Umfang:</font></font><br>
<br>
<ul>
<li> <code>Issuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> kann im selben Namespace verwendet werden,</font></font></li>
<li> <code>ClusterIssuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ist ein globales Clusterobjekt.</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√úbe mit dem Cert-Manager</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nr. 1. </font><font style="vertical-align: inherit;">Selbstsigniertes Zertifikat</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beginnen wir mit dem einfachsten Fall - der Bestellung eines selbstsignierten Zertifikats. </font><font style="vertical-align: inherit;">Diese Option ist beispielsweise in dynamischen Testumgebungen f√ºr Entwickler oder bei Verwendung eines externen Balancers, der den SSL-Verkehr beendet, weit verbreitet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Ressource </font></font><code>Issuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sieht folgenderma√üen aus:</font></font><br>
<br>
<pre><code class="plaintext hljs">apiVersion: cert-manager.io/v1alpha2<font></font>
kind: Issuer<font></font>
metadata:<font></font>
  name: selfsigned<font></font>
spec:<font></font>
  selfSigned: {}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um ein Zertifikat ausstellen zu k√∂nnen, muss die Ressource beschrieben werden </font></font><code>Certificate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, wo angegeben wird, wie sie ausgestellt werden soll (siehe Abschnitt </font></font><code>issuerRef</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">unten) und wo sich der private Schl√ºssel (Feld </font></font><code>secretName</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) befindet. </font><font style="vertical-align: inherit;">Danach muss sich Ingress auf diesen Schl√ºssel beziehen (siehe Abschnitt </font></font><code>tls</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c </font></font><code>spec</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">):</font></font><br>
<br>
<pre><code class="plaintext hljs">---<font></font>
apiVersion: cert-manager.io/v1alpha2<font></font>
kind: Certificate<font></font>
metadata:<font></font>
  name: selfsigned-crt<font></font>
spec:<font></font>
  secretName: tls-secret<font></font>
  issuerRef:<font></font>
    kind: Issuer<font></font>
    name: selfsigned<font></font>
  commonName: "yet-another.website"<font></font>
  dnsNames:<font></font>
  - "yet-another.website"<font></font>
---<font></font>
apiVersion: networking.k8s.io/v1beta1<font></font>
kind: Ingress<font></font>
metadata:<font></font>
  name: app<font></font>
spec:<font></font>
  tls:<font></font>
  - hosts:<font></font>
    - "yet-another.website"<font></font>
    secretName: tls-secret<font></font>
  rules:<font></font>
  - host: "yet-another.website"<font></font>
    http:<font></font>
      paths:<font></font>
      - path: /<font></font>
        backend:<font></font>
          serviceName: app<font></font>
          servicePort: 8080</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Einige Sekunden nach dem Hinzuf√ºgen dieser Ressourcen zum Cluster wird das Zertifikat ausgestellt. </font><font style="vertical-align: inherit;">Sie k√∂nnen den entsprechenden Bericht in der Ausgabe des Befehls sehen:</font></font><br>
<br>
<pre><code class="plaintext hljs">kubectl -n app describe  certificate selfsigned-crt<font></font>
...<font></font>
  Normal  GeneratedKey  5s    cert-manager  Generated a new private key<font></font>
  Normal  Requested     5s    cert-manager  Created new CertificateRequest resource "selfsigned-crt-4198958557"<font></font>
  Normal  Issued        5s    cert-manager  Certificate issued successfully</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie sich die geheime Ressource selbst ansehen, enth√§lt sie:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">privater Schl√ºssel </font></font><code>tls.key</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stammzertifikat </font></font><code>ca.crt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unser selbstsigniertes Zertifikat </font></font><code>tls.crt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Inhalt dieser Dateien kann beispielsweise mit dem Dienstprogramm </font></font><code>openssl</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wie folgt angezeigt werden:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl -n app get secret tls-secret -ojson | jq -r <span class="hljs-string">'.data."tls.crt"'</span> | base64 -d | openssl x509 -dates -noout -issuer<font></font>
notBefore=Feb 10 21:01:59 2020 GMT<font></font>
notAfter=May 10 21:01:59 2020 GMT<font></font>
issuer=O = cert-manager, CN = yet-another.website</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist anzumerken, dass das damit ausgestellte Zertifikat im allgemeinen Fall </font><b><font style="vertical-align: inherit;">von den</font></b></font><code>Issuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> verbundenen Clients </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nicht als vertrauensw√ºrdig eingestuft wird</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Der Grund ist einfach: Es gibt keine Zertifizierungsstelle </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(siehe </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hinweis auf der Projektwebsite</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Um dies zu vermeiden, m√ºssen Sie im </font></font><code>Certificate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pfad zu der geheimen Datei </font><font style="vertical-align: inherit;">angeben, in der </font><font style="vertical-align: inherit;">sie enthalten ist </font></font><code>ca.crt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Dies kann eine Unternehmens-CA-Organisation sein, um die f√ºr Ingress ausgestellten Zertifikate mit einem Schl√ºssel zu signieren, der bereits f√ºr die Anforderungen anderer Serverdienste / Informationssysteme verwendet wird.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nr. 2. </font><font style="vertical-align: inherit;">Verschl√ºsseln wir das Zertifikat mit der HTTP-Validierung</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie bereits erw√§hnt, stehen f√ºr die Ausstellung von LE-Zertifikaten </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zwei Arten der Best√§tigung des</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dom√§nenbesitzes </font><font style="vertical-align: inherit;">zur Verf√ºgung </font><font style="vertical-align: inherit;">: HTTP-01 und DNS-01. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der erste Ansatz (HTTP-01) </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://cert-manager.io/docs/configuration/acme/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">besteht</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> darin, einen kleinen Webserver mit einer separaten Bereitstellung zu starten, der √ºber den Link </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;YOUR_DOMAIN</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &gt; / </font><font style="vertical-align: inherit;">an das Internet </font><a href=""><font style="vertical-align: inherit;">gesendet wird</font></a><font style="vertical-align: inherit;"> . Bekannte / acme-Challenge / &lt;TOKEN&gt; Einige vom Zertifizierungsserver angeforderte Daten. </font><font style="vertical-align: inherit;">Daher impliziert diese Methode die Verf√ºgbarkeit von Ingress von au√üen an Port 80 und die Aufl√∂sung des DNS-Eintrags der Dom√§ne in √∂ffentliche IP-Adressen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die zweite Option zum √úberpr√ºfen des ausgestellten Zertifikats (DNS-01) </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stammt von</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">von einer API bis zum DNS-Server, auf dem die Dom√§neneintr√§ge gehostet werden. Der Aussteller erstellt mit den angegebenen Token TXT-Datens√§tze in der Dom√§ne, die der ACME-Server dann w√§hrend der Best√§tigung erh√§lt. Zu den offiziell unterst√ºtzten DNS-Anbietern z√§hlen CloudFlare, AWS Route53, Google CloudDNS und andere, einschlie√ülich der eigenen Implementierung ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">acme-dns</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hinweis</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Let's Encrypt hat recht </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">strenge Beschr√§nkungen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> f√ºr Anforderungen an ACME-Server. Um nicht in ein langes Verbot zu geraten, wird empfohlen, zum Debuggen </font><font style="vertical-align: inherit;">den </font><font style="vertical-align: inherit;">Zertifikatstyp </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">letsencrypt-staging</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zu verwenden </font><font style="vertical-align: inherit;">(der Unterschied besteht nur beim ACME-Server). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Also beschreiben wir die Ressourcen:</font></font><br>
<br>
<pre><code class="plaintext hljs">apiVersion: cert-manager.io/v1alpha2<font></font>
kind: Issuer<font></font>
metadata:<font></font>
  name: letsencrypt<font></font>
spec:<font></font>
  acme:<font></font>
    server: https://acme-staging-v02.api.letsencrypt.org/directory <font></font>
    privateKeySecretRef:<font></font>
      name: letsencrypt<font></font>
    solvers:<font></font>
    - http01:<font></font>
       ingress:<font></font>
         class: nginx<font></font>
---<font></font>
apiVersion: cert-manager.io/v1alpha2<font></font>
kind: Certificate<font></font>
metadata:<font></font>
  name: le-crt<font></font>
spec:<font></font>
  secretName: tls-secret<font></font>
  issuerRef:<font></font>
    kind: Issuer<font></font>
    name: letsencrypt<font></font>
  commonName: yet-another.website<font></font>
  dnsNames:<font></font>
  - yet-another.website</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beachten Sie, dass die </font><font style="vertical-align: inherit;">Adresse des </font><b><font style="vertical-align: inherit;">Staging-</font></b><font style="vertical-align: inherit;"> Servers </font><font style="vertical-align: inherit;">als </font></font><code>server</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y </font></font><code>acme</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(c </font></font><code>Issuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) angegeben ist </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Ersetzen Sie es durch eine Schlacht wird sp√§ter m√∂glich sein. </font><font style="vertical-align: inherit;">
Mit dieser Konfiguration verfolgen wir den gesamten Bestellpfad:</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Sch√∂pfung </font></font><code>Certificate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">brachte eine neue Ressource hervor </font></font><code>CertificateRequest</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl -n app describe certificate le-crt<font></font>
...<font></font>
Created new CertificateRequest resource <span class="hljs-string">"le-crt-1127528680"</span></code></pre></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In seiner Beschreibung - ein Zeichen auf der Sch√∂pfung </font></font><code>Order</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl -n app describe certificaterequests le-crt-1127528680<font></font>
‚Ä¶<font></font>
Created Order resource app/le-crt-1127528680-1805948596</code></pre></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es </font></font><code>Order</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">beschreibt, mit welchen Parametern der Test besteht und welchen aktuellen Status er hat. </font><font style="vertical-align: inherit;">Eine solche √úberpr√ºfung wird von der Ressource durchgef√ºhrt </font></font><code>Challenge</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl -n app describe order le-crt-1127528680-1805948596<font></font>
‚Ä¶<font></font>
Created Challenge resource <span class="hljs-string">"le-crt-1127528680-1805948596-1231544594"</span> <span class="hljs-keyword">for</span> domain <span class="hljs-string">"yet-another.website"</span></code></pre></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Schlie√ülich enthalten die Details dieser Ressource Informationen zum Status des Scans selbst:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl -n app describe challenges le-crt-1127528680-1805948596-1231544594<font></font>
...<font></font>
  Reason:      Successfully authorized domain                                                                                                                                                                      <font></font>
...<font></font>
  Normal  Started         2m45s  cert-manager  Challenge scheduled <span class="hljs-keyword">for</span> processing<font></font>
  Normal  Presented       2m45s  cert-manager  Presented challenge using http-01 challenge mechanism<font></font>
  Normal  DomainVerified  2m22s  cert-manager  Domain <span class="hljs-string">"yet-another.website"</span> verified with <span class="hljs-string">"http-01"</span> validation</code></pre></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn alle Bedingungen erf√ºllt sind (d. H. Die Domain ist von au√üen zug√§nglich, es gibt kein Verbot der LE ...) - in weniger als einer Minute wird das Zertifikat ausgestellt. </font><font style="vertical-align: inherit;">Bei Erfolg wird ein </font></font><code>describe certificate le-crt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Datensatz </font><font style="vertical-align: inherit;">in der Ausgabe angezeigt </font></font><code>Certificate issued successfully</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt k√∂nnen Sie die Serveradresse sicher in Combat ( </font></font><code>https://acme-v02.api.letsencrypt.org/directory</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font><font style="vertical-align: inherit;">√§ndern </font><font style="vertical-align: inherit;">und die bereits signierten echten Zertifikate nicht neu bestellen </font></font><code>Fake LE Intermediate X1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, sondern </font></font><code>Let's Encrypt Authority X3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dazu m√ºssen Sie zun√§chst die Ressource l√∂schen. </font></font><code>Certificate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Andernfalls werden keine Bestellverfahren aktiviert, da das Zertifikat bereits vorhanden und relevant ist. </font><font style="vertical-align: inherit;">Das Entfernen eines Geheimnisses f√ºhrt zu seiner sofortigen R√ºckkehr mit einer Nachricht an </font></font><code>describe certificate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="plaintext hljs">  Normal  PrivateKeyLost  44s                   cert-manager  Lost private key for CertificateRequest "le-crt-613810377", deleting old resource</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es bleibt, das "Kampf" -Manifest f√ºr </font></font><code>Issuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">das bereits oben beschriebene </font><font style="vertical-align: inherit;">anzuwenden </font></font><code>Certificate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(es hat sich nicht ge√§ndert):</font></font><br>
<br>
<pre><code class="plaintext hljs">apiVersion: cert-manager.io/v1alpha2<font></font>
kind: Issuer<font></font>
metadata:<font></font>
  name: letsencrypt<font></font>
spec:<font></font>
  acme:<font></font>
    server: https://acme-v02.api.letsencrypt.org/directory<font></font>
    privateKeySecretRef:<font></font>
      name: letsencrypt<font></font>
    solvers:<font></font>
    - http01:<font></font>
       ingress:<font></font>
         class: nginx</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nach dem </font><font style="vertical-align: inherit;">Empfang der Nachricht </font></font><code>Certificate issued successfully</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>describe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√ºberpr√ºfen Sie </font><font style="vertical-align: inherit;">es:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl -n app get secret tls-secret -ojson | jq -r <span class="hljs-string">'.data."tls.crt"'</span> | base64 -d | openssl x509 -dates -noout -issuer<font></font>
notBefore=Feb 10 21:11:48 2020 GMT<font></font>
notAfter=May 10 21:11:48 2020 GMT<font></font>
issuer=C = US, O = Let<span class="hljs-string">'s Encrypt, CN = Let'</span>s Encrypt Authority X3</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nummer 3. </font><font style="vertical-align: inherit;">Platzhalter LE mit DNS-Validierung</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir werden die Aufgabe komplizieren, indem wir sofort ein Zertifikat an alle Subdomains der Site schreiben und diesmal die DNS-Pr√ºfung (√ºber CloudFlare) verwenden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Rufen Sie zun√§chst das Token in der CloudFlare-Systemsteuerung ab, um die API zu bearbeiten:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Profil ‚Üí API-Token ‚Üí Token erstellen.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Legen Sie die Berechtigungen wie folgt fest:</font></font><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Berechtigungen:</font></font><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zone - DNS - Bearbeiten</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zone - Zone - Lesen</font></font></li>
</ul></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zonenressourcen:</font></font><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Einschlie√üen - Alle Zonen</font></font></li>
</ul></li>
</ul></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kopieren Sie den nach dem Speichern erhaltenen Token (zum Beispiel :) </font></font><code>y_JNkgQwkroIsflbbYqYmBooyspN6BskXZpsiH4M</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Erstellen Sie ein Geheimnis, in dem dieses Token gespeichert wird, und verweisen Sie im Aussteller darauf:</font></font><br>
<br>
<pre><code class="plaintext hljs">apiVersion: v1<font></font>
kind: Secret<font></font>
metadata:<font></font>
  name: cloudflare-api-token<font></font>
type: Opaque<font></font>
stringData:<font></font>
  api-token: y_JNkgQwkroIsflbbYqYmBooyspN6BskXZpsiH4M<font></font>
---<font></font>
apiVersion: cert-manager.io/v1alpha2<font></font>
kind: Issuer<font></font>
metadata:<font></font>
  name: letsencrypt<font></font>
spec:<font></font>
  acme:<font></font>
    server: https://acme-v02.api.letsencrypt.org/directory <font></font>
    privateKeySecretRef:<font></font>
      name: letsencrypt<font></font>
    solvers:<font></font>
    - dns01:<font></font>
        cloudflare:<font></font>
          email: my-cloudflare-acc@example.com<font></font>
          apiTokenSecretRef:<font></font>
            name: cloudflare-api-token<font></font>
            key: api-token<font></font>
<font></font>
---<font></font>
apiVersion: cert-manager.io/v1alpha2<font></font>
kind: Certificate<font></font>
metadata:<font></font>
  name: le-crt<font></font>
spec:<font></font>
  secretName: tls-secret<font></font>
  issuerRef:<font></font>
    kind: Issuer<font></font>
    name: letsencrypt<font></font>
  commonName: yet-another.website<font></font>
  dnsNames:<font></font>
  - "yet-another.website"<font></font>
  - "*.yet-another.website"</code></pre><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Vergessen Sie nicht, Staging zu verwenden, wenn Sie experimentieren!)</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
F√ºhren Sie den Vorgang zum Best√§tigen des Domainbesitzes durch:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl -n app describe challenges.acme.cert-manager.io le-crt-613810377-1285319347-3806582233<font></font>
...<font></font>
Status:<font></font>
  Presented:   <span class="hljs-literal">true</span>
  Processing:  <span class="hljs-literal">true</span>
  Reason:      Waiting <span class="hljs-keyword">for</span> dns-01 challenge propagation: DNS record <span class="hljs-keyword">for</span> <span class="hljs-string">"yet-another.website"</span> not yet propagated<font></font>
  State:       pending<font></font>
Events:<font></font>
  Type    Reason     Age   From          Message<font></font>
  ----    ------     ----  ----          -------<font></font>
  Normal  Started    54s   cert-manager  Challenge scheduled <span class="hljs-keyword">for</span> processing<font></font>
  Normal  Presented  53s   cert-manager  Presented challenge using dns-01 challenge mechanism</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein TXT-Datensatz wird im Bedienfeld angezeigt: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/po/hk/jc/pohkjc19ui1olxdlfeaiuuqm3ne.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... und nach einer Weile √§ndert sich der Status in:</font></font><br>
<br>
<pre><code class="plaintext hljs">Domain "yet-another.website" verified with "dns-01" validation</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Stellen Sie sicher, dass das Zertifikat f√ºr jede Subdomain g√ºltig ist:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl -n app get secret tls-secret -ojson | jq -r <span class="hljs-string">'.data."tls.crt"'</span> | base64 -d | openssl x509 -dates -noout -text |grep DNS:<font></font>
          DNS:*.yet-another.website, DNS:yet-another.website</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Validierung durch DNS erfolgt in der Regel nicht schnell, da die meisten DNS-Anbieter √ºber einen Datenaktualisierungszeitraum verf√ºgen, der angibt, wie viel Zeit von der √Ñnderung des DNS-Eintrags bis zur tats√§chlichen Aktualisierung aller DNS-Server des Anbieters vergeht. </font><font style="vertical-align: inherit;">Der ACME-Standard bietet jedoch auch eine Kombination aus zwei √úberpr√ºfungsoptionen, mit denen der Empfang eines Zertifikats f√ºr die Hauptdom√§ne beschleunigt werden kann. </font><font style="vertical-align: inherit;">In diesem Fall </font></font><code>Issuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lautet </font><font style="vertical-align: inherit;">die Beschreibung </font><font style="vertical-align: inherit;">wie folgt:</font></font><br>
<br>
<pre><code class="1c hljs">apiVersion: cert-manager.io/v1alpha2<font></font>
kind: Issuer<font></font>
metadata:<font></font>
  name: letsencrypt<font></font>
spec:<font></font>
  acme:<font></font>
    server: https:<span class="hljs-comment">//acme-v02.api.letsencrypt.org/directory</span><font></font>
    privateKeySecretRef:<font></font>
      name: letsencrypt<font></font>
    solvers:<font></font>
    - selector:<font></font>
        dnsNames:<font></font>
        - <span class="hljs-string">"*.yet-another.website"</span><font></font>
      dns01:<font></font>
        cloudflare:<font></font>
          email: my-cloudflare-acc@example.com<font></font>
          apiTokenSecretRef:<font></font>
            name: cloudflare-api-token<font></font>
            key: api-token            <font></font>
    - selector:<font></font>
        dnsNames:<font></font>
        - <span class="hljs-string">"yet-another.website"</span><font></font>
      http01:<font></font>
        ingress:<font></font>
          class: nginx</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie diese Konfiguration anwenden, werden zwei Ressourcen erstellt </font></font><code>Challenge</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl -n app describe orders le-crt-613810377-1285319347<font></font>
‚Ä¶<font></font>
  Normal  Created  3m29s  cert-manager  Created Challenge resource <span class="hljs-string">"le-crt-613810377-1285319347-3996324737"</span> <span class="hljs-keyword">for</span> domain <span class="hljs-string">"yet-another.website"</span>                 
  Normal  Created  3m29s  cert-manager  Created Challenge resource <span class="hljs-string">"le-crt-613810377-1285319347-1443470517"</span> <span class="hljs-keyword">for</span> domain <span class="hljs-string">"yet-another.website"</span></code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nummer 4. </font><font style="vertical-align: inherit;">Verwenden von Ingress-Spezialanmerkungen</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zus√§tzlich zum direkten Pfad zum Erstellen von Zertifikaten in cert-manager ist es m√∂glich, eine Komponente namens </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ingress-shim zu verwenden</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und Ressourcen nicht explizit zu erstellen </font></font><code>Certificate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Die Idee ist, dass mit Hilfe spezieller Ingress-Anmerkungen das Zertifikat automatisch unter Verwendung des darin angegebenen Zertifikats bestellt wird </font></font><code>Issuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Das Ergebnis ist ungef√§hr die folgende Ingress-Ressource:</font></font><br>
<br>
<pre><code class="plaintext hljs">apiVersion: networking.k8s.io/v1beta1<font></font>
kind: Ingress<font></font>
metadata:<font></font>
  annotations:<font></font>
    cert-manager.io/cluster-issuer: letsencrypt<font></font>
spec:<font></font>
  tls:<font></font>
  - hosts:<font></font>
    - "yet-another.website"<font></font>
    secretName: tls-secret<font></font>
  rules:<font></font>
  - host: "yet-another.website"<font></font>
    http:<font></font>
      paths:<font></font>
      - path: /<font></font>
        backend:<font></font>
          serviceName: app<font></font>
          servicePort: 8080</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F√ºr einen korrekten Betrieb reicht hier nur die Anwesenheit des Emittenten aus, dh es wird eine Entit√§t weniger erstellt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dar√ºber hinaus gibt es eine </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">veraltete</font></font></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Annotation </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kube-lego</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><code>kubernetes.io/tls-acme: "true"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, -, die eine </font></font><code>Issuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Standardaufgabe </font><font style="vertical-align: inherit;">erfordert, </font><font style="vertical-align: inherit;">wenn cert-manager mithilfe von Helm-Parametern (oder in den Startoptionen des Manager-Containers) installiert wird. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir im Unternehmen verwenden diese Optionen nicht und k√∂nnen sie aufgrund der Undurchsichtigkeit der Ans√§tze zur Bestellung von SSL-Zertifikaten (und gleichzeitig aufgrund verschiedener auftretender </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Probleme</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font><font style="vertical-align: inherit;">nicht empfehlen. Wir haben uns </font><font style="vertical-align: inherit;">jedoch entschlossen, sie im Artikel zu erw√§hnen, um ein vollst√§ndigeres Bild zu erhalten.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anstelle einer Schlussfolgerung</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Durch einfache Manipulationen mit CRD haben wir gelernt, wie automatisch erneuerbare, selbstsignierte und kostenlose SSL-Zertifikate aus dem Let's Encrypt-Projekt f√ºr Website-Dom√§nen geschrieben werden, die im Rahmen von Ingresss in Kubernetes-Clustern gestartet wurden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Artikel enth√§lt Beispiele zur L√∂sung der h√§ufigsten Probleme in unserer Praxis. </font><font style="vertical-align: inherit;">Die Cert-Manager-Funktionen sind jedoch nicht auf die oben beschriebenen Funktionen beschr√§nkt. </font><font style="vertical-align: inherit;">Auf der Utility-Website finden Sie Beispiele f√ºr die Arbeit mit anderen Diensten - beispielsweise ein </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bundle mit Vault</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> oder die </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verwendung externer Ausgabezentren</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Emittenten).</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lesen Sie auch in unserem Blog:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eine Einf√ºhrung in die Kubernetes-Netzwerkrichtlinien f√ºr Sicherheitsexperten</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ";</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬´ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tipps und Tricks zu Kubernetes: Benutzerdefinierte Fehlerseite im Ingress NGINX</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ¬ª;</font></font></li>
<li> ¬´<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">    Ingress  Kubernetes</a>¬ª.</li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de496914/index.html">Das k√ºrzeste Dezimalprogramm</a></li>
<li><a href="../de496916/index.html">Fernunterricht, Verhandlung und Beratung - Teil 3: Yealink Meeting Server und 4 Sonderangebote</a></li>
<li><a href="../de496920/index.html">Mit ASP.NET Core und Arduino ein Smart Home erstellen</a></li>
<li><a href="../de496922/index.html">Leitfaden zur Reverse Client-Server-Apk am Beispiel des Jobs NeoQUEST-2020</a></li>
<li><a href="../de496924/index.html">Webkomponenten-Routing</a></li>
<li><a href="../de496938/index.html">Supercomputer, Genomsequenzierung und die Aussichten, das Coronavirus zu besiegen</a></li>
<li><a href="../de496940/index.html">Wie GM-Ingenieure Elektronik testen</a></li>
<li><a href="../de496942/index.html">Digitale Ereignisse in Moskau vom 13. bis 19. April</a></li>
<li><a href="../de496944/index.html">Digitale Veranstaltungen in St. Petersburg vom 13. bis 19. April</a></li>
<li><a href="../de496946/index.html">Noch einmal √ºber GPG-Hardwareschl√ºssel f√ºr einen Cent</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>