<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙇🏽 🤦🏿 🐺 Subtilités des applications Power Automate et Logic. Guide de référence # 1 du développeur citoyen 🧘🏽 💾 🏖️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonne journée à tous! Dans l'un de mes articles précédents, j'ai parlé des fonctionnalités des services cloud Power Automate et Logic Apps. Nous avons...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Subtilités des applications Power Automate et Logic. Guide de référence # 1 du développeur citoyen</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/504250/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bonne journée à tous! </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans l'un de mes articles précédents,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> j'ai parlé des fonctionnalités des services cloud Power Automate et Logic Apps. </font><font style="vertical-align: inherit;">Nous avons examiné les principales différences entre eux, étudié dans quels cas l'un ou l'autre service devait être utilisé, et nous nous sommes également familiarisés avec certains scénarios d'utilisation. </font><font style="vertical-align: inherit;">Aujourd'hui, je voudrais commencer une nouvelle série d'articles consacrés à divers hacks de la vie et solutions de contournement qui vous permettront de mettre en œuvre un certain nombre de scénarios d'entreprise en utilisant les outils disponibles.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/_4/ys/jf/_4ysjfeveeiednycpjwkqhdtlv8.jpeg"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ne perdons pas de temps et examinons l'un des scénarios d'aujourd'hui, à savoir:</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lancer le flux Logic Apps par bouton depuis Power Apps</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans certains cas, lors de la conception et de la configuration de divers modules système, il est plus rentable d'utiliser Logic Apps que Power Automate. Il peut y avoir plusieurs raisons à cela, mais l'une des plus populaires est la présence de connecteurs premium dans Logic Apps sans acheter de plans supplémentaires, tels que Power Automate. Par exemple, dans un flux, vous devrez peut-être effectuer un appel de service Web HTTP et vous connecter à SQL Server, mais dans Power Automate, ces connecteurs ne sont pas disponibles sans acheter un plan spécial pour les utilisateurs ou pour les flux. Dans ce cas, Logic Apps nous aidera, où un mécanisme de tarification légèrement différent est utilisé et tous les connecteurs, y compris premium, sont disponibles initialement. Vous pouvez en savoir plus sur les fonctionnalités de Logic Apps </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dans cet article</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cependant, il existe une fonctionnalité: le flux Logic Apps ne peut pas être lancé par un bouton à partir d'un formulaire ou d'une application Power Apps, contrairement au flux Power Automate. Comment résoudre ce problème? En fait, la solution est assez simple. Considérez ce cas comme un exemple du processus de demande d'assistance technique. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Donc, dans notre cas, nous avons une liste SharePoint des «applications de support technique»: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/jy/ca/yj/jycayjprxln8ndb94gaj1_awfvk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De plus, la liste a une personnalisation du formulaire à l'aide de Power Apps: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/3r/ps/ec/3rpseckafimqn8e49vcwqax9i4y.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme vous pouvez le voir, dans l'en-tête du formulaire, il y a une transition vers un écran supplémentaire avec des boutons d'action pour l'application sélectionnée: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/f1/as/d_/f1asd_iq3cbw075ludc1a88zkcq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cliquez sur "Déléguer la demande" et remplissez les champs supplémentaires:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rl/x-/9i/rlx-9igtxiud6wiilb8rtpi_fgi.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En utilisant le bouton «Confirmer», il est nécessaire de démarrer le flux Logic Apps, mais nous n'avons pas la possibilité d'effectuer cette opération directement. </font><font style="vertical-align: inherit;">Par conséquent, nous allons essayer de faire un peu différemment. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Créez une liste d'actions supplémentaire sur le site SharePoint et ajoutez plusieurs champs:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ActionType - type d'action à appeler</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Commentaires - Commentaires</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ParentItemID - identifiant de l'élément parent (application)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DelegateTo - champ supplémentaire pour stocker le délégué</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CompleteProcessFlag - indicateur de traitement d'action</font></font></li>
</ol><br>
<img src="https://habrastorage.org/webt/g1/fb/h5/g1fbh5imkkma1um9n4xconmjkkk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, à partir de PowerApps, nous créons un élément dans la liste ActionsList en cliquant sur le bouton "Confirmer": </font></font><br>
<br>
<img src="https://habrastorage.org/webt/p4/ub/uz/p4ubuzqzfd6qyoerv75fsfyc7lk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En utilisant la fonction Patch, créez un nouvel élément dans la liste ActionsList avec le type "Délégué" et transférez les valeurs de contrôle restantes du formulaire. Vérifiez que l'élément est créé: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/6i/ov/bm/6iovbmcigjwa2cbrxisltkaysou.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
nous pouvons maintenant accéder à Logic Apps. Nous allons à Azure, créons un nouveau flux Logic Apps et spécifions le déclencheur «Lors de la création d'un élément dans la liste SharePoint»: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wi/rx/zq/wirxzqf15n2gusro7agq6pavems.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous faisons le flux avec le commutateur: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/8w/pk/6y/8wpk6yrndzr0adnajmzpq3fwrvy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La logique de ce flux est la suivante:</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lors de la création d'un élément dans la liste ActionsList, le flux augmente, vérifie la valeur du champ "ActionType" du nouvel élément et, selon le type d'action, se rend dans l'une des branches de commutation où la logique requise est traitée. Ainsi, nous pouvons créer autant de branches que vous le souhaitez pour le commutateur dans un thread et traiter tous les événements dans le même thread. Il ne reste plus qu'à créer des éléments dans la liste ActionsList avec les types d'événements souhaités et à ajouter la prise en charge de ces types au flux, sous la forme de branches de commutation supplémentaires. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Faisons une autre création d'événement à partir de PowerApps, par exemple, pour annuler une application:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/1j/-k/ct/1j-kctwsyscbdjm2mr15xjlowcm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans ce cas, un nouvel événement apparaîtra dans la liste ActionsList avec le type «Rejeter» et des commentaires pour l'annulation. Assurez-vous de transmettre la valeur de l'identifiant de l'élément parent, sinon il sera très problématique de trouver l'ordre requis dans le flux plus tard. Ensuite, ajoutez la prise en charge du nouveau type d'événement dans le flux Logic Apps. Nous faisons une branche de plus dans le switch: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/5-/9f/wb/5-9fwbvx5wh84v_pr2vicc4iw_y.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et il reste à ajouter à la toute fin du flux une mise à jour du drapeau de traitement, afin de comprendre quels événements sont traités par notre flux et lesquels ne le sont pas: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/un/wk/c2/unwkc2sepcbfcasez0x6ohohdzk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce drapeau aidera en cas de situations imprévues pendant lesquelles le traitement de l'événement par le thread échoue. Il sera possible de créer un thread qui, par exemple, augmentera deux fois par jour en fonction d'un planning et traitera les événements de la liste ActionsList, dont l'indicateur «CompleteProcessFlag» est Non.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le mécanisme décrit dans cet article a été implémenté avec succès et fonctionne de manière stable pour plusieurs clients. </font><font style="vertical-align: inherit;">En conclusion, je voudrais dire qu'il y a beaucoup de fonctionnalités intéressantes dans la plate-forme Power qui peuvent ne pas être visibles à première vue, mais elles peuvent être très utiles dans la mise en œuvre de divers cas. </font><font style="vertical-align: inherit;">Dans les articles suivants, je vais essayer de vous montrer encore plus de possibilités. </font><font style="vertical-align: inherit;">Merci beaucoup pour votre attention!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr504230/index.html">NextDNS hors bêta - protection de la vie privée, contournement de la censure de l'État et blocage des publicités pour l'ensemble du réseau domestique</a></li>
<li><a href="../fr504232/index.html">Comment un ingénieur devient Techlida</a></li>
<li><a href="../fr504236/index.html">Déployer l'image Docker sur Dokku avec Ansible</a></li>
<li><a href="../fr504240/index.html">Partie 6. Programmeur de carrière. Propre démarrage</a></li>
<li><a href="../fr504242/index.html">Schéma général</a></li>
<li><a href="../fr504252/index.html">La pandémie comme catalyseur pour les futurs processus de vente au détail</a></li>
<li><a href="../fr504254/index.html">Au-delà de la loi de Moore</a></li>
<li><a href="../fr504256/index.html">Basé sur le cloud</a></li>
<li><a href="../fr504260/index.html">Architecture évolutive pour les grandes applications mobiles</a></li>
<li><a href="../fr504264/index.html">Commentaire Huawei Review: commentez les publications Wi-Fi 6 et obtenez des prix</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>