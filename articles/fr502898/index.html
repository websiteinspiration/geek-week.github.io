<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçπ ‚ôâÔ∏è üßìüèº IoT o√π vous n'avez pas attendu. D√©veloppement et test (partie 2) üî® üö£üèæ üìí</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Suite de la premi√®re partie de l'article ¬´IoT o√π vous n'avez pas attendu. D√©veloppement et tests (partie 1) ¬ª ne s'est pas fait attendre. Cette fois, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>IoT o√π vous n'avez pas attendu. D√©veloppement et test (partie 2)</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/jugru/blog/502898/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suite de la premi√®re partie de l'article </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬´IoT o√π vous n'avez pas attendu. </font><font style="vertical-align: inherit;">D√©veloppement et tests (partie 1) ¬ª</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ne </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">s'est</font></a><font style="vertical-align: inherit;"> pas fait attendre. </font><font style="vertical-align: inherit;">Cette fois, je vais vous dire quelle √©tait l'architecture du projet et quel type de r√¢teau nous avons utilis√© lorsque nous avons commenc√© √† tester notre solution. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Avertissement: pas une seule poubelle </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n'a √©t√©</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> durement touch√©e.</font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/dm/be/gl/dmbeglutox6rwbye8o2jkvgflm4.png"><br>
<a name="habracut"></a><br>
<h2><font color="#DB8E0D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Architecture de projet</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons obtenu un projet de microservice typique. </font><font style="vertical-align: inherit;">La couche de microservices du ¬´niveau inf√©rieur¬ª re√ßoit les donn√©es des appareils et des capteurs, les stocke dans Kafka, apr√®s quoi les microservices orient√©s m√©tier peuvent travailler avec les donn√©es re√ßues de Kafka pour montrer l'√©tat actuel des appareils, construire des analyses et affiner leurs mod√®les. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xw/33/e8/xw33e8qbwceod5p-ik8_3fhcees.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kafka dans le projet IoT est devenu tr√®s cool. </font><font style="vertical-align: inherit;">Compar√© √† d'autres syst√®mes comme RabbitMQ, Kafka pr√©sente plusieurs avantages:</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Travailler avec des flux</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : les donn√©es brutes des capteurs peuvent √™tre trait√©es pour obtenir un flux. </font><font style="vertical-align: inherit;">Et avec les flux, vous pouvez configurer de mani√®re flexible ce que vous souhaitez filtrer en eux, et il est facile de faire du streaming (cr√©er de nouveaux flux de donn√©es)</font></font></li>
<li><b></b>: Kafka    ,          , ,  . - ,    -   ,      .            ,     Kafka   ,    .   ,      ,       ,       .</li>
</ul><br>
<h2><font color="#DB8E0D">  Backend</font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout d'abord, jetons un ≈ìil au backend qui nous est familier, toute la couche m√©tier de l'application est construite sur la m√™me pile Java et Spring. Pour tester des applications de microservices dans un environnement r√©el, nous utilisons la biblioth√®que de conteneurs de test. Il vous permet de d√©ployer facilement des liaisons externes (Kafka, PostgreSQL, MongoDB, etc.) dans Docker. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout d'abord, nous √©levons le conteneur requis dans Docker, lan√ßons l'application et sur l'instance r√©elle, nous ex√©cutons d√©j√† des donn√©es de test. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä propos de la fa√ßon exacte dont nous proc√©dons, j'ai parl√© en d√©tail au Heisenbug 2019 Piter dans le rapport ¬´Microservice Wars: JUnit Episode 5 - TestContainers Strikes Back¬ª:</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/UeQfaulJJDo" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Regardons un petit exemple de son apparence. Le service de niveau inf√©rieur prend les donn√©es des appareils et les envoie √† Kafka. Et le service Heat Map de la partie commerciale prend les donn√©es de kafka et construit une carte thermique. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yv/k-/e6/yvk-e6ks3dpsssk_irgn2ueqaza.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Testons la r√©ception de donn√©es avec le service Heat Map (via Kafka)</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-meta">@KafkaTestContainer</span>
<span class="hljs-meta">@SpringBootTest</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">KafkaIntegrationTest</span> </span>{<font></font>
<font></font>
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> KafkaTemplate kafkaTemplate;<font></font>
<font></font>
    <span class="hljs-meta">@Test</span>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">sendTest</span><span class="hljs-params">()</span> </span>{<font></font>
        kafkaTemplate.send(TOPIC_NAME, MEASSAGE_BODY)<font></font>
<font></font>
        <span class="hljs-comment">//     </span>
        <span class="hljs-comment">//       </span>
        <span class="hljs-comment">//  </span><font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous √©crivons un test SpringBoot d'int√©gration r√©gulier, cependant, il diff√®re par le style d'annotation de la configuration de l'environnement de test. Une annotation est </font></font><code>@KafkaTestContainer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n√©cessaire pour √©lever Kafka. Pour l'utiliser, vous devez connecter la biblioth√®que: </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">spring-test-kafka</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Lorsque l'application d√©marre, Spring d√©marre et le conteneur Kafka d√©marre dans Docker. Ensuite, dans le test, nous l'utilisons </font></font><code>kafkaTemplate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, l'injectons dans le cas de test et envoyons les donn√©es √† Kafka pour tester la logique de traitement des nouvelles donn√©es du sujet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout cela se produit sur une instance Kafka normale, pas d'options int√©gr√©es, mais uniquement la version qui tourne en production. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/io/0y/kw/io0ykwhp5uo7bmrd7moqizkxh-o.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le service Heat Map utilise MongoDB comme stockage, et le test de MongoDB semble similaire:</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-meta">@MongoDbDataTest</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SensorDataRecordServiceTest</span> </span>{<font></font>
<font></font>
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> SensorDataRecordRepository repository;<font></font>
<font></font>
    <span class="hljs-meta">@Test</span>
    <span class="hljs-meta">@MongoDataSet(value ="sensor_data.json")</span>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">findSingle</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">var</span> log = repository.findAllByDeviceId(<span class="hljs-string">"001"</span>);<font></font>
        assertThat(log).hasSize(<span class="hljs-number">1</span>);<font></font>
        ...<font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Annotation </font></font><code>@MongoDbDataTest</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lance MongoDB dans Docker de la m√™me mani√®re que Kafka. </font><font style="vertical-align: inherit;">Une fois l'application lanc√©e, nous pouvons utiliser le r√©f√©rentiel pour travailler avec MongoDB. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour utiliser cette fonctionnalit√© dans vos tests, il vous suffit de connecter la biblioth√®que: </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">spring-test-mongo</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Soit dit en passant, il existe de nombreuses autres utilit√©s, par exemple, vous pouvez charger la base de donn√©es dans la base de donn√©es via l'annotation avant d'ex√©cuter le test, </font></font><code>@MongoDataSet</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">comme dans l'exemple ci-dessus, ou √† l'aide de l'annotation, </font></font><code>@ExpectedMongoDataSet</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v√©rifiez qu'apr√®s avoir termin√© le sc√©nario de test dans la base de donn√©es, l'ensemble de donn√©es exact que nous attendons est apparu.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Je vais vous en dire plus sur l'utilisation des donn√©es de test au </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Heisenbug 2020 Piter</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui se tiendra en ligne du 15 au 18 juin.</font></font></blockquote><br>
<br>
<h2><font color="#DB8E0D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tester des choses sp√©cifiques √† l'IoT</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si la partie m√©tier est un backend typique, le travail avec les donn√©es des appareils contenait beaucoup de r√¢teaux et de sp√©cificit√©s li√©es au mat√©riel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous avez un appareil et vous devez l'appairer. </font><font style="vertical-align: inherit;">Pour cela, vous aurez besoin de documentation. </font><font style="vertical-align: inherit;">C'est bien quand vous avez un morceau de fer et des quais dessus. </font><font style="vertical-align: inherit;">Cependant, tout a commenc√© d'une mani√®re diff√©rente: il n'y avait que de la documentation et l'appareil √©tait toujours en route. </font><font style="vertical-align: inherit;">Nous avons film√© une petite application, qui en th√©orie aurait d√ª fonctionner, mais d√®s que de vrais appareils sont arriv√©s, nos attentes ont √©t√© confront√©es √† la r√©alit√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous pensions que l'entr√©e serait un format binaire, et l'appareil a commenc√© √† nous lancer un fichier XML. </font><font style="vertical-align: inherit;">Et sous une forme si difficile, la premi√®re r√®gle du projet IoT est n√©e:</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ne croyez jamais la documentation!</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En principe, les donn√©es re√ßues de l'appareil √©taient plus ou moins claires: </font></font><code>Time</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- c'est l'horodatage, </font></font><code>DevEUI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- l'identifiant de l'appareil, </font></font><code>LrrLAT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code>LrrLON</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- les coordonn√©es. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fi/2f/le/fi2flek9kx9xqqathgexitpqoms.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais c'est quoi </font></font><code>payload_hex</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">? Nous voyons 8 chiffres, que peuvent-ils contenir? Est-ce la distance par rapport √† la poubelle, la tension du capteur, le niveau du signal, l'angle d'inclinaison, la temp√©rature ou tous ensemble? √Ä un moment donn√©, nous pensions que les fabricants chinois de ces appareils connaissaient une sorte d'archivage du Feng Shui et pouvaient emballer tout ce qui √©tait possible en 8 chiffres. Mais si vous regardez ci-dessus, vous pouvez voir que l'heure est √©crite sur une ligne r√©guli√®re et contient 3 fois plus de bits, c'est-√†-dire, √©videmment, personne n'a enregistr√©. En cons√©quence, il s'est av√©r√© que sp√©cifiquement dans ce firmware, la moiti√© des capteurs de l'appareil sont simplement √©teints, et vous devez attendre un nouveau firmware.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pendant qu'ils attendaient, nous avons fait un banc d'essai dans le bureau, qui √©tait en fait une bo√Æte en carton ordinaire. Nous avons attach√© l'appareil √† son couvercle et jet√© tous les objets de bureau dans la bo√Æte. Nous avions √©galement besoin d'une copie d'essai de la voiture du transporteur, et son r√¥le a √©t√© jou√© par la machine de l'un des d√©veloppeurs du projet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, nous avons vu sur la carte o√π se trouvaient les bo√Ætes en carton, et nous savions o√π le d√©veloppeur voyageait (spoiler: travail √† domicile, et personne n'a annul√© le bar le vendredi soir). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/v2/wk/jj/v2wkjjrqcceanhl-12dvmgzrpio.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cependant, le syst√®me avec bancs d'essai n'a pas dur√© longtemps, car il existe de grandes diff√©rences par rapport aux conteneurs r√©els. Par exemple, si nous parlons de l'acc√©l√©rom√®tre, nous avons tourn√© la bo√Æte d'un c√¥t√© √† l'autre et re√ßu des lectures du capteur, et tout semblait fonctionner. Mais en r√©alit√©, il y a certaines limites.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gv/0l/m6/gv0lm6vqch_4sjtddcwx_1qozq0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans les premi√®res versions de l'appareil, l'angle n'√©tait pas mesur√© en valeurs absolues, mais en valeurs relatives. Et lorsque la bo√Æte a √©t√© plus inclin√©e que le delta fix√© dans le firmware, le capteur a commenc√© √† fonctionner de mani√®re incorrecte ou n'a m√™me pas pu corriger le virage. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/5_/mi/kt/5_mikt3j_jreeeei1m7l3r5njpo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien s√ªr, toutes ces erreurs ont √©t√© corrig√©es au cours du processus, mais au d√©but, les diff√©rences entre la bo√Æte et le conteneur ont pos√© beaucoup de probl√®mes. Et nous avons perc√© le r√©servoir de tous les c√¥t√©s, tout en d√©cidant comment placer le capteur dans le conteneur, de sorte que lors du levage du r√©servoir avec la voiture du transporteur, nous avons enregistr√© avec pr√©cision que les ordures √©taient d√©charg√©es.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En plus du probl√®me avec l'angle d'inclinaison, nous n'avons pas d'abord pris en compte ce que seront les vraies ordures dans le conteneur. Et si nous jetions du polystyr√®ne et des oreillers dans cette bo√Æte, alors en r√©alit√© les gens mettent tout dans un r√©cipient, m√™me du ciment et du sable. Et en cons√©quence, une fois que le capteur a montr√© que le conteneur √©tait vide, bien qu'en fait il √©tait plein. Il s'est av√©r√© que quelqu'un pendant la r√©paration a jet√© un mat√©riau absorbant le son frais, qui a amorti les signaux du capteur. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä ce stade, nous avons d√©cid√© de convenir avec le propri√©taire du centre d'affaires o√π se trouve le bureau afin d'installer des capteurs sur ses poubelles. Nous avons √©quip√© le site devant le bureau, et √† partir de ce moment, la vie et la vie quotidienne des d√©veloppeurs du projet ont radicalement chang√©. Habituellement, au d√©but de la journ√©e de travail, vous voulez boire du caf√©, lire les nouvelles, et ici vous avez toute la bande pleine de d√©chets, litt√©ralement:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/sl/uy/1h/sluy1hbfa2ixa7xwkq4z4pw9wqa.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lors du test du capteur de temp√©rature, comme dans le cas de l'acc√©l√©rom√®tre, la r√©alit√© a pr√©sent√© de nouveaux sc√©narios. La valeur seuil de temp√©rature est assez difficile √† choisir pour que nous sachions √† temps que le capteur est allum√© et que nous ne lui disons pas au revoir. Par exemple, en √©t√©, les conteneurs chauffent beaucoup sous le soleil, et fixer une temp√©rature seuil trop basse est lourd de notifications constantes du capteur. Et si l'appareil br√ªle vraiment et que quelqu'un commence √† l'√©teindre, alors vous devez vous pr√©parer pour que le r√©servoir soit rempli d'eau par le haut, puis quelqu'un le laissera tomber et s'√©teindra sur le sol. Dans ce sc√©nario, le capteur ne survivra √©videmment pas.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/t-/qs/94/t-qs945hkxnumg3bwhc_pbzh_hy.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä un moment donn√©, un nouveau firmware nous est venu (vous souvenez-vous que nous l'attendions?). </font><font style="vertical-align: inherit;">Nous l'avons fait rouler sur les capteurs, et le protocole de communication avec le capteur s'est √† nouveau rompu. </font><font style="vertical-align: inherit;">Au revoir XML, et vive √† nouveau le format binaire. </font><font style="vertical-align: inherit;">Je voudrais esp√©rer en ce moment que maintenant √ßa correspond √† la documentation, mais ... non!</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Par cons√©quent, la deuxi√®me r√®gle: lisez la premi√®re r√®gle. </font><font style="vertical-align: inherit;">C'est - ne faites jamais confiance √† la documentation.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ce qui peut √™tre fait? Par exemple, faites de l'ing√©nierie inverse: nous nous asseyons avec la console, collectons des donn√©es, tournons-tournons le capteur, mettons quelque chose devant, essayons d'identifier les mod√®les. Ainsi, vous pouvez isoler la distance, l'√©tat du conteneur et la somme de contr√¥le. Cependant, certaines donn√©es √©taient difficiles √† interpr√©ter, car nos fabricants d'appareils chinois aiment apparemment les v√©los. Et afin d'emballer un nombre √† virgule flottante au format binaire pour interpr√©ter l'angle d'inclinaison, ils ont d√©cid√© de prendre deux octets et de diviser par 35. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/lb/sh/q7/lbshq78v4focgfug1inu76fny_4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et dans toute cette histoire, cela nous a beaucoup aid√© que la couche inf√©rieure des services travaillant avec des appareils √©tait isol√©e du haut, et toutes les donn√©es ont √©t√© vers√©es via kafka, dont les contrats ont √©t√© convenus et s√©curis√©s.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cela a beaucoup aid√© en termes de d√©veloppement, car si le niveau inf√©rieur cassait, alors nous avons vu tranquillement les services aux entreprises, car le contrat y est fix√© de mani√®re rigide. </font><font style="vertical-align: inherit;">Par cons√©quent, cette deuxi√®me r√®gle pour d√©velopper des projets IoT est d'isoler les services et d'utiliser les contrats.</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le rapport √©tait encore beaucoup plus int√©ressant: simulation, test de charge, et en g√©n√©ral, je </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">vous</font></a><font style="vertical-align: inherit;"> conseille de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">voir ce rapport.</font></font></a><br>
</blockquote><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans la troisi√®me partie,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> je vais parler d'un mod√®le de simulation, restez √† l'√©coute!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr502876/index.html">Flux de travail sur Google Drive?</a></li>
<li><a href="../fr502880/index.html">Histoire d'AtariTel. T√©l√©phones et visiophones du service secret de l'entreprise</a></li>
<li><a href="../fr502882/index.html">Comment am√©liorer les performances de votre application Flutter</a></li>
<li><a href="../fr502886/index.html">Que voir en quarantaine? Une s√©lection de mat√©riaux de Technostream (partie 5)</a></li>
<li><a href="../fr502894/index.html">6. La plate-forme √©volutive Check Point Maestro est devenue encore plus abordable. Nouvelles passerelles Check Point</a></li>
<li><a href="../fr502900/index.html">Aper√ßu du march√© des startups fintech en Ukraine</a></li>
<li><a href="../fr502904/index.html">Exemples de dettes techniques dans la mise en ≈ìuvre de syst√®mes BI</a></li>
<li><a href="../fr502908/index.html">VKontakte, MIPT et GSOM SPbSU ont cr√©√© un cours d'apprentissage automatique pour les professeurs d'informatique</a></li>
<li><a href="../fr502910/index.html">Histoire d'Internet: l'√®re de la fragmentation; partie 2: semis en friche</a></li>
<li><a href="../fr502914/index.html">Logique math√©matique qui peut aider √† v√©rifier plus de personnes pour le coronavirus</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>