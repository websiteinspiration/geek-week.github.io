<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👐🏻 🖖🏼 💊 マイクロサービス：契約の遵守方法 🏓 👩🏿‍🍳 🕺🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="マイクロサービスアーキテクチャへの移行には、開発、テスト、メンテナンス、設計、つまりソフトウェアコンポーネントのライフサイクルのすべての側面に対するアプローチの修正が必要です。この投稿では、Acronisアーキテクトチームが最高のコンポーネントAPIを実現するために行ってきた方法について説明します。...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>マイクロサービス：契約の遵守方法</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/acronis/blog/483380/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マイクロサービスアーキテクチャへの移行には、開発、テスト、メンテナンス、設計、つまりソフトウェアコンポーネントのライフサイクルのすべての側面に対するアプローチの修正が必要です。この投稿では、Acronisアーキテクトチームが最高のコンポーネントAPIを実現するために行ってきた方法について説明します。ストーリーには、問題の説明とその解決策の分析の両方が含まれます。おそらくこの投稿は「キャプテン」のように見えるかもしれませんが、なぜ彼らがスーパーソリューションXを逃したのかは誰かには明らかではありませんが、あなたにとって興味深く、役に立つことを願っています。マイクロサービスビルダーに、あなたのコメントを読んで猫の下に残すことを勧めます。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/4a8/bbd/435/4a8bbd4357c0ea6080a856a129918ae9.png" alt="画像"></a><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちのブログを購読している場合は、マイクロサービス契約について既に読んでいることになります。私たちは、の選択にポストでそれらについて話しました</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">闊歩またはRAML</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">だけでなく、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">静的チェックし</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、以前に作成した注釈に基づいて行うことができます。今日の投稿の理由</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、HighLoad会議でのレポートでした</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。一般的に、マイクロサービス間の関係を形式化するために行ったパスについて話し合う必要がありました。そして今日、私はハブルと私たちの結論を共有し、また他の建築家が私たちに同意するかどうかを確認したいと思います。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
マイクロサービスは、開発者が最新のアプリケーションを作成するための「ブリック」です。</font><font style="vertical-align: inherit;">このような各サービスは、APIを介して外部の世界と対話します。</font><font style="vertical-align: inherit;">通常、マイクロサービスは別々のチームによって開発され、地理的に分散していることもあるため、効果的な作業を行うには、パブリックインターフェイスの一貫性と整合性を維持する必要があります。</font><font style="vertical-align: inherit;">何百ものサービスを提供する大企業では、各コンポーネントの注釈を付ける必要があります。入力データを形式化し、その作業の結果を詳細に説明します。</font><font style="vertical-align: inherit;">HTTP RESTを使用する場合、これには2つの一般的な注釈形式、RAMLとOpen API仕様（別名Swagger）があります。</font><font style="vertical-align: inherit;">しかし、私たちが今日焦点を当てている質問は、特定のプロトコルに関連付けられていません。</font><font style="vertical-align: inherit;">したがって、以下はgRPCにも関係します。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バックグラウンド</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アクロニスは15年以上前から存在しています。</font><font style="vertical-align: inherit;">この間、製品とコードベースは大幅に進化しました。</font><font style="vertical-align: inherit;">複雑なデスクトップアプリケーションから、集中管理コンソール、権限の区切り、および監査ログを備えたエンタープライズモデルに到達しました。</font><font style="vertical-align: inherit;">次のステップは、エンタープライズアプリケーションをオープンプラットフォームに変換することでした。そこでは、蓄積された経験が外部サービスとの統合に使用されました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以前はAPIが重要だった場合、今では製品の重要なコンポーネントになっています。</font><font style="vertical-align: inherit;">そして、このAPIを提供するプロセスは成熟しています。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主な問題</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
API構築を取り巻く問題は誰もが知っているようです。私たちはそれらを肥大した形で説明します：架空のプログラマーVasyaと彼の同じくらい架空のマネージャーKolyaを苦しめる痛みのように。すべての名前は架空のものですが、偶然ではありません</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :) </font><b><font style="vertical-align: inherit;">1.説明が古くなっ</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ていますプログラマーVasyaがコンポーネントBのAPIを使用するコンポーネントAを開発できるようにします。後者には注釈がありますが、無効です。 Vasyaは他人のコードに登り、人を探し、質問する必要があります。締め切りは間近に迫っています。彼のマネージャーであるKolyaは、締め切りの転送に対処する必要があります。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. APIに一貫性がない</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プログラマーのVasyaがタスクを完了し、コンポーネントBの操作に関連する次のタスクに切り替えました。しかし、開発者Bと開発者Cはどちらも美意識が異なるため、APIで同じことが異なる方法で行われます。 Vasyaは再びコードの処理に取り掛かり、Kolyaは期限を守れなかったために再び苦しんでいます。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. APIが文書化されていない</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Kolyaのマネージャーは、インテグレーターが素晴らしい統合を行えるように、コンポーネントAのAPIを公開することにしました。インテグレーターは問題に直面し、サポートサービスが過負荷になり、すべてがマネージャーKolyaに火をつけ、Vasyaは彼の順番が間もなく来ると感じています。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. APIは古いバージョンと互換性がありません。</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
統合が実装され、すべての火災が鎮火されます。</font><font style="vertical-align: inherit;">しかし、Vasyaは突然、彼のコンポーネントのAPIが完全とはほど遠く、改訂に没頭していると判断しました。</font><font style="vertical-align: inherit;">もちろん、この場合、下位互換性に違反し、すべての統合がバラバラになります。</font><font style="vertical-align: inherit;">この状況は、インテグレーターの側の費用と開発会社によるお金の損失につながります。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">治療法</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらすべての問題は、プログラマーが適切なREST APIを理解していないか、このビューが断片化されている場合に発生します。</font><font style="vertical-align: inherit;">実際には、すべての開発者がRESTの経験があるわけではありません。</font><font style="vertical-align: inherit;">したがって、「治療」の主な方法は教育を目的としています。</font><font style="vertical-align: inherit;">他の開発者、アーキテクト、ドキュメンタリーのビジョンと調整された適切なAPIのビジョンが、各開発者の頭の中で考え始めるとき、APIは理想的なものになります。</font><font style="vertical-align: inherit;">このビジョンを形成するプロセスには、努力と専門的なツールが必要です。これについては、次に説明します。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">課題1.アノテーションが実装に対応していない</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注釈は、到達できない「過去の過去」のAPIであるだけでなく、サービスの現在の状態と異なる場合があります。また、まだ到着していない明るい将来のAPIになる可能性もあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらの条件の理由は、注釈が必要な理由が理解されていないことです。建築家の恐怖がなければ、開発者は注釈を内部支援ツールと考える傾向があり、外部の誰かがそれを使用することを意味するものではありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この痛みを治すには：</font></font><br>
<br>
<ul>
<li><b> .</b>       ,       ,  “,  ”.              ,      ,    .   –     </li>
<li><b>   .</b>     API-first.  ,     ,     (   ,  [go-swagger] (https://github.com/go-swagger/go-swagger)),     -.     .   ,       . </li>
<li><b>   </b>.       (RAML/swagger) ,    .     ,      ,   .</li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アノテーションと実装の</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
テストテストについて詳しく見てみましょう。</font><font style="vertical-align: inherit;">このような完全に自動化されたクエリ生成は複雑なタスクです。</font><font style="vertical-align: inherit;">APIアノテーションからのデータがあれば、個別のリクエストを作成できます。</font><font style="vertical-align: inherit;">ただし、APIは依存関係を意味します。たとえば、GET / clients / {cliend_id}を呼び出す前に、まずこのオブジェクトを作成してから、そのIDを取得する必要があります。</font><font style="vertical-align: inherit;">依存関係がそれほど明確でない場合があります。Xオブジェクトを作成するには、関連付けられたYオブジェクトの識別子を渡す必要がありますが、これはサブコレクションではありません。</font><font style="vertical-align: inherit;">RAMLもSwaggerも、明示的な依存関係を記述することはできません。</font><font style="vertical-align: inherit;">したがって、ここではいくつかのアプローチが可能です。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">依存関係を示す注釈には、開発者からの正式なコメントが必要です。</font></font></li>
<li>      (       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">YAML</a>,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">DSL</a>    GUI,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">apigee</a>.</li>
<li>   (,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">OpenResty</a>       )</li>
<li>      ( )   (, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">RESTler</a>)</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
いずれの場合も、テストタスクは非常に時間がかかります。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/194/5d1/965/1945d1965cf415d42cd0f0e724735e57.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
個人的には、手動でテストシーケンスを準備するようになりました。</font><font style="vertical-align: inherit;">いずれの場合も、開発者はテストを作成する必要があります。これにより、いくつかの追加のバグを見つけることができる便利なツールを開発者に提供できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ユーティリティでは、クエリシーケンスの記述に次のyamlを使用しています。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/aa1/26e/bf6/aa126ebf6f6eda1c65b596d4d80b812e.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
変数は中括弧で宣言され、テスト中に置換されます。</font><font style="vertical-align: inherit;">アドレス変数はCLIパラメータとして渡され、ランダムに任意の文字列を生成します。</font><font style="vertical-align: inherit;">ここで最も興味深いのは、response-to-varフィールドです。このフィールドには、jsonがサーバーの応答で書き込まれる変数が含まれています。</font><font style="vertical-align: inherit;">したがって、最終行では、task.idを使用して、作成されたオブジェクトのIDを取得できます。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">痛み2. APIに一貫性がない</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一貫性とは何ですか？正式な定義は導入しませんが、簡単に言えば、これは内部整合性です。たとえば、最初のプロジェクトでは、VasyaはHighLoadのレポートに関するデータを集計する必要があり、APIは年ごとのデータフィルタリングを提供しました。プロジェクトがほぼ完了した後、マネージャーKolyaはVasyaに来て、話者に関する統計を分析に追加し、年ごとにフィルタリングする新しい方法「GET Speakers」を作成するように依頼しました。その結果、Vasyaは数時間でコードを完成させましたが、テストプロセス中にメソッドが機能しないことがわかりました。その理由は、「年」が数値である場合と、文字列である場合があります。しかし、もちろんこれは一見明白ではなく、APIを操作するときは常に注意が必要です。 APIの永続化とは、そのような過度の注意が必要ない場合です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
不整合には多くの例があります。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">同じデータの異なるフォーマットの使用。</font><font style="vertical-align: inherit;">たとえば、時間形式、識別子のタイプ（数値または文字列UUID）、</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">異なるフィルタリングまたはページネーション構文を適用する、</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サービスのさまざまな承認スキーム。</font><font style="vertical-align: inherit;">パウダープログラマーの頭脳の違いだけでなく、さまざまなスキームをサポートする必要があるテストについても考察します。</font></font></li>
</ol><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">治療</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">建築レビュー。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">暴君の建築家がいる場合、彼は（統合失調症がない場合）一貫性を保証します。</font><font style="vertical-align: inherit;">副作用：バス係数と専制政治:)</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ガイドラインAPIの作成。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これは、開発する（または準備する）必要がある単一の標準ですが、最も重要なことは、それを実装することです。</font><font style="vertical-align: inherit;">これにはプロパガンダ、スティック、ニンジンが必要です。</font></font></li>
<li><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">APIガイドラインアノテーションに準拠するため</font><b><font style="vertical-align: inherit;">の静的チェックの実装</font></b><font style="vertical-align: inherit;">（これについては、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">こちらをお</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">読み</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ください</font></a><font style="vertical-align: inherit;">）。</font></font></li>
</ul><br>
<img src="https://habrastorage.org/getpro/habr/post_images/aa1/26e/bf6/aa126ebf6f6eda1c65b596d4d80b812e.png" alt="画像"><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例として、静的チェックの対象があり、</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
どのガイドラインを使用するかは各企業が選択します。</font><font style="vertical-align: inherit;">そして、おそらく、そこにあるべきものとすべきでないもの、普遍的なアプローチはありません。</font><font style="vertical-align: inherit;">結局のところ、規格の規定が多ければ多いほど、管理が厳しくなり、創造性の自由が制限されます。</font><font style="vertical-align: inherit;">そして最も重要なのは、「わずか100ページ」のドキュメントを最後まで読む人がほとんどいないことです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
弊社では、ガイドラインに次の点を含めました。ガイドラインの</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/47d/613/f76/47d613f762d1dfee282bcc5d97a69f0e.png" alt="画像"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
他の良い例は、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Microsoft</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> PayPal</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Google</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で見つけることができ</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font><br>
 <br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">痛み3. APIが文書化されていない</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アノテーションの存在は、APIの操作を簡単にするために必要ですが、十分ではありません。</font><font style="vertical-align: inherit;">完全な可能性を実現しないように注釈を書くことができます。</font><font style="vertical-align: inherit;">これは次の場合に発生します：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">十分な説明がありません（パラメーター、ヘッダー、エラーなど）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ドキュメントの改善（開発者にとってより多くのコンテキストとポータルから直接APIを直接操作する機能）だけでなく、テスト（ファジングの開始点として）にも使用できるため、使用例は十分ではありません。）;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文書化されていない機能があります。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通常、これは、開発者が必要な注釈が必要な理由を明確に理解していない場合、テクニカルライターとプログラマーの間にコミュニケーションがない場合、および不十分なドキュメントで会社のコストを把握していない場合に発生します。</font><font style="vertical-align: inherit;">そして、彼らがプログラマーのところに来て、サポートを要求するたびにプルした場合、すべての注釈は非常に迅速に記入されます。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">処理：</font></font></b><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プログラマー向けのAPIリファレンス生成ツールの可用性。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">開発者は、自分のAPIの説明が同僚やユーザーにとってどのように見えるかを見た場合、注釈を改善しようとします。</font><font style="vertical-align: inherit;">副作用：これらのツールを構成するには、追加のワークフローが必要になります。</font></font></li>
<li><b>    </b>: , ,  .  :    ,  .</li>
<li><b>     API</b>.       CI   .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Acronisでは、SDKクライアントとTry-Itセクションの注釈に基づいて注釈APIが生成されます。</font><font style="vertical-align: inherit;">コードサンプルと使用例の説明と共に、プログラマーにとって必要かつ便利なアドオンの全範囲を形成します。</font><font style="vertical-align: inherit;">developer.acronis.comのポータルを</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/e9a/393/66e/e9a39366ef31a82816b011e78b259e39.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ご覧ください。APIリファレンスを生成するためのツールのクラス全体があると言わざる</font><font style="vertical-align: inherit;">を得</font><font style="vertical-align: inherit;">ません。</font><font style="vertical-align: inherit;">一部の企業は、自社のニーズに合わせてこのようなツールを開発しています。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Swagger Editorの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ようなかなりシンプルで無料のツールを使用するものもあります</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">長い（非常に長い）調査の後、AcronisはApimatic.ioに落ち着き、REST United、Mulesoft AnyPointなどよりも優先しました。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">課題4.下位互換性の問題</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ささいなことで下位互換性が損なわれる可能性があります。たとえば、プログラマーのVasyaは、タイプミスとの互換性という単語を毎回書き込みます：互換性。このタイプミスは、コード、コメント、および1つのクエリパラメータにあります。間違いに気づいたVasyaはプロジェクト全体を通してこの単語を置き換え、見ていなくても変更をプロダクションに送信します。もちろん、下位互換性は損なわれ、サービスは数時間停止します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
なぜそのようなイベントが発生するのでしょうか？主な理由は、APIライフサイクルの誤解です。これは、統合の破壊、予測できないEOL（End Of Life）ポリシー、およびあいまいなAPIリリースで明らかになります。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">処理：</font></font></b><br>
<br>
<ul>
<li><b> .</b>   ,        .                   API. </li>
<li><b>   .</b>   API   ,         CI;</li>
<li><b>  .</b> API reference   API       .     checklist-  ,     ,   -     … !         ,             upgrade guide-. Upgrade guide,   , —     ,     API. </li>
</ul><br>
<h3>Change Management</h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
APIライフサイクルに関連するアクティビティを記述するルールは、変更管理ポリシーと呼ばれます-変更管理</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/576/a06/d97/576a06d97a0f5c3ab4a5fb95f3e1faf0.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注釈の「現在」と「新規」の2つのバージョンがある場合、技術的には下位互換性チェックが単純に実装されます。両方の注釈を解析する場合、必要なフィールドの存在を確認する必要があります</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/99a/6d7/51a/99a6d751ac5990ba394401d35e2fb064.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CIの下位互換性のために重要なすべてのパラメーターを比較できる特別なツールを作成しました。</font><font style="vertical-align: inherit;">たとえば、GET / healthcheckリクエストのレスポンスボディを変更すると、次のようなメッセージが表示されます。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/5b5/8ec/b39/5b58ecb39ec5c48488a4bc4cb710ba4b.png" alt="画像"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべての建築家は、APIの問題を取り除くことを夢見ています。</font><font style="vertical-align: inherit;">すべてのマネージャーは、APIの問題について知らないことを夢見ています。</font><font style="vertical-align: inherit;">:)。</font><font style="vertical-align: inherit;">多くの薬がありますが、それぞれに独自の価格と副作用があります。</font><font style="vertical-align: inherit;">最も単純な小児疾患の治療オプションをAPIと共有すると、さらに深刻な問題が発生します。</font><font style="vertical-align: inherit;">私たちの記事「キャプテン」からの結論：APIの問題は頭から始まり、優れた実践を人々に教えることが成功の主な保証です。</font><font style="vertical-align: inherit;">それ以外はすべてテクノロジーの問題です。</font><font style="vertical-align: inherit;">また、組織でどのような問題に直面し、どのような解決策を選択しましたか？</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/cdd/9d4/718/cdd9d47186f9c974f130eac5b6c083bb.png" alt="画像"><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">悪いAPIのための薬。</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちはどんな考え、評価、コメント、意見、質問に喜んでいるでしょう！</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja483368/index.html">Linux用のx86_64 ELFファイルパッカーの作成</a></li>
<li><a href="../ja483372/index.html">GPUを使用してラップトップでDeepPavlovニューラルネットワークをトレーニングする方法</a></li>
<li><a href="../ja483374/index.html">REST APIガイドライン-JavaおよびSpringでのWebサービス設計の例</a></li>
<li><a href="../ja483376/index.html">ブラックホールの表面に</a></li>
<li><a href="../ja483378/index.html">C ++ 17でオーバーヘッドのないレジスタを使用したタイプセーフな作業：値ベースのメタプログラミング</a></li>
<li><a href="../ja483382/index.html">Kali Linux 2020.1</a></li>
<li><a href="../ja483384/index.html">IT lexiconの英語の単語のうち、ほとんどの場合、間違って発音しているもの</a></li>
<li><a href="../ja483386/index.html">銀河系の銀河の衝突はすでに新しい星を生み出しています</a></li>
<li><a href="../ja483388/index.html">私のガールフレンドと最初のビデオゲーム。Unity開発。パート2</a></li>
<li><a href="../ja483392/index.html">列挙型パートIの値の最大数</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>