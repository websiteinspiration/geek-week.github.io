<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üîã üèáüèø üö∂üèæ Comment √©crire votre index dans Tarantool üò• üò™ üòÉ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Tarantool est un serveur d'applications et une base de donn√©es. La partie serveur est √©crite en C, et l'utilisateur dispose d'une interface Lua pour t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Comment √©crire votre index dans Tarantool</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/505880/"><img src="https://habrastorage.org/webt/_w/oc/me/_wocmecfrb1lnc7gdoodtf3j3y4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tarantool est un serveur d'applications et une base de donn√©es. </font><font style="vertical-align: inherit;">La partie serveur est √©crite en C, et l'utilisateur dispose d'une interface Lua pour travailler avec. </font><font style="vertical-align: inherit;">De plus, Tarantool est un produit open source, ce qui signifie que le code source est dans le domaine public, et vous pouvez librement d√©velopper et distribuer des logiciels bas√©s sur Tarantool. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais aujourd'hui, l'histoire sera un peu diff√©rente: √† propos de l'exp√©rience, √† propos de l'√©criture de votre propre structure de donn√©es pour la recherche (courbe d'ordre Z) et √† l'int√©grer dans l'√©cosyst√®me Tarantool existant. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je suis d√©veloppeur dans l'√©quipe Tarantool Solution, je ne suis pas directement impliqu√© dans le d√©veloppement de Tarantool, mais je suis un utilisateur actif. </font><font style="vertical-align: inherit;">Par cons√©quent, pour moi, cette exp√©rience est une tentative de comprendre comment Tarantool fonctionne √† bas niveau.</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qu'est-ce que Tarantool et o√π stocke-t-il les donn√©es?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Qu'est-ce que Tarantool? Dans le monde des bases de donn√©es, il se positionne comme une technologie en m√©moire. Le moteur memtx vous permet de stocker toutes vos donn√©es dans la RAM, tout en respectant tous les principes de l'ACID. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un analogue des tables relationnelles dans Tarantool est l'espace, qui est con√ßu pour stocker des tuples (tuples). Contrairement aux tables relationnelles, les tuples dans un espace peuvent g√©n√©ralement √™tre de longueur arbitraire. Pour les stocker, une structure de donn√©es de recherche doit √™tre cr√©√©e et la cl√© de recherche est la cl√© primaire, toujours unique.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez √©galement cr√©er des structures suppl√©mentaires - des index secondaires qui stockent uniquement un pointeur sur un tuple. </font><font style="vertical-align: inherit;">L'index secondaire peut ne pas √™tre unique, cependant, ce n'est que le comportement externe visible par l'utilisateur. </font><font style="vertical-align: inherit;">Les champs d'index principal sont implicitement ajout√©s √† tout index non unique. </font><font style="vertical-align: inherit;">Cela garantit la stabilit√© du tri des tuples dans l'index. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tarantool prend en charge diff√©rents types d'index:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tout d'abord, dans </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">B-Tree</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (et si absolument pr√©cis, alors B + * - Tree). </font><font style="vertical-align: inherit;">Beaucoup de [ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">B-Tree</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ] a √©t√© </font><font style="vertical-align: inherit;">√©crit sur la structure des B-arbres </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Je note seulement que les donn√©es sont stock√©es sous forme tri√©e, en plus, vous pouvez rechercher par le pr√©fixe de la cl√© index√©e.</font></font></li>
<li>   <strong>hash-</strong>. ,      .    .    B-,      ,  .    .</li>
<li><strong>R-Tree</strong>.      .    ¬´¬ª , ,  .       ‚Äî .     ,       .        .   ,      ,    .</li>
<li><strong>Bitset</strong>. ,     .   ,            ,   .</li>
</ul><br>
<h3> Z-,   </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D'o√π est venue l'id√©e d'√©crire votre index, et assez exotique? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une fois, je suis tomb√© sur des articles d'Amazon [ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1, 2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ], qui parlaient d'une structure telle que la courbe d'ordre Z, ou la courbe de Morton. Il s'agit d'une recette pour l'emplacement des donn√©es "multidimensionnelles" √† l'int√©rieur d'une structure plate (courbe d'ordre Z), qui s'inscrit ensuite dans un arbre B. Une telle approche devrait aider √† √©viter une analyse continue des donn√©es. En g√©n√©ral, les informations sur tout objet avec un certain ensemble de caract√©ristiques peuvent √™tre consid√©r√©es comme des donn√©es multidimensionnelles. Par exemple, la taille, le poids, la taille du pied, etc. la personne. La plupart des bases de donn√©es utilisent R-Tree √† cet effet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un peu sur la fa√ßon dont la courbe de l'ordre Z est structur√©e.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/363/a10/2c9/363a102c99adb088e19052945e6298fb.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une courbe d'ordre Z, √©galement connue sous le nom de courbe de Morton, est obtenue en entrela√ßant des bits des coordonn√©es d'un point dans l'espace. </font><font style="vertical-align: inherit;">Les adresses Z ainsi obtenues ont la propri√©t√© de localit√©. </font><font style="vertical-align: inherit;">Les points situ√©s √† proximit√© dans un espace multidimensionnel seront toujours situ√©s √† proximit√© lorsqu'ils sont affich√©s sur une ligne plate. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un m√©lange sch√©matiquement similaire ressemble √† ceci:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6eb/04c/f2b/6eb04cf2b6ac3f0b26613a774c8f479d.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comment √ßa fonctionne? </font><font style="vertical-align: inherit;">Nous limitons une certaine r√©gion dans l'espace - un hypercube (il y aura un rectangle dans un espace √† deux dimensions) - √† l'aide de deux points situ√©s sur la diagonale, qui sont affich√©s en deux points sur la ligne. </font><font style="vertical-align: inherit;">Et nous obtenons un effet secondaire d√©sagr√©able: certains points vont au-del√† de la bo√Æte englobante:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/991/fd9/889/991fd9889fa6f3b4b30fd7adecfcd436.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Autrement dit, nous ne pouvons pas simplement parcourir cette courbe. Mais, arm√© d'un algorithme sp√©cial, nous pouvons faire un saut en partant √† l'√©tranger, en revenant √† la zone de recherche. D√®s que nous d√©passons le point extr√™me de la courbe (appelons-le upper_bound), la recherche est termin√©e. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque vous travaillez avec l'arbre B, nous aurions un ensemble d'intervalles, et cette requ√™te conduirait √† une analyse s√©quentielle de l'arbre B, ce qui prendrait beaucoup de temps avec un grand ensemble de donn√©es. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mon int√©r√™t a √©t√© aliment√© par d'autres publications sur cette courbe. Par exemple, comment il a √©t√© int√©gr√© √† TransBase [ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ], une base de donn√©es propri√©taire. Et, malheureusement pour moi, je n'ai trouv√© aucune impl√©mentation open source de cette structure.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La courbe sous-jacente de l'arbre B pr√©sente plusieurs avantages par rapport √† l'arbre R. </font><font style="vertical-align: inherit;">Par exemple, une meilleure occupation et compacit√©. </font><font style="vertical-align: inherit;">Inconv√©nients: la plupart des algorithmes utilis√©s sont limit√©s par le processeur. </font><font style="vertical-align: inherit;">A titre de comparaison, j'ai d√©cid√© d'utiliser Tarantool: j'√©tais int√©ress√© par les vitesses de lecture / insertion, ainsi que par la consommation m√©moire. </font><font style="vertical-align: inherit;">Il est impossible de ne pas mentionner qu'un sujet similaire a d√©j√† √©t√© soulev√© sur Habr√©, mais pour les petites dimensions (2-3) et en relation avec la base de donn√©es de disques PostgreSQL [ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ZcurvePostgres</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ].</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Que fallait-il pour int√©grer Tarantool?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai trouv√© des impl√©mentations simples de cette structure pour les dimensions 2-3, mais je voulais comparer les performances avec l'index R-Tree existant, donc je ne voulais pas me limiter aux petites dimensions. J'ai choisi la m√™me dimension que R-Tree - 20. Pour cela, j'avais besoin d'une bitmap prenant en charge certaines op√©rations primitives: extraction / modification d'un bit, d√©calage, op√©rations logiques OR / AND. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour le prototype, j'ai pris l'impl√©mentation open source trouv√©e, mais j'ai rapidement conclu que je n'avais pas besoin d'un bitmap √† usage g√©n√©ral: la longueur de la cl√© est toujours un multiple de 64, donc certaines op√©rations sont grandement simplifi√©es. J'ai √©crit ma propre impl√©mentation en fonction de ce que j'avais. De plus, au lieu d'utiliser les fonctions syst√®me pour allouer de la m√©moire, j'ai commenc√© √† utiliser des allocateurs sp√©ciaux impl√©ment√©s dans Tarantool [</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Peut-√™tre que le c≈ìur de l'index est un ensemble d'algorithmes pour travailler avec la courbe Z. </font><font style="vertical-align: inherit;">√Ä savoir, calculer l'adresse Z (√† l'aide de tables de recherche sp√©ciales), v√©rifier si l'adresse Z appartient √† la zone de recherche et d√©tecter la premi√®re occurrence dans la zone de recherche, √† partir du point sp√©cifi√©. </font><font style="vertical-align: inherit;">Si vous recherchez bien sur le Web, vous pouvez trouver des publications scientifiques d√©crivant ces algorithmes, alors tout ce que j'avais √† faire √©tait de les impl√©menter, de les d√©boguer et, si possible, de les optimiser. </font><font style="vertical-align: inherit;">Il √©tait cens√© stocker les adresses Z √† l'int√©rieur de l'arbre B d√©j√† impl√©ment√© utilis√© pour l'index TREE.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment est organis√© le traitement des donn√©es?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le cas le plus g√©n√©ral, le tuple nous parvient. Il s'agit d'un tableau de donn√©es au format pack de messages. Et dans le cas id√©al, il suffirait d'isoler les champs index√©s, de m√©langer leurs bits et d'ins√©rer l'adresse avec le pointeur sur le tuple √† l'int√©rieur de l'arbre B.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cependant, tout serait si simple si nous travaillions uniquement avec le type non sign√©, lorsque les repr√©sentations binaires tri√©es des nombres correspondraient aux nombres tri√©s dans une repr√©sentation naturelle. Les entiers sign√©s ont leurs propres r√®gles de pr√©sentation, les nombres √† virgule flottante ont les leurs. Et cela devait d√©boucher sur un d√©nominateur commun. √âtant donn√© que nous stockons l'adresse Z s√©par√©ment des donn√©es elles-m√™mes, nous pouvons effectuer toutes les transformations sur nos cl√©s, l'essentiel est de maintenir l'ordre de tri. Cela peut √™tre fait en utilisant de simples manipulations au niveau du bit. Par exemple, pour les entiers sign√©s, vous pouvez simplement inverser l'octet de poids fort. Pour d'autres types, il existe des transformations similaires, quoique l√©g√®rement plus complexes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tous les types num√©riques tiennent sur 8 octets, donc la cl√© r√©sultante aura une taille de N * 8 octets, o√π N est la dimension de notre espace. Que faire des cordes? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La recherche de pr√©fixes est une situation assez courante lorsque vous travaillez avec des cha√Ænes. Et il est tout √† fait possible de soutenir. Les 8 premiers octets de la cha√Æne peuvent tr√®s bien √™tre utilis√©s comme cl√©. Si la cha√Æne est plus courte, elle peut √™tre compl√©t√©e par des z√©ros. Le support des cha√Ænes impose une limitation fondamentale √† notre index: nous perdons l'unicit√©. M√™me si les lignes diff√®rent dans le neuvi√®me octet, alors du point de vue du syst√®me, elles seront toujours les m√™mes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Regardons le code. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'API d'index se compose d'un ensemble sp√©cifique de m√©thodes. Nous ne les consid√©rerons pas individuellement, nous ne passerons en revue que les plus √©l√©mentaires, √† savoir les op√©rations de recherche et d'insertion.</font></font><br>
<br>
<code>get</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- rechercher un article par la touche compl√®te. Fonctionne uniquement pour les index uniques. Notre index ne peut pas √™tre unique, par cons√©quent, la fonction est remplac√©e par une version g√©n√©rique sp√©ciale qui renvoie l'erreur ¬´Fonction d'index non prise en charge¬ª. </font></font><br>
<br>
<code>replace</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- ins√©rer un √©l√©ment. Examinons plus en d√©tail.</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span>
<span class="hljs-title">memtx_zcurve_index_replace</span><span class="hljs-params">(struct index *base, struct tuple *old_tuple,
        struct tuple *new_tuple, <span class="hljs-keyword">enum</span> dup_replace_mode mode,
        struct tuple **result)</span>
</span>{<font></font>
    (<span class="hljs-keyword">void</span>)mode;
    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">memtx_zcurve_index</span> *<span class="hljs-title">index</span> = (<span class="hljs-title">struct</span> <span class="hljs-title">memtx_zcurve_index</span> *)<span class="hljs-title">base</span>;</span>
    <span class="hljs-keyword">if</span> (new_tuple) {
        <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">memtx_zcurve_data</span> <span class="hljs-title">new_data</span>;</span><font></font>
        new_data.tuple = new_tuple;<font></font>
        new_data.z_address = extract_zaddress(new_tuple,<font></font>
                &amp;index-&gt;bit_array_pool, index);<font></font>
        <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">memtx_zcurve_data</span> <span class="hljs-title">dup_data</span>;</span>
        dup_data.tuple = <span class="hljs-literal">NULL</span>;<font></font>
        dup_data.z_address = <span class="hljs-literal">NULL</span>;<font></font>
<font></font>
        <span class="hljs-keyword">int</span> tree_res = memtx_zcurve_insert(&amp;index-&gt;tree, new_data,<font></font>
                &amp;dup_data);<font></font>
        <span class="hljs-keyword">if</span> (tree_res) {<font></font>
            diag_set(OutOfMemory, MEMTX_EXTENT_SIZE,<font></font>
                     <span class="hljs-string">"memtx_zcurve_index"</span>, <span class="hljs-string">"replace"</span>);
            <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<font></font>
        }<font></font>
<font></font>
        <span class="hljs-keyword">if</span> (dup_data.tuple != <span class="hljs-literal">NULL</span>) {<font></font>
            *result = dup_data.tuple;<font></font>
            z_value_free(&amp;index-&gt;bit_array_pool, dup_data.z_address);<font></font>
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<font></font>
        }<font></font>
    }<font></font>
    <span class="hljs-keyword">if</span> (old_tuple) {
        <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">memtx_zcurve_data</span> <span class="hljs-title">old_data</span>, <span class="hljs-title">deleted_value</span>;</span><font></font>
        old_data.tuple = old_tuple;<font></font>
        old_data.z_address = extract_zaddress(old_tuple,<font></font>
                &amp;index-&gt;bit_array_pool, index);<font></font>
        memtx_zcurve_delete_value(&amp;index-&gt;tree, old_data, &amp;deleted_value);<font></font>
        z_value_free(&amp;index-&gt;bit_array_pool, old_data.z_address);<font></font>
        z_value_free(&amp;index-&gt;bit_array_pool, deleted_value.z_address);<font></font>
    }<font></font>
    *result = old_tuple;<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä quoi devez-vous faire attention? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En termes de l'indice, il n'y avait pas de </font><font style="vertical-align: inherit;">transactions √©taient </font></font><code>update</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>delete</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>insert</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code>replace</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Toute leur logique est ex√©cut√©e dans cette m√©thode, qui re√ßoit les anciens et les nouveaux tuples, ainsi que des </font></font><code>mode</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">informations sur si l'index est unique ou non. </font><font style="vertical-align: inherit;">Notre index ne peut pas √™tre unique, donc aucune v√©rification suppl√©mentaire n'est requise et vous pouvez imm√©diatement ins√©rer un tuple. </font></font><br>
<br>
<code>memtx_zcurve_insert</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code>memtx_zcurve_delete_value</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- les m√©thodes de l'arbre B, qui ont d√©j√† √©t√© impl√©ment√©es dans Tarantool et sont utilis√©es dans l'index TREE r√©gulier. </font><font style="vertical-align: inherit;">Nous ne nous attarderons pas sur eux s√©par√©ment. </font><font style="vertical-align: inherit;">Contrairement √† TREE ordinaire, nous stockons non seulement un tuple, mais aussi une adresse z - les bits mixtes des parties index√©es. </font><font style="vertical-align: inherit;">La fonction en est responsable </font></font><code>extract_zadress</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br>
<code>create_iterator</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- de Lua nous nous r√©f√©rons √† cette m√©thode dans le cas de </font></font><code>select</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'a et</font></font><code>pairs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'et.</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">static</span> struct iterator *
<span class="hljs-title">memtx_zcurve_index_create_iterator</span><span class="hljs-params">(struct index *base, <span class="hljs-keyword">enum</span> iterator_type type,
                                   <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> *key, <span class="hljs-keyword">uint32_t</span> part_count)</span>
</span>{
    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">memtx_zcurve_index</span> *<span class="hljs-title">index</span> = (<span class="hljs-title">struct</span> <span class="hljs-title">memtx_zcurve_index</span> *)<span class="hljs-title">base</span>;</span>
    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">memtx_engine</span> *<span class="hljs-title">memtx</span> = (<span class="hljs-title">struct</span> <span class="hljs-title">memtx_engine</span> *)<span class="hljs-title">base</span>-&gt;<span class="hljs-title">engine</span>;</span><font></font>
<font></font>
    assert(part_count == <span class="hljs-number">0</span> || key != <span class="hljs-literal">NULL</span>);
    <span class="hljs-keyword">if</span> (type != ITER_EQ &amp;&amp; type != ITER_ALL &amp;&amp; type != ITER_GE) {<font></font>
        diag_set(UnsupportedIndexFeature, base-&gt;def,<font></font>
                 <span class="hljs-string">"requested iterator type"</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">NULL</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">uint8_t</span> index_dim = base-&gt;def-&gt;key_def-&gt;part_count;
    <span class="hljs-keyword">if</span> (part_count == <span class="hljs-number">0</span>) {
        <span class="hljs-comment">/*
         * If no key is specified, downgrade equality
         * iterators to a full range.
         */</span><font></font>
        type = ITER_GE;<font></font>
        key = <span class="hljs-literal">NULL</span>;<font></font>
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (index_dim * <span class="hljs-number">2</span> == part_count<font></font>
               &amp;&amp; type != ITER_ALL) {<font></font>
        <span class="hljs-comment">/*
         * If part_count is twice greater than key_def.part_count
         * set iterator to range query
         */</span><font></font>
        type = ITER_GE;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">tree_iterator</span> *<span class="hljs-title">it</span> = <span class="hljs-title">mempool_alloc</span>(&amp;<span class="hljs-title">memtx</span>-&gt;<span class="hljs-title">zcurve_iterator_pool</span>);</span>
    <span class="hljs-keyword">if</span> (it == <span class="hljs-literal">NULL</span>) {<font></font>
        diag_set(OutOfMemory, <span class="hljs-keyword">sizeof</span>(struct tree_iterator),
                 <span class="hljs-string">"memtx_zcurve_index"</span>, <span class="hljs-string">"iterator"</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">NULL</span>;<font></font>
    }<font></font>
<font></font>
    iterator_create(&amp;it-&gt;base, base);<font></font>
    it-&gt;pool = &amp;memtx-&gt;zcurve_iterator_pool;<font></font>
    it-&gt;base.next = tree_iterator_start;<font></font>
    it-&gt;base.<span class="hljs-built_in">free</span> = tree_iterator_free;<font></font>
    it-&gt;type = type;<font></font>
<font></font>
    <span class="hljs-keyword">if</span> (part_count == <span class="hljs-number">0</span> || type == ITER_ALL) {<font></font>
        it-&gt;lower_bound = zeros(&amp;index-&gt;bit_array_pool, index_dim);<font></font>
        it-&gt;upper_bound = ones(&amp;index-&gt;bit_array_pool, index_dim);<font></font>
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (type == ITER_EQ) {<font></font>
        it-&gt;lower_bound = mp_decode_key(&amp;index-&gt;bit_array_pool,<font></font>
                key, index_dim, index);<font></font>
        it-&gt;upper_bound = <span class="hljs-literal">NULL</span>;<font></font>
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (base-&gt;def-&gt;key_def-&gt;part_count == part_count) {<font></font>
        it-&gt;lower_bound = mp_decode_key(&amp;index-&gt;bit_array_pool,<font></font>
                key, index_dim, index);<font></font>
        it-&gt;upper_bound = ones(&amp;index-&gt;bit_array_pool, index_dim);<font></font>
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (base-&gt;def-&gt;key_def-&gt;part_count * <span class="hljs-number">2</span> == part_count) {<font></font>
        it-&gt;lower_bound  = z_value_create(&amp;index-&gt;bit_array_pool, index_dim);<font></font>
        it-&gt;upper_bound  = z_value_create(&amp;index-&gt;bit_array_pool, index_dim);<font></font>
        mp_decode_part(key, part_count, index, it-&gt;lower_bound, it-&gt;upper_bound);<font></font>
    } <span class="hljs-keyword">else</span> {<font></font>
        unreachable();<font></font>
    }<font></font>
    it-&gt;tree_iterator = memtx_zcurve_invalid_iterator();<font></font>
    it-&gt;current.tuple = <span class="hljs-literal">NULL</span>;<font></font>
    it-&gt;current.z_address = <span class="hljs-literal">NULL</span>;
    <span class="hljs-keyword">return</span> (struct iterator *)it;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En fonction de la cl√© transmise, nous calculons les bornes inf√©rieure et sup√©rieure de la demande. </font><font style="vertical-align: inherit;">Cependant, jusqu'√† pr√©sent, cet it√©rateur ne pointe vers rien. </font><font style="vertical-align: inherit;">Il existe plusieurs types d'it√©rateurs au total. </font><font style="vertical-align: inherit;">Dans notre cas, c'est TOUT - obtenir tous les √©l√©ments; </font><font style="vertical-align: inherit;">EQ - √©l√©ments de r√©ception dont l'adresse z correspond √† celle transmise; </font><font style="vertical-align: inherit;">et GE est la s√©lection d'√©l√©ments dans l'hypercube. </font></font><br>
<br>
<code>destroy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- suppression de l'index. </font><font style="vertical-align: inherit;">Dans le cas de l'index secondaire, il lib√®re simplement la m√©moire allou√©e √† la structure de recherche. </font><font style="vertical-align: inherit;">Et si l'index est principal, il supprime alors physiquement les tuples stock√©s. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout le code est disponible sur: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/olegrok/tarantool/tree/z-order-curve-index</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Voyons ce qui s'est pass√© et r√©sumons.</font></font><br>
<br>
<pre><code class="lua hljs">space = box.schema.space.<span class="hljs-built_in">create</span>(<span class="hljs-string">'myspace'</span>, { engine = <span class="hljs-string">'memtx'</span> })<font></font>
pk = space:create_index(<span class="hljs-string">'primary'</span>, { <span class="hljs-built_in">type</span> = <span class="hljs-string">'tree'</span>, parts = {{<span class="hljs-number">1</span>, <span class="hljs-string">'unsigned'</span>}}, unique = <span class="hljs-literal">true</span>})<font></font>
sk = space:create_index(<span class="hljs-string">'secondary'</span>, { <span class="hljs-built_in">type</span> = <span class="hljs-string">'zcurve'</span>, parts = {{<span class="hljs-number">2</span>, <span class="hljs-string">'unsigned'</span>}, {<span class="hljs-number">3</span>, <span class="hljs-string">'unsigned'</span>}}})
<span class="hljs-keyword">for</span> i=<span class="hljs-number">0</span>,<span class="hljs-number">5</span> <span class="hljs-keyword">do</span> <span class="hljs-keyword">for</span> j=<span class="hljs-number">0</span>,<span class="hljs-number">5</span> <span class="hljs-keyword">do</span> space:<span class="hljs-built_in">insert</span>{i * <span class="hljs-number">6</span> + j, i, j} <span class="hljs-keyword">end</span> <span class="hljs-keyword">end</span>
<span class="hljs-comment">-- returns all tuples</span>
pk:<span class="hljs-built_in">select</span>{}
<span class="hljs-comment">-- (2 &lt;= x &lt;= 3) and (3 &lt;= y &lt;= 5)</span>
sk:<span class="hljs-built_in">select</span>{<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>}
<span class="hljs-comment">---</span>
- ‚Äî [<span class="hljs-number">15</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<font></font>
  - [<span class="hljs-number">21</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>]<font></font>
  - [<span class="hljs-number">16</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>]<font></font>
  - [<span class="hljs-number">22</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]<font></font>
  - [<span class="hljs-number">17</span>, <span class="hljs-number">2</span>, <span class="hljs-number">5</span>]<font></font>
  - [<span class="hljs-number">23</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>]<font></font>
‚Ä¶<font></font>
<span class="hljs-comment">-- (x == 2) and (y == 3)</span>
sk:<span class="hljs-built_in">select</span>{<span class="hljs-number">2</span>, <span class="hljs-number">3</span>}
<span class="hljs-comment">---</span>
- ‚Äî [<span class="hljs-number">15</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]
<span class="hljs-comment">-- (2 &lt;= x &lt;= 3)</span>
sk:<span class="hljs-built_in">select</span>({<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, box.NULL, box.NULL})
<span class="hljs-comment">---</span>
- ‚Äî [<span class="hljs-number">12</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>]<font></font>
  - [<span class="hljs-number">18</span>, <span class="hljs-number">3</span>, <span class="hljs-number">0</span>]<font></font>
  - [<span class="hljs-number">13</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>]<font></font>
  - [<span class="hljs-number">19</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>]<font></font>
  - [<span class="hljs-number">14</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>]<font></font>
  - [<span class="hljs-number">20</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>]<font></font>
  - [<span class="hljs-number">15</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<font></font>
  - [<span class="hljs-number">21</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>]<font></font>
  - [<span class="hljs-number">16</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>]<font></font>
  - [<span class="hljs-number">22</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]<font></font>
  - [<span class="hljs-number">17</span>, <span class="hljs-number">2</span>, <span class="hljs-number">5</span>]<font></font>
  - [<span class="hljs-number">23</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>]<font></font>
...<font></font>
<span class="hljs-comment">-- (x &gt;= 2) and (y &gt;= 3)</span>
sk:<span class="hljs-built_in">select</span>({<span class="hljs-number">2</span>, box.NULL, <span class="hljs-number">3</span>, box.NULL})
<span class="hljs-comment">---</span>
- ‚Äî [<span class="hljs-number">15</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<font></font>
  - [<span class="hljs-number">21</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>]<font></font>
  - [<span class="hljs-number">27</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>]<font></font>
  - [<span class="hljs-number">33</span>, <span class="hljs-number">5</span>, <span class="hljs-number">3</span>]<font></font>
  - [<span class="hljs-number">16</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>]<font></font>
  - [<span class="hljs-number">22</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]<font></font>
  - [<span class="hljs-number">17</span>, <span class="hljs-number">2</span>, <span class="hljs-number">5</span>]<font></font>
  - [<span class="hljs-number">23</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>]<font></font>
  - [<span class="hljs-number">28</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>]<font></font>
  - [<span class="hljs-number">34</span>, <span class="hljs-number">5</span>, <span class="hljs-number">4</span>]<font></font>
  - [<span class="hljs-number">29</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<font></font>
  - [<span class="hljs-number">35</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>]<font></font>
...</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Et la performance?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il s'est av√©r√© que tout n'est pas aussi rose que je l'ai d√©crit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä partir d'un moment donn√©, la courbe de l'ordre Z commence √† s'affaisser de mani√®re significative en termes de vitesse d'acc√®s aux donn√©es. perf top a montr√© que la plupart du temps est consacr√© √† v√©rifier que le point appartient √† la zone de recherche et √† calculer le point suivant auquel vous devez sauter. Les deux op√©rations ont une complexit√© lin√©aire en fonction de la longueur de cl√© - √† mesure que la dimension augmente, la longueur augmente √©galement.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/70e/338/fd1/70e338fd15af8701c3a5696ebfb3ea2a.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De l'agr√©able - la consommation de m√©moire est 2-3 fois inf√©rieure et l'insertion est l√©g√®rement plus rapide que le R-Tree. </font><font style="vertical-align: inherit;">Ce qui n'est pas particuli√®rement pertinent, car les mesures ont √©t√© effectu√©es avec WAL d√©sactiv√©. </font><font style="vertical-align: inherit;">Tout d'abord, dans un environnement de production, en cas de panne, un WAL d√©sactiv√© peut entra√Æner une perte de donn√©es. </font><font style="vertical-align: inherit;">Deuxi√®mement, malgr√© le fait que l'√©criture sur le WAL utilise l'approche par lots, elle continue d'√©crire sur le disque, ce qui est des milliers de fois plus lent que de travailler avec de la RAM.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9ee/e73/e29/9eee73e29d809963c069a9f7414f524a.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2c0/8b9/159/2c08b91598dbefe2855ede4d05a593ca.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est √©galement int√©ressant de comparer avec l'arbre B. </font><font style="vertical-align: inherit;">Ici, comme pr√©vu, la courbe sera plus rapide qu'un balayage complet et v√©rifiera que chaque point appartient √† une zone donn√©e. </font><font style="vertical-align: inherit;">M√™me si la v√©rification est plus l√©g√®re que dans le cas de la courbe d'ordre Z, o√π tout se r√©sume √† une comparaison au niveau du bit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les nombres sur le graphique diff√®rent dans l'ordre de l'arbre R - le test a √©t√© l√©g√®rement modifi√©.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/140/ae5/44d/140ae544d6ba527bffe6bc4d814f609d.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour le test, j'ai g√©n√©r√© un ensemble de points et compar√© la dur√©e de la requ√™te en utilisant la courbe Z et le balayage conventionnel.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R√©sumer</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le monde en m√©moire, cette structure s'est av√©r√©e ne pas √™tre la meilleure fa√ßon, cependant, elle a encore des avantages:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prend moins d'espace.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Typ√©, contrairement √† R-Tree (pertinent uniquement pour Tarantool).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cela vaut la peine de regarder de plus pr√®s s'il n'y a qu'un B-Tree et que vous devez effectuer des requ√™tes multidimensionnelles (non pertinentes pour Tarantool).</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce fut une exp√©rience int√©ressante. </font><font style="vertical-align: inherit;">Il est peu probable que la solution que j'ai propos√©e fasse partie de Tarantool. </font><font style="vertical-align: inherit;">Cependant, n'ayez pas peur d'exp√©rimenter. </font><font style="vertical-align: inherit;">Et si vous avez des suggestions et des solutions, n'h√©sitez pas √† les partager.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sources</font></font></h2><br>
<a name="B-Tree"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[B-Tree]: </font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Index dans PostgreSQL - 4 / Blog de Postgres Professional / Habr </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">B-tree / Habr </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">B-tree data structure / OTUS Blog. </font><font style="vertical-align: inherit;">√âducation en ligne / magazine geek</font></font></a><br>
<br>
<a name="ZcurvePostgres"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ZcurvePostgres]: </font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Ä propos de Z-order et R-tree / geek magazine </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Z-order vs R-tree, suite / geek magazine</font></font></a><br>
<br>
<a name="1"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[1] </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Indexation Z-Order pour les requ√™tes √† multiples facettes dans Amazon DynamoDB: Partie 1 | </font><font style="vertical-align: inherit;">Blog de la base de donn√©es AWS</font></font></a><br>
<br>
<a name="1"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[2] </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Indexation d'ordre Z pour les requ√™tes √† multiples facettes dans Amazon DynamoDB: Partie 2 | </font><font style="vertical-align: inherit;">Blog de la base de donn√©es AWS</font></font></a><br>
<br>
<a name="3"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[3] </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Int√©gration de l'arborescence UB dans un noyau de syst√®me de base de donn√©es</font></font></a><br>
<br>
<a name="4"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[4] </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/tarantool/small</font></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr505850/index.html">Polymorphisme bas√© sur le concept C ++ dans le code produit: PassManager dans LLVM</a></li>
<li><a href="../fr505856/index.html">De Brute-Force √† la tentative de confidentialit√© - ce √† quoi les fournisseurs de SaaS sont confront√©s</a></li>
<li><a href="../fr505860/index.html">Spring Boot, Hibernate et Kotlin pour les d√©butants √©tape par √©tape</a></li>
<li><a href="../fr505870/index.html">Comment promouvoir les jeux et applications mobiles au Japon, en Cor√©e et en Chine</a></li>
<li><a href="../fr505872/index.html">Histoire des v√©hicules sans pilote</a></li>
<li><a href="../fr505884/index.html">Spear phishing: exp√©rience de la cr√©ation de fichiers ex√©cutables conditionnellement malveillants pour les e-mails de phishing</a></li>
<li><a href="../fr505888/index.html">Analyser YouTube, y compris les donn√©es t√©l√©charg√©es, sans l'API YouTube</a></li>
<li><a href="../fr505896/index.html">Semaine de s√©curit√© 24: Zoom et confidentialit√© du navigateur Brave</a></li>
<li><a href="../fr505898/index.html">Claude Shannon: valet de tous les m√©tiers, farceur et p√®re de la th√©orie de l'information</a></li>
<li><a href="../fr505900/index.html">D√©pendances personnelles: pleine grandeur 40 mm, sans fil, pendant 72 heures pour 8000 roubles</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>