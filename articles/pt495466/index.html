<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üè¥‚Äç‚ò†Ô∏è üë®üèΩ‚Äç‚öñÔ∏è üéóÔ∏è Armadilhas de hackers. Detectar hackers cedo com Canarytokens üë©‚Äçüî¨ ‚ò∏Ô∏è üè°</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Honey Tokens (em ingl√™s - ‚Äúsinais / identificadores / identificadores de mel‚Äù) √© uma das variedades da ideia Honeypot, uma isca para intrusos detectar...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Armadilhas de hackers. Detectar hackers cedo com Canarytokens</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/495466/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Honey Tokens (em ingl√™s - ‚Äúsinais / identificadores / identificadores de mel‚Äù) √© uma das variedades da ideia Honeypot, uma isca para intrusos detectarem o fato de um hack ou identificarem sua origem. </font><font style="vertical-align: inherit;">Quando o invasor j√° entrou no sistema, √© prov√°vel que ele execute a√ß√µes incomuns para o usu√°rio comum. </font><font style="vertical-align: inherit;">Isso pode ser usado como uma maneira de detectar hackers. </font><font style="vertical-align: inherit;">Neste artigo, veremos como √© f√°cil criar seus pr√≥prios gatilhos para detectar hackers em um est√°gio inicial. </font><font style="vertical-align: inherit;">Essas armadilhas s√£o √∫teis para administradores de sistema e at√© usu√°rios comuns preocupados com a privacidade de seus dados.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/webt/xq/wk/ks/xqwkksjf6adatsv3lhu-am4ph6w.jpeg"></div></a><br>
<font color="#999999"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Antes da inven√ß√£o dos analisadores de g√°s, os mineiros levavam um can√°rio para a mina. </font><font style="vertical-align: inherit;">Devido ao corpo pequeno e ao r√°pido metabolismo, as aves reagiram a gases perigosos no ar muito antes e alertaram os mineiros.</font></font></i></font><a name="habracut"></a><br>
<br>
<h3><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por que isso √© necess√°rio?</font></font></font></h3><br>
<img src="https://habrastorage.org/webt/ji/uf/cb/jiufcbwkepg-izswuadwxjkerxe.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O hacker, uma vez no novo sistema, come√ßa a olhar em volta, como um ladr√£o, tendo penetrado no apartamento, come√ßa a abrir todas as caixas em busca de j√≥ias. </font><font style="vertical-align: inherit;">O invasor n√£o sabe com anteced√™ncia quais dados espec√≠ficos t√™m valor, mas com uma alta probabilidade, ele verificar√° todas as op√ß√µes poss√≠veis. </font><font style="vertical-align: inherit;">Portanto, √© importante que os traps pare√ßam dados reais e sejam o mais atraentes para o invasor poss√≠vel. </font><font style="vertical-align: inherit;">Quanto mais cedo o propriet√°rio perceber que a armadilha √© acionada, mais cedo ele perceber√° que foi hackeado e poder√° responder.</font></font><br>
<br>
<h3><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Servi√ßo Canarytokens</font></font></font></h3><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O canarytokens.org</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √© um servi√ßo on-line para criar convenientemente seus pr√≥prios marcadores (hanitokens) para hackers. </font><font style="vertical-align: inherit;">Ele suporta v√°rias op√ß√µes de gatilho e permite gerar um gatilho pronto com o correio anexado, para o qual uma notifica√ß√£o ser√° enviada se o gatilho funcionar. </font></font><br>
<img src="https://habrastorage.org/webt/dt/as/lm/dtaslm6-vs_4c-cl6h5nqzlqh70.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O servi√ßo √© totalmente gratuito e um gatilho pode ser gerado instantaneamente sem registro. </font><font style="vertical-align: inherit;">H√° tamb√©m uma vers√£o auto-hospedada para quem prefere manter segredos em sua infraestrutura. </font><font style="vertical-align: inherit;">A seguir, veremos como cada um dos gatilhos funciona e, no final, implantaremos nosso pr√≥prio servidor canarytokens no cont√™iner Docker.</font></font><br>
<br>
<h3><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Disparar ao abrir um arquivo .doc e pdf</font></font></font></h3><br>
<img width="300" src="https://habrastorage.org/webt/x9/mw/tn/x9mwtnlqxhixsnu5o6fod1tgwao.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Funcionar√° se o documento tiver sido aberto pelo programa para visualiza√ß√£o. </font><font style="vertical-align: inherit;">Eu uso esse truque com muita frequ√™ncia. </font><font style="vertical-align: inherit;">Em cada computador e unidade flash, tenho documentos com nomes atraentes, como Passwords.pdf ou Bitcoins.doc. </font><font style="vertical-align: inherit;">Gosto de ver como os contadores com curiosidade examinam todos os arquivos no pen drive transferidos para eles. </font></font><br>
 &nbsp;<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Considero esse gatilho o mais eficaz e √∫til para todas as categorias de usu√°rios, de profissionais de seguran√ßa da informa√ß√£o a iniciantes. </font><font style="vertical-align: inherit;">Quase ningu√©m sabe que um visualizador de PDF pode transmitir o fato de abrir um arquivo ao propriet√°rio do documento. </font><font style="vertical-align: inherit;">Todo mundo se depara com isso.</font></font><br>
 &nbsp;<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Existem v√°rias maneiras de captar o fato de abrir um documento. </font><font style="vertical-align: inherit;">O Canarytokens usa um URL espec√≠fico do documento incorporado ao documento para verificar os certificados SSL revogados (lista de revoga√ß√£o de certificados). </font><font style="vertical-align: inherit;">Como resultado, o programa vai para esse endere√ßo e o gatilho √© acionado.</font></font><br>
<br>
<h3><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Disparar via resolu√ß√£o de DNS</font></font></font></h3><br>
<img width="500" src="https://habrastorage.org/webt/am/i1/wh/ami1whax3utfizv4zfgxuerxc9g.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esse √© um gatilho muito interessante, cujos benef√≠cios n√£o s√£o imediatamente √≥bvios. </font><font style="vertical-align: inherit;">Funcionar√° se algu√©m solicitar o endere√ßo IP do subdom√≠nio gerado, que √© gerado especialmente para que n√£o possa ser adivinhado por acaso ou distorcido. </font><font style="vertical-align: inherit;">Assim, opera√ß√µes acidentais s√£o exclu√≠das. </font><font style="vertical-align: inherit;">Esse gatilho √© usado para muitas das t√©cnicas descritas abaixo, inclusive para detectar o fato de abrir uma pasta e como um gatilho no banco de dados MS SQL. </font><font style="vertical-align: inherit;">De fato, existem muitas op√ß√µes para usar esse gatilho.</font></font><br>
<br>
<h3><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gatilho de URL</font></font></font></h3><br>
<img width="500" src="https://habrastorage.org/webt/60/mk/dn/60mkdnqqsqvla-5cc7-2nbkotrs.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nesse caso, basta que uma solicita√ß√£o GET, POST ou HEAD seja executada por refer√™ncia. </font><font style="vertical-align: inherit;">Isso acionar√° o gatilho. </font><font style="vertical-align: inherit;">Al√©m do uso usual, tamb√©m pode ser usado em scripts para verificar os analisadores que seguem os links para exibir as visualiza√ß√µes do conte√∫do. </font><font style="vertical-align: inherit;">O mesmo acontece com, por exemplo, mensageiros instant√¢neos: basta escrever um link no campo de entrada em que voc√™ clicou nos servidores de mensageiros.</font></font><br>
<br>
<h3><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cen√°rio</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A imagem cl√°ssica de 1 x 1 pixel √© conhecida por todos que rastreiam publicidade on-line. </font><font style="vertical-align: inherit;">O gatilho funcionar√° se um arquivo de imagem tiver sido carregado. </font><font style="vertical-align: inherit;">Esse pixel pode ser inserido em qualquer p√°gina html ou em uma carta. </font><font style="vertical-align: inherit;">√â conveniente cham√°-lo de scripts JS na p√°gina se a condi√ß√£o necess√°ria tiver funcionado. </font><font style="vertical-align: inherit;">Voc√™ tamb√©m pode substituir o pixel padr√£o por sua pr√≥pria imagem.</font></font><br>
<br>
<h3><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Disparador de e-mail</font></font></font></h3><br>
<img width="300" src="https://habrastorage.org/webt/mo/4e/sm/mo4esmyilw_y8lzwqhhw2-kaemq.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se alguma carta chegar na caixa de correio gerada, o gatilho funcionar√°. </font><font style="vertical-align: inherit;">√â conveniente usar endere√ßos de e-mail, listas de contatos etc. para monitorar o vazamento de bancos de </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
dados.Por exemplo, voc√™ pode adicionar esse endere√ßo √† sua lista de contatos e descobrir quando seu notebook no seu telefone ser√° mesclado por algum aplicativo que solicite acesso √† sua lista de contatos. . </font><font style="vertical-align: inherit;">Tamb√©m √© poss√≠vel que todos os funcion√°rios adicionem endere√ßos de gatilho diferentes aos notebooks em um computador, telefone, cliente de e-mail e acompanhem a origem dos contatos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um endere√ßo de email √© gerado especialmente e n√£o √© previs√≠vel, portanto a probabilidade de sele√ß√£o e acionamento acidental de um acionador √© exclu√≠da.</font></font><br>
<br>
<h3><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gatilho aberto de pasta do Windows</font></font></font></h3><br>
<img width="100" src="https://habrastorage.org/webt/fp/zd/hx/fpzdhxc0olbpomnpgglqlhrd9f4.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Certamente muitos viram um arquivo desktop.ini oculto que est√° em todas as pastas do Windows. </font><font style="vertical-align: inherit;">Acontece que ele n√£o √© t√£o simples. </font><font style="vertical-align: inherit;">Nele, voc√™ pode especificar o endere√ßo do √≠cone no servidor remoto, usando caminhos UNC (esses s√£o usados ‚Äã‚Äãpara unidades de rede e come√ßam com \\), enquanto o Windows executar√° a resolu√ß√£o de DNS no dom√≠nio especificado no link para o √≠cone e ativar√° o gatilho. </font><font style="vertical-align: inherit;">O arquivo desktop.ini pode ser compactado com outros arquivos no arquivo morto e funcionar√° se o arquivo estiver descompactado.</font></font><br>
<br>
<h3><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gatilho de clonagem de site</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um script simples para p√°ginas da Web que funciona se a p√°gina n√£o estiver aberta no seu dom√≠nio. </font><font style="vertical-align: inherit;">Pode ser √∫til para detectar phishing.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">if</span> (<span class="hljs-built_in">document</span>.domain != <span class="hljs-string">"mydomain.com"</span>) {
    <span class="hljs-keyword">var</span> l = location.href;
    <span class="hljs-keyword">var</span> r = <span class="hljs-built_in">document</span>.referrer;
    <span class="hljs-keyword">var</span> m = <span class="hljs-keyword">new</span> Image();<font></font>
    m.src = <span class="hljs-string">"http://canarytokens.com/"</span>+
            <span class="hljs-string">"blablabla.jpg?l="</span>+
            <span class="hljs-built_in">encodeURI</span>(l) + <span class="hljs-string">"&amp;r="</span> + <span class="hljs-built_in">encodeURI</span>(r);<font></font>
}</code></pre><br>
<h3><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Disparador para executar um arquivo EXE ou DLL</font></font></font></h3><br>
<img width="300" src="https://habrastorage.org/webt/co/3f/q5/co3fq5b-ivp-imere3zbbdcmmfe.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Permite colar o gatilho com um arquivo .exe ou biblioteca execut√°vel existente. </font><font style="vertical-align: inherit;">N√£o √© detectado por antiv√≠rus. </font><font style="vertical-align: inherit;">Deve-se ter em mente que essa colagem pode quebrar alguns programas; portanto, √© melhor usar algo simples. </font><font style="vertical-align: inherit;">De fato, esse √© um m√©todo conhecido h√° muito tempo usado para espalhar cavalos de Troia e v√≠rus, apenas no nosso caso a funcionalidade oculta √© completamente inofensiva. </font><font style="vertical-align: inherit;">No entanto, deve-se ter em mente que o arquivo execut√°vel pode causar um alerta maior ao invasor e tamb√©m n√£o ser executado em seu sistema operacional.</font></font><br>
<br>
<h3><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gatilho para MS SQL</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O MS SQL permite adicionar um gatilho para executar INSERT, SELECT, DELETE etc. Para acionar um gatilho, use o mesmo m√©todo que para um arquivo desktop.ini, ou seja, resolva um nome DNS por caminhos UNC.</font></font><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exemplo de gatilho para MS SQL</font></font></b><div class="spoiler_text"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--crie um proc armazenado que ir√° executar ping em canarytokens </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 CREATE proc ping_canarytoken </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 AS </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 BEGIN </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 declara</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nome do usu√°rio</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> varchar (max), </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">base64</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> varchar (max), @tokendomain varchar (128), @unc varchar (128), </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tamanho</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> int </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">feito</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> int </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aleat√≥ria</font></font></a> varchar(3);<br>
<br>
--setup the variables<br>
 set @tokendomain = 'qo2dd6tftntl1pej9j68v31k6.canarytokens.com';<br>
 set <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">size</a> = 128;<br>
 set <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">done</a> = 0;<br>
 set <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">random</a> = cast(round(rand()*100,0) as varchar(2));<br>
 set <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">random</a> = concat(<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">random</a>, '.');<br>
 set <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">username</a> = SUSER_SNAME();<br>
<br>
--loop runs until the UNC path is 128 chars or less<br>
 while <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">done</a> &lt;= 0<br>
 begin<br>
 --convert username into base64<br>
 select <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">base64</a> = (SELECT<br>
 CAST(N'' AS XML).value(<br>
 'xs:base64Binary(xs:hexBinary(sql:column(¬´bin¬ª)))'<br>
, 'VARCHAR(MAX)'<br>
 ) Base64Encoding<br>
 FROM (<br>
 SELECT CAST(<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">username</a> AS VARBINARY(MAX)) AS bin<br>
 ) AS bin_sql_server_temp);<br>
<br>
--replace base64 padding as dns will choke on =<br>
 select <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">base64</a> = replace(<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">base64</a>,'=','-')<br>
<br>
--construct the UNC path<br>
 select @unc = concat('\\',@base64,'.',@random,@tokendomain,'\a')<br>
<br>
 ‚Äî if too big, trim the username and try again<br>
 if len(@unc) &lt;= <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">size</a><br>
 set <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">done</a> = 1<br>
 else<br>
 --trim from the front, to keep the username and lose domain details<br>
 select <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">username</a> = substring(<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">username</a>, 2, len(<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">username</a>)-1)<br>
 end<br>
 exec master.dbo.xp_fileexist @unc;<br>
 END<br>
<br>
--add a trigger if data is altered<br>
 CREATE TRIGGER TRIGGER1<br>
 ON TABLE1<br>
 AFTER INSERT<br>
 AS<br>
 BEGIN<br>
 exec ping_canarytoken<br>
 end<br>
</div></div><br>
<h3><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Acionador de logon do Amazon Web Services</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A chave da API de servi√ßos da Amazon deve atrair um invasor para verificar o que est√° l√°. </font><font style="vertical-align: inherit;">Se essa chave de API for usada para login, o gatilho ser√° acionado. </font><font style="vertical-align: inherit;">Nesse caso, √© claro, n√£o h√° dados l√°.</font></font><br>
<br>
<h3><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Outros gatilhos</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O servi√ßo canarytokens.org tamb√©m oferece suporte a outros gatilhos, como um gancho para SVN, um redirecionamento da Web, leitura de um c√≥digo QR, chave da API do Slack e outros. </font><font style="vertical-align: inherit;">Todos eles usam um princ√≠pio semelhante e, se desejar, voc√™ pode criar seu pr√≥prio gatilho de forma independente, tendo em seu arsenal um nome DNS, um link com uma imagem, um endere√ßo para correspond√™ncia e chaves de API para servi√ßos populares. </font><font style="vertical-align: inherit;">Al√©m das notifica√ß√µes por email, os Canarytokens podem ativar um gancho da Web se um gatilho for acionado. </font><font style="vertical-align: inherit;">Os mecanismos de opera√ß√£o est√£o descritos na documenta√ß√£o.</font></font><br>
<br>
<h3><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Servidor nativo Canarytokens</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um cracker experiente, vendo no c√≥digo fonte o endere√ßo canarytokens.org imediatamente adivinhar tudo. </font><font style="vertical-align: inherit;">Portanto, para uso na empresa, √© melhor implantar sua pr√≥pria inst√¢ncia de canarytokens, para que todos os endere√ßos de acionador cheguem aos dom√≠nios internos da empresa e sejam indistingu√≠veis dos servi√ßos internos reais. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os desenvolvedores fornecem uma </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">imagem do Docker pronta para uso</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">O processo de instala√ß√£o √© bastante t√≠pico para qualquer imagem, portanto n√£o abordaremos esse t√≥pico. </font><font style="vertical-align: inherit;">Vamos nos concentrar apenas em pontos n√£o √≥bvios. </font><font style="vertical-align: inherit;">Antes da instala√ß√£o, voc√™ precisar√° editar o arquivo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">frontend.env</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">switchboard.env</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-comment"># ()       </span>
<span class="hljs-comment">#     IP-    Docker.        SSL-.</span><font></font>
CANARY_DOMAINS=example1.com,example2.com<font></font>
<font></font>
<span class="hljs-comment">#            PDF-</span>
<span class="hljs-comment">#    NS-          .</span>
<span class="hljs-comment">#   example3.com     example1.com  example2.com</span><font></font>
CANARY_NXDOMAINS=example3.com<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para enviar e-mail, recomendo usar o servi√ßo Mailgun, porque o Sendgrid √© inst√°vel.</font></font><br>
<br>
<h3><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclus√£o</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Essas armadilhas s√£o realmente eficazes. </font><font style="vertical-align: inherit;">No meu caso, gatilhos com arquivos PDF s√£o especialmente √∫teis. </font><font style="vertical-align: inherit;">O servi√ßo ser√° √∫til para usu√°rios comuns e profissionais experientes. </font><font style="vertical-align: inherit;">Mesmo um invasor sofisticado que conhece a exist√™ncia de Hanipots e Hanitokens n√£o ser√° capaz de resistir √† tenta√ß√£o de, pelo menos, deixar o subdom√≠nio encontrado na documenta√ß√£o. </font><font style="vertical-align: inherit;">Se voc√™ usar as armadilhas com cuidado e sabedoria, poder√° detectar um cracker logo no in√≠cio. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Essas t√©cnicas podem ser usadas em servidores, computadores desktop, armazenamento de arquivos e at√© mesmo em telefones. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se voc√™ deseja implantar tokens em sua pr√≥pria inst√¢ncia do Docker, em nossas m√°quinas virtuais o Docker √© instalado com apenas um clique no </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mercado</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Al√©m disso, oferecemos um desconto de 15% em todos os servidores usando o c√≥digo promocional </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DONTPANIC</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/iq/fi/b4/iqfib45pgphfrxv--zfemt0qnmw.jpeg"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt495456/index.html">Revis√£o de 14 plugins novos para o Figma que ajudar√£o a aumentar a produtividade enquanto todos n√≥s</a></li>
<li><a href="../pt495458/index.html">Como escrever c√≥digo quando crian√ßas correm ao seu redor e perguntar: "Para que voc√™ trabalha?"</a></li>
<li><a href="../pt495460/index.html">Uma bolha de g√°s 22.000 vezes o tamanho da Terra explodiu em Urano</a></li>
<li><a href="../pt495462/index.html">.NET Core: x86_64 intr√≠nseco em m√°quinas virtuais</a></li>
<li><a href="../pt495464/index.html">Mensagem informativa 404 - n√£o apenas um erro, mas tamb√©m um feriado</a></li>
<li><a href="../pt495468/index.html">Algoritmo de reconhecimento de pre√ßo que funciona mesmo em terminais de coleta de dados</a></li>
<li><a href="../pt495472/index.html">Mudar para o vegetarianismo n√£o impedir√° que as pessoas sejam infectadas por doen√ßas como COVID-19</a></li>
<li><a href="../pt495474/index.html">DataGrip 2020.1: inicie configura√ß√µes, exporte para Excel, resulte no editor e muito mais</a></li>
<li><a href="../pt495476/index.html">Por que o sucesso da Atari DeepMind AI √© decepcionante</a></li>
<li><a href="../pt495478/index.html">Testador de dados grandes e pequenos: tend√™ncias, teoria, minha hist√≥ria</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>