<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤘🏽 🕺🏼 🍈 Terraform, référentiels mono et conformité en tant que code 🛀 🌺 ➿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour à tous. OTUS a ouvert le recrutement d'un nouveau groupe au cours «Plateforme d'infrastructure basée sur Kubernetes» , dans le cadre de cela, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Terraform, référentiels mono et conformité en tant que code</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/496162/"><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bonjour à tous. </font><font style="vertical-align: inherit;">OTUS a ouvert le recrutement d'un nouveau groupe au cours </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«Plateforme d'infrastructure basée sur Kubernetes»</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dans le cadre de cela, nous avons préparé une traduction de matériel intéressant sur le sujet.</font></font></i></b><br>
<br>
<img src="https://habrastorage.org/webt/_-/a_/zq/_-a_zqk4jh1yeiuysg6pmfprejm.png"><br>
<hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous faites peut-être partie de ceux qui utilisent terraform pour Infrastructure en tant que code, et vous vous demandez comment l'utiliser de manière plus productive et plus sûre. En général, récemment, cela a dérangé de nombreuses personnes. Nous écrivons tous la configuration et le code à l'aide de différents outils et langages et passons beaucoup de temps à les rendre plus lisibles, extensibles et évolutifs. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ct/v9/dq/ctv9dqpci5uhnejvqacfdlzve5q.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Peut-être que le problème est en nous-mêmes?</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Le code écrit doit créer de la valeur ou résoudre un problème, tout en étant réutilisable pour la déduplication. En règle générale, ce type de discussion se termine par </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«Utilisons des modules»</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Nous utilisons tous des modules terraform, non? Je pourrais écrire de nombreuses histoires avec des problèmes dus à une modularité excessive, mais c'est une histoire complètement différente, et je ne le ferai pas.</font></font><a name="habracut"></a><br>
<br>
<img src="https://habrastorage.org/webt/up/tu/x2/uptux2lqssssnc_yyadvetw4sa0.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Non je ne le ferais pas. N'insistez pas, non ... D'accord, peut-être plus tard.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Il existe une pratique bien connue: étiqueter le code lors de l'utilisation de modules pour verrouiller le module racine, afin de garantir son fonctionnement même lors de la modification du code du module. Cette approche devrait devenir un principe d'équipe dans lequel les modules appropriés sont étiquetés et utilisés de manière appropriée. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... mais qu'en est-il des dépendances? Que faire si j'ai </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">120</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> modules dans </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">120</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> référentiels différents et que le changement d'un module affecte 20 autres modules. Est-ce à dire que nous devons faire </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20 + 1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pull demandes? Si le nombre minimum d'évaluateurs est de 2, cela signifie </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21 x 2 = 44</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la revue. Sérieusement! Nous paralysons simplement la commande en «changeant un module» et tout le monde commencera à envoyer des mèmes ou des gifs du Seigneur des Anneaux, et le reste de la journée sera perdu. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/mh/97/hp/mh97hpwsk28i70xcrk_g-jkie-u.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un PR pour informer tout le monde, un PR pour rassembler tout le monde, enchaîner et plonger dans l'obscurité</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Est-ce que ça vaut le coup de travailler? Faut-il réduire le nombre d'examinateurs? Ou, peut-être, faites une exception pour les modules et n'exigez pas de RP si le changement a un impact important. Vraiment? Voulez-vous marcher aveuglément dans une forêt sombre et profonde? Ou </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">les rassembler, percer et plonger dans les ténèbres</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Non, ne modifiez pas l'ordre de l'examen. Si vous pensez que travailler avec PR est juste, alors respectez-le. Si vous avez des pipelines intelligents ou que vous insistez pour maîtriser, restez avec cette approche.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans ce cas, le problème n'est pas </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«comment travaillez-vous»</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mais </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«quelle est la structure de vos dépôts git»</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<img src="https://habrastorage.org/webt/q9/qd/1m/q9qd1mffdrpnnfs2ywarhzzojwk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ceci est similaire à ce que j'ai ressenti lorsque j'ai appliqué la suggestion ci-dessous pour la première fois. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Revenons à l'essentiel. </font><font style="vertical-align: inherit;">Quelles sont les exigences générales pour un référentiel avec des modules terraform?</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il doit être balisé pour qu'il n'y ait pas de changements de rupture.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tout changement doit pouvoir être testé.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les changements doivent passer par un examen mutuel.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, je suggère ce qui suit - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NE PAS utiliser de </font></font></b> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">micro-référentiels pour les modules terraform. </font><font style="vertical-align: inherit;">Utilisez un référentiel mono</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez baliser l'intégralité du référentiel en cas de changement / exigence</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tout changement, PR ou push peut être testé.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tout changement peut passer par l'examen.</font></font></li>
</ul><br>
<img src="https://habrastorage.org/webt/ff/si/dm/ffsidmva0173goa0qakuisrr5o4.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J'ai de la force!</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
D'accord, mais quelle sera la structure de ce référentiel? Au cours des quatre dernières années, j'ai eu de nombreux échecs liés à cela, et je suis arrivé à la conclusion qu'un répertoire séparé pour le module serait la meilleure solution. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rs/0j/0g/rs0j0gfsrkk45cfmo0j8oemoe-4.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exemple de structure de répertoires pour un référentiel mono. Voir le changement de tags_override?</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ainsi, un changement de module qui affecte 20 autres modules n'est que de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 PR</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ! Même si vous ajoutez 5 critiques à ce PR, la revue sera très rapide par rapport aux micro-référentiels. Si vous utilisez Github, c'est encore mieux! Vous pouvez utiliser </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CODEOWNERS</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour les modules qui ont des mainteneurs / propriétaires, et toute modification de ces modules DOIT être approuvée par ce propriétaire.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Génial, mais comment utiliser un tel module, qui se trouve dans le répertoire mono-repository? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Facile:</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">module</span> <span class="hljs-string">"from_mono_repo"</span> {<font></font>
 source = <span class="hljs-string">"git::ssh://.../&lt;org&gt;/&lt;repo&gt;.git//&lt;my_module_dir&gt;"</span><font></font>
 ...<font></font>
}<font></font>
<span class="hljs-keyword">module</span> <span class="hljs-string">"from_mono_repo_with_tags"</span> {<font></font>
  source = <span class="hljs-string">"git::ssh://..../&lt;org&gt;/&lt;repo&gt;.git//&lt;mod_dir&gt;?ref=1.2.4"</span><font></font>
  ...<font></font>
}<font></font>
<span class="hljs-keyword">module</span> <span class="hljs-string">"from_micro_repo"</span> {<font></font>
  source = <span class="hljs-string">"git::ssh://.../&lt;org&gt;/&lt;mod_repo&gt;.git"</span><font></font>
  ...<font></font>
}<font></font>
<span class="hljs-keyword">module</span> <span class="hljs-string">"from_micro_repo_with_tags"</span> {<font></font>
  source = <span class="hljs-string">"git::ssh://.../&lt;org&gt;/&lt;mod_repo&gt;.git?ref=1.2.4"</span><font></font>
  ...<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quels sont les inconvénients de ce type de structure? </font><font style="vertical-align: inherit;">Eh bien, si vous essayez de tester «chaque module» avec PR / change, vous pouvez obtenir 1,5 heures de pipelines CI. </font><font style="vertical-align: inherit;">Vous devez trouver les modules modifiés dans PR. </font><font style="vertical-align: inherit;">Je le fais comme ça:</font></font><br>
<br>
<pre><code class="java hljs">changed_modules=$(git diff --name-only $(git rev-parse origin/master) HEAD | cut -d <span class="hljs-string">"/"</span> -f1 | grep ^aws- | uniq)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe un autre inconvénient: chaque fois que vous exécutez «terraform init», il charge l'intégralité du référentiel dans le répertoire .terraform. Mais je n'ai jamais eu de problème avec cela, car j'exécute mes canaux dans des conteneurs AWS CodeBuild évolutifs. Si vous utilisez Jenkins et des esclaves Jenkins persistants, vous pouvez avoir ce problème. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cm/fd/jz/cmfdjzpaet7z2bwg5wjvclj2sm4.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ne nous fais pas pleurer.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Avec un mono-référentiel, vous avez toujours tous les avantages des micro-référentiels, mais en prime, vous réduisez le coût de maintenance de vos modules. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Honnêtement, après avoir travaillé dans ce mode, la proposition d'utiliser des micro-référentiels pour les modules terraform devrait être considérée comme un crime.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Super, qu'en est-il des tests unitaires? En avez-vous vraiment besoin? ... En général, qu'entendez-vous exactement par tests unitaires. Allez-vous vraiment vérifier si la ressource AWS est créée correctement? À qui incombe cette responsabilité: terraform ou une API qui gère la création de ressources? Peut-être devrions-nous nous concentrer davantage sur </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">les tests négatifs et l'idempotence du code</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour vérifier l'idempotence du code, terraform fournit un excellent paramètre appelé </font></font><code>-detailed-exitcode</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Exécutez simplement:</font></font><br>
<br>
<pre><code class="java hljs">&gt; terraform plan -detailed-exitcode</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Après cela, courez </font></font><code>terraform apply</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et c'est tout. Au moins, vous serez sûr que votre code est idempotent et ne crée pas de nouvelles ressources en raison d'une chaîne aléatoire ou autre chose. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Qu'en est-il des tests négatifs? Qu'est-ce que les tests négatifs en général? En fait, ce n'est pas très différent des tests unitaires, mais vous faites attention aux situations négatives. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">personne n'est autorisé à créer un compartiment S3 non chiffré et public</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, au lieu de vérifier si un compartiment S3 est réellement en cours de création, vous, en fait, en fonction d'un ensemble de stratégies, vérifiez si votre code crée une ressource. Comment faire? Terraform Enterprise fournit un excellent outil pour cela, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sentinel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... mais il existe également des alternatives open source. Actuellement, il existe de nombreux outils pour l'analyse statique du code HCL. Ces outils, basés sur les meilleures pratiques courantes, ne vous permettront pas de faire quoi que ce soit de indésirable, mais que se passe-t-il s'il n'a pas le test dont vous avez besoin ... ou, pire encore, si votre situation est légèrement différente. Par exemple, vous souhaitez autoriser la publication de certains compartiments S3 en fonction de certaines conditions, qui constitueront en fait un bogue de sécurité pour ces outils. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'est là que la </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">conformité terraform</font></a><font style="vertical-align: inherit;"> apparaît</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Cet outil vous permettra non seulement d'écrire vos propres tests dans lesquels vous pourrez déterminer ce que vous voulez comme politique de votre entreprise, mais aussi de séparer la sécurité et le développement en déplaçant la sécurité vers la gauche. </font><font style="vertical-align: inherit;">Cela semble assez controversé, non? </font><font style="vertical-align: inherit;">Non. </font><font style="vertical-align: inherit;">Tandis que? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/2g/sc/i1/2gsci1q3cc5xgjy2-iazueeaere.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Logo de conformité Terraform</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Tout d'abord, la conformité Terraform utilise Behavior Driven Development (BDD).</font></font><br>
<br>
<pre><code class="java hljs">Feature: Ensure that we have encryption everywhere.<font></font>
<font></font>
    Scenario: Reject <span class="hljs-keyword">if</span> an S3 bucket is not encrypted<font></font>
        Given I have aws_s3_bucket defined<font></font>
        Then it must contain server_side_encryption_configuration</code></pre><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vérifiez si le cryptage est activé.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Si cela ne vous suffit pas, vous pouvez écrire plus en détail:</font></font><br>
<br>
<pre><code class="java hljs">Feature: Ensure that we have encryption everywhere.<font></font>
<font></font>
    Scenario: Reject <span class="hljs-keyword">if</span> an S3 bucket is not encrypted with KMS<font></font>
        Given I have aws_s3_bucket defined<font></font>
        Then it must contain server_side_encryption_configuration<font></font>
        And it must contain rule<font></font>
        And it must contain apply_server_side_encryption_by_default<font></font>
        And it must contain sse_algorithm<font></font>
        And its value must match the <span class="hljs-string">"aws:kms"</span> regex</code></pre><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous allons plus loin et vérifions que KMS est utilisé pour le chiffrement.</font></font></i> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Le code terraform pour ce test:</font></font><br>
<br>
<pre><code class="java hljs">resource <span class="hljs-string">"aws_kms_key"</span> <span class="hljs-string">"mykey"</span> {<font></font>
 description             = <span class="hljs-string">"This key is used to encrypt bucket objects"</span>
 deletion_window_in_days = <span class="hljs-number">10</span><font></font>
}<font></font>
<font></font>
resource <span class="hljs-string">"aws_s3_bucket"</span> <span class="hljs-string">"mybucket"</span> {<font></font>
 bucket = <span class="hljs-string">"mybucket"</span><font></font>
<font></font>
 server_side_encryption_configuration {<font></font>
   rule {<font></font>
     apply_server_side_encryption_by_default {<font></font>
       kms_master_key_id = <span class="hljs-string">"${aws_kms_key.mykey.arn}"</span>
       sse_algorithm     = <span class="hljs-string">"aws:kms"</span><font></font>
     }<font></font>
   }<font></font>
 }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, les tests sont compris par TOUT littéralement dans votre organisation. Ici, vous pouvez déléguer l'écriture de ces tests à un service de sécurité ou à des développeurs disposant de connaissances suffisantes en matière de sécurité. Cet outil vous permet également de stocker des fichiers BDD dans un autre référentiel. Cela aidera à différencier les responsabilités lorsque les changements dans le code et les changements dans les politiques de sécurité associés à votre code seront deux entités différentes. Il peut s'agir d'équipes différentes avec des cycles de vie différents. Incroyable non? Eh bien, du moins pour moi, ça l'était. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour plus d'informations sur la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">conformité terraform,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> consultez </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cette présentation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons résolu de nombreux problèmes de </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">conformité</font></a><font style="vertical-align: inherit;"> à la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">terraform</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, en particulier lorsque les services de sécurité sont assez éloignés des équipes de développement et peuvent ne pas comprendre ce que font les développeurs. Vous devinez déjà ce qui se passe dans de telles organisations. Habituellement, le service de sécurité commence à bloquer tout ce qui est suspect pour eux et construit un système de sécurité basé sur la sécurité du périmètre. Oh, mon Dieu ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans de nombreuses situations, l'utilisation de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">terraform</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">terraform-compliance</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> uniquement </font><font style="vertical-align: inherit;">pour les équipes qui conçoivent (ou / et accompagnent) l'infrastructure a permis de mettre ces deux équipes différentes sur la même table. Lorsque votre équipe de sécurité commence à développer quelque chose avec un retour immédiat de tous les pipelines de développement, elle obtient généralement la motivation de faire de plus en plus. Eh bien, généralement ...</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par conséquent, lorsque vous utilisez terraform, nous structurons les référentiels git comme suit: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vl/d_/ln/vld_ln5d9trbudgjtb2wft-32vk.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien sûr, c'est assez arrogant. </font><font style="vertical-align: inherit;">Mais j'ai eu la chance (ou pas la chance?) De travailler avec une structure plus détaillée dans plusieurs organisations. </font><font style="vertical-align: inherit;">Malheureusement, tout cela ne s'est pas très bien terminé. </font><font style="vertical-align: inherit;">La fin heureuse devrait être cachée dans le numéro 3. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Faites-moi savoir si vous avez des histoires de réussite avec des micro référentiels, je suis vraiment intéressé!</font></font><br>
<br>
<hr><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous vous invitons à une </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">leçon gratuite au cours</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de laquelle </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nous examinerons les composants d'une future plateforme d'infrastructure et verrons comment livrer correctement notre application</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></i></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr496148/index.html">Modèles de conception structurelle dans ES6 + sur l'exemple de Game of Thrones</a></li>
<li><a href="../fr496152/index.html">Automatisation du réseau. Cas de vie</a></li>
<li><a href="../fr496154/index.html">Automatisation du service client: une solution de bout en bout de DeepPavlov</a></li>
<li><a href="../fr496156/index.html">Comment les systèmes d'analyse du trafic détectent les tactiques des pirates par MITRE ATT & CK, partie 3</a></li>
<li><a href="../fr496160/index.html">Nous étudions le moteur VoIP Mediastreamer2. Partie 5</a></li>
<li><a href="../fr496164/index.html">Pendant la crise, j'ai perdu mon emploi et maintenant j'ai peur d'écrire du code intelligent pour ne pas effrayer les derniers postes vacants</a></li>
<li><a href="../fr496166/index.html">Doctrine ResultSetMapping avec des exemples</a></li>
<li><a href="../fr496170/index.html">Nous sommes condamnés # 1 // Udalenka en crise et mort d'originalité</a></li>
<li><a href="../fr496174/index.html">Augmentation de la demande d'analyses, d'équipes de produits, d'Amazon, d'Israël, de Singapour, du travail à distance, etc. - beaucoup discuté.</a></li>
<li><a href="../fr496176/index.html">Grande conférence virtuelle: expérience du monde réel dans la protection des données des entreprises numériques modernes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>