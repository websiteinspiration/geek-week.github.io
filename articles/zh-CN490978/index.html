<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👋🏽 🚔 🎅🏿 使用SecureCRT将命令同时发送到多个设备 👨‍👨‍👧 🖐🏼 🚾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="网络工程师通常具有在大量设备上执行一系列相同动作的任务。快速执行此操作的主要方法是将操作写入记事本，然后复制/粘贴到每个设备。使用SecureCRT软件和“命令”窗口功能，有一种方法可以加快这一已经非常快的过程。这使您可以同时将命令发送到多个设备。
 本文的目的是什么？本文来自“快速启动”周期，旨在...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>使用SecureCRT将命令同时发送到多个设备</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/490978/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">网络工程师通常具有在大量设备上执行一系列相同动作的任务。</font><font style="vertical-align: inherit;">快速执行此操作的主要方法是将操作写入记事本，然后复制/粘贴到每个设备。</font><font style="vertical-align: inherit;">使用SecureCRT软件和“命令”窗口功能，有一种方法可以加快这一已经非常快的过程。</font><font style="vertical-align: inherit;">这使您可以同时将命令发送到多个设备。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
本文的目的是什么？</font><font style="vertical-align: inherit;">本文来自“快速启动”周期，旨在为网络工程师节省在多台设备上设置设备（一项任务）时的时间。</font><font style="vertical-align: inherit;">它使用SecureCRT软件和内置的Command窗口功能。</font></font><br>
<br>
<a name="habracut"></a><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内容</font></font></b><div class="spoiler_text"><ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> Command window,   </a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> Command window     </a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> Command window         .</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> SecureCRT</a></li>
</ul><br>
</div></div><br>
<a name="introduction"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">介绍</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在设置网络设备的过程中，通常会出现在大量设备上执行简单且相同的动作的任务。</font><font style="vertical-align: inherit;">要执行这些任务，可以使用标准方法：记事本+复制/粘贴。</font><font style="vertical-align: inherit;">而且，您可以使用内置的SecureCRT功能-命令窗口-一个特殊的窗口，您可以在其中将命令发送到设备之前对其进行编辑。</font><font style="vertical-align: inherit;">以及其他功能：不仅向当前会话发送命令，还向多个打开的会话发送命令。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
使用命令窗口：</font></font><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">呼叫命令窗口，设置操作模式</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用命令窗口同时配置多个设备</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用“命令”窗口同时实时配置多个设备。</font></font></a></li>
</ul><br>
<a name="showcommandwindow"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">呼叫命令窗口，设置操作模式</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通过菜单可以调用命令窗口：SecureCRT菜单=&gt;视图=&gt;命令窗口。</font><font style="vertical-align: inherit;">或SecureCRT菜单=&gt;视图=&gt;聊天窗口。</font></font><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/mn/xn/nq/mnxnnqg2cruptsmtfvxwrij6c2a.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/68/cl/wy/68clwy0lrwgrr4qy1six_f515ik.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
操作模式可能是：</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编辑模式</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实时（“立即发送字符”）</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
编辑模式-允许您在将命令发送到设备之前对其进行编辑。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
实时模式-任何按键都会自动发送到设备-无论是空格还是按键（字母或Enter）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
命令转发设置具有以下操作模式：</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转发到活动会话（仅当前会话）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在所有会话中。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到选定的组（选项卡）或组。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
正式地，这些选项如下：</font></font><br>
<blockquote>Active Session — Send commands only to the active session. This is the default.<br>
All Sessions — Send commands to all your open sessions at once.<br>
Selected Tab Group(s) — Send commands to one or more tab groups. This setting is automatically selected when you right-click on a tab and enable Send Commands to This Group. When commands are being sent to selected tab groups, the tabs of the sessions that commands will be sent to contain an asterisk in front of the session name.<br>
Visible Sessions — Send commands to all visible tabbed sessions. When there are multiple tab groups, commands will be sent to the currently active session in each tab group.<br>
</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
使用“命令”窗口中的上下文相关菜单可以启用实时模式设置。</font><font style="vertical-align: inherit;">（在“命令”窗口上单击鼠标右键-弹出上下文相关菜单，然后选择“立即发送字符”菜单项。）</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
也可以使用“命令”窗口中的上下文相关菜单来调用命令转发设置。</font><font style="vertical-align: inherit;">（右键单击“命令窗口”-弹出上下文相关菜单，选择“将命令发送到”，选择菜单子项{“所有会话” |“选定的选项卡” |“活动会话”）</font></font><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/jw/au/8_/jwau8_7zzvfc6ol454grnta8pfe.png"></div><br>
<a name="usecommandwindow"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用命令窗口同时配置多个设备</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通常，要工作，您需要在多个设备上同时执行简单的命令。</font><font style="vertical-align: inherit;">为此，使用“命令”窗口同时将数据发送到多个设备非常方便（因为速度很快）。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
要配置多个设备：</font></font><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们已连接到相同类型的所有设备。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在SecureCRT菜单中，调用“命令”窗口</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在“命令”窗口的上下文菜单中，选择“所有会话”。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们以单个单位或一个单位输入命令。</font><font style="vertical-align: inherit;">（在一次交换中，通过Control + Enter输入命令-换行，而无需传输到设备。）</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这通常是一组标准命令：</font></font><br>
<pre><code class="plaintext hljs">screen-len 0 tem<font></font>
dis cu<font></font>
save<font></font>
y<font></font>
q<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
例：</font></font><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/zg/vi/pn/zgvipnfq2nzcuvmqlrrmhjmdunk.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/am/ck/zo/amckzoc1hludsslix-47w9k9_j8.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
实际示例：同时配置15台交换机。</font><font style="vertical-align: inherit;">必须在Access +风暴控制中的15个新交换机（端口1至44）上配置snmp v3。</font><font style="vertical-align: inherit;">c 45至48-用于打印机。</font><font style="vertical-align: inherit;">最简单的方法（=最快）似乎使用了一堆：</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SecureCRT命令窗口所有会话+接口范围gi0 / 0/1至gi0 / 0/46。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
第二个实际示例：使用RFC在设备上工作时：“要点1.创建备份配置”：快速打开必要的会话（在SecureCRT中，这确实很快完成了），并在一个供应商的一系列设备上执行一组标准命令。</font></font><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">快速连接到多个会话</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
选择我们要同时连接的会话，然后按Enter。</font></font><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/xi/jo/t-/xijot-7krlkt_rgvsaadlm4mukk.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们同时将命令发送到所有设备：</font></font><br>
<pre><code class="plaintext hljs">ter len 0<font></font>
show ip int br<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
请不要害怕-平铺图像模式-为了清楚起见，请显示在所有活动会话中都输入了命令（以这种形式工作并不方便，但很清楚）：</font></font><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/h1/wy/ee/h1wyeee1xadqd6f6gd3ho33cjvo.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
为了不害怕，我将显示模式切换为Tab（标准操作模式）</font></font><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/bd/no/bu/bdnobuj8d1n9ks4jbmjaxlgeeew.png"></div><br>
<a name="usecommandwindowreal"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用“命令”窗口同时实时配置多个设备。</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
可以真正使用什么实时输入？</font><font style="vertical-align: inherit;">答：当配置相同的参数，但有细微差别时。</font><font style="vertical-align: inherit;">接口上的示例主机名，IP地址。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
实际情况：</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1.在需要输入几乎相同参数的位置打开会话。</font></font><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/b4/xh/vk/b4xhvkizjv-2-bjfqkczr_zsndi.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2.配置命令窗口的操作模式：“立即发送字符” +“将命令发送到：所有会话”。</font></font><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/wg/lq/yi/wglqyibfwo3xqlfj7xsozq80mco.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3.在命令窗口中输入以下数据：</font></font><br>
<pre><code class="plaintext hljs">interface gi0/0/0.10<font></font>
dot1q termination vid 10<font></font>
ip address 172.31.255.<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4.使用鼠标将光标从“命令”窗口转移到会话窗口，并为会话中的每个设备配置必要的地址：</font></font><br>
<pre><code class="plaintext hljs">R1 – 1<font></font>
R2 – 2<font></font>
R3 – 3<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5.使用鼠标将光标转移到“命令”窗口，并添加后缀：</font></font><br>
<pre><code class="plaintext hljs"> 255.255.255.0<font></font>
quit<font></font>
dis ip int br<font></font>
</code></pre><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/jh/0z/vi/jh0zvizkr4qrbgdzyxnr3a1-apc.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
小把戏。</font><font style="vertical-align: inherit;">要检查拼写-首先，我在一个会话中检查拼写。</font><font style="vertical-align: inherit;">验证后，该命令将发送到所有会话。</font></font><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/6c/82/hp/6c82hppgpelcmny9vfvqgvxhf-s.png"></div><br>
<a name="finale"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结论</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
您必须时刻小心。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在某些情况下，断开所有会话的连接会更快。</font><font style="vertical-align: inherit;">仅连接到自定义会话。</font><font style="vertical-align: inherit;">在命令窗口中输入命令。</font><font style="vertical-align: inherit;">连接到所有其他会话之后。</font><font style="vertical-align: inherit;">连接到SecureCRT的速度非常快。</font><font style="vertical-align: inherit;">并且重新连接不会引起问题。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通常，在输入组命令后，会检查每个会话中的工作（使用[ctrl + tab]组合，我们会切换所有窗口并在每个窗口中比较命令的结果）。</font><font style="vertical-align: inherit;">我们检查所有命令执行的正确性，以及在任何一个会话中可能发生的错误。</font><font style="vertical-align: inherit;">示例：当连接3台华为路由器时，其中之一默认连接到用户模式。</font><font style="vertical-align: inherit;">为了在常规线程中工作，我将配置模式切换为特权模式。</font></font><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ox/92/38/ox92382rypfrpb6xtto8liby-tm.png"></div><br>
<a name="AboutSecureCRT"></a><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关于SecureCRT：</font></font></b><div class="spoiler_text"> :  99$ (     SecureCRT   ) <br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"> </a><br>
1     ,   ( ),        .<br>
 1:    Screen-shot  SecureCRT  6.1 —  Windows     6.7  20  2011 .   6.1  Command window,   «Chat window». <br>
    Mac OS X  Windows.<br>
  <br>
 Command Window ( )<br>
Serial/Telnet/SSH1/SSH2/Shell  <br>
</div></div></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN490966/index.html">[预测]未来的运输：短期前景</a></li>
<li><a href="../zh-CN490968/index.html">Habr Converter：简单易用</a></li>
<li><a href="../zh-CN490970/index.html">TypeScript中的严格模式：标志说明，示例</a></li>
<li><a href="../zh-CN490974/index.html">弦论向M理论的演变</a></li>
<li><a href="../zh-CN490976/index.html">DUMP2020的前端部分：我们将再次保证将有一个完整的房子。去年的热门报告和本主题</a></li>
<li><a href="../zh-CN490982/index.html">给雇主的坏建议。如何与开发人员“适当”互动</a></li>
<li><a href="../zh-CN490984/index.html">下诺夫哥罗德Android mitap的资料。MotionLayout，Kotlin Coroutines，CI / CD基础结构和设计系统</a></li>
<li><a href="../zh-CN490986/index.html">测试AMD锐龙处理器与KOMPAS-3D配合使用</a></li>
<li><a href="../zh-CN490988/index.html">我们研究多播RxJS运算符</a></li>
<li><a href="../zh-CN490992/index.html">价格折扣管理：以加油站效果量化模型为例</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>