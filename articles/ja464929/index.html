<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎖️ 🎷 🌡️ ブラウザの遅延画像読み込み（読み込み属性） 👈 📶 👩‍⚖️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="組み込みの遅延画像とiframeアップロードのサポートがWebに登場しました！
 Chromeバージョン76以降、新しい属性loading を使用してリソースを遅延ロードすることができます。このための追加のコードを記述したり、サードパーティのJavaScriptライブラリを使用したりする必要はありま...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ブラウザの遅延画像読み込み（読み込み属性）</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/464929/"><img src="https://habrastorage.org/webt/ck/7z/gj/ck7zgj1unfwejd6sutnk3rlma_4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
組み込みの遅延画像とiframeアップロードのサポートがWebに登場しました！</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chromeバージョン76以降、新しい属性</font></font><code>loading </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">使用</font><font style="vertical-align: inherit;">してリソースを遅延ロードすることができます。このための追加のコードを記述したり、サードパーティのJavaScriptライブラリを使用したりする</font><font style="vertical-align: inherit;">必要はありません</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">詳細を見てみましょう。</font></font><br>
<a name="habracut"></a><br>
<hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このビデオは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この関数の</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">例を</font></a><font style="vertical-align: inherit;">示し</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">てい</font></a><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;">Your browser does not support HTML5 video.<source src="https://web.dev/native-lazy-loading/lazyload.webm" type="video/webm"></video></div></div></div><br>
<h2>   ?</h2><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTTPArchive</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に</font><font style="vertical-align: inherit;">
よると</font><font style="vertical-align: inherit;">、画像はほとんどのサイトで最も要求される種類のリソースであり、通常、他のサイトよりも多くの帯域幅を消費します。 90パーセンタイルでは、サイトはデスクトップとモバイルデバイスに約4.7 MBの画像を送信します。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">猫との</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">十分な</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">写真</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
埋め込みiframeも大量のデータを消費し、ページのパフォーマンスに悪影響を与える可能性があります。重要ではない画像とiframeをダウンロードできるのは、ユーザーがそれらを確認できるときだけです。ページの読み込み速度が向上し、ユーザーチャネル帯域幅の負荷が最小化され、メモリ使用量が減少します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
現在、画面外にある画像とフレームの読み込みを遅らせる方法は2つあります。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用して</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">交差点オブザーバーのAPIを</font></font></a></li>
<li><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">イベントハンドラ</font></font></a> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用する</font></font><code>scroll</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>resize </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">または</font></font><code>orientationchange </code></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どのオプションでも開発者は遅延読み込み機能を有効にすることができ、多くのサードパーティライブラリを作成して、さらに使いやすい抽象化を提供しています。</font><font style="vertical-align: inherit;">ブラウザで直接遅延読み込みをサポートしている場合は、サードパーティのライブラリは必要ありません。</font><font style="vertical-align: inherit;">また、組み込みの遅延読み込みにより、クライアント側でJavaScriptが無効になっている場合でも、イメージとフレームの遅延読み込みが引き続き機能します。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">読み込み属性</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今日、Chromeはすでにデバイスの表示領域に対して相対的に配置されている場所に応じて、優先度の異なる画像をダウンロードしています。</font><font style="vertical-align: inherit;">表示領域の下の画像は優先順位が低くアップロードされますが、それでも可能な限り迅速にアップロードされます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chrome 76では、属性</font></font><code>loading</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">使用</font><font style="vertical-align: inherit;">して、画面からの画像とフレームの読み込みを永続的に遅らせることができます。</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"image.png"</span> <span class="hljs-attr">loading</span>=<span class="hljs-string">"lazy"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"…"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"200"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"200"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">iframe</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://example.com"</span> <span class="hljs-attr">loading</span>=<span class="hljs-string">"lazy"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">iframe</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サポートされている属性値</font></font><code>loading</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br>
<br>
<ul>
<li><code>auto</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：ブラウザのデフォルトの遅延読み込みモード設定。</font><font style="vertical-align: inherit;">欠落している属性と同じ</font></font></li>
<li><code>lazy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：表示領域からの推定距離に達するまで、リソースの読み込みを遅らせます </font></font></li>
<li><code>eager</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：ページ上の場所に関係なく、すぐにリソースを読み込みます </font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この機能は、安定版（Chrome 76以前）でリリースされるまで更新され続けます。</font><font style="vertical-align: inherit;">ただし、Chromeで次のフラグを有効にすることで試すことができます。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chrome：//フラグ/＃enable-lazy-image-loading </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chrome：//フラグ/＃enable-lazy-frame-loading </font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">積載距離閾値</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スクロールせずにページに表示されるすべての画像とフレームが標準で読み込まれます。</font><font style="vertical-align: inherit;">デバイスの表示領域の下にあるものは、ユーザーがスクロールしたときにのみ読み込まれます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
読み込みが開始される距離は一定ではなく、いくつかの要因によって異なります。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> アップロードするリソースのタイプ（画像またはフレーム）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Android向けChromeブラウザで</font><font style="vertical-align: inherit;">「</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ライトモード</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」</font><font style="vertical-align: inherit;">がオン</font><font style="vertical-align: inherit;">になっている</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">効果的な接続タイプ</font></font></a> </li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さまざまなタイプの有効な化合物のデフォルト値を</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chromiumソースで</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">確認できます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">Chromeチームがダウンロードを開始するタイミングを決定するためにヒューリスティックを改善するため、表示領域から特定の距離に到達したときのこれらの指標および読み込み方法さえも近い将来変更される可能性があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chrome 77では</font><font style="vertical-align: inherit;">、DevToolsで接続</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">速度</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">遅くする</font></a><font style="vertical-align: inherit;">ことにより、これらの異なるしきい値を試すことができます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">この間、フラグを使用してブラウザの有効な接続タイプを上書きする必要があります</font></font><code>chrome://flags/#force-effective-connection-type.</code><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">画像をアップロードする</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
読み込み属性は、フレームが非表示かどうかに応じて、画像とは異なる方法でフレームに影響を与えます（非表示フレームは、分析または通信タスクによく使用されます）。</font><font style="vertical-align: inherit;">Chromeは次の基準を使用して、フレームが非表示かどうかを判断します。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フレームの幅と高さ4px以下 </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロパティが適用される</font></font><code>display: none</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">か、</font></font><code>visibility: hidden</code> </li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フレームは、負のXまたはY位置を使用して画面外にあります </font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フレームがこれらの条件のいずれかを満たす場合、Chromeは非表示と見なし、ほとんどの場合、遅延モードで読み込まれません。</font><font style="vertical-align: inherit;">非表示になっていないフレームは、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ロードしきい値</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内にある場合にのみロードされ</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">遅延読み込みモードでまだ読み込まれているフレームの場合、プレースホルダーが表示されます</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">よくある質問</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この機能を拡張する予定はありますか？</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chrome for Androidで</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ライトモードが</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
有効になっている場合に、読み込みが遅延する可能性のある画像とフレームをこのモードで自動的に表示するように、デフォルトのブラウザー遅延読み込みモードを変更する計画があります</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">遅延読み込みを開始する画像またはフレームまでの距離を変更することはできますか？</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらの値はハードコードされており、APIを介して変更することはできません。</font><font style="vertical-align: inherit;">ただし、Chromeチームはさまざまなしきい値の距離と変数を実験しているため、将来的に変更される可能性があります。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CSSのbackgroundプロパティを介して設定された画像は、loading属性を取得できますか？</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
いいえ、現時点ではタグでのみ使用できます。 </font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ローディング属性は、スコープ内にあるが表示されない（カルーセルなど）画像でどのように機能しますか？</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
遅延モードで</font><font style="vertical-align: inherit;">は、デバイスの表示領域の下部から</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特定の距離にある</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">画像のみが読み込まれ</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">現在表示されているかどうかに関係なく、表示領域の上のすべての画像が通常どおり読み込まれます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すでにサードパーティのライブラリまたはスクリプトを使用して画像またはフレームの読み込みを延期している場合はどうなりますか？</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
loading属性は、遅延モードでデータをロードするコードに影響を与えるべきではありませんが、いくつかの重要な点を考慮することが重要です。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">遅延モードのサードパーティブートローダーが画像またはフレームをロードする前に、Chromeが通常モードでそれらをロードしようとする場合、つまり、ブラウザーのダウンロード距離のしきい値を超える距離にある場合、それらは通常のブラウザー動作のルールに従って遅延およびロードされます </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サードパーティのダウンローダーがブラウザーよりも短い距離を使用して特定の画像またはフレームをロードするタイミングを決定する場合、動作はダウンローダーの設定と一致します </font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
loading =“ lazy”と並行してサードパーティのライブラリを引き続き使用する重要な理由の1つは、この属性をサポートしないブラウザにポリファイルを提供することです。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">他のブラウザは統合された遅延読み込みをサポートしていますか？</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この属性</font></font><code>loading</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、漸進的な改善と見なすことができます。</font><font style="vertical-align: inherit;">それをサポートするブラウザは、遅延モードで画像とフレームをアップロードできます。</font><font style="vertical-align: inherit;">サポートしていないもの-現在のところ、通常どおり画像をアップロードします。</font><font style="vertical-align: inherit;">クロスブラウザーサポートの観点から見ると、この属性は</font></font><code>loading </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chrome 76およびChromium 76ベースのすべてのブラウザーでサポートされ</font><font style="vertical-align: inherit;">ています</font><font style="vertical-align: inherit;">。Firefox </font><font style="vertical-align: inherit;">でのこの関数の実装に関する</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">未解決のバグ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">もあり</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IEとEdgeでも同様のAPIが提案され、使用されていましたが、完全に先延ばしするのではなく、ダウンロードの優先順位を下げることに重点が置かれていました。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">組み込みの遅延ダウンロードをまだサポートしていないブラウザはどうですか？</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ポリファイルを作成するか、サードパーティのライブラリを使用して、遅延モードでサイトに画像をアップロードします。</font><font style="vertical-align: inherit;">loadingプロパティを使用して、ブラウザで機能がサポートされているかどうかを確認できます。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">if</span> (<span class="hljs-string">'loading'</span> <span class="hljs-keyword">in</span> HTMLImageElement.prototype) {
  <span class="hljs-comment">// supported in browser</span>
} <span class="hljs-keyword">else</span> {
  <span class="hljs-comment">// fetch polyfill/third-party library</span><font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lazysizes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は遅延読み込み用の人気のあるJavaScriptライブラリです。</font><font style="vertical-align: inherit;">サポートさ</font></font><code>loading</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">れていない場合にのみ、このライブラリをロード</font><font style="vertical-align: inherit;">する属性サポート</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">定義できます</font></font><code>loading </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">次のように機能します</font></font><br>
<br>
<pre><code class="xml hljs">
<span class="hljs-comment">&lt;!-- Let's load this in-viewport image normally --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"hero.jpg"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"…"</span>&gt;</span><font></font>
<font></font>
<span class="hljs-comment">&lt;!-- Let's lazy-load the rest of these images --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">data-src</span>=<span class="hljs-string">"unicorn.jpg"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"…"</span> <span class="hljs-attr">loading</span>=<span class="hljs-string">"lazy"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"lazyload"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">data-src</span>=<span class="hljs-string">"cats.jpg"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"…"</span> <span class="hljs-attr">loading</span>=<span class="hljs-string">"lazy"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"lazyload"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">data-src</span>=<span class="hljs-string">"dogs.jpg"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"…"</span> <span class="hljs-attr">loading</span>=<span class="hljs-string">"lazy"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"lazyload"</span>&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">if</span> (<span class="hljs-string">'loading'</span> <span class="hljs-keyword">in</span> HTMLImageElement.prototype) {
    <span class="hljs-keyword">const</span> images = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">'img[loading="lazy"]'</span>);
    images.forEach(<span class="hljs-function"><span class="hljs-params">img</span> =&gt;</span> {
      img.src = img.dataset.src;
    });
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// Dynamically import the LazySizes library</span>
    <span class="hljs-keyword">const</span> script = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'script'</span>);
    script.src =
      <span class="hljs-string">'https://cdnjs.cloudflare.com/ajax/libs/lazysizes/4.1.8/lazysizes.min.js'</span>;
    <span class="hljs-built_in">document</span>.body.appendChild(script);
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仕事の</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">デモンストレーション</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">FirefoxやSafariなどのブラウザで試して、実際のフォールバックを確認してください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
lazysizesライブラリは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可能な場合は組み込みの遅延読み込みを使用し、必要に応じてライブラリの機能を利用する組み込みの</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">読み込みプラグイン</font></a><font style="vertical-align: inherit;">も提供します</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インライン読み込みの遅延はページ上の広告にどのように影響しますか？</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
画像またはフレームの形式で提示されるすべての広告も、他の画像またはフレームと同様に、遅延モードでロードされます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Webページが印刷される場合、画像はどのように処理されますか？</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chrome 76には機能がありませんが</font><font style="vertical-align: inherit;">、ページを印刷するときにすべての画像とフレームをすぐに読み込む</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">という未解決の問題</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">があります。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
画像とフレームの遅延読み込みの組み込みサポートを使用すると、Webページのパフォーマンスを大幅に向上させることができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chromeでこの機能を有効にしたときに異常な動作が発生した場合は</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、エラーを報告してください</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja464917/index.html">サイバーパンクの後：現代のサイエンスフィクションの現在のジャンルについて知っておくべきこと</a></li>
<li><a href="../ja464919/index.html">アプリケーションで使用されるRAMの組み込みリソース制御</a></li>
<li><a href="../ja464921/index.html">System.IO.Pipelines-高性能の愛好家のためのあまり知られていないツール</a></li>
<li><a href="../ja464925/index.html">音声UXのガイド：状況、パターン、ツール（および少しの道徳的サポート）</a></li>
<li><a href="../ja464927/index.html">ASICマイナーの中古品：リスク、検証、書き換えハッシュ</a></li>
<li><a href="../ja464931/index.html">アセンブラ挿入... Cで？</a></li>
<li><a href="../ja464933/index.html">Androidオペレーティングシステム上の電子書籍のアプリケーション。パート4.ゲーム</a></li>
<li><a href="../ja464935/index.html">快適なDevOpsSec：APIと個人アカウントを備えたNGINX用のNemesida WAF Free</a></li>
<li><a href="../ja464937/index.html">モバイル＃312開発者向けの興味深い資料のダイジェスト（8月19〜25日）</a></li>
<li><a href="../ja464939/index.html">@ NonNull / @ Nullableアノテーションのテスト</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>