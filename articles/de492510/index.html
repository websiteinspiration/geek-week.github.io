<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèº‚Äç‚úàÔ∏è ü§∞ üë©‚Äçüéì ES6-Module im Browser: Sind sie bereit oder nicht? ‚å®Ô∏è ü§æüèæ ü§µ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Haben Sie von der Verwendung von ES6-Modulen in einem Browser geh√∂rt? Eigentlich sind dies gew√∂hnliche ES6-Module. Sie gelten nur in Code f√ºr Browser....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ES6-Module im Browser: Sind sie bereit oder nicht?</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/492510/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Haben Sie von der Verwendung von ES6-Modulen in einem Browser geh√∂rt? </font><font style="vertical-align: inherit;">Eigentlich sind dies gew√∂hnliche ES6-Module. </font><font style="vertical-align: inherit;">Sie gelten nur in Code f√ºr Browser.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/yl/q1/wl/ylq1wlx8jeaaomnc9kwintirrma.jpeg"></a><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn jemand es nicht wei√ü - so sieht es aus. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt eine Seite </font></font><code>index.html</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="html hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><font></font>
&nbsp;&nbsp;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"module"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"index.mjs"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">&lt;!--     "module" --&gt;</span>
&nbsp;&nbsp;<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt eine Datei, </font></font><code>index.mjs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">die ein mit der Seite verbundenes Modul darstellt:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> { doSomething } <span class="hljs-keyword">from</span> <span class="hljs-string">'./utils.mjs'</span>;<font></font>
<font></font>
doSomething(<span class="hljs-string">'Make me a sandwich'</span>);
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieses Modul importiert wiederum die Funktion </font></font><code>doSomething</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aus dem Modul </font></font><code>utils.mjs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> doSomething = <span class="hljs-function"><span class="hljs-params">message</span> =&gt;</span> {
&nbsp;&nbsp;<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'No.'</span>);<font></font>
};<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ES6-Module gibt es schon seit vielen Jahren. </font><font style="vertical-align: inherit;">Und vielleicht denkst du dar√ºber nach, sie auszuprobieren. </font><font style="vertical-align: inherit;">Ich habe sie ungef√§hr einen Monat lang in meinem eigenen Projekt verwendet. </font><font style="vertical-align: inherit;">Gleichzeitig kam ich zu dem Schluss, dass ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Suspend!</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Informationen zur Browserunterst√ºtzung f√ºr Module</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bevor ich √ºber das spreche, was ich verstehe, schlage ich vor, einen Blick auf die Browserunterst√ºtzung f√ºr Module zu werfen. </font><font style="vertical-align: inherit;">Ich schreibe dieses Material Anfang 2020, daher ist der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grad der Unterst√ºtzung f√ºr die</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Module zu 90% beeindruckend.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/484/cfd/9e6/484cfd9e669b731f483cfdd99a638777.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unterst√ºtzung f√ºr Module mit Browsern laut caniuse.com,</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ich bin mit diesen 90% sehr zufrieden (ich ber√ºcksichtige nicht die Bed√ºrfnisse von 10% der Benutzer), obwohl Sie vielleicht verantwortungsbewusster sein m√∂chten. </font><font style="vertical-align: inherit;">Selbst wenn Ihr Projekt nicht f√ºr IE, UC oder Opera Mini ausgelegt ist, bedeutet diese Unterst√ºtzungsstufe, dass fast 100% Ihrer Zielgruppe problemlos mit Ihrem Projekt arbeiten k√∂nnen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Browserunterst√ºtzung f√ºr Module ist zwar nur der Anfang. </font><font style="vertical-align: inherit;">Hier m√∂chte ich die Antwort auf drei Fragen finden, die sich zu Beginn meiner Reise zu Modulen stellten:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hat die Verwendung von Modulen in Browsern irgendwelche Vorteile?</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Was ist mit den Nachteilen?</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich bin mir sicher, dass ich eine dritte Frage hatte, aber jetzt kann ich mich nicht mehr daran erinnern.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lass es uns herausfinden ...</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Was sind die Vorteile der Verwendung von Modulen in Browsern?</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das ist reines JavaScript! </font><font style="vertical-align: inherit;">Keine Assembly-Projekt-Pipeline, keine 400-Zeilen-Webpack-Konfigurationsdatei, kein Babel, keine Plugins und Presets und keine zus√§tzlichen 45-npm-Module. </font><font style="vertical-align: inherit;">Nur Sie und Ihr Code. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Schreiben von Code, der im Browser genau in der Form ausgef√ºhrt wird, in der er erstellt wurde, hat etwas Erfrischendes. </font><font style="vertical-align: inherit;">Dies kann etwas mehr Aufwand erfordern, aber das Ergebnis ist sehr angenehm. </font><font style="vertical-align: inherit;">So fahren Sie ein Auto mit einem Schaltgetriebe. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Damit. </font><font style="vertical-align: inherit;">Die Vorteile von ES6-Modulen sind reines JavaScript. Dies ist das Fehlen von Assembly, Projektkonfiguration und die Ablehnung unn√∂tiger Abh√§ngigkeiten. </font><font style="vertical-align: inherit;">Und was noch? </font><font style="vertical-align: inherit;">Gibt es noch etwas? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nein, nichts weiter.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Was sind die Nachteile der Verwendung von Modulen in Browsern?</font></font></font></h2><br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñçVergleich von Modulen und Bundlern</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie √ºberlegen, ob ES6-Module in einem Browser verwendet werden sollen, m√ºssen Sie tats√§chlich zwischen Modulen und Bundlern wie Webpack, Parcel oder Rollup w√§hlen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie k√∂nnen (wahrscheinlich) beide verwenden, aber in Wirklichkeit gibt es keinen Grund, das Design </font></font><code>&lt;script type="module"&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zum Laden der Bundle-Dateien </font><font style="vertical-align: inherit;">zu verwenden, wenn Sie den Code √ºber den Bundler ausf√ºhren m√∂chten </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ausgehend von der Annahme, dass jemand die M√∂glichkeit in Betracht zieht, ES6-Module anstelle eines Bundlers zu verwenden, muss er Folgendes aufgeben:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Minimierung des fertigen Codes.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modernste JavaScript-Funktionen.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Syntax, die sich von der JavaScript-Syntax unterscheidet (React, TypeScript usw.).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Npm-Module.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Caching</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Betrachten Sie die ersten drei Abs√§tze dieser Liste genauer.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñç Dateigr√∂√üe</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Gr√∂√üe meines Projekts, das Module verwendet, betr√§gt 34 ‚Äã‚ÄãKB. Da ich den Projekterstellungsschritt nicht verwende, enth√§lt der √ºber das Netzwerk √ºbertragene Code sehr lange Variablennamen, in denen sehr viele Kommentare enthalten sind. Dar√ºber hinaus stellt es eine ganze Reihe kleiner Dateien dar, was in Bezug auf die Datenkomprimierung nicht sehr gut ist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn ich all dies mit </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parcel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in ein B√ºndel </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">packe</font></a><font style="vertical-align: inherit;"> , w√ºrde </font><font style="vertical-align: inherit;">sich </font><font style="vertical-align: inherit;">herausstellen, dass die Gr√∂√üe 18 KB betr√§gt. Mein Casual Casio-Rechner meldet, dass dies ‚Äûungef√§hr die H√§lfte‚Äú des Projektcodes ist, in dem der Bundler nicht verwendet wird. Dies liegt zum Teil daran, dass Parcel Dateien minimiert, aber auch daran, dass die Materialien mit diesem Ansatz mit gzip besser komprimiert werden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Datenkomprimierung macht uns auf ein anderes Problem aufmerksam: Die Art und Weise, wie Dateien organisiert sind (im Sinne der Bequemlichkeit der Entwicklung), wird direkt auf die Art und Weise √ºbertragen, wie Dateien √ºber das Netzwerk √ºbertragen werden. Und die Art und Weise, wie die Dateien w√§hrend der Entwicklung organisiert sind, entspricht nicht unbedingt der Art und Weise, wie Sie sie auf der Site sehen m√∂chten. Beispielsweise k√∂nnen 150 Module (Dateien) bei der Arbeit an einem Projekt sinnvoll sein. Dieselben Materialien, die an den Browser √ºbertragen werden, k√∂nnen in 12 Paketen organisiert werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich werde diese Idee erkl√§ren. Ich spreche nicht von der Tatsache, dass die Verwendung von Modulen bedeutet, dass Dateien nicht geb√ºndelt und minimiert werden k√∂nnen (die Tatsache, dass dies nicht m√∂glich ist, ist eine Illusion). Ich meine nur, dass es keinen Sinn macht, beides zu tun.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ja, hier ist eine lustige Beobachtung. </font><font style="vertical-align: inherit;">Bis ich diesen Abschnitt geschrieben habe, wurden in meiner Bewerbung Module verwendet (ich betone!). </font><font style="vertical-align: inherit;">Ich habe Parcel installiert, um die richtige Baugruppengr√∂√üe zu berechnen. </font><font style="vertical-align: inherit;">Und jetzt sehe ich keinen Grund, zu normalen Modulen zur√ºckzukehren. </font><font style="vertical-align: inherit;">Nun, ist es nicht interessant!</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñçLeben ohne Transpilation</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Laufe der Jahre bin ich es sehr gewohnt, die neuesten JavaScript-Syntaxkonstrukte und das wunderbare Babel-Tool zu verwenden, mit dem sie in Code umgewandelt werden, den alle Browser verstehen. Ich habe mich so sehr daran gew√∂hnt, dass ich selten √ºber Browserunterst√ºtzung nachgedacht habe (nat√ºrlich mit Ausnahme von DOM und CSS). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als ich es zum ersten Mal versuchte </font></font><code>type=¬´module¬ª</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, w√ºrde ich alles selbst machen. Mein Ziel waren frische Browser, daher dachte ich, ich k√∂nnte modernes JavaScript verwenden, an das ich gew√∂hnt bin. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber die Realit√§t war nicht so rosig. Versuchen Sie, die folgenden Fragen schnell und ohne hinzuschauen zu beantworten. Unterst√ºtzt Edge</font></font><code>flatMap()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">? Unterst√ºtzt Safari destruktive Zuweisungen (Objekte und Arrays)? Unterst√ºtzt Chrome Kommas nach den letzten Funktionsargumenten? Unterst√ºtzt Firefox die Potenzierung? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zum Beispiel musste ich nach Antworten auf diese Fragen suchen und browser√ºbergreifende Tests durchf√ºhren. Aber ich habe das alles ewig benutzt. In jeder ausreichend gro√üen Anwendung w√ºrde dies sehr wahrscheinlich zu Produktionsfehlern f√ºhren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies bedeutet auch, dass ich die bemerkenswerteste JavaScript-Innovation seit dem Aufkommen der Array-Methode </font></font><code>slice()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- den sogenannten </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">optionalen Sequenzoperator - nicht mehr verwenden kann</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Ich habe magische Designs wie verwendet</font></font><code>prop?.value</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nur etwa einen Monat (ab dem Moment, in dem das Tool zum Erstellen einer React-App diese ohne zus√§tzliche Einstellungen unterst√ºtzt). </font><font style="vertical-align: inherit;">Aber es ist schon unpraktisch f√ºr mich, ohne sie zu arbeiten.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñç Caching-Lasten</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Caching war f√ºr mich der gr√∂√üte Stolperstein. Die Tatsache, dass sich die L√∂sung des Caching-Problems als sehr interessant herausstellte, war der Hauptgrund, warum ich mich entschied, dieses Material zu schreiben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie Sie sicher wissen, erh√§lt jede der resultierenden Dateien bei der Verarbeitung von Materialien mit einem B√ºndler einen eindeutigen Namen </font></font><code>index.38fd9e.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Der Inhalt einer Datei mit diesem Namen √§ndert sich nie (nie). Daher kann es vom Browser unbegrenzt zwischengespeichert werden. Wenn eine solche Datei einmal heruntergeladen wird, m√ºssen Sie sie nicht erneut herunterladen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies ist ein erstaunliches System - es sei denn, Sie versuchen, die Antwort auf die Frage zu finden, wie der Cache geleert werden kann. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Module werden mit einem Design wie geladen</font></font><code>&lt;script type="module" src="index.mjs"&gt;&lt;/script&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Der Hash im Dateinamen wird nicht verwendet. </font><font style="vertical-align: inherit;">Wie soll es in dieser Situation den Browser dar√ºber informieren, wo es heruntergeladen werden soll </font></font><code>index.mjs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- aus dem Cache oder aus dem Netzwerk? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es sollte beachtet werden, dass es fast m√∂glich ist, den Cache akzeptabel zu machen, aber es wird einige Anstrengungen erfordern. </font><font style="vertical-align: inherit;">Hierf√ºr ben√∂tigen Sie Folgendes:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sie m√ºssen den Titel aller Antworten </font></font><code>cache-control</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">auf einen Wert setzen </font></font><code>no-cache</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Unglaublicherweise bedeutet </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kein Cache</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nicht "nicht zwischenspeichern". </font><font style="vertical-align: inherit;">Dies bedeutet, dass die Datei zwischengespeichert werden muss, die Datei jedoch nicht "verwendet werden sollte, um eine nachfolgende Anforderung ohne erfolgreiche √úberpr√ºfung auf dem Quellserver zu erf√ºllen".</font></font></li>
<li>    ETag.    ‚Äî  ()   , ,   ,    .  , <code>38fd9e</code>      .</li>
<li>   CDN-  ,   .     ETag       .     .   CDN-   .       (     ETag)      . (, ,     Firebase).</li>
<li>  -,    ,  ¬´  ¬ª  .        ,     ,  ,  ,    .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn ein Besucher die Website erneut besucht, sagt der Browser daher: ‚ÄûIch muss die Datei herunterladen </font></font><code>index.mjs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Ich sehe, dass diese Datei bereits in meinem Cache vorhanden ist, ihr ETag ist </font></font><code>38fd9e</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Ich werde diese Datei vom Server anfordern, aber ich werde ihn bitten, sie mir nur zu senden, wenn sein ETag nicht vorhanden ist </font></font><code>38fd9e</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. " Der Servicemitarbeiter f√§ngt diese Anforderung ab, ignoriert ETag und gibt sie </font></font><code>index.mjs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aus dem Cache zur√ºck (diese Datei wurde beim letzten Laden der Seite in den Cache verschoben). Anschlie√üend leitet der Servicemitarbeiter die Anforderung an den Server weiter. Der Server gibt entweder eine Nachricht zur√ºck, die besagt, dass sich die Datei nicht ge√§ndert hat, oder eine Datei, die im Cache gespeichert wird. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Meiner Meinung nach ist das alles sehr m√ºhsam. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie interessiert sind, geben Sie den Code des Servicemitarbeiters ein:</font></font><br>
<br>
<pre><code class="javascript hljs">self.addEventListener(<span class="hljs-string">'fetch'</span>, e =&gt; {<font></font>
&nbsp;&nbsp;e.respondWith(<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function">(<span class="hljs-params"><span class="hljs-keyword">async</span> (</span>) =&gt;</span> {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">//       </span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">const</span> cacheResponse = <span class="hljs-keyword">await</span> caches.match(e.request);<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">//   (),   </span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">// (ETag-    )</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fetch(e.request).then(<span class="hljs-function"><span class="hljs-params">fetchResponse</span> =&gt;</span> {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;caches<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.open(CACHE_NAME)<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.then(<span class="hljs-function"><span class="hljs-params">cache</span> =&gt;</span> cache.put(e.request, fetchResponse));<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">if</span> (cacheResponse) <span class="hljs-keyword">return</span> cacheResponse;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span> fetch(e.request);<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;})()<font></font>
&nbsp;&nbsp;);<font></font>
});<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich war faul, habe also nicht studiert und nicht die neueste </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FetchEvent.navigationPreload-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Eigenschaft verwendet </font><font style="vertical-align: inherit;">. Tatsache ist, dass ich zu diesem Zeitpunkt mehr Zeit mit dem Zwischenspeichern verbracht habe als mit dem Schreiben einer Bewerbung (zu Ihrer Information habe ich 10 bzw. 11 Stunden mit diesen Angelegenheiten verbracht). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ja, ich m√∂chte darauf hinweisen, dass der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vorschlag der</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‚ÄûImportkarte‚Äú darauf abzielt, einige der oben genannten Probleme zu l√∂sen. Es erm√∂glicht Ihnen, so etwas wie Mapping </font></font><code>index.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">auf </font></font><code>index.38fd9e.mj</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s </font><font style="vertical-align: inherit;">zu organisieren </font><font style="vertical-align: inherit;">. Um jedoch einen Hash zu generieren, ben√∂tigen Sie eine Art Assembly-Pipeline. Importkarten m√ºssen in die HTML-Datei eingebettet werden. Dies bedeutet, dass hier ein Bundler ben√∂tigt wird ... In dieser Situation werden die Module im Browser nicht mehr ben√∂tigt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obwohl es interessant war, all dies zu verstehen, kann es mit der Art verglichen werden, wie ich ein Jahr lang √ºberall auf einem Monocycle gefahren bin. </font><font style="vertical-align: inherit;">Ich werde das nicht mehr tun.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aber wahrscheinlich benutzt nicht jeder B√ºndler?</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe dieses Material unter der Annahme geschrieben, dass jeder Code in Modulen mit Konstrukten </font></font><code>import/export</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">oder </font><font style="vertical-align: inherit;">schreibt </font></font><code>require</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und dann den Code mit Webpack, Grunt, Gulp oder √§hnlichem in Produktionspaketen sammelt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gibt es Entwickler, die keine Bundler verwenden? </font><font style="vertical-align: inherit;">Gibt es jemanden, der seinen JavaScript-Code in mehrere Dateien einf√ºgt und diese ohne B√ºndelung an die Produktion sendet? </font><font style="vertical-align: inherit;">Vielleicht bist du einer dieser Leute? </font><font style="vertical-align: inherit;">Wenn ja, w√ºrde ich gerne alles √ºber Ihr Leben wissen.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zusammenfassung</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich bem√ºhe mich, alle ernsthaften Entscheidungen zu treffen, beispielsweise die Wahl zwischen Modulen und B√ºndlern, basierend auf den Hauptprinzipien einer effektiven Entwicklung. Das ist Produktivit√§t und Qualit√§t. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Leider tr√§gt die Verwendung von Modulen in Browsern weder zum einen noch zum anderen bei. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn ich morgen mit der Arbeit an einem neuen Projekt beginne, habe ich in meinem Kopf keine Frage, ob ich die gute alte App zum Erstellen und Reagieren ausf√ºhren soll. Alle anf√§nglichen Einstellungen dauern ungef√§hr 30 Sekunden, und obwohl die anf√§ngliche Projektgr√∂√üe von 40 KB etwas gro√ü ist, spielt dies f√ºr die meisten Websites keine Rolle.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und hier ist eine andere Situation. Angenommen, ich m√ºsste ein wenig HTML / CSS und JavaScript f√ºr eine Art Experiment zusammenstellen, und ein solches Experiment w√§re ein Projekt, das etwas mehr Dateien als einige enth√§lt. Wenn ich w√§hrend der Arbeit an diesem Projekt nicht vorhatte, das System f√ºr die Erstellung einzurichten, w√ºrde ich wahrscheinlich die Module im Browser verwenden. Und dann - wenn mir die Leistung dieses Projekts egal w√§re. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mich w√ºrde interessieren, wie Webpack und die dazugeh√∂rigen Tools mit ES6-Modulen in einem Browser funktionieren. Ich glaube, dass die B√ºndler in Zukunft, wenn der Vorschlag f√ºr ‚ÄûImportkarten‚Äú ausreichend unterst√ºtzt wird, diese wahrscheinlich als Mechanismus zur Abstraktion unansehnlicher Hashes verwenden werden, die heute verwendet werden.</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Liebe Leser! </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Haben Sie ES6-Module in Ihrem Browser verwendet?</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de492500/index.html">Wissenschaftsgarage auf Russisch. Erleben Sie die √úbersetzung einer amerikanischen Show</a></li>
<li><a href="../de492502/index.html">MIP * = RE: epochale Beweise aus dem Bereich der Informatik, die den Dominoeffekt in Physik und Mathematik verursacht haben</a></li>
<li><a href="../de492504/index.html">Was passiert, wenn ein JS-Modul zweimal importiert wird?</a></li>
<li><a href="../de492506/index.html">3 M√∂glichkeiten, gro√üe Listen in Angular zu rendern</a></li>
<li><a href="../de492508/index.html">Buchen Sie Kubernetes f√ºr DevOps</a></li>
<li><a href="../de492512/index.html">CSS: Abenteuer im Land der Transluzenz</a></li>
<li><a href="../de492514/index.html">Wie kann ein rechtlich bedeutender elektronischer Dokumentenfluss von Gegenparteien in Russland und Kasachstan hergestellt werden?</a></li>
<li><a href="../de492518/index.html">Der Ausbruch von Viren erfordert Remote-Arbeit, dh das digitale Signieren von Dokumenten</a></li>
<li><a href="../de492520/index.html">Parametrisierte 3D-Modellierung der Lagerschale in nanoCAD Plus 20</a></li>
<li><a href="../de492522/index.html">Remote-Team-Kommunikation</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>