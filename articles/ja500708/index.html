<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩‍👦 👩‍🏭 📫 セキュリティとDBMS：保護ツールを選択するときに覚えておくべきこと 👳🏿 🥕 ➖</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Jatoba 製品チームの Gazinformserviceでソフトウェア開発の責任者を務めているDenis Rozhkovと申します。法律と企業の規制により、データストレージのセキュリティに特定の要件が課されます。第三者が機密情報にアクセスすることを望んでいないため、どのプロジェクトにとっても、識...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>セキュリティとDBMS：保護ツールを選択するときに覚えておくべきこと</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/500708/"><h1><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1e1/315/3ed/1e13153edc98d4ac4b2de6858a7ea48c.png"></div></h1><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jatoba</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
製品</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">チームの</font></a><font style="vertical-align: inherit;"> Gazinformserviceでソフトウェア開発の責任者を務めているDenis Rozhkovと</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">申し</font></a><font style="vertical-align: inherit;">ます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">法律と企業の規制により、データストレージのセキュリティに特定の要件が課されます。</font><font style="vertical-align: inherit;">第三者が機密情報にアクセスすることを望んでいないため、どのプロジェクトにとっても、識別と認証、データアクセスの管理、システム内の情報の整合性の確保、セキュリティイベントの記録という問題が重要です。</font><font style="vertical-align: inherit;">したがって、DBMSのセキュリティに関するいくつかの興味深い点についてお話ししたいと思います。</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事は</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">Mail.ru Cloud Solutions</font></a><font style="vertical-align: inherit;">がホストする</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@Databases Meetup</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">作成</font></a><font style="vertical-align: inherit;">し</font><font style="vertical-align: inherit;">ました</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">読みたくない場合は、次のように表示できます。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/n-54j9FHaMU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
記事は3つのパートに分かれています。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接続を保護する方法。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アクションの監査とは何か、データベースの一部で何が起こっているのかを記録し、それに接続する方法。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データベース自体のデータを保護する方法と、そのためのテクノロジー。</font></font></li>
</ul><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a7d/19f/d89/a7d19fd894a9ea6e3f0ff7a0ad42db36.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DBMSセキュリティの3つのコンポーネント：接続保護、アクティビティ監査、データ保護</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接続保護</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
データベースには、Webアプリケーションを介して直接または間接的に接続できます。</font><font style="vertical-align: inherit;">原則として、ビジネスの側からのユーザー、つまりDBMSを使用するユーザーは、DBMSと直接対話しません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
接続の保護について説明する前に、セキュリティ対策の構築方法に依存する重要な質問に答える必要があります。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1人のビジネスユーザーが1人のDBMSユーザーに相当するかどうか。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユーザーが制御するAPIを通じてのみ提供されるDBMSデータへのアクセスですか、それともテーブルへの直接アクセスがありますか。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DBMSが別の保護されたセグメントに割り当てられているかどうか、誰がどのように操作するか。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プーリング/プロキシおよびミドルウェアが使用されているかどうか。これにより、接続の構築方法とデータベースの使用者に関する情報が変更される可能性があります。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
接続を保護するために使用できるツールを見てみましょう。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データベースファイアウォールクラスのソリューションを使用します。</font><font style="vertical-align: inherit;">少なくとも、追加の保護層により、DBMSで発生していることの透過性が最大で向上します。追加のデータ保護を提供できます。</font></font></li>
<li>  .     ,    .    —      -,    ,   .    ,  ,      .<br>
<br>
       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>,    MS SQL Vulnerability Assessmen   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>.&nbsp;</li>
<li>    .   ,   ,       ,         , ,    .      .</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SSLを構成します。DBMSをエンドユーザーからネットワークで分離していない場合、別のVLANにはありません。</font><font style="vertical-align: inherit;">このような場合、コンシューマとDBMS自体の間のチャネルを保護する必要があります。</font><font style="vertical-align: inherit;">保護ツールはオープンソースの1つです。</font></font></li>
</ol><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これはDBMSのパフォーマンスにどのように影響しますか？</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
有効にするとリソースが多すぎる場合に、SSLがCPUの負荷にどのように影響し、タイミングが増加し、TPSが減少するかについて、PostgreSQLの例を見てみましょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
pgbenchを使用してPostgreSQLをロードします。これは、パフォーマンステストを実行するための単純なプログラムです。</font><font style="vertical-align: inherit;">おそらくデータベースの並列セッションで、コマンドの1つのシーケンスを繰り返し実行し、平均トランザクション速度を計算します。</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SSLを使用せず、SSLを使用するテスト1-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">各トランザクションで接続が確立されます。</font></font><br>
<br>
<pre><code class="plaintext hljs">pgbench.exe --connect -c 10 -t 5000 "host=192.168.220.129 dbname=taskdb user=postgres sslmode=require&nbsp;<font></font>
sslrootcert=rootCA.crt sslcert=client.crt sslkey=client.key"</code></pre><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">対</font></font></strong><br>
<br>
<pre><code class="plaintext hljs">pgbench.exe --connect -c 10 -t 5000 "host=192.168.220.129 dbname=taskdb user=postgres"</code></pre><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SSLを使用せず、SSLを使用するテスト2-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべてのトランザクションは1つの接続で実行されます。</font></font><br>
<br>
<pre><code class="plaintext hljs">pgbench.exe -c 10 -t 5000 "host=192.168.220.129 dbname=taskdb user=postgres sslmode=require<font></font>
sslrootcert=rootCA.crt sslcert=client.crt sslkey=client.key"</code></pre><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">対</font></font></strong><br>
<br>
<pre><code class="plaintext hljs">pgbench.exe -c 10 -t 5000 "host=192.168.220.129 dbname=taskdb user=postgres"</code></pre><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">その他の設定</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br>
<br>
<pre><code class="plaintext hljs">scaling factor: 1<font></font>
query mode: simple<font></font>
number of clients: 10<font></font>
number of threads: 1<font></font>
number of transactions per client: 5000<font></font>
number of transactions actually processed: 50000/50000</code></pre><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テスト結果</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td>&nbsp;</td>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SSLなし</font></font></strong></td>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SSL</font></font></strong></td>
</tr>
<tr>
<td colspan="3"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">各トランザクションで接続が確立されます</font></font></strong></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">レイテンシ平均</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">171.915ミリ秒</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">187.695ミリ秒</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接続確立を含むtps</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">58.168112</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">53.278062</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接続確立を除くtps</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">64.084546</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">58.725846</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CPU</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24％</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">28％</font></font></td>
</tr>
<tr>
<td colspan="3"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべてのトランザクションは1つの接続で実行されます。</font></font></strong></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">レイテンシ平均</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.722ミリ秒</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.342ミリ秒</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接続確立を含むtps</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1587.657278</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1576.792883</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接続確立を除くtps</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1588.380574</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1577.694766</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CPU</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17％</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21％</font></font></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
軽負荷では、SSLの影響は測定誤差に匹敵します。転送されるデータの量が非常に多い場合は、状況が異なる場合があります。トランザクションごとに1つの接続を確立する場合（これはまれです。通常、接続はユーザー間で共有されます）、接続/切断の数が多いため、効果が少し増える可能性があります。つまり、パフォーマンス低下のリスクがある可能性がありますが、保護を使用しないほどの差はありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
動作モードを比較すると、大きな違いがあることに注意してください。同じセッション内で、作業するか異なるかです。これは理解できます。各接続の作成にリソースが費やされます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zabbixを信頼モードで接続した場合、つまり、md5をチェックせず、認証の必要がない場合がありました。次に、顧客はmd5認証モードを有効にするように求めました。これにより、CPUに大きな負荷がかかり、パフォーマンスが低下しました。彼らは最適化する方法を探し始めました。この問題の考えられる解決策の1つは、ネットワーク制限を実装し、DBMSに個別のVLANを作成し、どこから接続しているのかが明確になるように設定を追加して、認証を削除することです。認証設定を最適化して、認証を有効にするコストを削減することもできますが、通常はさまざまな方法を使用します認証はパフォーマンスに影響を与えるため、DBMSのサーバー（ハードウェア）の計算能力を設計する際には、これらの要素を考慮する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
結論：多くのソリューションでは、わずかなニュアンスの認証でもプロジェクトに大きな影響を与える可能性があり、製品に実装された場合にのみ明らかになると悪いことになります。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アクションの監査</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
監査はDBMSだけではありません。</font><font style="vertical-align: inherit;">監査は、さまざまなセグメントで何が起こっているかについての情報の受信です。</font><font style="vertical-align: inherit;">データベースファイアウォールと、DBMSが構築されているオペレーティングシステムの両方を使用できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
監査機能を備えた商用のエンタープライズレベルのDBMSでは、オープンソースではすべてが問題ありません。</font><font style="vertical-align: inherit;">PostgreSQLの機能は次のとおりです。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デフォルトのログ-組み込みのログ。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">拡張機能：pgaudit-デフォルトのロギングが十分でない場合は、いくつかの問題を解決する個別の設定を使用できます。</font></font></li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ビデオのレポートへの追加：</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
「オペレーターの基本的な登録は、log_statement = allを使用して標準のロギング機能で提供できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、監視やその他の用途には受け入れられますが、監査に通常必要な詳細レベルは提供されません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
データベースで実行されるすべての操作のリストを用意するだけでは不十分です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
監査人が関心を持つ特定のステートメントを見つけることも可能であるべきです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
標準のロギングツールはユーザーが要求したものを表示し、pgAuditはデータベースが要求を行ったときに何が起こったかの詳細に焦点を当てています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、監査人は、文書化されたメンテナンスウィンドウに特定のテーブルが作成されていることを確認したい場合があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは基本的な監査とgrepの単純なタスクのように思えるかもしれませんが、次のような（意図的に混乱させる）例に遭遇した場合はどうなりますか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DO $$ </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BEGIN </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 EXECUTE 'CREATE TABLE import' || 'ant_table（id INT）'; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
END $$; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
標準のログでは次のようになります</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。LOG：ステートメント：DO $$ </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BEGIN </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 EXECUTE 'CREATE TABLE import' || 'ant_table（id INT）'; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
END $$; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
対象のテーブルを検索するには、テーブルが動的に作成される場合、コードに関する知識が必要になる場合があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テーブル名で検索するだけの方が望ましいため、これは理想的ではありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでpgAuditが役立ちます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同じ入力に対して、この出力をログに出力します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
監査：SESSION、33.1、FUNCTION、DO 、、、「DO $$ </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BEGIN </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 EXECUTE 'CREATE TABLE import' || </font><font style="vertical-align: inherit;">'ant_table（id INT）'; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
END $$; " </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AUDIT：SESSION、33,2、DDL、CREATE TABLE、TABLE、public.important_table、CREATE TABLEimportant_table（id INT）</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DOブロックが登録されているだけでなく、演算子タイプ、オブジェクトタイプ、および</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
pgAuditステートメントで参照される各関係のために別々のレコードを登録するように構成することができる</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">SELECTおよびDMLステートメントを解析する場合、解析は</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
、特定のテーブルに関連するすべての文（解析する必要はない</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">*を</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "） 。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これはDBMSのパフォーマンスにどのように影響しますか？</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
完全な監査を有効にしてテストを実行し、PostgreSQLのパフォーマンスで何が起こるかを見てみましょう。</font><font style="vertical-align: inherit;">すべての点で最大のデータベースログを有効にします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
重要なものから、構成ファイルのほとんど何も変更しません-最大の情報を取得するためにdebug5モードをオンにします。</font></font><br>
<br>
<font color="red"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">postgresql.conf</font></font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">log_destination = 'stderr' </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
logging_collector = on </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
log_truncate_on_rotation = on </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
log_rotation_age = 1d </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
log_rotation_size = 10MB </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
log_min_messages = </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">debug5</font></font></strong><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
log_min_error_statement = </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">debug5</font></font></strong><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
log_min_duration_statement = 0 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
debug_print_parse =</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">debug_print_rewritten = on </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
debug_print_plan = on </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
debug_pretty_print = on </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
log_checkpoints = on </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
log_connections = on </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
log_disconnections = on </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
log_duration = on </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
log_hostname = on </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
log_lock_waits = on </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
log_replication_commands = on </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
log_temp_files = 0 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
log_timezone =</font></font></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
パラメータが1 CPU、2.8 GHz、2 GB RAM、40 GB HDDのPostgreSQL DBMSでは、次のコマンドを使用して3つの負荷テストを実行します。</font></font><br>
<br>
<pre><code class="plaintext hljs">$ pgbench -p 3389 -U postgres -i -s 150 benchmark<font></font>
$ pgbench -p 3389 -U postgres -c 50 -j 2 -P 60 -T 600 benchmark<font></font>
$ pgbench -p 3389 -U postgres -c 150 -j 2 -P 60 -T 600 benchmark</code></pre><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">試験結果：</font></font></strong><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td></td>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ロギングなし</font></font></strong></td>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ロギングあり</font></font></strong></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データベース充填時間の合計</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">43.74秒</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">53.23秒</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">羊</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24％</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">40％</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CPU</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">72％</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">91％</font></font></td>
</tr>
<tr>
<td colspan="3"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テスト1（50接続）</font></font></strong></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10分間のトランザクション数</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">74169</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">32445</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">トランザクション/秒</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">123</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">54</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">平均遅延</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">405ミリ秒</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">925ミリ秒</font></font></td>
</tr>
<tr>
<td colspan="3"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テスト2（100で150接続可能）</font></font></strong></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10分間のトランザクション数</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">81727</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">31429</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">トランザクション/秒</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">136</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">52</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">平均遅延</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">550ミリ秒</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1432ミリ秒</font></font></td>
</tr>
<tr>
<td colspan="3"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サイズについて</font></font></strong></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DBサイズ</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2251 MB</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2262 MB</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データベースログサイズ</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 Mb</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4587 Mb</font></font></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
結論：完全な監査はあまり良くありません。</font><font style="vertical-align: inherit;">監査からのデータは、データベース自体のデータとして、またはそれ以上の量で判明します。</font><font style="vertical-align: inherit;">DBMSでの作業時に生成されるログの量は、製品の一般的な問題です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
他のパラメーターを調べます。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">速度はあまり変わりません。ロギングなし-43.74秒、ロギングあり-53.23秒。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">監査でファイルを作成する必要があるため、RAMとCPUのパフォーマンスは低下します。</font><font style="vertical-align: inherit;">生産的にも目立ちます。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もちろん、接続数が増えると、パフォーマンスはわずかに低下します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
監査を行う企業では、さらに困難です。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">たくさんのデータがあります。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">監査は、SIEMのsyslogだけでなくファイルにも必要です。syslogで突然何かが発生した場合、データが保存されているファイルはデータベースに近いはずです。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">監査には多くのスペースを占めるため、I / Oドライブでシンクしないように、別のシェルフが必要です。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ISの従業員はどこにでもGOSTを必要とし、ゲストの身分証明書が必要です。</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データアクセス制限</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
商用DBMSおよびオープンソースでデータを保護し、データにアクセスするために使用されるテクノロジーを見てみましょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
全体として使用できるもの：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロシージャと関数の暗号化と難読化（ラッピング）-つまり、コードを読み取り可能なコードから読み取れなくする個別のツールとユーティリティ。</font><font style="vertical-align: inherit;">確かに、変更したり、リファクタリングしたりすることはできません。</font><font style="vertical-align: inherit;">このようなアプローチは、少なくともDBMS側で必要になる場合があります。ライセンス制限のロジックまたは承認ロジックは、手順と機能のレベルで正確に暗号化されます。</font></font></li>
<li>     (RLS) —       ,      ,   - -     .</li>
<li>   (Masking) —          ,   ,    -    .  ,        .</li>
<li>  Security DBA/Application DBA/DBA — , ,      ,        database-  application-.  open source   ,     .  ,        .</li>
<li>       .   ,    ,         .</li>
<li>     —    .</li>
<li>End-to-end encryption   —  client-side       .</li>
<li> . ,   —    ,     .</li>
</ol><br>
<h3>     ?</h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PostgreSQLの列暗号化の例を見てみましょう。</font><font style="vertical-align: inherit;">pgcryptoモジュールがあり、選択したフィールドを暗号化された形式で保存できます。</font><font style="vertical-align: inherit;">これは、一部のデータのみが重要な場合に役立ちます。</font><font style="vertical-align: inherit;">暗号化されたフィールドを読み取るために、クライアントは復号化キーを渡し、サーバーはデータを復号化してクライアントに発行します。</font><font style="vertical-align: inherit;">データのキーがないと、誰も何もできません。</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pgcryptoでテストしてみましょう</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">暗号化されたデータと通常のデータでテーブルを作成します。</font><font style="vertical-align: inherit;">以下は、テーブルを作成するためのコマンドです。最初の行で、便利なコマンドは、DBMSの登録で拡張自体を作成しています。</font></font><br>
<br>
<pre><code class="plaintext hljs">CREATE EXTENSION pgcrypto;<font></font>
CREATE TABLE t1 (id integer, text1 text, text2 text);<font></font>
CREATE TABLE t2 (id integer, text1 bytea, text2 bytea);<font></font>
INSERT INTO t1 (id, text1, text2)<font></font>
VALUES (generate_series(1,10000000), generate_series(1,10000000)::text, generate_series(1,10000000)::text);<font></font>
INSERT INTO t2 (id, text1, text2) VALUES (<font></font>
generate_series(1,10000000),<font></font>
encrypt(cast(generate_series(1,10000000) AS text)::bytea, 'key'::bytea, 'bf'),<font></font>
encrypt(cast(generate_series(1,10000000) AS text)::bytea, 'key'::bytea, 'bf'));</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、各テーブルからデータをサンプリングして、実行タイミングを確認します。</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">暗号化機能なしのテーブルからの選択</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br>
<br>
<pre><code class="plaintext hljs">psql -c "\timing" -c "select * from t1 limit 1000;" "host=192.168.220.129 dbname=taskdb<font></font>
user=postgres sslmode=disable" &gt; 1.txt</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ストップウォッチがオンになっています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&nbsp;&nbsp;id | </font><font style="vertical-align: inherit;">text1 | </font><font style="vertical-align: inherit;">テキスト2 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
------ + ------- + ------- </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 1 | </font><font style="vertical-align: inherit;">1 | </font><font style="vertical-align: inherit;">1 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 2 | </font><font style="vertical-align: inherit;">2 | </font><font style="vertical-align: inherit;">2 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 3 | </font><font style="vertical-align: inherit;">3 | </font><font style="vertical-align: inherit;">3 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
997 | </font><font style="vertical-align: inherit;">997 | </font><font style="vertical-align: inherit;">997 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
998 | </font><font style="vertical-align: inherit;">998 | </font><font style="vertical-align: inherit;">998,999 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">999 | </font><font style="vertical-align: inherit;">999 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1000 | </font><font style="vertical-align: inherit;">1000 | </font><font style="vertical-align: inherit;">1000 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（1000行）</font></font><br>
<br>
<font color="red"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">時間：1.386 ms </font></font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">暗号化機能を備えたテーブルからのサンプリング：</font></font></strong><br>
<br>
<pre><code class="plaintext hljs">psql -c "\timing" -c "select id, decrypt(text1, 'key'::bytea, 'bf'),<font></font>
decrypt(text2, 'key'::bytea, 'bf') from t2 limit 1000;"<font></font>
"host=192.168.220.129 dbname=taskdb user=postgres sslmode=disable" &gt; 2.txt</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ストップウォッチがオンになっています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&nbsp;&nbsp;id | </font><font style="vertical-align: inherit;">復号化| </font><font style="vertical-align: inherit;">復号化</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
----- + -------------- + ------------ </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 1 | </font><font style="vertical-align: inherit;">\ x31 | </font><font style="vertical-align: inherit;">\ x31 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 2 | </font><font style="vertical-align: inherit;">\ x32 | </font><font style="vertical-align: inherit;">\ x32 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 3 | </font><font style="vertical-align: inherit;">\ x33 | </font><font style="vertical-align: inherit;">\ x33 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
999 | </font><font style="vertical-align: inherit;">\ x393939 | </font><font style="vertical-align: inherit;">\ x393939 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1000 | </font><font style="vertical-align: inherit;">\ x31303030 | </font><font style="vertical-align: inherit;">\ x31303030 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（1000ライン）</font></font><br>
<br>
<font color="red"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">時間：50.203 ms </font></font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テスト結果</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td>&nbsp;</td>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">暗号化なし</font></font></strong></td>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pgcrypto（復号）</font></font></strong></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1000行フェッチ</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1,386ミリ秒</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">50,203ミリ秒</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CPU</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15％</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">35％</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">羊</font></font></td>
<td>&nbsp;</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ 5％</font></font></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
暗号化はパフォーマンスに大きな影響を与えます。</font><font style="vertical-align: inherit;">暗号化されたデータを復号化する操作（および復号化は通常はまだロジックにラップされている）のためにかなりのリソースが必要になるため、タイミングが増加していることがわかります。</font><font style="vertical-align: inherit;">つまり、ある種のデータを含むすべての列を暗号化するという考えは、パフォーマンスの低下を伴います。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、暗号化はすべての問題を解決する特効薬ではありません。</font><font style="vertical-align: inherit;">復号化およびデータ転送のプロセスにおける復号化されたデータと復号化キーは、サーバーに配置されます。</font><font style="vertical-align: inherit;">したがって、システム管理者など、データベースサーバーへの完全なアクセス権を持つユーザーによってキーが傍受される可能性があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべてのユーザーの列全体に1つのキーがある場合（すべてではないが、限られた顧客向け）、これは常に適切であるとは限りません。</font><font style="vertical-align: inherit;">そのため、エンドツーエンドの暗号化を開始し、DBMSはクライアントとサーバーからのデータを暗号化するオプションを検討し始めました。同じキーボルトリポジトリが表示されました-DBMS側でキー管理を提供する個別の製品。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a97/d2d/cb2/a97d2dcb29c95253ff37b99f2bf1be40.png"></div><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MongoDBでのこのような暗号化の例</font></font></i></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">商用およびオープンソースDBMSのセキュリティ機能</font></font></h2><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">機能</font></font></strong></td>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">タイプ</font></font></strong></td>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パスワードポリシー</font></font></strong></td>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">監査</font></font></strong></td>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロシージャと関数のソースコードの保護</font></font></strong></td>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RLS</font></font></strong></td>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">暗号化</font></font></strong></td>
</tr>
<tr>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オラクル</font></font></strong></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">商業の</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
</tr>
<tr>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MSQL</font></font></strong></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">商業の</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
</tr>
<tr>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ジャトバ</font></font></strong></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">商業の</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">拡張</font></font></td>
</tr>
<tr>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PostgreSQL</font></font></strong></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自由</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">拡張</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">拡張</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">拡張</font></font></td>
</tr>
<tr>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mongodb</font></font></strong></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自由</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MongoDB Enterpriseでのみ利用可能</font></font></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
表は完全ではありませんが、状況は次のとおりです：商用製品では、セキュリティの問題は長い間解決されており、オープンソースでは、原則として、いくつかのアドオンがセキュリティに使用され、多くの機能は十分ではなく、場合によっては何かを追加する必要があります。たとえば、パスワードポリシー- PostgreSQLでは、さまざまな機能拡張があります（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）パスワードポリシーを実装して、しかし、私の意見では、いずれもカバー国内企業セグメントのすべてのニーズ。</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必要なものがどこにもない場合はどうします</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">か？たとえば、お客様が必要とする機能がない特定のDBMSを利用したい。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その後、「Crypto DB」や「Garda DB」など、さまざまなDBMSで動作するサードパーティのソリューションを使用できます。国内セグメントのソリューションについて話している場合、彼らはオープンソースよりもGOSTについてよく知っています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2番目のオプションは、必要なものを自分で作成し、プロシージャレベルでアプリケーションにデータアクセスと暗号化を実装することです。確かに、GOSTを使用すると、さらに困難になります。ただし、一般的には、必要に応じてデータを非表示にして、DBMSに入れ、アプリケーションレベルで、必要に応じて取得して復号化できます。同時に、アプリケーションでこれらのアルゴリズムをどのように保護するかについてすぐに考えてください。私たちの意見では、これはより高速に動作するため、DBMSレベルで実行する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この講演は</font><font style="vertical-align: inherit;">、Mail.ru Cloud Solutionsによって</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@Databases Meetup</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で最初に行われ</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ました</font></a><font style="vertical-align: inherit;">。</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://www.youtube.com/redirect%3Fq%3D"><font style="vertical-align: inherit;">ビデオを</font></a><font style="vertical-align: inherit;">見る</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://www.youtube.com/redirect%3Fq%3D"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mail.ru GroupのKubernetesを中心</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">としたその他の出演やテレグラムイベントのお知らせにサインアップしてください</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このトピックについて他に読むもの</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br>
<br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ceph以外：MCS Block Cloud Storage</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">再度選択しないように、プロジェクトのデータベースを選択する方法</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
</ol></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja500696/index.html">ランニングシューズが女性の足に順応しようとしている方法</a></li>
<li><a href="../ja500698/index.html">Evgeny Katyshev：「OpenStreetMapはいかなる情報にも適していません」</a></li>
<li><a href="../ja500700/index.html">TLS1.3のサポートと個人アカウントの拡張：2020年の第1四半期に行われたこと</a></li>
<li><a href="../ja500704/index.html">ユニコーン（Airbnb、Uber、Lyft、Careem）は、コロナウイルスのパンデミックの際の問題の中で何千人もの従業員を解雇</a></li>
<li><a href="../ja500706/index.html">MySQL（Percona Server）を5.7から8.0にアップグレードする</a></li>
<li><a href="../ja500712/index.html">Digital Coronavirus-ランサムウェアとInfostealerの組み合わせ</a></li>
<li><a href="../ja500718/index.html">リモートモードのEPAM：仕組み</a></li>
<li><a href="../ja500720/index.html">新しい情報セキュリティ基準：攻撃者の生活をより困難にします</a></li>
<li><a href="../ja500722/index.html">「Bake until ready」：珍しい方法で珍しいテープ録音を保存する人</a></li>
<li><a href="../ja500724/index.html">米国の金融機関がゲームの減少への悪影響を制限する方法</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>