<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧑 🙌🏽 🕺🏼 7月のHabrカンファレンスで最も興味深いのは、バックエンド、機械学習、サーバーレスです。 👩‍⚕️ 🧝 ⏺️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ハーバー会議-物語はデビューではありません。以前は300〜400人向けのやや大規模なイベントAトースターを開催していましたが、今では小さなテーマ別の会議が適切であると判断しました。その方向も、たとえばコメントで設定できます。このフォーマットの最初の会議は7月に開催され、バックエンドの開発に専念しまし...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>7月のHabrカンファレンスで最も興味深いのは、バックエンド、機械学習、サーバーレスです。</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/habr/blog/472916/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ハーバー会議-物語はデビューではありません。</font><font style="vertical-align: inherit;">以前は300〜400人向けのやや大規模なイベントAトースターを開催していましたが、今では小さなテーマ別の会議が適切であると判断しました。その方向も、たとえばコメントで設定できます。</font><font style="vertical-align: inherit;">このフォーマットの最初の会議は7月に開催され、バックエンドの開発に専念しました。</font><font style="vertical-align: inherit;">参加者は、バックエンドからMLへの移行の機能に関するレポートと、State ServicesポータルのQuadrupelサービスデバイスに関するレポートに耳を傾け、サーバーレス専用の円卓会議にも参加しました。</font><font style="vertical-align: inherit;">個人的にイベントに参加できなかった人のために、この記事で最も興味深いことを伝えます。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/9bd/04a/8ab/9bd04a8ab9b6a12c0d985c7d2a13bc3e.jpg"><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バックエンド開発から機械学習まで</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MLデータエンジニアは何をしますか？</font><font style="vertical-align: inherit;">バックエンド開発者とMLエンジニアのタスクの類似点と相違点は何ですか？</font><font style="vertical-align: inherit;">最初の職業を2番目の職業に変えるには、どの道が必要ですか？</font><font style="vertical-align: inherit;">これは、10年のバックエンドを経て機械学習を始めたAlexander Parinovによって伝えられました。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/71d/4b7/e23/71d4b7e2307b78cefd6f1868a33b983d.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alexander Parinov</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
今日、AlexanderはX5 Retail Groupでコンピュータービジョンシステムのアーキテクトとして働いており、コンピュータービジョンとディープラーニング（github.com/creafz）に関連するオープンソースプロジェクトに貢献しています。</font><font style="vertical-align: inherit;">彼のスキルは、機械学習コンテストを主催する最も人気のあるプラットフォームである世界ランキングKaggleマスター（kaggle.com/creafz）のトップ100に参加することで確認されています。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">機械学習に切り替える理由</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1年半前、Googleのディープラーニング人工知能研究プロジェクトであるGoogle Brainの責任者であるJeff Deanは、Google Translateの50万行のコードが、わずか500行で構成されるTensor Flowを備えたニューラルネットワークにどのように置き換えられたかをGoogleに伝えました。ネットワークのトレーニング後、データ品質が向上し、インフラストラクチャが簡素化されました。ここに私たちの明るい未来があるように思われます。もはやコードを記述する必要はなく、ニューロンを作成してデータとともに投げるだけです。しかし実際には、すべてがはるかに複雑です。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/6e1/ef3/f8d/6e1ef3f8d1dc8a5c0b9997d067fd42e0.png"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google MLインフラストラクチャ</font></font></i><br>
&nbsp;<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ニューラルネットワークはインフラストラクチャのほんの一部です（上の図の小さなブラックボックス）。</font><font style="vertical-align: inherit;">データの受信、処理、保存、品質の確認などを行うには、さらに多くの補助システムが必要です。トレーニング、本番環境での機械学習コードのデプロイ、このコードのテストのためのインフラストラクチャが必要です。</font><font style="vertical-align: inherit;">これらのタスクはすべて、バックエンド開発者が行うのと同じです。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/a40/21b/908/a4021b9083599fca9590b8e4e86f264e.png"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">機械学習プロセス</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MLとバックエンドの違いは何ですか</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
古典的なプログラミングでは、コードを記述し、これがプログラムの動作を決定します。 MLには、小さなモデルコードと、モデルを削除するための多くのデータがあります。 MLのデータは非常に重要です。異なるモデルでトレーニングされた同じモデルは、まったく異なる結果を表示する可能性があります。問題は、ほとんどの場合、データが断片化され、さまざまなシステム（リレーショナルデータベース、NoSQLデータベース、ログ、ファイル）に存在することです。</font><font style="vertical-align: inherit;">
ML </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/337/654/f0f/337654f0fe47cacf9bc67106a4220f27.png"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データの</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バージョン管理には、従来の開発のようにコードだけでなく、</font><i><font style="vertical-align: inherit;">データの</font></i><font style="vertical-align: inherit;">バージョン管理も必要です。モデルがトレーニングされた対象を明確に理解する必要があります。これには、一般的なデータサイエンスバージョンコントロールライブラリ（dvc.org）を使用できます。</font></font><br>
&nbsp;<br>
<img src="https://habrastorage.org/getpro/habr/post_images/8c6/72e/c94/8c672ec94474cfe5514c2cd63ef7e19d.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データマークアップ</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次のタスクはデータのマークアップです。たとえば、画像内のすべてのオブジェクトをマークするか、それが属するクラスを言います。これは、Yandex.Tolkiなどの特別なサービスによって行われます。これにより、APIの可用性が大幅に簡素化されます。 「ヒューマンファクター」が原因で問題が発生します。同じタスクを複数の実行者に委託することで、データ品質を向上させ、エラーを最小限に抑えることができます。</font></font><br>
&nbsp;<br>
<img src="https://habrastorage.org/getpro/habr/post_images/106/5a6/ead/1065a6eadbc73ed0b75a57c7b5f81a4b.png"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tensorボードでの視覚化。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
結果を比較し、一部のメトリックスに最適なモデルを選択するには、実験のロギングが必要です。視覚化のために、Tensor Boardなどのツールの大きなセットがあります。しかし、実験を保存するための理想的な方法はありません。中小企業では、エクセルプレートで問題を解決できることが多く、大企業では、データベースに結果を保存するために特別なプラットフォームを使用しています。</font></font><br>
&nbsp;<br>
<img src="https://habrastorage.org/getpro/habr/post_images/0c2/bf3/74f/0c2bf374fc82ea80c96757253e2575b1.png"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">機械学習用のプラットフォームはたくさんありますが、70％のニーズをカバーするものはありません。</font></font></i><br>
&nbsp;<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
トレーニング済みモデルを本番環境に導入するときに最初に対処しなければならない問題は、お気に入りのデータサイエンティストツールであるJupyter Notebookに関連しています。その中にモジュール性はありません。つまり、出力は、論理的な断片（モジュール）に分割されないコードの「フットベイト」です。クラス、関数、構成など、すべてが混在しています。このコードのバージョン管理とテストは困難です。</font></font><br>
&nbsp;<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これに対処するには？ Netflixを我慢して、これらのラップトップを運用環境で直接実行し、データを転送して結果を得ることができる独自のプラットフォームを作成できます。モデルを本番環境に展開する開発者に、コードを通常どおりに書き直させ、モジュールに分割させることができます。しかし、このアプローチでは間違いを犯しやすく、モデルは意図したとおりに機能しません。したがって、理想的なオプションは、モデルコードでJupyter Notebookの使用を禁止することです。もちろん、データサイエンティストがこれに同意する場合。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/fee/071/6bf/fee0716bf440a4cf5a28b405c0a4f775.png"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ブラックボックスとしてモデル化</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
モデルをプロダクションに導入する最も簡単な方法は、モデルをブラックボックスとして使用することです。モデルのいくつかのクラスがあり、モデルの重み（トレーニング済みネットワークのニューロンのパラメーター）があなたに渡され、このクラスを初期化する（予測メソッドを呼び出し、それに画像を置く）と、出力は何らかの予測を取得します。内部で何が起こるかは問題ではありません。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/7ed/1dc/5a3/7ed1dc5a3f28c94339439c1625a2263d.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モデルを使用した別のサーバープロセス</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
別のプロセスを取得して、RPCキューを通じて送信することもできます（画像またはその他のソースデータを使用）。出力では、予測を取得</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
します。Flaskでのモデルの使用例：</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-meta">@app.route("/predict", methods=["POST"])</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">predict</span>():</span>
image = flask.request.files[<span class="hljs-string">"image"</span>].read()<font></font>
image = preprocess_image(image)<font></font>
predictions = model.predict(image)<font></font>
<span class="hljs-keyword">return</span> jsonify_prediction(predictions)
</code></pre>&nbsp;<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このアプローチの問題は、パフォーマンスの制限です。減速するデータサイエンティストによって記述されたPhytonコードがあり、最大のパフォーマンスを絞りたいとします。これを行うには、コードをネイティブに変換したり、プロダクション用にシャープにした別のフレームワークに変換したりするツールを使用できます。フレームワークごとにそのようなツールがありますが、理想的なツールはありません。自分で仕上げる必要があります。</font></font><br>
&nbsp;<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MLのインフラストラクチャは、通常のバックエンドと同じです。 DockerとKubernetesがあります。Dockerの場合のみ、NVIDIAランタイムを設定する必要があります。これにより、コンテナー内のプロセスがホストのビデオカードにアクセスできるようになります。 Kubernetesには、ビデオカードでサーバーを管理できるようにプラグインが必要です。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/5e2/d36/09d/5e2d3609d69dc2930e63945ab2dcb97d.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
従来のプログラミングとは異なり、MLの場合、インフラストラクチャには、データ処理コード、モデルトレーニングパイプライン、プロダクションなど、確認およびテストする必要のあるさまざまな移動要素があります（上の図を参照）。パイプラインのさまざまな部分をリンクするコードをテストすることが重要です。多くの部分があり、モジュールの境界で問題が頻繁に発生します。</font></font><br>
&nbsp;<br>
<img src="https://habrastorage.org/getpro/habr/post_images/c81/f25/9b4/c81f259b4781c850a896b5dbeb6d0302.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AutoMLの仕組み</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AutoMLサービスは、目標に最適なモデルを選択してトレーニングすることを約束します。</font><font style="vertical-align: inherit;">ただし、理解する必要があります。MLではデータは非常に重要であり、結果は準備に依存します。</font><font style="vertical-align: inherit;">人々はマークアップしており、それはエラーでいっぱいです。</font><font style="vertical-align: inherit;">厳しい制御がなければ、ゴミは判明する可能性がありますが、自動化はまだ機能しません;専門家による検証-データサイエンティストが必要です。</font><font style="vertical-align: inherit;">ここでAutoMLが「機能しなくなります」。</font><font style="vertical-align: inherit;">しかし、アーキテクチャの選択には役立ちます。すでにデータを準備していて、一連の実験を行って最適なモデルを見つけたい場合です。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">機械学習を始める方法</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべてのディープラーニングフレームワーク（および通常のフレームワーク）で使用されるPythonで開発している場合、MLに入るのが最も簡単です。この言語は、この分野の活動に実質的に必要です。 C ++は、無人車両の制御システムなど、コンピュータービジョンを使用する一部のタスクに使用されます。 JavaScriptとシェル-視覚化や、ブラウザーでニューロンを起動するなどの奇妙なことのために。 JavaとScalaは、ビッグデータの操作や機械学習に使用されます。 Rとジュリアは統計を行う人々に愛されています。</font></font><br>
&nbsp;<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kaggleでは、最初に実践的な経験をすることが最も便利です。プラットフォームのコンテストの1つに参加すると、1年以上理論を勉強できます。</font><font style="vertical-align: inherit;">このプラットフォームでは、レイアウトされたコメント付きのコードを利用して、コードを改善し、目標に合わせて最適化できます。</font><font style="vertical-align: inherit;">Kaggleのボーナスランクは給与に影響します。</font></font><br>
&nbsp;<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もう1つのオプションは、MLチームのバックエンド開発者として参加することです。</font><font style="vertical-align: inherit;">現在、機械学習に関係する多くの新興企業があり、同僚が問題を解決するのを支援することで経験を積んでいます。</font><font style="vertical-align: inherit;">最後に、データサイエンティストコミュニティの1つであるOpen Data Science（ods.ai）などに参加できます。</font></font><br>
&nbsp;<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">講演者は、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">https：//bit.ly/backend-to-mlで</font></a><font style="vertical-align: inherit;">トピックに関する追加情報を掲載しました</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><br>
</i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「Quadrupel」-ポータル「State Services」のターゲット通知のサービス</font></font></h2><br>
<img src="https://habrastorage.org/getpro/habr/post_images/a44/cf2/054/a44cf20548a8c0798c440c878570afff.jpg"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Evgeny Smirnov </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次の講演者は、Quadrupelについて語った電子政府インフラストラクチャ開発部門の責任者であるEvgeny Smirnovでした。これは、Gosuslugiポータル（gosuslugi.ru）のターゲットを絞った通知のサービスです-Runetの最も訪問された状態リソースです。毎日のオーディエンスは260万人で、合計で9000万人のユーザーがサイトに登録されており、そのうち6,000万人が確認されています。ポータルAPIの負荷は3万RPSです。</font></font><br>
&nbsp;<br>
<img src="https://habrastorage.org/getpro/habr/post_images/3b8/e5a/e05/3b8e5ae05d254b59de3b67093a7b0a47.png"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gosuslugのバックエンドである</font></font></i><br>
&nbsp;<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Quadrupelで</font><i><font style="vertical-align: inherit;">使用されているテクノロジー</font></i><font style="vertical-align: inherit;">はアドレス通知サービスであり、ユーザーは、特別な情報ルールを設定することにより、ユーザーに最適なタイミングでサービスの提供を受けることができます。サービスの開発における主な要件は、柔軟な設定と郵送のための適切な時間でした。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quadrupleはどのように機能しますか？</font></font></h3><br>
<img src="https://habrastorage.org/getpro/habr/post_images/4a3/d78/484/4a3d78484bbe63c0ef0f1f439125b816.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上の図は、運転免許証を交換する必要がある状況の例に関する「4倍」のルールの1つを示しています。</font><font style="vertical-align: inherit;">まず、サービスは有効期限が1か月で期限切れになるユーザーを検索します。</font><font style="vertical-align: inherit;">彼らは、対応するサービスを受け取り、電子メールメッセージを送信することを提案するバナーを掲示しました。</font><font style="vertical-align: inherit;">すでに有効期限が切れているユーザーの場合、バナーとメールが変わります。</font><font style="vertical-align: inherit;">権利の交換が成功すると、ユーザーは他の通知を受け取ります-証明書のデータを更新する提案が表示されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
技術的な観点から見ると、これらはコードが記述されたグルーヴィーなスクリプトです。</font><font style="vertical-align: inherit;">入力-データ、出力-true / false、一致/一致しない。</font><font style="vertical-align: inherit;">合計で50を超えるルール-ユーザーの誕生日（現在の日付はユーザーの誕生日に等しい）の決定から困難な状況まで。</font><font style="vertical-align: inherit;">毎日、これらのルールに従って、約100万の試合が決定されます-通知を受ける必要がある人々。</font></font><br>
&nbsp;<br>
<img src="https://habrastorage.org/getpro/habr/post_images/018/480/a99/018480a990a48fb2d6af080d4e16d20c.png"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quadrupel通知チャネル</font></font></i><br>
&nbsp;<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Quadrupelの内部には、ユーザーデータが保存されるデータベースと3つのアプリケーションがあります。&nbsp;</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ワーカーは</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データを更新するように設計されています。</font></font><br>
</li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rest API</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">がバナーをピックアップして、ポータルとモバイルアプリケーションに渡します。</font></font><br>
</li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スケジューラ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、バナーの再カウントまたは一括メール送信を開始します。</font></font><br>
</li>
</ul><br>
<img src="https://habrastorage.org/getpro/habr/post_images/fe6/b64/57f/fe6b6457f25777215b56879621a2a0f9.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
バックエンドは、データを更新するためのイベント指向です。 2つのインターフェース-RESTまたはJMS。多くのイベントがあり、それらが保存および処理される前に、不要な要求を行わないように集約されます。データベース自体、つまりデータが格納されるプレートは、キー値ストレージ-ユーザーのキーと値自体のように見えます。関連するドキュメントの存在または不在を示すフラグ、それらの有効期間、このユーザーによるサービスの順序に関する集計された統計など。</font></font><br>
&nbsp;<br>
<img src="https://habrastorage.org/getpro/habr/post_images/5ee/0d6/89b/5ee0d689be5f4dd6a2deb353b3523316.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
データを保存した後、バナーがすぐに再カウントされるようにタスクがJMSで設定されます-これはすぐにWebに表示される必要があります。システムは夜間に起動します。JMSでは、タスクをユーザー間隔でスローするため、ルールを再カウントする必要があります。これはリカウンターによって拾われます。さらに、処理結果は次の順番に分類され、バナーをデータベースに保存するか、タスクをユーザーに送信してユーザーに通知します。プロセスには5〜7時間かかります。常にプロセッサを削除するか、新しいプロセッサでインスタンスを上げることができるため、簡単に拡張できます。</font></font><br>
&nbsp;<br>
<img src="https://habrastorage.org/getpro/habr/post_images/ca9/491/685/ca94916852f26beb07515670f718219e.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サービスはかなりうまくいきます。</font><font style="vertical-align: inherit;">しかし、データ量はユーザー数の増加に伴い増加しています。</font><font style="vertical-align: inherit;">これにより、Rest APIがレプリカを調べるという事実を考慮しても、データベースの負荷が増加します。</font><font style="vertical-align: inherit;">2つ目のポイントはJMSですが、JMSはメモリ消費量が多いため、あまり適していません。</font><font style="vertical-align: inherit;">JMSのクラッシュと処理の停止により、キューがオーバーフローする危険性が高くなります。</font><font style="vertical-align: inherit;">この後、ログを消去せずにJMSを上げることはできません。</font></font><br>
&nbsp;<br>
<img src="https://habrastorage.org/getpro/habr/post_images/114/bb1/ad6/114bb1ad6e5870eb3ea7d0fb2228233a.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
シャーディングを使用して問題を解決する予定です。これにより、ベースの負荷を分散できます。</font><font style="vertical-align: inherit;">また、データストレージスキームを変更し、JMSをKafkaに変更する計画もあります。これは、メモリの問題を解決する、よりフォールトトレラントなソリューションです。</font></font><br>
&nbsp;<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サービスとしてのバックエンドとの比較。</font><font style="vertical-align: inherit;">サーバーレス</font></font></h2><br>
<img src="https://habrastorage.org/getpro/habr/post_images/e71/98c/48d/e7198c48dcf015593d8753bbb53b9164.jpg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">左から、Alexander Borgart、Andrey Tomilenko、Nikolai Markov、Ara Israelyan</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Backend as a service or </font><i><font style="vertical-align: inherit;">serverless</font></i><font style="vertical-align: inherit;"> solution？</font><font style="vertical-align: inherit;">以下の人々は、円卓会議でこの差し迫った問題の議論に参加しました：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ara Israelyan、CTO CTO、Scorocodeの創設者。</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nikolay Markov、Aligned Research Groupのシニアデータエンジニア。</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Andrey Tomilenko、RUVDS開発部門責任者。&nbsp;</font></font><br>
</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
会話は上級開発者のAlexander Borgartによって司会されました。聴衆が参加した討論を要約版で紹介します。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-サーバーレスとは​​何ですか？</font></font><br>
</b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Andrei</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：これは計算モデルです-結果をデータのみに依存するようにデータを処理するLambda関数。この用語は、GoogleまたはAmazonとそのAWS Lambdaサービスに由来しています。これに容量プールを割り当てると、プロバイダーがこのような機能を処理するのが簡単になります。同じサーバー上で異なるユーザーを個別に検討できます。</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nikolay</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：簡単な場合、ITインフラストラクチャの一部、ビジネスロジックをクラウドに転送して、アウトソーシングします。</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">あら</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：開発者の側-マーケティング担当者の側のリソースを節約するための良い試み-より多くのお金を稼ぐため。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-サーバーレス-マイクロサービスと同じですか？</font></font><br>
</b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nikolai</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：いいえ、サーバーレスはよりアーキテクチャの組織です。マイクロサービスは、特定のロジックのアトミックユニットです。サーバーレスはアプローチであり、「個別のエンティティ」ではありません。</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ara</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：サーバーレス関数はマイクロサービスにパッケージ化できますが、これによりサーバーレスではなくなり、ラムダ関数ではなくなります。サーバーレスでは、関数は要求されたときにのみ開始されます。</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Andrew</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：人生の時間は違う。 Lambda関数を起動して忘れました。数秒間動作し、次のクライアントは別の物理マシンで要求を処理できます。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-どちらがより適切なスケールですか？</font></font><br>
</b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ara</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：水平スケーリングでは、Lambda関数はマイクロサービスとまったく同じように動作します。</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nikolai</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：いくつのレプリカを要求するか-レプリカの数は非常に多くなるので、サーバーレススケーリングに問題はありません。 Kubernetesでレプリカセットを作成し、「どこかに」20のインスタンスを起動し、20の匿名化されたリンクを返しました。フォワード！</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-サーバーレスでバックエンドを作成することは可能ですか？</font></font><br>
</b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アンドリュー</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：理論的には、意味がありません。 Lambda関数は単一のリポジトリに依存します-保証を提供する必要もあります。たとえば、ユーザーが特定の取引を行った場合、次に表示されるのは、取引が完了したこと、資金が入金されたことです。この呼び出しでは、すべてのLambda関数がブロックされます。実際、サーバーレス機能の束は、データベースへの1つの狭いアクセスポイントを持つ単一のサービスに変わります。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-サーバーレスアーキテクチャを使用するのはどのような場合に意味がありますか？</font></font><br>
</b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アンドリュー</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：共通のストレージが不要なタスク-同じマイニング、ブロックチェーン。あなたが多くを数える必要がある場所。コンピューティング能力が高い場合は、「そこにあるもののハッシュを計算する」などの関数を定義できますが、たとえば、Amazon関数とLambda関数、およびそれらの分散ストレージを使用することで、データストレージの問題を解決できます。そして、あなたは定期的なサービスを書いていることがわかります。 Lambda関数はリポジトリにアクセスし、ユーザーに何らかの応答を返します。</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ニコライ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：サーバーレスで実行されるコンテナーは非常にリソースが限られています。メモリはほとんどありません。しかし、すべてのインフラストラクチャがクラウド、Google、Amazonに完全にデプロイされており、それらと永続的な契約を結んでいる場合、これらすべての予算があり、一部のタスクではサーバーレスコンテナを使用できます。すべてが特定の環境での使用に合わせて調整されているため、このインフラストラクチャ内に正確に配置する必要があります。つまり、すべてをクラウドインフラストラクチャに関連付ける準備ができている場合は、実験することができます。プラスは、このインフラストラクチャを管理する必要がないことです。</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">あら</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：サーバーレスでは、Kubernetes、Dockerの管理、Kafkaのインストールなどは必要ありません。これは自己欺瞞です。同じアマゾンとグーグルはマネージャーであり、彼らはそれを置きます。もう1つは、SLAがあることです。同じ成功で、すべてを外部委託でき、自分でプログラムすることはできません。</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Andrew</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：サーバーレス自体は安価ですが、残りのAmazonサービス（データベースなど）には多額の費用がかかります。 APIゲートのためにクレイジーなお金を引き裂いたとして、人々はすでに彼らを訴えていました。</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ara</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：お金の話をするなら、この点を考慮する必要があります。すべてのコードをサーバーレスに転送するには、社内の開発方法論全体を180度展開する必要があります。多くの時間とお金がかかります。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-有料のサーバーレスアマゾンとグーグルにまともな代替品はありますか？</font></font><br>
</b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ニコライ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：Kubernetesでは、ある種のジョブを実行し、それが実行されて終了します。これは、アーキテクチャの観点からはサーバーレスです。キューとベースを備えた非常に興味深いビジネスロジックを作成する場合は、それについてもう少し考える必要があります。これは、Kubernetesを離れることなくすべて解決されます。追加の実装をドラッグし始めません。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-サーバーレスで起こっていることを監視することはどのくらい重要ですか？</font></font><br>
</b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ara</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：システムアーキテクチャとビジネス要件によって異なります。実際、プロバイダーは、devが起こりうる問題を理解するのに役立つレポートを提供する必要があります。</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ニコライ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：AmazonにはCloudWatchがあり、Lambdaを含むすべてのログがストリーミングされます。ログ転送を統合し、表示、アラートなどに別のツールを使用します。開始するコンテナーでは、エージェントを詰め込むことができます。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/173/767/b57/173767b57ac15dd164ad69c428d9ae03.jpg"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-まとめましょう。</font></font><br>
</b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Andrew</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：Lambda関数について考えることは役に立ちます。マイクロサービスではなく、リクエストを書き込み、データベースにアクセスして回答を送信するサービスを膝に作成すると、Lambda関数は、マルチスレッド化、スケーラビリティなど、多くの問題を解決します。ロジックがこの方法で構築されている場合、将来的にはこれらのLambdaをマイクロサービスに転送したり、Amazonなどのサードパーティのサービスを使用したりできるようになります。テクノロジーは有用で、興味深いアイデアです。それがビジネスにどの程度正当化されるかは未だに未解決の問題です。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nikolai：サーバーレスは、ある種のビジネスロジックを計算するよりも、操作タスクに使用する方が優れています。私はいつもこれをイベント処理として扱います。 Amazonにある場合、Kubernetesにいる場合-はい。そうでなければ、サーバーレスを自分で育てるには多くの努力をしなければなりません。特定のビジネスケースを調べる必要があります。たとえば、今私はタスクの1つを持っています。ファイルが特定の形式でディスクに表示されたら、それらをKafkaにアップロードする必要があります。このWatchDogまたはLambdaを使用できます。論理的にはどちらも適していますが、サーバーレスの実装は難しく、Lambdaを使用しない単純なパスを使用することを好みます。</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">あら</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：サーバーレス-興味深い、適用可能な、非常に技術的に美しいアイデア。</font><font style="vertical-align: inherit;">遅かれ早かれ、テクノロジーは100ミリ秒未満で機能が上昇するようになります。</font><font style="vertical-align: inherit;">そして、原理的には、待ち時間がユーザーにとって重要であるかどうかは問題になりません。</font><font style="vertical-align: inherit;">同時に、同僚がすでに述べたように、サーバーレスの適用性はビジネスタスクに完全に依存しています。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私たちをたくさん助けてくれたスポンサーに感謝します：</font></font><br>
</b><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">会議</font><font style="vertical-align: inherit;">用サイト</font><font style="vertical-align: inherit;">のIT会議スペース「</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">春</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ITイベントのカレンダー</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Runet-ID</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">および</font><font style="vertical-align: inherit;">情報サポートとニュース</font><font style="vertical-align: inherit;">の出版物「</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Internet in numbers</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ギフト用の</font><font style="vertical-align: inherit;">「</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Acronis</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」。</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">共</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">創の</font></a><font style="vertical-align: inherit;">ための</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">Avito</font></a><font style="vertical-align: inherit;">。</font></font></li>
<li>«  » <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>    .</li>
<li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">RUVDS</a> —  !</li>
</ul><br>
<img src="https://habrastorage.org/getpro/habr/post_images/7d5/374/7cc/7d53747cc37e595ec4ec995267865c93.jpg"></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja472904/index.html">Amazonが株をゲームに変える方法</a></li>
<li><a href="../ja472908/index.html">ダガズ：エピソード（パート2）</a></li>
<li><a href="../ja472910/index.html">スマートフォンを使用して看板やパッケージのテキストを検索する</a></li>
<li><a href="../ja472912/index.html">人間用のClickHouseデータベース、またはAlien Technology</a></li>
<li><a href="../ja472914/index.html">Wolfram関数リポジトリ：Wolfram言語拡張のためのオープンアクセスプラットフォーム</a></li>
<li><a href="../ja472918/index.html">ロシアとCISのZXスペクトラム：オンラインの追求がオフラインでどのように変化したか</a></li>
<li><a href="../ja472922/index.html">エントロピーよりも強力なディフェンダープログラマー</a></li>
<li><a href="../ja472926/index.html">返品を加速する法則（パート1）</a></li>
<li><a href="../ja472928/index.html">高負荷のGPUコンピューティングサービス</a></li>
<li><a href="../ja472930/index.html">ファッションを定量化するシリコンバレー天体物理学者</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>