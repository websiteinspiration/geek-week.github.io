<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§±üèΩ üíÖüèª üèä Intervalo de confian√ßa para o n√∫mero de pacientes com coronav√≠rus (c√°lculo da mortalidade) ü§¥üèª ‚ùé üë®‚Äç‚öñÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Um argumento popular para uma publica√ß√£o viral sobre o coronav√≠rus - como obter estat√≠sticas para tr√™s casos? Voc√™ n√£o pode tirar conclus√µes sobre amo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Intervalo de confian√ßa para o n√∫mero de pacientes com coronav√≠rus (c√°lculo da mortalidade)</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/492628/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um argumento popular para uma </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">publica√ß√£o viral sobre o coronav√≠rus</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - como obter estat√≠sticas para tr√™s casos? Voc√™ n√£o pode tirar conclus√µes sobre amostras t√£o pequenas! Todo mundo que estudou ci√™ncias sociais absorveu essa hist√≥ria sobre o tamanho das amostras com o leite de alma da m√£e. E isso √© correto naquelas situa√ß√µes com as quais geralmente lidamos - com estat√≠sticas seletivas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para o caso dos tr√™s falecidos, essas estat√≠sticas s√£o indiretamente relacionadas. Naqueles anos em que eu ainda ensinava m√©todos matem√°ticos para psic√≥logos da universidade, eu sempre tentava parar nesse lugar - algo que todo esse curso trata n√£o est√° relacionado a dados reais. Apenas para o problema, quando precisamos tirar uma conclus√£o sobre a popula√ß√£o em geral a partir de uma amostra aleat√≥ria.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E aqui temos o n√∫mero 3. Tr√™s mortos, n√£o algum tipo de vetor, nem uma tabela ou amostra. </font><font style="vertical-align: inherit;">√â um fato. </font><font style="vertical-align: inherit;">Tr√™s dos mortos vieram at√© n√≥s completamente por acaso. </font><font style="vertical-align: inherit;">Eles morreram.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Portanto, consideraremos um dos m√©todos mais simples para determinar o n√∫mero de casos - pela taxa de mortalidade e pelo n√∫mero de mortes. </font><font style="vertical-align: inherit;">Suponha que conhe√ßamos a mortalidade e √© de 1%. </font><font style="vertical-align: inherit;">Nessa situa√ß√£o, seria l√≥gico e correto considerar que o n√∫mero de pessoas recuperadas ser√° 297. Mas qual √© a confiabilidade desse julgamento? </font><font style="vertical-align: inherit;">Podemos simplesmente deixar de lado que temos tr√™s mortos, afirmando que tr√™s n√£o s√£o estat√≠sticas? </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/b11/684/aa6/b11684aa68acccca02d41b21e6f6ef35.jpg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta pergunta ser√° respondida por uma </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">distribui√ß√£o binomial negativa e seu profeta - Wikipedia</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Existem muitas letras gregas, se voc√™, como eu, tem medo delas, vou lhe contar o que acontece. Essa distribui√ß√£o apenas responde √† pergunta de quantas vezes √© necess√°rio rolar o dado para que o seis caia cinco vezes. Eu uso a linguagem de programa√ß√£o R para c√°lculos, na qual existe uma fun√ß√£o pronta que permite avaliar o intervalo de confian√ßa.</font></font><br>
<br>
<pre><code class="python hljs">qnbinom(p=c(<span class="hljs-number">.025</span>,<span class="hljs-number">.975</span>),size=<span class="hljs-number">3</span>, prob=<span class="hljs-number">0.01</span>)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui p √© 2,5% abaixo e 2,5% acima, entre os quais o intervalo desejado est√° localizado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O resultado √© um intervalo de confian√ßa de 60 a 717. N√£o √© t√£o ruim! √â prov√°vel que os tr√™s mortos n√£o signifiquem 297 recuperados, mas apenas sessenta! Mas talvez por setecentos. :-( </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para pessoas muito suspeitas que n√£o acreditam em uma distribui√ß√£o binomial negativa, eu posso oferecer modelagem num√©rica. Em geral, se voc√™ n√£o sabe calcular por f√≥rmulas e distribui√ß√µes, modelo! Em qualquer situa√ß√£o incompreens√≠vel, modelo, Monte Carlo est√° esperando por voc√™. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos escrever a fun√ß√£o random_infected, que simula uma situa√ß√£o de doen√ßa e morte.</font></font><br>
<br>
<pre><code class="python hljs">random_infected &lt;- function(deaths, fatality_rate)<font></font>
{<font></font>
  dead = <span class="hljs-number">0</span>
  all = <span class="hljs-number">1</span>
  <span class="hljs-keyword">while</span> (dead &lt; deaths) {
    <span class="hljs-keyword">if</span> (runif(<span class="hljs-number">1</span>) &lt; fatality_rate) {<font></font>
      all = all + <span class="hljs-number">1</span>
      dead = dead + <span class="hljs-number">1</span>
    } <span class="hljs-keyword">else</span>
      all = all + <span class="hljs-number">1</span><font></font>
  }<font></font>
  <span class="hljs-keyword">return</span>(all)<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta fun√ß√£o faz o seguinte - rola um cubo "n-face" (usando distribui√ß√£o uniforme). Se um deles for descartado, aumentar√° o n√∫mero de mortos e o n√∫mero todos em um. E se n√£o, ent√£o apenas o n√∫mero todo. Cada rolo desse dado √© uma pessoa doente que pode morrer ou se recuperar. Assim que tivermos o n√∫mero de mortes especificado pelo par√¢metro de mortes, paramos e relatamos quantas vezes lan√ßamos o dado (o n√∫mero todo). A probabilidade de algu√©m cair em nosso cubo imagin√°rio √© a mortalidade, no nosso caso o par√¢metro fatality_rate.</font></font><br>
<br>
<pre><code class="python hljs">infected_sizes&lt;-replicate(<span class="hljs-number">100000</span>,random_infected(deaths=<span class="hljs-number">3</span>,fatality_rate=<span class="hljs-number">0.01</span>))</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E agora vamos calcular esse n√∫mero 100 mil vezes. Eu tenho um laptop antigo, por isso estou relutante em esperar at√© que um milh√£o seja contado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois disso, voc√™ pode calcular a m√©dia aritm√©tica dos n√∫meros obtidos. Eu obtive 301.2 - muito semelhante ao n√∫mero esperado 300. √â assim que a distribui√ß√£o do n√∫mero de rolos do nosso cubo da morte se parece:</font></font><br>
<br>
<pre><code class="python hljs">library(ggplot2)<font></font>
theme_set(theme_classic())<font></font>
<font></font>
g &lt;- ggplot(data.frame(infected_sizes=infected_sizes), aes(infected_sizes))<font></font>
g + geom_density(alpha=<span class="hljs-number">0.8</span>,fill=<span class="hljs-string">"plum"</span>)
</code></pre><br>
<img src="https://habrastorage.org/getpro/habr/post_images/17f/eac/604/17feac604d1a227c82de8ee6e5f672c0.jpg" alt="imagem"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui est√° - uma distribui√ß√£o binomial negativa, por favor, amor e favor. Com base nesses dados, √© poss√≠vel fornecer respostas aproximadas √†s perguntas - qual a probabilidade de o n√∫mero total de casos ser menor que cinquenta (1,2%) ou superior a 1000 (0,3%). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Claro, estas s√£o apenas estimativas. Eles s√£o baseados em dados que podem estar incorretos. N√£o sabemos sobre a verdadeira mortalidade do coronav√≠rus. Por√©m, quanto menor essa taxa de mortalidade, mais casos de doen√ßa ocorrem em um falecido e maior a estimativa da extens√£o da pandemia.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Deixe-me lembr√°-lo de que lan√ßamos este dado instantaneamente. Para o modelo de c√°lculo da mortalidade, usado no sensacional artigo de Thomas Pueyo, tenho uma pequena queixa. L√°, assumimos que, com base nas tr√™s mortes no dia X, uma taxa de mortalidade de 1% e no conhecimento de que o tempo m√©dio entre a infec√ß√£o e a morte seja de 17 dias, 300 pessoas foram infectadas no dia X-17. No entanto, esse c√°lculo √© v√°lido apenas se o n√∫mero de pessoas doentes for o mesmo todos os dias. Como 17 dias n√£o √© um n√∫mero estrito, tamb√©m possui intervalos de confian√ßa e erros. Se temos um r√°pido aumento no n√∫mero de pacientes, entre os que morreram no dia X, temos um certo n√∫mero de pessoas infectadas n√£o h√° 17 dias, mas 16 ou 15 dias, e talvez 10 dias atr√°s. Talvez haja ainda mais deles do que aqueles que foram infectados 17 dias atr√°s. Nesse caminho,em uma situa√ß√£o de r√°pido aumento do n√∫mero de casos, esse c√°lculo reverso pode levar a superestima√ß√µes da preval√™ncia da doen√ßa. Em geral, tudo √© complicado.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PS Agradecemos a Gregory Demin por uma dica sobre o tipo de distribui√ß√£o.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt492604/index.html">Trabalhando com o View de forma ass√≠ncrona usando coroutine</a></li>
<li><a href="../pt492606/index.html">Problemas do kit de ferramentas em grandes projetos</a></li>
<li><a href="../pt492608/index.html">Apresenta recursos de entrega em grandes projetos</a></li>
<li><a href="../pt492612/index.html">Plafon decorativo Leek Celebrity</a></li>
<li><a href="../pt492616/index.html">Packer, Terraform e Ansible: implanta√ß√£o do cluster Kubernetes em uma hora</a></li>
<li><a href="../pt492632/index.html">Pequenas empresas em quarentena: o p√¢nico √© o inimigo da raz√£o</a></li>
<li><a href="../pt492636/index.html">O que significa ser eficaz?</a></li>
<li><a href="../pt492638/index.html">Escalando um aplicativo Redux com patos</a></li>
<li><a href="../pt492642/index.html">Crie uma arquitetura escal√°vel e resiliente com microsservi√ßos din√¢micos</a></li>
<li><a href="../pt492652/index.html">Jogo de cartas "Tolo" em dois M5Stack</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>