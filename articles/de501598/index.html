<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🥑 🏮 🙍 Eine bescheidene Anleitung zu Datenbankschemata 🚵🏾 🔃 👍🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Geometrie von Blumen von Mookiezoolook 
 
 Für Anwendungen, die sich nach Verkehr und Komplexität skalieren lassen, ist es äußerst wichtig, zunächst e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Eine bescheidene Anleitung zu Datenbankschemata</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/501598/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/zo/al/m2/zoalm23rpnu233blf2nybyz6tk0.jpeg"></div><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Geometrie von Blumen von Mookiezoolook</font></font></i></a> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Für Anwendungen, die sich nach Verkehr und Komplexität skalieren lassen, ist es äußerst wichtig, zunächst ein kompetentes Datenbankschema zu entwerfen. Wenn Sie eine schlechte Wahl treffen, müssen Sie viel Aufwand betreiben, damit sich diese schlechte Vorlage nicht auf Dienste und Backend-Controller und schließlich auf das Frontend ausbreitet.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber wie kann man beurteilen, welche Schaltung besser ist? Und was bedeutet "besser", wenn wir über Datenbankarchitektur sprechen? Das</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Mail.ru Cloud Solutions-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Team</font><font style="vertical-align: inherit;">lädt Sie ein,</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> den Empfehlungen von Mike Alcha</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , einem Berater für Softwareentwicklung,</font><font style="vertical-align: inherit;">zu</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"> folgen</font></a><font style="vertical-align: inherit;"> . Es scheint uns, dass er einige Prinzipien kompetenter Architektur ziemlich kurz zusammengefasst hat.</font></font><br>
<a name="habracut"></a><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/tg/ed/6j/tged6jbyakg4f0no_up6r9c-9aw.jpeg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Direktor: </font></font></i><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font></font></i><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich denke, wir sollten eine SQL-Datenbank erstellen </font></font></i><font style="vertical-align: inherit;"><i><font style="vertical-align: inherit;">. </font></i></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font></font></i><font style="vertical-align: inherit;"><i><font style="vertical-align: inherit;">Entwickler (versteht er überhaupt, wovon er spricht, oder hat er gerade eine Anzeige in einem Wirtschaftsmagazin gesehen? ..): </font></i><i><font style="vertical-align: inherit;">„ </font></i><i><font style="vertical-align: inherit;">Welche Farbe soll die Datenbank haben? </font></i><i><font style="vertical-align: inherit;">". </font></i><i><font style="vertical-align: inherit;">Regie: </font></i><i><font style="vertical-align: inherit;">" </font></i><i><font style="vertical-align: inherit;">Vielleicht hat Flieder das meiste Gedächtnis </font></i><i><font style="vertical-align: inherit;">. </font></i><i><font style="vertical-align: inherit;">"</font></i></font><i><font style="vertical-align: inherit;"></font></i><br>
<br>
<i><font style="vertical-align: inherit;"></font></i><i><font style="vertical-align: inherit;"></font></i><i><font style="vertical-align: inherit;"></font></i><i><font style="vertical-align: inherit;"></font></i><br>
<br>
<i><font style="vertical-align: inherit;"></font></i><i><font style="vertical-align: inherit;"></font></i><i><font style="vertical-align: inherit;"></font></i><i><font style="vertical-align: inherit;"></font></i><i><font style="vertical-align: inherit;"></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein paar grundlegende Tipps</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist also wichtig, </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zwei Hauptziele</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> anzustreben </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beim Aufteilen von Informationen in Tabellen werden alle Informationen gespeichert.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Redundanz des Speichers ist minimal.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was den zweiten Punkt betrifft: Wollen wir die Redundanz nur aufgrund eines Problems mit der Speichergröße reduzieren? </font><font style="vertical-align: inherit;">Nein, wir tun dies hauptsächlich, weil das Vorhandensein redundanter Daten zu </font></font><i><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Inkonsistenzproblemen</font></font></strong></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> führt, </font><font style="vertical-align: inherit;">wenn Sie während der Aktualisierung nicht alle Felder aktualisieren, die dieselben Informationen darstellen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier sind einige Richtlinien </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, um einer guten Architektur näher zu kommen</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verwenden Sie mindestens die dritte normale Form (in der jedes Nicht-Schlüsselattribut "Informationen über den Schlüssel, den vollständigen Schlüssel und nichts als den Schlüssel liefern muss", gemäß </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dem Wortlaut</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> von Bill Kent).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erstellen Sie die letzte Verteidigungslinie in Form von Einschränkungen.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Speichern Sie niemals ganze Adressen in einem Feld.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Speichern Sie niemals den Vor- und Nachnamen in einem Feld.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Legen Sie Konventionen für Tabellen- und Feldnamen fest und halten Sie sich an diese.</font></font></li>
</ol><br>
<i><div style="text-align:center;"><img src="https://habrastorage.org/webt/qu/lx/pr/qulxprdoqnbq5twc8dgw47qewry.jpeg"></div></i><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Woran arbeitest du? </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
" </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Optimieren dieser SQL-Abfrage." </font><font style="vertical-align: inherit;">Es verlangsamt sich und Benutzer beginnen sich zu beschweren. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Und obszöne Sprache in den Kommentaren ist </font></font></i><font style="vertical-align: inherit;"><i><font style="vertical-align: inherit;">für die Optimierung </font></i></font><i><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">erforderlich</font></font></strong></i><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ? </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn Sie den </font></font></i><i><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Originalcode sehen</font></font></strong></i><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> würden, würden Sie nicht fragen. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lassen Sie uns diese Empfehlungen genauer betrachten.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Verwenden Sie mindestens eine dritte Normalform</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Datenbankarchitektur kann in folgende Kategorien unterteilt werden:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die erste Normalform.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die zweite Normalform.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dritte Normalform.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die normale Form von Boyce-Codd.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diese Kategorien stellen eine Klassifizierung nach Qualität dar. </font><font style="vertical-align: inherit;">Wir werden kurz alle Kategorien überprüfen und herausfinden, warum mindestens eine dritte Normalform benötigt wird.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erste Normalform</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Für die erste Normalform muss jeder Wert jeder Spalte jeder Tabelle in der Datenbank atomar sein. </font><font style="vertical-align: inherit;">Was bedeutet Atom? </font><font style="vertical-align: inherit;">Kurz gesagt, der Atomwert ist eine „einzelne Sache“. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zum Beispiel haben wir eine Tabelle wie diese:</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vorname</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nachname</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alter</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bereiche</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jhon</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Damhirschkuh</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">27</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{"Website Design", "Clientele Research"}</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Maria</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jane</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">33</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{"Langfristige strategische Planung", "Rekrutierung"}</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tom</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schmied</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">35</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{"Marketing"}</font></font></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier </font><font style="vertical-align: inherit;">enthält </font><font style="vertical-align: inherit;">die </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bereichsspalte</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Werte, die nicht atomar sind. </font><font style="vertical-align: inherit;">In einer John Doe-Zeile speichert das Feld beispielsweise zwei Entitäten: Website-Design und Client-Recherche. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diese Tabelle hat also nicht die erste normale Form. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um es in dieses Formular zu bringen, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sollte in jedem Feld nur ein Wert gespeichert werden</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zweite Normalform</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der zweiten Normalform kann keine Spalte, die nicht Teil des Primärschlüssels ist (oder als Teil eines anderen Primärschlüssels fungieren kann), nicht aus dem </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kleineren Teil des Primärschlüssels abgeleitet werden</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was bedeutet das? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Angenommen, Sie haben eine solche Basisarchitektur (ich habe die Felder hervorgehoben, die dem Primärschlüssel in dieser Tabelle entsprechen):</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mitarbeiter-ID</font></font></u></td>
<td><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">project_id</font></font></u></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Std</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mitarbeitername</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Projektname</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">John</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Website design"</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zwanzig</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Maria</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Website design"</font></font></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diesem Projekt kann der Name des Mitarbeiters direkt aus employeee_id abgeleitet werden, da der Name des Mitarbeiters eindeutig durch seine Kennung bestimmt wird. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In ähnlicher Weise wird der Projektname durch die Kennung project_id eindeutig identifiziert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben also zwei Spalten, die aus dem Primärschlüsselteil abgeleitet werden können. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jedes dieser Beispiele würde ausreichen, um diese Tabelle aus der zweiten Normalform herauszuwerfen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine andere Schlussfolgerung ist, dass wenn die Tabelle in der ersten Normalform war und alle Primärschlüssel einzelne Spalten sind, die Tabelle bereits in der zweiten Normalform ist.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dritte Normalform</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Damit die Tabelle der dritten Normalform entspricht, muss sie in der zweiten Normalform vorliegen, während sie keine Attribute (Spalten) enthalten sollte, außer der primären, die transitiv vom Primärschlüssel abhängig sind. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was bedeutet das? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Angenommen, Sie haben die folgende Architektur (die alles andere als ideal ist):</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mitarbeitername</font></font></td>
<td><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mitarbeiter-ID</font></font></u></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alter</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abteilungsnummer</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abteilungsname</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">John</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">27</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">123</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Marketing"</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Maria</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">33</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">456</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Operational"</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tom</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">35</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">123</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Marketing"</font></font></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In dieser Tabelle kann die Abteilungsnummer aus der Mitarbeiter-ID und der Abteilungsname aus der Abteilungsnummer abgeleitet werden. Abteilungsname ist also transitiv von employee_id abhängig! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn es eine solche transitive Abhängigkeit gibt: Mitarbeiter-ID → Abteilungsnummer → Abteilungsname, dann hat diese Tabelle nicht die dritte normale Form. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Welche Probleme entstehen dadurch</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn der Name der Abteilung aus ihrer Nummer abgeleitet werden kann, führt das Speichern dieses Felds für jeden Mitarbeiter zu einer übermäßigen Redundanz. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Stellen Sie sich vor, die Marketingabteilung ändert ihren Namen in "Marketing und Vertrieb". Um die Konsistenz zu gewährleisten, müssen Sie die Zelle in jeder Zeile der Tabelle für jeden Mitarbeiter in dieser Abteilung aktualisieren! In der dritten Normalform wäre dies nicht geschehen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Darüber hinaus geschieht Folgendes, wenn Mary beschließt, das Unternehmen zu verlassen: Wir müssen ihre Zeile aus der Tabelle löschen. Wenn sie jedoch die einzige Mitarbeiterin in der Betriebsabteilung war, muss die Abteilung ebenfalls gelöscht werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
All diese Probleme können in einer dritten Normalform vollständig vermieden werden.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c45/93e/423/c4593e423e573702d0039506bdbe562f.png"></div><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mamas Heldentaten</font></font></i></a><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Der Name ihrer Tochter ist Hilfe! </font><font style="vertical-align: inherit;">Ich bin gezwungen, Pässe zu fälschen</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Erstellen Sie die letzte Verteidigungslinie in Form von Einschränkungen</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Datenbank, mit der Sie arbeiten, ist mehr als nur eine Gruppe von Tabellen. Bestimmte Funktionen sind darin integriert. Viele dieser Funktionen tragen zur Gewährleistung der Datenqualität und -genauigkeit bei. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Einschränkungen legen die Regeln fest, welche Werte in die Datenbankfelder eingegeben werden können. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Stellen Sie beim Definieren von Beziehungen in einer Datenbank sicher, dass Sie Fremdschlüsseleinschränkungen festlegen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Stellen Sie sicher, dass Sie angeben, was beim Löschen und Aktualisieren einer Zeile geschehen soll, die anderen Zeilen in anderen Tabellen zugeordnet ist (ON DELETE- und ON UPDATE-Regeln). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Stellen Sie sicher, dass Sie NOT NULL für alle Felder verwenden, die niemals annulliert werden sollten. Es mag sinnvoll sein, das Backend zu überprüfen, aber denken Sie daran, dass es immer zu Abstürzen kommt, sodass das Hinzufügen dieser Art von Einschränkung nicht schadet.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Legen Sie die CHECK-Prüfgrenzen fest, um sicherzustellen, dass die Tabellenwerte im akzeptablen Bereich liegen. Beispielsweise hat der Preis eines Produkts immer einen positiven Wert. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eine interessante Tatsache</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Im April 2020 verhinderte genau eine solche Einschränkung der Software </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">den Handel an der Moskauer MICEX,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> da der Preis für WTI-Öl-Futures unter Null fiel. </font><font style="vertical-align: inherit;">Im Gegensatz zur Moskauer Börse hat die New York Mercantile Exchange NYMEX </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">die Software eine Woche vor dem Vorfall aktualisiert</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , sodass Transaktionen zu einem negativen Preis erfolgreich durchgeführt werden konnten, dh mit einem Zuschlag des Verkäufers an den Käufer - ca. </font><font style="vertical-align: inherit;">trans. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alle PostgreSQL-Einschränkungen finden Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. Speichern Sie niemals ganze Adressen in einem Feld</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Ihre Anwendung oder Website ein Formular mit einem Feld enthält, in das der Benutzer seine Adresse eingibt, riecht es schlecht. Es ist sehr wahrscheinlich, dass Sie in diesem Fall auch ein Feld in der Datenbank haben, um die Adresse als einfache Zeichenfolge zu speichern. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber was tun, wenn Sie Kundeneinkäufe nach Städten kombinieren müssen, um festzustellen, in welcher Stadt welches Produkt beliebter ist? Kannst du es machen? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es wird sehr schwer sein! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da die vollständige Adresse als Zeichenfolge im Datenbankfeld gespeichert ist, müssen Sie zuerst herausfinden, wie viel von dieser Zeichenfolge die Stadt ist! Und dies ist angesichts aller möglichen Adressformate in diesem Bereich eine fast unmögliche Aufgabe. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Teilen Sie daher das universelle Feld "Adresse" in bestimmte Felder auf: Straße, Hausnummer, Stadt, Region, Postleitzahl usw.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein weiteres Adressproblem - Anonyme Felder</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier ist eine Illustration aus Michaels Blachs Buch The Copper Bullet zur Verbesserung der Softwarequalität:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b98/165/d9e/b98165d9e6cd4b9e43350285a75609ba.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Welche potenziellen Probleme sind hier sichtbar? </font><font style="vertical-align: inherit;">Können Sie die Stadt Chicago leicht von den Straßen von Chicago unterscheiden? </font><font style="vertical-align: inherit;">Wahrscheinlich nicht. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Denken Sie daher daran, jeder Informationseinheit immer eindeutige Spaltennamen zuzuweisen.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/0e/te/dp/0etedpf1hxfr2sci5m1jliwd4zi.jpeg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie schreibe </font></font></i><font style="vertical-align: inherit;"><i><font style="vertical-align: inherit;">ich </font></i><i><font style="vertical-align: inherit;">einen Lebenslauf</font></i></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
- </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Haben Sie Erfahrung in SQL? </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nein (Nein). </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schreiben Sie also: NoSQL-Experte.</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. Speichern Sie niemals den Vor- und Nachnamen in einem Feld</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ähnlich wie bei Adressen: Die Anzahl der Variationen von Vor- und Nachnamen ist zu groß, um klar zwischen ihnen zu unterscheiden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Natürlich können Sie den Namen vom Nachnamen trennen, wenn zwischen ihnen ein Leerzeichen steht. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zum Beispiel "Mike Alche" → der Name "Mike" und der Nachname "Alche". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was aber, wenn der Benutzer einen zweiten Vornamen eingegeben hat? Oder hat er einen doppelten Nachnamen? Aber was ist, wenn es einen zweiten Vornamen und einen doppelten Nachnamen gibt? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie kann man feststellen, wo der Name und wo der Nachname ist, um die Zeichenfolge zu teilen? Fehler sind unvermeidlich. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine Möglichkeit, viele Probleme zu vermeiden, besteht darin, separate Felder (in Formularen) für die Benutzernamen Vorname und Nachname zu erstellen. Auf diese Weise ermöglichen Sie Benutzern, ihre eigenen Namen zu teilen und Daten auf konsistente Weise zu speichern. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hinweis</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: Ich sage nicht, dass Leerzeichen in den Feldern der Datenbank verboten sind. </font><font style="vertical-align: inherit;">Bei Namen wie Juan Martin Del Potro befindet sich beispielsweise der erste Teil von Juan Martin im Feld Vorname und Del Potro im Feld Nachname. </font><font style="vertical-align: inherit;">Das ist natürlich </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nicht perfekt</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Optional können Sie die Spalten mid_name und second_last_name haben. </font><font style="vertical-align: inherit;">Weitere Informationen zu möglichen Variationen von Vor- und Nachnamen finden Sie in der Liste „ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Missverständnisse von Programmierern über Namen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> “ und im Artikel „ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Missverständnisse von Programmierern über Namen - mit Beispielen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> “. </font><font style="vertical-align: inherit;">Sie müssen sich auf einen Kompromiss zwischen Genauigkeit und Praktikabilität einigen.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. Legen Sie Konventionen für Tabellen- und Feldnamen fest und halten Sie sich an diese</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist ziemlich ärgerlich, mit Daten zu arbeiten, die wie user.firstName, user.lst_name, user.birthDate usw. aussehen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich würde Ihnen raten, Regeln für die Benennung von Unterstrichen festzulegen, da nicht alle SQL-Engines Großbuchstaben gleich behandeln und es sehr mühsam ist, alles in Anführungszeichen zu setzen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wählen Sie dasselbe wie das Aufrufen der Tabellen - im Plural oder Singular (z. B. Benutzer im Plural oder Benutzer im Singular). </font><font style="vertical-align: inherit;">Ich mag den Singular mehr, aber alle Backend-Frameworks scheinen standardmäßig plural zu sein. </font><font style="vertical-align: inherit;">Sie müssen dem Muster folgen und den Plural verwenden. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Was noch zu lesen</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Welche Datenbank für das Projekt ausgewählt werden soll, damit Sie nicht erneut auswählen müssen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">   IIoT-:  Mail.ru Cloud Solutions       </a>.</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">      </a>.</li>
</ol></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de501582/index.html">Wie dynamische Preise bei Amazon und AliExpress zu Waren im Wert von 24 Millionen US-Dollar führen</a></li>
<li><a href="../de501588/index.html">Hervorragende Tests von Prozessoren verschiedener Architekturen</a></li>
<li><a href="../de501590/index.html">Artikel in englischer Sprache: Gnadenloser Krieg der Regeln und Ausnahmen</a></li>
<li><a href="../de501594/index.html">Entkomme aus dem Zoo oder wie ich Casual Games unter iOS gemacht habe</a></li>
<li><a href="../de501596/index.html">Wie man das Leben mit Git einfacher macht (sowie eine Auswahl an Materialien zum tiefen Eintauchen)</a></li>
<li><a href="../de501600/index.html">Spielekonsole stm32</a></li>
<li><a href="../de501604/index.html">Übersetzung von Andrew Un's Buch Passion for Machine Learning. Kapitel 51 und 52</a></li>
<li><a href="../de501610/index.html">Benutzerdefinierte Bildlaufleiste in Angular</a></li>
<li><a href="../de501612/index.html">Welche Grafikkarte Sie 2020 für Ihren Computer auswählen sollten</a></li>
<li><a href="../de501614/index.html">PostgreSQL Antipatterns: Wie tief ist das Kaninchenloch? gehe durch die Hierarchie</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>