<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®‚Äç‚ù§Ô∏è‚Äçüë® üç≠ ü¶ó How to write safe Python code. Meals Kushal Das üë©‚Äçüé® üè£ ü§µ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Here is the original English version of this interview.
 
 This year, the company of speakers Moscow Python Conf ++ picked up what is needed (that is,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>How to write safe Python code. Meals Kushal Das</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/491904/"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Here is the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">original English version</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> of this interview.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
This year, the company of speakers Moscow Python Conf ++ picked up what is needed (that is, how, picked up - the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Program Committee picked up</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). But who is interested in studying achievements, it is much more interesting what the speaker thinks about issues that concern us. To find out, get insider information or the advice of a more experienced developer, and you need to communicate at conferences. But I took advantage of the situation and took a short interview from our speaker Kushal Das. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A distinctive feature of Kushal‚Äôs speeches is that he regularly publishes ‚Äúsecret‚Äù ways to break Python code and, in contrast, shows how to write code so that the NSA cannot crack it. At our conference I ate</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">will tell you</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> how to safely develop and deploy Python code, so I asked him about security.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xy/l2/fw/xyl2fwzzdez4flpgcwsx-mvrhpu.jpeg"><a name="habracut"></a><br>
<br>
<strong><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- I ate, please tell us a little about yourself and about your work with Python and the like. </font></font></em></strong><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kushal Das:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> I live in India, now I work as a public interest technologist at the American non-profit organization Freedom of the Press Foundation, where I help support the SecureDrop project. </font><font style="vertical-align: inherit;">SecureDrop is an open source information platform. </font><font style="vertical-align: inherit;">The main language here is Python. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In addition, I am involved in other open source projects, including the Python language itself. </font><font style="vertical-align: inherit;">I am one of the CPython Core developers and a member of the Python Software Foundation's Board of Directors.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I have been working with Python since 2005, and almost my entire career has been connected with this language, as well as with Linux. These are two main areas of my interests. I am also a member of the Tor Project Core Team. As many already know, Tor helps keep your privacy online. </font></font><br>
<br>
<strong><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Tor is a terrific project, it is used by developers around the world to get access to API and documentation blocked, for example, due to local laws. Your presentation will be built around security, so I have a few questions. </font></font></em></strong><br>
<br>
<strong><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">First of all, there is an opinion that for an ordinary developer without special training, security in itself is too complicated. It is believed that we, as an industry, should provide tools and an ecosystem so that the software we create is safe by default.</font></font></em></strong><br>
<br>
<strong><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">What do you think is still better: to educate security people or provide them with some tools?</font></font></em></strong><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> I ate Das:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> I think both of them. Indeed, security is a complex issue. However, if a novice programmer goes through basic training or works as a team, he learns to avoid most common problems.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Most often, real security errors, such as hacking, data leakage or data theft, arise due to incorrect configuration, lack of updates or incorrect, sometimes hooligan code.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I think that most of the basic mistakes can be avoided if we train both beginners and ‚Äúold-timers‚Äù of the industry. In addition, some things that are inaccessible to the human eye can be revealed with the help of new tools, new automation, new processes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A very simple example is the dependency checks that GitHub now has. If a Python application contains errors or uses some old version of an independent module, and there is a certain vulnerability described in CVE, GitHub can tell you as a developer: ‚ÄúHey! An update is required here! ‚Äù - and the bot will automatically try to do PR to update the module. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Thus, training and tools are best combined, but personally, I would still prefer as much training as possible. It is people who enter data and make mistakes. Technology cannot fix all such errors.</font></font><br>
<br>
<strong><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Yes, unfortunately, it is. Modern software development relies heavily on open repositories such as the Python Package Index, node.js, npm, etc. At the current level of development, this usually happens as </font></font></em></strong><strong><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pip install </font></font></em></strong><strong><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">or </font></font></em></strong><strong><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">poetry add. </font></font></em></strong><br>
<br>
<strong><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In your opinion, how high are the security risks for a regular Python backend developer in a medium-sized company if he uses only these tools? Are such risks acceptable, or should developers even consider trivial vulnerabilities?</font></font></em></strong><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Kushal Das:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> This is a really important question, because in all the repositories that we support, where you can download modules for different languages, we try to make this process simple and accessible for developers.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For Python, for example, there is a Python security mailing list that alerts you to problems with the latest loaded modules for Python. There are cases of the so-called typosquatting, when the name of the package is similar to a very well-known package, and the developers use the wrong one inadvertently. On the Python side, PyPI takes care of such things. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In addition, when installing any package using pip, you can really check it and make sure that this is what you need, as well as check the security of the download. For example, there is PEP 458, which advises you to protect downloads with PyPI packet signing.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Safety instrument development work is still ongoing. I would recommend that developers starting work with any new unsigned module find out who the author is, how many people are involved in development, where they are hosted, what large projects are used, what is in the source code, are there any complaints about problems or errors, etc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is only 15-30 minutes of searching, but they give a lot of advantages. If no person in the world, except the author, uses this package, perhaps you should not use it. If this particular module is used in other packages or software, then it will most likely be more secure for your code.</font></font><br>
<br>
<strong><em> ‚Äî ,    ,    -   ,    , ,     .</em></strong><br>
<br>
<strong><em>    ,   ,         node.js  npm,     </em></strong><strong><em>npm install something</em></strong><strong><em>.</em></strong><br>
<br>
<strong><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NPM checks data security and shows results. For example, it displays the message: ‚ÄúAmong the packages you just installed, there are two with a high security risk and ten with an average risk. You can execute the following commands to fix or update them, or refuse to install. " This is similar to built-in tools. What do you think of such solutions, and can you expect something similar for PyPI?</font></font></em></strong><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Eaten Das:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> I never used NPM, except maybe once or twice in my life when I needed to test something. Therefore, I can‚Äôt directly comment on how good this is, but it seems to be about giving the developer a more intuitive user interface.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In general, all this is part of the story about user interaction, when the task of developers and designers is to identify how best to present the data, given that it is actually viewed by the final developer, the third party who will install all these tools and modules. Because when there is too much information, we usually click or skip it without reading. The truth is somewhere in between. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As for the future plans of Python and pip development, I cannot comment on them; they are unknown to me. However, I think, or rather, hope that someone has already submitted a request for a similar function so that pip authors can take it into account in their plans. Now the support team is a little larger than it was before - about seven people with the right to accept commits.</font></font><br>
<br>
<strong><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Thank you, I hope that over time, people will think more about security and build more checks in our ecosystem. Let's talk a little about your upcoming </font></font></em></strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><strong><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">performance</font></font></em></strong></a><strong><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> at Moscow Python Conf ++. It is built around built-in dependency security and packaging. </font></font></em></strong><br>
<br>
<strong><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We will not spoil here, but from the point of view of a security expert, from your point of view, what else should developers take into account when checking application security? </font></font></em></strong><br>
<br>
<strong><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We have already discussed how to secure dependency handling and packages. What else needs to be checked by the ordinary developer? What should I look for?</font></font></em></strong><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> I ate Das:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> I think one of the main points should be</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> updates</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Make sure that at least you have order with this, and everything you depend on is updated, including the OS, whether it be Linux, Mac, Windows, or even iOS. Alternatively, make sure you at least model the processes to understand what else might go wrong. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The problem for beginners (and this has happened to me) in most cases is that we blindly trust user input. </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">You need to rely less on the fact that the input is indeed correct</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and that this will not cause any other problems. Everything needs to be double-checked. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In addition, </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if you opened something, make sure you do not forget to close it.</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Imagine an ordinary door: when we enter the office, we check whether we forgot to close the door behind us. Also in programming, when we open files, sockets, or something else, or access to something, you need to make sure after completion that everything is clean and closed. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
From a programming point of view, I think these are two main points that many people forget. </font></font><br>
<br>
<strong><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Yes, there are many things that people forget about, and now, I think, the last question. Based on your personal experience, what kind of security errors do Python mid-level backend developers most often make? User input? Addictions? Secure application packaging? What is more common?</font></font></em></strong><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Eaten Das: The</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> problems that I saw were mainly due to incorrect entry.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In 2011, I was developing a tool for the Fedora project and forgot to clean my temporary files. In this particular case, these were dumps, and their absence in the new environment caused unforeseen problems for the infrastructure - it fell due to my, to put it mildly, bad code. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is a continuation of the same topic, when you need to make sure that the code is ‚Äúcleaned up‚Äù if you create or open something. So it was a serious lesson for me. When you think, ‚ÄúYeah, I did it! Everything works on my laptop! ‚Äù, It‚Äôs not a fact that it will work in a real release or production. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For some reason, we often think that the environment will be identical to our local one, but it never happens. Even large companies are often difficult to determine the real environment on the client side. It‚Äôs important to just keep that in mind. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And further -</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">make more comments on your code</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , write documentation. </font><font style="vertical-align: inherit;">This tip is not only for beginners, but also for experienced developers. </font><font style="vertical-align: inherit;">If you have not looked into the code for several months or several years, then it can be very difficult to understand why you once wrote something. </font></font><br>
<br>
<strong><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kushal Das will perform at </font></font></em></strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><strong><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Moscow Python Conf ++</font></font></em></strong></a><strong><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">We were forced to postpone a large offline conference for the fall, but on March 27 we held a mini-online conference, the materials of which we will soon share, stay in touch.</font></font></em></strong></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en491888/index.html">GitLab CI: 6 features from the latest releases that we have been waiting for</a></li>
<li><a href="../en491890/index.html">Drive Anatomy: SSD</a></li>
<li><a href="../en491896/index.html">How we at Cyan improve a product through user experience research</a></li>
<li><a href="../en491900/index.html">Flexibility and automation in machine learning</a></li>
<li><a href="../en491902/index.html">Writing a simple WYSIWYG editor with ProseMirror</a></li>
<li><a href="../en491916/index.html">Creating virtual environments and installing libraries for Python 3 in the PyCharm IDE</a></li>
<li><a href="../en491924/index.html">PVS-Studio analyzer beta test # on Linux and macOS</a></li>
<li><a href="../en491926/index.html">Cross-platform mobile application development in 2020</a></li>
<li><a href="../en491934/index.html">Psychological profiles of stock investors: how it works</a></li>
<li><a href="../en491936/index.html">About how bacteria feed on iron and remove high-quality pigments from man-made dumps</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>