<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📀 🐒 🏍️ CloudFlare-互联网癌症 👂🏿 👨🏾‍🎓 ❗️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="免责声明： 我本人经常使用CloudFlare，我认为他们做得很好，可以帮助开发Internet，免费提供出色的产品，并且总体上是出色的。本文描述了分散化Internet集中化时的全球化问题和新威胁。
 
 当CloudFlare首次出现时，这是Web托管领域的一次真正的革命：只需单击两下，而无需移...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>CloudFlare-互联网癌症</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/493852/"><img src="https://habrastorage.org/webt/4e/tj/ed/4etjed_wbzdwjg3u90w4lhu_irg.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">免责声明：</font></font></b> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我本人经常使用CloudFlare，我认为他们做得很好，可以帮助开发Internet，免费提供出色的产品，并且总体上是出色的。本文描述了分散化Internet集中化时的全球化问题和新威胁。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
当CloudFlare首次出现时，这是Web托管领域的一次真正的革命：只需单击两下，而无需移动到另一台服务器，您就可以将专业CDN连接到您的网站，从而节省了大量流量，加速了静态文件的加载并防止了DDoS。以前，只有公司才能负担得起很多钱，但现在它已对所有人开放，而且免费！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
从那时起，CloudFlare呈指数增长，如今通过其基础架构代理了Internet的三分之一。</font><font style="vertical-align: inherit;">因此，出现了以前不存在的问题。</font><font style="vertical-align: inherit;">在文章中，我们将研究CloudFlare如何威胁互联网的正常运行，如何阻止普通人使用站点，无法访问加密流量以及如何处理。</font></font><br>
<a name="habracut"></a><br>
<h2><font color="“#3AC1EF”"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何打破三分之一的互联网</font></font></font></h2><br>
<div style="text-align:center;"><img width="500" src="https://habrastorage.org/webt/2y/cz/iu/2ycziuj0ewhyqjfnyxav6mgr_o8.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
由于</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CloudFlare</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">错误，2019年7月2日</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">完全中断</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">结果，以某种方式使用其网络的所有服务都不可用。</font><font style="vertical-align: inherit;">其中最著名的是：Discord，Reddit，Twitch。</font><font style="vertical-align: inherit;">这不仅影响了网站，还影响了游戏，移动应用程序，终端等。</font><font style="vertical-align: inherit;">同时，由于第三方API变得不可用，即使是那些不直接使用CloudFlare的服务也遇到了问题。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在大多数情况下，要使用CloudFlare，客户端会将其域定向到其DNS服务器。事故发生时，控制面板和API也变得不可用，因为客户无法重定向其域以绕过CloudFlare网络，从而被困住了：不可能迅速禁用代理并返回其基础架构。唯一的出路是将域委派给他们自己的DNS服务器，但是这种更新可能需要一天以上的时间，并且大多数客户端尚未为此做好准备，并且在这种情况下没有备用的主DNS服务器。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
尽管停机时间很小，只有几个小时，但这严重影响了整个行业。</font><font style="vertical-align: inherit;">由于非工作付款服务，公司遭受了直接损失。</font><font style="vertical-align: inherit;">此事件揭示了一个以前仅在理论上进行过讨论的明显问题：如果Internet如此依赖一个服务提供商，则在某些时候一切都可能中断。</font></font><br>
<blockquote><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果一家公司控制着互联网的很大一部分，那么它将从技术和经济两方面威胁网络的稳定性。</font></font></h3></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
互联网本身的概念涉及权力下放和对此类错误的抵制。</font><font style="vertical-align: inherit;">即使一部分网络断开，路由系统也会自动重建。</font><font style="vertical-align: inherit;">但是，当一家公司管理如此大的流量时，网络很容易受到错误，破坏，黑客以及不诚实的牟利行为的攻击。</font><font style="vertical-align: inherit;">这个想法对于理解其余问题很重要，我们将在后面讨论。</font></font><br>
<br>
<h2><font color="“#3AC1EF”"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">你看起来可疑</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果用于检测恶意CloudFlare流量的专有算法认为您是不值得的Internet用户，那么网上冲浪将变成一种煎熬：在每五个站点上，您都会看到遭受侮辱性验证码的要求。 </font></font><br>
<br>
<div style="text-align:center;"><img width="500" src="https://habrastorage.org/webt/98/ck/1f/98ck1fcu-tlbppn3tzybneukauo.png"></div><br>
<font color="999999"><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CloudFlare CAPTCHA可以在整个Internet上困扰您</font></font></sup></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
，这些专线的作者从办公室IP地址转到Internet，后面坐着其他数百名员工。</font><font style="vertical-align: inherit;">显然，CloudFlare决定让我们所有人看起来都像机器人，并开始向所有人展示非常邪恶的验证码。</font><font style="vertical-align: inherit;">有时当某些移动应用程序无法登录时，这很荒谬。</font><font style="vertical-align: inherit;">因此，为了正常浏览Internet，必须连接VPN。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
事实证明，如果CloudFlare不能取悦您，或者由于错误的检测，您可以随时将您个人与Internet的很大一部分断开连接，或者将正常使用服务变成一种折磨。</font></font><br>
<br>
<h2><font color="“#3AC1EF”"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们可以通过HTTPS看到</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
为了正确地缓存和过滤内容，CloudFlare服务器必须能够查看解密的HTTP流量。为此，他们</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">始终</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以MiTM（中间人）模式工作，用SSL证书代替最终站点访问者。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HTTPS设置说明中的图片可能会误导您，就像在完全模式下一样，在整个流量中都使用了加密。实际上，CloudFlare服务器会解密来自服务器的流量，并使用其针对站点访问者的证书再次对其进行加密。</font></font><br>
<br>
<div style="text-align:center;"><img width="600" src="https://habrastorage.org/webt/dt/fz/hb/dtfzhbk1u08rhih-8idholivpug.png"></div><br>
<font color="999999"><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在任何操作模式下，CloudFlare都会解密SSL流量，</font></font></sup></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
即使您身边拥有有效的SSL证书，CloudFlare仍然可以访问所有传输的数据。这使SSL的整个概念变得模糊，它涉及从客户端到目标服务器的加密，而不会一直解密。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
万一CloudFlare服务器出现错误或被黑客入侵，攻击者将可以使用所有机密信息流。只需记住</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个内存泄漏漏洞即可，该漏洞</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">导致CloudFlare服务器将随机内存内容直接吐出到页面内容中。这可能包括Cookie，帐户，信用卡号等。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
您还需要记住，即使原始服务器位于另一个司法管辖区，Cloudflare Inc所在司法管辖区所在国家的特殊服务也可能会请求访问解密的流量。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这将SSL的基本思想变成了小说。</font></font></b><br>
<br>
<h2><font color="“#3AC1EF”"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不仅是基础架构，而且还有审查制度</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初，Cloudflare表示它将仅为客户提供基础架构，并且不打算审查内容资源，并承诺仅限于政府机构的合法要求。著名的LulzSec小组的站点也是如此，该站点负责协调黑客和DDoS攻击。在这个场合，Cloudflare </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发表了一份声明</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
然而，过了一会儿，Cloudflare决定基于其道德观念拒绝为8chan网站提供服务。而且，没有法院的判决或其他正式原因，他们只是这么认为。这引起了有关提供商是否可以自己决定哪些服务值得在其基础架构上进行服务以及哪些服务不值得进行公开讨论的问题。 《纽约时报》上有关该主题的反思文章：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为什么禁止8chan对Cloudflare如此困难：“没有人应该拥有那种力量”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h2><font color="“#3AC1EF”"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结论</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
尽管Cloudflare是一项非常有用的服务，并有助于显着加速内容的交付以及互联网的发展，但其危险的增长和即将到来的垄断威胁着整个互联网的稳定性。</font><font style="vertical-align: inherit;">让我们尝试以简单的方式总结以上所有内容：</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您不能将所有鸡蛋都放在一个篮子里。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是完全不安全的，在这种情况下错误的代价太高了。</font><font style="vertical-align: inherit;">如果一家公司拥有世界上所有的秘密，那么它总是可以被黑客入侵，犯错或者只是不诚实地采取行动将竞争对手赶出市场。</font></font></li>
<li><b>      —  .</b>        ,       ,      ,    . </li>
<li><b>SSL       . </b>    ,    Cloudflare,      — CloudFlare.         .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这篇文章并不敦促放弃Cloudflare，而仅描述未来威胁该公司如此快速发展和影响的因素。</font><font style="vertical-align: inherit;">考虑一下您是否真的需要使用Cloudflare来完成任务，如果没有它就不可能，请在紧急情况下考虑使用PlanB。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
对于那些正在寻找可靠服务器的人，我们发起了一项行动：免费提供ISPmanager三个月。</font><font style="vertical-align: inherit;">并为哈伯（Habré）读者提供传统的10％折扣：</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN493840/index.html">评论：Asana，Jira，Bitrix-24，Trello，YouGile。你喜欢什么，什么惹恼了？</a></li>
<li><a href="../zh-CN493842/index.html">使用Check Point解决方案+免费许可证进行安全的远程访问</a></li>
<li><a href="../zh-CN493844/index.html">预订“数据库。可靠性工程</a></li>
<li><a href="../zh-CN493848/index.html">我想创建一个博客，但是我没有自己的团队。如何选择文案承包商？</a></li>
<li><a href="../zh-CN493850/index.html">住在同一城市的哪个开发商能赚更多的钱：远程工作还是在办公室工作？</a></li>
<li><a href="../zh-CN493856/index.html">Linux Strace：历史，设计和使用</a></li>
<li><a href="../zh-CN493858/index.html">关于IT服务管理的10本书</a></li>
<li><a href="../zh-CN493862/index.html">更新的模型索伯阿尔法罗密欧F1配备了在3D打印机上打印的143个零件</a></li>
<li><a href="../zh-CN493864/index.html">红杉资本就冠状病毒致初创企业的信</a></li>
<li><a href="../zh-CN493866/index.html">从头开始构建git的流程</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>