<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üé• üòø üêô Creating a custom item using an example table in C # for Windows Form üë©üèø‚Äçüè≠ ‚òïÔ∏è üë¶üèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day! 
 
 In this article, I will describe the creation of my elements for C # Windows Form. 
 
 For an example I will create the table with all D...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Creating a custom item using an example table in C # for Windows Form</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/487616/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Good day! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In this article, I will describe the creation of my elements for C # Windows Form. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For an example I will create the table with all DataGridView functionality. We will move on to our elements later. We will create the first element into several lessons. In this lesson we will draw from the table drawing, and also: creation of columns, rows, cells. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For writing we will use .Net FrameWork 4.7.x, the Visual Studio 2019 development environment. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
First of all, we will create a regular Windows Form project. I think no need to show it. And only then we create the project ‚ÄúLibrary of Windows Form Controls‚Äù (Let's call it CustomControl). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Next, we will create a UserControl.cs file. We delete it and create the usual class TableCustoms.cs. Our class will inherit from the Control class.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Further in the same file we will create some more classes, namely: Column, Row, Cell. </font><font style="vertical-align: inherit;">Let's consider each separately. </font><font style="vertical-align: inherit;">Let's start with Column:</font></font><br>
<br>
<pre><code class="cs hljs">    [<span class="hljs-meta">Serializable</span>]
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Column</span><font></font>
    {<font></font>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> Name { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; } = <span class="hljs-string">"NameColumn"</span>;<span class="hljs-comment">//  </span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> Caption { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; } = <span class="hljs-string">"CaptionColumn"</span>;<span class="hljs-comment">// </span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> Width { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; } = <span class="hljs-number">100</span>;<span class="hljs-comment">// </span>
        <span class="hljs-keyword">public</span> Color Back { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; } = Color.White;<span class="hljs-comment">// </span><font></font>
        <font></font>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Column</span>(<span class="hljs-params"></span>)</span><font></font>
        { <font></font>
        <font></font>
        }<font></font>
    }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Row Class:</font></font><br>
<br>
<pre><code class="cs hljs">    [<span class="hljs-meta">Serializable</span>]
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Row</span><font></font>
    {<font></font>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> Heigth { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; } = <span class="hljs-number">20</span>;<span class="hljs-comment">//  </span>
        <span class="hljs-keyword">public</span> List&lt;Cell&gt; Cells { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; } = <span class="hljs-keyword">new</span> List&lt;Cell&gt;();<span class="hljs-comment">// </span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Row</span>(<span class="hljs-params"></span>)</span><font></font>
        {<font></font>
 <font></font>
        }<font></font>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Row</span>(<span class="hljs-params">List&lt;Cell&gt; cells</span>)</span><font></font>
        {<font></font>
            Cells = cells;<font></font>
        }<font></font>
<font></font>
    }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Cell class (To support copying, add the ICloneable interface):</font></font><br>
<br>
<pre><code class="cs hljs">    [<span class="hljs-meta">Serializable</span>]
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Cell</span> : <span class="hljs-title">ICloneable</span><font></font>
    {<font></font>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">object</span> Value { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; } = <span class="hljs-literal">null</span>;<span class="hljs-comment">//  </span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Cell</span>(<span class="hljs-params"></span>)</span><font></font>
        {<font></font>
        }<font></font>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">object</span> <span class="hljs-title">Clone</span>(<span class="hljs-params"></span>)</span><font></font>
        {<font></font>
            <span class="hljs-keyword">return</span> MemberwiseClone();<font></font>
        }<font></font>
    }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Now set up our main TableCustoms class:</font></font><br>
<br>
<pre><code class="cs hljs">   <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">TableCustoms</span> : <span class="hljs-title">Control</span><font></font>
    {<font></font>
        <span class="hljs-meta">#<span class="hljs-meta-keyword">region</span> </span>
        <span class="hljs-keyword">public</span> ObservableCollection&lt;Column&gt; Columns { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; } = <span class="hljs-keyword">new</span> ObservableCollection&lt;Column&gt;();<span class="hljs-comment">//  </span>
        <span class="hljs-keyword">private</span> ObservableCollection&lt;Row&gt; rows = <span class="hljs-keyword">new</span> ObservableCollection&lt;Row&gt;();<span class="hljs-comment">// </span>
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> countRow = <span class="hljs-number">0</span>;<span class="hljs-comment">// </span>
        <span class="hljs-meta">#<span class="hljs-meta-keyword">endregion</span></span>
        <span class="hljs-meta">#<span class="hljs-meta-keyword">region</span> </span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> CountRow <span class="hljs-comment">//        N </span><font></font>
        {<font></font>
            <span class="hljs-keyword">get</span> { <span class="hljs-keyword">return</span> countRow; }
            <span class="hljs-keyword">set</span><font></font>
            {<font></font>
                <span class="hljs-comment">//   </span>
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">value</span> &gt; countRow)<font></font>
                {<font></font>
                    <span class="hljs-keyword">int</span> iteration = <span class="hljs-keyword">value</span> - countRow;
                    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; iteration; i++)<font></font>
                    {<font></font>
                        rows.Add(<span class="hljs-keyword">new</span> Row());<font></font>
                    }<font></font>
                }<font></font>
                <span class="hljs-comment">//    </span>
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">value</span> &lt; countRow)<font></font>
                {<font></font>
                    <span class="hljs-keyword">int</span> iteration = countRow - <span class="hljs-keyword">value</span>;
                    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; iteration; i++)<font></font>
                    {<font></font>
                        rows.Remove(rows[rows.Count - <span class="hljs-number">1</span>]);<font></font>
                    }<font></font>
                }<font></font>
<font></font>
                countRow = <span class="hljs-keyword">value</span>;<font></font>
            }<font></font>
        }<font></font>
        <span class="hljs-comment">//     ,   </span>
        <span class="hljs-keyword">public</span> ObservableCollection&lt;Row&gt; Rows<font></font>
        {<font></font>
            <span class="hljs-keyword">get</span> { <span class="hljs-keyword">return</span> rows; }
            <span class="hljs-keyword">set</span> { }<font></font>
        }<font></font>
<font></font>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> ColumnHeaderHeigth { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; } = <span class="hljs-number">20</span>;<span class="hljs-comment">//  </span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> RowHeaderWidth { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; } = <span class="hljs-number">20</span>;<span class="hljs-comment">//  </span>
        <span class="hljs-keyword">public</span> Color ColumnHeaderBack { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; } = SystemColors.Control;<span class="hljs-comment">//    </span>
        <span class="hljs-keyword">public</span> Color BorderColor { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; } = Color.Black;<span class="hljs-comment">//   </span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">bool</span> NumerableRows { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; } = <span class="hljs-literal">false</span>;<span class="hljs-comment">//  </span>
        <span class="hljs-meta">#<span class="hljs-meta-keyword">endregion</span></span>
        <span class="hljs-comment">//  ,     </span>
        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">EditColumn</span>(<span class="hljs-params"></span>)</span><font></font>
        {<font></font>
<font></font>
        }<font></font>
        <span class="hljs-comment">//  </span>
        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">EditRows</span>(<span class="hljs-params"></span>)</span><font></font>
        {<font></font>
            <span class="hljs-keyword">if</span> (countRow &lt; rows.Count)<span class="hljs-comment">//  </span><font></font>
            {<font></font>
                rows[rows.Count - <span class="hljs-number">1</span>].Cells = CreatCells(Columns.Count);<span class="hljs-comment">//    </span><font></font>
                countRow++;<font></font>
            }<font></font>
            <span class="hljs-keyword">if</span> (CountRow &gt; rows.Count)<span class="hljs-comment">//  </span><font></font>
            {<font></font>
                countRow--;<font></font>
            }<font></font>
<font></font>
        }<font></font>
        <span class="hljs-comment">//  N  </span>
        <span class="hljs-function"><span class="hljs-keyword">private</span> List&lt;Cell&gt; <span class="hljs-title">CreatCells</span>(<span class="hljs-params"><span class="hljs-keyword">int</span> Count</span>)</span><font></font>
        {<font></font>
            <span class="hljs-comment">// return Enumerable.Repeat(new Cell(), Count).ToList();</span>
            List&lt;Cell&gt; result = <span class="hljs-keyword">new</span> List&lt;Cell&gt;();
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; Count; i++)<font></font>
            {<font></font>
                result.Add(<span class="hljs-keyword">new</span> Cell());<font></font>
            }<font></font>
            <span class="hljs-keyword">return</span> result;<font></font>
        }<font></font>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">TableCustoms</span>(<span class="hljs-params"></span>)</span><font></font>
        {<font></font>
            rows.CollectionChanged += (e, v) =&gt; EditRows();<span class="hljs-comment">//  </span>
            Columns.CollectionChanged += (e, v) =&gt; EditColumn();<span class="hljs-comment">//  </span>
            BackColor = SystemColors.AppWorkspace;<span class="hljs-comment">// </span>
            PanelTable panelTable = <span class="hljs-keyword">new</span> PanelTable(<span class="hljs-keyword">this</span>);<span class="hljs-comment">//  </span>
            panelTable.Dock = DockStyle.Fill;<span class="hljs-comment">//    Control</span>
            Controls.Add(panelTable);<span class="hljs-comment">//   Control</span><font></font>
        }<font></font>
    }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 In order for us to have scrollbars we need to use ScrollableControl, therefore we will create the PanelTable class, inherit ScrollableControl and place it on Control (in the next lesson I will explain why we create two different controls, and do not use ScrollableControl right away):</font></font><br>
<br>
<pre><code class="cs hljs"> <span class="hljs-keyword">internal</span> <span class="hljs-keyword">class</span> <span class="hljs-title">PanelTable</span> : <span class="hljs-title">ScrollableControl</span><span class="hljs-comment">//Control  ScrolLbar</span><font></font>
        {<font></font>
            <span class="hljs-keyword">private</span> TableCustoms BParent;<span class="hljs-comment">//  ,    </span>
            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">PanelTable</span>(<span class="hljs-params">TableCustoms bParent</span>)</span><font></font>
            {<font></font>
                HScroll = <span class="hljs-literal">true</span>;<span class="hljs-comment">//   </span>
                VScroll = <span class="hljs-literal">true</span>;<span class="hljs-comment">//   </span>
                AutoScroll = <span class="hljs-literal">true</span>;<span class="hljs-comment">//   </span><font></font>
                BParent = bParent;<font></font>
            }<font></font>
            <span class="hljs-comment">// </span>
            <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnPaint</span>(<span class="hljs-params">PaintEventArgs e</span>)</span><font></font>
            {<font></font>
                Matrix m = <span class="hljs-keyword">new</span> Matrix();<font></font>
                m.Translate(<span class="hljs-keyword">this</span>.AutoScrollPosition.X, <span class="hljs-keyword">this</span>.AutoScrollPosition.Y, MatrixOrder.Append);<font></font>
                e.Graphics.Transform = m;<font></font>
                Graphics graf = e.Graphics;<font></font>
                <span class="hljs-keyword">int</span> maxWidth = <span class="hljs-number">0</span>;<span class="hljs-comment">// AutoScrollMinSize</span>
                <span class="hljs-keyword">int</span> maxHeight = <span class="hljs-number">0</span>;<span class="hljs-comment">// AutoScrollMinSize</span>
                                  <span class="hljs-comment">// </span>
                <span class="hljs-keyword">foreach</span> (Column item <span class="hljs-keyword">in</span> BParent.Columns)<font></font>
                {<font></font>
                    maxWidth += item.Width;<font></font>
                }<font></font>
                <span class="hljs-comment">// </span>
                <span class="hljs-keyword">foreach</span> (Row item <span class="hljs-keyword">in</span> BParent.Rows)<font></font>
                {<font></font>
                    maxHeight += item.Heigth;<font></font>
                }<font></font>
                AutoScrollMinSize = <span class="hljs-keyword">new</span> Size(maxWidth + <span class="hljs-number">100</span>, maxHeight + <span class="hljs-number">100</span>);<span class="hljs-comment">// AutoScrollMinSize      </span><font></font>
                graf.Clear(BParent.BackColor);<font></font>
                DrawHeaderColumns(graf);<span class="hljs-comment">//   </span>
                DrawHeaderRows(graf);<span class="hljs-comment">//   </span>
                DrawCells(graf);<span class="hljs-comment">// </span>
                <span class="hljs-keyword">base</span>.OnPaint(e);<font></font>
            }<font></font>
            <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
            <span class="hljs-comment"><span class="hljs-doctag">///</span>   </span>
            <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
            <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;param name="graf"&gt;</span><span class="hljs-doctag">&lt;/param&gt;</span></span>
            <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">DrawHeaderColumns</span>(<span class="hljs-params">Graphics graf</span>)</span><font></font>
            {<font></font>
                <span class="hljs-keyword">int</span> x = <span class="hljs-number">2</span>;<font></font>
                Rectangle rect;<font></font>
                rect = <span class="hljs-keyword">new</span> Rectangle(x, <span class="hljs-number">1</span>, BParent.RowHeaderWidth, BParent.ColumnHeaderHeigth);<font></font>
                graf.DrawRectangle(<span class="hljs-keyword">new</span> Pen(BParent.BorderColor), rect);<font></font>
                graf.FillRectangle(<span class="hljs-keyword">new</span> SolidBrush(BParent.ColumnHeaderBack), rect);<font></font>
                x += BParent.RowHeaderWidth + <span class="hljs-number">1</span>;
                <span class="hljs-keyword">foreach</span> (Column item <span class="hljs-keyword">in</span> BParent.Columns)<font></font>
                {<font></font>
                    rect = <span class="hljs-keyword">new</span> Rectangle(x, <span class="hljs-number">1</span>, item.Width, BParent.ColumnHeaderHeigth);<font></font>
                    graf.DrawRectangle(<span class="hljs-keyword">new</span> Pen(BParent.BorderColor), rect);<font></font>
                    graf.FillRectangle(<span class="hljs-keyword">new</span> SolidBrush(BParent.ColumnHeaderBack), rect);
                    <span class="hljs-keyword">if</span> (item.Caption.Length != <span class="hljs-number">0</span>)<font></font>
                    {<font></font>
                        StringFormat sf = <span class="hljs-keyword">new</span> StringFormat();<font></font>
                        sf.Alignment = StringAlignment.Center;<font></font>
                        sf.LineAlignment = StringAlignment.Center;<font></font>
                        graf.DrawString(item.Caption, <span class="hljs-keyword">new</span> Font(<span class="hljs-string">"Times"</span>, <span class="hljs-number">9</span>), Brushes.Black, rect, sf);<font></font>
                    }<font></font>
                    x += item.Width + <span class="hljs-number">1</span>;<font></font>
                }<font></font>
            }<font></font>
            <span class="hljs-comment">//  </span>
            <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">DrawHeaderRows</span>(<span class="hljs-params">Graphics graf</span>)</span><font></font>
            {<font></font>
                <span class="hljs-keyword">int</span> y = <span class="hljs-number">1</span>;
                <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;<font></font>
                Rectangle rect;<font></font>
                y += BParent.RowHeaderWidth + <span class="hljs-number">1</span>;
                <span class="hljs-keyword">foreach</span> (Row item <span class="hljs-keyword">in</span> BParent.Rows)<font></font>
                {<font></font>
                    rect = <span class="hljs-keyword">new</span> Rectangle(<span class="hljs-number">2</span>, y, BParent.RowHeaderWidth, item.Heigth);<font></font>
                    graf.DrawRectangle(<span class="hljs-keyword">new</span> Pen(BParent.BorderColor), rect);<font></font>
                    graf.FillRectangle(<span class="hljs-keyword">new</span> SolidBrush(BParent.ColumnHeaderBack), rect);
                    <span class="hljs-keyword">if</span> (BParent.NumerableRows)<font></font>
                    {<font></font>
                        StringFormat sf = <span class="hljs-keyword">new</span> StringFormat();<font></font>
                        sf.Alignment = StringAlignment.Center;<font></font>
                        sf.LineAlignment = StringAlignment.Center;<font></font>
                        graf.DrawString(i.ToString(), <span class="hljs-keyword">new</span> Font(<span class="hljs-string">"Times"</span>, <span class="hljs-number">9</span>), Brushes.Black, rect, sf);<font></font>
                    }<font></font>
                    i++;<font></font>
                    y += item.Heigth + <span class="hljs-number">1</span>;<font></font>
                }<font></font>
            }<font></font>
            <span class="hljs-comment">// </span>
            <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">DrawCells</span>(<span class="hljs-params">Graphics graf</span>)</span><font></font>
            {<font></font>
<font></font>
                <span class="hljs-keyword">int</span> x = <span class="hljs-number">2</span> + BParent.RowHeaderWidth + <span class="hljs-number">1</span>;
                <span class="hljs-keyword">int</span> y = <span class="hljs-number">2</span> + BParent.ColumnHeaderHeigth;<font></font>
                Rectangle rect;<font></font>
                <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;
                <span class="hljs-keyword">foreach</span> (Row itemRow <span class="hljs-keyword">in</span> BParent.Rows)<font></font>
                {<font></font>
                    <span class="hljs-keyword">foreach</span> (Column itemColumn <span class="hljs-keyword">in</span> BParent.Columns)<font></font>
                    {<font></font>
                        rect = <span class="hljs-keyword">new</span> Rectangle(x, y, itemColumn.Width, itemRow.Heigth);<font></font>
                        graf.DrawRectangle(<span class="hljs-keyword">new</span> Pen(BParent.BorderColor), rect);<font></font>
                        graf.FillRectangle(<span class="hljs-keyword">new</span> SolidBrush(Color.White), rect);
                        <span class="hljs-keyword">if</span> (itemRow.Cells[i].Value != <span class="hljs-literal">null</span>)<font></font>
                        {<font></font>
                            StringFormat sf = <span class="hljs-keyword">new</span> StringFormat();<font></font>
                            sf.Alignment = StringAlignment.Center;<font></font>
                            sf.LineAlignment = StringAlignment.Center;<font></font>
                            graf.DrawString(itemRow.Cells[i].Value.ToString(), <span class="hljs-keyword">new</span> Font(<span class="hljs-string">"Times"</span>, <span class="hljs-number">9</span>), Brushes.Black, rect, sf);<font></font>
                        }<font></font>
                        x += itemColumn.Width + <span class="hljs-number">1</span>;<font></font>
                        i++;<font></font>
                    }<font></font>
                    i = <span class="hljs-number">0</span>;<font></font>
                    y += itemRow.Heigth + <span class="hljs-number">1</span>;<font></font>
                    x = <span class="hljs-number">2</span> + BParent.RowHeaderWidth + <span class="hljs-number">1</span>;<font></font>
                }<font></font>
            }<font></font>
        }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 After that, ‚ÄúReassemble the project‚Äù of the element and add the element to the form (in the main project): </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/405/dd8/d57/405dd8d57b377ddc2b78539d5e35fcf2.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now let's check some methods of our element:</font></font><br>
<br>
<pre><code class="cs hljs">  <span class="hljs-keyword">public</span> <span class="hljs-keyword">partial</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Form1</span> : <span class="hljs-title">Form</span><font></font>
    {<font></font>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Form1</span>(<span class="hljs-params"></span>)</span><font></font>
        {<font></font>
            InitializeComponent();<font></font>
             tableCustoms1.Rows.Add(<span class="hljs-keyword">new</span> Row());<span class="hljs-comment">// </span>
             tableCustoms1.Rows.Add(<span class="hljs-keyword">new</span> Row());<font></font>
             tableCustoms1.Rows[<span class="hljs-number">0</span>].Cells[<span class="hljs-number">0</span>].Value = <span class="hljs-string">"1"</span>;<span class="hljs-comment">//  </span>
             tableCustoms1.Rows[<span class="hljs-number">1</span>].Cells[<span class="hljs-number">1</span>].Value = <span class="hljs-string">"2"</span>;<font></font>
            tableCustoms1.CountRow++;<span class="hljs-comment">//  </span>
            tableCustoms1.Rows[<span class="hljs-number">0</span>].Cells[<span class="hljs-number">0</span>].Value = <span class="hljs-string">""</span>;<font></font>
        }<font></font>
    }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 We launch our project:</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/d7d/fa6/2a8/d7dfa62a8a6f1bb65ee1f6a5101782b1.png" alt="image"></div>
      
    </div><p class="reference-to-source js-reference-to-source">Source: https://habr.com/ru/post/undefined/</p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en487596/index.html">Eugene Varavva, a developer at Google. How to describe Google in 5 words</a></li>
<li><a href="../en487604/index.html">Embed programmer‚Äôs brief notes: section duplication in the microcontroller‚Äôs memory</a></li>
<li><a href="../en487606/index.html">Visualization of lines of tension and movements of electrostatic charges, simulation of planetary motion of the solar system</a></li>
<li><a href="../en487610/index.html">RealWorld: aiohttp, Tortoise ORM</a></li>
<li><a href="../en487612/index.html">Easily add, delete and rename files and goals in CMake projects</a></li>
<li><a href="../en487620/index.html">Problem solving with pwnable.kr 27 - tiny_easy. Understanding Stack Spraying</a></li>
<li><a href="../en487622/index.html">–ê–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω—ã —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö</a></li>
<li><a href="../en487626/index.html">How parking sensors work and how to trick him</a></li>
<li><a href="../en487628/index.html">Diagnosis of aging based on 9 hallmarks of aging signs</a></li>
<li><a href="../en487630/index.html">The Simplest Algorithm for Creating a Field Puzzle (Part 1)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>