<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐐 ✌🏽 ☹️ 大規模なプロセスをIBM BPMからCamundaに移行し、機能開発を停止しない方法 🐉 🙏🏾 ❌</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="こんにちは、私の名前はデニスです。私はTinkoffで働いており、BPMシステムを担当しています。この記事では、大規模なプロセスの例を使用して、IBM BPMのレガシーシステムからオープンソースのCamundaプロセスエンジンに移行する方法を説明します。最後に、2月27日にティンコフでモスクワ（メト...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>大規模なプロセスをIBM BPMからCamundaに移行し、機能開発を停止しない方法</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/tinkoff/blog/488692/"><img src="https://habrastorage.org/getpro/habr/post_images/862/841/fa0/862841fa0f6cc3595ca621b319e56595.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
こんにちは、私の名前はデニスです。私はTinkoffで働いており、BPMシステムを担当しています。</font><font style="vertical-align: inherit;">この記事では、大規模なプロセスの例を使用して、IBM BPMのレガシーシステムからオープンソースのCamundaプロセスエンジンに移行する方法を説明します。</font><font style="vertical-align: inherit;">最後に</font><font style="vertical-align: inherit;">、2月27日にティンコフでモスクワ（メトロヴォドニースタディオン）で開催される</font><font style="vertical-align: inherit;">第4 </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">カムンダ</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">会議</font></a><font style="vertical-align: inherit;">に</font><font style="vertical-align: inherit;">招待します</font><font style="vertical-align: inherit;">。</font></font><br>
<a name="habracut"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">それらをプログラムする方法としてのBPMSシステムとBPMN</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プログラミングを通じてプログラミングできるという考えは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">よく売れて</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">おり、市場は年々成長しています。</font><font style="vertical-align: inherit;">一部の企業は本当に</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">素晴らしい結果を得ています。</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
優れたプロジェクトを作成して販売を成功させるには、BPMSシステムは、BPMNファイルを「食べる」ことに加えて、次のことができる必要があります。</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロセスの特定の実行者を識別する</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユーザー、実装者、管理者にインターフェースを提供する</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外部サービスの呼び出し、イベントの送信とリッスンなど。</font><font style="vertical-align: inherit;">一般的に、コードに「フォールスルー」できる</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データのモデリングとストレージを提供する</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ビジネスルールに従う</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作成されたすべてのものをテストする</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちはTinkoffでIBM BPM BPMSを使用しました。これは、これらの機能の複雑さと許容範囲をカバーしているため、開発に役立ちました。</font><font style="vertical-align: inherit;">しかし、それを拒否することにしました。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IBM BPMを放棄する理由</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BPMSシステムの優れた機能から、私たちが使用しているのは次のことに気付きました。</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bpmnファイルの解釈</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コードに陥る</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
他のものは他のシステムに転送されました、例えば：</font></font><br>
<ul>
<li>       ,     — , ,        .         ,     BPMS.          ,    —    CRM Siebel.</li>
<li>     Siebel   CRM-.  Siebel      ,     —       -     UI.</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データストレージのどこかがSiebelに移動されました-多くのコンシューマがデータのCRUD操作を必要とする状況で、どこかに-別のアプリケーションで。</font><font style="vertical-align: inherit;">IBM BPMを使用すると、リレーショナルスタイルでデータをシミュレートでき、モデルのプレートを作成します。</font><font style="vertical-align: inherit;">ただし、すべてのプロセスのすべてを1つのデータベースに保存するため、追加の接続が確立され、データベースに負荷がかかります。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ビジネスルールについては、従来はIBM ODMを使用しており、現在はKotlinフレームワークの使用を開始しています。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通常、開発スタイルでは、IBM BPMでアプリケーションをテストする方法を学びませんでした。 </font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちが気に入らない一般的な質問がありました：</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IBM BPMでは難しいKotlinとSpringに切り替えました。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非常に少数の専門家またはこの製品を使用したい人。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スキーム\コードの共同開発の難しさ、本質的に独占的な開発モード。 </font></font></li>
<li>   4     3  ( ~40   ),   .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それとは別に、騒々しい隣人の問題について言及する価値があります。ライセンスの制限により、多くの製品を1つのクラスターに押し込む必要がありました。</font><font style="vertical-align: inherit;">さまざまなビジネスプロセス内で共通のコードを再利用しようとしたため、変更が困難になりました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、現金決済サービスと外注会計の2つの製品で使用されるSMS送信コードがありました。</font><font style="vertical-align: inherit;">以前は、テキストはコンポーネントレベルでハードコーディングされていましたが、「アウトソーシングアカウンティング」のプロセスでは、SMSのテキストをプロセスから転送する必要がありました。</font><font style="vertical-align: inherit;">しかし、CSCプロセスはこれを望んでいませんでしたが、どこにでも変更を加える必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
あるいは、卑劣なバグがベース全体を配置し、多くの製品が機能しなくなった可能性があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
彼らがカムンダを選んだ理由は、私の同僚のニコライが</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">以前の投稿で</font></a><font style="vertical-align: inherit;">書いたから</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。</font></font><br>
</a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">大きなプロセスとは</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IBMから大きなプロセスを転送することにしました（ただし、最初は小さなプロセスでトレーニングしました）。</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1か月あたり10万を超えるインスタンス。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">70を超える正方形</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">他のシステムとの30以上の統合</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">急成長するバックログ </font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、Tinkoff Businessで当座預金を開設するプロセスです。</font><font style="vertical-align: inherit;">このようなプロセスを1つのアプローチで移行することは不可能でした。開発に3〜4か月の一時停止が必要となるため、ビジネス開発のペースにはあまり適していません。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちは細かく移動し、手に入るすべてのものをリファクタリングすることにしました。</font><font style="vertical-align: inherit;">そして、騒々しい隣人の問題を解決するために、私たちは現金決済サービスの申請のみを担当する別の申請を行いました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
トップレベルでは、プロセスは次のようになります。</font></font><br>
<img src="https://habrastorage.org/getpro/habr/post_images/191/228/457/191228457c8b6c086fede13bc21ad58e.png" alt="画像"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">移行ルール</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1位：掘削をやめた</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
古いアプリケーションでの新機能の作成を停止することにしました。</font><font style="vertical-align: inherit;">タスクがバックログに表示されたとき、それが関連するボックス\コンポーネント\サービスを特定しようとし、このことをカムンダでゼロから書き直しました。</font><font style="vertical-align: inherit;">時々コストをかけて1.2x（x-IBMで行っていた場合）、時には-3xまたは5xでした。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＃2：CamundaはIBMについて何も知らない</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リファクタリングの後、私たちは古いアプリケーションをオフにしたかったので、IBMについてまったく何も知らないようにCamundaに新しい機能を作ることにしました。</font><font style="vertical-align: inherit;">2つのことが私たちを助けました：</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Siebelに保存されているビジネスデータ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロセスの終了方法と終了方法を完全に理解するのに役立つ、Camudaの既製のAPI。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 その結果、IBMでプロセスを開始し、カムンダから結果を受け取って受け取りました。</font></font><br>
<img src="https://habrastorage.org/getpro/habr/post_images/a88/521/478/a8852147810435720aac078fc75e0863.png" alt="画像"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No. 3：長い「手動タスク」と接着プロセス</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初に、シンプルなワンステップ同期呼び出しをCamundaに移動し、すべてがうまくいきました。</font><font style="vertical-align: inherit;">その後、私たちはこれらのものを通常の「ビジネスプロセス」に結び付け始め、ユーザーからの期待が現れ始めました。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ユーザーは何年もタスクを実行できるため、ごみ箱からプロセスを手動で修正するための一連のタスクが開始されました。</font><font style="vertical-align: inherit;">私たちはこの方法で勝ちました-私たちはカムンダで特定のタスクのタイプを考慮に入れ始めたばかりであり、長い待機が可能なタスクのごみ箱は考慮していません。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No. 4：フォークで機能を切り替える</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一部のコードは非常に混乱していたため、ゼロから記述して、うまく機能するかどうかを確認する方が簡単でした。</font><font style="vertical-align: inherit;">これを行うために、ゲートウェイでトグルするIBM機能が導入されました。</font><font style="vertical-align: inherit;">アプリケーションの小さなストリームをCamudaに送信し、ペンを確認しましたが、すべて問題ありません。</font></font><br>
<img src="https://habrastorage.org/getpro/habr/post_images/4b8/ac7/540/4b8ac75407b2e38f381bbe7105c4a4bd.png" alt="画像"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IBMからCamundaへのインスタンスの移行</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最終的に、IBMでのプロセスはカムンダへの呼び出しのみで構成され、カムンダでは3つのレベルのプロセスが収集されました。</font><font style="vertical-align: inherit;">ビジネスプロセス自体はそれほど変わっていないため、古いインスタンスをIBMからCamundaに同じ待機ポイントに転送できました。</font><font style="vertical-align: inherit;">そして、IBMをシャットダウンします。</font></font><br>
<img src="https://habrastorage.org/getpro/habr/post_images/b43/334/cf0/b43334cf00c1813aa3585aade0909ea8.png" alt="画像"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">同様の状況にある場合の対処</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
レガシーBPMSを使用してカムンダに移動する場合は、次のようにします。</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンテキストを別のデータベースに移動します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユーザーインターフェイスを別のアプリケーションに移動します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">古いアプリケーションでの新しい機能のコーディングを停止します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">カマンダが古いシステムを認識しないように、一方向の呼び出しを使用します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">小さな箱から始めますが、長いカスタムタスクを忘れないでください。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このアプローチにより、インシデントの数が14倍、回帰時間が4分の1になり、日々のリリースが可能になり、手動テストのコストが4分の1に削減されました。</font><font style="vertical-align: inherit;">現在、5人がプロジェクトに取り組んでおり、IBMで9人と同じ量の作業を行っています。</font><font style="vertical-align: inherit;">あなたの結果が悪化しないことを望みます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Camundaによるmitap No. 4への招待</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2020年2月27日（木）19:30モスクワ、ゴロビンスコエショセ5A、ヴォドニービジネスセンターで、カムンダで別の会議を開催します。</font><font style="vertical-align: inherit;">あなたは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リンクで</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スピーカーについて登録して読むことができます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">来て！</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja488678/index.html">Node.jsでの小さなバッファの大きな競争</a></li>
<li><a href="../ja488680/index.html">Zimbra OSEスパムメーリングリスト</a></li>
<li><a href="../ja488682/index.html">Pythonプログラミングスキルをテストする方法 Yandexからのタスク</a></li>
<li><a href="../ja488686/index.html">Flowmonネットワークを使用した分散アプリケーションおよびデータベースのパフォーマンスの監視</a></li>
<li><a href="../ja488690/index.html">レーベンシュタインの最短距離文字認識</a></li>
<li><a href="../ja488696/index.html">トレンドをリードする</a></li>
<li><a href="../ja488698/index.html">サービスとしてのアクセス制御：アクセス制御システムにおけるクラウドビデオ監視</a></li>
<li><a href="../ja488700/index.html">マイクロマーキングを実装しましたが、拡張スニペットはありません：10の考えられる理由</a></li>
<li><a href="../ja488702/index.html">一連の自然数とその要素のモデル。複数行セル</a></li>
<li><a href="../ja488706/index.html">2DOOM-伝説のシューティングゲームへのブラウザーベースの2Dトリビュート</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>