<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👉🏾 🗣️ 😈 "Destinasi memiliki banyak samaran ..." atau kami mengotomatisasi kontrol bohlam menggunakan CANNY 3 mungil dan photoresistor 🥦 🔞 🐲</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dalam artikel terakhir tentang Habr, saya memberi tahu Anda tentang bagaimana saya menerima kontroler kecil Canny3 sebagai hadiah. Kami "berkedip" LED...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>"Destinasi memiliki banyak samaran ..." atau kami mengotomatisasi kontrol bohlam menggunakan CANNY 3 mungil dan photoresistor</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489764/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dalam </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">artikel terakhir</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tentang Habr, saya memberi tahu Anda tentang bagaimana saya menerima kontroler kecil Canny3 sebagai hadiah. Kami "berkedip" LED, menekan tombol. Mengenai hal ini, pada prinsipnya, adalah mungkin untuk menyelesaikan percobaan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Namun, selama beberapa minggu terakhir saya telah mendengarkan buku audio tentang The </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Witcher</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan karenanya menjadi jauh lebih serius tentang </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Destination</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Menurut informasi yang ditunjukkan di situs web pabrikan, keluarga pengendali CANNY terutama ditujukan untuk otomatisasi berbagai sistem mobil dan peralatan khusus.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Masalahnya adalah tidak ada yang membiarkan saya melihat-lihat mobil sungguhan dengan "tangan emas" saya, dan secara umum saya takut mobil. </font><font style="vertical-align: inherit;">Karena itu, saya harus membeli lampu mobil kecil dan photoresistor khusus untuk artikel ini. </font><font style="vertical-align: inherit;">Apa yang tidak akan Anda lakukan agar tidak membuat marah Takdir. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hari ini kita akan menghubungkan pengontrol dan lampu mobil ke catu daya 12V, mengirim pesan ke port COM, mengotomatiskan penyertaan lampu tergantung pada cahaya dan mencoba pengontrol PWM frekuensi tinggi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apakah Anda juga percaya pada kekuatan Tujuan? </font><font style="vertical-align: inherit;">Maka Anda dipersilakan di bawah kucing.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/yt/kd/tj/ytkdtjul2i1qbdrqllt278lszck.png"><br>
<a name="habracut"></a><br>
<br>
<a name="I"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bagian I: Pendahuluan</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bagian I: Pendahuluan </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bagian II: Komponen dan Tindakan Pencegahan </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bagian III: Cara menulis data ke port COM </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bagian IV: Hubungkan dan program autolamp dan photoresistor </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bagian V: Mencoba untuk menurunkan kecerahan lampu menggunakan PWM </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bagian VI: Kesimpulan</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Di bagian paling awal artikel, saya mengingatkan Anda Saya tidak punya banyak pengalaman dalam elektronik DIY. </font><font style="vertical-align: inherit;">Beberapa tahun yang lalu saya mencoba-coba CraftDuino - klon Arduino domestik. </font><font style="vertical-align: inherit;">Dan terlepas dari "kerajinan" yang dia lakukan untuk saya</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Drzugrik</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ini sebenarnya pengalaman saya dalam elektronik DIY terbatas. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rupanya, mengetahui cintaku pada perkembangan rumah tangga, aku memutuskan untuk memberikan Canny 3.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Bahkan dalam proses mempersiapkan artikel terakhir, aku terkejut bahwa pengontrol dapat diaktifkan tidak hanya dari 5V, tetapi juga dari 12V, sedangkan tegangan pada output akan sama seperti pada input, dan arus maksimum per saluran adalah sebanyak 100mA. Tampaknya menarik bagi saya, karena CraftDuino lama saya tidak bisa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan perhitungan sederhana menggunakan rumus</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>P</mi><mo>=</mo><mi>U</mi><mo>&amp;#x2217;</mo><mi>I</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="9.993ex" height="2.009ex" viewBox="0 -755.5 4302.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhh8xPpI0TUoObI2a9jAbiGE-mDcdg#MJMATHI-50" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhh8xPpI0TUoObI2a9jAbiGE-mDcdg#MJMAIN-3D" x="1029" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhh8xPpI0TUoObI2a9jAbiGE-mDcdg#MJMATHI-55" x="2085" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhh8xPpI0TUoObI2a9jAbiGE-mDcdg#MJMAIN-2217" x="3075" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhh8xPpI0TUoObI2a9jAbiGE-mDcdg#MJMATHI-49" x="3798" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>P</mi><mo>=</mo><mi>U</mi><mo>∗</mo><mi>I</mi></math></span></span><script type="math/tex" id="MathJax-Element-1">P=U*I</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Saya menyadari bahwa daya maksimum per output pengontrol akan sekitar 1,2 watt. Diputuskan untuk mengambil lampu dengan cadangan daya, untuk berjaga-jaga. Pilihan jatuh pada bola lampu 0,9 W LED. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Namun, saya masih tidak ingin membakar hadiah Tahun Baru saya, dan sebelum menghubungkannya, saya memutuskan untuk bertanya kepada pengembang apakah saya memahami semuanya dengan benar. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yang mengejutkan saya, mereka tidak hanya menjawab saya, tetapi juga menyarankan bahwa jika Anda menggabungkan beberapa output, maka kekuatan akan meningkat secara proporsional. Setelah itu, diputuskan untuk membeli sesuatu yang lebih kuat dari lampu dan pilihan jatuh pada kipas mobil, yang dimasukkan ke pemantik rokok. Namun, agar tidak membuat "vinaigrette" dari artikel tersebut, saya memutuskan untuk menunda manipulasi dengan kipas mobil sampai waktu berikutnya.</font></font><br>
<br>
<a name="II"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bagian II: Peralatan dan Tindakan Pencegahan </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, pada awal percobaan, saya memiliki yang berikut:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pengisian dan peluncuran perangkat "Orion Vympel-55". </font><font style="vertical-align: inherit;">Saya sudah memilikinya dan, untungnya, tidak hanya dapat mengisi baterai, tetapi juga menjadi sumber daya dalam berbagai (termasuk 12 V);</font></font><br>
<br>
<img src="https://habrastorage.org/webt/uj/fi/_i/ujfi_iwx1hku88fcb2trgbdhvqu.jpeg"><br>
<br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LED autolamp "Skyway H3. </font><font style="vertical-align: inherit;">SH3-9SMD-5050 W. " </font><font style="vertical-align: inherit;">Seperti yang saya mengerti, bohlam dapat digunakan dalam berbagai lampu utama, tetapi saya tidak punya tempat untuk menempelkannya, jadi saya memilih kekuatan dan kemudahan koneksi tanpa menyolder; </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zw/vm/yi/zwvmyih0_5t0grxn5elq4j1zvfe.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ngomong-ngomong, kembali ke rumus perhitungan daya, saya memutuskan untuk mengukur arus dan memastikan bahwa saya cocok dengan 100 mA yang diizinkan. </font><font style="vertical-align: inherit;">Secara teori, arus bohlam seharusnya</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>I</mi><mo>=</mo><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mi>U</mi><mo>=</mo><mn>0.9</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mn>12</mn><mo>=</mo><mn>0</mn><mo>,</mo><mn>075</mn><mi>A</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="29.044ex" height="2.634ex" viewBox="0 -809.3 12504.8 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhh8xPpI0TUoObI2a9jAbiGE-mDcdg#MJMATHI-49" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhh8xPpI0TUoObI2a9jAbiGE-mDcdg#MJMAIN-3D" x="782" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhh8xPpI0TUoObI2a9jAbiGE-mDcdg#MJMATHI-50" x="1838" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhh8xPpI0TUoObI2a9jAbiGE-mDcdg#MJMAIN-2F" x="2590" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhh8xPpI0TUoObI2a9jAbiGE-mDcdg#MJMATHI-55" x="3090" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhh8xPpI0TUoObI2a9jAbiGE-mDcdg#MJMAIN-3D" x="4135" y="0"></use><g transform="translate(5192,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhh8xPpI0TUoObI2a9jAbiGE-mDcdg#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhh8xPpI0TUoObI2a9jAbiGE-mDcdg#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhh8xPpI0TUoObI2a9jAbiGE-mDcdg#MJMAIN-39" x="779" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhh8xPpI0TUoObI2a9jAbiGE-mDcdg#MJMAIN-2F" x="6471" y="0"></use><g transform="translate(6972,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhh8xPpI0TUoObI2a9jAbiGE-mDcdg#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhh8xPpI0TUoObI2a9jAbiGE-mDcdg#MJMAIN-32" x="500" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhh8xPpI0TUoObI2a9jAbiGE-mDcdg#MJMAIN-3D" x="8250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhh8xPpI0TUoObI2a9jAbiGE-mDcdg#MJMAIN-30" x="9307" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhh8xPpI0TUoObI2a9jAbiGE-mDcdg#MJMAIN-2C" x="9807" y="0"></use><g transform="translate(10252,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhh8xPpI0TUoObI2a9jAbiGE-mDcdg#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhh8xPpI0TUoObI2a9jAbiGE-mDcdg#MJMAIN-37" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhh8xPpI0TUoObI2a9jAbiGE-mDcdg#MJMAIN-35" x="1001" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/489764/&amp;usg=ALkJrhh8xPpI0TUoObI2a9jAbiGE-mDcdg#MJMATHI-41" x="11754" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>I</mi><mo>=</mo><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mi>U</mi><mo>=</mo><mn>0.9</mn><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mn>12</mn><mo>=</mo><mn>0</mn><mo>,</mo><mn>075</mn><mi>A</mi></math></span></span><script type="math/tex" id="MathJax-Element-2">I=P/U=0.9/12=0,075A</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tapi kalau dilihat dari ukurannya, ternyata sedikit kurang. </font><font style="vertical-align: inherit;">Meskipun mungkin saya hanya melakukan kesalahan.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gl/fw/qv/glfwqvsyuybaay2nr5bdftlk2n8.png"><br>
<br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Photoresistor FR-765. </font><font style="vertical-align: inherit;">Saya memilihnya hanya karena tidak ada yang lain di toko.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/h9/zq/gq/h9zqgqgqp4vfwhhoreh_qxmo5aa.png"></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yah, tentu saja saya punya: pengontrol, papan tempat memotong roti, kabel, buaya, dll. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam artikel sebelumnya tentang Canny 3, saya sangat memuji controller, tetapi ternyata ada satu lalat di salep. </font><font style="vertical-align: inherit;">Terakhir kali saya tidak menggunakan bundel kabel yang disertakan dengan kit, tapi kali ini saya tidak bisa melakukannya tanpa itu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karena saya menggunakan besi solder dengan sangat buruk, saya ingin mengurangi penggunaannya menjadi minimum. </font><font style="vertical-align: inherit;">Karena itu, pada akhirnya, saya mengumpulkan semua sirkuit pada koneksi yang dapat dilepas. </font><font style="vertical-align: inherit;">Saya menggunakan kabel khusus (ayah-ayah, ibu-ibu, ibu-ayah), papan tempat memotong roti dan klip buaya.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan jika pengembang controller tidak dapat disalahkan untuk fakta bahwa dalam proses pengupasan kabel saya mendapat beberapa luka, maka saat-saat di mana seluruh struktur saya jatuh ke lantai karena fakta bahwa saya mengaitkan harness "kayu", sebagian pada hati nurani mereka. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di satu sisi, tourniquet adalah hal yang baik. Untuk menginstal controller di dalam mobil, kabel harness menurut saya tepat. Kabel di dalamnya terdampar dan jika mereka diputar dengan baik, maka mereka benar-benar cocok dengan konektor "ibu", kabel "papan tempat memotong roti" saya. Di sisi lain, betapa tidak nyamannya melakukan eksperimen dengan kabel dengan papan tempat memotong roti, bahkan foto yang indah dengan pengontrol yang dibalikkan ke wajah penuh sulit dilakukan karena “kabel oak”. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya mengatakan sedikit lebih tinggi bahwa saya tidak ingin menggunakan besi solder, tetapi setidaknya sekali mereka harus mempersenjatai diri.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk mengukur sinyal dari photoresistor, kita perlu "memasukkan" ke dalam analog-to-digital converter (ADC) dari controller. </font><font style="vertical-align: inherit;">Tetapi kenyataannya adalah bahwa, tidak seperti, misalnya, Craftduino lama saya. </font><font style="vertical-align: inherit;">Dalam kasus Canny, ternyata perlu untuk memasang jumper. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada awalnya, saya tidak hati-hati membaca dokumentasi dan berpikir bahwa output 5 dan 6 dari controller adalah output dari A5 dan A6. </font><font style="vertical-align: inherit;">Saya bahkan menulis sebuah program dan mencoba untuk waktu yang lama untuk membaca. </font><font style="vertical-align: inherit;">Secara alami, saya tidak berhasil karena secara default, tanpa persiapan awal, saluran No. 5 dan 6 berfungsi sebagai input diskrit biasa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah membaca dokumentasi untuk controller pada "pikiran segar", saya menyadari bahwa saya masih harus menyolder. </font><font style="vertical-align: inherit;">Anda tidak tahu bagaimana saya takut "mengacaukan" segalanya.</font></font><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Terakhir kali saya mencoba menyolder sesuatu di sirkuit yang saya lakukan untuk saya </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Drzugrik</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, Saya berhasil mengisi semua kapasitor dengan solder di dekat tempat penyolderan. </font></font></i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kali ini proses penyolderannya sederhana. </font><font style="vertical-align: inherit;">Cukup dengan hati-hati menaruh setetes patri di lintasan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti apa jumper solder saya dapat dilihat pada foto di bawah ini:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/pv/r9/vd/pvr9vdryjakzmbjalenhh6wrn9a.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya hanya menghubungkan output ke-6 ke saluran A6, saya tidak berani menyolder saluran kelima, agar tidak mengisi kedua jumper dengan solder secara tidak sengaja. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Secara teoritis murni, adalah mungkin untuk melakukannya tanpa besi solder dengan menghubungkan lubang dan terminal No. 6 dengan kawat. </font><font style="vertical-align: inherit;">Tapi itu akan sangat merepotkan. </font></font></i> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Foto di bawah ini menunjukkan hubungan pin No. 5 dan pin ADC No. A5 dengan kabel ayah-ke-ayah: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qu/l6/hb/qul6hbndz9lv1jwj8rq-m34sipe.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hal terakhir yang harus Anda perhatikan sebelum Anda mulai berbisnis. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perhatian!</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jangan ulangi satu ke satu, apa yang akan saya jelaskan lebih lanjut pada teks. </font><font style="vertical-align: inherit;">Jangan malas mengganti koneksi plug-in dengan solder, ambil kabel yang lebih tebal, baca dokumentasi. </font><font style="vertical-align: inherit;">Saya bukan ahli dalam hal ini, jadi saya menyatukan semuanya "sebaik mungkin." </font><font style="vertical-align: inherit;">Saya juga menyarankan Anda untuk berhati-hati memantau bahaya kebakaran, dan tidak meninggalkan peralatan tanpa pengawasan. </font><font style="vertical-align: inherit;">Saya berhasil mencium beberapa kabel yang membara beberapa kali. </font><font style="vertical-align: inherit;">Yah, bahkan di catu daya ada perlindungan terhadap korsleting (saya juga mengaturnya). </font><font style="vertical-align: inherit;">Karena itu - harap berhati-hati. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Juga, jangan lupa bahwa terlepas dari kenyataan bahwa voltase dan arus yang kita miliki kecil, masih menyentuh bagian aktif di bawah tegangan bisa menyakitkan </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(terutama jika Anda menyodoknya dengan bagian tubuh yang terluka)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<a name="III"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bagian III: Cara menulis data ke port COM</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk mengkalibrasi sensor cahaya sekitar kami, kami perlu memahami nilai apa yang dikirim ke pengontrol tergantung pada level cahaya. Untuk melakukan ini, kita perlu menampilkan data dari ADC ke monitor. Ketika bekerja dengan Arduino dan klonnya untuk memecahkan masalah seperti itu, saya menggunakan monitor port COM. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam kasus Canny 3 kecil, proses membaca data dari port COM virtual tidak jauh lebih rumit daripada untuk Arduino. Tetapi ada satu perbedaan utama. Lingkungan pengembangan CannyLab tidak memiliki monitor port COM sendiri. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya menggunakan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hterm</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> karena cross-platform, ringan dan tidak memerlukan instalasi. Tapi Anda bisa menggunakan yang lain. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya akan mengatakan lebih banyak lagi, tidak ada yang akan menghentikan kita menggunakan monitor port COM Arduino IDE.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini bekerja di luar kotak pada sistem Windows 10 saya dan saya tidak perlu menginstal driver untuk port COM virtual secara terpisah. Tapi untuk jaga-jaga, saya akan mengatakan bahwa driver tampaknya dibundel dengan lingkungan pengembangan CannyLab (ada di folder drv \ canny3tiny_vcp). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agar tidak menjelaskan lebih lanjut bagaimana bagan blok yang terkait dengan pengiriman data ke USB virtual COM-port bekerja, saya akan memberikan contoh sederhana. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hari ini, sebagai latihan, kami akan mengirim pesan "HABR" menggunakan pengontrol. Pertama, Anda perlu mengunduh IDE CannyLab. Itu dapat dengan mudah ditemukan di situs web resmi pengembang. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ngomong-ngomong, saya menggunakan CannyLab v 1.42, tapi saya pikir di versi sebelumnya tidak akan ada masalah dengan kinerja diagram.</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Proses penulisan perangkat lunak ke controller baru dan prinsip-prinsip dasar bekerja dengan Cannylab I diuraikan dalam </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bab 3 artikel terakhir</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Buat bagan baru, pilih Canny 3 kecil di kotak dialog. Dan kami mentransfer blok, konstanta, dan register ke diagram, seperti pada tangkapan layar di bawah ini. Tentu saja, tidak perlu mentransfer label teks, tidak ada yang bergantung pada mereka selama eksekusi diagram. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rz/st/g9/rzstg9zmltxsf2ekndo4orydcnu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda tidak ingin memindahkan blokir sendiri, Anda dapat mengunduh diagram untuk artikel ini menggunakan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub.</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Perlu dicatat bahwa mengirim pesan ke port COM bekerja agak aneh dan Anda harus menulis surat dengan sepasang karakter di cermin, tetapi Anda dapat membiasakan diri dengannya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya akan menjelaskan sebagian. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di blok </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Pengaturan Parameter"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kami mengatur pengaturan driver USB VCP. Pertama, aktifkan mode transfer pada port COM virtual, dan kemudian atur panjang pesan yang dikirimkan. Dalam kasus kami - 6 karakter termasuk umpan baris. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di blok </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Teks Pesan",</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> kami menulis teks pesan dalam konstanta (jangan lupa untuk beralih ke mode "chr") dan mentransfer konstanta ini ke register driver yang sesuai. Sekali lagi saya menarik perhatian Anda pada fakta bahwa kami menulis pesan dalam urutan terbalik, baik dalam simbol berpasangan sendiri dan dalam register pengemudi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Blok terakhir </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Transfer Pesan"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mengirim dengan frekuensi tertentu pesan kami ke port COM. Untuk ini kami menggunakan blok PWM. Jangan bingung dengan RF PWM, yang akan kita gunakan saat menghubungkan lampu. Dalam hal ini, blok menghasilkan setengah waktu "0", dan babak kedua "1". Anda dapat "bermain-main" dengan ukuran periode dan mengisi untuk menambah atau mengurangi frekuensi pengiriman pesan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menghubungkan LED hijau ke blok PWM ini diperlukan untuk memeriksa operasi controller. Jika semuanya beres, LED akan berkedip dengan frekuensi pengiriman pesan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cara menulis program ke controller, sudah saya katakan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">di artikel sebelumnya</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Namun, selama ini saya telah belajar trik keren lainnya.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saat kami menyambungkan pengontrol ke komputer, ia memasuki mode perekaman program. Sebelumnya, untuk masuk ke mode runtime, saya menghapus controller dari komputer dan memasukkan USB ke dalamnya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ternyata ada cara yang lebih mudah. Setelah Anda menghubungkan controller ke port USB komputer dan mengklik tombol </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Connect"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> di CannyLab </font><font style="vertical-align: inherit;">, buka menu </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Device"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan pilih </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Run"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<img src="https://habrastorage.org/webt/b-/dt/bv/b-dtbvog9sirji-opbj-ehor-hm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pengontrol mulai menjalankan program yang direkam, menerima daya dari port USB. Juga setelah itu controller akan tersedia di monitor port COM. Benar, untuk kembali ke mode perekaman program, pengontrol harus dilepas dan dimasukkan kembali ke port USB komputer.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan inilah "HABR" kami di monitor port Hterm COM. </font><font style="vertical-align: inherit;">Perhatikan kecepatan transfer data dan pengaturan lainnya. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ls/lh/yu/lslhyucpy7cxrmexfqnn3l5swgi.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan ini adalah monitor port IDE Arduino: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ab/zd/vl/abzdvlqwpn6jaw0q0uuzx06ltzo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Foto menunjukkan bagaimana controller bekerja setelah merekam diagram: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qv/4n/zu/qv4nzuowx6saogj5xskvkn7dt3w.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LED merah memberi sinyal bahwa daya sedang diterima melalui port USB komputer, dan hijau "berkedip" pada ketukan pesan yang dikirim melalui port USB COM virtual.</font></font><br>
<br>
<a name="IV"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bagian IV: Kami menghubungkan dan memprogram lampu mobil dan photoresistor.</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk memulai, kami akan mempertimbangkan opsi paling sederhana. Hubungkan saja lampu ke terminal No. 1 dari pengontrol, dan fotoresistor ke terminal No. 6 (ADC). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Semuanya cukup sederhana, tetapi untuk berjaga-jaga, saya menggambar diagram: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sv/un/pm/svunpmu3hc-n4agrotbzy2rquea.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tapi di sini terlihat langsung: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ap/az/z8/apazz8ybxdpnfnaxf9y3c-daabc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
"-" dan "+" dari sumber daya yang kita sambungkan ke terminal yang sesuai dari Canny 3 mungil, pin No. 1 terhubung ke rumah lampu, dan "ekor" lampu dengan nilai tambah di papan tempat memotong roti papan tempat memotong roti. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan photoresistor juga, semuanya sederhana. Plus, kami membawa papan tempat memotong roti dari bus ke papan tempat memotong roti, dan minusnya pergi ke pin No. 6 dari controller, yang sebelumnya kami terhubung dengan jumper ke ADC. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Saya sudah menulis di atas bahwa seluruh struktur saya jatuh beberapa kali dari meja. Oleh karena itu, lebih lanjut pada foto mungkin ada sedikit perbedaan dalam hal warna konduktor dan titik masuknya mereka ke papan tempat memotong roti.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang kita akan menulis sebuah program. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/n1/7s/l8/n17sl8exoem1_jl54mqgb-bapeg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertimbangkan hari baru kami blokir. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita mulai dengan blok </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Mendapatkan nilai dari ADC dan mengubahnya menjadi suites”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di blok ini, kami menerjemahkan nilai-nilai yang dapat diberikan ADC (0 hingga 1023) dalam penerangan (lux). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kita perlu membuat satu pengukuran penerangan saat terang dan satu pengukuran dalam kondisi yang lebih gelap. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan demikian, dalam </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"nilai dari"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> saya mencatat pembacaan ADC minimum "0", dan dalam </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"hasil dari" nilai</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nol dari tingkat pencahayaan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"nilai untuk"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> saya mencatat pembacaan ADC = 20, dan pencahayaan yang sesuai sama dengan 300 lux, saya masukkan dalam </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"hasil untuk"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya tidak memiliki deskripsi terperinci tentang parameter photoresistor, tetapi saya curiga tidak memiliki karakteristik yang sepenuhnya linier, tetapi ini sudah cukup bagi kita sekarang. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pra-periksa bagaimana diagram dilakukan dalam simulator. Lebih detail tentang kerja di simulator CannyLab yang saya tulis di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inilah yang akhirnya saya dapatkan: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/mp/yw/no/mpywnolxlvzxyaqqkeyy3oh2m-u.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bayangkan bahwa photoresistor memberikan nilai 10 ke ADC. Blok </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Display (MAP)"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ini pada dasarnya adalah penskalaan linear. Sepuluh persis setengah dari skala skala kami, yang berarti bahwa output akan menjadi setengah kisaran 0 - 300, yaitu 150. Ini di bawah tingkat yang ditentukan 300 lux. Oleh karena itu, satu dikirim ke register saluran No. 1 (output No. 1) dan lampu menyala . Tapi itu tidak akan langsung hidup, tetapi hanya jika gelap selama setidaknya satu detik (1000 milidetik). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk memahami pesan apa yang akan kami terima di port COM, saya mengalihkan tampilan nilai dalam simulator ke format heksadesimal. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/mq/nr/rk/mqnrrkxyzudcput-yez77oke13a.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertimbangkan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"register pengaturan pesan VCP D1: D0</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , nilai 3130 masuk ke dalamnya. Seperti yang kita ingat, ini adalah sepasang karakter, yang masing-masing bagiannya mewakili kode karakter heksadesimal. Ternyata 31h adalah kode karakter "1" di ASCII, 30 adalah kode nol di ASCII.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">register instalasi pesan "VCP D3: D2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , kita akan memiliki karakter" 0 "dan" 5 ". Kami mengumpulkan nilai-nilai pasangan karakter secara berurutan dari D0 ke D3 yang kami dapatkan: "0", "1", "5", "0". Jadi kami mendapat 0150 lux kami. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tetapi seperti yang mereka katakan "bukan simulator tunggal ...". Mari kita lihat apa yang terjadi dalam latihan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pengukuran di bawah cahaya dari lampu gantung dan cahaya alami (pencahayaan gabungan): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/of/ze/ps/ofzepsndi0bepg1hwoxzursk7my.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pembacaan meteran cahaya pabrik dan lampu buatan kami bersamaan hampir sempurna. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pengukuran di siang hari: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/w_/kz/aq/w_kzaqulbnhvr-pq2tsdcy7pqu8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sangat buruk.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini mungkin karena non-linearitas karakteristik photoresistor, dan juga karena kita menetapkan batas penskalaan yang lebih rendah ke nol, tetapi kami tidak akan menyulitkan diagram untuk meningkatkan akurasi pengukuran, sebagai contoh kami, hal utama adalah memahami prinsip umum untuk memperoleh nilai iluminasi. </font><font style="vertical-align: inherit;">Dan peningkatan akurasi dapat ditunda hingga pelaksanaan proyek-proyek ini di mobil atau di rumah. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami memeriksa operasi sirkuit, menutup sensor dengan jari, dan kemudian menghapus jari. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/4f/nh/qd/4fnhqd-jpxmvsbj5wtvwnokgybg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan sekarang ada opsi saat gelap di ruangan: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/5r/d7/lc/5rd7lcy5_cdx339o6z6c39r3y5i.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lampu menyala. </font><font style="vertical-align: inherit;">Semuanya berfungsi sebagaimana mestinya.</font></font><br>
<br>
<a name="V"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bagian V: Mencoba menurunkan kecerahan lampu menggunakan PWM</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita sedikit memperumit skema dengan mengubah kecerahan lampu. Untuk melakukan ini, kita memerlukan PWM frekuensi tinggi (RF PWM), di Canny 3 kecil diimplementasikan pada output No. 3 dan No. 4. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya memutuskan untuk menggunakan output No. 4. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Skema koneksi praktis akan tetap tidak berubah. Sederhananya, alih-alih output No. 1, kami menghubungkan output No. 4 ke lampu. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qp/bg/b-/qpbgb-a7whds1vugbizqoyr3its.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini adalah tampilannya dalam perakitan. Semua perbedaannya adalah bahwa alih-alih kabel putih, bingkai sekarang berwarna biru. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/2t/z3/nl/2tz3nldjplnly2tzmo7ttrb0he0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diagram juga tidak banyak berubah. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/or/fx/wl/orfxwlbv1adspw_c0fv2ouenqhy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya tidak akan melukis diagram secara detail. Perubahan utama dalam konfigurasi output 4, yang kami gunakan untuk PWM. Di bagian ini, kita harus mengatur </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Isi Pengaturan Daftar"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dibutuhkan nilai dari 2 hingga 255 mikrodetik, saya memutuskan untuk tidak mengambil risiko dan memilih 254. Perhatikan bahwa itu dipasang untuk dua saluran sekaligus (No. 3 dan No. 4). Kemudian kita menulis "1" di </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"saluran PWM memungkinkan register No. 4"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dengan demikian termasuk PWM bola lampu kita. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di blok </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Menghidupkan lampu dalam mode PWM (dengan kecerahan rendah)", yang</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> baru bagi kita hanyalah </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Daftar untuk mengatur saluran pengisian No. 4, μs"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Kami akan menulis nilai "10" di dalamnya, asalkan tingkat pencahayaan di atas fotosensor kurang dari 250 lux, di dalam 1 detik. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Foto di bawah ini menunjukkan bahwa lampu menyala, tetapi bersinar redup.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/om/pp/_t/ompp_teo-f76yagfthj5qylheus.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda ingin lampu menyala lebih terang, Anda hanya perlu mengubah nilai konstanta "10" ke angka yang lebih besar. Misalnya, Anda dapat mengambil angka 127, dalam kasus kami separuh waktu yang diperlukan untuk mengisi periode RF PWM, yang berarti sekitar setengah kecerahan lampu. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/lx/ni/3t/lxni3tbt3zw1y6lyqthoqqufc1w.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perlu dicatat bahwa RF PWM dengan lampu ini berfungsi cukup nyata. Berikut adalah tiga foto: pada yang pertama, kami menetapkan </font><font style="vertical-align: inherit;">nilai </font><font style="vertical-align: inherit;">dalam </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Daftar untuk mengisi saluran nomor 4"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> hingga 10 μs, pada detik - 110 μs, di sebelah kanan - 210 μs. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ud/os/_w/udos_wpczlgn2m1naf4nc5053da.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada prinsipnya, autolamp dari contoh kita, seperti yang saya mengerti, digunakan dalam sinyal posisi dan kadang-kadang dalam lampu kabut mobil.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya pikir jika kita memperbaiki skema dan diagram, maka akan mungkin untuk menerapkan masuknya lampu latar dalam cahaya rendah pada mesin yang lebih tua. </font><font style="vertical-align: inherit;">Benar, Anda perlu mempertimbangkan efek pencahayaan buatan pada malam hari. </font><font style="vertical-align: inherit;">Sehingga di jalan, di terowongan dan dari lampu depan mobil yang melaju, lampu tidak padam. </font><font style="vertical-align: inherit;">Atau mungkin untuk mengontrol lampu di kompartemen penumpang sehingga, misalnya, lampu di pintu Zhiguli atau Niva tidak akan selalu menyala ketika dibuka.</font></font><br>
<br>
<a name="VI"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bagian VI: Kesimpulan </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam proses penulisan artikel ini, saya mengalami rasa nostalgia yang kuat. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saat belajar di institut, teman dan teman sekelasku Seryoga memiliki sedan biru merek VAZ 2107 yang chic. Apa yang baru saja tidak dilakukannya dengan dia: dia akan memasang semacam selang (untuk meningkatkan dorongan), memasang kipas di kompartemen penumpang sehingga dia dihidupkan dengan tombol terpisah, maka dia akan membuat mobil mulai dengan menekan tombol (hanya dengan kunci diputar) pengapian). Secara umum, dia hanya tidak "menyetel" nya "menelan". Bertahun-tahun telah berlalu sejak itu, teman saya pindah ke mobil yang lebih solid, tetapi saya takut membayangkan apa yang akan dia lakukan dengan Zhiguli-nya jika dia mendapatkan pengontrol ini 10 tahun yang lalu.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berkat artikel ini, saya juga ingat tujuan saya. Lagi pula, saya belajar selama bertahun-tahun sebagai insinyur otomasi, tetapi saya tidak bekerja sehari pun dalam bidang spesialisasi saya. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ternyata sangat keren untuk terjun ke dunia DIY. Dalam proses pemasangan sirkuit lebih dari satu kali "macet" menyalakan bohlam dan LED on / off dengan sebuah tombol. Itu adalah perasaan yang menyenangkan ketika sesuatu berfungsi sebagaimana dimaksud. Saya juga menemukan ide bahwa memprogram pengontrol menggunakan diagram adalah tugas yang lebih meditatif daripada menulis kode di Arduino IDE. Persepsi yang sama sekali berbeda dari program ini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saat menulis artikel ini, saya memesan versi Canny 3 mungil tanpa kabel harness. Sekarang saya akan memiliki sedikit istirahat dan menulis artikel tentang menginstal controller ini di papan tempat memotong roti, dan dengan sendirinya kami akan menganalisis beberapa contoh otomatisasi pencahayaan dengan bantuannya.</font></font><br>
<br>
<i>   ,  ,    . </i><br>
<br>
<i>UPD:<br>
,       ,            :</i><br>
<br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">«, ,  –  !»       CANNY 3 tiny</a>.<br>
</li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">«  ...»         (CANNY  Arduino)  Raspberry PI</a>.<br>
</li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">« ?»     bluetooth      Xamarin (Android)</a>.<br>
</li>
</ol></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id489754/index.html">20 sistem manajemen proyek, ikhtisar 100 chip</a></li>
<li><a href="../id489756/index.html">Buat efek pensil di SVG</a></li>
<li><a href="../id489758/index.html">Angular: contoh menggunakan NGRX</a></li>
<li><a href="../id489760/index.html">Kesadaran dan keberadaan. Mekanika kuantum tanpa paradoks</a></li>
<li><a href="../id489762/index.html">Contoh sederhana analisis parsing dan data untuk World of Tanks</a></li>
<li><a href="../id489768/index.html">Bagaimana π menggabungkan blok bertabrakan dan algoritma pencarian kuantum</a></li>
<li><a href="../id489770/index.html">Video dari MinskJS mitap: laporan saya tentang ekstensi browser</a></li>
<li><a href="../id489772/index.html">Hackathon di Simferopol, Yandex. Dialog dan hukum teknologi chat-bot</a></li>
<li><a href="../id489774/index.html">Kisah tentang bagaimana saya mengotomatisasi apartemen menggunakan Node-RED. Bagian II</a></li>
<li><a href="../id489776/index.html">The Ember Times - Edisi 136</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>