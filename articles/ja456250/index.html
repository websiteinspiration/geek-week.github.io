<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>↗️ ‼️ 👩🏽‍🏭 アプリケーションのローカリゼーションとRTLのサポート。Yandex.Taxiを報告する 🍝 🚶🏽 👨‍👨‍👧</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="サービスをローカライズする場合、相互間の転送の調整を慎重に検討することが重要です。Yandex.TaxiクライアントのAndroid開発チームの責任者であるAlexander Bonelが、ローカリゼーションを簡素化する方法とツールについて話しました。レポートの後半で、Sashaはアプリケーションで...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>アプリケーションのローカリゼーションとRTLのサポート。Yandex.Taxiを報告する</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/456250/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サービスをローカライズする場合、相互間の転送の調整を慎重に検討することが重要です。</font><font style="vertical-align: inherit;">Yandex.TaxiクライアントのAndroid開発チームの責任者であるAlexander Bonelが、ローカリゼーションを簡素化する方法とツールについて話しました。</font><font style="vertical-align: inherit;">レポートの後半で、SashaはアプリケーションでRTLをサポートする経験を共有しました：そのままAndroidで何が良いのか、何が機能しないのか、RTLのサポートが原因でどのような問題が発生するのか、そして将来的にそれらを最小化する方法です。</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/GWY-TC-rBqA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-私のレポートでは、アプリケーションの翻訳のローカリゼーションと更新に関連する問題を解決するために、モバイルアプリケーションTaxisの開発チームで使用している基本的なアイデアと実践について説明します。</font><font style="vertical-align: inherit;">次に、アプリケーションで右から左に描画モードで作業するためのサポートを実装した方法について説明します。</font></font><br>
<br>
<a name="habracut"></a><img src="https://habrastorage.org/webt/eq/rz/nc/eqrzncvf8d0spwi7ekgceao4jnq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ローカリゼーションから始めます。まず、用語を明確にしたいと思います。私の観察によると、多くの人がローカリゼーションは翻訳のみに限定されていると信じていますが、実際には、数値、日付、時刻のフォーマット、テキストとシンボルの操作、法的側面、消費者へのコンテンツの配信に関連する問題も解決しています。彼には意味的価値があり、曖昧に認識されていなかった。そして、はるかに。</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（アプリケーションでサポートされている言語の数についての聴衆とのコミュニケーション-Ed。）</font></font></i> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2014年に私たちと一緒に起こった話をお話ししたいと思います。次に、タクシーアプリケーションの大幅な再設計を行いました。次のリリースの1つでは、ユーザーに入口番号を指定する機会を提供し、この情報を旅行情報画面と、最も重要なことに、すべてのユーザーに表示した注文評価画面で確認しました。これは、旅行の評価を確実に取得したかったためです。 。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/a2/zv/nr/a2zvnrpbk6lt0mzepb0zgflx4hs.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当時、私たちはローカリゼーションのプロセスと翻訳については、あまり馬鹿げていました。ほとんどの場合、プロセス全体は手動でした。必要なXMLファイルのテキストの更新、新しい翻訳の追加は手動で行われました。そして、ヒューマンファクターが役割を果たしました。開発者は、デフォルトのロケールではない次の転送を決定しました。これにより、ロシア語とは異なるシステムロケールを使用しているユーザーが入口を尋ねると、旅行の最後にアプリケーションがクラッシュしました。そして人々は別の命令を出すことができませんでした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当時、私たちはアプリケーションで2つの言語をサポートしていました：ロシア語と英語。そして、ロシア、モスクワ、エカテリンブルク、サンクトペテルブルクの3都市でのみ働きました。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/1l/uz/fr/1luzfrwtjpoahxudetzo1m-o5su.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
現在、16か国で事業を展開しており、18の言語に翻訳されています。当時私たちがその状態であったら、問題全体が理解できたと思います。その時、私たちはすでに何かを変える必要があることに気づきました。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rh/01/t9/rh01t9e0avfjcq68wrno7wgd7cs.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yandexでは、ローカリゼーションに関連する問題を解決するモバイルアプリケーションの開発者のほとんどが、内部で開発されたサービスを使用しています。これは非常に便利なUIインターフェースを備えており、プロジェクトの定義、キーのセット、プロジェクトの翻訳に必要な言語のセットの設定が可能です。そして、翻訳が表示された後、それらは任意の便利な形式でアップロードできます。また、社内サービスとの統合も非常に優れています。バージョン管理があります。しかし、個人的には、開発者にとって最も重要なことは、彼がAPIを持っていることです。これは、翻訳に関連するすべての手動作業を自動化できることをすでに示唆しているためです。私たちがやった。 Gradle用のプラグインを開発しました。実際、アプリケーションでの翻訳の更新は、開発者が単一のタスクを実行するという事実に帰着します。updateTranslations。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/nn/ty/vl/nntyvlcqehgpjqs7o2j596ajclu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初の近似では、彼はローカリゼーションサービスに行きます。最新の翻訳をチェックし、プロジェクトにアップロードして、必要なファイルに入れます。しかし、これに加えて、彼はまた、現在のプロジェクトに関連して、ローカリゼーションサービスでの翻訳のステータスの検証も行います。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/3v/l4/lw/3vl4lw_hjl1unisfzohquap6pdg.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次にgitステータスが実行されるとき、開発者は自分の作業ディレクトリで変更されたファイルを確認します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/tz/ze/ax/tzzeaxdlmarko1iadjt93fqw62s.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、生成されたHTMLレポートで、どの言語のどの値のどのキーが変更されたかを確認することもできます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/kj/s_/dq/kjs_dqxcplzqkbkbbmrvku1t3we.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、プロジェクトの翻訳に現在どのような問題が存在するかを確認することもできます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/-r/ra/bu/-rrabu4tqheiglsxphowucm4jwo.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プラグインは設定可能です。アプリケーションがサポートする言語の数を決定できます。ローカライザが新しい言語を開始する場合、それが不注意にプロジェクトに浸透し、校正や校正を通過しないことが非常に重要です。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/f8/d3/rz/f8d3rz6arfem3oubg357ueyovp4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
特定の再マッピング機能もあります。 RTLについては、後で少し詳しく説明します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このプラグインは現在どのような問題を分析していますか？ 2014年に発生した問題は、ありふれた、翻訳の不足です。ここで、新しい行、新しい翻訳をプロジェクトに追加するために、開発者がXMLファイルで単にそれを定義するだけでは十分ではありません。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wo/bh/oj/wobhojdihwoskpf0pdbywbtyqxk.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、これをデフォルトロケールで行わない場合、新しく作成されたキーは次の同期中に単純に消え、コンパイル段階でそれを認識します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fq/qc/bi/fqqcbimobnxyozdh0-nppnlmmem.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デフォルトのファイルでキーを決定したが、ローカリゼーションサービスでそれを行うのを忘れた場合、次にupdatetranslationsを実行すると、プラグインからエラーが表示され、「このキーはプロジェクトにありますが、ローカリゼーションサービスにはありません。開始する必要があります。」</font></font><br>
<br>
<img src="https://habrastorage.org/webt/j5/nh/7a/j5nh7adfyozxrjqkjhuenukk9dg.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2番目の典型的な問題は、翻訳の欠如です。翻訳のないキーへのリンクのリストを取得し、原則として上司に紹介して、後で翻訳者との通信を設定できるようにします。 3番目の点は、形式引数の使用を何らかの方法で再検討することを決定したときによく遭遇します。たとえば、整数形式の代わりに、文字列形式を使用し始めました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、同時に、一部の翻訳では行の番号を変更するのを忘れていました。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ki/6t/er/ki6terstg0cwbbidor71bw1fvnk.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、4番目の問題は、主に翻訳における人的要因によっても引き起こされます。翻訳にUnicode文字が使用されている場合、別の行にハイフネーションを付けるために、文字の配置や複雑なスペースの代わりに混乱するのは非常に簡単です。これは、私たちが取り除こうとしているものです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ローカリゼーションがすべてです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで、イスラエルの例を使用して、アプリケーションで右から左へのレンダリングのサポートを実装する経験についてお話します。 2018年にイスラエルでヤンゴのブランド名で発売しました。結局のところ、イスラエルでは、人々はあなたや私とは異なる読み方をしています。彼らは右から左に読みます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vs/mc/aw/vsmcawgpfojh3fuu35gjubgayvc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どこから始めますか？ Androidの場合、原則として、右から左へのレンダリングのサポートはそのまますぐに実装されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、アプリケーションマニフェストのApplication要素で、supportRtl =” true”属性を宣言する必要があるという事実から始まります。しかし、私はあなたを喜ばせたいと思います。ソーシャル認証用のFacebook SDKをアプリケーションに統合する場合、思いやりのあるFacebook開発者はすでにこれを行っています。マージ時にマニフェストを検証しない場合、値がtrueのこの属性はアプリケーションに適合し、Rtlですでに使用できます。これは考えるべきことです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
観客席に座っている人のほとんどは、おそらくAndroid 4.4の最小限のサポートしか持っていないと思います。誰かがより幸運です-これは5.0以上です。誰かがそれほど幸運ではないかもしれません、そして、彼らは4.0をサポートします、または、神は2.3をサポートしません。この場合、Androidでの本格的なRtlサポートがバージョン4.2以降に登場しているため、大きな問題が発生します。したがって、17番目のminSdkを使用すると、桁違いに人生が簡素化されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Rtlで使用するプロジェクトの転送は、Android Studioのリファクタリングツールから始まります-可能な場合はRTLサポートを追加します。私たちは敬意を払わなければなりません、それはかなりうまくいきます。それはあなたのマークアップのXMLファイルを調べ、重力、パディング、マージンのために左と右の値を持つ属性の存在を調べ、それらを開始と終了で置き換えます。右から左へのモードでアプリケーションがデフォルトでどのように機能するかを確認する場合、ヘブライ語またはアラビア語のいわゆるRTL強い文字を含むコンテンツは必要ありません。開発者の設定で[Force RTL Layout Direction]オプションを有効にするだけです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AndroidがRTLに提供するUIとレンダリングテキストをカスタマイズするためのオプションは何ですか？</font></font><br>
<br>
<img src="https://habrastorage.org/webt/cm/sb/tv/cmsbtvixwje70yhp48qyqzdhr7q.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初のポイントは、前述のForce RTL Layout Directionオプションを使用するlayoutDirection属性です。彼女の考えられる意味は4つだけです。つまり、デフォルトでは親から継承されます。レイアウトは選択したロケールに基づいて描画されていると言えます。右から左、または左から右に描かれているとはっきり言えます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2番目の要素は、多くの場合、テキストの配置を行う際に習慣から外れる可能性が最も高く、textAlignmentです。多くはまだ重力を使い続けています。重力を使用してテキストを揃えるのではなく、textAlignmentを使用してください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3番目の属性は、テキストのレンダリング方向であるtextDirectionです。</font><font style="vertical-align: inherit;">それはかなり柔軟な構成を持っています。</font><font style="vertical-align: inherit;">ラテン語の強力なLTR文字セットからであっても、ヘブライ語の強力なRTLからであっても、テキスト内の最初の強力な文字に応じて、テキストのレンダリング方法を決定できます。</font><font style="vertical-align: inherit;">ただし、アプリケーションでRTLを完全にサポートしている場合は、RTLをバイパスする必要はありません。このような面白いアーティファクトが無視されるためです。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/9d/be/rs/9dbersx2uji8brgn6kgxwzu1o7w.jpeg"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これはイースターエッグか、editTextの実装におけるそのような副作用のどちらかです。editTextでのヒントが分散し始めます。</font><font style="vertical-align: inherit;">したがって、どのような場合でも、値を設定する必要があります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/mc/v9/0g/mcv90gysejpzyj-rqpvn8vwf2hc.jpeg"><br>
<h5><sup><sub><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スライドからリンク</font></font></a></sub></sup></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RTLモードで一部のグラフィックリソースまたはマークアップの特定のレンダリングを観察する必要がある場合、Androidはパパに修飾子ldrtlを設定する機能を提供します。そこに任意のリソースを置くことができ、指定したとおりにRTLレンダリングモードで描画されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
時には、アプリケーションが現在動作しているモードを無視して、ランタイムがバックエンドからのテキストをそのまま描画する必要がある場合があります。実際、テキストレンダラーでは、これはいわゆるBidi Unicode制御文字によってテキストがフレーム化されるために行われます。これらの文字を操作するロジックはBidiFormatterクラスに含まれており、1つのunicodeWrapメソッドのみを提供します。入力としてCharSequenceを取り、これらの文字で囲まれた文字列を返します。それらは網羅的な数であり、原則として、ほとんどの問題を解決するはずです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、非常に具体的なものがある場合、w3.orgには</font><font style="vertical-align: inherit;">これらの記号の使用方法に関する</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">優れた記事</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アプリケーションでRTLサポートを開始したとき、どのような問題が発生しましたか？</font><font style="vertical-align: inherit;">まず第一に、それはローカリゼーション標準の矛盾です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BCP47は新しいローカリゼーション標準であり、特に一部のロケールのコードが変更されています。</font><font style="vertical-align: inherit;">そして、実際には、ロケールJavaクラスに問題があります。</font><font style="vertical-align: inherit;">デフォルトでは下位互換性モードで動作し、ロケールコードをBCPからISOに変換します。</font><font style="vertical-align: inherit;">つまり、彼のコードではなくiwコードがAccept-Languageヘッダーのバックエンドに移動し始めたときに、これがわかりました。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/j-/mo/ct/j-moctus3m7dd2g4l9lidazv2-c.jpeg"><br>
<h5><sup><sub><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スライドからリンク</font></font></a></sub></sup></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スライドをプラグインの設定で覚えている場合、コンテンツを彼からiwに翻訳するために、このためだけに再マッピングが必要でした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BCP形式を使用する必要がある場合、これはApache Cordovaプロジェクトに完全に実装されています。彼らは、グローバリゼーションクラスとlocaleToBcp47Languageの実装を持っています。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/kk/gi/cc/kkgicc_cunw19hbpqqxhujoattq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アプリケーションでRTLサポートを「提供」するもう1つのポイントはアニメーションです。ここでの利点は、実際には、X軸に沿ったアニメーションのみが影響を受けることです。おそらく、より多くの問題を回避するのに役立つ唯一の解決策またはアプローチは、相対アニメーションの方向で絶対アニメーションを確認できることです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コンポーネント自体に厳密に実装されているため、おそらくリフレクションによってのみ解決される問題の1つは、TextInputLayoutのヒントの配置です。</font><font style="vertical-align: inherit;">事実、ヒントがヘブライ語のRTL強い文字で指定されている場合、編集テキストに入力するコンテンツはラテン文字からのものであっても、それは右に明確に配置されます。</font><font style="vertical-align: inherit;">およびその逆。</font><font style="vertical-align: inherit;">ヒントがラテン語である場合、それは明らかに左揃えになります。</font><font style="vertical-align: inherit;">これは反射でのみ解決できます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/3j/t3/7l/3jt37lzetmufyxkksu32u-wet-a.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最終的に、RTLをアプリケーションに実装した後、Lintが分析するRTLの問題の重大度を再検討することは理にかなっています。</font><font style="vertical-align: inherit;">それらは4つだけです。</font><font style="vertical-align: inherit;">アプリケーションでRTLをサポートしていないが、どこかでRTL固有の属性を明示的に使用している場合、これはRtlEnabledです（Lintがこれを通知します）。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ox/ea/92/oxea92pkwyozfe49d2xkfwc8pkq.jpeg"><br>
<h5><sup><sub><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スライドからリンク</font></font></a></sub></sup></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アプリケーションでRTLをサポートしているが、アプリケーションのminSdkVersionが17未満の場合は、leftおよびrightタイプの属性を引き続き使用する必要があります。マークアップで開始属性と終了属性のみを使用することはできません。これはRtlCompatが解析するものです。 RtlSymmetryは、非対称のパディングが見られると誓います。一般に、私の意見では、aaptは、リソースを処理するときに、対称パディングに遭遇するとクラッシュするはずです。ある種の非対称アクセスが必要な場合は、マージンを本格的なレイアウトパラメータとして使用してください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後に、4番目の問題はハードコーディングされたRTLです。これは、属性に左と右の値のみが示されているということです。基本的に、これはリファクタリングツールを無効にします。可能な場合はRTLサポートを追加します。これはすべて、RTLへの参入時のLintによるものです。分析の実装は、AOSPのRtlDetectorクラスでも利用できます。つまり、ファンタジーが可能であれば、分析が現在どのように行われているかを調べることによって、独自の何かを思い付くことができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私の報告は終わりに近づいています。私たちのアプリケーションで正しいローカリゼーションを構築するためのいくつかの論文を示したいと思います。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fb/pe/su/fbpesuzh58zlmnzg1tkqcpyphqw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、プロジェクトの開始時に、国際化について考えます。私はそれについてはあまり触れませんでした。これはローカリゼーションとはまったく同じではありません。実際、国際化により、アプリケーションや製品のローカリゼーションが可能になります。これは、Unicodeを完全にサポートしているという事実のためにJavaでそのまま機能し、Androidでは豊富なリソースシステムを備えているためです。おそらく、ここで発生する可能性があるのは、「私はロシア語専用のアプリケーションを書く、つまりロシア語でのみチェックする」というテーマでの開発者としての固執だけでしょう。そして、アプリケーションでアルメニア語、ジョージア語、ヘブライ語、またはアラビア語を使用し始めると、画像は非常に異なって見え、通常のパラダイムについて破綻します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
二番目の瞬間。ローカリゼーションをCIに埋め込むことを検討してください。数週間準備できるリリース候補のテスト段階で、翻訳に関連する問題について学ぶのは非常に残念です。つまり、プールリクエストごとにこのタスクを実行しているので、すべてが翻訳されていて、プロジェクトのメインブランチに新しいコードをフリーズできることが事前に確認できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3番目のポイント。翻訳者の仕事と予算を尊重してください。最初に、未使用のリソースを削除します。これは、最終的にプロジェクトで使用しない文字列の翻訳に時間とお金を費やし続ける可能性があるためです。次に、ローカリゼーションサービスのリポジトリにあるが、コードにはない翻訳に従います。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
理想的には、ローカリゼーションサービスのAPIが特定のキーがいつ開かれたかについての情報を提供し、「キーが1か月以上前に開かれた場合」のようなヒューリスティックを使用できる場合は、マスターブランチの最新リビジョンでその存在を確認します。</font><font style="vertical-align: inherit;">彼がそこにいない場合、おそらくこれはそれを削除する明確な候補であり、ローカライザが時間を浪費しないようにします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
銀の弾丸の多かれ少なかれ普遍的な候補は、クライアントではなくバックエンドに文字列を格納することです。</font><font style="vertical-align: inherit;">少なくとも、これにより、アプリケーション側で常に関連性を保つことができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちは非常に多様なユーザーオーディエンスを抱えており、誰もが独自の方法で世界とアプリケーションコンテンツを認識しています。</font><font style="vertical-align: inherit;">開発者としての私たちの仕事は、この認識を維持するのを助けることです。</font><font style="vertical-align: inherit;">これで私の報告は終わりました。</font><font style="vertical-align: inherit;">どうもありがとうございます！</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja456236/index.html">ピーター-インサイダー開発ツアー：マイクロソフトの開発者向けインサイダー会議</a></li>
<li><a href="../ja456240/index.html">チャットボットの開発（laravel + botman）</a></li>
<li><a href="../ja456242/index.html">マイクロコントローラーのマルチタスクについてもう少し</a></li>
<li><a href="../ja456246/index.html">ゼロ要素</a></li>
<li><a href="../ja456248/index.html">キャッチ方法：フォーカス要素のスタイルの前</a></li>
<li><a href="../ja456256/index.html">Androidアプリケーションアーキテクチャガイド</a></li>
<li><a href="../ja456258/index.html">GNU FDL 1.3ライセンスに基づく「Free as in Freedom」のロシア語への翻訳は風のように無料、ビールのように無料</a></li>
<li><a href="../ja456260/index.html">フェアエコノミートーク</a></li>
<li><a href="../ja456262/index.html">ソフトウェア無線-それはどのように機能しますか？パート9</a></li>
<li><a href="../ja456264/index.html">ソースとAndroid NDKを使用してAndroidバイナリファイルをビルドします。screencapユーティリティを起動します</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>