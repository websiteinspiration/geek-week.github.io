<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üí± üïî üóø Java 14: Record, uma inst√¢ncia mais concisa de, wrapper jpackage, alternar lambdas e blocos de texto üì¶ üîÇ üçº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="UPD. Hoje ser√° o t√£o esperado lan√ßamento do Java 14 - e mesmo que n√£o seja o LTS - existem novos recursos suficientes. O Java 14 estar√° dispon√≠vel em ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Java 14: Record, uma inst√¢ncia mais concisa de, wrapper jpackage, alternar lambdas e blocos de texto</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/491564/"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UPD. </font><font style="vertical-align: inherit;">Hoje ser√° o t√£o esperado lan√ßamento do Java 14 - e mesmo que n√£o seja o LTS - existem novos recursos suficientes. </font><font style="vertical-align: inherit;">O Java 14 estar√° dispon√≠vel em algumas horas - mas voc√™ pode conhec√™-lo agora. </font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/us/u0/ae/usu0aephljxik4pjtyk6baaapyc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No Java 14, h√° mudan√ßas suficientes, tanto no n√≠vel de escrita do c√≥digo quanto no n√≠vel da API, GC e muitos outros mecanismos. </font><font style="vertical-align: inherit;">Podemos dizer com certeza que, se voc√™ conhece alguns super-chips Kotlin ou Python - n√£o se preocupe, com um alto grau de probabilidade, eles aparecer√£o em breve em Java. </font><font style="vertical-align: inherit;">De qualquer forma, o release de hoje cont√©m alguns deles. </font><font style="vertical-align: inherit;">Mas as primeiras coisas primeiro.</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No Java 14, as seguintes inova√ß√µes nos aguardam:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JEP 305. Atribuindo uma refer√™ncia a um objeto que est√° sendo verificado atrav√©s da instanceof.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JEP 343. O empacotador jpackage (Incubadora).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JEP 345. Aloca√ß√£o de mem√≥ria baseada em NUMA para G1.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JEP 349. Streaming de eventos atrav√©s do JFR.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JEP 352. Buffers de bytes mapeados imut√°veis.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JEP 358. Dicas sobre NullPointerException.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jep 359. Record.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JEP 361. Alterne lambdas.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JEP 362. As portas Solaris e SPARC agora est√£o obsoletas.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JEP 363. Removendo o coletor de lixo Concurent Mark Sweep que foi marcado anteriormente como Descontinuado.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JEP 364. Portando o ZGC no macOS.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JEP 365. Portando o ZGC para o Windows.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JEP 366. A combina√ß√£o de ParallelScavenge + SerialOld GC agora est√° obsoleta.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JEP 367. Removendo ferramentas e APIs do Pack200 (que foram marcadas como Descontinuadas no Java 11).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JEP 368. Blocos de texto.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JEP 370. API de acesso √† mem√≥ria externa (incubadora).</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos falar sobre cada melhoria, algumas das quais ser√£o discutidas em mais detalhes.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JEP 305. Atribuindo uma refer√™ncia a um objeto verificado atrav√©s da inst√¢ncia de</font></font></h2><br>
<img src="https://habrastorage.org/webt/7a/pm/o-/7apmo-a8gbn7oj4tqu-9-iv6vcq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Considere a situa√ß√£o de verificar o tipo de um objeto por meio de instanceof. </font><font style="vertical-align: inherit;">Se queremos personalizar explicitamente um objeto para o tipo necess√°rio sem arriscar uma ClassCastException, primeiro precisamos ter certeza de que o objeto √© do tipo que precisamos.</font></font><br>
<br>
<pre><code class="java hljs">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">showNameIfToy</span><span class="hljs-params">(Object o)</span> </span>{
        <span class="hljs-keyword">if</span> (o <span class="hljs-keyword">instanceof</span> Toy) {  <span class="hljs-comment">//,    -  Toy</span>
            Toy t = (Toy) o;  <span class="hljs-comment">//  </span>
            System.out.println(<span class="hljs-string">"Toy's name: "</span> + t.getName());  <span class="hljs-comment">//-   </span><font></font>
        }<font></font>
    }</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Neste exemplo, que ocorre, a prop√≥sito, o tempo todo, a) certificamos que temos um objeto do tipo desejado, b) atribuimos um link a ele, c) fazemos algo com ele, com base em nossa l√≥gica. </font><font style="vertical-align: inherit;">Na Oracle, ao que parece, eles viram um certo esplendor de c√≥digo nessa constru√ß√£o espec√≠fica e decidiram reduzi-lo em exatamente uma etapa. </font><font style="vertical-align: inherit;">Agora voc√™ pode escrever assim:</font></font><br>
<br>
<pre><code class="java hljs">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">showNameIfToy</span><span class="hljs-params">(Object o)</span> </span>{
        <span class="hljs-keyword">if</span> (o <span class="hljs-keyword">instanceof</span> Toy t) {  <span class="hljs-comment">//      </span>
            System.out.println(<span class="hljs-string">"Toy's name: "</span> + t.getName());  <span class="hljs-comment">//     </span><font></font>
        }<font></font>
    }</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como tudo isso √© realmente conveniente e √∫til, deixo para julg√°-lo, leitor. </font><font style="vertical-align: inherit;">Sim, de fato, essa constru√ß√£o dessa forma ocorre, provavelmente, em 99% dos casos associados √† inst√¢ncia de e, talvez, a simplifica√ß√£o se enra√≠ze (ou talvez n√£o). </font><font style="vertical-align: inherit;">O tempo vai dizer.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JEP 343. O jpackage Packer (Incubadora)</font></font></h2><br>
<img src="https://habrastorage.org/webt/qy/hk/2d/qyhk2diseyyhq_rysnopvdiq1gk.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N√≥s, os desenvolvedores, somos caras, voc√™ n√£o vai nos assustar com a instala√ß√£o de um dzharnik, mas e quanto a um usu√°rio simples que n√£o quer saber ao instalar a JVM que ele est√° instalado em outros 3 bilh√µes de m√°quinas, n√£o quer saber sobre a plataforma cruzada Java, mas s√≥ quer cutucar 2 vezes o arquivo .exe se tiver Windows ou simplesmente arraste o aplicativo .app para a pasta Aplicativos, se houver uma papoula, e n√£o o vaporize? </font><font style="vertical-align: inherit;">Como criar todas as condi√ß√µes para os programadores para que eles empacotem seus aplicativos em "execut√°veis" familiares ao usu√°rio final? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parece que a Oracle percebeu o problema e decidiu escrever um empacotador que empacotar√° imediatamente os aplicativos em um formato adequado para a plataforma:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linux: deb e rpm </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">macOS: pkg e dmg </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows: msi e exe </font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parece algo como isto:</font></font><br>
<br>
<pre><code class="bash hljs">$ jpackage --name myapp --input lib --main-jar main.jar --<span class="hljs-built_in">type</span> exe</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
--name myapp - nome futuro do aplicativo </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
--input lib - fonte do arquivo jar </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
--main-jar main.jar - nome do arquivo que cont√©m a classe principal </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
--type exe - tipo no qual o aplicativo ser√° empacotado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ap√≥s o empacotamento, voc√™ pode clicar duas vezes no myapp.exe (se voc√™ tiver o Windows) e instal√°-lo como um aplicativo normal do Windows. A interface gr√°fica √© fornecida pelo JavaFX. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos tentar criar esse aplicativo usando a plataforma Windows. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ent√£o, vamos pegar o projeto a partir daqui: </font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/promoscow/bouncer</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ao enviar uma solicita√ß√£o GET, recebemos a mensagem: ‚ÄúRejei√ß√£o bem-sucedida‚Äù e carimbo de data e hora. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Colocando um dzharnik. Como temos gradle, ele est√° na pasta build / libs. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bf/bz/eg/bfbzeg3ansxdehnqoudd76-fcbw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
V√° para a pasta build, insira o m√≠nimo necess√°rio de comandos:</font></font><br>
<br>
<pre><code class="bash hljs">jpackage --name bouncer --input libs --main-jar bouncer.jar --<span class="hljs-built_in">type</span> exe</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na verdade, temos um exe-shnik. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/56/-k/nm/56-knmpxzinlb7nwtm3owmkn2pa.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N√≥s cutucamos duas vezes no execut√°vel, a instala√ß√£o usual do aplicativo ocorre. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Uau! </font></font><br>
<br>
<img src="https://habrastorage.org/webt/a3/ck/jk/a3ckjkvq0hs7flr4towxmah19h4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O aplicativo foi instalado e est√° esperando nos bastidores. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em Arquivos de Programa, na pasta bouncer, voc√™ pode executar o bouncer.exe.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/2k/y_/vc/2ky_vc98fu1a7msjhss9v_m59dk.jpeg"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JEP 345. Aloca√ß√£o de mem√≥ria alocada ao NUMA para G1</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Existe um problema - NUMA, acesso n√£o uniforme √† mem√≥ria, acesso desigual √† mem√≥ria. Em outras palavras, o acesso a soquetes remotos em m√°quinas de v√°rias se√ß√µes pode levar um tempo consider√°vel, especialmente para o coletor de lixo G1. No Java 14, eles tentaram resolver esse problema da seguinte maneira: O </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
heap G1 √© organizado como um conjunto de √°reas de tamanho fixo. Uma regi√£o geralmente √© uma cole√ß√£o de p√°ginas f√≠sicas, embora ao usar p√°ginas grandes (via -XX: + UseLargePages), v√°rias regi√µes possam formar uma p√°gina f√≠sica. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se voc√™ adicionar o par√¢metro + XX: + UseNUMA durante a inicializa√ß√£o da JVM, as regi√µes ser√£o distribu√≠das uniformemente pelo n√∫mero total de n√≥s NUMA dispon√≠veis. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A Oracle promete que, embora essa abordagem n√£o seja totalmente flex√≠vel, ela ser√° aprimorada no futuro.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JEP 349. Streaming de eventos atrav√©s do JFR</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em Java, existe algo como JFR - Java Flight Recording - grava√ß√£o de eventos em tempo real, que permite monitorar cerca de 500 variedades de eventos enquanto o aplicativo est√° em execu√ß√£o. </font><font style="vertical-align: inherit;">O problema √© que a maioria deles s√≥ pode ser visualizada nos logs. </font><font style="vertical-align: inherit;">A melhoria oferecida pela Oracle √© implementar um manipulador, por exemplo, uma fun√ß√£o lambda que ser√° chamada em resposta a um evento. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui est√° o que parece:</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">try</span> (<span class="hljs-keyword">var</span> rs = <span class="hljs-keyword">new</span> RecordingStream()) {<font></font>
  rs.enable(<span class="hljs-string">"jdk.CPULoad"</span>).withPeriod(Duration.ofSeconds(<span class="hljs-number">1</span>));<font></font>
  rs.onEvent(<span class="hljs-string">"jdk.CPULoad"</span>, event -&gt; System.out.println(event.getFloat(<span class="hljs-string">"machineTotal"</span>)));<font></font>
  rs.start();<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este evento a cada segundo exibe a carga do processador no console.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/8b/m_/bp/8bm_bpzyy8qacbkj7grka4oyr3c.jpeg"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JEP 358. Dicas sobre NullPointerException</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Outra conveni√™ncia √≥bvia, projetada para simplificar a busca por erros no c√≥digo. </font><font style="vertical-align: inherit;">Imagine uma constru√ß√£o - um planeta, existem muitos pa√≠ses no planeta, em todos os pa√≠ses existem muitas cidades.</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Planet</span> </span>{<font></font>
<font></font>
    <span class="hljs-keyword">private</span> List&lt;Country&gt; countries;
    <span class="hljs-comment">//...</span><font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Country</span> </span>{<font></font>
<font></font>
    <span class="hljs-keyword">private</span> List&lt;City&gt; cities;
    <span class="hljs-comment">//...</span><font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">City</span> </span>{<font></font>
<font></font>
    <span class="hljs-keyword">private</span> String name;
    <span class="hljs-comment">//...</span>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Decidimos exibir os c√≥digos de hash de todas as cidades do planeta:</font></font><br>
<br>
<pre><code class="java hljs">planet.getCountries().forEach(c -&gt; c.getCities().forEach(city -&gt; city.hashCode()));</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas eles n√£o pensaram na inicializa√ß√£o obrigat√≥ria dos campos. </font><font style="vertical-align: inherit;">E em algum momento eles receberam uma NullPointerException:</font></font><br>
<br>
<pre><code class="java hljs">Exception in thread <span class="hljs-string">"main"</span> java.lang.NullPointerException<font></font>
	at ru.xpendence.jep_358_nullpointerexception.Main.main(Main.java:<span class="hljs-number">19</span>)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Qual campo temos nulo? </font><font style="vertical-align: inherit;">planeta? </font><font style="vertical-align: inherit;">pa√≠s? </font><font style="vertical-align: inherit;">cidade ??? </font><font style="vertical-align: inherit;">N√≥s n√£o sabemos. </font><font style="vertical-align: inherit;">Colocamos o ponto de interrup√ß√£o na linha certa e, com um suspiro, nos degradamos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No Java 14, uma NullPointerException √© mais informativa:</font></font><br>
<br>
<pre><code class="java hljs">Exception in thread <span class="hljs-string">"main"</span> java.lang.NullPointerException: Cannot assign field <span class="hljs-string">"cities"</span> because <span class="hljs-string">"countries"</span> is <span class="hljs-keyword">null</span>
     at Main.main(Main.java:<span class="hljs-number">21</span>)<font></font>
     ...</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E imediatamente tudo est√° claro. </font><font style="vertical-align: inherit;">pa√≠ses √© nulo.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JEP 359. Record</font></font></h2><br>
<img src="https://habrastorage.org/webt/us/7z/al/us7zaleyxjn5obz6_8gaufbpdgu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N√£o √© de admirar que a Oracle tenha alterado o ciclo de lan√ßamento para seis meses. As mudan√ßas tect√¥nicas no setor de TI fazem com que at√© esses l√≠deres se movam mais rapidamente. E se, por exemplo, Kotlin e Python no momento de sua apar√™ncia foram influenciados pelo Java (√© o que a Wikipedia diz sobre o Python, de qualquer maneira), agora o Java est√° olhando para seus seguidores, por assim dizer. Sobre o Python, ele ser√° menor, mas o seguinte recurso do Oracle foi analisado com precis√£o no Kotlin. √â sobre classes de dados, que em Java agora s√£o chamadas de registro. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O que √© uma classe de dados? Vamos escrever um POJO comum:</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Station</span> </span>{<font></font>
<font></font>
    <span class="hljs-keyword">private</span> String name;
    <span class="hljs-keyword">private</span> Coordinates coordinates;<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> name;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setName</span><span class="hljs-params">(String name)</span> </span>{
        <span class="hljs-keyword">this</span>.name = name;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> Coordinates <span class="hljs-title">getCoordinates</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> coordinates;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setCoordinates</span><span class="hljs-params">(Coordinates coordinates)</span> </span>{
        <span class="hljs-keyword">this</span>.coordinates = coordinates;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">equals</span><span class="hljs-params">(Object o)</span> </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> == o) <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
        <span class="hljs-keyword">if</span> (o == <span class="hljs-keyword">null</span> || getClass() != o.getClass()) <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<font></font>
        PlainStation that = (PlainStation) o;<font></font>
        <span class="hljs-keyword">return</span> Objects.equals(name, that.name) &amp;&amp;<font></font>
                Objects.equals(coordinates, that.coordinates);<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">hashCode</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> Objects.hash(name, coordinates);<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">"PlainStation{"</span> +
                <span class="hljs-string">"name='"</span> + name + <span class="hljs-string">'\''</span> +
                <span class="hljs-string">", coordinates="</span> + coordinates +
                <span class="hljs-string">'}'</span>;<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui temos tudo: getters, setters, iguais, hashcode, toString ... Para, de alguma forma, livrar-se dessa desgra√ßa, pessoas boas criaram Lombok. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No Jetbrains, o problema foi resolvido de uma maneira mais radical - inventando classes de dados para o Kotlin. </font><font style="vertical-align: inherit;">Essa classe com todos os m√©todos padr√£o se parece com isso:</font></font><br>
<br>
<pre><code class="kotlin hljs"><span class="hljs-keyword">data</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Station</span></span>(<span class="hljs-keyword">val</span> name: String, <span class="hljs-keyword">val</span> coordinates: Coordinates)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E √© isso. </font><font style="vertical-align: inherit;">No Oracle, ao que parece, analisou esse design e fez exatamente o mesmo, apenas registrando:</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> record <span class="hljs-title">RecordStation</span><span class="hljs-params">(String name, List&lt;Coordinates&gt; coordinates)</span> </span>{}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ele cont√©m getters, setters, iguais, hashcode e toString padr√£o. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Uma classe desse tipo j√° pode ser criada no IDEA 2020.1.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quais s√£o as diferen√ßas do POJO?</font></font></h3><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O registro n√£o pode ser herdado de nenhuma classe. </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O registro n√£o pode ter outros campos do objeto, exceto aqueles declarados no construtor ao descrever a classe (sim, a prop√≥sito, esse √© o construtor padr√£o). </font><font style="vertical-align: inherit;">Est√°tico - voc√™ pode.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os campos s√£o implicitamente finais. </font><font style="vertical-align: inherit;">Objetos s√£o implicitamente finais. </font><font style="vertical-align: inherit;">Com todas as consequ√™ncias, como a impossibilidade de ser abstrato.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Acontece que essa √© uma classe de dados imut√°vel, n√£o destinada a algumas a√ß√µes l√≥gicas complexas, mas destinada √† transfer√™ncia de dados, e isso √© tudo.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JEP 361. Switch Lambdas</font></font></h2><br>
<img src="https://habrastorage.org/webt/td/bv/sa/tdbvsa6l6cmnjqbaxukwjggnrtg.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parece que a Oracle aceitou o interruptor firmemente. </font><font style="vertical-align: inherit;">Antes do lan√ßamento atual, era um design bastante volumoso e tinha a seguinte apar√™ncia:</font></font><br>
<br>
<pre><code class="java hljs">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">translateDayOfWeekOld</span><span class="hljs-params">(String dayOfWeek)</span> </span>{
        <span class="hljs-keyword">switch</span> (dayOfWeek) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">"MONDAY"</span>:<font></font>
                System.out.println(<span class="hljs-string">""</span>);
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">"TUESDAY"</span>:<font></font>
                System.out.println(<span class="hljs-string">""</span>);
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">"WEDNESDAY"</span>:<font></font>
                System.out.println(<span class="hljs-string">""</span>);
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">"THURSDAY"</span>:<font></font>
                System.out.println(<span class="hljs-string">""</span>);
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">"FRIDAY"</span>:<font></font>
                System.out.println(<span class="hljs-string">""</span>);
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">"SATURDAY"</span>:<font></font>
                System.out.println(<span class="hljs-string">""</span>);
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">"SUNDAY"</span>:<font></font>
                System.out.println(<span class="hljs-string">""</span>);
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">default</span>:<font></font>
                System.out.println(<span class="hljs-string">"Day of week not found, try again with today day of week"</span>);<font></font>
                String displayName = LocalDate.now().getDayOfWeek().name();<font></font>
                translateDayOfWeek(displayName);<font></font>
        }<font></font>
    }</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O processamento de uma condi√ß√£o requer pelo menos tr√™s linhas - caso, a√ß√£o, interrup√ß√£o. </font><font style="vertical-align: inherit;">Agora, com a funcionalidade aprimorada do switch, podemos reduzir a constru√ß√£o acima para isso:</font></font><br>
<br>
<pre><code class="java hljs">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">translateDayOfWeek</span><span class="hljs-params">(String dayOfWeek)</span> </span>{
        <span class="hljs-keyword">switch</span> (dayOfWeek) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">"MONDAY"</span> -&gt; System.out.println(<span class="hljs-string">""</span>);
            <span class="hljs-keyword">case</span> <span class="hljs-string">"TUESDAY"</span> -&gt; System.out.println(<span class="hljs-string">""</span>);
            <span class="hljs-keyword">case</span> <span class="hljs-string">"WEDNESDAY"</span> -&gt; System.out.println(<span class="hljs-string">""</span>);
            <span class="hljs-keyword">case</span> <span class="hljs-string">"THURSDAY"</span> -&gt; System.out.println(<span class="hljs-string">""</span>);
            <span class="hljs-keyword">case</span> <span class="hljs-string">"FRIDAY"</span> -&gt; System.out.println(<span class="hljs-string">""</span>);
            <span class="hljs-keyword">case</span> <span class="hljs-string">"SATURDAY"</span> -&gt; System.out.println(<span class="hljs-string">""</span>);
            <span class="hljs-keyword">case</span> <span class="hljs-string">"SUNDAY"</span> -&gt; System.out.println(<span class="hljs-string">""</span>);
            <span class="hljs-keyword">default</span> -&gt; {<font></font>
                System.out.println(<span class="hljs-string">"Day of week not found, try again with today day of week"</span>);<font></font>
                String displayName = LocalDate.now().getDayOfWeek().name();<font></font>
                translateDayOfWeek(displayName);<font></font>
            }<font></font>
        }<font></font>
    }</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Concordo, bastante compacto, elegante e com lambdas. </font><font style="vertical-align: inherit;">Vale a pena, voc√™ decide. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A prop√≥sito, a mudan√ßa de IDEA 2020.1, escrita de acordo com as regras antigas, sugere cuidadosamente reescrever de uma nova maneira.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/6g/vc/-k/6gvc-klmcnwryt4hnukssulzaqe.jpeg"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JEP 362. Portas Solaris e SPARC agora obsoletas</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tudo √© simples aqui. </font><font style="vertical-align: inherit;">A Oracle decidiu que n√£o valia a pena gastar recursos no suporte a portas Solaris e SPARC, e os funcion√°rios liberados deveriam mudar para o desenvolvimento de novos recursos.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JEP 363. Removendo o coletor de lixo Concurent Mark Sweep que foi marcado anteriormente como Descontinuado</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A remo√ß√£o do coletor de lixo do CMS foi discutida h√° dois anos, no nono lan√ßamento. </font><font style="vertical-align: inherit;">Durante esse per√≠odo, dois coletores de lixo foram lan√ßados - ZGC e Shenandoah. </font><font style="vertical-align: inherit;">Ao mesmo tempo, nenhum dos colaboradores confi√°veis ‚Äã‚Äãda Oracle prestou aten√ß√£o no suporte ao CMS. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em geral, o m√©dico disse ao necrot√©rio - depois ao necrot√©rio.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JEP 364, 365. Portando o ZGC no macOS e Windows</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Normalmente, implantamos aplicativos nas plataformas Linux, mas, para o desenvolvimento local, geralmente usamos o Windows e o Mac. </font><font style="vertical-align: inherit;">Para essas necessidades, o Java 14 portou o coletor de lixo ZGC para essas duas plataformas.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JEP 366. Combina√ß√£o ParallelScavenge + SerialOld GC agora descontinuada</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
H√° uma configura√ß√£o de coletor de lixo usada muito raramente - quando o jovem ParallelScavenge √© combinado com o SerialOld. </font><font style="vertical-align: inherit;">Por que isso √© feito n√£o est√° claro, pois ParallelScavenge √© paralelo e SerialOld, pelo contr√°rio, n√£o √©. </font><font style="vertical-align: inherit;">A inclus√£o dessa combina√ß√£o requer dan√ßas especiais com um pandeiro e requer muitos desenvolvedores de sangue. </font><font style="vertical-align: inherit;">‚ÄúA Oracle se preocupa com voc√™‚Äù, por isso marca essa configura√ß√£o como obsoleta e espera envi√°-la em breve ao coletor de lixo do CMS. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos nos alegrar, irm√£os.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JEP 367. Removendo as ferramentas e APIs do Pack200 (que foram marcadas como Descontinuadas no Java 11)</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A virada do pack200, unpack200 e API pack200 veio para um descanso bem merecido. </font><font style="vertical-align: inherit;">E o motivo √© a obsolesc√™ncia desse empacotador. </font><font style="vertical-align: inherit;">Era uma vez, quando a Internet era modem e sua velocidade era de 56k (lembram-se os boomers), o JDK teve que ser bombeado por horas. </font><font style="vertical-align: inherit;">Foi inventado um empacotador que comprimiria o JDK melhor e reduziria o tempo de download. </font><font style="vertical-align: inherit;">Al√©m disso, eles poderiam compactar applets e aplicativos clientes. </font><font style="vertical-align: inherit;">Mas o tempo passou e, nas velocidades atuais, o empacotador n√£o √© relevante. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os seguintes pacotes ser√£o removidos: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
java.util.jar.Pack200 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
java.util.jar.Pack200.Packer </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
java.util.jar.Pack200.Unpacker </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
, bem como o m√≥dulo jdk.pack.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JEP 368. Blocos de Texto</font></font></h2><br>
<img src="https://habrastorage.org/webt/mr/g9/_v/mrg9_vzcquzspnav3ld9yl0ofcm.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ao mesmo tempo, o Java teve (entre uma meia d√∫zia de outras linguagens) um impacto no Python. </font><font style="vertical-align: inherit;">Como o Python est√° rapidamente ganhando popularidade e avan√ßando com confian√ßa com outros l√≠deres dos gr√°ficos Java e C IT, n√£o h√° nada de errado em espiar. </font><font style="vertical-align: inherit;">Ao mesmo tempo, o Java 9 introduziu o JShell, muito semelhante ao pythonium Jupiter. </font><font style="vertical-align: inherit;">E agora, chegou a hora dos blocos de texto. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quando precisamos escrever uma linha, escrevemos uma linha:</font></font><br>
<br>
<pre><code class="java hljs">String s = <span class="hljs-string">""</span>;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quando precisamos escrever uma string formatada, escrevemos algo como isto:</font></font><br>
<pre><code class="java hljs">String oldHtml = <span class="hljs-string">"&lt;html&gt;\n\t&lt;body&gt;\n\t\t&lt;p&gt;Hi all!&lt;/p&gt;\n\t&lt;/body&gt;\n&lt;/html&gt;"</span>;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O texto √© completamente ileg√≠vel. </font><font style="vertical-align: inherit;">E assim, no Java 14, o problema est√° resolvido. </font><font style="vertical-align: inherit;">Agora, usando aspas triplas, voc√™ pode escrever qualquer texto:</font></font><br>
<br>
<pre><code class="java hljs">        String html = <span class="hljs-string">""</span><span class="hljs-string">"
                      &lt;html&gt;
                          &lt;body&gt;
                              &lt;p&gt;Hi all!&lt;/p&gt;
                          &lt;/body&gt;
                      &lt;/html&gt;
                      "</span><span class="hljs-string">""</span>;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√â muito mais conveniente e leg√≠vel. </font><font style="vertical-align: inherit;">Podemos simplesmente copiar qualquer texto no c√≥digo e n√£o nos incomodar com guias e h√≠fens. </font><font style="vertical-align: inherit;">A beleza! </font><font style="vertical-align: inherit;">Se precisarmos apenas transferir o texto para outra linha desse texto sem fazer h√≠fen, podemos usar um novo literal - a barra invertida. </font><font style="vertical-align: inherit;">Este s√≠mbolo generaliza que a transfer√™ncia a seguir n√£o √© uma transfer√™ncia. </font><font style="vertical-align: inherit;">Exemplo:</font></font><br>
<br>
<pre><code class="java hljs">        String text = <span class="hljs-string">""</span><span class="hljs-string">"
                    \
                 ,  , \
                     \
                   . \
                , ,  ! \
                  ; \
                    \
                   .
                "</span><span class="hljs-string">""</span>;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Conclus√£o:</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os deuses ainda lhe deram dias dourados, noites douradas, e virgens l√¢nguidas fixadas em seus olhos atentos. </font><font style="vertical-align: inherit;">Toca, canta, √≥ amigos! </font><font style="vertical-align: inherit;">Perca uma noite fugaz; </font><font style="vertical-align: inherit;">E sua alegria pelo descuido Atrav√©s das l√°grimas eu sorrio.</font></font></blockquote><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JEP 370. API de acesso √† mem√≥ria externa (incubadora)</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Acontece que um aplicativo acessa mem√≥ria externa como Ignite, mapDB, memcached, etc. As APIs existentes para acess√°-lo est√£o funcionando, mas a Oracle queria algo global. </font><font style="vertical-align: inherit;">Ent√£o, as abstra√ß√µes de MemorySegment, MemoryAddress e MemoryLayout apareceram. </font><font style="vertical-align: inherit;">Enquanto o recurso estiver na incubadora, todos poder√£o se contentar com ByteBuffer, Unsafe e JNI.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclus√£o</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N√£o sei voc√™, leitor, mas gosto do ciclo de seis meses para o qual a Oracle mudou desde o Java 9. Agora, a Oracle n√£o define a tarefa de liberar vers√µes absolutamente est√°veis, mas a sofisticada javista n√£o ser√° dif√≠cil de manter a par da estabilidade de um recurso ou de outro, observando pelo desenvolvimento e teste de algo da incubadora. </font><font style="vertical-align: inherit;">O idioma se tornou mais vibrante, mut√°vel, inova√ß√µes muito ousadas e empr√©stimos de outros idiomas come√ßaram a aparecer nele. </font><font style="vertical-align: inherit;">Sim, algu√©m n√£o acompanha a oscila√ß√£o dos lan√ßamentos, mas nossa profiss√£o √© tal que precisamos acompanhar, portanto, quer desejemos ou n√£o, encontramos o Java 14. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como sempre, estou anexando um projeto em um github com exemplos de c√≥digo: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[clique aqui]</font></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt491554/index.html">Ignoramos a proibi√ß√£o de mensagens API Vkontakte atrav√©s do Python</a></li>
<li><a href="../pt491556/index.html">Microsservi√ßos Java: Um Guia Pr√°tico</a></li>
<li><a href="../pt491558/index.html">Encontre mais ovos de P√°scoa de rock: de mensagens misteriosas a chamadas para lavar as m√£os e fazer a li√ß√£o de casa</a></li>
<li><a href="../pt491560/index.html">Como tornar o terminal seu assistente, n√£o um inimigo?</a></li>
<li><a href="../pt491562/index.html">FOSS News No. 6 - revis√£o de not√≠cias gratuitas e de c√≥digo aberto de 2 a 8 de mar√ßo de 2020</a></li>
<li><a href="../pt491566/index.html">Aprendizado de m√°quina na linguagem R usando o pacote mlr3</a></li>
<li><a href="../pt491568/index.html">Construindo um roteador no SOCKS em um laptop com Debian 10</a></li>
<li><a href="../pt491572/index.html">O resumo de materiais frescos do mundo do front-end da √∫ltima semana n¬∫ 405 (2 a 8 de mar√ßo de 2020)</a></li>
<li><a href="../pt491574/index.html">Um truque simples para gerenciar a procrastina√ß√£o</a></li>
<li><a href="../pt491576/index.html">Transformadores como redes neurais de grafos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>