<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üïü üë©üèø‚Äçüíª üî± Interacci√≥n con NIDD a trav√©s de SCEF utilizando la utilidad Postman. Un breve recorrido por SCEF y sus caracter√≠sticas üï∏Ô∏è ü§ôüèº üë∏</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Este art√≠culo permitir√° a aquellos que reci√©n est√°n comenzando su desarrollo o que ya est√°n aplicando tecnolog√≠a NB-IoT tener una idea de c√≥mo interac...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Interacci√≥n con NIDD a trav√©s de SCEF utilizando la utilidad Postman. Un breve recorrido por SCEF y sus caracter√≠sticas</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489608/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Este art√≠culo permitir√° a aquellos que reci√©n est√°n comenzando su desarrollo o que ya est√°n aplicando tecnolog√≠a NB-IoT tener una idea de c√≥mo interactuar remotamente con el dispositivo NB-IoT.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/hj/ax/eq/hjaxeqtz5llcdmfzbwcv6zosici.png" alt="imagen"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Breve rese√±a</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NB-IoT pisa f√°cilmente los talones de 2G y se ha establecido como un est√°ndar de energ√≠a eficiente para las comunicaciones celulares, que en el futuro previsible podr√° exprimir el 2G que ha fortalecido su posici√≥n. La raz√≥n de esto es la capacidad de abordar de manera flexible el tema del consumo de energ√≠a de una de las partes m√°s consumidoras del dispositivo: el transmisor de radio. Si no profundiza en los detalles, entonces, junto con NB-IoT, tenemos la oportunidad de configurar de manera flexible los modos de funcionamiento del dispositivo configurando el horario de comunicaci√≥n del dispositivo y la interacci√≥n del dispositivo con los servidores en Internet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Paralelamente a esto, el n√∫mero de dispositivos de suscriptor conectados simult√°neamente a una celda est√° aumentando significativamente, as√≠ como los costos del operador m√≥vil para mantener la operatividad de esta comunicaci√≥n.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se supone que el lector tiene una comprensi√≥n aproximada de la tecnolog√≠a NB-IoT y hay una experiencia m√≠nima de interacci√≥n.</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El art√≠culo se actualiza y actualiza peri√≥dicamente.</font></font></blockquote><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dificultades dentro de la red NB-IoT</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Junto con la capacidad de controlar el transmisor de radio y la alta eficiencia energ√©tica, ha surgido el problema de enviar datos en la direcci√≥n del servidor al m√≥dulo (dispositivo). La raz√≥n es que es posible proporcionar cientos de miles de dispositivos con direcciones IP blancas, pero esto implica una gran cantidad de sobrecarga y reduce la fiabilidad general de la red debido a su complejidad. El m√≥dulo recibe la direcci√≥n para el NAT del operador y es dif√≠cil para el operador traducirlo "fuera" debido a la gran cantidad de dispositivos. Por ejemplo: 100 mil dispositivos es el mismo n√∫mero de direcciones IP y, en el marco de IPv4, simplemente no parece posible implementar esto. Cambiar a IPv6 puede resolver este problema, pero a√∫n debe pagar por la direcci√≥n "blanca" del dispositivo en la red, lo que afectar√° significativamente el bolsillo de los clientes corporativos.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es decir, en el caso general, resulta que el dispositivo solo puede funcionar en modo unidireccional transmitiendo datos al servidor sin la posibilidad de recibir datos del servidor, porque el servidor pr√°cticamente no se da cuenta cuando el dispositivo se pone en contacto por primera vez. </font><font style="vertical-align: inherit;">O, use en promedio no m√°s de cinco minutos despu√©s de que se establezca la conexi√≥n entre el dispositivo y el servidor para transferir datos del servidor al dispositivo.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NIDD (Entrega de datos no IP): ¬øpor qu√© es necesario?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cuando se trabaja con la red NB-IoT, es muy dif√≠cil recurrir a un dispositivo para transmitir un comando o algunos datos. Para resolver este problema, se invent√≥ un mecanismo para optimizar la transferencia de peque√±as cantidades de datos, la entrega de datos no IP (NIDD). </font><font style="vertical-align: inherit;">El mecanismo reduce el tama√±o general del mensaje transmitido al reducir los encabezados. </font><font style="vertical-align: inherit;">Esto, a su vez, afecta positivamente las caracter√≠sticas del dispositivo: reduce el consumo de energ√≠a y aumenta la autonom√≠a (duraci√≥n de la bater√≠a). </font><font style="vertical-align: inherit;">Como resultado, el rechazo del soporte de IP conduce a dispositivos m√°s baratos, menor tiempo de desarrollo, mayor competitividad en el mercado de dispositivos IoT, etc.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SCEF (Funci√≥n de exposici√≥n de capacidad de servicio): un regalo para los usuarios</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SCEF es un elemento funcional de la red que apareci√≥ por primera vez y 3GPP Release 13, implementado en el lado del operador m√≥vil y que proporciona un canal de comunicaci√≥n seguro entre el SCS / AS (Servidor de capacidad de servicio / Servidor de aplicaciones) y el dispositivo NB-IoT. SCEF proporciona un canal de comunicaci√≥n cuando se comunica con el dispositivo a trav√©s de NIDD y proporciona acceso a capacidades / servicios de red adicionales de la red NB-IoT a trav√©s de una √∫nica interfaz de programaci√≥n de aplicaciones (de la descripci√≥n de API T8). En 3GPP Release 13, solo se estandariz√≥ el mecanismo SCEF para interactuar con las interfaces de red celular. Por lo tanto, la carga de la red se optimiza, la interacci√≥n con el dispositivo se simplifica, el algoritmo del propio dispositivo se simplifica.SCEF tambi√©n cumple altos requisitos para la seguridad de la transmisi√≥n de datos y el cumplimiento de los requisitos para confirmar la transferencia exitosa de datos en ambas direcciones.</font></font><br>
<br>
<h3>    </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SCEF le permite abstraerse de sistemas complejos de interacci√≥n con el dispositivo NB-IoT, incluso cuando este √∫ltimo est√° en modo eDRX o PSM y no est√° disponible para la transferencia de datos en la direcci√≥n del servidor-&gt; dispositivo. Cuando el dispositivo ha recibido el registro y est√° "de acuerdo" con la red del operador de red sobre el cronograma de comunicaci√≥n, utilizando una interfaz simple, puede transferir datos al dispositivo y recibir datos del mismo, administrar la "suscripci√≥n" de su dispositivo y AS a ciertos eventos, establecer y vincular los √∫nicos usted mismo Nombres de identificaci√≥n universal y m√°s. Todo esto a trav√©s de la misma interfaz: T8 API. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es importante tener en cuenta que un servidor (AS) no puede ser uno, sino varios, y puede configurar de manera flexible la distribuci√≥n de informaci√≥n entre servidores para ciertos eventos o grupos de dispositivos.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√≥mo funciona</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La soluci√≥n m√°s popular para organizar el acceso de un dispositivo a una red celular es el uso de un m√≥dulo celular, por ejemplo:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/f6/yn/xw/f6ynxwxpeypur3-lg6wabxhwyay.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al registrarse en una red celular, dicho m√≥dulo transmite al operador cierta informaci√≥n, incluido el IMSI de una tarjeta SIM de suscriptor que el operador puede asociar con la cuenta del suscriptor o el propio suscriptor si tiene acceso a la cuenta personal del operador. Detr√°s de la pantalla SCEF se esconde el conocimiento de la pr√≥xima sesi√≥n de comunicaci√≥n con el dispositivo. El registro de un dispositivo no IP en la red del operador solo es posible si hay al menos una suscripci√≥n de SCS / AS a este dispositivo. Sin suscripci√≥n: nadie se comunicar√° con este dispositivo a trav√©s de NIDD, y el dispositivo no se registrar√° en la red. Por lo tanto, SCEF, al conocer la pr√≥xima sesi√≥n de comunicaci√≥n, puede transferir datos desde / hacia el dispositivo, de acuerdo con los par√°metros de entrega especificados y la vida √∫til del mensaje transmitido, sin la necesidad de organizar un monitoreo adicional del estado de la transferencia de datos y el control de entrega.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ligereza</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Encapsular unidades de bytes de datos del dispositivo en el protocolo TCP y transferirlo al servidor es costoso en t√©rminos de cientos de miles de dispositivos de suscriptores en la flota de la compa√±√≠a. </font><font style="vertical-align: inherit;">SCEF le permite abandonar la IP en el dispositivo y transferir solo datos que no sean IP, sin encabezados IP a trav√©s del canal de se√±al, lo que contribuye a una reducci√≥n m√∫ltiple en el costo del byte transmitido y proporciona beneficios adicionales del uso del servicio. </font><font style="vertical-align: inherit;">Adem√°s, SCEF no realiza ning√∫n cambio en los datos transmitidos tanto al dispositivo como desde este, la carga √∫til se transmite de forma transparente. </font><font style="vertical-align: inherit;">Por lo tanto, usando NIDD es posible transferir no solo datos no estructurados, sino tambi√©n datos "empaquetados" en un formato estandarizado comprensible, como JSON, para simplificar el procesamiento de datos en el lado AS.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comienzo de trabajo</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La estructura del URI (Identificador Uniforme de Recursos) en el ejemplo de Cartero</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En primer lugar, debe obtener acceso a su cuenta personal del operador (servicio M2M-manager). </font><font style="vertical-align: inherit;">Para la implementaci√≥n comercial de MTS, se proporciona una √∫nica interfaz de cuenta personal, donde puede crear independientemente APN, acceso de acceso / contrase√±a a la API y asignar los nombres ScsAsID, extID para sus dispositivos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aquellos. </font><font style="vertical-align: inherit;">al menos necesitaremos:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ScsAsID: su ID de AS</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">APN: el que generalmente se usa para interactuar con la red no funcionar√°</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Inicio de sesi√≥n / Contrase√±a: datos para acceder a su cuenta personal e interacci√≥n con SCEF</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">URI: direcci√≥n HTTTP y puerto en la red que le proporciona SCEF </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">externalID - ID de nuestro dispositivo</font></font></li>
</ul><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pasemos a practicar</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La teor√≠a ha terminado, pasemos a la parte m√°s interesante: la pr√°ctica en el m√≥dulo de producci√≥n de SIMCom Wireless Solutions: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SIM7020E</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ue/d6/_o/ued6_opqiacsy2l1axsi8zch1d0.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Primero debe configurar el m√≥dulo para que funcione con NIDD. </font><font style="vertical-align: inherit;">Para hacer esto, primero ponga el m√≥dulo en modo CFUN = 0 y config√∫relo:</font></font><br>
<br>
<pre><code class="plaintext hljs">AT+CFUN=0<font></font>
+CPIN: NOT READY<font></font>
<font></font>
OK<font></font>
AT+ENVDM=1,tel_conn_mgr,default_pdn_flag,1,30<font></font>
OK<font></font>
AT*MCGDEFCONT="Non-IP","&lt;APN&gt;"<font></font>
OK<font></font>
AT+CFUN=1<font></font>
OK<font></font>
<font></font>
+CPIN: READY<font></font>
AT+EGACT=1,4,"&lt;APN&gt;"<font></font>
+EGACT:1<font></font>
<font></font>
OK<font></font>
<font></font>
+EGACT:1,1,1,4</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comprobaci√≥n del registro del m√≥dulo en la red de paquetes de datos</font></font><br>
<br>
<pre><code class="plaintext hljs">AT+CGREG?<font></font>
+CGREG: 0,1<font></font>
<font></font>
OK</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y termine de configurar NIDD</font></font><br>
<br>
<pre><code class="plaintext hljs">AT+NIDD=0,"&lt;APN&gt;","&lt;login&gt;","&lt;pass&gt;"<font></font>
+NIDD=0,0<font></font>
<font></font>
OK</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La respuesta del m√≥dulo contendr√° account_id aqu√≠: + NIDD = 0, &lt;account_id&gt;: esto ser√° √∫til al activar NIDD en el m√≥dulo.</font></font><br>
<br>
<pre><code class="plaintext hljs">AT+NIDD=1,0<font></font>
+NIDD=1,0<font></font>
<font></font>
OK</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En este caso, account_id es 0. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Listo. </font><font style="vertical-align: inherit;">En esta etapa, se completa el trabajo con el m√≥dulo. </font><font style="vertical-align: inherit;">Pasemos a configurar SCEF. </font></font><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un punto importante: sin una suscripci√≥n registrada en SCEF, ¬°el m√≥dulo no recibir√° registro en la red!</font></font></u><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SCEF</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API T8</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hay un documento especial que detalla la interacci√≥n con SCEF. </font><font style="vertical-align: inherit;">Esta API define un conjunto de modelos de datos, recursos y procedimientos relacionados para transmitir datos que no son IP.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/yd/nm/zz/ydnmzzwqtgnhqbxt7gnrsdpow00.png"></div><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Trabajar con SCEF y suscripciones de servicio: JSON (JavaScript Object Notation)</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los datos que incluyen la configuraci√≥n de SCEF y se transmiten a trav√©s de HTTP / 1.1 a SCEF deben codificarse en formato JSON, y el cuerpo de la solicitud HTTP en el campo Tipo de contenido debe incluir el encabezado "application / json". </font><font style="vertical-align: inherit;">Al mismo tiempo, si el mensaje se entreg√≥ al destinatario y se recibi√≥ la confirmaci√≥n de entrega, SCEF debe eliminar la configuraci√≥n adecuada, enviar el mensaje a trav√©s de HTTP POST para AS con el c√≥digo de estado "200 OK" y activar el informe del evento.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cartero</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No profundizar√© en c√≥mo trabajar con esta utilidad, en Internet puedes encontrar muchas rese√±as. </font><font style="vertical-align: inherit;">Solo puedo decir que tiene algunas limitaciones en su versi√≥n gratuita, pero no necesitamos mucho, la funcionalidad proporcionada de forma gratuita es m√°s que suficiente para nuestras tareas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despu√©s de descargarlo y abrirlo, la primera pesta√±a nos dar√° la bienvenida: Launchpad, donde se nos ofrecer√° crear nuestra primera solicitud, no la rechazaremos.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/mf/ej/si/mfejsivr_jj6forivsfp0jhstbu.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Proceda inmediatamente a la configuraci√≥n de nuestro nuevo dispositivo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inicialmente, hemos configurado el m√©todo GET, c√°mbielo a POST (un poco m√°s tarde quedar√° claro por qu√© es necesario). </font><font style="vertical-align: inherit;">En la pesta√±a "Autorizaci√≥n", ingrese las "credenciales" que tenemos a mano:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/96/ci/zc/96cizcahk44iy5-rpfvcznue3jw.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora cree nuestra primera solicitud:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/kp/zj/rp/kpzjrpd26ykmyt5r6xtyyoizk1w.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En el cuerpo de la solicitud, indicamos:</font></font><br>
<br>
<pre><code class="json hljs">{
    <span class="hljs-attr">"externalId"</span>: <span class="hljs-string">"&lt;ID &gt;"</span>,
    <span class="hljs-attr">"reliableDataService"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"pdnEstablishmentOption"</span>: <span class="hljs-string">"WAIT_FOR_UE"</span>,
    <span class="hljs-attr">"duration"</span>:<span class="hljs-string">"2020-12-31T23:59:59Z"</span>,
    <span class="hljs-attr">"notificationDestination"</span>: <span class="hljs-string">"http://&lt;IP &gt;:&lt;port&gt;"</span>
}</code></pre><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬°Importante!</font></font></b>
                        <div class="spoiler_text">  :<br>
<ul>
<li>‚Äúduration‚Äù ‚Äì      duration     SLA SCEF    (SCSAS/ID)   , SCEF    ,    </li>
<li>‚ÄúmaximumPacketSize‚Äù ‚Äì       / </li>
</ul></div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Observemos de inmediato que las siguientes opciones son posibles en "pdnEstablishmentOption":</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WAIT_FOR_UE - b√∫fer si el dispositivo no est√° disponible (no registrado en la red o en el PSM o en otro estado)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">INDICATE_ERROR: responde inmediatamente con un error si el dispositivo no est√° disponible</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SEND_TRIGGER: utilice el servicio de activaci√≥n de dispositivos (canal de entrega alternativo a trav√©s de SMS). </font><font style="vertical-align: inherit;">Este art√≠culo no se considera.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Usamos el mismo par√°metro para enviar datos al dispositivo. </font><font style="vertical-align: inherit;">Y al crear una suscripci√≥n, podemos enviar datos de inmediato al dispositivo, reduciendo la cantidad de solicitudes de API. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬°Todas! </font><font style="vertical-align: inherit;">Puede hacer clic en el bot√≥n Enviar y examinar cuidadosamente lo que obtenemos en respuesta de SCEF:</font></font><br>
<br>
<pre><code class="json hljs">{
    <span class="hljs-attr">"externalId"</span>: <span class="hljs-string">"&lt;ID &gt;"</span>,
    <span class="hljs-attr">"duration"</span>: <span class="hljs-string">"2020-12-31T23:59:59Z"</span>,
    <span class="hljs-attr">"notificationDestination"</span>: <span class="hljs-string">"http://&lt;IP &gt;:&lt;port&gt;"</span>,<font></font>
    ‚ÄúreliableDataService<span class="hljs-attr">": false,
    "</span>maximumPacketSize<span class="hljs-attr">": 500,
    "</span>self<span class="hljs-attr">": "</span>/3gpp-nidd/v1/&lt;ScsAsID&gt;/configurations/&lt;ID &gt;<span class="hljs-attr">",
    "</span>status<span class="hljs-attr">": "</span>ACTIVE<span class="hljs-attr">"
}</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En la l√≠nea autom√°tica, estamos interesados ‚Äã‚Äãprincipalmente en la ID de la configuraci√≥n que creamos, es extremadamente indeseable perderla, ya que lo m√°s probable es que los operadores no admitan la funci√≥n de solicitud de todas las configuraciones creadas. </font><font style="vertical-align: inherit;">Cuando se crean varios miles de dispositivos en el marco de un ScsAsID, se crear√° demasiada carga en los servidores SCEF para transmitir todas las configuraciones de dispositivos. </font><font style="vertical-align: inherit;">Lo tomamos como una regla: un dispositivo = una suscripci√≥n como parte del servicio ScsAsID. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por lo tanto, ya podemos recibir datos del m√≥dulo en el servidor, la direcci√≥n IP y el puerto que indicamos anteriormente.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transferencia de datos del m√≥dulo a AS</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Intentemos transferir datos del dispositivo a AS, regrese al m√≥dulo SIM7020E y si no lo tocamos desde el cap√≠tulo anterior y no lo apagamos, le enviaremos el comando:</font></font><br>
<br>
<pre><code class="plaintext hljs">AT+NIDD=3,&lt;account_id&gt;,"6162636465"<font></font>
OK</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tenga en cuenta que nuestro mensaje est√° codificado en HEX y contiene una secuencia simple: "abcde". </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Casi inmediatamente en el servidor (AS), que es el host, veremos:</font></font><br>
<br>
<pre><code class="xml hljs">POST / HTTP/1.1<font></font>
OCSGHTTPProcessor: 147ff7c6-a43d-4fc9-b303-0ca50f497747<font></font>
X-callback-t8-type: 3<font></font>
X-callback-url: http://<span class="hljs-tag">&lt;<span class="hljs-name">IP</span> &gt;</span>:<span class="hljs-tag">&lt;<span class="hljs-name">port</span>&gt;</span><font></font>
X-api-network-service-node: 0<font></font>
Content-Type: application/json<font></font>
Content-Length: 214<font></font>
Host: <span class="hljs-tag">&lt;<span class="hljs-name">IP</span> &gt;</span>:<span class="hljs-tag">&lt;<span class="hljs-name">port</span>&gt;</span><font></font>
Connection: Keep-Alive<font></font>
User-Agent: Apache-HttpAsyncClient/4.1.3 (Java/1.8.0_181)<font></font>
<font></font>
{"externalId":"<span class="hljs-tag">&lt;<span class="hljs-name">ID</span> &gt;</span>","niddConfiguration":"/3gpp-nidd/v1/<span class="hljs-tag">&lt;<span class="hljs-name">ScsAsID</span>&gt;</span>/configurations/<span class="hljs-tag">&lt;<span class="hljs-name">ID</span> &gt;</span>","data":"YWJjZGU=","reliableDataService":false}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El mensaje en s√≠ lleg√≥ en la codificaci√≥n </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Base64</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y se ve as√≠:</font></font><br>
<pre><code class="plaintext hljs">YWJjZGU=</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si traducimos de la codificaci√≥n Base64, obtenemos nuestro mensaje original:</font></font><br>
<pre><code class="plaintext hljs">abcde</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La codificaci√≥n Base64 se usa debido al hecho de que cuando se usa la codificaci√≥n ASCII, a veces se pierden algunos datos y el uso de Base64 hace que la transmisi√≥n sea m√°s confiable. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tambi√©n debe tenerse en cuenta que en este caso la informaci√≥n transmitida desde el m√≥dulo no se almacena dentro de SCEF y se transmite inmediatamente a nuestro servidor a trav√©s de HTTP.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transferencia de datos de AS a m√≥dulo</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para enviar datos en la direcci√≥n de nuestro AS al m√≥dulo, regresemos a Postman y creemos una nueva solicitud utilizando el m√©todo POST y la codificaci√≥n Base64. Enviaremos 1234567890 (en Base64: MTIzNDU2Nzg5MA ==) a nuestro m√≥dulo: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wz/mj/mc/wzmjmczcilbscfvrsjryyi5qfr8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tenga en cuenta que ha aparecido un ap√©ndice en el campo "direcci√≥n", en el que indicamos para qu√© configuraci√≥n queremos enviar el mensaje. Si se incluyen varios dispositivos en nuestra configuraci√≥n, puede usar el identificador "externalGroupID" y luego todos recibir√°n estos datos. Otro punto importante es la vida √∫til del mensaje enviado, indicado en segundos y tiene un rango bastante amplio.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por cierto, si el dispositivo no est√° en l√≠nea en este momento, nuestro mensaje se almacenar√° en SCEF, y la l√≠nea "MaximumLatency" nos dir√° cu√°ntos segundos quedan hasta que se destruya el mensaje si el dispositivo no se pone en contacto antes del temporizador que configuramos. . </font><font style="vertical-align: inherit;">A continuaci√≥n se muestra c√≥mo se ver√° la configuraci√≥n SCEF actual solicitada (utilizando el mecanismo GET, m√°s sobre eso a continuaci√≥n):</font></font><br>
<br>
<pre><code class="json hljs">{
    <span class="hljs-attr">"externalId"</span>: <span class="hljs-string">"&lt;ID &gt;"</span>,
    <span class="hljs-attr">"duration"</span>: <span class="hljs-string">"2020-12-31T23:59:59Z"</span>,
    <span class="hljs-attr">"notificationDestination"</span>: <span class="hljs-string">"http://&lt;IP &gt;:&lt;port&gt;"</span>,
    <span class="hljs-attr">"reliableDataService"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"status"</span>: <span class="hljs-string">"ACTIVE"</span>,
    <span class="hljs-attr">"niddDownlinkDataTransfers"</span>: [<font></font>
    {<font></font>
        <span class="hljs-attr">"externalId"</span>: <span class="hljs-string">"&lt;ID &gt;"</span>,
        <span class="hljs-attr">"reliableDataService"</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">"data"</span>: <span class="hljs-string">"MDEyMzQ1Njc4OTA="</span>,
        <span class="hljs-attr">"maximumLatency"</span>: <span class="hljs-number">96</span>,
        <span class="hljs-attr">"priority"</span>: <span class="hljs-number">1</span>,
        <span class="hljs-attr">"self"</span>: <span class="hljs-string">"/3gpp-nidd/v1/&lt;ScsAsID&gt;/configurations/&lt;ID &gt;/downlink-data-deliveries/1"</span><font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si, despu√©s de que expira el temporizador, el dispositivo a√∫n no ha sido contactado, SCEF informar√° a su servidor (AS) que el mensaje no se entreg√≥ debido a la expiraci√≥n del temporizador y el mensaje se eliminar√°:</font></font><br>
<br>
<pre><code class="xml hljs">POST / HTTP/1.1<font></font>
OCSGHTTPProcessor: 14c8cab8-ecce-4868-a59e-1f784224518b<font></font>
X-callback-t8-type: 4<font></font>
X-callback-url: http://<span class="hljs-tag">&lt;<span class="hljs-name">IP</span> &gt;</span>:<span class="hljs-tag">&lt;<span class="hljs-name">port</span>&gt;</span><font></font>
X-api-network-service-node: 0<font></font>
Content-Type: application/json<font></font>
Content-Length: 139<font></font>
Host: <span class="hljs-tag">&lt;<span class="hljs-name">IP</span> &gt;</span>:<span class="hljs-tag">&lt;<span class="hljs-name">port</span>&gt;</span><font></font>
Connection: Keep-Alive<font></font>
User-Agent: Apache-HttpAsyncClient/4.1.3 (Java/1.8.0_181)<font></font>
<font></font>
{"niddDownlinkDataTransfer":"/3gpp-nidd/v1/<span class="hljs-tag">&lt;<span class="hljs-name">ScsAsID</span>&gt;</span>/configurations/<span class="hljs-tag">&lt;<span class="hljs-name">ID</span> &gt;</span>/downlink-data-deliveries/1","status":"FAILURE"}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si tiene √©xito, SCEF responder√° de inmediato:</font></font><br>
<br>
<pre><code class="json hljs">{
    <span class="hljs-attr">"externalId"</span>: <span class="hljs-string">"&lt;ID &gt;"</span>,
    <span class="hljs-attr">"reliableDataService"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"status"</span>: <span class="hljs-string">"SUCCESS"</span>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puede agregar la capacidad de priorizar mensajes en caso de que est√©n almacenados en el b√∫fer. </font><font style="vertical-align: inherit;">Ajustado por par√°metro de "prioridad". </font><font style="vertical-align: inherit;">Cuando se env√≠a un nuevo mensaje al dispositivo y si SCEF supera el b√∫fer de entrega, el mensaje ser√° reemplazado por un mensaje con una prioridad m√°s baja; de lo contrario, el mensaje no ser√° aceptado para la entrega. </font><font style="vertical-align: inherit;">Tambi√©n es posible eliminar un mensaje del b√∫fer. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si el mensaje no se puede entregar y se almacena en el b√∫fer, recibir√° lo siguiente:</font></font><br>
<br>
<pre><code class="json hljs">{
    <span class="hljs-attr">"externalId"</span>: <span class="hljs-string">"&lt;ID &gt;"</span>,
    <span class="hljs-attr">"reliableDataService"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"self"</span>: <span class="hljs-string">"/3gpp-nidd/v1/&lt;ScsAsID&gt;/configurations/&lt;ID &gt;/downlink-data-deliveries/2"</span>,
   <span class="hljs-attr">"status"</span>: <span class="hljs-string">"BUFFERING"</span>
}</code></pre><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬°Importante!</font></font></b>
                        <div class="spoiler_text">  :<br>
/&lt;ID &gt;/downlink-data-deliveries/<b>1</b><br>
 ‚Äì      SCEF.  ,    .         .</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al recibir el mensaje, el m√≥dulo informar√° el siguiente URC:</font></font><br>
<br>
<pre><code class="plaintext hljs">+NIDD=4,0,11,0,"3031323334353637383930"</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Que en traducci√≥n de HEX a ASCII ser√° nuestro mensaje:</font></font><br>
<br>
<pre><code class="plaintext hljs">1234567890</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Solo d√©jalo aqu√≠. </font><font style="vertical-align: inherit;">Notificaci√≥n de entrega de un mensaje "almacenado":</font></font><br>
<br>
<pre><code class="json hljs">{
<span class="hljs-attr">"niddDownlinkDataTransfer"</span>:<span class="hljs-string">"3gpp-nidd/v1/&lt;ScsAsID&gt;/configurations/&lt;ID &gt;/downlink-data-deliveries/1"</span>,
<span class="hljs-attr">"status"</span>:<span class="hljs-string">"SUCCESS"</span>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es posible monitorear el estado del dispositivo a trav√©s de otro servicio SCEF llamado "Evento de Monitoreo (MONTE)". </font><font style="vertical-align: inherit;">Dentro de MONTE, es posible recibir notificaciones de eventos y hora (por ejemplo, cuando el dispositivo est√© disponible), utilizando un sistema de suscripci√≥n similar. </font><font style="vertical-align: inherit;">Pero hablemos de esto en otro momento.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Obteniendo configuraci√≥n de SCEF</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Probablemente haya notado que puede obtener la configuraci√≥n actual de SCEF. </font><font style="vertical-align: inherit;">Vamos a hacer eso. </font><font style="vertical-align: inherit;">Tomamos el Cartero que ya nos ha encantado y creamos la siguiente solicitud utilizando el m√©todo GET:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/i_/jp/j6/i_jpj6tfbbgoxt0u5sf6gl9obnk.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aquellos. </font><font style="vertical-align: inherit;">Dejamos vac√≠o el cuerpo del mensaje, y en la barra de direcciones solo necesitamos especificar el ID de la configuraci√≥n creada para nosotros para recibir su estado actual en respuesta:</font></font><br>
<br>
<pre><code class="json hljs">{
    <span class="hljs-attr">"externalId"</span>: <span class="hljs-string">"&lt;ID &gt;"</span>,
    <span class="hljs-attr">"duration"</span>: <span class="hljs-string">"2020-12-31T23:59:59Z"</span>,
    <span class="hljs-attr">"notificationDestination"</span>: <span class="hljs-string">" http://&lt;IP &gt;:&lt;port&gt;"</span>,
    <span class="hljs-attr">"reliableDataService"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"status"</span>: <span class="hljs-string">"ACTIVE"</span>,
    <span class="hljs-attr">"niddDownlinkDataTransfers"</span>: []<font></font>
}</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eliminar una configuraci√≥n en SCEF</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bueno y lo √∫ltimo: eliminaremos la configuraci√≥n creada por nosotros. </font><font style="vertical-align: inherit;">Para hacer esto, use la misma barra de direcciones que en la configuraci√≥n actual, pero c√°mbiela a DELETE:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/w_/bt/n5/w_btn5pki3qerymozmgnub-f4ug.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En respuesta, recibiremos:</font></font><br>
<br>
<pre><code class="json hljs">{
    <span class="hljs-attr">"externalId"</span>: <span class="hljs-string">" &lt;ID &gt;"</span>,
    <span class="hljs-attr">"duration"</span>: <span class="hljs-string">"2020-12-31T23:59:59Z"</span>,
    <span class="hljs-attr">" notificationDestination"</span>: <span class="hljs-string">" http://&lt;IP &gt;:&lt;port&gt;"</span>,
    <span class="hljs-attr">"reliableDataService"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"status"</span>: <span class="hljs-string">"TERMINATED"</span>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Donde en la l√≠nea "estado" veremos que la configuraci√≥n creada por nosotros es eliminada.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusi√≥n</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se puede escribir m√°s de una disertaci√≥n sobre el tema del uso de SCEF, el tema es extenso y pronto se volver√° extremadamente relevante para muchos dispositivos M2M en todas las √°reas, y especialmente para Internet de las cosas. </font><font style="vertical-align: inherit;">Lo principal que quer√≠a transmitirles era c√≥mo comenzar a trabajar con NIDD y SCEF fuera de la caja para que puedan resolverlo por su cuenta. </font><font style="vertical-align: inherit;">Pero tambi√©n siempre estoy dispuesto a ayudarlo: support@simcom.com (marcado para el equipo RUS), en la carta debe indicar sus datos de contacto y algunas palabras sobre su proyecto. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En los siguientes art√≠culos analizaremos cuidadosamente otros aspectos del trabajo con m√≥dulos celulares y usted escribir√° en los comentarios qu√© tema le interesar√°. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quiero agradecer especialmente a Sergey Novikov, el experto principal de soluciones convergentes y servicios multimedia.</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sanov</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) de MTS por su valiosa ayuda en la preparaci√≥n del art√≠culo.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fuentes utilizadas</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NB-IoT: ¬øc√≥mo funciona? </font><font style="vertical-align: inherit;">Parte 3: SCEF: una √∫nica ventana de acceso a los servicios del operador </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ETSI TS 129 122</font></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es489594/index.html">Framework vs Platform: ¬øcu√°l es la diferencia?</a></li>
<li><a href="../es489596/index.html">El resumen de materiales interesantes para el desarrollador m√≥vil # 334 (del 17 al 23 de febrero)</a></li>
<li><a href="../es489600/index.html">GDC-2020: qu√© esperar de una de las mayores exhibiciones de desarrollo de juegos</a></li>
<li><a href="../es489602/index.html">Prerender sobre lienzo 2D</a></li>
<li><a href="../es489604/index.html">¬øC√≥mo yo, l√≠der de equipo, eval√∫o proyectos</a></li>
<li><a href="../es489610/index.html">Dom√≥tica completa en un edificio nuevo</a></li>
<li><a href="../es489612/index.html">Conferencia DEFCON 27. Duplicaci√≥n de llaves mec√°nicas con acceso limitado. Parte 2</a></li>
<li><a href="../es489614/index.html">Marcado de residuos de calzado en 1C. Resolviendo el problema de escanear y subir a Honest Sign</a></li>
<li><a href="../es489618/index.html">¬øNecesitamos tal formato? .. y algunas estad√≠sticas</a></li>
<li><a href="../es489620/index.html">9 consejos sobre la terminal de Windows por Scott Hanselman</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>