<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👰🏿 🛀 🖨️ 显微镜下的BLE（ATT GATT ...） ✊🏽 🤙🏿 🤧</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="显微镜下的BLE（ATT GATT ...） 第1部分，概述
 
 自第一个蓝牙4.0规范问世以来已经有一段时间了。而且，尽管BLE主题非常有趣，但由于其复杂性，它仍将许多开发人员推开。在我以前的文章中，我主要研究了最低层的链路层和物理层。这使我们不必处理诸如属性协议（ATT）和通用属性配置文件（G...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>显微镜下的BLE（ATT GATT ...）</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/505078/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/jc/9m/ea/jc9meakt15qji8lrruuauk5z_fw.png" alt="图片"></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显微镜下的BLE（ATT GATT ...）</font></font></h2> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第1部分，概述</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
自第一个蓝牙4.0规范问世以来已经有一段时间了。</font><font style="vertical-align: inherit;">而且，尽管BLE主题非常有趣，但由于其复杂性，它仍将许多开发人员推开。</font><font style="vertical-align: inherit;">在我以前的文章中，我主要研究了最低层的链路层和物理层。</font><font style="vertical-align: inherit;">这使我们不必处理诸如属性协议（ATT）和通用属性配置文件（GATT）这样复杂而令人困惑的概念。</font><font style="vertical-align: inherit;">但是，如果不了解它们就无处可去，不可能开发兼容的设备。</font><font style="vertical-align: inherit;">今天，我想与您分享这些知识。</font><font style="vertical-align: inherit;">在我的文章中，我将借鉴</font><font style="vertical-align: inherit;">北欧网站</font><font style="vertical-align: inherit;">的</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">入门知识</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">因此，让我们开始吧。</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为什么一切都这么困难？</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我认为，很明显，通过智能手机进行设备管理是一个非常有前途且长期存在的话题。因此，他们决定立即对其进行最大程度的组织。因此，各种小工具的制造商都不会提出自己的协议，这将是不兼容的。因此很复杂。在第一阶段，他们就试图将所有可能的东西压缩到BLE协议中。是否方便也无关紧要。此外，它们提供了将来扩展设备列表的可能性。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
让我们看一下绘制BLE协议图的图片。它由几层组成。最低物理层（PHY）负责设备的无线电信道。链路层（LL）包含已传输消息中的整个字节序列。在过去的文章中，我们进行了研究。如果控制器和主机在不同芯片上实现，则主机控制器接口（HCI）是用于在层或BLE芯片之间交换的协议。逻辑链路控制和适配协议（L2CAP）负责数据包的形成，帧划分，错误控制和数据包组装。数据包加密是安全管理器协议（SMP）的职责。共享访问配置文件（GAP）负责设备之间的初始通信，以确定谁是谁。它还包括扫描和广告。在本文中，我将重点介绍协议的其余两个部分-GATT和ATT。 GATT是ATT的附加组件，因此它们相互交织。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/51/qi/ms/51qimsv8ccop7bncjcrllcc7tcg.png" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
为了简化这个故事，我想举个比喻。我在某处听到她的声音，并希望提供支持。想象一下BLE设备是一个有几个书架的书柜。每个架子都是一个单独的主题。例如，我们的书架上有小说，数学和百科全书。每个书架上都有指定主题的书。在有些书中甚至有带书签的纸制书签。此外，我们还有所有书籍的小型纸质目录。如果您还记得学校图书馆，这是一个装有纸卡的狭窄盒子。以此类推，机柜就是我们设备的轮廓。货架是服务，书籍是功能，目录是属性表。书中的书签是描述符，我将在后面详细讨论。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
开发该设备的每个人都知道许多项目都有相似的代码段。事实上，许多设备具有相似的功能。例如，如果设备使用电池运行，则充电和控制其电平的问题将是相同的。传感器也是如此。实际上，面向对象的编程方法</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“提供了创建将属性和行为组合为独立的并随后可以重用的对象的能力”</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。我认为，在BLE中，尝试了类似的方法。蓝牙特别兴趣小组（SIG）已开发了个人资料。来自不同制造商的具有相同配置文件的设备应该可以毫无困难地相互协作。概要文件又由服务和特征服务组成，并辅以描述符。通常，它看起来像这样：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/yv/7v/w-/yv7vw-vhvlnavelyabkxtwe8p0e.png" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
例如，请考虑心率监测器配置文件（健身手环）的配置文件。它由两个服务和几个特征组成。由此，配置文件层次结构立即变得清晰。检查点特征将总卡路里计数重置为零。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1.心率服务包括三个特征（0x180D）：</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&nbsp;&nbsp;&nbsp;&nbsp;a）强制性心率特征（0x2A37）</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&nbsp;&nbsp;&nbsp;&nbsp;b）人体传感器位置的可选特性（0x2A38）</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&nbsp;&nbsp;&nbsp;&nbsp;c）心率参考点的条件特性（0x2A39）</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2.电池服务（0x180F）：</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&nbsp;&nbsp;&nbsp;&nbsp;a）电池电量的强制特性（0x2A19）</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uuid</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
为了使我们能够明确地引用概要文件元素（服务，特征和描述符），我们需要对它们全部进行编号。为此，引入了诸如通用唯一ID（UUID）或通用唯一标识符的概念。在每行的括号中，仅指定了UUID。并且有一个功能。对于UUID，我们决定使用16位和128位的代码长度。你为什么问？在BLE协议中，所有事物都必须节约能源。因此，16位的尺寸是相当合理的。在不久的将来不太可能创建超过65 000个。独特的服务和功能。目前，他们可能已经计算在内的所有内容（记住它的来源-“他也算过你” ：-)）</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配置文件</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特征</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">描述符，</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以查看链接。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
但是，我想每个人都记得互联网上4字节IP地址的故事。起初他们以为就足够了，但是现在我们仍然不会去6字节的地址。为了避免重复此错误并让自制制造商发挥作用，SIG立即决定也引入128位UUID。这个人让我想起了未经许可的433 MHz频段，该频段已从无线电频道中放弃给所有Kulibin。在我们的案例中，给出了服务和特性的128位标识符。这意味着，对于我们的服务和设备，我们几乎可以使用任何128位值。无论如何，出现相同UUID的可能性趋于零。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
实际上，短的16位UUID的扩展名最多为128位。</font><font style="vertical-align: inherit;">在规范中，此扩展称为Bluetooth Base UUID，其值为00000000-0000-1000-8000-00805F9B34FB。</font><font style="vertical-align: inherit;">例如，如果16位属性UUID的值为0x1234，则等效的128位UUID的值为00001234-0000-1000-8000-00805F9B34FB。</font><font style="vertical-align: inherit;">甚至给出了相应的公式：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;128_bit_value = 16_bit_value * 2 ^ 96 + Bluetooth_Base_UUID </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我不知道这个魔术数字是从哪里来的。</font><font style="vertical-align: inherit;">如果有任何读者知道，请让他们写评论。</font><font style="vertical-align: inherit;">至于发明128位UUID，原则上，您可以使用特殊的</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">生成器</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来完成。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ATT GATT ...</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 其实，乐趣开始了。我记得ATT是基于客户端-服务器关系的。现在我们正在考虑服务器设备。它包含诸如传感器值，电灯开关状态，位置数据等信息。现在，所有“游行队伍中的参与者”都已编号，我们必须以某种方式将其放入设备的内存中。为此，我们将它们放在称为属性表的表中。记住这一点。这是BLE的核心。我们将在以后考虑。现在，我们将每一行称为一个属性。该表位于堆栈深处，通常，我们没有直接访问它的权限。我们将其初始化并转向它，但是内部发生的事情对我们而言是隐藏在七个印记后面的。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
考虑一下规范中的图片，但是在此之前，我想立即引起人们对术语（即描述符）方面的频繁混淆的关注。描述符的作用是补充对特性的描述。当需要扩展其功能时，它们将使用描述符。它们也是属性，并且以同样的方式，连同服务和特征一起位于属性表中。我们将在文章的第二部分中对它们进行详细分析。但是，有时在属性表中将描述符称为行号。必须牢记这一点。为了避免混淆，我们将为这些目的使用术语“属性指针”。</font></font><br>
<img src="https://habrastorage.org/webt/a5/rl/lk/a5rllkmo7i3doe3ripvpjd2ztwy.png" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
因此，属性是具有以下属性的离散值：</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1.属性句柄是对应于该属性的表的索引</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2.属性类型是描述其类型的UUID。3 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
.属性值是由属性指针索引的数据</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。4.属性权限是属性的一部分，权限不能是使用属性协议读取或写入的内容</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如何理解所有这些？相对而言，属性指针是它在表中的编号。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
它允许客户端在读取或写入请求中引用属性。我们可以将行（属性）从0x0001编号为0xFFFF。在我们与书架的关联中，这是纸张目录中的卡号。类似地，如在图书馆目录中一样，卡片的编号顺序是递增的。每行的编号必须大于前一行。像在库中一样，有些卡有时会丢失，所以我们有-行号上可能会有空白。这是允许的。最主要的是，它们还在不断增加。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
属性类型确定此属性是什么。与C语言类似，</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这里有布尔值，数字变量和字符串。通过属性的类型，我们认识到</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们正在处理什么以及如何继续使用此属性。下面我们看一些特定类型的属性。例如，“服务声明”（0x2800），“特征声明”（0x2803），“描述符声明”（0x2902）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
该属性的值实际上是其值，对于重言式来说很抱歉。如果属性类型是字符串，则属性值可以是例如口号“ Hello World !!!”。如果属性的类型是“服务声明”，则其值为服务本身。有时，这是有关在哪里可以找到其他属性及其属性的信息。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
属性权限允许服务器了解是否允许读取或写入访问。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
请注意，这些权限仅适用于属性值，不适用于指针，类型和权限字段本身。</font><font style="vertical-align: inherit;">那些。</font><font style="vertical-align: inherit;">如果允许属性记录，那么我们可以更改例如“ Hello World !!!”行 </font><font style="vertical-align: inherit;">在“早上好”线上。</font><font style="vertical-align: inherit;">但是我们不能禁止记录新行，也不能更改属性类型并将该行指定为“服务声明”。</font><font style="vertical-align: inherit;">客户端访问服务器时，客户端会请求其属性。</font><font style="vertical-align: inherit;">这允许客户端找出服务器可以提供的内容。</font><font style="vertical-align: inherit;">尽管没有必要读取和写入值。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">它是什么样子的</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
GATT的概念是按照非常具体且合乎逻辑的顺序将属性表中的属性分组在一起。让我们仔细看看下面的心率曲线。该表的最左列是可选的。他只是向我们描述了这行（属性）是什么。所有其他专栏已经为我们所熟悉。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/6k/vt/4l/6kvt4lzc9h6ll9kwdu9g6qps22c.png" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在每个组的顶部，我们始终具有服务广告属性。其类型始终为0x2800，并且指针取决于表中已经存在多少个属性。它的权限始终是只读的，没有任何身份验证或授权。我们稍后再讨论这些概念。值是另一个确定其服务类型的UUID。在表中，该值为0x180D，由Bluetooth SIG定义为心率服务。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
宣布服务后，宣布特征。从形式上讲，它类似于服务声明。其UUID始终为0x2803，权限也始终为只读，无需任何身份验证或授权。让我们看一下“属性值”字段，其中包含一些数据。它始终包含一个指针，一个UUID和一组属性。这三个元素描述了特征值的后续声明。指针自然会在属性表中指示特征值声明的位置。 UUID描述了我们可以期望的信息或值的类型。例如，温度值，灯开关的状态或其他任意值。最后，描述您如何与特征值交互的属性。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在这里，我们正在等待另一个陷阱。它与属性权限和特征属性相关联。让我们看一下规范中位字段的属性。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ko/co/5y/koco5ykz3gqkfwww1k48ssxvjug.png" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如您所见，这里还有提供读和写功能的字段。您可能想知道为什么我们具有属性的读/写权限和</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
特征值的读/写</font><font style="vertical-align: inherit;">属性</font><font style="vertical-align: inherit;">？他们不应该总是一样吗？实际上，特征值的属性实际上只是在GATT和应用程序层中使用的针对客户端的建议。这些只是有关客户可以从功能广告属性中获得期望的线索。让我们更详细地处理这个问题。该属性具有哪些类型的权限？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1.访问权限：</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&nbsp;&nbsp;&nbsp;&nbsp; -读取</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&nbsp;&nbsp;&nbsp;&nbsp; -写作</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&nbsp;&nbsp;&nbsp;&nbsp; -读写</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2.身份验证权限：</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&nbsp;&nbsp;&nbsp;&nbsp; -身份验证是必需的</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&nbsp;&nbsp;&nbsp;&nbsp; - </font><font style="vertical-align: inherit;">不需要</font><font style="vertical-align: inherit;">身份验证</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3.授权权限：</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&nbsp;&nbsp;&nbsp;&nbsp; -需要</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&nbsp;&nbsp;&nbsp;&nbsp; 授权</font><font style="vertical-align: inherit;">-不需要</font><font style="vertical-align: inherit;">授权</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
属性解析和特性属性之间的主要区别在于，前者与服务器有关，而后者与客户端有关。</font><font style="vertical-align: inherit;">可以允许服务器读取特征值，但是同时存在认证或授权要求。</font><font style="vertical-align: inherit;">因此，当客户请求特征的属性时，我们得到允许读取。</font><font style="vertical-align: inherit;">但是，当我们尝试阅读时，会出现错误。</font><font style="vertical-align: inherit;">因此，我们可以放心地谈论权限优先于属性。</font><font style="vertical-align: inherit;">我们无法获得有关客户端上属性权限的知识。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">描述符</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
回到我们的桌子。声明特征值之后，可以进行以下属性声明：</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1.特征的新声明（服务中可以有很多特征）</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2.新的服务声明（表中可以有很多特征）</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3.描述符的声明</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在测量心率的特性的情况下，在我们的表中，特性值的声明与描述符的声明一起出现。描述符是具有有关特征的附加信息的属性。有几种类型的描述符。我们将在本文的第二部分中详细讨论它们。现在，我们仅涉及客户端特征配置描述符（CCCD）。它的UUID为0x2902。使用此描述符，客户端可以在服务器上启用指示或通知。它们之间的差异很小，但仍然存在。通知不需要客户确认收货。指示需要这样做，尽管它发生在GATT级别，但尚未达到应用程序级别。为什么这样，你问？ las，我不知道。我只能说北欧专家建议使用通知。此外，在两种情况下都会进行数据包完整性检查（使用CRC）。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结论</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在文章结尾，我想说一下。</font><font style="vertical-align: inherit;">最后一张表有些令人困惑。</font><font style="vertical-align: inherit;">但是，我选择了它，因为它是</font><font style="vertical-align: inherit;">我所依赖</font><font style="vertical-align: inherit;">的</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文章中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">给出的</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">在我的文章的第二部分中，我打算深入研究蓝牙4.0规范。</font><font style="vertical-align: inherit;">在那里，我们正在等待更正确的方案和图纸。</font><font style="vertical-align: inherit;">在第三部分中，我想解析在Wireshark程序的帮助下从其中一个小工具获得的日志，并“活用”我们正在研究的所有理论。</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">凯撒卫星</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
集团公司员工</font><font style="vertical-align: inherit;">
Pecherskikh Vladimir</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><br><font style="vertical-align: inherit;"></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN505052/index.html">快速测试Motionia.js和Consoleimg.js</a></li>
<li><a href="../zh-CN505060/index.html">通过Python将numpy数组插入MySQL数据库</a></li>
<li><a href="../zh-CN505064/index.html">Mikrotik split-dns：他们做到了</a></li>
<li><a href="../zh-CN505070/index.html">关于良好写作的智力自慰</a></li>
<li><a href="../zh-CN505074/index.html">托管和专用服务器：回答问题。第2部分。为什么数据中心中的互联网如此昂贵？</a></li>
<li><a href="../zh-CN505080/index.html">异步代码领域的互斥量</a></li>
<li><a href="../zh-CN505090/index.html">关于翻译“有用” /“使用”而不使用/有用的词语</a></li>
<li><a href="../zh-CN505092/index.html">我如何在Microsoft工作</a></li>
<li><a href="../zh-CN505098/index.html">Snom D717 IP电话评论</a></li>
<li><a href="../zh-CN505104/index.html">我们如何开发进入全球前5大药房的服务</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>