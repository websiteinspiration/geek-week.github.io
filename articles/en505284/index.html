<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëãüèª ü§´ üî• wxpython Availability is even more affordable. üëçüèΩ üè¨ üö∏</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello everyone. 
 
 Although many applications are becoming more and more WEB, in this article I want to raise the topic of application software. 
 
 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>wxpython Availability is even more affordable.</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/505284/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hello everyone. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Although many applications are becoming more and more WEB, in this article I want to raise the topic of application software. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
More specifically, about the wonderful wxpython GUI library, which is a wrapper over WX Widgets. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It is very convenient, easy to learn, has many components for building graphical interfaces of any complexity. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And most importantly - it is the most affordable in terms of accessibility. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And while most components are available right out of the box, there are still some with poor availability. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But not so long ago, a new tool appeared that should help developers further improve the availability of both new and already created earlier components.</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wx.Accessible</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In fact, he appeared earlier, back in version 4.0.4. However, in this version, wxpython developers broke basic accessibility, which was a big regression back to accessibility. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This problem can be viewed, for example, here: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wx.Accessible: generic labels seen by screen readers if the control elects not to implement IAccessible objects or name keyword for wx.Control constructor is not given</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But in the last big update 4.1.0, they fixed this problem, and now you can fully look at the new tool.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
With its help, you can both make early inaccessible components available, and expand the capabilities of existing and quite accessible components. So I came across it when I was looking for the possibility of outputting extended text information for screen readers without changing the graphical representation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Since the topic of accessibility is not the most relevant, and this component is relatively new, I did not find any intelligible examples of working with it even in the English-speaking segment of the Internet, and even more so in the Russian-speaking segment. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I will try to make my small contribution to this area. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Consider an example of working with it for clarity.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I will not give you extra standard code for creating a wx.Frame window. These examples are full for every taste. Therefore, I will briefly cite only innovations on working with wx.Accessible. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For our example, take the adv.CalendarCtrl widget. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When capturing the focus in this widget, you can navigate the dates with the arrows on the keyboard, but at the same time it is not voiced at all, and the user cannot understand at what date he is at the moment. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In addition, the widget has other problems, for example, the inability to use the keyboard to change focus from it and move on to the next interface component </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ps: if anyone knows the option of returning focus from such widgets to the window, write in the comments)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, but now the task is not to make the calendar widget fully accessible, but to show work with wx.Accessible. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So in our program we have initialization of this widget:</font></font><br>
<br>
<pre><code class="python hljs">self.date = wx.adv.CalendarCtrl(self.panel, wx.ID_ANY,<font></font>
    wx.DateTime.Today(),<font></font>
    style=wx.adv.CAL_MONDAY_FIRST |<font></font>
          wx.adv.CAL_SEQUENTIAL_MONTH_SELECTION)<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Below you need to add the following:</font></font><br>
<br>
<pre><code class="python hljs">self.date.SetAccessible(AdvCalendarAccessible(self.date))
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The AdvCalendarAccessible class is our completely new class, inherited from wx.Accessible, is presented below. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It overrides the necessary methods for screen readers. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So, create our new class:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AdvCalendarAccessible</span>(<span class="hljs-params">wx.Accessible</span>):</span><font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, window</span>):</span><font></font>
        self.window = window<font></font>
        super().__init__(window)<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">GetName</span>(<span class="hljs-params">self, index</span>):</span><font></font>
        date = self.window.GetDate()<font></font>
        <span class="hljs-keyword">return</span> (wx.ACC_OK, date.Format(<span class="hljs-string">'%d.%m.%Y'</span>))<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">GetDescription</span>(<span class="hljs-params">self, index</span>):</span>
        text = <span class="hljs-string">''</span><font></font>
        date = self.window.GetDate()<font></font>
        attr = self.window.GetAttr(date.day)<font></font>
        <span class="hljs-keyword">if</span> attr <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:<font></font>
            text = attr.GetBackgroundColour().GetAsString()<font></font>
        <span class="hljs-keyword">return</span> (wx.ACC_OK, text)
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In this option, we, upon request from screen readers, return the date to them and additionally the background color of the selected date, if it is of course marked by the program.</font></font><br>
<br>
<hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So that is all. </font><font style="vertical-align: inherit;">Now users can hear all dates when navigating with the keyboard arrows on this widget. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Besides these methods, there are others as well. </font><font style="vertical-align: inherit;">For example, to voice the value of a component or its string prompt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Full documentation is available at: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wx.Accessible</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I hope someone will find the information useful, and your programs will become one step more accessible.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en505268/index.html">Personal experience: from frontend developer to leader</a></li>
<li><a href="../en505274/index.html">Deadly sins of site security: what we learned from the vulnerability scanner statistics for the year</a></li>
<li><a href="../en505276/index.html">How we taught ABBYY FineReader PDF to edit whole paragraphs</a></li>
<li><a href="../en505278/index.html">39 abbreviations in English for beginner marketers and seoshnikov</a></li>
<li><a href="../en505280/index.html">Magento 2: Critical CSS</a></li>
<li><a href="../en505286/index.html">20% of the population with PTSD (post-traumatic stress disorder) after self-isolation and quarantine?</a></li>
<li><a href="../en505292/index.html">DATA VAULT Data Showcases</a></li>
<li><a href="../en505296/index.html">Koyaaniskatsi processor unit: Difficult to pronounce, easier to program</a></li>
<li><a href="../en505298/index.html">Flight of Crew Dragon in photos and video</a></li>
<li><a href="../en505300/index.html">Oil industry for engineers, programmers, mathematicians and the masses of workers, part 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>