<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🆘 ♍️ 🎰 檻の中のビットコイン？ 🌤️ 🧟 👨‍💼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="たまたま私はコンピュータシステムとネットワーク（略してsysadmin）のプロの管理者であり、たまたまprofに教えました。上記のセキュリティ対策を必要とするものを含む、さまざまなシステムの活動。少し前に、ビットコインを自分にとって興味深いものであると感じ、それを使用しただけでなく、開発の観点からビ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>檻の中のビットコイン？</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/477124/"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">たまたま私はコンピュータシステムとネットワーク（略してsysadmin）のプロの管理者であり、たまたまprofに教えました。上記のセキュリティ対策を必要とするものを含む、さまざまなシステムの活動。少し前に、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ビットコイン</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を自分にとって興味深いものであると感じ</font><font style="vertical-align: inherit;">、それを使用しただけでなく、開発の観点からビットコインネットワーク（結局のところp2p）と独立して動作する方法を学ぶためにいくつかのマイクロサービスを開始</font><font style="vertical-align: inherit;">したことも判明しました</font><font style="vertical-align: inherit;">（私は確かに自分自身な</font></font><code>dev</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ので、通り過ぎます）。しかし、私は開発について話しているのではなく、アプリケーションのための安全で効果的な環境について話しているのです。</font></font></p><a name="habracut"></a><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">金融技術（</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fintech</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）は情報セキュリティ（</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">infosec</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）と</font><em><font style="vertical-align: inherit;">併用</font></em><font style="vertical-align: inherit;">でき、最初の</font><font style="vertical-align: inherit;">技術</font><font style="vertical-align: inherit;">は2番目の技術なしでも機能しますが、長くは続きません。そのため、私は自分の経験と、</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fintech</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">infosecの</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">両方を含む私が使用するツールのセットを共有したいと思います。</font><font style="vertical-align: inherit;">同時に、それはより広い目的や完全に異なる目的にも使用できます。この記事では、ビットコインについてではなく、金融サービス（だけでなく）の開発と運用のためのインフラストラクチャのモデルについて説明します。つまり、「B」が重要なサービスです。これは、ビットコイン取引所と、ビットコインをまったく持たない小企業のサービスの最も典型的な企業動物園の両方に当てはまります。</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私は</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「愚かなシンプルさ」</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「少ないほうが多い」</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">という原則の支持者であることを指摘したい</font><font style="vertical-align: inherit;">ので、記事とそこに記述されている記事の両方に、これらの原則に関する特性があります。</font></font></p><br>
<p><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">架空のシナリオ：</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ビットコイン交換器の例を見てみましょう。私たちはルーブル、ドル、ユーロをビットコインに、またはその逆に交換することを開始することを決めました、そして私たちはすでに実用的な解決策を持っていますが、キウイやウェブマネーのような他のデジタルマネー、すなわち私たちはすべての法的問題を解決しました。ルーブル、ドル、ユーロ、その他の支払いシステムの支払いゲートウェイとして機能する既製のアプリケーションがあります。銀行口座に関連付けられており、最終的なアプリケーション用の特定のAPIを備えています。また、一般的なキウイやウェブマネーアカウントなど、ユーザーの交換者として機能するウェブアプリケーションもあります。アカウントを開いたり、カードを追加したりします。 LANでREST APIを使用していますが、ゲートウェイアプリケーションと通信します。そして、ビットコインを接続し、同時にインフラストラクチャをアップグレードすることにしました。最初はすべてがテーブルの下のオフィスの仮想ボックスに殺到していました...彼らはサイトを使い始めました、そして私たちは稼働時間とパフォーマンスについて心配し始めました。</font></font></p><br>
<p>,    —  . ..          (OVH)   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a>         .iso,   ,  -     .   ,           ,      .   ,  ,                  "  ",                     .</p><br>
<p><strong> </strong></p><br>
<p>  .      .    FreeBSD.    (      )  IPMI        .iso FreeBSD .      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Ansible</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">mfsbsd</a>. ,     kimsufi,   <em>custom installation</em>  ,        ""    /home ,     ,    .</p><br>
<p><img src="https://habrastorage.org/webt/-m/ve/av/-mveavdklaybhokh5sznmisf7be.png"></p><br>
<p>    ,      ,  ,         <em>hardening</em> ,   <code>bsdinstaller</code>    (    ):</p><br>
<p><img src="https://habrastorage.org/webt/pj/6w/no/pj6wnohhskxkw6vqigcucollot0.png"></p><br>
<p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a>   ,     . </p><br>
<p>          .          . *<em>ee —     BSD</em></p><br>
<p><code># ee /etc/rc.conf</code></p><br>
<pre><code class="plaintext hljs">...<font></font>
#sec hard<font></font>
clear_tmp_enable="YES"<font></font>
syslogd_flags="-ss"    <font></font>
sendmail_enable="NONE"<font></font>
</code></pre><br>
<p><code># ee /etc/sysctl.conf</code></p><br>
<pre><code class="plaintext hljs">...<font></font>
#sec hard<font></font>
security.bsd.see_other_uids=0<font></font>
security.bsd.see_other_gids=0<font></font>
security.bsd.unprivileged_read_msgbuf=0<font></font>
security.bsd.unprivileged_proc_debug=0<font></font>
kern.randompid=$(jot -r 1 9999)<font></font>
security.bsd.stack_guard_page=1</code></pre><br>
<p>   ,       ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">    </a>.   , ,     , ..     -.     SSH     -,        .</p><br>
<p>  <code>aide</code>,     .     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>.</p><br>
<p><code>pkg install aide</code></p><br>
<p>   </p><br>
<p><code>crontab -e</code></p><br>
<p><code>06 01 * * 0-6 /root/chkaide.sh</code></p><br>
<pre><code class="plaintext hljs">#! /bin/sh<font></font>
#chkaide.sh<font></font>
MYDATE=`date +%Y-%m-%d`<font></font>
MYFILENAME="Aide-"$MYDATE.txt<font></font>
/bin/echo "Aide check !! `date`" &gt; /tmp/$MYFILENAME<font></font>
/usr/local/bin/aide --check &gt; /tmp/myAide.txt<font></font>
/bin/cat /tmp/myAide.txt|/usr/bin/grep -v failed &gt;&gt; /tmp/$MYFILENAME<font></font>
/bin/echo "**************************************" &gt;&gt; /tmp/$MYFILENAME<font></font>
/usr/bin/tail -20 /tmp/myAide.txt &gt;&gt; /tmp/$MYFILENAME<font></font>
/bin/echo "****************DONE******************" &gt;&gt; /tmp/$MYFILENAME</code></pre><br>
<p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a></p><br>
<p><code>sysrc auditd_enable=YES</code></p><br>
<p><code># service auditd start</code></p><br>
<p>       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>.</p><br>
<p>       .            .  ,     VT-x  EPT      .</p><br>
<p>         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">cbsd</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">olevole</a>,          !</p><br>
<p><strong>?  docker  ?</strong></p><br>
<p>   . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">FreeBSD Jails</a> —     ,    <code>cbsd</code>    ,   — .</p><br>
<p>           ,          .     -,       "".        " ",     .      ,         —                .       .    ,       ,        .             .</p><br>
<p><img src="https://habrastorage.org/getpro/habr/post_images/95c/817/901/95c8179015447a58c383f4a4a81a510d.gif" alt="画像"></p><br>
<p><strong>     ?</strong></p><br>
<p>  , <code>cbsd</code>   <code>bhyve</code>  XEN .     ,       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">  FreeBSD</a>.     <code>bhyve</code>   .</p><br>
<p><strong>    </strong></p><br>
<p>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">ZFS</a>.         .  ZFS         ,  " "  ,   ,    ,         .       .            .  ?   ,         SSH.</p><br>
<p><code>gpart add -t freebsd-zfs /dev/ada0</code></p><br>
<p><code>/dev/ada0p4 added!</code></p><br>
<p>     </p><br>
<p><code>geli init /dev/ada0p4</code></p><br>
<p>   </p><br>
<p><code>geli attach /dev/ada0p4</code></p><br>
<p>        /dev/ada0p4.eli —      .      /dev/ada1     .    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">ZFS pool</a>.</p><br>
<p><code>zpool create vms mirror /dev/ada0p4.eli /dev/ada1p4.eli /dev/ada3p4.eli</code> —  ,      .           . </p><br>
<p>    ""</p><br>
<p><code>zfs create vms/jails</code></p><br>
<p><code>pkg install cbsd</code> —  ,      .</p><br>
<p>   <code>cbsd</code> ,   :</p><br>
<p><code># env workdir="/vms/jails" /usr/local/cbsd/sudoexec/initenv</code></p><br>
<p>     ,    -.</p><br>
<p>*   ,     <code>cbsdd</code>   ,         (     zabbix)</p><br>
<p>**     NAT  <code>cbsd</code>,      <code>pf</code>.</p><br>
<p><code># sysrc pf_enable=YES</code></p><br>
<p><code># ee /etc/pf.conf</code></p><br>
<pre><code class="plaintext hljs">IF_PUBLIC="em0"<font></font>
IP_PUBLIC="1.23.34.56"<font></font>
JAIL_IP_POOL="192.168.0.0/24"<font></font>
<font></font>
#WHITE_CL="{ 127.0.0.1 }"<font></font>
<font></font>
icmp_types="echoreq"<font></font>
<font></font>
set limit { states 20000, frags 20000, src-nodes 20000 }<font></font>
set skip on lo0<font></font>
scrub in all<font></font>
<font></font>
#NAT for jails<font></font>
nat pass on $IF_PUBLIC from $JAIL_IP_POOL to any -&gt; $IP_PUBLIC<font></font>
<font></font>
## Bitcoin network port forward<font></font>
IP_JAIL="192.168.0.1"<font></font>
PORT_JAIL="{8333}"<font></font>
rdr pass on $IF_PUBLIC proto tcp from any to $IP_PUBLIC port $PORT_JAIL -&gt; $IP_JAIL<font></font>
</code></pre><br>
<p><code># service pf start</code></p><br>
<p><code># pfctl -f /etc/pf.conf</code></p><br>
<p>      ,         BLOCK ALL    ,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a>     -    .</p><br>
<p>  …    cbsd,       —    !</p><br>
<p><code>cbsd jconstruct-tui</code></p><br>
<p><img src="https://habrastorage.org/webt/jf/yn/l5/jfynl5o0yozaua314r4e65yxy0y.png"></p><br>
<p>     .      , !</p><br>
<p>   ,         .      FreeBSD  <code>repo</code>.           (    ,    ).</p><br>
<p>     —  !</p><br>
<p><code># cbsd jstart bitcoind</code></p><br>
<p>      .</p><br>
<p><code># jls</code></p><br>
<pre><code class="plaintext hljs">   JID  IP Address      Hostname                      Path<font></font>
     1  192.168.0.1     bitcoind.space.com            /zroot/jails/jails/bitcoind</code></pre><br>
<p><code>jexec bitcoind</code>      </p><br>
<p>         ( -  )</p><br>
<p><code>bitcoind:/@[15:25] # pkg install bitcoin-daemon bitcoin-utils</code></p><br>
<p><code>bitcoind:/@[15:30] # sysrc bitcoind_enable=YES</code></p><br>
<p><code>bitcoind:/@[15:30] # service bitcoind start</code></p><br>
<p>   ,    ,          .               .  <code>pf</code>   NAT   IP    ,   NAT    TOR-.        ,          ,    ,    IP  .      ,  ""   ".onion"-         .</p><br>
<p><code># cbsd jsconstruct-tui</code></p><br>
<p><code># cbsd jstart tor</code></p><br>
<p><code># jexec tor</code></p><br>
<p><code>tor:/@[15:38] # pkg install tor</code></p><br>
<p><code>tor:/@[15:38] # sysrc tor_enable=YES</code></p><br>
<p><code>tor:/@[15:38] # ee /usr/local/etc/tor/torrc</code></p><br>
<p>     (   )</p><br>
<p><code>SOCKSPort 192.168.0.2:9050</code></p><br>
<p>        . ,      ,    .  nginx,     reverse-proxy     Let's Encrypt </p><br>
<p><code># cbsd jsconstruct-tui</code></p><br>
<p><code># cbsd jstart nginx-rev</code></p><br>
<p><code># jexec nginx-rev</code></p><br>
<p><code>nginx-rev:/@[15:47] # pkg install nginx py36-certbot</code></p><br>
<p><em>  150      .   - .</em></p><br>
<p>   nginx ,            nodejs  rust  -,   -     ,       MySQL.</p><br>
<p><code># cbsd jsconstruct-tui</code></p><br>
<p><code># cbsd jstart paygw</code></p><br>
<p><code># jexec paygw</code></p><br>
<p><code>paygw:/@[15:55] # pkg install git node npm</code></p><br>
<p><code>paygw:/@[15:55] # curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh</code></p><br>
<p><em>…   380   </em></p><br>
<p>       .</p><br>
<p><code># cbsd jsconstruct-tui</code></p><br>
<p><code># cbsd jstart webapp</code></p><br>
<p><code># jexec webapp</code></p><br>
<p><code>webapp:/@[16:02] # pkg install mariadb104-server apache24 php74 mod_php74 php74-pdo_mysql</code></p><br>
<p><em>450  .  .</em></p><br>
<p>     SSH   ,     :</p><br>
<p><code>webapp:/@[16:02] # ee /etc/ssh/sshd_config</code></p><br>
<p><code>Port 2267</code> —   SSH    </p><br>
<p><code>webapp:/@[16:02] # sysrc sshd_enable=YES</code></p><br>
<p><code>webapp:/@[16:02] # service sshd start</code></p><br>
<p> ,  ,     <code>pf</code> firewall</p><br>
<p>            ""</p><br>
<p><code># jls</code></p><br>
<pre><code class="plaintext hljs">   JID  IP Address      Hostname                      Path<font></font>
     1  192.168.0.1     bitcoind.space.com            /zroot/jails/jails/bitcoind<font></font>
     2  192.168.0.2     tor.space.com                 /zroot/jails/jails/tor<font></font>
     3  192.168.0.3     nginx-rev.space.com           /zroot/jails/jails/nginx-rev<font></font>
     4  192.168.0.4     paygw.space.com               /zroot/jails/jails/paygw<font></font>
     5  192.168.0.5     webapp.my.domain              /zroot/jails/jails/webapp</code></pre><br>
<p>  </p><br>
<p><code># ee /etc/pf.conf</code></p><br>
<pre><code class="plaintext hljs">## SSH for web-Devs<font></font>
IP_JAIL="192.168.0.5"<font></font>
PORT_JAIL="{ 2267 }"<font></font>
rdr pass on $IF_PUBLIC proto tcp from any to $IP_PUBLIC port $PORT_JAIL -&gt; $IP_JAIL<font></font>
</code></pre><br>
<p>     ,       reverse-proxy:</p><br>
<pre><code class="plaintext hljs">## web-ports for nginx-rev<font></font>
IP_JAIL="192.168.0.3"<font></font>
PORT_JAIL="{ 80, 443 }"<font></font>
rdr pass on $IF_PUBLIC proto tcp from any to $IP_PUBLIC port $PORT_JAIL -&gt; $IP_JAIL</code></pre><br>
<p><code># pfctl -f /etc/pf.conf</code></p><br>
<p><strong>     </strong></p><br>
<p>   —    -,   ,        .             —  <code>bitcoind</code>    ,      .     RPC   ,        "".      <code>electrum</code> —  CLI . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a>       " "    —    ,     ""        .      GUI,          <br>
.       ,        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">ElectrumX</a>,        .</p><br>
<p><code># cbsd jsconstruct-tui</code></p><br>
<p><code># cbsd jstart electrum</code></p><br>
<p><code># jexec electrum</code></p><br>
<p><code>electrum:/@[8:45] # pkg install py36-electrum</code></p><br>
<p><em> 700      </em></p><br>
<p><code>electrum:/@[8:53] # adduser</code></p><br>
<pre><code class="plaintext hljs">Username: wallet<font></font>
Full name: <font></font>
Uid (Leave empty for default): <font></font>
Login group [wallet]: <font></font>
Login group is wallet. Invite wallet into other groups? []: <font></font>
Login class [default]: <font></font>
Shell (sh csh tcsh nologin) [sh]: tcsh<font></font>
Home directory [/home/wallet]: <font></font>
Home directory permissions (Leave empty for default): <font></font>
Use password-based authentication? [yes]: no<font></font>
Lock out the account after creation? [no]: <font></font>
Username   : wallet<font></font>
Password   : &lt;disabled&gt;<font></font>
Full Name  : <font></font>
Uid        : 1001<font></font>
Class      : <font></font>
Groups     : wallet <font></font>
Home       : /home/wallet<font></font>
Home Mode  : <font></font>
Shell      : /bin/tcsh<font></font>
Locked     : no<font></font>
OK? (yes/no): yes<font></font>
adduser: INFO: Successfully added (wallet) to the user database.<font></font>
Add another user? (yes/no): no<font></font>
Goodbye!<font></font>
electrum:/@[8:53] # su wallet</code></pre><br>
<p><code>electrum:/@[8:53] # su wallet</code></p><br>
<p><code>wallet@electrum:/ % electrum-3.6 create</code></p><br>
<pre><code class="plaintext hljs">{<font></font>
    "msg": "Please keep your seed in a safe place; if you lose it, you will not be able to restore your wallet.",<font></font>
    "path": "/usr/home/wallet/.electrum/wallets/default_wallet",<font></font>
    "seed": "jealous win pig material ribbon young punch visual okay cactus random bird"<font></font>
}</code></pre><br>
<p>     . </p><br>
<p><code>wallet@electrum:/ % electrum-3.6 listaddresses</code></p><br>
<pre><code class="plaintext hljs">[<font></font>
    "18WEhbjvMLGRMfwudzUrUd25U5C7uZYkzE",<font></font>
    "14XHSejhxsZNDRtk4eFbqAX3L8rftzwQQU",<font></font>
    "1KQXaN8RXiCN1ne9iYngUWAr6KJ6d4pPas",<font></font>
    ...<font></font>
    "1KeVcAwEYhk29qEyAfPwcBgF5mMMoy4qjw",<font></font>
    "18VaUuSeBr6T2GwpSHYF3XyNgLyLCt1SWk"<font></font>
]</code></pre><br>
<p><code>wallet@electrum:/ % electrum-3.6 help</code></p><br>
<p>  <em>on-chain</em>        .           ,   SSH     (   VPN).    SSH,     pf.conf  .</p><br>
<p><code>electrum:/@[9:00] # sysrc sshd_enable=YES</code></p><br>
<p><code>electrum:/@[9:00] # service sshd start</code></p><br>
<p>       .   IP-    ,   NAT-.   <code>/etc/pf.conf</code>  </p><br>
<p><code># ee /etc/pf.conf</code></p><br>
<p><code>JAIL_IP_POOL="192.168.0.0/24"</code>   <code>JAIL_IP_POOL="192.168.0.0/25"</code>,     192.168.0.126-255       .   "air-gap" network.  NAT    </p><br>
<p><code>nat pass on $IF_PUBLIC from $JAIL_IP_POOL to any -&gt; $IP_PUBLIC</code></p><br>
<p> </p><br>
<p><code># pfctl -f /etc/pf.conf</code></p><br>
<p>    </p><br>
<p><code># cbsd jconfig jname=electrum</code></p><br>
<p><img src="https://habrastorage.org/webt/mj/zo/ui/mjzouia2v_lhuzln_o9inimlwca.png"></p><br>
<p><img src="https://habrastorage.org/webt/_x/7-/c9/_x7-c9zdmlojjeqrpzfmv2j5fpc.png"></p><br>
<pre><code class="plaintext hljs">jset mode=quiet jname=electrum ip4_addr="192.168.0.200"<font></font>
Remove old IP: /sbin/ifconfig em0 inet 192.168.0.6 -alias<font></font>
Setup new IP: /sbin/ifconfig em0 inet 192.168.0.200 alias<font></font>
ip4_addr: 192.168.0.200</code></pre><br>
<p>,         .      proxy.    ,  TOR  SOCKS5 ,       HTTP .</p><br>
<p><code># cbsd jsconstruct-tui</code></p><br>
<p><code># cbsd jstart polipo</code></p><br>
<p><code># jexec polipo</code></p><br>
<p><code>polipo:/@[9:28] # pkg install polipo</code></p><br>
<p><code>polipo:/@[9:28] # ee /usr/local/etc/polipo/config</code></p><br>
<pre><code class="plaintext hljs">socksParentProxy = "192.168.0.2:9050"<font></font>
socksProxyType = socks5</code></pre><br>
<p><code>polipo:/@[9:42] # sysrc polipo_enable=YES</code></p><br>
<p><code>polipo:/@[9:43] # service polipo start</code></p><br>
<p> ,       -,     TOR: socks5://192.168.0.2:9050  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">http://192.168.0.6:8123</a></p><br>
<p>     </p><br>
<p><code># jexec electrum</code></p><br>
<p><code>electrum:/@[9:45] # su wallet</code></p><br>
<p><code>wallet@electrum:/ % ee ~/.cshrc</code></p><br>
<pre><code class="plaintext hljs">#in the end of file proxy config<font></font>
setenv http_proxy http://192.168.0.6:8123<font></font>
setenv https_proxy http://192.168.0.6:8123</code></pre><br>
<p> ,     - .    ,     <code>/usr/local/etc/pkg.conf</code>    </p><br>
<pre><code class="plaintext hljs">pkg_env: {<font></font>
               http_proxy: "http://my_proxy_ip:8123",<font></font>
           }</code></pre><br>
<p>      TOR hidden service     SSH    .</p><br>
<p><code># jexec tor</code></p><br>
<p><code>tor:/@[9:59] # ee /usr/local/etc/tor/torrc</code></p><br>
<pre><code class="plaintext hljs">HiddenServiceDir /var/db/tor/electrum/<font></font>
HiddenServicePort 22 192.168.0.200:22</code></pre><br>
<p><code>tor:/@[10:01] # mkdir /var/db/tor/electrum</code></p><br>
<p><code>tor:/@[10:01] # chown -R _tor:_tor /var/db/tor/electrum</code></p><br>
<p><code>tor:/@[10:01] # chmod 700 /var/db/tor/electrum</code></p><br>
<p><code>tor:/@[10:03] # service tor restart</code></p><br>
<p><code>tor:/@[10:04] # cat /var/db/tor/electrum/hostname</code></p><br>
<pre><code class="plaintext hljs">mdjus4gmduhofwcso57b3zl3ufoitguh2knitjco5cmgrokpreuxumad.onion</code></pre><br>
<p>     .   c  .      SSH-:</p><br>
<p><code>wallet@electrum:/ % mkdir ~/.ssh</code></p><br>
<p><code>wallet@electrum:/ % ee ~/.ssh/authorized_keys</code></p><br>
<pre><code class="plaintext hljs">ecdsa-sha2-nistp521 AAAAE2VjZHNhLXNoYTItbmlzdHA1MjEAAAAIbmlzdHA1MjEAAACFBAG9Fk2Lqi4GQ8EXZrsH3EgSrVIQPQaAlS38MmJLBabihv9KHIDGXH7r018hxqLNNGbaJWO/wrWk7sG4T0yLHAbdQAFsMYof9kjoyuG56z0XZ8qaD/X/AjrhLMsIoBbUNj0AzxjKNlPJL4NbHsFwbmxGulKS0PdAD5oLcTQi/VnNdU7iFw== user@local</code></pre><br>
<p>    - </p><br>
<p><code>user@local ~$ nano ~/.ssh/config</code></p><br>
<pre><code class="plaintext hljs">#remote electrum wallet<font></font>
Host remotebtc<font></font>
        User wallet<font></font>
        Port 22<font></font>
        Hostname mdjus4gmduhofwcso57b3zl3ufoitguh2knitjco5cmgrokpreuxumad.onion<font></font>
        ProxyCommand /bin/ncat --proxy localhost:9050 --proxy-type socks5 %h %p<font></font>
</code></pre><br>
<p> <em>(         TOR,    9050)</em></p><br>
<p><code>user@local ~$ ssh remotebtc</code></p><br>
<pre><code class="plaintext hljs">The authenticity of host 'mdjus4gmduhofwcso57b3zl3ufoitguh2knitjco5cmgrokpreuxumad.onion (&lt;no hostip for proxy command&gt;)' can't be established.<font></font>
ECDSA key fingerprint is SHA256:iW8FKjhVF4yyOZB1z4sBkzyvCM+evQ9cCL/EuWm0Du4.<font></font>
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes<font></font>
Warning: Permanently added 'mdjus4gmduhofwcso57b3zl3ufoitguh2knitjco5cmgrokpreuxumad.onion' (ECDSA) to the list of known hosts.<font></font>
FreeBSD 12.1-RELEASE-p1 GENERIC <font></font>
To save disk space in your home directory, compress files you rarely<font></font>
use with "gzip filename".<font></font>
        -- Dru &lt;genesis@istar.ca&gt;<font></font>
wallet@electrum:~ % logout<font></font>
</code></pre><br>
<p>!</p><br>
<p>     -      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Lightning Network</a>,         .  *<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">c-lightning</a>,       ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> Sparko</a>,    HTTP (REST)       off-chain ,    on-chain . <code>c-lightning</code>    <code>bitcoind</code> .</p><br>
<p>*<em>       Lightning Network.      c-lightning (  )     -</em></p><br>
<p><code># cbsd jsconstruct-tui</code></p><br>
<p><code># cbsd jstart cln</code></p><br>
<p><code># jexec cln</code></p><br>
<p><code>lightning:/@[10:23] # adduser</code></p><br>
<pre><code class="plaintext hljs">Username: lightning<font></font>
...</code></pre><br>
<p><code>lightning:/@[10:24] # pkg install git</code></p><br>
<p><code>lightning:/@[10:23] # su lightning</code></p><br>
<p><code>cd ~ &amp;&amp; git clone https://github.com/ElementsProject/lightning</code></p><br>
<p><code>lightning@lightning:~ % exit</code></p><br>
<p><code>lightning:/@[10:30] # cd /home/lightning/lightning/</code></p><br>
<p><code>lightning:/home/lightning/lightning@[10:31] # pkg install autoconf automake gettext git gmp gmake libtool python python3 sqlite3 libsodium py36-mako bash bitcoin-utils</code></p><br>
<p><code>lightning:/home/lightning/lightning@[10:34] # ./configure &amp;&amp; gmake &amp;&amp; gmake install</code></p><br>
<p>     ,   RPC  <code>lightningd</code>  <code>bitcoind</code></p><br>
<p><code># jexec bitcoind</code></p><br>
<p><code>bitcoind:/@[10:36] # ee /usr/local/etc/bitcoin.conf</code></p><br>
<pre><code class="plaintext hljs">rpcbind=192.168.0.1<font></font>
rpcuser=test<font></font>
rpcpassword=test<font></font>
#allow only c-lightning<font></font>
rpcallowip=192.168.0.7/32</code></pre><br>
<p><code>bitcoind:/@[10:39] # service bitcoind restart</code></p><br>
<p><em>              <code>tmux</code>,        - . : <code>screen</code></em></p><br>
<p><img src="https://habrastorage.org/webt/xu/cz/14/xucz14wosjbbeme4iis8ws4nxq8.png"></p><br>
<p>,      IP  ,        .      .onion.</p><br>
<p><code># jexec tor</code></p><br>
<p><code>tor:/@[9:59] # ee /usr/local/etc/tor/torrc</code></p><br>
<pre><code class="plaintext hljs">HiddenServiceDir /var/db/tor/cln/<font></font>
HiddenServicePort 9735 192.168.0.7:9735</code></pre><br>
<p><code>tor:/@[10:01] # mkdir /var/db/tor/cln</code></p><br>
<p><code>tor:/@[10:01] # chown -R _tor:_tor /var/db/tor/cln</code></p><br>
<p><code>tor:/@[10:01] # chmod 700 /var/db/tor/cln</code></p><br>
<p><code>tor:/@[10:03] # service tor restart</code></p><br>
<p><code>tor:/@[10:04] # cat /var/db/tor/cln/hostname</code></p><br>
<pre><code class="plaintext hljs">en5wbkavnytti334jc5uzaudkansypfs6aguv6kech4hbzpcz2ove3yd.onion</code></pre><br>
<p>    c-lightning</p><br>
<p><code>lightning:/home/lightning/lightning@[10:31] # su lightning</code></p><br>
<p><code>lightning@lightning:~ % mkdir .lightning</code></p><br>
<p><code>lightning@lightning:~ % ee .lightning/config</code></p><br>
<pre><code class="plaintext hljs">alias=My-LN-Node<font></font>
bind-addr=192.168.0.7:9735<font></font>
rgb=ff0000<font></font>
announce-addr=en5wbkavnytti334jc5uzaudkansypfs6aguv6kech4hbzpcz2ove3yd.onion:9735<font></font>
network=bitcoin<font></font>
log-level=info<font></font>
fee-base=0<font></font>
fee-per-satoshi=1<font></font>
proxy=192.168.0.2:9050<font></font>
log-file=/home/lightning/.lightning/c-lightning.log<font></font>
min-capacity-sat=200000<font></font>
<font></font>
# sparko plugin<font></font>
# https://github.com/fiatjaf/lightningd-gjson-rpc/tree/master/cmd/sparko<font></font>
<font></font>
sparko-host=192.168.0.7<font></font>
sparko-port=9737<font></font>
<font></font>
sparko-tls-path=sparko-tls<font></font>
<font></font>
#sparko-login=mywalletusername:mywalletpassword<font></font>
<font></font>
#sparko-keys=masterkey;secretread:+listchannels,+listnodes;secretwrite:+invoice,+listinvoices,+delinvoice,+decodepay,+waitpay,+waitinvoice<font></font>
sparko-keys=masterkey;secretread:+listchannels,+listnodes;ultrawrite:+invoice,+listinvoices,+delinvoice,+decodepay,+waitpay,+waitinvoice<font></font>
# for the example above the initialization logs (mixed with lightningd logs) should print something like</code></pre><br>
<p><code>lightning@lightning:~ % mkdir .lightning/plugins</code></p><br>
<p><code>lightning@lightning:~ % cd .lightning/plugins/</code></p><br>
<p><code>lightning@lightning:~/.lightning/plugins:% fetch https://github.com/fiatjaf/sparko/releases/download/v0.2.1/sparko_full_freebsd_amd64</code></p><br>
<p><code>lightning@lightning:~/.lightning/plugins % mkdir ~/.lightning/sparko-tls</code></p><br>
<p><code>lightning@lightning:~/.lightning/sparko-tls % cd ~/.lightning/sparko-tls</code></p><br>
<p><code>lightning@lightning:~/.lightning/sparko-tls % openssl genrsa -out key.pem 2048</code></p><br>
<p><code>lightning@lightning:~/.lightning/sparko-tls % openssl req -new -x509 -sha256 -key key.pem -out cert.pem -days 3650</code></p><br>
<p><code>lightning@lightning:~/.lightning/plugins % chmod +x sparko_full_freebsd_amd64</code></p><br>
<p><code>lightning@lightning:~/.lightning/plugins % mv sparko_full_freebsd_amd64 sparko</code></p><br>
<p><code>lightning@lightning:~/.lightning/plugins % cd ~</code></p><br>
<p>       bitcoin-cli, ,    <code>bitcoind</code></p><br>
<p><code>lightning@lightning:~ % mkdir .bitcoin</code></p><br>
<p><code>lightning@lightning:~ % ee .bitcoin/bitcoin.conf</code></p><br>
<pre><code class="plaintext hljs">rpcconnect=192.168.0.1<font></font>
rpcuser=test<font></font>
rpcpassword=test</code></pre><br>
<p></p><br>
<p><code>lightning@lightning:~ % bitcoin-cli echo "test"</code></p><br>
<pre><code class="plaintext hljs">[<font></font>
  "test"<font></font>
]</code></pre><br>
<p> <code>lightningd</code></p><br>
<p><code>lightning@lightning:~ % lightningd --daemon</code></p><br>
<p> <code>lightningd</code>    <code>lightning-cli</code>, :</p><br>
<p><code>lightning-cli newaddr</code> <em>     </em></p><br>
<pre><code class="plaintext hljs">{<font></font>
   "address": "bc1q2n2ffq3lplhme8jufcxahfrnfhruwjgx3c78pv",<font></font>
   "bech32": "bc1q2n2ffq3lplhme8jufcxahfrnfhruwjgx3c78pv"<font></font>
}</code></pre><br>
<p><code>lightning-cli withdraw bc1jufcxahfrnfhruwjgx3cq2n2ffq3lplhme878pv all</code> <em>      ( - )</em></p><br>
<p>    off-chain  <code>lightning-cli invoice</code>, <code>lightning-cli listinvoices</code>, <code>lightning-cli pay</code> .</p><br>
<p>         REST Api</p><br>
<p><code>curl -k https://192.168.0.7:9737/rpc -d '{"method": "pay", "params": ["lnbc..."]}' -H 'X-Access masterkey'</code></p><br>
<p><strong>   </strong></p><br>
<p><code># jls</code></p><br>
<pre><code class="plaintext hljs">   JID  IP Address      Hostname                      Path<font></font>
     1  192.168.0.1     bitcoind.space.com            /zroot/jails/jails/bitcoind<font></font>
     2  192.168.0.2     tor.space.com                 /zroot/jails/jails/tor<font></font>
     3  192.168.0.3     nginx-rev.space.com           /zroot/jails/jails/nginx-rev<font></font>
     4  192.168.0.4     paygw.space.com               /zroot/jails/jails/paygw<font></font>
     5  192.168.0.5     webapp.my.domain              /zroot/jails/jails/webapp<font></font>
     7  192.168.0.200   electrum.space.com            /zroot/jails/jails/electrum<font></font>
     8  192.168.0.6     polipo.space.com              /zroot/jails/jails/polipo<font></font>
     9  192.168.0.7     lightning.space.com           /zroot/jails/jails/cln</code></pre><br>
<p><img src="https://habrastorage.org/webt/nt/0k/ew/nt0kewrhuin48nj-lbfk1jpa4rc.png"></p><br>
<p>    ,            . </p><br>
<p><code># zfs list</code></p><br>
<pre><code class="plaintext hljs">NAME                    USED  AVAIL  REFER  MOUNTPOINT<font></font>
zroot                   279G  1.48T    88K  /zroot<font></font>
zroot/ROOT             1.89G  1.48T    88K  none<font></font>
zroot/ROOT/default     1.89G  17.6G  1.89G  /<font></font>
zroot/home               88K  1.48T    88K  /home<font></font>
zroot/jails             277G  1.48T   404M  /zroot/jails<font></font>
zroot/jails/bitcoind    190G  1.48T   190G  /zroot/jails/jails-data/bitcoind-data<font></font>
zroot/jails/cln         653M  1.48T   653M  /zroot/jails/jails-data/cln-data<font></font>
zroot/jails/electrum    703M  1.48T   703M  /zroot/jails/jails-data/electrum-data<font></font>
zroot/jails/nginx-rev   190M  1.48T   190M  /zroot/jails/jails-data/nginx-rev-data<font></font>
zroot/jails/paygw      82.4G  1.48T  82.4G  /zroot/jails/jails-data/paygw-data<font></font>
zroot/jails/polipo     57.6M  1.48T  57.6M  /zroot/jails/jails-data/polipo-data<font></font>
zroot/jails/tor        81.5M  1.48T  81.5M  /zroot/jails/jails-data/tor-data<font></font>
zroot/jails/webapp      360M  1.48T   360M  /zroot/jails/jails-data/webapp-data</code></pre><br>
<p> , bitcoind   190  .          ?  ZFS   .   <code>cbsd jclone old=bitcoind new=bitcoind-clone host_hostname=clonedbtc.space.com</code>          .        ,               (   190 )</p><br>
<p>      ZFS,    . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">ZFS   </a>     ,     SSH.    ,   . </p><br>
<p>       ,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Zabbix</a>.</p><br>
<p><strong> — </strong></p><br>
<p>  ,        :</p><br>
<p><em></em> —   UNIX-     .           — .          .           .                   .       -,             . </p><br>
<p><em></em> —        . -       , ECC , ZFS  " "        .            .   -     .</p><br>
<p><em></em> —   .           .           .                (     ).           ,         . </p><br>
<p><em> </em> —            ,  .          ,               .</p><br>
<p>           ,     ,    ,         .</p><br>
<p><strong>    ?</strong></p><br>
<p>    cbsd  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a>.   ,    <code>bhyve</code>     . </p><br>
<p><code># cat /etc/rc.conf</code></p><br>
<pre><code class="plaintext hljs">...<font></font>
kld_list="vmm if_tap if_bridge nmdm"<font></font>
...</code></pre><br>
<p><code># cat /boot/loader.conf</code></p><br>
<pre><code class="plaintext hljs">...<font></font>
vmm_load="YES"<font></font>
...</code></pre><br>
<p>       ,   - debian  !</p><br>
<p><img src="https://habrastorage.org/getpro/habr/post_images/ffd/cb6/219/ffdcb6219c701e2e114100d9601e9fea.gif"></p><br>
<p><strong>  </strong></p><br>
<p>      .          — <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">bc1qu7lhf45xw83ddll5mnzte6ahju8ktkeu6qhttc</a>.          ,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">pet-project</a>.</p></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja477110/index.html">面白い計画</a></li>
<li><a href="../ja477114/index.html">MSHインタープリターの実装</a></li>
<li><a href="../ja477118/index.html">MIROはオープンな屋内ロボットプラットフォームです。パート5-ソフトウェアコンポーネント：ARDUINO（AVR）、「内部」に登る</a></li>
<li><a href="../ja477120/index.html">Windows用の連続血糖モニタリングソフトウェア</a></li>
<li><a href="../ja477122/index.html">会社の頭脳。パート3</a></li>
<li><a href="../ja477126/index.html">5分で管理できます。フロントエンド-react-admin、バックエンド-Flask-RESTful</a></li>
<li><a href="../ja477128/index.html">週末のハブラ刑事</a></li>
<li><a href="../ja477130/index.html">「ユージーン・オネーギン」：反転（N.-F.ストーリー）</a></li>
<li><a href="../ja477132/index.html">ロシア連邦の個人データ：私たちは誰ですか？私達はどこに行くの？</a></li>
<li><a href="../ja477136/index.html">FL.ruが1つのサービスを2回販売してユーザーをだまし、独自のルールを破る方法</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>