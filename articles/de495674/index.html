<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üö¥üèΩ ü§ôüèø üìÄ Erkundung elektromagnetischer Felder mit einem SDR-Empf√§nger und OpenCV üêπ üèïÔ∏è üèöÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Der SDR-Empf√§nger, selbst der billigste, ist ein hochempfindliches Instrument. Wenn Sie eine spezielle Antenne und OpenCV hinzuf√ºgen, k√∂nnen Sie nicht...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Erkundung elektromagnetischer Felder mit einem SDR-Empf√§nger und OpenCV</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/495674/"><img src="https://habrastorage.org/webt/ib/ou/e3/iboue3wtbxaaqgybseqipvlcli0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der SDR-Empf√§nger, selbst der billigste, ist ein hochempfindliches Instrument. </font><font style="vertical-align: inherit;">Wenn Sie eine spezielle Antenne und OpenCV hinzuf√ºgen, k√∂nnen Sie nicht nur gew√∂hnlich auf den √Ñther h√∂ren, sondern auch die Verteilung elektromagnetischer Felder im Raum betrachten. </font><font style="vertical-align: inherit;">Eine solch interessante Anwendung wird in diesem Artikel diskutiert. </font><font style="vertical-align: inherit;">Beachtung! </font><font style="vertical-align: inherit;">Unter dem Schnitt viele Bilder und Animationen!</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
M√∂chten Sie elektromagnetische Felder sehen? Ja, es gibt nichts Einfacheres, hier sind sie: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/4q/wp/g1/4qwpg15jegjm3_v3nnk1oep1n8q.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich stimme zu, nicht sehr klar. Selbst wenn wir Licht sehen k√∂nnen (was auch durch diese Gleichungen beschrieben wird), ist das Funkspektrum f√ºr uns nicht so leicht zug√§nglich. Aus diesem Grund hat die Menschheit viele verschiedene M√∂glichkeiten gefunden, um dieses Geheimnis der Natur auszuspionieren, und zwar sowohl mithilfe von Computermodellen als auch mithilfe spezieller Installationen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Letzteres befindet sich innerhalb der Mauern wissenschaftlicher Institute, Forschungsabteilungen gro√üer Unternehmen und nat√ºrlich des Milit√§rs. Normalerweise ist dies ein separater Raum, der durch einen Faradayschen K√§fig vor √§u√üerer Strahlung gesch√ºtzt und von innen mit radarabsorbierenden Materialien bedeckt ist. Schlie√ülich sollte uns ein Nachbar-Amateur oder eine ungeerdete Mikrowelle bei solchen Experimenten nicht st√∂ren. Dieser Raum wird schalltote Kammer genannt. Der Name stimmt nat√ºrlich besser mit einem Aufnahmestudio √ºberein, aber in diesem Fall bezieht sich ‚ÄûEcho‚Äú auf interne Reflexionen und R√ºckreflexionen elektromagnetischer Wellen, die die Forschung st√∂ren und gnadenlos gel√∂scht werden. Innerhalb der Kamera befinden Sie sich aus Sicht der Antenne in einer absoluten Leere, in der die gesamte Strahlung in endlose Weiten gelangt, die von einem Funkabsorber simuliert werden, und nichts zur√ºckkommt.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title">   </b><div class="spoiler_text">          ,   -,     ,  - ‚Äî    ,      ,        .    ¬´¬ª       <s>    </s>        ,        ---,         .</div></div><br>
<img src="https://habrastorage.org/webt/ce/c8/7g/cec87grt90ifljrqx2srics4-jw.jpeg"><br>
<i>      ,   Panasonic.  ¬´ ¬ª ‚Äî    .         ‚Äî  .</i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei der Durchf√ºhrung von Tests auf elektromagnetische Vertr√§glichkeit, der Entwicklung von Antennen sowie der wissenschaftlichen Forschung im Zusammenhang mit elektromagnetischer Strahlung kann man auf solche Kameras nicht verzichten. Die Kamera selbst ist jedoch nur ein Teil der Geschichte. Neben anderen Schl√ºsselelementen, die zur Aufzeichnung des Verhaltens elektromagnetischer Wellen erforderlich sind, werden auch spezielle Antennen, teure Messinstrumente und in der Tat ein Feldscanner ben√∂tigt. Der Scanner ist nichts anderes als das ber√ºchtigte Koordinatensystem mit CNC. Sie k√∂nnen dem Scanner eine geeignete Antenne oder eine Messsonde in der ‚ÄûHand‚Äú geben und dann Kaffee trinken, w√§hrend er vorsichtig um die vom Programm festgelegten Punkte herumgeht, um ein sch√∂nes Bild der Feldverteilung um Ihren neuen Tank oder beispielsweise ein Radarstrahlungsmuster zu erstellen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber zur√ºck zum Punkt. Es ist einfach so passiert, dass elektromagnetische Felder weit entfernt von Quellen im leeren Raum ziemlich langweilig aussehen. So etwas in der Art: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/7p/dh/uw/7pdhuwo7ipehsxq4kel_wzbx3ji.gif"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
W√§hrend die magischsten und interessantesten Dinge in Regionen lauern, in denen sich Wellen bilden (in der N√§he von Quellen) oder mit Objekten interagieren. Diese Bereiche √ºberschreiten normalerweise nicht die Abmessungen der Wellenl√§nge der Funkemission, die an dem Experiment beteiligt ist, und werden als Nahfeldzone bezeichnet. Untersuchungen der Nahfeldfelder sind zweifellos eine der merkw√ºrdigsten, und nat√ºrlich konnten sie nicht lange nur hinter den abgeschirmten Mauern gro√üer Organisationen bleiben.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Enthusiasten wurde schnell klar, dass Sie f√ºr die Abbildung von Feldern nach dem gleichen Prinzip wie bei professionellen Kameras Ihren eigenen Koordinatenscanner erstellen oder, noch einfacher, die allgegenw√§rtigen 3D-Drucker f√ºr diesen Zweck anpassen k√∂nnen. Warum haben sie wirklich sogar </font><font style="vertical-align: inherit;">einen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wissenschaftlichen Artikel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dar√ºber geschrieben? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ce/lt/hx/celthx3phyz46vx340eqew1gozi.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3D-Drucker, bei denen anstelle des Extruders (oder mit ihm) Messsonden, Antennen installiert sind. Oben ist gezeigt, wie sich der Kopplungskoeffizient von zwei Rahmenantennen: der Messantenne und der auf dem Druckertisch liegenden (der sogenannte S21-Parameter) im Raum √§ndert. Unten sehen Sie ein Beispiel f√ºr die Konstruktion der Verteilung eines hochfrequenten Magnetfelds √ºber einen Arduino-Schal.</font></font></i> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selbstgemachte Scanner befinden sich zwar nicht in der elektromagnetisch sterilen Umgebung von schalltoten Kammern, k√∂nnen jedoch interessante Ergebnisse liefern. Und wenn im ersten Beispiel aus dem obigen Bild ein teurer professioneller Analysator zum Sammeln von Daten verwendet wird (schlie√ülich ein wissenschaftlicher Artikel), dann kosten sie im zweiten Fall einen kosteng√ºnstigen SDR-Empf√§nger, was solche Experimente noch erschwinglicher macht. Wir werden uns jedoch nicht mit 3D-Druckern befassen, sie haben bereits alles in Ordnung. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Autor des zweiten Projekts aus dem Bild, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Charles Grassin</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , beschloss, den Prozess noch weiter zu vereinfachen und jegliches Koordinatensystem wie ein besonders sperriges Element vollst√§ndig zu entfernen, um die Bewegung der Messantenne mit OpenCV zu verfolgen. Das System, das er konzipiert hat, sieht folgenderma√üen aus:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rq/56/ms/rq56msbovhfzkatrkavyfkfknmk.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Installationsdiagramm zur Abbildung elektromagnetischer Felder mit einem SDR-Empf√§nger und OpenCV.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
√úber dem Objekt, dessen Feld wir sehen m√∂chten, ist eine Kamera installiert. Das Skript legt fest, wie unsere Antenne aussieht, und dann zeichnen wir sie wie einen Pinsel in die Bereiche, in denen wir das Feld sehen m√∂chten. Das Signal von der Antenne geht an den SDR-Empf√§nger und das Python-Skript vergleicht die Position der Antenne im Rahmen mit dem Effektivsignalpegel vom Empf√§nger. Danach bekommen wir ein sch√∂nes Bild mit der Verteilung der Felder. Nat√ºrlich beschr√§nkt uns dieser Ansatz bisher auf eine Ebene, aber das macht ihn nicht weniger interessant. Lassen Sie uns dieses System erstellen und √ºberpr√ºfen, wie es funktioniert, da hierf√ºr nicht viele Details erforderlich sind.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zuerst entscheiden wir, was genau wir messen werden. Trotz der Tatsache, dass elektromagnetische Felder ein einziges Ph√§nomen sind, k√∂nnen wir sowohl die elektrischen als auch die magnetischen Komponenten getrennt betrachten. F√ºr jeden Typ ist eine eigene Messantenne erforderlich. Wie der Autor des Originals habe ich eine Sondenantenne f√ºr ein Magnetfeld gem√§√ü dem folgenden Schema hergestellt: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/p7/ia/cb/p7iacb6dnqvl5cxxoe_i-herez4.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein Schema zur Herstellung einer Magnetsonde und Beispiele, die ich gemacht habe. Wenn Sie die Kartierung von Feldern ernst genommen haben, stellen Sie viele Antennen unterschiedlicher Gr√∂√üe her - praktisch. Auch wenn es keine Felder gibt, gibt es ein gutes Set zum Blasen von Seifenblasen.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieses Design ist Schinken unter dem Namen einer Rahmenantenne bekannt. Im Gegensatz zu √§lteren Br√ºdern muss diese Antenne jedoch nicht mit dem Empf√§nger abgestimmt werden, was unser Leben sicherlich vereinfacht. Als Basis f√ºr eine Sonde ist es am besten, ein hartes oder halbhartes Koaxialkabel zu verwenden, aber im Prinzip k√∂nnen Sie fast alles tun. Auch die Kabelimpedanz spielt keine Rolle. Was wichtig ist, ist die Gr√∂√üe der Antenne, wie wir sp√§ter sehen werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um zu demonstrieren, wie die Sonde die verschiedenen Komponenten des elektromagnetischen Feldes ‚Äûf√ºhlt‚Äú, habe ich sie in CST modelliert:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ju/rm/qd/jurmqddsqiwsdrgws3pn9zdxr6w.gif"><br>
<i>       ,          ,    .       ‚Äî        ,      (   ).         .         .</i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selbst als zwei Manifestationen einer einzelnen Einheit interagieren die elektrischen und magnetischen Felder auf unterschiedliche Weise mit der Antenne. Der Spalt im Geflecht, den wir von oben gemacht haben, ist nichts anderes als ein Luftkondensator. Wie es sich f√ºr einen Kondensator geh√∂rt, konzentriert er das elektrische Feld in seiner L√ºcke. Das Magnetfeld hat aufgrund der Symmetrie der Struktur ein Maximum innerhalb der Schleife. Wenn wir also letzteres messen wollen, reicht es aus, die Schleife parallel zum gemessenen Objekt zu platzieren. Und genau das brauchen Sie, um es mit OpenCV im Frame zu erfassen! F√ºgen Sie nach Abschluss der Antenne den letzten Schliff hinzu. Wir werden die visuelle Erkennung verbessern, indem wir schwarzen Schrumpfschlauch oder Isolierband verwenden. Hier ist meine Arbeit:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gd/fi/up/gdfiupw_gs7i0ipjjeyghsd2xiy.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bei der gr√∂√üten Antenne (5 cm Durchmesser) gab es keine Schrumpfung der erforderlichen Gr√∂√üe. Am Ende habe ich es jedoch nicht benutzt. Schwarz bildet einen gro√üen Kontrast zum wei√üen Hintergrund, sodass OpenCV die Sicht auf unsere Antenne erleichtert.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Als n√§chstes m√ºssen Sie eine Webcam besorgen und auf einer Art Stativ installieren. Wenn Sie pl√∂tzlich keine Webcam mehr hatten, ist auch ein Smartphone auf Android mit der DroidCam-Anwendung geeignet. Die Antenne ist an den SDR-Empf√§nger und damit an den Computer angeschlossen. Die Hardware ist daf√ºr bereit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Laden Sie das Skript </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">camera_emi_mapper.py</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> herunter </font><font style="vertical-align: inherit;">. Es werden </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">opencv-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font><b><font style="vertical-align: inherit;">pyrtlsdr-</font></b><font style="vertical-align: inherit;"> Bibliotheken ben√∂tigt, um zu </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">funktionieren.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Detaillierte Installationsanweisungen finden Sie unter dem angegebenen Link. Beachten Sie, dass bei Verwendung von Windows die pyrtlsdr-Bibliotheken dieselbe Bittiefe haben sollten wie die Python-Version auf Ihrem System. Das Skript wird mit dem folgenden Befehl gestartet:</font></font><br>
<br>
<pre><code class="powershell hljs">python3 camera_emi_mapper.py <span class="hljs-literal">-c</span> <span class="hljs-number">1</span> <span class="hljs-operator">-f</span> <span class="hljs-number">100</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit dem Flag </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-c</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> k√∂nnen Sie eine Kamera ausw√§hlen, wenn Sie mehrere davon haben, und mit dem Flag </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-f wird</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> die Frequenz festgelegt, mit der die Signalgr√∂√üe √ºberwacht wird (in Megahertz). Wenn alles funktioniert, sehen wir das Bild von der Webcam. F√ºr das erste </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Testexperiment habe</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ich mein </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">OSA103-</font></a><font style="vertical-align: inherit;"> Ger√§t in den Rahmen gelegt </font><font style="vertical-align: inherit;">und es im Generatormodus bei </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">100 MHz eingeschaltet</font></a><font style="vertical-align: inherit;"> : Wir </font></font><br>
<br>
<img src="https://habrastorage.org/webt/es/np/js/esnpjsuxfkuk-zspauh-qvxe_y8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
dr√ºcken </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R,</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> damit sich das Skript an das Hintergrundbild erinnert, und haben dann eine Schleife in die </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Scanzone eingef√ºgt</font></a><font style="vertical-align: inherit;"> . Mit der </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Taste k√∂nnen </font><font style="vertical-align: inherit;">Sie dann unsere Antenne folgenderma√üen ausw√§hlen: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/uf/gg/sm/ufggsmll5zmkjxesxhyvrjjsdyq.gif"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem Sie Ihre Auswahl mit der </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eingabetaste best√§tigt haben</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">beginnt sofort die Datenerfassung von der Kamera und dem SDR-Empf√§nger. Nun, und wie immer geht beim ersten Mal alles schief:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/af/lr/vj/aflrvjczj3jvh38qdkmlghbcd1a.gif"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um zu verstehen, was OpenCV sieht und warum die Erfassung nicht ordnungsgem√§√ü funktioniert, habe ich die folgenden Zeilen des Skripts auskommentiert:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-comment"># debug only</span>
<span class="hljs-comment">#cv2.imshow("Thresh", thresh)</span>
<span class="hljs-comment">#cv2.imshow("Frame Delta", frameDelta)</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie √∂ffnen zwei zus√§tzliche Fenster, in denen Sie sehen k√∂nnen, wie gut sich die Antenne vom Hintergrundbild abhebt. </font><font style="vertical-align: inherit;">Dieser Kontrast wird </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">durch den</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Wert in </font><b><font style="vertical-align: inherit;">Thresh angepasst</font></b><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="python hljs">    	
thresh = cv2.threshold(frameDelta, <span class="hljs-number">50</span>, <span class="hljs-number">255</span>, cv2.THRESH_BINARY)[<span class="hljs-number">1</span>]
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Original war es 15, ich erh√∂hte diesen Wert auf 50 und die Antenne wurde sicher erfasst. </font><font style="vertical-align: inherit;">Diese Nummer muss abh√§ngig von der Beleuchtung im Rahmen ausgew√§hlt werden. </font><font style="vertical-align: inherit;">Gleichzeitig habe ich mit der Helligkeit der Antenne experimentiert, da Schwarz manchmal mit einem gro√üen quadratischen FPGA verwechselt wurde. </font><font style="vertical-align: inherit;">Nach diesen Korrekturen begann alles wie eine Uhr zu funktionieren: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/f9/xd/dy/f9xddydb0dw1nx1mrn3-qopdqgu.gif"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn der Scan abgeschlossen ist, m√ºssen Sie </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Q</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dr√ºcken, </font><font style="vertical-align: inherit;">und das Skript erstellt die Feldverteilung. </font><font style="vertical-align: inherit;">In diesem Fall ist das Ergebnis wie folgt:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xp/mq/p0/xpmqp0epk-zhqloznyehrepfqwe.jpeg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ehrlich gesagt - wenig wird verstanden, alles erwies sich als verschwommen und mit einer Art Scheidung. Nicht, dass ich ein super Ergebnis erwartet h√§tte, aber ich w√ºrde gerne etwas Spezifischeres sehen, zum Beispiel, welche Schaltkreise im Ger√§t an der Generierung beteiligt sind. Die Abbildung elektromagnetischer Felder sollte jedoch Antworten auf Fragen geben und keine neuen erzeugen. Ich schaute noch einmal auf den Code und sah, dass das Bild des Feldes w√§hrend des Baus sehr verschwommen war. Ich habe diesen Effekt reduziert, indem ich den Sigma-Wert von 7 auf 2 ge√§ndert habe:</font></font><br>
<br>
<pre><code class="python hljs">
blurred = gaussian_with_nan(powermap, sigma=<span class="hljs-number">2</span>)
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au√üerdem habe ich das Messobjekt ersetzt. Um die Methode zu testen, ben√∂tigen Sie als Testperson etwas Einfacheres, und ein Ger√§t mit einer komplexen internen Struktur ist daf√ºr nicht geeignet. Dar√ºber hinaus muss die Verteilung des Hochfrequenz-Magnetfelds des neuen Objekts im Voraus bekannt sein, damit klar ist, ob das Skript die Felder korrekt anzeigt oder nicht. Die gleiche Magnetschleife passt perfekt zu diesem Kriterium. Wie wir zuvor gesehen haben, ist in einer Schleife das Magnetfeld innerhalb seiner Schleife konzentriert. Beim Scannen sollten wir es also sehen. Ich habe einen einfachen quadratischen Resonanzkreis in Form von Kupferfolie und Kondensator gel√∂tet:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/n8/8q/v2/n88qv2miykk7uik2lga7dkgras4.jpeg"><br>
<i>     ,       .               ,           .  ,      .</i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
M√∂glicherweise haben Sie eine Frage: Wie k√∂nnen wir das Feld auf diese Weise sehen, wenn es hier nicht einmal eine Quelle gibt? Und die Sache ist, dass wir von wei√üem Rauschen umgeben sind (dasselbe ‚ÄûRauschen‚Äú, das wir h√∂ren, wenn wir nicht auf einen Lieblingssender eingestellt sind), und in seinem Spektrum gibt es bereits fast alle gew√ºnschten Frequenzen. Wenn wir die Messantenne in die N√§he des Resonanzkreises bringen, wird sie bei der Resonanzfrequenz dieses Kreises selbst anf√§lliger f√ºr Rauschen. Der SDR-Empf√§nger ist so empfindlich, dass er sogar zum Messen von Feldern in passiven Objekten verwendet werden kann! Versuchen wir mal, was passiert:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/lx/p5/e9/lxp5e95ggjapsjhd9fpa2q0hqi4.gif"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe versucht, sehr vorsichtig zu handeln, aber dabei habe ich das Blatt, auf das die Kontur geklebt wurde, leicht verschoben. Das Ergebnis war jedoch nicht schlecht. Sie k√∂nnen unsere Sonde viel schneller fahren. Soweit ich wei√ü, h√§ngt die Geschwindigkeit der Datenverarbeitung nur von der Leistung des Computers und dem Zittern Ihrer H√§nde ab. In jedem Fall wurde die Grafikkarte meines Laptops w√§hrend des Testvorgangs merklich belastet. Ja, und ich habe auch die Farbkarte in ein angenehmeres Plasma f√ºr die Augen ge√§ndert:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bh/7m/qv/bh7mqv3olx5fxmdzbvk5v3jonyc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es scheint, dass die Praxis dennoch mit der Theorie und der Arbeitsmethode √ºbereinstimmt. Wir sehen das Magnetfeld dort, wo es erwartet wurde - innerhalb des Stromkreises. Gleichzeitig wird die Aufl√∂sung unseres Bildes direkt von der Gr√∂√üe der Messantenne bestimmt, weshalb die Felder dort, wo sie sich physisch befinden, etwas fehl am Platz sind. Und dies ist der Grund, warum die Gr√∂√üe der Antenne so wichtig ist, weil die Gr√∂√üe dieser Verschiebung davon abh√§ngt. Es ist auch deutlich zu sehen, dass eine √Ñnderung der Bewegungsrichtung der Antenne das Bild verzerrt. Dies liegt daran, dass der Prozess eines solchen "Zeichnens" mich verd√§chtig an etwas erinnert:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/uk/rt/tl/ukrttl_ibsnefffeocp-33mh-q0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In Analogie zum obigen Beispiel ergibt das Verfahren eine gute Aufl√∂sung in Bewegungsrichtung der Antenne. Bei jeder √Ñnderung dieser Richtung schleicht sich jedoch ein Fehler in Form einer Verschiebung des Feldbildes in die Daten ein. Ich umkreiste den gleichen Umriss, diesmal jedoch diagonal, was diesen Nachteil erneut demonstrierte. Beide Scans wurden √ºbrigens mit einer Frequenz von 87 MHz durchgef√ºhrt. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rd/ql/bv/rdqlbvtgqpekxzzekrk-f7ffd9s.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Leider bin ich ein mittelm√§√üiger Programmierer, da ich noch nicht herausgefunden habe, wie ich den Code √§ndern kann, um diesen Fehler zu beheben. Stattdessen kann ich eine kurze Authoring-Methode zum Messen von Feldern anbieten. Wir nennen es eine Einzelhubtechnik:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xl/kx/ng/xlkxngwi2y8p7tdrfr3scwnvahu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alles ist einfach - wenn es eine Richtung gibt, dann gibt es keine Fehler. Dies schr√§nkt zwar den Anwendungsbereich noch mehr ein, aber wir werden sicher sein, dass die beobachteten Felder mehr oder weniger der Realit√§t entsprechen. Wenn Sie wissen, wie Sie richtig messen, k√∂nnen Sie versuchen, etwas anderes zu scannen. Wussten Sie zum Beispiel, dass ein Resonanzkreis wie der bereits gezeigte √ºberhaupt ohne Leiter auskommt? Wie ich bereits dargelegt habe, flie√üt ein hochfrequenter Strom durch einen Kondensator, was bedeutet, dass Sie einen Resonanzkreis nur damit und nicht mehr zusammenbauen k√∂nnen. Erh√∂hen Sie den Kondensator mental um ein Vielfaches und erhalten Sie ein St√ºck Keramik, das auch das Magnetfeld in der N√§he lokalisiert (danke an Kollegen von ITMO f√ºr die bereitgestellte Probe). Abtastfrequenz 254 MHz.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ux/sr/5z/uxsr5ztyuzipgyutfnrrv2hybcs.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Erw√§hnenswert ist ein weiterer Nachteil der Methode: Der Abstand vom Objekt zur Antenne sollte idealerweise gleich sein, da sich unser Bild der Felder sonst nicht mehr in der Ebene befindet, was bedeutet, dass es verzerrt ist. Theoretisch denke ich, dass dies auch mit OpenCV behoben werden kann, indem die √Ñnderung der Gr√∂√üe der Antenne im Rahmen verfolgt wird. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F√ºr die abschlie√üende Demonstration habe ich eine so komplizierte Sache zusammengestellt: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/w5/wg/fx/w5wgfx2dc8znny90bmlga6__jwy.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies ist ein mehrstufiges Tiefpassfilter, das auch als √úbertragungsleitung oder sogar als Metamaterial (mit einer sehr gro√üen Dehnung) bezeichnet werden kann. Das Schaltbild sieht folgenderma√üen aus: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/6t/dx/8a/6tdx8a1uf8trjyfgwlglswnhdee.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da diese Struktur viele Resonanzelemente enth√§lt, weist sie auch viele Resonanzfrequenzen auf (gemessen vom Ger√§t aus dem ersten Experiment). Jedes Minimum des Graphen ist eine Resonanz im Spektrum:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fg/8p/y2/fg8py2czjqr4rrodtbndgp4oixc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Solche Resonanzen nennt man Eigenmoden. Und jeder von ihnen hat sein eigenes Bild von den Feldern. Trotzdem sind sie alle durch eine bestimmte Regelm√§√üigkeit verbunden, n√§mlich die Anzahl der Wellen, die in die Struktur passen, was beim Scannen deutlich sichtbar ist: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/li/is/h2/liish2fi84aaputbaaxtan7lrae.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem Sie die Anzahl der Feldspitzen gez√§hlt haben, k√∂nnen Sie die Modusnummer genau benennen. Es ist auch ein gutes Beispiel daf√ºr, wie elektromagnetische Felder ihre Geschwindigkeit in Materialien verringern. Immerhin ist die Wellengeschwindigkeit geringer - mehr Feldspitzen passen ins Bild. Meiner Meinung nach eine tolle visuelle Hilfe.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie Sie sehen, erwies sich die Idee, SDR und OpenCV zu kreuzen, als recht gut. </font><font style="vertical-align: inherit;">Und am wichtigsten ist, dass diese Vereinigung dem langweiligen und monotonen Messprozess eine kreative Note verleiht. </font><font style="vertical-align: inherit;">Ich denke, dass es in Zukunft das Studium elektromagnetischer Felder zu einer aufregenderen Erfahrung machen und eine gute Hilfe f√ºr Heimlaboratorien werden kann.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de495642/index.html">Sammeln Sie Fehler in den Kopierfunktionen</a></li>
<li><a href="../de495644/index.html">TS Total Sight. Tool zur Ereigniserfassung, Vorfallanalyse und Automatisierung von Bedrohungsreaktionen</a></li>
<li><a href="../de495646/index.html">Was f√ºr stressfreie Podcasts am Wochenende zu h√∂ren sind</a></li>
<li><a href="../de495658/index.html">Wo Sie Audio f√ºr maschinelles Lernen erhalten: Eine Auswahl offener Bibliotheken, die unter Creative Commons lizenziert sind</a></li>
<li><a href="../de495670/index.html">Migration von einem nahtlosen Data Lake zu einem verteilten Data Mesh</a></li>
<li><a href="../de495676/index.html">ETL-Prozess zum Abrufen von E-Mail-Daten in Apache Airflow</a></li>
<li><a href="../de495678/index.html">Wettbewerb VK Sup. Track ML. 4. Platz. Wie?</a></li>
<li><a href="../de495682/index.html">API Reverse f√ºr seine Android-Anwendung</a></li>
<li><a href="../de495684/index.html">5 Gr√ºnde, warum die Interaktion mit Ihren Endbenutzern Ihren Code verbessert</a></li>
<li><a href="../de495686/index.html">Pers√∂nliches Las Vegas oder ein Spiel in der Browser-Erweiterung</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>