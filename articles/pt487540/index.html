<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèûÔ∏è ‚è≥ üçÉ HighLoad ++, Anastasia Tsymbalyuk, Stanislav Tselovalnikov (Sberbank): como nos tornamos MDA ü§§ üéß üë®üèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A pr√≥xima confer√™ncia HighLoad ++ ser√° realizada nos dias 6 e 7 de abril de 2020 em S√£o Petersburgo. 
 Detalhes e ingressos aqui . HighLoad ++ Sib√©ria...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>HighLoad ++, Anastasia Tsymbalyuk, Stanislav Tselovalnikov (Sberbank): como nos tornamos MDA</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/487540/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A pr√≥xima confer√™ncia HighLoad ++ ser√° realizada nos dias 6 e 7 de abril de 2020 em S√£o Petersburgo. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Detalhes e ingressos </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . HighLoad ++ Sib√©ria 2019. Sal√£o "Krasnoyarsk". 25 de junho de 14h Resumos e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apresenta√ß√£o</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Desenvolver um sistema industrial de gerenciamento e dissemina√ß√£o de dados do zero n√£o √© tarefa f√°cil. Especialmente quando h√° um atraso completo, o tempo para o trabalho √© de um quarto e os requisitos do produto s√£o uma turbul√™ncia perp√©tua. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/uj/hf/lo/ujhflolbmpow2ysfvjjdsiomcya.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos mostrar o exemplo da constru√ß√£o de um sistema de gerenciamento de metadados, como construir um sistema escal√°vel industrial em um curto per√≠odo de tempo, o que inclui o armazenamento e a dissemina√ß√£o de dados.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nossa abordagem aproveita ao m√°ximo os metadados, o c√≥digo SQL din√¢mico e a gera√ß√£o de c√≥digo com base no codegen e no guid√£o da Swagger. Essa solu√ß√£o reduz o tempo de desenvolvimento e reconfigura√ß√£o do sistema e a adi√ß√£o de novos objetos de gerenciamento n√£o requer uma √∫nica linha de novo c√≥digo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contaremos como funciona em nossa equipe: quais regras seguimos, quais ferramentas usamos, quais dificuldades encontramos e como super√°-las heroicamente.</font></font><a name="habracut"></a><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anastasia Tsymbalyuk (a seguir - CA):</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Meu nome √© Nastya, e este √© Stas! </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stas Tselovalnikov (a seguir - SC):</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Ol√° pessoal! </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Hoje falaremos sobre o MDA e como, usando essa abordagem, reduzimos o tempo de desenvolvimento e apresentamos ao mundo um sistema industrial de gerenciamento de metadados escal√°vel. </font><font style="vertical-align: inherit;">Viva! </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Nastya, o que √© MDA? </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Stas, acho que vamos passar sem problemas agora. </font><font style="vertical-align: inherit;">Mais precisamente, falarei um pouco sobre isso no final da apresenta√ß√£o. </font><font style="vertical-align: inherit;">Vamos falar sobre n√≥s primeiro: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zy/5q/t1/zy5qt1-etpbxnwskirsjg_sq-ri.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
posso me descrever como um candidato a sinergia em solu√ß√µes de TI industriais. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - e eu?</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O que a equipe SberData faz?</font></font></h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - E voc√™ √© apenas um mastodonte industrial, porque voc√™ trouxe mais de uma solu√ß√£o para o baile! </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - De fato, trabalhamos juntos no Sberbank na mesma equipe e gerenciamos os metadados do SberData: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/n9/ou/qj/n9ouqjstpumrwh93zv0zcl6olby.jpeg"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - SberData, se de uma maneira simples - √© uma plataforma anal√≠tica onde todas as faixas digitais de cada cliente fluem. Se voc√™ √© cliente do Sberbank, todas as informa√ß√µes sobre voc√™ fluem exatamente para l√°. Muitos conjuntos de dados s√£o armazenados l√°, mas entendemos que a quantidade de dados n√£o significa sua qualidade. E os dados sem contexto √†s vezes s√£o completamente in√∫teis, porque n√£o podemos aplic√°-los, interpretar, proteger, enriquec√™-los.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apenas essas tarefas s√£o resolvidas por metadados. Eles nos mostram o contexto comercial e o componente t√©cnico dos dados, ou seja, onde eles apareceram, como foram transformados, em que ponto a descri√ß√£o m√≠nima, a marca√ß√£o √© agora. Isso j√° √© suficiente para come√ßar a usar os dados e confiar neles. Essa √© precisamente a solu√ß√£o dos metadados da tarefa. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Em outras palavras, a miss√£o da nossa equipe √© aumentar a efici√™ncia da plataforma anal√≠tica de informa√ß√µes do Sberbank devido ao fato de que as informa√ß√µes sobre as quais voc√™ acabou de falar devem ser entregues √†s pessoas certas, na hora certa, no lugar certo. E lembre-se, voc√™ tamb√©m disse que, se os dados s√£o petr√≥leo moderno, os metadados s√£o um mapa dos dep√≥sitos desse petr√≥leo. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- De fato, esta √© uma das minhas declara√ß√µes brilhantes, da qual tenho muito orgulho. </font><font style="vertical-align: inherit;">Tecnicamente, essa tarefa foi reduzida ao fato de termos que criar uma ferramenta de gerenciamento de metadados dentro de nossa plataforma e garantir seu ciclo de vida completo. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas, para nos aprofundarmos nos problemas de nossa √°rea de atua√ß√£o e entendermos em que ponto estamos, sugiro voltar 9 meses atr√°s. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ent√£o, imagine: do lado de fora da janela √© o m√™s de novembro, todos os p√°ssaros voaram para o sul, estamos tristes ... E naquela √©poca tivemos um piloto de sucesso com a equipe, havia clientes - todos ficamos na zona de conforto at√© o ponto de retorno.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sistema de gerenciamento de metadados do modelo</font></font></h3><br>
<img src="https://habrastorage.org/webt/ga/hc/yp/gahcyp-lwacxan__ba3h4amhsbe.jpeg"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Havia algo mais que voc√™ tinha em estar em uma zona de conforto ... De fato, tivemos a tarefa de criar o Metadata Broker, que deveria dar a oportunidade de se comunicar com nossos clientes, programas, sistemas. </font><font style="vertical-align: inherit;">Nossos clientes deveriam ter tido a oportunidade, no n√≠vel de back-end, de enviar ou receber algum tipo de pacote de metadados. </font><font style="vertical-align: inherit;">E n√≥s, fornecendo essa fun√ß√£o, em nosso n√≠vel, tivemos que acumular as informa√ß√µes mais consistentes e relevantes sobre os metadados em quatro n√≠veis l√≥gicos:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N√≠vel de gloss√°rio de neg√≥cios.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O n√≠vel do modelo l√≥gico.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O n√≠vel do modelo f√≠sico.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O estado do ambiente que recebemos devido ao reverso dos ambientes industriais.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E tudo isso deve ser consistente. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Sim, s√©rio. Mas aqui eu tamb√©m explicaria de alguma maneira de uma maneira simples, porque n√£o excluo que a √°rea de assunto n√£o √© clara e incompreens√≠vel ... Um </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
gloss√°rio de neg√≥cios √© sobre o que as pessoas inteligentes de terno criam por horas ... como nomear um termo, como elaborar uma f√≥rmula C√°lculo. Eles pensam h√° muito tempo e, no final, t√™m apenas um gloss√°rio comercial. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O modelo l√≥gico √© sobre como o analista se v√™ no mundo, capaz de se comunicar com essas pessoas inteligentes de terno e gravata, mas ao mesmo tempo entende como seria poss√≠vel aterrissar. Longe dos detalhes da realiza√ß√£o f√≠sica.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O modelo f√≠sico √© sobre quando √© a vez de duros programadores, arquitetos que realmente entendem como pousar esses objetos - em qual tabela colocar, quais campos criar, quais √≠ndices pendurar ... O </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
estado do ambiente √© uma esp√©cie de elenco. </font><font style="vertical-align: inherit;">Isto √© como um testemunho de um carro. </font><font style="vertical-align: inherit;">√Äs vezes, um programador quer dizer uma coisa √† m√°quina, mas ela entende mal. </font><font style="vertical-align: inherit;">Apenas o estado do ambiente nos mostra o estado real das coisas, e constantemente comparamos tudo; </font><font style="vertical-align: inherit;">e entendemos que h√° uma diferen√ßa entre o que o programador disse e o estado real do ambiente.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Caso para descrever metadados</font></font></h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Vamos explicar com um exemplo concreto. Por exemplo, temos quatro desses n√≠veis designados. Suponha que tenhamos pessoas s√©rias que trabalhem no n√≠vel de um gloss√°rio comercial - elas n√£o entendem como e o que √© organizado dentro dela. Mas eles entendem que precisam criar uma forma de relat√≥rio obrigat√≥rio, precisam obter, digamos, o saldo m√©dio em contas pessoais: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xm/4y/5g/xm4y5gvemtitzrlgzug4znuhbtk.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
para esse n√≠vel, uma pessoa j√° deve ter seu pr√≥prio gloss√°rio comercial (termos de relat√≥rio obrigat√≥rio) ou t√™-lo (saldo m√©dio em uma conta pessoal). A seguir, o analista que o entende perfeitamente, pode falar a mesma l√≠ngua com ele, mas tamb√©m pode falar a mesma l√≠ngua com os programadores.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ele diz: "Escute, aqui voc√™ tem toda a hist√≥ria dividida em contas separadas como entidades, e elas t√™m um atributo - o saldo m√©dio". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, vem o arquiteto e diz: ‚ÄúFaremos essa vitrine de empr√©stimos para pessoas jur√≠dicas. Dessa forma, faremos uma tabela f√≠sica de contas pessoais, faremos uma tabela f√≠sica de saldos di√°rios em contas pessoais (porque eles s√£o recebidos todos os dias no fechamento do dia de negocia√ß√£o). E uma vez por m√™s no prazo, calcularemos a m√©dia (tabela de saldos mensais), conforme solicitado. ‚Äù</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N√£o antes de dizer que acabou. </font><font style="vertical-align: inherit;">E ent√£o nosso analisador chegou, que foi ao circuito industrial e disse: ‚ÄúSim, entendo - existem tabelas necess√°rias ...‚Äù O que mais enriqueceu essa tabela? </font><font style="vertical-align: inherit;">Aqui (como exemplo) - parti√ß√µes e √≠ndices, embora, estritamente falando, ambas parti√ß√µes e √≠ndices possam estar no n√≠vel de design do modelo f√≠sico, mas pode haver algo mais (por exemplo, volume de dados).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Registro e armazenamento no n√≠vel de metadados</font></font></h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Como tudo √© armazenado conosco? Esta √© uma forma super simplificada do exemplo que Stas pintou anteriormente! Como tudo isso estar√° conosco? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cl/6b/cu/cl6bcun8zmcowyo5pocbcjy64j8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De fato, haver√° uma linha no objeto Gloss√°rio, uma no objeto Termos, uma nas Entidades, uma nos Atributos e assim por diante. Na figura acima, cada ret√¢ngulo √© um objeto em nosso sistema de controle, que representa essa ou aquela informa√ß√£o armazenada l√°. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para apresentar lentamente a terminologia, pe√ßo que observe o seguinte ... O que √© um objeto de gerenciamento de metadados? Fisicamente, isso √© apresentado na forma de uma tabela, mas, de fato, certas informa√ß√µes s√£o armazenadas l√° em termos, gloss√°rios, entidades, atributos, etc. Este termo, "objeto", continuaremos a usar em nossa apresenta√ß√£o. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Aqui deve-se dizer que cada cubo √© apenas uma tabela em nosso sistema onde armazenamos metadados e chamamos isso de objeto de controle.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Requisitos de metadados</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O que t√≠nhamos na entrada? </font><font style="vertical-align: inherit;">Na entrada, recebemos requisitos bastante interessantes. </font><font style="vertical-align: inherit;">Havia muitos deles, mas aqui queremos mostrar tr√™s principais: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/by/he/sa/byhesadzdaf8chjm3cncp9hhzxs.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O primeiro requisito √© bastante cl√°ssico. </font><font style="vertical-align: inherit;">Dizem-nos: "Gente, tudo o que chegou a voc√™ uma vez tem que vir para sempre". </font><font style="vertical-align: inherit;">O hist√≥rico est√° completo e qualquer altera√ß√£o no seu sistema de metadados que chega at√© voc√™ (n√£o importa se um pacote de 100 campos chegou (100 altera√ß√µes) ou se um campo foi alterado em uma tabela) exige um novo registro dos metadados. </font><font style="vertical-align: inherit;">Eles tamb√©m exigem retornar a resposta:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">por padr√£o - estado atual;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">por data;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pelo n√∫mero da revis√£o.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O segundo requisito foi mais interessante: nos disseram que eles podem trabalhar conosco em objetos, mas eles precisam programar muito em Java, mas n√£o querem. Eles sugeriram que mistur√°ssemos 100 objetos (ou 10) de uma s√≥ vez, e dever√≠amos lidar com esse neg√≥cio (porque podemos). O que significa a mistura? Por exemplo, 10 colunas vieram. Eles t√™m um link para o identificador da tabela, mas n√£o temos a tabela em si - ela veio no final do JSON. "Voc√™ pensa e processa - √© necess√°rio que voc√™ possa"! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em ordem crescente de interesse - a terceira: ‚ÄúQueremos poder n√£o apenas usar a API que voc√™ nos far√°, mas tamb√©m entender a n√≥s mesmos ...‚Äù E, em uma ordem arbitr√°ria, diga: ‚ÄúD√™-nos a uni√£o deste objeto para aquele atrav√©s do terceiro objeto. E deixe seu pr√≥prio sistema entender como fazer tudo, solicitar ao banco de dados e retornar o resultado em JSON. ‚Äù</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
T√≠nhamos uma hist√≥ria assim na entrada.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Estimativas estimadas</font></font></h3><br>
<img src="https://habrastorage.org/webt/nj/e3/jg/nje3jgkluyviljufojbo92jkd48.jpeg"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - De acordo com nossos c√°lculos aproximados, para implementar todo esse conceito, cada objeto de controle precisava participar de sete interfaces: simples (simples), para grava√ß√£o / leitura e exclus√£o em todo o objeto ... Mais </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
tr√™s - para grava√ß√£o / leitura / exclus√£o universal, t Ou seja, podemos jogar tudo em qualquer ordem e como transferir o conjunto de sopas para o sistema, e ela descobrir√° em que ordem excluir, colocar, ler. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais uma coisa - construir uma hierarquia para que possamos indicar ao sistema - ‚ÄúDevolva-nos de objeto a objeto‚Äù; </font><font style="vertical-align: inherit;">e retorna uma √°rvore de objetos aninhados.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Complexidade de implementa√ß√£o</font></font></h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Al√©m dos requisitos t√©cnicos que nos chegaram no momento do in√≠cio desta hist√≥ria, tivemos dificuldades adicionais. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ge/h4/pg/geh4pgnrayjpjtko_vryyvoco2y.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em primeiro lugar, isso √© uma incerteza de requisitos. Nem toda equipe nem sempre conseguiu articular claramente o que precisa do servi√ßo, e muitas vezes o momento da verdade nasceu no momento da cria√ß√£o de prot√≥tipos de uma hist√≥ria no circuito de def. E enquanto chegava ao baile, poderia haver v√°rios ciclos. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Essa √© a pr√≥pria turbul√™ncia que foi anunciada no in√≠cio. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Pr√≥ximo ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Havia um prazo proibitivo, porque mesmo no momento do lan√ßamento, mais de cinco equipes dependiam de n√≥s. Cl√°ssicos do g√™nero: o resultado foi necess√°rio ontem. A op√ß√£o de trabalho est√° no modo cavalo escaldado, que foi o que fizemos.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O terceiro √© uma grande quantidade de desenvolvimento. </font><font style="vertical-align: inherit;">Nastya, em seu slide, mostrou que, quando analisamos os requisitos do que e como fazer, percebemos: 1 objeto requer sete APIs (para isso ou participa√ß√£o em sete APIs). </font><font style="vertical-align: inherit;">Isso significa que se tivermos um patch (6 objetos, modelo, 42 API) ocorre em uma semana ...</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abordagem padr√£o</font></font></h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Sim, na verdade 42 APIs por semana √© apenas a ponta do iceberg. </font><font style="vertical-align: inherit;">Estamos cientes de que, para garantir que essas 42 APIs funcionem, precisamos:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">primeiro, crie uma estrutura de armazenamento para o objeto;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">segundo, garantir a l√≥gica de seu processamento;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">em terceiro lugar, escreva a pr√≥pria API da qual o objeto participa (ou √© configurado especificamente para ele);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quarto, seria bom cobrir tudo isso idealmente com os contornos dos testes, testar e dizer que est√° tudo bem;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quinto (a mesma cereja no bolo), para documentar toda essa hist√≥ria.</font></font></li>
</ul><br>
<img src="https://habrastorage.org/webt/rv/lt/c_/rvltc_6nldjheqzq5hnju6eqhiq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Naturalmente, a primeira coisa que nos ocorreu (no in√≠cio, mostramos um diagrama aproximado) - t√≠nhamos cerca de 35 objetos. </font><font style="vertical-align: inherit;">Algo tinha que ser feito com eles, tudo isso tinha que ser deduzido, e havia muito pouco tempo. </font><font style="vertical-align: inherit;">E a primeira ideia que nos ocorreu foi sentar, arrega√ßar as mangas e come√ßar a codificar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mesmo depois de trabalhar nesse modo por alguns dias (t√≠nhamos tr√™s equipes), atingimos uma temperatura t√£o brilhante ... Todo mundo estava nervoso ... E percebemos que precis√°vamos procurar uma abordagem diferente.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abordagem personalizada</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Come√ßamos a prestar aten√ß√£o ao que estamos fazendo. A id√©ia dessa abordagem sempre esteve diante de nossos olhos, porque estamos envolvidos em metadados h√° muito tempo. De alguma forma, imediatamente, isso n√£o ocorreu a n√≥s ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como voc√™ pode imaginar, a ess√™ncia dessa id√©ia √© usar metadados. Consiste no fato de coletarmos a estrutura de nosso reposit√≥rio (s√£o certos metadados), uma vez que criamos um modelo para algum c√≥digo (por exemplo, v√°rias APIs ou procedimentos para processar l√≥gica, scripts para criar estruturas). Depois de criarmos esse modelo, e executarmos todos os metadados. Por tags, as propriedades s√£o substitu√≠das no c√≥digo (nomes de objetos, campos, caracter√≠sticas importantes) e o c√≥digo resultante est√° pronto.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/hy/rl/xt/hyrlxt2uztvqeakue0olbbmctzs.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ou seja, basta ficar confuso uma vez - crie um modelo e use todas essas informa√ß√µes para objetos existentes e novos. </font><font style="vertical-align: inherit;">Aqui apresentamos outro conceito - #META_META. </font><font style="vertical-align: inherit;">Vou explicar o porqu√™, para n√£o confundir voc√™. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nosso sistema est√° envolvido no gerenciamento de metadados, e a abordagem que usamos descreve um sistema de gerenciamento de metadados, ou seja, duas metas. </font><font style="vertical-align: inherit;">‚ÄúMetaMeta‚Äù - chamamos em casa, dentro da equipe. </font><font style="vertical-align: inherit;">Para n√£o confundir ainda mais os outros, usaremos esse mesmo termo.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mecanismo para garantir a historiza√ß√£o e revis√£o</font></font></h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Voc√™ resumiu o resto do nosso discurso. Vamos contar com mais detalhes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Devo dizer que quando est√°vamos nos preparando para o discurso, fomos solicitados a fornecer informa√ß√µes t√©cnicas que poderiam interessar aos colegas. N√≥s faremos. Al√©m disso, os slides ser√£o mais t√©cnicos - talvez algu√©m veja algo interessante por si. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Primeiro, como resolvemos a quest√£o da historiza√ß√£o e revis√£o. Talvez isso seja semelhante a quantos. Considere isso usando metadados como exemplo, que descrevem um √∫nico campo na tabela de lan√ßamentos (como exemplo):</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ny/7m/dd/ny7mddafiwemxmigli7who-mee8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ele possui um id - "7", um nome - carry_note, um link id_table 73 e um campo - 255. Entramos na chave prim√°ria e alternativa um campo (do tipo data) a partir do momento em que essa entrada se torna v√°lida - valid_from. E mais um campo - em que data esse registro √© v√°lido (valid_to). Nesse caso, eles s√£o preenchidos por padr√£o - √© claro que essa entrada √© sempre v√°lida em princ√≠pio. E isso acontece at√© que desejemos alterar, digamos, o comprimento do campo.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Assim que queremos fazer isso, fechamos o registro valid_to (fixamos o carimbo de data e hora em que o evento ocorreu). Ao mesmo tempo, fazemos um novo registro ("300"). √â f√°cil perceber que, nessa situa√ß√£o, se voc√™ observar o banco de dados a partir de algum ponto da ‚Äúbatalha‚Äù (entre) entre valid_from e valid_to, obteremos um √∫nico registro, mas relevante naquele momento. E, ao mesmo tempo, mantivemos simultaneamente algum log de revis√£o: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zt/-k/s9/zt-ks9u2di9jbuzxgyd-dpnqllc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
nele, registramos as </font><font style="vertical-align: inherit;">revis√µes que </font><font style="vertical-align: inherit;">est√£o aumentando no ID de sequ√™ncia (sequ√™ncia) e o ponto no tempo que corresponde a esse ID de revis√£o. Ent√£o, conseguimos fechar a primeira demanda. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Eu acho que sim! </font><font style="vertical-align: inherit;">Aqui a abordagem √© a mesma. </font><font style="vertical-align: inherit;">Entendemos que cada objeto no sistema possui esses dois campos obrigat√≥rios e, quando nos confundimos - codificamos a l√≥gica de processamento desse modelo e, em seguida (ao gerar o c√≥digo din√¢mico), simplesmente substitu√≠mos os nomes dos objetos correspondentes. </font><font style="vertical-align: inherit;">Portanto, todo objeto em nosso sistema se torna revis√£o e tudo isso pode ser processado - geralmente n√£o escrevemos uma √∫nica linha de c√≥digo.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Atualiza√ß√£o em lote</font></font></h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - O segundo requisito para mim foi um pouco mais interessante. Honestamente, quando se tratava da entrada, eu entrei em um estupor. Mas a decis√£o chegou! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lembro que este √© o mesmo caso quando, digamos, o JSON com um pacote chegou at√© o en√©simo n√∫mero de objetos que precisam ser inseridos no sistema. Ao mesmo tempo, no in√≠cio, temos 10 colunas referentes a uma tabela inexistente, e a tabela foi na cauda do JSON. O que fazer? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pd/ja/nn/pdjann3lit7axfk1infab47y8rm.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Descobrimos uma maneira de usar o mecanismo de consultas hier√°rquicas recursivas - isso √© com certeza a conex√£o bem conhecida por constru√ß√£o anterior. Fizemos o seguinte: aqui est√° um fragmento do nosso c√≥digo de produ√ß√£o:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/sk/zz/i7/skzzi7gzikn81bg2lmlk4fzd9wq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Neste ponto (uma se√ß√£o de c√≥digo circulada em um oval vermelho) √© o ponto principal que d√° uma id√©ia. E aqui o objeto est√° vinculado a outro objeto vinculado por uma chave estrangeira, que est√° no sistema. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para entender: se algu√©m escreve c√≥digo no Oracle, existem All_columns, All_all_ tables, All_constraint tables - este √© o dicion√°rio que √© processado pelos scripts (como os mostrados no slide acima). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na sa√≠da, obtemos campos que nos d√£o a prioridade de processar objetos e, adicionalmente, fornecem um descritor - √© essencialmente um identificador de string exclusivo para qualquer registro de metadados. O c√≥digo pelo qual o descritor √© recebido tamb√©m √© indicado no slide acima.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por exemplo, um campo - como poderia ser? Este √© o c√≥digo da plataforma: oracle KP., Production. KP, meu_sistema, KP, minha_tabela. KP, etc., onde KP √© o c√≥digo do campo. Portanto, haver√° um descritor. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Quais s√£o os problemas aqui? Temos objetos no sistema e a ordem de inser√ß√£o deles √© muito importante para n√≥s. Por exemplo, n√£o podemos inserir colunas na frente das tabelas, porque uma coluna deve se referir a uma tabela espec√≠fica. Como fazemos como padr√£o: primeiro, inserimos as tabelas; em resposta, obtemos uma matriz de id; por esses IDs, lan√ßamos as colunas e fazemos a segunda opera√ß√£o de inser√ß√£o. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na realidade, como Stas mostrou, o comprimento dessa cadeia atinge 8-9 objetos. O usu√°rio, usando a abordagem padr√£o, precisa executar todas essas opera√ß√µes sucessivamente (todas essas 9 opera√ß√µes) e entender claramente sua ordem para que nenhum erro ocorra.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tanto quanto interpreto corretamente o Stas, podemos transferir todos esses objetos para o sistema em qualquer ordem e n√£o nos preocupamos com como precisamos inserir isso - apenas jogamos um conjunto de sopa no sistema e tudo determinou em qual ordem inserir. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A √∫nica coisa que tenho √© a pergunta: e se inserirmos o objeto pela primeira vez? N√≥s inserimos a tabela antes, n√£o sabemos o seu ID. Como indicamos (um exemplo puramente hipot√©tico) que precisamos inserir duas tabelas, cada uma das quais com uma coluna? Como indicamos que nesta coluna JSON se refere √† tabela1, n√£o √† tabela2? </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Um descritor! A al√ßa que indicamos nesse slide (anterior). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E neste slide, a pr√≥pria solu√ß√£o √© fornecida:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/au/_v/o2/au_vo2urh2ur5fllwuhuvgfaw78.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os descritores s√£o usados ‚Äã‚Äãno sistema como um tipo de campo mnem√¥nico que n√£o existe, mas substitui o id. </font><font style="vertical-align: inherit;">Nesse momento, quando, a princ√≠pio, o sistema entender que √© necess√°rio inserir a tabela - insert, ele receber√° o id; </font><font style="vertical-align: inherit;">e j√° no est√°gio de gera√ß√£o da consulta SQL para a inser√ß√£o e a coluna, ela operar√° no id. </font><font style="vertical-align: inherit;">O usu√°rio n√£o pode tomar um banho de vapor: ‚ÄúD√™ o cabo e execute!‚Äù. </font><font style="vertical-align: inherit;">O sistema funcionar√°.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Consulta universal em um grupo de objetos relacionados</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Talvez o meu caso favorito. Esse √© o requisito t√©cnico favorito que t√≠nhamos. Eles vieram at√© n√≥s e disseram: ‚ÄúGente, fa√ßa isso para que o sistema possa fazer tudo! De objeto para objeto, por favor. Adivinhe como tudo se junta entre si. Devolva-nos, JSON, por favor. N√£o queremos programar muito usando o seu servi√ßo "... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pergunta:" Como?! " </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na verdade, seguimos o mesmo caminho. Exatamente a mesma constru√ß√£o: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xm/ya/rm/xmyarmfesokkzn31kval5xnbvnu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
foi usada para resolver esse problema. A √∫nica diferen√ßa √© que havia um filtro v√°lido, que desenrolou essa √°rvore hier√°rquica apenas para as hist√≥rias em que um descritor era necess√°rio. Relativamente falando, era √∫nico para cada objeto. Aqui, todas as conex√µes poss√≠veis no sistema n√£o s√£o torcidas (temos cerca de 50 objetos).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todas as conex√µes poss√≠veis entre objetos s√£o preparadas com anteced√™ncia. Se tivermos um objeto envolvido em tr√™s relacionamentos, respectivamente, tr√™s linhas ser√£o preparadas para que o algoritmo possa entender. E assim que a solicita√ß√£o do JSON chega at√© n√≥s, vamos ao local onde essa hist√≥ria foi preparada com anteced√™ncia no MeteMet, e estamos procurando o caminho que precisamos. Se n√£o encontrarmos, esta √© uma hist√≥ria; se a encontrarmos, formamos uma consulta no banco de dados. Em execu√ß√£o - retornando JSON (conforme solicitado). </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Como resultado, podemos transferir para o sistema o objeto que queremos receber. E se voc√™ puder delinear uma conex√£o clara entre dois objetos, o pr√≥prio sistema descobrir√° qual n√≠vel de aninhamento do objeto retornar√° para voc√™ na √°rvore:</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√â muito flex√≠vel! Mais uma vez, nossos usu√°rios est√£o em um estado de "turbul√™ncia": hoje eles precisam de uma coisa, amanh√£ precisam de outra. E essa solu√ß√£o nos permite adaptar a estrutura de maneira muito flex√≠vel. Esses foram tr√™s casos principais que foram usados ‚Äã‚Äãem nosso n√∫cleo. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Vamos resumir alguns. √â claro que agora n√£o contaremos todas as fichas por causa do tempo limitado. Tr√™s casos, em nossa opini√£o, realizamos e contamos. Fomos bem-sucedidos, conseguimos colocar toda a l√≥gica mais complexa e a que deveria funcionar de maneira uniforme para cada objeto de gerenciamento de metadados no c√≥digo do kernel.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N√£o foi poss√≠vel tornar esse c√≥digo 100% din√¢mico, o que significa que, com quaisquer objetos criados (n√£o importa se eles j√° foram criados ou que ser√£o criados posteriormente; o principal √© ser criado de acordo com as regras), o sistema pode funcionar - nada precisa ser adicionado, reescrito. </font><font style="vertical-align: inherit;">Apenas testar √© suficiente. </font><font style="vertical-align: inherit;">Estacionamos toda essa hist√≥ria em tr√™s m√©todos universais. </font><font style="vertical-align: inherit;">Na minha opini√£o, existem o suficiente para resolver praticamente qualquer problema de neg√≥cios:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">primeiro, esse mesmo ‚Äúatualizador‚Äù universal √© um m√©todo que pode atualizar / inserir / excluir (excluir est√° fechando um registro) em um ou em um grupo de objetos transferidos em ordem aleat√≥ria.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o segundo √© um m√©todo que pode retornar informa√ß√µes universais em apenas um objeto;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o terceiro √© o mesmo m√©todo que pode retornar informa√ß√µes de associa√ß√£o conectadas por grupos de objetos.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Foi assim que aconteceu, e criamos o n√∫cleo. </font><font style="vertical-align: inherit;">E ent√£o passaremos para a sua parte favorita.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ponto de entrada do aplicativo</font></font></h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Sim, esta √© a minha parte favorita, porque esta √© minha √°rea de responsabilidade - Application Server. </font><font style="vertical-align: inherit;">Para entender em que situa√ß√£o eu estava, tentarei mergulh√°-lo em um problema novamente. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Stas fez um bom trabalho e me passou esses tr√™s m√©todos padr√£o que manipularam esses objetos. </font><font style="vertical-align: inherit;">Esta √© uma descri√ß√£o puramente superficial - na realidade, existem muitas mais: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/5o/dk/mo/5odkmo2v_zex8mki419gtahlk3c.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos voltar ao come√ßo para imergir voc√™ ... Como os metadados no sistema ser√£o apresentados aqui? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kc/b1/yk/kcb1yk6tgcqfrnez3dm_umstpzu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se percebermos que h√° uma tabela no ambiente, ela cair√° em nosso sistema como um registro no objeto de tabela e alguns registros no objeto de campo. </font><font style="vertical-align: inherit;">Essencialmente, reunimos uma estrutura.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Podemos notar que a quantidade desses objetos √© diferente. Ent√£o, para manipular esses objetos, trazer tudo a uma estrutura universal, para que todos os tr√™s m√©todos entendam o que est√° sendo discutido, Stas faz um movimento com o cavalo. Ele pega e vira todos os objetos, ou seja, representa qualquer objeto em nosso sistema de gerenciamento de metadados como quatro linhas: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wv/bg/ne/wvbgne8ly7inu5jwunv3f8xnmne.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como qualquer objeto em nosso sistema de gerenciamento de metadados √© fisicamente uma tabela, qualquer objeto pode ser decomposto de acordo com esses quatro sinais: n√∫mero da linha , tabela, campo e valor do campo. Foi Stas quem apresentou tudo isso, e eu precisava implement√°-lo de alguma forma e entreg√°-lo aos usu√°rios. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Desculpe, mas como posso transmitir a voc√™ em uma coluna de respostas simples, por exemplo, que ainda n√£o foram criadas, ser√° criada em algum momento e Deus sabe o que elas podem ser? .. Portanto, a √∫nica op√ß√£o nas condi√ß√µes do c√≥digo din√¢mico √© configurar a intera√ß√£o entre n√∫cleo e aplicativo, para transmitir essas informa√ß√µes a voc√™ - apenas como as vemos. Acredito que, do meu ponto de vista, essa decis√£o foi engenhosa, porque veio apenas de voc√™. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Agora n√£o discutiremos sobre isso. Duas semanas antes do final do prazo, fiquei com o fato de ter esses tr√™s m√©todos em m√£os (√† esquerda no slide anterior) que manipularam a estrutura universal (√† direita no mesmo slide).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Meu primeiro pensamento foi simplesmente encerrar tudo no n√≠vel da API e ir at√© o usu√°rio com isso, dizendo: ‚ÄúOlha, que coisa brilhante! </font><font style="vertical-align: inherit;">Voc√™ pode fazer qualquer coisa! </font><font style="vertical-align: inherit;">Transfira quaisquer objetos, ou mesmo objetos inexistentes. </font><font style="vertical-align: inherit;">Legal, sim "?! </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ml/iq/qp/mliqqpbuethupkpzjgr-tstqgm4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E eles dizem: ‚ÄúMas voc√™ entende que seu servi√ßo n√£o √© de todo especializado? </font><font style="vertical-align: inherit;">Como usu√°rio, n√£o entendo quais objetos posso transferir para o sistema, como posso manipul√°-los ... Para mim, √© uma caixa preta, geralmente tenho medo de enviar dados; </font><font style="vertical-align: inherit;">Eu posso estar enganado - estou com medo. </font><font style="vertical-align: inherit;">Fa√ßa com que eu possa seguir claramente as instru√ß√µes e ver quais objetos est√£o no sistema e quais m√©todos de manipula√ß√£o posso usar. ‚Äù</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Speck. </font><font style="vertical-align: inherit;">Uma abordagem</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ent√£o ficou claro para n√≥s que era legal fazer uma especifica√ß√£o para o nosso servi√ßo. Em resumo, fazer uma lista de objetos do nosso sistema, uma lista de pontos, manipula√ß√µes e quais objetos eles manipulam. Aconteceu que em nossa empresa usamos o Swagger para esses fins como algum tipo de solu√ß√£o arquitetural. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/we/vz/fo/wevzfoicvrvvkasgu3ihlkbcv7a.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tendo examinado a estrutura do Swagger, percebi que precisava levar para algum lugar a estrutura dos objetos que est√£o no sistema. Do kernel, recebi apenas tr√™s m√©todos padr√£o e um trocador de tabelas. Nada mais. Para mim, parecia uma tarefa imposs√≠vel obter toda a estrutura que est√° no reposit√≥rio desses quatro campos padr√£o. Sinceramente, n√£o entendi onde me conseguir todas as descri√ß√µes de objetos, todos os valores permitidos, toda a l√≥gica ... </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- O que significa onde? </font><font style="vertical-align: inherit;">Voc√™ e eu temos o MetaMeta, que fornece o kernel no modo em tempo real. </font><font style="vertical-align: inherit;">O kernel na execu√ß√£o em tempo real gera uma consulta SQL que se comunica com o banco de dados. </font><font style="vertical-align: inherit;">Tudo est√° l√°, n√£o apenas o que voc√™ precisa. </font><font style="vertical-align: inherit;">Tamb√©m h√° links entre objetos. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Seguindo o conselho da Stas, fui ao MetaMetu e fiquei surpreso, porque todo o kit de cavalheiros necess√°rio para gerar especifica√ß√µes padr√£o estava presente l√°. </font><font style="vertical-align: inherit;">Ent√£o surgiu a ideia de que voc√™ precisa criar um modelo e pintar tudo de acordo com sete cen√°rios poss√≠veis - 7 APIs padr√£o para cada objeto.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Speck. </font><font style="vertical-align: inherit;">OEA + Guid√£o</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Portanto, √© f√°cil perceber em que consiste a especifica√ß√£o: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/0w/y5/wt/0wy5wtfsnvh9bpunt-fpdtgwce4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
voc√™ pode acessar o site da OEA e do guid√£o (na parte inferior do slide) e ver o que deve consistir - h√° um conjunto de pontos finais, um conjunto de m√©todos e, no final, existem modelos. O c√≥digo √© repetido de tempos em tempos. Para cada objeto, devemos escrever get, put. excluir; para um grupo de objetos, devemos escrever isso e assim por diante. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O truque era escrever a hist√≥ria toda uma vez e n√£o tomar banho. O slide mostra um exemplo de c√≥digo real. Objetos azuis s√£o tags no guid√£o, este √© um mecanismo de modelo; bastante flex√≠vel, eu aconselho a todos - voc√™ pode personaliz√°-lo, escrever manipuladores de tags personalizados ...</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No lugar dessas tags azuis, quando esse modelo √© executado sobre todos os metadados, todas as propriedades significativas s√£o substitu√≠das - o nome do objeto, sua descri√ß√£o, algum tipo de l√≥gica (por exemplo, que precisamos adicionar um par√¢metro adicional, dependendo da propriedade) e assim por diante. </font><font style="vertical-align: inherit;">No final, h√° um link para o modelo que ele est√° interpretando.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√≥digo do aplicativo. </font><font style="vertical-align: inherit;">Swagger Codegen + Guiador</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tudo isso que codificamos, gravamos e criamos uma especifica√ß√£o. Tudo foi muito legal e bom. Temos todos os 7 cen√°rios poss√≠veis para cada objeto. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Deu ao usu√°rio. Ele disse: ‚ÄúUau! Legal! Agora n√≥s queremos us√°-lo! Qual √© o problema mesmo? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Temos uma especifica√ß√£o que descreve cada m√©todo em detalhes, o que fazer com ele, quais objetos manipular. E h√° tr√™s m√©todos padr√£o do kernel que usam a tabela invertida descrita acima como entrada. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ent√£o voc√™ s√≥ tinha que cruzar um com o outro (agora parece f√°cil para mim). Ou seja, quando um usu√°rio chama um m√©todo na interface, tivemos que encaminhar corretamente e corretamente para o kernel, transformando o modelo (onde temos belas especifica√ß√µes) nesses quatro campos padr√£o. Isso era tudo o que precisava ser feito.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ql/20/bm/ql20bmpw34giiqlmn73ndf3thyy.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para colocar tudo isso em pr√°tica, precis√°vamos de transforma√ß√µes "nominativas" ...</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Convers√µes</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O Swagger inicialmente possui essa ferramenta - Swagger Codegen. Se voc√™ alguma vez entrou em especifica√ß√µes fabricadas, existe o bot√£o "Gerar parte do servidor". Clique em, escolha um idioma - um projeto final √© gerado para voc√™. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√â gerado notavelmente: h√° todas as descri√ß√µes de classe, todas as descri√ß√µes de terminais ... - funciona. Voc√™ pode execut√°-lo localmente - funcionar√°. O problema √© um: retorna stubs - cada m√©todo n√£o √© incrementado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A id√©ia era adicionar l√≥gica com base nesses sete cen√°rios no gerador de c√≥digo - ‚Äúestrague‚Äù um dos modelos padr√£o, configure voc√™ mesmo. Aqui est√° apenas um exemplo de c√≥digo real que usamos no mecanismo de modelo e uma lista das a√ß√µes que precis√°vamos executar para configurar este gerador de c√≥digo para n√≥s mesmos:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/tt/ye/ls/ttyelscqkjzd0js6dfnzpr_4opg.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O mais importante que eles fizeram foi conectar as bibliotecas necess√°rias, escrever classes para se comunicar com o kernel e interpretar (dependendo do cen√°rio) a chamada de um ou mais m√©todos no lado do kernel. O modelo tamb√©m foi invertido: do bonito indicado na especifica√ß√£o para quatro campos e depois transformado de volta.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Provavelmente, o caso mais dif√≠cil aqui foi fornecer uma √°rvore ao usu√°rio, porque o kernel tamb√©m retorna quatro linhas para n√≥s - v√° e veja em que n√≠vel a hierarquia est√°. Usamos o mecanismo de rela√ß√µes externas, que est√° no IDE, ou seja, fomos ao MetaMetu, examinamos todos os caminhos de um para o outro e geramos dinamicamente uma √°rvore atrav√©s deles. O usu√°rio pode solicitar a qualquer objeto o que ele quiser - uma bela √°rvore ser√° devolvida na sa√≠da, na qual tudo j√° est√° estruturado. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Vou parar voc√™ por um segundo, porque j√° estou come√ßando a me perder. Vou perguntar no estilo "Entendo isso corretamente" ...</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ quer dizer que calculamos todo o c√≥digo mais complicado e complexo que precisaria ser escrito para algum novo objeto. E, para economizar tempo, e n√£o faz√™-lo, conseguimos inserir tudo no kernel e tornar essa hist√≥ria din√¢mica ... Mas essa API (como brincavam, "teimosa") √© t√£o "qualquer coisa" que √© assustador divulg√°-la: com ele, voc√™ pode corromper os metadados. Isso est√° por um lado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por outro lado, percebemos que n√£o podemos nos comunicar com nossos clientes, a menos que lhes forne√ßa uma API, que ser√° uma proje√ß√£o exclusiva dos objetos de gerenciamento de metadados incorporados ao sistema (de fato, execute um determinado contrato para o nosso servi√ßo). Parece que tudo - n√≥s batemos: se n√£o houver objeto - n√£o est√° l√°, e quando aparece - a extens√£o do contrato aparece, um novo c√≥digo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parece que entramos na codifica√ß√£o manual evit√°vel, mas aqui voc√™ prop√µe fazer esse c√≥digo por bot√£o. </font><font style="vertical-align: inherit;">Novamente, conseguimos fugir da hist√≥ria quando precisamos escrever algo com as m√£os. </font><font style="vertical-align: inherit;">Isso √© verdade? </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Sim, √© mesmo. </font><font style="vertical-align: inherit;">Em geral, minha id√©ia era come√ßar a programar de uma vez por todas, pelo menos com a ajuda de mecanismos de modelo. </font><font style="vertical-align: inherit;">Escreva o c√≥digo uma vez e depois relaxe. </font><font style="vertical-align: inherit;">E mesmo que um novo objeto apare√ßa no sistema - pelo bot√£o que iniciamos a atualiza√ß√£o, tudo fica mais r√≠gido, temos uma nova estrutura, novos m√©todos s√£o gerados, tudo fica bem.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ajustando o MetaMeta</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para tornar nosso servi√ßo ainda melhor, enriquecemos o MetaMeta padr√£o. Na entrada, t√≠nhamos o que restava do n√∫cleo. Tamb√©m adicionamos uma descri√ß√£o adicional aos objetos, os objetos s√£o agrupados em √°reas. Exibimos tudo isso nas especifica√ß√µes para que o usu√°rio entenda o que ele est√° manipulando e com qual objeto ele est√° se comunicando no momento. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/l8/jw/z2/l8jwz2tyod81csu9xxpkwi1lwb4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Somente adicionamos algumas coisinhas - tipos, formatos, listas de valores aceit√°veis, padr√µes, exemplos. Isso tamb√©m agrada aos usu√°rios - eles j√° entendem claramente o que pode ser inserido, o que n√£o pode. Tamb√©m fornecemos um artefato de cliente ao usu√°rio, o que nos permite detectar erros ao nos comunicar com nosso servi√ßo (precisamente por formato, j√° no est√°gio de compila√ß√£o).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas o mais importante, para que toda essa m√°gica funcionasse, precis√°vamos concordar de dentro: criar um conjunto de certas regras. </font><font style="vertical-align: inherit;">N√£o h√° muitos - contei tr√™s (h√° dois no slide, ent√£o um ter√° que ser lembrado):</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conven√ß√£o de nomes. </font><font style="vertical-align: inherit;">Nomeamos especificamente objetos no sistema para facilitar o reconhecimento de cen√°rios para seu uso posterior.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contrato de digita√ß√£o. </font><font style="vertical-align: inherit;">Isso √© para determinar corretamente os tipos, formatos e que eles lutaram entre o kernel e o servidor de aplicativos, usamos o sistema de verifica√ß√£o, pelo qual entendemos a qual formato uma propriedade espec√≠fica pertence.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chaves estrangeiras v√°lidas. </font><font style="vertical-align: inherit;">Se o objeto receber um link inv√°lido para outro objeto, toda essa m√°gica funcionar√° incorretamente.</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Resultado</font></font></h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - √â legal, mas com muita teoria. Voc√™ pode dar um exemplo pr√°tico? </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Sim, eu o preparei especialmente. Antes de partir para a confer√™ncia, na sexta-feira √† noite, literalmente 5 minutos antes do final do dia √∫til, Stas me disse: ‚ÄúOh, olha! Lancei um patch de modelo - que legal! Seria bom atualizar nosso servi√ßo ". O patch continha apenas dois objetos, mas entendo que, com a abordagem antiga, eu teria que ficar confuso e escrever ou adicionar 7 APIs. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Imediatamente, bastai clicar em um bot√£o para fazer toda essa m√°gica funcionar. Eu </font></font><br>
<br>
<img src="https://habrastorage.org/webt/jf/gr/ae/jfgraecrwtkmqpkaro8dd33ce2e.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
circulei </font><font style="vertical-align: inherit;">especialmente </font><font style="vertical-align: inherit;">em vermelho o </font><font style="vertical-align: inherit;">lugar onde a m√°gica est√° </font><font style="vertical-align: inherit;">prestes a </font><font style="vertical-align: inherit;">acontecer: </font><font style="vertical-align: inherit;">clico no bot√£o ... Essas s√£o, obviamente, capturas de tela, mas, na realidade, tudo funciona assim:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/9e/i9/f2/9ei9f2kb_hwoehod_unzzigzfgm.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Temos um novo m√©todo (entre os dois), que j√° fornece dados, pelo qual n√≥s na hierarquia podemos consultar toda a estrutura, todos os objetos aninhados: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/9m/yu/vp/9myuvpinmkso-52vkoumvvrt2r8.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/zc/x8/7b/zcx87bkyy3xqnaqnbhlbifvs014.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/7w/_p/kh/7w_pkhczrzpdq8knnr2ief_9abe.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E tudo funciona! </font><font style="vertical-align: inherit;">Eu n√£o escrevi uma √∫nica linha de c√≥digo.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sum√°rio</font></font></h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Em primeiro lugar, qual √© o fato? Gerenciamos a l√≥gica mais complexa, que levaria mais tempo para nossos programadores, para compilar c√≥digo de kernel 100% din√¢mico que pode funcionar com objetos - aqueles que s√£o e aqueles que ser√£o: em </font></font><br>
<br>
<img src="https://habrastorage.org/webt/d8/xp/qe/d8xpqeq5w0itd_cch0ei793hh_u.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
segundo lugar, obtivemos sucesso no n√≠vel do servidor de aplicativos (onde n√£o √© poss√≠vel) tamb√©m evitar a programa√ß√£o devido √† gera√ß√£o de c√≥digo - o mesmo bot√£o que voc√™ demonstrou: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bc/07/a7/bc07a74gn9n8lnrekq5dzjjfnva.jpeg"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Tentamos estender a mesma abordagem com base em metadados para outras √°reas, para a √°rea de teste. Tamb√©m escrevemos um modelo uma vez para algum objeto, inserimos tags l√°. E quando esse modelo √© executado ao longo dos metadados, ele gera uma planilha pronta com todos os cen√°rios de teste, ou seja, de fato, cobrimos todos os objetos com testes.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/qc/wp/rf/qcwprf4610fb9txjxag0mu_jbye.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida √© a cereja no bolo. Eu sei que poucas pessoas gostam de documentar o que fazem. Tamb√©m resolvemos essa dor com base em metadados. Depois que preparamos um modelo com marca√ß√£o html, o identificamos. E quando examinamos os metadados, todas essas tags s√£o substitu√≠das por suas propriedades correspondentes aos objetos. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/br/fw/qd/brfwqd8kkmrzw4i3vtj00nihefw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A sa√≠da √© uma linda p√°gina html finalizada. Em seguida, publicamos no Confluence e podemos fornecer aos nossos usu√°rios um formato leg√≠vel por humanos, para que eles possam ver o que temos no sistema, como trabalhar com ele, alguma descri√ß√£o m√≠nima, valores aceit√°veis, propriedades necess√°rias, chaves ... Todos eles podem fazer isso ver e pode facilmente descobrir isso.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como resultado, temos quatro pontos principais, e essa abordagem √© chamada MDA (Model Driven Architecture). </font><font style="vertical-align: inherit;">Por alguma raz√£o, isso se traduz em "arquitetura orientada a modelo", embora eu o chamasse de "m√©todo de desenvolvimento de software". </font></font><br>
<br>
<img src="https://habrastorage.org/webt/td/eg/xc/tdegxczzes1iuf9cabkvfyqpnsq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Qual √© o ponto? </font><font style="vertical-align: inherit;">Voc√™ cria um modelo, concorda em certas regras. </font><font style="vertical-align: inherit;">Em seguida, voc√™ cria padr√µes de transforma√ß√£o desse modelo em alguma linguagem de programa√ß√£o dispon√≠vel para voc√™. </font><font style="vertical-align: inherit;">Tudo isso funciona para alterar objetos antigos, para adicionar novos. </font><font style="vertical-align: inherit;">Voc√™ escreve o c√≥digo uma vez e n√£o se incomoda mais. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Eu sinceramente esperei o relat√≥rio inteiro quando voc√™ responder a essa pergunta. </font><font style="vertical-align: inherit;">Vamos para os meus slides favoritos.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Decis√£o. </font><font style="vertical-align: inherit;">Processo. </font><font style="vertical-align: inherit;">Antes</font></font></h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - ‚ÄúO processo. Antes ‚Äù- este √© o nosso orgulho, porque costum√°vamos programar muito, n√£o com√≠amos quase nada - √©ramos muito maus. Eu tive que executar todas essas 5 etapas para cada objeto: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ww/md/b5/wwmdb5ner6xv170apuzcaipk7bw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ficou muito triste e levou muito tempo. Agora reduzimos essa cadeia alimentar para tr√™s elos, o mais importante dos quais √© simplesmente criar o objeto corretamente, e nada mais: o </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rx/vi/3a/rxvi3axe32vloy0xw77jbs5whrw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MetaMeta √© iniciado por um bot√£o (atualiza√ß√£o) e, em seguida, pelo teste. Atualmente, estamos procurando garantir que nada caia de n√≥s, desde que come√ßamos a aplicar essa abordagem recentemente. Estamos tentando controlar todo esse processo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Segundo estimativas, todos os nossos custos de m√£o-de-obra para o desenvolvimento de todo o nosso software foram reduzidos em 6 vezes. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Quero dizer sinceramente que o n√∫mero 6 n√£o √© exagerado, √© at√© conservador. </font><font style="vertical-align: inherit;">De fato, a efici√™ncia √© ainda maior.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Planos futuros</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ pediu no final do relat√≥rio para se concentrar em nossos planos. </font><font style="vertical-align: inherit;">Antes de tudo, parece que devemos alcan√ßar n√£o apenas uma solu√ß√£o completa, mas alienada e em caixa. </font><font style="vertical-align: inherit;">Essas tecnologias podem ser aplicadas em algum lugar pr√≥ximo, quando apropriado. </font><font style="vertical-align: inherit;">Gostaria de obter um produto acabado que ser√° desenvolvido e que poderemos oferecer em nome do Sberbank. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obviamente, se falamos de tarefas imediatas, todas elas s√£o exibidas nos slides com marcadores. </font><font style="vertical-align: inherit;">Apesar da otimiza√ß√£o que recebemos, a carga na equipe ainda √© bastante s√©ria. </font><font style="vertical-align: inherit;">N√£o posso dizer com certeza de que trimestre podemos avan√ßar para a implementa√ß√£o dessas etapas.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N√∫mero 6 e o ‚Äã‚Äãcaso que Nastya trouxe - eles s√£o honestos. Realmente foi na sexta-feira, quando precis√°vamos obter documentos (avi√£o, viagem, etc.). A equipe adjacente estava programada para testar na segunda-feira, e precis√°vamos lan√ßar esse patch, n√£o para configurar os caras. Funcionou! Este √© um caso real. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dl/zz/t7/dlzzt7b-gf7fr_piyeigv5dvyeu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ficaria feliz se isso pudesse ser √∫til para qualquer um de voc√™s. Se tiver mais alguma d√∫vida estamos √† disposi√ß√£o. E ap√≥s o relat√≥rio, tamb√©m h√° algum tempo aqui. Pe√ßa. Teremos o maior prazer em ajud√°-lo! </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- De fato, acho que essa abordagem pode come√ßar a ser usada por todos. </font><font style="vertical-align: inherit;">N√£o necessariamente em nossa forma (estamos envolvidos no gerenciamento de metadados). </font><font style="vertical-align: inherit;">Pode ser um sistema de controle de qualquer coisa. </font><font style="vertical-align: inherit;">Tudo que voc√™ precisa ter em m√£os √© uma vis√£o relacional das coisas, pegue metadados a partir da√≠, entenda alguns mecanismos de modelo e entenda alguma linguagem de programa√ß√£o (como funciona). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todas essas ferramentas s√£o de dom√≠nio p√∫blico - voc√™ j√° pode come√ßar a pesquisar no Google e entender como us√°-las. </font><font style="vertical-align: inherit;">Estou certo de que us√°-los tornar√° sua vida mais f√°cil, melhor e geralmente liberar√° tempo para tarefas novas, ambiciosas e interessantes. </font><font style="vertical-align: inherit;">Obrigado!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quest√µes</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pergunta do p√∫blico (doravante - A): - Entendo corretamente que tudo est√° empilhado porque voc√™ usa um banco de dados relacional? Parece-me que se voc√™ olhasse para o banco de dados orientado a documentos, toda essa solu√ß√£o seria muito mais f√°cil para voc√™ do que eu vejo agora. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Na verdade n√£o. O que come√ßamos quando conversamos sobre pessoas que trabalham no n√≠vel do gloss√°rio e a aranha que vai ao baile de formatura l√™ essas hist√≥rias e verifica√ß√µes - na verdade, a tabela com o campo respons√°vel por esse termo do gloss√°rio ocorre no baile de formatura . Eles disseram em nosso servi√ßo: ‚ÄúPessoal, voc√™ deve ter uma API REST. Como voc√™ faz isso √© seu problema. Aqui est√° uma lista de tecnologias permitidas - use algo desta lista (√© isso que podemos usar no Sberbank). ‚Äù</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este √© o n√≠vel da nossa solu√ß√£o, arquitetura aplicada. Para n√≥s, pelo contr√°rio, era mais f√°cil fazer isso n√£o relacional. Por qu√™? Vou dar um exemplo, um dos muitos ... Por exemplo, preciso garantir, quando escrevo um campo, que ele n√£o se refira em nenhum lugar a uma tabela que n√£o existe. Eu apenas fa√ßo uma chave estrangeira no banco de dados e n√£o estou preocupado. N√£o estou escrevendo uma linha - ela n√£o me deixa fazer esse registro. E existem muitos exemplos! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui devemos preferir falar sobre outra coisa. Uma hist√≥ria mais complicada: lan√ßaremos um patch de modelo com um conjunto de dados de ajuste / certifica√ß√£o e existem 6 objetos l√°. E inevitavelmente, para voc√™ fornecer esse conjunto de APIs gentilmente, voc√™ precisa de tr√™s meses para trabalhar (de imediato). Levar√° uma semana e meia. Sem aplicar essas tecnologias, era simplesmente imposs√≠vel sobreviver nessas condi√ß√µes. Simplesmente n√£o damos esse n√≠vel de servi√ßo!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso √© poss√≠vel se voc√™ construiu a produ√ß√£o de forma a ter um patch de modelo (novo objeto), um bot√£o "Fa√ßa tudo bem" e algum software que ir√° testar no modo de emula√ß√£o do cliente. Ganhou um novo, o antigo n√£o caiu - isso tinha que ser alcan√ßado, mas como - era a escolha da equipe. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/um/ln/nb/umlnnbfg3yswh30rmviy9zwevlc.jpeg"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Eu tenho uma segunda pergunta. E qual √© um exemplo de uso da vida? Entendo que teoricamente parece que voc√™ pode pelo menos descrever o mundo inteiro com seu objeto META_META ... Mas na vida, como voc√™ o usa? A julgar pela forma como √© implementado (tudo deve ser colocado um no outro), deve diminuir a velocidade! </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- A prop√≥sito, n√£o (surpreendentemente)! Outra aplica√ß√£o dessa hist√≥ria s√£o os geradores de c√≥digo. √â aqui que algumas fachadas de lojas, armaz√©ns s√£o constru√≠dos e voc√™ √© ETL, est√° tentando estacionar todas as op√ß√µes poss√≠veis para nove modelos, nove mecanismos de modelo descritos anteriormente. Usando metadados, voc√™ descreve essa transforma√ß√£o, usando esses modelos como stubs. Al√©m disso, esta m√°quina sem programa√ß√£o fornece um c√≥digo ETL, gera c√≥digo com base em metadados. Acredito que tamb√©m existem essas tecnologias, as abordagens ser√£o apropriadas e corretas. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Eu estava contando com um exemplo mais espec√≠fico. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Diga-me, por favor, estava escrito nos seus requisitos que voc√™ precisa fazer consultas estruturais complexas (Join e similares). Em que idioma ele √© implementado ou voc√™ o descreve de alguma forma l√≥gica? </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Acesso atrav√©s da API REST, na maioria das vezes √© Java, embora possa ser qualquer linguagem. Nosso servi√ßo foi publicado (dhttps, pergunte https - voc√™ receber√° o JSON de volta). Os trechos de c√≥digo que mostramos s√£o SQL. Para entender em que ordem ele deve ser processado, fizemos alguns ajustes SQL nos dicion√°rios do DBMS e o estacionamos em um esquema separado na forma de representa√ß√µes materializadas. Assim, quando um patch de modelo √© lan√ßado, o bot√£o "Atualizar visualiza√ß√£o materializada" √© clicado (os campos + aparecem). Mas, na verdade, nosso c√≥digo √© Java e Oracle. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Vale a pena notar aqui que decidimos dividir as √°reas de responsabilidade. N√≥s deliberadamente transferimos toda a magia para o kernel, e o Application simplesmente interpreta corretamente essas respostas. Ou seja, o pr√≥prio mecanismo Join ocorre no kernel, e o Java simplesmente dispersa tudo com compet√™ncia na √°rvore e fornece ao usu√°rio o resultado final. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - E o que o Code Gens faz - voc√™ j√° escreve a l√≥gica de consultas complexas l√°? Ou √© feito no lado do cliente? Precisamos entender de que lado est√° sendo descrito ... Eles apresentaram, ao que parece, o Code Gen, no qual √© necess√°rio descrever com precis√£o em alguma estrutura: por exemplo, eu quero que minha API aprenda tal e qual Join, v√° atrav√©s da lista; ent√£o diga se existe dentro ou n√£o ... - consultas complexas s√£o suficientes. Em que est√°gio est√° escrito? </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Se entendi sua pergunta corretamente, esta √© exatamente a hist√≥ria quando nossos clientes, nossos clientes (esta √© uma equipe dentro do kernel, a plataforma) dizem: "Escute, n√£o queremos programar - nos d√™ isso". "√â isso a√≠", tudo foi feito no √¢mago. O n√∫cleo - essencialmente o que? 80%, talvez 90 - esta √© a gera√ß√£o de c√≥digo din√¢mico, o texto que ser√° chamado sob PL / SQL, mas voltado para o banco de dados. L√°, mesmo com o tempo, essa linha √© gerada por mais tempo e, em seguida, o banco de dados √© acessado (por exemplo, a solicita√ß√£o de associa√ß√£o), retorna, envolve-o no JSON e exibe-o de cabe√ßa para baixo. Al√©m disso, Java transforma tudo isso em um contrato, que depende da estrutura. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Revelou uma solu√ß√£o de atualiza√ß√£o em lote. E como √© feita a garantia de entrega - chegou todo o pacote ou parte dele? Eles t√™m um certo cachend? E como garantir que nem o servi√ßo caia, nem as estruturas de dados tenham algum tipo de coer√™ncia, para que n√£o haja erros? </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Temos um protocolo - existem dois modos de atualiza√ß√£o. Em um deles, voc√™ pode definir a bandeira "Aplique tudo o que puder". H√° alguns softwares que o Excel converte em JSON - pode haver 10 mil linhas. E voc√™, estritamente falando, duas linhas podem ser inv√°lidas (erro). E voc√™ diz: "Aplique tudo o que puder"; ou "Aplique apenas se a hist√≥ria toda n√£o tiver um √∫nico erro". L√°, o status integral ser√° reverso, por exemplo. De fato, uma inser√ß√£o √© feita no banco de dados, mas a consolida√ß√£o n√£o √© chamada.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em caso de erro - chama revers√£o, est√° no protocolo; voc√™ recebe o protocolo de qualquer maneira. Voc√™ obt√©m um status em cada linha e possui um identificador em um campo separado - um n√∫mero (ID do objeto) ou alguma chave alternativa, ou ambas. O protocolo permite entender o que aconteceu com a minha solicita√ß√£o. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - O pr√≥prio usu√°rio indica em qual das op√ß√µes ele deve se mover. Passamos esse par√¢metro para o lado do n√∫cleo, e o n√∫cleo j√° produz toda a m√°gica, nos d√° a resposta e n√≥s a interpretamos. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Por que voc√™ n√£o usou nenhum compilador de express√£o interno que ajudasse a definir a regra?" Suponha que tenhamos um modelo, estou blogando em alguma linguagem (linguagem de script digitada / n√£o digitada); escreveu: "Eu quero uma lista." Passou esse fragmento para que algum processador de c√≥digo mastigasse tudo e o colocasse em um banco de dados NoSQL, como sugerido na primeira pergunta ... Ainda n√£o est√° claro por que um banco de dados relacional e por que e como lidar com a redund√¢ncia de dados? Um homem envia para voc√™ um modelo com um bilh√£o de lixo ... Como esses acordos s√£o alcan√ßados quando uma pessoa precisa? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gw/kd/7h/gwkd7h6jpjvt37swvv7nbnaiq7c.jpeg"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Vou tentar responder √† medida que entendi a pergunta." A maior parte do programa se comunica conosco agora. Quando o mecanismo de intera√ß√£o de integra√ß√£o √© configurado, poucas pessoas se comunicam conosco como programas. √â claro que h√° casos em que as pessoas enviam la exelniks para o derramamento prim√°rio: criamos JSONs a partir deles, carregamos, mas essa √© mais uma configura√ß√£o principal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E temos um modo quando voc√™ envia 5.000 linhas, das quais 4.900 retornam com o status "Eu processei, n√£o encontrei nenhuma altera√ß√£o, n√£o fiz nada". Mas isso se reflete no protocolo e n√£o h√° erro. Isso √©, por um lado, redund√¢ncia. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Temos toda essa hist√≥ria armazenada de forma aproximada √† terceira forma normal, que simplesmente n√£o implica redund√¢ncia, em contraste com algumas estruturas desnormalizadas que s√£o usadas, por exemplo, para vitrines.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por que relacional? Os geradores de c√≥digo trabalham para n√≥s, e a sensibilidade √† qualidade dos metadados no sistema √© muito alta. E quando tivermos a oportunidade de configurar a chave estrangeira usando relacional e garantir ... O registro simplesmente n√£o se repete - haver√° um erro se algo estiver errado no sistema, se ocorrer uma falha. E queremos, mas n√£o estamos procurando trabalho adicional ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N√£o somos medidos por causa de quantas linhas de c√≥digo escrevemos: "Voc√™ resolveu a quest√£o do servi√ßo e sua estabilidade ou n√£o?" Voc√™ pode nem escrever - o principal √© que funciona. Nesse sentido, era simplesmente mais r√°pido e mais conveniente para n√≥s faz√™-lo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N√£o aceito fornecedores espec√≠ficos, mas os bancos de dados relacionais est√£o em desenvolvimento h√° 20 anos! N√£o √© assim. Pegue, por exemplo, Word ou Excel no Windows - voc√™ n√£o programa o c√≥digo l√°, que com a ajuda de "Assembler" acessa e move as cabe√ßas do disco r√≠gido para gravar um arquivo ... O mesmo est√° aqui! Acabamos de usar os desenvolvimentos que estavam no RDBMS, e isso foi conveniente. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Para garantir todos os nossos requisitos, a integridade dos metadados era importante para n√≥s. E aqui provavelmente tamb√©m queremos dizer que n√£o precisamos nos apegar - usamos relacional, n√£o relacional ... A ess√™ncia do relat√≥rio √© que voc√™ tamb√©m pode come√ßar a us√°-lo. N√£o necessariamente em base relacional, porque com certeza outros tamb√©m t√™m algum tipo de metadado que pode ser coletado: pelo menos, quais tabelas, campos e tudo isso est√° programado. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - O sistema envolve algum uso. Como voc√™ planeja (ou j√° fez) a entrega de dados ao seu sistema? √â claro que algum tipo de atualiza√ß√£o da estrutura de dados est√° acontecendo no mercado. Como isso tudo acontece com voc√™? Automaticamente, ou seu agente est√° de p√© ou voc√™ est√° dobrando todas as equipes de desenvolvimento para receber atualiza√ß√µes? </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Temos dois modos de opera√ß√£o. Uma √© quando os pr√≥prios desenvolvedores ou as pr√≥prias equipes s√£o for√ßados a inserir metadados no sistema atrav√©s dos servi√ßos REST. O segundo modo de opera√ß√£o √© o mesmo ‚Äúaspirador de p√≥‚Äù: n√≥s mesmos entramos no ambiente e extra√≠mos todos os metadados poss√≠veis. Fazemos isso uma vez por dia e basta verificar o que os desenvolvedores nos enviaram. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/o0/om/qs/o0omqsz1ftq17pwp2_urym0g4he.jpeg"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Dos quatro n√≠veis que examinamos, os tr√™s principais (gloss√°rio, modelos l√≥gicos, modelos f√≠sicos) s√£o a hist√≥ria que nos chega por padr√£o no modo Metadata Broker, e somos participantes passivos. Eles nos chamam, nos passam alguma coisa, perguntam; nossa tarefa √© estacionar de maneira consistente. Embora existam casos em que criamos algumas hist√≥rias com os recursos da equipe, se estamos muito interessados ‚Äã‚Äãem ter esses metadados.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como Nastya disse, em rela√ß√£o √† hist√≥ria ao contr√°rio (no jarg√£o t√©cnico, chamamos de "aspirador"), vamos ao ambiente industrial e lemos alguns dados. Existem casos diferentes - estamos prontos para discutir mais tarde, estamos prontos para contar muitas hist√≥rias interessantes. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Sou do centro da tecnologia financeira. Eu vi uma palavra familiar l√° - DACUM principal. Nossa plataforma possui seus pr√≥prios metadados. Como voc√™s s√£o amigos - diretamente com as tabelas Oracle ou com nossos metadados neste caso? Porque, no nosso caso, ser amigo das tabelas Oracle n√£o √© totalmente indicativo. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Existe uma tabela DACUM principal, que cont√©m a fia√ß√£o. </font><font style="vertical-align: inherit;">Isso n√£o √© segredo: havia e existem produtos que funcionam nessa hist√≥ria. </font><font style="vertical-align: inherit;">Estas s√£o uma das fontes de informa√ß√£o no reposit√≥rio. </font><font style="vertical-align: inherit;">Existe algum tipo de sistema que √© um provedor de dados. </font><font style="vertical-align: inherit;">Naturalmente, est√° no foco de nossa aten√ß√£o em termos de metadados, porque uma das hist√≥rias que devemos mostrar e que nem tocamos aqui (devido ao t√≥pico do relat√≥rio) √© a linhagem de dados. </font><font style="vertical-align: inherit;">Voc√™ deve mostrar de onde vem o hist√≥rico de dados deste campo. </font><font style="vertical-align: inherit;">Nesse sentido, se houver uma tabela principal do DACUM, sabemos disso.</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/GUUSIMn9mao" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um pouco de publicidade :)</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obrigado por ficar com a gente. Voc√™ gosta dos nossos artigos? Deseja ver materiais mais interessantes? Ajude-nos fazendo um pedido ou recomendando aos seus amigos o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VPS na nuvem para desenvolvedores a partir de US $ 4,99</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , um </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">anal√≥gico exclusivo de servidores de n√≠vel b√°sico que foi inventado por n√≥s para voc√™: </font></font></b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Toda a verdade sobre o VPS (KVM) E5-2697 v3 (6 n√∫cleos) 10 GB DDR4 480 GB SSD 1 Gbps de US $ 19 ou como dividir o servidor?</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (as op√ß√µes est√£o dispon√≠veis com RAID1 e RAID10, at√© 24 n√∫cleos e at√© 40GB DDR4). </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dell R730xd 2 vezes mais barato no data center Equinix Tier IV em Amsterd√£?</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Somente n√≥s temos </font></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 TVs Intel TetraDeca-Core Xeon 2x E5-2697v3 2.6GHz 14C 64GB DDR4 4x960GB SSD 1Gbps 100 TV a partir de US $ 199</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> na Holanda!</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dell R420 - 2x E5-2430 2.2Ghz 6C 128GB DDR3 2x960GB SSD 1Gbps 100TB - a partir de US $ 99! </font></font></b></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Leia sobre</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Como criar um pr√©dio de infraestrutura. </font><font style="vertical-align: inherit;">classe c usando servidores Dell R730xd E5-2650 v4 que custam 9.000 euros por um centavo?</font></font></a></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt487540/">https://habr.com/ru/post/pt487540/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt487522/index.html">N√≥s fazemos o terminal voar (parte 1)</a></li>
<li><a href="../pt487524/index.html">Por que um hackathon de inicializa√ß√£o de hardware precisa</a></li>
<li><a href="../pt487528/index.html">–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º —Å–æ–≥–ª–∞—à–µ–Ω–∏–∏ –∏ –ø–æ–ª–∏—Ç–∏–∫–µ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞ —Å–µ—Ä–≤–∏—Å–∞—Ö –•–∞–±—Ä–∞</a></li>
<li><a href="../pt487534/index.html">etcd 3.4.3: confiabilidade de armazenamento e pesquisa de seguran√ßa</a></li>
<li><a href="../pt487538/index.html">A .NET Interactive est√° aqui! | Pr√©-visualiza√ß√£o do .NET Notebooks 2</a></li>
<li><a href="../pt487542/index.html">PRESENT - Criptografia de bloco ultraleve (tradu√ß√£o do PRESENT original: uma cifra de bloco ultraleve)</a></li>
<li><a href="../pt487544/index.html">Documenta√ß√£o do .NET: Novidades de janeiro</a></li>
<li><a href="../pt487548/index.html">Nova experi√™ncia: Chamando servi√ßos .NET gRPC de um navegador com gRPC-Web</a></li>
<li><a href="../pt487550/index.html">Imagem 3D em python com desempenho (quase) normal</a></li>
<li><a href="../pt487552/index.html">Swift 5.2 - o que h√° de novo?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>