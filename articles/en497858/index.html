<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üìΩÔ∏è üë©‚Äçüë©‚Äçüë¶‚Äçüë¶ üëèüèΩ Big memory requirements in Android - what to do? üèáüèª ü§∏üèº üöΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello dear readers. 
 
 Today we bring to your attention a little material about the competent use of memory in Android . 
 
 
 
 Enjoy reading!
 
 Th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Big memory requirements in Android - what to do?</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/497858/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hello dear readers. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Today we bring to your attention a little material about the competent use of memory in </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Android</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<img src="https://habrastorage.org/webt/f4/0y/g6/f40yg6u5swe9eljh-fifu43qxak.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Enjoy reading!</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This article focuses on the basic techniques for managing memory usage in applications ‚Äî for example, browsers, photo editors, and PDF viewers ‚Äî in which large memory requests are made.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">First, a little theory</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Most Android apps run on top of the runtime ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ART</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), which has replaced the now obsolete Dalvik virtual machine. </font><font style="vertical-align: inherit;">ART and Dalvik are similar to the Java Virtual Machine (JVM), with which they share similar design principles. </font><font style="vertical-align: inherit;">They use two separate spaces to store application data: the stack and the heap. </font></font><br>
<br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stack-memory</font></font></b></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Stack-memory in Java is used to store local variables (primitive types and object references). </font><font style="vertical-align: inherit;">Each Java thread has its own separate stack. </font><font style="vertical-align: inherit;">Stack memory is relatively small compared to heap memory. </font><font style="vertical-align: inherit;">Dalvik's Java stack size is typically 32 KB for Java code and 1 MB for native code (C ++ / JNI). </font><font style="vertical-align: inherit;">A unified stack for Java and C ++ has appeared in ART, the size of which is about 1 MB.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When the application selects the entire stack memory to the limit, an error is thrown </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=">StackOverflowError</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. The most likely reasons a stack limit can be reached is either infinite recursion or an overly deep method call. References to the stack memory are always made in the LIFO order (last come - first served). Each time a method is called, a new frame is pushed onto the stack with the local variables of this method. When the method completes, its frame is popped off the stack, and any possible resulting value is sent back to the stack. So, the first problem (infinite recursion) is a bug that is easy to fix, but the second requires some refactoring, which consists in deploying recursive method calls and converting them into a loop. </font></font><br>
<br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Heap memory</font></font></b></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Heap memory in Java is used by a virtual machine to allocate objects. </font><font style="vertical-align: inherit;">Whenever an object is created, it happens on the heap. </font><font style="vertical-align: inherit;">Virtual machines, such as the JVM or ART, regularly collect garbage, remove all objects that are no longer referenced, and thus free up memory to allocate new objects. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To ensure usability, Android tightly limits heap sizes for each running application. </font><font style="vertical-align: inherit;">The heap size limit varies from device to device and depends on how much RAM is on that device. </font><font style="vertical-align: inherit;">If your application reaches the maximum heap size and tries to allocate more memory, an error is generated </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=">OutOfMemoryError</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and the application terminates. </font><font style="vertical-align: inherit;">Let's look at some examples to help avoid this situation.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Heap memory analysis</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The most important tool for understanding memory problems in your applications and understanding how memory is used is the memory </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">profiler</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> available in Android Studio. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This tool visualizes how much memory your application consumes over time. </font><font style="vertical-align: inherit;">You can take snapshots of the Java heap in a running application, record the memory allocation operations, and keep track of the heap or this memory allocation history in a powerful UI. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A typical memory profiler session should look like this:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We look at the most frequent memory allocations and garbage collector passages to identify possible performance problems.</font></font></li>
<li>,      ,    ,  ,  ,    . ,        . ,  ,      <code>PdfActivity</code>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=">PSPDFKit</a>   .</li>
<li>           ,   .   ,          .        ‚Äì ,         ,      .</li>
</ul><br>
<h4> </h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Modern garbage collectors are complex works of technological art, the result of many years of research and development, in which hundreds of people participated, from academics to professional developers. However, still have to be on the alert to prevent memory leaks. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
An exemplary solution for detecting memory leaks is the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LeakCanary</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> library </font><font style="vertical-align: inherit;">. It automatically issues notifications when in your test assembly (development build), giving you the leak trace rate in the UI of this program. You can (and should) </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">integrate</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> it today, especially since it is not difficult!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It is especially easy to provoke memory leaks when working with complex life cycles of activities or fragments of Android. </font><font style="vertical-align: inherit;">This often happens at points where developers hold strong references to </font><font style="vertical-align: inherit;">UI </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contexts</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> or other UI-specific objects in the background task or in static variables. </font><font style="vertical-align: inherit;">One way to provoke such delays is to actively twist the device when testing your application.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Free up memory in response to events</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Android may require the application to allocate memory, or simply force it to terminate when the memory needs to be freed to perform more critical tasks. Before this happens, the system will allow you to give all the memory that you do not need. In your activity you will need to implement an interface </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=">ComponentCallbacks2</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. In this case, whenever your system runs out of memory, a call will be made to your method </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=">onTrimMemory()</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and you will be able to free up memory or disable features that will not work under such conditions of memory shortage.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So, such callbacks are handled in the PSPDFKit application. </font><font style="vertical-align: inherit;">The PSPDFKit application was designed with the calculation of the active use of memory for caching, so that the application runs as smoothly as possible. </font><font style="vertical-align: inherit;">Initially, it is not known how much memory is available on the device, so PSPDFKit adapts to the situation and limits the use of memory when it receives notifications that there is not enough memory. </font><font style="vertical-align: inherit;">Therefore, applications integrated with PSPDFKit work even on low-tech devices, but with reduced performance due to the fact that caching is disabled.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Big pile</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
One of the front-end solutions to cope with high memory requirements is to request a large bunch of Dalvik for your application. To do this, you can add </font></font><code>android:largeHeap="true"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">to the &lt;application&gt; tag in the file </font></font><code>AndroidManifest.xml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If the property </font></font><code>largeHeap</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">is set to value </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, Android will create all the processes for your application with a large heap. This setting is intended only for those applications that, by their nature, cannot work without it, that is, they use voluminous resources that must simultaneously fit in memory.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It is strongly discouraged to use a large heap if you only want to raise the ceiling for possible memory usage. </font><font style="vertical-align: inherit;">Memory usage should always be optimized, because even a large pile of your application may not be enough when working on a weak device with small memory.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Check how much memory your application can use</font></font></h4> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It never hurts to check how large the heap of your application is and to dynamically adapt your code and available capabilities to these memory limits. </font><font style="vertical-align: inherit;">You can check the maximum heap size directly at runtime using methods </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=">getMemoryClass()</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">or </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=">getLargeMemoryClass()</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(when a large heap is enabled). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Android even supports devices with only 512 MB of RAM. </font><font style="vertical-align: inherit;">Be sure not to ignore low-tech devices! </font><font style="vertical-align: inherit;">Using the method</font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=">isLowRamDevice()</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">You can check if your application is running on such a device where there is not enough available memory. </font><font style="vertical-align: inherit;">The exact behavior of this method is device dependent, but it usually returns true on devices with less than 1 GB of RAM. </font><font style="vertical-align: inherit;">You need to make sure that your application works correctly on these devices, and disable all features that use a large amount of memory on them. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Read more about how Android works on devices with a small amount of memory, you can read </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ; </font><font style="vertical-align: inherit;">Additional optimization tips are also provided here.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Use optimized data structures</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In many cases, applications use too much memory for the simple reason that they do not use the most appropriate data structures. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Java collections cannot store efficient primitive types and require packing their keys and values. For example, </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=">HashMap</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">with integer keys should be replaced with optimized ones </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=">SparseArray</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Ultimately, you can always use raw arrays instead of collections, and this is a great idea if your collection is not resizable. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Other data structures that are inefficient in terms of memory usage include various serializations. Yes, indeed, XML or JSON formats are convenient to use, you can reduce memory usage if you work with a more efficient binary format, for example, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">protocol buffers</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
All of these examples, with data structures optimized to save memory, are just hints. </font><font style="vertical-align: inherit;">As with refactoring, you must first find the source of the problems, and then move on to such performance optimizations.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prevent memory shuffling</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Java / Android virtual machines allocate objects very quickly. </font><font style="vertical-align: inherit;">Garbage collection is also very fast. </font><font style="vertical-align: inherit;">However, when allocating a large number of objects in a short period of time, you may encounter a problem called ‚Äúmemory churn‚Äù. </font><font style="vertical-align: inherit;">In this case, the virtual machine will not have time to allocate objects at this pace, and the garbage collector will dispose of them, and the application will begin to slow down, and in extreme cases it will even use up all the memory.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The main problem on Android territory in this case is that we do not control when garbage collection will occur. </font><font style="vertical-align: inherit;">Potentially, this can lead to problems: for example, the garbage collector works exactly at the time the animation unfolds on the screen and we exceed the threshold of 16 ms, which ensures smooth display of frames. </font><font style="vertical-align: inherit;">Therefore, it is important to prevent over-allocation of memory in code. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
An example of a situation that leads to memory shuffling is the allocation of large objects, for example, Paint inside the </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=">onDraw()</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">presentation </font><font style="vertical-align: inherit;">method </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">In this case, many objects are quickly created, and garbage collection can begin, which can adversely affect the performance of this view. </font><font style="vertical-align: inherit;">As stated above, you should always monitor memory usage to avoid such situations.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Random access memory (RAM) on mobile devices can be a very limited resource. </font><font style="vertical-align: inherit;">Ensuring efficient use of memory in the application is especially important if your application works with relatively large objects, for example, raster graphics (PDF viewers, web browsers, photo editors) or large media files (audio or video editors). </font><font style="vertical-align: inherit;">Following these tips, you will learn how to create high-quality applications that will work at an acceptable level, even on the most powerful devices.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en497838/index.html">News from the world of OpenStreetMap No. 507 (03/31/2020-06.04.2020)</a></li>
<li><a href="../en497840/index.html">SOC on a remote site. What is worth thinking about?</a></li>
<li><a href="../en497842/index.html">Banana Pi R64 The best router for OpenWrt, or not?</a></li>
<li><a href="../en497850/index.html">How did I repair an arcade machine</a></li>
<li><a href="../en497856/index.html">Boost Converter: DCM vs CCM. Or why not be afraid to take it yourself</a></li>
<li><a href="../en497860/index.html">Generating design patterns in ES6 + on the example of the Game of Thrones</a></li>
<li><a href="../en497862/index.html">Why not delete all elements of the array by reassigning it to []?</a></li>
<li><a href="../en497864/index.html">(S) SDLC, or How to make development safer. Part 1</a></li>
<li><a href="../en497866/index.html">Clean SIL Code</a></li>
<li><a href="../en497870/index.html">Computer viruses: a story from harmless home spies to bank card thieves</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>