<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💪🏾 👷🏻 🤳 Anleitung: Ihr eigenes L2TP-VPN 📅 💼 👂</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nachdem Sie im Internet nach Software zum Erstellen Ihres eigenen VPN gesucht haben, stoßen Sie ständig auf eine Reihe von Anleitungen, die sich auf d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Anleitung: Ihr eigenes L2TP-VPN</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/505824/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nachdem Sie im Internet nach Software zum Erstellen Ihres eigenen VPN gesucht haben, stoßen Sie ständig auf eine Reihe von Anleitungen, die sich auf die unbequeme Konfiguration und Verwendung von OpenVPN beziehen, für das der proprietäre Wireguard-Client erforderlich ist. Nur ein SoftEther aus diesem ganzen Zirkus zeichnet sich durch eine angemessene Implementierung aus. </font><font style="vertical-align: inherit;">Wir werden jedoch sozusagen über die native VPN-Implementierung für Windows - Routing und RAS - (RRAS) berichten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aus einem seltsamen Grund hat niemand in einem Handbuch darüber geschrieben, wie alles bereitgestellt und NAT darauf aktiviert wird. Jetzt werden wir das Problem beheben und Ihnen erklären, wie Sie Ihr eigenes VPN unter Windows Server erstellen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nun, ein vorgefertigtes und vorkonfiguriertes VPN kann auf unserem </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Marktplatz bestellt werden</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , so wie es </font><font style="vertical-align: inherit;">sofort </font><font style="vertical-align: inherit;">funktioniert.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/webt/qd/_q/-e/qd_q-ewnh9imcvaaujksgzzhfyq.jpeg"></div></a><br>
<a name="habracut"></a><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Installieren Sie die Dienste</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zunächst benötigen wir die Windows Server Desktop Experience. </font><font style="vertical-align: inherit;">Die Installation von Core funktioniert bei uns nicht, da keine NPA-Komponente vorhanden ist. </font><font style="vertical-align: inherit;">Wenn der Computer Mitglied einer Domäne ist, können Sie bei Server Core anhalten. In diesem Fall kann das Ganze in einem Gigabyte RAM gespeichert werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir müssen RRAS und NPA (Network Policy Server) installieren. </font><font style="vertical-align: inherit;">Wir benötigen den ersten, um einen Tunnel zu erstellen, und den zweiten, wenn der Server kein Mitglied der Domäne ist. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hw/vc/cg/hwvccgfuaaiklixrhtsf-3jc_g0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wählen Sie bei der Auswahl der RRAS-Komponenten Direktzugriff sowie VPN und Routing aus.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bm/pr/ly/bmprly1klryjjgc6cr5bcd3w_9k.png"><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Konfigurieren Sie RRAS</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem wir alle Komponenten installiert und den Computer neu gestartet haben, müssen wir die Konfiguration starten. Wie auf dem Bild finden wir beim Start den RRAS-Manager. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/i6/rj/ry/i6rjryud0us53ivjbdknjmt43vq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Durch dieses Snap-In können wir Server mit installiertem RRAS verwalten. Klicken Sie mit der rechten Maustaste, wählen Sie die Einstellung aus und gehen Sie. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ss/_o/5d/ss_o5de0katdbw7tyrp81pzv7vu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem wir die erste Seite übersprungen haben, gehen wir zur Auswahl der Konfiguration und wählen Ihre eigene aus. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/nc/gb/ku/ncgbkuset2thtgb-lrxiqyxvyvu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auf der nächsten Seite werden wir aufgefordert, die Komponenten auszuwählen, VPN und NAT auszuwählen. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/q0/ol/uj/q0oluj1q4hgl-jfvhgc7ngt081o.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Weiter, weiter. Erledigt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt müssen Sie ipsec aktivieren und den Adresspool zuweisen, den unser NAT verwenden wird. Klicken Sie mit der rechten Maustaste auf den Server und gehen Sie zu den Eigenschaften. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/6_/19/f-/6_19f-vs-vmjtv8h_epxtdchpam.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Geben Sie zunächst Ihr Passwort für l2TP ipsec ein.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ds/jd/ln/dsjdlntmm_eoy6eymyuqfg29hqc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auf der Registerkarte IPv4 muss der Bereich der an Clients ausgegebenen IP-Adressen festgelegt werden. </font><font style="vertical-align: inherit;">Ohne dies funktioniert NAT nicht. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hh/oa/td/hhoatdwghrbykefsev7ioqg-2-w.png"><br>
<br>
<img src="https://habrastorage.org/webt/th/ol/dc/tholdcsuhekfwb00_pzqlexwnco.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt muss noch die Schnittstelle für NAT hinzugefügt werden. </font><font style="vertical-align: inherit;">Wechseln Sie zum IPv4-Unterelement, klicken Sie mit der rechten Maustaste auf einen leeren Bereich und fügen Sie eine neue Schnittstelle hinzu. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/v9/rg/mq/v9rgmqsrvnlkxbpbwgupalc54si.png"><br>
<br>
<img src="https://habrastorage.org/webt/an/mc/b-/anmcb-lels67_oetwjsqvu2tpks.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aktivieren Sie auf der Schnittstelle (eine, die nicht intern ist) NAT.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/hh/s-/mb/hhs-mbbbqocw0mvvdjydjddr1xy.png"><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. Zulassen Sie Regeln in der Firewall</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier ist alles einfach. </font><font style="vertical-align: inherit;">Sie müssen die Routing- und RAS-Regelgruppe suchen und alle aktivieren.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bo/qk/hd/boqkhd0qpat-thjtkpxrzy2xaok.png"><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. Konfigurieren Sie NPS</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir sehen uns den Start von Network Policy Server an. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kh/ta/o1/khtao1xs4n-xinhylbwpq8rmb8k.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auf den Registerkarten, auf denen alle Richtlinien aufgeführt sind, müssen Sie beide Standardrichtlinien aktivieren. </font><font style="vertical-align: inherit;">Dadurch können alle lokalen Benutzer eine Verbindung zum VPN herstellen.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/f7/e5/un/f7e5und8rmofp9npiq8iqszwfrw.png"><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. Verbinden Sie sich über VPN</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wählen Sie zu Demonstrationszwecken Windows 10. Suchen Sie im Startmenü nach VPN. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/u6/ly/ge/u6lygemk7e49hku8vb8xpeate8w.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Klicken Sie auf die Schaltfläche Verbindung hinzufügen und gehen Sie zu den Einstellungen. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/nh/-u/_f/nh-u_f5xvirnp8fx_0eulynloqo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Geben Sie den Namen der gewünschten Verbindung an. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IP-Adresse ist die Adresse Ihres VPN-Servers. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VPN-Typ - l2TP mit einem vorläufigen Schlüssel. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der freigegebene Schlüssel ist vpn (für unser Image auf dem Marktplatz) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
. Der Benutzername und das Kennwort sind der Benutzername und das Kennwort des lokalen Benutzers, </font><font style="vertical-align: inherit;">dh </font><font style="vertical-align: inherit;">des Administrators. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sp/at/kh/spatkhujdiiuivv9imaqxjjdtc0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Klicken Sie auf die Verbindung und Sie sind fertig. </font><font style="vertical-align: inherit;">Ihr eigenes VPN ist also bereit. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/g4/ic/ws/g4icwstdvv5o_ge-3nlb5soxang.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir hoffen, dass unser Leitfaden denjenigen eine weitere Option bietet, die ihr eigenes VPN erstellen möchten, ohne Linux zu kontaktieren, oder einfach nur ein Gateway zu ihrem AD hinzufügen möchten.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/gu/ab/cg/guabcgmwuqoopx1ar80sjpz6keq.png"></a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/de/0y/l-/de0yl-6ppopvisr_a80b4yuhjj8.png"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de505796/index.html">CO2, Sp02 und COVID-19: Warum müssen Sie häufiger lüften (wenige Messungen)?</a></li>
<li><a href="../de505798/index.html">PHP 25 Jahre: eine kurze Geschichte der Sprache und 50% Rabatt auf PhpStorm</a></li>
<li><a href="../de505802/index.html">Hosting und dedizierte Server: Beantworten Sie Fragen. Teil 4</a></li>
<li><a href="../de505812/index.html">4 Ingenieure, 7000 Server und eine globale Pandemie</a></li>
<li><a href="../de505814/index.html">Radarr, Jackett und der Bot im Wagen. Laden Sie Torrents auf neue Weise herunter</a></li>
<li><a href="../de505826/index.html">Wie man 100% Vision und noch mehr bekommt</a></li>
<li><a href="../de505834/index.html">Medianproben. Konfidenzintervalle und Vergleich</a></li>
<li><a href="../de505838/index.html">FPGA-Technologie für Tausende von Anwendungen</a></li>
<li><a href="../de505846/index.html">Was sind die wirklichen mathematischen Probleme bei der Entwicklung von Impfstoffen aus COVID-19?</a></li>
<li><a href="../de505850/index.html">C ++ - Konzeptbasierter Polymorphismus im Produktcode: PassManager in LLVM</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>