<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏻‍🏭 🔵 👍 Million en un mois: comment lancer vous-même une startup en Europe 🍟 🛌🏻 🈴</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour à tous! 
 
 Il y a deux mois, mon ami et moi (pour faire court, appelons-le Ilya) avons lancé leur startup. 
 Pffff ... tu dis. Chaque jour, q...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Million en un mois: comment lancer vous-même une startup en Europe</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/506346/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bonjour à tous! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y a deux mois, mon ami et moi (pour faire court, appelons-le Ilya) avons lancé leur startup. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pffff ... tu dis. </font><font style="vertical-align: inherit;">Chaque jour, quelqu'un commence quelque chose. </font><font style="vertical-align: inherit;">Quelqu'un se lance seul. </font><font style="vertical-align: inherit;">Certains sont regroupés en équipes. </font><font style="vertical-align: inherit;">Quelqu'un a de l'argent pour le développement \ marketing, quelqu'un propose une part, après paiement, des options. </font><font style="vertical-align: inherit;">Tout le monde tourne comme il peut et cherche aussi des partenaires.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/fi/8a/yt/fi8ayt5fc0g2zt4l7ws_dd4luzk.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous n'avions pas d'argent, il n'y avait que de l'expérience et 2 semaines avant les premières ventes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sous la coupe, je vais parler de ce à quoi nous avons été confrontés et comment nous avons gagné un million pendant la crise</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je veux juste partager l'expérience que nous avons acquise. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Plus précisément, partager l'expérience qui a permis de tout lancer en 2 semaines. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sérieusement! </font><font style="vertical-align: inherit;">Je ne plaisante pas. </font><font style="vertical-align: inherit;">De la première rencontre au lancement du projet - 2 semaines! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une semaine pour le développement et la promotion dans le social. </font><font style="vertical-align: inherit;">réseaux et une semaine sur les ventes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au cours de l'histoire, je vais manquer les détails insignifiants (ou évidents, qui peuvent être trouvés dans la documentation) et me concentrer uniquement sur certaines subtilités. </font><font style="vertical-align: inherit;">Des configurations et des exemples de code seront également trouvés.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qui sommes nous? </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque la quarantaine a commencé, de nombreux secteurs d'activité ont commencé à s'affaisser lentement. </font><font style="vertical-align: inherit;">Cela a également affecté la sphère d'Ilya, à savoir «la danse et la chorégraphie». </font><font style="vertical-align: inherit;">Il possède un grand nombre d'écoles de danse. </font><font style="vertical-align: inherit;">Le même malheur a dépassé la forme physique. </font><font style="vertical-align: inherit;">Et là, les gens ont commencé à sortir grâce à la formation en ligne. </font><font style="vertical-align: inherit;">Il a donc eu l'idée de diriger un camp de danse en ligne (en totale analogie avec les camps hors ligne). </font><font style="vertical-align: inherit;">Avec lequel il est venu vers moi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au final, l'équipe était formée de seulement 2 personnes:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">partie (s) technique (s)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Marketing + Management (Ilya)</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sinon, cette liste peut être complétée par des employés embauchés (designer, cmm, traducteur, avocat), mais ce sont déjà des bagatelles de la vie. </font><font style="vertical-align: inherit;">Nous attribuons cela à des dépenses ponctuelles. </font><font style="vertical-align: inherit;">Et ces coûts sont faibles.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qu'avons-nous fait?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le sens du camp de danse était simple. Il y a 12 professeurs et un événement de 3 jours. 4 cours par jour. Il était nécessaire de créer une plateforme où l'utilisateur pourrait s'inscrire, acheter l'accès au camp. Il y avait également des informations sur les enseignants, la programmation \ horaire, un formulaire de rétroaction. Eh bien, et le plus intéressant - il était nécessaire d'organiser un streaming d'artistes qui sont également en quarantaine à la maison. Pourquoi n'avons-nous pas choisi des solutions instagram - interdiction de la musique de fond. Des décisions telles que Zoom ont ignoré l'interaction inutile + trop cher + la nécessité d'installer un logiciel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une nuance distincte est que les enseignants d'Europe et des États-Unis sont également en quarantaine. Cela a imposé certaines restrictions sur la partie technique.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et encore une nuance - cela devrait être un produit fini. </font><font style="vertical-align: inherit;">Les gens devaient voir quelque chose de beau et comprendre ce qu'ils achetaient, ce qu'ils obtiendraient. </font><font style="vertical-align: inherit;">Pourquoi en ont-ils besoin?</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Que voulons-nous?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous voulions que MVP lance le premier camp et continue de les mener de plus en plus. </font><font style="vertical-align: inherit;">Il faut tester l'hypothèse que les gens ont besoin de ce service. </font><font style="vertical-align: inherit;">Et ce n'est pas seulement de la quarantaine. </font><font style="vertical-align: inherit;">En tant qu'adultes, nous avons présenté un certain nombre d'exigences pour cela:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La solution doit être stable. </font><font style="vertical-align: inherit;">Aucune 500e transaction ne se bloque. </font><font style="vertical-align: inherit;">Nous n'avons pas besoin de tickets d'assistance. </font><font style="vertical-align: inherit;">Tout devrait fonctionner sans notre participation.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La solution doit être flexible et évolutive. </font><font style="vertical-align: inherit;">Aujourd'hui, nous avons 100 personnes. </font><font style="vertical-align: inherit;">Demain 10 000. Les lettres doivent partir. </font><font style="vertical-align: inherit;">Le streaming peut supporter n'importe quelle charge. </font><font style="vertical-align: inherit;">Dans le cas d'un changement de la passerelle de paiement, par exemple, il ne devrait pas y avoir de retard dans l'acceptation du paiement</font></font></li>
<li>      ,            </li>
<li>         . ..     </li>
</ol><br>
<h3>  ?</h3><br>
<ul>
<li>backend  symfony</li>
<li>frontend  jquery + vue</li>
<li>   webpack</li>
<li> nats</li>
<li>   Go   </li>
<li> Minio   </li>
<li>redis   </li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le panneau d'administration a été créé à l'aide du pack d'administration Sonata. </font><font style="vertical-align: inherit;">Cette bête est configurée rapidement, pratique à utiliser. </font><font style="vertical-align: inherit;">Pas besoin de perdre du temps à développer un panneau personnalisé. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Arrêtons-nous maintenant un peu plus en détail sur les différentes nuances. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je veux juste noter que les choses décrites ci-dessous ne sont qu'une liste de recommandations (conseils) sur la façon de faire rapidement et à peu de frais. </font><font style="vertical-align: inherit;">Une grande partie de ce qui est écrit pour quelqu'un sera évidente, mais pas pour quelqu'un.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S'identifier</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'autorisation SMS est le plus gros aspirateur pour votre argent. Si vous lancez une startup, pensez 10 fois si vous en avez besoin. Imaginez que 1000 utilisateurs sont venus vers vous. Multipliez maintenant le prix moyen des SMS en Europe \ USA et ajoutez-le au coût de votre projet. Vous rencontrerez également un certain nombre de problèmes correspondant au nom de l'expéditeur. Et en plus, c'est aussi long (dans certains pays, ce processus dure de 2 à 3 semaines ou plus). Et sur le nom standard de l'expéditeur, de nombreux opérateurs mobiles bloquent les SMS. Un peu agréable. Par conséquent, nous avons utilisé l'autorisation via mail \ social. réseau. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Très rapidement, l'autorisation via les réseaux sociaux peut être intégrée en ajoutant la bibliothèque LexikJWTAuthenticationBundle au projet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je suis plus que sûr que d'autres langages et frameworks ont également des langages similaires.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est bien documenté et il existe plusieurs exemples.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez la trouver ici</font></font></b>
                        <div class="spoiler_text"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">github.com/lexik/LexikJWTAuthenticationBundle</a><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons immédiatement commencé à envoyer des lettres dans la file d'attente. </font><font style="vertical-align: inherit;">Je pense que même pour les petits projets, cela devrait être pris comme base. </font><font style="vertical-align: inherit;">Cela se fait très rapidement. </font><font style="vertical-align: inherit;">Et qui sait, peut-être que dans un mois, votre startup tournera et qu'il y aura x10 utilisateurs. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
À propos de NATS, il existe des articles sur un habr y compris. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe des bibliothèques prêtes à l'emploi pour php et Go (et de nombreuses autres langues), </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
c'est-à-dire </font><font style="vertical-align: inherit;">il s'est avéré un tas de PHP -&gt; NATS -&gt; GO -&gt; Amazon SES </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En utilisant docker-compose, nous installons NATS:</font></font><br>
<br>
<pre><code class="plaintext hljs">version: "2"<font></font>
<font></font>
services:<font></font>
 nats:<font></font>
  container_name: nats-mq<font></font>
  image: nats<font></font>
  networks:<font></font>
    - "back"<font></font>
  ports:<font></font>
    - "127.0.0.1:4222:4222"<font></font>
    - "127.0.0.1:6222:6222"<font></font>
    - "127.0.0.1:8222:8222"<font></font>
  entrypoint: "/gnatsd -c gnatsd.conf --auth SECRET --debug"<font></font>
  restart: always<font></font>
<font></font>
networks:<font></font>
  back:<font></font>
    driver: "bridge"<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ajoutez un package pour l'utiliser avec composer.json:</font></font><br>
<br>
<pre><code class="plaintext hljs">...<font></font>
"repejota/nats": "^0.8.6"<font></font>
...<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici un exemple de fonction d'envoi de courrier:</font></font><br>
<pre><code class="php hljs"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">email</span>(<span class="hljs-params">$emails, $body, $subject</span>)
</span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">empty</span>($emails)) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<font></font>
    }<font></font>
<font></font>
    $prefix = getenv(<span class="hljs-string">'NATS_PREFIX'</span>);<font></font>
    $encoder = <span class="hljs-keyword">new</span> JSONEncoder();<font></font>
    $options = <span class="hljs-keyword">new</span> ConnectionOptions([
        <span class="hljs-string">'token'</span> =&gt; getenv(<span class="hljs-string">'NATS_TOKEN'</span>)<font></font>
    ]);<font></font>
    $client = <span class="hljs-keyword">new</span> EncodedConnection($options, $encoder);<font></font>
<font></font>
    <span class="hljs-keyword">try</span> {<font></font>
        $client-&gt;connect();<font></font>
        $client-&gt;publish(<font></font>
            $prefix . <span class="hljs-string">'email'</span>,<font></font>
            [<font></font>
                <span class="hljs-string">'Emails'</span> =&gt; $emails,
                <span class="hljs-string">'HtmlBody'</span> =&gt; $body,
                <span class="hljs-string">'TextBody'</span> =&gt; strip_tags($body),
                <span class="hljs-string">'Subject'</span> =&gt; $subject,
                <span class="hljs-string">'Sender'</span> =&gt; <span class="hljs-string">'info@'</span> . getenv(<span class="hljs-string">'DOMAIN_NAME'</span>)<font></font>
            ]<font></font>
        );<font></font>
    } <span class="hljs-keyword">catch</span> (\<span class="hljs-built_in">Exception</span> $exception) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans mes projets, j'ai pris l'habitude d'écrire de nombreuses méthodes d'usine et d'appeler la fonction d'envoi à partir de la superclasse des notifications. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cela ajoute de la flexibilité. </font><font style="vertical-align: inherit;">Mais une startup doit respecter cela lors de son développement. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est également pratique pour le débogage. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Après tout, vous pouvez ajouter une certaine classe factice avec une fonction:</font></font><br>
<br>
<pre><code class="php hljs"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">email</span>(<span class="hljs-params">$emails, $body, $subject</span>)
</span>{<font></font>
    $time = time();<font></font>
    file_put_contents(SRC_PATH . <span class="hljs-string">'../var/dummy/email'</span> . $time . <span class="hljs-string">'.html'</span>, $body);
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<font></font>
}<font></font>
</code></pre><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Je vais laisser l'interface générale ici</font></font></b>
                        <div class="spoiler_text"><pre><code class="php hljs"><span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">NotificationInterface</span>
</span>{<font></font>
<font></font>
    <span class="hljs-comment">/**
     *  
     *
     * init storage
     * <span class="hljs-doctag">@void</span>
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">init</span>(<span class="hljs-params"></span>)</span>;<font></font>
<font></font>
    <span class="hljs-comment">/**
     *   
     *
     * <span class="hljs-doctag">@return</span> bool
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isSync</span>(<span class="hljs-params"></span>)</span>;<font></font>
<font></font>
    <span class="hljs-comment">/**
     *  
     *
     * <span class="hljs-doctag">@param</span> $phone
     * <span class="hljs-doctag">@param</span> $message
     * <span class="hljs-doctag">@return</span> bool
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sms</span>(<span class="hljs-params">$phone, $message</span>)</span>;<font></font>
<font></font>
    <span class="hljs-comment">/**
     *  
     *
     * <span class="hljs-doctag">@param</span> $email
     * <span class="hljs-doctag">@param</span> $body
     * <span class="hljs-doctag">@param</span> $subject
     * <span class="hljs-doctag">@return</span> bool
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">email</span>(<span class="hljs-params">$email, $body, $subject</span>)</span>;<font></font>
<font></font>
}<font></font>
</code></pre><br>
</div>
                    </div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans Go, vous pouvez vous abonner à une file d'attente comme celle-ci:</font></font><br>
<pre><code class="go hljs">opts := nats.Options{<font></font>
	Url:   ...,<font></font>
	Token: ...,<font></font>
}<font></font>
<font></font>
nc, err := opts.Connect()<font></font>
<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {<font></font>
	log.Error(<span class="hljs-string">"error in nats connection"</span>, err)<font></font>
}<font></font>
<font></font>
c, err := nats.NewEncodedConn(nc, nats.JSON_ENCODER)<font></font>
<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {<font></font>
	log.Error(<span class="hljs-string">"error in nats encoding"</span>, err)<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">defer</span> c.Close()
<span class="hljs-keyword">defer</span> nc.Close()<font></font>
<font></font>
c.Subscribe(<span class="hljs-string">"email"</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(p *EmailInput)</span></span> {<font></font>
	p.sendEmail()<font></font>
})<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
déclarant avant cela:</font></font><br>
<br>
<pre><code class="go hljs"><span class="hljs-keyword">type</span> EmailInput <span class="hljs-keyword">struct</span> {<font></font>
	Emails   []*<span class="hljs-keyword">string</span> <span class="hljs-string">`json:"Emails"`</span>
	HtmlBody <span class="hljs-keyword">string</span>    <span class="hljs-string">`json:"HtmlBody"`</span>
	TextBody <span class="hljs-keyword">string</span>    <span class="hljs-string">`json:"TextBody"`</span>
	Subject  <span class="hljs-keyword">string</span>    <span class="hljs-string">`json:"Subject"`</span>
	Sender   <span class="hljs-keyword">string</span>    <span class="hljs-string">`json:"Sender"`</span><font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(email *EmailInput)</span> <span class="hljs-title">sendEmail</span><span class="hljs-params">()</span></span> {<font></font>
	...<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour l'envoi, comme je l'ai écrit ci-dessus, nous avons utilisé Amazon SES. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pourquoi?</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">administrer votre serveur de messagerie coûte très cher et cela prendra du temps</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c'est une solution clé en main avec une bonne limite gratuite</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DKIM + SPF sont facilement configurables (sinon les lettres voleront vers le spam, la conversion tombera)</font></font></li>
</ul><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Manuel de configuration SPF ici</font></font></b>
                        <div class="spoiler_text"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">docs.aws.amazon.com/ses/latest/DeveloperGuide/send-email-authentication-spf.html</a><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une autre nuance très importante. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Étant donné que nous n'avions pas de service d'assistance séparé, nous avons immédiatement ajouté des redirections du courrier d'assistance vers nos adresses personnelles. </font><font style="vertical-align: inherit;">Cela nous a permis de répondre rapidement aux questions des utilisateurs. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vos utilisateurs peuvent désormais se connecter rapidement et facilement. </font><font style="vertical-align: inherit;">Il est temps d'obtenir d'eux l'argent précieux pour acheter des billets pour votre événement.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Facturation</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Du point de vue du code, le système de paiement est assez simple. </font><font style="vertical-align: inherit;">Il existe une superclasse pour la génération de liens, et encore de nombreuses méthodes d'usine. </font><font style="vertical-align: inherit;">Ils savent comment générer un lien de paiement et traiter un rappel. </font><font style="vertical-align: inherit;">Et aussi lancer des hooks après-vente (notification par mail + ajout d'accès à l'événement).</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Je laisse ici les interfaces générales pour les hooks et les systèmes de paiement</font></font></b>
                        <div class="spoiler_text"><pre><code class="php hljs"><span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">HookInterface</span>
</span>{<font></font>
<font></font>
    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@return</span> string
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getName</span>(<span class="hljs-params"></span>)</span>;<font></font>
<font></font>
    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@param</span> Transaction $transaction
     * <span class="hljs-doctag">@param</span> array $params
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">run</span>(<span class="hljs-params">Transaction $transaction, <span class="hljs-keyword">array</span> $params</span>)</span>;<font></font>
<font></font>
}<font></font>
</code></pre><br>
<pre><code class="php hljs"><span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">SystemInterface</span>
</span>{<font></font>
<font></font>
    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@return</span> string
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getName</span>(<span class="hljs-params"></span>)</span>;<font></font>
<font></font>
    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@param</span> Transaction $transaction
     * <span class="hljs-doctag">@param</span> string|null $redirect
     * <span class="hljs-doctag">@return</span> null
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createLink</span>(<span class="hljs-params">Transaction $transaction, $redirect = <span class="hljs-literal">null</span></span>)</span>;<font></font>
<font></font>
    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@param</span> Transaction $transaction
     * <span class="hljs-doctag">@return</span> string
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createWidget</span>(<span class="hljs-params">Transaction $transaction</span>)</span>;<font></font>
<font></font>
    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@return</span> string
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createWidgetAssets</span>(<span class="hljs-params"></span>)</span>;<font></font>
<font></font>
    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@param</span> $request
     * <span class="hljs-doctag">@param</span> $em
     * <span class="hljs-doctag">@return</span> PayResponse
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handleCallback</span>(<span class="hljs-params">Request $request, ObjectManager $em</span>)</span>;<font></font>
<font></font>
}<font></font>
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Notre produit était orienté vers l'Europe, donc les prix étaient en euros. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quelles difficultés avons-nous rencontrées:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez compter sur les passerelles de paiement des doigts qui ont des terminaux de devises. </font><font style="vertical-align: inherit;">Qu'Est-ce que c'est? </font><font style="vertical-align: inherit;">C'est une telle chose qui vous permet d'accepter le paiement en euros, pas en roubles. </font><font style="vertical-align: inherit;">Pourquoi est-ce si important? </font><font style="vertical-align: inherit;">Oui, parce que les Européens se méfient des Russes, il y a beaucoup d'arnaqueurs. </font><font style="vertical-align: inherit;">Lors du paiement, les roubles réduiront la conversion et ajouteront des tickets au support, où vous devrez expliquer qui vous êtes et ce que vous êtes.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La coordination du terminal des devises prend du temps. </font><font style="vertical-align: inherit;">Préparez-vous à ce que ce soit à partir de 5 jours et plus. </font><font style="vertical-align: inherit;">En pratique, environ 10. Parce que vous serez soigneusement contrôlé et que les Européens étaient réticents à la quarantaine. </font><font style="vertical-align: inherit;">De plus, des questions surgiront de notre banque nationale, pourquoi en avez-vous besoin</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3d secure n'a pas été annulé (SMS, accompagné d'un code de confirmation de paiement). </font><font style="vertical-align: inherit;">Par conséquent, si une banque en Europe ne prend pas en charge cette possibilité pour un client en Europe, il ne pourra pas payer. </font><font style="vertical-align: inherit;">Dans ce cas, vous devez battre le client avec des stylos sur PayPal</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La coordination du site ne se produit que lorsque tout le contenu y est déjà présent. </font><font style="vertical-align: inherit;">Ceux. </font><font style="vertical-align: inherit;">le site est entièrement prêt, y compris tous les documents juridiques tels qu'une offre. </font><font style="vertical-align: inherit;">Parce que </font><font style="vertical-align: inherit;">nous n'avions pas de boutique en ligne et, en général, une solution atypique - nous nous sommes tournés vers des avocats pour rédiger une offre pour notre produit et sa traduction ultérieure</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il se trouve que nous avons d'abord accepté les paiements en roubles. </font><font style="vertical-align: inherit;">Après s'être mis d'accord sur une passerelle de paiement, ils sont passés à l'euro. </font><font style="vertical-align: inherit;">Cela a légèrement réduit la conversion au début.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Organisation de streaming</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si tout est simple avec autorisation, et la facturation peut être vissée par vous-même. </font><font style="vertical-align: inherit;">De telles tâches se trouvent souvent dans le développeur statistique moyen. </font><font style="vertical-align: inherit;">Mais avec le streaming, tout n'est pas aussi clair qu'il n'y paraît à première vue. </font><font style="vertical-align: inherit;">Qu'est-ce qui ne va pas?</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous n'avons jamais eu affaire à lui. </font><font style="vertical-align: inherit;">J'avais besoin d'un serveur + client pour les professeurs</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'image doit être reflétée, c'est-à-dire </font><font style="vertical-align: inherit;">faire un affichage vertical (caractéristiques des vidéos de danse)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous ne savions pas exactement combien de participants seraient dans le camp. </font><font style="vertical-align: inherit;">Et nous ne pouvions pas encore acheter de compte pour le mois \ année \ nombre de trafic (dans les solutions de streaming prêtes à l'emploi). </font><font style="vertical-align: inherit;">Cela engloutirait tous les bénéfices</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J'avais besoin d'une protection iframe contre le vol de contenu au moins par un référent</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme solution, nous avons choisi un tas d'applications larix broadcastr -&gt; nginx + rtmp -&gt; cdn -&gt; client. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au cours de la recherche, l'application Larix Broadcaster pour diffuser RTMP à partir d'appareils mobiles s'est avérée être la plus fiable et la plus stable. </font><font style="vertical-align: inherit;">Sur un petit serveur virtuel séparé, nous avons augmenté nginx + rtmp pour continuer à diffuser sur CDN. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce régime est le moins cher. </font><font style="vertical-align: inherit;">Beaucoup moins cher que d'utiliser les services de plateformes de streaming prêtes à l'emploi. </font><font style="vertical-align: inherit;">Vous n'avez pas besoin d'acheter un compte premium \ gold \ super pendant un mois \ an. </font><font style="vertical-align: inherit;">Vous ne payez que pour le trafic dépensé. </font><font style="vertical-align: inherit;">C'était la solution parfaite dans notre situation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Là, ils ont déplié une image miroir.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La configuration de restriming est ici</font></font></b>
                        <div class="spoiler_text"><pre><code class="plaintext hljs">worker_processes  1;<font></font>
<font></font>
events {<font></font>
    worker_connections  1024;<font></font>
}<font></font>
<font></font>
http {<font></font>
    include       mime.types;<font></font>
    default_type  application/octet-stream;<font></font>
<font></font>
    sendfile        on;<font></font>
    <font></font>
    keepalive_timeout  65;<font></font>
    <font></font>
    include _root.conf;<font></font>
    include _stat.conf;<font></font>
}<font></font>
include _rtmp.conf;<font></font>
</code></pre><br>
<pre><code class="plaintext hljs">server {<font></font>
<font></font>
    listen       80;<font></font>
    server_name  localhost;<font></font>
    location / {<font></font>
        root   html;<font></font>
        index  index.html index.htm;<font></font>
    }<font></font>
<font></font>
    error_page   500 502 503 504  /50x.html;<font></font>
    location = /50x.html {<font></font>
        root   html;<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
<pre><code class="plaintext hljs">server {<font></font>
    listen      8080;<font></font>
<font></font>
    auth_basic "Restricted Area";<font></font>
    auth_basic_user_file .htpasswd;<font></font>
<font></font>
    location / {<font></font>
        root www;<font></font>
    }<font></font>
<font></font>
    location /stat {<font></font>
        rtmp_stat all;<font></font>
        rtmp_stat_stylesheet stat.xsl;<font></font>
    }<font></font>
<font></font>
    location /stat.xsl {<font></font>
        root www;<font></font>
    }<font></font>
<font></font>
}<font></font>
</code></pre><br>
<pre><code class="plaintext hljs">rtmp {<font></font>
    server {<font></font>
<font></font>
        listen 1935;<font></font>
        chunk_size 4096;<font></font>
<font></font>
        application your-custom-hash-here {<font></font>
            live on;<font></font>
            record off;<font></font>
<font></font>
            allow publish all;<font></font>
            allow play all;<font></font>
<font></font>
            push rtmp://localhost/cdn;<font></font>
        }<font></font>
<font></font>
        application cdn {<font></font>
            allow publish 127.0.0.1;<font></font>
            deny publish all;<font></font>
<font></font>
            live on;<font></font>
            record off;<font></font>
<font></font>
            exec ffmpeg -i rtmp://localhost/cdn/$name -vf "hflip" -crf 30 -preset ultrafast -acodec aac -strict experimental -ar 44100 -ac 2 -b:a 128k -vcodec libx264 -x264-params keyint=60:no-scenecut=1 -r 30 -b:v 2000k -f flv rtmp://rtmp.cdnhost.abc;<font></font>
        }<font></font>
<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A l'avant de la pièce, nous avons utilisé un simple lecteur html5, configuré en tenant compte des appareils mobiles et de leurs fonctionnalités:</font></font><br>
<br>
<pre><code class="javascript hljs">videojs($(<span class="hljs-string">'#video'</span>)[<span class="hljs-number">0</span>], {
    <span class="hljs-attr">controls</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">autoplay</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">preload</span>: <span class="hljs-string">'auto'</span>,
    <span class="hljs-attr">poster</span>: <span class="hljs-string">'/static/splash-en.jpg'</span>,
    <span class="hljs-attr">language</span>: <span class="hljs-string">'en'</span>,
    <span class="hljs-attr">muted</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">html5</span>: {
        <span class="hljs-attr">hls</span>: {
            <span class="hljs-attr">overrideNative</span>: !videojs.browser.IS_SAFARI<font></font>
        }<font></font>
    }<font></font>
});<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La solution s'est avérée très stable et pratique. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Après l'événement, nous avons calculé le pourcentage de plaintes de qualité - il était de 2%. </font><font style="vertical-align: inherit;">Et surtout des gens qui ont de vieux ordinateurs fixes ou des logiciels obsolètes (navigateurs).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quel est le résultat? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons passé 2 camps en ligne. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Reçu seulement des commentaires positifs des premiers utilisateurs. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans la période de quarantaine difficile, c'est exactement ce dont les gens ont besoin à la maison. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le revenu total s'élevait à plus de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 000 000 de roubles</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si nous parlons un peu de castdev, puis en nous concentrant sur les retours du premier camp, nous avons finalisé le système</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ils ont permis d'acheter un billet pour une journée (et pas seulement un billet complet) - cela a augmenté les revenus, car </font><font style="vertical-align: inherit;">beaucoup ne voulaient pas acheter un billet complet, mais voulaient seulement acheter une classe de maître d'un ou deux enseignants</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous avons fait une conversation simple près du lecteur vidéo sur socket.io - cela a ajouté de l'interactivité aux leçons et nous a permis d'obtenir des commentaires en temps réel</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parce que </font><font style="vertical-align: inherit;">camp international et beaucoup de gens se sont confondus dans les fuseaux horaires - nous avons ajouté la possibilité de changer le fuseau horaire dans le calendrier et de regarder le calendrier en fonction de notre fuseau horaire</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quelles conclusions peut-on tirer:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il n'est pas nécessaire d'avoir un investissement initial et une énorme équipe pour tester l'idée</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menez le développement avec souplesse, écoutez vos utilisateurs. </font><font style="vertical-align: inherit;">Ajoutez seulement ce dont les gens ont vraiment besoin</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N'écrivez pas immédiatement un énorme monolithe avec un tas de fonctions, il n'est pas nécessaire de tester une hypothèse. </font><font style="vertical-align: inherit;">Ne les enregistrez pas. </font><font style="vertical-align: inherit;">dette. </font><font style="vertical-align: inherit;">Apprenez à trouver un équilibre entre le «mauvais» code et la fonctionnalité «redondante». </font><font style="vertical-align: inherit;">Utilisez chaque outil pour l'usage auquel il est destiné.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Profitez de l'expérience de vos amis. </font><font style="vertical-align: inherit;">Après tout, la plupart des tâches ont déjà été résolues. </font><font style="vertical-align: inherit;">Il suffit de trouver les outils nécessaires, de mener des recherches, de les combiner en un seul système</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'espère que cet article semble utile à quelqu'un, mais motive quelqu'un.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr506332/index.html">L'aspect moral du patch Barmin</a></li>
<li><a href="../fr506334/index.html">Que faire si Siloviki vient chez vous?</a></li>
<li><a href="../fr506338/index.html">L'or contre le cancer: Des nanoparticules d'or biocompatibles pour l'oncothérapie individuelle sont obtenues.</a></li>
<li><a href="../fr506340/index.html">À quoi ressemblent les nouvelles garanties d'Amazon</a></li>
<li><a href="../fr506342/index.html">Comment un système d'automatisation résout les problèmes d'un club de sport</a></li>
<li><a href="../fr506358/index.html">3 options de comportement judiciaire lorsqu'ils reçoivent des cas de verrous de poursuite</a></li>
<li><a href="../fr506362/index.html">Comment nous avons fait un bal de danse en ligne</a></li>
<li><a href="../fr506370/index.html">Comparer les performances de la contrainte de vérification et de la clé étrangère dans SQL Server</a></li>
<li><a href="../fr506372/index.html">L'instinct de reproduction se retrouve dans l'intelligence artificielle</a></li>
<li><a href="../fr506380/index.html">Logiciel gratuit ou domestique. Cours standard ou gratuit</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>