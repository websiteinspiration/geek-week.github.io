<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçπ üèÇüèø ü§µüèª Using a cloud token with support for Russian cryptography on the Android platform ‚ö™Ô∏è üóº üçÑ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="From the point of view of the PKCS # 11 interface, using a cloud token is no different than using a hardware token. To use the token on the computer (...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Using a cloud token with support for Russian cryptography on the Android platform</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/492110/"><img src="https://habrastorage.org/webt/vg/dv/mn/vgdvmnowwskqn4xj7r7gd9lzhqg.png" align="left" width="150"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">From the point of view of the PKCS # 11 interface, using a cloud token is no different than using a hardware token. </font><font style="vertical-align: inherit;">To use the token on the computer (and we will talk about the Android platform), you need to have a library for working with the token and an actually connected token. </font><font style="vertical-align: inherit;">For a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cloud token,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> you need the same thing - a library and a connection to the cloud. </font><font style="vertical-align: inherit;">Such a connection is a configuration file in which the address of the cloud is written in which user tokens are stored.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Checking the status of a cryptographic token</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So, download the updated version of the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cryptoarmpkcs-A</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> utility </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Install and run the application and go to the main menu. </font><font style="vertical-align: inherit;">For further work, it is necessary to select a token whose cryptographic mechanisms will be involved (recall that when working with </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PKCS12, a</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> token is not needed): The </font></font><br>
<br>
<img src="https://habrastorage.org/webt/7g/py/l4/7gpyl4v192jk6uph04dpq_a1vmw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
screenshot clearly shows what happens when you click on a button. </font><font style="vertical-align: inherit;">If you click on the ‚Äúother token‚Äù button, you will be prompted to select the PKCS # 11 library for your token. </font><font style="vertical-align: inherit;">In two other cases, information is provided on the status of the selected token. </font><font style="vertical-align: inherit;">How to connect a software token was mentioned in a previous </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">article</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Today we are interested in a cloud token.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cloud Token Registration</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Go to the ‚ÄúConnect PKCS # 11 Tokens‚Äù tab, find the ‚ÄúCreate Cloud Token‚Äù item and download the LS11CloudToken-A application</font></font><a name="habracut"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pm/dl/tv/pmdltvexwp_vcirwlmgp5wb7wlk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Install the downloaded application and launch it: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/3e/yw/ds/3eywdsiud1v_he4_fy8uivgtuhu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After filling in the fields on the "Register in the cloud" tab and clicking the "Register" button, the process of registering the token in the cloud begins. The registration process includes the creation of an initial filling of a random number sensor (NZDSCH). NZDSCH to add a "biological" randomness when generating the initial value includes the keyboard input of the user. This takes into account both the symbol input speed and the correct input: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dn/jp/sz/dnjpszbtcyluehvngn77wevqma8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After registering in the cloud, you can check the status of the token in the cloud: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/e6/1q/-1/e61q-1gyxa7kgggqorxug5o9w5o.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After successful registration in the cloud, exit the LS11CloudToken-A application, return to the cryptoarmpkcs-A application and check the status of the cloud token again:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ip/l2/-d/ipl2-daej6dr0obhontmt9hz140.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Checking for a cloud token confirmed that we successfully registered in the cloud and we need to initialize our own cloud token in it. </font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cloud Token Initialization</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This initialization is no different from the initialization of any other token, for example, a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">software token</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<img src="https://habrastorage.org/webt/0b/qv/bq/0bqvbqrun5t7wkiyhpgw2pz6ivy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And then everything is as usual, we put the personal certificate, for example from the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PKCS12</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> container </font><font style="vertical-align: inherit;">, into the cloud token and use it to sign the document: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vj/1w/yc/vj1wyc3y76eobgsdstm-jjbfxo0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can also generate </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a certificate request</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (tab "Certificate Request"): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yo/uo/wi/youowiasovvlmxvw56rwt9mhx68.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
With the created request, go to the certification center, get there certificate and import it token:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/hz/9m/5u/hz9m5ubunr_u5bbgovz3fkiimoa.png"></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en492094/index.html">Update RouterOS on your MikroTik</a></li>
<li><a href="../en492100/index.html">Testing video cards to work with KOMPAS-3D</a></li>
<li><a href="../en492102/index.html">Creation of VK chatbot based on VkBotCore C #</a></li>
<li><a href="../en492106/index.html">Typescript: unsound behavior or indulgences of reliability</a></li>
<li><a href="../en492108/index.html">How to get to Silicon Valley: 7 ways for it-startup</a></li>
<li><a href="../en492112/index.html">Alexander Plyushchev about the politicization of the Internet, the digitalization of power and robots that will replace journalists (but this is not accurate)</a></li>
<li><a href="../en492116/index.html">Trying to deal with striking differences in coronavirus mortality in Italy and South Korea</a></li>
<li><a href="../en492118/index.html">5 myths about UPS, their refutation and the real situation</a></li>
<li><a href="../en492120/index.html">Monitoring in the data center: how we changed the old BMS to a new one. Part 1</a></li>
<li><a href="../en492122/index.html">Migrating from Gitolite to GitLab with a Shell Script</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>