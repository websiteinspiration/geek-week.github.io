<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙍🏾 💈 🥪 Wie ich gelernt habe, mir keine Sorgen zu machen und die Bildverarbeitung liebte 🕚 🖖🏼 🖥️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo Habr! Mein Name ist Artyom Nagumanov, ich habe über 15 Jahre Erfahrung in Softwareentwicklung, Projektmanagement, Teams, IT-Abteilungen. Ich hab...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Wie ich gelernt habe, mir keine Sorgen zu machen und die Bildverarbeitung liebte</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/503880/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hallo Habr! Mein Name ist Artyom Nagumanov, ich habe über 15 Jahre Erfahrung in Softwareentwicklung, Projektmanagement, Teams, IT-Abteilungen. Ich habe mich schon immer für das Thema künstliche Intelligenz und Bildverarbeitung interessiert. Bei der Entwicklung von Software wurde ich immer wieder von dem Gedanken überrascht, warum man der Unternehmensanwendung nicht zumindest ein wenig Intelligenz hinzufügen sollte, um die Teilnahme des Benutzers an einem Prozess, der auf den ersten Blick völlig unformal erscheint, teilweise oder vollständig abzulehnen.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/la/wq/ig/lawqigtec33k7s0qm8f8iqydyky.png" alt="Bild"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um dies zu tun, musste ich jedes Mal den ganzen Weg neu gehen: die entsprechenden Bibliotheken studieren / abrufen, auf einer virtuellen Linux-Maschine installieren, um kostenlose Tools zum Erstellen und Trainieren neuronaler Netze zu testen, Netzwerkarchitekturen finden, die derzeit die Krone der menschlichen Schöpfung in der Welt sind künstliche Intelligenz. </font><font style="vertical-align: inherit;">Dieser Prozess ist ziemlich mühsam und macht nicht viel Spaß. </font><font style="vertical-align: inherit;">Als ich einmal die Architektur eines anderen neuronalen Netzwerks verstand, wurde mir klar, dass es an der Zeit war, dem ein Ende zu setzen und ein universelles Werkzeug zu schaffen, das die gesamte Routine übernimmt. </font><font style="vertical-align: inherit;">Und ich muss nur ein paar große Glasknöpfe drücken und das Ergebnis erhalten. </font><font style="vertical-align: inherit;">In dem Bild, das Aufmerksamkeit erregt (im ersten Absatz des Artikels), wird ein Beispiel für die Erkennung von Wasserstrahlen von einer Bewässerungsmaschine gezeigt, aber das Wichtigste zuerst.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir machen Anerkennungsservice</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Ich hatte die folgende Idee: Um eine Website zu erstellen, auf der der Benutzer Bilder hochladen kann, klicken Sie auf die Schaltfläche „Erkennen“ und erhalten Sie das Ergebnis im JSON-Format. Tatsache ist jedoch, dass es keinen universellen Algorithmus oder ein neuronales Netzwerk gibt, das Objekte auf der Welt finden kann. Aus diesem Grund habe ich beschlossen, meine eigenen Modelle neuronaler Netze so zu trainieren, dass sie die benötigten Objekte erkennen, wobei nur die Site- und Beispielbilder verwendet werden, die erkannt werden müssen. Bevor ich mit der Arbeit anfing, analysierte ich, welche Entwicklungen in der Welt zu diesem Thema existieren. Wie sich herausstellte, arbeiten viele Giganten der IT-Branche in diese Richtung: Yandex, Mail.ru, Amazon. Der Hauptnachteil war, dass all diese Riesen Geld für ihre Dienste wollen. Dies war genug für mich, um meine eigene Entwicklung zu beginnen.Ich hatte bereits Hintergrundinformationen und wusste, wie man Objekte auf Bildern gut findet und klassifiziert. Alles, was übrig blieb, war, alles zusammenzusetzen und eine bequeme Oberfläche zu erstellen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In den allermeisten Fällen verwende ich in meinen Projekten Microsoft-Technologien, was sich erheblich auf die in diesem Projekt verwendeten Technologien auswirkte:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ASP.NET (C # -Sprache)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Webpi</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Javascript-Abfrage</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MSSQL Server</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tensorflow</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zunächst habe ich beschlossen, einen REST-Service zu erstellen, der das Gehirn des gesamten Systems bildet und es uns ermöglicht, Befehle über die API zu akzeptieren und die ganze grobe Arbeit zu erledigen. Die Architektur des neuronalen Netzwerks, ich wählte Maske R-CNN, dieses Netzwerk kann Objekte im Bild finden und sie klassifizieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alles lief mehr oder weniger regelmäßig, bis ich die Realisierung des Trainings meiner eigenen Modelle erreichte. Der Lernprozess war sehr kostspielig und stellte hohe Anforderungen an die Hardware. Natürlich wusste ich das vorher, aber vorher konnte ich es mir leisten, ein oder zwei Tage auf das Training des Modells zu warten und die CPU für Berechnungen zu verwenden. Da es jedoch darum ging, ein bequemes und schnelles Werkzeug zu erstellen, konnte ich das lange Training des Modells nicht ertragen. Die Frage ist also mit der Installation eines speziellen Servers mit einer geeigneten Grafikkarte, die die CUDA-Technologie unterstützt, gereift ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://ru.wikipedia.org/wiki/CUDA)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) und verkürzt die Zeit, die zum Trainieren des Modells benötigt wird, erheblich. </font><font style="vertical-align: inherit;">Um das Projektbudget nicht zu erhöhen, habe ich mich für eine kostengünstige NVIDIA GeForce GTX 1050 Ti-Grafikkarte entschieden. </font><font style="vertical-align: inherit;">Parallel zum Dienst habe ich unter Windows Forms einen Client erstellt, der das Testen ermöglicht. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der zweiten Phase habe ich eine Website erstellt, die im Wesentlichen ein Kunde des Dienstes ist. </font><font style="vertical-align: inherit;">Ich habe mich nicht wirklich um das Design gekümmert und nicht einmal die fertige Vorlage genommen. Ich habe alles selbst geschrieben und nur das verwendet, was Visual Studio standardmäßig bietet. </font><font style="vertical-align: inherit;">Das Erstellen und Testen der Site dauerte weitere drei Monate. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich war unglaublich glücklich, als ich das Bild hochgeladen, ein fertiges Modell zur Erkennung ausgewählt, auf die Schaltfläche „Erkennen“ geklickt und das erste Ergebnis erhalten habe.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/yg/lx/by/yglxbyq1uowgnq7tvuca-pr6_nw.png" alt="Bild"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die eigentliche Aufgabe der Bildverarbeitung</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Während ich an dem Erkennungssystem arbeitete, kam mir eine echte Aufgabe in den Sinn - die Position der vorderen Schaufel einer speziellen Maschine zu bestimmen, die den Schnee auf der Straße reinigt. Um dieses Problem zu lösen, war ich nicht darauf beschränkt, einen Lösungsansatz zu wählen, und wollte von Anfang an spezielle Sensoren installieren, die den Winkel der Schaufel bestimmen, gab diese Idee jedoch schnell auf. Wie sich herausstellte, müssen diese Sensoren ständig kalibriert werden, da die Schaufel regelmäßig entfernt und eine weitere eingesetzt wird. Neben Gesprächen mit Kollegen, die solche Sensoren installieren, stellte ich fest, dass diese Sensoren auf der Straße sind und für Sabotage zur Verfügung stehen. Die Idee kam mir, die Arbeitssteuerung der Schaufel zu analysieren, aber wie sich herausstellte, gehen sie im wirklichen Leben so weit, die Schaufel zu entfernen, und auf den Arbeitskörpern signalisieren sie, dass die Schaufel abgesenkt ist.Mit einem Wort, wieder keine verlässliche Option. Nun, sie ließen mir keine andere Wahl, als die volle Leistung des Erkennungsdienstes zu nutzen. Ich stellte die Kamera in den Fahrgastraum des Autos, der auf den vorderen Spaten schaut, sammelte mehrere hundert Proben des Spatens, markierte sie mit dem VGG-Werkzeug, das ich in die Baustelle eingebaut und mit dem Training begonnen hatte. Der Vorgang dauerte ungefähr zwei Stunden und in der 30. Ära erhielt ich ein akzeptables Erkennungsergebnis, die Erkennungsgenauigkeit lag bei 95%.Der Vorgang dauerte ungefähr zwei Stunden und in der 30. Ära erhielt ich ein akzeptables Erkennungsergebnis, die Erkennungsgenauigkeit lag bei 95%.Der Vorgang dauerte ungefähr zwei Stunden und in der 30. Ära erhielt ich ein akzeptables Erkennungsergebnis, die Erkennungsgenauigkeit lag bei 95%.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ir/lj/37/irlj371xska0xqhyvw2w7rc25xs.jpeg" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Damit das System vollständig am Auto funktioniert, musste ich es ändern: Hinzufügen der Möglichkeit, Fotos über FTP hochzuladen, und nicht nur über die API, weil </font><font style="vertical-align: inherit;">Mit dem Camcorder konnten Sie ein Foto aufnehmen und an das angegebene FTP senden. </font><font style="vertical-align: inherit;">Es wurde die Möglichkeit hinzugefügt, das Ergebnis in der Datenbank zu speichern und dann über die API für den angegebenen Zeitraum die Ergebnisse abzurufen, zu analysieren und in das in 1C geschriebene Buchhaltungssystem zu schreiben. Dies ist übrigens ein riesiges Steuerungssystem, das Tausende von Autos gleichzeitig analysiert und viele Parameter wie den Kilometerstand steuert , Maschinenstunden, Kraftstoff im Tank, Fahrten, Leerlauf usw., aber das ist eine ganz andere Geschichte. </font><font style="vertical-align: inherit;">Die erste Version der Schaufelsteuerung ist fertig, wird aber im Kampf nur bei Schneefall getestet.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie einfach ist das</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Hauptidee des Erkennungsdienstes ist die einfache Erstellung und Schulung Ihrer eigenen Modelle. </font><font style="vertical-align: inherit;">Um zu verstehen, ob jemand wirklich sein eigenes Modell erstellen und trainieren kann, bat ich meinen Assistenten, ein Modell zum Erkennen von Wasserstrahlen von einer Bewässerungsmaschine zu erstellen. </font><font style="vertical-align: inherit;">Die einzige Eingabe, die ich ihr gab, war ein Video über den Betrieb der Bewässerungsmaschine aus der Kabine und die Adresse des Erkennungsdienstes. Am Abend stellte ich diese Aufgabe für sie auf und am Morgen, als ich in das System ging, sah ich ein fertiges Modell, das wirklich funktionierte. </font><font style="vertical-align: inherit;">Unten sehen Sie einen Screenshot des Fensters, in dem das Modell trainiert wird. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gl/-i/z2/gl-iz25k0skn6uti_aptt6as8ga.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Während Sie lernen, bleibt die Ära des Modells erhalten, und wir können jede Ära testen, ohne den Lernprozess zu unterbrechen.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Entwicklung und Nutzung</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein Beispiel dafür, wie alles live funktioniert, ist </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">im Videoclip zu sehen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe lange darüber nachgedacht, dass wenn jemand sein eigenes Modell erstellen kann, warum es dann nicht möglich ist, dieses Modell mit anderen Benutzern des Systems zu teilen. </font><font style="vertical-align: inherit;">Als Ergebnis habe ich einen Abschnitt hinzugefügt, in dem Sie ein erfolgreiches Modell mit einem Mausklick platzieren können und jeder Teilnehmer es verwenden kann. </font><font style="vertical-align: inherit;">Der Service ist völlig kostenlos. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt nutze ich den Service selbst, um meine Aufgaben der Automatisierung von Prozessen in Unternehmen zu lösen, in denen Bildverarbeitung eingesetzt werden kann. </font><font style="vertical-align: inherit;">In Zukunft möchte ich weitere Erkennungsansätze hinzufügen, nicht nur neuronale Netze. </font><font style="vertical-align: inherit;">Ich würde mich sehr freuen, wenn jemand anderes, der diesen Service nutzt, seine Probleme lösen kann.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de503858/index.html">Das Buch "Terraform: Infrastruktur auf Codeebene"</a></li>
<li><a href="../de503860/index.html">Einrichten der neuronalen Netzwerkumgebung Maske R-CNN</a></li>
<li><a href="../de503864/index.html">Flavours Organization bei Flutter</a></li>
<li><a href="../de503866/index.html">Veröffentlichte Roadmap-Entwicklung Zextras Suite für 2020</a></li>
<li><a href="../de503876/index.html">Programmieren eines Spiels für ein eingebettetes Gerät auf ESP32: Laufwerk, Akku, Sound</a></li>
<li><a href="../de503884/index.html">Wie man lernt, asynchron zu arbeiten</a></li>
<li><a href="../de503888/index.html">AdaBoost-Algorithmus</a></li>
<li><a href="../de503890/index.html">Die Geschichte, wie ich Azure AD B2C für React and React Native konfiguriert habe Teil 1 (Tutorial)</a></li>
<li><a href="../de503892/index.html">Mitap: Quarantäne, geh weg</a></li>
<li><a href="../de503894/index.html">Ankündigung des Online-Meetings NskTechTalks # 12: Wo kann der Front-End-Entwickler wachsen und was ist, wenn nichts daraus wird?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>