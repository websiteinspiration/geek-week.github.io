<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>✊🏼 🏁 🍾 Ein Beispiel für eine hexagonale Architektur in Java 💻 👩🏻‍💻 👨🏾‍🚀</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Eine Übersetzung des Artikels wurde speziell für Studenten des Java Developer- Kurses erstellt .
 
  
 
 
 Als Entwickler müssen wir uns häufig mit Le...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Ein Beispiel für eine hexagonale Architektur in Java</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/492076/"><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eine Übersetzung des Artikels wurde speziell für Studenten des </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Java Developer-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Kurses erstellt </font><font style="vertical-align: inherit;">.</font></font></b></i><br>
<br>
<img src="https://habrastorage.org/webt/gd/2f/ap/gd2fapnfvwthsglrmjmhnn1wyvk.png"> <br>
<br>
<hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als Entwickler müssen wir uns häufig mit Legacy-Code befassen, der schwer zu warten ist. Sie wissen, wie schwierig es ist, einfache Logik in einem großen, verschlungenen Spaghetti-Code zu verstehen. Das Verbessern des Codes oder das Entwickeln neuer Funktionen wird für den Entwickler zum Albtraum.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eines der Hauptziele des Software-Designs ist die einfache Wartung. Schlecht gepflegter Code wird schwierig zu verwalten. Es ist nicht nur schwierig zu skalieren, sondern es wird auch zu einem Problem, neue Entwickler zu gewinnen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der IT-Welt geht es schnell voran. Was ist Ihre erste Reaktion, wenn Sie aufgefordert werden, dringend neue Funktionen zu implementieren, oder wenn Sie von einer relationalen Datenbank zu NoSQL wechseln möchten? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wk/lj/8b/wklj8bigqatvwl-qo7cjlapjl_8.gif"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine gute Testabdeckung erhöht das Vertrauen der Entwickler, dass es mit der neuen Version keine Probleme geben wird. Wenn Ihre Geschäftslogik jedoch mit der Infrastrukturlogik verflochten ist, kann es zu Problemen beim Testen kommen. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/mo/vc/hh/movchhizk5zg4m56jhtnkdsrvdy.gif"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Warum ich?</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber es gibt genug leere Gespräche. Schauen wir uns die sechseckige Architektur an. </font><font style="vertical-align: inherit;">Mithilfe dieser Vorlage können Sie die Wartbarkeit, Testbarkeit und andere Vorteile verbessern.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Einführung in die hexagonale Architektur</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Begriff </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hexagonale Architektur (hexagonale, hexagonale Architektur) wurde</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2006 von Alistair Cockburn geprägt. Dieser Baustil wird auch als </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ports And Adapter Architecture bezeichnet</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Mit einfachen Worten, die Komponenten Ihrer Anwendung interagieren über viele Endpunkte (Ports). Um Anforderungen verarbeiten zu können, benötigen Sie Adapter, die den Ports entsprechen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier können Sie eine Analogie zu den USB-Anschlüssen des Computers ziehen. Sie können sie verwenden, wenn Sie einen kompatiblen Adapter (Ladegerät oder Flash-Laufwerk) haben.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/tn/om/vd/tnomvd4i3cngipfc8olfqpyec9g.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diese Architektur kann schematisch als Sechseck mit Geschäftslogik in der Mitte (im Kern) dargestellt werden, umgeben von den Objekten, mit denen sie interagiert, und den Komponenten, die sie steuern und Eingabedaten bereitstellen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im wirklichen Leben interagieren Benutzer, API-Aufrufe, automatisierte Skripte und Komponententests und geben Eingaben für Ihre Anwendung. Wenn Ihre Geschäftslogik mit der Benutzeroberflächenlogik gemischt ist, treten viele Probleme auf. Beispielsweise wird es schwierig sein, die Dateneingabe von der Benutzeroberfläche auf Komponententests umzustellen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Anwendung interagiert auch mit externen Objekten wie Datenbanken, Nachrichtenwarteschlangen, Webservern (über HTTP-API-Aufrufe) usw. Migrieren Sie bei Bedarf die Datenbank oder laden Sie Daten in eine Datei hoch. Dies sollte möglich sein, ohne das Geschäft zu beeinträchtigen. Logik. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie der Name schon sagt, gibt es " </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ports und Adapter</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ", "Ports", über die Interaktion stattfindet, und "Adapter" sind Komponenten, die Benutzereingaben verarbeiten und in die "Sprache" der Domäne konvertieren. Adapter kapseln die Logik der Interaktion mit externen Systemen wie Datenbanken, Nachrichtenwarteschlangen usw. und erleichtern die Kommunikation zwischen Geschäftslogik und externen Objekten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das folgende Diagramm zeigt die Ebenen, in die die Anwendung unterteilt ist.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/yu/zd/k-/yuzdk-bppoignfpz98ck7ld-a4q.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die hexagonale Architektur unterscheidet drei Ebenen in einer Anwendung: Domäne, Anwendung und Infrastruktur:</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Domain</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Die Schicht enthält die Kerngeschäftslogik. </font><font style="vertical-align: inherit;">Er muss die Details der Implementierung der äußeren Schichten nicht kennen.</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anwendung</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Eine Schicht fungiert als Brücke zwischen den Schichten einer Domäne und der Infrastruktur.</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Infrastruktur</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Die Implementierung der Interaktion der Domäne mit der Außenwelt. </font><font style="vertical-align: inherit;">Die inneren Schichten sehen für ihn wie eine Black Box aus.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gemäß dieser Architektur interagieren zwei Arten von Teilnehmern mit der Anwendung: primär (Treiber) und sekundär (gesteuert). </font><font style="vertical-align: inherit;">Hauptakteure senden Anfragen und verwalten die Anwendung (z. B. Benutzer oder automatisierte Tests). </font><font style="vertical-align: inherit;">Die sekundären stellen die Infrastruktur für die Kommunikation mit der Außenwelt bereit (dies sind Datenbankadapter, TCP- oder HTTP-Clients). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies kann wie folgt dargestellt werden: Die </font></font><br>
<br>
<img src="https://habrastorage.org/webt/9j/yd/l-/9jydl-rnrtzuy8dk23gexjitq_g.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
linke Seite des Sechsecks besteht aus Komponenten, die Eingaben für die Domäne bereitstellen (sie „steuern“ die Anwendung), und die rechte Seite besteht aus Komponenten, die von unserer Anwendung gesteuert werden.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beispiel</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lassen Sie uns eine Anwendung entwerfen, in der Filmkritiken gespeichert werden. Der Benutzer sollte in der Lage sein, eine Anfrage mit dem Namen des Films zu senden und fünf zufällige Bewertungen zu erhalten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Einfachheit halber erstellen wir eine Konsolenanwendung mit Datenspeicherung im RAM. Die Antwort an den Benutzer wird auf der Konsole angezeigt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben einen Benutzer (Benutzer), der eine Anfrage an die Anwendung sendet. So wird der Benutzer zum „Manager“ (Fahrer). Die Anwendung sollte in der Lage sein, Daten von jedem Speichertyp zu empfangen und die Ergebnisse an die Konsole oder in eine Datei auszugeben. Verwaltete (gesteuerte) Objekte sind das "Data Warehouse" ( </font></font><code>IFetchMovieReviews</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) und der "Antwortdrucker" ( </font></font><code>IPrintMovieReviews</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die folgende Abbildung zeigt die Hauptkomponenten unserer Anwendung.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/yo/kz/cj/yokzcjkqbwbvklf1bcxgqnhfx74.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auf der linken Seite befinden sich die Komponenten, die die Dateneingabe in die Anwendung ermöglichen. </font><font style="vertical-align: inherit;">Auf der rechten Seite befinden sich die Komponenten, mit denen Sie mit der Datenbank und der Konsole interagieren können. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Schauen wir uns den Anwendungscode an. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Steueranschluss</font></font></b><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">IUserInput</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">handleUserInput</span><span class="hljs-params">(Object userCommand)</span></span>;<font></font>
}</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verwaltete Ports</font></font></b><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">IFetchMovieReviews</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;MovieReview&gt; <span class="hljs-title">fetchMovieReviews</span><span class="hljs-params">(MovieSearchRequest movieSearchRequest)</span></span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">IPrintMovieReviews</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">writeMovieReviews</span><span class="hljs-params">(List&lt;MovieReview&gt; movieReviewList)</span></span>;<font></font>
}</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verwaltete</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Portadapter Filme werden aus dem Film-Repository (MovieReviewsRepo) abgerufen. </font><font style="vertical-align: inherit;">Das Anzeigen von Filmkritiken auf der Konsole ist eine Klasse </font></font><code>ConsolePrinter</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Lassen Sie uns die beiden oben genannten Schnittstellen implementieren.</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ConsolePrinter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">IPrintMovieReviews</span> </span>{
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">writeMovieReviews</span><span class="hljs-params">(List&lt;MovieReview&gt; movieReviewList)</span> </span>{<font></font>
        movieReviewList.forEach(movieReview -&gt; {<font></font>
            System.out.println(movieReview.toString());<font></font>
        });<font></font>
    }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MovieReviewsRepo</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">IFetchMovieReviews</span> </span>{
    <span class="hljs-keyword">private</span> Map&lt;String, List&lt;MovieReview&gt;&gt; movieReviewMap;<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MovieReviewsRepo</span><span class="hljs-params">()</span> </span>{<font></font>
        initialize();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;MovieReview&gt; <span class="hljs-title">fetchMovieReviews</span><span class="hljs-params">(MovieSearchRequest movieSearchRequest)</span> </span>{<font></font>
<font></font>
        <span class="hljs-keyword">return</span> Optional.ofNullable(movieReviewMap.get(movieSearchRequest.getMovieName()))<font></font>
            .orElse(<span class="hljs-keyword">new</span> ArrayList&lt;&gt;());<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">initialize</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">this</span>.movieReviewMap = <span class="hljs-keyword">new</span> HashMap&lt;&gt;();<font></font>
        movieReviewMap.put(<span class="hljs-string">"StarWars"</span>, Collections.singletonList(<span class="hljs-keyword">new</span> MovieReview(<span class="hljs-string">"1"</span>, <span class="hljs-number">7.5</span>, <span class="hljs-string">"Good"</span>)));<font></font>
        movieReviewMap.put(<span class="hljs-string">"StarTreck"</span>, Arrays.asList(<span class="hljs-keyword">new</span> MovieReview(<span class="hljs-string">"1"</span>, <span class="hljs-number">9.5</span>, <span class="hljs-string">"Excellent"</span>), <span class="hljs-keyword">new</span> MovieReview(<span class="hljs-string">"1"</span>, <span class="hljs-number">8.5</span>, <span class="hljs-string">"Good"</span>)));<font></font>
    }<font></font>
}</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Domain</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Hauptaufgabe unserer Anwendung ist die Bearbeitung von Benutzeranfragen. </font><font style="vertical-align: inherit;">Sie müssen die Filme erhalten, verarbeiten und die Ergebnisse auf den „Drucker“ übertragen. </font><font style="vertical-align: inherit;">Im Moment haben wir nur eine Funktionalität - die Filmsuche. </font><font style="vertical-align: inherit;">Zur Bearbeitung von Benutzeranfragen verwenden wir die Standardschnittstelle </font></font><code>Consumer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Schauen wir uns die Hauptklasse an </font></font><code>MovieApp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MovieApp</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Consumer</span>&lt;<span class="hljs-title">MovieSearchRequest</span>&gt; </span>{
    <span class="hljs-keyword">private</span> IFetchMovieReviews fetchMovieReviews;
    <span class="hljs-keyword">private</span> IPrintMovieReviews printMovieReviews;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Random rand = <span class="hljs-keyword">new</span> Random();<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MovieApp</span><span class="hljs-params">(IFetchMovieReviews fetchMovieReviews, IPrintMovieReviews printMovieReviews)</span> </span>{
        <span class="hljs-keyword">this</span>.fetchMovieReviews = fetchMovieReviews;
        <span class="hljs-keyword">this</span>.printMovieReviews = printMovieReviews;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">private</span> List&lt;MovieReview&gt; <span class="hljs-title">filterRandomReviews</span><span class="hljs-params">(List&lt;MovieReview&gt; movieReviewList)</span> </span>{<font></font>
        List&lt;MovieReview&gt; result = <span class="hljs-keyword">new</span> ArrayList&lt;MovieReview&gt;();
        <span class="hljs-comment">// logic to return random reviews</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> index = <span class="hljs-number">0</span>; index &lt; <span class="hljs-number">5</span>; ++index) {
            <span class="hljs-keyword">if</span> (movieReviewList.size() &lt; <span class="hljs-number">1</span>)
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">int</span> randomIndex = getRandomElement(movieReviewList.size());<font></font>
            MovieReview movieReview = movieReviewList.get(randomIndex);<font></font>
            movieReviewList.remove(movieReview);<font></font>
            result.add(movieReview);<font></font>
        }<font></font>
        <span class="hljs-keyword">return</span> result;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getRandomElement</span><span class="hljs-params">(<span class="hljs-keyword">int</span> size)</span> </span>{
        <span class="hljs-keyword">return</span> rand.nextInt(size);<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">accept</span><span class="hljs-params">(MovieSearchRequest movieSearchRequest)</span> </span>{<font></font>
        List&lt;MovieReview&gt; movieReviewList = fetchMovieReviews.fetchMovieReviews(movieSearchRequest);<font></font>
        List&lt;MovieReview&gt; randomReviews = filterRandomReviews(<span class="hljs-keyword">new</span> ArrayList&lt;&gt;(movieReviewList));<font></font>
        printMovieReviews.writeMovieReviews(randomReviews);<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt definieren wir eine Klasse </font></font><code>CommandMapperModel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, die Handlern Befehle zuordnet.</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CommandMapperModel</span> </span>{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Class&lt;MovieSearchRequest&gt; searchMovies = MovieSearchRequest.class;<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Model <span class="hljs-title">build</span><span class="hljs-params">(Consumer&lt;MovieSearchRequest&gt; displayMovies)</span> </span>{<font></font>
        Model model = Model.builder()<font></font>
            .user(searchMovies)<font></font>
            .system(displayMovies)<font></font>
            .build();<font></font>
<font></font>
        <span class="hljs-keyword">return</span> model;<font></font>
    }<font></font>
}</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Steueranschlussadapter</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Benutzer wird über die Benutzeroberfläche mit unserem System interagieren </font></font><code>IUserInput</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Die Implementierung verwendet </font></font><code>ModelRunner</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und delegiert die Ausführung.</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserCommandBoundary</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">IUserInput</span> </span>{
    <span class="hljs-keyword">private</span> Model model;<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">UserCommandBoundary</span><span class="hljs-params">(IFetchMovieReviews fetchMovieReviews, IPrintMovieReviews printMovieReviews)</span> </span>{<font></font>
        MovieApp movieApp = <span class="hljs-keyword">new</span> MovieApp(fetchMovieReviews, printMovieReviews);<font></font>
        model = CommandMapperModel.build(movieApp);<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">handleUserInput</span><span class="hljs-params">(Object userCommand)</span> </span>{
        <span class="hljs-keyword">new</span> ModelRunner().run(model)<font></font>
            .reactTo(userCommand);<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Schauen wir uns nun den Benutzer an, der die obige Oberfläche verwendet.</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MovieUser</span> </span>{
    <span class="hljs-keyword">private</span> IUserInput userInputDriverPort;<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MovieUser</span><span class="hljs-params">(IUserInput userInputDriverPort)</span> </span>{
        <span class="hljs-keyword">this</span>.userInputDriverPort = userInputDriverPort;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">processInput</span><span class="hljs-params">(MovieSearchRequest movieSearchRequest)</span> </span>{<font></font>
        userInputDriverPort.handleUserInput(movieSearchRequest);<font></font>
    }<font></font>
}</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anwendung</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Erstellen Sie als Nächstes eine Konsolenanwendung. </font><font style="vertical-align: inherit;">Verwaltete Adapter werden als Abhängigkeiten hinzugefügt. </font><font style="vertical-align: inherit;">Der Benutzer erstellt eine Anfrage und sendet sie an die Anwendung. </font><font style="vertical-align: inherit;">Die Anwendung empfängt Daten, verarbeitet sie und zeigt eine Antwort an die Konsole an.</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>{<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{<font></font>
        IFetchMovieReviews fetchMovieReviews = <span class="hljs-keyword">new</span> MovieReviewsRepo();<font></font>
        IPrintMovieReviews printMovieReviews = <span class="hljs-keyword">new</span> ConsolePrinter();<font></font>
        IUserInput userCommandBoundary = <span class="hljs-keyword">new</span> UserCommandBoundary(fetchMovieReviews, printMovieReviews);<font></font>
        MovieUser movieUser = <span class="hljs-keyword">new</span> MovieUser(userCommandBoundary);<font></font>
        MovieSearchRequest starWarsRequest = <span class="hljs-keyword">new</span> MovieSearchRequest(<span class="hljs-string">"StarWars"</span>);<font></font>
        MovieSearchRequest starTreckRequest = <span class="hljs-keyword">new</span> MovieSearchRequest(<span class="hljs-string">"StarTreck"</span>);<font></font>
<font></font>
        System.out.println(<span class="hljs-string">"Displaying reviews for movie "</span> + starTreckRequest.getMovieName());<font></font>
        movieUser.processInput(starTreckRequest);<font></font>
        System.out.println(<span class="hljs-string">"Displaying reviews for movie "</span> + starWarsRequest.getMovieName());<font></font>
        movieUser.processInput(starWarsRequest);<font></font>
    }<font></font>
<font></font>
}</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Was verbessert werden kann, ändert sich</font></font></h3><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In unserer Implementierung können Sie problemlos von einem Datenspeicher zu einem anderen wechseln. </font><font style="vertical-align: inherit;">Die Speicherimplementierung kann in den Code eingefügt werden, ohne die Geschäftslogik zu ändern. </font><font style="vertical-align: inherit;">Sie können beispielsweise Daten aus dem Speicher in eine Datenbank übertragen, indem Sie einen Datenbankadapter schreiben.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anstelle der Ausgabe an die Konsole können Sie einen „Drucker“ implementieren, der Daten in eine Datei schreibt. </font><font style="vertical-align: inherit;">In einer solchen mehrschichtigen Anwendung wird es einfacher, Funktionen hinzuzufügen und Fehler zu beheben.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um die Geschäftslogik zu testen, können Sie komplexe Tests schreiben. </font><font style="vertical-align: inherit;">Adapter können isoliert getestet werden. </font><font style="vertical-align: inherit;">Somit ist es möglich, die gesamte Testabdeckung zu erhöhen.</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fazit</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die folgenden Vorteile der hexagonalen Architektur können festgestellt werden:</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Begleitung</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - lose gekoppelte und unabhängige Schichten. </font><font style="vertical-align: inherit;">Es wird einfach, einer Ebene neue Funktionen hinzuzufügen, ohne andere Ebenen zu beeinflussen.</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Testbarkeit</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Unit-Tests werden einfach und schnell geschrieben. </font><font style="vertical-align: inherit;">Sie können Tests für jede Ebene mit Stub-Objekten schreiben, die Abhängigkeiten simulieren. </font><font style="vertical-align: inherit;">Zum Beispiel können wir die Abhängigkeit von der Datenbank entfernen, indem wir ein Data Warehouse im Speicher erstellen.</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anpassungsfähigkeit</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Die Hauptgeschäftslogik wird unabhängig von Änderungen an externen Objekten. </font><font style="vertical-align: inherit;">Wenn Sie beispielsweise in eine andere Datenbank migrieren müssen, müssen wir keine Änderungen an der Domäne vornehmen. </font><font style="vertical-align: inherit;">Wir können einen geeigneten Adapter für die Datenbank erstellen.</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verweise</font></font></h3><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sechseckige Architektur (Alistair Cockburn)</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hexagonal Architecture-Wiki</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ports und Adapter Architektur</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Giphy</font></font></a></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das ist alles. </font><font style="vertical-align: inherit;">Wir sehen uns </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">auf dem Kurs</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> !</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de492060/index.html">Wie löst man? "ECONNREFUSED - Verbindung vom Server abgelehnt"</a></li>
<li><a href="../de492062/index.html">Golang Backend Server Vorlage - Teil 1 (HTTP Server)</a></li>
<li><a href="../de492066/index.html">Warum Event Sourcing das Gegenmuster für die Interaktion mit Microservices ist</a></li>
<li><a href="../de492068/index.html">Die S7 Group eröffnet am MIPT eine Abteilung „Informationstechnologien in der Luftfahrt“</a></li>
<li><a href="../de492074/index.html">Muss schnell los. Schnelle IMAP-E-Mail-Synchronisierung</a></li>
<li><a href="../de492078/index.html">Die wichtigsten und nützlichsten Materialien zum Coronavirus COVID-19</a></li>
<li><a href="../de492082/index.html">So vereinfachen und verwalten Sie die Verwaltung von Heimgeräten (teilen Sie Ideen zu Kauri Safe Smart Home)</a></li>
<li><a href="../de492086/index.html">Coronavirus gegen russisches IT-Geschäft: Sind Unternehmen bereit, Mitarbeiter an einen entfernten Standort zu verlegen?</a></li>
<li><a href="../de492088/index.html">Testen der Amazon Lumberyard Game Engine. Ansätze und Tools</a></li>
<li><a href="../de492102/index.html">Erstellung eines VK-Chatbots basierend auf VkBotCore C #</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>