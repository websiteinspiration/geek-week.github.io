<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ℹ️ 🤵🏻 🍔 该死的老客户关系管理 👩🏼 🎢 ❓</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="去年全年，我们的员工使用BPMS Camunda完成了CRM 2.0，仅完成了10个流程，而不是数百个状态，然后尝试将其推广到用户和服务，而又不放弃任何东西。我希望在最终从我们的生态系统中删除了第一个tcm-ku（所有Skyeng中最古老的部分）后，他们将共享耙并在这里找到。
 
 
 
 同时，由...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>该死的老客户关系管理</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/skyeng/blog/501508/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">去年全年，我们的员工使用BPMS Camunda完成了CRM 2.0，仅完成了10个流程，而不是数百个状态，然后尝试将其推广到用户和服务，而又不放弃任何东西。我希望在最终从我们的生态系统中删除了第一个tcm-ku（所有Skyeng中最古老的部分）后，他们将共享耙并在这里找到。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xb/l2/tx/xbl2txmfq3_tqyihpdzi6jm-i-k.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同时，由于对该主题感兴趣，我发现了一个类似的案例-并决定向Finam的Dmitry Kosov询问他们放弃2010年代早期遗产的经验。</font></font><br>
<a name="habracut"></a><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">嗨</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，我是</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来自Bryansk的“ Seryozha”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，他决定通过博客和关于PHP主题的截屏视频来吸收开发知识。</font><font style="vertical-align: inherit;">今年，我想在我的活动中添加一个播客：邀请行业同事参加。</font><font style="vertical-align: inherit;">在第一集中，讲述了从第一个Zend迁移到Symfony的故事。</font><font style="vertical-align: inherit;">如果您需要更多技术细节，请查看</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dima在YouTube上的演讲</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">好吧，在我们对报告进行讨论之后，您将知道：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您知道这是在发布正式代码之前一年的时间，那么如何避免迷失并寻找动力，</font></font></li>
</ul><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为什么有没有撒谎，没有撒谎的文件，</font></font></li>
</ul><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以及如何使用一个真实的项目和团队的示例来组织两年重构的过程而又不停止功能的生产。</font></font></li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">喜欢阅读或听</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://w.soundcloud.com/player/" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在2011年之间选择了哪些框架？</font><font style="vertical-align: inherit;">以及如何在2016年选择新的</font></font><br>
</h2><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dima，Finam：</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我专门为发布做准备：在爸爸中，我们正好有4,600个文件，而我们的代码不是供应商，也不是任何js。</font><font style="vertical-align: inherit;">这个爸爸重16米。</font><font style="vertical-align: inherit;">我们将在2011年12月做出第一个承诺，它的作者仍在工作，这是我们的团队负责人。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初，正确选择了堆栈。</font><font style="vertical-align: inherit;">甚至在2012年，它还是很现代的-第一个Zend还是很有意义的。</font><font style="vertical-align: inherit;">然后我从事另一项工作，但我记得在春天末期的第12个地方，我们为新项目选择了堆栈。</font><font style="vertical-align: inherit;">我们看了看：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zend-第二个人刚刚问世，但还太年轻，他没有社区，</font></font></li>
</ul><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">首先是Yii-但我们不喜欢ActiveRecord概念， </font></font></li>
</ul><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">菲尔康 </font></font></li>
</ul><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">还有其他异国情调的东西 </font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
他们还选择了第一个Zend。</font><font style="vertical-align: inherit;">那时，这是一个很好的相关选择。</font><font style="vertical-align: inherit;">但是舌头向前。</font><font style="vertical-align: inherit;">但是您要使用普通的名称空间，而不是通过下划线命名类。</font><font style="vertical-align: inherit;">我想从开放源代码连接一些现成的库，当然，没有人在第一个Zend下编写。</font><font style="vertical-align: inherit;">我想吸引员工加入团队-几次我们在寻找新人时，有一些是直接写在脸上：“我不会接受”。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最终，第一个Zend只是停止支持它。</font><font style="vertical-align: inherit;">例如，在7.0，他们仍然发布了安全更新补丁，而我们自己对7.2和7.3进行了补丁。</font></font><br>
<br>
<h3><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在重新安置过程的开始我们花了一点时间。</font></font></i></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
没有全球性的风险-我们只是研究什么是现代的，相关的。</font><font style="vertical-align: inherit;">与其他项目相比：我们不是公司中唯一的PHP团队。</font><font style="vertical-align: inherit;">我们意识到Symfony对每个人都很满意-它看起来像一个可以使用多年的项目，拥有一个广泛的社区，许多现成的库，新的实用程序，等等。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我开始从事这项业务-起初，我只是在朝着Symfony的方向发展。</font><font style="vertical-align: inherit;">当我到达时，我沉浸在项目的不同部分中，以便可以尽可能广泛地了解它-到大规模重构开始时，我就已经足够了解它了。</font><font style="vertical-align: inherit;">我们开始后，另一个同志来了。</font><font style="vertical-align: inherit;">我们让他沉浸在这个过程中-但尽量不吓他一跳。</font><font style="vertical-align: inherit;">至少在一开始）</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">好。</font><font style="vertical-align: inherit;">我们选择了一个框架。</font><font style="vertical-align: inherit;">下一步是什么？</font></font></h2><br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Skyeng Seryozha：</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有两种方法-您可以一次重写所有内容。</font><font style="vertical-align: inherit;">您可以尝试缓慢地拖放。</font><font style="vertical-align: inherit;">你从哪里开始？</font></font></i><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Finam Dima：</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们从霍利瓦尔开始，走哪条路。</font><font style="vertical-align: inherit;">没有人有重写这样一卷的经验。</font><font style="vertical-align: inherit;">例如，从我之前的工作中，我有重写小型自治服务的经验-我们在那里冻结了一个月的开发，重写了所有内容，然后继续。</font><font style="vertical-align: inherit;">在这里，我们还不够一年。</font><font style="vertical-align: inherit;">也许我们本来可以一年赚80％，但是，您知道...</font></font><br>
<br>
<h3><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有一个原则：前80％的工作需要80％的时间。</font><font style="vertical-align: inherit;">其余20％的工作将花费另外80％的时间。</font></font></i></h3> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
停止应用程序及其当前任务是不可能的。对于这种情况，恰好有两个概念：您正在使用当前应用程序执行某些操作，或者正在部署一个新的应用程序。我们取消了部署新代码的选项-因为有很多代码。结果，我们没有将Symfony应用程序部署在我们的旧应用程序旁边，而是在其之上。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
但是为什么呢。</font><font style="vertical-align: inherit;">我们的数据库中有250多个表，如果除去某些服务板，则这些表大约有200个实体。</font><font style="vertical-align: inherit;">它们之间的连接非常牢固，由于连接数量众多，很难将代码分解成一些自治的逻辑部分。</font><font style="vertical-align: inherit;">不要中断它，无论如何，连接将不复存在：例如，呼叫和电话与经理和客户相连。</font><font style="vertical-align: inherit;">因此，我们意识到：如果部署新应用程序，开始为其编写新功能，然后慢慢转移旧功能，则将导致双重工作。</font><font style="vertical-align: inherit;">毕竟，我们将要转移到新应用程序的代码不能完全从旧代码中删掉。</font><font style="vertical-align: inherit;">我们将不得不在两个地方支持他。</font></font><br>
<br>
<h3><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然后，我们想起了我们团队已经拥有的另一种经验。</font></font></i></h3> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这是重写层以访问数据的经验。因为从前，Mongo与第一个Zend一起被选为主要数据库。但是实践表明，这种选择不是很正确。</font></font><br>
<br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Skyeng</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font><b><font style="vertical-align: inherit;">Seryozha，Seryozha：</font></b><font style="vertical-align: inherit;">是的，您具有所有的关系连接，但是您选择了一个面向文档的数据库。</font></font></i><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dima，Finam：</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是的，当我到达时，这些家伙正处于从Mongo复制到PostgreSQL的过程中……我们想到了我们拥有数据访问层的想法。而且，由于我们已经知道如何重写层以进行数据访问，因此也许我们可以将其改宽一点，然后立即抓住ORM层。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果您将应用程序想象成一个馅饼，那么它将分为5层：ORM，数据访问，业务逻辑，控制器，视图。</font><font style="vertical-align: inherit;">我们可以触及2.5层-完全更改ORM和对数据的访问，以及部分更改-业务逻辑。</font><font style="vertical-align: inherit;">不是算法本身，而是与这些算法一起使用的那些类和对象。</font><font style="vertical-align: inherit;">我清楚地知道可以单独消化该理论，好吧，我做到了。</font></font><br>
<br>
<h3><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因此，我进入了我们的引导程序，在那里初始化了学说，规定了所有必要的设置-并给了伙计们一个代码审查，写着：“嗯，应该有人开始了。”</font></font></i></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
路径的开始可能看起来像这样。</font><font style="vertical-align: inherit;">然后，我们应用了将猛parts象部分吃掉的原理。</font><font style="vertical-align: inherit;">有时候，结果比我们想象的要多，但是为期两周的冲刺的基本任务是迈出第一步-我们确保在同一区域中没有特色任务。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我发现了错误，回滚了，推出了</font></font></h2><br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seryozha，Skyeng：</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尽管如此，重构还是至关重要的，您如何确保自己？</font></font></i><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Finam Dima：</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们有许多单元测试-它们涵盖了关键点。</font><font style="vertical-align: inherit;">我们的测试仪可以自动执行许多功能测试。</font><font style="vertical-align: inherit;">CRM的主要工作是处理数据。</font><font style="vertical-align: inherit;">而且，要在没有数据的情况下进行测试，就不一定总是可以通过单元测试进行：发送包更容易，检查包是否正常处理，是否已创建带有必要参数的实体。</font></font><br>
<br>
<h3><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自然，我们动了很多手：特别是一些关键和重要的事情，例如相同的客户和电话。</font></font></i></h3> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我很清楚我是如何完成这项任务的。我打电话给我们的呼叫中心负责人，我们同意，当他们的工作量耗尽而只剩下服务员时，我会尽力而为，服务员会检查所有真实电话。我竭尽所能，看着日志，发现了一大堆错误，滚开了，统治了它们，警告了服务员，将其推出了，再次捕获了下一个捆绑，然后回滚了……如此反复。</font></font><br>
<br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Skyeng Seryozha：</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一路走来，但现在可能已经超过一半，您对此有何建议？</font></font></i><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">迪南（Finam）：</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我可能会建议早些时候在我们的应用程序之上部署相同的Symfony应用程序。为了确保我们编写的内容，所做的工作确实有效。我记得我们是如何部署它的，首先从控制台启动它，然后从控制器启动它，敲响了我们的业务逻辑层-并确保应用程序可以看到它，可以访问所有服务，提取所有方法，卸载结果。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我刚刚意识到，我们确实正确地编写了所有内容，因此激励人的力量是如此强大。要检查您是否朝着正确的方向前进，以确保您正确执行所有操作，应尽早完成。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
不是第一步，而是当您已经写好东西时，就这样做，提前一年拍摄，组织这样的本地时间机器，确保您做的一切正确，这会给您带来力量。</font><font style="vertical-align: inherit;">您将走得更远。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ps</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
感谢您的阅读和聆听。</font><font style="vertical-align: inherit;">在</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这里</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以找到更多的PHP播客</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果您希望获得更多有趣的报告和对话，请“参加” </font><font style="vertical-align: inherit;">5月30日</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">举行</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">第三次虚拟PHP会议</font></a><font style="vertical-align: inherit;">。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN501496/index.html">彗星湖，迭代完成</a></li>
<li><a href="../zh-CN501498/index.html">使用RESTinio中的easy_parser，需要编写多少C ++代码来解析Authorization HTTP标头？</a></li>
<li><a href="../zh-CN501500/index.html">视觉黑客：什么构成威胁以及如何保护自己免受间谍侵害</a></li>
<li><a href="../zh-CN501502/index.html">新实验室数字综合继续哈里斯书并帮助制作FPGA视频游戏</a></li>
<li><a href="../zh-CN501506/index.html">关于GDI泄漏和运气的重要性</a></li>
<li><a href="../zh-CN501510/index.html">Ruby on Rails框架对Fullstack开发的新见解</a></li>
<li><a href="../zh-CN501516/index.html">让我们关闭真空吗？阿列克谢·列索夫斯基</a></li>
<li><a href="../zh-CN501520/index.html">C＃8，无效。我们如何生活</a></li>
<li><a href="../zh-CN501522/index.html">免费的Skillbox网络研讨会：用PHP，Unity和Unreal Engine编写游戏</a></li>
<li><a href="../zh-CN501524/index.html">同步地球和生物体电磁场的秘密</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>