<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèΩ‚Äçüè´ üë®üèº‚Äçüåæ üï¥Ô∏è So senken Sie die Kosten in AWS üåª ü§∏üèº üöô</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Die Welt ver√§ndert sich dramatisch. Viele Unternehmen suchen nach einer M√∂glichkeit, Kosten zu senken, nur um zu √ºberleben. Gleichzeitig nimmt die Bel...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>So senken Sie die Kosten in AWS</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/bitrix/blog/493938/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Welt ver√§ndert sich dramatisch. Viele Unternehmen suchen nach einer M√∂glichkeit, Kosten zu senken, nur um zu √ºberleben. Gleichzeitig nimmt die Belastung der Online-Dienste zu - insbesondere im Zusammenhang mit der Organisation von Fernarbeit, der Durchf√ºhrung von Videokonferenzen und dem Online-Lernen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unter diesen Bedingungen ist es einerseits √§u√üerst wichtig, die Zuverl√§ssigkeit und Skalierbarkeit Ihrer Infrastruktur sicherzustellen. Auf der anderen Seite fliegen Sie nicht in die Pipe mit dem Kauf von Servern, Festplatten, Zahlung f√ºr den Verkehr. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir bei Bitrix24 nutzen Amazon Web Services sehr aktiv. In diesem Artikel werde ich auf verschiedene AWS-Funktionen eingehen, mit denen Sie Ihre Kosten senken k√∂nnen.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bitrix24 ist ein globaler Service, wir arbeiten f√ºr Kunden auf der ganzen Welt. Seit 2015, seit Inkrafttreten des Gesetzes 242- √ºber die Lokalisierung personenbezogener Daten, werden die Daten russischer Benutzer auf Servern in Russland gespeichert. Die gesamte Infrastruktur des Dienstes f√ºr die verbleibenden Kunden auf der ganzen Welt wird jedoch in Amazon Web Services bereitgestellt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Wirtschaftskrise ist bereits eine vollendete Tatsache. Der Dollar ist gewachsen und es ist unwahrscheinlich, dass er in naher Zukunft zu seiner vorherigen Position zur√ºckkehrt. Daher wird das Bezahlen f√ºr das Hosting in Fremdw√§hrung ziemlich m√ºhsam. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie unter diesen Bedingungen Ihre Ressourcen weiterhin in AWS platzieren, sind Sie h√∂chstwahrscheinlich an Techniken interessiert, mit denen Sie beim Mieten von Infrastruktur sparen k√∂nnen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich werde √ºber die wichtigsten sprechen, die wir selbst seit vielen Jahren verwenden. </font><font style="vertical-align: inherit;">Wenn Sie andere Methoden verwenden, teilen Sie diese bitte in den Kommentaren mit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So lass uns gehen.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RI - Reservierte Instanzen</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der einfachste und naheliegendste Weg, um bei AWS Geld zu sparen, ist die Verwendung reservierter EC2-Instanzen. </font><font style="vertical-align: inherit;">Wenn Sie wissen, dass Sie bestimmte Instanzen auf jeden Fall mindestens ein Jahr lang verwenden werden, k√∂nnen Sie eine Vorauszahlung leisten und einen Rabatt von 30% bis 75% erhalten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beispiel f√ºr Berechnungen f√ºr c5.xlarge-Instanzen: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/m0/ds/mo/m0dsmoblmlz4otl5mwfzgkvcsk4.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alle Preise und Berechnungen finden Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Manchmal sieht es kompliziert und verwirrend aus, aber im Allgemeinen lautet die Logik wie folgt:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Je l√§nger die Reservierungsdauer - 1 oder 3 Jahre - ist, desto gr√∂√üer ist der Rabatt.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Je gr√∂√üer die Vorauszahlung sofort ist - Sie k√∂nnen sie ohne Vorauszahlung ausf√ºhren, desto mehr Vorauszahlung k√∂nnen Sie leisten - desto h√∂her ist der Rabatt.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn wir einen bestimmten Instanztyp reservieren, aber keinen konvertierbaren verwenden, gibt es einen gr√∂√üeren Rabatt.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F√ºr uns selbst reservieren wir f√ºr 1 Jahr, da die Planung f√ºr 3 Jahre ziemlich schwierig ist. </font><font style="vertical-align: inherit;">Und das erm√∂glicht eine gute Einsparung von EC2.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spot-Instanzen</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Verwendung von Spot-Instanzen ist im Wesentlichen eine Art Ressourcenaustausch. Wenn Amazon √ºber viele nicht genutzte Ressourcen verf√ºgt, k√∂nnen Sie den H√∂chstpreis festlegen, den Sie bereit sind, f√ºr spezielle ‚ÄûSpot-Instanzen‚Äú zu zahlen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn der aktuelle Bedarf in einer bestimmten Region und AZ (Availability Zone) gering ist, werden Ihnen diese Ressourcen zur Verf√ºgung gestellt. Dar√ºber hinaus zu einem Preis, der 3-8 mal niedriger ist als der Preis von On-Demand. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was ist der Haken? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das einzige ist, dass die angeforderten Ressourcen nicht an Sie weitergegeben werden, wenn keine freie Kapazit√§t vorhanden ist. Und wenn die Nachfrage stark steigt und der Spotpreis Ihren festgelegten H√∂chstpreis √ºberschreitet, wird Ihr Spot beendet.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nat√ºrlich sind solche Instanzen beispielsweise f√ºr eine Datenbank in der Produktion nicht geeignet. </font><font style="vertical-align: inherit;">Bei einigen Aufgaben, die beispielsweise mit bestimmten Berechnungen verbunden sind, ist das Rendern und Berechnen von Modellen f√ºr Tests eine hervorragende M√∂glichkeit zum Speichern. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mal sehen, um welche Betr√§ge wir in der Praxis k√§mpfen. </font><font style="vertical-align: inherit;">Und wie oft k√∂nnen Spots zu einem Preis ‚Äûverschwinden‚Äú. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier ist ein Beispiel f√ºr den Preisverlauf von Spot-Instanzen direkt von der AWS-Konsole f√ºr die Region eu-central-1 (Frankfurt) f√ºr c5.4xlarge-Instanzen: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cp/x7/j3/cpx7j34itns05bahwoue8fgpiuq.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was sehen wir?</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Preis ist etwa dreimal niedriger als bei Bedarf.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In allen drei AZs in dieser Region sind Spot-Instanzen verf√ºgbar.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seit drei Monaten ist der Preis nie gestiegen. </font><font style="vertical-align: inherit;">Dies bedeutet, dass ein vor drei Monaten gestarteter Spot mit einem bestimmten H√∂chstpreis von beispielsweise 0,3 USD weiterhin funktionieren w√ºrde.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So verwenden wir Spots in der Praxis: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fe/l2/ct/fel2ctyssqnu2agvm_etfty2dz4.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Wir verwenden Spots f√ºr Anwendungsserver. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - F√ºr sie verwenden wir aktiv das CloudWatch + Auto Scaling-Bundle, um den ganzen Tag √ºber automatisch zu skalieren: Die Last steigt - neue Instanzen werden gestartet, die Last sinkt - sie werden gel√∂scht. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Aus Sicherheitsgr√ºnden arbeiten zwei Auto Scaling-Gruppen f√ºr Balancer - falls die Flecken ausgehen. Eine AS-Gruppe - mit normalen (On-Demand-) Instanzen, die zweite - mit Spots. Amazon √ºber CloudWatch Events warnt innerhalb von 2 Minuten, dass die Spot-Instanz gel√∂scht (beendet) wird. In diesem Fall verarbeiten wir diese Ereignisse und schaffen es, die Hauptgruppe auf die erforderliche Anzahl von Instanzen zu erweitern. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Details hier - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spot Instance Interruption Notices</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Um effizienter mit der automatischen Skalierung zu arbeiten und die Maschinen in der Gruppe mit maximaler Punktzahl zu verwenden, verwenden wir diesen Ansatz:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Spot-Gruppe hat eine untere obere M√ºllhalde - wir beginnen fr√ºher, ‚Äûzu vergr√∂√üern‚Äú.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Und eine niedrigere untere M√ºllhalde - wir beginnen sp√§ter, ‚Äûnach unten‚Äú zu skalieren.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F√ºr eine regul√§re Gruppe ist das Gegenteil der Fall.</font></font></li>
</ol><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EC2-Instanzspeicher</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jeder, der mit AWS arbeitet, wei√ü, dass die Hauptlaufwerke f√ºr EC2-Instanzen EBS (Elastic Block Store) sind. Sie k√∂nnen an Instanzen gemountet, deaktiviert, an andere Instanzen gemountet und von diesen aus mit Snapshots versehen werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alle EBS werden je nach Art auf die eine oder andere Weise berechnet. Und sie kosten ziemlich viel Geld. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gleichzeitig ist f√ºr viele Arten von Instanzen beim Erstellen die Verbindung lokaler Festplatten verf√ºgbar - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EC2 Instance Store</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Hauptmerkmal dieser Datentr√§ger ist, dass diese Daten nach dem Start verloren gehen, wenn Sie die Instanz mit einem solchen Datentr√§ger stoppen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gleichzeitig sind sie jedoch bedingt kostenlos - es erfolgt eine Zahlung nur f√ºr die Instanz selbst.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Solche Festplatten k√∂nnen perfekt f√ºr tempor√§re Daten verwendet werden, f√ºr die kein st√§ndiger Speicher erforderlich ist - Swaps, Cache und andere tempor√§re Daten. </font><font style="vertical-align: inherit;">Die Leistung der Instance Store-Laufwerke ist recht hoch: Zus√§tzlich zu den sehr alten Instanztypen werden jetzt entweder SSDs oder NVMe-SSDs f√ºr sie verwendet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Infolgedessen: Wir schlie√üen weniger EBS-Festplatten an und zahlen weniger.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S3 Unvollst√§ndige mehrteilige Uploads</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der obigen Diskussion ging es haupts√§chlich um EC2. Als n√§chstes beschreiben wir einige Tricks, die bei Verwendung von S3 (Simple Storage Service) gespeichert werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie aktiv mit S3 arbeiten, wissen Sie wahrscheinlich, dass sowohl S3 als auch die meisten Clients f√ºr die Arbeit mit diesem Speicher das </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mehrteilige Hochladen unterst√ºtzen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - ein gro√ües Objekt wird mit ‚ÄûTeilen‚Äú geladen, die dann zu einem einzigen Objekt ‚Äûzusammengesetzt‚Äú werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das funktioniert gut, aber es gibt einen Hinterhalt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn der Download aus irgendeinem Grund nicht abgeschlossen ist (z. B. wurde die Verbindung unterbrochen und der Download nicht fortgesetzt), werden die heruntergeladenen Teile nicht von selbst gel√∂scht. Sie nehmen jedoch Platz ein, Sie bezahlen daf√ºr.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und eine unangenehme √úberraschung: Diese unvollst√§ndigen Daten sind bei der Arbeit mit Standardtools f√ºr S3 √ºberhaupt nicht sichtbar: weder durch "ls" in cli noch in Client-Programmen. Sie finden sie beispielsweise in aws cli mit dem Befehl </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">list-multipart-uploads</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber mit ihnen zu arbeiten ist zu anstrengend ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es w√§re am logischsten, eine Option zum Speichern unvollst√§ndiger mehrteiliger Uploads in den Einstellungen eines bestimmten Buckets auszuschlie√üen. Aber aus irgendeinem Grund tat Amazon dies nicht.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt jedoch eine M√∂glichkeit, Ihr Leben zu vereinfachen und unvollst√§ndige mehrteilige Uploads automatisch zu entfernen. In den Bucket-Einstellungen auf der Registerkarte "Verwaltung" befindet sich ein Abschnitt "Lebenszyklus". Dies ist ein praktisches Tool, mit dem Sie verschiedene automatische Regeln f√ºr die Arbeit mit Objekten konfigurieren k√∂nnen: Verschieben Sie sie in andere Repositorys, l√∂schen Sie sie nach einiger Zeit (verfallen) und steuern Sie - einschlie√ülich - das Verhalten unvollst√§ndiger mehrteiliger Uploads. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bn/_f/or/bn_forpdvfvivgbfs1zo01wekl8.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein ausf√ºhrlicher Artikel dazu ist </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">im AWS-Blog zu finden</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - allerdings mit Beispielen aus der alten Benutzeroberfl√§che, aber alles ist ziemlich klar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wichtig ist, dass der zum L√∂schen unvollst√§ndiger Daten konfigurierte Lebenszyklus nicht nur f√ºr neue, sondern auch f√ºr vorhandene Objekte funktioniert.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der tats√§chlich in S3 belegte Speicherplatz kann √ºber CloudWatch √ºberwacht werden. </font><font style="vertical-align: inherit;">Als wir die Entfernung von unvollst√§ndigen mehrteiligen Uploads einrichteten, waren wir √ºberrascht, dass wir mehr als ein Dutzend Terabyte freigesetzt haben ...</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S3 Intelligentes Tiering</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
S3 hat verschiedene Speicherklassen:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Standard.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Standard-IA (seltener Zugriff) - f√ºr Objekte, auf die nur selten zugegriffen wird.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eine Zone-IA - f√ºr relativ unkritische Daten. </font><font style="vertical-align: inherit;">In dieser Klasse werden Objekte auf weniger Punkte repliziert.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Glacier ist ein sehr billiger Speicher, aber Sie k√∂nnen nicht sofort ein Objekt daraus erhalten. </font><font style="vertical-align: inherit;">Sie m√ºssen eine spezielle Anfrage stellen und eine Weile warten.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alle haben unterschiedliche Nutzungsbedingungen und unterschiedliche Preise. Sie k√∂nnen und sollten kombiniert werden - abh√§ngig von Ihren unterschiedlichen Aufgaben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vor relativ kurzer Zeit ist jedoch eine andere sehr interessante Art von Speicher aufgetaucht - Intelligent Tiering. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Wesentliche seiner Arbeit ist folgender: Gegen eine geringe zus√§tzliche Geb√ºhr wird die √úberwachung und Analyse Ihrer Daten in S3 durchgef√ºhrt, Anrufe werden √ºberwacht, und wenn 30 Tage lang keine Anrufe eingehen, wird das Objekt automatisch in den Speicher f√ºr seltenen Zugriff verschoben, was erheblich weniger kostet als der Standardspeicher. Wenn nach einiger Zeit erneut auf das Objekt zugegriffen wird - gleichzeitig tritt kein Leistungsverlust auf -, wird es erneut in das Standardzugriffs-Repository verschoben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die wichtigste Annehmlichkeit: Sie selbst m√ºssen nichts tun.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Amazon wird alles ‚Äûauf intelligente Weise‚Äú selbst erledigen - es wird herausfinden, welche Objekte wo abgelegt werden sollen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Durch die Aktivierung von Intelligent Tiering haben wir bei einigen Buckets bis zu 10-15% gespart. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alles klingt zu gut und magisch. </font><font style="vertical-align: inherit;">Aber kann es nicht einige Fallstricke geben? </font><font style="vertical-align: inherit;">Sie sind es und sie m√ºssen nat√ºrlich ber√ºcksichtigt werden.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F√ºr √úberwachungseinrichtungen wird eine zus√§tzliche Geb√ºhr erhoben. </font><font style="vertical-align: inherit;">In unserem Fall ist es vollst√§ndig durch die Einsparungen abgedeckt.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sie k√∂nnen Intelligent Tiering f√ºr alle Objekte verwenden. </font><font style="vertical-align: inherit;">Objekte mit weniger als 128 KB werden jedoch niemals auf die seltene Zugriffsebene √ºbertragen und immer zum regul√§ren Preis bezahlt.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nicht geeignet f√ºr Gegenst√§nde, die weniger als 30 Tage gelagert werden. </font><font style="vertical-align: inherit;">Solche Objekte werden noch mindestens 30 Tage im Voraus bezahlt.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie aktiviere ich Intelligent Tiering? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie k√∂nnen die Speicherklasse INTELLIGENT_TIERING in der S3-API oder CLI explizit angeben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au√üerdem k√∂nnen Sie die Lifecycle-Regel konfigurieren, nach der beispielsweise alle Objekte nach einer bestimmten Speicherzeit automatisch in Intelligent Tiering verschoben werden. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zd/di/mx/zddimxxoflqvmy2xhguvqxmzacg.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lesen Sie mehr im selben </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AWS-Blog</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gletscher</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn wir √ºber verschiedene Speicherklassen in S3 sprechen, ist nat√ºrlich auch </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Glacier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> erw√§hnenswert </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie Daten haben, die √ºber Monate und Jahre gespeichert werden m√ºssen, auf die jedoch nur sehr selten zugegriffen werden kann, z. B. Protokolle oder Sicherungen, sollten Sie die Verwendung von Glacier in Betracht ziehen. Der Preis seiner Verwendung ist um ein Vielfaches niedriger als der Standard S3. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F√ºr eine bequeme Arbeit mit Glacier k√∂nnen Sie dieselben Lebenszyklusregeln verwenden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie k√∂nnen beispielsweise eine Regel festlegen, nach der ein Objekt f√ºr einige Zeit in einem regul√§ren Speicher gespeichert wird, z. B. 30 bis 60 Tage (normalerweise ist ein zeitnaher Zugriff auf die n√§chstgelegenen Protokolle oder Sicherungen erforderlich, wenn wir √ºber deren Speicherung sprechen). Anschlie√üend wird es verschoben Gletscher und nach 1-2-3 ... Jahren - komplett entfernt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist viel billiger als das einfache Speichern in S3. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
* * * </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe √ºber einige Tricks gesprochen, die wir selbst aktiv anwenden. </font><font style="vertical-align: inherit;">AWS ist eine riesige Infrastrukturplattform. </font><font style="vertical-align: inherit;">Sicherlich haben wir nicht √ºber Dienste gesprochen, die Sie nutzen. </font><font style="vertical-align: inherit;">Wenn es in AWS andere M√∂glichkeiten zum Speichern gibt, die f√ºr Sie n√ºtzlich sind, teilen Sie dies bitte in den Kommentaren mit.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de493924/index.html">Stoppen Sie das F√∂rderband! Sie geben Epson XGA-Projektoren zum Preis von SVGA</a></li>
<li><a href="../de493926/index.html">Tricks zum Testen von Laravel-Webanwendungen mithilfe von Modellfabriken</a></li>
<li><a href="../de493928/index.html">√úberpr√ºfen und testen Sie Huawei Dorado 5000V6</a></li>
<li><a href="../de493932/index.html">√úbersicht √ºber Google Surveys. Warum es nicht f√ºr ernsthafte Forschung geeignet ist</a></li>
<li><a href="../de493934/index.html">Wer, wie und auf was hat die Ozeane erforscht - wir analysieren die NOAA-Datenbank</a></li>
<li><a href="../de493940/index.html">Nat√ºrliches Coronavirus 2019-nCoV-Behandlungsprotokoll</a></li>
<li><a href="../de493942/index.html">Grundvirus in 20 Minuten oder warum Sie Antivirus verwenden sollten</a></li>
<li><a href="../de493944/index.html">Wir analysieren weiterhin die Schwachstellen industrieller Switches: Wir f√ºhren beliebigen Code ohne Passwort aus</a></li>
<li><a href="../de493948/index.html">Wie ich zu Hause aus improvisierten Materialien ein KN95-Beatmungsger√§t herstellte. detaillierte Anleitung</a></li>
<li><a href="../de493950/index.html">Neuronaler Netzrechner zum Addieren und Subtrahieren nicht sehr gro√üer Zahlen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>