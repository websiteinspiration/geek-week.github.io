<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏽‍🏫 👨🏼‍🌾 🕴️ So senken Sie die Kosten in AWS 🌻 🤸🏼 🚙</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Die Welt verändert sich dramatisch. Viele Unternehmen suchen nach einer Möglichkeit, Kosten zu senken, nur um zu überleben. Gleichzeitig nimmt die Bel...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>So senken Sie die Kosten in AWS</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/bitrix/blog/493938/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Welt verändert sich dramatisch. Viele Unternehmen suchen nach einer Möglichkeit, Kosten zu senken, nur um zu überleben. Gleichzeitig nimmt die Belastung der Online-Dienste zu - insbesondere im Zusammenhang mit der Organisation von Fernarbeit, der Durchführung von Videokonferenzen und dem Online-Lernen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unter diesen Bedingungen ist es einerseits äußerst wichtig, die Zuverlässigkeit und Skalierbarkeit Ihrer Infrastruktur sicherzustellen. Auf der anderen Seite fliegen Sie nicht in die Pipe mit dem Kauf von Servern, Festplatten, Zahlung für den Verkehr. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir bei Bitrix24 nutzen Amazon Web Services sehr aktiv. In diesem Artikel werde ich auf verschiedene AWS-Funktionen eingehen, mit denen Sie Ihre Kosten senken können.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bitrix24 ist ein globaler Service, wir arbeiten für Kunden auf der ganzen Welt. Seit 2015, seit Inkrafttreten des Gesetzes 242- über die Lokalisierung personenbezogener Daten, werden die Daten russischer Benutzer auf Servern in Russland gespeichert. Die gesamte Infrastruktur des Dienstes für die verbleibenden Kunden auf der ganzen Welt wird jedoch in Amazon Web Services bereitgestellt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Wirtschaftskrise ist bereits eine vollendete Tatsache. Der Dollar ist gewachsen und es ist unwahrscheinlich, dass er in naher Zukunft zu seiner vorherigen Position zurückkehrt. Daher wird das Bezahlen für das Hosting in Fremdwährung ziemlich mühsam. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie unter diesen Bedingungen Ihre Ressourcen weiterhin in AWS platzieren, sind Sie höchstwahrscheinlich an Techniken interessiert, mit denen Sie beim Mieten von Infrastruktur sparen können.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich werde über die wichtigsten sprechen, die wir selbst seit vielen Jahren verwenden. </font><font style="vertical-align: inherit;">Wenn Sie andere Methoden verwenden, teilen Sie diese bitte in den Kommentaren mit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So lass uns gehen.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RI - Reservierte Instanzen</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der einfachste und naheliegendste Weg, um bei AWS Geld zu sparen, ist die Verwendung reservierter EC2-Instanzen. </font><font style="vertical-align: inherit;">Wenn Sie wissen, dass Sie bestimmte Instanzen auf jeden Fall mindestens ein Jahr lang verwenden werden, können Sie eine Vorauszahlung leisten und einen Rabatt von 30% bis 75% erhalten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beispiel für Berechnungen für c5.xlarge-Instanzen: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/m0/ds/mo/m0dsmoblmlz4otl5mwfzgkvcsk4.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alle Preise und Berechnungen finden Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Manchmal sieht es kompliziert und verwirrend aus, aber im Allgemeinen lautet die Logik wie folgt:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Je länger die Reservierungsdauer - 1 oder 3 Jahre - ist, desto größer ist der Rabatt.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Je größer die Vorauszahlung sofort ist - Sie können sie ohne Vorauszahlung ausführen, desto mehr Vorauszahlung können Sie leisten - desto höher ist der Rabatt.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn wir einen bestimmten Instanztyp reservieren, aber keinen konvertierbaren verwenden, gibt es einen größeren Rabatt.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Für uns selbst reservieren wir für 1 Jahr, da die Planung für 3 Jahre ziemlich schwierig ist. </font><font style="vertical-align: inherit;">Und das ermöglicht eine gute Einsparung von EC2.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spot-Instanzen</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Verwendung von Spot-Instanzen ist im Wesentlichen eine Art Ressourcenaustausch. Wenn Amazon über viele nicht genutzte Ressourcen verfügt, können Sie den Höchstpreis festlegen, den Sie bereit sind, für spezielle „Spot-Instanzen“ zu zahlen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn der aktuelle Bedarf in einer bestimmten Region und AZ (Availability Zone) gering ist, werden Ihnen diese Ressourcen zur Verfügung gestellt. Darüber hinaus zu einem Preis, der 3-8 mal niedriger ist als der Preis von On-Demand. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was ist der Haken? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das einzige ist, dass die angeforderten Ressourcen nicht an Sie weitergegeben werden, wenn keine freie Kapazität vorhanden ist. Und wenn die Nachfrage stark steigt und der Spotpreis Ihren festgelegten Höchstpreis überschreitet, wird Ihr Spot beendet.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Natürlich sind solche Instanzen beispielsweise für eine Datenbank in der Produktion nicht geeignet. </font><font style="vertical-align: inherit;">Bei einigen Aufgaben, die beispielsweise mit bestimmten Berechnungen verbunden sind, ist das Rendern und Berechnen von Modellen für Tests eine hervorragende Möglichkeit zum Speichern. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mal sehen, um welche Beträge wir in der Praxis kämpfen. </font><font style="vertical-align: inherit;">Und wie oft können Spots zu einem Preis „verschwinden“. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier ist ein Beispiel für den Preisverlauf von Spot-Instanzen direkt von der AWS-Konsole für die Region eu-central-1 (Frankfurt) für c5.4xlarge-Instanzen: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cp/x7/j3/cpx7j34itns05bahwoue8fgpiuq.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was sehen wir?</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Preis ist etwa dreimal niedriger als bei Bedarf.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In allen drei AZs in dieser Region sind Spot-Instanzen verfügbar.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seit drei Monaten ist der Preis nie gestiegen. </font><font style="vertical-align: inherit;">Dies bedeutet, dass ein vor drei Monaten gestarteter Spot mit einem bestimmten Höchstpreis von beispielsweise 0,3 USD weiterhin funktionieren würde.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So verwenden wir Spots in der Praxis: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fe/l2/ct/fel2ctyssqnu2agvm_etfty2dz4.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Wir verwenden Spots für Anwendungsserver. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Für sie verwenden wir aktiv das CloudWatch + Auto Scaling-Bundle, um den ganzen Tag über automatisch zu skalieren: Die Last steigt - neue Instanzen werden gestartet, die Last sinkt - sie werden gelöscht. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Aus Sicherheitsgründen arbeiten zwei Auto Scaling-Gruppen für Balancer - falls die Flecken ausgehen. Eine AS-Gruppe - mit normalen (On-Demand-) Instanzen, die zweite - mit Spots. Amazon über CloudWatch Events warnt innerhalb von 2 Minuten, dass die Spot-Instanz gelöscht (beendet) wird. In diesem Fall verarbeiten wir diese Ereignisse und schaffen es, die Hauptgruppe auf die erforderliche Anzahl von Instanzen zu erweitern. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Details hier - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spot Instance Interruption Notices</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Um effizienter mit der automatischen Skalierung zu arbeiten und die Maschinen in der Gruppe mit maximaler Punktzahl zu verwenden, verwenden wir diesen Ansatz:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Spot-Gruppe hat eine untere obere Müllhalde - wir beginnen früher, „zu vergrößern“.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Und eine niedrigere untere Müllhalde - wir beginnen später, „nach unten“ zu skalieren.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Für eine reguläre Gruppe ist das Gegenteil der Fall.</font></font></li>
</ol><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EC2-Instanzspeicher</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jeder, der mit AWS arbeitet, weiß, dass die Hauptlaufwerke für EC2-Instanzen EBS (Elastic Block Store) sind. Sie können an Instanzen gemountet, deaktiviert, an andere Instanzen gemountet und von diesen aus mit Snapshots versehen werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alle EBS werden je nach Art auf die eine oder andere Weise berechnet. Und sie kosten ziemlich viel Geld. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gleichzeitig ist für viele Arten von Instanzen beim Erstellen die Verbindung lokaler Festplatten verfügbar - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EC2 Instance Store</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Hauptmerkmal dieser Datenträger ist, dass diese Daten nach dem Start verloren gehen, wenn Sie die Instanz mit einem solchen Datenträger stoppen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gleichzeitig sind sie jedoch bedingt kostenlos - es erfolgt eine Zahlung nur für die Instanz selbst.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Solche Festplatten können perfekt für temporäre Daten verwendet werden, für die kein ständiger Speicher erforderlich ist - Swaps, Cache und andere temporäre Daten. </font><font style="vertical-align: inherit;">Die Leistung der Instance Store-Laufwerke ist recht hoch: Zusätzlich zu den sehr alten Instanztypen werden jetzt entweder SSDs oder NVMe-SSDs für sie verwendet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Infolgedessen: Wir schließen weniger EBS-Festplatten an und zahlen weniger.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S3 Unvollständige mehrteilige Uploads</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der obigen Diskussion ging es hauptsächlich um EC2. Als nächstes beschreiben wir einige Tricks, die bei Verwendung von S3 (Simple Storage Service) gespeichert werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie aktiv mit S3 arbeiten, wissen Sie wahrscheinlich, dass sowohl S3 als auch die meisten Clients für die Arbeit mit diesem Speicher das </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mehrteilige Hochladen unterstützen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - ein großes Objekt wird mit „Teilen“ geladen, die dann zu einem einzigen Objekt „zusammengesetzt“ werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das funktioniert gut, aber es gibt einen Hinterhalt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn der Download aus irgendeinem Grund nicht abgeschlossen ist (z. B. wurde die Verbindung unterbrochen und der Download nicht fortgesetzt), werden die heruntergeladenen Teile nicht von selbst gelöscht. Sie nehmen jedoch Platz ein, Sie bezahlen dafür.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und eine unangenehme Überraschung: Diese unvollständigen Daten sind bei der Arbeit mit Standardtools für S3 überhaupt nicht sichtbar: weder durch "ls" in cli noch in Client-Programmen. Sie finden sie beispielsweise in aws cli mit dem Befehl </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">list-multipart-uploads</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber mit ihnen zu arbeiten ist zu anstrengend ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es wäre am logischsten, eine Option zum Speichern unvollständiger mehrteiliger Uploads in den Einstellungen eines bestimmten Buckets auszuschließen. Aber aus irgendeinem Grund tat Amazon dies nicht.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt jedoch eine Möglichkeit, Ihr Leben zu vereinfachen und unvollständige mehrteilige Uploads automatisch zu entfernen. In den Bucket-Einstellungen auf der Registerkarte "Verwaltung" befindet sich ein Abschnitt "Lebenszyklus". Dies ist ein praktisches Tool, mit dem Sie verschiedene automatische Regeln für die Arbeit mit Objekten konfigurieren können: Verschieben Sie sie in andere Repositorys, löschen Sie sie nach einiger Zeit (verfallen) und steuern Sie - einschließlich - das Verhalten unvollständiger mehrteiliger Uploads. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bn/_f/or/bn_forpdvfvivgbfs1zo01wekl8.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein ausführlicher Artikel dazu ist </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">im AWS-Blog zu finden</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - allerdings mit Beispielen aus der alten Benutzeroberfläche, aber alles ist ziemlich klar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wichtig ist, dass der zum Löschen unvollständiger Daten konfigurierte Lebenszyklus nicht nur für neue, sondern auch für vorhandene Objekte funktioniert.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der tatsächlich in S3 belegte Speicherplatz kann über CloudWatch überwacht werden. </font><font style="vertical-align: inherit;">Als wir die Entfernung von unvollständigen mehrteiligen Uploads einrichteten, waren wir überrascht, dass wir mehr als ein Dutzend Terabyte freigesetzt haben ...</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S3 Intelligentes Tiering</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
S3 hat verschiedene Speicherklassen:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Standard.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Standard-IA (seltener Zugriff) - für Objekte, auf die nur selten zugegriffen wird.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eine Zone-IA - für relativ unkritische Daten. </font><font style="vertical-align: inherit;">In dieser Klasse werden Objekte auf weniger Punkte repliziert.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Glacier ist ein sehr billiger Speicher, aber Sie können nicht sofort ein Objekt daraus erhalten. </font><font style="vertical-align: inherit;">Sie müssen eine spezielle Anfrage stellen und eine Weile warten.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alle haben unterschiedliche Nutzungsbedingungen und unterschiedliche Preise. Sie können und sollten kombiniert werden - abhängig von Ihren unterschiedlichen Aufgaben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vor relativ kurzer Zeit ist jedoch eine andere sehr interessante Art von Speicher aufgetaucht - Intelligent Tiering. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Wesentliche seiner Arbeit ist folgender: Gegen eine geringe zusätzliche Gebühr wird die Überwachung und Analyse Ihrer Daten in S3 durchgeführt, Anrufe werden überwacht, und wenn 30 Tage lang keine Anrufe eingehen, wird das Objekt automatisch in den Speicher für seltenen Zugriff verschoben, was erheblich weniger kostet als der Standardspeicher. Wenn nach einiger Zeit erneut auf das Objekt zugegriffen wird - gleichzeitig tritt kein Leistungsverlust auf -, wird es erneut in das Standardzugriffs-Repository verschoben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die wichtigste Annehmlichkeit: Sie selbst müssen nichts tun.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Amazon wird alles „auf intelligente Weise“ selbst erledigen - es wird herausfinden, welche Objekte wo abgelegt werden sollen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Durch die Aktivierung von Intelligent Tiering haben wir bei einigen Buckets bis zu 10-15% gespart. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alles klingt zu gut und magisch. </font><font style="vertical-align: inherit;">Aber kann es nicht einige Fallstricke geben? </font><font style="vertical-align: inherit;">Sie sind es und sie müssen natürlich berücksichtigt werden.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Für Überwachungseinrichtungen wird eine zusätzliche Gebühr erhoben. </font><font style="vertical-align: inherit;">In unserem Fall ist es vollständig durch die Einsparungen abgedeckt.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sie können Intelligent Tiering für alle Objekte verwenden. </font><font style="vertical-align: inherit;">Objekte mit weniger als 128 KB werden jedoch niemals auf die seltene Zugriffsebene übertragen und immer zum regulären Preis bezahlt.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nicht geeignet für Gegenstände, die weniger als 30 Tage gelagert werden. </font><font style="vertical-align: inherit;">Solche Objekte werden noch mindestens 30 Tage im Voraus bezahlt.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie aktiviere ich Intelligent Tiering? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie können die Speicherklasse INTELLIGENT_TIERING in der S3-API oder CLI explizit angeben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Außerdem können Sie die Lifecycle-Regel konfigurieren, nach der beispielsweise alle Objekte nach einer bestimmten Speicherzeit automatisch in Intelligent Tiering verschoben werden. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zd/di/mx/zddimxxoflqvmy2xhguvqxmzacg.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lesen Sie mehr im selben </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AWS-Blog</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gletscher</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn wir über verschiedene Speicherklassen in S3 sprechen, ist natürlich auch </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Glacier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> erwähnenswert </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie Daten haben, die über Monate und Jahre gespeichert werden müssen, auf die jedoch nur sehr selten zugegriffen werden kann, z. B. Protokolle oder Sicherungen, sollten Sie die Verwendung von Glacier in Betracht ziehen. Der Preis seiner Verwendung ist um ein Vielfaches niedriger als der Standard S3. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Für eine bequeme Arbeit mit Glacier können Sie dieselben Lebenszyklusregeln verwenden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie können beispielsweise eine Regel festlegen, nach der ein Objekt für einige Zeit in einem regulären Speicher gespeichert wird, z. B. 30 bis 60 Tage (normalerweise ist ein zeitnaher Zugriff auf die nächstgelegenen Protokolle oder Sicherungen erforderlich, wenn wir über deren Speicherung sprechen). Anschließend wird es verschoben Gletscher und nach 1-2-3 ... Jahren - komplett entfernt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist viel billiger als das einfache Speichern in S3. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
* * * </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe über einige Tricks gesprochen, die wir selbst aktiv anwenden. </font><font style="vertical-align: inherit;">AWS ist eine riesige Infrastrukturplattform. </font><font style="vertical-align: inherit;">Sicherlich haben wir nicht über Dienste gesprochen, die Sie nutzen. </font><font style="vertical-align: inherit;">Wenn es in AWS andere Möglichkeiten zum Speichern gibt, die für Sie nützlich sind, teilen Sie dies bitte in den Kommentaren mit.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de493924/index.html">Stoppen Sie das Förderband! Sie geben Epson XGA-Projektoren zum Preis von SVGA</a></li>
<li><a href="../de493926/index.html">Tricks zum Testen von Laravel-Webanwendungen mithilfe von Modellfabriken</a></li>
<li><a href="../de493928/index.html">Überprüfen und testen Sie Huawei Dorado 5000V6</a></li>
<li><a href="../de493932/index.html">Übersicht über Google Surveys. Warum es nicht für ernsthafte Forschung geeignet ist</a></li>
<li><a href="../de493934/index.html">Wer, wie und auf was hat die Ozeane erforscht - wir analysieren die NOAA-Datenbank</a></li>
<li><a href="../de493940/index.html">Natürliches Coronavirus 2019-nCoV-Behandlungsprotokoll</a></li>
<li><a href="../de493942/index.html">Grundvirus in 20 Minuten oder warum Sie Antivirus verwenden sollten</a></li>
<li><a href="../de493944/index.html">Wir analysieren weiterhin die Schwachstellen industrieller Switches: Wir führen beliebigen Code ohne Passwort aus</a></li>
<li><a href="../de493948/index.html">Wie ich zu Hause aus improvisierten Materialien ein KN95-Beatmungsgerät herstellte. detaillierte Anleitung</a></li>
<li><a href="../de493950/index.html">Neuronaler Netzrechner zum Addieren und Subtrahieren nicht sehr großer Zahlen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>