<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏅 🌳 📣 ペンテスターはどのように調理されますか？デジタルセキュリティインターンの入学試験 🔜 🤜🏼 👱🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Digital SecurityでのSummer of Hack 2019はすでに本格化しています。つまり、私たちがどのように人々を採用したかを伝える時が来ました。
 
 
 
 カットの下では、インターンシップ「Summer of Hack 2019」、特にセキュリティ部門に若い専門家をどのように...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ペンテスターはどのように調理されますか？デジタルセキュリティインターンの入学試験</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dsec/blog/461077/"><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Digital Securityで</font><b><font style="vertical-align: inherit;">のSummer of Hack 2019</font></b><font style="vertical-align: inherit;">はすでに本格化しています。つまり、私たちがどのように人々を採用したかを伝える時が来ました。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/iv/ef/ud/ivefudzwssbwskpfaxaxkczsxvu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
カットの下では、インターンシップ「Summer of Hack 2019」、特にセキュリティ部門に若い専門家をどのように選択するかについての膨大で興味深い資料。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちの意見では、ペンターがその仕事を成功させるために知っておくべきことを考えてください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちは、彼らの1人に代わって、彼らを拷問した多くの難しい仕事を分析します。</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
おそらく、セキュリティ監査部門でのインターンシップの選択で最も興味深い部分は、私たちのプロフィールでした。</font><font style="vertical-align: inherit;">毎年私たちは部門全体に集まり、私たちの意見では、実用的な安全性の分野で現代の専門家に必要なスキルについて話し合い、今年解決しなければならなかった最も興味深いタスクを思い出し、成功する監査人を想像するのが難しい知識の領域を書き出します。</font><font style="vertical-align: inherit;">すべてのジョークが冗談で物語が語られるとき、一番下の行は一連のアイデアのままです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今年は、次の要件がありました。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デバイスのWebアプリケーションとそれらへの攻撃に関する基本的な知識。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ブラウザーベースの保護およびアクセス制御メカニズムの基本的な知識（そうです、同じSOPおよびCORS、それらがない場合）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基本的なコード読み取りスキルと、その背後にあるロジックを確認する能力。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンピュータネットワークの操作とそれらのルーティングの理解;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linuxライクなシステムの経験。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不慣れなテクノロジーを恐れない能力。</font><font style="vertical-align: inherit;">受信した情報をグーグルおよび整理する機能。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Androidのピンチ（必須ではありませんが、これは私たちの小さな気まぐれです）。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
質問が開発された後。</font><font style="vertical-align: inherit;">一部は面接で聞いた質問から借りましたが、半分以上がこのアンケートのために特別に用意されたものです。</font><font style="vertical-align: inherit;">私たちの専門家は、個人的な時間を使ってトラフィックダンプを準備し、質問をより適切に定式化する方法と、どの脆弱性が「具体的すぎ、なぜ訓練生を苦しめたのか」について議論しました。</font><font style="vertical-align: inherit;">そのような熱意のために、私たちは帽子を脱がずにはいられません（もちろん、白です）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
各質問の分析は2つの部分で構成されます。</font><font style="vertical-align: inherit;">最初の部分は私たちのインターンの一人-Danilaの答えです</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コルギク_0</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Leontiev（彼は出版物の著者です）、そして2番目はアンケートを重ねていた専門家のコメントです。</font></font><br>
<br>
<hr><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">こんにちは、ハブル！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、少し叙情的な余談。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
より具体的には、「Summ3r 0f h4ckについてどのようにして知りましたか」。</font><font style="vertical-align: inherit;">RuCTF2019カンファレンスでの</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">Denis Rybin</font></a><font style="vertical-align: inherit;">と</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">Ilya Bulatovの</font></a></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
スピーチからインターンシップの発表を聞きました</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">
文字通り、4日後、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ポストが</font></a><font style="vertical-align: inherit;">投稿されました</font><font style="vertical-align: inherit;">インターンシップセットの開口部についてhabrに。</font><font style="vertical-align: inherit;">
そして、その日の夕方、セキュリティ監査部門でタスクを開き、仕事に没頭しました。</font><font style="vertical-align: inherit;">今日私は読者に私が直面しなければならなかったどんな困難と私が提供することができる解決策オプションを共有します。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font></i><br>
<br>
<hr><br>
<h1><strong><font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1番。</font><font style="vertical-align: inherit;">PHPソースコード</font></font></font></strong></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コードを調べます。</font><font style="vertical-align: inherit;">発生した欠陥とその修正方法を説明してください。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ne/0x/ku/ne0xkuq_5uz955i1rypa8or5spk.jpeg"><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ジョブ解析</font></font></b><div class="spoiler_text">4  —  md5 . <br>
 — md5        hashcat. <br>
How to fix?<br>
<br>
  «»  .<br>
        user      phpsession.<br>
<br>
5  — PostgreSQL-injections.<br>
How to fix?<br>
 prepared statement. <br>
 prepared statement   login-<br>
<br>
<pre><code class="plaintext hljs">$query = "SELECT username FROM login WHERE username=?";<font></font>
    $stmt = $conn-&gt;prepare($query);<font></font>
	$stmt-&gt;execute(array($username));<font></font>
	$username = $stmt-&gt;fetchColumn();<font></font>
	if($username == FALSE)<font></font>
	{<font></font>
		die(" !");<font></font>
	}<font></font>
</code></pre><br>
11  —   .<br>
<br>
<ol>
<li>   .   —  .   “” cookie          .</li>
<li>  httpOnly.   TRUE, cookie     HTTP-.   cookie        ,  JavaScript. </li>
<li>  cookie.</li>
<li>   secure.  secure   ,   cookie        HTTPS.   TRUE, cookie      ,     . </li>
</ol><br>
How to fix?<br>
   php     24 ,    .<br>
  secure, httpOnly.<br>
<br>
        user      phpsession.<br>
<br>
18  — XSS (. Cross-Site Scripting — « »).<br>
How to fix?       HTML-.<br>
<br>
<pre><code class="plaintext hljs">$query = htmlentities($query, ENT_QUOTES, "UTF-8");</code></pre><br>
  ,        UTF-7.<br>
<br>
<pre><code class="plaintext hljs">header("Content-Type: text/html; charset=utf-8");</code></pre><br>
20  —      .<br>
<br>
 —    cookie user id- ,   base64,     !<br>
<br>
How to fix?                .<br>
<br>
<pre><code class="plaintext hljs">	$query = "SELECT sessions FROM login WHERE sessions=?";<font></font>
	$stmt = $conn-&gt;prepare($query);<font></font>
	$stmt-&gt;execute(array($_COOKIE["user"]));<font></font>
	$session = $stmt-&gt;fetchColumn();<font></font>
	if($session == TRUE)<font></font>
	{<font></font>
		do_login($_COOKIE["user"]);<font></font>
	}<font></font>
</code></pre><br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エキスパート解説D：</font></font></b><div class="spoiler_text"><blockquote> ,     ,      -.            PHP. ,  “ ”   .<br>
<br>
  ,           :<br>
<br>
<b>     MD5</b>      . ,     , ,      ,     .    “ ”, “ ”, “ ”    ,          ,   . ,           ,          .    “”     ,       md5-           (   )   . ,    ,      ,     .      , ,   ,    .<br>
<br>
<b> SQL-.</b>  - ;              .            (   ),     username      .<br>
<br>
<b>  debug    XSS-.</b>   ,       echo,       HTML-  . ,         ,  ,      .               . ,  ,   .   ,       query,              —   XSS-. ,         -    strtoupper.        ,    HTML-   ,   Javascript     .    ,   .<br>
<br>
<img src="https://habrastorage.org/webt/cg/ev/oy/cgevoykot6pzht0mx5ppeqyxwne.png"><br>
<br>
  , ,       «scriptless-»      (     JSFUCK),         .<br>
<br>
<b>     </b>     .        ,       .    ,   cookie,  base64- id    remember-me.          : “, ,    id,          ?!”. , ,        cookie user      id,  base64.     cookie  username  password      do_login      . <br>
<br>
  4          . <br>
<br>
,      .    ,    ,       ,         ,         —           .<br>
</blockquote><br>
</div></div><br>
<hr><br>
<h1><strong><font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2番。</font><font style="vertical-align: inherit;">Jwt</font></font></font></strong></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Webアプリケーションを調査したところ、アプリケーションが認証としてJWTトークンを使用していることがわかりました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どのようなセキュリティ上の懸念がありますか、どのようなチェックを行いますか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JWTトークン：</font></font><br>
<br>
<pre><code class="plaintext hljs">eyJhbGciOiJOb25lIiwidHlwIjoiSldUIn0.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6InNla2EiL CJpYXQiOjE1MTYyMzkwMjIsInJvbGUiOiJub2JvZHkiLCJpc0FkbWluIjoiRmFsc2UiLCJwYX Nzd29yZCI6IjFkMDBjYUgifQ.F7Y1mCAmg5-QFok-rkpLdwe8prCyiKsCyJ-3Z5f7luI</code></pre><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ジョブ解析</font></font></b><div class="spoiler_text"> JSON Web Tokens (JWT).<br>
  -&gt; [base64url(HEADER)].[base64url(PAYLOAD)].[base64url(SIGNATURE)]<br>
[base64url(HEADER)] = eyJhbGciOiJOb25lIiwidHlwIjoiSldUIn0 <br>
base64url decode -&gt; {«alg»:«None»,«typ»:«JWT»} <br>
    ,      («alg»:«None») .   JWT    “none”,    .   alg  “none”,       .<br>
.    payload  base64url,       .<br>
       admin-. <br>
<br>
     ,    payload      aud ( ,    JWT-)  exp (  ).<br>
<br>
  <br>
eyJhbGciOiJOb25lIiwidHlwIjoiSldUIn0.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6ImhhY2siLCJpYXQiOjE1MTYyMzkwMjIsInJvbGUiOiJub2JvZHkiLCJpc0FkbWluIjoiVHJ1ZSIsInBhc3N3b3JkIjoiaGFjayJ9<br>
<br>
base64url decode payload -&gt; {«sub»:«1234567890»,«name»:«hack»,«iat»:1516239022,«role»:«nobody»,«isAdmin»:«True»,«password»:«hack»}<br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エキスパート解説D：</font></font></b><div class="spoiler_text"><blockquote>        ,       .       ,          JWT- -,  .   ,   ,           .  , ,        “JWT”  “jwt vulnerability”,     :<br>
<br>
1.      ,        ,     JWT-.<br>
<br>
2.         ,     ,  ,   .               .<br>
<br>
3.           ,  ,    isAdmin       .<br>
<br>
4.    ,       ,          JWT-.            ,  ,          .    :         GET/POST-,    .      .               ,    . <br>
<br>
        ,   JWT ,    ,    ,   ,        .<br>
</blockquote><br>
</div></div><br>
<hr><br>
<h1><strong><font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ナンバー3。</font><font style="vertical-align: inherit;">CORS / CSRF / IDOR / ???</font></font></font></strong></h1><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Webアプリケーションでは、ユーザーパスワードは次のリクエストを使用して変更されます（オプション1を参照）。</font><font style="vertical-align: inherit;">どのような潜在的なセキュリティの脅威が見えますか？</font><font style="vertical-align: inherit;">どんなチェックをしますか？</font><font style="vertical-align: inherit;">次の動作の場合、状況は変わりますか（オプション2を参照）？</font><font style="vertical-align: inherit;">あなたの答えを説明しなさい。</font></font><br>
<img src="https://habrastorage.org/webt/mr/b-/se/mrb-seaadzkgqbmqvsq-zcqflyo.jpeg"><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ジョブ解析</font></font></b><div class="spoiler_text"><b> 1.</b><br>
«     ?» <br>
<br>
1)   .<br>
    user-a,       ,         .<br>
How to fix? —  JSESSION     id-.<br>
<br>
2)   CSRF <br>
         ,   example.com   ,   .<br>
How to fix? —  CSRF .<br>
<br>
<b> 2.</b><br>
«     ?» <br>
  CORS .<br>
     ccess-Control-Allow-Origin.<br>
<br>
How to fix? — <br>
<br>
1)   .htaccess<br>
<br>
<pre><code class="plaintext hljs">&lt;ifmodule mod_headers.c&gt;<font></font>
  Header always set Access-Control-Allow-Origin: "https://whitelist.domain.ru"<font></font>
  Header always set Access-Control-Allow-Methods "PUT"<font></font>
&lt;/ifmodule&gt;<font></font>
</code></pre><br>
2) PHP<br>
<br>
<pre><code class="plaintext hljs">&lt;?php<font></font>
header('Access-Control-Allow-Origin: “https://whitelist.domain.ru”);<font></font>
header('Access-Control-Allow-Methods: PUT');<font></font>
?&gt;<font></font>
</code></pre><br>
«      ?»<br>
<br>
.      PUT ,  ,   PUT   CORS  “”,           CSRF  +     Access-Control-Allow-Credentials: true         http   cookie .<br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私がコメントする専門家：</font></font></b><div class="spoiler_text"><blockquote>  ,       :<br>
<br>
1) ,        «10012»,     ,       ?   <b>  id</b>? <br>
  «IDOR»        .<br>
<br>
2)       POST, CSRF-  ,    — «text/plain».   <b>  . </b><br>
<br>
, ,    ,       «» . <br>
<br>
3)     <b>   </b>.       ,      —        1-day ,         .<br>
<br>
4)        «  ,  <b>    JSON  XML</b>?»<br>
<br>
  ,    ,        .     XML     XXE. C         «»,       ,    RCE .<br>
<br>
5)      «     <b>   </b>?» <br>
<br>
  « №2»,     «» —   CORS-,  Content-Type     «application/json».<br>
<br>
,     ,    "-   Allow-Origin «»,        !"<br>
<br>
, . -,   Allow-Credentials:True ,      « »,      ,  .  -,      ,        —   - «».    ,   .<br>
</blockquote></div></div><br>
<hr><br>
<h1><strong><font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ナンバー4。</font><font style="vertical-align: inherit;">ネットワークダンプ</font></font></font></strong></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
会社の内部ネットワークにアクセスして、下にダンプが添付されているトラフィックを傍受したとします。</font><font style="vertical-align: inherit;">どのような攻撃をどのようなツールで実行しようとするか説明してください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ダンプ：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yadi.sk/d/qkLcfwSCzdxcwg</font></font></a> <br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ジョブ解析</font></font></b><div class="spoiler_text">1) LLMNR Spoofing&lt;<br>
           , ,     —    IP-.<br>
   ,         ,    ,    . <br>
<br>
  — Intercepter-NG,   githab VindicateTool.<br>
<br>
2)   HSRP.<br>
 —    ”preempt”  1    “”  ,    .   HSRP        (Active Router)  ,       .  ,     mitm .<br>
<br>
         .<br>
        (  — 3)  .      — cisco.<br>
<br>
  — yersinia, scapy.<br>
<br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エキスパートXのコメント：</font></font></b><div class="spoiler_text"><blockquote>        (  )   MitM-.     ,     :<br>
<br>
<b>1) ARP </b><br>
 ARP-spoofing          MitM-.     gratuitous ARP    . <br>
 <br>
  IP-,  IP-  B,    MAC- —  MAC-.     ARP-   A,       ,      B.  B    -. <br>
 <br>
 : bettercap, arpspoof<br>
<br>
<b>2) LLMNR, NBNS </b><br>
 Link-Local Multicast Name Resolution  NetBIOS Name Service —  ,       .     DNS,    ,   ,          ,         —   .<br>
 <br>
     ,      ,     IP ,    ,         ,  ,     .        NTLM-,      NTLM-,        .<br>
 <br>
 : Responder<br>
<br>
<b>3) WPAD </b><br>
 WPAD spoofing      LLMNR-  NBNS-. Web Proxy Auto Discovery protocol     HTTP- . <br>
 <br>
  LLMNR/NBNS    wpad,   IP-     HTTP   wpad.dat,       .<br>
 <br>
 ,    LLMNR/NBNS-      wpad.dat,    HTTP-  HTTPS-   .<br>
 <br>
 : Responder, mitm6<br>
<br>
<b>4) Router Advertisement</b><br>
    ,       IPv6.   ,     IPv6 Router Advertisement      -  DNS-.<br>
 <br>
Router Advertisement (RA)     SLAAC (Stateless Address Autoconfiguration),      IPv6   ,   DHCPv6 ,    .       RA  ,       -,  ,  DNS-,  .<br>
 <br>
 : raw-packet<br>
<br>
<b>5) DHCP-</b><br>
        DHCP Discover-      .      DHCP-        Discover-,       -.<br>
 <br>
 : Yersinia<br>
<br>
<b>6) HSRP  </b><br>
  ,     HSRP-. Hot Standby Router Protocol    ,    -.          IP-,     -.   Hello -        ,           .           HSRP, ,      ,      HSRP         .<br>
 <br>
 : Yersinia<br>
<br>
<b>7) STP-</b><br>
 Spanning Tree Protocol      L2-  .    BPDU-,           ,     .          BPDU-,   ,   ,    ,    ,         ,   ,   ,     STP,    ,    . <br>
 <br>
 : Yersinia<br>
</blockquote></div></div><br>
<hr><br>
<h1><strong><font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5番 </font><font style="vertical-align: inherit;">Nginxの設定</font></font></font></strong></h1><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
nginxウェブサーバーの設定は次のとおりです。</font><font style="vertical-align: inherit;">そこに見られるセキュリティの問題について詳しく説明してください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
設定：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pastebin.com/nYp7uVbB</font></font></a><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ジョブ解析</font></font></b><div class="spoiler_text">  nginx,          :<br>
1)  86 ,   http  X-Managed      secured,  nginx     /management/<br>
2)        API  70  105 .<br>
<br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">専門家Jのコメント：</font></font></b><div class="spoiler_text"><blockquote>       ,          .   nginx    ,     web-,       nginx    web-  /.           nginx ,  , ,     . <br>
<br>
,     ,   ,            .      ,         . ,    ,     . <br>
<br>
        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">gixy</a>. <br>
<br>
Gixy  4    :<br>
<br>
<b>1) Alias travesal:</b><br>
<br>
  80     :<br>
<br>
<pre><code class="plaintext hljs">location /static {<font></font>
          	alias /prod_static/;<font></font>
   	}<font></font>
</code></pre><br>
    - ,    .  : //host/static../etc/passwd.   -     alias:     ,   /static,   /prod_static/,       : /prod_static/../etc/passwd,      /etc/passwd.    alias traversal  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a> <br>
<br>
<b>2) Http Splitting (CRLF injection)</b><br>
   nginx  ,   ,        .       HTTP-.<br>
: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://github.com/yandex/gixy/blob/master/docs/ru/plugins/">github.com/yandex/gixy/blob/master/docs/ru/plugins/httpsplitting.md</a><br>
<br>
<b>3)   -   </b><br>
  75      «rigin»   .    , -       , ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">production.host.evil.com</a>. <br>
: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">github.com/yandex/gixy/blob/master/docs/ru/plugins/origins.md</a><br>
<br>
<b>4)     add_header </b><br>
 nginx  :      add_header,       , ,    ,  .      CSP      .<br>
: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">github.com/yandex/gixy/blob/master/docs/ru/plugins/addheaderredefinition.md</a><br>
<hr><br>
 ,   gixy,          .       :<br>
<br>
1)   17     <b>default_type   text/html.</b>     :   ,     ,  nginx    Content-Type,    default_type.   ,         Content-Type: text/html.            HTML-  ,   , , XSS-   .<br>
<br>
<b>2)    POST-</b><br>
 29-30   ,           .  ,   “” POST-.       . !       SSRF  ,     ,   ,     , .<br>
<br>
<b>3)   php-fpm</b><br>
  48  ,  FastCGI-    unix ,    9000.  ,    ,   .   ,      PHP-. <br>
<br>
<b>4) “” CSP</b><br>
 production.host  Content-Security-Policy,    Javascript,    . <br>
<br>
<b>5) “” CORS</b><br>
  76-77   CORS,          ,       cookie  .<br>
<br>
6)     ,   86   <b>  </b>  .       secured     /managed.<br>
<br>
7)      ,    ,        ,    -. ,   ,  ,    /user/{userid}  IDOR.<br>
<br>
  ,       ,    ,     .<br>
</blockquote></div></div><br>
<hr><br>
<h1><strong><font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6番。</font><font style="vertical-align: inherit;">Linuxアクセス許可</font></font></font></strong></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Linuxユーザーは他のユーザーのホームディレクトリをいつ読み込めますか？</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ジョブ解析</font></font></b><div class="spoiler_text"> ~ ()  Debian<br>
C              ( ,      /etc/passwd). <br>
,      ftp  ,     ~.<br>
<br>
: <br>
 * root@server:~# ls ~ftp<br>
 * welcome.msg<br>
     :<br>
 * root@server:~# cat ~ftp/welcome.msg<br>
 * Welcome, archive user %U@%R!<br>
  ,    :      :<br>
 * root@amorale:~# echo ~ftp<br>
 * /srv/ftp<br>
<br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エキスパートKコメント：</font></font></b><div class="spoiler_text"><blockquote>   ,        :<br>
<br>
<ul>
<li>     </li>
<li> ACL     </li>
<li>  </li>
<li>    </li>
<li> capabilities </li>
</ul><br>
  ,      ,   : <br>
“ ,   root”   .<br>
<br>
     ,     <code>Linux/Unix</code>.<br>
   ,        “ ” —           .<br>
  ,     ,    <code>funky_test.txt</code>     <br>
<br>
<pre><code class="plaintext hljs">-rwxrw-r-x  1 alice interns   12   4 13:00 funky_test.txt</code></pre><br>
,    Linux/Unix   : <br>
<br>
<ul>
<li> - —    “rwx”  alice</li>
<li>  —    “rw”   interns</li>
<li>   —    “r-x”  others</li>
</ul><br>
         <code>read, write, execute</code>.<br>
<br>
,     —       ,      :<br>
<br>
<ul>
<li>   ,      read</li>
<li>   ,      read</li>
<li>    read</li>
</ul><br>
 ,       <code>read</code>            .      ,      execute  . <br>
<br>
           ,    . <br>
<br>
         , ,    .      :<br>
<br>
1.          ,       ls.<br>
<br>
2.      — <code>POSIX Access Control Lists</code>.<br>
<br>
<h4>   c   .</h4><br>
<h6> 1</h6><br>
,   <code>alice</code>     <code>interns</code>.      <code>funny_test.txt</code>    :<br>
<br>
<pre><code class="plaintext hljs">$ whoami<font></font>
alice<font></font>
$ id<font></font>
uid=1001(alice) gid=1001(alice) groups=1001(alice),1002(interns)<font></font>
$ ls -la<font></font>
----rwx---  1 alice interns   12   4 13:00 funky_test.txt<font></font>
$ cat funky_test.txt<font></font>
cat: funky_test.txt: Permission denied<font></font>
$ <font></font>
</code></pre><br>
<h5> 2</h5><br>
  —   <code>funky_test.txt</code>  604.    <code>bob</code>,    <code>interns</code>    :<br>
<br>
<pre><code class="plaintext hljs">$ whoami<font></font>
bob<font></font>
$ id<font></font>
uid=1002(bob) gid=1003(bob) groups=1003(bob),1002(interns)<font></font>
$ ls -la funky_test.txt<font></font>
-rw----r--  1 alice interns   12   4 13:00 funky_test.txt<font></font>
$ cat funky_test.txt<font></font>
cat: funky_test.txt: Permission denied<font></font>
</code></pre><br>
<h5></h5><br>
   <code>alice</code>       ,  .  , <code>permission_denied</code>    :<br>
<br>
<pre><code class="plaintext hljs">$ id               <font></font>
uid=1001(alice) gid=1001(alice) groups=1001(alice),1002(interns)<font></font>
$ ls -la<font></font>
----rwx---  1 alice interns   12   4 13:00 funky_test.txt<font></font>
$ chmod 777 funky_test.txt<font></font>
$ ls -la funky_test.txt<font></font>
-rwxrwxrwx 1 alice interns 12   4 13:00 funky_test.txt<font></font>
$ cat funky_test.txt<font></font>
secret_pass<font></font>
</code></pre><br>
      bob    .<br>
<br>
<h5> </h5><br>
   ,          «  »,  : <br>
<br>
<ul>
<li> ID      <code>effective UID</code> —     </li>
<li> GID        <code>effective GID</code> —     </li>
<li>     others.</li>
</ul><br>
<h5> </h5><br>
 ,      —   ,       “”    ,        ,    , : <br>
<br>
<ul>
<li>   ,   ,          <code>others</code>    </li>
<li>  ,     ,   <code>others</code>    </li>
</ul><br>
          .<br>
<br>
<h4>POSIX Access Control Lists</h4><br>
     —         /.   ,     ACL,  ,       “<code>+</code>”<br>
<br>
     POSIX ACLs,    —     ,            .      ACL,        .<br>
<br>
<h5></h5><br>
  .        <code>alice</code>   <code>funky_test.txt</code>  ,  <br>
<br>
<pre><code class="plaintext hljs">-rwxrw-r-x 1 alice interns 12   4 13:00 funky_test.txt</code></pre><br>
     ACL.  <code>getfacl</code>, ,    ACL,   ,     <code>ls</code>.<br>
<br>
<pre><code class="plaintext hljs">$ getfacl funky_test.txt<font></font>
# file: funky_test.txt<font></font>
# owner: alice<font></font>
# group: interns<font></font>
user::rwx<font></font>
group::rw-<font></font>
other::r-x<font></font>
</code></pre><br>
  , ACL        .  ,     bob  : <br>
<br>
<pre><code class="plaintext hljs">setfacl -m u:bob:rwx funky_test.txt
</code></pre><br>
      “<code>+</code>”  <br>
<br>
<pre><code class="plaintext hljs">ls -l funky_test.txt<font></font>
-rwxrwxr-x+ 1 alice interns 12   4 13:00 funky_test.txt<font></font>
</code></pre><br>
    :<br>
<br>
<pre><code class="plaintext hljs">getfacl funky_test.txt<font></font>
# file: funky_test.txt<font></font>
# owner: alice<font></font>
# group: interns<font></font>
user::rwx<font></font>
user:bob:rwx<font></font>
group::rw-<font></font>
mask::rwx<font></font>
other::r-x<font></font>
</code></pre><br>
 ACL     .  :<br>
<br>
<ol>
<li>    .      <code>effective UID</code>  <code>effective GID </code> —  .        ,       ACL,       .  ,     ,   ,  ,         ,    .</li>
<li>  ACL  <code>mask</code>,      ACL    <code>owner, group, others</code></li>
</ol><br>
<h5> </h5><br>
 ,         ,  ,     —      .<br>
<br>
  ,  ACL,     , :<br>
<br>
<ul>
<li>       ACL,     ;</li>
<li>  ,         ACL,     .</li>
</ul><br>
</blockquote></div></div><br>
<br>
<hr><br>
<h1><strong><font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ナンバー7。</font><font style="vertical-align: inherit;">ネットワークダンプII</font></font></font></strong></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
会社の内部ネットワークでの作業中に、以下のトラフィックを受信することができました。</font><font style="vertical-align: inherit;">それを分析し、トラフィックから有用なデータとファイルを取得することを試み、さらに実行できる攻撃について説明します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
トラフィックダンプ：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yadi.sk/d/e3gNme4MBo6tFQ</font></font></a> <br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ジョブ解析</font></font></b><div class="spoiler_text">  —      .<br>
     ,     .<br>
  ,     .<br>
<br>
<img src="https://habrastorage.org/webt/2t/zn/ip/2tznipywtpqwalr5drvxxr4z0sw.png"><br>
<br>
  ,     SMB-,  ,    ,       .       SMB object list (File -&gt; Export objects -&gt; SMB… ).<br>
<br>
   —     .<br>
<br>
<img src="https://habrastorage.org/webt/fe/rt/xy/fertxyt0du3kv3qwcmivz1m6opg.png"><br>
<i>(  SMB object list)</i><br>
<br>
<img src="https://habrastorage.org/webt/xo/yd/t-/xoydt-qmcbddrx1lkoqmpplyslg.png"><br>
<i>(NotTruePass.jpg)</i><br>
<br>
    . <br>
<br>
       “”    TCP-…     .    . :(<br>
<br>
   ,        .    . <br>
<br>
<img src="https://habrastorage.org/webt/fd/ch/fc/fdchfcsbkrwxmx08ltr_1qnoozg.png"><br>
<i>(  desktop.ini)</i><br>
<br>
    “”     . ,      NTLM,   ,  ,  NTLM      “Pass-the-hash”.               «-».<br>
<br>
    “”    :<br>
<br>
<pre><code class="plaintext hljs">1)User - 1<font></font>
Account: IEUser<font></font>
Domain: WIN7<font></font>
Host: WIN7<font></font>
hex dump session key - 49 0c 38 3e f8 eb 63 88 79 0f 62 84 09 84 d2 dc<font></font>
<font></font>
2) User - 2<font></font>
Account: winwin<font></font>
Domain: WIN7<font></font>
Host: WIN7<font></font>
hex dump session key - 8d f6 1b 35 79 a3 78 d3 2e 81 09 f1 95 4f 71 0a<font></font>
<font></font>
3) User - 3<font></font>
Account: 192.192.192.29<font></font>
Domain: WIN7<font></font>
Host: WIN7<font></font>
hex dump session key - c3 19 e0 21 1b e2 63 c6 03 9e e7 38 1b 56 f0 d1<font></font>
</code></pre><br>
           .       MSEDGEWIN10.<br>
<br>
   —     : <br>
<br>
1) SMB Relay.<br>
          .<br>
     ,   MITM-<br>
(.             ).<br>
<br>
     —        ,      ,  .<br>
     .       ,       . <br>
<br>
   ,  ,  ,     .<br>
<br>
2) NTLM Relay.<br>
        ,  NTLM-. <br>
<br>
        ,   NTLM-.<br>
<br>
         . <br>
    ,     ,  ,    .<br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エキスパートKコメント：</font></font></b><div class="spoiler_text"><blockquote>  ,  ,    :<br>
<br>
<ol>
<li>   (    )</li>
<li>       — /</li>
<li>     ,      </li>
</ol><br>
      ,        :<br>
<br>
<ol>
<li>   </li>
<li>   </li>
<li>   </li>
</ol><br>
    Wireshark,    <code>Protocol Hierarchy Statistics</code>  <code>Conversations</code>.<br>
<br>
<code>Protocol Hierarchy Statistics </code> —           .<br>
<br>
<img src="https://habrastorage.org/webt/_3/sy/co/_3sycoln1juvmnzbdlzrug24fgq.png"><br>
<br>
Conversations —   ,         .<br>
<br>
<img src="https://habrastorage.org/webt/31/xp/r7/31xpr7rmhyghnrctn3acyznwa9w.png"><br>
<br>
<img src="https://habrastorage.org/webt/rw/21/_d/rw21_dwv4digkin6kodypnfpl2w.png"><br>
<br>
      :<br>
<br>
<ol>
<li>   (60%) —  TCP, ,  , SMB.   Protocol hierarchy  SMB  40%,        TCP,     ,     20%      SMB.</li>
<li>     192.192.192.128  192.192.192.129.   SMB      .</li>
</ol><br>
<b>  </b><br>
<br>
   . <br>
<br>
       —     SMB.<br>
<br>
       ,    —     wireshark —  <code>ExportObject</code>.<br>
             <code>tcp stream</code>.     ,     ,   <code> tcp stream</code>,            .           ,      .<br>
<br>
   , ,     ,     ,     .  ,         .<br>
<br>
<b>  .</b><br>
    SMB       . <br>
<br>
   NTLM-     “ntlmssp”.    <code>info</code>,  3    :<br>
<br>
<img src="https://habrastorage.org/webt/mm/gn/pj/mmgnpjekpvddsd1f6vdx5ih8hec.png"><br>
<br>
,        .<br>
<br>
<img src="https://habrastorage.org/webt/rk/ix/7m/rkix7mvmxaaxs09m0vvazlblvco.png"><br>
<br>
<img src="https://habrastorage.org/webt/tx/zc/hc/txzchc1u7ufdzoqkjxtnrnsvfd0.png"><br>
<br>
<img src="https://habrastorage.org/webt/pd/hg/vd/pdhgvdcc_obs9smchhmwidqmawy.png"><br>
<br>
         Net-NTLMv2-,  :<br>
<br>
<ul>
<li>challenge </li>
<li>response </li>
<li> </li>
</ul><br>
 <code>Net-NTLMv2</code>       <code>hashcat</code>.<br>
<br>
,        <code>WIN7\winwin</code>  <code>WIN7\192.192.192.129</code> —      ,          .    <code>WIN7\IEUser</code> — ,       ,  ,  ,   ,  SMB. <br>
<br>
 <code>Net-NTLM</code>   ,   ,    Wireshark.    ,  PCredz (https://github.com/lgandx/PCredz)<br>
<br>
<img src="https://habrastorage.org/webt/jd/gn/zj/jdgnzjzb6pgscawu43bxtf5wc0y.png"><br>
<br>
    <code>IEUser</code> (   )     hashcat.<br>
<br>
<img src="https://habrastorage.org/webt/ky/i6/gf/kyi6gfki84pqjj4fgjximusk9qa.png"><br>
<br>
<b>     ,      .</b><br>
<br>
       6,   ,   <code>SMB/NTLM</code>, <code>DNS</code>.<br>
<br>
,      ,    <code>NT</code>  <code>LM</code>  <code>NTLMv1 (Net-NTLMv1)</code>, <code>NTLMv2 (Net-NTLMv2)</code> (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">     </a>).<br>
<br>
-    <code>NT</code>  <code>LM</code>  <code>NTLM</code>,         <code>NTLM</code>  <code>NTLMv1</code>  <code>NTLMv2</code>. ,           .    .<br>
<br>
    ,  <code>NTLMv1/NTLMv2</code> —    challenge-response .        ,    . <br>
<br>
 NT  LM —   “  ” —        .<br>
<br>
     :<br>
<br>
<ul>
<li>PassTheHash — ,        ,     . .     ,  <code>NT</code>.  PassTheHash  NTLMv2  —   .        ,      “”  ,       ,    .</li>
<li>NTLM Relay — ,        ,     NTLM.      ,    . </li>
<li>Spoofing,     Windows: LLMNR, NetBios</li>
<li>    : MS17-010,    /  ,   .</li>
</ul><br>
<b></b><br>
<br>
    :<br>
<br>
<ul>
<li>   ( )</li>
<li>     </li>
<li>      ,          </li>
<li>           eternalBlue</li>
<li> NTLM relay </li>
<li>  NTLM relay    —   SMB</li>
<li>     </li>
<li>  ,     (ARP-spoofing,  DNS   ) </li>
</ul><br>
</blockquote></div></div><br>
<hr><br>
<h1><strong><font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8番。</font><font style="vertical-align: inherit;">SSHピボットトリック</font></font></font></strong></h1><br>
<img src="https://habrastorage.org/webt/ui/gy/a1/uigya1oqcd1poeuc6whph79ehzw.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ネットワークA（10.0.10.0/24）上にあり、ネットワークB（10.0.20.0/24）上のLinuxホスト（10.0.20.5）にSSHでアクセスできました。</font><font style="vertical-align: inherit;">ただし、ネットワークBへのフルアクセス権がないことがわかりました。Linuxホストに追加のスクリプト/ユーティリティ/プログラムをインストールせずにネットワークBをスキャンする方法を考えて詳細に説明してください。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ジョブ解析</font></font></b><div class="spoiler_text">,    ,   :<br>
  <br>
nmap     <br>
<br>
   ? <br>
<br>
: <br>
<br>
1)  ping. <br>
 -&gt; ping -b 10.0.20.255<br>
 ping  ,     ,    .<br>
   ,               . <br>
          .<br>
,     CentOS 7.<br>
       .<br>
<br>
<img src="https://habrastorage.org/webt/7y/vu/rn/7yvurntbjwgei1q8rr6yth0kjww.png"><br>
<i>(  )</i><br>
<br>
   ,           . :(<br>
<br>
<img src="https://habrastorage.org/webt/nd/r1/jc/ndr1jchof8-_rzbgh-ru1xg7vh0.png"><br>
<br>
2)   ARP-  .<br>
 -&gt; <br>
 Debian — arp-scan --interface=/* */ 10.0.0.0/16<br>
 Linux      arp,    ( Debian) -   ,      arp-scan.<br>
arp-scan,   ,      ,    .<br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KryaKrya専門家のコメント：</font></font></b><div class="spoiler_text"><blockquote>      ,           ,  ,      Pivoting.      ,      ,   ,          ,      ,          .<br>
<br>
,       ping    ,  ARP- (arp -a),    (route).   ,     netcat (nc -h),  ,      (nc -vnz 10.0.20.3 0-1000).    ,      ,        , , ,   ,   -     bash,   python      .<br>
<br>
    —    SSH-,   SOCKS-  SSH,          . <br>
ssh -D 1337 user@10.0.20.5 -f -N<br>
<br>
           .     nmap  SOCKS-   proxychains    .<br>
<br>
proxychains nmap 10.0.20.0/24<br>
nmap 10.0.20.0/24 --proxy socks4://10.0.20.5:1337<br>
<br>
    nmap       - SOCKS-.     SYN- ( nmap    )  SOCKS-,  SOCKS-    TCP-   ,  SYN-      ,    SYN,    SYN ACK.      CONNECT- (-sT),  nmap      SOCKS-. <br>
<br>
nmap -sT 10.0.20.0/24 --proxy socks4://10.0.20.5:1337<br>
<br>
,    -  ,         ,        . ,       Linux-,   nmap  -sT  ,     ,     ,      ,    ,    ,        .<br>
</blockquote></div></div><br>
<hr><br>
<h1><strong><font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9番。</font><font style="vertical-align: inherit;">Android SSLピン留めバイパス</font></font></font></strong></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Android向けのモバイルアプリケーションを検討しています。</font><font style="vertical-align: inherit;">アプリケーションが安全なHTTPSプロトコルを介してリクエストを送信することがわかりました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1）保護をバイパスして、保護されていないHTTPトラフィックを取得する方法を説明してください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2）アプリケーションでSSLピニングが有効になっている場合、何が変更されますか。この場合、どのようにして保護を回避できますか？</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ジョブ解析</font></font></b><div class="spoiler_text">«,           HTTP-.»<br>
<br>
       .<br>
       proxy host   wifi. <br>
<br>
 Android     ,  ,      . <br>
<br>
 —    (  )   —   ( ,  ).<br>
 ,      MITM,   Android 6.0,      ,     .<br>
<br>
      6.0,         .<br>
<br>
« ,      SSL-pinning,        ?»<br>
<br>
 ,    SSL-pinning.<br>
<br>
SSL-pinning —   ,    ,   «»      . <br>
<br>
       HTTPS-,   ,  «».      ,       . <br>
<br>
  ,      MITM-,    . <br>
<br>
  ,      ,     ,       .<br>
<br>
  —  Frida.<br>
Frida —    Dinamic Instrumentation Toolkit,    ,         .<br>
, Frida        Javascript.<br>
      Frida     ,    , ,  «True»  «False»,     .<br>
<br>
    Frida:<br>
<br>
1.      ,      .      -.<br>
<br>
2.      Frida.        Root.<br>
<br>
     .<br>
 APK-           .  ,       ,      .<br>
     .     apk  META-INF    .<br>
<br>
“” APK-.<br>
      APK   smali   Java,     ,     . <br>
    ,    ,     .<br>
<br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私がコメントする専門家：</font></font></b><div class="spoiler_text"><blockquote>,     MITM HTTPS       . <br>
<br>
     ,       Proxy   WiFi.      ProxyDroid,    iptables  . <br>
<br>
,      Root ,         , ?<br>
<br>
   SSL-Pinning,    , ,  “Frida+Objection”. ,           :)<br>
</blockquote></div></div><br>
<hr><br>
<h1><strong><font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10番。</font><font style="vertical-align: inherit;">あなたの好きな攻撃は何ですか？</font></font></font></strong></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最近学んだ最も興味深い攻撃手法または公開されている脆弱性について教えてください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「フリーフォーマット」での唯一の仕事。最近気に入った攻撃はdns-rebindingです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これですべてです。ご清聴ありがとうございました！</font></font><br>
<br>
<hr><br>
<b><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Digital Security</font></font></a></b><font style="vertical-align: inherit;"><b><font style="vertical-align: inherit;">からの閉会の挨拶</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ここで、ベールを少し開いて、彼らを評価するプロセスがどのように進んだかを見てみましょう。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
各回答は、少なくとも3人のスペシャリストによって個別に評価されました（監査からの空き時間を何とか楽しんでいる必要があります）。許容可能な評価の範囲は0〜5ポイントで、少なくとも2.5を設定でき、必要に応じて3.1337を設定することもできます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その結果、推定値は平均化され、合計されます。したがって、最大値は50ポイントを獲得できます。私たちの専門家は、できる限り忠実であり、次の候補者が「</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フォームコードのハッキング</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」またはそのような何か</font><font style="vertical-align: inherit;">について何を考えているかを理解しようとしまし</font><font style="vertical-align: inherit;">た）</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
応募締め切り後に合格点を設定します。今年は29ポイントを獲得し、最高の結果は43.5でした。その結果、応募者の約24％がインターンシップに参加しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
統計は次のとおりです。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fn/iq/fb/fniqfb7brnsnuqx08am8vx7xmtq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、これらの幸運な人にとっては、単純に終了しませんでした。それは、対面インタビューが行われるためです。そこで、私たちは彼らにアンケートで気に入った点、最も難しい質問、完了までにかかった時間を尋ねました。 。このように、私たちは誰も男性をアンケートで助けなかったと確信し、彼らはそれを自分で記入しました。同時に、私たちは次の年に役立つフィードバックを受け取りました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そのようなシステムは不当に複雑に思えるかもしれませんが、残念ながら私たちは誰もを受け入れるわけにはいかず、最もモチベーションの高い人たちと知識を共有したいと考えています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ちなみに、注目に値することですが、毎年、期末にアプリケーションの急増が見られます</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wn/z_/p9/wnz_p90qafczlytjrpuddurwkbc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。私たちの側では、さまざまな講義（ほぼ毎日！）を行っています。実践的なスキルを磨き、「ハッカーの本能」を訓練できるスペシャリスト。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
インターンシップの主な職種は、セキュリティの興味深い重要な側面の経験豊富なキュレーターとの共同研究です。これは、新しいテクノロジーの脆弱性であれ、セキュリティ分析の実施における既存の困難を解決できるツールであれ、です。</font><font style="vertical-align: inherit;">ただし、これについてはSummer of Hack 2019の終わりに資料で詳しく説明します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
結論として、2年目はこのようなシステムの使用を選択しており、その効果はますます確信していると言いたいです。</font><font style="vertical-align: inherit;">それを利用して、強力な研修生を選び、学生と卒業生の平均的な知識レベルに関する情報を得ることができます。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja461067/index.html">2019年に準備する必要がある就職の面接の上位65のSQL質問。パートI</a></li>
<li><a href="../ja461069/index.html">Nobelic Outdoor IP Cameras：Ivideonビデオ監視システムのテスト、テクノロジー、機能</a></li>
<li><a href="../ja461071/index.html">ビルダー向けのB2Bサービスの例でのデータベースクエリの最適化</a></li>
<li><a href="../ja461073/index.html">オンライン地図をスマートフォンのナビゲーターに接続します。パート3-OverpassTurbo</a></li>
<li><a href="../ja461075/index.html">ビジネス分析。ITオブジェクト、コンポーネント、ツール</a></li>
<li><a href="../ja461079/index.html">渋滞のない都市</a></li>
<li><a href="../ja461081/index.html">ドードーが止まった日。非同期スクリプト</a></li>
<li><a href="../ja461083/index.html">クライアント/サーバーユーティリティWindowsの機能を備えたソフトウェアの作成、パート02</a></li>
<li><a href="../ja461085/index.html">Androidアプリケーションで言語を切り替える</a></li>
<li><a href="../ja461087/index.html">ゲーム用のダンジョンと洞窟を生成する</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>