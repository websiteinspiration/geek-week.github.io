<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏼‍💼 🧛 🚥 逐步将TypeScript引入您的React项目 👨🏿‍🚀 ⚡️ 🖐🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="哈Ha！
 
 最近，在前端领域，React + TypeScript的组合变得特别流行。因此，从JavaScript到TypeScript的有效迁移的相关性正在增加，最好是在短时间内。今天，我们想与您讨论这个话题。
 
 
 
 如何安全地构建React TypeScript组件并将其注入到Rea...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>逐步将TypeScript引入您的React项目</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/504384/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">哈Ha！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最近，在前端领域，React + TypeScript的组合变得特别流行。</font><font style="vertical-align: inherit;">因此，从JavaScript到TypeScript的有效迁移的相关性正在增加，最好是在短时间内。</font><font style="vertical-align: inherit;">今天，我们想与您讨论这个话题。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ob/0p/2g/ob0p2gizhv0uq6lpukyxjyg4gye.jpeg"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如何安全地构建React TypeScript组件并将其注入到React JS项目中。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
为什么需要从JS迁移到TS？</font><font style="vertical-align: inherit;">可能有很多原因，但这不是重点。</font><font style="vertical-align: inherit;">（假设的）事实是这样的：您需要开始使用TypeScript，并且需要一种简单的方法在项目中实现它。</font><font style="vertical-align: inherit;">而且，所有这些都需要以某种方式完成，而不会违反所有可用代码的结构，并说服团队进行此类转换。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在这里，我们将演示一个逐步重构：</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何将React组件嵌入另一个代码库，然后使用Bit安全地将它们输入到现有的React JavaScript应用程序中</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用Bit将TS组件安全地嵌入到JS项目中</font></font></h4><br>
<img src="https://habrastorage.org/webt/-m/ew/xu/-mewxuart0vwekxdx8emsordwfu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
有许多方法可以从React JS升级到React TS。本文的实质是说明如何逐步完成此操作。在其他情况下也可以使用类似的方法。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
基本思想是利用Bit充分利用React +组件，以在自己的Bit开发环境中将它们彼此隔离。在一起，这使您可以组装TS组件并将其安全地注入功能齐全的React JS应用程序中。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">位</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是用于从Git存储库中提取组件的开源工具。</font><font style="vertical-align: inherit;">Bit允许您在用JS编写的项目之外构建TS组件，为每个独立的隔离开发环境分配资源，该环境可以在其他项目中工作，而不论其配置如何。</font><font style="vertical-align: inherit;">然后，您只需将这些组件版本化并“位导入”到您的JS项目中，它们就会起作用。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
除了Bit之外，还有</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bit.dev</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它是</font><font style="vertical-align: inherit;">一个远程中心，您可以在其中存储这些组件，然后再使用它们。</font><font style="vertical-align: inherit;">我们将TS组件保留在Bit.dev中，然后从那里开始将它们引入我们的React JS项目中。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fp/eo/t0/fpeot07yiiql3rzhh5lntqafd-m.gif"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">示例：在bit.dev中搜索React共享组件</font></font></i><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用范例</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
出于本文的目的，我们将分析一个示例，该示例在前端世界中可以与经典的“ hello world”相媲美：我们将讨论一个用于规划案例的应用程序。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
不用担心，我不会告诉您如何为React编写这样的应用程序。我想您已经知道如何执行此操作，并且说实话，该主题还很新，因此请驳回。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
但我将以该应用程序为例-您可以正确地分叉它，或者至少打开一个链接并查看其所有代码。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/-m/wf/mg/-mwfmgs_4e5lzdegiy0ewoppk0g.png"><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/deleteman/react-todo-demo</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
该代码库包含以下组件：</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TodoList</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：这是主要组成部分，使用通常的按钮以文本输入字段的形式显示。</font><font style="vertical-align: inherit;">在发送完所有内容后，所有内容均以表格形式发送，并将文本添加到主应用程序支持的列表中。</font><font style="vertical-align: inherit;">该组件的代码非常简单：</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> React, { Component } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span><font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TodoList</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{<font></font>
  render() {<font></font>
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"todoListMain"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"header"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">{this.props.addItem}</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Task"</span>
            <span class="hljs-attr">ref</span>=<span class="hljs-string">{this.props.inputElement}</span>
            <span class="hljs-attr">value</span>=<span class="hljs-string">{this.props.currentItem.text}</span>
            <span class="hljs-attr">onChange</span>=<span class="hljs-string">{this.props.handleInput}</span>
             /&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span> Add Task <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><font></font>
    )<font></font>
  }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> TodoList</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TodoItems</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：一个非常简单的列表组件，用于显示通过上一个组件添加的项目的内部列表。</font><font style="vertical-align: inherit;">每个元素都是可单击的，并且在单击之后将其从列表中删除。</font><font style="vertical-align: inherit;">代码也很简单：</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> React, { Component } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span><font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TodoItems</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{<font></font>
<font></font>
  createTasks(item) {<font></font>
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{item.key}</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> this.props.deleteItem(item.key)}&gt;{item.text}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><font></font>
  }<font></font>
<font></font>
  render() {<font></font>
    <span class="hljs-keyword">const</span> todoEntries = <span class="hljs-keyword">this</span>.props.entries || []  
    <span class="hljs-keyword">const</span> listItems = todoEntries.map(<span class="hljs-keyword">this</span>.createTasks.bind(<span class="hljs-keyword">this</span>))    <font></font>
<font></font>
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"theList"</span>&gt;</span>{listItems}<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><font></font>
  }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> TodoItems</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在这两种情况下，相应的方法都被接受为来自应用程序主要组件的属性（道具）。</font><font style="vertical-align: inherit;">此处提供了此组件的完整代码。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我同意这个应用程序非常简单，但是我再次强调，您可能正在使用任何当前正在使用的React应用程序-突然您得到了开始迁移到TypeScript的任务。</font><font style="vertical-align: inherit;">该怎么办？</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项＃1：擦干眼泪后，您便开始重写源代码的整个基础。 </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项＃2：将所有.js文件重命名为.ts，在组装过程中配置必要的步骤，然后洗手。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项3：您认为现在是时候逐步迁移所有旧代码，并直接在TypeScript上编写所有新代码了。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我想更详细地讨论选项3，但是，原则上，我不会拒绝您，在同一应用程序中，您可以共存用纯JavaScript和TypeScript编写的组件。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输入打字稿</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
因此，作为示例，假设我们的任务是向待办事项列表中的每个组件添加一个切换按钮。</font><font style="vertical-align: inherit;">单击一个项目后，必须在后台将其切换。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
没什么超自然的，但是如您所记得，在这种情况下，我们对过程感兴趣，而不是对代码感兴趣。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
因此，我们不会尝试将TypeScript添加到您的自定义项目中，以免将您现有的程序集意外地破坏成几天，而是使用纯TypeScript创建一个全新的项目：</font></font><br>
<br>
<pre><code class="plaintext hljs">$ npx create-react-app ts-components --template typescript</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
请注意：要使用npx，您仅需要新版本的NPM，并且它包含在</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.2.0</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">及更高</font><font style="vertical-align: inherit;">版本的安装过程中</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
和以前一样，在这种情况下，为项目创建了一个模板，但是这次我们使用TypeScript作为基本语言。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
另外，它是一个简单的开关组件，适合插入另一个项目，而无需引入其他依赖项。如果您对如何执行此操作感到好奇，请阅读下一篇有关如何编写</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可重用组件的文章</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> React, {useState} <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;<font></font>
<font></font>
interface IActionProps {<font></font>
	<span class="hljs-attr">action</span>: <span class="hljs-function">(<span class="hljs-params">status:boolean</span>) =&gt;</span> <span class="hljs-keyword">void</span>,<font></font>
	buttonText?: string<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">const</span> Toggle = <span class="hljs-function">(<span class="hljs-params">{action, buttonText=<span class="hljs-string">"Toggle"</span>}: IActionProps</span>) =&gt;</span> {
	<span class="hljs-keyword">const</span> [isSelected, setSelected] = useState(<span class="hljs-literal">false</span>)
	<span class="hljs-keyword">return</span> (
		<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> {
		setSelected(!isSelected)
		action(isSelected)
		}} &gt;{buttonText}<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><font></font>
	)	<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> Toggle</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在已经编写了该组件，您可以使用Bit（这是一个用于版本化和发布单个组件的开源工具）提取该特定组件并共享它，以便以后可以从基于JavaScript的项目中导入它。</font></font><br>
<br>
<pre><code class="plaintext hljs">//  Bit        <font></font>
$ yarn global add bit-bin<font></font>
$ bit init --package-manager yarn//    ( ,       bit.dev)<font></font>
$ bit login//   <font></font>
$ bit add src/components/Toggle.tsx //   (    env)<font></font>
$ bit import bit.envs/compilers/react-typescript --compiler//   <font></font>
$ bit tag –all</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
因此，您可以配置项目并在其中配置新的Toggle组件（开关），以便可以与其他项目共享。但是，在实际操作中，您需要登录到Bit.dev（这是一个组件中心-一个带有注册表和文档的网站，该网站补充了Bit作为发布和预览组件的平台）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
登录后，只需创建一个名为“ toggler”的新集合，将其公开，然后在终端窗口中运行以下命令：</font></font><br>
<br>
<pre><code class="plaintext hljs">$ bit export user-name.toggler</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果“用户名”确实是您的用户名，那么该组件将作为结果导出，您可以在Bit.dev上看到它。它看起来应该像这样：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xw/yd/3x/xwyd3xkdwa-irkryeb4b-pmohwk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意，默认情况下，程序如何创建一个示例文件</font></font><code>index.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来测试组件。同时，默认情况下写入此文件的内容可能并不理想，因此该平台可以轻松地向其中添加其他代码，以便其他人可以了解如何在其代码中使用您的公共组件。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
例如，在这里我更新了示例文件，添加了有关如何使用</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Toggler</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组件的说明</font><font style="vertical-align: inherit;">（完成后，请记住要单击“保存”按钮！）：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/tu/jp/uk/tujpukgiq2wyx8f3zuu95kvndog.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在让我们看一下如何将这个新组件导入到您自己的基于JS的React应用程序中。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">导入外部组件</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
由于我们添加了编译器，Bit负责在JavaScript中编译您的TypeScript代码。</font><font style="vertical-align: inherit;">这解决了我们所有的问题，剩下的就是将这个组件作为依赖项添加到您的项目中。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
出于所有目的，我在这里使用了Yarn，但是您可以成功使用NPM，这是您所需的全部：</font></font><br>
<br>
<pre><code class="plaintext hljs">$ yarn add @bit/your-username.your-collection.your-component</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
就我而言，这段代码变成了：</font></font><br>
<br>
<pre><code class="plaintext hljs">$ yarn add @bit/deleteman.toggler.toggle</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
请注意：</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果不登录，将无法安装组件</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（还记得</font></font><code>$ bit login</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本指南中</font><font style="vertical-align: inherit;">有关该部分的内容</font><font style="vertical-align: inherit;">吗？）。</font><font style="vertical-align: inherit;">如果您想从Bit注册表中安装组件，则需要手动配置注册表，如下所示：</font></font><br>
<br>
<pre><code class="plaintext hljs">$ npm config set '@bit:registry' https://node.bit.dev</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
因此，您的TypeScript组件（已经用JavaScript编译）将包含在项目中，并且您可以如下引用其代码的该组件：</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> React, { Component, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> Toggle <span class="hljs-keyword">from</span> <span class="hljs-string">'@bit/deleteman.toggler.toggle'</span>;<font></font>
<font></font>
<font></font>
<span class="hljs-keyword">const</span> TodoItem = <span class="hljs-function">(<span class="hljs-params">{text, itemKey}</span>) =&gt;</span> {<font></font>
<font></font>
 	<span class="hljs-keyword">const</span> [iClass, setIClass] = useState(<span class="hljs-string">"white"</span>)<font></font>
<font></font>
  	<span class="hljs-keyword">const</span> toggleBackground = <span class="hljs-function"><span class="hljs-params">status</span> =&gt;</span> {<font></font>
  		setIClass(status ? <span class="hljs-string">"white"</span> : <span class="hljs-string">"black"</span>)<font></font>
  	}<font></font>
<font></font>
  	<span class="hljs-keyword">const</span> toggleProps = {
  		<span class="hljs-attr">action</span>: toggleBackground,
  		<span class="hljs-attr">buttonText</span>: <span class="hljs-string">"Select"</span><font></font>
  	}<font></font>
<font></font>
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{iClass}</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{itemKey}</span> &gt;</span>{text}<span class="hljs-tag">&lt;<span class="hljs-name">Toggle</span> {<span class="hljs-attr">...toggleProps</span>}/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> TodoItem</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
请注意第2行，在这里导入要用作return语句一部分的外部组件。</font><font style="vertical-align: inherit;">没什么复杂的，您的项目或其他任何地方都不需要其他配置更改。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
恭喜，现在您有一个同时使用TypeScript和JavaScript的工作项目，您有可能这样做，以至于您根本不会注意到它！</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如上所述，</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完整的项目代码已发布在GitHub上</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">！</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结论</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果您有兴趣迁移到TypeScript，或者只是想尝试一下它，看看它是如何工作的，那么这是将语言逐步引入现有项目中的便捷方式，而无需冒着降低整个汇编过程的风险。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意Bit并查看Bit.dev，同时查找其他用JavaScript和TypeScript编写的组件，以了解其他人如何编写它们！</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN504358/index.html">PuppetConf2016。面向系统管理员的Kubernetes。第2部分</a></li>
<li><a href="../zh-CN504362/index.html">在Google Colab中快速加载大量数据</a></li>
<li><a href="../zh-CN504370/index.html">Office 365和Microsoft团队-协作的便利性以及对安全性的影响</a></li>
<li><a href="../zh-CN504374/index.html">简单的图形遍历：以JavaScript为例的深度和广度优先搜索</a></li>
<li><a href="../zh-CN504382/index.html">我（博士神经生物学）如何在6个月内成为数据科学家</a></li>
<li><a href="../zh-CN504386/index.html">Vassbotn H.类虚拟变量</a></li>
<li><a href="../zh-CN504392/index.html">您需要多少个程序员和单词才能识别手写护照？</a></li>
<li><a href="../zh-CN504400/index.html">正在缓存。第2部分：发布前60天</a></li>
<li><a href="../zh-CN504402/index.html">5月29日Java摘要</a></li>
<li><a href="../zh-CN504408/index.html">用于UI自动测试的selenide上的简单便捷的测试框架模板</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>