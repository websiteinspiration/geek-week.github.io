<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíÖ üè≥Ô∏è‚Äçüåà üíÖüèª Desfoque da imagem de fundo do Unity üí¢ üë®üèø‚Äçüíª ‚ÜïÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Uma das tarefas que um desenvolvedor de aplicativos Unity pode encontrar √© colocar a imagem atual em segundo plano para chamar a aten√ß√£o do usu√°rio pa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Desfoque da imagem de fundo do Unity</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/493452/"><img src="https://habrastorage.org/webt/jb/sq/go/jbsqgovdy74rajkik0r_o24tre8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Uma das tarefas que um desenvolvedor de aplicativos Unity pode encontrar √© colocar a imagem atual em segundo plano para chamar a aten√ß√£o do usu√°rio para algo novo, como um menu ou mensagem que aparece. O artigo fala sobre a experi√™ncia de resolver esse problema por um desenvolvedor que possui conhecimentos b√°sicos no Unity, sem usar recursos externos ou uma licen√ßa adicional do Unity. Espero que este material seja √∫til para aqueles que enfrentaram um problema semelhante e n√£o encontraram solu√ß√µes eficazes em diferentes est√°gios do mesmo.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Destacar elementos importantes da interface (e remover elementos desnecess√°rios) √© uma das principais ferramentas para melhorar a experi√™ncia do usu√°rio. Isso √© especialmente pronunciado ao trabalhar com aplicativos m√≥veis. Essa troca de aten√ß√£o pode ser feita de diferentes maneiras - afastando suavemente os bot√µes al√©m das bordas da tela, escurecendo o fundo, o comportamento din√¢mico, etc. Isso inclui desfocar a imagem. Esse efeito, por um lado, reduz o contraste dos elementos do plano de fundo e fica mais dif√≠cil para os olhos perceberem. Por outro lado, o desfoque tem um efeito subconsciente quando a imagem fica desfocada, e a percebemos de maneira diferente. Essa abordagem √© freq√ºentemente usada em jogos e, a partir de exemplos conhecidos de jogos no Unity, podemos nomear os momentos em que escolhemos o menu de miss√µes de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hearthstone</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou em</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tela de conclus√£o do duelo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora imagine que queremos fazer o mesmo ou semelhante em nosso aplicativo favorito. </font><font style="vertical-align: inherit;">Tamb√©m n√£o temos or√ßamento e pouca experi√™ncia com o Unity.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parte Um - Shader</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O primeiro pensamento que surgiu foi que tudo j√° deveria ser realizado. </font><font style="vertical-align: inherit;">Certamente usando um shader. </font><font style="vertical-align: inherit;">E certamente deve estar na caixa Unity. </font><font style="vertical-align: inherit;">Uma tentativa r√°pida de pesquisa e instala√ß√£o mostrou que existe um sombreador no Unity, mas, como se v√™, ele faz parte do Standard Assets e n√£o est√° dispon√≠vel para uma licen√ßa gratuita. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas isso √© borr√£o! </font><font style="vertical-align: inherit;">Um efeito b√°sico que √© matematicamente simples e tamb√©m deve ser facilmente implementado e integrado ao projeto. </font><font style="vertical-align: inherit;">Mesmo se n√£o soubermos nada sobre shaders. </font><font style="vertical-align: inherit;">Em seguida, acesse a Internet e a pesquisa mostrou rapidamente que existem c√≥digos-fonte de shaders prontos para o efeito e at√© diferentes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para a primeira implementa√ß√£o, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">esse shader</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> foi utilizado </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Para test√°-lo, basta adicionar o sombreador como um arquivo de origem ao projeto, associ√°-lo ao material, vincular o material √† imagem.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parte Dois - Interface do Usu√°rio</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se nos preocupamos com o usu√°rio do aplicativo, √© necess√°rio prestar a devida aten√ß√£o √† interface do usu√°rio. Se voc√™ apenas adicionar um efeito de desfoque ao fundo e esquec√™-lo, isso nem tudo ser√° consistente com os princ√≠pios internos da cria√ß√£o de um produto.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como resultado, para a√ß√µes posteriores, voc√™ precisa tocar no que aconteceu e, em seguida, pensar e ajustar de forma a causar a percep√ß√£o necess√°ria do usu√°rio. Este ponto √© altamente sens√≠vel ao contexto. Dependendo do contraste da imagem, a variedade de cores e outros fatores, v√°rios valores e ferramentas adicionais podem ser selecionados. No nosso caso, nesse est√°gio, foi obtido um bom resultado com um raio de desfoque de 25 (par√¢metro shader) e um Transparente adicional de 70% (fora do shader atrav√©s de uma imagem separada). No entanto, esta √© apenas a imagem de fundo final. A transi√ß√£o em si, de acordo com os sentimentos no telefone, foi muito acentuada.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O sombreador instalado na imagem √© calculado em cada quadro e, portanto, para fazer uma altern√¢ncia suave, basta alterar dinamicamente o par√¢metro do raio de desfoque e a transpar√™ncia. </font><font style="vertical-align: inherit;">Voc√™ pode organizar isso de maneiras diferentes, mas, em ess√™ncia, o processamento √© uma atualiza√ß√£o nos manipuladores de atualiza√ß√µes, dependendo do hor√°rio. </font><font style="vertical-align: inherit;">A transi√ß√£o em si na vers√£o final do aplicativo √© de 0,2 segundos, mas, como se v√™, √© importante para a percep√ß√£o do usu√°rio.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parte Tr√™s - Produtividade</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nos √∫ltimos meses, ouvi reclama√ß√µes de v√°rios usu√°rios diferentes (nem mesmo de programadores) de que os programas de jogos costumam usar todos os recursos de computador dispon√≠veis ociosos e sem freios. Por exemplo, isso pode ser expresso no uso m√°ximo da placa de v√≠deo no caso de um programa minimizado na bandeja ou independentemente de tudo e do carregamento constante de um segmento do processador. As raz√µes para isso s√£o intuitivas - a renda do desenvolvedor ou editor n√£o depende da otimiza√ß√£o (as pessoas n√£o prestam aten√ß√£o a essas coisas ao comprar), e os desenvolvedores comuns provavelmente est√£o mais preocupados com os KPIs locais e com a necessidade de atraso. No entanto, na pr√°tica, eu n√£o gostaria de entrar nessa categoria.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois de concluir o est√°gio anterior no pr√≥ximo lan√ßamento com um efeito de desfoque de fundo, depois de segurar o telefone na m√£o por algum tempo, surgiu uma sensa√ß√£o de aquecimento. Se voc√™ passa mais tempo no menu, tudo fica muito pior. E mesmo que o usu√°rio no menu presumivelmente e provavelmente n√£o gaste muito tempo, eu n√£o gostaria de deixar a bateria cair. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A an√°lise mostrou que o sombreador escolhido acima tem complexidade assint√≥tica </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O (r </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ),</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dependendo do raio selecionado. Em outras palavras, o n√∫mero de c√°lculos por ponto se torna 625 vezes maior se voc√™ aumentar o raio de desfoque de 1 para 25. Nesse caso, os c√°lculos ocorrem em cada quadro.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O primeiro passo na solu√ß√£o foi a ideia de que nem todos os sombreadores s√£o igualmente √∫teis e o efeito de desfoque pode ser implementado de diferentes maneiras. Para fazer isso, voc√™ pode fazer um desfoque separado, cuja ess√™ncia √© desfocar primeiro apenas as linhas horizontalmente e depois apenas as linhas verticalmente. Como resultado, obtemos </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O (r)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e ceteris paribus, a complexidade cai em uma ordem de magnitude. Uma maneira adicional seria usar um mipmap menor, que j√° ocupa parte do trabalho de desfoque. </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">Esse shader</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
foi tomado como base</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">No entanto, seu efeito de desfoque acabou sendo insuficiente e, com alto contraste do gr√°fico, a imagem ficou "lascada". </font><font style="vertical-align: inherit;">Para obter melhores efeitos, a distribui√ß√£o foi alterada (elementos GRABPIXEL). </font><font style="vertical-align: inherit;">Se no sombreador, de 0,18 a 0,05, raio 4, em nossa vers√£o, de 0,14 a 0,03, raio 6 (ess, mas a soma de todos deve ser 1). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Assim, a complexidade do processamento foi reduzida em 1-2 ordens de magnitude. </font><font style="vertical-align: inherit;">Mas isso n√£o √© necess√°rio parar.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parte Quatro - Fundo Est√°tico</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No entanto, se deixarmos o sombreador na imagem existente, ela estar√° constantemente em funcionamento, fazendo os mesmos c√°lculos em cada quadro. </font><font style="vertical-align: inherit;">Se algo acontecer em segundo plano, precisamos fazer isso. </font><font style="vertical-align: inherit;">Mas isso √© completamente opcional se o fundo for est√°tico. </font><font style="vertical-align: inherit;">Assim, ap√≥s o desfoque din√¢mico, voc√™ pode se lembrar do resultado, coloc√°-lo no fundo e desligar o sombreador. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, vamos tentar com trechos de c√≥digo. </font><font style="vertical-align: inherit;">A prepara√ß√£o da textura de destino para a tela inteira pode ficar assim:</font></font><br>
<br>
<pre><code class="cs hljs">_width = Screen.width / <span class="hljs-number">2</span>;<font></font>
_height = Screen.height / <span class="hljs-number">2</span>;<font></font>
_texture = <span class="hljs-keyword">new</span> Texture2D(_width, _height);<font></font>
<font></font>
<span class="hljs-keyword">var</span> fillColor = Color.white;
<span class="hljs-keyword">var</span> fillColorArray = _texture.GetPixels();
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; fillColorArray.Length; ++i)<font></font>
{<font></font>
	fillColorArray[i] = fillColor;<font></font>
}<font></font>
_texture.SetPixels(fillColorArray);<font></font>
_texture.Apply();<font></font>
<font></font>
_from.GetComponent&lt;Image&gt;().sprite = Sprite.Create(_texture, <span class="hljs-keyword">new</span> Rect(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, _texture.width, _texture.height), <span class="hljs-keyword">new</span> Vector2(<span class="hljs-number">0.5f</span>, <span class="hljs-number">0.5f</span>));</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ou seja, aqui √© preparada uma textura 2 vezes menor horizontal e verticalmente da tela. </font><font style="vertical-align: inherit;">Isso pode ser feito quase sempre, pois sabemos que o tamanho da tela dos dispositivos √© m√∫ltiplo de 2 e, se feito, isso reduzir√° o tamanho da textura e facilitar√° a desfocagem.</font></font><br>
<br>
<pre><code class="cs hljs">RenderTexture temp = RenderTexture.GetTemporary(_width, _height);<font></font>
Graphics.Blit(_from_image.mainTexture, temp, _material);<font></font>
RenderTexture.active = temp;<font></font>
<font></font>
_texture.ReadPixels(<span class="hljs-keyword">new</span> Rect(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, temp.width, temp.height), <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-literal">false</span>);<font></font>
_texture.Apply();<font></font>
<font></font>
_to_image.sprite = Sprite.Create(_texture, <span class="hljs-keyword">new</span> Rect(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, _texture.width, _texture.height), <span class="hljs-keyword">new</span> Vector2(<span class="hljs-number">0.5f</span>, <span class="hljs-number">0.5f</span>));<font></font>
RenderTexture.ReleaseTemporary(temp);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para capturar uma imagem com mainTexture usando um sombreador (no _material) Graphics.Blit √© usado. Em seguida, memorizamos o resultado na textura preparada e o colocamos na imagem de destino. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tudo ficaria bem; na pr√°tica, ele se deparou com um efeito que, dependendo do dispositivo, a imagem de fundo fica de cabe√ßa para baixo. A raz√£o ap√≥s um estudo sobre o problema e a depura√ß√£o se torna clara - a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diferen√ßa nos sistemas de coordenadas</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Direct3D e OpenGL, que o Unity n√£o pode ocultar. Ao mesmo tempo, nosso shader detecta os UV e os processa corretamente, e a invers√£o j√° ocorre no ambiente Unity (ReadPixels). Existem muitas dicas na rede, como "se voc√™ virou de cabe√ßa para baixo, vire-se" ou "altere o sinal UV". O uso da macro UNITY_UV_STARTS_AT_TOP n√£o ajudou a obter uma boa generaliza√ß√£o para todos os dispositivos em teste. Al√©m disso, por exemplo, encontramos um caso como esse: se voc√™ preparar a montagem para emula√ß√£o no Xcode no iPhone e o Unity n√£o usar o Metal, mas apenas o OpenGLES, ser√° necess√°rio interceptar esses casos, como a emula√ß√£o de um dispositivo em execu√ß√£o em outro software. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois de experimentar v√°rias op√ß√µes, optei por dois tablets. O primeiro est√° </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">for√ßando a renderiza√ß√£o da c√¢mera</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(definindo forceIntoRenderTexture no momento da captura da imagem). </font><font style="vertical-align: inherit;">O segundo √© a determina√ß√£o do tipo de sistema gr√°fico em tempo real atrav√©s do SystemInfo.graphicsDeviceType, que permite definir como OpenGL ou Direct3D (o primeiro grupo √© OpenGLES2, OpenGLES3, OpenGLCore e Vulkan). </font><font style="vertical-align: inherit;">Al√©m disso, em nossa implementa√ß√£o para Direct3D-like, precisamos virar, o que √© feito processualmente (por exemplo, como </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">este</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclus√£o</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Espero que este artigo seja √∫til para algu√©m superar um rake desconhecido, melhorar a vida dos usu√°rios e entender o Unity. </font><font style="vertical-align: inherit;">Se voc√™ olhar para o efeito no uso do combate, ent√£o na Unidade parece que </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">isso</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Na aplica√ß√£o, as sensa√ß√µes s√£o um pouco diferentes, mas essa anima√ß√£o pode dar uma id√©ia suficiente.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt493442/index.html">Lembrete de EPI</a></li>
<li><a href="../pt493444/index.html">O projeto "Glass". Copos descart√°veis ‚Äã‚Äãde ch√° / caf√© de efici√™ncia energ√©tica</a></li>
<li><a href="../pt493446/index.html">Leitura de fim de semana: 10 hist√≥rias sonoras incomuns - de jogos com espi√µes e teorias da conspira√ß√£o a ASMR relaxante</a></li>
<li><a href="../pt493448/index.html">Roteamento eficiente por mola</a></li>
<li><a href="../pt493450/index.html">Como um investidor iniciante pode legalmente reduzir impostos: 4 m√©todos de trabalho</a></li>
<li><a href="../pt493458/index.html">Liberte seu Android - Alaverdi</a></li>
<li><a href="../pt493462/index.html">Banho ultrassonico. Parte 2</a></li>
<li><a href="../pt493468/index.html">N√£o tenha medo de respirar profundamente</a></li>
<li><a href="../pt493470/index.html">Cientistas encontram novos planetas pequenos fora de Netuno</a></li>
<li><a href="../pt493478/index.html">Corte a caixa - floresta do procedimento. Torrefa√ß√£o AS-REP, DCSync e ataques Pass-The-Hash</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>