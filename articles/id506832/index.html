<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙏🏼 🕖 😦 Berapa banyak instruksi prosesor yang digunakan kompiler? 🕶️ 👩🏽‍🍳 😩</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sebulan yang lalu, saya mencoba menghitung berapa banyak instruksi berbeda yang didukung oleh prosesor modern, dan menghitung 945 di Ice Lake. Komenta...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Berapa banyak instruksi prosesor yang digunakan kompiler?</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/506832/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sebulan yang lalu, saya </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mencoba menghitung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> berapa banyak instruksi berbeda yang didukung oleh prosesor modern, dan menghitung 945 di Ice Lake. Komentator </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mengajukan pertanyaan yang menarik</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : bagian mana dari semua keragaman ini yang sebenarnya digunakan oleh kompiler? Sebagai contoh, Pepijn de Vos tertentu pada tahun 2016 </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menghitung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> berapa banyak instruksi berbeda yang terlibat dalam binari di / usr / bin-nya, dan dihitung 411 - i.e. kira-kira sepertiga dari semua instruksi x86_64 yang ada pada waktu itu tidak digunakan dalam salah satu program standar di OS-nya. Temuan aneh lainnya adalah kode untuk x86_64 terdiri dari instruksi untuk yang ketiga </font></font><code>mov</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. (Secara umum, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=http://web.archive.org/web/20190331191157/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diketahui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bahwa instruksi saja sudah </font></font><code>mov</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cukup untuk menulis program apa pun.)</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya memutuskan untuk mengembangkan penelitian de Vos menggunakan kompiler LLVM / Dentang sebagai "kode referensi". </font><font style="vertical-align: inherit;">Ini memiliki beberapa keunggulan dibandingkan dengan isi / usr / bin dari versi OS yang tidak disebutkan namanya:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sangat nyaman untuk bekerja dengannya: ini adalah satu biner besar, yang ukurannya sebanding dengan semua isi / usr / bin Linux rata-rata;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ini memungkinkan Anda untuk membandingkan berbagai ISA: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rilis</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> resmi untuk x86, ARM, SPARC, MIPS, dan PowerPC tersedia </font><font style="vertical-align: inherit;">di </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">rilis.llvm.org/download.html</font></a><font style="vertical-align: inherit;"> ;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ini memungkinkan Anda untuk melacak tren historis: binari resmi tersedia untuk semua rilis sejak 2003;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Akhirnya, dalam studi tentang kompiler adalah logis untuk menggunakan kompiler sebagai objek eksperimental :-)</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya akan mulai dengan statistik untuk rilis LLVM 10.0 Maret:</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ADALAH</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ukuran biner</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ukuran bagian. Teks</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jumlah total instruksi</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jumlah instruksi berbeda</font></font></th>
</tr>
<tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AArch64</font></font></th>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;&nbsp;97 MB</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">74 MB</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13.814.975</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">195</font></font></td>
</tr>
<tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ARMv7A</font></font></th>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">101 MB</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">80 MB</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15.621.010</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">308</font></font></td>
</tr>
<tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i386</font></font></th>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">106 MB</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">88 MB</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.138.657</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">122</font></font></td>
</tr>
<tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PowerPC64LE</font></font></th>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">108 MB</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">89 MB</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17.208.502</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">288</font></font></td>
</tr>
<tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SPARCv9</font></font></th>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">129 MB</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">105 MB</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">19.993.362</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">122</font></font></td>
</tr>
<tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x86_64</font></font></th>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">107 MB</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">87 MB</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15.281.299</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">203</font></font></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dalam topik terakhir, komentator </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menyebutkan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bahwa mereka mendapatkan kode paling ringkas untuk SPARC. </font><font style="vertical-align: inherit;">Di sini kita melihat bahwa biner untuk AArch64 berukuran sepertiga lebih kecil dan dalam jumlah total instruksi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan di sini adalah distribusi sesuai dengan jumlah instruksi:</font></font><br>
<img src="https://habrastorage.org/webt/kh/ww/hm/khwwhmu8v3ybigswfc2qkw_h9wu.png" width="256"> <img src="https://habrastorage.org/webt/j9/sp/je/j9spjenramwfdy81yg1knir-vxa.png" width="256"> <img src="https://habrastorage.org/webt/98/x0/s1/98x0s1ug_plt-kum6z-pnequy3k.png" width="256"> <img src="https://habrastorage.org/webt/fm/uo/bu/fmuobun0f3s-ou6wq4qbsaht0yk.png" width="256"> <img src="https://habrastorage.org/webt/7v/6h/j1/7v6hj10_uzguo7gnlinmk8nqiaq.png" width="256"> <img src="https://habrastorage.org/webt/xg/xz/qu/xgxzquiy039jdtqw2u708x7be1k.png" width="256"><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tanpa diduga, kode 11% untuk SPARC terdiri dari </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">slot keterlambatan cabang</font></a></font><code>nop</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pengisian </font><font style="vertical-align: inherit;">. Untuk i386, di antara instruksi yang paling sering, kita melihat dan </font><font style="vertical-align: inherit;">, mengisi celah antara fungsi, dan </font><font style="vertical-align: inherit;">, digunakan untuk meluruskan loop pada garis cache. Pengamatan de Vos bahwa kode tersebut merupakan sepertiga terdiri dari </font><font style="vertical-align: inherit;">dikonfirmasi pada kedua varian x86; tetapi bahkan pada arsitektur toko beban </font><font style="vertical-align: inherit;">ternyata, jika bukan instruksi yang paling sering, maka yang kedua setelah beban. </font><font style="vertical-align: inherit;">
Bagaimana set instruksi yang digunakan berubah dari waktu ke waktu? </font><font style="vertical-align: inherit;">
Satu-satunya ISA yang setiap rilisnya memiliki biner resmi adalah i386:</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code>int3</code><font style="vertical-align: inherit;"></font><code>nop</code><font style="vertical-align: inherit;"></font><code>mov</code><font style="vertical-align: inherit;"></font><code>mov</code><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<img src="https://habrastorage.org/webt/jm/90/tp/jm90tpkyf7o9o9asxx6lkyedpvg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Garis abu-abu yang diletakkan pada sumbu kanan adalah jumlah instruksi berbeda yang digunakan dalam kompiler. Seperti yang bisa kita lihat, beberapa waktu lalu kompiler dikompilasi jauh lebih beragam. </font></font><code>int3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Itu digunakan untuk mengisi kesenjangan hanya pada tahun 2018; sebelumnya digunakan sama </font></font><code>nop</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">seperti untuk penyelarasan dalam fungsi. Di sini Anda dapat melihat bahwa fungsi penyelarasan di dalam telah digunakan sejak 2013; sebelum itu </font></font><code>nop</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ada jauh lebih sedikit. Sangat menarik juga bahwa hingga 2016 mereka </font></font><code>mov</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menyumbang hampir setengah dari kompiler. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Versi pertama LLVM, sebelum munculnya dentang, juga dirilis dengan binari untuk SPARC. Kemudian dukungan untuk SPARC kehilangan relevansinya, dan sekali lagi muncul hanya setelah 14 tahun - dengan urutan peningkatan jumlah </font></font><code>nop</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s:</font></font><br>
<img src="https://habrastorage.org/webt/yx/cb/ax/yxcbax8rti9hvxewftfrhy3casg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Secara historis, ISA berikutnya yang merilis biner LLVM adalah PowerPC: pertama untuk Mac OS X dan kemudian, setelah hiatus sepuluh tahun, untuk RHEL. Seperti yang dapat Anda lihat dari grafik, transisi setelah jeda ini ke versi 64-bit ISA disertai dengan mengganti mayoritas </font></font><code>lwz</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dengan </font></font><code>ld</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, dan selain menggandakan variasi instruksi: </font></font><br>
<img src="https://habrastorage.org/webt/3u/ry/is/3uryiswbi_mulnxmx-fhmd1dkeu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam binari untuk x86_64 dan ARM, frekuensi menggunakan instruksi yang berbeda hampir tidak berubah: </font></font><br>
<img src="https://habrastorage.org/webt/nw/-3/6t/nw-36tjm3kcixpao1e477xqss8o.png"><br>
<br>
<img src="https://habrastorage.org/webt/m9/6q/g_/m96qg_c_icdo7tfhkdortqzm708.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketika menghitung instruksi ARM, saya memotong </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sufiks kondisi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - bersama-sama dengan mereka, sekitar seribu instruksi berbeda diperoleh, tetapi bahkan tanpa mereka, ARM jauh di depan ISA lain dalam berbagai instruksi yang dihasilkan. Dengan demikian lapisan</font></font><code>b</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pada grafik ini termasuk semua cabang bersyarat juga. </font><font style="vertical-align: inherit;">Untuk sisa ISA, di mana hanya transisi dan beberapa instruksi lainnya dapat bersyarat, akhiran kondisi tidak terputus selama perhitungan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Akhirnya, ISA terbaru yang menerbitkan biner resmi adalah AArch64. </font><font style="vertical-align: inherit;">Yang menarik di sini adalah bahwa ia </font></font><code>orr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hampir tidak lagi digunakan sejak tahun lalu: </font></font><br>
<img src="https://habrastorage.org/webt/p3/t5/bn/p3t5bn-h4uc-ve0khw7pancivxu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PowerPC dan AArch64 ternyata menjadi satu-satunya ISA yang jumlah instruksi berbeda yang digunakan tumbuh dan berkembang.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id506814/index.html">Ulasan keren, non-tabung Audio-Technica AT-LPW40WN</a></li>
<li><a href="../id506816/index.html">Pengaturan perangkat Pembaruan dan pemantauan</a></li>
<li><a href="../id506826/index.html">Kami membuat spektrometer kilau diri dari ... sebuah radiometer</a></li>
<li><a href="../id506828/index.html">Cara membuat gambar generatif terlihat alami dengan algoritma matematika</a></li>
<li><a href="../id506830/index.html">Aplikasi Web: Kerangka yang Didukung Federasi Modul Front Mikro</a></li>
<li><a href="../id506834/index.html">"Program terakhir." Seri Web Inteligensi Buatan</a></li>
<li><a href="../id506838/index.html">Dari Lithuania ke New York: KGB Didedikasikan untuk Intelijen</a></li>
<li><a href="../id506842/index.html">RPA: proses pendaftaran faktur robot. Panduan paling komprehensif</a></li>
<li><a href="../id506848/index.html">Mengapa kami beralih ke $ SPINNED_TECHNOLOGY di $ FAMOUS_COMPANY</a></li>
<li><a href="../id506852/index.html">Bagaimana Signal crypto messenger berhasil menolak penyadapan oleh otoritas AS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>