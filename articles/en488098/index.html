<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🌮 👨🏼‍🤝‍👨🏻 💚 How to create a Django project from a template 🗯️ 🤘🏽 😈</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello again! Especially for students of the course "Web-developer in Python", we have prepared another interesting translation.
 
 
 
 
 A Django proj...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>How to create a Django project from a template</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/488098/"><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hello again! </font><font style="vertical-align: inherit;">Especially for students of the course </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Web-developer in Python",</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> we have prepared another interesting translation.</font></font></i></b><br>
<br>
<img src="https://habrastorage.org/webt/_c/dp/9z/_cdp9zo7tpy3bzjeh-cyrcscd6y.png"><br>
<hr><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A Django project template is a natural way to solve problems that arise when the default Django project format no longer meets the requirements. </font><font style="vertical-align: inherit;">Today in this guide you will learn how to create your own project from a template.</font></font><a name="habracut"></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">What is a project template in Django?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
One of the little-known features of Django is the ability to create a project from a template, that is, a custom directory structure. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is convenient when the default project format is no longer enough (and it will definitely not be enough when you want to deploy your solution on production, believe me), or when you reach the point where you will use the same configurations again and again for lots of projects on Django. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A Django project template is nothing more than a project with a predefined custom directory structure that you can create yourself in minutes. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
An example of the popular Django template is the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">django-cookiecutter</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Django cookiecutter</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It has a wide range of functions and configurations that are ready for self-sufficient deployment to production, this is the path that can be used to create almost any new project on Django. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
However, the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">django-cookiecutter is</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sometimes redundant, especially for beginners, so before using it, create a simpler Django template that can better help you understand the basics. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the following sections, you will learn how to create your own template.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How to create your own Django project template</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To get started, create a Python virtual environment in the selected folder and install Django (note that these are four separate commands):</font></font><br>
<br>
<pre><code class="django hljs"><span class="xml">mkdir project-name &amp;&amp; cd $_
python3 -m venv venv
source venv/bin/activate
pip install django</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Then create a Django project with: </font></font><br>
<br>
<pre><code class="django hljs"><span class="xml">django-admin startproject project_name .</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pay attention to the name, it should be exactly </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">project_name</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">After that, open the project in the editor. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
(Note that in our example, I used </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">project_name</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> for the folder and for the project name). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now you need to look at each file in the project and replace all </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">project_name</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> with </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{{project_name}}</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (a single-line sed command is fine). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Files you will need to modify:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">manage.py</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">settings.py</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wsgi.py</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">asgi.py</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As you might have guessed, the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{{project_name}}</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> variable </font><font style="vertical-align: inherit;">is a placeholder. </font><font style="vertical-align: inherit;">For example, in </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">manage.py</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> you will need to replace the following:</font></font><br>
<br>
<pre><code class="django hljs"><span class="xml"># manage.py

def main():
    os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'project_name.settings')
    try:
# omit</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
On this:</font></font><br>
<br>
<pre><code class="django hljs"><span class="xml"># manage.py

def main():
    os.environ.setdefault('DJANGO_SETTINGS_MODULE', '</span><span class="hljs-template-variable">{{ project_name }}</span><span class="xml">.settings')
    try:
# omit</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wsgi.py</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> you change this:</font></font><br>
<br>
<pre><code class="django hljs"><span class="xml">os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'project_name.settings')</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To the following:</font></font><br>
<br>
<pre><code class="django hljs"><span class="xml">os.environ.setdefault('DJANGO_SETTINGS_MODULE', '</span><span class="hljs-template-variable">{{ project_name }}</span><span class="xml">.settings')</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Etc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In addition, you can create any configuration you want, or even better, parse the Django settings into separate files for development, testing and production. </font><font style="vertical-align: inherit;">You will find an example </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Before proceeding to the next step, be sure to remove the virtual environment from the project template.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How to create a Django project from your own template</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now that you have the project template, you can use it. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To do this, create a new Python virtual environment in another folder and install Django:</font></font><br>
<br>
<pre><code class="django hljs"><span class="xml">mkdir new-django-project &amp;&amp; cd $_
python3 -m venv venv
source venv/bin/activate
pip install django</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now, instead of just executing </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">django-admin startproject</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , we will pass the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--template</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> flag </font><font style="vertical-align: inherit;">to install from our template. </font><font style="vertical-align: inherit;">Suppose if you created a template in your </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">~ / project-name</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> home directory </font><font style="vertical-align: inherit;">, you would do:</font></font><br>
<br>
<pre><code class="django hljs"><span class="xml">django-admin startproject --template ~/project-name new_django_project .</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This command will create a new Django project from the template. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
(Note that in this example, I used </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">new-django-project</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> as the external folder and </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">new_django_project</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> for the project name). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now you may wonder whether it is possible to use a remote template from the repository on GitHub, for example. </font><font style="vertical-align: inherit;">Yes of course!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How to create a Django project from a remote template</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--template</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> flag </font><font style="vertical-align: inherit;">for </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">startproject</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> can accept a URL as a remote source. </font><font style="vertical-align: inherit;">So you can create a Django project from a remote template, for example:</font></font><br>
<br>
<pre><code class="django hljs"><span class="xml">django-admin startproject --template https://github.com/username/repo/archive/master.zip new_django_project .</span></code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bonus: templates for everything</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In addition to standardizing files related to Django, you can do the same for any other file in the project. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Imagine you need to deploy to Heroku where a </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Procfile</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> is required </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">To pass </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Procfile</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> through the template system so that </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{{project_name}} is</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> replaced with the actual name of the project, you can run </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">startproject</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> with the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--name</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> flag </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<pre><code class="django hljs"><span class="xml">django-admin startproject --template https://github.com/username/repo/archive/master.zip --name=Procfile new_django_project .</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Make sure that </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Procfile</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> has a placeholder for </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">project_name</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="django hljs"><span class="xml">release: python manage.py migrate
web: gunicorn -w 3 </span><span class="hljs-template-variable">{{ project_name }}</span><span class="xml">.wsgi --log-file -</span></code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sources</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To create a sophisticated Django template, take a look at </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ponee</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , a lightweight Django template, ready for use with Heroku. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Here is such a small but interesting material. </font><font style="vertical-align: inherit;">We are waiting for your comments and are </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">invited to a free webinar</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , in the framework of which we will </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">learn in detail how to test projects on Flask, write and run tests for projects on Flask, create test data using Faker and Factory Boy.</font></font><br>
</i></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en488078/index.html">My bot for Russian AI Cup 2019</a></li>
<li><a href="../en488082/index.html">In a Nutshell: Async / Await Best Practices in .NET</a></li>
<li><a href="../en488088/index.html">How Habr interacts with state bodies and other applicants. Transparency report for all years</a></li>
<li><a href="../en488092/index.html">Hackathons. How to get the most out and survive</a></li>
<li><a href="../en488096/index.html">400g. View from the side of Transmission. ZR / ZR +</a></li>
<li><a href="../en488102/index.html">The relationship between C # and C #: REST, gRPC and everything in between</a></li>
<li><a href="../en488104/index.html">DBA: Find Useless Indexes</a></li>
<li><a href="../en488108/index.html">SAP HANA Lab in Azure</a></li>
<li><a href="../en488112/index.html">Understanding Iterators in Python</a></li>
<li><a href="../en488116/index.html">Five important lessons about game balance</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>