<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👌🏿 👈 ☝🏼 Dagaz: Eine Persistenzgeschichte 🎣 👩🏾‍🎓 🤱🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Jede ausreichend fortschrittliche Technologie ist von Magie nicht zu unterscheiden. 
 Arthur Clark 
  
 - Ich möchte kein Vergleich mehr sein ... Mach...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Dagaz: Eine Persistenzgeschichte</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/491296/"><img align="left" src="https://habrastorage.org/webt/4i/sc/k4/4isck4toxbws20hsk3nrqghdkoy.png"><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jede ausreichend fortschrittliche Technologie ist von Magie nicht zu unterscheiden. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Arthur Clark </font></font><br>
&nbsp;<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Ich möchte kein Vergleich mehr sein ... Mach mich zu einer Metapher. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
China Mieville Die</font></font></i></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Arbeit an einem großen</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Projekt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ähnelt dem</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> U-Bahn-Tauchen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Durch die Lösung bestimmter Probleme eröffnen wir neue Möglichkeiten. Mit der Zeit werden diese Möglichkeiten stärker, verbinden sich mit anderen Möglichkeiten und dies ermöglicht es uns, alte, viel wichtigere und komplexere Probleme auf eine neue, völlig unerwartete Weise zu lösen. Ich habe ein gutes Beispiel zu diesem Thema. Und ich möchte über ihn sprechen.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Common-Setup-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Modul wurde </font><font style="vertical-align: inherit;">als einfaches Debugging-Tool konzipiert. </font><font style="vertical-align: inherit;">Oft ist es sehr nützlich, zu einer bestimmten Position zurückkehren zu können, um das Problem zu lokalisieren. </font><font style="vertical-align: inherit;">Diese Anordnung der Figuren tritt jedoch flüchtig im Spiel auf, und ihre Restaurierung ist eine beträchtliche Arbeit wert. </font><font style="vertical-align: inherit;">Ich brauchte ein Tool, um diesen Prozess zu automatisieren, und ich habe es getan. </font><font style="vertical-align: inherit;">Tatsächlich kann ich jede Position leicht codieren, indem ich die Position der Teile auf der Tafel beschreibe:</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Setup = 0c3; 0a2; 0c2; 0d2; 1a1; 4b1; 5c1; 1d1; -1a4; 4b4; 5c4; 1d4; 0a3; 0d3; 0b2 ;; &amp; turn = 0</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dann kann ich diese Parameter zur URL hinzufügen, um die Position zu reproduzieren. Dies ist, was Common-Setup tut. Das Modul speichert die Beschreibung aller Zwischenpositionen im Protokoll und ermöglicht deren Reproduktion. Dies ist kein sehr perfekter Mechanismus. Zum Beispiel gibt uns eine solche Beschreibung nichts, wenn wir nicht wissen, zu welchem ​​Spiel sie gehört. Es gibt andere Mängel, die ich später diskutieren werde. Jetzt ist es Zeit, den nächsten Teilnehmer unserer Geschichte zu treffen.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><div style="text-align:center;"><img src="https://habrastorage.org/webt/7_/i1/dz/7_i1dzv7lp6sajcawqmldwx4hma.png"></div></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Progressive-Level-Option kam von </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zillions of Games</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und ich habe lange nicht verstanden, warum sie benötigt wurde. Versuchen Sie, alle Lampen auszuschalten (es ist einfach) und Sie werden verstehen, wovon ich spreche. Nachdem der Spieler gewonnen hat, sieht Progressive Levels die aktuelle URL an und erhöht sie um eins, wenn er eine Zahl darin findet. In der Tat ist dies eine großartige Möglichkeit, den Spieler zu engagieren, aber seine Fähigkeiten sind nicht darauf beschränkt. Es gibt Spiele, die aus mehreren Runden bestehen. Nach Abschluss eines Spiels verteilen die Spieler nach bestimmten Regeln die Teile neu und beginnen erneut zu spielen.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><div style="text-align:center;"><img src="https://habrastorage.org/webt/iy/bi/ff/iybiff0rupuwcijge_z8b0fimiw.png"></div></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieser Ansatz wird häufig in afrikanischem </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mankali</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> praktiziert </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">In </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ovalhu</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zum Beispiel </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">beginnt</font></a><font style="vertical-align: inherit;"> das Spiel nicht einfach von </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">vorne</font></a><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Die Spieler verwenden die in der vorherigen Runde erbeuteten Körner, um zunächst ihre Löcher zu füllen. </font><font style="vertical-align: inherit;">Löcher, die nicht gefüllt wurden, gelten als aus dem Spiel entfernt und können nicht verwendet werden. </font><font style="vertical-align: inherit;">Tatsächlich wird in jeder Runde ein neues Spiel auf einem neuen Brett gespielt. </font><font style="vertical-align: inherit;">Erst wenn der Verlierer in der nächsten Runde nicht mindestens ein Loch füllen kann, wird seine endgültige Niederlage erkannt.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diese Möglichkeit kann viel weiter verstanden werden.</font></font></b><div class="spoiler_text"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><div style="text-align:center;"><img src="https://habrastorage.org/webt/o_/aj/lp/o_ajlpvgnzcglfojk3vd-rhwozy.png"></div></a><br>
   ,           .          common-setup    .   ,        ,     ,     .    ,       .<br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><div style="text-align:center;"><img src="https://habrastorage.org/webt/gk/hf/ye/gkhfyel6ybgkumfd5x_foxluhny.png"></div></a><br>
      ,  .  «»   ,       .  ,  "<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Magyar Dama</a>"      ( ,     «»),   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Hive</a>, ,     .       ,      ,    ,   , ,     .<br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><div style="text-align:center;"><img src="https://habrastorage.org/webt/ss/0s/uo/ss0suora_d8v2vavrw7kz8wehlw.png"></div></a><br>
         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"></a> (      ,           roguelike-).          «»,   seed,    . ,            (       ).      (,   ),         .<br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><div style="text-align:center;"><img src="https://habrastorage.org/webt/lt/ea/11/ltea11ctmcw6ymezanbr_ygakfi.png"></div></a><br>
    ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"></a>    .     .   "<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"></a>", ,    ,    ,      .<br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der nächste Schritt wurde fast zufällig gemacht. </font><font style="vertical-align: inherit;">In meinen Spielen ist Ton. </font><font style="vertical-align: inherit;">Ich mag ihn wirklich, aber es gibt wahrscheinlich Menschen auf der Welt, die er nervt. </font><font style="vertical-align: inherit;">Für sie war es möglich, es auszuschalten. </font><font style="vertical-align: inherit;">Es scheint, dass dies gut funktioniert hat, aber die Einstellungen wurden nirgendwo gespeichert und nach jeder Seitenaktualisierung musste der Ton wieder ausgeschaltet werden (und das ärgerte noch mehr). </font><font style="vertical-align: inherit;">Ich wurde gebeten, dieses Problem irgendwie zu beheben, und die erste Lösung, die mir in den Sinn kam, war ein </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cookie</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (die erste Lösung ist nicht immer erfolgreich).</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">So sah es aus</font></font></b><div class="spoiler_text"><pre><code class="javascript hljs">Dagaz.Controller.sound = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">if</span> (Dagaz.Controller.soundOff) {<font></font>
        sound.innerHTML = <span class="hljs-string">"no Sound"</span>;<font></font>
        Dagaz.Controller.soundOff = <span class="hljs-literal">false</span>;
        <span class="hljs-built_in">document</span>.cookie = <span class="hljs-string">"dagaz.sound=on"</span>;<font></font>
    } <span class="hljs-keyword">else</span> {<font></font>
        sound.innerHTML = <span class="hljs-string">"Sound"</span>;<font></font>
        Dagaz.Controller.soundOff = <span class="hljs-literal">true</span>;
        <span class="hljs-built_in">document</span>.cookie = <span class="hljs-string">"dagaz.sound=off"</span>;<font></font>
    }<font></font>
}<font></font>
</code></pre></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich wollte keinen Müll wegwerfen, daher waren die Cookies nur von kurzer Dauer, bis das Browserfenster geschlossen wurde. </font><font style="vertical-align: inherit;">Und dann dachte ich: "Warum nicht lehren, Common-Setup auch in Cookies zu speichern?" </font><font style="vertical-align: inherit;">Ich musste den </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Max-Age-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Parameter einstellen </font><font style="vertical-align: inherit;">, aber es hat sich gelohnt. </font><font style="vertical-align: inherit;">Erstens wurde der Status des Spiels jetzt gespeichert, als das Fenster versehentlich geschlossen wurde. </font><font style="vertical-align: inherit;">Als Bonus hat das Umschalten des Spielmodus mit dem AI / no AI-Bot das Spiel ebenfalls nicht zurückgesetzt. </font><font style="vertical-align: inherit;">Das war großartig!</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Natürlich musste ich für etwas anderes sorgen</font></font></b><div class="spoiler_text"> ,       ,   ,       ,    cookie (       ).        «New game»,     .      .   ,    common-setup        ,     ?  cookie        ( ,    ).<br>
<br>
<div class="spoiler"><b class="spoiler_title">  -    </b><div class="spoiler_text"><pre><code class="javascript hljs"><span class="hljs-keyword">var</span> getName = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">var</span> str = <span class="hljs-built_in">window</span>.location.pathname.toString();
  <span class="hljs-keyword">var</span> result = str.match(<span class="hljs-regexp">/\/([^.\/]+)\./</span>);
  <span class="hljs-keyword">if</span> (result) {
      <span class="hljs-keyword">return</span> result[<span class="hljs-number">1</span>].replace(<span class="hljs-string">"-board"</span>, <span class="hljs-string">""</span>).replace(<span class="hljs-string">"-ai"</span>, <span class="hljs-string">""</span>);<font></font>
  } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">return</span> str;<font></font>
  }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">var</span> badName = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">str</span>) </span>{
  <span class="hljs-keyword">var</span> result = str.match(<span class="hljs-regexp">/[?&amp;]game=([^&amp;*]*)/</span>);
  <span class="hljs-keyword">if</span> (result) {
      <span class="hljs-keyword">return</span> result[<span class="hljs-number">1</span>] != getName();<font></font>
  } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<font></font>
  }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">var</span> getCookie = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">var</span> str = <span class="hljs-built_in">document</span>.cookie;
  <span class="hljs-keyword">var</span> result = str.match(<span class="hljs-regexp">/dagaz\.(setup=[^*]*)/</span>);
  <span class="hljs-keyword">if</span> (result) {
      <span class="hljs-keyword">var</span> r = <span class="hljs-built_in">decodeURIComponent</span>(result[<span class="hljs-number">1</span>]);
      <span class="hljs-keyword">if</span> (badName(r)) <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;
      <span class="hljs-keyword">return</span> <span class="hljs-string">"?"</span> + r;<font></font>
  } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;<font></font>
  }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">var</span> getSetup = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">var</span> str = <span class="hljs-built_in">window</span>.location.search.toString();
  <span class="hljs-keyword">var</span> result = str.match(<span class="hljs-regexp">/[?&amp;]setup=([^&amp;]*)/</span>);
  <span class="hljs-keyword">if</span> (result) {
      <span class="hljs-keyword">return</span> result[<span class="hljs-number">1</span>];<font></font>
  } <span class="hljs-keyword">else</span> {<font></font>
      str = getCookie();<font></font>
      result = str.match(<span class="hljs-regexp">/[?&amp;]setup=([^&amp;]*)/</span>);
      <span class="hljs-keyword">if</span> (result) {
          <span class="hljs-keyword">return</span> result[<span class="hljs-number">1</span>];<font></font>
      } <span class="hljs-keyword">else</span> {
          <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;<font></font>
      }<font></font>
  }<font></font>
}<font></font>
<font></font>
Dagaz.Model.getSetup = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">design, board</span>) </span>{
  <span class="hljs-keyword">var</span> str = <span class="hljs-string">""</span>;<font></font>
  ...<font></font>
  str = str + <span class="hljs-string">";&amp;turn="</span> + board.turn;
  <span class="hljs-keyword">if</span> (Dagaz.Controller.persistense == <span class="hljs-string">"setup"</span>) {
      <span class="hljs-keyword">var</span> s = str + <span class="hljs-string">"&amp;game="</span> + getName() + <span class="hljs-string">"*"</span>;
      <span class="hljs-keyword">var</span> maxage = getMaxage();
      <span class="hljs-keyword">if</span> (maxage) {
        <span class="hljs-built_in">document</span>.cookie = <span class="hljs-string">"dagaz.setup="</span> + <span class="hljs-built_in">encodeURIComponent</span>(s) + <span class="hljs-string">"; max-age="</span> + maxage;<font></font>
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-built_in">document</span>.cookie = <span class="hljs-string">"dagaz.setup="</span> + <span class="hljs-built_in">encodeURIComponent</span>(s);<font></font>
      }<font></font>
  }<font></font>
  <span class="hljs-keyword">return</span> <span class="hljs-string">"?setup="</span> + str;<font></font>
}<font></font>
</code></pre></div></div><br>
 ,           .   ,      (  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Pasang</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Chaturanji</a>) ,   ,   ,         (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Morris</a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Bolotoudou</a>)   common-setup   ,     .    ,          !<br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><div style="text-align:center;"><img src="https://habrastorage.org/webt/nw/xp/p1/nwxpp1i7qo0aevfux5rr_kqaaim.png"></div></a><br>
        .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"></a>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"></a> (  ,        ).   ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Stratego</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Luzhanqi</a>,       (     ).       (common-setup,   ,    ),     …<br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><div style="text-align:center;"><img src="https://habrastorage.org/webt/0y/hp/yd/0yhpyduqu2mgx4glqonulbwmrlw.png"></div></a><br>
  ,   ,          , common-setup     ,    .      ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Mana</a>, ,   ),         ,     . <br>
<br>
 ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"></a>,    .   ,    random,   c seed ,      ,    ,    - .  , seed    cookie,    ,    ,     ,    .<br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Leider gibt es Spiele, für die die Methode zum Speichern des Status durch das Common-Setup-Modul nicht geeignet ist. </font><font style="vertical-align: inherit;">Im </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">oben</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> erwähnten </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Kamisado hängt</font></a><font style="vertical-align: inherit;"> die Fähigkeit, einen Zug abzuschließen (für alle Züge außer dem allerersten), davon ab, in welchem ​​Feld der vorherige Zug ausgeführt wurde. </font><font style="vertical-align: inherit;">Es gibt Spiele mit noch komplexerer Mechanik:</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><div style="text-align:center;"><img src="https://habrastorage.org/webt/pc/ah/yo/pcahyosk3fotjxjnlmmafvjw5jk.png"></div></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mühle</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gibt es zusätzlich zu den üblichen Zügen Bonuszüge. Wenn ein Spieler seine drei Teile hintereinander angeordnet hat, hat er das Recht, die Teile eines Gegners vom Brett zu entfernen. </font><font style="vertical-align: inherit;">Darüber hinaus verbieten die Regeln, zweimal hintereinander dasselbe Triplett zu bauen. </font><font style="vertical-align: inherit;">All dies bedeutet, dass Sie den Verlauf früherer Züge speichern müssen, damit das Spiel ordnungsgemäß funktioniert. </font><font style="vertical-align: inherit;">Zum Glück gibt es eine solche Gelegenheit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Session-Manager-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Modul </font><font style="vertical-align: inherit;">speichert den Spielverlauf und ermöglicht es dem Spieler, einen oder mehrere Züge zurückzugehen und möglicherweise einen weiteren Zug auszuführen. </font><font style="vertical-align: inherit;">Außerdem ist diesem Berater die Advisor-Option zugeordnet, die dem Spieler einen möglichen Zug beim Spielen mit dem Bot mitteilt. </font><font style="vertical-align: inherit;">Rückblickend scheint die Idee, die Geschichte des Spiels in Cookies zu speichern, offensichtlich, aber ich bin nicht sofort darauf gekommen.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das Korrespondenzspiel erschien zuerst</font></font></b><div class="spoiler_text"> Dagaz   .  - ,     "<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Zillions of Games</a>",    1998 .  2003  Zillions  ,     ,      . Ed van Zon            .          "<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">MindSports</a>",     .<br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><div style="text-align:center;"><img src="https://habrastorage.org/webt/eu/in/mr/euinmrgfa_ur3e13hx3tjnhokdc.png"></div></a><br>
   MindSports  Dagaz     . Ed      ,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Java-</a>,  ,   ,   .   , Ed        Dagaz,     .<br>
<br>
 ,       ,  ,       ,  .   ,  Dagaz,   ,   - backend-,   JavaScript-  . Ed   session-manager,      . ,     ,   ,        ,  ,     ,    (   , ),   ,    .<br>
<br>
      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">SGF</a> ,   , session-manager   ,  SGF  .  ,         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"></a>,      ,  ,  SGF        (   , ).    ,  MindSports,   ,    80      Dagaz          .<br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der nächste Schritt war ziemlich offensichtlich - ich fing an, die </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SGF-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Beschreibung der Parteien in Cookies </font><font style="vertical-align: inherit;">zu speichern </font><font style="vertical-align: inherit;">, und dann sagten sie mir, dass es nicht sehr modern sei und ich alles auf </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">localStorage verschoben habe</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (dies vereinfachte den Code und löste einige Debugging-Probleme in Google Chrome). An dieser Stelle kann der Leser eine Frage haben. Ich habe zwei Mechanismen für den gleichen Zweck, und einer von ihnen ist perfekter als der andere. Warum nicht </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alle</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Spiele auf Sitzungspersistenz </font><font style="vertical-align: inherit;">umstellen </font><font style="vertical-align: inherit;">? Das ist leider nicht so einfach. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt ganze Spielefamilien, für die das Speichern von Sitzungen nicht gilt:</font></font><br>
<br>
<ol>
<li>           (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Shatranj</a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Sittuyin</a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Janggi</a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Stratego</a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Luzhanqi</a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Banqi</a>   )</li>
<li>  ,    session-manager    (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Ur</a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Puluc</a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Shen</a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Backgammon</a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Chaturaji</a>  )</li>
<li>  (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Kamisado</a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Washington</a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Ohvalhu</a>)</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schließlich gibt es Spiele, in denen die Persistenz von Sitzungsmanagern aus Leistungsgründen nicht verwendet werden kann (seltsamerweise gibt es in </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fanorona</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bei aller scheinbaren Einfachheit zu Beginn des Spiels eine große Anzahl möglicher Debüts, die sich auf die Besonderheiten der Aufnahme beziehen in diesem Spiel)</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Allgemeinen habe ich zwei Mechanismen, die im Allgemeinen für denselben ausgelegt sind. </font><font style="vertical-align: inherit;">Und das ist großartig, denn ich kann wählen, welche ich bewerben möchte.</font></font><br></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de491282/index.html">So steigern Sie die Teamproduktivität (und reduzieren Fehler) mithilfe von Rallyes</a></li>
<li><a href="../de491284/index.html">Analyse: Was ist Fundamentalanalyse?</a></li>
<li><a href="../de491286/index.html">IPv6-Netzwerke nur in der US-Regierung</a></li>
<li><a href="../de491288/index.html">Polygraphisten werden eins nach dem anderen verrückt</a></li>
<li><a href="../de491294/index.html">Verteilte Transaktionen für heterogene Datenbanken in MS .NET</a></li>
<li><a href="../de491298/index.html">So finden Sie Malware (nein) mit WinDbg</a></li>
<li><a href="../de491300/index.html">STM32 Teil 2: Initialisierung</a></li>
<li><a href="../de491302/index.html">OVPN-Client auf Grandstream-Telefonen</a></li>
<li><a href="../de491304/index.html">Helsinki: eine Stadt des Glücks und des Komforts</a></li>
<li><a href="../de491308/index.html">ClickHouse - visuell schnelle und intuitive Datenanalyse in Tabix. Igor Strykhar</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>