<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸŒ¾ ğŸ™ï¸ ğŸ¤š Windowsã‚µãƒ¼ãƒãƒ¼ã‚’ã‚ˆã‚Šå®‰å…¨ã«ã™ã‚‹ ğŸ˜š ğŸ™…ğŸ» ğŸ˜’</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ã“ã®è¨˜äº‹ã§ã¯ã€è‘—è€…ãŒWindowsã‚µãƒ¼ãƒãƒ¼ã®ç®¡ç†ã«é–¢ã™ã‚‹ã„ãã¤ã‹ã®è‰¯ã„ãƒ’ãƒ³ãƒˆã‚’æä¾›ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚ã“ã‚Œã¯ã€ä½•ã‚‰ã‹ã®ç†ç”±ã§ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã§ã¯è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã›ã‚“ã§ã—ãŸã€‚
 
 ã“ã‚Œã‚‰ã®åŸå‰‡ã«å¾“ã£ã¦ã€ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã¨ãƒ‘ãƒ–ãƒªãƒƒã‚¯ç’°å¢ƒã®ä¸¡æ–¹ã§Windowsãƒ™ãƒ¼ã‚¹ã®ã‚µãƒ¼ãƒãƒ¼ã‚’å¤§å¹…ã«ä¿è­·ã—ã¾ã™ã€‚
 
 
 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Windowsã‚µãƒ¼ãƒãƒ¼ã‚’ã‚ˆã‚Šå®‰å…¨ã«ã™ã‚‹</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ultravds/blog/484396/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã“ã®è¨˜äº‹ã§ã¯ã€è‘—è€…ãŒWindowsã‚µãƒ¼ãƒãƒ¼ã®ç®¡ç†ã«é–¢ã™ã‚‹ã„ãã¤ã‹ã®è‰¯ã„ãƒ’ãƒ³ãƒˆã‚’æä¾›ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚ã“ã‚Œã¯ã€ä½•ã‚‰ã‹ã®ç†ç”±ã§ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã§ã¯è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã›ã‚“ã§ã—ãŸã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã‚Œã‚‰ã®åŸå‰‡ã«å¾“ã£ã¦ã€ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã¨ãƒ‘ãƒ–ãƒªãƒƒã‚¯ç’°å¢ƒã®ä¸¡æ–¹ã§Windowsãƒ™ãƒ¼ã‚¹ã®ã‚µãƒ¼ãƒãƒ¼ã‚’å¤§å¹…ã«ä¿è­·ã—ã¾ã™ã€‚</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/261/63d/36d/26163d36d9ef7d329df74014752b5641.png"></div></a><a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. ADã«ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼ã‚’æ­£ã—ãå…¥åŠ›ã—ã¾ã™</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç®¡ç†è€…ç‰¹æ¨©ã‚’æŒã¤ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½¿ç”¨ã—ã¦ã€Active Directoryã«ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼ã‚’å…¥åŠ›ã—ãªã„ã§ãã ã•ã„ã€‚</font><font style="vertical-align: inherit;">ã‚­ãƒ¼ãƒ­ã‚¬ãƒ¼ãŒå¾“æ¥­å“¡ã®ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼ã«ã¾ã ç¾ã‚Œã¦ã„ãªã„ã“ã¨ã‚’èª°ã‚‚ä¿è¨¼ã—ã¾ã›ã‚“ã€‚</font><font style="vertical-align: inherit;">åˆ¥ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’æŒã£ã¦ã„ã¾ã™ã€‚</font><font style="vertical-align: inherit;">è³‡æ ¼æƒ…å ±ã‚’ç›—ã‚“ã æ”»æ’ƒè€…ã¯ã€ADã«ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã—ã‹ã§ãã¾ã›ã‚“ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.1ã€‚</font><font style="vertical-align: inherit;">æ–°ã—ã„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½œæˆã™ã‚‹</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã‚Œã‚’è¡Œã†ã«ã¯ã€ADUCï¼ˆActive Directoryãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼ï¼‰ã«ç§»å‹•ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã€Œãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã€ãƒ•ã‚©ãƒ«ãƒ€ã®ç©ºã®ã‚¹ãƒšãƒ¼ã‚¹ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½œæˆã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ç°¡å˜ã«ã™ã‚‹ãŸã‚ã«ã€JoinAdminã¨å‘¼ã³ã¾ã—ã‚‡ã†ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.2ã€‚</font><font style="vertical-align: inherit;">æ¨©é™ã‚’å§”ä»»ã™ã‚‹</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä½œæˆã•ã‚ŒãŸå¾Œã€å½¼ã¯è¨±å¯ã‚’å‰²ã‚Šå½“ã¦ã‚‰ã‚Œã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã“ã‚Œã‚’è¡Œã†ã«ã¯ã€ã€Œãƒ¦ãƒ¼ã‚¶ãƒ¼ã€ãƒ•ã‚©ãƒ«ãƒ€ã‚’å³ã‚¯ãƒªãƒƒã‚¯ã—ã€ã€Œåˆ¶å¾¡ã®å§”ä»»ã€ã‚’é¸æŠã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã€Œæ¬¡ã¸ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€ç®¡ç†è€…ã‚’é¸æŠã—ã¾ã™ã€‚</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d9c/377/2fb/d9c3772fb5c4f5372b40c4cac60ea636.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«1ã¤ã®æ©Ÿèƒ½ã®ã¿ã‚’å®Ÿè¡Œã•ã›ãŸã„ã®ã§ã€2ç•ªç›®ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’é¸æŠã—ã¾ã™ã€‚</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d22/f42/713/d22f427138ad40f4dfbb5673636258bd.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¬¡ã«ã€ã€Œã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€ã¨ãã®ã™ã¹ã¦ã®ã‚µãƒ–ã‚¢ã‚¤ãƒ†ãƒ ã‚’é¸æŠã—ã¾ã™ã€‚</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e9b/8a6/577/e9b8a65770e1f4d589c214ac56962f28.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cc9/b88/29c/cc9b8829c044c18bdd54778c0a9d7e88.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½¿ç”¨ã—ã¦ã€èª°ã‹ãŒç®¡ç†è€…ã‹ã‚‰ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ç›—ã‚€ã“ã¨ã‚’å¿ƒé…ã—ãªã„ã§ãã ã•ã„ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚¢ã‚¯ã‚»ã‚¹ã®åˆ¶å¾¡</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Windows Server 2019ã§ã¯ã€éå¸¸ã«éå°è©•ä¾¡ã•ã‚Œã¦ã„ã‚‹æ©Ÿèƒ½ã§ã‚ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚¢ã‚¯ã‚»ã‚¹ã®åˆ¶å¾¡ãŒå°å…¥ã•ã‚Œã¾ã—ãŸã€‚</font><font style="vertical-align: inherit;">é¸æŠã—ãŸãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã¾ãŸã¯ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆã«ãªã„ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®éŒ²ç”»ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’ç¦æ­¢ã—ã¾ã™ã€‚&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚ªãƒ³ã«ã™ã‚‹ã¨ã€ã‚µãƒ¼ãƒãƒ¼ãŒæ„ŸæŸ“ã—ã¦ã„ã‚‹å ´åˆã§ã‚‚ã€ãƒ©ãƒ³ã‚µãƒ ã‚¦ã‚§ã‚¢ã‚¦ã‚¤ãƒ«ã‚¹ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’ä¿è­·ã™ã‚‹ã®ã«å½¹ç«‹ã¡ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ãŸã ã—ã€ã“ã‚Œã¯ãƒ‡ãƒ¼ã‚¿ã‚’ç›—é›£ã‹ã‚‰ä¿è­·ã™ã‚‹ã‚‚ã®ã§ã¯ãªãã€èª­ã¿å–ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®æ©Ÿèƒ½ã¯ã€Windowsã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚»ãƒ³ã‚¿ãƒ¼ã¾ãŸã¯Powershellã§æœ‰åŠ¹ã«ã§ãã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-built_in">Set-MpPreference</span>&nbsp;<span class="hljs-literal">-EnableNetworkProtection</span>&nbsp;Enabled</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¨±å¯ã•ã‚ŒãŸãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®è¿½åŠ ï¼š</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
è¨±å¯ã•ã‚ŒãŸãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¯ã€Windowsã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚»ãƒ³ã‚¿ãƒ¼ã‚’é€šã˜ã¦è¿½åŠ ã§ãã¾ã™ã€‚Powershellã‚’é€šã˜ã¦ã€å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®ãƒ•ãƒ«ãƒ‘ã‚¹ã‚’ã‚«ãƒ³ãƒã§åŒºåˆ‡ã£ã¦å…¥åŠ›ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-built_in">Set-MpPreference</span>&nbsp;<span class="hljs-literal">-ControlledFolderAccessAllowedApplications</span>&nbsp;<span class="hljs-string">"C:\Folder\File.exe"</span><font></font>
<font></font>
            .<font></font>
<font></font>
<span class="hljs-variable">$ApplicationToAdd</span>&nbsp;=&nbsp;<span class="hljs-string">"C:\Fodler\file.exe"</span><font></font>
&nbsp;<font></font>
<span class="hljs-variable">$ExistingApplicationList</span>&nbsp;=&nbsp;(<span class="hljs-built_in">Get-MpPreference</span>).ControlledFolderAccessAllowedApplications<font></font>
&nbsp;<font></font>
<span class="hljs-variable">$FullList</span>&nbsp;=&nbsp;<span class="hljs-variable">$ApplicationToAdd</span>&nbsp;+&nbsp;<span class="hljs-variable">$ExistingApplicationList</span>&nbsp;<font></font>
&nbsp;<font></font>
<span class="hljs-built_in">Set-MpPreference</span>&nbsp;<span class="hljs-literal">-ControlledFolderAccessAllowedApplications</span>&nbsp;<span class="hljs-variable">$FullList</span></code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¿è­·ã•ã‚ŒãŸãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã®è¿½åŠ ï¼š</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã¯ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¨ã¾ã£ãŸãåŒã˜æ–¹æ³•ã§</font><b><font style="vertical-align: inherit;">è¿½åŠ ã•ã‚Œã¾ã™</font></b><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ãŸã¨ãˆã°ã€æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã§ã¯ã€Cï¼šãƒ‰ãƒ©ã‚¤ãƒ–å…¨ä½“ã‚’è¿½åŠ ã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-built_in">Set-MpPreference</span>&nbsp;<span class="hljs-literal">-ControlledFolderAccessProtectedFolders</span>&nbsp;<span class="hljs-string">"C:\"</span></code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. SYSWOW64ãŠã‚ˆã³SMB</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã™ã¹ã¦ã®32ãƒ“ãƒƒãƒˆãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¯ã€äº’æ›æ€§ãƒ¬ã‚¤ãƒ¤ãƒ¼-SYSWOW64ã‚’ä»‹ã—ã¦64ãƒ“ãƒƒãƒˆã§å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚ã“ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ç„¡åŠ¹ã«ã™ã‚‹ã¨ã€ã‚¦ã‚¤ãƒ«ã‚¹ã‚’å«ã‚€ã™ã¹ã¦ã®32ãƒ“ãƒƒãƒˆã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã«äº’æ›æ€§ãŒãªããªã‚Šã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
32ãƒ“ãƒƒãƒˆã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³è‡ªä½“ã¯ã‚ˆã‚Šè„†å¼±ã§ã‚ã‚Šã€64ãƒ“ãƒƒãƒˆãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¯ãƒãƒƒãƒ•ã‚¡ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼ã«ã‚ˆã‚‹æ”»æ’ƒã‚’å—ã‘ãšã€ã“ã‚Œã‚‰ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§æä¾›ã•ã‚Œã¦ã„ãªã„ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã¯ã¯ã‚‹ã‹ã«å›°é›£ã§ã™ã€‚åŸ‹ã‚è¾¼ã¿ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã¿ã¾ãŸã¯64ãƒ“ãƒƒãƒˆãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®ã¿ãŒã‚µãƒ¼ãƒãƒ¼ã§å‹•ä½œã™ã‚‹å ´åˆã¯ã€å¿…ãšã“ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å‰Šé™¤ã—ã¦ãã ã•ã„ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SMB1ã‚’æ­©ã„ãŸWannacryã‚’è¦šãˆã¦ã„ã¾ã™ã‹ï¼Ÿæœ€åˆã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®SMBã¯Windows Serverã®æ¨™æº–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã‚ã‚Šã€å„ã‚¨ãƒ‡ã‚£ã‚·ãƒ§ãƒ³ã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¾ã™ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wannacryã¯EternalBlueã®è„†å¼±æ€§ã‚’çªç ´ã—ã€è„†å¼±æ€§ã«ãƒ‘ãƒƒãƒã‚’é©ç”¨ã—ã¾ã—ãŸãŒã€å †ç©ç‰©ã¯æ®‹ã‚Šã¾ã—ãŸã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®ã‚³ãƒãƒ³ãƒ‰ã¯ã€SMB1ã¨SYSWOW64ã®ä¸¡æ–¹ã‚’å‰Šé™¤ã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-built_in">Remove-WindowsFeature</span>&nbsp;WoW64<span class="hljs-literal">-Support</span>,&nbsp;FS<span class="hljs-literal">-SMB1</span></code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®æ¨å¥¨äº‹é …ã¯ã€ã“ã‚Œã‚‰ã®ç‰¹å®šã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å‰Šé™¤ã™ã‚‹ãŸã‚ã®è¨€ã„è¨³ã¨ã—ã¦ã§ã¯ãªãã€ä¸€èˆ¬çš„ã«ã™ã¹ã¦ã®æœªä½¿ç”¨ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ç„¡åŠ¹ã«ã™ã‚‹ã“ã¨ã¨ã—ã¦ä¾¡å€¤ãŒã‚ã‚Šã¾ã™ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. pingã‚’ç„¡åŠ¹ã«ã™ã‚‹</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ—¢å®šã§ã¯ã€Windowsãƒ™ãƒ¼ã‚¹ã®ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼ã¯ãƒ­ãƒ¼ã‚«ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã§ã®ã¿ICMPã«å¿œç­”ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ICMPã‚’ç„¡åŠ¹ã«ã™ã‚‹ã¨ã€ã‚µãƒ¼ãƒãƒ¼ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãŒå°‘ã—å‘ä¸Šã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">éƒ¨åˆ†çš„ã«ã¯ã€ã“ã‚Œã¯ã€kulhackerãŠã‚ˆã³ä»–ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚­ãƒ‡ã‚£ãƒ•ã‚©ãƒ¼ãƒ©ãƒ ã«ã€ãƒ–ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ¼ã‚¹ã«ãªã‚‹å¯èƒ½æ€§ã®ã‚ã‚‹ç›®æ¨™ã‚’æ¢ã™æ–¹æ³•ã«é–¢ã™ã‚‹ã‚¬ã‚¤ãƒ‰ãŒã‚ã‚‹ã¨ã„ã†äº‹å®Ÿã«ã‚ˆã‚‹ã‚‚ã®ã§ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ICMPã‚’ç„¡åŠ¹ã«ã™ã‚‹ã¨å‹ã¤ã“ã¨ã‚’ç¤ºã™ãŸã‚ã«ã€2ã¤ã®ã‚µãƒ¼ãƒãƒ¼ãŒä½œæˆã•ã‚Œã¾ã—ãŸã€‚</font><font style="vertical-align: inherit;">ä¸¡æ–¹ã§RDPãŒé–‹ã‹ã‚Œã¾ã—ãŸãŒã€ã‚µãƒ¼ãƒãƒ¼ã®1ã¤ãŒICMPã«å¿œç­”ã—ã¾ã›ã‚“ã§ã—ãŸã€‚</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ICMPã¯ç„¡åŠ¹ã«ãªã£ã¦ã„ã¾ã™ã€‚</font></font></b><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e0c/09e/508/e0c09e5082ec31022a5caff3ebd75b2f.png"></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ICMPãŒæœ‰åŠ¹ï¼š</font></font></b><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/528/3e5/4c7/5283e54c77a2e68b3dbb29ead1764a68.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã‹ã‚‰ã‚ã‹ã‚‹ã‚ˆã†ã«ã€ã“ã‚Œã¯å…¨å“¡ã‚’æ­¢ã‚ãŸã‚ã‘ã§ã¯ãªãã€å¤šãã‚’æ­¢ã‚ã¾ã—ãŸã€‚</font><font style="vertical-align: inherit;">å½¼ã‚‰ãŒã‚ãªãŸã‚’ã©ã®ç¨‹åº¦ãƒãƒƒã‚­ãƒ³ã‚°ã—ãŸã„ã®ã‹ã«ã¤ã„ã¦ã®ãƒ‡ãƒ¼ã‚¿ã‚’åé›†ã™ã‚‹ã«ã¯ã€æ¬¡ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚</font></font><br>
&nbsp;<br>
<pre><code class="powershell hljs"><span class="hljs-function"><span class="hljs-keyword">function</span>&nbsp;<span class="hljs-title">Get-Bruteforce</span></span>&nbsp;{<font></font>
&nbsp;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-variable">$Last</span>&nbsp;=&nbsp;<span class="hljs-number">4</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-variable">$Attempts</span>&nbsp;=&nbsp;<span class="hljs-number">10</span><font></font>
&nbsp;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">#Getting&nbsp;date&nbsp;-one&nbsp;hour&nbsp;(default)</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-variable">$DateTime</span>&nbsp;=&nbsp;[<span class="hljs-built_in">DateTime</span>]::Now.AddHours(-<span class="hljs-variable">$Last</span>)<font></font>
&nbsp;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-variable">$BruteEvents</span>&nbsp;=&nbsp;<span class="hljs-built_in">Get-EventLog</span>&nbsp;<span class="hljs-literal">-LogName</span>&nbsp;<span class="hljs-string">'Security'</span>&nbsp;<span class="hljs-literal">-InstanceId</span>&nbsp;<span class="hljs-number">4625</span>&nbsp;<span class="hljs-literal">-After</span>&nbsp;<span class="hljs-variable">$DateTime</span>&nbsp;<span class="hljs-literal">-ErrorAction</span>&nbsp;SilentlyContinue&nbsp;|&nbsp;<span class="hljs-built_in">Select-Object</span>&nbsp;<span class="hljs-selector-tag">@</span>{n=<span class="hljs-string">'IpAddress'</span>;e={<span class="hljs-variable">$_</span>.ReplacementStrings[-<span class="hljs-number">2</span>]}&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-variable">$TopPunks</span>&nbsp;=&nbsp;<span class="hljs-variable">$BruteEvents</span>&nbsp;|&nbsp;<span class="hljs-built_in">Group-Object</span>&nbsp;<span class="hljs-literal">-property</span>&nbsp;IpAddress&nbsp;|&nbsp;<span class="hljs-built_in">Sort-Object</span>&nbsp;Count<font></font>
&nbsp;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">#Get&nbsp;bruteforsers&nbsp;that&nbsp;tried&nbsp;to&nbsp;login&nbsp;greated&nbsp;or&nbsp;equal&nbsp;than&nbsp;4&nbsp;times&nbsp;(default)</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-variable">$GetPunks</span>&nbsp;=&nbsp;<span class="hljs-variable">$TopPunks</span>&nbsp;|&nbsp;<span class="hljs-built_in">where</span>&nbsp;{<span class="hljs-variable">$_</span>.Count&nbsp;<span class="hljs-operator">-ge</span>&nbsp;<span class="hljs-variable">$attempts</span>}&nbsp;|&nbsp;<span class="hljs-built_in">Select</span>&nbsp;<span class="hljs-literal">-property</span>&nbsp;Name<font></font>
&nbsp;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">Write-host</span>&nbsp;Unique&nbsp;attackers&nbsp;IP:&nbsp;<span class="hljs-variable">$GetPunks</span>.Length&nbsp;<span class="hljs-literal">-ForegroundColor</span>&nbsp;Green
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">Write-Host</span>&nbsp;Total&nbsp;bruteforce&nbsp;attempts:&nbsp;<span class="hljs-variable">$BruteEvents</span>.Length&nbsp;<span class="hljs-literal">-ForegroundColor</span>&nbsp;Green<font></font>
&nbsp;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">#Output-punks</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">foreach</span>&nbsp;(<span class="hljs-variable">$i</span>&nbsp;<span class="hljs-keyword">in</span>&nbsp;<span class="hljs-variable">$TopPunks</span>&nbsp;|&nbsp;<span class="hljs-built_in">where</span>&nbsp;{<span class="hljs-variable">$_</span>.Count&nbsp;<span class="hljs-operator">-ge</span>&nbsp;<span class="hljs-variable">$attempts</span>})&nbsp;{<font></font>
&nbsp;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-variable">$PunkRdns</span>&nbsp;=&nbsp;(<span class="hljs-built_in">Resolve-DnsName</span>&nbsp;<span class="hljs-variable">$i</span>.Name&nbsp;<span class="hljs-literal">-ErrorVariable</span>&nbsp;ProcessError&nbsp;<span class="hljs-literal">-ErrorAction</span>&nbsp;SilentlyContinue).NameHost&nbsp;<font></font>
&nbsp;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">if</span>&nbsp;(<span class="hljs-variable">$ShowRDNS</span>)&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">if</span>&nbsp;(<span class="hljs-variable">$PunkRdns</span>)&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">Write-Host</span>&nbsp;<span class="hljs-string">"attempts"</span>:&nbsp;<span class="hljs-variable">$i</span>.count&nbsp;IP:&nbsp;<span class="hljs-variable">$PunkRdns</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">else</span>&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">Write-Host</span>&nbsp;<span class="hljs-string">"attempts"</span>:&nbsp;<span class="hljs-variable">$i</span>.count&nbsp;IP:&nbsp;<span class="hljs-variable">$i</span>.name<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">else</span>&nbsp;{<font></font>
&nbsp;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">Write-Host</span>&nbsp;<span class="hljs-string">"attempts"</span>:&nbsp;<span class="hljs-variable">$i</span>.count&nbsp;IP:&nbsp;<span class="hljs-variable">$i</span>.name<font></font>
&nbsp;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
&nbsp;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
&nbsp;&nbsp;&nbsp;<font></font>
}<font></font>
<span class="hljs-built_in">Get-Bruteforce</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãŸã¨ãˆã°ã€ç‰¹å®šã®ãƒãƒ¼ãƒˆã®å¯ç”¨æ€§ã‚’ç¢ºèªã™ã‚‹ã“ã¨ã§ã€ã‚µãƒ¼ãƒãƒ¼ã‚’å¼•ãç¶šãç›£è¦–ã§ãã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-built_in">Test-NetConnection</span> <span class="hljs-number">192.168</span>.<span class="hljs-number">0.1</span> <span class="hljs-literal">-Port</span> <span class="hljs-number">3389</span></code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.ã™ã¹ã¦ã®åå‰ãŒåŒã˜ã‚ˆã†ã«è‰¯ã„ã‚ã‘ã§ã¯ãªã„</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åˆ¥ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½¿ç”¨ã—ã¦ã€æ”»æ’ƒã•ã‚ŒãŸæœ€ã‚‚äººæ°—ã®ã‚ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼åã‚’å¼•ãå‡ºã—ã¾ã™ã€‚&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒªãƒ¢ãƒ¼ãƒˆãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚µãƒ¼ãƒ“ã‚¹ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å ´åˆã¯ã€ã“ã‚Œã‚‰ã®åå‰ã‚’ä½¿ç”¨ã—ãªã„ã“ã¨ã‚’å¼·ããŠå‹§ã‚ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">è„†å¼±ãªãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¨çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§ã€è¿…é€Ÿãªãƒãƒƒã‚­ãƒ³ã‚°ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä¿è¨¼ã§ãã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å‚è€ƒã¾ã§ã«ã€ã€Œæ‚ªã„ã€åå‰ã®ãƒªã‚¹ãƒˆã‚’è¡¨ã«æ›¸ãç›´ã—ã¾ã—ãŸã€‚</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒãƒƒã‚­ãƒ³ã‚°ã®è©¦ã¿</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå</font></font></th>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">40</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¤ãƒªãƒ¼ãƒŠ</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">41</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ›ãƒ¼ãƒ </font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">42</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SKLAD</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">42</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SQLã‚µãƒ¼ãƒãƒ¼</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">42</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sys</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">42</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚«ãƒƒã‚µ2</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">43</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ADMIN1</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">43</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PC</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">45</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãŠå®¢æ§˜</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">46</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ›ã‚¹ãƒˆ</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">46</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç›£æŸ»</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">49</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">USER3</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">54</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TEST1</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">55</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BUH2</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">66</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ¦ãƒ¼ã‚¶ãƒ¼</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">66</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">75</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ADM</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">77</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.NET.v.4.5</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">80</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BUH1</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">86</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">89</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¶</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">90</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç®¡ç†</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">100</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">116</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚µãƒ¼ãƒ</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">122</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ¦ãƒ¼ã‚¶ãƒ¼2</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">128</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ù†Ù‰ÃˆÙŠÃˆÙ‹ÙŒÙÃ€ÙÃÙ‹</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">147</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ†ã‚¹ãƒˆ</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">219</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">USER1</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">308</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ¦ãƒ¼ã‚¶ãƒ¼</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">330</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç®¡ç†è€…</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9299</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç®¡ç†è€…</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13972</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç®¡ç†è€…</font></font></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¬¡ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€ã‚µãƒ¼ãƒãƒ¼ã§åŒã˜ãƒªã‚¹ãƒˆã‚’å–å¾—ã§ãã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-function"><span class="hljs-keyword">function</span>&nbsp;<span class="hljs-title">Get-Badname</span></span>&nbsp;{<font></font>
&nbsp;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-variable">$Last</span>&nbsp;=&nbsp;<span class="hljs-number">24</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-variable">$Attempts</span>&nbsp;=&nbsp;<span class="hljs-number">40</span><font></font>
&nbsp;<font></font>
&nbsp;&nbsp;&nbsp;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-variable">$DateTime</span>&nbsp;=&nbsp;[<span class="hljs-built_in">DateTime</span>]::Now.AddHours(-<span class="hljs-variable">$Last</span>)<font></font>
&nbsp;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-variable">$BruteEvents</span>&nbsp;=&nbsp;<span class="hljs-built_in">Get-EventLog</span>&nbsp;<span class="hljs-literal">-LogName</span>&nbsp;<span class="hljs-string">'Security'</span>&nbsp;<span class="hljs-literal">-InstanceId</span>&nbsp;<span class="hljs-number">4625</span>&nbsp;<span class="hljs-literal">-After</span>&nbsp;<span class="hljs-variable">$DateTime</span>&nbsp;<span class="hljs-literal">-ErrorAction</span>&nbsp;SilentlyContinue&nbsp;|&nbsp;<span class="hljs-built_in">Select-Object</span>&nbsp;<span class="hljs-selector-tag">@</span>{n=<span class="hljs-string">'IpAddress'</span>;e={<span class="hljs-variable">$_</span>.ReplacementStrings[<span class="hljs-number">5</span>]}&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-variable">$TopPunks</span>&nbsp;=&nbsp;<span class="hljs-variable">$BruteEvents</span>&nbsp;|&nbsp;<span class="hljs-built_in">Group-Object</span>&nbsp;<span class="hljs-literal">-property</span>&nbsp;IpAddress&nbsp;|&nbsp;<span class="hljs-built_in">Sort-Object</span>&nbsp;Count<font></font>
&nbsp;<font></font>
&nbsp;&nbsp;&nbsp;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-variable">$GetPunks</span>&nbsp;=&nbsp;<span class="hljs-variable">$TopPunks</span>&nbsp;|&nbsp;<span class="hljs-built_in">where</span>&nbsp;{<span class="hljs-variable">$_</span>.Count&nbsp;<span class="hljs-operator">-ge</span>&nbsp;<span class="hljs-variable">$attempts</span>}&nbsp;|&nbsp;<span class="hljs-built_in">Select</span>&nbsp;<span class="hljs-literal">-property</span>&nbsp;Name<font></font>
&nbsp;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">Write-host</span>&nbsp;Unique&nbsp;attackers&nbsp;IP:&nbsp;<span class="hljs-variable">$GetPunks</span>.Length&nbsp;<span class="hljs-literal">-ForegroundColor</span>&nbsp;Green
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">Write-Host</span>&nbsp;Total&nbsp;bruteforce&nbsp;attempts:&nbsp;<span class="hljs-variable">$BruteEvents</span>.Length&nbsp;<span class="hljs-literal">-ForegroundColor</span>&nbsp;Green<font></font>
&nbsp;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">#Output</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">foreach</span>&nbsp;(<span class="hljs-variable">$i</span>&nbsp;<span class="hljs-keyword">in</span>&nbsp;<span class="hljs-variable">$TopPunks</span>&nbsp;|&nbsp;<span class="hljs-built_in">where</span>&nbsp;{<span class="hljs-variable">$_</span>.Count&nbsp;<span class="hljs-operator">-ge</span>&nbsp;<span class="hljs-variable">$attempts</span>})&nbsp;{<font></font>
&nbsp;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">Write-Host</span>&nbsp;<span class="hljs-string">"Attempts"</span>:&nbsp;<span class="hljs-variable">$i</span>.count&nbsp;Username:&nbsp;<span class="hljs-variable">$i</span>.name<font></font>
&nbsp;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
&nbsp;&nbsp;&nbsp;<font></font>
}<font></font>
<span class="hljs-built_in">Get-Badname</span></code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.æ˜ã‚‰ã‹ãªã“ã¨</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã¾ã‚ã€ç§ãŸã¡ã¯æ˜ç™½ãªã‚‚ã®ã§è¨˜äº‹ã‚’çµ‚ãˆã¾ã™ï¼š</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ã‚’ä½œæˆã™ã‚‹-å¤§è¦æ¨¡ãªã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ã‚’ç®¡ç†ã™ã‚‹ã«ã¯ã€å˜ä¸€ã®ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆã§è‡ªåˆ†ã‚’ä¿è­·ã™ã‚‹ã®ãŒæœ€å–„ã§ã™ã€‚</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã•ã‚‰ã«è©³ã—ã</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ›´æ–°ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ç‰¹ã«ã€æˆ¦é—˜ã‚µãƒ¼ãƒãƒ¼ã§ã¯ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½¿ç”¨ã—ãªã„ã‚µãƒ¼ãƒ“ã‚¹ã‚’ç„¡åŠ¹ã«ã—ã¾ã™-ã“ã‚Œã¯æ”»æ’ƒã™ã‚‹ãŸã‚ã®ä½™åˆ†ãªé ˜åŸŸã§ã™ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Server Coreã‚’ä½¿ç”¨ã—ã¾ã™ã€‚æ›´æ–°ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã¨ãã«ã€æ”»æ’ƒé ˜åŸŸãŒæœ€ã‚‚å°‘ãªãã€å†èµ·å‹•ã®å›æ•°ãŒæœ€ã‚‚å°‘ãªããªã‚Šã¾ã™ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¤‡æ•°ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ç”¨ã®ãƒªãƒ¢ãƒ¼ãƒˆãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚µãƒ¼ãƒãƒ¼ã¯ãŠå‹§ã‚ã§ãã¾ã›ã‚“ã€‚</font><font style="vertical-align: inherit;">1äººã¾ãŸã¯1äººã®ã‚µãƒ¼ãƒ“ã‚¹-1ã¤ã®ã‚µãƒ¼ãƒãƒ¼ã®åŸå‰‡ã«å¾“ã„ã¾ã™ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’ä½œæˆã—ã€å¿…ãšãƒ†ã‚¹ãƒˆã—ã¦ãã ã•ã„ã€‚</font><font style="vertical-align: inherit;">ãƒ†ã‚¹ãƒˆã•ã‚Œã¦ã„ãªã„ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã¯ã€ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æœ€åˆã®5ã¤ã®ãƒã‚¤ãƒ³ãƒˆãŒã‚ãªãŸã«ã¨ã£ã¦æœ‰ç”¨ã§èˆˆå‘³æ·±ã„ã‚‚ã®ã§ã‚ã‚‹ã“ã¨ã‚’é¡˜ã£ã¦ã„ã¾ã™ã€‚</font><font style="vertical-align: inherit;">Windows Server 2019 CoreãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹99ãƒ«ãƒ¼ãƒ–ãƒ«ã®</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ›´æ–°ã•ã‚ŒãŸUltra Light </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows VDS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–™é‡‘ã‚’æä¾›ã—</font><font style="vertical-align: inherit;">ã¾ã™ã€‚</font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><img src="https://habrastorage.org/webt/ww/d4/ro/wwd4ro5_5a28hvdxyazf3enjxou.png"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja484342/index.html">ã€ŒToradex Colibri T20ï¼ˆLinuxï¼‰ã€ç”¨ã®EclipseãŠã‚ˆã³GTK +ã«åŸºã¥ããƒ„ãƒ¼ãƒ«ã‚­ãƒƒãƒˆ</a></li>
<li><a href="../ja484344/index.html">Kubernetesã®3ãƒ¬ãƒ™ãƒ«ã®è‡ªå‹•ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ï¼šãã‚Œã‚‰ã‚’åŠ¹æœçš„ã«ä½¿ç”¨ã™ã‚‹æ–¹æ³•</a></li>
<li><a href="../ja484358/index.html">Rã®ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªç®¡ç†</a></li>
<li><a href="../ja484382/index.html">Bellman-Fordã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ </a></li>
<li><a href="../ja484386/index.html">Raiffeisenbankã§ã®AWS_Ru Meetup</a></li>
<li><a href="../ja484402/index.html">TypeScriptã®ã‚¯ãƒªãƒ¼ãƒ³ãªã‚³ãƒ¼ãƒ‰-ãƒ‘ãƒ¼ãƒˆ1</a></li>
<li><a href="../ja484404/index.html">ç§ãŸã¡ã¯é–‹ç™ºè€…ã‚’å‹•ã‹ã—ã€ç§‘å­¦çš„ãªæ–¹æ³•ã§ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’æä¾›ã—ã¾ã™-Yandex.Money metapã‹ã‚‰ã®ãƒ“ãƒ‡ã‚ª</a></li>
<li><a href="../ja484406/index.html">PNã‚¸ãƒ£ãƒ³ã‚¯ã‚·ãƒ§ãƒ³ã®ã‚¨ãƒ«ãƒ•</a></li>
<li><a href="../ja484408/index.html">RUTMæ™‚ä»£</a></li>
<li><a href="../ja484410/index.html">ä¾¿åˆ©ãªé–‹ç™ºè€…ã®ç¿’æ…£</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>