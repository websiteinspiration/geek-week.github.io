<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙇🏾 ⚰️ 👨‍🎤 Webpackを使用したWebアプリケーションビルドの高速化 🤲🏽 🔯 🏂🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="アプリケーションが開発および成長するにつれて、そのアセンブリ時間も増加します-開発モードでの再アセンブリ中の数分から「コールド」プロダクションアセンブリ中の数十分まで。これはまったく受け入れられません。開発者は、バンドルの準備が整うまでコンテキストを切り替えたくないため、できるだけ早くアプリケーショ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Webpackを使用したWebアプリケーションビルドの高速化</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/451146/"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アプリケーションが開発および成長するにつれて、そのアセンブリ時間も増加します-開発モードでの再アセンブリ中の数分から「コールド」プロダクションアセンブリ中の数十分まで。</font><font style="vertical-align: inherit;">これはまったく受け入れられません。</font><font style="vertical-align: inherit;">開発者は、バンドルの準備が整うまでコンテキストを切り替えたくないため、できるだけ早くアプリケーションからフィードバックを受け取りたいと考えています。理想的には、IDEからブラウザに切り替えている間です。</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これを達成する方法は？</font><font style="vertical-align: inherit;">ビルド時間を最適化するにはどうすればよいですか？</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この記事は、アセンブリを高速化するためのWebpackエコシステムの既存のツール、その経験、およびヒントの概要です。</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この記事では、バンドルサイズとアプリケーション自体のパフォーマンスの最適化については考慮していません。</font></font></p><a name="habracut"></a><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テキストで参照され、実行されるアセンブリ速度の測定値に関連するこのプロジェクトは、JS + Flow + React + Reduxスタックに記述された比較的小さなアプリケーションであり、webpack、Babel、PostCSS、Sassなどを使用しており、約3万コード行と1,500モジュール。</font><font style="vertical-align: inherit;">依存関係バージョンは、2019年4月の時点で最新です。</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">調査は、Windows 10、Node.js 8、4コアプロセッサ、8 GBのメモリ、およびSSDを搭載したコンピューターで行われました。</font></font></p><br>
<h2 id="terminologiya"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用語</font></font></h2><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アセンブリとは、プロジェクトのソースファイルを一連の関連アセットに変換して、Webアプリケーションを構成するプロセスです。</font></font></li>
<li>dev- —    <code>mode: 'development'</code>,    webpack-dev-server  watch-.</li>
<li>prod- —    <code>mode: 'production'</code>,      .</li>
<li>  —  dev-:     .</li>
<li>«»  —   ,  - ,    .</li>
</ul><br>
<h2 id="keshirovanie"></h2><br>
<p>       .        -    ,            .</p><br>
<p>  webpack  watch- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">  </a>   ,        .    (  watch-)     .     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">-</a>,   webpack      ,         .</p><br>
<p> (      )   webpack  ,   5-   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a>.       :</p><br>
<p><strong>—   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> TerserWebpackPlugin</a></strong></p><br>
<p>  .       : 60,7  → 39  (-36%),       .</p><br>
<p>    :</p><br>
<pre><code class="javascript hljs">optimization: {
  <span class="hljs-attr">minimizer</span>: [
    <span class="hljs-keyword">new</span> TerserJsPlugin({
      <span class="hljs-attr">terserOptions</span>: { ... },
      <span class="hljs-attr">cache</span>: <span class="hljs-literal">true</span><font></font>
    })<font></font>
  ]<font></font>
}</code></pre><br>
<p><strong>— <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">cache-loader</a></strong></p><br>
<p>Cache-loader            .</p><br>
<p>      .cache-loader   .    <code>cacheDirectory</code>      .</p><br>
<p> :</p><br>
<pre><code class="javascript hljs">{
  <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.js$/</span>,<font></font>
  use: [<font></font>
    {<font></font>
      <span class="hljs-attr">loader</span>: <span class="hljs-string">'cache-loader'</span>,
      <span class="hljs-attr">options</span>: {
        <span class="hljs-attr">cacheDirectory</span>: path.resolve(<font></font>
          __dirname,<font></font>
          <span class="hljs-string">'node_modules/.cache/cache-loader'</span><font></font>
        ),<font></font>
      },<font></font>
    },<font></font>
    <span class="hljs-string">'babel-loader'</span><font></font>
  ]<font></font>
}</code></pre><br>
<p>   .       :   (babel-loader, ts-loader),  (scss-, less-, postcss-, css-loader),    (image-webpack-loader, react-svg-loader, file-loader)  .</p><br>
<p> :</p><br>
<ul>
<li>  cache-loader   style-loader  MiniCssExtractPlugin.loader     <em></em> :<br>
<code>['style-loader', 'cache-loader', 'css-loader', ...]</code>.</li>
<li>           ,       ,        «»  —    .</li>
</ul><br>
<p>:</p><br>
<ul>
<li>dev: 35,5  → ( cache-loader) → 36,2  (+2%) → ( ) → 7,9  (-78%)</li>
<li>prod: 60,6  → ( cache-loader) → 61,5  (+1,5%) → ( ) → 30,6  (-49%) → (   Terser) → 15,4  (-75%)</li>
</ul><br>
<p><strong>— <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">HardSourceWebpackPlugin</a></strong></p><br>
<p>   «»        ,     .          webpack,        .  ,           .</p><br>
<pre><code class="javascript hljs">plugins: [<font></font>
  ...,<font></font>
  <span class="hljs-keyword">new</span> HardSourceWebpackPlugin()<font></font>
]</code></pre><br>
<p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>            .                   .</p><br>
<p>:</p><br>
<ul>
<li>dev: 35,5  → ( ) → 36,5  (+3%) → ( ) → 3,7  (-90%)</li>
<li>prod: 60,6  → ( ) → 69,5  (+15%) → ( ) → 25  (-59%) → (   Terser) → 10  (-83%)</li>
</ul><br>
<p>:</p><br>
<ul>
<li>   cache-loader     ;</li>
<li>       ,   cache-loader.</li>
</ul><br>
<p>:</p><br>
<ul>
<li>   cache-loader     (   );</li>
<li>     ;</li>
<li>     webpack-dev-server         (. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>);</li>
<li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">issues</a>    GitHub.</li>
</ul><br>
<p><strong>—   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> babel-loader</a></strong>.   .     ,   cache-loader.</p><br>
<p><strong>—   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> eslint-loader</a></strong>.   .     ,            .</p><br>
<hr><br>
<p>  cache-loader  HardSourceWebpackPlugin           ( TerserWebpackPlugin),           ,  «»  .      cache-loader,    HardSourceWebpackPlugin.</p><br>
<hr><br>
<p>      :</p><br>
<p><em>    ?</em></p><br>
<p>     <code>node_modules/.cache/&lt;_&gt;/</code>.           ,        .</p><br>
<p><em>    ?</em></p><br>
<p>       ,     .               .</p><br>
<p>,     :</p><br>
<ul>
<li>    : package.json, package-lock.json, yarn.lock, .yarn-integrity;</li>
<li>   webpack, Babel, PostCSS, browserslist  ,        .</li>
</ul><br>
<p>    cache-loader  HardSourceWebpackPlugin,         ,      npm-,    ,    :</p><br>
<pre><code class="javascript hljs"><span class="hljs-string">"prunecaches"</span>: <span class="hljs-string">"rimraf ./node_modules/.cache/"</span>,
<span class="hljs-string">"postinstall"</span>: <span class="hljs-string">"npm run prunecaches"</span>,
<span class="hljs-string">"postuninstall"</span>: <span class="hljs-string">"npm run prunecaches"</span></code></pre><br>
<p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">nodemon</a>,    ,   webpack-dev-server      :</p><br>
<pre><code class="javascript hljs"><span class="hljs-string">"start"</span>: <span class="hljs-string">"cross-env NODE_ENV=development nodemon --exec \"webpack-dev-server --config webpack.config.dev.js\""</span></code></pre><br>
<p>nodemon.json</p><br>
<pre><code class="javascript hljs">{
  <span class="hljs-string">"watch"</span>: [
    <span class="hljs-string">"webpack.config.dev.js"</span>,
    <span class="hljs-string">"babel.config.js"</span>,
    <span class="hljs-string">"more configs..."</span>,<font></font>
  ],<font></font>
  <span class="hljs-string">"events"</span>: {
    <span class="hljs-string">"restart"</span>: <span class="hljs-string">"yarn prunecaches"</span><font></font>
  }<font></font>
}</code></pre><br>
<p><em>      ?</em></p><br>
<p>   ,  ,  ,      .          node_modules, ,  ,   .gitignore.</p><br>
<p> ,     ,        ,      Node.js,           CI,              .</p><br>
<p><em>    ,       ?</em></p><br>
<p>   :    ,       dev-  prod-    .  ,      ,  ,       .  CI , ,   «» ,            .</p><br>
<hr><br>
<p>     webpack:</p><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">https://github.com/webpack/webpack/issues/6527</a> —        webpack 5     HardSourcePlugin</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">https://gist.github.com/mzgoddard/0b42ad50048f407c1f3ac434a874f8e1</a> —   HardSourcePlugin  ,        webpack </li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">https://github.com/webpack-contrib/cache-loader/issues/11</a> —    cache-loader   HardSourcePlugin</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">https://github.com/webpack/webpack/issues/250</a> —   webpack  </li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">https://github.com/mzgoddard/hard-source-webpack-plugin/issues/251</a> —    HardSourcePlugin   AutoDllPlugin</li>
</ul><br>
<h2 id="parallelizaciya"></h2><br>
<p>      ,     .      .</p><br>
<p>,   Node.js-       (      ):</p><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> os = <span class="hljs-built_in">require</span>(<span class="hljs-string">'os'</span>);
<span class="hljs-keyword">const</span> cores = os.cpus().length;</code></pre><br>
<p><strong>—   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> TerserWebpackPlugin</a></strong></p><br>
<p>  .  ,    ,      .</p><br>
<pre><code class="javascript hljs">optimization: {
  <span class="hljs-attr">minimizer</span>: [
    <span class="hljs-keyword">new</span> TerserJsPlugin({
      <span class="hljs-attr">terserOptions</span>: { ... },
      <span class="hljs-attr">parallel</span>: <span class="hljs-literal">true</span><font></font>
    })<font></font>
  ]<font></font>
}</code></pre><br>
<p><strong>— <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">thread-loader</a></strong></p><br>
<p>Thread-loader     ,   ,         Node.js («»).</p><br>
<p>  ,        ,       .    <code>poolTimeout</code>  <code>workers</code> — . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>. </p><br>
<p>     cache-loader   ( ): <code>['cache-loader', 'thread-loader', 'babel-loader']</code>.   thread-loader  «» (warmup),     ,   — webpack          .      warmup.</p><br>
<p>        thread-loader    Sass-,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a>.</p><br>
<p><strong>— <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">HappyPack</a></strong></p><br>
<p>,           .        (    ),    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a> thread-loader   .  ,        ,   HappyPack  ,       thread-loader, , .</p><br>
<p>HappyPack   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>  , , ,     :        ,         happypack.            webpack « ».</p><br>
<p>HappyPack  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">  </a>;         ,           API.      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">issues</a> .</p><br>
<h2 id="otkaz-ot-vychisleniy">  </h2><br>
<p>   .    ,   ,    ,            .</p><br>
<p><strong>—       </strong></p><br>
<p><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> test, exclude  include</a>         .  —   ,      .</p><br>
<p>  —  node_modules    Babel:</p><br>
<pre><code class="javascript hljs">rules: [<font></font>
  {<font></font>
    <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.jsx?$/</span>,<font></font>
    exclude: <span class="hljs-regexp">/node_modules/</span>,<font></font>
    loader: <span class="hljs-string">'babel-loader'</span><font></font>
  }<font></font>
]</code></pre><br>
<p>  —  CSS-    :</p><br>
<pre><code class="javascript hljs">rules: [<font></font>
  {<font></font>
    <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.scss$/</span>,<font></font>
    use: [<span class="hljs-string">'style-loader'</span>, <span class="hljs-string">'css-loader'</span>, <span class="hljs-string">'sass-loader'</span>]<font></font>
  },<font></font>
  {<font></font>
    <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.css$/</span>,<font></font>
    use: [<span class="hljs-string">'style-loader'</span>, <span class="hljs-string">'css-loader'</span>]<font></font>
  }<font></font>
]</code></pre><br>
<p><strong>—       dev-</strong></p><br>
<p>            ,     .          ,    .</p><br>
<p>  JS (Terser, Uglify <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> .</a>), CSS (cssnano, optimize-css-assets-webpack-plugin), SVG   (SVGO, Imagemin, image-webpack-loader), HTML (html-minifier,   html-webpack-plugin)  .</p><br>
<p><strong>—       dev-</strong></p><br>
<p>   babel-preset-env, postcss-preset-env  Autoprefixer —  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">  Browserslist</a>  dev-,    ,     .  ,    Chrome  Firefox,        .     .</p><br>
<p> .browserslistrc:</p><br>
<pre><code class="plaintext hljs">[production]<font></font>
your supported browsers go here...<font></font>
<font></font>
[development]<font></font>
last 2 Chrome versions<font></font>
last 2 Firefox versions<font></font>
last 1 Safari version</code></pre><br>
<p><strong>—   source maps</strong></p><br>
<p>     source maps    (   —  30%  prod-   <code>devtool: 'source-map'</code>). ,    source maps  prod- (   CI). ,       — ,        .</p><br>
<p> dev-        — <code>'cheap-eval-source-map'</code>  <code>'cheap-module-eval-source-map'</code>.  .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a> webpack.</p><br>
<p><strong>—    Terser</strong></p><br>
<p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> Terser</a> (      Uglify),       «»  <code>mangle</code>  <code>compress</code>.            .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>   vue-cli  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a>    Slack.     Terser         7%    2,5-   .     —  .</p><br>
<p><strong>—     </strong></p><br>
<p>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><code>module.noParse</code></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><code>resolve.alias</code></a>               ,     .  dev-      ,    .</p><br>
<p>  :</p><br>
<p>(1)   ,     .</p><br>
<p>    runtime-,    (      ,   react-dom  lodash),     ( ),    ( ).       .</p><br>
<p>(2)         .</p><br>
<p>      ,         —    <code>module.exports</code>, <code>require</code>, <code>process</code>, <code>import</code>  ..       (  ) single-file ,      dist   .   ,    node_modules. ,  axios      : <code>node_modules/axios/dist/axios.js</code>.</p><br>
<p>(3)   webpack   <code>resolve.alias</code>          ,        .</p><br>
<p>:</p><br>
<pre><code class="javascript hljs">{
  <span class="hljs-attr">resolve</span>: {
    <span class="hljs-attr">alias</span>: {
      <span class="hljs-attr">axios</span>: path.resolve(<font></font>
        __dirname,<font></font>
        <span class="hljs-string">'node_modules/dist/axios.min.js'</span><font></font>
      ),<font></font>
      ...<font></font>
    }<font></font>
  }<font></font>
}</code></pre><br>
<p>   :              ( ,  <code>main</code>  <code>package.json</code>),       ,      ES-,      -  (, babel-plugin-transform-imports),    .  ,    .</p><br>
<p>(4)   webpack   <code>module.noParse</code>,         ,      2.</p><br>
<p>:</p><br>
<pre><code class="javascript hljs">{
  <span class="hljs-attr">module</span>: {
    <span class="hljs-attr">noParse</span>: [
      <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">'node_modules/dist/axios.min.js'</span>),<font></font>
      ...<font></font>
    ]<font></font>
  }<font></font>
}</code></pre><br>
<p>:     ,            ,    —    .</p><br>
<p>      —   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><code>externals</code></a>.        HTML-    ,       ,  package.json.</p><br>
<p><strong>—             </strong></p><br>
<p>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">DllPlugin</a>.            ( )     (, ).      (  DLL)       —   .</p><br>
<p>     :</p><br>
<ol>
<li>  DLL    webpack,      .</li>
<li>    . DllPlugin  DLL-  -       .</li>
<li>     DllReferencePlugin,    .</li>
<li> ,   DLL,          .</li>
</ol><br>
<p>       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>.</p><br>
<p>   ,      :</p><br>
<ul>
<li> DLL    ,     :   ,           .</li>
<li>  DLL-      ,              HTML-      : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">1</a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">2</a>.</li>
<li>       ,     DLL-.</li>
<li> :  DLL-   tree-shaking.  ,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><code>entryOnly</code></a>,    .</li>
</ul><br>
<p>       (  ,    html-webpack-plugin v3 —  4-   )    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">AutoDllPlugin</a>.          <code>entryOnly</code>   « » DllPlugin,               webpack 5.</p><br>
<h2 id="raznoe"></h2><br>
<p>     .    Node.js, npm / yarn     (webpack, Babel  .)    . ,          changelog, issues,   ,      .</p><br>
<p>  PostCSS  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">postcss-preset-env</a>     stage,      . ,      stage-3,     Custom Properties,    stage-4     13%.</p><br>
<p>   Sass (node-sass, sass-loader),  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Dart Sass</a> ( Sass  Dart,   JS)  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">fast-sass-loader</a>. ,        .      — dart-sass    ,  node-sass,     JS,     libsass.</p><br>
<p>  Dart Sass    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> sass-loader</a>.         Sass    fibers.</p><br>
<p>   CSS-,          dev-.     - ,   ,         ,   .</p><br>
<p>:</p><br>
<pre><code class="javascript hljs">{
  <span class="hljs-attr">loader</span>: <span class="hljs-string">'css-loader'</span>,
  <span class="hljs-attr">options</span>: {
    <span class="hljs-attr">modules</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">localIdentName</span>: isDev<font></font>
      ? <span class="hljs-string">'[path][name][local]'</span>
      : <span class="hljs-string">'[hash:base64:5]'</span><font></font>
  }<font></font>
}</code></pre><br>
<p>,   , :      .</p><br>
<p>,  -    webpack  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">PrefetchPlugin</a>,      ,    — .  webpack  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">  issues</a>    ,     .     ?</p><br>
<ol>
<li>    .     CLI- <code>--json</code>,  .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>. ,  ,   dev- .</li>
<li>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">-</a>     Hints.</li>
<li> ,  “Long module build chains”.   ,     — PrefetchPlugin  .</li>
<li>     PrefetchPlugin.     . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">  StackOverflow</a>.</li>
</ol><br>
<p>:         .</p><br>
<h2 id="v-kachestve-zaklyucheniya">  </h2><br>
<p>    ,       (TypeScript, Angular  .) —   !</p><br>
<h2 id="istochniki"></h2><br>
<p>    , ,   ,      .</p><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">https://webpack.js.org/guides/build-performance/</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">https://survivejs.com/webpack/optimizing/performance/</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">https://github.com/webpack/docs/wiki/build-performance</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">https://slack.engineering/keep-webpack-fast-a-field-guide-for-better-build-performance-f56a5995e8f1</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">https://medium.com/webpack/typescript-webpack-super-pursuit-mode-83cc568dea79</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://medium.com/ottofellercom/0-100-in-two-seconds-speed-up-webpack-465de691ed4a</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://medium.com/onfido-tech/speed-up-webpack-ff53c494b89c</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://blog.box.com/blog/how-we-improved-webpack-build-performance-95</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://engineering.bitnami.com/articles/optimizing-your-webpack-builds.html</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://habr.com/en/company/skbkontur/blog/351080/</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://habr.com/en/company/oleg-bunin/blog/433324/</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/lcxfs1991/blog/issues/15</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/FrendEr/webpack-optimize-example</font></font></a></li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja451130/index.html">Swift：ARCとメモリ管理</a></li>
<li><a href="../ja451132/index.html">消費者主導の契約またはGitlab CI Eyed QAテスト自動化</a></li>
<li><a href="../ja451136/index.html">.NET 5で導入</a></li>
<li><a href="../ja451138/index.html">Symfony CLI-新しいローカル開発ツール</a></li>
<li><a href="../ja451144/index.html">骨董品：テレビ広告のテクニック</a></li>
<li><a href="../ja451148/index.html">グラフィック言語でのオブジェクト指向プログラミング</a></li>
<li><a href="../ja451150/index.html">できればキャッチ・ミー。マネージャーのバージョン</a></li>
<li><a href="../ja451152/index.html">ゲート回路の抵抗器またはそれを正しく行う方法</a></li>
<li><a href="../ja451154/index.html">ローカル自律データ収集システム（続き）</a></li>
<li><a href="../ja451158/index.html">電気回路。回路タイプ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>