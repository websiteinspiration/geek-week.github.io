<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👎 🤷🏼 ⭐️ DisplayPort-LVDS 📩 🤞🏽 🐴</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="こんにちは、ハブル！
 
 
 
 また、ハードウェアコンバータープロジェクトに注目したいのですが、DisplayPort-LVDSは1つの（！）NXPチップ上に構築されています。
 
 問題の定式化
 ファームウェアなしのシンプルなDisplayPort-LVDSコンバーターを開発します。アクセス...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>DisplayPort-LVDS</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/461801/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">こんにちは、ハブル！</font></font><br>
<br>
<img src="https://habrastorage.org/webt/lc/hi/tw/lchitwtiomqhwgnl6wsndq_kydm.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、ハードウェアコンバータープロジェクトに注目したいのですが、DisplayPort-LVDSは1つの（！）NXPチップ上に構築されています。</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">問題の定式化</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ファームウェアなしのシンプルなDisplayPort-LVDSコンバーターを開発します。</font><font style="vertical-align: inherit;">アクセス可能な要素ベースのハードウェア実装。</font><font style="vertical-align: inherit;">コンバーターはユニバーサルで、さまざまなタイプのマトリックス（シングルおよびデュアルチャネルLVDSを使用）およびインバーターの電圧制御信号をサポートする必要があります。</font><font style="vertical-align: inherit;">工業用温度範囲で作業してください。</font><font style="vertical-align: inherit;">一般に、以前は「AHL-14.3」という名前で開発されたHDMI-LVDSと同様です。</font><font style="vertical-align: inherit;">また、これらのコントローラー間の完全な互換性を実現したいと本当に思っていました。ピン配列、EDIDファームウェア、全体の寸法、埋め込み用の寸法などです。</font><font style="vertical-align: inherit;">設計コストを削減するために、彼はDIPスイッチと24V電源のサポートを拒否しました。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主な要件</font></font></h3><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2つのLVDSチャネル（1つを切り替えて使用する機能）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンバーターの2ピクセル動作モード。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">理想的には6から10までのさまざまなビットサイズの行列のサポート。 </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンバーターの動作電圧12V;</font></font></li>
<li>   3,3, 5, 12;</li>
<li> / : 3,3   ;</li>
</ul><br>
<h3>  </h3><br>
<ul>
<li> ()   (   2);</li>
<li>      «AHL-14.3»;</li>
<li>/,     ;</li>
<li> // EDID.</li>
</ul><br>
<h3> </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
少しググって、解決策があまりないことに気づきました。</font><font style="vertical-align: inherit;">PTN3460チップはすぐに私の目に留まり、S-PQFP-G100パッケージに2つの13x13mmチップがあったとき、彼は私の古いソリューション（HDMI付き）に対して7x7mm（56-VFQFN）の寸法を気に入っていました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
彼と一緒に（PTN3460）、ボードのプロトタイピングを開始することを決めました（ただし、彼の作業は苦情を引き起こさなかったため、リリースのために立ち止まりました）。</font><font style="vertical-align: inherit;">PTN3460チップは、0度と-40度の2つの温度範囲で動作します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/cd/de/md/cddemdkjm-sgudln4ehm6m1hq1m.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図1。</font><font style="vertical-align: inherit;">DisplayPort-LVDSコントローラーの3Dモデルtop </font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/lr/p5/z6/lrp5z62fgtw8o5n57qofds_fj3q.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図2。</font><font style="vertical-align: inherit;">DisplayPort-LVDSボトムコントローラーの3Dモデル</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要素ベースの選択</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 PTN3460には最小限の配線があります。これは文字通り10個のセラミックコンデンサと同じ数の構成抵抗です。可能な限りすべてのレッグの構成で最も普遍的なデバイスを実現したかったので、さらにいくつか取得しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3.3Vと5Vの電圧はSTMicroelectronics（3A）ST1S10PHRコンバーターによって生成されます-それらは長い間十分に実証されており、私はそれらのプロジェクトで引き続き使用しています（ちなみに、良いフィーダーですが、すでに4AでこれはST1S41です）。以前のバージョンと同様に、コントローラーはSTM32F100です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すでにデバッグと改良の段階で、ソフトウェアは組み込みのEEPROMをEDIDに使用し始めました。</font><font style="vertical-align: inherit;">以前は、AT24C02（または同様のもの）などのチップが使用されていましたが、実際にはEDIDが格納されていました。</font><font style="vertical-align: inherit;">PTN3460を使用すると、EDIDを自分の内部に配置できるため、コストを少し節約できます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/me/ym/wt/meymwt6ejqfc3vjmb1a962uvepw.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図3。</font><font style="vertical-align: inherit;">PTN3460配線図</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バックライトとパネル設定の制御</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
パネルのバックライトをオンにして輝度を調整するには、3.3Vの電圧を使用します。スイッチオンは、インバーターの特定のピンに論理ユニットを供給することによって行われ、輝度制御-PWMを使用します。ボード上のボタンを制御するために表示されます（外部キーボードを接続するためのコネクタもあります）。ボタンハンドラーとPWMはSTM32F100コントローラーに実装されており、LED表示（オン/オフ/ファームウェアEDID）も制御します。バックライトコントロール（PWM）には、論理ユニットの最大輝度と論理ゼロの最大輝度の2つのタイプがあることに注意してください。この設計では、これはボード上の対応する指定でジャンパーを切り替えることによって実現されます。 3.3V / 5V / 12V / GNDピン（ジャンパー経由）がボードのLVDSコネクターに挿入されました。マトリックスには、しばしば制御ピンが存在します：MAP（データカード）、BIT（ビット選択）、MODE（通常およびミラーモード）など...これらのパラメーターを制御する必要がある場合は、対応するマトリックスピンをLVDSコンバーターコネクターに入力し、そのうちの1つを変更できます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/a1/ra/h2/a1rah2hmy67o81o7f2396kc8_ss.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図4。</font><font style="vertical-align: inherit;">DisplayPort-LVDSコントローラーの外観</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">セットアップと最初の起動</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コンバーターの構成は次のとおりです。 </font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コントローラのファームウェアは、標準のSWDに従って実行されます。 </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EDIDパラメータを設定します。</font><font style="vertical-align: inherit;">同じプログラム「Deltacast E-EDID Editor」が役に立ちます。ここでは、データシートからマトリックスパラメーターを指定します（すべてのマトリックスメーカーがすべてのパラメーターをリストしているわけではないため、場合によっては選択方法によって）。</font></font></li>
</ol><br>
<img src="https://habrastorage.org/webt/fj/lt/a5/fjlta5qcqnpg7pt9woqgdflxo-y.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図5。 Deltacast E-EDID Editorアプリケーション</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
上記で書いたように、ソフトウェア部分を含め、完全な互換性を実現したいと考えました。マイクロコントローラーのファームウェアでは、EEPROMアドレスを変更する必要がありましたが（すべてのGPIO制御を変更しませんでした）、EDID LOADERプログラムは変更されずに表示されました。コンバーターは、USB-UARTアダプターを使用してUART経由でPCに接続されます。次に、EDIDを含むファイルであるCOMポートを選択し、ファームウェアボタンを押します。オンボードには、ファームウェアLED R_EEの表示があります。オフになると、PC上のプログラムがファームウェアの終了に関するメッセージを発行します。ファームウェアが失敗した場合、エラーメッセージがクラッシュします。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ca/gg/rz/caggrztyokg39veyi2n0ugenhxa.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図6。 EDID LOADERアプリケーション</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
。現在、ハードウェアとソフトウェアをテストするためのボードがいくつか作成されています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初の反復はいくつかの配線で判明しました-DisplayPortコネクタで間違ったペアを使用したため、デバイスはすぐに動作し、重大な瞬間は発生しませんでした。</font><font style="vertical-align: inherit;">委員会は、食料と土地のために適切な埋め立て地を築くために、すぐに4つの層で行いました。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">開発のメリット</font></font></h3><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンバーターのハードウェア実装。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">普遍; </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">セットアップが簡単。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ご清聴ありがとうございました！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PS。</font><font style="vertical-align: inherit;">興味のある方は、新しい</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HDMI-LVDS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">記事をご覧ください</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">。</font></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">MStarのTSUMV59で開発された</font></a></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
このコントローラーは、サウンドとOSDメニューを搭載しています。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja461781/index.html">「Ycombinator Startup School 2019」。最初の3週間のビデオ</a></li>
<li><a href="../ja461785/index.html">RISC-Vの欠点</a></li>
<li><a href="../ja461787/index.html">Androidテキスト表示</a></li>
<li><a href="../ja461793/index.html">Ivan Ponomarevがjug.msk.ruミーティングでKafka Streams APIについて</a></li>
<li><a href="../ja461797/index.html">テイルズオブサービス。深刻な仕事についてのばかげた投稿</a></li>
<li><a href="../ja461803/index.html">データバージョン管理（DVC）：データのバージョン管理と実験の再現性</a></li>
<li><a href="../ja461805/index.html">レンダリングにおけるモンテカルロ統合アプリケーション</a></li>
<li><a href="../ja461807/index.html">Kubernetesでのポッドの優先順位がGrafana Labsでのダウンタイムの原因</a></li>
<li><a href="../ja461813/index.html">OpenStreetMap No. 470の世界からのニュース（2019/07/16-2019/07/22）</a></li>
<li><a href="../ja461815/index.html">半世紀前のコンピュータ電源設計の革命</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>