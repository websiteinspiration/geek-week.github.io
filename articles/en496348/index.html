<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßìüèø üõÄüèΩ ü•£ Web Storage API Case Studies ü§ü ü§ñ üë®üèΩ‚Äç‚öïÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day, friends! 
 
 In this article, we‚Äôll look at a couple of examples of using the Web Storage API or the Storage object. 
 
 What exactly are we...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Web Storage API Case Studies</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/496348/"><img src="https://habrastorage.org/webt/nl/a2/o-/nla2o-j5qvmgq-tdpqfwsjk__ki.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Good day, friends! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In this article, we‚Äôll look at a couple of examples of using the Web Storage API or the Storage object. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
What exactly are we going to do?</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Learn to remember the video playback time.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We‚Äôll work with the page login form.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Let's write the logic of the task list.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We implement chat.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sketch a basket for goods.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So let's go.</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Short review</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The Storage object is used to store data on the client side and, in this sense, acts as an alternative to cookies. The advantage of Storage is the storage size (from 5 MB, it depends on the browser, when the limit is exceeded, the error ‚ÄúQUOTA_EXCEEDED_ERR‚Äù is thrown) and there is no need to access the server. A significant drawback is security: it costs a malicious script to access the page, and write is lost. Therefore, it is highly discouraged to store confidential information in Storage. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In fairness, it is worth noting that today there are more advanced solutions for storing data on the client side - this is IndexedDB, Service Workers + Cache API, etc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can read about service workers </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The Web Storage API includes localStorage and sessionStorage. </font><font style="vertical-align: inherit;">The difference between them is the data storage time. </font><font style="vertical-align: inherit;">In localStorage, data is stored permanently until it is "explicitly" deleted (neither reloading the page nor closing it results in data deletion). </font><font style="vertical-align: inherit;">The data storage time in sessionStorage, as the name implies, is limited by the browser session. </font><font style="vertical-align: inherit;">Since sessionStorage is almost never used in practice, we will only consider localStorage.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">What you need to know about localStorage?</font></font></h4><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">When using localStorage, a representation of the Storage object is created.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Data in localStorage is stored as key / value pairs.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Data is stored as strings.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The data is not sorted, which sometimes leads to their mixing (as we will see with the example of the task list).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">When you enable incognito or private mode in your browser, using localStorage may become impossible (browser dependent).</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
localStorage has the following methods:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Storage.key (n) - key name with index n</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Storage.getItem () - get the item</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Storage.setItem () - write an item</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Storage.removeItem () - delete an item</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Storage.clear () - clear storage</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Storage.length - storage length (number of elements - key / value pairs)</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the specification, it looks like this:</font></font><br>
<br>
<pre><code class="javascript hljs">interface Storage {<font></font>
    readonly attribute unsigned long length;<font></font>
    DOMString? key(unsigned long index);<font></font>
    getter DOMString? getItem(DOMString key);<font></font>
    setter <span class="hljs-keyword">void</span> setItem(DOMString key, DOMString value);<font></font>
    deleter <span class="hljs-keyword">void</span> removeItem(DOMString key);
    <span class="hljs-keyword">void</span> clear();<font></font>
};<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Data is written to the storage in one of the following ways:</font></font><br>
<br>
<pre><code class="javascript hljs">localStorage.color = <span class="hljs-string">'deepskyblue'</span>
localStorage[color] = <span class="hljs-string">'deepskyblue'</span>
localStorage.setItem(<span class="hljs-string">'color'</span>, <span class="hljs-string">'deepskyblue'</span>) <span class="hljs-comment">//    </span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can get the data like this:</font></font><br>
<br>
<pre><code class="javascript hljs">localStorage.getItem(<span class="hljs-string">'color'</span>)<font></font>
localStorage[<span class="hljs-string">'color'</span>]
</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How to iterate over storage keys and get values?</font></font></h4><br>
<pre><code class="javascript hljs"><span class="hljs-comment">//  1</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; localStorage.length; i++) {
    <span class="hljs-keyword">let</span> key = localStorage.key(i)
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`<span class="hljs-subst">${key}</span>: <span class="hljs-subst">${localStorage.getItem(key)}</span>`</span>)<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">//  2</span>
<span class="hljs-keyword">let</span> keys = <span class="hljs-built_in">Object</span>.keys(localStorage)
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> key <span class="hljs-keyword">of</span> keys) {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`<span class="hljs-subst">${key}</span>: <span class="hljs-subst">${localStorage.getItem(key)}</span>`</span>)<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As we noted above, the data in the storage has a string format, so there are some difficulties with writing objects, which can be easily solved using the JSON.stringify () - JSON.parse () tandem:</font></font><br>
<br>
<pre><code class="javascript hljs">localStorage.user = {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'Harry'</span><font></font>
}<font></font>
<span class="hljs-built_in">console</span>.dir(localStorage.user) <span class="hljs-comment">// [object Object]</span><font></font>
<font></font>
localStorage.user = <span class="hljs-built_in">JSON</span>.stringify({
    <span class="hljs-attr">name</span>: <span class="hljs-string">'Harry'</span><font></font>
})<font></font>
<span class="hljs-keyword">let</span> user = <span class="hljs-built_in">JSON</span>.parse(localStorage.user)
<span class="hljs-built_in">console</span>.dir(user.name) <span class="hljs-comment">// Harry</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To interact with localStorage, there is a special event - storage (onstorage), which occurs when data is written / deleted. </font><font style="vertical-align: inherit;">It has the following properties:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">key - key</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">oldValue - old value</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">newValue - new value</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">url - storage address</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">storageArea - the object in which the change occurred</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the specification, it looks like this:</font></font><br>
<br>
<pre><code class="javascript hljs">[Constructor(DOMString type, optional StorageEventInit eventInitDict)]<font></font>
    interface StorageEvent : Event {<font></font>
    readonly attribute DOMString? key;<font></font>
    readonly attribute DOMString? oldValue;<font></font>
    readonly attribute DOMString? newValue;<font></font>
    readonly attribute DOMString url;<font></font>
    readonly attribute Storage? storageArea;<font></font>
};<font></font>
<font></font>
dictionary StorageEventInit : EventInit {<font></font>
    DOMString? key;<font></font>
    DOMString? oldValue;<font></font>
    DOMString? newValue;<font></font>
    DOMString url;<font></font>
    Storage? storageArea;<font></font>
};<font></font>
</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Does localStorage allow prototyping?</font></font></h4><br>
<pre><code class="javascript hljs">Storage.prototype.removeItems = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">for</span> (item <span class="hljs-keyword">in</span> <span class="hljs-built_in">arguments</span>) {
        <span class="hljs-keyword">this</span>.removeItem(<span class="hljs-built_in">arguments</span>[item])<font></font>
    }<font></font>
}<font></font>
<font></font>
localStorage.setItem(<span class="hljs-string">'first'</span>, <span class="hljs-string">'some value'</span>)<font></font>
localStorage.setItem(<span class="hljs-string">'second'</span>, <span class="hljs-string">'some value'</span>)<font></font>
<font></font>
localStorage.removeItems(<span class="hljs-string">'first'</span>, <span class="hljs-string">'second'</span>)<font></font>
<font></font>
<span class="hljs-built_in">console</span>.log(localStorage.length) <span class="hljs-comment">// 0</span>
</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How to check for data in localStorage?</font></font></h4><br>
<pre><code class="javascript hljs"><span class="hljs-comment">//  1</span>
localStorage.setItem(<span class="hljs-string">'name'</span>, <span class="hljs-string">'Harry'</span>)<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isExist</span>(<span class="hljs-params">name</span>) </span>{
    <span class="hljs-keyword">return</span> (!!localStorage[name])<font></font>
}<font></font>
<font></font>
isExist(<span class="hljs-string">'name'</span>) <span class="hljs-comment">// true</span><font></font>
<font></font>
<span class="hljs-comment">//  2</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isItemExist</span>(<span class="hljs-params">name</span>) </span>{
    <span class="hljs-keyword">return</span> (name <span class="hljs-keyword">in</span> localStorage)<font></font>
}<font></font>
<font></font>
isItemExist(<span class="hljs-string">'name'</span>) <span class="hljs-comment">// true</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The localStorage browser can be found here: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/aa/1d/k4/aa1dk4a6huwe1mw8efmbbniipxy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Enough words, it's time to </font><font style="vertical-align: inherit;">get down </font><font style="vertical-align: inherit;">to business.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Examples of using</font></font></h3><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remember the video playback time</font></font></h4><br>
<pre><code class="javascript hljs"><span class="hljs-built_in">window</span>.onload = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-comment">//   &lt;video&gt;</span>
    <span class="hljs-keyword">let</span> video = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'video'</span>)<font></font>
    <font></font>
    <span class="hljs-comment">//  localStorage   currentTime ( ),    video.currentTime</span>
    <span class="hljs-keyword">if</span>(localStorage.currentTime) {<font></font>
        video.currentTime = localStorage.currentTime<font></font>
    }<font></font>
    <font></font>
    <span class="hljs-comment">//    video.currentTime,     localStorage.currentTime</span>
    video.addEventListener(<span class="hljs-string">'timeupdate'</span>, () =&gt; localStorage.currentTime = video.currentTime)<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The result looks like this: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sb/vk/xy/sbvkxyicwlfgtnem7gv7ntkvd_e.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Start the video and stop playback on the third second, for example. </font><font style="vertical-align: inherit;">The time we left off is stored in localStorage. </font><font style="vertical-align: inherit;">To verify this, reload or close / open the page. </font><font style="vertical-align: inherit;">We see that the current video playback time remains the same. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Codepen </font></font></a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Github</font></font></a><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We work with the login form</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The markup looks like this:</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span>
    Login: <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span>&gt;</span>
    Password: <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We have a form and three "inputs." </font><font style="vertical-align: inherit;">For the password, we use &lt;input type = "text"&gt;, because if you use the correct type (password), Chrome will try to save the entered data, which will prevent us from implementing our own functionality. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JavaScript:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">//         </span>
<span class="hljs-keyword">let</span> form = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'form'</span>)
<span class="hljs-keyword">let</span> login = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'input'</span>)
<span class="hljs-keyword">let</span> password = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'input + input'</span>)<font></font>
<font></font>
<span class="hljs-comment">//  localStorage  </span>
<span class="hljs-comment">//     </span>
<span class="hljs-comment">//    </span>
<span class="hljs-keyword">if</span> (localStorage.length != <span class="hljs-number">0</span>) {<font></font>
    login.value = localStorage.login<font></font>
    password.value = localStorage.password<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">//      "submit"</span>
form.addEventListener(<span class="hljs-string">'submit'</span>, () =&gt; {
    <span class="hljs-comment">//      localStorage</span><font></font>
    localStorage.login = login.value<font></font>
    localStorage.password = password.value<font></font>
    <font></font>
    <span class="hljs-comment">//    hello  world     , </span>
    <span class="hljs-comment">//       "welcome"  </span>
    <span class="hljs-keyword">if</span> (login.value == <span class="hljs-string">'hello'</span> &amp;&amp; password.value == <span class="hljs-string">'world'</span>) {
        <span class="hljs-built_in">document</span>.write(<span class="hljs-string">'welcome'</span>)<font></font>
    }<font></font>
})<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Please note that we do not "validate" the form. </font><font style="vertical-align: inherit;">This, in particular, allows you to record empty lines as a username and password. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The result looks like this: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/d0/xw/vt/d0xwvtpapbxhsksicqdic60wwlc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We introduce magic words. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fg/c9/7t/fgc97trjpur_hnrmsahojsbuys4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Data is written to localStorage, and a greeting is displayed on the page. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Codepen </font></font></a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Github</font></font></a><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Writing the logic of the task list</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The markup looks like this:</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"add"</span>&gt;</span>add task<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"clear"</span>&gt;</span>clear storage<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We have an ‚Äúinput‚Äù for entering a task, a button for adding a task to the list, a button for cleaning the list and storage, and a container for the list. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JavaScript:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">//      </span>
<span class="hljs-keyword">let</span> input = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'input'</span>)<font></font>
input.focus()<font></font>
<span class="hljs-comment">//       </span>
<span class="hljs-keyword">let</span> addButton = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'.add'</span>)
<span class="hljs-comment">//    </span>
<span class="hljs-keyword">let</span> list = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'ul'</span>)<font></font>
<font></font>
<span class="hljs-comment">//   localStorage  </span>
<span class="hljs-keyword">if</span> (localStorage.length != <span class="hljs-number">0</span>) {
    <span class="hljs-comment">//     /</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; localStorage.length; i++) {
        <span class="hljs-keyword">let</span> key = localStorage.key(i)
        <span class="hljs-comment">//   -  </span>
        <span class="hljs-keyword">let</span> template = <span class="hljs-string">`<span class="hljs-subst">${localStorage.getItem(key)}</span>`</span>
        <span class="hljs-comment">//    </span>
        list.insertAdjacentHTML(<span class="hljs-string">'afterbegin'</span>, template)<font></font>
    }<font></font>
    <font></font>
    <span class="hljs-comment">//      "close" -    </span>
    <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">'.close'</span>).forEach(<span class="hljs-function"><span class="hljs-params">b</span> =&gt;</span> {
        <span class="hljs-comment">//   </span>
        b.addEventListener(<span class="hljs-string">'click'</span>, e =&gt; {
            <span class="hljs-comment">//    "li"</span>
            <span class="hljs-keyword">let</span> item = e.target.parentElement
            <span class="hljs-comment">//    </span><font></font>
            list.removeChild(item)<font></font>
            <span class="hljs-comment">//    localStorage</span>
            localStorage.removeItem(<span class="hljs-string">`<span class="hljs-subst">${item.dataset.id}</span>`</span>)<font></font>
        })<font></font>
    })<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">//       "Enter"</span>
<span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">'keydown'</span>, e =&gt; {
    <span class="hljs-keyword">if</span> (e.keyCode == <span class="hljs-number">13</span>) addButton.click()<font></font>
})<font></font>
<font></font>
<span class="hljs-comment">//           ""</span>
addButton.addEventListener(<span class="hljs-string">'click'</span>, () =&gt; {
    <span class="hljs-comment">//   - </span>
    <span class="hljs-keyword">let</span> text = input.value
    <span class="hljs-comment">//  ,          "data-id"</span>
    <span class="hljs-keyword">let</span> template = <span class="hljs-string">`&lt;li data-id="<span class="hljs-subst">${++localStorage.length}</span>"&gt;&lt;button class="close"&gt;V&lt;/button&gt;&lt;time&gt;<span class="hljs-subst">${<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().toLocaleDateString()}</span>&lt;/time&gt; &lt;p&gt;<span class="hljs-subst">${text}</span>&lt;/p&gt;&lt;/li&gt;`</span>
    <span class="hljs-comment">//   -   </span>
    list.insertAdjacentHTML(<span class="hljs-string">'afterbegin'</span>, template)
    <span class="hljs-comment">//    localStorage</span>
    localStorage.setItem(<span class="hljs-string">`<span class="hljs-subst">${++localStorage.length}</span>`</span>, template)
    <span class="hljs-comment">//   </span>
    input.value = <span class="hljs-string">''</span><font></font>
<font></font>
    <span class="hljs-comment">//           ""</span>
    <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'.close'</span>).addEventListener(<span class="hljs-string">'click'</span>, e =&gt; {
        <span class="hljs-comment">//    -   </span>
        <span class="hljs-keyword">let</span> item = e.target.parentElement
        <span class="hljs-comment">//    </span><font></font>
        list.removeChild(item)<font></font>
        <span class="hljs-comment">//    localStorage</span>
        localStorage.removeItem(<span class="hljs-string">`<span class="hljs-subst">${item.dataset.id}</span>`</span>)<font></font>
    })<font></font>
})<font></font>
<font></font>
<span class="hljs-comment">//        ""</span>
<span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'.clear'</span>).onclick = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-comment">//  </span><font></font>
    localStorage.clear()<font></font>
    <span class="hljs-comment">//    </span>
    <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">'li'</span>).forEach(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> list.removeChild(item))
    <span class="hljs-comment">//   </span><font></font>
    input.focus()<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The result looks like this: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/3y/8f/4-/3y8f4-5lgjdb9hk7vhq4qkidjhk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tasks added to the list are stored in localStorage as ready-made markup. </font><font style="vertical-align: inherit;">When the page is reloaded, the list is formed from the data of the storage (there is mixing, which was mentioned above). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gp/df/zw/gpdfzwryzwdv9bafzgcfd2uqn-4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Removing a task from the list by clicking the green checkmark removes the corresponding key / value pair from the repository. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Codepen </font></font></a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Github</font></font></a><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chat Implementation</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The markup looks like this:</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"send"</span>&gt;</span>send message<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"save"</span>&gt;</span>save chat<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"clear"</span>&gt;</span>clear chat<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We have an input for entering a message, three buttons: for sending a message, for saving correspondence and for cleaning chat and storage, as well as a container for messages. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JavaScript:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">//      </span>
<span class="hljs-keyword">let</span> input = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'input'</span>)<font></font>
input.focus()<font></font>
<font></font>
<span class="hljs-comment">//  </span>
<span class="hljs-keyword">let</span> sendButton = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'.send'</span>)
<span class="hljs-keyword">let</span> saveButton = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'.save'</span>)
<span class="hljs-keyword">let</span> clearButton = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'.clear'</span>)<font></font>
<font></font>
<span class="hljs-comment">//  </span>
<span class="hljs-keyword">let</span> box = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'div'</span>)<font></font>
<font></font>
<span class="hljs-comment">//      "messages"</span>
<span class="hljs-keyword">if</span> (localStorage.messages) {
    <span class="hljs-comment">//  </span><font></font>
    localStorage.messages<font></font>
        .split(<span class="hljs-string">'&lt;/p&gt;,'</span>)<font></font>
        .map(<span class="hljs-function"><span class="hljs-params">p</span> =&gt;</span> box.insertAdjacentHTML(<span class="hljs-string">'beforeend'</span>, p))<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">//   </span>
sendButton.addEventListener(<span class="hljs-string">'click'</span>, () =&gt; {
    <span class="hljs-comment">//   </span>
    <span class="hljs-keyword">let</span> text = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'input'</span>).value
    <span class="hljs-comment">//  </span>
    <span class="hljs-keyword">let</span> template = <span class="hljs-string">`&lt;p&gt;&lt;time&gt;<span class="hljs-subst">${<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().toLocaleTimeString()}</span>&lt;/time&gt; <span class="hljs-subst">${text}</span>&lt;/p&gt;`</span>
    <span class="hljs-comment">//    </span>
    box.insertAdjacentHTML(<span class="hljs-string">'afterbegin'</span>, template)
    <span class="hljs-comment">//   </span>
    input.value = <span class="hljs-string">''</span>
    <span class="hljs-comment">//    </span><font></font>
    localStorage.message = template<font></font>
})<font></font>
<font></font>
<span class="hljs-comment">//       "Enter"</span>
<span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">'keydown'</span>, e =&gt; {
    <span class="hljs-keyword">if</span> (e.keyCode == <span class="hljs-number">13</span>) sendButton.click()<font></font>
})<font></font>
<font></font>
<span class="hljs-comment">//   "storage"</span>
<span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">'storage'</span>, event =&gt; {
    <span class="hljs-comment">//     "messages"</span>
    <span class="hljs-comment">//  </span>
    <span class="hljs-keyword">if</span> (event.key == <span class="hljs-string">'messages'</span>) <span class="hljs-keyword">return</span>
    <span class="hljs-comment">//      null</span>
    <span class="hljs-comment">//     </span>
    <span class="hljs-comment">//     </span>
    event.newValue == <span class="hljs-literal">null</span> ? clearButton.click() : box.insertAdjacentHTML(<span class="hljs-string">'afterbegin'</span>, event.newValue)<font></font>
})<font></font>
<font></font>
<span class="hljs-comment">//  </span>
saveButton.addEventListener(<span class="hljs-string">'click'</span>, () =&gt; {
    <span class="hljs-comment">//  </span>
    <span class="hljs-keyword">let</span> messages = []
    <span class="hljs-comment">//  </span>
    <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">'p'</span>).forEach(<span class="hljs-function"><span class="hljs-params">p</span> =&gt;</span> messages.push(p.outerHTML))
    <span class="hljs-comment">//    </span><font></font>
    localStorage.messages = messages<font></font>
})<font></font>
<font></font>
<span class="hljs-comment">//    </span>
clearButton.addEventListener(<span class="hljs-string">'click'</span>, () =&gt; {<font></font>
    localStorage.clear()<font></font>
    <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">'p'</span>).forEach(<span class="hljs-function"><span class="hljs-params">p</span> =&gt;</span> box.removeChild(p))<font></font>
    input.focus()<font></font>
})<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The result looks like this: The </font></font><br>
<br>
<img src="https://habrastorage.org/webt/0e/ps/jz/0epsjz2v3zje0_tzohmiod6ytlm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
message being sent is written to localStorage.message. </font><font style="vertical-align: inherit;">The "storage" event allows you to organize the exchange of messages between browser tabs. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pj/1q/uv/pj1quvhfmefmaxdypysppfc3r70.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When a chat is saved, all messages are written to localStorage.messages. </font><font style="vertical-align: inherit;">When the page is reloaded, correspondence is formed from the recorded messages. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Codepen </font></font></a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Github</font></font></a><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Shopping basket layout</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We are not aiming to create a fully functional basket, so the code will be written "in the old style." </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The layout of one product looks like this:</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"item"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"title"</span>&gt;</span>Item1<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"http://placeimg.com/150/200/tech"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"#"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Price: <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"price"</span>&gt;</span>1000<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"add"</span> <span class="hljs-attr">data-id</span>=<span class="hljs-string">"1"</span>&gt;</span>Buy<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We have a container for the goods, the name, image and price of the goods, as well as a button for adding goods to the basket. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We also have a container for buttons to display the contents of the basket and empty the basket and storage and a container for the basket.</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"buttons"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"open"</span>&gt;</span>Cart<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"clear"</span>&gt;</span>Clear<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"content"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JavaScript:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">//    </span>
<span class="hljs-keyword">let</span> itemBox = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">'.item'</span>),<font></font>
    cart = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'content'</span>);<font></font>
<font></font>
<span class="hljs-comment">//    localStorage</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getCartData</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">JSON</span>.parse(localStorage.getItem(<span class="hljs-string">'cart'</span>));<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">//    </span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setCartData</span>(<span class="hljs-params">o</span>) </span>{<font></font>
    localStorage.setItem(<span class="hljs-string">'cart'</span>, <span class="hljs-built_in">JSON</span>.stringify(o));<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">//    </span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addToCart</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">//       </span>
    <span class="hljs-keyword">this</span>.disabled = <span class="hljs-literal">true</span>;
    <span class="hljs-comment">//        ,   </span>
    <span class="hljs-keyword">let</span> cartData = getCartData() || {},
        <span class="hljs-comment">//    "Buy"</span>
        parentBox = <span class="hljs-keyword">this</span>.parentNode,
        <span class="hljs-comment">// id </span>
        itemId = <span class="hljs-keyword">this</span>.getAttribute(<span class="hljs-string">'data-id'</span>),
        <span class="hljs-comment">//  </span>
        itemTitle = parentBox.querySelector(<span class="hljs-string">'.title'</span>).innerHTML,
        <span class="hljs-comment">//  </span>
        itemPrice = parentBox.querySelector(<span class="hljs-string">'.price'</span>).innerHTML;
    <span class="hljs-comment">// +1  </span>
    <span class="hljs-keyword">if</span> (cartData.hasOwnProperty(itemId)) {<font></font>
        cartData[itemId][<span class="hljs-number">2</span>] += <span class="hljs-number">1</span>;<font></font>
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// + </span>
        cartData[itemId] = [itemTitle, itemPrice, <span class="hljs-number">1</span>];<font></font>
    }<font></font>
    <span class="hljs-comment">//    localStorage</span>
    <span class="hljs-keyword">if</span> (!setCartData(cartData)) {
        <span class="hljs-comment">//   </span>
        <span class="hljs-keyword">this</span>.disabled = <span class="hljs-literal">false</span>;<font></font>
    }<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">//    ""    "Buy"</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; itemBox.length; i++) {<font></font>
    itemBox[i].querySelector(<span class="hljs-string">'.add'</span>).addEventListener(<span class="hljs-string">'click'</span>, addToCart)<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">//  </span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">openCart</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">//    </span>
    <span class="hljs-keyword">let</span> cartData = getCartData(),<font></font>
        totalItems = <span class="hljs-string">''</span>,<font></font>
        totalGoods = <span class="hljs-number">0</span>,<font></font>
        totalPrice = <span class="hljs-number">0</span>;
    <span class="hljs-comment">//    </span>
    <span class="hljs-keyword">if</span> (cartData !== <span class="hljs-literal">null</span>) {<font></font>
        totalItems = <span class="hljs-string">'&lt;table&gt;&lt;tr&gt;&lt;th&gt;Name&lt;/th&gt;&lt;th&gt;Price&lt;/th&gt;&lt;th&gt;Amount&lt;/th&gt;&lt;/tr&gt;'</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> items <span class="hljs-keyword">in</span> cartData) {<font></font>
            totalItems += <span class="hljs-string">'&lt;tr&gt;'</span>;
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; cartData[items].length; i++) {<font></font>
                totalItems += <span class="hljs-string">'&lt;td&gt;'</span> + cartData[items][i] + <span class="hljs-string">'&lt;/td&gt;'</span>;<font></font>
            }<font></font>
            totalItems += <span class="hljs-string">'&lt;/tr&gt;'</span>;<font></font>
            totalGoods += cartData[items][<span class="hljs-number">2</span>];<font></font>
            totalPrice += cartData[items][<span class="hljs-number">1</span>] * cartData[items][<span class="hljs-number">2</span>];<font></font>
        }<font></font>
        totalItems += <span class="hljs-string">'&lt;/table&gt;'</span>;<font></font>
        cart.innerHTML = totalItems;<font></font>
        cart.append(<span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'p'</span>).innerHTML = <span class="hljs-string">'Goods: '</span> + totalGoods + <span class="hljs-string">'. Price: '</span> + totalPrice);<font></font>
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">//    </span>
        cart.innerHTML = <span class="hljs-string">'empty'</span>;<font></font>
    }<font></font>
}<font></font>
<span class="hljs-comment">//  </span>
<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'open'</span>).addEventListener(<span class="hljs-string">'click'</span>, openCart);<font></font>
<font></font>
<span class="hljs-comment">//  </span>
<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'clear'</span>).addEventListener(<span class="hljs-string">'click'</span>, () =&gt; {<font></font>
    localStorage.removeItem(<span class="hljs-string">'cart'</span>);<font></font>
    cart.innerHTML = <span class="hljs-string">'leared'</span>;<font></font>
});<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The result looks like this: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/o-/dl/f_/o-dlf_rdjidsfp1flisb-k_9p9s.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selected products are recorded in the store as a single key / value pair. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qa/hr/ak/qahrakbzicy95gyxov1lyapc_10.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When you click the Cart button, data from localStorage is displayed in a table, the total number of goods and their value are calculated. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Codepen </font></font></a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Github</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Thank you for your attention.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en496338/index.html">Crisis and that's it</a></li>
<li><a href="../en496340/index.html">We train generative-competitive network for drawing pictures on Azure ML</a></li>
<li><a href="../en496342/index.html">CI / CD Process Update: teamcity</a></li>
<li><a href="../en496344/index.html">Is quarantine online hackathons the right time?</a></li>
<li><a href="../en496346/index.html">We add a rootkit hunter hash check into the daily script</a></li>
<li><a href="../en496350/index.html">You shall not pass! - 3D printers answer to coronavirus</a></li>
<li><a href="../en496354/index.html">Ternary computer programming: play with the emulator</a></li>
<li><a href="../en496356/index.html">Creating a navigator using augmented reality technologies and machine learning methods</a></li>
<li><a href="../en496358/index.html">Getting ready to celebrate Cosmonautics Day online (the list is being updated)</a></li>
<li><a href="../en496360/index.html">BFCache, or There and back. Yandex Report</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>