<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👶🏾 ↪️ 👩‍👧‍👧 Betrieb eines großen verteilten Systems: Was ich gelernt habe 🤷🏽 😢 📬</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Beim Lesen verschiedener Kanäle und Newsletter stoße ich häufig auf Artikel über bestimmte „Schmerzen“ und Probleme, die auftreten, wenn ein Unternehm...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Betrieb eines großen verteilten Systems: Was ich gelernt habe</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/youla/blog/494932/"><img src="https://habrastorage.org/webt/xy/c2/rk/xyc2rkmcwj7enywqjgy-vgdynzs.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beim Lesen verschiedener Kanäle und Newsletter stoße ich häufig auf Artikel über bestimmte „Schmerzen“ und Probleme, die auftreten, wenn ein Unternehmen wächst, wenn Zuverlässigkeit und Skalierbarkeit im Vordergrund stehen. Dieser Artikel ist anders. Es gibt keine detaillierte Analyse spezifischer Architekturlösungen oder eine schrittweise Anleitung zur Änderung der Ingenieurkultur. Es ist vielmehr eine Draufsicht auf die Herausforderungen, die sich beim Betrieb verteilter Systeme ergeben, und ein Ausgangspunkt, der Ihnen hilft, den Fluss von Begriffen, Abkürzungen und Technologien zu steuern. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich mache Sie auf eine Übersetzung eines Artikels aufmerksam, der von einem Ingenieur aus Uber geschrieben wurde. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
* * * </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In den letzten Jahren habe ich </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in Uber</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ein großes verteiltes </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">Zahlungssystem</font></a><font style="vertical-align: inherit;"> erstellt und gepflegt </font><font style="vertical-align: inherit;">. In dieser Zeit habe ich viel über die </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">Konzepte verteilter Architekturen</font></a><font style="vertical-align: inherit;"> gelernt </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und aus eigener Erfahrung habe ich herausgefunden, wie schwierig es ist, hoch ausgelastete Systeme mit hoher Verfügbarkeit zu erstellen und zu warten. Der Aufbau eines solchen Systems ist eine interessante Aufgabe. Ich möchte planen, wie das System mit einem 10-100-fachen Verkehrswachstum umgehen soll, um die Zuverlässigkeit der Daten unabhängig von Hardwarefehlern zu gewährleisten. Der </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Betrieb eines großen verteilten Systems gab mir jedoch unerwartete Erfahrungen</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je größer das System, desto wahrscheinlicher ist es, dass Sie auf eine Manifestation von Murphys Gesetz stoßen: " </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alles, was schief gehen kann, wird schief gehen</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ." Die Wahrscheinlichkeit ist besonders hoch bei häufigen Releases, wenn viele Entwickler Code einführen, wenn mehrere Rechenzentren verwendet werden und wenn ein großes Publikum von Benutzern auf der ganzen Welt anwesend ist. In den letzten Jahren bin ich auf eine Vielzahl von Systemabstürzen gestoßen, von denen mich viele überrascht haben: von vorhersehbaren Problemen wie Hardwareabstürzen oder unschuldigen Fehlern bis hin zu Kabelbrüchen, die Rechenzentren verbinden, bis hin zu zahlreichen gleichzeitig auftretenden kaskadierenden Abstürzen. Ich habe Dutzende von Fehlern durchlaufen, bei denen Teile des Systems nicht richtig funktionierten, was das Geschäft stark beeinträchtigte.</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dieser Artikel fasst die Techniken zusammen, die vom Betrieb eines großen Systems</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in Uber </font><strong><font style="vertical-align: inherit;">profitiert haben</font></strong><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Meine Erfahrung ist nicht einzigartig: Andere arbeiten mit Systemen gleicher Größe und erleben dieselben Abenteuer. </font><font style="vertical-align: inherit;">Ich habe mit Ingenieuren von Google, Facebook und Netflix gesprochen, die mit ähnlichen Situationen konfrontiert waren und ähnliche Lösungen gefunden haben. </font><font style="vertical-align: inherit;">Viele der hier beschriebenen Ideen und Prozesse können auf Systeme derselben Größenordnung angewendet werden, unabhängig davon, ob sie in firmeneigenen Rechenzentren (wie dies bei Uber am häufigsten der Fall ist) oder in der Cloud (wo Uber </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">manchmal skaliert</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font><font style="vertical-align: inherit;">funktionieren </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Diese Tipps können jedoch für nicht so große oder wichtige Systeme für das Unternehmen redundant sein. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir werden über solche Themen sprechen:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Überwachung</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dienst (Bereitschaftsdienst), Erkennung von Anomalien und Benachrichtigung.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fehler- und Vorfallmanagement.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Post Mortems, Incident-Analyse und eine Kultur der kontinuierlichen Verbesserung.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Failover, Ressourcenplanung und Blackbox-Tests.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SLO, SLA und Berichterstattung darüber.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SRE als unabhängiges Team.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zuverlässigkeit als dauerhafte Investition.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nützliche Materialien.</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Überwachung</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um zu verstehen, ob das System fehlerfrei ist, müssen wir die Frage beantworten: „Funktioniert </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">es richtig? </font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">". </font><font style="vertical-align: inherit;">Dazu ist es wichtig, Informationen über kritische Teile des Systems zu sammeln. </font><font style="vertical-align: inherit;">Und wenn Sie Systeme verteilt haben, die aus verschiedenen Diensten auf zahlreichen Servern und in verschiedenen Rechenzentren bestehen, kann es schwierig sein, zu entscheiden, welche wichtigen Punkte Sie </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wirklich</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> verfolgen müssen. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Überwachung des Status der Infrastruktur.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn eine oder mehrere Maschinen / virtuelle Maschinen überlastet sind, kann die Leistung einiger Teile des verteilten Systems beeinträchtigt werden. Die Statusmetriken der Computer, auf denen der Dienst ausgeführt wird - der Verbrauch von Prozessorressourcen und Speicher - sind die grundlegenden Parameter, die überwacht werden müssen. Es gibt Plattformen, die diese Metriken zunächst verfolgen und Instanzen automatisch skalieren. Uber verfügt über ein großartiges </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kerninfrastruktur-Team</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , das standardmäßig Überwachung und Alarmierung bietet. Unabhängig von der Implementierungsmethode müssen Sie über Informationen verfügen, dass Instanzen, Infrastruktur oder einzelne Dienste Probleme haben. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Überwachung des Servicestatus: Verkehr, Fehler, Verzögerung</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Oft muss man die Antwort auf die Frage haben "</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Funktioniert das Backend einwandfrei?</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ". Die Überwachung von Metriken wie der Menge des eingehenden Datenverkehrs, dem Anteil der Fehler und der Verzögerung der Antwort liefert wertvolle Informationen über den Status des Dienstes. Ich ziehe es vor, Dashboards für all diese Metriken zu erstellen. Wenn Sie einen neuen Dienst erstellen, kann die Verwendung der richtigen HTTP-Antworten und die Überwachung der entsprechenden Codes viel über den Status des Systems aussagen. Wenn Sie sicher sind, dass 4xx-Codes für Clientfehler und 5xx-Codes für Serverfehler zurückgegeben werden, können Sie diese Überwachung leicht erstellen und interpretieren.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt noch etwas zu sagen über die Überwachung von Reaktionsverzögerungen. Das Ziel von Produktionsservices ist, dass die meisten Endbenutzer sie gerne nutzen. Die Messung der durchschnittlichen Verzögerung ist nicht die beste Lösung, da der Durchschnittswert eine kleine Anzahl von Anforderungen mit einer großen Verzögerung verbergen kann. Es ist viel besser, p95, p99 oder p999 zu messen - die Verzögerung für das 95., 99. oder 99,9-Perzentil der Anforderungen. Diese Zahlen helfen bei der Beantwortung von Fragen wie: " </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie schnell wird die Anfrage für 99% der Besucher sein?"</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "(P99) oder" </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie langsam wird die Anfrage für einen von 1000 Besuchern sein?</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (P999). Wenn Sie an den Details interessiert sind, können Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diesen Artikel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> lesen </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/e7/xm/b_/e7xmb_bxizqg4bcqw40buaeylsc.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grafik für p95 und p99. Beachten Sie, dass die durchschnittliche Verzögerung für diesen Endpunkt weniger als 1 Sekunde beträgt und 1% der Anforderungen 2 Sekunden dauert. und mehr - dies wird bei der Messung des Durchschnittswerts nicht gesehen.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Das Thema Überwachung und Beobachtbarkeit ist viel tiefer. Ich empfehle, das Google </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SRE-Buch</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und den Abschnitt </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vier goldene Signale</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zur Überwachung verteilter Systeme zu </font><font style="vertical-align: inherit;">lesen </font><font style="vertical-align: inherit;">. Wenn Sie für ein System, mit dem Benutzer interagieren, nur vier Metriken erhalten, konzentrieren Sie sich auf Datenverkehr, Fehler, Verzögerung und Sättigung. Es gibt weniger Material - das E-Book " </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Distributed Systems Observability</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " </font><font style="vertical-align: inherit;">, in dem nützliche Tools wie Protokolle sowie Best Practices für die Verwendung von Metriken und die Ablaufverfolgung beschrieben werden.</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Überwachung von Geschäftsmetriken.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Überwachungsdienste informieren uns über ihren Gesamtzustand. Laut Überwachungsdaten allein können wir jedoch nicht sagen, ob die Services ordnungsgemäß funktionieren und ob aus geschäftlicher Sicht alles korrekt verarbeitet wird. Im Fall des Zahlungssystems lautet die Hauptfrage: „ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Können Personen Reisen mit einer bestimmten Zahlungsmethode unternehmen?</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ". Einer der wichtigsten Schritte bei der Überwachung ist die Identifizierung und Verfolgung von Geschäftsereignissen, die von diesem Service erstellt und verarbeitet werden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mein Team erstellte eine Überwachung der Geschäftsmetriken nach einem Fehler, den wir auf andere Weise nicht erkennen konnten. </font><font style="vertical-align: inherit;">Alles sah so aus, als ob die Dienste normal funktionieren würden, aber tatsächlich funktionierte die Schlüsselfunktionalität nicht. </font><font style="vertical-align: inherit;">Diese Art der Überwachung war für unser Unternehmen und unseren Tätigkeitsbereich sehr ungewöhnlich. </font><font style="vertical-align: inherit;">Daher mussten wir viele Anstrengungen unternehmen, um diese Überwachung für uns selbst zu konfigurieren und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">unser eigenes System zu</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> erstellen </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pflicht, Anomalieerkennung und Alarm</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Überwachung ist ein großartiges Werkzeug, um den aktuellen Status des Systems zu überprüfen. Dies ist jedoch nur ein Schritt auf dem Weg, Fehler automatisch zu erkennen und diejenigen zu warnen, die in diesem Fall etwas tun sollten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beobachten ist ein umfangreiches Thema. Das Increment Magazine hat hervorragende Arbeit geleistet und viele der Themen in der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">On-Call-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ausgabe hervorgehoben </font><font style="vertical-align: inherit;">. Pflicht ist meiner Meinung nach eine logische Fortsetzung des Ansatzes „Sie haben geschaffen - Sie besitzen“. Die Dienste gehören den Teams, die sie hergestellt haben, und sie besitzen auch ein Alarm- und Vorfallreaktionssystem. Mein Team besaß ein solches System für den von uns erstellten Zahlungsdienst. Und wenn der Alarm eintrifft, muss der diensthabende Ingenieur reagieren und herausfinden, was passiert. Aber wie wechseln wir von der Überwachung zu Warnungen?</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das Ermitteln von Anomalien anhand von Überwachungsdaten ist eine schwierige Aufgabe</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , und maschinelles Lernen sollte sich hier vollständig manifestieren. Es gibt viele Dienste von Drittanbietern zum Erkennen von Anomalien. Zum Glück für mein Team hat unser Unternehmen eine eigene Gruppe für maschinelles Lernen, um die Probleme zu lösen, mit denen Uber konfrontiert ist. Das New Yorker Team schrieb einen nützlichen Artikel darüber, wie die </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erkennung von Anomalien durch Uber funktioniert</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Aus Sicht meines Teams senden wir nur Überwachungsdaten an diese Pipeline und erhalten Warnungen mit unterschiedlichem Vertrauen. Und dann entscheiden wir, ob wir den Ingenieur darüber informieren wollen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wann muss ich eine Benachrichtigung senden? Die Frage ist interessant. Wenn es zu wenige Warnungen gibt, verpassen wir möglicherweise einen wichtigen Fehler. Wenn zu viel, dann werden die Menschen nachts nicht schlafen.</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das Verfolgen und Kategorisieren von Warnungen sowie das Messen des Signal-Rausch-Verhältnisses spielt eine große Rolle bei der Einrichtung eines Warnsystems</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ein guter Schritt in Richtung einer </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stetigen Rotation der diensthabenden Ingenieure besteht</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> darin, Warnungen zu analysieren, Ereignisse als „Maßnahmen erforderlich“ und „nicht erforderlich“ zu kategorisieren und dann die Anzahl der Warnungen zu verringern, für die keine Maßnahmen erforderlich sind.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/239/3be/498/2393be498f8076e4fdcd25d5c65ae6c9.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein Beispiel </font></font></i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">für ein Call Duty-Panel,</font></font></i></a><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> das vom Uber Developer Experience-Team in Vilnius erstellt wurde. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Uber-Team für die Erstellung von Entwicklungstools aus Vilnius hat </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ein kleines Tool erstellt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mit dem wir Warnungen kommentieren und Dienstverschiebungen visualisieren können. </font><font style="vertical-align: inherit;">Unser Team erstellt wöchentlich einen Bericht über die Arbeit der letzten Schicht im Dienst, analysiert Schwachstellen und verbessert die Dienstmethode.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fehler- und Vorfallmanagement</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Stellen Sie sich vor: Sie sind eine Woche lang Dienstingenieur. </font><font style="vertical-align: inherit;">Mitten in der Nacht wecken Sie eine Nachricht auf dem Pager. </font><font style="vertical-align: inherit;">Sie prüfen, ob ein Produktionsfehler aufgetreten ist. </font><font style="vertical-align: inherit;">Verdammt, es scheint, als wäre ein Teil des Systems abgestürzt. </font><font style="vertical-align: inherit;">Was jetzt? </font><font style="vertical-align: inherit;">Überwachung und Alarmierung haben gerade funktioniert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ausfälle sind für kleine Systeme möglicherweise nicht besonders problematisch, wenn der diensthabende Ingenieur verstehen kann, was passiert ist und warum. </font><font style="vertical-align: inherit;">Normalerweise können Sie in solchen Systemen die Ursachen schnell identifizieren und beseitigen. </font><font style="vertical-align: inherit;">Bei komplexen Systemen mit vielen (Mikro-) Diensten ist der Grund für den Fehler jedoch ziemlich schwierig, wenn viele Ingenieure den Code in Betrieb nehmen. </font><font style="vertical-align: inherit;">Die Einhaltung mehrerer Standardverfahren kann eine große Hilfe sein. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die erste Verteidigungslinie sind </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Runbooks mit Standardreaktionsverfahren</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">die einfache Schritte zur Fehlerbehebung beschreiben. Wenn das Unternehmen über solche Listen verfügt und aktiv unterstützt wird, ist es unwahrscheinlich, dass eine oberflächliche Vorstellung des diensthabenden Ingenieurs über das System ein Problem darstellt. Die Listen müssen auf dem neuesten Stand gehalten, aktualisiert und auf neue Weise zur Lösung von Problemen verarbeitet werden. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Informieren über Ausfälle anderer Mitarbeiter</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es wird sehr wichtig, wenn mehrere Teams an der Einführung eines Dienstes beteiligt sind. In der Umgebung, in der ich arbeite, werden Services nach Bedarf von Tausenden von Ingenieuren mit einer Häufigkeit von Hunderten von Releases pro Stunde bereitgestellt. Und die scheinbar harmlose Einführung eines Dienstes kann sich auf einen anderen auswirken. In einer solchen Situation spielt die Standardisierung der Fehlerberichterstattung und der Kommunikationskanäle eine wichtige Rolle. Ich hatte viele Fälle, in denen die Warnung nichts anderes war, und mir wurde klar, dass dies für andere Teams ebenfalls seltsam aussieht. In einem allgemeinen Chat über Fehler identifizieren wir den für den Fehler verantwortlichen Dienst und beseitigen schnell die Konsequenzen. Gemeinsam schaffen wir das viel schneller als jeder von uns einzeln. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beseitigen Sie jetzt die Konsequenzen und finden Sie es morgen heraus</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Während eines Unfalls wurde ich oft von einer Adrenalinwelle überwältigt, weil ich Fehler korrigieren wollte. </font><font style="vertical-align: inherit;">Oft war die Ursache des Problems die Einführung von fehlerhaftem Code mit einem offensichtlichen Fehler. </font><font style="vertical-align: inherit;">Zuvor hatte ich alles beendet und begonnen, Fehler zu korrigieren, einen Fix zu senden und den fehlgeschlagenen Code zurückzusetzen. </font><font style="vertical-align: inherit;">Aber die Ursache mitten in einem Unfall zu beheben, ist eine </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">schreckliche</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Idee </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Mit einer schnellen Lösung können Sie wenig erreichen und viel verlieren</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Da das Update schnell durchgeführt werden muss, muss es im Kampf getestet werden. </font><font style="vertical-align: inherit;">Und dies ist der Weg zu einem neuen Fehler - oder einem neuen Fehler - zusätzlich zu dem vorhandenen. </font><font style="vertical-align: inherit;">Ich habe gesehen, wie dies eine Reihe von Fehlern verursacht hat. </font><font style="vertical-align: inherit;">Konzentrieren Sie sich nur darauf, die Konsequenzen zu beheben, und versuchen Sie nicht, den Code zu beheben oder die Ursache zu finden. </font><font style="vertical-align: inherit;">Die Untersuchung wird bis morgen warten.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Post Mortems, Incident-Analyse und eine Kultur der kontinuierlichen Verbesserung</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein Vorfallbericht ist ein wichtiges Merkmal dafür, wie ein Team mit den Folgen eines Ausfalls umgeht. Macht die Situation den Menschen Sorgen? Machen sie ein wenig Nachforschungen oder geben sie erstaunlich viel Mühe für die Beobachtung, stoppen Sie das Produkt und nehmen Sie Korrekturen vor? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Richtig geschriebenes Post-Mortem ist eines der Hauptelemente beim Aufbau nachhaltiger Systeme. Es verurteilt niemanden und sucht nicht nach den Tätern, dies ist eine nachdenkliche Untersuchung und Analyse des Vorfalls. Im Laufe der Zeit haben sich unsere Vorlagen für solche Berichte weiterentwickelt, Abschnitte mit endgültigen Schlussfolgerungen, Folgenabschätzung, Chronologie der Ereignisse, Analyse des Hauptgrunds, gewonnene Erkenntnisse und eine detaillierte Liste von Elementen zur weiteren Beobachtung erschienen.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/652/c06/931/652c0693103d40024459362c326c723e.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich habe dieses Fehlerbehandlungsmuster in Uber verwendet. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In einem guten Post-Mortem-Bereich wird die Fehlerursache gründlich untersucht und Maßnahmen vorgeschlagen, um die Folgen ähnlicher Fehler zu verhindern, zu erkennen oder schnell zu beseitigen. </font><font style="vertical-align: inherit;">Und wenn ich "tief" sage, meine ich, dass die Autoren nicht bei der Tatsache stehen bleiben, dass der Grund das Rollen von Code mit einem Fehler war, den der Rezensent nicht bemerkt hat. </font><font style="vertical-align: inherit;">Autoren sollten die </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Five Why-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Methode anwenden </font><font style="vertical-align: inherit;">, um zu einer nützlicheren Schlussfolgerung zu gelangen. </font><font style="vertical-align: inherit;">Zum Beispiel:</font></font><br>
<br>
<ul>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Warum gibt es ein Problem? </font><font style="vertical-align: inherit;">-&gt; Der</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Fehler wurde als Teil des Codes hochgeladen.</font></font></li>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Warum hat niemand einen Fehler entdeckt? </font><font style="vertical-align: inherit;">-&gt;</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Derjenige, der die Überprüfung durchgeführt hat, hat nicht bemerkt, dass das Ändern des Codes zu einem solchen Problem führen kann.</font></font></li>
<li><i>     ,    ?</i> --&gt;         .</li>
<li><i>       ?</i> --&gt;         .</li>
<li><i>      ?</i> --&gt;       .</li>
<li>:          .    ,           .</li>
</ul><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Ereignisanalyse</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ist ein wichtiges Begleitwerkzeug für die Bearbeitung von Fehlern. Während einige Teams sorgfältig an Fehlern arbeiten, können andere von zusätzlichen Daten profitieren und vorbeugende Verbesserungen vornehmen. Es ist auch wichtig, dass sich die Teams als verantwortlich und in der Lage fühlen, die von ihnen vorgeschlagenen Verbesserungen auf Systemebene vorzunehmen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In Organisationen, die die Zuverlässigkeit ernst nehmen, werden die schwerwiegendsten Vorfälle von erfahrenen Ingenieuren analysiert und beseitigt. Es ist auch erforderlich, das Engineering auf Unternehmensebene zu verwalten, um sicherzustellen, dass Korrekturen vorgenommen werden können - </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">insbesondere,</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> wenn diese zeitaufwändig sind oder andere Arbeiten beeinträchtigen. </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein zuverlässiges System kann nicht in einer Nacht erstellt werden: Es sind ständige Iterationen erforderlich</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Iterationen, die sich aus einer Unternehmenskultur der kontinuierlichen Verbesserung ergeben, basierend auf Lehren aus Vorfällen.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Failover, Ressourcenplanung und Blackbox-Tests</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt mehrere reguläre Verfahren, die erhebliche Investitionen erfordern, jedoch für die Aufrechterhaltung eines großen verteilten Systems von entscheidender Bedeutung sind. Ich bin bei Uber zum ersten Mal auf diese Ideen gekommen und musste sie aufgrund des geringeren Umfangs und der Nichtverfügbarkeit der Infrastruktur nicht auf andere Unternehmen anwenden. </font><font style="vertical-align: inherit;">Ich habe dummes </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Failover im Rechenzentrum (Failover) in</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Betracht gezogen, bis ich selbst darauf gestoßen bin. Anfangs glaubte ich, dass das Design eines stabilen verteilten Systems die Stabilität von Rechenzentren ist. Warum sollte es regelmäßig getestet werden, wenn </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">theoretisch</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> alles </font><font style="vertical-align: inherit;">funktionieren sollte? Die Antwort hängt von der Skalierung und dem Testen der Fähigkeit von Diensten ab, den unerwarteten Anstieg des Datenverkehrs im neuen Rechenzentrum effizient zu bewältigen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das häufigste Fehlerszenario, auf das ich gestoßen bin, ist, dass der Dienst im neuen Rechenzentrum nicht über genügend Ressourcen verfügt, um den globalen Datenverkehr im Falle eines Failovers zu verarbeiten. Angenommen, Service A funktioniert in einem Rechenzentrum und Service B in einem anderen. Der Ressourcenverbrauch beträgt 60% - zehn oder Hunderte virtueller Maschinen drehen sich in jedem Rechenzentrum, und Warnungen werden ausgelöst, wenn ein Schwellenwert von 70% erreicht wird. Der gesamte Datenverkehr vom Rechenzentrum A zum Rechenzentrum B ist fehlgeschlagen. Das zweite Rechenzentrum kann einen solchen Lastanstieg nicht bewältigen, ohne neue Maschinen bereitzustellen. Dies kann jedoch viel Zeit in Anspruch nehmen, sodass sich Anfragen häufen und fallen lassen. Das Blockieren wirkt sich auf andere Dienste aus und führt zu einem Kaskadenfehler anderer Systeme, die nicht mit dem primären Failover zusammenhängen.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rj/kj/ak/rjkjakjltskllvgtcjatntsuvxy.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eine mögliche Situation, in der ein Failover zu Problemen führt.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ein weiteres beliebtes Fehlerszenario betrifft Probleme auf Routing-Ebene, Probleme mit der Netzwerkbandbreite oder den </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gegendruck</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Das Failover von Rechenzentren ist eine Entwicklung, die jedes zuverlässige verteilte System ohne Auswirkungen auf die Benutzer ausführen muss. Ich betone - es </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sollte</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , diese Entwicklung ist eine der nützlichsten Übungen zur Überprüfung der Zuverlässigkeit verteilter Websysteme. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Geplante Übungen für Ausfallzeiten</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eine großartige Möglichkeit, die Stabilität eines gesamten Systems zu testen. Es ist auch ein großartiges Tool zum Erkennen versteckter Abhängigkeiten oder unangemessener / unerwarteter Verwendungen eines bestimmten Systems. Geplante Ausfallzeiten können mit Diensten, mit denen Clients interagieren und von denen nur geringe Abhängigkeiten bekannt sind, relativ einfach durchgeführt werden. Wenn es sich jedoch um kritische Systeme handelt, für die eine sehr kurze Ausfallzeit zulässig ist oder von denen viele andere Systeme abhängen, ist es schwierig, solche Übungen durchzuführen. Aber was passiert, wenn ein solches System eines Tages nicht mehr verfügbar ist? Es ist besser, diese Frage in einem kontrollierten Experiment zu beantworten, damit alle Teams gewarnt und bereit sind. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Blackbox-Tests</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(die "Black-Box" -Methode) ist eine Methode, um die Richtigkeit des Systems in einer Situation zu beurteilen, die der Interaktion mit dem Endbenutzer so nahe wie möglich kommt. Dies ähnelt einem End-to-End-Test, mit der Ausnahme, dass für die meisten Produkte für den richtigen Blackbox-Test eigene Investitionen erforderlich sind. Gute Kandidaten für solche Tests sind wichtige Benutzerprozesse und -szenarien, die Benutzerinteraktion beinhalten: Um das System zu testen, stellen Sie sicher, dass sie jederzeit gestartet werden können.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Am Beispiel von Uber überprüft ein offensichtlicher Blackbox-Test die Fahrer-Beifahrer-Interaktion auf Stadtebene: Kann ein Beifahrer einen Fahrer finden und auf eine bestimmte Anfrage hin eine Reise unternehmen? Nach der Automatisierung dieses Szenarios kann der Test regelmäßig ausgeführt werden und verschiedene Städte emulieren. Ein zuverlässiges Blackbox-Testsystem erleichtert die Überprüfung des korrekten Betriebs des Systems oder seiner Teile. Es hilft auch sehr beim Failover-Testen: Der schnellste Weg, um Feedback zu erhalten, ist das Ausführen von Blackbox-Tests. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hx/gz/mw/hxgzmwfqkyhrzxefxuhqrusne2e.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein Beispiel für Blackbox-Tests während eines Failover-Failovers und eines manuellen Rollbacks. </font></font></i><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ressourcenplanung</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">spielt eine besonders wichtige Rolle für große verteilte Systeme. Im Großen und Ganzen meine ich diejenigen, bei denen die Kosten für Computer und Speicherung in Zehntausenden oder Hunderttausenden von Dollar pro Monat berechnet werden. In dieser Größenordnung kann es billiger sein, eine feste Anzahl von Bereitstellungen zu haben, als selbstskalierbare Cloud-Lösungen zu verwenden. In extremen Fällen sollten feste Bereitstellungen den für „normales Geschäft“ charakteristischen Datenverkehr verarbeiten, wobei die automatische Skalierung nur bei Spitzenlasten erfolgt. Aber wie viele Instanzen müssen mindestens im nächsten Monat beantragt werden? In den nächsten drei Monaten? Nächstes Jahr?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist nicht schwierig, zukünftige Verkehrsmuster für ausgereifte Systeme mit großen statistischen Volumina vorherzusagen. </font><font style="vertical-align: inherit;">Dies ist wichtig für das Budget, die Auswahl der Anbieter oder für die Festsetzung von Rabatten von Cloud-Anbietern. </font><font style="vertical-align: inherit;">Wenn Ihr Service große Konten generiert und Sie nicht über Ressourcenplanung nachgedacht haben, fehlt Ihnen eine einfache Möglichkeit, Kosten zu senken und zu verwalten.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SLO, SLA und Berichterstattung darüber</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SLO steht für </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Service Level Objective</font></font></strong></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , eine Metrik für die Systemverfügbarkeit. </font><font style="vertical-align: inherit;">Es wird </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">empfohlen</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><strong><font style="vertical-align: inherit;">SLOs auf Service-Ebene</font></strong><font style="vertical-align: inherit;"> für Leistung, Reaktionszeit, Korrektheit und Verfügbarkeit </font><strong><font style="vertical-align: inherit;">festzulegen</font></strong><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Diese SLOs können dann als Alarmschwellen verwendet werden. </font><font style="vertical-align: inherit;">Beispiel:</font></font><br>
<br>
<div class="scrollable-table"><table>
<tbody><tr>
<th><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SLO-Metrik</font></font></strong></th>
<th><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unterkategorie</font></font></strong></th>
<th><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Servicewert</font></font></strong></th>
</tr>
<tr>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Performance</font></font></strong></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Minimale Bandbreite</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">500 Anfragen pro Sekunde</font></font></td>
</tr>
<tr>
<td></td>
<td>   </td>
<td>2 500   </td>
</tr>
<tr>
<td><strong> </strong></td>
<td>   </td>
<td>50-90 </td>
</tr>
<tr>
<td></td>
<td>   p99</td>
<td>500-800 </td>
</tr>
<tr>
<td><strong></strong></td>
<td> </td>
<td>0,5 %</td>
</tr>
<tr>
<td><strong></strong></td>
<td> </td>
<td>99,9 %</td>
</tr>
</tbody></table></div><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SLO auf Unternehmensebene</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . oder funktionale SLOs, dies ist eine Abstraktion über Dienste. Sie decken benutzerdefinierte oder geschäftliche Metriken ab. Ein SLO auf Unternehmensebene könnte beispielsweise folgendermaßen aussehen: 99,99% der Belege werden voraussichtlich innerhalb von 1 Minute nach Abschluss einer Reise verschickt. Dieses SLO kann mit dem SLO auf Serviceebene verglichen werden (z. B. mit der Verzögerung des Zahlungssystems oder des Systems zum Senden von Postschecks) und kann separat gemessen werden. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SLA - Service Level Agreement</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Dies ist eine allgemeinere Vereinbarung zwischen einem Dienstleister und seinem Verbraucher. Normalerweise bilden mehrere SLOs eine SLA. Beispielsweise kann die Verfügbarkeit eines Zahlungssystems auf der Ebene von 99,99% SLA sein, das für jedes entsprechende System in spezifische SLOs unterteilt ist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem Sie den SLO ermittelt haben, müssen Sie ihn messen und einen Bericht erstellen.</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die automatische Überwachung und Berichterstellung von SLAs und SLOs ist häufig ein komplexes Projekt</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , das weder Ingenieure noch Unternehmen priorisieren möchten. </font><font style="vertical-align: inherit;">Ingenieure sind nicht interessiert, da sie bereits unterschiedliche Überwachungsebenen haben, um Fehler in Echtzeit zu identifizieren. </font><font style="vertical-align: inherit;">Ein Unternehmen priorisiert die Bereitstellung von Funktionen besser, als in ein komplexes Projekt zu investieren, das keine unmittelbaren Vorteile bietet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies führt uns zu einem anderen Thema: Unternehmen, die große verteilte Systeme betreiben, müssen früher oder später Mitarbeiter zuweisen, um die Zuverlässigkeit dieser Systeme sicherzustellen. </font><font style="vertical-align: inherit;">Lassen Sie uns über das SRE-Team - Site Reliability Engineering - sprechen.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SRE als unabhängiges Team</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Begriff </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Site Reliability Engineering wurde</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> um 2003 von Google geprägt. Heute gibt es mehr als 1.500 SRE-Ingenieure. Da der Betrieb der Produktionsumgebung zu einer immer komplexer werdenden Aufgabe wird, die mehr Automatisierung erfordert, wird sie bald zu einer vollwertigen Arbeit. Dies geschieht, wenn Unternehmen feststellen, dass Ingenieure fast den ganzen Tag an der Automatisierung der Produktionsumgebung arbeiten: Je wichtiger das System und je mehr Fehler auftreten, desto eher wird die SRE zu einer separaten Position. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Schnell wachsende Technologieunternehmen bilden häufig frühzeitig ein SRE-Team, das sie selbst planen. In Uber wurde 2015 ein solches Team </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gegründet.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ziel war es, die Komplexität des Systems zu steuern. In anderen Unternehmen kann die Zuweisung von SRE-Teams mit der Schaffung eines separaten Infrastrukturteams verbunden sein. </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn das Unternehmen so weit wächst, dass die Gewährleistung der Zuverlässigkeit des Service die Aufmerksamkeit einer erheblichen Anzahl von Ingenieuren erfordert, ist es an der Zeit, ein separates Team zu bilden.</font></font></strong><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das SRE-Team vereinfacht die Wartung großer verteilter Systeme für alle Ingenieure erheblich. Das SRE-Team besitzt wahrscheinlich Standard-Überwachungs- und Warnungstools. Sie kaufen oder erstellen wahrscheinlich Bereitschaftstools und sind bereit, ihre Erfahrungen zu teilen. Sie können die Analyse von Vorfällen erleichtern und Systeme erstellen, die es einfacher machen, Fehler zu erkennen, ihre Folgen zu verringern und sie in Zukunft zu verhindern. Der SRE-Befehl erleichtert sicherlich Failover-Operationen. Es wird häufig verwendet, um Black Boxes zu testen und die Leistung zu planen. Die SRE-Ingenieure verwalten die Auswahl, Anpassung oder Erstellung von Standardwerkzeugen zur Ermittlung und Messung von SLOs und zur Berichterstellung.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da alle Unternehmen ihre eigenen Probleme haben, für deren Lösung sie SRE einstellen, haben solche Teams in verschiedenen Unternehmen unterschiedliche Strukturen. </font><font style="vertical-align: inherit;">Sogar die Namen können variieren: Es kann sich um einen Betriebsdienst, ein Plattform-Engineering oder einen Infrastrukturdienst handeln. </font><font style="vertical-align: inherit;">Google hat zwei </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">obligatorische Lesebücher zur Gewährleistung der Zuverlässigkeit von Diensten veröffentlicht</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Sie sind frei verfügbar und eine hervorragende Informationsquelle für eine eingehendere Untersuchung des Themas SRE.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zuverlässigkeit als dauerhafte Investition</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beim Erstellen eines Produkts ist das Zusammenstellen der ersten Version nur der Anfang. Danach wird es neue Iterationen mit neuen Funktionen geben. Wenn das Produkt erfolgreich und rentabel ist, wird die Arbeit fortgesetzt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Verteilte Systeme haben den gleichen Lebenszyklus, außer dass sie nicht nur mehr in neue Funktionen investieren müssen, sondern auch mit der Skalierung Schritt halten müssen. Wenn die Belastung des Systems zunimmt, müssen Sie mehr Daten speichern, mehr Ingenieure arbeiten am System und Sie müssen sich ständig um dessen normale Funktionsweise kümmern. Viele derjenigen, die zum ersten Mal verteilte Systeme erstellen, betrachten sie als eine Art Maschine: Wenn Sie dies einmal getan haben, reicht es aus, alle paar Monate bestimmte Wartungsarbeiten durchzuführen. Es ist schwer, einen Vergleich zu finden, der weiter von der Realität entfernt ist.</font></font><br>
<br>
<strong>         , , </strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Damit das Krankenhaus gut funktioniert, sind ständige Überprüfungen erforderlich (Überwachung, Warnmeldungen, Black-Box-Tests). Sie müssen ständig neue Mitarbeiter und Geräte einstellen: Für Krankenhäuser sind dies Krankenschwestern, Ärzte und medizinische Geräte sowie für verteilte Systeme neue Ingenieure und Dienstleistungen. Mit zunehmender Anzahl von Mitarbeitern und Dienstleistungen werden die alten Arbeitsmethoden unwirksam: Eine kleine Klinik auf dem Land arbeitet anders als ein großes Krankenhaus in einer Metropole. Das Erreichen effektiverer Funktionsweisen wird zu einer vollwertigen Arbeit, und Messungen und Warnungen werden immer wichtiger. Da ein großes Krankenhaus mehr Personal benötigt, wie z. B. Buchhaltung, Personal und Sicherheit,Der Betrieb großer verteilter Systeme hängt von Serviceteams wie Infrastruktur und SRE ab.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Damit das Team ein zuverlässiges verteiltes System aufrechterhalten kann, muss die Organisation ständig in seine Funktionsweise sowie in die Arbeit der Plattformen investieren, auf denen das System aufgebaut ist.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nützliche Materialien</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obwohl sich der Artikel als lang herausstellte, zeigt er nur die oberflächlichsten Momente. </font><font style="vertical-align: inherit;">Um mehr über die Funktionen des Betriebs verteilter Systeme zu erfahren, empfehle ich folgende Quellen: </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bücher</font></font></strong><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das Google SRE-Buch</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ist ein großartiges kostenloses Google-Buch. </font><font style="vertical-align: inherit;">Das Kapitel über die </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Überwachung verteilter Systeme</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ist für diesen Artikel besonders wichtig </font><font style="vertical-align: inherit;">.</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Distributed Systems Observability</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , ein weiteres großartiges kostenloses Buch mit großartigen Tipps zur Überwachung verteilter Systeme.</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das Entwerfen datenintensiver Anwendungen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ist das praktischste Buch zum Konzept verteilter Systeme, auf das ich gestoßen bin. </font><font style="vertical-align: inherit;">Es werden jedoch nicht die operativen Aspekte behandelt, die wir so eingehend untersucht haben.</font></font></li>
</ul><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Websites</font></font></strong><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">On-Call</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Edition </font><font style="vertical-align: inherit;">des </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">Increment Magazine</font></a><font style="vertical-align: inherit;"> : Eine Reihe von Artikeln zu Vorfällen bei Amazon, Dropbox, Facebook, Google und Netflix.</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lernen, verteilte Systeme</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zu erstellen - AWS Engineer-Artikel, in dem die Frage „Wie lerne </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">ich</font></a><font style="vertical-align: inherit;"> , große verteilte Systeme zu erstellen?“ Beantwortet wird.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Siehe </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kommentare zu diesem Artikel in den Hacker News</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de494918/index.html">Die dritte Woche des Fernfluges. Bewertungen von IT-QIWI-Mitarbeitern über Vollzeitarbeit von zu Hause aus</a></li>
<li><a href="../de494920/index.html">Schlechter Rat an den Entwickler: Was tun, um das Management zufrieden zu stellen?</a></li>
<li><a href="../de494922/index.html">Nischni Nowgorod für einen IT-Spezialisten: Perspektiven für die Arbeit und Chancen für das Leben</a></li>
<li><a href="../de494924/index.html">Die Implementierung des Aquarelleffekts in Spielen</a></li>
<li><a href="../de494930/index.html">Unity3D: Automatischer Script Manager-Aggregator</a></li>
<li><a href="../de494934/index.html">6 Fehler in englischen Wörtern, die furchtbar wütend sind</a></li>
<li><a href="../de494938/index.html">Glücklicher Backup-Tag! Vergiss ihn nicht</a></li>
<li><a href="../de494940/index.html">DevOps - was ist das, warum und wie stark ist es gefragt?</a></li>
<li><a href="../de494942/index.html">CGI zu Hause mit Unreal Engine und iPhone</a></li>
<li><a href="../de494948/index.html">Erstellen Sie ein VIP-Postfach in der Open-Source-Edition von Zimbra Collaboration</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>