<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>✈️ 🤚 🏀 Unityでのユニットテストの概要 🕺🏾 👩🏽‍🔬 🧛🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Unityでユニットテストがどのように機能するか知りたいですか？一般的な単体テストが何かわかりませんか？これらの質問に肯定的に答えた場合、このチュートリアルは役に立ちます。それから、ユニットテストについて次のことを学びます。
 
 

- それはなんですか
- その利点
- 長所と短所
- Unit...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Unityでのユニットテストの概要</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/456090/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b63/9d9/71f/b639d971f3e2a10105d91bb3c94fdbb1.jpg" alt="画像"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unityでユニットテストがどのように機能するか知りたいですか？</font><font style="vertical-align: inherit;">一般的な単体テストが何かわかりませんか？</font><font style="vertical-align: inherit;">これらの質問に肯定的に答えた場合、このチュートリアルは役に立ちます。</font><font style="vertical-align: inherit;">それから、ユニットテストについて次のことを学びます。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">それはなんですか</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">その利点</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">長所と短所</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unityでのテストランナーの使用方法</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テストする単体テストを作成して実行する方法</font></font></li>
</ul><br>
<blockquote><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：このチュートリアルは、C＃とUnityでの開発の基本に精通していることを前提としています。</font><font style="vertical-align: inherit;">Unityが初めての場合は、まず</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このエンジンの他のチュートリアルを確認してください</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></blockquote> <h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">単体テストとは何ですか？</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コードを掘り下げる前に、単体テストとは何かを明確に理解することが重要です。</font><font style="vertical-align: inherit;">簡単に言うと、ユニットテストは...ユニットをテストすることです。</font></font><br>
<br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユニットテストは</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（理想的には）個別のコードユニットをテストするように設計されています。</font><font style="vertical-align: inherit;">「ユニット」の構成はさまざまですが、ユニットテストでは一度に1つの「要素」のみをテストする必要があることに注意してください。</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
単体テストは、特定のシナリオの小さな論理的なコードが期待どおりに実行されることを確認するために作成する必要があります。</font><font style="vertical-align: inherit;">独自の単体テストを作成する前にこれを理解するのは難しい場合があるため、例を見てみましょう</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。ユーザーが名前を入力できるメソッドを作成しました。</font><font style="vertical-align: inherit;">このメソッドは、名前に数字を使用できないように作成されており、名前自体は10文字以下で構成できます。</font><font style="vertical-align: inherit;">メソッドは各キーのキーストロークをインターセプトし、対応する文字をフィールドに追加します</font></font><code>name</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> name = <span class="hljs-string">""</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">UpdateNameWithCharacter</span>(<span class="hljs-params"><span class="hljs-keyword">char</span>: character</span>)</span><font></font>
{<font></font>
    <span class="hljs-comment">// 1</span>
    <span class="hljs-keyword">if</span> (!Char.IsLetter(<span class="hljs-keyword">char</span>))<font></font>
    {<font></font>
        <span class="hljs-keyword">return</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">// 2</span>
    <span class="hljs-keyword">if</span> (name.Length &gt; <span class="hljs-number">10</span>)<font></font>
    {<font></font>
        <span class="hljs-keyword">return</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">// 3</span><font></font>
    name += character;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
何が起きてる：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文字が文字でない場合、コードは事前に関数を終了し、文字を文字列に追加しません。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名前が10文字以上の場合、コードはユーザーが別の文字を追加することを許可しません。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これら2つのチェックに合格すると、コードは名前の最後に文字を追加します。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このユニットは、実行された作業の「モジュール」であるため、テストできます。</font><font style="vertical-align: inherit;">ユニットテストは</font><font style="vertical-align: inherit;">メソッドロジックを</font><font style="vertical-align: inherit;">実施</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">し</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">単体テストの例</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
メソッドの単体テストをどのように記述し</font></font><code>UpdateNameWithCharacter</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ますか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらの単体テストの実装を開始する前に、これらのテストの機能を注意深く検討し、それらの名前を付ける必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下のユニットテスト名の例をご覧ください。</font><font style="vertical-align: inherit;">名前から、それらがチェックすることは明らかです：</font></font><br>
<br>
<code>UpdateNameDoesntAllowCharacterAddingToNameIfNameIsTenOrMoreCharactersInLength</code><br>
<br>
<code>UpdateNameAllowsLettersToBeAddedToName</code><br>
<br>
<code>UpdateNameDoesntAllowNonLettersToBeAddedToName</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらのテストメソッドの名前から、ユニットがメソッドによって実行されるかどうかを実際にチェックすることがわかります</font></font><code>UpdateNameWithCharacter</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">これらのテスト名は長くて詳細に見えるかもしれませんが、私たちにとっては良いことです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
作成する各単体テストは、一連のテストの一部です。</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テストスイート</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">機能論理グループに関連するすべての単体テスト（たとえば、「戦闘単体テスト」）が含まれています。</font><font style="vertical-align: inherit;">キットのいずれかのテストが失敗した場合、テストスイート全体が失敗します。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/20d/1e7/0ed/20d1e70ed7231be0c0cfd5f6f082751c.png"></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ゲーム発売</font></font></h2><br><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Crashteroids Starterプロジェクトを</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
開き</font><font style="vertical-align: inherit;">（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここから</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ダウンロードできます</font><font style="vertical-align: inherit;">）、</font><em><font style="vertical-align: inherit;">Assets / RW / Scenes</font></em><font style="vertical-align: inherit;">フォルダーから</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ゲーム</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">シーン</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">開き</font><font style="vertical-align: inherit;">ます</font><font style="vertical-align: inherit;">。</font></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/029/6fd/316/0296fd31696c7e75eeea4ec626709277.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[ </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">再生</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]をクリックしてCrashteroidを起動し、</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ゲーム</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の</font><em><font style="vertical-align: inherit;">開始</font></em><font style="vertical-align: inherit;"> ]ボタンをクリックします</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">宇宙船を移動し</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、左</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">右</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の矢印</font><font style="vertical-align: inherit;">キーボード上。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
レーザー光線を発射するには、</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スペースバーを</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">押し</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">ビームが小惑星に当たると、スコアが1つ増加します。</font><font style="vertical-align: inherit;">小惑星が船に衝突した場合、船は爆発し、ゲームは終了します（再度開始することができます）。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c2f/cea/c40/c2fceac408455035e41f3c9c268ff448.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
少し遊んでみて、小惑星が船に衝突した後、碑文のゲームオーバーが表示されることを確認してください。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0b5/55f/fa6/0b555ffa69f33fb09fb17204197af889.jpg"></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unityテストランナーの概要</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ゲームの実行方法がわかったので、ユニットテストを作成して、すべてが正常に機能することを確認します。</font><font style="vertical-align: inherit;">したがって、あなた（または他の誰か）がゲームを更新することを決定した場合、その更新によって、以前に機能したものは何も壊れないことが確実になります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テストを作成するには、最初にUnityテストランナーについて学ぶ必要があります。</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テストランナーを</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用すると、テストを実行して、テストが成功するかどうかを確認できます。</font><font style="vertical-align: inherit;">Unityテストランナーを開くには、</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ウィンドウ▸一般▸テストランナーを</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">選択します</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f48/f31/aa4/f48f31aa4fc16c486b2161c75ba772af.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テストランナーが新しいウィンドウで開いたら、テストランナーウィンドウをクリックし</font><font style="vertical-align: inherit;">て、シーンウィンドウの横に</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ドラッグ</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">することで、</font><em><font style="vertical-align: inherit;">作業</font></em><font style="vertical-align: inherit;">を簡略化でき</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e10/25b/408/e1025b408f785453827a962ce33aff67.gif"></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NUnitおよびテストフォルダーの準備</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テストランナーはUnityが提供する単体テスト機能ですが、</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NUnit</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フレームワークを使用してい</font><em><font style="vertical-align: inherit;">ます</font></em><font style="vertical-align: inherit;">。ユニットテストをより真剣に取り組むようになったら</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、NUnit</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">wikiで</font></a><font style="vertical-align: inherit;">詳細を学ぶこと</font><font style="vertical-align: inherit;">をお勧め</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">します</font></a><font style="vertical-align: inherit;">。この記事では、初めて必要なものすべてについて説明します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テストを実行するには、まずテストクラスを保存するテストフォルダーを作成する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロジェクト」</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ウィンドウ</font><em><font style="vertical-align: inherit;">で</font></em><font style="vertical-align: inherit;">、</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RW</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フォルダを選択します</font><font style="vertical-align: inherit;">。 [ </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テストランナー]</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ウィンドウ</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">見て、</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PlayModeが</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">選択されていることを確認し</font><font style="vertical-align: inherit;">ます</font><font style="vertical-align: inherit;">。</font><em><font style="vertical-align: inherit;">Create PlayMode Test Assembly Folder</font></em></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
というボタンをクリックします</font></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">RWフォルダーに新しいフォルダーが表示されます。</font><font style="vertical-align: inherit;">標準的な名前</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Testsに</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">満足している</font><font style="vertical-align: inherit;">ので、</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enterキーを</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">押すだけ</font><font style="vertical-align: inherit;">です。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5f5/be4/df3/5f5be4df386c8f262c4a3c257b55319f.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらの2つの異なるタブがテストランナーの内部にあるのか疑問に思われるかもしれません。</font><em><font style="vertical-align: inherit;">PlayMode</font></em></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
タブ</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、Playモードで実行されるテストに使用されます（ゲームがリアルタイムで実行されている場合）。</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EditMode</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">タブの</font><em><font style="vertical-align: inherit;">テスト</font></em><font style="vertical-align: inherit;">は、プレイモードの外で実行されます。これは、インスペクターでカスタム動作などをテストするのに便利です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このチュートリアルでは、PlayModeテストについて説明します。</font><font style="vertical-align: inherit;">しかし、慣れてきたら、EditModeでテストを試すことができます。</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このチュートリアルでテストランナーを使用する場合は、必ずPlayModeタブが選択されていることを確認してください</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テストスイートには何がありますか？</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記で学んだように、ユニットテストは小さな特定のコードの動作をテストする関数です。</font><font style="vertical-align: inherit;">単体テストはメソッドなので、実行するには、クラスファイル内になければなりません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テストランナーはすべてのテストクラスファイルをバイパスし、それらからユニットテストを実行します。</font><font style="vertical-align: inherit;">単体テストを含むクラスファイルは、テストスイートと呼ばれます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テストスイートでは、テストを論理的に分割します。</font><font style="vertical-align: inherit;">テストコードを個別の論理セットに分割する必要があります（たとえば、物理のテストセットと戦闘の個別セット）。</font><font style="vertical-align: inherit;">このチュートリアルでは、必要なテストセットは1つだけです。それを作成します。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テストアセンブリとテストスイートの準備</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[ </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テスト</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]フォルダー</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">選択し、[ </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テストランナー</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ] </font><font style="vertical-align: inherit;">ウィンドウで</font><font style="vertical-align: inherit;">[ </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">現在のフォルダーにテストスクリプトを作成]</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ボタンをクリックします</font><font style="vertical-align: inherit;">。新しい</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TestSuite</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイルに名前を付けます</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c64/0ab/968/c640ab968dfd79a3c72e2a99bc5daa2c.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
新しいC＃ファイルに加えて、Unityエンジンは</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tests.asmdef</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と呼ばれる別のファイルも作成します</font><font style="vertical-align: inherit;">。これは、</font><font style="vertical-align: inherit;">テストファイルの依存関係が存在するUnityを示すために使用される</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アセンブリ定義ファイルです</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。完成したアプリケーションコードはテストコードとは別に含まれているため、これが必要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unityがテストファイルまたはテストを見つけられない状況がある場合は、テストスイートを含むアセンブリ定義ファイルがあることを確認してください。次のステップは、それを構成することです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テストコードがゲームクラスにアクセスできるようにするために、クラスコードアセンブリを作成し、テストアセンブリにリンクを設定します。</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Scripts</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フォルダー</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">クリックし</font><font style="vertical-align: inherit;">て選択します。このフォルダを右クリックして、</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">▸アセンブリ定義を作成します</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5b8/24c/84a/5b824c84ad6686493c41951751030b8d.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ファイルに</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GameAssemblyという</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名前を付けます</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/21b/bd6/c96/21bbd6c968426c23ea7839dd9f747355.png"></div><br><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tests</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
フォルダーをクリックし、</font><font style="vertical-align: inherit;">次に</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tests</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ビルド定義ファイルを</font><font style="vertical-align: inherit;">クリックし</font><font style="vertical-align: inherit;">ます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">では</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インスペクタ、</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クリック</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プラス</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ボタンを</font><font style="vertical-align: inherit;">下</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アセンブリ定義参照</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">向かいます</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4be/fc3/d13/4befc3d13ea67e5ec94b707d04582a3d.png"></div><br><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Missing Reference</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
フィールドが表示されます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">このフィールドの横</font><font style="vertical-align: inherit;">にある</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ドットを</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クリックして</font><font style="vertical-align: inherit;">、選択ウィンドウを開きます。</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GameAssembly</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイルを選択します</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/727/990/57f/72799057fe5ff62ba5c997d5ec2a7563.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リンクセクションにGameAssemblyアセンブリファイルが表示されます。</font><font style="vertical-align: inherit;">[ </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">適用</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]ボタン</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">クリックして、</font><font style="vertical-align: inherit;">これらの変更を保存します。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a16/bf5/259/a16bf525984f2f23b819d9b2d0e37a2b.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらの手順に従わない場合、単体テストファイル内でゲームのクラスファイルを参照できなくなります。</font><font style="vertical-align: inherit;">これに対処したら、コードに進むことができます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初の単体テストを書く</font></font></h2><br><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TestSuite</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
スクリプト</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">ダブルクリックして</font><font style="vertical-align: inherit;">、コードエディターで開きます。</font><font style="vertical-align: inherit;">これですべてのコードを置き換えます：</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">using</span> UnityEngine;
<span class="hljs-keyword">using</span> UnityEngine.TestTools;
<span class="hljs-keyword">using</span> NUnit.Framework;
<span class="hljs-keyword">using</span> System.Collections;<font></font>
<font></font>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">TestSuite</span><font></font>
{<font></font>
<font></font>
<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どのようなテストを書く必要がありますか？</font><font style="vertical-align: inherit;">正直なところ、Crashteroidsのような小さなゲームでも、かなりの数のテストを作成して、すべてが正常に機能していることを確認できます。</font><font style="vertical-align: inherit;">このチュートリアルでは、衝突の認識と基本的なゲームのメカニズムという重要な領域のみに制限します。</font></font><br>
<br>
<blockquote><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：製品の単体テストを本番レベルで記述する場合、コードのすべての領域でテストする必要があるすべての境界ケースを考慮するために十分な時間を費やす必要があります。</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初のテストとして、小惑星が実際に下降しているかどうかを確認するのは良いことです。</font><font style="vertical-align: inherit;">船から離れると船にぶつかりにくくなります！</font><font style="vertical-align: inherit;">次のメソッドとプライベート変数</font><font style="vertical-align: inherit;">を</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TestSuite</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スクリプトに追加し</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">private</span> Game game;<font></font>
<font></font>
<span class="hljs-comment">// 1</span>
[<span class="hljs-meta">UnityTest</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> IEnumerator <span class="hljs-title">AsteroidsMoveDown</span>(<span class="hljs-params"></span>)</span><font></font>
{<font></font>
    <span class="hljs-comment">// 2</span><font></font>
    GameObject gameGameObject = <font></font>
        MonoBehaviour.Instantiate(Resources.Load&lt;GameObject&gt;(<span class="hljs-string">"Prefabs/Game"</span>));<font></font>
    game = gameGameObject.GetComponent&lt;Game&gt;();<font></font>
    <span class="hljs-comment">// 3</span><font></font>
    GameObject asteroid = game.GetSpawner().SpawnAsteroid();<font></font>
    <span class="hljs-comment">// 4</span>
    <span class="hljs-keyword">float</span> initialYPos = asteroid.transform.position.y;
    <span class="hljs-comment">// 5</span>
    <span class="hljs-function"><span class="hljs-keyword">yield</span> return new <span class="hljs-title">WaitForSeconds</span>(<span class="hljs-params"><span class="hljs-number">0.1f</span></span>)</span>;
    <span class="hljs-comment">// 6</span><font></font>
    Assert.Less(asteroid.transform.position.y, initialYPos);<font></font>
    <span class="hljs-comment">// 7</span><font></font>
    Object.Destroy(game.gameObject);<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コードは数行しかありませんが、多くのことを行います。</font><font style="vertical-align: inherit;">それでは、各パートを停止して対処してみましょう。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これが</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性です</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">属性は、特定のコンパイラの動作を定義します。</font><font style="vertical-align: inherit;">この属性は、コードが単体テストであることをUnityコンパイラーに通知します。</font><font style="vertical-align: inherit;">このため、テストの開始時にテストランナーに表示されます。</font></font></li>
<li>  Game.     game,     ,     ,   .             .      ,   .</li>
<li>   ,      ,   .  <code>SpawnAsteroid</code>    .  Asteroid   <code>Move</code> (  ,   ,      <em>Asteroid</em>  <em>RW / Scripts</em>).</li>
<li>     ,  ,    .</li>
<li> - Unity  ,     .       0,1 ,    ,       .       ,    null.</li>
<li>   <em> (assertion)</em>,    ,       (    ).   —   -,  NUnit    .       .</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">もちろん、テストの完了後に残った混乱のために誰もあなたを叱ることはありませんが、他のテストはそれが原因で失敗する可能性があります。</font><font style="vertical-align: inherit;">ユニットテストの後にコードをクリーンアップ（削除またはリセット）することは常に重要です。これにより、次のユニットテストを実行するときに、このテストに影響を与える可能性のあるアーティファクトが残らないようにします。</font><font style="vertical-align: inherit;">テストごとに完全に新しいゲームのインスタンスを作成するので、ゲームオブジェクトを削除するだけで十分です。</font></font></li>
</ol><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テストに合格</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さて、あなたは最初の単体テストを書きましたが、それが機能するかどうかはどうやって分かりますか？</font><font style="vertical-align: inherit;">もちろん、テストランナー付き！</font><font style="vertical-align: inherit;">テストランナーウィンドウで、すべての行を矢印で展開します。</font></font><code>AsteroidsMoveDown</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">灰色の円が付いたリストに</font><font style="vertical-align: inherit;">テスト</font><font style="vertical-align: inherit;">が表示されます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d4c/5d4/05a/d4c5d405a1aa5aded204806790a07233.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
灰色の円は、テストがまだ完了していないことを示しています。</font><font style="vertical-align: inherit;">テストが開始され、合格した場合、緑色の矢印がその横に表示されます。</font><font style="vertical-align: inherit;">テストが失敗した場合、その横に赤いXが表示されます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">[ </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべて実行</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]ボタンをクリックしてテストを実行します</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d45/da5/8c9/d45da58c99e0db679578aabab6e5601b.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これにより、一時的なシーンが作成され、テストが実行されます。</font><font style="vertical-align: inherit;">完了すると、テストに合格したことがわかります。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/640/16b/19e/64016b19e01a68544a1644b61ffb5c57.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
作成した小惑星が下降していることを示す最初の単体テストが正常に作成されました。</font></font><br>
<br>
<blockquote><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：独自の単体テストを作成する前に、テストする実装を理解する必要があります。</font><font style="vertical-align: inherit;">テストするロジックの動作に興味がある場合は、</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RW / Scripts</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フォルダーのコードを調べてください</font><font style="vertical-align: inherit;">。</font></font></blockquote><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">統合テストの使用</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
単体テストのうさぎの穴にさらに深く入る前に、統合テストとは何か、それらが単体テストとどのように異なるのかを説明します。</font></font><br>
<br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">統合テスト</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、コードの「モジュール」がどのように</font><em><font style="vertical-align: inherit;">連携</font></em><font style="vertical-align: inherit;">するかを検証するテストです。 「モジュール」は別のあいまいな用語です。重要な違いは、統合テストでは、実際の運用（つまり、プレーヤーが実際にゲームをプレイするとき）でソフトウェアの動作をテストする必要があることです。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f01/824/6f3/f018246f3658664a77104a1fa1dc045b.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プレイヤーがモンスターを殺すバトルゲームを作成したとします。統合テストを作成して、プレーヤーが100人の敵を倒したときに、実績が開かれることを確認できます（「実績」）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このテストは、いくつかのコードモジュールに影響します。最も可能性が高いのは、物理エンジン（衝突の認識）、敵ディスパッチャー（敵のヘルスと処理の損傷の追跡、および他の関連イベントへのパス）、およびトリガーされたすべてのイベントを追跡するイベントトラッカー（たとえば、「モンスターが殺された」）です。その後、アチーブメントのロックを解除する時間になると、アチーブメントマネージャを呼び出すことができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
統合テストでは、100人のモンスターを殺すプレイヤーをシミュレートし、実績がロック解除されているかどうかを確認します。</font><font style="vertical-align: inherit;">単体テストとは非常に異なります。これは、連携して動作する大きなコードコンポーネントをテストするためです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このチュートリアルでは、統合テストについては学習しませんが、これは作業単位（およびユニットがテストされる理由）とコードのモジュール（および統合がテストされる理由）の違いを示しているはずです。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テストスイートへのテストの追加</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次のテストでは、船が小惑星に衝突したときにゲームの終了をテストします。</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TestSuiteを</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font><em><font style="vertical-align: inherit;">エディター</font></em><font style="vertical-align: inherit;">で</font><font style="vertical-align: inherit;">開いた状態で、</font><font style="vertical-align: inherit;">以下のテストを最初の単体テストの下に追加し、ファイルを保存します。</font></font><br>
<br>
<pre><code class="cs hljs">[<span class="hljs-meta">UnityTest</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> IEnumerator <span class="hljs-title">GameOverOccursOnAsteroidCollision</span>(<span class="hljs-params"></span>)</span><font></font>
{<font></font>
    GameObject gameGameObject = <font></font>
       MonoBehaviour.Instantiate(Resources.Load&lt;GameObject&gt;(<span class="hljs-string">"Prefabs/Game"</span>));<font></font>
    Game game = gameGameObject.GetComponent&lt;Game&gt;();<font></font>
    GameObject asteroid = game.GetSpawner().SpawnAsteroid();<font></font>
    <span class="hljs-comment">//1</span><font></font>
    asteroid.transform.position = game.GetShip().transform.position;<font></font>
    <span class="hljs-comment">//2</span>
    <span class="hljs-function"><span class="hljs-keyword">yield</span> return new <span class="hljs-title">WaitForSeconds</span>(<span class="hljs-params"><span class="hljs-number">0.1f</span></span>)</span>;<font></font>
<font></font>
    <span class="hljs-comment">//3</span><font></font>
    Assert.True(game.isGameOver);<font></font>
<font></font>
    Object.Destroy(game.gameObject);<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
前のテストでこのコードのほとんどをすでに見ましたが、いくつかの違いがあります。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">小惑星と船を強制的に衝突させ、小惑星を船と同じ位置に配置します。</font><font style="vertical-align: inherit;">これにより、ヒットボックスの衝突が発生し、ゲームが終了します。</font><font style="vertical-align: inherit;">このコードの動作に興味がある場合</font><font style="vertical-align: inherit;">は、Scriptsフォルダー</font><font style="vertical-align: inherit;">の</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ship</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Game</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、および</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Asteroid</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイルを確認してください。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 物理エンジンの衝突イベントが発生するにはタイムステップが必要であるため、0.1秒の遅延が返されます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このステートメントは真であり</font></font><code>gameOver</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、ゲームスクリプトの</font><font style="vertical-align: inherit;">フラグが真であることを確認し</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">フラグはゲーム操作中、船が破壊されたときにtrueに設定されます。つまり、船が破壊された後にフラグがtrueに設定されていることを確認するためにテストします。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テストランナーウィンドウに戻ると、新しいユニットテストが表示されています。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4a8/f52/b28/4a8f52b2875ca90a37b74348435e3da5.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今回は、テストスイート全体ではなく、これを実行します。</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GameOverOccursOnAsteroidCollisionを</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クリックして</font><font style="vertical-align: inherit;">から、</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「選択</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">したものを</font><em><font style="vertical-align: inherit;">実行」</font></em><font style="vertical-align: inherit;">ボタンをクリックします</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7e2/0f5/fbd/7e20f5fbd8b4a8a6ff849fea66c90ed1.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして出来上がり、別のテストに合格しました。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/966/02f/869/96602f869c59d8218407a7ce2e57df7d.jpg"></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">チューニングと破壊の段階</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2つのテストで繰り返しコードがあることに気づいたかもしれません。ここでは、Gameオブジェクトが作成され、Gameスクリプトへのリンクが設定されています。</font></font><br>
<br>
<pre><code class="cs hljs">GameObject gameGameObject = MonoBehaviour.Instantiate(Resources.Load&lt;GameObject&gt;(<span class="hljs-string">"Prefabs/Game"</span>));<font></font>
game = gameGameObject.GetComponent&lt;Game&gt;();</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、Gameオブジェクトの破棄が繰り返されていることにも注意してください。</font></font><br>
<br>
<pre><code class="cs hljs">Object.Destroy(game.gameObject);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テストするとき、これは非常に頻繁に起こります。</font><font style="vertical-align: inherit;">単体テストの実行に関しては、実際には2つの段階があり</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。セットアップ</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">段階と</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ティアダウン</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">段階</font><font style="vertical-align: inherit;">です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setupメソッド内のすべてのコードは単体テスト（このセット内）の前に実行され、Tear Downメソッド内のすべてのコードは単体テスト（このセット内）の後に実行されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
セットアップとティアダウンコードを特別なメソッドに移動することで、私たちの生活を簡素化する時が来ました。</font><font style="vertical-align: inherit;">コードエディターを開き、次のコードを</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TestSuite</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイルの先頭</font><font style="vertical-align: inherit;">、最初の[UnityTest]属性の直前に追加します。</font></font><br>
<br>
<pre><code class="cs hljs">[<span class="hljs-meta">SetUp</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Setup</span>(<span class="hljs-params"></span>)</span><font></font>
{<font></font>
    GameObject gameGameObject = <font></font>
        MonoBehaviour.Instantiate(Resources.Load&lt;GameObject&gt;(<span class="hljs-string">"Prefabs/Game"</span>));<font></font>
    game = gameGameObject.GetComponent&lt;Game&gt;();<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
属性</font></font><code>SetUp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、このメソッドが各テストの実行前に呼び出されることを示しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、次のメソッドを追加してファイルを保存します。</font></font><br>
<br>
<pre><code class="cs hljs">[<span class="hljs-meta">TearDown</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Teardown</span>(<span class="hljs-params"></span>)</span><font></font>
{<font></font>
    Object.Destroy(game.gameObject);<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
属性</font></font><code>TearDown</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、このメソッドが各テスト後に呼び出されることを示してい</font><font style="vertical-align: inherit;">ます</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
セットアップと破棄のコードを準備したら、これらのメソッドに存在するコード行を削除し、対応するメソッドの呼び出しに置き換えます。</font><font style="vertical-align: inherit;">その後、コードは次のようになります。</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">TestSuite</span><font></font>
{<font></font>
    <span class="hljs-keyword">private</span> Game game;<font></font>
<font></font>
    [<span class="hljs-meta">SetUp</span>]
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Setup</span>(<span class="hljs-params"></span>)</span><font></font>
    {<font></font>
        GameObject gameGameObject = <font></font>
            MonoBehaviour.Instantiate(Resources.Load&lt;GameObject&gt;(<span class="hljs-string">"Prefabs/Game"</span>));<font></font>
        game = gameGameObject.GetComponent&lt;Game&gt;();<font></font>
    }<font></font>
<font></font>
    [<span class="hljs-meta">TearDown</span>]
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Teardown</span>(<span class="hljs-params"></span>)</span><font></font>
    {<font></font>
        Object.Destroy(game.gameObject);<font></font>
    }<font></font>
<font></font>
    [<span class="hljs-meta">UnityTest</span>]
    <span class="hljs-function"><span class="hljs-keyword">public</span> IEnumerator <span class="hljs-title">AsteroidsMoveDown</span>(<span class="hljs-params"></span>)</span><font></font>
    {<font></font>
        GameObject asteroid = game.GetSpawner().SpawnAsteroid();<font></font>
        <span class="hljs-keyword">float</span> initialYPos = asteroid.transform.position.y;
        <span class="hljs-function"><span class="hljs-keyword">yield</span> return new <span class="hljs-title">WaitForSeconds</span>(<span class="hljs-params"><span class="hljs-number">0.1f</span></span>)</span>;<font></font>
  <font></font>
        Assert.Less(asteroid.transform.position.y, initialYPos);<font></font>
    }<font></font>
<font></font>
    [<span class="hljs-meta">UnityTest</span>]
    <span class="hljs-function"><span class="hljs-keyword">public</span> IEnumerator <span class="hljs-title">GameOverOccursOnAsteroidCollision</span>(<span class="hljs-params"></span>)</span><font></font>
    {<font></font>
        GameObject asteroid = game.GetSpawner().SpawnAsteroid();<font></font>
        asteroid.transform.position = game.GetShip().transform.position;<font></font>
        <span class="hljs-function"><span class="hljs-keyword">yield</span> return new <span class="hljs-title">WaitForSeconds</span>(<span class="hljs-params"><span class="hljs-number">0.1f</span></span>)</span>;<font></font>
<font></font>
        Assert.True(game.isGameOver);<font></font>
    }<font></font>
}</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ゲームオーバーとレーザーシューティングのテスト</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちの生活を簡素化するチューニングと破棄のメソッドを用意したら、それらを使用する新しいテストを追加し始めることができます。</font><font style="vertical-align: inherit;">次のテストでは、プレイヤーがクリックしたときにことを確認することです</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新しいゲームを</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、の値が</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ゲームオーバーブール値が</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">真ではありません。</font><font style="vertical-align: inherit;">このようなテストをファイルの最後に追加して保存します。</font></font><br>
<br>
<pre><code class="cs hljs">[<span class="hljs-meta">UnityTest</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> IEnumerator <span class="hljs-title">NewGameRestartsGame</span>(<span class="hljs-params"></span>)</span><font></font>
{<font></font>
    <span class="hljs-comment">//1</span>
    game.isGameOver = <span class="hljs-literal">true</span>;<font></font>
    game.NewGame();<font></font>
    <span class="hljs-comment">//2</span><font></font>
    Assert.False(game.isGameOver);<font></font>
    <span class="hljs-keyword">yield</span> <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは既におなじみのはずですが、次の点に注意してください。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このコードは、ブールフラグ</font></font><code>gameOver</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">がtrueになるように</font><font style="vertical-align: inherit;">このテストを準備し</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">メソッドが呼び出されると、</font></font><code>NewGame</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フラグを再び値に設定する必要があります</font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここでは、bool </font></font><code>isGameOver</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はequal </font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">である</font><font style="vertical-align: inherit;">と主張してい</font><font style="vertical-align: inherit;">ます。これは、新しいゲームを呼び出すときに真になるはずです。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テストランナーに戻ると、新しいテスト</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NewGameRestartsGame</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">があることが</font><em><font style="vertical-align: inherit;">わかり</font></em><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">前と同じようにこのテストを実行すると、正常に実行されることがわかります。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b63/9d9/71f/b639d971f3e2a10105d91bb3c94fdbb1.jpg"></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">レーザービームステートメント</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次のテストは、船が発射しているレーザービームが飛んでいるというテストを追加することです（私たちが書いた最初の単体テストと同様）。</font><font style="vertical-align: inherit;">エディターで</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TestSuite</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイルを開きます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">次のメソッドを追加してファイルを保存します。</font></font><br>
<br>
<pre><code class="cs hljs">[<span class="hljs-meta">UnityTest</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> IEnumerator <span class="hljs-title">LaserMovesUp</span>(<span class="hljs-params"></span>)</span><font></font>
{<font></font>
      <span class="hljs-comment">// 1</span><font></font>
      GameObject laser = game.GetShip().SpawnLaser();<font></font>
      <span class="hljs-comment">// 2</span>
      <span class="hljs-keyword">float</span> initialYPos = laser.transform.position.y;
      <span class="hljs-function"><span class="hljs-keyword">yield</span> return new <span class="hljs-title">WaitForSeconds</span>(<span class="hljs-params"><span class="hljs-number">0.1f</span></span>)</span>;
      <span class="hljs-comment">// 3</span><font></font>
      Assert.Greater(laser.transform.position.y, initialYPos);<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このコードが行うことは次のとおりです。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">船から放出された生成されたレーザービームへのリンクを取得します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">開始位置が記録され、上に移動していることを確認できます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このステートメントは単体テストのステートメントに対応し</font></font><code>AsteroidsMoveDown</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ていますが、ここでは値が大きい（つまり、レーザーが上に移動する）と主張しています。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ファイルを保存して、テストランナーに戻ります。</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LaserMovesUp</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テスト</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">実行して、合格</font><font style="vertical-align: inherit;">する</font><em><font style="vertical-align: inherit;">様子</font></em><font style="vertical-align: inherit;">を観察し</font><em><font style="vertical-align: inherit;">ます</font></em><font style="vertical-align: inherit;">。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2ce/a15/242/2cea152426f82ea491345ead3f0eaa94.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、すべてがどのように機能するかを理解し始めたはずなので、最後の2つのテストを追加してチュートリアルを完了する番です。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">レーザーが小惑星を破壊することの確認</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、レーザーがヒットすると、小惑星が破壊されることを確認します。</font><font style="vertical-align: inherit;">エディターを開き、</font><font style="vertical-align: inherit;">次のテスト</font><font style="vertical-align: inherit;">を</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TestSuite</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の最後に追加して</font><font style="vertical-align: inherit;">、ファイルを保存します。</font></font><br>
<br>
<pre><code class="cs hljs">[<span class="hljs-meta">UnityTest</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> IEnumerator <span class="hljs-title">LaserDestroysAsteroid</span>(<span class="hljs-params"></span>)</span><font></font>
{<font></font>
    <span class="hljs-comment">// 1</span><font></font>
    GameObject asteroid = game.GetSpawner().SpawnAsteroid();<font></font>
    asteroid.transform.position = Vector3.zero;<font></font>
    GameObject laser = game.GetShip().SpawnLaser();<font></font>
    laser.transform.position = Vector3.zero;<font></font>
    <span class="hljs-function"><span class="hljs-keyword">yield</span> return new <span class="hljs-title">WaitForSeconds</span>(<span class="hljs-params"><span class="hljs-number">0.1f</span></span>)</span>;
    <span class="hljs-comment">// 2</span><font></font>
    UnityEngine.Assertions.Assert.IsNull(asteroid);<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
仕組みは次のとおりです。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">小惑星とレーザービームを作成し、それらに同じ位置を割り当てて衝突をトリガーします。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これは重要な違いがある特別なテストです。</font><font style="vertical-align: inherit;">このテストに</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UnityEngine.Assertions</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を明示的に使用していることを確認して</font><font style="vertical-align: inherit;">ください。</font><font style="vertical-align: inherit;">これは、Unityに</font><font style="vertical-align: inherit;">「通常の」Nullクラスとは異なる</font><font style="vertical-align: inherit;">特別な</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Null</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クラスがあるため</font><font style="vertical-align: inherit;">です。</font><font style="vertical-align: inherit;">NUnitフレームワークステートメント</font></font><code>Assert.IsNull()</code> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、Unityのnullのチェックで</font><i><font style="vertical-align: inherit;">は機能</font></i><font style="vertical-align: inherit;">し</font><i><font style="vertical-align: inherit;">ません</font></i><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">Unityでnullをチェックする場合、NUnitからアサートするのではなく、UnityEngine.Assertions.Assertを明示的に使用する必要があります。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テストランナーに戻り、新しいテストを実行します。</font><font style="vertical-align: inherit;">緑のアイコンが表示されます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/275/80f/1b2/27580f1b206647e0a2fd09c43577ee8f.jpg"></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テストするかどうか-それが問題です</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
単体テストに固執するという決定は簡単な決定ではなく、軽視すべきではありません。ただし、テストの利点は努力する価値があります。</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テスト駆動開発</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Test Driven Development、TDD）</font><font style="vertical-align: inherit;">と呼ばれる開発方法論もあり</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
TDDのフレームワーク内で作業して、アプリケーションロジック自体を記述する前にテストを記述します。最初にテストを作成し、プログラムがテストに合格しないことを確認してから、テストに合格するように設計されたコードのみを記述します。これはコーディングに対する非常に異なるアプローチかもしれませんが、テストに適した方法でコードを書くことが保証されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次のプロジェクトに取り掛かるときは、このことを覚えておいてください。しかし、今のところ、私たちがあなたに提供したゲームを必要とするあなた自身のユニットテストを書く時が来ました。</font></font><br>
<br>
<blockquote><em></em>:    —    ,    .   ,           .    «» ,   ,      .   ,             .        ,        .       ,     ,            .</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テストは大きな投資になる可能性があるため、プロジェクトに単体テストを追加することの利点と欠点を考慮してください。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">単体テストの利点</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
単体テストには、次のような多くの重要な利点があります。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これにより、メソッドが期待どおりに動作することが保証されます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コードベースを学ぶ新しい人々のためのドキュメントとして役立ちます（ユニットテストは教えるのに最適です）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テスト可能な方法でコードを記述します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エラーの切り分けと修正を迅速化します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">今後のアップデートで古いバグに新しいバグを追加することはできません（それらは回帰エラーと呼ばれます）。</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">単体テストの短所</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、ユニットテストの時間や予算がない場合があります。</font><font style="vertical-align: inherit;">考慮すべき欠点は次のとおりです。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テストの作成には、コード自体よりも時間がかかる場合があります。</font></font></li>
<li>      .</li>
<li>     .</li>
<li>,        .</li>
<li>        ,    -.</li>
<li>    (       ),       .</li>
<li>-    .</li>
<li>UI  .</li>
<li>          .</li>
<li>             .</li>
</ul><br>
<h2> ,      </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後のテストを書く時が来ました。</font><font style="vertical-align: inherit;">コードエディターを開き、以下のコードを</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TestSuite</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイルの最後に追加して</font><font style="vertical-align: inherit;">保存します。</font></font><br>
<br>
<pre><code class="cs hljs">[<span class="hljs-meta">UnityTest</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> IEnumerator <span class="hljs-title">DestroyedAsteroidRaisesScore</span>(<span class="hljs-params"></span>)</span><font></font>
{<font></font>
    <span class="hljs-comment">// 1</span><font></font>
    GameObject asteroid = game.GetSpawner().SpawnAsteroid();<font></font>
    asteroid.transform.position = Vector3.zero;<font></font>
    GameObject laser = game.GetShip().SpawnLaser();<font></font>
    laser.transform.position = Vector3.zero;<font></font>
    <span class="hljs-function"><span class="hljs-keyword">yield</span> return new <span class="hljs-title">WaitForSeconds</span>(<span class="hljs-params"><span class="hljs-number">0.1f</span></span>)</span>;
    <span class="hljs-comment">// 2</span>
    Assert.AreEqual(game.score, <span class="hljs-number">1</span>);<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、プレイヤーが小惑星を破壊したときにスコアが増加することを確認するための重要なテストです。</font><font style="vertical-align: inherit;">これは次のもので構成されています。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">小惑星とレーザー光線を作成し、1つの位置に配置します。</font><font style="vertical-align: inherit;">これにより、衝突が発生し、スコアが増加します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">game.scoreが1になりました（最初の0ではなく）。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コードを保存してテストランナーに戻り、この最後のテストを実行して、ゲームが実行されるかどうかを確認します。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e5d/d4c/0ee/e5dd4c0ee4ad72e21a180621c65c11ba.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
驚くばかり！</font><font style="vertical-align: inherit;">すべてのテストに合格しました。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次はどこへ？</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、大量の情報を調べました。</font><font style="vertical-align: inherit;">作業内容と最終プロジェクトを比較する場合は、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アーカイブ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で</font><font style="vertical-align: inherit;">確認して</font><font style="vertical-align: inherit;">ください。このリンクは、記事の冒頭にも示されています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このチュートリアルでは、ユニットテストとは何か、Unityでそれらを記述する方法を学びました。</font><font style="vertical-align: inherit;">さらに、コードに合格した6つの単体テストを作成し、単体テストの長所と短所のいくつかを理解しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
自信がありますか？</font><font style="vertical-align: inherit;">その後、さらに多くのテストを書くことができます。</font><font style="vertical-align: inherit;">ゲームのクラスファイルを調べて、コードの他の部分の単体テストを記述してみてください。</font><font style="vertical-align: inherit;">次のシナリオのテストを追加することを検討してください。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">船に触れると、小惑星の種類ごとにゲームが終了します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新しいゲームを開始すると、スコアがリセットされます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">船の左右の動きは正しく機能しています。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
単体テストの知識を増やしたい場合は</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">、モックオブジェクトを操作するため</font></a></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の依存関係</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フレームワークの</font></font></a><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">実装を</font></a><font style="vertical-align: inherit;">調査する価値があり</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">これにより、テストのセットアップが大幅に簡略化されます。</font><font style="vertical-align: inherit;">NUnitフレームワークの詳細については</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NUnitのドキュメント</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">もお読みください</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、フォーラムであなたの考えや質問を自由に共有してください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テスト成功！</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja456078/index.html">ネットワーク接続に関する企業の対立の予測</a></li>
<li><a href="../ja456082/index.html">パーソナライズされた製品の推奨を開発する方法</a></li>
<li><a href="../ja456084/index.html">Kubernetes 1.15：ハイライトの概要</a></li>
<li><a href="../ja456086/index.html">iOSストーリーボード：長所と短所の分析、ベストプラクティス</a></li>
<li><a href="../ja456088/index.html">ビッグデータ分析の問題</a></li>
<li><a href="../ja456092/index.html">天気に依存している7つの厄介な兆候</a></li>
<li><a href="../ja456094/index.html">データシート2を読む：STM32上のSPI。STM8のPWMタイマーと割り込み</a></li>
<li><a href="../ja456096/index.html">雲の中をホバリングしているときの平均的なギークタイムリーダーの行動</a></li>
<li><a href="../ja456100/index.html">新しいパッケージになりました-M.2形式のKingston A400が市場に急ぎます</a></li>
<li><a href="../ja456102/index.html">C / C ++での簡単なレポート</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>