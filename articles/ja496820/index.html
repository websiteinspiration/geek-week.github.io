<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>â› ğŸ‘©ğŸ¼â€ğŸ¤â€ğŸ‘¨ğŸ¿ ğŸ¤« ãƒ†ãƒ©ãƒ•ã‚©ãƒ¼ãƒ ã®è½ã¨ã—ç©´ ğŸ¤ŸğŸ¼ ğŸ’ªğŸ¿ ğŸ¿ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ãƒ«ãƒ¼ãƒ—ã€ifã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã€ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã«é–¢é€£ã™ã‚‹ã„ãã¤ã‹ã®è½ã¨ã—ç©´ã€ãŠã‚ˆã³Terraformå…¨ä½“ã«é–¢ä¿‚ã™ã‚‹ã‚ˆã‚Šä¸€èˆ¬çš„ãªå•é¡Œã‚’å–ã‚Šä¸Šã’ã¾ã™ã€‚
 
 

- countãŠã‚ˆã³for_eachãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ã¯åˆ¶é™ãŒã‚ã‚Šã¾ã™ã€‚
- ãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ ãªã—ã®å°å…¥åˆ¶é™
- è‰¯ã„è¨ˆç”»ã§ã•ãˆå¤±æ•—ã™ã‚‹ã‹ã‚‚ã—ã‚Œã¾...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ãƒ†ãƒ©ãƒ•ã‚©ãƒ¼ãƒ ã®è½ã¨ã—ç©´</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/496820/"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/webt/9d/ou/9e/9dou9eb8rwq6zzcphuthymczj4a.jpeg" alt="ç”»åƒ"></div></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒ«ãƒ¼ãƒ—ã€ifã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã€ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã«é–¢é€£ã™ã‚‹ã„ãã¤ã‹ã®è½ã¨ã—ç©´ã€ãŠã‚ˆã³Terraformå…¨ä½“ã«é–¢ä¿‚ã™ã‚‹ã‚ˆã‚Šä¸€èˆ¬çš„ãªå•é¡Œã‚’å–ã‚Šä¸Šã’ã¾ã™ã€‚</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">countãŠã‚ˆã³for_eachãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ã¯åˆ¶é™ãŒã‚ã‚Šã¾ã™ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ ãªã—ã®å°å…¥åˆ¶é™</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è‰¯ã„è¨ˆç”»ã§ã•ãˆå¤±æ•—ã™ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã«ã¯ãƒˆãƒªãƒƒã‚¯ãŒã‚ã‚Šã¾ã™ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ®ãˆç½®ãæ•´åˆæ€§ã¯ã€æ®ãˆç½®ãã¨æ•´åˆæ€§ãŒã‚ã‚Šã¾ã™...</font></font></li>
</ul><a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CountãŠã‚ˆã³for_eachãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ã¯åˆ¶é™ãŒã‚ã‚Šã¾ã™</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®ç« ã®ä¾‹ã§ã¯ã€countãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨for_eachå¼ãŒãƒ«ãƒ¼ãƒ—ã¨æ¡ä»¶ä»˜ããƒ­ã‚¸ãƒƒã‚¯ã§ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã«ä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¯è‰¯å¥½ã§ã™ãŒã€2ã¤ã®é‡è¦ãªåˆ¶é™ãŒã‚ã‚‹ãŸã‚ã€çŸ¥ã£ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">countãŠã‚ˆã³for_eachã§ã¯ã€ãƒªã‚½ãƒ¼ã‚¹å‡ºåŠ›å¤‰æ•°ã‚’å‚ç…§ã§ãã¾ã›ã‚“ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">countãŠã‚ˆã³for_eachã¯ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹æˆã§ã¯ä½¿ç”¨ã§ãã¾ã›ã‚“ã€‚</font></font></li>
</ul><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CountãŠã‚ˆã³for_eachã¯ãƒªã‚½ãƒ¼ã‚¹ã®å‡ºåŠ›å¤‰æ•°ã‚’å‚ç…§ã§ãã¾ã›ã‚“</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¤‡æ•°ã®EC2ã‚µãƒ¼ãƒãƒ¼ã‚’å±•é–‹ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã€ä½•ã‚‰ã‹ã®ç†ç”±ã§ASGã‚’ä½¿ç”¨ã—ãŸããªã„ã¨æƒ³åƒã—ã¦ãã ã•ã„ã€‚</font><font style="vertical-align: inherit;">ã‚ãªãŸã®ã‚³ãƒ¼ãƒ‰ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ï¼š</font></font><br>
<br>
<pre><code class="java hljs">resource <span class="hljs-string">"aws_instance"</span> <span class="hljs-string">"example_1"</span> {<font></font>
   count             = <span class="hljs-number">3</span>
   ami                = <span class="hljs-string">"ami-0c55b159cbfafe1f0"</span>
   instance_type = <span class="hljs-string">"t2.micro"</span><font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãã‚Œã‚‰ã‚’é †ç•ªã«æ¤œè¨ã—ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
countãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ã¯é™çš„ãªå€¤ãŒå‰²ã‚Šå½“ã¦ã‚‰ã‚Œã¦ã„ã‚‹ãŸã‚ã€ã“ã®ã‚³ãƒ¼ãƒ‰ã¯å•é¡Œãªãæ©Ÿèƒ½ã—ã¾ã™ã€‚applyã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€3ã¤ã®EC2ã‚µãƒ¼ãƒãƒ¼ãŒä½œæˆã•ã‚Œã¾ã™ã€‚ã—ã‹ã—ã€ç¾åœ¨ã®AWSãƒªãƒ¼ã‚¸ãƒ§ãƒ³å†…ã®å„ã‚¢ãƒ™ã‚¤ãƒ©ãƒ“ãƒªãƒ†ã‚£ãƒ¼ã‚¾ãƒ¼ãƒ³ï¼ˆã‚¢ãƒ™ã‚¤ãƒ©ãƒ“ãƒªãƒ†ã‚£ãƒ¼ã‚¾ãƒ¼ãƒ³ã¾ãŸã¯AZï¼‰ã«1ã¤ã®ã‚µãƒ¼ãƒãƒ¼ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãŸã„å ´åˆã¯ã©ã†ã§ã—ã‚‡ã†ã‹ï¼Ÿã‚³ãƒ¼ãƒ‰ã§aws_availability_zonesãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã‹ã‚‰ã‚¾ãƒ¼ãƒ³ã®ãƒªã‚¹ãƒˆã‚’ãƒ­ãƒ¼ãƒ‰ã—ã€å„ã‚¾ãƒ¼ãƒ³ã‚’å¾ªç’°ã•ã›ã€countãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã‚’ä½¿ç”¨ã—ã¦EC2ã‚µãƒ¼ãƒãƒ¼ã‚’ä½œæˆã—ã€ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã«ã‚ˆã£ã¦é…åˆ—ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="java hljs">resource <span class="hljs-string">"aws_instance"</span> <span class="hljs-string">"example_2"</span> {<font></font>
   count                   = length(data.aws_availability_zones.all.names)<font></font>
   availability_zone   = data.aws_availability_zones.all.names[count.index]<font></font>
   ami                     = <span class="hljs-string">"ami-0c55b159cbfafe1f0"</span>
   instance_type       = <span class="hljs-string">"t2.micro"</span><font></font>
}<font></font>
<font></font>
data <span class="hljs-string">"aws_availability_zones"</span> <span class="hljs-string">"all"</span> {}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
countãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯å•é¡Œãªããƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã‚’å‚ç…§ã§ãã‚‹ãŸã‚ã€ã“ã®ã‚³ãƒ¼ãƒ‰ã‚‚åŒæ§˜ã«æ©Ÿèƒ½ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã—ã‹ã—ã€ä½œæˆã™ã‚‹å¿…è¦ã®ã‚ã‚‹ã‚µãƒ¼ãƒãƒ¼ã®æ•°ãŒãƒªã‚½ãƒ¼ã‚¹ã®å‡ºåŠ›ã«ä¾å­˜ã—ã¦ã„ã‚‹å ´åˆã¯ã©ã†ãªã‚Šã¾ã™ã‹ï¼Ÿ</font><font style="vertical-align: inherit;">ã“ã‚Œã‚’å®Ÿè¨¼ã™ã‚‹ãŸã‚ã®æœ€ã‚‚ç°¡å˜ãªæ–¹æ³•ã¯ã€åå‰ã‹ã‚‰æ¨æ¸¬ã§ãã‚‹ã‚ˆã†ã«ã€ãƒ©ãƒ³ãƒ€ãƒ ãªæ•´æ•°ã‚’è¿”ã™random_integerãƒªã‚½ãƒ¼ã‚¹ã‚’å–å¾—ã™ã‚‹ã“ã¨ã§ã™ã€‚</font></font><br>
<br>
<pre><code class="java hljs">resource <span class="hljs-string">"random_integer"</span> <span class="hljs-string">"num_instances"</span> {<font></font>
  min = <span class="hljs-number">1</span>
  max = <span class="hljs-number">3</span>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®ã‚³ãƒ¼ãƒ‰ã¯ã€1ã‹ã‚‰3ã¾ã§ã®ä¹±æ•°ã‚’ç”Ÿæˆã—ã¾ã™ã€‚ã“ã®ãƒªã‚½ãƒ¼ã‚¹ã®çµæœå‡ºåŠ›ã‚’aws_instanceãƒªã‚½ãƒ¼ã‚¹ã®countãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§ä½¿ç”¨ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã©ã†ãªã‚‹ã‹è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</font></font><br>
<br>
<pre><code class="java hljs">resource <span class="hljs-string">"aws_instance"</span> <span class="hljs-string">"example_3"</span> {<font></font>
   count             = random_integer.num_instances.result<font></font>
   ami                = <span class="hljs-string">"ami-0c55b159cbfafe1f0"</span>
   instance_type = <span class="hljs-string">"t2.micro"</span>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®ã‚³ãƒ¼ãƒ‰ã«å¯¾ã—ã¦terraformãƒ—ãƒ©ãƒ³ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€æ¬¡ã®ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="java hljs">Error: Invalid count argument<font></font>
<font></font>
   on main.tf line <span class="hljs-number">30</span>, in resource <span class="hljs-string">"aws_instance"</span> <span class="hljs-string">"example_3"</span>:
   <span class="hljs-number">30</span>: count = random_integer.num_instances.result<font></font>
<font></font>
The <span class="hljs-string">"count"</span> value depends on resource attributes that cannot be determined until apply, so Terraform cannot predict how many instances will be created. To work around <span class="hljs-keyword">this</span>, use the -target argument to first apply only the resources that the count depends on.</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Terraformã§ã¯ã€ãƒªã‚½ãƒ¼ã‚¹ãŒä½œæˆã¾ãŸã¯å¤‰æ›´ã•ã‚Œã‚‹å‰ã«ã€è¨ˆç”»æ®µéšã§countãŠã‚ˆã³for_eachã‚’è¨ˆç®—ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã¤ã¾ã‚Šã€countã¨for_eachã¯ã€ãƒªãƒ†ãƒ©ãƒ«ã€å¤‰æ•°ã€ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã€ã•ã‚‰ã«ã¯ãƒªã‚½ãƒ¼ã‚¹ã®ãƒªã‚¹ãƒˆï¼ˆãã‚Œã‚‰ã®é•·ã•ã¯è¨ˆç”»ä¸­ã«æ±ºå®šã§ãã‚‹å ´åˆï¼‰ã‚’å‚ç…§ã§ãã¾ã™ãŒã€ãƒªã‚½ãƒ¼ã‚¹ã®è¨ˆç®—ã•ã‚ŒãŸå‡ºåŠ›å¤‰æ•°ã¯å‚ç…§ã§ãã¾ã›ã‚“ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">countãŠã‚ˆã³for_eachã¯ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹æˆã§ã¯ä½¿ç”¨ã§ãã¾ã›ã‚“</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
countãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«è¨­å®šã«è¿½åŠ ã—ãŸããªã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ï¼š</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">module</span> <span class="hljs-string">"count_example"</span> {<font></font>
     source = <span class="hljs-string">"../../../../modules/services/webserver-cluster"</span><font></font>
<font></font>
     count = <span class="hljs-number">3</span><font></font>
<font></font>
     cluster_name = <span class="hljs-string">"terraform-up-and-running-example"</span>
     server_port = <span class="hljs-number">8080</span>
     instance_type = <span class="hljs-string">"t2.micro"</span>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®ã‚³ãƒ¼ãƒ‰ã¯ã€ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å†…ã§countã‚’ä½¿ç”¨ã—ã¦ã€webserver-clusterãƒªã‚½ãƒ¼ã‚¹ã®3ã¤ã®ã‚³ãƒ”ãƒ¼ã‚’ä½œæˆã—ã‚ˆã†ã¨ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã¾ãŸã¯ã€ã„ãã¤ã‹ã®ãƒ–ãƒ¼ãƒ«æ¡ä»¶ã«å¿œã˜ã¦ã€ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ¥ç¶šã‚’ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«ã—ã¦ã€countãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã«å€¤0ã‚’å‰²ã‚Šå½“ã¦ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚ã“ã®ã‚³ãƒ¼ãƒ‰ã¯ã‹ãªã‚Šå¦¥å½“ã«è¦‹ãˆã¾ã™ãŒã€terraformãƒ—ãƒ©ãƒ³ã‚’å®Ÿè¡Œã—ãŸçµæœã€æ¬¡ã®ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="java hljs">Error: Reserved argument name in <span class="hljs-keyword">module</span> block<font></font>
<font></font>
   on main.tf line <span class="hljs-number">13</span>, in <span class="hljs-keyword">module</span> <span class="hljs-string">"count_example"</span>:
   <span class="hljs-number">13</span>: count = <span class="hljs-number">3</span><font></font>
<font></font>
The name <span class="hljs-string">"count"</span> is reserved <span class="hljs-keyword">for</span> use in a future version of Terraform.</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ®‹å¿µãªãŒã‚‰ã€Terraform 0.12.6ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚ŒãŸæ™‚ç‚¹ã§ã¯ã€ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒªã‚½ãƒ¼ã‚¹ã§ã®countã¾ãŸã¯for_eachã®ä½¿ç”¨ã¯ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“ã§ã—ãŸã€‚</font><font style="vertical-align: inherit;">Terraform 0.12ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆï¼ˆhttp://bit.ly/3257bv4ï¼‰ã«ã‚ˆã‚‹ã¨ã€HashiCorpã¯å°†æ¥ã“ã®æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹äºˆå®šã§ã™ã€‚ãã®ãŸã‚ã€ã“ã®æœ¬ã‚’èª­ã‚“ã æ™‚æœŸã«ã‚ˆã£ã¦ã¯ã€ã™ã§ã«åˆ©ç”¨å¯èƒ½ã«ãªã£ã¦ã„ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚</font><font style="vertical-align: inherit;">ç¢ºå®Ÿã«ç¢ºèªã™ã‚‹ã«ã¯ã€</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã“ã¡ã‚‰ã®Terraformå¤‰æ›´ãƒ­ã‚°ã‚’</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç¢ºèªã—ã¦</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ãã ã•ã„</font></a><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<h3>     </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
create_before_destroyãƒ–ãƒ­ãƒƒã‚¯ã‚’ASGã¨çµ„ã¿åˆã‚ã›ã¦ä½¿ç”¨â€‹â€‹ã™ã‚‹ã“ã¨ã¯ã€1ã¤ã®ãƒ‹ãƒ¥ã‚¢ãƒ³ã‚¹ã‚’é™¤ã„ã¦ã€ãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ ãŒã‚¼ãƒ­ã®ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã‚’æ•´ç†ã™ã‚‹ãŸã‚ã®å„ªã‚ŒãŸã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚è‡ªå‹•ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ãƒ«ãƒ¼ãƒ«ã¯ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚ã¾ãŸã¯ã€ã‚ˆã‚Šæ­£ç¢ºã«è¨€ã†ã¨ã€ã“ã‚Œã¯ã™ã¹ã¦ã®ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã§ASGã‚µã‚¤ã‚ºã‚’min_sizeã«ãƒªã‚»ãƒƒãƒˆã—ã¾ã™ã€‚ã“ã‚Œã¯ã€è‡ªå‹•ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ãƒ«ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã¦å®Ÿè¡Œä¸­ã®ã‚µãƒ¼ãƒãƒ¼ã®æ•°ã‚’å¢—ã‚„ã™å ´åˆã«å•é¡Œã«ãªã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãŸã¨ãˆã°ã€webserver-clusterãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ã¯aws_autoscaling_scheduleãƒªã‚½ãƒ¼ã‚¹ã®ãƒšã‚¢ãŒå«ã¾ã‚Œã¦ãŠã‚Šã€åˆå‰9æ™‚ã«ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼å†…ã®ã‚µãƒ¼ãƒãƒ¼æ•°ãŒ2ã‹ã‚‰10ã«å¢—åŠ ã—ã¾ã™ã€‚ãŸã¨ãˆã°ã€åˆå‰11æ™‚ã«å±•é–‹ã™ã‚‹ã¨ã€æ–°ã—ã„ASGã¯10ã§ã¯èµ·å‹•ã›ãšã€2ã¤ã®ã‚µãƒ¼ãƒãƒ¼ã®ã¿ã§èµ·å‹•ã—ã€ç¿Œæ—¥ã®åˆå‰9æ™‚ã¾ã§ã“ã®çŠ¶æ…‹ã‚’ç¶­æŒã—ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®åˆ¶é™ã¯ã„ãã¤ã‹ã®æ–¹æ³•ã§å›é¿ã§ãã¾ã™ã€‚</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aws_autoscaling_scheduleã®ç¹°ã‚Šè¿”ã—ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã‚’0 9 * * *ï¼ˆã€Œåˆå‰9æ™‚ã«é–‹å§‹ã€ï¼‰ã‹ã‚‰0-59 9-17 * * *ï¼ˆã€Œæ¯åˆ†åˆå‰9æ™‚ã‹ã‚‰åˆå¾Œ5æ™‚ã¾ã§å®Ÿè¡Œã€ï¼‰ã«å¤‰æ›´ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ASGã«æ—¢ã«10å°ã®ã‚µãƒ¼ãƒãƒ¼ãŒã‚ã‚‹å ´åˆã€ã“ã®è‡ªå‹•ã‚¹ã‚±ãƒ¼ãƒ«ãƒ«ãƒ¼ãƒ«ã‚’å†å®Ÿè¡Œã—ã¦ã‚‚ä½•ã‚‚å¤‰æ›´ã•ã‚Œã¾ã›ã‚“ã€‚ã“ã‚ŒãŒå¿…è¦ã§ã™ã€‚</font><font style="vertical-align: inherit;">ã—ã‹ã—ã€ASGã‚°ãƒ«ãƒ¼ãƒ—ãŒæœ€è¿‘å±•é–‹ã•ã‚ŒãŸå ´åˆã€ã“ã®ãƒ«ãƒ¼ãƒ«ã«ã‚ˆã‚Šã€1åˆ†ã§ã‚µãƒ¼ãƒãƒ¼ã®æ•°ãŒ10ã«é”ã™ã‚‹ã“ã¨ãŒä¿è¨¼ã•ã‚Œã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã“ã‚Œã¯å®Œå…¨ã«æ´—ç·´ã•ã‚ŒãŸã‚¢ãƒ—ãƒ­ãƒ¼ãƒã§ã¯ãªãã€10å°ã®ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰2å°ã®ã‚µãƒ¼ãƒãƒ¼ã¸ã®å¤§ããªã‚¸ãƒ£ãƒ³ãƒ—ã‚„ãã®é€†ã‚‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å•é¡Œã‚’å¼•ãèµ·ã“ã™å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AWS APIã‚’ä½¿ç”¨ã—ã¦ASGå†…ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªã‚µãƒ¼ãƒãƒ¼ã®æ•°ã‚’æ±ºå®šã™ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼å®šç¾©ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œæˆã—ã€å¤–éƒ¨ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ï¼ˆ249ãƒšãƒ¼ã‚¸ã®ã€Œå¤–éƒ¨ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å‚ç…§ï¼‰ã‚’ä½¿ç”¨ã—ã¦å‘¼ã³å‡ºã—ã€ASGã‚°ãƒ«ãƒ¼ãƒ—ã®desired_capacityãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã‚’ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã«ã‚ˆã£ã¦è¿”ã•ã‚Œã‚‹å€¤ã«è¨­å®šã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã—ãŸãŒã£ã¦ã€æ–°ã—ã„å„ASGã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¯å¸¸ã«å¤ã„Terraformã‚³ãƒ¼ãƒ‰ã¨åŒã˜å®¹é‡ã§å®Ÿè¡Œã•ã‚Œã€ãã®ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãŒè¤‡é›‘ã«ãªã‚Šã¾ã™ã€‚</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚‚ã¡ã‚ã‚“ã€ç†æƒ³çš„ã«ã¯ã€Terraformã«ã¯ã‚¼ãƒ­ãƒ€ã‚¦ãƒ³ã‚¿ã‚¤ãƒ ã®ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã®çµ„ã¿è¾¼ã¿ã‚µãƒãƒ¼ãƒˆãŒå¿…è¦ã§ã™ãŒã€2019å¹´5æœˆã®æ™‚ç‚¹ã§ã€HashiCorpãƒãƒ¼ãƒ ã¯ã“ã®æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹äºˆå®šã¯ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸï¼ˆ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è©³ç´°ã¯ã“ã¡ã‚‰</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ­£ã—ã„è¨ˆç”»ãŒæ­£ã—ãå®Ÿè¡Œã•ã‚Œãªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
planã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€å®Œå…¨ã«æ­£ã—ã„ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆãƒ—ãƒ©ãƒ³ãŒå¾—ã‚‰ã‚Œã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ãŒã€applyã‚³ãƒãƒ³ãƒ‰ã¯ã‚¨ãƒ©ãƒ¼ã‚’è¿”ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ãŸã¨ãˆã°ã€ç¬¬2ç« ã§ä½œæˆã—ãŸIAMãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ä½¿ç”¨ã—ãŸã®ã¨åŒã˜åå‰ã®aws_iam_userãƒªã‚½ãƒ¼ã‚¹ã‚’è¿½åŠ ã—ã¦ã¿ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="java hljs">resource <span class="hljs-string">"aws_iam_user"</span> <span class="hljs-string">"existing_user"</span> {<font></font>
   #       IAM,<font></font>
   #      terraform <span class="hljs-keyword">import</span>
   name = <span class="hljs-string">"yevgeniy.brikman"</span>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã‚Œã§ã€planã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€Terraformã¯ä¸€è¦‹ã€éå¸¸ã«åˆç†çš„ãªå±•é–‹è¨ˆç”»ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="java hljs">Terraform will perform the following actions:<font></font>
<font></font>
   # aws_iam_user.existing_user will be created<font></font>
   + resource <span class="hljs-string">"aws_iam_user"</span> <span class="hljs-string">"existing_user"</span> {<font></font>
         + arn                  = (known after apply)<font></font>
         + force_destroy   = <span class="hljs-keyword">false</span><font></font>
         + id                    = (known after apply)<font></font>
         + name               = <span class="hljs-string">"yevgeniy.brikman"</span>
         + path                 = <span class="hljs-string">"/"</span><font></font>
         + unique_id         = (known after apply)<font></font>
      }<font></font>
<font></font>
Plan: <span class="hljs-number">1</span> to add, <span class="hljs-number">0</span> to change, <span class="hljs-number">0</span> to destroy.</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
applyã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€æ¬¡ã®ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="java hljs">Error: Error creating IAM User yevgeniy.brikman: EntityAlreadyExists:<font></font>
User with name yevgeniy.brikman already exists.<font></font>
<font></font>
   on main.tf line <span class="hljs-number">10</span>, in resource <span class="hljs-string">"aws_iam_user"</span> <span class="hljs-string">"existing_user"</span>:
   <span class="hljs-number">10</span>: resource <span class="hljs-string">"aws_iam_user"</span> <span class="hljs-string">"existing_user"</span> {</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚‚ã¡ã‚ã‚“å•é¡Œã¯ã€ãã®åå‰ã®IAMãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã™ã§ã«å­˜åœ¨ã—ã¦ã„ã‚‹ã“ã¨ã§ã™ã€‚ãã—ã¦ã€ã“ã‚Œã¯IAMãƒ¦ãƒ¼ã‚¶ãƒ¼ã ã‘ã§ãªãã€ã»ã¨ã‚“ã©ã™ã¹ã¦ã®ãƒªã‚½ãƒ¼ã‚¹ã§ç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚èª°ã‹ãŒæ‰‹å‹•ã§ã€ã¾ãŸã¯ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‚’ä½¿ç”¨ã—ã¦ã“ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’ä½œæˆã—ãŸå¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ãŒã€è­˜åˆ¥å­ãŒä¸€è‡´ã™ã‚‹ã¨ç«¶åˆãŒç™ºç”Ÿã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ã“ã®ã‚¨ãƒ©ãƒ¼ã«ã¯ã€Terraformã®åˆå¿ƒè€…ã‚’é©šã‹ã›ã‚‹ã“ã¨ãŒå¤šã„ãƒ•ãƒ¬ãƒ¼ãƒãƒ¼ãŒãŸãã•ã‚“ã‚ã‚Šã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é‡è¦ãªç‚¹ã¯ã€terraform planã‚³ãƒãƒ³ãƒ‰ã¯Terraformã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã§æŒ‡å®šã•ã‚ŒãŸãƒªã‚½ãƒ¼ã‚¹ã®ã¿ã‚’è€ƒæ…®ã™ã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚ãƒªã‚½ãƒ¼ã‚¹ãŒä»–ã®æ–¹æ³•ï¼ˆãŸã¨ãˆã°ã€AWSã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦æ‰‹å‹•ã§ï¼‰ã§ä½œæˆã•ã‚ŒãŸå ´åˆã€ãã‚Œã‚‰ã¯ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã«å…¥ã‚‰ãªã„ãŸã‚ã€Terraformã¯planã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡Œæ™‚ã«ãã‚Œã‚‰ã‚’è€ƒæ…®ã—ã¾ã›ã‚“ã€‚ãã®çµæœã€ä¸€è¦‹æ­£ã—ã„è¨ˆç”»ã¯å¤±æ•—ã—ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã‚Œã‹ã‚‰2ã¤ã®æ•™è¨“ã‚’å­¦ã¶ã“ã¨ãŒã§ãã¾ã™ã€‚</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Terraformã®ä½¿ç”¨ã‚’ã™ã§ã«é–‹å§‹ã—ã¦ã„ã‚‹å ´åˆã¯ã€ä»–ã«ä½•ã‚‚ä½¿ç”¨ã—ãªã„ã§ãã ã•ã„ã€‚</font><font style="vertical-align: inherit;">ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ã®ä¸€éƒ¨ãŒTerraformã‚’ä½¿ç”¨ã—ã¦ç®¡ç†ã•ã‚Œã¦ã„ã‚‹å ´åˆã€ãã‚Œã‚’æ‰‹å‹•ã§å¤‰æ›´ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚</font><font style="vertical-align: inherit;">ãã†ã—ãªã„ã¨ã€å¥‡å¦™ãªTerraformã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹ãƒªã‚¹ã‚¯ãŒç”Ÿã˜ã‚‹ã ã‘ã§ãªãã€ã‚³ãƒ¼ãƒ‰ãŒã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ã‚’æ­£ç¢ºã«è¡¨ç¾ã§ããªããªã‚‹ãŸã‚ã€IaCã®å¤šãã®ãƒ¡ãƒªãƒƒãƒˆãŒå¤±ã‚ã‚Œã¾ã™ã€‚</font></font></li>
<li>     - ,   import.     Terraform    ,          terraform import.  Terraform  ,    .  import   .        .    ,      : _. ( aws_iam_user.existing_user).   â€”   ,   . ,   ID  aws_iam_user    (, yevgeniy.brikman),  ID  aws_instance    EC2 ( i-190e22e5). ,   ,       .<br>
<br>
   import,    aws_iam_user,       Terraform    IAM   2 (,  yevgeniy.brikman    ):<br>
<br>
<pre><code class="plaintext hljs">$ terraform import aws_iam_user.existing_user yevgeniy.brikman</code></pre><br>
Terraform   API AWS,     IAM           aws_iam_user.existing_user    Terraform.       plan Terraform  ,   IAM  ,        .<br>
<br>
 , ,       ,      Terraform,              .       ,  Terraforming (http://terraforming.dtan4.net/),        AWS   .<br>
<br>
<h3>    </h3><br>
<i></i> â€”    ,      ,     .  ,     ,     .  â€”   ,    . ,     Terraform     IaC,      ,      Â« Â»  ,    .<br>
<br>
,    â€”       .  IDE               .        ,     ,   Terraform      ,       .<br>
<br>
 ,   webserver-cluster    cluster_name:<br>
<br>
<pre><code class="java hljs">variable <span class="hljs-string">"cluster_name"</span> {<font></font>
   description = <span class="hljs-string">"The name to use for all the cluster resources"</span><font></font>
   type          = string<font></font>
}</code></pre><br>
,            foo.        bar.     ,    -      .<br>
<br>
  ,   webserver-cluster   cluster_name    ,   name     ALB:<br>
<br>
<pre><code class="java hljs">resource <span class="hljs-string">"aws_lb"</span> <span class="hljs-string">"example"</span> {<font></font>
   name                    = <span class="hljs-keyword">var</span>.cluster_name<font></font>
   load_balancer_type = <span class="hljs-string">"application"</span>
   subnets = data.aws_subnet_ids.<span class="hljs-keyword">default</span>.ids<font></font>
   security_groups      = [aws_security_group.alb.id]<font></font>
}</code></pre><br>
   name  - , Terraform          .      ALB,                    -.   ,    ,       ,      .<br>
<br>
   ,    ,    Terraform.      aws_security_group   webserver-cluster:<br>
<br>
<pre><code class="java hljs">resource <span class="hljs-string">"aws_security_group"</span> <span class="hljs-string">"instance"</span> {<font></font>
  # (...)<font></font>
}</code></pre><br>
    instance. ,            (  )  cluster_instance:<br>
<br>
<pre><code class="java hljs">resource <span class="hljs-string">"aws_security_group"</span> <span class="hljs-string">"cluster_instance"</span> {<font></font>
   # (...)<font></font>
}</code></pre><br>
   ? :   .<br>
<br>
Terraform  ID      . , iam_user     IAM  AWS,  aws_instance â€”  ID  AWS EC2.     (,  instance  cluster_instance,     aws_security_group),  Terraform    ,        .    , Terraform       ,          .<br>
<br>
   ,       .<br>
<br>
<ul>
<li>   plan.      .         ,  Terraform   , ,  ,   .</li>
<li>,   .     ,  ,       .   ,     create_before_destroy.      ,   :          apply,           apply  .</li>
<li>    .     ,    (,  aws_security_group  instance  cluster_instance),          ,       Terraform.      â€”     terraform state.       terraform state mv,    :<br>
<br>
<pre><code class="plaintext hljs">terraform state mv &lt;ORIGINAL_REFERENCE&gt; &lt;NEW_REFERENCE&gt;</code></pre><br>
ORIGINAL_REFERENCE â€”  ,       ,  NEW_REFERENCE â€”  ,     . ,    aws_security_group  instance  cluster_instance    :<br>
<br>
<pre><code class="java hljs">$ terraform state mv \<font></font>
   aws_security_group.instance \<font></font>
   aws_security_group.cluster_instance</code></pre><br>
   Terraform,  ,     aws_security_group.instance,      aws_security_group.cluster_instance.        terraform plan    , ,    .</li>
</ul><br>
<ul>
<li>   .    .    , Terraform        .      ,        ,      .    plan      create_before_destroy.</li>
</ul><br>
<h3>  â€¦  </h3><br>
API   ,   AWS,     .  ,       ,     .   ,          ;   ,         ,        API-.<br>
<br>
,  ,    API-  AWS     EC2. API  Â«Â»  (201 Created)  ,     .        ,     ,     AWS     ,  ,    .  ,      ,      ,    (404 Not Found).   ,      EC2      AWS,     ,    .<br>
<br>
    API         ,         .  , AWS SDK       ,   Terraform       6813 (https://github.com/hashicorp/terraform/issues/6813):<br>
<br>
<pre><code class="java hljs">$ terraform apply<font></font>
aws_subnet.<span class="hljs-keyword">private</span>-persistence<span class="hljs-number">.2</span>: InvalidSubnetID.NotFound:<font></font>
The subnet ID <span class="hljs-string">'subnet-xxxxxxx'</span> does not exist</code></pre><br>
 ,    (, )       -  ( ID    ),  Terraform    .     ( 6813)  ,        ,    Terraform     .  ,        .    terraform apply   ,         .<br>
<br>
       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Â«Terraform:    Â»</a>.</li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja496804/index.html">Windowsã‚µãƒ–ã‚·ã‚¹ãƒ†ãƒ Linuxï¼ˆWSLï¼‰ã¸ã®Dockerã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨æ§‹æˆ</a></li>
<li><a href="../ja496810/index.html">Pythonã§ã®ä¸€èˆ¬çš„ãªè²¡å‹™åˆ†æï¼ˆãƒ‘ãƒ¼ãƒˆ3ï¼‰</a></li>
<li><a href="../ja496812/index.html">ã‚ºãƒ¼ãƒ -å¹³å‡¡ãªéå¤±ã¾ãŸã¯æ¨™çš„ã‚’çµã£ãŸã‚¹ãƒ‘ã‚¤æ´»å‹•ï¼Ÿ</a></li>
<li><a href="../ja496816/index.html">ã‚ãªãŸã¯å€™è£œè€…ã‚’æ„Ÿã˜ã‚‹ã“ã¨ãŒã§ãã¾ã™ã‹ã€å½¼ã¯ç”Ÿãã¦ã„ã¾ã™ã‹ï¼Ÿ</a></li>
<li><a href="../ja496818/index.html">ã‚³ã‚¢ã‚ãŸã‚Š1ç§’ã‚ãŸã‚Šæ•°åä¸‡ã®ãƒ«ãƒ¼ãƒˆã€‚Yandex.Routing Experience</a></li>
<li><a href="../ja496822/index.html">ã‚³ãƒ­ãƒŠã‚¦ã‚¤ãƒ«ã‚¹ãŒåŸå› ã§ç±³å›½ã®ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ãŒã„ã‹ã«æ­»ã¬ã‹</a></li>
<li><a href="../ja496824/index.html">ã‚ãªãŸã®åŒ—æ¬§ã®åŠ´åƒç’°å¢ƒ</a></li>
<li><a href="../ja496826/index.html">120+ fpsã®ãƒŸãƒªã‚ªãƒ³ã‚¹ãƒ—ãƒ©ã‚¤ãƒˆ</a></li>
<li><a href="../ja496828/index.html">æ¥½ã—ã„ãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹ã¯ã©ã“ã«ã‚ã‚Šã¾ã™ã‹ï¼Ÿï¼ˆãƒã‚¿ãƒãƒ¬ï¼šã‚¢ãƒƒãƒ—ãƒ¯ãƒ¼ã‚¯ã§ã¯ãªã„ï¼‰</a></li>
<li><a href="../ja496830/index.html">Emergent Communicationã¨ã¯ä½•ã‹ã€ãã—ã¦ãªãœçŸ¥ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã‹</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>