<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏽‍🏫 🤾🏾 👏 Transactions hors ligne dans les transports publics - sécurité et lutte contre la fraude 👧🏿 🏧 ❕</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Et pas un jour ne s'est écoulé, alors que j'écris un nouvel article, qui est également lié à la technologie NFC. À savoir - les transactions hors lign...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Transactions hors ligne dans les transports publics - sécurité et lutte contre la fraude</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/500564/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Et pas un jour ne s'est écoulé, alors que j'écris un nouvel article, qui est également lié à la technologie NFC. À savoir - les transactions hors ligne dans les transports publics, pourquoi et quels sont les avantages et les inconvénients pour les passagers et les transporteurs qu'il transporte. Il y a environ cinq ans, plusieurs scandales liés au piratage de cartes de la Troïka à Moscou ont fait du bruit. Ensuite, les pirates avaient besoin d'obtenir les clés pour accéder au contenu des cartes Mifare 1K et autres, ainsi qu'à un logiciel assez spécifique pour travailler avec elles. Dans le même temps, la probabilité d'être détecté était assez élevée - les cartes avec des incohérences dans le contenu et le serveur de la Troïka ont été rapidement envoyées sur la liste d'arrêt, et en essayant de passer par une telle carte, le tourniquet a émis un cri perçant, attirant l'attention. Qu'est-ce qui a changé lorsque les terminaux ont commencé à prendre en charge les cartes bancaires?</font></font><br>
<a name="habracut"></a><br>
<img src="https://habrastorage.org/webt/up/59/xi/up59xi-eljbjnmjuvc9a2uj34yq.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'est exactement l'image lors du paiement du prix peut être observée dans certaines grandes villes. </font><font style="vertical-align: inherit;">Les nouveaux terminaux peuvent fonctionner à la fois avec les anciennes cartes Mifare et avec les cartes EMV sans contact. </font><font style="vertical-align: inherit;">Faut-il dire que malgré les scandales qui ont éclaté, les vulnérabilités du vieux Mifare n'ont pas disparu? </font><font style="vertical-align: inherit;">Mais dans cet article, nous parlerons des vulnérabilités apportées par le support EMV.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Avertissement pour les parias, escrocs et pirates de toutes les bandes:</font></font></h4><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Décrit ci-dessous est purement informatif et de nature informative. </font><font style="vertical-align: inherit;">Je comprends que pour certaines raisons subjectives cet avertissement n'empêchera pas certains lecteurs, mais rappelez-vous - il y a des articles du Code pénal de la Fédération de Russie n ° 159 et n ° 272!</font></font></b><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un peu de théorie</font></font></h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EMV (Europay Mastercard Visa)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est une norme qui décrit le comportement d'une puce de carte de paiement dans différents scénarios afin d'assurer la plus haute sécurité de paiement possible. </font><font style="vertical-align: inherit;">Vous pouvez en savoir plus à ce sujet </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans un article respecté</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alexgre</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Nous nous intéressons uniquement au fait que, dans certains cas, le protocole autorise les transactions hors ligne, c'est-à-dire l'opération que la carte et le terminal effectuent exclusivement entre eux, et les informations de transaction sont transmises à la banque acquéreuse ultérieurement. L'avantage de cette approche est sans aucun doute que cette solution est idéale dans des conditions où il n'y a pas de connexion, ou la connexion est instable - comme le même bus, par exemple. Le moins découle du nom - le terminal ne peut pas vérifier la disponibilité des fonds sur la carte, ainsi que l'état de la carte elle-même. La banque ne pourra confirmer ou refuser les radiations que pour une transaction spécifique lors de la synchronisation. Que se passe-t-il si vous montrez au conducteur une carte vierge ou bloquée? Mais rien ne se passera.À l'aide des commandes APDU de base, le terminal demandera à la carte sa date d'expiration et la comparera avec l'heure du système - si elle n'a pas expiré, il demandera à la carte son PAN - il s'agit du même numéro de carte estampillé dessus. Après avoir sauvegardé ces données, à la discrétion de TRM (Terminal Risk Management, Terminal Risk Management), le terminal transférera un numéro aléatoire sur la carte, il le hachera et le signera avec sa clé, le terminal enregistrera le numéro d'origine et la réponse de la carte, afin qu'il puisse ensuite être transféré à la banque. Après avoir effectué ces opérations, le terminal envoie une commande pour mettre fin à la connexion à la carte et met fin à la connexion en imprimant un chèque. Plus tard, le terminal ne pourra pas annuler l'argent de cette carte - la carte PAN est envoyée sur la liste d'arrêt - tant qu'il n'aura pas remboursé la dette, il n'acceptera pas cette carte dans aucun bus. Un système idéal, non? Il semblerait qu'il existe des vulnérabilités,pas de cadeaux tous paient pour tout à la fin. Tout serait resté le même, sinon pour un grand "Mais" ... Ou quelques-uns.</font></font><br>
<br>
<h3>Apple/Samsung/Google Pay — </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et le 9 septembre 2014, Apple a introduit une nouvelle méthode de paiement sans contact sur l'infrastructure existante. Apple Pay s'est concentré sur la simplicité, la rapidité et la confidentialité. La simplicité a été fournie (et fournit) par l'interface intuitive de Wallet, et la confidentialité est assurée par la tokenisation. Lors de l'ajout d'une carte à Wallet, un système de paiement (tel que Mastercard ou Visa) génère un jeton. Le jeton est un PAN - mais pas celui qui est éliminé sur la carte ajoutée, mais son équivalent dans le système de paiement. Désormais, les demandes de terminaux POS pour ce PAN virtuel seront considérées par le système de paiement comme s'il s'agissait d'un numéro de carte physique. Avec cette approche, même un terminal potentiellement compromis ne voit pas le vrai numéro de carte - le jeton ne peut être utilisé que pour les paiements sur les terminaux POS, dans d'autres cas, il est inutile.Plus tard, Samsung Pay et Google Pay (anciennement Android Pay) ont commencé à travailler sur le même principe.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jetons dans les transactions hors ligne</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oui. </font><font style="vertical-align: inherit;">Un appareil sans contact équivaut ici à une carte physique. </font><font style="vertical-align: inherit;">Et en cas d'erreur de paiement, le terminal du bus mettra pédantiquement le PAN dans la liste d'arrêt. </font><font style="vertical-align: inherit;">La justice a triomphé! </font><font style="vertical-align: inherit;">Seulement ... PAN est éphémère! </font><font style="vertical-align: inherit;">Chaque fois que vous ajoutez une carte à un appareil mobile, le jeton sera différent. </font><font style="vertical-align: inherit;">En conséquence - nous ajoutons la carte à l'appareil - et nous sommes sortis de la liste d'arrêt sans payer un sou. </font><font style="vertical-align: inherit;">Répétez si nécessaire. </font><font style="vertical-align: inherit;">Ainsi, pour reproduire cette attaque, tout appareil capable d'effectuer un paiement sans contact convient. </font><font style="vertical-align: inherit;">Cela représente 90% de tous les téléphones avec NFC.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment se battre?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hors ligne - aucun moyen. </font><font style="vertical-align: inherit;">Absolument. </font><font style="vertical-align: inherit;">Il n'y a aucun moyen de déterminer si un jeton appartient à un compte. </font><font style="vertical-align: inherit;">Par conséquent, nous avons besoin de terminaux qui ne peuvent se déconnecter que lorsque cela est nécessaire et rester en ligne aussi longtemps que possible. </font><font style="vertical-align: inherit;">Je comprends que la somme des risques est faible, mais la vulnérabilité est si facile à utiliser que tout le monde peut en profiter. </font><font style="vertical-align: inherit;">Vous pouvez régler la situation - il existe des validateurs spécialisés pour les transports publics.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Type de tel.</font></font></b>
                        <div class="spoiler_text"><img src="https://habrastorage.org/webt/ov/1t/wl/ov1twljnqkirfa91bajgeyo8igk.jpeg" alt="image"><br>
     ,      .       .<br>
</div>
                    </div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quelles sont les conclusions?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les innovations hâtives ne seront pas toujours sûres et fiables. </font><font style="vertical-align: inherit;">Comme pour le système de transport, les anciennes vulnérabilités n'ont pas encore été corrigées, mais elles en ont déjà rapporté de nouvelles, facilement exploitables. </font><font style="vertical-align: inherit;">Et les béquilles sont mauvaises. </font><font style="vertical-align: inherit;">J'espère que mes petites recherches aideront certaines entreprises de transport à repenser leurs priorités.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr500552/index.html">Comment accélérer la révision du code</a></li>
<li><a href="../fr500554/index.html">Modèle de serveur d'arrière-plan Golang - partie 2 (API REST)</a></li>
<li><a href="../fr500556/index.html">Deux ans de transformation numérique en deux mois</a></li>
<li><a href="../fr500558/index.html">Une sélection d'articles sur l'apprentissage automatique: études de cas, guides et recherches pour avril 2020</a></li>
<li><a href="../fr500562/index.html">Modèles de conception de formulaire. Critique de livre</a></li>
<li><a href="../fr500568/index.html">Simulation spatiale simple à l'aide de Python et Box2D</a></li>
<li><a href="../fr500572/index.html">Spring MVC: conception de sites Web et services RESTful</a></li>
<li><a href="../fr500574/index.html">Analyse complète de la première partie de l'examen dans SHAD 2020</a></li>
<li><a href="../fr500576/index.html">Interpolation et discrétisation, pourquoi sont-elles nécessaires pour la conversion d'images projectives?</a></li>
<li><a href="../fr500578/index.html">Le seul qui compte (Partie 4 du Guide de démarrage de Mark Andriessen, 2007)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>