<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏿‍🤝‍👨🏻 👨🏻‍💻 👶🏻 Selbstfahrender GAZ66 Monster Truck 1/16 🎊 🍇 💇🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Habr, hallo! 
 
 Ich möchte Ihnen erzählen, wie ich eine selbstverwaltende Maschine gemacht und hergestellt habe :) 
 
 Ich könnte sofort sagen, wie e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Selbstfahrender GAZ66 Monster Truck 1/16</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489046/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Habr, hallo! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich möchte Ihnen erzählen, wie ich eine selbstverwaltende Maschine gemacht und hergestellt habe :) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich könnte sofort sagen, wie es geht, indem ich Schaltkreise und Bash-Befehle trocken anhänge, aber es wird so langweilig. </font><font style="vertical-align: inherit;">Ich biete Ihnen eine interessante (ich hoffe) Geschichte darüber, wie ich persönlich diesen Weg gegangen bin und wohin ich gekommen bin. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Orte, an denen es etwas zu fotografieren gab. </font><font style="vertical-align: inherit;">Wo ist mit Software - höchstwahrscheinlich ohne Foto. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es wird wirklich eine Geschichte in einem narrativen Format sein, wie ich Ihnen bei einer Tasse Kaffee erzählen würde. </font><font style="vertical-align: inherit;">Hier geht es nicht um Bash-Befehle, Python-Skripte und das ist alles. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beginnen wir mit Fotos und Videos von dem, was passiert ist, und dann der ganzen Geschichte unter dem Schnitt.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ut/ws/eb/utwsebnltcbcoi7_0gxxrenuusq.jpeg"><br>
<a name="habracut"></a><br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://player.vimeo.com/video/392912248" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Geschichte wird diesem Szenario folgen.</font></font></h2><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Warum ich es wollte</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Funktionsweise einer selbstfahrenden Maschine (Draufsicht)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alter 1 - Gelendwagen aus der Kinderwelt + Raspberry Pi Zero W + Kamera</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alter 2 - GAZ66 + NVIDIA Jetson Nano + Kamera für RaspberryPi</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alter 3 - Remo Hobby SMAX</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alter 4 - Verbindung SMAX und GAZ66</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alter 5 - Montage von Komponenten auf einem Monster Truck</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alter 6 - Installation von Donkey Car und Umgebung</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alter 7 - Gleismontage, Fahrten</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alter 8 - Reisen mit dem Joystick</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alter 9 - Neuronentraining</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alter 10 - Endlich funktioniert alles!</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Was weiter?</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kampfherausforderung</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gemeinschaft</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das Bild der SD-Karte meiner Schreibmaschine</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kaffee einschenken, wir gehen!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Warum ich es wollte</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alles begann damit, dass ich frustriert war, dass in einem großen IT-Unternehmen in Russland sehr coole Drohnen hergestellt werden. Das ist unglaublich cool, aber ich bin arbeitslos :) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nein, es ist wirklich so cool - selbstfahrende Autos.) Eine ausgezeichnete Legierung aus Mechanik und Algorithmen :) Die </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Frustration hielt an, bis ich verschiedene Fakten über mich in meinem Kopf vereinte, nämlich:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich kann in Python schreiben</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich verstehe (ungefähr), wie maschinelles Lernen funktioniert</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich weiß, wie man mit Linux auf der Konsole arbeitet</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich habe meine Kindheit mit einem Lötkolben verbracht</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich habe eine ganze Box mit DIY-Komponenten (Himbeer-Pi, Arduino, Sensoren usw.)</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als alles in meinem Kopf klappte, entschied ich mich - selbstfahrendes Auto (sdc) zu sein! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zunächst habe ich beschlossen, dass es sich lohnt, herauszufinden, wie SDC funktioniert, und dies wird der nächste Abschnitt sein.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Funktionsweise einer selbstfahrenden Maschine (Draufsicht)</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Damit das Auto von selbst fahren kann, benötigt es vier Komponenten - einen Wagen, Sensoren, einen Computer, einen Algorithmus.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lass es uns herausfinden</font></font></h4><br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Trolley</font></font></u><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Was wird eigentlich fahren. Räder, Motoren, die Batterie, die alles antreibt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt zwei bedingte Kohorten von Autos, die ich nach mir benannt habe - Autos aus der Kinderwelt und Autos für ein Hobby. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Versuchen Sie nicht einmal, mit Autos aus der Kinderwelt zu flirten, ich habe versucht, das ist ein Misserfolg. Ihr Minus ist, dass sie schwache Motoren ohne Rückmeldung haben. Dies bedeutet, dass Sie wahrscheinlich in der Lage sind, jeden Heimteppich anzuhalten, und dass Sie nicht mit der angegebenen Genauigkeit drehen können. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Autos aus der Hobbywelt sind das, was Sie brauchen. Sie haben leistungsstarke Motoren, gute Batterien und Vorderradservos für Kurvenfahrten. Betrachten Sie dies als Eintrittsschwelle. Das billigste und normalste, was ich finden konnte, war Remo Hobby SMAX. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/lj/oq/yw/ljoqywagmai0u43w37v3h5dkxye.jpeg"><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sensoren</font></font></u><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es sammelt einige Informationen über die Welt um es herum und überträgt sie zur Entscheidungsfindung auf einen Computer. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Grundsätzlich ist ein Gentleman für die DEZA:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kamera. </font><font style="vertical-align: inherit;">Die Grundlage der DEZA-Grundlagen. </font><font style="vertical-align: inherit;">Er schaut auf ein Stück Raum vor sich, überträgt das Bild auf einen Computer, der erkennt, was gerade passiert, und entscheidet, was zu tun ist. </font><font style="vertical-align: inherit;">Es scheint, dass ich keine DEZA-Implementierungen ohne Kamera gesehen habe.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IMU-Sensor. </font><font style="vertical-align: inherit;">Ein Stück, das die Beschleunigung und den Neigungswinkel entlang der Achsen zeigt. </font><font style="vertical-align: inherit;">Es hilft zu verstehen, wohin wir tatsächlich gehen und wie sich unser Standort relativ zum Startpunkt geändert hat. </font><font style="vertical-align: inherit;">Wird in fast allen Koptern verwendet.</font></font></li>
<li>.      ,     ,    ,      .   ,    SDC,   ,     .  ,     75$,      SDC  Velodyne    4K$.      ,     3D ,          2D.</li>
<li>GPS.     ,         ,     ,     SDC  .</li>
<li> .        —    ,    .   3D   .</li>
</ul><br>
<img src="https://habrastorage.org/webt/iy/93/sd/iy93sdbvfijudiwjfaepopyxkkc.jpeg"><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Computer</font></font></u><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Was Werte von Sensoren erhält, analysiert die Situation, wir übertragen Steuerbefehle auf den Wagen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der Welt der Computer für eingebettete Elektronik beherrschen energieeffiziente ARM-Prozessoren (wie in Ihrem Telefon) und darauf basierende Single-Board-Computer den Ball. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Heute gibt es zwei der beliebtesten Single-Board-Optionen - RaspberryPi und NVIDIA Jetson. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RaspberryPi hat einen niedrigeren Preis, eine Vielzahl von Projekten, eine große Community. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NVIDIA hat einen höheren Preis, weniger Projekte, aber mehr Produktivität bei maschinellen Lernaufgaben. Es verfügt über integrierte 128 CUDA-Kerne (wie bei Ihrer großen NVIDIA-Grafikkarte), mit denen Algorithmen für maschinelles Lernen beschleunigt werden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In meiner Sammlung befinden sich drei Stücke Raspberry Pi (ZeroW, 3, 4) und NVIDIA Jetson Nano. Ich beschloss natürlich, die Maschine auf Jetson zu montieren. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/97/6b/7s/976b7sfk9dpw6c2ih161squyvac.jpeg"><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Algorithmus</font></font></u><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
, der basierend auf Sensorwerten über Aktionen entscheidet. In der Regel wird hierfür eine Kombination aus Computer Vision und neuronalen Netzen verwendet. In der einfachsten Version fahren Sie mit Ihrer Schreibmaschine entlang einiger Markierungen, zeichnen Videos solcher Fahrten mit Gas- / Brems- / Abbiegeverfolgung auf und trainieren dann in diesem neuronalen Netzwerk, sodass Sie die Abhängigkeit der Motorsignale von Bildern von der Kamera feststellen können. Ganz einfach, dies ist die Aufgabe, Markups zu erkennen und darin zu bleiben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie die Funktionsweise des neuronalen Netzwerks aktualisieren möchten, empfehlen wir Ihnen, dieses Video anzusehen:</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/RJCIYBAAiEI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier habe ich die einfachste Option beschrieben, bei der es nur eine Kamera und eine Markierungsfahrt gibt. </font><font style="vertical-align: inherit;">Es gibt jedoch Optionen mit mehr Sensoren und einer anderen Arbeitslogik - dazu wird es hier einen separaten Beitrag geben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn sehr hohes Niveau, dann ist es das. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es bleibt nur:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wagen zusammenbauen</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sensoren aufhängen</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Computer anschließen</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Markup zeichnen</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reite darauf</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ein neuronales Netzwerk trainieren</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fahren</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem wir herausgefunden haben, worum es bei einem selbstfahrenden Auto geht, gehen wir zu der Ära der Implementierung über, die ich speziell hatte.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alter 1 - Gelendwagen aus der Kinderwelt + Raspberry Pi Zero W + Kamera</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ja, mein allererster Ansatz war genau das. Es geschah, weil es in der Nähe meines Hauses eine Kinderwelt gab, in die ich ging, in der ich Gelik mochte und die ich kaufte. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Okay, ich dachte, es gibt eine Helix, jetzt brauche ich einen Computer und einen Sensor. Gedanken gemacht. Ich bestellte ein RPi Zero W und eine Kamera für sie. Während ich auf den Computer und die Kamera wartete, ging ich hinein und kaufte eine Powerbank für dieses Geschäft. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Also, alles ist an Ort und Stelle, es ist Zeit zu sammeln. Ich habe ein </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">solches Projekt gefunden</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und mich entschlossen, es zu verfolgen. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gelik zerlegte, zog sein ursprüngliches Gehirn heraus, übertrug sie an die Motorsteuerung, er übertrug sie wiederum an RPi, schloss eine Kamera daran an, versorgte das Ganze mit einer Powerbank und war zufrieden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bevor ich zur Selbstverwaltung überging, beschloss ich, zum Spaß durch die Konsole zu fahren, eine Katze zu jagen und das Bild von der Kamera auf meinen Laptop zu übertragen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Damals erwarteten mich ein paar Fehler. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Erstens ist der Raspberry Pi Zero W in Bezug auf die Leistung sehr schwach. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zweitens: Die Passierbarkeit der Gelik aus der Kinderwelt ist fast nicht vorhanden, sie wurde durch fast jedes minimale Hindernis gestoppt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es wurde bereits klar, dass das Projekt tot geboren war, aber aus Interesse habe ich versucht, Computer Vision (OpenCV) für Raspberry Pi Zero direkt darauf zu montieren. </font><font style="vertical-align: inherit;">Es dauerte ohne Witze mehr als einen Tag und war der letzte Nagel im Sargdeckel dieser DEZA-Implementierung. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es wurde klar, dass Sie sowohl den Computer für eine höhere Leistung als auch den Wagen für eine bessere Langlauffähigkeit austauschen müssen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es stellte sich als ziemlich lustig heraus:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vl/bt/dg/vlbtdgde7-nhfcsowsypz6nrcay.jpeg"><br>
<br>
<h3> 2 — 66 + NVIDIA Jetson Nano +   RaspberryPi</h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zu diesem Zeitpunkt wurde klar, dass Sie ein passableres Auto und vorzugsweise einen LKW benötigen, um alle Komponenten in die Karosserie einzubauen. Nachdem ich einen Service für die Auswahl von Waren studiert hatte, wurde klar, dass das Modell unserer einheimischen GAZ66 zu mir passt, es ist auch eine Shishiga unter den Menschen. Okay, ich habe es bestellt, warte, es ist Zeit, über den Computer nachzudenken. Zu diesem Zeitpunkt bereitete NVIDIA gerade den Verkaufsstart seines Jetson Nano vor, und ich gab am ersten Verkaufstag eine Bestellung auf. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein Lastwagen kam an, ich wartete weiter auf Jetson, fuhr ungeduldig mit einer Shishiga um das Haus und rollte die Kätzchen, die die oben erwähnte Katze zur Welt brachte. Um nicht zu sagen, dass es den Kätzchen gefallen hat - musste aufhören. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der Zwischenzeit fuhr Jetson noch und ich bestellte einen Vakuum-Lidar aus China - ich wusste nicht, wie ich ihn speziell verwenden sollte, aber ich verstand, dass ich wollte.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eines Tages erschien ein Geschäftskurier am Büroeingang, gab mir eine ziemlich große Schachtel NVIDIA-Einzahler, ich unterschrieb auf der Rechnung und fühlte mich wie ein Entwickler-Enthusiast - wow, ein zu Beginn des Verkaufs gekauftes Gerät kam zu mir. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist Zeit zu sammeln! Aber zuerst musst du rummachen, lol. Demontierte die Shishigu, warf ihr einheimisches Gehirn aus, schmierte die Mechanismen, begann sich bereits auf der Basis eines Computers zusammenzubauen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe die Kamera, die Motorsteuerung, den Rotationsmotor, den Gas- / Bremsmotor angeschlossen und die Python-Skripte für den Test gestartet - wieder ein Mist! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diesmal lautet die Geschichte: Ein Shishigi verwendet einen herkömmlichen Motor zum Drehen, keinen Servoantrieb. Er hat also kein Feedback. Daher kann ich sie nicht sicher kontrollieren, was bedeutet, dass sie nicht für die DEZA geeignet sind.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Okay, wieder müssen Sie das irgendwie lösen, etwas tun. </font><font style="vertical-align: inherit;">Wir gehen zur nächsten Ära über.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ib/86/uv/ib86uv8xom4zf9yxa44-r6ikopi.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/97/6b/7s/976b7sfk9dpw6c2ih161squyvac.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alter 3 - Remo Hobby SMAX</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da zu diesem Zeitpunkt klar war, dass die Maschine nicht nur passabel, sondern auch minimal gut in Komponenten sein musste, fiel die Wahl für diejenigen, die RC haben, in die Läden, dies ist ein Hobby. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ohne weiteres kam ich in einem solchen Geschäft an und sagte mir ohne mich zu verstecken, was ich tat und welche Art von Maschine ich brauchte. </font><font style="vertical-align: inherit;">Der Verkäufer sagte mir freundlich, welche Maschine meinen Mindestanforderungen entspricht, und es war ein Remo Hobby SMAX. </font><font style="vertical-align: inherit;">Ich kaufte es. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich kam nach Hause, holte mir einen Shishigu, nahm alles ab und setzte mich, um mich mit SMAX zu verbinden. </font><font style="vertical-align: inherit;">Und was denkst du? </font><font style="vertical-align: inherit;">Das ist richtig - wieder scheitern!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Grundsätzlich sind RC-Cars so konzipiert, dass der Motor mit der Motorsteuerung und damit mit dem Funkmodul verbunden ist, das mit der Fernbedienung kommuniziert. Und es war SMAX, das so konzipiert wurde, dass dort die Motorsteuerung und das Funkmodul kombiniert wurden - ich hatte buchstäblich keine Gelegenheit, anstelle des Funkmoduls eine Verbindung zur Motorsteuerung herzustellen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Okay, du musst wieder etwas tun. Ich kehre zum Standort der RC-Cars zurück und klettere in die Komponenten. Dort stöbern und jubeln, ich finde eine Motorsteuerung, die ein separates Kabel zum Funkmodul hat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich bestelle, bringe, sammle alles neu - es funktioniert, dreht sich aber nur. Aber es gibt kein Gas und umgekehrt! Verdammt, denke ich, aber ich wähle es weiter aus.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diesmal hat es nicht funktioniert, dass die Konsole einen bestimmten Wert (360) über das Funkmodul senden muss, damit die SMAX-Engine aufwacht. Aber ich wusste nichts davon und gab die Werte direkt für das Bremsgas ein. Und der Motor reagierte nicht und ging von der Logik aus, dass ihn niemand zum Aufwachen aufforderte. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Irgendwann setzte ich mich hin, um buchstäblich alles hintereinander zu sortieren, in der Erwartung, dass es zumindest auf etwas reagieren würde. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zuerst ging ich über 100 vorbei. Dann 50 von. Und als ich die Suche nach 10 erreichte, hörte ich ein willkommenes Quietschen in 360 - Prost! Funktioniert! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe Gas / Rückwärts / Links / Rechts von der Konsole aus getestet, alles funktioniert. Das ist Feuer, hier bin ich Programmierer =)</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es scheint, dass es Zeit ist, zusammenzubauen, aber es gibt ein Problem - es gibt absolut keinen Ort, an dem die Komponenten platziert werden können. </font><font style="vertical-align: inherit;">RC-Cars sind so konstruiert, dass ihr Top eine sehr bedingte Sache ist. </font><font style="vertical-align: inherit;">Erstens besteht das Verdeck aus sehr dünnem Kunststoff, und zweitens ist es ein Jeep, und es gibt einfach keinen Platz für alles. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diesem Moment entschied ich mich zu suchen und wie andere es tatsächlich tun. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe das Eselauto-Projekt gefunden, das alles schlüsselfertig enthält, um Ihre DEZA zusammenzubauen - sowohl Hardware-Beispiele als auch Software-Framework. </font><font style="vertical-align: inherit;">Es würde cool erscheinen, nimm es und benutze es, aber es gibt Nuancen:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sie drucken die Oberseite des Autos auf einem 3D-Drucker, und dann erinnert es das Auto sehr weit entfernt. </font><font style="vertical-align: inherit;">hässlich, kurz gesagt, nicht ästhetisch ansprechend</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ihre 3D-Modelle sind mit Maschinen kompatibel, die wir nicht verkaufen.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ok, erinnere dich an Donkey Car, dann nehmen wir das Software-Framework, aber jetzt müssen wir über Hardware nachdenken. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eines Tages drehte ich meinen Kopf in meiner Wohnung und schaute auf das zerlegte Shishigu, auf SMAX ohne den oberen Teil, und dachte - hmmm, und sie scheinen von der gleichen Größe zu sein (1/16). </font><font style="vertical-align: inherit;">Er nahm eine Shishiga, nahm eine SMAX, setzte sie einfach nacheinander auf - und das tut es wirklich! </font><font style="vertical-align: inherit;">Und es sieht cool aus! </font><font style="vertical-align: inherit;">OK, ich muss es tun! </font><font style="vertical-align: inherit;">Wir gehen zur nächsten Ära über.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/lj/oq/yw/ljoqywagmai0u43w37v3h5dkxye.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/5u/_9/xz/5u_9xz8-xext5xxw1gl_u61f_au.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/zp/f1/8v/zpf18v4bqoormzdbaqlvh5wg0ks.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alter 4 - Verbindung SMAX und GAZ66</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zu Beginn dieser Ära habe ich also ein internes Ziel - die Oberseite von einer Maschine mit der Unterseite von einer anderen zu verbinden. Da meine Kollegen und ich einen Chip in einem 3D-Drucker genommen haben und ich dessen Miteigentümer (ein ernsthafter Investor) bin, wurde beschlossen, eine Verbindung in einem CAD-Programm herzustellen, diese zu drucken und damit zu verbinden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit dieser Idee ging ich ungefähr 2 Monate lang und dachte, ich würde mich gerade hinsetzen, um CAD-Systeme zu verstehen. Lol Nein. Nachdem ich mir eingestanden hatte, dass ich CAD-Systeme nicht verstehen möchte, begann ich zu überlegen, welche anderen Optionen es gibt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich ging zurück in die Kinderwelt, beschloss die Designer zu sehen, plötzlich helfen sie mir irgendwie. Ich kaufte einen klassischen Metallbauer, der bei mir war, als ich in der Schule war (Ash Old School zusammengebracht).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Er schleppte ihn nach Hause, stellte zwei Teile der Maschine nebeneinander und begann, alle möglichen Designerelemente auf sie anzuwenden. </font><font style="vertical-align: inherit;">Wie lange, kurz, begann sich eine Art Verständnis zu zeigen, wie dies zumindest theoretisch getan werden konnte. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Begann zu tun. </font><font style="vertical-align: inherit;">Verbrachte mehr als einen Tag mit einem Schraubenschlüssel, Nüssen und räumlichem Denken. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Während ich verband, lernte ich, Plastik mit einem Schraubendreher zu bohren, die überschüssigen Teile vorsichtig abzureißen, um das Gehäuse nicht zu beschädigen, und die Muttern mit anderen Muttern zu sichern (aber trotzdem ohne Unterlegscheiben). </font><font style="vertical-align: inherit;">Im Allgemeinen wäre mein Trudovik stolz auf mich. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nach ungefähr drei Änderungen und drei Tagen sah ich diesen Monstertruck vor mir - die GAZ66 SMAX Edition von Beslan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es scheint also, dass die Hardware-Basis bereit ist. Fahren Sie mit der nächsten Ära fort.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ae/1e/uy/ae1euyqkwmcpa8g1kkfetnfafg0.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/3v/ve/_u/3vve_ujwex5gar6kpbo5zynlddc.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alter 5 - Montage von Komponenten auf einem Monster Truck</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zu guter Letzt:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich habe einen Wagen mit guten Komponenten</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich habe ein ästhetisches und geräumiges Obermaterial</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gas / Bremse / Umdrehungen funktionieren bei diesem Wagen normal</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">oben und unten sind sogar miteinander verbunden =)</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist Zeit, Komponenten an dieser Schönheit zu montieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit einem Schraubendreher als Bohrer für Kunststoff und doppelseitigem Klebeband als Universalhalterung für alles bewaffnet, machte ich mich an die Arbeit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe eine Halterung für die Kamera an der Kabine angefertigt, mit der Sie den Winkel der Kamera einstellen können. </font><font style="vertical-align: inherit;">Warf einen langen Zug von der Kamera nach Jetson, der sich wiederum hinten niederließ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Neben Jetson ließen sich im Hintergrund folgende Personen nieder:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Powerbank für die Stromversorgung des Computers (spendete sein Hauptgerät, cool, mit USB-Stromversorgung, damit Jetson nicht ausfällt)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PCA9685 (PWM-Controller) zur Motorsteuerung</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Batterie, um den Motor der Maschine anzutreiben</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da das Projekt zu diesem Zeitpunkt bereits als langfristig angesehen wurde, entschied ich mich, mich noch nicht mit dem Lidar zu beschäftigen und MVP zumindest auf der Kamera und Software von Donkey Car zu machen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zum Spaß habe ich meine einheimischen Scheinwerfer von GAZ66 angeschlossen, um sie im Dunkeln schöner und selbstbewusster zu machen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Okay, meine Maschine schaltet sich ein, die Engines reagieren auf Befehle von der Python, die Kamera gibt ein Bild, die Lichter sind an, alles ist in Ordnung, es ist Zeit, Software zu installieren.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vi/6l/hn/vi6lhndoodzafm9jsbdkp36thkc.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/qj/bo/wz/qjbowztgjt1jocusuhducwkpxme.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alter 6 - Installation von Donkey Car und Umgebung</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Glücklicherweise habe ich in den letzten Phasen das Donkey Car-Projekt gefunden, und es hat mir das Leben viel leichter gemacht, mich davon abzuhalten, alles selbst zu schreiben. </font><font style="vertical-align: inherit;">Einfach ausgedrückt ist DonkeyCar ein Framework, das bereits alles enthält, was Sie für die DEZA benötigen. </font><font style="vertical-align: inherit;">Und sie haben sogar Anleitungen zur Installation von Software. </font><font style="vertical-align: inherit;">Aber wie es normalerweise bei OpenSource der Fall ist, sind die Anleitungen veraltet und widersprechen sich in wenigen Augenblicken. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Okay, muss es herausfinden. </font><font style="vertical-align: inherit;">Für den normalen Betrieb des Frameworks werden die folgenden Bibliotheken benötigt:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opencv</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tensorflow-GPU (GPU ist für Jetson, denn es gibt einen Cuda-Kernel. Für RPI gibt es Tensorflow-Lite)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tensorrt (Bibliothek zur Beschleunigung der Inferenz von Neuronen)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und all das wird automatisch basierend auf der Liste der Umgebung festgelegt</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beginnen wir mit OpenCV. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das DonkeyCar-Handbuch besagt, dass Sie es aus der Quelle selbst erstellen müssen, da für ARM kein OpenCV in pip vorhanden ist. Ich habe dies sogar getan, OpenCV kompiliert, aber bevor ich es installiert habe, habe ich mich entschlossen zu überprüfen, dass das System plötzlich eine alte Version von OpenCV hat und es abgerissen werden muss. Ich habe eine Python aufgerufen, cv2 importiert, nach einer Version gefragt, aber sie ist bam und relevant. Schnell gesucht und herausgefunden, dass in den neuesten Versionen von linux4tegra (in Jetson) die Jungs von NVIDIA begonnen haben, OpenCV zu installieren. Cool, ich habe weniger zu tun. Gut gemacht, dass ich mich selbst kompilieren konnte :) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als nächstes Tensorflow-GPU. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das DonkeyCar-Handbuch zeigt zum einen einen veralteten Versionszweig (1.xx) und zum anderen nicht einmal die neueste Version von veralteten. Ich beschloss, sie nicht anzuhören und die neueste aktuelle Version (2.0) zu veröffentlichen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der nächste Schritt ist Tensorrt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Anleitung zum Installieren von Tensrort auf Jetson ist in einer separaten Wiki-Seite geschrieben, und es ist klar, dass der Autor die Hauptanleitung nicht gelesen hat =) Da in der Tensorrt-Anleitung Umgebungsvariablen neu zugewiesen werden und OpenCV nicht mehr funktioniert. Ich drehte es hin und her, rollte alles zurück und beschloss, auf die Umgebung und Umgebungsvariablen zu hämmern - rollte es direkt in die Hauptumgebung. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zufrieden mit sich selbst öffnete er die Python, die wiederum cv2, tensorflow, tensorrt genannt wurde, und fragte die Python nach ihrer Version - sie wurden alle importiert, alle zeigten die neuesten Versionen. Cool! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Installationsprozess für das Eselauto selbst ist recht einfach, ich werde es nicht beschreiben, ich schlage vor, die Anleitung zu lesen. Das einzige, was ich jetzt bemerke, ist, dass Sie in der Eselautokonfiguration die Auflösung des Bildes von 86x86 für RPi auf 224x224 für Jetson erhöhen können (weil es mehr Leistung und Genauigkeit geben wird).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Also ist alles fertig, Zeit zum Laufen und Testen! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mein Computer wird wirklich eingeschaltet. Er startet den Webserver unter der IP-Adresse, an die der Router den Computer ausgegeben hat. </font><font style="vertical-align: inherit;">Und Sie können wirklich dorthin gehen und vom Browser aus den Joystick steuern und das Bild von der Kamera betrachten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich musste auch die Werte kalibrieren, die an die PWM (PCA9685) geliefert wurden, um eine vollständige Vorwärts-, vollständige Rückwärts- und maximale Drehung zu den Seiten zu finden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier stellte ich übrigens fest, dass mein Motor falsch angeschlossen war - die Maschine ging viel energischer zurück als vorwärts - ich fand experimentell die Drähte und warf sie umgekehrt. </font><font style="vertical-align: inherit;">Es war dort so angeordnet, dass alle Drähte vom Motor die gleiche Farbe haben und man sich nicht erinnern kann, wie es war. </font><font style="vertical-align: inherit;">Aber ich habe es richtig angeschlossen und auf jeden Draht einen Schrumpfschlauch gelegt, damit ich sie später unterscheiden kann.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cool, es ist Zeit, die Strecke vorzubereiten!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alter 7 - Gleismontage, Fahrten</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Donkey-Car-Algorithmus ist so konzipiert, dass ein Neuron von einem Lehrer trainiert wird. </font><font style="vertical-align: inherit;">Dies bedeutet, dass das Bild von der Kamera verfolgt wird und neben jedem Bild eine JSON-Datei angezeigt wird, in die der Name des Bildes, die Beschleunigung, die Drehung und der Zeitstempel geschrieben sind. </font><font style="vertical-align: inherit;">Und um ein Neuron zu trainieren, benötigen solche Bild + JSON-Paare mindestens 5K. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es wurde beschlossen, die Strecke zu Hause zusammenzubauen, sie sagen, die Wohnung sei groß, es gebe einen Ort, an dem man sich umdrehen könne. </font><font style="vertical-align: inherit;">Aber als ich anfing zu sammeln, wurde klar, dass es keine Fahrt um die Wohnung gab - der Boden hat verschiedene Farben, der Kontrast wird unterschiedlich sein und das Modell kann nicht herausnehmen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Okay, ich habe beschlossen, es in einen Raum zu stellen. </font><font style="vertical-align: inherit;">Ich kaufte 4 Rollen Klebeband und klebte sie auf die Schiene auf dem Boden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich stellte das Auto ein, startete es, fuhr los und scheiterte erneut - es stellte sich heraus, dass ein Raum zu klein ist und mein Auto nicht in den Kurven enthalten ist. Genauer gesagt ist es enthalten, aber mit einer solchen Geschwindigkeit, dass es dann eine Schande sein wird =) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Okay, wir müssen die zweite Iteration durchführen und wir brauchen einen großen Raum. Die Wahl fiel auf das Büro - es gibt viele Orte, die Böden sind monophon, rund um die Uhr geöffnet. Das einzige Problem ist, dass die Reiniger nachts arbeiten und die Schiene entfernt werden muss. Das heißt, Sie müssen alles auf einmal erledigen - mit Ihren Händen fahren, um Lehrer zu werden, das Modell trainieren, es zurück in die Schreibmaschine werfen und ohne Handkontrolle auskommen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Okay, Tag X, nach dem Ereignis über A / B-Experimente wurde beschlossen, im Büro zu bleiben und den Track zu machen. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Ort ist ausgewählt, das Band ist fertig, das Team der Erbauer der Strecke im Spiel. Nur eine Stunde, und im Bürokorridor gibt es eine tolle Strecke.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich setzte das Auto ein, schaltete es ein, versuchte zu fahren - Hurra, es bog ab und ich musste die Geschwindigkeit auf nur 80% begrenzen.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/px/be/7t/pxbe7tj2qrtw7o0yekqk4lneiue.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alter 8 - Reisen mit dem Joystick</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Also, ich habe eine Strecke, ich habe ein Auto und ich brauche 5K Paare Bild + JSON. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Empirisch fand ich heraus, dass eine Runde meiner Strecke 250 Paar Foto + JSON enthält, was bedeutet, dass ich mindestens 20 Runden lassen muss. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Am besten in einer Reihe. Sie können natürlich zeitweise, aber dann wird das geworfene Gas vom Modell abgeklappert, und es kann anfangen, langsamer zu werden, aber ich will das nicht. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe versucht, in 20 Runden ohne Pause zu fahren, und das ist, muss ich sagen, keine leichte Aufgabe. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die erste Schwierigkeit trat auf, weil sich in der Mitte der Route eine schwere Säule befand, und als die Maschine danach fuhr, wurde die Verbindung mit dem Laptop, von dem aus sie gesteuert wurde, verzögert, und diese kleine Verzögerung warf mich aus den Grenzen der Route.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Okay, Sie müssen also sicherstellen, dass die Verbindung von dem Gerät hergestellt wird, mit dem ich selbst zur Schreibmaschine gehe, wenn ich fahre. Dies bedeutet, dass Sie über den Browser des Telefons fahren müssen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber es gibt immer noch einen Joystick, und ich halte ihn mit beiden Händen. Wo sonst kann ich das Telefon bekommen? Das Weiterführen einer Schreibmaschine ist keine Option, sie verlangsamt sie und geht dann ohne Telefon schneller und kann aufgrund übermäßiger Beschleunigung in den Ecken verwirrt werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hmm, dann musst du das Telefon und den Joystick irgendwie kombinieren. Okay, ich habe einen Leser, er ist groß genug und passt sowohl auf ein Telefon als auch auf einen Joystick. Er nahm das Band und klebte das Telefon mit Klebeband und direkt unter dem Joystick an den Leser. Ich schaute auf dieses Wunder und dachte - was bist du im Allgemeinen? :-)</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber es hat funktioniert :) Mit diesem Ding habe ich es geschafft, 20 Runden zu fahren. </font><font style="vertical-align: inherit;">Aber eigentlich sogar 25, weil ich irgendwo einen Geschmack um 15 Kreis bekommen habe. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dackel, fertig, ich habe einen Datensatz zum Trainieren eines Neurons, es ist Zeit zu trainieren!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alter 9 - Neuronentraining</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diesem Moment habe ich ein Auto, eine Strecke, einen Datensatz - ja, ich bin einen Schritt vom Ergebnis entfernt! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zu Hause drehte sich der PC im Leerlauf mit dem NVIDIA RTX 2070, an dem ich studieren wollte. Glücklicherweise habe ich für ein Smart Home eine externe IP und musste nur Port 22 aus dem Internet auf einen PC übertragen. Es ist gut, dass es Assistenten gab, die dies für mich getan haben, während ich im Büro war. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Also gehe ich mit Ubuntu auf SSH zum Computer, überwache den Home-Ordner auf SSHFS, lade Dateien hoch. Es scheint, dass nur 40 Megabyte, aber es dauerte etwa 30 Minuten. Es ist passiert, wie ich es verstehe, weil es viele von ihnen gab. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dateien auf Ihrem Computer, Tensorflow-GPU installiert, DonkeyCar-Software installiert, es ist Zeit zu trainieren. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich rufe ein Skript von DonkeyCar auf, um ein Neuron zu trainieren. Ich zeige es auf die Ordner mit dem Datensatz - es wurde ausgeführt.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Während das Neuron läuft, zeigt nvtop (Grafikkarten-Lastmonitor) eine Auslastung von 1406%, reguläres htop zeigt 100% CPU-Last für alle 16 Kerne. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nach ungefähr 20 Minuten habe ich ein geschultes Modell zum Autofahren. </font><font style="vertical-align: inherit;">Es scheint, nimm es, benutze es. </font><font style="vertical-align: inherit;">Aber nein :) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Erinnerst du dich, ich habe oben über Tensorrt geschrieben, das die Inferenz von Neuronen optimiert und sie auf Cuda-Kerneln ausführt? </font><font style="vertical-align: inherit;">Natürlich möchte ich es durchgehen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und das bedeutet was ich brauche:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">friere das Modell ein (du musst alles für das Modell in eine Datei packen)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Konvertieren Sie das Fries-Ergebnis in das Tensorrt-Format</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich versuche das Modell einzufrieren, ich rufe das Skript von DonkeyCar auf, Fehler. Und in der Zwischenzeit ist es bis zur Nacht, bald bauen die Reinigungskräfte meine Spur ab, ich muss schnell. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Hypothese wurde geboren, dass dies daran liegt, dass ich den falschen Tensorflow genommen habe, den DonkeyCar hatte. Okay, ich ziehe Tensorflow 2.0, ich setze 1.15, ich versuche es erneut - Erfolg, Prost! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nun die Umstellung und wieder die Panne - das Team wurde nicht gefunden. Okay, ich werde suchen, was los ist. Es stellte sich heraus, dass NVIDIA diese Funktion als veraltet markiert und die Unterstützung eingestellt hat. Jetzt, sagen sie, müssen Sie von Hand konvertieren. Glücklicherweise habe ich ein Git-Repo gefunden, bei dem es eine ähnliche Anfrage gab, und der Benutzer hat den Ort gefunden, an dem das Python-Skript tatsächlich liegt, wodurch die Modelle konvertiert werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich rufe das Drehbuch von diesem Ort aus an und die Wahrheit antwortet. Aber, sagt er, keine dritten Pythons für dich, komm an zweiter Stelle.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Okay, ich rufe die zweite Python an. Er sagt mir - ich habe keinen Tensorflow. Nun, ich bitte ihn, Tensorflow-GPU 1.15 zu setzen, und er sagt mir, dass es keine solche Version gibt, es gibt nur 1.14. Okay, ich stimme zu, lassen Sie uns ein Risiko eingehen und die verschiedenen Versionen in verschiedene Python-Umgebungen stellen. Setzen Sie Tensorflow in die zweite Python, die zur Konvertierung aufgerufen wurde - Prost, es hat funktioniert! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Okay, ich habe Modelle für Tensorrt und für gewöhnliche Tensorflow-GPU lasse ich sie in die Maschine fallen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich starte die Maschine mit dem Modell für Tensorrt, einem riesigen Fehler-Trackback, Zeitdruck - ok, ich werde das übliche Modell ausprobieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich starte den üblichen Fehler erneut, aber diesmal ist es ziemlich klar: Ihre Bildgröße beträgt 224 x 224, während 86 x 86 erwartet wird. Denken Sie daran, irgendwo viel höher habe ich geschrieben, dass die Konfigurationsregeln die Bildauflösung von der Kamera geändert haben?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Also habe ich auf der Schreibmaschine korrigiert, aber nicht auf dem Host-Computer. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich kehre zum Host-Computer zurück, korrigiere die Konfigurationen dort, trainiere neu, mache den Fries erneut, konvertiere neu, werfe zurück. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ga/wn/uw/gawnuwyx7iobukme4h_zrqkgcvs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich starte die Maschine mit einem Modell für Tensorrt und ...</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alter 10 - Endlich funktioniert alles!</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hurra! </font><font style="vertical-align: inherit;">Mein Auto ist gefahren! </font><font style="vertical-align: inherit;">Selbst ohne mich. </font><font style="vertical-align: inherit;">Sehr cool. </font><font style="vertical-align: inherit;">Ich bin unglaublich glücklich</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://player.vimeo.com/video/392912248" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fast ein Jahr lang habe ich das alles gemacht und jetzt)</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Was weiter?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt eine Reihe von Plänen für die weitere Entwicklung, ich werde von einfach zu komplex übergehen.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fügen Sie dem Modell einen IMU-Sensor hinzu, um möglicherweise die Genauigkeit zu erhöhen. </font><font style="vertical-align: inherit;">Wenn Sie beispielsweise bergauf fahren, muss der Motor stärker beansprucht werden.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Übersetzen Sie die Logik in Fahrten nicht auf der Autobahn, sondern fahren Sie nur um Hindernisse herum</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lidar hinzufügen und ablesen</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kampfherausforderung</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie selbst oder mit einer Gruppe von Freunden das Gefühl haben, dass Sie Rennen fahren möchten, schreiben Sie mir, lassen Sie uns Wettbewerbe veranstalten =)</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gemeinschaft</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe auch einen Interessenschat eingerichtet und bereite einen Kanal vor. </font><font style="vertical-align: inherit;">Ich bin mir nicht sicher, ob dies nach den Regeln von Habr möglich ist, daher werde ich auf Anfrage an die PM senden.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das Bild der SD-Karte meiner Schreibmaschine</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auf Anfrage sende ich Ihnen auch ein Bild meines Autos, wenn Sie dies auf einer ähnlichen Basis tun möchten und nicht mit der Einstellung baden möchten.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de489034/index.html">Die neue mobile UIS-App oder -Rettung für diejenigen, die ein öffentliches Beschaffungswesen suchen?</a></li>
<li><a href="../de489038/index.html">Das Buch "Java Concurrency in Practice"</a></li>
<li><a href="../de489040/index.html">Contact Center AI: Dritte im Gespräch sind in Ordnung</a></li>
<li><a href="../de489042/index.html">Große Wiedereröffnung des Stores: Laden von Daten mit Coroutine in Android</a></li>
<li><a href="../de489044/index.html">Physik des Textes. Teil 1. Symbole</a></li>
<li><a href="../de489048/index.html">Protokollierung und Abfrageverfolgung sind bewährte Methoden. Yandex-Bericht</a></li>
<li><a href="../de489050/index.html">Windows gegen Sysmon</a></li>
<li><a href="../de489058/index.html">Ensembles neuronaler Netze mit PyTorch und Sklearn</a></li>
<li><a href="../de489060/index.html">Analyse: Was ist der Unterschied zwischen risikoreichen und risikoarmen Anlagen?</a></li>
<li><a href="../de489062/index.html">Unglaubliche parallele Apache Parquet I / O-Leistung in Python</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>