<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¤ğŸ» ğŸ“¡ ğŸ“Ÿ GitHubã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ãŸé›»å ±ãƒãƒ£ãƒãƒ«ã®ç¶­æŒ ğŸ¤œğŸ¾ ğŸ‡ğŸ¾ ğŸ‘‹ğŸ¼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ãŠãã‚‰ãã€ã™ã¹ã¦ã®é–‹ç™ºè€…ãŒè‡ªåˆ†ã®äººç”Ÿã§å°‘ãªãã¨ã‚‚ä¸€åº¦ã¯ä½•ã‹ã‚’è‡ªå‹•åŒ–ã™ã‚‹ã¨ã„ã†è€ƒãˆã‚’æŒã£ã¦ã„ã¾ã—ãŸã€‚çµå±€ã®ã¨ã“ã‚ã€ãƒ«ãƒ¼ãƒãƒ³ã‚’å–ã‚Šé™¤ãæ©Ÿä¼šãŒã‚ã‚Œã°ã€ãã‚Œã‚’ä½¿ç”¨ã—ãªã„ã®ã¯ç½ªã§ã™ã€‚
 

ç§ã«ã¨ã£ã¦ã€ã“ã®ã‚¢ã‚¤ãƒ‡ã‚¢ã¯ã€æ•°ç‹¬ã‚’è§£ããŸã‚ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‹ã‚‰å§‹ã¾ã‚Šã€ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼ã§è²»ã‚„ã•ã‚ŒãŸæ™‚é–“ã‚’æ•°ãˆã€è‡ªå·±è¨˜è¿°ã•ã‚ŒãŸã‚¹...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>GitHubã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ãŸé›»å ±ãƒãƒ£ãƒãƒ«ã®ç¶­æŒ</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/499180/"><p><img src="https://habrastorage.org/webt/qj/zp/ct/qjzpctzyvhpoehjvj6jasakfla0.jpeg"></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãŠãã‚‰ãã€ã™ã¹ã¦ã®é–‹ç™ºè€…ãŒè‡ªåˆ†ã®äººç”Ÿã§å°‘ãªãã¨ã‚‚ä¸€åº¦ã¯ä½•ã‹ã‚’è‡ªå‹•åŒ–ã™ã‚‹ã¨ã„ã†è€ƒãˆã‚’æŒã£ã¦ã„ã¾ã—ãŸã€‚</font><font style="vertical-align: inherit;">çµå±€ã®ã¨ã“ã‚ã€ãƒ«ãƒ¼ãƒãƒ³ã‚’å–ã‚Šé™¤ãæ©Ÿä¼šãŒã‚ã‚Œã°ã€ãã‚Œã‚’ä½¿ç”¨ã—ãªã„ã®ã¯ç½ªã§ã™ã€‚</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç§ã«ã¨ã£ã¦ã€ã“ã®ã‚¢ã‚¤ãƒ‡ã‚¢ã¯ã€</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ•°ç‹¬</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚’è§£ããŸã‚ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‹ã‚‰å§‹ã¾ã‚Š</font><font style="vertical-align: inherit;">ã€ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼ã§è²»ã‚„ã•ã‚ŒãŸæ™‚é–“ã‚’æ•°ãˆã€è‡ªå·±è¨˜è¿°ã•ã‚ŒãŸã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½¿ç”¨ã—ã¦PCãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä½œæ¥­ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã—ï¼ˆã“ã‚Œã¯ãšã£ã¨å‰ã®ã“ã¨ã§ã™ï¼‰ã€ã‚ˆã‚Šè¤‡é›‘ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§çµ‚ã‚ã‚‹</font><font style="vertical-align: inherit;">ã€ç§ã®å¤šãã®é–‹ç™ºã®åŸºç¤ã¨ãªã‚Š</font><font style="vertical-align: inherit;">ã¾ã—ãŸã€‚</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãã—ã¦ã€ã¨ã‚Šã‚ã‘ã€</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€Œãƒ†ãƒ¬ã‚°ãƒ©ãƒ ãƒœãƒƒãƒˆã¨GitHubã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ã¦ITãƒãƒƒãƒ‰ã‚­ãƒ£ã‚¹ãƒˆã®æ–°ã—ã„ãƒªãƒªãƒ¼ã‚¹ã®è¿½è·¡ã‚’è‡ªå‹•åŒ–ã—ãªã„ã®ã¯ãªãœã§ã™ã‹ï¼Ÿãƒ†ãƒ¬ã‚°ãƒ©ãƒ ãƒãƒ£ãƒãƒ«ã«ã‚µãƒ–ã‚¹ã‚¯ãƒ©ã‚¤ãƒ–ã—ã€ãƒãƒƒãƒ‰ã‚­ãƒ£ã‚¹ãƒˆã®æœ€æ–°ã®å•é¡ŒãŒåˆ©ç”¨å¯èƒ½ã«ãªã£ãŸã¨ãã«å—ã‘å–ã‚‹ã ã‘ã§ã™ã€‚</font></font></em></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚‚ã¡ã‚ã‚“ã€ã€ŒPocket Castsã€ãªã©ã®å°‚ç”¨ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã‚Šã€RSSã‚’è³¼èª­ã—ãŸã‚Šã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ãŒã€å€‹äººçš„ã«ã¯ã€Telegramãƒãƒ£ãƒãƒ«ã‚’ä½¿ç”¨ã™ã‚‹ã®ãŒæœ€ã‚‚ä¾¿åˆ©ã§ã‚·ãƒ³ãƒ—ãƒ«ã§ä½¿ã„æ…£ã‚Œã¦ã„ã¾ã™ã€‚</font></font></p><br>
<p>   telegram- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">@awesome_russian_podcasts</a>,         -,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"> </a>. ,      (  )     .</p><a name="habracut"></a><br>
<h2 id="ispolzuemye-instrumenty"> </h2><br>
<p>      :</p><br>
<ol>
<li>GitHub Actions;</li>
<li>.NET Core Console App;</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">Luandersonn.iTunesPodcastFinder</a> â€”       iTunes;</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">Telegram.Bot</a> â€”    API Telegram-;</li>
<li>Git.</li>
</ol><br>
<p> 2-4   ,         .  ,  Telegram API     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">HTTP-</a>,    API iTunes.</p><br>
<h2 id="github-actions">GitHub Actions</h2><br>
<p><img src="https://habrastorage.org/webt/to/x6/2m/tox62mifxfdj70cxnkdiyc2kwrs.png"><br>
<em>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">GitHub Actions</a></em></p><br>
<p>  <strong>GitHub Actions</strong>         ,      ,                 .</p><br>
<p><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"> </a> (   )    ,       .         .</p><br>
<p>      GitHub Actions   :</p><br>
<ul>
<li>    ;</li>
<li>  ""  ;</li>
<li>       .</li>
</ul><br>
<p>   ,      Action-,   ,          ,       Telegram-  Telegram-,   .NET Core .</p><br>
<h2 id="zadanie-sekretov-repozitoriya">  </h2><br>
<p>   "" (<strong>API-</strong> Telegram-  <strong>id Telegram-</strong>,     )    GitHub Action,     :</p><br>
<p><img src="https://habrastorage.org/webt/wi/5g/nd/wi5gndmxpv_rydiibr248tshev4.png"></p><br>
<p>  , <strong>id Telegram-</strong>      Action-   ,           .</p><br>
<p>            .NET Core .</p><br>
<h3 id="poluchenie-api-klyucha-telegram-bota"> API- Telegram-</h3><br>
<p>   Telegram-       <strong>API-</strong>.    .</p><br>
<p>   Telegram   <em>BotFather</em> â€”   Telegram-    :</p><br>
<p><img src="https://habrastorage.org/webt/nl/mh/qi/nlmhqiaslst9ioqgqjcbe-y2a0g.png"></p><br>
<p>       <em>BotFather</em>   <code>/newbot</code>,        :</p><br>
<p><img src="https://habrastorage.org/webt/w7/lx/dw/w7lxdwhampijaxw4miyqp1h-pbg.png"></p><br>
<p>      .</p><br>
<p> <em>BotFather</em>   <em>username</em>   .  ,       Telegram.</p><br>
<p>   : <em>username</em>    <code>bot</code> (  )      (  <em>username</em>  ,       ):</p><br>
<p><img src="https://habrastorage.org/webt/me/qo/nf/meqonfaeoos73mskhdhhpe3hyia.png"></p><br>
<p>     ,    API-     (  API- â€”   ). </p><br>
<p><em>P.S.    API-,    ,   <code>/mybots</code>   </em>BotFather<em>,         <strong>"API Token"</strong>.         .</em></p><br>
<p>      Telegram     <em>username</em>,       <strong>""</strong>.     :</p><br>
<p><img src="https://habrastorage.org/webt/ot/qa/g3/otqag3enkcfcwcezolqy5bybedy.png"></p><br>
<h3 id="poluchenie-id-telegram-kanala"> id Telegram-</h3><br>
<p> Telegram- ,    ,   <strong>id Telegram-</strong>  .</p><br>
<p>        Telegram- (        ),  -    ,   HTTP GET-: <code>https://api.telegram.org/bot&lt;api_key&gt;/getUpdates</code>,  <code>&lt;api_key&gt;</code> â€”  API- ,  :</p><br>
<p><img src="https://habrastorage.org/webt/jx/ff/pt/jxffptgh7kgiehgthwo2dqpuhek.png"></p><br>
<p>  <code>id</code>  <code>chat</code>   id Telegram-.</p><br>
<p><em>P.S.   Telegram,  ,       ,    HTTP GET-    . ,    <strong>Opera</strong>    ,    .</em></p><br>
<h2 id="struktura-skripta"> </h2><br>
<p>    Action-.</p><br>
<p> ,        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"> </a>.      .        :</p><br>
<pre><code class="plaintext hljs">name: Update_Podcasts_Data      #  ,      Actions <font></font>
<font></font>
on:                             # ,    <font></font>
  schedule:                     #   ,    <font></font>
    - cron: '0 5-20/2 * * *'    # '   2     5  20  UTC+0',    5, 7, 9, 11, 13, 15, 17, 19  UTC+0<font></font>
<font></font>
jobs:                           #     <font></font>
  build:<font></font>
<font></font>
    runs-on: ubuntu-latest      #      ubuntu<font></font>
<font></font>
    steps:                      # ,    <font></font>
    - uses: actions/checkout@v2 #    <font></font>
    - name: Setup .NET Core                                 #  1- <font></font>
      uses: actions/setup-dotnet@v1                         #  ,    .NET <font></font>
      with:                                                 #  :<font></font>
        dotnet-version: 3.1.101                             #      .NET Core<font></font>
    - name: Set chmod to Unchase.HtmlTagsUpdater            #  2- <font></font>
      run: chmod 777 ./utils/Unchase.HtmlTagsUpdater        #  ,      .NET Core Console App - "Unchase.HtmlTagsUpdater"<font></font>
    - name: Run Unchase.HtmlTagsUpdater (with Telegram Bot) #  3- <font></font>
      env:                                                  #      <font></font>
        TG_KEY: ${{ secrets.TgKey }}                        # TG_KEY   ""    "TgKey" -  API-   Telegram- <font></font>
        TG_CHANNEL_ID: ${{ secrets.TgChannelId }}           # TG_CHANNEL_ID   ""    "TgChannelId" -  id ,      <font></font>
<font></font>
      #    .NET Core      :<font></font>
      # -f -   ("Podcasts.md" -     -        )<font></font>
      # -t -    (    2 :   - "iTunesPodcast",   YouTube-)<font></font>
      # -a - API-  Telegram-,      TG_KEY<font></font>
      # -c - id       TG_CHANNEL_ID<font></font>
      # -i -   Telegram.Bot  <font></font>
      #     ,     <font></font>
      run: ./utils/Unchase.HtmlTagsUpdater -f "Podcasts.md" -t "iTunesPodcast" -a "$TG_KEY" -c "$TG_CHANNEL_ID" -i "90"<font></font>
<font></font>
    #        telegram-,       "Podcasts.md"   <font></font>
    - name: Git set author (email)  #  4- <font></font>
      run: /usr/bin/git config --global user.name "GitHub Action Unchase"   #   ,     commit<font></font>
<font></font>
    - name: Git set author (email)  #  5- <font></font>
      run: /usr/bin/git config --global user.email "spiritkola@hotmail.com" #  email ,     commit<font></font>
<font></font>
    - name: Git add                 #  6- <font></font>
      run: /usr/bin/git add Podcasts.md #  ()     commit                 <font></font>
<font></font>
    - name: Git commit              #  7- <font></font>
      run: /usr/bin/git commit -m "Update podcasts data"    #  commit<font></font>
<font></font>
    - name: Git push<font></font>
      run: /usr/bin/git push origin master  #  push     </code></pre><br>
<p>  ,  Action-  .   , ,     commit,    .      .       .NET Core  <strong>"Unchase.HtmlTagsUpdater"</strong>.  ,    .</p><br>
<h2 id="net-core-console-app">.NET Core Console App</h2><br>
<p><strong>"Unchase.HtmlTagsUpdater"</strong> â€”    .NET Core ,       .     :   , ,    ,    .</p><br>
<p>       nuget- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">CommandLineParser</a>.         :</p><br>
<pre><code class="plaintext hljs">using System.Collections.Generic;<font></font>
using System.IO;<font></font>
using CommandLine;<font></font>
using Telegram.Bot.Types;<font></font>
using File = System.IO.File;<font></font>
<font></font>
public enum UtilType<font></font>
{<font></font>
    YouTube,<font></font>
<font></font>
    iTunesPodcast<font></font>
}<font></font>
<font></font>
public class Options<font></font>
{<font></font>
    [Option('f', "file", Required = true)]<font></font>
    public string InputFile { get; set; }<font></font>
<font></font>
    [Option('t', "type", Required = true)]<font></font>
    public UtilType Type { get; set; }<font></font>
<font></font>
    [Option('a', "tgapi", Required = false)]<font></font>
    public string TelegramBotApiKey { get; set; }<font></font>
<font></font>
    [Option('c', "tgchannel", Required = false)]<font></font>
    public ChatId TelegramChannelId { get; set; }<font></font>
<font></font>
    [Option('i', "tgtimeout", Required = false)]<font></font>
    public int TelegramTimeout { get; set; }<font></font>
<font></font>
    public string ReadAllTextFromInputFile()<font></font>
    {<font></font>
        if (!File.Exists(InputFile))<font></font>
        {<font></font>
            throw new FileNotFoundException("Input file does not exist!", InputFile);<font></font>
        }<font></font>
        return File.ReadAllText(InputFile);<font></font>
    }<font></font>
<font></font>
    public void WriteAllTextToInputFile(string text)<font></font>
    {<font></font>
        if (!File.Exists(InputFile))<font></font>
        {<font></font>
            throw new FileNotFoundException("Input file does not exist!", InputFile);<font></font>
        }<font></font>
        File.WriteAllText(InputFile, text);<font></font>
    }<font></font>
}</code></pre><br>
<p>   <code>Main</code>    <code>Parser.Default.ParseArguments</code>:</p><br>
<pre><code class="plaintext hljs">internal static Options Options { get; private set; }<font></font>
<font></font>
static void Main(string[] args)<font></font>
{<font></font>
    Console.WriteLine("Start!");<font></font>
<font></font>
    //     ,    Options<font></font>
    var parseResult = Parser.Default.ParseArguments&lt;Options&gt;(args)<font></font>
        .WithParsed(o =&gt;<font></font>
        {<font></font>
            Options = o;<font></font>
        });<font></font>
<font></font>
    //      ,    <font></font>
    if (Options == null || parseResult.Tag != ParserResultType.Parsed)<font></font>
    {<font></font>
        //        GitHub Action<font></font>
        Console.WriteLine("Error: Options was not parsed!");<font></font>
        return;<font></font>
    }<font></font>
<font></font>
    //...<font></font>
<font></font>
    //      <font></font>
    var text = Options.ReadAllTextFromInputFile();<font></font>
<font></font>
    switch (Options.Type)<font></font>
    {<font></font>
        // ...<font></font>
        case UtilType.iTunesPodcast:<font></font>
            //   iTunes-<font></font>
            text = ProcessPodcasts(text);<font></font>
            break;<font></font>
    }<font></font>
<font></font>
    //       <font></font>
    Options.WriteAllTextToInputFile(text);<font></font>
<font></font>
    Console.WriteLine("Done!");<font></font>
}</code></pre><br>
<p>     <code>ProcessPodcasts</code>  <code>SendPodcastData</code>:</p><br>
<pre><code class="plaintext hljs">using System;<font></font>
using System.Collections.Generic;<font></font>
using System.Linq;<font></font>
using System.Text;<font></font>
using iTunesPodcastFinder;<font></font>
using iTunesPodcastFinder.Models;<font></font>
using Telegram.Bot;<font></font>
using Telegram.Bot.Types.Enums;<font></font>
using Telegram.Bot.Types.ReplyMarkups;<font></font>
<font></font>
//     API Telegram-<font></font>
private static ITelegramBotClient _telegramBotClient;<font></font>
internal static ITelegramBotClient TelegramBotClient<font></font>
{<font></font>
    get<font></font>
    {<font></font>
        if (_telegramBotClient != null)<font></font>
        {<font></font>
            return _telegramBotClient;<font></font>
        }<font></font>
<font></font>
        if (!string.IsNullOrWhiteSpace(Options.TelegramBotApiKey) &amp;&amp; !string.IsNullOrWhiteSpace(Options.TelegramChannelId))<font></font>
        {<font></font>
            //      API Telegram-<font></font>
            //     , ,      TelegramBotClient     - <font></font>
            // ,       nuget- 'HttpToSocks5Proxy'<font></font>
            //    GitHub Actions ,  ,  <font></font>
            _telegramBotClient = new TelegramBotClient(Options.TelegramBotApiKey) { Timeout = new TimeSpan(0, 0, Options.TelegramTimeout) };<font></font>
        }<font></font>
<font></font>
        return _telegramBotClient;<font></font>
    }<font></font>
}<font></font>
<font></font>
private static string ProcessPodcasts(string text)<font></font>
{<font></font>
    //   span'   ,        <font></font>
    //      : '&lt;span itunes-id="1120110650" class="episodes" hashtag="_"&gt;35 (&lt;font color="red"&gt;0&lt;/font&gt;)&lt;/span&gt;'<font></font>
    foreach (var span in GetSpans(text, "episodes"))<font></font>
    {<font></font>
        //    id   iTunes. , '1120110650'<font></font>
        var iTunesPodcastId = GetAttributeValue(span, "itunes-id");<font></font>
        if (string.IsNullOrWhiteSpace(iTunesPodcastId))<font></font>
            continue;<font></font>
<font></font>
        try<font></font>
        {<font></font>
            //       id  iTunes<font></font>
            Podcast podcast = PodcastFinder.GetPodcastAsync(iTunesPodcastId).GetAwaiter().GetResult();<font></font>
            if (podcast == null)<font></font>
                continue;<font></font>
<font></font>
            //    (    )  span'<font></font>
            var newValue = podcast.EpisodesCount.ToString();<font></font>
<font></font>
            //       Telegram-<font></font>
            SendPodcastData(podcast, span, newValue);<font></font>
<font></font>
            // ...<font></font>
<font></font>
            //      <font></font>
            //       <font></font>
            text = text.Replace(span, SetSpanValue(span, newValue));<font></font>
        }<font></font>
        catch (Exception ex)<font></font>
        {<font></font>
            Console.WriteLine($"Error: {ex.Message}{Environment.NewLine}Podcast id = {iTunesPodcastId}");<font></font>
        }<font></font>
    }<font></font>
<font></font>
    //         <font></font>
    return text;<font></font>
}<font></font>
<font></font>
// ...<font></font>
<font></font>
private static void SendPodcastData(Podcast podcast, string span, string newValue)<font></font>
{<font></font>
    //      <font></font>
    var currentSpanValue = GetSpanValue(span);<font></font>
    if (long.TryParse(currentSpanValue, out var currentSpanLongValue) &amp;&amp; long.TryParse(newValue, out var newSpanLongValue))<font></font>
    {<font></font>
        var diff = newSpanLongValue - currentSpanLongValue;<font></font>
<font></font>
        //    ...<font></font>
        if (diff &gt; 0)<font></font>
        {<font></font>
            try<font></font>
            {<font></font>
                //    <font></font>
                var episodes = PodcastFinder.GetPodcastEpisodesAsync(podcast.FeedUrl).GetAwaiter().GetResult()<font></font>
                    ?.Episodes?.OrderByDescending(e =&gt; e.PublishedDate)?.ToList();<font></font>
<font></font>
                if (episodes?.Any() == true &amp;&amp; episodes.Count &gt;= diff)<font></font>
                {<font></font>
                    for (int i = (int)diff - 1; i &gt;= 0; i--)<font></font>
                    {<font></font>
                        //   ,   Telegram-<font></font>
                        var message = new StringBuilder();<font></font>
<font></font>
                        // ...    <font></font>
<font></font>
                        message.AppendLine("@awesome\\_russian\\_podcasts");<font></font>
<font></font>
                        if (!string.IsNullOrWhiteSpace(Options.TelegramBotApiKey) &amp;&amp; TelegramBotClient != null)<font></font>
                        {<font></font>
                            //    Telegram-  Telegram-<font></font>
                            TelegramBotClient.SendPhotoAsync(Options.TelegramChannelId,    // id Telegram-<font></font>
                                podcast.ArtWork,    //    iTunes<font></font>
                                $"{message.ToString()}",    //  (  )<font></font>
                                ParseMode.Markdown, // ,     Markdown<font></font>
                                true,   //  push-   <font></font>
                                //    <font></font>
                                replyMarkup: new InlineKeyboardMarkup(new List&lt;InlineKeyboardButton&gt; {<font></font>
                                    InlineKeyboardButton.WithUrl(<font></font>
                                        "iTunes",<font></font>
                                        podcast.ItunesLink),<font></font>
                                    InlineKeyboardButton.WithUrl(<font></font>
                                        "Episode",<font></font>
                                        episodes[i].FileUrl.ToString()),<font></font>
                                    InlineKeyboardButton.WithUrl(<font></font>
                                        "Feed URL",<font></font>
                                        podcast.FeedUrl)<font></font>
                                })).GetAwaiter().GetResult();<font></font>
<font></font>
                            // ...<font></font>
                        }<font></font>
                    }<font></font>
                }<font></font>
            }<font></font>
            catch (Exception e)<font></font>
            {<font></font>
                var errorMessage = new StringBuilder();<font></font>
                //        <font></font>
                // ...<font></font>
<font></font>
                Console.WriteLine(errorMessage.ToString());<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
}</code></pre><br>
<p> ,        .</p><br>
<h2 id="vyvod"></h2><br>
<p>GitHub Actions       Telegram-:  , ,     â€¦      : CI/CD   ,     GitHub Pages,          ..</p><br>
<p>         .        .</p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒãƒ£ãƒ³ãƒãƒ«ã¯ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼ã ã‘ã§ãªãã€ITãƒãƒƒãƒ‰ã‚­ãƒ£ã‚¹ãƒˆã‚’è´ãã®ãŒå¥½ããªæ–¹ã‚„ã€æ–°ã—ã„çŸ¥è­˜ã‚’æ¢ã—ã¦ã„ã‚‹æ–¹ã«ã‚‚</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å½¹ç«‹ã¤</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¨æ€ã„ã¾ã™ã€‚</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">@ awesome_russian_podcasts</font></a><font style="vertical-align: inherit;">ãƒãƒ£ãƒ³ãƒãƒ«ã«å‚åŠ ã—ã¦</font><font style="vertical-align: inherit;">ã€ãŠæ°—ã«å…¥ã‚Šã®ãƒ­ã‚·ã‚¢èªã®ITãƒãƒƒãƒ‰ã‚­ãƒ£ã‚¹ãƒˆã‚’ãƒªãƒã‚¸ãƒˆãƒªã«è¿½åŠ ã—ã¦ãã ã•ã„ã€‚ä»–ã®äººãŒèãã“ã¨ãŒã§ãã¾ã—ãŸã€‚</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YouTubeã‚’æ„›ç”¨ã—ã€å‹•ç”»ã‚’è¦–è´ã—ã¦ã„ã‚‹å ´åˆã¯ã€åŒæ§˜ã®ãƒãƒ£ãƒ³ãƒãƒ«</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@awesome_russian_youtubeãŒã‚ã‚Š</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¾ã™ã€‚</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœ€å¾Œã¾ã§ã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">å¥åº·ã§ã‚ã‚Šã€è¿·ã†ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</font><font style="vertical-align: inherit;">å¹¸é‹ã‚’</font></font></p></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja499168/index.html">Alexey Kapterevï¼šã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ã‚·ãƒ³ã‚­ãƒ³ã‚°101ï¼ˆãƒ‘ãƒ¼ãƒˆ2ï¼‰</a></li>
<li><a href="../ja499170/index.html">Graphvizã¨C / C ++ãƒ—ãƒªãƒ—ãƒ­ã‚»ãƒƒã‚µã®ç›¸ä¹—åŠ¹æœ</a></li>
<li><a href="../ja499174/index.html">ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ï¼šãã‚Œã¯ä½•ã§ã€ä½•æ•…ã§ã‚ã‚Šã€ã„ã¤å®Ÿè£…ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‹</a></li>
<li><a href="../ja499176/index.html">ç”Ÿå‘½å‰µé€ ã®é ‚ç‚¹ã¨ã—ã¦ã®ITå“²å­¦</a></li>
<li><a href="../ja499178/index.html">Open Source Initiativeã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æ–°ã—ã„ãƒ©ã‚¤ã‚»ãƒ³ã‚¹-èª°ã‚‚ãŒãã‚Œã«æº€è¶³ã—ã¦ã„ãªã„ç†ç”±ã‚’ç†è§£ã—ã¦ã„ã¾ã™</a></li>
<li><a href="../ja499182/index.html">èªå®šã•ã‚ŒãŸKubernetes Application Developerï¼ˆCKADï¼‰è©¦é¨“ã«åˆæ ¼ã™ã‚‹ãŸã‚ã®ç§ã®çµŒé¨“ã¨ãƒ’ãƒ³ãƒˆ</a></li>
<li><a href="../ja499184/index.html">Cï¼ƒ8ã®æ–°ã—ã„ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹æ©Ÿèƒ½</a></li>
<li><a href="../ja499186/index.html">å…ˆé€±ã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ä¸–ç•Œã‹ã‚‰ã®æ–°é®®ãªé£Ÿæã®ãƒ€ã‚¤ã‚¸ã‚§ã‚¹ãƒˆNo. 412ï¼ˆ2020å¹´4æœˆ20æ—¥ã€œ26æ—¥ï¼‰</a></li>
<li><a href="../ja499188/index.html">MS Orleansä¸Šã®ã‚²ãƒ¼ãƒ ã‚µãƒ¼ãƒãƒ¼-ãƒ‘ãƒ¼ãƒˆ2ï¼šç®¡ç†ãƒã‚¤ãƒ³ãƒˆã®ä½œæˆ</a></li>
<li><a href="../ja499192/index.html">Odnoklassnikiã®ã‚°ãƒ«ãƒ¼ãƒ—ã®ã‚°ãƒ©ãƒ•æ¨å¥¨</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>