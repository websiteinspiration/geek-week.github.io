<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🕵🏿 🐬 😋 Kami menggunakan DS untuk memproses ulasan pelanggan dari situs besar 🧕 👨🏻 ✌🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dalam hal ini, kami menggunakan pustaka bahasa Python, seperti: Selenium, BeautifulSoup. Ternyata sekitar 27 ribu ulasan mulai tahun 2018. Rata-rata, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Kami menggunakan DS untuk memproses ulasan pelanggan dari situs besar</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/507238/"><img src="https://habrastorage.org/webt/ew/83/fu/ew83fubxvj8v2l04nqj8vkmicta.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam hal ini, kami menggunakan pustaka bahasa Python, seperti: Selenium, BeautifulSoup. </font><font style="vertical-align: inherit;">Ternyata sekitar 27 ribu ulasan mulai tahun 2018. </font><font style="vertical-align: inherit;">Rata-rata, masing-masing ulasan menempati 2 paragraf lembar A4. </font><font style="vertical-align: inherit;">Dalam 70% ulasan, peringkat diberikan oleh pelanggan, sisanya 30% - tidak ada peringkat yang diberikan. </font><font style="vertical-align: inherit;">Kami memutuskan untuk menggunakan data yang diperoleh, yang diberi nilai, sebagai data awal untuk membangun model pengajaran dengan seorang guru. </font><font style="vertical-align: inherit;">Di masa mendatang, kami membutuhkan model untuk menentukan peringkat dari 30% ulasan yang tersisa.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Peringkat tersebut dari 1 hingga 5, tetapi kami perlu mencari tahu apa ulasannya dalam hal kualitas, yaitu apakah itu positif atau negatif. </font><font style="vertical-align: inherit;">Kami menggunakan logika nilai sekolah di Rusia: nilai 1,2 - negatif, mereka dikonversi menjadi 0; </font><font style="vertical-align: inherit;">estimasi 3,4,5 positif, mereka diubah menjadi 1. Dengan demikian, masalahnya dikurangi menjadi klasifikasi biner.</font></font><br>
<a name="habracut"></a><br>
<pre><code class="python hljs">dataframe.tail(<span class="hljs-number">5</span>) </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kemudian mereka mulai bereksperimen dengan model klasifikasi biner. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk lulus pertama, kami memilih metode XGBoost untuk mengajar dengan seorang guru. </font><font style="vertical-align: inherit;">Guru adalah peringkat pelanggan. </font><font style="vertical-align: inherit;">Sebagai model teks, representasi vektor kata Word2Vec diambil, yang dibentuk tergantung pada konteksnya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami pra-proses teks, seperti: lemmatization, penghapusan kata-kata berhenti, normalisasi dan tokenization-nya.</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">from</span> nltk.tokenize <span class="hljs-keyword">import</span> sent_tokenize
<span class="hljs-keyword">from</span> nltk.corpus <span class="hljs-keyword">import</span> stopwords
<span class="hljs-keyword">from</span> nltk.tokenize <span class="hljs-keyword">import</span> word_tokenize</code></pre><br>
<br>
<pre><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">tokenize_ru</span>(<span class="hljs-params">x</span>):</span><font></font>
      tokens = x.lower()<font></font>
       tokens = re.sub(<span class="hljs-string">r'[^\w\s]+|[\d]'</span>,<span class="hljs-string">' '</span>,tokens)<font></font>
       tokens = word_tokenize(tokens)<font></font>
       tokens = [i <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> tokens <span class="hljs-keyword">if</span> (i <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> string.punctuation)]<font></font>
       stop_words = stopwords.words(<span class="hljs-string">'russian'</span>)<font></font>
       stop_words.extend([<span class="hljs-string">''</span>, <span class="hljs-string">''</span>, <span class="hljs-string">''</span>, <span class="hljs-string">''</span>, <span class="hljs-string">''</span>, <span class="hljs-string">''</span>, <span class="hljs-string">''</span>, <span class="hljs-string">'—'</span>, <span class="hljs-string">'–'</span>, <span class="hljs-string">''</span>, <span class="hljs-string">''</span>, <span class="hljs-string">'...'</span>])<font></font>
       tokens = [i <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> tokens <span class="hljs-keyword">if</span> (i <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> stop_words)]<font></font>
       tokens = [i.replace(<span class="hljs-string">"«"</span>, <span class="hljs-string">""</span>).replace(<span class="hljs-string">"»"</span>, <span class="hljs-string">""</span>) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> tokens]
       <span class="hljs-keyword">return</span> tokens</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami menyortir parameter terbaik menggunakan metode GridSearch. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parameter akurasi optimal diperoleh dengan kedalaman pohon 8 (max_depth = 8) dan jumlah pohon (n_estimators = 88). </font><font style="vertical-align: inherit;">Secara default, pustaka XGBoost diatur ke: n_estimators = 100, max_depth = 3.</font></font><br>
<br>
<pre><code class="python hljs">xgb_word2vec = Pipeline([<font></font>
              (<span class="hljs-string">"word2vec"</span>, MeanVect(w2v)),<font></font>
               (<span class="hljs-string">'model_fitting'</span>,  xgb)]) <font></font>
<font></font>
xgb_word2vec.fit(X_train2, y_train2)</code></pre><br>
<img src="https://habrastorage.org/webt/u2/bb/u9/u2bbu97mg296fz44uq6yf4vxn80.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
untuk kondisi ini, matriks kebingungan adalah sebagai berikut:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">import</span> seaborn <span class="hljs-keyword">as</span> sns
<span class="hljs-keyword">import</span> matplotlib.pylab <span class="hljs-keyword">as</span> plt<font></font>
%matplotlib inline<font></font>
<span class="hljs-keyword">from</span> matplotlib.pylab <span class="hljs-keyword">import</span> rcParams<font></font>
rcParams[<span class="hljs-string">'figure.figsize'</span>] = <span class="hljs-number">3</span>, <span class="hljs-number">3</span>
plt.figure(figsize=(<span class="hljs-number">2</span>,<span class="hljs-number">2</span>))<font></font>
sns.set(font_scale=<span class="hljs-number">1.5</span>)<font></font>
ax = sns.heatmap((pd.crosstab(y_test2, pred2).apply(<span class="hljs-keyword">lambda</span> r: r/r.sum()*<span class="hljs-number">100</span>, axis=<span class="hljs-number">0</span>)), cbar=<span class="hljs-literal">None</span>, annot=<span class="hljs-literal">True</span>, cmap=<span class="hljs-string">"Blues"</span>)<font></font>
ax.set_ylabel(<span class="hljs-string">""</span>)<font></font>
ax.set_xlabel(<span class="hljs-string">""</span>)<font></font>
plt.yticks(rotation=<span class="hljs-number">0</span>, size = <span class="hljs-number">15</span>)<font></font>
plt.xticks(rotation=<span class="hljs-number">0</span>, size = <span class="hljs-number">15</span>)
</code></pre><br>
<img src="https://habrastorage.org/webt/zz/jb/w_/zzjbw_dele4bai2panjn7fqyzrc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kemudian kami mencoba menggunakan SGDClassifier untuk vektor kata TF-IDF. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di bawah ini adalah berbagai kombinasi opsi dan matriks Kerancuannya: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. SGDClassifier + Word2Vec </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rp/dn/gd/rpdngd5gbz6qny-zpggnsqvo0vs.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. SGDClassifier + TF-IDF </font></font><br>
<br>
<img src="https://habrastorage.org/webt/2m/37/2x/2m372xild8ugy3dc4nrze_wff94.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. XGBoost + TF-IDF </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qa/yh/mb/qayhmbyyvianjzeycktthm7xjj0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
f-mera dihitung dengan menggunakan rumus f-mera = 2 * Precision * Recall / (Precision + Recall), di mana Precision dan Recall (kelengkapan) dihitung dari matriks Confusion, ini adalah </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rata</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">rata harmonik</font></a><font style="vertical-align: inherit;"> antara akurasi dan kelengkapan, untuk klasifikasi biner ini cukup untuk menilai akurasi model. Hasil terbaik diperoleh dengan kombinasi SGDClassifier + TF-IDF.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selanjutnya, dalam model yang sudah dipilih, dengan akurasi yang lebih baik, kami mengganti ulasan yang dievaluasi tidak relevan mulai dari 2016 hingga 2018, yang tidak berpartisipasi dalam pelatihan untuk memverifikasi kebenaran pelatihan dan model, sebagai hasilnya kami mendapat f-mera: 0,9326314212969897. </font><font style="vertical-align: inherit;">Model ini nantinya dapat digunakan untuk mengklasifikasikan ulasan agar tidak membuang waktu mencari ulasan negatif secara manual.</font></font><br>
<br>
<pre><code class="python hljs">precision_recall_fscore_support(y_prov, predtest, average=<span class="hljs-string">'macro'</span>)</code></pre><br>
<img src="https://habrastorage.org/webt/1v/yd/yu/1vydyu1kkzolkbkxv2qfb58hhew.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kemudian mereka menggunakan model untuk mengevaluasi 30 persen sisanya yang tidak dihargai. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kesimpulan: Untuk pemrosesan bahasa alami (NLP) dari pengalaman kami yang dijelaskan di atas, hasilnya lebih baik ditunjukkan oleh kombinasi SGDClassifier konvergensi cepat dengan TF-IDF, tetapi pada gilirannya, bagian kunci dari keberhasilan terletak pada preprocessing data.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id507222/index.html">Kenapa semua orang harus memakai topeng</a></li>
<li><a href="../id507224/index.html">Cara menghilangkan bintik-bintik buta dengan pengujian visual</a></li>
<li><a href="../id507226/index.html">OCR untuk PDF di .NET - Cara mengekstrak teks dari dokumen PDF yang tidak dapat diakses</a></li>
<li><a href="../id507234/index.html">Mendengus atau Suricata. Bagian 2: instalasi dan pengaturan awal Suricata</a></li>
<li><a href="../id507236/index.html">Kami meningkatkan efektivitas interaksi antara desainer dan pengembang frontend</a></li>
<li><a href="../id507242/index.html">Apa yang menarik Wi-Fi 6 dalam kinerja Huawei</a></li>
<li><a href="../id507250/index.html">Menentukan kartu poker pemenang menggunakan peta / kurangi dalam JavaScript</a></li>
<li><a href="../id507254/index.html">Zabbix - memperluas batas makro</a></li>
<li><a href="../id507256/index.html">Peter Hinchens: Kode Sumber Psikopat</a></li>
<li><a href="../id507258/index.html">Bonus, manfaat, dan bonus dalam TI: hasil penelitian Habr Career</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>