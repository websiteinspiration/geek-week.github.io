<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßíüèΩ üë®‚Äçüë©‚Äçüë¶ ‚ôüÔ∏è A simple approach to working with responsive images ü¶Ä ‚òùÔ∏è üë®‚Äçüé§</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The responsive image specification is a fantastic document that describes many uses for such images. But experience tells me that most often when work...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>A simple approach to working with responsive images</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/500292/"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> responsive image </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;">specification</font></a><font style="vertical-align: inherit;"> is a fantastic document that describes many uses for such images. But experience tells me that most often when working with them you only need to know how to give the client copies of the same image of different sizes, choosing them depending on the width of the page view area. We call this "resolution switching." To solve this problem, you can use the attributes </font></font><code>srcset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and </font></font><code>sizes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The output of responsive images involves the use of fairly complex logic. This, among other things, includes determining which image will be displayed, as well as determining whether the user is working with a high-resolution screen. Fortunately, browsers are better than people who can determine which images are best suited for each particular user. All we need to do is give them some clues. The attribute </font></font><code>srcset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gives the browser a list of graphic resources from which it can select the most suitable image. The attribute </font></font><code>sizes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">allows you to tell the browser about what size image you want to show in a particular case.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><img src="https://habrastorage.org/webt/jg/ak/so/jgakso592dsr1styfdmh_bpazxy.jpeg"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And by the way, using responsive images you don‚Äôt have to worry about browser support for this technology. </font><font style="vertical-align: inherit;">The attributes we are interested in enjoy </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">excellent</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> browser support. </font><font style="vertical-align: inherit;">And besides, we have at our disposal a backup mechanism designed for older browsers like IE11.</font></font><br>
<a name="habracut"></a><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How the tag "communicates" with the browser</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is how the tag </font></font><code>&lt;img&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tells the browser which image to select.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/700/2a9/a1a/7002a9a1a7d7fe46cb74820c62385b5d.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Talk" of the tag and browser</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Here the tag</font></font><code>&lt;img&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tells the browser the following: "With this screen size, I will be displayed in approximately the following size (indicates an attribute</font></font><code>sizes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). </font><font style="vertical-align: inherit;">You can take any of these images that have the following width (indicates an attribute</font></font><code>srcset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). </font><font style="vertical-align: inherit;">Therefore, please choose the image that is now best suited. "</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Srcset attribute</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The attribute </font></font><code>srcset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gives the browser a set of graphic resources from which it can choose the most suitable. </font><font style="vertical-align: inherit;">It also contains information about the size of each of the proposed images.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/33d/3af/9ec/33d3af9ecb3f55bf3afbc808dc38f7c1.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Srcset</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
attribute This attribute</font></font><code>src</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contains a fallback image for browsers that do not understand the attribute</font></font><code>srcset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. The</font></font><code>srcset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">URL contains images and information about their width. From the set of images provided to him, the browser will choose what suits best. Moreover, if the user has a display with a high pixel density (Retina display) - the browser will take this into account when choosing an image.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The attribute</font></font><code>srcset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contains a list of image URLs followed by image width information. Pairs are</font></font><code>URL-</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">separated by commas. List items look like this:</font></font><code>image.jpg 1000w</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Such a record tells the browser that the image</font></font><code>image.jpg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">is 1000 pixels wide.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Describing the set of images in this way, we tell the browser the following: "I give you a list of images and trust you to choose the most suitable one." </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The browser will select the best image, guided by a complex set of criteria, which include what image the user displays, what the current size of the viewing area is, and whether the user has a high-resolution display. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The browser is intelligent enough to know that on a low-resolution desktop display, if the width of the output image is 800 pixels, you need to select the image from the list with a width of at least 800 pixels.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The browser, in addition, knows that if an image with a width of 320 pixels is displayed on a high-resolution display, you need to select an image file that is at least 640 pixels wide. </font><font style="vertical-align: inherit;">As a result, we do not need to worry about 1x and 2x graphic resources. </font><font style="vertical-align: inherit;">All you need to do is give the browser a good set of images and let it do its job. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
How to describe images suitable for different screens?</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sizes attribute</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Attribute </font></font><code>srcset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">is a great tool. </font><font style="vertical-align: inherit;">But when the browser reads the HTML code of the page, it does not know whether, for example, it uses the CSS style, which sets the image size to 50% of the screen width.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is where the attribute comes into play </font></font><code>sizes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">With it, we can give the browser a hint about what size the image will be displayed after applying CSS to it.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c7f/d25/56a/c7fd2556af1608fc3626a43cf067931c.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sizes attribute</font></font></font></i><br>
<br>
<ul>
<li><code>100vw</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- the default size when none of the conditions is met. </font><font style="vertical-align: inherit;">It is indicated last in the list that is in the attribute </font></font><code>sizes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li>
<li><code>1023px</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - window width.</font></font></li>
<li><code>780px</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - image width when the specified condition is met.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The browser will stop at the first fulfilled condition. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The attribute </font></font><code>sizes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contains a list of media conditions, separated by commas. Media conditions are a subset of media queries. Here you cannot specify the type of environment to which the condition ( </font></font><code>print</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">or </font></font><code>screen</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font><font style="vertical-align: inherit;">is applicable </font><font style="vertical-align: inherit;">, but you can use media queries related to the width of the viewing area. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Each list entry contains the width of the viewport window and the corresponding image width. The list item has the form </font></font><code>(min-width: 1023px) 780px</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Such a record tells the browser that if the width of the viewport is 1023 pixels (or more), then you need to use an image with a width of 780 pixels. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Here, in addition, relative width units can be used. For example, something like</font></font><code>50vw</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. This tells the browser that the width of the image will be 50% of the width of the viewport. Here, in more complex situations, you can even use the function </font></font><code>calc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. For example, the view design </font></font><code>calc(50vw ‚Äî 2rem)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tells the browser that the image width will be 50% of the width of the viewport minus </font></font><code>2rem</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Perhaps the width is set this way to take into account the width of some indentation or some border. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The last element of the list is not provided with a media condition. If you add a width to the list and do not specify a media condition, the corresponding value will be considered as the default value, that is, in the event that none of the other conditions is met.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The browser will look at this list from top to bottom and stop at the first suitable element corresponding to the width of the viewport. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Assume the </font></font><code>sizes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">following is </font><font style="vertical-align: inherit;">in the attribute </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="css hljs">(<span class="hljs-selector-tag">min-width</span>: 1023<span class="hljs-selector-tag">px</span>) 780<span class="hljs-selector-tag">px</span>,<font></font>
(<span class="hljs-selector-tag">min-width</span>: 675<span class="hljs-selector-tag">px</span>) 620<span class="hljs-selector-tag">px</span>,<font></font>
100<span class="hljs-selector-tag">vw</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Here is what will happen in different situations:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If the user is working on a large desktop display, then the browser will consider the first element of the list suitable and will know that the image should be 780 pixels wide.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The standard width of the viewing area of ‚Äã‚Äãan upright iPad screen is 768 pixels. </font><font style="vertical-align: inherit;">In this situation, the browser will skip the first entry in the list, but will find that the current conditions match the second entry. </font><font style="vertical-align: inherit;">It tells the browser that the image will be 620 pixels wide.</font></font></li>
<li>       ,          <code>sizes</code>.      ,     ,      100%   .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Of course, these are just examples. In the real world, everything is much more complicated. For example, a user with a large screen viewing a page in a narrow browser window will receive a smaller image than he would have if the window was expanded to full screen. A user with an iPad Pro may well get a larger image if he places the device in landscape mode. If he uses the tablet in portrait mode, he may get a medium-sized image. And if he uses the browser in the mode when the screen is divided between several windows, then he may get a small image. Some phones with large screens will comply with the second rule from our list when working with them in landscape mode. This is the charm of the described system:the developer does not need to take care of all these special cases and the different form factors of the devices. It is enough for him to tell the browser which version of the image to choose for a specific viewing area.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
How to prepare a list of images from which the browser will choose the most suitable?</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Src attribute</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You may have noticed that the attribute is still used in all the examples above </font></font><code>src</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. You might be wondering if this attribute is needed given the attribute </font></font><code>srcset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. The point here is that if we give the browser an attribute </font></font><code>srcset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, then if it is a modern browser, it </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">will replace the</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> value </font></font><code>src</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in the DOM with the value corresponding to the image selected from </font></font><code>srcset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. As a result, it turns out that modern browsers ignore the attribute </font></font><code>src</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, focusing instead on the attribute </font></font><code>srcset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But the attribute </font></font><code>src</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, in itself, is still important for browsers that do not support working with responsive images. Such browsers, quite old, ignore the </font></font><code>srcset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and </font><font style="vertical-align: inherit;">attributes </font></font><code>sizes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. They simply do not know about their existence. But attribute</font></font><code>src</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">they understand, so you can write the address of the image into it, which will serve as a backup option for such browsers. </font><font style="vertical-align: inherit;">I usually write in this attribute the address of the smallest image that looks good on desktop monitors that do not have a high pixel density.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Questions and answers</font></font></font></h2><br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñçHow to generate image sets?</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Images can be generated in various ways: manually, using the tool for creating responsive images, using the appropriate CDN capabilities. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In order to create images manually, you need to open the original image in Photoshop (or in another editor that you use) and export it in all necessary sizes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This may require a lot of time, so you may want to automate this work using the appropriate tool. Among these tools, I like </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;">Responsive Image Breakpoints Generator the</font></a><font style="vertical-align: inherit;"> most.</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">from Cloudinary. When working with this tool, just transfer the image to it, after which it will automatically create its variants of different sizes. Here you can adjust the number of generated images. Once the images are ready, they can be downloaded and used in the project. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Another option for supporting responsive images is to use the appropriate CDN to host them. For example - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cloudinary</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> or </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">imgix</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Using a similar service, the image in the highest resolution available is downloaded to the CDN. </font><font style="vertical-align: inherit;">You can then request versions of the image in different sizes using the URL parameters. </font><font style="vertical-align: inherit;">In this case, you do not have to worry about resizing the image: just tell the CDN about the size in which you are going to display the corresponding image. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Here is a</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> list of services and projects that you can use to create variations of images of different sizes.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñçWhat sizes should I provide to the browser?</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Good question! If you give the browser too many graphical resources, then you will simply waste your time and effort creating them. If there are too few resources, this will mean that you are forcing users of your site to download images that are larger than they need. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you work with a single image and you have the opportunity to customize the layout for the output of this image, then you can use the </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;">Responsive Image Breakpoints Generator</font></a><font style="vertical-align: inherit;"> tool</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. He will automatically examine the image and decide on what is the optimal set of resources (in terms of balance between file sizes and resolution) generated from this image. Then this tool will not only generate files, but also automatically prepare </font></font><code>srcset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and </font><font style="vertical-align: inherit;">attributes </font></font><code>sizes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ea3/caa/501/ea3caa5018c52c91f262bcc466c6e353.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A standard set of image sizes with a width of 320 to 2560 pixels.</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
If you are working in a certain CMS, or if you are creating a web application, and you don‚Äôt know what image size will be displayed in one place or another, then I recommend using the standard set of sizes images. Previously, I used the following dimensions:</font></font><code>320w</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font><code>640w</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font><code>960w</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font><code>1280w</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font><code>1920w</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and</font></font><code>2560w</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. These are round numbers obtained by multiplying 320 by different coefficients. This set of resources covers the needs of a wide variety of screens - from small mobile displays to huge desktop monitors.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
However, using a standard set of resources is always less effective than using your own set, taking into account the features of the project. In this case, although we see a quite logical sequence, it shows a progressive increase in file sizes, since if the width (and, correspondingly, height) of an image is doubled, then the number of pixels in this image is </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quadrupled</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . As a result, if you have to use a standard set of image sizes, then you might need to choose a set that will have fewer options for images of small sizes and more options for large sizes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you host images on Cloudinary, then another approach will be available to you. It is to use</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cloudinary API</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , which allows you to process images using Responsive Image Breakpoints Generator when they are downloaded. </font><font style="vertical-align: inherit;">After the images are automatically processed, you can dynamically populate the </font></font><code>srcset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and </font><font style="vertical-align: inherit;">attributes using the API response </font></font><code>sizes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñç What values ‚Äã‚Äãshould be entered in the sizes attribute?</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In order to figure out what values ‚Äã‚Äãshould be entered in the attribute </font></font><code>sizes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, you need to analyze the CSS and understand what image width is displayed in different conditions. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sometimes this is determined by the width of the image itself:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-tag">img</span> {<font></font>
&nbsp;&nbsp;width 320px;<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">@media</span> screen <span class="hljs-keyword">and</span> (<span class="hljs-attribute">min-width:</span> <span class="hljs-number">37.5em</span>) {
&nbsp;&nbsp;<span class="hljs-selector-tag">width</span>: 640<span class="hljs-selector-tag">px</span>;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In this case, there are two fixed image size options. </font><font style="vertical-align: inherit;">This fact can be directly reflected in the attribute </font></font><code>sizes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="css hljs">&lt;<span class="hljs-selector-tag">img</span>
&nbsp;&nbsp;<span class="hljs-selector-tag">alt</span>="<span class="hljs-selector-tag">Ferrari</span>"
&nbsp;&nbsp;<span class="hljs-selector-tag">src</span>="<span class="hljs-selector-tag">ferrari</span><span class="hljs-selector-class">.jpg</span>"
&nbsp;&nbsp;<span class="hljs-selector-tag">srcset</span>="<span class="hljs-selector-tag">ferrari-s</span><span class="hljs-selector-class">.jpg</span> 320<span class="hljs-selector-tag">w</span>,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-selector-tag">ferrari-m</span><span class="hljs-selector-class">.jpg</span> 960<span class="hljs-selector-tag">w</span>,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-selector-tag">ferrari-l</span><span class="hljs-selector-class">.jpg</span> 1920<span class="hljs-selector-tag">w</span>"
&nbsp;&nbsp;<span class="hljs-selector-tag">sizes</span>="(<span class="hljs-selector-tag">min-width</span>: 37<span class="hljs-selector-class">.5em</span>) 640<span class="hljs-selector-tag">px</span>, 320<span class="hljs-selector-tag">px</span>"&gt;
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
However, it often turns out that image sizes are flexible. </font><font style="vertical-align: inherit;">Often images inherit sizes from their containers:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-tag">img</span> {
&nbsp;&nbsp;<span class="hljs-attribute">height</span>: auto;
&nbsp;&nbsp;<span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-selector-class">.container</span> {
&nbsp;&nbsp;<span class="hljs-attribute">padding</span>: <span class="hljs-number">1rem</span>;
&nbsp;&nbsp;<span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">@media</span> screen <span class="hljs-keyword">and</span> (<span class="hljs-attribute">min-width:</span> <span class="hljs-number">37.5em</span>) {
&nbsp;&nbsp;<span class="hljs-selector-class">.container</span> {
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">width</span>: <span class="hljs-number">50%</span>;<font></font>
&nbsp;&nbsp;}<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In this example (assuming that the only element affecting the width of the image is </font></font><code>.container</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) the width of the container can be considered the width of the image. </font><font style="vertical-align: inherit;">Here it is worth paying attention to the fact that the width of the inner indent is subtracted from the width of the container. </font><font style="vertical-align: inherit;">You may need to consider this, maybe not. </font><font style="vertical-align: inherit;">It all depends on how much the indentation affects the final width of the image.</font></font><br>
<br>
<pre><code class="html hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span>
&nbsp;&nbsp;<span class="hljs-attr">alt</span>=<span class="hljs-string">"Ferrari"</span>
&nbsp;&nbsp;<span class="hljs-attr">src</span>=<span class="hljs-string">"ferrari.jpg"</span>
&nbsp;&nbsp;<span class="hljs-attr">srcset</span>=<span class="hljs-string">"ferrari-s.jpg 320w,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ferrari-m.jpg 960w,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ferrari-l.jpg 1920w"</span>
&nbsp;&nbsp;<span class="hljs-attr">sizes</span>=<span class="hljs-string">"(min-width: 37.5em) calc(50vw - 2rem),
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calc(100vw - 2rem)"</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As you can see, setting an attribute is </font></font><code>sizes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">highly dependent on the particular layout. </font><font style="vertical-align: inherit;">Usually I build work, starting with researching images in the browser developer tools and figuring out which options affect the size of the images.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñçHow to check the correct settings for responsive images?</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It's easy to imagine that testing the correct settings for responsive images can be difficult and time-consuming. </font><font style="vertical-align: inherit;">But, to our happiness, there is a tool that simplifies the solution of such problems. </font><font style="vertical-align: inherit;">This is a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Responsive Image Linter</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is a bookmarklet that can be added to the browser and used on your own site. </font><font style="vertical-align: inherit;">When it is called, it automatically scans the page, using various sizes of the viewing area and screen pixel density to test the images. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Then he displays a report containing information about all the images of the page, and whether the management of their sizes is organized correctly. </font><font style="vertical-align: inherit;">If something goes wrong when testing the page, you will be informed about this and even given advice on how to fix the problem.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Summary</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As you can see, the combination of attributes </font></font><code>srcset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and </font></font><code>sizes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">provides a huge opportunity. By setting these two attributes, you tell the browser about the width of the images that you want to use for a certain width of the viewing area, and give a list of graphic resources from which the browser selects the one that it considers most suitable. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you need to solve more complex problems when working with images, be aware that there are tools for solving such problems. Let's say this is something like using modern graphic formats like </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , or </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sending</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> different images to the client, depending on the screen size. If you want to delve into the work with responsive images - take a look at </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">this</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> material. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dear readers!</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Do you use responsive images in your projects?</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><img src="https://habrastorage.org/webt/a_/bs/aa/a_bsaactpbr8fltzymtkhqbw1d4.png"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en500282/index.html">How to measure and evaluate developer productivity</a></li>
<li><a href="../en500284/index.html">OS "Sivelkiriya": an example of building a program</a></li>
<li><a href="../en500286/index.html">Mein linux</a></li>
<li><a href="../en500288/index.html">Beginners in the stock market: honest talk about trading</a></li>
<li><a href="../en500290/index.html">Selection and CSS</a></li>
<li><a href="../en500294/index.html">5 Free Web Developer Productivity Tools</a></li>
<li><a href="../en500296/index.html">41 string manipulation questions in Python</a></li>
<li><a href="../en500298/index.html">Recent Google Play Trust & Safety Updates</a></li>
<li><a href="../en500300/index.html">Tracing silicon in a hackathon format. Without Physical Design, No iPhone</a></li>
<li><a href="../en500304/index.html">Understanding CSS Grid (Part 2): Grid Lines</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>