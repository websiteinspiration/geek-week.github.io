<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßëüèæ‚Äçü§ù‚ÄçüßëüèΩ üè® üè£ Escalando una aplicaci√≥n Redux con patos ü§† üëÜüèø üî∫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En previsi√≥n del inicio del curso, el "desarrollador de React.js" prepar√≥ una traducci√≥n de material √∫til.
 
 
 
 
 ¬øC√≥mo se escala el front-end de su...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Escalando una aplicaci√≥n Redux con patos</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/492638/"><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En previsi√≥n del inicio del curso, el </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"desarrollador de React.js"</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> prepar√≥ una traducci√≥n de material √∫til.</font></font><br>
</i></b><br>
<br>
<img src="https://habrastorage.org/webt/v4/na/xg/v4naxgyec9pamduy0s1qf7gjqyc.png"><br>
<hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øC√≥mo se escala el front-end de su aplicaci√≥n? ¬øC√≥mo hacer que su c√≥digo sea compatible seis meses despu√©s? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En 2015, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redux</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> irrumpi√≥ en el mundo del desarrollo front-end y se estableci√≥ como un est√°ndar m√°s all√° de React. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La compa√±√≠a para la que trabajo recientemente termin√≥ de refactorizar una gran base de c√≥digo en React, donde implementamos redux en lugar de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reflujo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tuvimos que dar este paso porque avanzar no era posible sin una aplicaci√≥n bien estructurada y un conjunto claro de reglas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La base del c√≥digo ha existido por m√°s de dos a√±os y el reflujo ha estado presente desde el principio. Tuvimos que cambiar el c√≥digo, fuertemente vinculado a los componentes React, que nadie hab√≠a tocado durante m√°s de un a√±o.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Basado en la experiencia del trabajo realizado, cre√© este </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">repositorio</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que ayudar√° a explicar nuestro enfoque para organizar el c√≥digo en redux.</font></font><a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cuando aprende m√°s sobre redux, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">acciones</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reductores</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , comienza con ejemplos simples. </font><font style="vertical-align: inherit;">Muchos tutoriales disponibles hoy no van m√°s all√° de ellos. </font><font style="vertical-align: inherit;">Sin embargo, si est√° creando algo m√°s complejo en Redux que una lista de tareas, necesitar√° una forma razonable de escalar su base de c√≥digo con el tiempo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alguien dijo una vez que en inform√°tica no hay tarea m√°s dif√≠cil que dar nombres a diferentes cosas. </font><font style="vertical-align: inherit;">No pude estar en desacuerdo. </font><font style="vertical-align: inherit;">En este caso, la estructuraci√≥n de carpetas y la organizaci√≥n de archivos estar√°n en segundo lugar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Veamos c√≥mo sol√≠amos abordar la organizaci√≥n del c√≥digo.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Funci√≥n vs caracter√≠stica</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Existen dos enfoques generalmente aceptados para organizar las aplicaciones: funci√≥n primero y funci√≥n primero. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 En la captura de pantalla de la izquierda, la estructura de la carpeta est√° organizada de acuerdo con el principio de la funci√≥n primero y a la derecha, la funci√≥n primero. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ur/le/wb/urlewbt5etkrntpbqzlygb0yzlo.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 La funci√≥n primero significa que sus directorios de nivel superior se nombran de acuerdo con los archivos que contiene. Entonces tienes: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contenedores, componentes, acciones, reductores</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , etc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esto no escala en absoluto. A medida que su aplicaci√≥n crezca y aparezca una nueva funcionalidad, agregar√° archivos a las mismas carpetas. Como resultado, tendr√° que desplazarse por el contenido de una de las carpetas durante mucho tiempo para encontrar el archivo deseado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Otro problema es combinar carpetas. Es probable que uno de los hilos de la aplicaci√≥n requiera acceso a los archivos de todas las carpetas.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Una de las ventajas de este enfoque es que puede aislar, en nuestro caso, React from Redux. Por lo tanto, si desea cambiar la biblioteca de administraci√≥n de estado, sabr√° qu√© carpetas necesitar√°. Si necesita cambiar la biblioteca de vistas, puede dejar las carpetas con redux intacto. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La funci√≥n principal significa que los directorios de nivel superior se nombrar√°n de acuerdo con la funcionalidad principal de la aplicaci√≥n: producto, carrito, sesi√≥n. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este enfoque se escala mucho mejor, ya que cada nueva caracter√≠stica se encuentra en una nueva carpeta. Sin embargo, no tiene una separaci√≥n entre los componentes Redux y React. Cambiar uno de ellos a la larga no es una tarea f√°cil.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adem√°s, tendr√° archivos que no pertenecer√°n a ninguna funci√≥n. </font><font style="vertical-align: inherit;">Como resultado, todo se reduce a la carpeta com√∫n o compartida, porque tambi√©n desea utilizar su c√≥digo en diferentes funciones de su aplicaci√≥n.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Combinando lo mejor de dos mundos</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Aunque este no es el tema del art√≠culo, quiero decir que los archivos de administraci√≥n de estado de los archivos de la interfaz de usuario deben almacenarse por separado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Piensa en tu aplicaci√≥n a largo plazo. Imagine lo que le sucede a su c√≥digo si cambia de Reaccionar a otra cosa. O piense en c√≥mo su base de c√≥digo usar√° ReactNative en paralelo con la versi√≥n web. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En el centro </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de nuestro enfoque</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est√° el principio de aislamiento. Reaccione el c√≥digo en una carpeta llamada </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vistas</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y el c√≥digo redux en otra carpeta llamada redux. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta separaci√≥n en el nivel de entrada nos da la flexibilidad para organizar partes individuales de la aplicaci√≥n de maneras completamente diferentes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dentro de la carpeta de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vistas</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apoyamos la organizaci√≥n de los archivos de primera funci√≥n. </font><font style="vertical-align: inherit;">En el contexto de React, esto parece natural: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p√°ginas, dise√±os, componentes, mejoradores</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , etc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para no volverse loco con la cantidad de archivos en una carpeta, puede usar el enfoque de primera funci√≥n dentro de estas carpetas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mientras tanto, en la carpeta </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">redux</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ...</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Introduciendo re-patos</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Cada funci√≥n de la aplicaci√≥n debe corresponder a acciones y reductores separados, por lo que tiene sentido aplicar el enfoque de primera caracter√≠stica. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El enfoque modular originales </font></font><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">patos</font></font></a></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> hace que sea f√°cil trabajar con redux y ofrece una manera estructurada para agregar nueva funcionalidad a su aplicaci√≥n. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sin embargo, quer√≠a entender qu√© sucede cuando escala la aplicaci√≥n. </font><font style="vertical-align: inherit;">Nos dimos cuenta de que la forma de organizar un archivo por funci√≥n satura la aplicaci√≥n y hace que su soporte sea problem√°tico. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aparecieron los re-patos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">La soluci√≥n fue dividir la funcionalidad en carpetas de pato.</font></font><br>
<br>
<pre><code class="javascript hljs">duck/<font></font>
‚îú‚îÄ‚îÄ actions.js<font></font>
‚îú‚îÄ‚îÄ index.js<font></font>
‚îú‚îÄ‚îÄ operations.js<font></font>
‚îú‚îÄ‚îÄ reducers.js<font></font>
‚îú‚îÄ‚îÄ selectors.js<font></font>
‚îú‚îÄ‚îÄ tests.js<font></font>
‚îú‚îÄ‚îÄ types.js<font></font>
‚îú‚îÄ‚îÄ utils.js</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 La carpeta del pato debe:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contiene toda la l√≥gica de procesar solo UN concepto de su aplicaci√≥n, por ejemplo: producto, carrito, sesi√≥n, etc.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contiene el archivo index.js, que se exporta seg√∫n las reglas de pato.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Almacene el c√≥digo en un solo archivo que haga un trabajo similar, como reductores, selectores y acciones.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contiene pruebas relacionadas con pato.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por ejemplo, en este ejemplo, no utilizamos abstracciones construidas sobre redux. </font><font style="vertical-align: inherit;">Al crear software, es importante comenzar con la menor cantidad de abstracci√≥n. </font><font style="vertical-align: inherit;">Por lo tanto, ver√° que el valor de sus abstracciones no excede los beneficios de ellas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si quieres asegurarte de que la abstracci√≥n sea mala, mira este video de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cheng Lou</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Veamos el contenido de cada archivo.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tipos</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 El archivo de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tipos</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> contiene los nombres de las </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">acciones</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que ejecuta en su aplicaci√≥n. </font><font style="vertical-align: inherit;">Como buena pr√°ctica, debe tratar de cubrir el espacio de nombres correspondiente a la funci√≥n a la que pertenecen. </font><font style="vertical-align: inherit;">Este enfoque ayudar√° al depurar aplicaciones complejas.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> QUACK = <span class="hljs-string">"app/duck/QUACK"</span>;
<span class="hljs-keyword">const</span> SWIM = <span class="hljs-string">"app/duck/SWIM"</span>;<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {<font></font>
    QUACK,<font></font>
    SWIM<font></font>
};</code></pre><br>
 <h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comportamiento</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Este archivo contiene todas las funciones del </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">creador</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de la </font><i><font style="vertical-align: inherit;">acci√≥n</font></i><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> types <span class="hljs-keyword">from</span> <span class="hljs-string">"./types"</span>;<font></font>
<font></font>
<span class="hljs-keyword">const</span> quack = <span class="hljs-function"><span class="hljs-params">( )</span> =&gt;</span> ( {
    <span class="hljs-attr">type</span>: types.QUACK<font></font>
} );<font></font>
<font></font>
<span class="hljs-keyword">const</span> swim = <span class="hljs-function">(<span class="hljs-params"> distance </span>) =&gt;</span> ( {
    <span class="hljs-attr">type</span>: types.SWIM,
    <span class="hljs-attr">payload</span>: {<font></font>
        distance<font></font>
    }<font></font>
} );<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {<font></font>
    swim,<font></font>
    quack<font></font>
};</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Tenga en cuenta que todas las </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">acciones est√°n</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> representadas por funciones, incluso si no est√°n parametrizadas. </font><font style="vertical-align: inherit;">Un enfoque coherente es la m√°xima prioridad para una gran base de c√≥digo.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Operaciones</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Para representar la cadena de operaciones ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Operaciones</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), necesitar√° el </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">middleware</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> redux </font><font style="vertical-align: inherit;">, para mejorar la funci√≥n del </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">despacho</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Ejemplos populares son </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">redux-thunk</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">redux-saga</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">redux-observable</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En nuestro caso, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">se usa redux-thunk</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Necesitamos separar los </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">thunks</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">los creadores de acciones,</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> incluso a costa de escribir c√≥digo adicional. Por lo tanto, definiremos la operaci√≥n como un contenedor sobre las </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">acciones</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si la operaci√≥n env√≠a solo una </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">acci√≥n</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , es decir, en realidad no usa </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">redux-thunk</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , enviamos la funci√≥n </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">creadora de acci√≥n</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Si la operaci√≥n usa </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">thunk</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , puede enviar muchas </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">acciones</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y vincularlas mediante </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">promesas</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> actions <span class="hljs-keyword">from</span> <span class="hljs-string">"./actions"</span>;<font></font>
<font></font>
<span class="hljs-comment">// This is a link to an action defined in actions.js.</span>
<span class="hljs-keyword">const</span> simpleQuack = actions.quack;<font></font>
<font></font>
<span class="hljs-comment">// This is a thunk which dispatches multiple actions from actions.js</span>
<span class="hljs-keyword">const</span> complexQuack = <span class="hljs-function">(<span class="hljs-params"> distance </span>) =&gt;</span> <span class="hljs-function">(<span class="hljs-params"> dispatch </span>) =&gt;</span> {<font></font>
    dispatch( actions.quack( ) ).then( <span class="hljs-function"><span class="hljs-params">( )</span> =&gt;</span> {<font></font>
        dispatch( actions.swim( distance ) );<font></font>
        dispatch( <span class="hljs-comment">/* any action */</span> );<font></font>
    } );<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {<font></font>
    simpleQuack,<font></font>
    complexQuack<font></font>
};</code></pre><br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ll√°malos</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
 operaciones, </font><i><font style="vertical-align: inherit;">thunks</font></i><font style="vertical-align: inherit;"> , sagas, epopeyas, como quieras. </font><font style="vertical-align: inherit;">Simplemente identifique los principios de denominaci√≥n y c√∫mplalos. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al final, hablaremos sobre el √≠ndice y veremos que las operaciones son parte de la interfaz p√∫blica del pato. </font><font style="vertical-align: inherit;">Las acciones est√°n encapsuladas, las operaciones se vuelven accesibles desde el exterior.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reductores</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Si tiene una funci√≥n m√°s multifac√©tica, definitivamente debe usar varios </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reductores</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para manejar estructuras de estado complejas. Adem√°s, no tengas miedo de usar tantos </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Combinadores Reductores</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> como necesites. Esto permitir√° trabajar con estructuras de objetos de estado m√°s libremente.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> { combineReducers } <span class="hljs-keyword">from</span> <span class="hljs-string">"redux"</span>;
<span class="hljs-keyword">import</span> types <span class="hljs-keyword">from</span> <span class="hljs-string">"./types"</span>;<font></font>
<font></font>
<span class="hljs-comment">/* State Shape
{
    quacking: bool,
    distance: number
}
*/</span><font></font>
<font></font>
<span class="hljs-keyword">const</span> quackReducer = <span class="hljs-function">(<span class="hljs-params"> state = <span class="hljs-literal">false</span>, action </span>) =&gt;</span> {
    <span class="hljs-keyword">switch</span>( action.type ) {
        <span class="hljs-keyword">case</span> types.QUACK: <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-comment">/* ... */</span>
        <span class="hljs-keyword">default</span>: <span class="hljs-keyword">return</span> state;<font></font>
    }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">const</span> distanceReducer = <span class="hljs-function">(<span class="hljs-params"> state = <span class="hljs-number">0</span>, action </span>) =&gt;</span> {
    <span class="hljs-keyword">switch</span>( action.type ) {
        <span class="hljs-keyword">case</span> types.SWIM: <span class="hljs-keyword">return</span> state + action.payload.distance;
        <span class="hljs-comment">/* ... */</span>
        <span class="hljs-keyword">default</span>: <span class="hljs-keyword">return</span> state;<font></font>
    }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">const</span> reducer = combineReducers( {
    <span class="hljs-attr">quacking</span>: quackReducer,
    <span class="hljs-attr">distance</span>: distanceReducer<font></font>
} );<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> reducer;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 En una aplicaci√≥n grande, el √°rbol de estado constar√° de al menos tres niveles. </font><font style="vertical-align: inherit;">Las funciones </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reductoras</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> deben ser lo m√°s peque√±as posible y manejar solo construcciones de datos simples. </font><font style="vertical-align: inherit;">La funci√≥n </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">combineReducers</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> es todo lo que necesita para crear una estructura de estado flexible y mantenible. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vea el </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ejemplo de proyecto</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> completo </font><font style="vertical-align: inherit;">y vea c√≥mo usar </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">combineReducers correctamente</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , especialmente en archivos </font></font><code>reducers.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y </font></font><code>store.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">donde estamos </font><i><font style="vertical-align: inherit;">construyendo el</font></i><font style="vertical-align: inherit;"> √°rbol de estado.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Selectores</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Junto con el selector de operaciones ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">selector</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) son parte de la interfaz p√∫blica duck. </font><font style="vertical-align: inherit;">La diferencia entre operaciones y selectores es similar al patr√≥n </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CQRS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las funciones del selector toman una porci√≥n del estado de la aplicaci√≥n y devuelven algunos datos basados ‚Äã‚Äãen ella. </font><font style="vertical-align: inherit;">Nunca realizan cambios en el estado de la aplicaci√≥n.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkIfDuckIsInRange</span>(<span class="hljs-params"> duck </span>) </span>{
    <span class="hljs-keyword">return</span> duck.distance &gt; <span class="hljs-number">1000</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {<font></font>
    checkIfDuckIsInRange<font></font>
};</code></pre><br>
 <h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√çndice</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Este archivo indica lo que se exportar√° desde la carpeta duck. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es √©l:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exporta la funci√≥n </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reductora</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de pato por defecto.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Selectores de exportaciones y operaciones como exportaciones registradas.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tipos de exportaciones si se requieren en otros patos.</font></font></li>
</ul><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> reducer <span class="hljs-keyword">from</span> <span class="hljs-string">"./reducers"</span>;<font></font>
<font></font>
<span class="hljs-keyword">export</span> { <span class="hljs-keyword">default</span> <span class="hljs-keyword">as</span> duckSelectors } <span class="hljs-keyword">from</span> <span class="hljs-string">"./selectors"</span>;
<span class="hljs-keyword">export</span> { <span class="hljs-keyword">default</span> <span class="hljs-keyword">as</span> duckOperations } <span class="hljs-keyword">from</span> <span class="hljs-string">"./operations"</span>;
<span class="hljs-keyword">export</span> { <span class="hljs-keyword">default</span> <span class="hljs-keyword">as</span> duckTypes } <span class="hljs-keyword">from</span> <span class="hljs-string">"./types"</span>;<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> reducer;</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pruebas</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La ventaja de usar Redux con el marco de los patos es que puede escribir pruebas justo despu√©s del c√≥digo que desea probar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Probar su c√≥digo en Redux es bastante sencillo:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> expect <span class="hljs-keyword">from</span> <span class="hljs-string">"expect.js"</span>;
<span class="hljs-keyword">import</span> reducer <span class="hljs-keyword">from</span> <span class="hljs-string">"./reducers"</span>;
<span class="hljs-keyword">import</span> actions <span class="hljs-keyword">from</span> <span class="hljs-string">"./actions"</span>;<font></font>
<font></font>
describe( <span class="hljs-string">"duck reducer"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> </span>) </span>{<font></font>
    describe( <span class="hljs-string">"quack"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> </span>) </span>{
        <span class="hljs-keyword">const</span> quack = actions.quack( );
        <span class="hljs-keyword">const</span> initialState = <span class="hljs-literal">false</span>;<font></font>
<font></font>
        <span class="hljs-keyword">const</span> result = reducer( initialState, quack );<font></font>
<font></font>
        it( <span class="hljs-string">"should quack"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> </span>) </span>{<font></font>
            expect( result ).to.be( <span class="hljs-literal">true</span> ) ;<font></font>
        } );<font></font>
    } );<font></font>
} );</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dentro de este archivo puede escribir pruebas para </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reductores</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , operaciones, selectores, etc. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Podr√≠a escribir un art√≠culo por separado sobre los beneficios de las pruebas de c√≥digo, pero ya son suficientes, ¬°as√≠ que solo pruebe su c√≥digo!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eso es todo</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La buena noticia acerca de re-ducks es que puede usar la misma plantilla para todo su c√≥digo redux. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">feature-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> enfoque de partici√≥n basada en </font><font style="vertical-align: inherit;">su c√≥digo redux ayuda a mantener tu aplicaci√≥n flexible y escalable a medida que crece. </font><font style="vertical-align: inherit;">Un enfoque de separaci√≥n basado en </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">funciones</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> funcionar√° bien al construir componentes peque√±os que son comunes a diferentes partes de la aplicaci√≥n. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puede echar un vistazo a la base de c√≥digo de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">react-redux-example completa </font></font></i> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqu√≠</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Tenga en cuenta que el repositorio est√° trabajando activamente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øC√≥mo organizas tus aplicaciones redux? </font><font style="vertical-align: inherit;">Espero recibir comentarios sobre el enfoque descrito. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nos vemos en el </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">curso</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es492612/index.html">Plaf√≥n decorativo Leek Celebrity</a></li>
<li><a href="../es492616/index.html">Packer, Terraform y Ansible: despliegue de cl√∫ster Kubernetes en una hora</a></li>
<li><a href="../es492628/index.html">Intervalo de confianza para el n√∫mero de pacientes con coronavirus (c√°lculo de mortalidad)</a></li>
<li><a href="../es492632/index.html">Peque√±as empresas en cuarentena: el p√°nico es enemigo de la raz√≥n</a></li>
<li><a href="../es492636/index.html">¬øQu√© significa ser efectivo?</a></li>
<li><a href="../es492642/index.html">Cree una arquitectura escalable y resistente con microservicios din√°micos</a></li>
<li><a href="../es492652/index.html">Juego de cartas "Fool" en dos M5Stack</a></li>
<li><a href="../es492658/index.html">Fui a un control remoto - lanc√© un podcast: qu√© leer para principiantes - 5 libros probados</a></li>
<li><a href="../es492660/index.html">El mundo entero contra el coronavirus. Historias de Intel</a></li>
<li><a href="../es492662/index.html">C√≥mo transmit√≠ por primera vez una conferencia universitaria</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>