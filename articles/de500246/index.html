<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏾 ✖️ 💨 Schützen und Hacken der Xbox 360 (Teil 3) 🤳🏿 🐶 🤛🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Im Jahr 2011, 6 Jahre nach der Veröffentlichung der Xbox 360-Spielekonsole, entdeckten die Forscher eine interessante Tatsache: Wenn das Signal „0“ fü...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Schützen und Hacken der Xbox 360 (Teil 3)</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/500246/"><img src="https://habrastorage.org/webt/ly/33/lc/ly33lcab4l10ezi7uwxcjouyzw8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Jahr 2011, 6 Jahre nach der Veröffentlichung der Xbox 360-Spielekonsole, entdeckten die Forscher eine interessante Tatsache: Wenn das Signal „0“ für eine sehr kurze Zeit an den RESET-Ausgang des Zentralprozessors gesendet wird, setzt der Prozessor seinen Status nicht zurück (wie es sein sollte), sondern stattdessen ändere dein Verhalten! </font><font style="vertical-align: inherit;">Basierend auf dieser „Funktion“ wurde </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reset Glitch Hack (RGH)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> entwickelt </font><font style="vertical-align: inherit;">, mit dessen Hilfe der Schutz der Xbox 360 vollständig gefährdet, nicht signierter Code ausgeführt werden konnte, wodurch das System selbst </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gehackt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und die „unzerbrechlichen“ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">DG-16D5S-Laufwerke besiegt werden konnten</font></a><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Schauen wir uns genauer an, wie RGH funktioniert, wie die Entwickler versucht haben, ein Loch zu flicken, und wie diese Patches umgehen konnten!</font></font><a name="habracut"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Was ist ein Glitch-Angriff?</font></font></h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Prozessor ist ziemlich dumm, egal was Vermarkter sagen. </font><font style="vertical-align: inherit;">Der gesamte von Programmierern geschriebene High-Level-Code reduziert sich auf die Ausführung einfacher Befehle - Arithmetik mit Zahlen, sich bewegenden Daten, bedingten und bedingungslosen Sprüngen. </font><font style="vertical-align: inherit;">Es wird davon ausgegangen, dass der Prozessor diese Befehle immer fehlerfrei ausführt und das Ergebnis mit der Dokumentation übereinstimmt.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ae/ae/ik/aeaeiktfaf_phbyprnjmqmwu0y4.png"></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In der Tat, den Code zu kompilieren</font></font><br>
<pre><code class="cpp hljs">i = i + <span class="hljs-number">2</span>;</code></pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sie verlassen sich auf die Tatsache, dass sich der Wert der Variablen i um genau 2 erhöht, ohne zu wissen, wie es anders sein könnte. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Glitch-Angriffe verletzen dieses Vertrauen - ihr Ziel ist es, sicherzustellen, dass der Prozessor „fehlerhaft“ ist und sich falsch verhält. </font><font style="vertical-align: inherit;">Es gibt verschiedene Möglichkeiten, den Prozessor zu „stören“, zum Beispiel:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CPU-Spannung abbauen</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um der Referenzfrequenz der CPU einen zusätzlichen Impuls zu geben</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Shine" auf prozentuale Strahlung</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt spezielle Geräte, um solche Angriffe auszuführen - zum Beispiel bietet ChipWhisperer eine breite Palette von Angriffen in Frequenz und Leistung:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/yc/uy/bu/ycuybuxustoyjxpu590edtbyjz0.jpeg" width="550"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei der Xbox 360 tritt aufgrund der Exposition gegenüber der RESET-Leitung ein „Fehler“ auf. </font><font style="vertical-align: inherit;">Der Prozessor beginnt mit dem Zurücksetzen, hat jedoch aufgrund der sehr kurzen Dauer des Signals keine Zeit, es abzuschließen, und arbeitet weiter, als wäre nichts passiert. </font><font style="vertical-align: inherit;">Aber nur für diesen kurzen Moment, während das RESET-Signal aktiv ist, ändert sich sein Verhalten!</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Glitch-Prozessor</font></font></h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Xbox 360-Schutz beruht auf Bootloadern, die sich gegenseitig in einer Kette überprüfen. Letztendlich kommt es bei der Überprüfung in jeder Phase darauf an, die Funktion des Vergleichens der Hash-Summe mit dem „Muster“ aufzurufen. Zu diesem Zeitpunkt wendeten sie den Glitch-Angriff an und zwangen den Prozessor, die Nichtübereinstimmung zu ignorieren. Ein Impuls an die RESET-Zeile unmittelbar nach dem Aufrufen der </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memcmp-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Prozedur </font><font style="vertical-align: inherit;">zwingt den Prozessor, einen anderen Zweig zu "durchlaufen" und weiter zu laden, selbst wenn die Hash-Summe falsch ist:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/e6/8a/i7/e68ai7t_wy0-har4u49gddcfwh4.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der beste Ort zum Angriff wurde im Bootloader der zweiten Stufe "CB" gefunden. </font><font style="vertical-align: inherit;">Die späteren Phasen sind schwieriger anzugreifen (und leicht zu beheben), aber in der ersten Phase des Ladens („1BL“, ROM) schlug der Angriff aufgrund einer etwas anderen Konstruktion des Programmcodes fehl. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es klingt einfach, aber tatsächlich wurden beim Versuch, einen Angriff auszuführen, viele Nuancen entdeckt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um einen Glitch-Angriff erfolgreich durchzuführen, ist es zunächst erforderlich, den Zeitpunkt, zu dem ein RESET-Impuls angelegt werden soll, sehr genau zu bestimmen. </font><font style="vertical-align: inherit;">Wenn Sie mindestens eine Mikrosekunde lang einen Fehler machen, einen zu kurzen oder langen Impuls senden, funktioniert der Angriff nicht. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Glücklicherweise wird auf Xbox 360 jeder </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Startschritt</font></a><font style="vertical-align: inherit;"> von einer Wertänderung auf dem </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">POST_OUT-</font></a><font style="vertical-align: inherit;"> Debug-Bus begleitet</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Darüber hinaus ist die Debug-Ausgabe so oft angeordnet, dass unmittelbar vor dem Vergleich der Hash-Summe ein neuer POST-Wert festgelegt wird:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/o_/pz/hn/o_pzhn6nqueomzmzvlv2vkkfazw.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Schließen der Position der Debug-Ausgabe von der Angriffsstelle war daher ein äußerst praktischer Auslöser. </font><font style="vertical-align: inherit;">POST_OUT ist ein paralleler Bus und wird an 8 Teststellen auf der Leiterplatte ausgegeben, von denen jede für eines der Bits des Werts verantwortlich ist. </font><font style="vertical-align: inherit;">Es war sogar möglich, das Verbindungsschema mit nur einem Bit zu vereinfachen und die Anzahl der Änderungen in seinem Status seit dem Start des Systems zu zählen:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ci/zg/qm/cizgqmpbnxyy2jnhoy5fmqovkde.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es stellte sich auch heraus, dass es aufgrund der hohen Frequenz des Prozessors fast unmöglich ist, hinsichtlich Genauigkeit und Dauer den richtigen Zeitpunkt zu finden. </font><font style="vertical-align: inherit;">Die Belichtungszeit sollte in der Reihenfolge der Ausführungszeit eines Befehls durch den Prozessor sehr kurz sein. </font><font style="vertical-align: inherit;">Aber je langsamer der Prozessor läuft, desto länger passt das Zeitintervall. </font><font style="vertical-align: inherit;">Deshalb nehmen und verlangsamen wir den Prozessor! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auf einem normalen PC wird die CPU-Frequenz als Produkt aus externer Referenzfrequenz und Multiplikator definiert:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/5h/vb/oo/5hvbooyj4elvow6nxit04kc4ypk.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der Xbox 360 sind externe Leitungen der Referenzfrequenz für den Prozessor geeignet und werden innerhalb dieser Frequenz mit </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PLL</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> multipliziert </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Und bei den alten, „dicken“ Versionen der Set-Top-Box konnte der PLL-Mechanismus ausgeschaltet werden, wodurch der Prozessor um das 128-fache verlangsamt wurde:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/sp/4w/yt/sp4wytmvkymnu5geqbdp0jwgtag.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei den "Slim" -Versionen kann der PLL-Trick nicht ausgeführt werden (die Linie ist auf der Platine nicht getrennt), und da wir den Faktor in "Slim" nicht beeinflussen können, reduzieren wir die "Referenz" -Frequenz! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es wird vom HANA-Chip generiert und kann über den I2C-Bus konfiguriert werden:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/u0/mv/h3/u0mvh32w0mjhaeylbllspnsiwwc.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Leider war es nicht möglich, viel zu reduzieren, "bei niedrigen Geschwindigkeiten" begann die endgültige Prozessorfrequenz stark zu "schwimmen", was die Erfolgschancen verringerte. </font><font style="vertical-align: inherit;">Die stabilste Option war eine Verlangsamung um das 3,17-fache. </font><font style="vertical-align: inherit;">Nicht 128 Mal, aber zumindest etwas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alle? </font><font style="vertical-align: inherit;">Überhaupt nicht. </font><font style="vertical-align: inherit;">Es ist weit davon entfernt, dass der Angriff beim ersten Mal funktioniert (insbesondere bei Slim). </font><font style="vertical-align: inherit;">Wenn der Start fehlschlägt, wird das Präfix neu gestartet und versucht erneut zu starten. </font><font style="vertical-align: inherit;">Es werden nur 5 Versuche zum Starten gegeben, wonach das Präfix stoppt und der „rote Ring des Todes“ zu blinken beginnt. </font><font style="vertical-align: inherit;">Daher patchen wir auch die South Bridge-Firmware (SMC), damit sie nicht unter Müll leidet, und starten das Präfix neu, bis es blau wird:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/4s/em/3z/4sem3zqaipwaskszcy_nzntxdvu.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Also bekommen wir den Algorithmus:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Patch SMC</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prozent verlangsamen (über PLL oder I2C)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Warten auf einen POST-Trigger</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Warten auf N Mikrosekunden</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Impuls an RESET senden</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prozent schneller zurück</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Für eine höhere Genauigkeit der Berechnungen nehmen wir die Frequenz von derselben HANA (48 MHz):</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/dq/cg/em/dqcgemuy43cr24pzdnor6sl2zpy.jpeg" width="550"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und wir bekommen ein solches Design basierend auf dem preiswerten CPLD Xilinx XC2C64A:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/yx/uf/5m/yxuf5mhm9uohsh7axeb_trevnue.jpeg" width="550"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vergessen Sie nicht, mit der Länge und Position der Verkabelung auf dem RESET zu schamanisieren (achten Sie auf die "Spule" am unteren Rand des Fotos) und vorwärts, hoffen Sie, dass der Start innerhalb einer Minute klappt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies ist jedoch nur auf der Hardwareseite. </font><font style="vertical-align: inherit;">Wie patchen wir den Bootloader und stopfen unseren Code?</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Patchlader</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie bereits erwähnt, wird der Bootloader der zweiten Ebene, "CB", angegriffen. Dieser Bootloader ist mit einem festen Schlüssel verschlüsselt, der für alle Konsolen gleich ist, aber nur "CB" kann nicht geändert werden, wir greifen ihn nur an. Der nächste ist jedoch bereits mit einem CPU-Schlüssel verschlüsselt, der für jede Set-Top-Box eindeutig ist. Und um es zu ändern, müssen Sie diesen Schlüssel kennen ... </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
oder nicht? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In den alten "dicken" Revisionen der Xbox 360 wurde im CB-Loader der sogenannte "Zero-Pairing" -Modus unterstützt, der in der Produktionsphase der Konsole verwendet wird. Der Header jedes Bootloaders bei Offset 0x10 enthält einen zufälligen Pairing-Datensatz, der als Teil des Schlüssels für die Entschlüsselung verwendet wird. Und wenn dieser Datensatz vollständig aus Nullen bestand („Zero-Pairing“), wurde der Prozessorschlüssel ignoriert und stattdessen ein fester Nullschlüssel verwendet!</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/s6/yd/tc/s6ydtc65_pqwl6vqimx88x7j4ws.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit diesem Trick war es möglich, ein Image mit dem Original "CB" zusammenzustellen, den nächsten Bootloader "CD" (mit eigenem Code) mit einem Nullschlüssel zu verschlüsseln und mit RGH auszuführen!</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/s5/mg/9y/s5mg9ynt52prplbrelkmas-3hqg.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In den Konsolen wickelte „Slim“ diesen Trick ein, entfernte den „Zero-Pairing“ -Modus und teilte den „CB“ in zwei Teile. </font><font style="vertical-align: inherit;">Hier wurde "CB" in ein sehr einfaches und kleines "CB_A" unterteilt und mit dem Prozessorschlüssel "CB_B" verschlüsselt:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/io/kw/fr/iokwfrhtycw2bg8fd8qnuzq9c-c.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Verschlüsselung mit dem RC4-Algorithmus (CB_B wird mit diesem Algorithmus verschlüsselt) weist jedoch eine Besonderheit auf. </font><font style="vertical-align: inherit;">Bei der Verschlüsselung basierend auf dem Schlüssel wird ein pseudozufälliger Datenstrom erzeugt, der binär mit den Quelldaten „addiert“ wird (Operation 'exklusiv oder', 'xor'). </font><font style="vertical-align: inherit;">Beim Entschlüsseln geschieht dementsprechend dasselbe: Durch Hinzufügen mit demselben Pseudozufallsstrom werden die Daten auf ihren ursprünglichen Wert zurückgesetzt:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/mw/_3/da/mw_3da2ixwvjpwa3wmxion8bjvk.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die binäre Additionsoperation ist jedoch kommutativ und assoziativ, was bedeutet, dass wir die verschlüsselten Daten ändern können, ohne den Schlüssel zu kennen, nur für </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xor</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 'und den verschlüsselten Code mit dem Patch, den wir benötigen!</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/uc/hk/mr/uchkmrjc4tjpy5sepvgm_pv-jo4.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Infolgedessen können wir "CB_A" verschlüsseln, das verschlüsselte "CB_B" patchen (damit es überhaupt keine Entschlüsselung durchführt) und "CD" im Klartext mit seinem Code einfügen!</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/_q/g1/hg/_qg1hghntkm59bnmg1bv5xp4h_8.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kurz gesagt, wenn Sie es zusammenstellen, sieht der Start ungefähr so ​​aus: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
(XeLL ist der Bootloader von Homebrew, Linux, und es werden auch die CPU-Schlüssel angezeigt.)</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/JOiPjlWDA1A" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Microsoft schlägt zurück</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Natürlich hat Microsoft versucht, alles zu reparieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beim neuen Systemupdate wurden alle alten Konsolen auf einen "separaten" Start von "CB_A" und "CB_B" übertragen, wodurch der "Zero-Paired" -Modus endgültig geschlossen wurde. </font><font style="vertical-align: inherit;">Auf Slim wurden auch Bootloader aktualisiert. </font><font style="vertical-align: inherit;">Die neuen Bootloader wurden zum Schutz vor RGH stark modifiziert, wobei der Schutz von CB_A im Vordergrund steht:</font></font><br>
 <br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Debug-Ausgabe im POST vollständig entfernt</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Hash-Überprüfung wurde aus Gründen der Zuverlässigkeit wiederholt und dupliziert</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Im gesamten Code wurde sleep () für eine zufällige Zeit eingestellt (abhängig vom CPU-Schlüssel !!)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CBLDV-Fusionsprüfung hinzugefügt, um CB_A zu widerrufen</font></font></li>
</ul><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ro/zh/ak/rozhaks1oyb4q0ck6f_2mbzmwmi.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Liste der Innovationen lässt für RGH keine Chance. </font><font style="vertical-align: inherit;">Aber achten wir auf den letzten Punkt auf der Liste - vorher gab es in CB_A keine Fusionsprüfung! </font><font style="vertical-align: inherit;">Fataler Fehler. </font><font style="vertical-align: inherit;">Darüber hinaus ist, wie wir uns erinnern, der Prozessorschlüssel nicht an der Decodierung von „CB_A“ beteiligt. </font><font style="vertical-align: inherit;">Dies bedeutet, dass der für RGH anfällige CB_A-Loader auf jeder Konsole gestartet werden kann und dies nicht verboten werden kann. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber um mit Hilfe dieses verletzlichen "CB_A" etwas zu beginnen, müssen Sie ein wenig ausweichen. </font><font style="vertical-align: inherit;">Wenn wir den CPU-Schlüssel nicht kennen, müssen wir nur noch den vorhandenen „CB_B“ patchen. </font><font style="vertical-align: inherit;">Was aber, wenn wir nicht einzelne Abschnitte ändern, sondern den gesamten Bootloader vollständig überschreiben? </font><font style="vertical-align: inherit;">Und aus diesem Grund "schreiben" Sie den alten Bootloader, den wir bereits patchen können, um den neuen zu ersetzen? </font><font style="vertical-align: inherit;">Also taten sie:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir verschlüsseln die anfällige CB_A auf die gleiche Weise wie im Originalbild</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XOR unser CB_B mit dem neuen, den "Unterschied" bekommen</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir setzen es auf das verschlüsselte "CB_B"!</font></font></li>
</ol><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/rt/4t/7c/rt4t7ct5vu1vfnvexya_4yjp_oc.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alles wieder, ohne den Schlüssel zu kennen, haben wir den verschlüsselten Inhalt erfolgreich ersetzt und auch den anfälligen Bootloader eingesetzt. </font><font style="vertical-align: inherit;">Konsolen hacken, Microsoft sind überrascht. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Entwickler haben hart gearbeitet und im nächsten Systemupdate ... die Verschlüsselungsmethode "CB_B" leicht geändert, jetzt ist der Verschlüsselungsschlüssel auch von der Version von "CB_A" abhängig geworden:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/2_/zy/kq/2_zykqm27pplqsop8gquppheo4g.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beim Versuch, </font><font style="vertical-align: inherit;">die Daten </font><font style="vertical-align: inherit;">zu </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xor</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 'und in das anfällige "CB_A" der alten Version zu verschieben, entschlüsselte der Bootloader den Müll aufgrund unterschiedlicher Schlüssel. </font><font style="vertical-align: inherit;">Und der neue Bootloader kann nicht gehackt werden, er ist gut vor Glich-Angriffen geschützt. </font><font style="vertical-align: inherit;">Bisher Sieg für Microsoft!</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Corona wirft Probleme</font></font></h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In der Zwischenzeit kam eine neue Version der Xbox 360, Corona, auf den Markt und brachte Modder Probleme:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/fs/zj/b1/fszjb1roudnv3rix_uf3usnwml4.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nicht genug Chips auf dem Board, kannst du es finden? </font><font style="vertical-align: inherit;">Richtig, der HANA-Chip war in der Südbrücke "versteckt". </font><font style="vertical-align: inherit;">Es gibt keinen anderen Ort, an dem die Frequenz von 48 MHz für den Mod-Chip verwendet werden kann. Die vorherigen I2C-Verlangsamungsbefehle funktionieren nicht. </font><font style="vertical-align: inherit;">Was ist das? Der 16-MB-NAND-Flash, der in all den Jahren als Xbox 360-Systemspeicher diente, wurde auf verräterische Weise durch einen 4-GB-Chip mit eMMC-Schnittstelle ersetzt! </font><font style="vertical-align: inherit;">(Stimmt, nur in der günstigeren Version der Konsole, aber immer noch):</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ho/pv/dl/hopvdl-wilvzq4pzvndoogihru4.jpeg" width="550"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber nichts, alles wurde erledigt. </font><font style="vertical-align: inherit;">Wir haben herausgefunden, wie man Flash-Speicher über einen Kartenleser liest / schreibt:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/oo/sz/pj/ooszpjupnf_mgzwpkc-vry0ovou.jpeg" width="550"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es wurden neue I2C-Verlangsamungsbefehle gefunden. Ein externer 48-MHz-Quarzoszillator ersetzte HANA:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/88/lm/ic/88lmicizuembheqjiod-uff7jau.jpeg" width="550"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Abgeschlossene Build-Skripte, Unterstützung für 4 GB NAND hinzugefügt ...</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/qm/7a/tk/qm7atka28kaj3anjmoq2cgoalz0.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber Microsoft steckte weiterhin Stöcke in die Räder. </font><font style="vertical-align: inherit;">Auf den neuen Platinen sind beispielsweise einige Widerstände verschwunden, ohne die der Mod-Chip nicht mehr funktioniert:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/kv/ji/wg/kvjiwggxf9dncmv8rehaqhpzuy4.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies wurde zwar durch die Installation von Steckbrücken mit einem Lötkolben behoben:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ku/7x/sv/ku7xsv8rpu2fov8upv6g-osgfm8.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Dinge wurden ernster, als die POST_OUT-Tracks vom Board verschwanden:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/lu/lo/0m/lulo0m01ihmy34glpcoeriz4ojo.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber hier hatte Microsoft kein Glück, die für RGH benötigten CPU-Bälle befanden sich in der äußersten Reihe:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/hc/nk/e2/hcnke2-7eh_xgrz0bmpf2ewtzro.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und natürlich konnten sie sich mit ihnen verbinden. </font><font style="vertical-align: inherit;">Zuerst die meisten Ärmel, die den Rand des Prozessors leicht aufbohren und mit der Verkabelung direkt auf die Kugel löten:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/gk/-t/k_/gk-tk_mzrvo5suirxpk_d_kknru.jpeg"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/dw/ue/ai/dwueaifiz18-tfgrylfhdgkpats.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und dann veröffentlichten die Chinesen ein Gerüst mit einer federbelasteten Nadel, die genau auf dem Ball ruhte, und das Problem wurde für alle anderen gelöst:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/k7/sd/xj/k7sdxjysbtq9ofcadfby2jpdf-i.jpeg"></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die letzte Grenze</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem wir die „Krone“ besiegt hatten, gab es ein Problem: Neue Versionen des Systems gaben dem Hacking nicht nach. Um RGH zu starten, müssen Sie den CPU-Schlüssel kennen, und um den CPU-Schlüssel herauszufinden, müssen Sie RGH mindestens einmal ausführen. Das Problem von Huhn und Eiern im Allgemeinen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und dann kam ein Gedanke auf - und lassen Sie uns nicht nur die "Glitch" -Authentifizierung überprüfen, sondern auch die Entschlüsselung überspringen! Wenn es klappt, müssen wir den Schlüssel nicht kennen, setzen Sie "CB_B" klar, das ist alles. Diese Idee bildete die Grundlage von Double Glitch Hack (DGX):</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/28/h2/yh/28h2yheods_vx8jptciovob9yby.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieser Chip "fehlerhaft" den Prozentsatz zweimal, der erste Impuls übersprang die Entschlüsselungsphase des Bootloaders und der zweite Impuls übersprang die Authentifizierung. </font><font style="vertical-align: inherit;">Es funktionierte viel weniger stabil, da mindestens ein erfolgreicher Start erforderlich war - dann erhalten wir den CPU-Schlüssel und fahren wie zuvor fort. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DGX war nicht lange relevant, nach 3 Monaten warfen die Chinesen die Veröffentlichung von „DGX RIP“ mit Bildern ein, die auf Set-Top-Boxen laufen, mit Standard-RGH arbeiten und natürlich viel stabiler starten:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ig/yv/fy/igyvfysfq1qsiyyefeqsknjiz1e.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diese Bilder enthielten eine spezielle Version des CB_A-Bootloaders, der in der Xbox 360-Produktion verwendet wurde, und sind in der Tat ein vollständiges Analogon zum guten alten „Zero-Pairing“ -Modus. </font><font style="vertical-align: inherit;">Anstelle des Prozessorschlüssels entschlüsselte dieses "CB_A_mfg" "CB_B" mit einem festen Nullschlüssel:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/_2/3k/n1/_23kn1nx7eydggdpskbzkudinv4.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und hier ist Microsoft. </font><font style="vertical-align: inherit;">In dieser "Service" -Version von "CB_A" gab es auch keine Fusionsprüfung und es war unmöglich, sie zu verbieten. </font><font style="vertical-align: inherit;">Es genügte, das Bild gemäß der Revision der Xbox 360 aufzunehmen, den Chip zu löten - und alles funktionierte.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/fa/_9/hd/fa_9hdfa5kgwphr69k6xpdnyaia.jpeg" width="550"></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Winchester!</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RGH wurde nur in der neuen Version der Konsole mit dem Codenamen Winchester vollständig behoben. </font><font style="vertical-align: inherit;">Zum ersten Mal, wenn CPU- und GPU-Prozessoren in einem Chip kombiniert wurden, wurde die Karte so weit wie möglich vereinfacht:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/of/ps/1g/ofps1gt_gevcpmlz39aj97ukquc.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
POST_OUT-Tracks wurden nicht nur entfernt. </font><font style="vertical-align: inherit;">Auch wenn Sie unter dem Prozessor auf die Plattform löten:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ha/vg/c6/havgc6afvvs4nt5pn8lihldlspq.jpeg"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/nz/si/lc/nzsilch-pq6gun98tbugnx89owi.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und selbst wenn Sie den Prozessor mit einer speziellen Version der Platine für Entwickler, XDK, verlöten, wo diese Spuren noch vorhanden sind:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/m2/di/n4/m2din48-hbqpbs2aw_if-uorx0g.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei POST_OUT ist beim Starten der Konsole nur ein Impuls sichtbar. </font><font style="vertical-align: inherit;">Bus gesperrt:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/kq/6q/5c/kq6q5cngontmkypyxrsfbke-atw.png" width="550"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Darüber hinaus ist es nur in der Produktionsphase gesperrt. </font><font style="vertical-align: inherit;">Wenn Sie einen "sauberen" Prozessor aus einer Fabrik nehmen, in der Sie noch keine Sicherungen gebrannt haben, arbeitet POST_OUT daran!</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/p0/ke/au/p0keau_qpxnl61bmosmxcv5unya.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber RGH darauf funktioniert nicht mehr. </font><font style="vertical-align: inherit;">Unabhängig davon, wie Sie versuchen, einen RESET-Impuls zu geben, führt der Prozessor einen Reset korrekt durch oder ignoriert Ihr Signal aufgrund seiner zu kurzen Dauer. </font><font style="vertical-align: inherit;">Anscheinend wurde dem Prozessor ein spezielles Logikmodul hinzugefügt, das die RESET-Leitung filtert und damit schließlich den Hardwarefehler behebt.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Post scriptum</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es stellt sich heraus, dass die neueste Version der Xbox 360 nicht zu hacken ist? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ja und nein. </font><font style="vertical-align: inherit;">Derzeit ist nur eine Möglichkeit bekannt, ein modifiziertes System mit einer Winchester-Revision auszuführen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Software Development Kit (XDK) enthält verschiedene private Schlüssel zum Signieren von kompiliertem Code. </font><font style="vertical-align: inherit;">Und so stellte sich heraus, dass unter ihnen der Signaturschlüssel „shadowboot“, ein Bootloader der dritten Ebene für XDK-Systeme, überfüllt war. </font><font style="vertical-align: inherit;">Und damit können Sie ein legitimes signiertes Bild mit geänderter Firmware sammeln. </font><font style="vertical-align: inherit;">Arbeiten Sie einfach an gewöhnlichen "Laden" -Konsolen, das wird er nicht. </font><font style="vertical-align: inherit;">Wir benötigen einen Prozessor mit der XDK-Version der Konsole oder eine „saubere“ CPU mit nicht abgesicherten Sicherungen (Sie können dies auf Aliexpress sehen):</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/rr/sl/fz/rrslfzrmohmrxuagyadwvojnpvq.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und nur dann haben Sie die Möglichkeit, eine solche Inschrift in den "Systeminformationen" der benutzerdefinierten Shell zu betrachten:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/gg/te/g7/ggteg7iezt2c-hw-h_mczs132fe.jpeg" width="450"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und das ist alles! </font><font style="vertical-align: inherit;">Wie üblich bin ich bereit, Ihre Fragen in den Kommentaren zu beantworten :) </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xbox 360-Schutz und -Hacking, Teil 1 </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xbox 360-Schutz und -Hacking, Teil 2 </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xbox 360-Schutz und -Hacking, Teil 3</font></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de500228/index.html">Wie Gatsby Next.js umging</a></li>
<li><a href="../de500232/index.html">Akka.NET lernen: Server eines einfachen Online-Spiels</a></li>
<li><a href="../de500234/index.html">Warum ich ein persönliches Spesenabrechnungsprojekt für Git + JS gemacht habe</a></li>
<li><a href="../de500238/index.html">Sag mir, was dich stört</a></li>
<li><a href="../de500244/index.html">Außerhalb des Arrays</a></li>
<li><a href="../de500248/index.html">FOSS News Nr. 14 - eine Überprüfung der kostenlosen und Open Source-Nachrichten vom 27. April bis 3. Mai 2020</a></li>
<li><a href="../de500250/index.html">Nachrichten aus der Welt von OpenStreetMap Nr. 509 (04.14.2020-20.04.2020)</a></li>
<li><a href="../de500252/index.html">Kaspersky Security Center - Neue Ebene</a></li>
<li><a href="../de500254/index.html">Wir schreiben ein Frontend, das funktioniert. Oder wie man Ingenieur von einem Entwickler wird. Teil 2</a></li>
<li><a href="../de500256/index.html">Dmitry Lebedev: „Vor ein paar Jahren habe ich klar verstanden, dass ein bisschen mehr und OpenStreetMap sinken würde.“</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>