<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ò∫Ô∏è üÖ±Ô∏è üîÇ La localizaci√≥n de un c√≥digo QR es una tarea importante, sin atenci√≥n inmerecida üë®‚Äçüë¶ üíã üëáüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Estamos seguros de que hoy no hay un solo lector de Habr que no est√© familiarizado con los c√≥digos QR. Estos c√≥digos de barras bidimensionales est√°n e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>La localizaci√≥n de un c√≥digo QR es una tarea importante, sin atenci√≥n inmerecida</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/smartengines/blog/496528/"><img src="https://habrastorage.org/webt/5g/mo/eg/5gmoegkwyn0bmh_t_kewswuiboc.png" width="250" align="right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Estamos seguros de que hoy no hay un solo lector de Habr que no est√© familiarizado con los c√≥digos QR. Estos c√≥digos de barras bidimensionales est√°n en todas partes. Es l√≥gico que en el mundo haya muchas herramientas que permitan agregar c√≥digos QR a su proyecto con cierto grado de eficiencia. El punto es que esta eficiencia mencionada depende directamente de la calidad de la herramienta que se utiliza para reconocer los c√≥digos QR. Y aqu√≠ viene el complemento cl√°sico: puede resolver el problema (muy) bien y (muy) caro, o puede hacerlo de forma gratuita y de alguna manera. ¬øEs posible modificar la versi√≥n gratuita para que, sin embargo, resuelva bien el problema? Si est√° interesado, mire debajo del gato.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Reconocer un c√≥digo QR en una fotograf√≠a es una tarea bien planteada de la visi√≥n artificial. En primer lugar, en la tarea, se investiga un objeto, que originalmente fue especialmente dise√±ado para el reconocimiento "conveniente". En segundo lugar, la tarea en s√≠ se divide en varias subtareas entendibles independientes: localizaci√≥n del c√≥digo QR, orientaci√≥n del c√≥digo QR y decodificaci√≥n directa del c√≥digo QR. Result√≥ que el dominio p√∫blico ha tenido durante mucho tiempo buenas bibliotecas que pueden resolver los dos √∫ltimos problemas: orientaci√≥n y decodificaci√≥n de un c√≥digo QR. Un problema: para la decodificaci√≥n de alta calidad, tales bibliotecas esperan que se ingrese una buena imagen binaria directamente del c√≥digo de barras. Por el contrario, se presta poca atenci√≥n a la tarea de localizaci√≥n de c√≥digos de barras en la imagen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En nuestra experiencia, cuanto m√°s exactamente localice un objeto de reconocimiento, m√°s f√°cil ser√° elegir las herramientas de preprocesamiento adecuadas y, de hecho, reconocerlo. Por lo tanto, si desea mejorar la calidad del reconocimiento de los c√≥digos QR en su proyecto, comience con la modernizaci√≥n de los m√©todos para localizar los c√≥digos QR. De hecho, incluso si luego necesita binarizar una imagen, es mucho m√°s eficiente (tanto desde el punto de vista computacional como cualitativo) binarizar una regi√≥n con un c√≥digo de barras que toda la imagen original. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En este art√≠culo, le diremos c√≥mo mejorar f√°cilmente la calidad de localizaci√≥n de los c√≥digos QR utilizando m√©todos cl√°sicos de procesamiento de im√°genes, as√≠ como proporcionar caracter√≠sticas num√©ricas de la efectividad del algoritmo propuesto.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hablaremos sobre la forma original de localizar c√≥digos QR en im√°genes, utilizando el m√©todo modificado de Viola y Jones como base.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nota informativa sobre el tema del art√≠culo.</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En esta secci√≥n, describimos las caracter√≠sticas clave del c√≥digo QR que se utilizan para construir el m√©todo de localizaci√≥n, as√≠ como una breve descripci√≥n de la versi√≥n original del m√©todo Viola y Jones.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√≥digo QR</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El c√≥digo QR (abreviatura de Quick Response Code) es un c√≥digo de barras bidimensional que se desarroll√≥ en Jap√≥n a mediados de los 90 para la industria automotriz. </font><font style="vertical-align: inherit;">Debido a la capacidad de leer r√°pidamente y a una mayor capacidad en comparaci√≥n con los c√≥digos de barras lineales, el sistema de c√≥digos QR se ha vuelto popular en todo el mundo en diversas √°reas de la vida.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A diferencia de los c√≥digos de barras lineales est√°ndar, que generalmente son escaneados por hardware, una c√°mara escanea un c√≥digo QR. </font><font style="vertical-align: inherit;">La estructura del c√≥digo QR se describe completamente en ISO / IEC 18004 (El est√°ndar ISO / IEC 18004). </font><font style="vertical-align: inherit;">Para construir un algoritmo de reconocimiento robusto para tales im√°genes, el c√≥digo QR tiene algunos puntos de referencia que forman un patr√≥n de funci√≥n: tres cuadrados en las esquinas de la imagen del c√≥digo de barras (llamados patrones de b√∫squeda) y cuadrados de sincronizaci√≥n m√°s peque√±os en toda la imagen del c√≥digo de barras (llamados patrones de alineaci√≥n) . </font><font style="vertical-align: inherit;">Dichos puntos le permiten normalizar el tama√±o de la imagen y su orientaci√≥n.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/qp/ut/kn/qputknsphjra1c0nwyoxpfnwniy.png"><br>
<p><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Higo. </font><font style="vertical-align: inherit;">Estructura del c√≥digo QR</font></font></i></p><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aunque visualmente todos los c√≥digos QR son similares entre s√≠, las diferentes copias de los c√≥digos QR, dependiendo de la cantidad de datos codificados, pueden tener un dise√±o diferente de elementos internos. </font><font style="vertical-align: inherit;">Adem√°s, los llamados c√≥digos QR de dise√±o son muy populares, en el que, en lugar de la parte de informaci√≥n adicional que garantiza el reconocimiento de alta calidad del c√≥digo de barras, se utilizan elementos gr√°ficos de terceros (logotipos, emblemas, inscripciones, etc.). </font><font style="vertical-align: inherit;">Todas estas caracter√≠sticas de los c√≥digos QR deben tenerse en cuenta al construir m√©todos para la localizaci√≥n y el reconocimiento de los c√≥digos QR.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/1k/f2/f0/1kf2f024blycs3yruzzsk3cnxr0.png"><br>
<br>
<p><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Higo. </font><font style="vertical-align: inherit;">Diferentes opciones de c√≥digos QR v√°lidos</font></font></i></p><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√©todo Viola y Jones</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Solo los perezosos de Habr√© a√∫n no escribieron sobre el m√©todo de Viola y Jones. Incluso nosotros en nuestro bloque hicimos esto varias veces (por ejemplo, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqu√≠</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqu√≠</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqu√≠</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). Y a√∫n as√≠, consideramos necesario decir muy brevemente, literalmente en dos p√°rrafos, qu√© es. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El m√©todo de detecci√≥n de objetos Viola y Jones se desarroll√≥ para buscar rostros en una imagen en tiempo real. Este m√©todo reduce el problema de detecci√≥n al problema de clasificaci√≥n binaria en cada punto de imagen, es decir, para cada regi√≥n de imagen rectangular tomada con todo tipo de cambios y escalas, la hip√≥tesis de la presencia del objeto deseado en la regi√≥n se verifica utilizando un clasificador previamente entrenado.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como espacio de caracter√≠sticas, el m√©todo Viola y Jones utiliza caracter√≠sticas rectangulares de Haar, cuyo valor se calcula como la diferencia entre las sumas del brillo de los p√≠xeles de las √°reas de imagen dentro de los rect√°ngulos adyacentes. Para calcular de manera efectiva el valor de las caracter√≠sticas de Haar, se utiliza una imagen integrada, que tambi√©n se conoce en la literatura bajo el t√©rmino tabla de √°rea sumada. Un clasificador binario "d√©bil" </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">h</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ): </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Œß</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‚Üí {-1, + 1}, generalmente presentado como un √°rbol de reconocimiento con una rama: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/y7/ly/se/y7lyseencrhtwi3hefy1xsl3kya.png" width="237"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
donde </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Œ∏</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- el valor umbral del atributo y la paridad del clasificador, respectivamente. </font><font style="vertical-align: inherit;">Luego, usando el m√©todo de aprendizaje autom√°tico AdaBoost, se construye un clasificador "fuerte" como una superposici√≥n lineal de los clasificadores "d√©biles" anteriores. </font><font style="vertical-align: inherit;">La alta velocidad del m√©todo Viola y Jones se garantiza mediante el uso de una cascada de clasificadores "fuertes", que permite localizar regiones de imagen "vac√≠as" (sin objetos) en un peque√±o n√∫mero de c√°lculos.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Algoritmo de detecci√≥n de c√≥digo QR</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al construir un m√©todo para localizar un c√≥digo QR, confiamos en las siguientes caracter√≠sticas de la tarea. Primero, el m√©todo desarrollado debe tener un alto rendimiento para su uso en sistemas de reconocimiento que operan en tiempo real. En segundo lugar, el m√©todo debe ser resistente a la distorsi√≥n permitida del c√≥digo de barras en la imagen. En tercer lugar, el m√©todo debe tener en cuenta toda la variabilidad existente de los c√≥digos QR. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como se mencion√≥ anteriormente, hemos elegido el m√©todo de Viola y Jones como m√©todo fundamental. Este m√©todo ha demostrado su eficacia en diversas tareas de b√∫squeda de objetos r√≠gidos, mientras que proporciona el rendimiento requerido. Pero en la versi√≥n original, el m√©todo Viola y Jones no se puede usar por las siguientes razones:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En el m√©todo cl√°sico de Viola y Jones, se utiliza una familia de atributos de Haar que "enfatizan" las caracter√≠sticas de textura del objeto, y en nuestro caso, aunque el c√≥digo QR consiste en barcels en blanco y negro, su distribuci√≥n es muy diferente del c√≥digo de barras al c√≥digo de barras;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El m√©todo cl√°sico de Viola y Jones est√° dise√±ado para el mismo tipo de detecci√≥n de objetos en una orientaci√≥n dada, que tampoco se observa en nuestra tarea.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para que el m√©todo Viola y Jones se pueda aplicar para resolver el problema, utilizamos la familia original de caracter√≠sticas de l√≠mite y un clasificador de alto nivel en forma de √°rbol de decisi√≥n. </font><font style="vertical-align: inherit;">La primera modificaci√≥n permitir√° enfocarse en las caracter√≠sticas de contorno del objeto estudiado, y no en la textura. </font><font style="vertical-align: inherit;">La segunda modificaci√≥n le permitir√° construir un √∫nico clasificador que puede detectar objetos variables. </font><font style="vertical-align: inherit;">A continuaci√≥n, le contaremos un poco m√°s sobre cada modificaci√≥n.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Signos de gradiente de Haar.</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para construir un detector efectivo de c√≥digos QR, utilizamos una familia especial de caracter√≠sticas de gradiente [1]. </font><font style="vertical-align: inherit;">Estos signos son signos rectangulares de Haar, calculados en la parte superior del mapa de l√≠mites dirigidos, que pueden mejorar significativamente su poder generalizador. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El mapa de l√≠mites direccionales es una imagen del m√≥dulo de gradiente, que adem√°s tiene en cuenta la direcci√≥n preferida del gradiente en el punto ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), definida como la discretizaci√≥n del √°ngulo del borde en direcciones horizontal, vertical, + 45 ¬∞ y ‚Äì45 ¬∞. </font><font style="vertical-align: inherit;">Para construir un detector de c√≥digo QR, utilizamos dos tipos de mapa de l√≠mites direccionales: un mapa de l√≠mites rectos y un mapa de caras diagonales. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Deje que la imagen original </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">f</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ,</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) Luego puede calcular el valor aproximado de la derivada a lo largo de las direcciones horizontal y vertical usando el operador Sobel: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pf/yg/_p/pfyg_pwalnr_vdg6dm-fi_jnv9o.png" width="466"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adem√°s, usando </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">g </font></font></i><sub><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x</font></font></i></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">g </font></font></i><sub><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y</font></font></i></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , puede calcular la direcci√≥n del gradiente en cada punto de la imagen: El </font></font><br>
<br>
<img src="https://habrastorage.org/webt/28/7w/w1/287ww1jnk9sr3fbrtgsr-q4ygoc.png" width="301"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mapa de bordes rectos contiene principalmente bordes horizontales y verticales y se calcula de la siguiente manera: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vi/bj/ie/vibjieyjzpf4rmokqrwozdru7ba.png" width="328"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mapa los bordes diagonales contienen principalmente bordes a lo largo de las diagonales y se calcula de la siguiente manera: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kg/zy/zy/kgzyzyc1owgaxci7skuiotoirw4.png" width="405"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
en la parte superior del mapa construido de bordes dirigidos (diagonales o rectos), se calculan los signos rectangulares de Haar. A diferencia de las caracter√≠sticas cl√°sicas de Haar, tales caracter√≠sticas de l√≠mite generalizan objetos bien que contienen una gran cantidad de l√≠mites.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/mv/mo/fd/mvmofd__pwr9myrhvp4xxh9-_gi.png"><br>
<br>
<p><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Higo. </font><font style="vertical-align: inherit;">Ilustraci√≥n de un mapa de bordes dirigidos: (a) la imagen original de un c√≥digo QR, (b) un mapa de bordes rectos, (c) una imagen de un c√≥digo QR girado (d) un mapa de los bordes diagonales de un c√≥digo QR girado</font></font></i></p><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El √°rbol decisivo de clasificadores fuertes</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El √°rbol de clasificadores fuertes [2] es una especie de √°rbol de decisi√≥n binario: el nodo del √°rbol es un clasificador fuerte, en el borde derecho del cual hay subventanas que presumiblemente contienen el objeto, y a la izquierda, aquellos que no fueron reconocidos como un objeto, respectivamente. </font><font style="vertical-align: inherit;">La respuesta final se da solo en hojas. </font><font style="vertical-align: inherit;">El clasificador en cascada cl√°sico descrito en el trabajo original de Viola y Jones es, de hecho, un clasificador de √°rbol que contiene solo una salida "positiva" (hoja) y muchas salidas "negativas".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En [2], se muestra que cualquier ruta desde la ra√≠z hasta el nodo m√°s bajo del clasificador de √°rbol se puede representar como una cascada en la que los clasificadores fuertes individuales entran con una respuesta invertida. </font><font style="vertical-align: inherit;">Gracias a esto, es posible construir un algoritmo de aprendizaje para el clasificador de √°rbol, que utiliza el procedimiento de entrenamiento del clasificador cl√°sico en cascada para ense√±ar caminos individuales. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El clasificador de √°rbol le permite entrenar clasificadores que son m√°s efectivos en t√©rminos de completitud para objetos variables en comparaci√≥n con los clasificadores en cascada cl√°sicos.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Resultados experimentales</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como parte de un experimento para evaluar la efectividad del m√©todo de localizaci√≥n de c√≥digo de barras propuesto en este art√≠culo, se prepar√≥ un conjunto de im√°genes de c√≥digo de barras que consta de 264 im√°genes. </font><font style="vertical-align: inherit;">El tama√±o f√≠sico de las im√°genes fue de aproximadamente 1 MPix. </font><font style="vertical-align: inherit;">Cada imagen contiene solo un c√≥digo QR en una orientaci√≥n arbitraria, el √°rea del c√≥digo de barras era al menos el 10% del √°rea total de la imagen. </font><font style="vertical-align: inherit;">La figura siguiente muestra ejemplos de im√°genes del conjunto ensamblado.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rb/vv/bd/rbvvbdyp8t7mffaqa38b4olv-_m.png"><br>
<br>
<p><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Higo. </font><font style="vertical-align: inherit;">Ejemplos de im√°genes del conjunto de im√°genes de c√≥digo de barras ensamblado</font></font></i></p><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El conjunto de im√°genes preparado se dividi√≥ en un conjunto de entrenamiento y un conjunto de prueba. El tama√±o de la muestra de entrenamiento fue de 88 im√°genes, el tama√±o de la muestra de prueba fue de 176 im√°genes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El conjunto de entrenamiento se us√≥ tanto para preparar ejemplos positivos como para preparar ejemplos negativos. Dado que el n√∫mero inicial de ejemplos positivos fue peque√±o, utilizamos tecnolog√≠a de aumento de datos [3]. En particular, aplicamos la rotaci√≥n alrededor del centro del c√≥digo de barras en incrementos de 15‚Å∞. Despu√©s del aumento, el n√∫mero de ejemplos positivos fue de 2088 ejemplos.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Usando los mismos ejemplos positivos y negativos, capacitamos a tres detectores de c√≥digo QR: un clasificador en cascada cl√°sico con caracter√≠sticas est√°ndar de Haar, un clasificador en cascada cl√°sico con caracter√≠sticas de l√≠mite y un clasificador de √°rbol con caracter√≠sticas de l√≠mite. </font><font style="vertical-align: inherit;">El primer clasificador en cascada constaba de 12 niveles y conten√≠a un total de 58 atributos. </font><font style="vertical-align: inherit;">El segundo clasificador en cascada constaba de 8 niveles y conten√≠a un total de 39 atributos. </font><font style="vertical-align: inherit;">El clasificador de √°rbol entrenado consist√≠a en 39 v√©rtices, conten√≠a un total de 110 caracteres, y la ruta m√°xima desde la parte superior hasta la hoja era 9. A continuaci√≥n se muestra un diagrama del clasificador de √°rbol entrenado.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/0e/pp/rx/0epprxrwsrqho130ykkanqj_cs8.png"><br>
<br>
<p><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Higo. </font><font style="vertical-align: inherit;">Esquema de clasificador de √°rbol entrenado</font></font></i></p><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para evaluar la calidad de los detectores de c√≥digos QR construidos, utilizamos el m√≥dulo de decodificaci√≥n de c√≥digo de barras de la biblioteca de visi√≥n por computadora de c√≥digo abierto OpenCV. </font><font style="vertical-align: inherit;">En el conjunto de im√°genes de prueba preparado (que, como se mencion√≥ anteriormente, consist√≠a en 176 im√°genes), lanzamos el m√≥dulo de decodificaci√≥n sin ning√∫n procesamiento previo especial, as√≠ como despu√©s de una b√∫squeda preliminar de c√≥digos QR utilizando detectores capacitados. </font><font style="vertical-align: inherit;">A continuaci√≥n se muestran los resultados de la decodificaci√≥n del c√≥digo de barras:</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No.</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T√≠tulo experimental</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conteo de im√°genes decodificadas</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Calidad de decodificaci√≥n</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Solo OpenCV</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">104</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">59,09%</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VJ (caracter√≠sticas en escala de grises, clasificador en cascada) + OpenCV</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">105</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">59,66%</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VJ (funciones de borde, clasificador en cascada) + OpenCV</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">123</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">69,89%</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4 4</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VJ (funciones de borde, clasificador de √°rbol) + OpenCV</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">136</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">77,27%</font></font></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La tabla muestra que la localizaci√≥n preliminar del c√≥digo QR utilizando el m√©todo descrito puede mejorar significativamente la calidad de la decodificaci√≥n de c√≥digos de barras (el n√∫mero de errores de decodificaci√≥n disminuy√≥ en un 44%). Adem√°s, los resultados tambi√©n demuestran que la aplicaci√≥n del m√©todo original de Viola y Jones (con caracter√≠sticas cl√°sicas de Haar y un clasificador en cascada) no es eficaz en la tarea de localizar c√≥digos QR.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora veamos con qu√© precisi√≥n cada clasificador localiza el c√≥digo de barras. </font><font style="vertical-align: inherit;">La figura de izquierda a derecha muestra los resultados de detectar el mismo c√≥digo de barras con un clasificador en cascada cl√°sico con caracter√≠sticas est√°ndar de Haar, un clasificador en cascada cl√°sico con caracter√≠sticas de l√≠mite y un clasificador de √°rbol con caracter√≠sticas de l√≠mite. </font><font style="vertical-align: inherit;">Se puede ver que el clasificador de √°rbol proporciona la mejor precisi√≥n de localizaci√≥n de c√≥digo de barras teniendo en cuenta la variabilidad de los c√≥digos QR.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/o-/um/wr/o-umwrnaxpniz5oziynxxm-bjja.png"><br>
<br>
<p><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Higo. </font><font style="vertical-align: inherit;">Ilustraci√≥n del trabajo de detectores capacitados en la misma imagen.</font></font></i></p><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusi√≥n</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hoy en d√≠a, los c√≥digos QR se utilizan en diversas √°reas de la vida: en la industria publicitaria para codificar URL, en el segmento estatal como parte de servicios electr√≥nicos, etc. </font><font style="vertical-align: inherit;">A pesar de la distribuci√≥n extremadamente alta de dichos c√≥digos de barras, las bibliotecas de c√≥digo abierto existentes se centran en el proceso de decodificaci√≥n, no en el problema de localizaci√≥n. </font><font style="vertical-align: inherit;">Pero para ser honesto, el verdadero prop√≥sito de este art√≠culo no fue tanto describir un m√©todo efectivo de localizaci√≥n de c√≥digos QR, sino m√°s bien un intento de decirle, querido lector, c√≥mo, utilizando el pensamiento cient√≠fico y el an√°lisis de sistemas, entendiendo c√≥mo usar las herramientas cl√°sicas de procesamiento de im√°genes digitales, puede liberar Las bibliotecas llevan al nivel industrial real. </font><font style="vertical-align: inherit;">Gracias por la atenci√≥n.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lista de fuentes utilizadas</font></font></b><div class="spoiler_text">[1] A.A. Kotov, S.A. Usilin, S.A. Gladilin, and D.P. Nikolaev, ‚ÄúConstruction of robust features for detection and classification of objects without characteristic brightness contrasts,‚Äù Journal of information technologies and computing systems, 1, 53-60, (2014).<br>
[2] A. Minkina, D. Nikolaev, S. Usilin, and V. Kozyrev, ‚ÄúGeneralization of the Viola-Jones method as a decision tree of strong classifiers for real-time object recognition in video stream,‚Äù in Seventh International Conference on Machine Vision (ICMV 2014), 9445, International Society for Optics and Photonics, (2015), doi:10.1117/12.2180941.<br>
[3] D. P. Matalov, S. A. Usilin, and V. V. Arlazarov, ‚ÄúModification of the viola-jones approach for the detection of the government seal stamp of the russian federation,‚Äù in Eleventh International Conference on Machine Vision (ICMV 2018), 11041, International Society for Optics and Photonics, (2019), doi:10.1117/12.2522793.</div></div></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es496510/index.html">C√≥mo no convertirse en un dise√±ador de juegos</a></li>
<li><a href="../es496512/index.html"># 05 - Y un byte completo no es suficiente ... | Anime</a></li>
<li><a href="../es496514/index.html">IPIP IPsec VPN t√∫nel entre la m√°quina Linux y Mikrotik detr√°s del proveedor NAT</a></li>
<li><a href="../es496516/index.html">Telegram bot en python vs COVID-19</a></li>
<li><a href="../es496518/index.html">¬øC√≥mo llegamos al control remoto?</a></li>
<li><a href="../es496532/index.html">Nos verificamos a nosotros mismos: c√≥mo implementar y c√≥mo administrar 1C: flujo de documentos dentro de la compa√±√≠a 1C</a></li>
<li><a href="../es496536/index.html">DeepCode: vista lateral</a></li>
<li><a href="../es496538/index.html">Fractales en Python. Tutorial</a></li>
<li><a href="../es496542/index.html">El tr√°fico de Internet en Europa ha crecido una vez y media. Los proveedores de red troncal registran registros de carga</a></li>
<li><a href="../es496544/index.html">Hackathon en l√≠nea de proyectos para aut√≥nomos: 500 mil rublos por sus ideas y el apoyo del Servicio Federal de Impuestos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>