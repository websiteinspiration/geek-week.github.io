<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ù§Ô∏è üëáüèø üë®üèΩ‚Äçü§ù‚Äçüë®üèª Revis√£o e teste Huawei Dorado 5000V6 ü§üüèº ü•â üë©üèº‚Äçüé®</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Seis meses atr√°s, eu j√° estava come√ßando a falar sobre a atualiza√ß√£o da linha de armazenamento da Huawei - Dorado V6. De fato, consegui conhec√™-los an...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Revis√£o e teste Huawei Dorado 5000V6</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/lanit/blog/493928/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2cd/1a0/1bc/2cd1a01bc464943673f99ff1e0d31f21.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seis meses atr√°s, eu j√° estava come√ßando a falar sobre a atualiza√ß√£o da linha de armazenamento da Huawei - Dorado V6. De fato, consegui conhec√™-los antes do an√∫ncio oficial, e √© l√≥gico que naquela √©poca n√£o tive a oportunidade de toc√°-los com minhas pr√≥prias m√£os. No meu artigo ‚Äú </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Huawei Dorado V6: Sichuan Heat</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‚Äù, concentrei-me nos modelos Dorado 8000 e 18000 V6 mais antigos, pois, do ponto de vista da arquitetura, eles eram mais interessantes para mim naquele momento. Por fim, tive a oportunidade de testar o sistema 5000V6 em nosso laborat√≥rio e falar mais sobre o lado t√©cnico desses sistemas.</font></font><br>
<a name="habracut"></a><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/35c/b51/06b/35cb5106b670e7d371da8b6dd78bce6a.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por um lado, esta √© uma revis√£o e teste do sistema 5000V6; por outro, √© uma continua√ß√£o l√≥gica do artigo anterior, porque </font><font style="vertical-align: inherit;">Nos √∫ltimos seis meses, surgiram mais detalhes sobre os v√°rios componentes do sistema, a l√≥gica do trabalho e a funcionalidade implementada. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas vamos direto ao ponto. </font><font style="vertical-align: inherit;">Como esse sistema √© mais familiar - um sistema de controlador duplo, perdeu algumas das vantagens de suas irm√£s mais velhas.</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Falta de Frontend e Backend compartilhados.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ed6/201/20e/ed620120e6d1247dfba8ad4775fdf98a.jpg"></div></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Al√©m disso, nos sistemas 5000V6 e 6000V6, apenas dois processadores Kunpeng 920 s√£o instalados em cada um dos controladores e um no 3000V6.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se as mesmas prateleiras s√£o fornecidas para 5000V6 e 6000V6 como para 8000V6 e 18000V6 com chips Kunpeng, projetadas para acelerar o processo de reconstru√ß√£o, e essas prateleiras s√£o conectadas via RDMA de 100Gb, somente para o modelo mais novo 3000V6, apenas as prateleiras SAS est√£o dispon√≠veis.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0fb/811/cbf/0fb811cbfbf2c45865364ac8f87c7c99.png"></div></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os 5000V6 e 6000V6 foram projetados para instalar 36 SSDs PALM ou SSDs SAS comuns de 25 x 2,5 "" (selecionados ao configurar o sistema ao fazer o pedido), o 3000V6 mais novo suporta apenas 25 SSDs SAS.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O 3000V6 suporta a instala√ß√£o de at√© tr√™s placas de interface hot-swap no controlador, 5000V6 e 6000V6 suportam seis placas.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como no artigo anterior, h√° uma nota de rodap√© sobre o NVMe de ponta a ponta: o suporte ao NVMe sobre RoCE v2 e NVMe sobre TCP / IP est√° planejado em um futuro pr√≥ximo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Arquitetonicamente, os sistemas de controlador duplo, √© claro, tamb√©m diferem.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8c5/311/835/8c531183543d80cc68454d83f8607674.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O OceanStor Dorado V6 usa uma arquitetura ativo-ativo que possui as seguintes tecnologias.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Algoritmo de balanceamento de carga: equilibra solicita√ß√µes de leitura e grava√ß√£o recebidas por cada controlador.&nbsp;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cache global: permite que os LUNs n√£o tenham propriet√°rios. </font><font style="vertical-align: inherit;">Cada controlador processa as solicita√ß√µes de leitura e grava√ß√£o recebidas, fornecendo balanceamento de carga entre os controladores.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RAID 2.0+: distribui uniformemente os dados por todos os discos no pool de armazenamento, equilibrando a carga no disco.</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RAID 2.0 ou superior</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se os dados n√£o forem armazenados uniformemente em um SSD, alguns SSDs muito carregados podem se tornar um gargalo do sistema. </font><font style="vertical-align: inherit;">O OceanStor Dorado V6 usa o RAID 2.0+ para distribuir uniformemente os dados entre todos os LUNs em cada SSD, equilibrando a carga entre as unidades. </font><font style="vertical-align: inherit;">O OceanStor Dorado V6 implementa o RAID 2.0+ da seguinte maneira:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v√°rios SSDs formam um pool de armazenamento</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cada SSD √© dividido em partes de tamanho fixo (normalmente 4 MB por parte) para simplificar o gerenciamento de espa√ßo l√≥gico</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">peda√ßos de SSDs diferentes formam um grupo de peda√ßos com base na pol√≠tica RAID definida pelo usu√°rio</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o grupo de partes √© dividido em "gr√£os" (geralmente 8 KB), que s√£o a menor unidade de volumes</font></font></li>
</ul><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f2f/078/498/f2f0784987ff6f097560add9447b6ea1.png"></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grava√ß√£o de faixa completa na linha</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os chips de mem√≥ria flash nos SSDs podem ser apagados um n√∫mero limitado de vezes. </font><font style="vertical-align: inherit;">No modo tradicional de reescrita de RAID (grava√ß√£o no local), os dados quentes no SSD s√£o continuamente substitu√≠dos e seus chips flash se desgastam rapidamente. </font><font style="vertical-align: inherit;">O OceanStor Dorado V6 usa a grava√ß√£o de redirecionamento total (ROW) para dados novos e antigos. </font><font style="vertical-align: inherit;">Ele aloca um novo chip flash para cada registro, equilibrando o n√∫mero de vezes que todos os chips flash s√£o apagados. </font><font style="vertical-align: inherit;">Isso reduz significativamente a carga do processador no pr√≥prio controlador e a carga de leitura / grava√ß√£o no SSD durante o processo de grava√ß√£o, aumentando o desempenho do sistema em diferentes n√≠veis de RAID.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/704/861/180/704861180772c1d39a355463eca02b89.png"></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prioriza√ß√£o de ponta a ponta de E / S</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para garantir uma lat√™ncia consistente para certos tipos de E / S, os controladores OceanStor Dorado V6 marcam cada opera√ß√£o de E / S com prioridade, de acordo com seu tipo. </font><font style="vertical-align: inherit;">Isso permite que o sistema planeje a CPU e outros recursos e os priorize, oferecendo uma garantia de lat√™ncia com base nas prioridades de E / S. </font><font style="vertical-align: inherit;">Em particular, depois de receber v√°rios SSDs de E / S, verifique suas prioridades e processe principalmente opera√ß√µes com uma prioridade mais alta. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O OceanStor Dorado V6 classifica as opera√ß√µes de E / S nos cinco tipos a seguir e as prioriza em ordem decrescente, fornecendo √≥tima resposta de E / S interna e externa:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">opera√ß√µes de leitura / grava√ß√£o</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">recursos avan√ßados de E / S</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rebild</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cache de descarga</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Coleta de lixo</font></font></li>
</ul><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a58/69f/eb7/a5869feb7c729344df874a13f3b4d39c.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em cada unidade, al√©m de priorizar as opera√ß√µes de entrada / sa√≠da, o OceanStor Dorado V6 tamb√©m permite solicita√ß√µes de leitura de alta prioridade para interromper as opera√ß√µes atuais de grava√ß√£o e exclus√£o. </font><font style="vertical-align: inherit;">Nesse caso, o atraso de leitura do disco (se n√£o houver dados no cache) afeta diretamente o atraso de leitura do host. </font><font style="vertical-align: inherit;">Normalmente, uma unidade flash SSD executa tr√™s opera√ß√µes: ler, gravar e apagar. </font><font style="vertical-align: inherit;">O atraso de apagamento √© de 5 ms a 15 ms, o atraso de grava√ß√£o √© de 2 ms a 4 ms e o atraso de leitura √© de dezenas de microssegundos a 100 microssegundos. </font><font style="vertical-align: inherit;">Quando o chip flash executa uma opera√ß√£o de grava√ß√£o ou exclus√£o, a opera√ß√£o de leitura deve esperar at√© que a opera√ß√£o atual seja conclu√≠da, o que leva a um aumento significativo no atraso da leitura.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gabinete de disco inteligente</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como escrevi em um artigo anterior, as novas prateleiras de disco est√£o equipadas com seu pr√≥prio processador e RAM. Isso permite transferir tarefas como recupera√ß√£o de falhas de disco dos controladores. Isso reduz significativamente a carga nos controladores em caso de recupera√ß√£o de dados devido a falhas no disco. A figura a seguir mostra o processo de recupera√ß√£o de dados em uma √∫nica prateleira de disco usando RAID 6 (21 + 2) como exemplo. Se a unidade D1 estiver com defeito, o controlador deve ler D2-D21 e P e, em seguida, recontar D1. No total, 21 blocos de dados devem ser lidos nos discos. As opera√ß√µes de leitura e restaura√ß√£o consomem grandes recursos do processador.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/797/a68/25b/797a6825b40fe83972747d60963a7099.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O compartimento do Smart Disk Enclosure recebe uma solicita√ß√£o de restaura√ß√£o e l√™ os dados para calcular localmente os dados de paridade. </font><font style="vertical-align: inherit;">Ent√£o ela s√≥ precisa transferir os dados de paridade para o controlador. </font><font style="vertical-align: inherit;">A figura a seguir mostra que apenas quatro blocos de dados de paridade precisam ser transferidos entre o controlador e a prateleira do disco. </font><font style="vertical-align: inherit;">Isso economiza o desempenho das opera√ß√µes de recupera√ß√£o, reduzindo a largura de banda da rede em cinco vezes.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bb1/0be/92e/bb10be92e77854ae131965364eb5ff85.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como resultado, transferindo essa carga para os processadores na prateleira, √© poss√≠vel reduzir a carga nos controladores da tarefa de reconstru√ß√£o para menos de 10%.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SmartDedupe e SmartCompression</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O OceanStor Dorado V6 realiza automaticamente desduplica√ß√£o e compacta√ß√£o adapt√°veis ‚Äã‚Äãcom base nas caracter√≠sticas dos dados do usu√°rio, maximizando a efici√™ncia. </font><font style="vertical-align: inherit;">O processo adaptativo de desduplica√ß√£o e compacta√ß√£o √© o seguinte.</font></font><br>
<br>
<ol>
<li>   ,    ,              .     ,      .           .</li>
<li>         ,   ¬´¬ª  (SFP)       ¬´¬ª.     ,            .</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quando v√°rios SFPs id√™nticos s√£o acumulados na tabela "recursos", os dados correspondentes a esses SFPs s√£o lidos nos discos de deduplica√ß√£o ap√≥s o processamento. </font><font style="vertical-align: inherit;">Ap√≥s a elimina√ß√£o da duplica√ß√£o, a tabela de impress√£o digital √© atualizada.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Antes de compactar os dados, o OceanStor Dorado V6 usa seu pr√≥prio algoritmo de pr√©-processamento para determinar a parte que √© dif√≠cil de compactar nos blocos de dados com base no formato dos dados.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O OceanStor reordena os dados, dividindo-os em duas partes:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para a parte que √© dif√≠cil de compactar, o sistema o comprime usando um algoritmo de compress√£o Huawei especialmente desenvolvido</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">por outro lado, o sistema usa um algoritmo de compacta√ß√£o comum</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alguns fornecedores de armazenamento j√° est√£o usando compacta√ß√£o de dados em seu arsenal. </font><font style="vertical-align: inherit;">Mas eles geralmente usam um bloco de 4K ou 1K para compactar os dados. </font><font style="vertical-align: inherit;">A Huawei foi al√©m e usa o alinhamento de bytes. </font><font style="vertical-align: inherit;">Eu acho que a ilustra√ß√£o √© clara.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/89e/9e1/1c7/89e9e11c728e732e06593718d8d78275.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Assim, ajustamos 32 KB de dados do usu√°rio em menos de 5 KB. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A compacta√ß√£o e a desduplica√ß√£o agora sempre funcionam a partir do momento em que voc√™ instala a licen√ßa apropriada do Storage Efficiency. </font><font style="vertical-align: inherit;">Ele n√£o pode ser desativado no Device Mabager, mas se voc√™ realmente quiser, isso pode ser feito atrav√©s da CLI. </font><font style="vertical-align: inherit;">De acordo com a l√≥gica do fornecedor, as tecnologias de economia de espa√ßo devem sempre funcionar em SSDs. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um ponto importante em toda a linha. </font><font style="vertical-align: inherit;">Embora existam apenas cinco modelos, eles diferem entre si no volume do cache de cada controlador:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OceanStor Dorado 3000 V6: 192 GB</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OceanStor Dorado 5000 V6: 256 GB / 512 GB</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OceanStor Dorado 6000 V6: 1024 GB</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OceanStor Dorado 8000 V6: 512 GB / 1024 GB / 2048 GB</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OceanStor Dorado 18000 V6: 512 GB / 1024 GB / 2048 GB</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como voc√™ pode ver, o volume total de modelos mais antigos n√£o muda, mas o n√∫mero de unidades muda. </font><font style="vertical-align: inherit;">De acordo com declara√ß√µes de engenheiros da Huawei, eles simplesmente n√£o tiveram a oportunidade de testar sistemas em um volume maior que 2Pb. </font><font style="vertical-align: inherit;">Teoricamente, eles ap√≥iam mais. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N√∫mero m√°ximo de unidades / capacidade m√°xima:&nbsp;</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OceanStor Dorado 3000 V6 - 1000 / 500TiB</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OceanStor Dorado 5000 V6 - 1200 / 1024TiB</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OceanStor Dorado 6000 V6 - 1500/2048TiB</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OceanStor Dorado 8000 V6 - 3200 / 2048TiB</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OceanStor Dorado 18000 V6 - 6400/2048TiB</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em um artigo anterior, esqueci de mencionar quais placas de interface est√£o geralmente dispon√≠veis:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d13/0d5/b2f/d130d5b2fbf51e9fc453a4c28b0dbb94.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu j√° disse (no artigo anterior e neste) que a Huawei oferece SSDs de design pr√≥prio - Palm Size, ou, como eles chamam, SSDs desenvolvidos pela Huawei (HSSD) como dispositivos de armazenamento. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al√©m do fato de a empresa considerar seu desenvolvimento mais r√°pido, tamb√©m oferece alguns recursos importantes.</font></font><br>
<br>
<ul>
<li><b> </b><br>
<br>
 SSD         /    - NAND.             - NAND.<br>
<br>
HSSD      .     SSD       ,    /.     SSD        /     , ,  ,   ,     .</li>
<li><b>   (Bad Block)</b><br>
<br>
        - NAND. HSSD        /,      - NAND.    , SSD       (XOR)      . HSSD       ,        .</li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verifica√ß√£o de antecedentes</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ap√≥s armazenar os dados no flash NAND por um longo per√≠odo, podem ocorrer erros nos dados devido √† interfer√™ncia de leitura, interfer√™ncia de grava√ß√£o ou mau funcionamento acidental. </font><font style="vertical-align: inherit;">O HSSD l√™ periodicamente dados de uma mem√≥ria flash NAND, verifica altera√ß√µes de bits e grava altera√ß√µes de bits em novas p√°ginas. </font><font style="vertical-align: inherit;">Esse processo pr√©-detecta e processa riscos, o que evita efetivamente a perda de dados e melhora a seguran√ßa e a confiabilidade dos dados.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ent√£o, vamos diretamente para os testes. </font><font style="vertical-align: inherit;">Testamos as duas varia√ß√µes dos controladores 5000V6 com cache de 256 GB e 512 GB. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O primeiro teste foi, por assim dizer, aquecimento.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9ef/74f/e06/9ef74fe0601efe8dc8afc866acd8686d.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como podemos ver, nesse perfil de carga de 8k 50r / 50rw, a diferen√ßa foi de cerca de 7% (220 kIOPs versus 205 kIOPs) e afetou apenas o n√∫mero final de IOPS, e o tempo de resposta permaneceu no mesmo n√≠vel - 0,9 ms. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A prop√≥sito, era muito simples determinar que come√ßamos a descansar no controlador, o pr√≥prio sistema relatou uma alta utiliza√ß√£o dos processadores do controlador.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ff3/02c/cae/ff302ccaef40a16017f20beffb4f24f8.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O segundo teste que usamos para todos os sistemas em SSDs √© avaliar e compar√°-los com um perfil mais complexo.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perfil</font></font></b><div class="spoiler_text">[global]<br>
direct=1<br>
thread=1<br>
iodepth=16<br>
filename=/dev/sdb<br>
ioengine=libaio<br>
runtime=3600000<br>
group_reptorting<br>
time_based<br>
[8r]<br>
rw=randread<br>
numjobs=24<br>
bs=8k<br>
<br>
[8w]<br>
rw=randwrite<br>
numjobs=24<br>
bs=8k<br>
<br>
[32r]<br>
rw=randread<br>
bs=32k<br>
numjobs=1<br>
<br>
[32w]<br>
rw=randwrite<br>
numjobs=1<br>
bs=32k<br>
<br>
[128r]<br>
rw=read<br>
bs=128k<br>
numjobs=1<br>
<br>
[128w]<br>
rw=write<br>
bs=128k<br>
numjobs=1<br>
<br>
[512r]<br>
rw=read<br>
bs=512k<br>
numjobs=1<br>
<br>
[512w]<br>
rw=write<br>
bs=512k<br>
numjobs=1<br>
</div></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e13/cbe/bbd/e13cbebbdd25d28e81f684e92cfa6ff7.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui a imagem √© completamente diferente. Se a diferen√ßa no n√∫mero de IOPS em dois mil (172 kIOPs versus 170 kIOPs) n√£o for significativa, o atraso aumentar√° cinco vezes (de 0,4 ms para 2,1 ms), informando que, ao trabalhar com um bloco grande, uma quantidade maior de cache d√° uma vantagem ao sistema. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No ano passado, colegas e eu j√° </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">testamos o Huawei Dorado 5000 V3</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , ent√£o agora podemos comparar esses dois sistemas.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/609/60b/444/60960b4448d639bca195d7df880beb78.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Progresso na face. </font><font style="vertical-align: inherit;">O perfil de carga e o procedimento de teste foram os mesmos nos dois casos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obviamente, seria bom fazer uma compara√ß√£o com os concorrentes, pessoalmente, minhas m√£os estavam com muita vontade de comparar com o sistema NetApp AFF A400, Full NVMe, que apareceu h√° pouco tempo. </font><font style="vertical-align: inherit;">Infelizmente, ela ainda n√£o visitou nosso laborat√≥rio de testes e a compara√ß√£o com o AFF A300 n√£o √© totalmente l√≥gica, embora o Dorado 5000 V3 anterior da Huawei tenha sido posicionado como seu concorrente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No p√°tio do s√©culo 21, muitas empresas oferecem v√°rios programas para aumentar a atratividade de seus sistemas. </font><font style="vertical-align: inherit;">A Huawei decidiu seguir nessa dire√ß√£o.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Garantia Eficaz de Capacidade</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Com os novos sistemas de armazenamento V6, voc√™ pode confiar com seguran√ßa no armazenamento eficiente de dados com compacta√ß√£o e desduplica√ß√£o. Em geral, muitos fornecedores no mercado j√° oferecem programas semelhantes, que devido ao armazenamento mais eficiente permitem o armazenamento garantido de mais dados no volume √∫til adquirido do sistema de armazenamento de dados.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O custo de cada terabyte de SSDs ainda √© bastante alto, portanto as tecnologias de compacta√ß√£o e desduplica√ß√£o s√£o extremamente √∫teis e mostram alta efici√™ncia em muitos tipos de dados. </font><font style="vertical-align: inherit;">Se seus dados forem v√≠deo, √°udio, imagens, dados cient√≠ficos, PDF, XML ou dados criptografados, a desduplica√ß√£o n√£o ser√° eficaz, caso contr√°rio, a garantia funcionar√°. </font><font style="vertical-align: inherit;">Mesmo que voc√™ tenha adquirido um sistema com o n√∫mero m√°ximo de unidades instaladas, as unidades do programa tamb√©m receber√£o uma prateleira de expans√£o.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Flashver</font></font></h3><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c6f/2af/236/c6f2af236f647f254a720c8f0cae5219.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se, juntamente com o array, voc√™ adquirir o programa Huawei Hi-Care Onsite ou Co-Care ou superior, poder√° contar com a atualiza√ß√£o gratuita dos controladores para novos modelos da mesma linha. Isso permite que voc√™ tenha o sistema mais moderno e produtivo sem a necessidade de comprar novos sistemas ou migra√ß√£o de dados. O processo de substitui√ß√£o de controladores tamb√©m ocorre sem interrup√ß√£o do servi√ßo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se voc√™ √© um f√£ de interfaces e deseja consultar o Gerenciador de dispositivos atualizado, o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DeviceManager do OceanStor Dorado 18000 V6 6.0.0</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> j√° est√° dispon√≠vel no portal da Huawei </font><font style="vertical-align: inherit;">.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Infelizmente, esse sistema s√≥ esteve em nossos testes por alguns dias, portanto, apenas conseguimos medir o desempenho. </font><font style="vertical-align: inherit;">Mas eu tamb√©m gostaria de realizar testes funcionais, nossos testes de falha favoritos e verificar algumas reclama√ß√µes de desempenho que estavam na linha V3 anterior na execu√ß√£o de algumas opera√ß√µes - √© importante entender que mudan√ßas na nova linha (e, consequentemente, no software) ocorreram e que efeito eles trouxeram? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quero observar que a maioria dos testes que conduzo para meus artigos s√£o de equipe. </font><font style="vertical-align: inherit;">Expresso minha gratid√£o aos meus colegas do Grupo de integra√ß√£o da empresa </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Onlanta"</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> com quem trabalho.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A prop√≥sito, estamos procurando um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">arquiteto de sistema</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> em nossa equipe </font><font style="vertical-align: inherit;">.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt493918/index.html">Como a pandemia afetou os provedores de VPN</a></li>
<li><a href="../pt493920/index.html">Sobre uma vulnerabilidade em ...</a></li>
<li><a href="../pt493922/index.html">√ìculos de vis√£o crepuscular. API do Camera2 do Android do Maker Part 5 Flash</a></li>
<li><a href="../pt493924/index.html">Pare o transportador! Voc√™ fornece projetores Epson XGA ao pre√ßo de SVGA</a></li>
<li><a href="../pt493926/index.html">Truques para testar aplicativos Web Laravel usando f√°bricas de modelos</a></li>
<li><a href="../pt493932/index.html">Vis√£o geral das pesquisas do Google. Por que n√£o √© adequado para pesquisas s√©rias</a></li>
<li><a href="../pt493934/index.html">Quem, como e no que explorou os oceanos do mundo - analisamos as bases da NOAA</a></li>
<li><a href="../pt493938/index.html">Como cortar custos na AWS</a></li>
<li><a href="../pt493940/index.html">Protocolo de tratamento natural de coronav√≠rus 2019-nCoV</a></li>
<li><a href="../pt493942/index.html">V√≠rus b√°sico em 20 minutos ou por que voc√™ deve usar antiv√≠rus</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>