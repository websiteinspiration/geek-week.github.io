<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤥 🐬 🏬 Power Stage Designer Utility - Power Electronics Developer Tool 🐢 🧡 👼🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Greetings! I want to talk about a very interesting utility for an electronics developer, which I have been using in my professional activity for a lon...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Power Stage Designer Utility - Power Electronics Developer Tool</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489986/"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Greetings! </font><font style="vertical-align: inherit;">I want to talk about a very interesting utility for an electronics developer, which I have been using in my professional activity for a long time. </font><font style="vertical-align: inherit;">The Stage Designer tool the Power </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TM</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> from Texas Instruments - instrument from the "mast hev" set power supply designers, converters, power electronics. </font><font style="vertical-align: inherit;">As the name implies, the utility is designed to calculate the parameters of the power part (power stage), and also includes some additional features that help in solving related problems.</font></font></p><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Key features of the utility:</font></font></h3><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Calculation of the main parameters of the converter;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parameter calculator feedback loop </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«Loop Calculator»</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Calculation of losses of the MOSFET transistor </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"FET Losses"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Calculation of capacitors </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Capacitor Calculator"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Calculation of damping chains </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Snubber Calculator"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Calculation of the parameters of the regulation / stabilization circuits of the output voltage </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Output Voltage Scaling”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Converter units </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«Unit Converter»</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
</ul><a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Calculation of the main parameters of the converter</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We start the program and see this set of topologies:</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><div style="text-align:center;"><img src="https://habrastorage.org/webt/de/y4/vx/dey4vxgiv5lpbslca-817stxjbg.png"></div></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We select the topology for the calculation. </font><font style="vertical-align: inherit;">For example, I will choose an active clamp forward converter. </font><font style="vertical-align: inherit;">As the calculated values, I introduced the parameters of one of my developments - a DC / DC converter on a DIN rail. </font><font style="vertical-align: inherit;">The calculation window looks like this:</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><div style="text-align:center;"><img src="https://habrastorage.org/webt/cr/z8/k9/crz8k9gl2e2e9hkqxjxkjcxjcg8.png"></div></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Here you can set the input parameters for the calculation and see the results. </font><font style="vertical-align: inherit;">In the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Design Values" area, the</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> parameters to be set, in the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Recommended Values" area</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , parameters recommended by the program, the values ​​of which can be selected and entered in the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Choose Values" area</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">In the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Calculated Values" area,</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> the values ​​calculated by the program. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In addition, all circuit elements highlighted in yellow are clickable. </font><font style="vertical-align: inherit;">You can see the shape of the current and voltage on the element, as well as the main parameters at various values ​​of the input voltage and load current:</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><div style="text-align:center;"><img src="https://habrastorage.org/webt/gj/dh/wy/gjdhwy_qchx-hsnmvuj5cfmyj-o.png"></div></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Some notes on the calculation:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If you enter values ​​that are different from the recommended ones, the calculated values ​​may not correspond to the required ones, while the discrepancy is highlighted in red;</font></font></li>
<li>         . ,       <b>«Inductance»</b>; </li>
<li>      ,            ,      ,             ;</li>
<li>   .  ,        :  ,     —     ,     ,   /,  .</li>
</ul><br>
<h3>     «Loop Calculator»</h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A utility for analyzing the stability / dynamics of a converter, building amplitude-frequency (AFC) and phase-frequency (PFC) characteristics.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><div style="text-align:center;"><img src="https://habrastorage.org/webt/nv/4d/ry/nv4dryw_hpe1o-p3gstyufwx4im.png"></div></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">General Information section</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , the initial parameters of the converter for calculation are entered. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Control Sheme" section</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , the type and control mode of the power unit are selected. </font><font style="vertical-align: inherit;">For example, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“VMC Buck”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> is a buck converter, voltage mode control. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"CMC Forward"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - linear converter, current control (current mode control). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Compensation Network section</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , the type of correction circuit is selected, the circuit itself can be seen by clicking on </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the COMP Networks</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> button </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ti/xp/ui/tixpuikwgp0pykczhzqieoft1ug.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Gain Information"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> section </font><font style="vertical-align: inherit;">, parameters are defined that determine the loop gain, in particular:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ramp</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - PWM ramp voltage, amplitude of the PWM saw;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">G </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Error amplifier transconductance, slope of the characteristic / active conductivity of the OS amplifier, this parameter is given when using an amplifier with current feedback in the compensation circuit (transimpedance amplifier);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Current sense resistor, resistance of the current sensor resistor;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Current sense amplifier gain, current gain;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OL</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Error Amplifier open loop gain, gain of the error amplifier when the OS is open;</font></font></li>
<li>GBWP — Gain-bandwidth product —      (  ,     );</li>
<li>R<sub>P</sub>/R<sub>D</sub> — Optocoupler transfer ratio,   ;</li>
<li>V<sub>slope</sub> — Slope compensation voltage/slope compensation multiplier (SLM),     /   .            .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Component Values"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> section, the </font><font style="vertical-align: inherit;">parameters of the correcting circuits </font><font style="vertical-align: inherit;">are set. In the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Suggested Compensation Values" section</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , the values ​​of the parameters of the correcting circuits proposed by the program are set. </font><font style="vertical-align: inherit;">In the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Poles &amp; Zeros section,</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> calculated zeros and poles of the transfer function. </font><font style="vertical-align: inherit;">In the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Graphs"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> section </font><b><font style="vertical-align: inherit;">,</font></b><font style="vertical-align: inherit;"> you can choose which characteristics to build:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Power section of the converter ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Gain Power Stage”, “Phase Power Stage”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> );</font></font></li>
<li><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Error Amplifier</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font><b><font style="vertical-align: inherit;">“Gain Error Amplifier”, “Phase Error Amplifier”</font></b><font style="vertical-align: inherit;"> );</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Full characteristics of the system ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Total Gain”, “Total Phase”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> );</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Error amplifier with open OS ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Gain Error Amplifier (Open Loop)”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It should be noted that the task of constructing and analyzing transfer functions is not in itself trivial, even using this utility. </font><font style="vertical-align: inherit;">If I have time, I’ll write a separate article with a brief manual and practical example of use.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Calculation of losses of the MOSFET transistor "FET Losses"</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This utility allows you to evaluate the static and dynamic losses in the MOSFET transistor of the converter. When you run the utility from the main calculation window of the converter, the initial data (currents and voltages on the key) are transferred to the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">General Circuit Information section</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">The areas </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“FET1”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“FET2” are</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> completely identical, this allows you to compare two different transistors in terms of losses. </font><font style="vertical-align: inherit;">Let's look at an example of calculation.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In my development, I used the IRFI4227 transistor as a power switch. I will not say that even five years ago (when the IP was developed, given as an example in the initial calculation) it was the best choice, however, it was dictated by the fact that this transistor was already in the enterprise database, used in mass-produced products, had in stock. In addition, for this IP, there were rather tough price targets, so a decision was made to heat the transistor to fit the transistor on the aluminum module case, and since I wanted to provide a simple and technological assembly, I needed a transistor in an insulated case.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So, for example, let's compare the losses in IRFI4227 with the losses that can be achieved by applying modern MOSFET. As can be seen from the calculation, in this circuit, the maximum voltage on the key is 45V, so I picked up a 60V transistor type IPA060N06NM5S from Infineon, as one of the industry leaders. The transistor chose more or less balanced by the “lightness” of the shutter and the channel resistance. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now you need to fill in the required parameters. Consider the example of the IRFI4227 transistor. Open the datasheet - I highlighted the parameters that are used in the calculation:</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><div style="text-align:center;"><img src="https://habrastorage.org/webt/ls/tf/bw/lstfbw1co1sswmzyrekisbq5vsq.png"></div></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It should be noted that the value of the channel resistance is recorded taking into account the dependence on the crystal temperature, the temperature is selected 80 ° C. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
However, the parameters Q </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gs</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , Q </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">g (th)</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , V </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">miller</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in </font><sub><font style="vertical-align: inherit;">LH are</font></sub><font style="vertical-align: inherit;"> absent, so what to do? </font><font style="vertical-align: inherit;">Fortunately, TI specialists took care of the users of their tools and by clicking on </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the Info</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> button </font><font style="vertical-align: inherit;">I found such a hint:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/3o/fc/gy/3ofcgyljitiqu9cxastep6ytx0q.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let us turn to the corresponding schedule in LH:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/yx/cg/d0/yxcgd0gndjnbhme7ti3sbiv0ui0.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And also here is such an explanatory diagram:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/qe/25/_z/qe25_z_6qrfuiagbtnmvreyhjfo.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And we get the missing parameters: Q </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gs</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = 24nC; Q </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">g (th)</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = 15 nC; V </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">miller</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = 6.5V. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The final comparative calculation is shown in the screenshot below. It can be seen that the more modern IPA060N06NM5S transistor (and also selected for the given voltage) has several times smaller both static and dynamic losses than IRFI4227.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><div style="text-align:center;"><img src="https://habrastorage.org/webt/va/uz/5d/vauz5dw2xwlhgwcj48nhklol9ha.png"></div></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
However, if we talk about dynamic losses, in my opinion, this calculation should still be considered approximate, estimated. There are several reasons for this, for example, it is not known exactly which stray inductances are present in the circuit, and accordingly, the switching conditions may not be taken into account. The second is the high variability of the loss model. Say, the parameter V </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GS (th) of the</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> IRFI4227 transistor in the datasheet is not exactly normalized, but the range is 3.0-5.0V. Accordingly, for the calculation, I chose a value of 4.0V, for the same value I determined the parameter Q </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">g (th)</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> according to the Typical Gate Charge characteristic </font><font style="vertical-align: inherit;">. If we use the boundary values ​​of 3V and 5V, then the dynamic losses change almost one and a half times.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Accordingly, my recommendation is that you can and should consider the dynamics, especially despite the fact that the Power Stage Designer Tool allows you to do this quite quickly. </font><font style="vertical-align: inherit;">However, the data obtained must be used as estimates and confirmed by tests.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Capacitor Calculator </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There are two tabs in this calculation. </font><font style="vertical-align: inherit;">The first is </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Capacitor Current Sharing</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Here you can calculate the effective currents of capacitors when they are connected in parallel. </font><font style="vertical-align: inherit;">It is useful when several capacitors of different capacities and with different ESRs are installed at the converter output and it is necessary to determine what proportion of current ripples each of them will take upon itself.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/bo/f8/mu/bof8mufs8bqlxhpeef1xyhz6ui8.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The second is </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bulk Capacitor for AC / DC Power Supplies</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">In it, you can calculate the required capacity at the input of the converter. </font><font style="vertical-align: inherit;">It is assumed that there is no active KKM, that is, at the input after the rectifier, a storage capacitor is immediately installed.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/q4/mb/qz/q4mbqzvqoead1chq9j5hhntpmui.png"></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Calculation of damping chains "Snubber Calculator" </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There are also two independent tabs in this calculation. The first is </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“RC-Snubber for Rectifiers”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , which allows you to calculate the values ​​of the elements of the damper RC-circuit of the rectifier. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I will demonstrate in practice how this works. At my fingertips was the board of one of my developments - a power supply for a PLC, IP power 25 W, topology - a return path. As rectifier diodes, MURD620 used two pieces in parallel. So, we completely remove the damper circuit from the output rectifier diodes and see this form of voltage:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/4j/m7/-p/4jm7-py3w_8bccavnzjhz8ftpr8.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As can be seen from the waveform, there is no surge at the maximum reverse voltage, but there are fluctuations after the end of the current output by the secondary winding (the converter operates in intermittent current mode). Let's see if it is possible to suppress these fluctuations using the technique of this utility. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Stretched to measure the oscillation frequency:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/vz/fk/n2/vzfkn2liwnru_q3nyoqjpzfrh5c.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It can be seen that the period is 575 ns, which corresponds to a frequency of 1.74 MHz. </font><font style="vertical-align: inherit;">Now we add a 470pF capacitor parallel to the output diodes. </font><font style="vertical-align: inherit;">Where does this meaning come from? </font><font style="vertical-align: inherit;">The description of the technique says that you need to take a capacitance several times higher than the capacitance of the diode transition. </font><font style="vertical-align: inherit;">In this case, the oscillations occur at almost zero voltage, respectively, according to the dependence of the capacitance on the voltage (from the datasheet to the diode) we get the value 50pF, I have two diodes, the total capacitance is 100pF, we multiply this value by five. </font><font style="vertical-align: inherit;">I took a 470pF capacitor from what was at hand. </font><font style="vertical-align: inherit;">By the way, it is imperative that the class of dielectric of the capacitor be NP0, or, in extreme cases, X7R. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We look at the shape of the voltage:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/2a/4t/uu/2a4tuuvn9chazv4s7igvunfm9wy.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The oscillation period has changed, similarly by stretching the waveform, we measure a period of 875 ns, which corresponds to a frequency of 1.14 MHz.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ys/u_/vl/ysu_vltd8sish-fyg2vib-2lujg.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Enter the obtained values:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/b0/s_/n6/b0s_n659s8if_e8ln40xyfvi6s4.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In accordance with the recommendations of the utility, I installed a damping RC circuit with ratings of 1000pF, 250Ω. </font><font style="vertical-align: inherit;">The following form of voltage was obtained:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/g4/w8/ii/g4w8iif_l6nuja_verxol2nr9ca.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It can be seen that the oscillations were suppressed. </font><font style="vertical-align: inherit;">Of course, you still need to check how much power is dissipated in the resistor, but that's another story. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The second tab is </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“RCD-Snubber for Flyback Converters”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">In it, you can count the clamper RCD circuit for a flyback converter.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/n2/hv/qa/n2hvqae0nrzbha873sswdff0dio.png"></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Calculation of parameters of output voltage stabilization circuits “Output Voltage Scaling”</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
On the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Output Voltage Resistor Divider”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tab </font><b><font style="vertical-align: inherit;">,</font></b><font style="vertical-align: inherit;"> you can calculate the parameters of the resistor divider of the output voltage stabilization circuit. </font><font style="vertical-align: inherit;">Moreover, it is possible to indicate from which row the resistors E24, E48 or E96 should be selected. </font><font style="vertical-align: inherit;">It is also possible to set the permissible deviation of the reference voltage source.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/dg/ca/fa/dgcafad1-balz1qu9b7ysqitvne.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
On the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Dynamic Analog Output Voltage Scaling”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tab, a </font><font style="vertical-align: inherit;">similar circuit is calculated, but for the case of regulating the output voltage by an analog signal.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/px/g2/rf/pxg2rfb8_zhmfu1uafg-nc5xyn4.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And the third tab in this section is </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Dynamic Digital Output Voltage Scaling”</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Allows you to calculate a set of resistors to control the output voltage of discrete signals.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/e5/at/9c/e5at9czxu9jxpcdlyb6fyzqmito.png"></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unit Converter </font></font></h3><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/a6/ew/1x/a6ew1xn5ysskusc2reuusnm0hge.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Well, I think there are no comments here.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Utility Power Stage Designer, like any other tool is designed to solve a certain range of tasks. Do not think that it will make anyone a professional developer of power electronics in no time. Without an understanding of the processes occurring in the circuit, this is hardly possible. Nevertheless, the capabilities of the program can significantly simplify the life of the developer. For example, I use this tool for preliminary calculation and selection of the converter topology. You can spend just a few minutes to calculate the currents and voltages on the elements, estimate losses, evaluate the applicability of the topology. This does not negate the fact that the next step is to make a full, more detailed calculation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I hope you find this short review useful. The utility </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">is available</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> on the Texas Instruments website.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Interesting developments! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Power is cool. </font><font style="vertical-align: inherit;">Deal with it.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en489962/index.html">Data Distribution in Apache Ignite</a></li>
<li><a href="../en489968/index.html">We catch the degradation of AA and AAA batteries at currents of 0.3 from the capacitance</a></li>
<li><a href="../en489970/index.html">Programmer, Pack and John Steinbeck</a></li>
<li><a href="../en489974/index.html">Kha vs HTML5: Compiling JavaScript in C ++</a></li>
<li><a href="../en489984/index.html">AMA about udalenka: ask - we answer</a></li>
<li><a href="../en489988/index.html">“Put your hands up in the air!”: A mono review of the Playme TIO S dashcam</a></li>
<li><a href="../en489990/index.html">How did Service Desk save a service company, or What if your business grows?</a></li>
<li><a href="../en489992/index.html">Correct pod shutdown in Kubernetes cluster</a></li>
<li><a href="../en489994/index.html">Kubernetes tips & tricks: graceful shutdown runtime features in NGINX and PHP-FPM</a></li>
<li><a href="../en489998/index.html">11. Fortinet Getting Started v6.0. Licensing</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>