<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>♣️ 📧 ⬇️ 组装便携式磁力计 👋🏽 🤲🏽 🧙</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="来自Instructables培训材料站点的文章翻译
 
 
 
 磁力计（有时也称为高斯计）用于测量磁场强度[ 在这种情况下为磁感应强度/大约。佩雷夫。 ]。这是测量永磁体和电磁体强度以及确定磁体的非平凡组合的场形所必需的设备。它足够灵敏以检测金属物体的磁化强度。如果探头足够快地工作，它将能够检测...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>组装便携式磁力计</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/487740/"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来自Instructables培训材料站点的文章翻译</font></font></i><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/8d7/460/a59/8d7460a59fdaf80b0762c78817b8b772.jpg"><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">磁力计</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（有时也称为高斯</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">计）</font></a><font style="vertical-align: inherit;">用于测量磁场强度[ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在这种情况下为磁感应强度/大约。佩雷夫。</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]。这是测量永磁体和电磁体强度以及确定磁体的非平凡组合的场形所必需的设备。它足够灵敏以检测金属物体的磁化强度。如果探头足够快地工作，它将能够检测到电动机和变压器的时变磁场。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
移动电话通常具有三轴磁力计，但是针对1的高斯= 0.1 mT [ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">毫</font></a><font style="vertical-align: inherit;">力[</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]，并在感应数mT的磁场中饱和。</font><font style="vertical-align: inherit;">通常不清楚该传感器在电话中的确切位置，并且通常无法将其放置在诸如磁铁切割之类的瓶颈内。</font><font style="vertical-align: inherit;">此外，最好不要让智能手机完全被强力磁铁吸引。</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在本文中，我将介绍如何使用常见组件制造最简单的便携式磁力计：我们需要线性霍尔传感器，Arduino，显示器和按钮。</font><font style="vertical-align: inherit;">该设备的总成本不超过5欧元，它将测量从-100到+100 mT的感应，误差为0.01 mT-比您预期的要好得多。</font><font style="vertical-align: inherit;">为了获得准确的绝对指示器，您需要对其进行校准：我将描述如何在一个长的自制螺线管的帮助下完成该工作。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">步骤1：霍尔传感器</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">霍尔效应</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通常用于测量磁场。</font><font style="vertical-align: inherit;">当电子通过放置在磁场中的导体时，它们被带到侧面，结果在导体中出现了横向电势差。</font><font style="vertical-align: inherit;">通过正确选择半导体的材料和几何形状，您可以获得一个可测量的信号，然后可以将其放大并产生磁场的一个分量的测量值。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我使用SS49E，因为它便宜又实惠。</font><font style="vertical-align: inherit;">从其</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文档中</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值得注意的是</font><font style="vertical-align: inherit;">：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 电源：2.7-6.5 V，与Arduino的5 V完全兼容。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 零信号：2.25-2.75 V，大约介于0和5 V之间的一半。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 灵敏度：1.0-1.75 mV / G，因此需要校准才能获得准确的结果。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 输出电压：1.0-4.0 V（用于从5 V运行）：范围由Arduino ADC覆盖。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 范围：最小±650 Gs，通常+ / 1 1000 Gs。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 响应时间：3μs，也就是说，可以以数十kHz的频率进行测量。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 工作电流：6-10 mA，足以容纳电池。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">温度误差：每摄氏度0.1％。</font><font style="vertical-align: inherit;">看起来有点小，但是0.1％的偏差给出3 mT的误差。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
传感器紧凑，为4x3x3 mm，可测量垂直于其正面的磁场分量。</font><font style="vertical-align: inherit;">对于从后到前的磁场，它给出正值-例如，当它面对磁体的南极时。</font><font style="vertical-align: inherit;">传感器具有+5 V，0 V三个触点，从正面看，输出是从左到右。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">步骤2：所需材料</font></font></h2><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">线性霍尔效应传感器SS49E。</font><font style="vertical-align: inherit;">10片€1。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 带有原型板的Arduino Uno或不带引脚的Arduino Nano的便携式版本。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 具有I2C接口的单色OLED显示屏SSD1306 0.96英寸。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 按钮</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
对于探针：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 圆珠笔或其他耐用管。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 3根细电线比管子稍长。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 12厘米热收缩直径为1.5毫米。</font></font></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
对于便携式版本：</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 大的Tic-Tac盒子（18x46x83）或类似的东西。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 9V电池触点</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 开关。</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">步骤3：第一个版本-使用原型开发板</font></font></h2><br>
<img src="https://habrastorage.org/getpro/habr/post_images/3d1/b9e/060/3d1b9e060c37f24ba82f85358912c3e3.jpg"><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/498/73e/346/49873e346880c76c4f3fcb14e876a904.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
首先，始终构建一个原型来测试所有组件和软件的运行！</font><font style="vertical-align: inherit;">该连接在图片中可见：霍尔传感器连接到Arduino + 5V，GND，A1触点（从左到右）。</font><font style="vertical-align: inherit;">显示屏连接到GND，+ 5V，A5，A4（从左到右）。</font><font style="vertical-align: inherit;">按下按钮时，应关闭地面和A0。</font><font style="vertical-align: inherit;">用Arduino IDE v编写的</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代码</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">1.8.10。</font><font style="vertical-align: inherit;">需要安装Adafruit_SSD1306和Adafruit_GFX库。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果一切操作正确，显示屏应显示DC和AC值。</font></font><br>
 <br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">步骤4：有关代码的一些知识</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果您对代码不感兴趣，则可以跳过此部分。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
该代码的主要特征是连续测量了2,000次磁场。大约需要0.2-0.3秒。通过跟踪测量值的总和和平方，可以计算出均值和标准差，它们以直流和交流给出。通过对大量测量进行平均，理论上我们可以将精度提高√2000≈45。事实证明，使用10位ADC，我们可以获得15位ADC的精度！重要的是：ADC的1步为4 mV，即〜0.3 mT。由于求平均值，我们将误差从0.3 mT降低到0.01 mT。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
作为奖励，我们获得标准偏差，从而确定变化的领域。在测量过程中，以50 Hz频率振荡的磁场经过大约10个周期，因此您可以测量AC值。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
编译后，我得到以下统计信息：Sketch使用了16852字节（54％）的程序存储空间。</font><font style="vertical-align: inherit;">最大为30720字节。</font><font style="vertical-align: inherit;">全局变量使用352字节（占17％）的动态内存，为局部变量保留1696字节。</font><font style="vertical-align: inherit;">最大为2048个字节。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adafruit库占用了大部分空间，但仍有足够的空间来添加功能。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">步骤5：烹饪探针</font></font></h2><br>
<img src="https://habrastorage.org/getpro/habr/post_images/d19/008/e3f/d19008e3f9fcfabf97268bf58a70fecc.jpg"><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/da6/d48/2e7/da6d482e7cfadc535b0492dc4c65afa8.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最好将探头固定在细管的末端：将其简单放置并固定在狭窄的地方。</font><font style="vertical-align: inherit;">任何由非磁性材料制成的管都可以。</font><font style="vertical-align: inherit;">旧的圆珠笔非常适合我。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
准备三根细的柔性电线，其长度比灯管稍长。</font><font style="vertical-align: inherit;">在我的电缆中，电线的颜色（橙色+ 5 V，红色0 V，灰色-信号）没有逻辑，对我来说更容易记住它们。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
要将探针与原型一起使用，请将金属丝焊接到电缆的末端，并通过热收缩将其绝缘。</font><font style="vertical-align: inherit;">之后，可以将它们切断并直接焊接到Arduino。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">步骤6：组装便携式仪器</font></font></h2><br>
<img src="https://habrastorage.org/getpro/habr/post_images/976/994/2b1/9769942b113cbb832959d4425ab17ab0.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
9V电池，OLED屏幕和Arduino Nano可以舒适地安装在大型Tic-Tac盒中。它的优点是透明-屏幕即使在里面也易于阅读。所有固定组件（探头，开关和按钮）都放在盖上，以便可以从包装盒中取出所有东西以更换电池或更新代码。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我从不喜欢9V电池-它们价格高，容量低。</font><font style="vertical-align: inherit;">但是在我的超市里，他们突然开始以1欧元的价格出售其可充电版本的NiMH，我发现如果通过100 Ohm电阻馈入11 V电压并放置过夜，它们很容易充电。</font><font style="vertical-align: inherit;">我为自己订购了便宜的电池连接器，但没有将它们发送给我，因此我拆解了旧的9 V电池以制成连接器。</font><font style="vertical-align: inherit;">加上9V电池的紧凑性，并且Arduino在连接到Vin时可以很好地工作。</font><font style="vertical-align: inherit;">在+5 V时，将有5 V的可调电压，这对于OLED和霍尔传感器是必需的。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
霍尔传感器，屏幕和按钮的连接方式与原型相同。</font><font style="vertical-align: inherit;">在电池和Arduino之间仅添加了电源按钮。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">步骤7：校正</font></font></h2><br>
<img src="https://habrastorage.org/getpro/habr/post_images/4f6/b07/2d6/4f6b072d66483eb1c2c9258c8cf06bf2.jpg"><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/30a/ba4/f6c/30aba4f6c0895616babf2d4798a18ab0.jpg"><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/dc6/0c8/834/dc60c8834df02e6bd2cfb15d2ec3cc7b.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
代码中的校准常数与文档中规定的数字相对应（1.4 mV / G），但是在文档中允许此值的范围（1.0-1.75 mV / G）。为了获得准确的结果，您需要校准探头。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
获得明确磁场的最简单方法是使用螺线管。电磁磁场的磁感应是B =μ </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> * N * I.磁常数（或真空的磁导率）是一种天然的常数：μ </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = 1.2566×10 </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-6</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T / m / A。磁场是均匀的，并且仅取决于绕组密度n和电流I，可以以大约1％的误差进行测量。该公式适用于无限长的螺线管，但如果其长度与直径之比超过10，则可以很好地近似于其中心磁场。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
要组装合适的螺线管，请使用空心圆柱管，其直径应为直径的10倍，并从绝缘体中缠绕电线。我使用了一个外径为23 mm的PVC管，并做了566圈，延伸了20.2 cm，得出n = 28 / cm = 2800 / m，导线长度为42 m，电阻为10欧姆。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
给线圈通电，并用万用表测量电流。</font><font style="vertical-align: inherit;">使用可调电流源或可变电阻器来控制电流。</font><font style="vertical-align: inherit;">测量不同电流值的磁场并比较读数。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在校准之前，我收到6.04 mT / A，尽管从理论上讲应该是3.50 mT / A。</font><font style="vertical-align: inherit;">因此，我将代码第18行中的校准常数乘以0.58。</font><font style="vertical-align: inherit;">完成-磁力计已校准！</font></font></div>
      
    </div><p class="reference-to-source js-reference-to-source">Source: https://habr.com/ru/post/undefined/</p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN487724/index.html">BlazingPizza：Blazor应用程序从头到尾。第2部分。添加组件</a></li>
<li><a href="../zh-CN487728/index.html">@Pythonetc汇编，2020年1月</a></li>
<li><a href="../zh-CN487730/index.html">自然语言处理。2019年业绩和2020年趋势</a></li>
<li><a href="../zh-CN487734/index.html">加速实体框架核心</a></li>
<li><a href="../zh-CN487738/index.html">SCADA中的模式动画</a></li>
<li><a href="../zh-CN487742/index.html">套利交易（Bellman-Ford算法）</a></li>
<li><a href="../zh-CN487744/index.html">FARO推出FOCUS S 70激光3D扫描仪</a></li>
<li><a href="../zh-CN487746/index.html">永恒</a></li>
<li><a href="../zh-CN487748/index.html">$ 3硬件加密密钥-这可能吗？</a></li>
<li><a href="../zh-CN487750/index.html">春季注射剂的一些细微之处</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>