<!doctype html>
<html class="no-js" lang="ar">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ซ ๐ฉโ๐ค ๐๐ฝ ุฎูุงุฑุฒููุฉ ุนุฑุถ ุญุฌู ุณุฑูุนุฉ ูุณููุฉ ๐ง๐พ ๐ง๐ฟ ๐จ๐พโ๐ณ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ููุฏ ููุช ูุคุฎุฑูุง ุจูุชุงุจุฉ ShaderToy ุตุบูุฑ ูููู ุจุนุฑุถ ุญุฌูู ุจุณูุท ุ ุซู ูุฑุฑุช ูุดุฑ ููุดูุฑ ูุดุฑุญ ุนููู. ูููู ูุดุงูุฏุฉ ShaderToy ุงูุชูุงุนููุฉ ููุณูุง ููุง . ุฅุฐุง ููุช ุชูุฑุฃ ูู ูุง...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ุฎูุงุฑุฒููุฉ ุนุฑุถ ุญุฌู ุณุฑูุนุฉ ูุณููุฉ</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/500914/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/8r/iy/wc/8riywca1jhipnzh4e3ycjritfec.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุฏ ููุช ูุคุฎุฑูุง ุจูุชุงุจุฉ ShaderToy ุตุบูุฑ ูููู ุจุนุฑุถ ุญุฌูู ุจุณูุท ุ ุซู ูุฑุฑุช ูุดุฑ ููุดูุฑ ูุดุฑุญ ุนููู. </font><font style="vertical-align: inherit;">ูููู ูุดุงูุฏุฉ ShaderToy ุงูุชูุงุนููุฉ ููุณูุง </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุง</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">ุฅุฐุง ููุช ุชูุฑุฃ ูู ูุงุชู ุฃู ููุจููุชุฑ ูุญููู ุ ุฃูุตู ุจูุดุงูุฏุฉ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฐุง</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุฅุตุฏุงุฑ ุงูุณุฑูุน. </font><font style="vertical-align: inherit;">ููุช ุจุชุถููู ููุชุทูุงุช ุดูุฑุฉ ูู ุงูููุดูุฑ ุณุชุณุงุนุฏู ุนูู ููู ุฃุฏุงุก ShaderToy ุนูู ูุณุชูู ุนุงูู ุ ููู ููุณ ูุฏููู ูู ุงูุชูุงุตูู. </font><font style="vertical-align: inherit;">ุฅุฐุง ููุช ุชุฑูุฏ ุงูุชุนูู ุฃูุซุฑ ุ ุฃูุตู ุจุงูุชุญูู ูู ุฑูุฒ ShaderToy. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุงู ูุฏู ShaderToy ุซูุงุซ ููุงู ุฑุฆูุณูุฉ:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุชูููุฐ ูู ุงูููุช ุงูุญูููู</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุณุงุทุฉ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุตุญุฉ ุจุฏููุฉ (... ุฃู ุดูุก ูู ูุฐุง ุงููุจูู)</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุณุฃุจุฏุฃ ุจูุดูุฏ ุงูุฑูุฒ ุงููุงุฑุบ ูุฐุง. </font><font style="vertical-align: inherit;">ูู ุฃุฎูุถ ูู ุชูุงุตูู ุงูุชูููุฐ ุ ูุฃููุง ููุณุช ูุซูุฑุฉ ููุงูุชูุงู ููุบุงูุฉ ุ ูููู ุณุฃุฎุจุฑู ุจุฅูุฌุงุฒ ูู ุฃูู ูุจุฏุฃ:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุชุจุน ุดุนุงุน ุงูุฃุฌุณุงู ุงููุนุชูุฉ. </font><font style="vertical-align: inherit;">ุฌููุน ุงูุฃุดูุงุก ุจุฏุงุฆูุฉ ุฐุงุช ุชูุงุทุนุงุช ุจุณูุทุฉ ุจุงูุฃุดุนุฉ (ูุณุชูู ูุงุญุฏ ู 3 ูุฌุงูุงุช)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุญุณุงุจ ุงูุฅุถุงุกุฉ ุ ูุชู ุงุณุชุฎุฏุงู ุชุธููู Phong ุ ููู ุซูุงุซุฉ ูุตุงุฏุฑ ุถูุฆูุฉ ูุฑููุฉ ุ ูุชู ุงุณุชุฎุฏุงู ูุนุงูู ุชูููู ูุฎุตุต ููุถูุก. </font><font style="vertical-align: inherit;">ุฃุดุนุฉ ุงูุธูุงู ููุณุช ูุทููุจุฉ ุ ูุฃููุง ูุถูุก ุงูุทุงุฆุฑุฉ ููุท.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฅููู ูุง ูุจุฏู ุนููู:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ba8/4dc/f82/ba84dcf8277762a067454fb786d266be.jpg" alt="ููุทุฉ ุดุงุดุฉ ShaderToy"></div><a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุณููุฏู ุงูุญุฌู ูููุฑ ูููุตู ูุฎุชูุท ุจูุดูุฏ ุบูุฑ ุดูุงู ุ </font><font style="vertical-align: inherit;">ูุฐุง ูุดุงุจู ููุทุฑููุฉ ุงูุชู ุชุนุงูุฌ ุจูุง ุฌููุน ูุญุฑูุงุช ุงูุนุฑุถ ูู ุงูููุช ุงููุนูู ุงูุฃุณุทุญ ุบูุฑ ุงูุดูุงูุฉ ูุงูุดูุงูุฉ ุจุดูู ูุฑุฏู.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุฌุฒุก 1: ูุญุงูุงุฉ ุงูุญุฌู</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูููู ุฃููุงู ุ ูุจู ุฃู ูุชููู ูู ุจุฏุก ุงูุชูุฏูู ุงูุญุฌูู ุ ูุญุชุงุฌ ุฅูู ููุณ ุงูุญุฌู! ููุญุงูุงุฉ ุงูุญุฌู ุ ูุฑุฑุช ุงุณุชุฎุฏุงู ูุธุงุฆู ุงููุณุงูุฉ ุงููููุนุฉ (SDF). ููุงุฐุง ุจุงูุถุจุท ูุธุงุฆู ุญููู ุงููุณุงูุฉุ ูุฃููู ูุณุช ููุงููุง ุ ููููุง ุชุณูุญ ูู ุจุฅูุดุงุก ุฃุดูุงู ุนุถููุฉ ุฌุฏูุง ูู ุจุถุนุฉ ุฃุณุทุฑ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ. ูู ุฃุชุญุฏุซ ุจุงูุชูุตูู ุนู ูุธุงุฆู ุงููุณุงูุงุช ุจุนูุงูุฉ ุ ูุฃู Inigo Kiles ูุฏ ุดุฑุญูุง ุจุงููุนู ุจุดูู ุฑุงุฆุน. ุฅุฐุง ููุช ูุถููููุง ุ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููุงู</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุงุฆูุฉ ูุจูุฑุฉ ุจุงููุธุงุฆู ุงููุฎุชููุฉ ููุณุงูุงุช ุงูุฅุดุงุฑุฉ ูุงููุนุฏูุงุช. ู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุง</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูู ููุงู ุขุฎุฑ ุญูู ูุฐู raymarching SDF. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุจุฏุฃ ุจูุงุญุฏ ุจุณูุท ูุฅุถุงูุฉ ุงููุฌุงู ููุง:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c03/5c4/536/c035c45368ef0cd0e232041b4ca2eec4.jpg" alt="ููุทุฉ ุดุงุดุฉ ShaderToy"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุงูุขู ุณูุถูู ูุฌุงููุง ุขุฎุฑ ููุณุชุฎุฏู ุงูุชุฑุงููุง ุณูุณูุง ูุฏูุฌ ูุธุงุฆู ุงููุณุงูุฉ ูููุฑุงุช. </font><font style="vertical-align: inherit;">ุฃุฎุฐุช ูุฐุง ุงูุฑูุฒ ูุจุงุดุฑุฉ ูู ุตูุญุฉ Inigo ุ ูููู ููุชูุถูุญ ุ ุณุฃููู ุจุฅุฏุฑุงุฌู ููุง:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-comment">// Taken from https://iquilezles.org/www/articles/distfunctions/distfunctions.htm</span>
<span class="hljs-function"><span class="hljs-keyword">float</span> <span class="hljs-title">sdSmoothUnion</span><span class="hljs-params">( <span class="hljs-keyword">float</span> d1, <span class="hljs-keyword">float</span> d2, <span class="hljs-keyword">float</span> k )</span> 
</span>{
    <span class="hljs-keyword">float</span> h = clamp( <span class="hljs-number">0.5</span> + <span class="hljs-number">0.5</span>*(d2-d1)/k, <span class="hljs-number">0.0</span>, <span class="hljs-number">1.0</span> );
    <span class="hljs-keyword">return</span> mix( d2, d1, h ) - k*h*(<span class="hljs-number">1.0</span>-h); <font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุงูุงูุชุฑุงู ุงูุณูุณ ูู ุฃุฏุงุฉ ูููุฉ ููุบุงูุฉ ุ ูุฃูู ููููู ุงูุญุตูู ุนูู ุดูุก ูุซูุฑ ููุงูุชูุงู ูู ุฎูุงู ุงูุฌูุน ุจููู ูุจูู ุจุนุถ ุงูุฃุดูุงู ุงูุจุณูุทุฉ. </font><font style="vertical-align: inherit;">ุฅููู ูุง ุชุจุฏู ุนููู ุงูุนุฏูุฏ ูู ุงููุฌุงูุงุช ุงููุชุฑุงููุฉ ุจุณูุงุณุฉ:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ddc/c3c/4b4/ddcc3c4b4f6d38d509b69cae63088c4a.jpg" alt="ููุทุฉ ุดุงุดุฉ ShaderToy"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฐุง ุ ูุฏููุง ุดูุก ุนูู ุดูู ุฏูุนุฉ ุ ููููุง ุจุญุงุฌุฉ ุฅูู ุดูุก ุฃุดุจู ุจุงูุณุญุงุจุฉ ุฃูุซุฑ ูู ูุทุฑุฉ. ููุฒุฉ ุฑุงุฆุนุฉ ูู SDF ูู ูุฏู ุณูููุฉ ุชุดููู ุงูุณุทุญ ุนู ุทุฑูู ุฅุถุงูุฉ ุงููููู ูู ุงูุถูุถุงุก ุฅูู SDF. ูุฐุง ุฏุนูุง ูุถูู ุจุนุถ ุงูุญุฑูุฉ ุงูุจุฑุงูููุฉ ุงููุณุฑูุฉ (fBM) ููู ุงูุถูุถุงุก ุ ุจุงุณุชุฎุฏุงู ุงูููุถุน ูููุฑุณุฉ ูุธููุฉ ุงูุถูุถุงุก. ูุงู Inigo Kiles ุฃูุถูุง ุจุชุบุทูุฉ ูุฐุง ุงูููุถูุน ูู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุงูุฉ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฑุงุฆุนุฉ </font><font style="vertical-align: inherit;">ุนู ุถูุถุงุก fBM. ุฅููู ูุง ุณุชุจุฏู ุนููู ุงูุตูุฑุฉ ูุน ุถูุถุงุก fBM:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a47/bd6/bbd/a47bd6bbd487a37bc5e07a8f65e6436d.jpg" alt="ููุทุฉ ุดุงุดุฉ ShaderToy"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุบุฑุงูุฉ! </font><font style="vertical-align: inherit;">ุจูุถู ุถุฌูุฌ fBM ุ ุจุฏุฃ ุงููุงุฆู ูุฌุฃุฉ ูุจุฏู ุฃูุซุฑ ุฅุซุงุฑุฉ ููุงูุชูุงู! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุญุชุงุฌ ุงูุขู ุฅูู ุฎูู ุงูููู ุจุฃู ุงูุญุฌู ูุชูุงุนู ูุน ูุณุชูู ุงูุฃุฑุถ. </font><font style="vertical-align: inherit;">ููููุงู ุจุฐูู ุ ุฃุถูุช ูุณุงูุฉ ูู ุงูุทุงุฆุฑุฉ ุงููููุนุฉ ุฃุณูู ูุณุชูู ุงูุฃุฑุถ ููููุงู ูุฃุนุฏุช ุงุณุชุฎุฏุงู ุงูุงูุชุฑุงู ุงูุณูุณ ูุน ูููุฉ ุงูุงูุชุฑุงู ุงูุนุฏูุงููุฉ ููุบุงูุฉ (ุงููุนููุฉ ู). </font><font style="vertical-align: inherit;">ุจุนุฏ ุฐูู ุ ุญุตููุง ุนูู ูุฐู ุงูุตูุฑุฉ:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8d2/7e9/863/8d27e9863fb9637575e23a4cf593f90e.jpg" alt="ููุทุฉ ุดุงุดุฉ ShaderToy"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุณุชููู ุงูููุณุฉ ุงูุฃุฎูุฑุฉ ูู ุงูุชุบููุฑ ูู ูุคุดุฑ xz ูุถุฌูุฌ fBM ุจูุฑูุฑ ุงูููุช ุ ุจุญูุซ ูุจุฏู ุงูุญุฌู ูุซู ุงูุถุจุงุจ ุงูุฏุงุฆุฑ. </font><font style="vertical-align: inherit;">ุฃุซูุงุก ุงูุชููู ุ ุชุจุฏู ุฌูุฏุฉ ุฌุฏูุง!</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/167/2d6/6fa/1672d66fa4b2760e9e57bd6062281cc2.gif" alt="ููุทุฉ ุดุงุดุฉ ShaderToy"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฑุงุฆุน ุ ูุฏููุง ุดูุก ูุซู ุงูุณุญุงุจุฉ! </font><font style="vertical-align: inherit;">ุฑูุฒ ุญุณุงุจ SDF ูุถุบูุท ุฃูุถูุง:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">float</span> <span class="hljs-title">QueryVolumetricDistanceField</span><span class="hljs-params">( in vec3 pos)</span>
</span>{    <font></font>
    vec3 fbmCoord = (pos + <span class="hljs-number">2.0</span> * vec3(iTime, <span class="hljs-number">0.0</span>, iTime)) / <span class="hljs-number">1.5f</span>;
    <span class="hljs-keyword">float</span> sdfValue = sdSphere(pos, vec3(<span class="hljs-number">-8.0</span>, <span class="hljs-number">2.0</span> + <span class="hljs-number">20.0</span> * <span class="hljs-built_in">sin</span>(iTime), <span class="hljs-number">-1</span>), <span class="hljs-number">5.6</span>);<font></font>
    sdfValue = sdSmoothUnion(sdfValue,sdSphere(pos, vec3(<span class="hljs-number">8.0</span>, <span class="hljs-number">8.0</span> + <span class="hljs-number">12.0</span> * <span class="hljs-built_in">cos</span>(iTime), <span class="hljs-number">3</span>), <span class="hljs-number">5.6</span>), <span class="hljs-number">3.0f</span>);<font></font>
    sdfValue = sdSmoothUnion(sdfValue, sdSphere(pos, vec3(<span class="hljs-number">5.0</span> * <span class="hljs-built_in">sin</span>(iTime), <span class="hljs-number">3.0</span>, <span class="hljs-number">0</span>), <span class="hljs-number">8.0</span>), <span class="hljs-number">3.0</span>) + <span class="hljs-number">7.0</span> * fbm_4(fbmCoord / <span class="hljs-number">3.2</span>);<font></font>
    sdfValue = sdSmoothUnion(sdfValue, sdPlane(pos + vec3(<span class="hljs-number">0</span>, <span class="hljs-number">0.4</span>, <span class="hljs-number">0</span>)), <span class="hljs-number">22.0</span>);
    <span class="hljs-keyword">return</span> sdfValue;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฐุง ูู ูุฌุฑุฏ ุฌุนู ูุงุฆู ูุนุชู. ูุญู ุจุญุงุฌุฉ ุฅูู ุถุจุงุจ ุฑุงุฆุน ุฌููู! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููู ูุฌุนููุง ูู ุดูู ุญุฌู ูููุณ ุฌุณู ุบูุฑ ุดูุงูุ ุฏุนููุง ูุชุญุฏุซ ุฃููุงู ุนู ุงูููุฒูุงุก ุงูุชู ูุญุงูููุง. ุงูุญุฌู ูู ุนุฏุฏ ุถุฎู ูู ุงูุฌุณููุงุช ูู ูุณุงุญุฉ ูุนููุฉ ูู ุงููุถุงุก. ูุนูุฏูุง ุฃููู "ุถุฎู" ุ ุฃุนูู "ุถุฎู". ูุฏุฑุฌุฉ ุฃู ููุฐุฌุฉ ูู ูู ูุฐู ุงูุฌุณููุงุช ุงูููู ูููุฉ ูุณุชุญููุฉ ุ ุญุชู ููุนุฑุถ ูู ูุถุน ุนุฏู ุงูุงุชุตุงู. ูู ุงูุฃูุซูุฉ ุงูุฌูุฏุฉ ุนูู ุฐูู ุงููุงุฑ ูุงูุถุจุงุจ ูุงูุบููู. ุจุงููุนูู ุงูุฏููู ูููููุฉ ุ ูู ุดูุก ูู ุญุฌู ุ ูููู ูู ุฃุฌู ุณุฑุนุฉ ุงูุญุณุงุจุงุช ุ ูู ุงูุฃุณูู ุฅุบูุงู ุฃุนูููุง ุนูู ูุฐุง ูุงูุชุธุงูุฑ ุจุฃูู ููุณ ูุฐูู. ูุญู ููุซู ุชุฑุงูู ูุฐู ุงูุฌุณููุงุช ูููู ูุซุงูุฉ ูุชู ุชุฎุฒูููุง ุนุงุฏุฉ ูู ููุน ูู ุงูุดุจูุฉ ุซูุงุซูุฉ ุงูุฃุจุนุงุฏ (ุฃู ุดูุก ุฃูุซุฑ ุชุนููุฏูุง ุ ุนูู ุณุจูู ุงููุซุงู ุ ูู OpenVDB).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุนูุฏูุง ููุฑ ุงูุถูุก ูู ุฎูุงู ุงูุญุฌู ุ ูููู ุฃู ูุญุฏุซ ุฒูุฌ ูู ุงูุธูุงูุฑ ุนูุฏูุง ูุตุทุฏู ุงูุถูุก ุจุฌุณูู. </font><font style="vertical-align: inherit;">ูููู ุฃู ููุชุดุฑ ููุฐูุจ ูู ุงูุงุชุฌุงู ุงูุขุฎุฑ ุ ุฃู ูููู ุงูุชุตุงุต ุฌุฒุก ูู ุงูุถูุก ุจูุงุณุทุฉ ุงูุฌุณููุงุช ููุฐูุจ. </font><font style="vertical-align: inherit;">ููุงูุชุซุงู ููุชุทูุจุงุช ุงูุชูููุฐ ูู ุงูููุช ุงููุนูู ุ ุณูููู ุจุชูููุฐ ูุง ูุณูู ุงูุชุดุชุช ุงููุฑุฏู. </font><font style="vertical-align: inherit;">ููุฐุง ูุนูู ูุง ููู: ุณููุชุฑุถ ุฃู ุงูุถูุก ูุดุชุช ูุฑุฉ ูุงุญุฏุฉ ููุท ุ ุนูุฏูุง ูุตุทุฏู ุงูุถูุก ุจุฌุณูู ููุทูุฑ ูุญู ุงููุงููุฑุง. </font><font style="vertical-align: inherit;">ุฃู ุฃููุง ูู ูููู ูุงุฏุฑูู ุนูู ูุญุงูุงุฉ ุขุซุงุฑ ุงูุชุดุชุช ุงููุชุนุฏุฏ ุ ุนูู ุณุจูู ุงููุซุงู ุ ุงูุถุจุงุจ ุ ุญูุซ ุชุจุฏู ุงูุฃุดูุงุก ุนู ุจุนุฏ ุฃูุซุฑ ุบููุถูุง. </font><font style="vertical-align: inherit;">ูููู ุจุงููุณุจุฉ ููุธุงููุง ูุฐุง ูููู. </font><font style="vertical-align: inherit;">ุฅููู ูุง ูุจุฏู ุนููู ุงูุชุดุชุช ุงููุฑุฏู ุนูุฏ Raymarching:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f2d/19e/00f/f2d19e00fa758b0addc4ca447c0b024e.jpg" alt="ููุทุฉ ุดุงุดุฉ ShaderToy"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุจุฏู ุงูุฑูุฒ ุงูุฒุงุฆู ูุฃูู ูุดุจู:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">for</span> n steps along the camera ray:<font></font>
   Calculate what % <span class="hljs-function">of your ray hit <span class="hljs-title">particles</span> <span class="hljs-params">(i.e. were absorbed)</span> <span class="hljs-keyword">and</span> needs lighting
   <span class="hljs-keyword">for</span> m lights:
      <span class="hljs-keyword">for</span> k steps towards the light:
         Calculate % of light that were absorbe in <span class="hljs-keyword">this</span> step
      Calculate lighting based on how much light is visible
Blend results on top of opaque objects pass based on % of your ray that made it through the volume</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฃู ุฃููุง ูุชุนุงูู ูุน ุญุณุงุจุงุช ูุนูุฏุฉ O (n * m * k). </font><font style="vertical-align: inherit;">ูุฐุง ุณูุชุนูู ุนูู GPU ุงูุนูู ุจุฌุฏ.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุญุณุจ ุงูุงูุชุตุงุต</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฃููุงู ุ ุฏุนูุง ูููู ูุธุฑุฉ ุนูู ุงูุชุตุงุต ุงูุถูุก ูู ุงูุญุฌู ุนูู ุทูู ุดุนุงุน ุงููุงููุฑุง (ุนูู ุณุจูู ุงููุซุงู ุ ุฏุนูุง ูุง ูููุฐ ุงูุฃุดุนุฉ ูู ุงุชุฌุงู ูุตุงุฏุฑ ุงูุถูุก ุจุนุฏ). </font><font style="vertical-align: inherit;">ููููุงู ุจุฐูู ุ ูุญุชุงุฌ ุฅูู ุฅุฌุฑุงุกูู:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุจุฅุฌุฑุงุก ุฃุดุนุฉ ุฏุงุฎู ุงูุญุฌู</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงุญุณุจ ุงูุงูุชุตุงุต / ุงูุฅุถุงุกุฉ ูู ูู ุฎุทูุฉ</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุญุณุงุจ ููุฏุงุฑ ุงูุถูุก ุงูุฐู ูุชู ุงูุชุตุงุตู ูู ูู ููุทุฉ ุ ูุณุชุฎุฏู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงููู Bouguer - Lambert - Beer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ ุงูุฐู ูุตู ุชูููู ุงูุถูุก ุนูุฏ ุงููุฑูุฑ ุนุจุฑ ูุงุฏุฉ. </font><font style="vertical-align: inherit;">ุงูุญุณุงุจุงุช ุจุณูุทุฉ ุจุดูู ูุฏูุด:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">float</span> <span class="hljs-title">BeerLambert</span><span class="hljs-params">(<span class="hljs-keyword">float</span> absorptionCoefficient, <span class="hljs-keyword">float</span> distanceTraveled)</span>
</span>{
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">exp</span>(-absorptionCoefficient * distanceTraveled);<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุนุงูู ุงูุงูุชุตุงุต ูู ูุนููุฉ ูุงุฏูุฉ. </font><font style="vertical-align: inherit;">ุนูู ุณุจูู ุงููุซุงู ุ ูู ุญุฌู ุดูุงู ุ ุนูู ุณุจูู ุงููุซุงู ุ ูู ุงููุงุก ุ ุณุชููู ูุฐู ุงููููุฉ ููุฎูุถุฉ ุ ูุจุงููุณุจุฉ ูุดูุก ุฃูุซุฑ ุณูููุง ุ ุนูู ุณุจูู ุงููุซุงู ุ ุงูุญููุจ ุ ุณูููู ุงููุนุงูู ุฃุนูู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฅุฌุฑุงุก ุฃุดุนุฉ ุญุฌู ุ ูููู ุจุจุณุงุทุฉ ุจุงุชุฎุงุฐ ุฎุทูุงุช ุฐุงุช ุญุฌู ุซุงุจุช ุนูู ุทูู ุงูุญุฒูุฉ ููุญุตู ุนูู ุงูุงูุชุตุงุต ูู ูู ุฎุทูุฉ. </font><font style="vertical-align: inherit;">ูุฏ ูุง ุชููู ุณุจุจ ุงุชุฎุงุฐ ุฎุทูุงุช ุซุงุจุชุฉ ุจุฏูุงู ูู ุดูุก ุฃุณุฑุน ุ ุนูู ุณุจูู ุงููุซุงู ุ ุชุชุจุน ุงููุฌุงู ุ ูููู ุฅุฐุง ููุช ุชุชุฐูุฑ ุฃู ุงููุซุงูุฉ ุฏุงุฎู ุงูุญุฌู ุบูุฑ ูุชุฌุงูุณุฉ ุ ูุตุจุญ ูู ุดูุก ูุงุถุญูุง. </font><font style="vertical-align: inherit;">ููุฌุฏ ุฃุฏูุงู ุฑูุฒ ุงูุชุตุงุต ุงูุฃุดุนุฉ ูุงูุชุฑุงูู. </font><font style="vertical-align: inherit;">ุจุนุถ ุงููุชุบูุฑุงุช ุฎุงุฑุฌ ูุทุงู ููุชุทู ุงูุดูุฑุฉ ุ ูุฐุง ุชุญูู ูู ุงูุชูููุฐ ุงููุงูู ูู ShaderToy.</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">float</span> opaqueVisiblity = <span class="hljs-number">1.0f</span>;
<span class="hljs-keyword">const</span> <span class="hljs-keyword">float</span> marchSize = <span class="hljs-number">0.6f</span>;
<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; MAX_VOLUME_MARCH_STEPS; i++) {<font></font>
	volumeDepth += marchSize;<font></font>
	<span class="hljs-keyword">if</span>(volumeDepth &gt; opaqueDepth) <span class="hljs-keyword">break</span>;<font></font>
	<font></font>
	vec3 position = rayOrigin + volumeDepth*rayDirection;<font></font>
	<span class="hljs-keyword">bool</span> isInVolume = QueryVolumetricDistanceField(position) &lt; <span class="hljs-number">0.0f</span>;
	<span class="hljs-keyword">if</span>(isInVolume) 	{
		<span class="hljs-keyword">float</span> previousOpaqueVisiblity = opaqueVisiblity;<font></font>
		opaqueVisiblity *= BeerLambert(ABSORPTION_COEFFICIENT, marchSize);<font></font>
		<span class="hljs-keyword">float</span> absorptionFromMarch = previousOpaqueVisiblity - opaqueVisiblity;
		<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> lightIndex = <span class="hljs-number">0</span>; lightIndex &lt; NUM_LIGHTS; lightIndex++) {
			<span class="hljs-keyword">float</span> lightDistance = length((GetLight(lightIndex).Position - position));<font></font>
			vec3 lightColor = GetLight(lightIndex).LightColor * GetLightAttenuation(lightDistance);  <font></font>
			volumetricColor += absorptionFromMarch * volumeAlbedo * lightColor;<font></font>
		}<font></font>
		volumetricColor += absorptionFromMarch * volumeAlbedo * GetAmbientLight();<font></font>
	}<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุฐุง ูุง ูุญุตู ุนููู ูุน ูุฐุง:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c87/14e/a86/c8714ea862797c656d9c64105c7befed.jpg" alt="ููุทุฉ ุดุงุดุฉ ShaderToy"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุจุฏู ูุซู ุญููู ุงูุฎูุท! </font><font style="vertical-align: inherit;">ุฑุจูุง ุณูููู ูุฐุง ูุงููุงู ูุจุนุถ ุงูุขุซุงุฑ! </font><font style="vertical-align: inherit;">ููููุง ููุชูุฑ ุฅูู ุงูุชุธููู ุงูุฐุงุชู. </font><font style="vertical-align: inherit;">ูุตู ุงูุถูุก ุฅูู ุฌููุน ุฃุฌุฒุงุก ุงููุฌูุฏ ุจุงูุชุณุงูู. </font><font style="vertical-align: inherit;">ููู ูุฐุง ููุณ ุตุญูุญูุง ูุงุฏููุง ุ ุงุนุชูุงุฏูุง ุนูู ุญุฌู ุงูุญุฌู ุจูู ุงูููุทุฉ ุงูููุฏูุฉ ููุตุฏุฑ ุงูุถูุก ุ ุณูู ูุชููู ูููุฉ ูุฎุชููุฉ ูู ุงูุถูุก ุงููุงุฑุฏ.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุชุธููู ุงูุฐุงุชู</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุฏ ูุนููุง ุฃุตุนุจ ุจุงููุนู. </font><font style="vertical-align: inherit;">ูุญุชุงุฌ ุฅูู ุงูููุงู ุจููุณ ุงูุดูุก ููุง ูุนููุง ูุญุณุงุจ ุงูุงูุชุตุงุต ุนูู ุทูู ุดุนุงุน ุงููุงููุฑุง ุ ูููู ููุท ุนูู ุทูู ุดุนุงุน ุงูุถูุก. </font><font style="vertical-align: inherit;">ุฅู ุฑูุฒ ุญุณุงุจ ูููุฉ ุงูุถูุก ุงูุชู ุชุตู ุฅูู ูู ููุทุฉ ุณูููู ูู ุงูุฃุณุงุณ ุชูุฑุงุฑูุง ููุฑูุฒ ุ ูููู ุชูุฑุงุฑู ุฃุณูู ูู ุงุฎุชุฑุงู HLSL ููุญุตูู ุนูู ุงูุนูุฏูุฉ ุงูุชู ูุญุชุงุฌูุง. </font><font style="vertical-align: inherit;">ุฅุฐู ูุฐุง ูุง ุณูุจุฏู ุนููู:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">float</span> <span class="hljs-title">GetLightVisiblity</span><span class="hljs-params">(in vec3 rayOrigin, in vec3 rayDirection, in <span class="hljs-keyword">float</span> maxT, in <span class="hljs-keyword">int</span> maxSteps, in <span class="hljs-keyword">float</span> marchSize)</span> </span>{
    <span class="hljs-keyword">float</span> t = <span class="hljs-number">0.0f</span>;
    <span class="hljs-keyword">float</span> lightVisiblity = <span class="hljs-number">1.0f</span>;
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; maxSteps; i++) {                       <font></font>
        t += marchSize;<font></font>
        <span class="hljs-keyword">if</span>(t &gt; maxT) <span class="hljs-keyword">break</span>;<font></font>
<font></font>
        vec3 position = rayOrigin + t*rayDirection;<font></font>
        <span class="hljs-keyword">if</span>(QueryVolumetricDistanceField(position) &lt; <span class="hljs-number">0.0</span>) {<font></font>
            lightVisiblity *= BeerLambert(ABSORPTION_COEFFICIENT, marchSize);<font></font>
        }<font></font>
    }<font></font>
    <span class="hljs-keyword">return</span> lightVisiblity;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุชุนุทููุง ุฅุถุงูุฉ ุงูุชุธููู ุงูุฐุงุชู ูุง ููู:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a4f/6e0/96e/a4f6e096e2250a9aa17594b59cc7e25d.jpg" alt="ููุทุฉ ุดุงุดุฉ ShaderToy"></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชูุนูู ุงูุญูุงู</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ุงูููุช ุงูุญุงูู ุ ุฃุญุจ ุจุงููุนู ุญุฌููุง. </font><font style="vertical-align: inherit;">ุนุฑุถุชู ุนูู ุงููุงุฆุฏ ุงูููููุจ ุจูุณู VFX ุงูุชุงุจุน ููุชุญุงูู ุ ุฌููุณ ุดุงุฑุจ. </font><font style="vertical-align: inherit;">ูุงุญุธ ุนูู ุงูููุฑ ุฃู ุญูุงู ุงููุฌูุฏ ุจุฏุช ุญุงุฏุฉ ููุบุงูุฉ. </font><font style="vertical-align: inherit;">ููุฐุง ุตุญูุญ ุชูุงููุง - ูุงููุงุฆูุงุช ูุซู ุงูุบููู ูุชูุงุซุฑุฉ ุจุงุณุชูุฑุงุฑ ูู ุงููุณุงุญุฉ ุงููุญูุทุฉ ุจูุง ุ ูุฐูู ุชุฎุชูุท ุญูุงููุง ูุน ุงููุณุงุญุฉ ุงููุงุฑุบุฉ ุญูู ุงูุญุฌู ุ ููุง ูุฌุจ ุฃู ูุคุฏู ุฅูู ุฅูุดุงุก ุญูุงู ูุงุนูุฉ ุฌุฏูุง. </font><font style="vertical-align: inherit;">ูุฏู ูู ุฌููุณ ููุฑุฉ ุฑุงุฆุนุฉ - ูุชูููู ุงููุซุงูุฉ ุงุนุชูุงุฏูุง ุนูู ูุฏู ูุฑุจูุง ูู ุงูุญุงูุฉ. </font><font style="vertical-align: inherit;">ููุธุฑูุง ูุฃููุง ูุนูู ูุน ูุธุงุฆู ุงููุณุงูุฉ ุจุนูุงูุฉ ุ ููู ุงูุณูู ุฌุฏูุง ุชูููุฐูุง! </font><font style="vertical-align: inherit;">ูุฐุง ุฏุนูุง ูุถูู ุฏุงูุฉ ูููู ุงุณุชุฎุฏุงููุง ูุทูุจ ุงููุซุงูุฉ ูู ุฃู ููุทุฉ ูู ุงููุฌูุฏ:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">float</span> <span class="hljs-title">GetFogDensity</span><span class="hljs-params">(vec3 position)</span>
</span>{   
    <span class="hljs-keyword">float</span> sdfValue = QueryVolumetricDistanceField(position)
    <span class="hljs-keyword">const</span> <span class="hljs-keyword">float</span> maxSDFMultiplier = <span class="hljs-number">1.0</span>;
    <span class="hljs-keyword">bool</span> insideSDF = sdfDistance &lt; <span class="hljs-number">0.0</span>;
    <span class="hljs-keyword">float</span> sdfMultiplier = insideSDF ? min(<span class="hljs-built_in">abs</span>(sdfDistance), maxSDFMultiplier) : <span class="hljs-number">0.0</span>;
    <span class="hljs-keyword">return</span> sdfMultiplier;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุซู ูููู ุจุจุณุงุทุฉ ุจุชูููุตูุง ุฅูู ูููุฉ ุงูุงูุชุตุงุต:</font></font><br>
<br>
<pre><code class="cpp hljs">opaqueVisiblity *= BeerLambert(ABSORPTION_COEFFICIENT * GetFogDensity(position), marchSize);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฅููู ูุง ูุจุฏู ุนููู:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/788/7b3/ab5/7887b3ab53afcfc69c33e12bd473de9d.gif" alt="ููุทุฉ ุดุงุดุฉ ShaderToy"></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฏุงูุฉ ุงููุซุงูุฉ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุงูุขู ุจุนุฏ ุฃู ุฃุตุจุญ ูุฏููุง ูุธููุฉ ุงููุซุงูุฉ ุ ููููู ุจุณูููุฉ ุฅุถุงูุฉ ุงููููู ูู ุงูุถูุถุงุก ุฅูู ุงูุญุฌู ูุฅุนุทุงุฆูุง ุชูุงุตูู ุฅุถุงููุฉ ูุฑูุนุฉ. </font><font style="vertical-align: inherit;">ูู ูุฐู ุงูุญุงูุฉ ุ ุฃููู ููุท ุจุฅุนุงุฏุฉ ุงุณุชุฎุฏุงู ูุธููุฉ fBM ุงูุชู ุงุณุชุฎุฏููุงูุง ูุถุจุท ุดูู ุงูุตูุช.</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">float</span> <span class="hljs-title">GetFogDensity</span><span class="hljs-params">(vec3 position)</span>
</span>{   
    <span class="hljs-keyword">float</span> sdfValue = QueryVolumetricDistanceField(position)
    <span class="hljs-keyword">const</span> <span class="hljs-keyword">float</span> maxSDFMultiplier = <span class="hljs-number">1.0</span>;
    <span class="hljs-keyword">bool</span> insideSDF = sdfDistance &lt; <span class="hljs-number">0.0</span>;
    <span class="hljs-keyword">float</span> sdfMultiplier = insideSDF ? min(<span class="hljs-built_in">abs</span>(sdfDistance), maxSDFMultiplier) : <span class="hljs-number">0.0</span>;
   <span class="hljs-keyword">return</span> sdfMultiplier * <span class="hljs-built_in">abs</span>(fbm_4(position / <span class="hljs-number">6.0</span>) + <span class="hljs-number">0.5</span>);<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูููุฐุง ุญุตููุง ุนูู ูุง ููู:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1b9/c0a/1e6/1b9c0a1e68d020206e9567b9044317d9.jpg" alt="ููุทุฉ ุดุงุดุฉ ShaderToy"></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุชุนุชูู ุงูุฐุงุชู ุบูุฑ ุงูุดูุงู</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุจุฏู ุงูุญุฌู ุจุงููุนู ุฌููููุง ุฌุฏูุง! </font><font style="vertical-align: inherit;">ููู ุงููููู ูู ุงูุถูุก ูุง ูุฒุงู ูุชุณุฑุจ ูู ุฎูุงููุง. </font><font style="vertical-align: inherit;">ููุง ูุฑู ููู ูุชุณุฑุจ ุงูููู ุงูุฃุฎุถุฑ ุญูุซ ูุฌุจ ุฃู ููุชุตู ุงูุญุฌู ุจุงูุชุฃููุฏ:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/051/e16/dbf/051e16dbfa5d9f307c635a6293dcc69f.jpg" alt="ููุทุฉ ุดุงุดุฉ ShaderToy"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุญุฏุซ ูุฐุง ูุฃูู ูุชู ุชูุฏูู ูุงุฆูุงุช ูุนุชูุฉ ูุจู ุชูุฏูู ูุญุฏุฉ ุงูุชุฎุฒูู ุ ูุฐูู ูุง ุชุฃุฎุฐ ูู ุงูุงุนุชุจุงุฑ ุงูุชุธููู ุงููุงุชุฌ ุนู ูุญุฏุฉ ุงูุชุฎุฒูู. </font><font style="vertical-align: inherit;">ูู ุงูุณูู ุฌุฏูุง ุฅุตูุงุญ ุฐูู - ูุฏููุง ูุธููุฉ GetLightVisiblity ุงูุชู ูููู ุงุณุชุฎุฏุงููุง ูุญุณุงุจ ุงูุชุธููู ุ ูุฐูู ูุญุชุงุฌ ููุท ุฅูู ุชุณููุชูุง ูุฅุถุงุกุฉ ูุงุฆู ูุนุชู. </font><font style="vertical-align: inherit;">ูุญุตู ุนูู ูุง ููู:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cda/1c4/99d/cda1c499d05729265b374378e3da9481.gif" alt="ููุทุฉ ุดุงุดุฉ ShaderToy"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุจุงูุฅุถุงูุฉ ุฅูู ุฅูุดุงุก ุธูุงู ุฌูููุฉ ูุชุนุฏุฏุฉ ุงูุฃููุงู ุ ููุฐุง ูุณุงุนุฏ ุนูู ุชุญุณูู ุงูุธูุงู ูุฒูุงุฏุฉ ุญุฌู ุงููุดูุฏ. </font><font style="vertical-align: inherit;">ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุจูุถู ุงูุญูุงู ุงููุงุนูุฉ ููุญุฌู ุ ูุญุตู ุนูู ุธูุงู ูุงุนูุฉ ุ ุนูู ุงูุฑุบู ูู ุญูููุฉ ุฃููุง ุ ุจุตุฑุงูุฉ ุ ูุนูู ูุน ูุตุงุฏุฑ ุงูุฅุถุงุกุฉ ุงูุซุงุจุชุฉ. </font><font style="vertical-align: inherit;">ูุฐุง ูู ุดุฆ! </font><font style="vertical-align: inherit;">ูููู ูุนู ุงููุฒูุฏ ููุง ุ ูููู ูุจุฏู ูู ุฃููู ุญููุช ุงูุฌูุฏุฉ ุงูุจุตุฑูุฉ ุงูุชู ุฃุญุชุงุฌูุง ุ ูุน ุงูุญูุงุธ ุนูู ุงูุจุณุงุทุฉ ุงููุณุจูุฉ ูููุซุงู.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุชุญุณููุงุช</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ุงูููุงูุฉ ุ ุณุฃุฐูุฑ ุจุงุฎุชุตุงุฑ ุจุนุถ ุงูุชุญุณููุงุช ุงูููููุฉ:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุจู ุฅุฌุฑุงุก ุฃุดุนุฉ ูู ุงุชุฌุงู ูุตุฏุฑ ุงูุถูุก ุ ูู ุงูุถุฑูุฑู ุงูุชุญูู ูู ูููุฉ ุงููุฑุงุถ ุงูุถูุก ูุง ุฅุฐุง ูุงูุช ูููุฉ ูุจูุฑุฉ ูู ูุฐุง ุงูุถูุก ุชุตู ุจุงููุนู ุฅูู ุงูููุทุฉ ุงููุนููุฉ. </font><font style="vertical-align: inherit;">ูู ุชูููุฐู ุ ุฃููู ูุธุฑุฉ ุนูู ุณุทูุน ุงูุถูุก ูุถุฑูุจูุง ูู ุจูุงุถ ุงููุงุฏุฉ ุ ูุฃุชุฃูุฏ ูู ุฃู ุงููููุฉ ูุจูุฑุฉ ุจูุง ูููู ููููุงู ุจูุณุญ ุงูุดุนุงุน.</font></font></li>
<li>      ,     ,     raymarching   </li>
<li>        raymarching .      ,        .           ,       raymarching ,     .</li>
</ol><br>
<h1></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฐุง ูู ุดุฆ! </font><font style="vertical-align: inherit;">ุฃูุง ุดุฎุตูุงู ููุฌุฆุช ุฃูู ููููู ุฅูุดุงุก ุดูุก ุตุญูุญ ุฌุณุฏููุง ุชูุงููุง ุจูุซู ูุฐู ุงููููุฉ ุงูุตุบูุฑุฉ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ (ุญูุงูู 500 ุณุทุฑ). </font><font style="vertical-align: inherit;">ุดูุฑุง ูููุฑุงุกุฉ ุ ุขูู ุฃู ุชููู ูุซูุฑุฉ ููุงูุชูุงู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูููุงุญุธุฉ ุฃุฎุฑู: ุฅููู ุชุบููุฑ ููุชุน - ุฃุถูุช ุงูุจุนุงุซ ุงูุถูุก ุงุณุชูุงุฏูุง ุฅูู ูุณุงูุฉ SDF ูุฅูุดุงุก ุชุฃุซูุฑ ุงููุฌุงุฑ. </font><font style="vertical-align: inherit;">ุจุนุฏ ูู ุดูุก ุ ุงูุงููุฌุงุฑุงุช ููุณุช ูุซูุฑุฉ ุฃุจุฏุง.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c64/2f1/ab0/c642f1ab0fbc3df3b35cfafa97f9c694.gif" alt="ููุทุฉ ุดุงุดุฉ ShaderToy"></div></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar500896/index.html">ูุงุฐุง ุชุฑู ูู ุงูุญุฌุฑ ุงูุตุญูุ ูุฌููุนุฉ ูุฎุชุงุฑุฉ ูู ุงูููุงุฏ ูู Technostream (ุงูุฌุฒุก 3)</a></li>
<li><a href="../ar500898/index.html">ุฎุทุฉ ุงูููุฑ ุณุจูุณ ุงูุณ ุงููุฌูููุฉุ ุชูููู ุงูุจุฑูุงูุฌ ูู ูุจู U / S_Hirangy (reddit)</a></li>
<li><a href="../ar500902/index.html">ููุฎุต ุงูููุงุฏ ุงููุซูุฑุฉ ููุงูุชูุงู ููุทูุฑ ุงูุฌูุงู ุฑูู 343 (27 ุฃุจุฑูู - 3 ูุงูู)</a></li>
<li><a href="../ar500904/index.html">ูู ูู ูู ูุธุงู ุงูุฏูุน ุงูุจูุฆู 2020. ุงูุฌุฒุก 1</a></li>
<li><a href="../ar500910/index.html">ุงูุตูู ูุธุงู ุงูุงุชุตุงูุงุช ุงููุถุงุฆูุฉ ุจุนูุฏุฉ ุงููุฏู</a></li>
<li><a href="../ar500918/index.html">ูุง ููุชุจู ุฅููู ุนูุฏ ุญุณุงุจ ุงูุฏูุงูุฉ ุงูุฅุญุตุงุฆูุฉ ูุงุฎุชุจุงุฑ ุฃ / ุจ</a></li>
<li><a href="../ar500920/index.html">ุงูุขุซุงุฑ: ZX Spectrum ู igrozhur ุงููุฏููุฉ</a></li>
<li><a href="../ar500922/index.html">ุฐุฆุจ ูู ููุงุจุณ ุงูุฃุบูุงู: ููููุฉ ุงูุฅูุณุงู ุจูุฑุตูุฉ ูุชููุฑ ุจุนูุงูุฉ ููุณุชุฎุฏู ุนุงุฏู</a></li>
<li><a href="../ar500924/index.html">ุงุฌุชูุงุน ุนุจุฑ ุงูุฅูุชุฑูุช JUG.ru "Spring-builder" ูุน Evgeny Borisov</a></li>
<li><a href="../ar500928/index.html">ูุณุงุจูุฉ ุงูุงุฎุชุฑุงู ุงูุฑููู 2020 ุชุทูู ูุงุฑุงุซูู ุชูููููุฌูุง ุงููุนูููุงุช ุนุจุฑ ุงูุฅูุชุฑูุช</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>