<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👒 🛳️ 💱 使用Rutoken技术在系统中注册和授权用户的经验（第1部分） 🎡 ❗️ ➡️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="下午好！我想分享我在这个主题上的经验。
 
 Rutoken是身份验证，信息保护和电子签名领域的硬件和软件解决方案。实际上，这种闪存驱动器可以存储用户用于进入系统的身份验证数据。
 
 在此示例中，使用Rutoken EDS 2.0。
 
 要使用此Rootoken，您需要在Windows上安装驱动...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>使用Rutoken技术在系统中注册和授权用户的经验（第1部分）</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/506450/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下午好！我想分享我在这个主题上的经验。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Rutoken是身份验证，信息保护和电子签名领域的硬件和软件解决方案。实际上，这种闪存驱动器可以存储用户用于进入系统的身份验证数据。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在此示例中，使用Rutoken EDS 2.0。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
要使用此Rootoken，您需要</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在Windows上安装驱动程序</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
对于Windows，仅安装一个驱动程序就可以安装OS才能查看Rutoken所需的一切，并且可以使用它。</font></font><br>
<br>
<a name="habracut"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rutoken可以通过多种方式进行交互。</font><font style="vertical-align: inherit;">您可以从应用程序的服务器端访问它，也可以立即从客户端访问它。</font><font style="vertical-align: inherit;">在此示例中，我们将考虑从应用程序的客户端部分与Rutoken进行交互。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
应用程序的客户端部分通过rutoken插件与rutoken进行交互。</font><font style="vertical-align: inherit;">这是在每个浏览器上单独安装的程序。</font><font style="vertical-align: inherit;">对于Windows，您只需要下载并安装</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">位于此链接</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的插件</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
就是这样，现在我们可以从应用程序的客户端与Rutoken进行交互。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在此示例中，考虑了使用chällange响应方案在系统中实现用户授权算法的想法。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这个想法的实质如下：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">客户端向服务器发送授权请求。</font></font></li>
<li>         .</li>
<li>     32 .</li>
<li>     .</li>
<li>      .</li>
<li>  ,     .</li>
<li>   32      .</li>
<li>      ,       .</li>
<li>  ,    .</li>
</ol> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在上述算法中，有诸如证书之类的东西。在此示例的框架中，您需要了解一些密码学理论。在哈布雷（Habré）上有</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一篇关于这个问题的优秀文章</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在此示例中，我们将使用非对称加密算法。要实现非对称算法，您必须具有密钥对和证书。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
密钥对由两部分组成：私钥和公钥。顾名思义，私钥必须是秘密的。我们用它来解密信息。您可以将公开密钥提供给任何人。此密钥用于加密数据。因此，任何用户都可以使用公钥加密数据，但是只有私钥的所有者才能解密此信息。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
证书是一种电子文档，其中包含有关拥有证书的用户的信息以及公共密钥。</font><font style="vertical-align: inherit;">拥有证书，用户可以签署任何数据并将其发送到服务器，服务器可以验证该签名并解密数据。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
为了使用证书正确签署消息，您需要正确创建它。</font><font style="vertical-align: inherit;">为此，首先在Rutoken上创建一个密钥对，然后必须将证书附加到该密钥对的公共密钥上。</font><font style="vertical-align: inherit;">证书必须完全具有位于Rutoken上的公钥，这一点很重要。</font><font style="vertical-align: inherit;">如果仅在应用程序的客户端立即创建密钥对和证书，那么服务器又如何解密该加密消息？</font><font style="vertical-align: inherit;">毕竟，他对密钥对或证书一无所知。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果您深入研究此主题，可以在Internet上找到有趣的信息。我们已知地信任一些认证中心。这些证书颁发机构可以向用户颁发证书；他们在服务器上安装这些证书。此后，当客户端访问此服务器时，他会看到此证书并看到它是由证书颁发机构颁发的，这意味着该服务器可以被信任。关于如何正确设置所有内容的更多信息，Internet也充满了信息。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://howtodoinjava.com/spring-boot/spring-boot-ssl-"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，您可以从this开始</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果我们返回到任务，那么解决方案似乎很明显。</font><font style="vertical-align: inherit;">您需要以某种方式建立您的认证中心。</font><font style="vertical-align: inherit;">但是在此之前，您需要了解，并且认证中心应根据该证书向用户颁发证书，因为他对用户一无所知。</font><font style="vertical-align: inherit;">（例如，他的名字，姓氏等）。这就是所谓的证书申请。</font><font style="vertical-align: inherit;">有关此标准的更多信息，请参见Wikipedia </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ru.wikipedia.org/wiki/PKCS。</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
我们将使用1.7版</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">-PKCS</font></a><font style="vertical-align: inherit;">＃10。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
让我们描述在Rutoken上生成证书的算法（主要来源- </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文档</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在客户端上，创建密钥对并将其保存到Rutoken。</font><font style="vertical-align: inherit;">（保存自动发生）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们在客户端上创建证书请求。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从客户端，我们将此请求发送到服务器。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在服务器上收到证书请求后，我们会与我们的证书颁发机构一起写出证书。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们将此证书发送给客户。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在客户端，我们保存Rutoken的证书。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">证书必须附加到第一步中创建的密钥对上。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在变得很清楚，服务器可以解密客户端的签名，因为他本人向他颁发了证书。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在下一部分中，我们将详细研究如何基于完整的openSSL开源密码库来设置您的证书颁发机构。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN506414/index.html">用于CortexM的上下文切换和简单的挤出调度程序</a></li>
<li><a href="../zh-CN506432/index.html">如何从头开始制作自定义Web或移动项目：流程，规则和一点点鲜血</a></li>
<li><a href="../zh-CN506438/index.html">关于没有选择/选择/选择的单词“选择” /“选择”的翻译</a></li>
<li><a href="../zh-CN506442/index.html">ick</a></li>
<li><a href="../zh-CN506444/index.html">未来的挑战</a></li>
<li><a href="../zh-CN506452/index.html">如何使用ESNI保护您的公共站点</a></li>
<li><a href="../zh-CN506454/index.html">一名bim经理可获得10万的收益以及如何成为一名</a></li>
<li><a href="../zh-CN506456/index.html">我们使用SDR接收并分析付款终端的无线电信号</a></li>
<li><a href="../zh-CN506460/index.html">男性与女性的大脑差异：女性编码更好？</a></li>
<li><a href="../zh-CN506462/index.html">图钉池和tachers-我如何测试发现的一切</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>