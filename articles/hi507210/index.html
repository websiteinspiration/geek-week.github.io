<!doctype html>
<html class="no-js" lang="hi">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯР╝ ЁЯПб ЁЯРР рдмрдбрд╝реА рдорд╛рддреНрд░рд╛ рдореЗрдВ рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддреЗ рд╕рдордп рдЖрдзреБрдирд┐рдХ рдЬрд╛рд╡рд╛ рдХрд╛ рдкреНрд░рджрд░реНрд╢рди, рднрд╛рдЧ 2 ЁЯФН тЖФя╕П ЁЯЪК</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="FYI рдХрд░реЗрдВ: рдкрд╣рд▓рд╛ рднрд╛рдЧ ред
 
 рдмреЗрдВрдЪрдорд╛рд░реНрдХ рдмреИрдЪ рдХрдиреНрд╡реЗрдпрд░
 рдмреИрдЪ рдкрд╛рдЗрдкрд▓рд╛рдЗрди рд╕рдВрдЧреНрд░рд╣реАрдд рдбреЗрдЯрд╛ рдХреА рдЕрдВрддрд┐рдо рдорд╛рддреНрд░рд╛ рдХреЛ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░рддрд╛ рд╣реИред рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдкрд░рд┐рдгрд╛рдореЛрдВ рдХреА рдХреЛрдИ рдзрд╛рд░рд╛ рдирд╣реАрдВ рд╣реИ,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>рдмрдбрд╝реА рдорд╛рддреНрд░рд╛ рдореЗрдВ рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддреЗ рд╕рдордп рдЖрдзреБрдирд┐рдХ рдЬрд╛рд╡рд╛ рдХрд╛ рдкреНрд░рджрд░реНрд╢рди, рднрд╛рдЧ 2</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/507210/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/d1/gm/bn/d1gmbnhwk4pkhy1bck7ykdmu-uq.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
FYI рдХрд░реЗрдВ: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкрд╣рд▓рд╛ рднрд╛рдЧ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдмреЗрдВрдЪрдорд╛рд░реНрдХ рдмреИрдЪ рдХрдиреНрд╡реЗрдпрд░</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдмреИрдЪ рдкрд╛рдЗрдкрд▓рд╛рдЗрди рд╕рдВрдЧреНрд░рд╣реАрдд рдбреЗрдЯрд╛ рдХреА рдЕрдВрддрд┐рдо рдорд╛рддреНрд░рд╛ рдХреЛ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░рддрд╛ рд╣реИред рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдкрд░рд┐рдгрд╛рдореЛрдВ рдХреА рдХреЛрдИ рдзрд╛рд░рд╛ рдирд╣реАрдВ рд╣реИ, рдХреБрд▓ рдлрд╝рдВрдХреНрд╢рди рдХреЗ рдЖрдЙрдЯрдкреБрдЯ рдХреЛ рдкреВрд░реЗ рдбреЗрдЯрд╛ рд╕реЗрдЯ рдкрд░ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред рдпрд╣ рдкреНрд░рджрд░реНрд╢рди рдЖрд╡рд╢реНрдпрдХрддрд╛рдУрдВ рдХреЛ рдмрджрд▓рддрд╛ рд╣реИ: рд╡рд┐рд▓рдВрдмрддрд╛ - рд╕реНрдЯреНрд░реАрдорд┐рдВрдЧ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдХрд╛ рдПрдХ рдкреНрд░рдореБрдЦ рдХрд╛рд░рдХ - рдпрд╣рд╛рдВ рдЕрдиреБрдкрд╕реНрдерд┐рдд рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рд╣рдо рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдордп рдореЗрдВ рдбреЗрдЯрд╛ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░рддреЗ рд╣реИрдВред рдХреЗрд╡рд▓ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдореАрдЯреНрд░рд┐рдХ рдХрдиреНрд╡реЗрдпрд░ рдХрд╛ рдХреБрд▓ рд░рди рд╕рдордп рд╣реИред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕рд▓рд┐рдП, рд╣рдордиреЗ рдкреИрд░реЗрд▓рд▓ рдХреЛ рдЪреБрдирд╛ред </font><font style="vertical-align: inherit;">рдкрд░реАрдХреНрд╖рдг рдХреЗ рдкрд╣рд▓реЗ рдЪрд░рдг рдореЗрдВ, рдПрдХ рдиреЛрдб рдкрд░ рдХрд╛рдо рдХрд░рддреЗ рд╕рдордп, рдЗрд╕ рдХрд▓реЗрдХреНрдЯрд░ рдиреЗ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рд╕рдмрд╕реЗ рдЕрдЪреНрдЫрд╛ рдереНрд░реВрдкреБрдЯ рджрд┐рдЦрд╛рдпрд╛ (рд▓реЗрдХрд┐рди рдХреЗрд╡рд▓ рдЯреНрдпреВрдирд┐рдВрдЧ рдХреЗ рдмрд╛рдж)ред </font><font style="vertical-align: inherit;">рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпрд╣ рд▓рдВрдмреЗ рд╕рдордп рдХреЗ рдард╣рд░рд╛рд╡ рдХреА рд▓рд╛рдЧрдд рдкрд░ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред </font><font style="vertical-align: inherit;">рдпрджрд┐ рдХреНрд▓рд╕реНрдЯрд░ рдиреЛрдбреНрд╕ рдореЗрдВ рд╕реЗ рдПрдХ рдХрдЪрд░рд╛ рд╕рдВрдЧреНрд░рд╣рдг рдкрд░ рд░реБрдХ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдпрд╣ рдкреВрд░реА рдкрд╛рдЗрдкрд▓рд╛рдЗрди рдХреЛ рд░реЛрдХ рджреЗрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдФрд░ рдЪреВрдВрдХрд┐ рдиреЛрдбреНрд╕ рдЕрд▓рдЧ-рдЕрд▓рдЧ рд╕рдордп рдкрд░ рдХрдЪрд░рд╛ рдПрдХрддреНрд░ рдХрд░рддреЗ рд╣реИрдВ, рдХреБрд▓ рдирд┐рд░реНрдорд╛рдг рд╕рдордп рдХреНрд▓рд╕реНрдЯрд░ рдХреЗ рд▓рд┐рдП рдкреНрд░рддреНрдпреЗрдХ рдиреЛрдб рдХреЗ рдЕрддрд┐рд░рд┐рдХреНрдд рдХреЗ рд╕рд╛рде рдмрдврд╝рддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рд╣рдордиреЗ рдПрдХ рдиреЛрдб рдкрд░ рдФрд░ рддреАрди рдиреЛрдбреНрд╕ рдХреЗ рдХреНрд▓рд╕реНрдЯрд░ рдкрд░ рдкрд░реАрдХреНрд╖рдг рдХреЗ рдкрд░рд┐рдгрд╛рдореЛрдВ рдХреА рддреБрд▓рдирд╛ рдХрд░рдХреЗ рдЗрд╕ рдЖрд╢рдп рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд┐рдпрд╛ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдЗрд╕ рд╕реНрддрд░ рдкрд░, рд╣рдордиреЗ рдкреНрд░рдпреЛрдЧрд╛рддреНрдордХ рдХрдо рд╡рд┐рд▓рдВрдмрддрд╛ рдХрд▓реЗрдХреНрдЯрд░реЛрдВ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдирд╣реАрдВ рдХрд┐рдпрд╛ред </font><font style="vertical-align: inherit;">рдЙрдирдХреЗ рдмрд╣реБрдд рдХрдо рдард╣рд░рд╛рд╡ рдкрд░реАрдХреНрд╖рдг рдХреЗ рдкрд░рд┐рдгрд╛рдореЛрдВ рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВ, рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдпрд╣ рдмреИрдВрдбрд╡рд┐рдбреНрде рдХреЗ рдХрд╛рд░рдг рд╣рд╛рд╕рд┐рд▓ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдХрд▓ рдиреЛрдб рдкрд░ рдкрд░реАрдХреНрд╖рдг: рдХрдиреНрд╡реЗрдпрд░</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдПрдХрд▓ рдиреЛрдб рдкрд░ рдмреИрдЪ рдмреЗрдВрдЪрдорд╛рд░реНрдХ рдХреЗ рд▓рд┐рдП, рд╣рдордиреЗ рдПрдХ рд╕рд╛рдзрд╛рд░рдг рдкрд╛рдЗрдкрд▓рд╛рдЗрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ред </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрд╣рд╛рдВ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдкреВрд░рд╛ рдХреЛрдб </font><font style="vertical-align: inherit;">ред</font></font><br>
<br>
<pre><code class="java hljs">p.readFrom(longSource)<font></font>
 .rebalance() <span class="hljs-comment">// Introduced in Jet 4.2</span><font></font>
 .groupingKey(n -&gt; n % NUM_KEYS)<font></font>
 .aggregate(summingLong(n -&gt; n))<font></font>
 .filter(e -&gt; (e.getKey() &amp; <span class="hljs-number">0xFF_FFFFL</span>) == <span class="hljs-number">0</span>)<font></font>
 .writeTo(Sinks.logger())<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╕реНрд░реЛрдд рдПрдХ рд╕реНрдЯрдм рд╣реИ рдЬреЛ рдкреНрд░рдХрд╛рд░ рд╕рдВрдЦреНрдпрд╛рдУрдВ рдХрд╛ рдПрдХ рдХреНрд░рдо рдЙрддреНрдкрдиреНрди рдХрд░рддрд╛ рд╣реИ </font></font><code>long</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред рдХреБрдВрдЬреА рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдЗрд╕ рддрд░рд╣ рд╕реЗ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдХрд┐ рдпрд╣ </font></font><code>groupingKey</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд░рдореБрдЦ рд╕реНрдерд╛рди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЪрдХреНрд░рд┐рдд рдХрд░рддрд╛ рд╣реИ: 0, 1, 2, ... </font></font><code>NUM_KEYS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, 0, 1, 2, ... рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдкрд╣рд▓реЗ рдЪрдХреНрд░ рдХреЗ рджреМрд░рд╛рди рдкрд╛рдЗрдкрд▓рд╛рдЗрди рд╕рднреА рдХреБрдВрдЬрд┐рдпреЛрдВ рдХреЛ рджреЗрдЦрддреА рд╣реИ рдФрд░ рдкрд░рд┐рдгрд╛рдореЛрдВ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рдбреЗрдЯрд╛ рд╕рдВрд░рдЪрдирд╛ рдмрдирд╛рддреА рд╣реИред рдПрдХрддреНрд░реАрдХрд░рдгред рдФрд░ рдЕрдЧрд▓реЗ рдЪрдХреНрд░реЛрдВ рдХреЗ рджреМрд░рд╛рди, рд╕рд┐рд╕реНрдЯрдо рдХреЗрд╡рд▓ рдЙрдкрд▓рдмреНрдз рдбреЗрдЯрд╛ рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░рддрд╛ рд╣реИред рдпрд╣ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдкреАрдврд╝рд┐рдпреЛрдВ рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрддреЗ рд╣реБрдП рдХрдЪрд░рд╛ рд╕рдВрдЧреНрд░рд╣ рдХреА рдкрд░рд┐рдХрд▓реНрдкрдирд╛ рдХреЗ рдЕрдиреБрд░реВрдк рд╣реИ: рдСрдмреНрдЬреЗрдХреНрдЯ рдпрд╛ рддреЛ рд╕рднреА рдЧрдгрдирд╛рдУрдВ рд╕реЗ рдЧреБрдЬрд░рддреЗ рд╣реИрдВ, рдпрд╛ рд▓рдВрдмреЗ рд╕рдордп рддрдХ рдореМрдЬреВрдж рдирд╣реАрдВ рд╣реЛрддреЗ рд╣реИрдВ рдФрд░ рдЙрдирдХреЗ рдирд┐рд░реНрдорд╛рдг рдХреЗ рддреБрд░рдВрдд рдмрд╛рдж рдХрдЪрд░рд╛ рдмрди рдЬрд╛рддреЗ рд╣реИрдВред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдорд╛рд░реЗ рд╕реНрд░реЛрдд рдиреЗ 400 рдорд┐рд▓рд┐рдпрди рддрддреНрд╡ рдЙрддреНрдкрдиреНрди рдХрд┐рдП, рдФрд░ рд╣рдордиреЗ 100 рдорд┐рд▓рд┐рдпрди рд╡реНрдпрдХреНрддрд┐рдЧрдд рдХреБрдВрдЬрд┐рдпрд╛рдБ рдмрдирд╛рдИрдВ, рдпрд╛рдиреА рдЪрд╛рд░ рдмрд╛рд░ рд╕рднреА рдХреБрдВрдЬрд┐рдпреЛрдВ рд╕реЗ рдЧреБрдЬрд╝рд░реАрдВред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдСрдкрд░реЗрдЯрд░</font></font><code>.rebalance()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЬреЗрдЯ рдХреЗ рдбрд┐рдлрд╝реЙрд▓реНрдЯ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рджреЛ-рдЪрд░рдг рдПрдХрддреНрд░реАрдХрд░рдг</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХреЛ рдПрдХ- </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;">рдЕрдВрд╢ рдПрдХрддреНрд░реАрдХрд░рдг рдХреЗ</font></a><font style="vertical-align: inherit;"> рд╕рд╛рде </font><font style="vertical-align: inherit;">рдмрджрд▓ рджреЗрддрд╛ рд╣реИ </font><font style="vertical-align: inherit;">ред рдЗрд╕рд╕реЗ рд╣рдорд╛рд░реЗ рдмреЗрдВрдЪрдорд╛рд░реНрдХ рдореЗрдВ рдЗрдВрдЬрди рдХрд╛ рд╡реНрдпрд╡рд╣рд╛рд░ рдЕрдзрд┐рдХ рдЕрдиреБрдорд╛рдирд┐рдд рдерд╛ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдордиреЗ рдПрдХ рд╡рд┐рдХрд▓реНрдк рдХрд╛ рднреА рдкрд░реАрдХреНрд╖рдг рдХрд┐рдпрд╛, рдЬрд┐рд╕рдореЗрдВ рдПрдХрддреНрд░реАрдХрд░рдг рдСрдкрд░реЗрд╢рди рд░рд╛рдЬреНрдп рдХреЗ рд░реВрдк рдореЗрдВ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЗ рдПрдХ рдЙрджрд╛рд╣рд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ </font></font><code>Long</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдФрд░ рд╣рд░ рдмрд╛рд░ рдЪрд╛рд▓реВ рдЦрд╛рддрд╛ рдЕрдкрдбреЗрдЯ рд╣реЛрдиреЗ рдкрд░ рдХрдЪрд░рд╛ рдЙрддреНрдкрдиреНрди рдХрд░рддрд╛ рд╣реИред рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рдкреБрд░рд╛рдиреА рдкреАрдврд╝реА рдореЗрдВ рдПрдХ рд╕рднреНрдп рд╕рдордп рдХреЗ рдмрд╛рдж рдХрдИ рд╡рд╕реНрддреБрдПрдВ рдорд░ рдЬрд╛рддреА рд╣реИрдВред рдЗрд╕ рд╕реНрдерд┐рддрд┐ рдореЗрдВ, рд╣рдореЗрдВ рдЪрд╛рдмрд┐рдпреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЛ 70 рдорд┐рд▓рд┐рдпрди рддрдХ рдХрдо рдХрд░рдирд╛ рдкрдбрд╝рд╛, рдХреНрдпреЛрдВрдХрд┐ 100 рдорд┐рд▓рд┐рдпрди рдкрд░ рдХрд▓реЗрдХреНрдЯрд░ рдкрд░ рднрд╛рд░ рдмрд╣реБрдд рдЕрдзрд┐рдХ рдерд╛ред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдордиреЗ рдХрдо рд╡рд┐рд▓рдВрдмрддрд╛ рд▓реЗрдиреЗрд╡рд╛рд▓реЛрдВ рдкрд░ рдзреНрдпрд╛рди рдХреЗрдВрджреНрд░рд┐рдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рдХреНрдпреЛрдВрдХрд┐ рдЙрдирдХреЗ рдкрд╛рд╕ рдмреИрдЪ рдкрд╛рдЗрдкрд▓рд╛рдЗрди рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ рдкреЗрд╢ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреБрдЫ рднреА рдирд╣реАрдВ рд╣реИред </font><font style="vertical-align: inherit;">рдЪреВрдВрдХрд┐ рд╣рдордиреЗ рдкрд╣рд▓реЗ рд╣реА рджреЗрдЦрд╛ рд╣реИ рдХрд┐ рдЬреЗрдбреАрдХреЗ 14 рдЬреЗрдбреАрдХреЗ 11 рдХреА рддрд░рд╣ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╣рдордиреЗ рдЗрд╕рдХреА рдкреБрд╖реНрдЯрд┐ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдкрд░реАрдХреНрд╖рдг рдХрд┐рдпрд╛ред </font><font style="vertical-align: inherit;">рдФрд░ рдлрд┐рд░ рд╣рдордиреЗ JDK 8 рдФрд░ JDK 11. рдкрд░ рдзреНрдпрд╛рди рдХреЗрдВрджреНрд░рд┐рдд рдХрд┐рдпрд╛ рдФрд░ рд╣рдордиреЗ JDK 8 рдореЗрдВ G1 рдореЗрдВ рдкреНрд░рдпреБрдХреНрдд рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╕рдорд╛рдирд╛рдВрддрд░ рдХрд▓реЗрдХреНрдЯрд░ рдХреА рднреА рддреБрд▓рдирд╛ рдХреАред</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдХрд▓ рдиреЛрдб рдкрд░ рдкрд░реАрдХреНрд╖рдг: рдкрд░рд┐рдгрд╛рдо</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдордиреЗ 16 рдЬреАрдмреА рд░реИрдо рдФрд░ 6-рдХреЛрд░ рдЗрдВрдЯреЗрд▓ рдХреЛрд░ i7 рдХреЗ рд╕рд╛рде рдПрдХ рд▓реИрдкрдЯреЙрдк рдкрд░ рдмреЗрдВрдЪрдорд╛рд░реНрдХ рдЪрд▓рд╛рдпрд╛ред рдвреЗрд░ рдХрд╛ рдЖрдХрд╛рд░ 10 рдЬреАрдмреА рдерд╛ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рд╕рдорд╛рдирд╛рдВрддрд░ рдХреЗ рдХрд╛рд░рдг, рдкреНрд░рджрд░реНрд╢рди рдмрд╣реБрдд рдЦрд░рд╛рдм рдерд╛, рдФрд░ рд╣рдореЗрдВ рдХрдЪрд░рд╛ рд╕рдВрдЧреНрд░рд╣ рдХрд░рдирд╛ рдерд╛ред рдЗрд╕рд▓рд┐рдП, рд╣рдо рд╡рд┐рдЬреБрдЕрд▓рд╡реАрдПрдо рдФрд░ рд╡рд┐рдЬреБрдЕрд▓ рдЬреАрд╕реА рдкреНрд▓рдЧрдЗрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЕрддреНрдпрдзрд┐рдХ рд╕рд▓рд╛рд╣ рджреЗрддреЗ рд╣реИрдВред рдпрджрд┐ рдЖрдк рдЕрдзрд┐рдХрддрдо рдлреНрд░реЗрдо рджрд░ (10 рдПрдлрдкреАрдПрд╕) рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рдЕрдкрдиреА рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдореЗрдореЛрд░реА рдХреЗ рдЖрд╡рдВрдЯрди рдФрд░ рдХрдЪрд░рд╛ рд╕рдВрдЧреНрд░рд╣рдХрд░реНрддрд╛ рдХреЗ рдХрд╛рдо рдХреЗ рдмреАрдЪ рд╕рдВрдмрдВрдзреЛрдВ рдХреЗ рдПрдХ рдмрд╣реБрдд рд╡рд┐рд╕реНрддреГрдд рджреГрд╢реНрдп рдХрд╛ рдЖрдирдВрдж рд▓реЗ рд╕рдХрддреЗ рд╣реИрдВред рдПрдиреАрдореЗрд╢рди рджреЗрдЦрдиреЗ рдХреЗ рдмрд╛рдж, рд╣рдордиреЗ рдорд╣рд╕реВрд╕ рдХрд┐рдпрд╛ рдХрд┐ рдореБрдЦреНрдп рд╕рдорд╕реНрдпрд╛ рдирдИ рдкреАрдврд╝реА рдХреЗ рд▓рд┐рдП рдЖрд╡рдВрдЯрд┐рдд рд╕реНрдореГрддрд┐ рдХреЗ рдмрд╣реБрдд рдмрдбрд╝реЗ рдЯреБрдХрдбрд╝реЗ рдереЗред рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, рдкреБрд░рд╛рдиреА рдкреАрдврд╝реА рдХрд╛ рдирдпрд╛ рдЕрдиреБрдкрд╛рдд рдХреЗрд╡рд▓ 2: 1 рд╣реИ, рдФрд░ рдирд┐рд╖реНрдкрд╛рджрди рдХреЗ рджреМрд░рд╛рди рдпрд╣ рдЧрддрд┐рд╢реАрд▓ рд░реВрдк рд╕реЗ рдирд╣реАрдВ рдмрджрд▓рддрд╛ рд╣реИред рдЗрд╕рд▓рд┐рдП, рд╣рдордиреЗ рд╕реЗрдЯрд┐рдВрдЧ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХрд╛ рдирд┐рд░реНрдгрдп рд▓рд┐рдпрд╛</font></font><code>-XX:NewRatio=8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рдФрд░ рдЬрд┐рд╕рдиреЗ рдкреВрд░реА рддрд╕реНрд╡реАрд░ рдмрджрд▓ рджреАред рдЕрдм рд╕рдорд╛рдирд╛рдВрддрд░ рдиреЗ рд╕рдмрд╕реЗ рдЕрдЪреНрдЫрд╛ рдХрд╛рдо рдХрд┐рдпрд╛ред рд╣рдордиреЗ </font></font><code>-XX:MaxTenuringThreshold=2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд░рд┐рдХреНрдд рд╕реНрдерд╛рдиреЛрдВ рдХреЗ рдмреАрдЪ рдбреЗрдЯрд╛ рдХреА рдирдХрд▓ рдХреЛ рдХрдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрддреНрддрд░рдЬреАрд╡реА рд░рд┐рдХреНрдд рд╕реНрдерд╛рди </font><font style="vertical-align: inherit;">рднреА рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ </font><font style="vertical-align: inherit;">рдХреНрдпреЛрдВрдХрд┐ рдЕрд╕реНрдерд╛рдпреА рд╡рд╕реНрддреБрдПрдВ рдкрд╛рдЗрдк рд▓рд╛рдЗрди рдореЗрдВ рдЬрд▓реНрджреА рдорд░ рдЬрд╛рддреА рд╣реИрдВред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрдм рдкрд░рд┐рдгрд╛рдореЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВред рдмреИрдЪ рдкрд╛рдЗрдкрд▓рд╛рдЗрди рдХреЗ рд▓рд┐рдП рдПрдХрдорд╛рддреНрд░ рдЙрдкрдпреБрдХреНрдд рдореАрдЯреНрд░рд┐рдХ рдХрд╛рд░реНрдп рдХреА рдЕрд╡рдзрд┐ рд╣реИред рдкрд░рд┐рдгрд╛рдореЛрдВ рдХреА рдХрд▓реНрдкрдирд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдордиреЗ рдЙрдирдХреЗ рдкрд╛рд░рд╕реНрдкрд░рд┐рдХ рдореВрд▓реНрдпреЛрдВ рдХреЛ рд▓рд┐рдпрд╛, рдЗрд╕рд▓рд┐рдП, рдЧреНрд░рд╛рдл рдкреНрд░рддрд┐ рд╕реЗрдХрдВрдб рддрддреНрд╡реЛрдВ рдореЗрдВ рдереНрд░реВрдкреБрдЯ рджрд┐рдЦрд╛рддрд╛ рд╣реИред рдПрдХ рдиреЛрдб рдХреЗ рд▓рд┐рдП:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a4f/87a/5c6/a4f87a5c66be2c77e0337151adb9d2ca.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/377/c40/5ab/377c405ab09606862cb1464b07624d56.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдХрдЪрд░реЗ рдХреЗ рд╕рдВрдЧреНрд░рд╣ рдХреЗ рдмрд┐рдирд╛ рдПрдХрддреНрд░реАрдХрд░рдг рдХреБрдВрдЬрд┐рдпреЛрдВ рдХреЗ рдПрдХ рдмрдбрд╝реЗ рд╕реЗрдЯ рдХреЗ рдмрд╛рд╡рдЬреВрдж рд▓рдЧрднрдЧ 30-35% рддреЗрдЬреА рд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред G1 рдФрд░ JDK 8 рдмрдВрдбрд▓ рдиреЗ рд╕рдмрд╕реЗ рдЦрд░рд╛рдм рдХрд╛рдо рдХрд┐рдпрд╛, рдФрд░ Parallel рдФрд░ JDK 11 рдиреЗ рд╕рдмрд╕реЗ рдЕрдЪреНрдЫрд╛ рдЯреНрдпреВрди рдХрд┐рдпрд╛ред G1 рдФрд░ JDK 11 рдмрдВрдбрд▓ рдореЗрдВ рдЬреНрдпрд╛рджрд╛ рдХрдореА рдирд╣реАрдВ рд╣реБрдИред рдХреГрдкрдпрд╛ рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рд╣рдордиреЗ G1 рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреЛ рдирд╣реАрдВ рдЫреБрдЖ, рдпрд╣ рдПрдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдмрд┐рдВрджреБ рд╣реИред рдХрдЪрд░рд╛ рд╕рдВрдЧреНрд░рд╣ рд╡рд┐рдиреНрдпрд╛рд╕ рд╕реНрдерд┐рддрд┐ рдкрд░ рдЕрддреНрдпрдзрд┐рдХ рдирд┐рд░реНрднрд░ рд╣реИред рдкрд░рд┐рдгрд╛рдо рдирд╛рдЯрдХреАрдп рд░реВрдк рд╕реЗ рдмрджрд▓ рд╕рдХрддреЗ рд╣реИрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдбреЗрдЯрд╛ рдХреА рдорд╛рддреНрд░рд╛ рдореЗрдВ рд╡реГрджреНрдзрд┐ рдХреЗ рд╕рд╛рдеред рдФрд░ рдЖрдкрдХреЛ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдкреНрд░рдХрд╛рд░ рдХреЗ рд▓реЛрдб рдХреЗ рд▓рд┐рдП рдкреВрд░реЗ рдХреНрд▓рд╕реНрдЯрд░ рдХреЗ рд▓рд┐рдП рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдкрд░реАрдХреНрд╖рдг рдХрд░рддреЗ рд╕рдордп рд╣рдорд╛рд░реЗ рджреНрд╡рд╛рд░рд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЧрдП рдЕрдиреБрдХреВрд▓рд┐рдд рд╕рдВрд╕реНрдХрд░рдг рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдпрд╣рд╛рдВ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╕рдорд╛рдирд╛рдВрддрд░ рдХрд▓реЗрдХреНрдЯрд░ рдХрд╛ рдкреНрд░рджрд░реНрд╢рди рд╣реИ:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/81b/797/c4a/81b797c4acae8f632c51147b699c3cad.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
10 рдЬреАрдмреА рд╣реАрдк рдХреЗ рд╕рд╛рде, рдкрд░рд┐рдгрд╛рдо рдмрд╣реБрдд рдЦрд░рд╛рдм рд╣реИрдВред </font><font style="vertical-align: inherit;">рдкреНрд░рдгрд╛рд▓реА рд╡рд┐рдзрд╛рдирд╕рднрд╛ рдХреЗ рд▓рд┐рдП рдкреВрд░реНрдг рд╡рд┐рд░рд╛рдо рдореЗрдВ рдлрдВрд╕ рдЧрдИ, рдЬрд┐рдирдореЗрдВ рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рдиреЗ рд▓рдЧрднрдЧ 7 рдПрд╕ рд▓рд┐рдпрд╛ред </font><font style="vertical-align: inherit;">рдЬреИрд╕реЗ-рдЬреИрд╕реЗ рдвреЗрд░ рдмрдврд╝рддрд╛ рдЧрдпрд╛, рд╕реНрдерд┐рддрд┐ рдореЗрдВ рд╕реБрдзрд╛рд░ рд╣реБрдЖ, рд▓реЗрдХрд┐рди рдлрд┐рд░ рднреА, рдкреВрд░рд╛ рд╡рд┐рдзрд╛рдирд╕рднрд╛ рдЪрдХреНрд░ рдмрд╣реБрдд рдмрд╛рд░ рд╣реБрдЖред </font><font style="vertical-align: inherit;">рдХреГрдкрдпрд╛ рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдпреЗ рдкрд░рд┐рдгрд╛рдо рд╕рдмрд╕реЗ рдЖрдо рдорд╛рдорд▓реЗ рдХреЗ рд▓рд┐рдП рдкреНрд░рд╛рдкреНрдд рд╣реБрдП рдереЗ - рд╡рд┐рдзрд╛рдирд╕рднрд╛ рдХреЗ рдмрд┐рдирд╛ рдПрдХрддреНрд░реАрдХрд░рдгред</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рддреАрди рдиреЛрдбреНрд╕ рдкрд░ рдкрд░реАрдХреНрд╖рдг: рдХрдиреНрд╡реЗрдпрд░</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдХреНрд▓рд╕реНрдЯрд░ рдХрд╛ рд╕рд╣реА рдкрд░реАрдХреНрд╖рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ рдПрдХ рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкрд╛рдЗрдкрд▓рд╛рдЗрди</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдкрдбрд╝рд╛ </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="java hljs">p.readFrom(longSource())<font></font>
 .rebalance()<font></font>
 .flatMap(n -&gt; {<font></font>
     Long[] items = <span class="hljs-keyword">new</span> Long[SOURCE_STEP];<font></font>
     Arrays.setAll(items, i -&gt; n + i);<font></font>
     <span class="hljs-keyword">return</span> traverseArray(items);<font></font>
 })<font></font>
 .rebalance()<font></font>
 .groupingKey(n -&gt; n % NUM_KEYS)<font></font>
 .aggregate(AggregateOperations.summingLong(n -&gt; n))<font></font>
 .filter(e -&gt; e.getKey() % <span class="hljs-number">1_000_000</span> == <span class="hljs-number">0</span>)<font></font>
 .writeTo(Sinks.logger())<font></font>
;<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЪреВрдВрдХрд┐ рд╕реНрд░реЛрдд рд╕рдорд╛рдирд╛рдВрддрд░ рдореЗрдВ рдХрд╛рдо рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╣рдордиреЗ рдХреБрдЫ рдЕрдиреБрдХреВрд▓рди рдХрд┐рдП рд╣реИрдВ рддрд╛рдХрд┐ рдпрд╣ рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рдЕрдбрд╝рдЪрди рдореЗрдВ рди рдмрджрд▓ рдЬрд╛рдПред </font><font style="vertical-align: inherit;">рд╕реНрд░реЛрдд рд╕рдВрдЦреНрдпрд╛ 0, 10, 20, ... рдЙрддреНрдкрдиреНрди рдХрд░рддрд╛ рд╣реИ, рдФрд░ рд╣рдордиреЗ рдЙрд╕ рдЪрд░рдг </font></font><code>flatMap</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреЛ </font><font style="vertical-align: inherit;">рд╕рдорд╛рдирд╛рдВрддрд░ рдХрд┐рдпрд╛ </font><font style="vertical-align: inherit;">рдЬрд┐рд╕ рдкрд░ рд▓рд╛рдкрддрд╛ рд╕рдВрдЦреНрдпрд╛рдПрдБ рдкреНрд░рдХреНрд╖реЗрдкрд┐рдд рд╣реИрдВред </font><font style="vertical-align: inherit;">рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛ рд╕реНрд░реЛрдд рдФрд░ </font></font><code>flatMap</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣рдордиреЗ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ </font></font><code>rebalance()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рдХреНрд▓рд╕реНрдЯрд░ рднрд░ рдореЗрдВ рдбреЗрдЯрд╛ рд╡рд┐рддрд░рд┐рдд рдХрд░рдирд╛ред </font><font style="vertical-align: inherit;">рдФрд░ рдореБрдЦреНрдп рдЪрд░рдг (рдХреБрдВрдЬреА рдПрдХрддреНрд░реАрдХрд░рдг) рдХреА рд╢реБрд░реБрдЖрдд рд╕реЗ рдкрд╣рд▓реЗ, рд╣рдо рдлрд┐рд░ рд╕реЗ рдЕрд╕рдВрддреБрд▓рд┐рдд рд╣реЛ рдЧрдПред </font><font style="vertical-align: inherit;">рдПрдХрддреНрд░реАрдХрд░рдг рдХреЗ рдмрд╛рдж, рд╣рдо рдкрд╣рд▓реЗ рд╣рд░ рджрд╕рд╡реЗрдВ рдХреБрдВрдЬреА-рдореВрд▓реНрдп рдЬреЛрдбрд╝реЗ рдХреЛ рдЫреЛрдбрд╝ рджреЗрддреЗ рд╣реИрдВ, рдФрд░ рдлрд┐рд░ рдЙрдиреНрд╣реЗрдВ рд▓рдХрдбрд╝рд╣рд╛рд░реЗ рдХреЗ рдкрд╛рд╕ рднреЗрдЬ рджреЗрддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рдПрдХ рдмрд┐рд▓рд┐рдпрди рдбреЗрдЯрд╛ рдПрд▓рд┐рдореЗрдВрдЯреНрд╕ рдФрд░ 500 рдорд┐рд▓рд┐рдпрди рдХреАрдЬрд╝ рдХрд╛ рдПрдХ рд╕реЗрдЯ рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд┐рдпрд╛ рдЧрдпрд╛ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЬреИрд╕рд╛ рдХрд┐ рдПрдХ рдиреЛрдб рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рд╣рдордиреЗ рдХрдЪрд░реЗ рдХреЗ рдмрд┐рдирд╛ рдПрдХрддреНрд░реАрдХрд░рдг рдХреЗ рд╕рд╛рде рдХрдиреНрд╡реЗрдпрд░ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд┐рдпрд╛ рдФрд░ рдЗрд╕рдХреЗ рд╕рд╛рдеред</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рддреАрди рдиреЛрдбреНрд╕ рдкрд░ рдкрд░реАрдХреНрд╖рдг: рдкрд░рд┐рдгрд╛рдо</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдордиреЗ рдЗрд╕ рдмреЗрдВрдЪрдорд╛рд░реНрдХ рдХреЛ AWS рдХреНрд▓рд╕реНрдЯрд░ рдкрд░ рддреАрди c5d.4xlarge рдЗрдВрд╕реНрдЯреЗрдВрд╕ рд╕реЗ рдЪрд▓рд╛рдпрд╛ред рдЙрдирдХреЗ рдкрд╛рд╕ 16 рд╡рд░реНрдЪреБрдЕрд▓рд╛рдЗрдЬреНрдб рдкреНрд░реЛрд╕реЗрд╕рд░ рдХреЛрд░ рдФрд░ 32 рдЬреАрдмреА рдореЗрдореЛрд░реА рдереАред рдЪреИрдирд▓ рдмреИрдВрдбрд╡рд┐рдбреНрде 10 Gb / sред рдкрд░рд┐рдгрд╛рдо:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/579/cc6/a6d/579cc6a6d172a6098f96b3c2b9cfbda8.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b28/32f/ca6/b2832fca67b0123a6ca976e518ecd87c.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдкрд╛рд░рд┐рдд рд╣реЛрдиреЗ рдореЗрдВ, рд╣рдо рдПрдХ рдиреЛрдб рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдереНрд░реВрдкреБрдЯ рдореЗрдВ рд▓рдЧрднрдЧ рддреАрди рдЧреБрдирд╛ рд╕рдордЧреНрд░ рд╡реГрджреНрдзрд┐ рдкрд░ рдзреНрдпрд╛рди рджреЗрддреЗ рд╣реИрдВред рдпрд╣ рд╡рд┐рддрд░рд┐рдд рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдХрд╛ рдПрдХ рдкрд░рд┐рдгрд╛рдо рд╣реИред рдЕрд╕реЗрдВрдмрд▓рд░реЛрдВ рдХреЗ рд▓рд┐рдП, G1 рдФрд░ JDK 11 рдХрд╛ рд╕рдВрдпреЛрдЬрди рджреЛрдиреЛрдВ рдкрд░реАрдХреНрд╖рдгреЛрдВ рдХрд╛ рд╡рд┐рдЬреЗрддрд╛ рдмрди рдЧрдпрд╛ред рдПрдХ рдФрд░ рд╣рдбрд╝рддрд╛рд▓реА рдкрд░рд┐рдгрд╛рдо G1 рдФрд░ JDK 8 рдХрд╛ рд▓рдЧрднрдЧ рдЕрд╡рд┐рднрд╛рдЬреНрдп рд╕рдВрдпреЛрдЬрди рдерд╛ред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЗрд╕рдХреЗ рдЧрд╣рд░реЗ рдХрд╛рд░рдг рд╣реИрдВ рдЬреЛ рдЕрдиреНрдп рдЖрдпрд╛рдореЛрдВ рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░рддреЗ рд╣реИрдВред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЬреЗрдбреАрдХреЗ 8 рдФрд░ рдЬреЗрдбреАрдХреЗ 11 рдкрд░ рд╕рдорд╛рдирд╛рдВрддрд░ рдХрд╛ рд╕реНрдкрд╖реНрдЯ рд▓рд╛рднред рдпрд╣ рдЙрд╕ рдкреНрд░рднрд╛рд╡ рдХреЗ рдХрд╛рд░рдг рд╣реИ рдЬрд┐рд╕реЗ рд╣рдордиреЗ рдмрд╣реБрдд рд╢реБрд░реБрдЖрдд рдореЗрдВ рдиреЛрдЯ рдХрд┐рдпрд╛ рдерд╛: рдЬреИрд╕реЗ рд╣реА рдХреЛрдИ рднреА рдХрдЪрд░рд╛ рдХрдЪрд░рд╛ рд╕рдВрдЧреНрд░рд╣ рдХреЗ рд▓рд┐рдП рд░реБрдХрддрд╛ рд╣реИ, рдкреВрд░реЗ рдХреНрд▓рд╕реНрдЯрд░ рдкрд░ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдмрдВрдж рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред рдФрд░ J1K 8 рдкрд░ G1 рдмрд╣реБрдд рд▓рдВрдмреЗ рд╕рдордп рддрдХ рд░реБрдХрддрд╛ рд╣реИ, рдПрдХ рдорд┐рдирдЯ рд╕реЗ рдЬреНрдпрд╛рджрд╛ред рдпрд╣ рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ рд╡рд┐рдлрд▓рддрд╛ рдбрд┐рдЯреЗрдХреНрдЯрд░ рдХреЗ рдХрд╛рдо рдХрд░рдиреЗ рдФрд░ рдпрд╣ рддрдп рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рд╣реИ рдХрд┐ рдиреЛрдб рдХреА рдореГрддреНрдпреБ рд╣реЛ рдЧрдИ рд╣реИред рдХрд╛рд░реНрдп рд╡рд┐рдлрд▓ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ, рдХреНрд▓рд╕реНрдЯрд░ рдЦреБрдж рдХреЛ рдкреБрдирд░реНрдЧрдард┐рдд рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдХрд╛рд░реНрдп рджреЛ рдиреЛрдбреНрд╕ рдкрд░ рдлрд┐рд░ рд╕реЗ рд╢реБрд░реВ рд╣реЛрддрд╛ рд╣реИредрдЗрд╕рд╕реЗ рдПрдХ рдирдИ рд╡рд┐рдлрд▓рддрд╛ рдФрд░ рднреА рддреЗрдЬ рд╣реЛ рдЬрд╛рддреА рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдкреНрд░рддреНрдпреЗрдХ рдиреЛрдб рдЕрдм рдЕрдзрд┐рдХ рдбреЗрдЯрд╛ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░рддрд╛ рд╣реИред рдПрдХ рд╣реА рд╕рдордп рдореЗрдВ, рдЕрд╕реНрд╡реАрдХреГрдд рдиреЛрдб рдлрд┐рд░ рд╕реЗ рдЬреБрдбрд╝рддрд╛ рд╣реИ, рдФрд░ рдХрд╛рд░реНрдп рдлрд┐рд░ рд╕реЗ рджреЛ рдиреЛрдбреНрд╕ рдкрд░ рд╢реБрд░реВ рд╣реЛрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЕрдиреНрдпред рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рдкреБрдирд░рд╛рд░рдВрдн рдХрд░рдиреЗ рдХрд╛ рдПрдХ рдЕрдВрддрд╣реАрди рд▓реВрдк рд╣реИред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╕рдорд╛рдирд╛рдВрддрд░ рд╡рд┐рд░рд╛рдо рдЗрддрдиреЗ рд▓рдВрдмреЗ рдирд╣реАрдВ рд╣реИрдВ рдХрд┐ рдХреНрд▓рд╕реНрдЯрд░ рдХреЛ рддреЛрдбрд╝ рджрд┐рдпрд╛ рдЬрд╛рдП, рд▓реЗрдХрд┐рди рдпрд╣ рдПрдХ рд╣реА рдиреЛрдб рдкрд░ рдкрд░реАрдХреНрд╖рдгреЛрдВ рдкрд░ рдмрд╣реБрдд рдмреБрд░рд╛ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред рддреАрди рдиреЛрдбреНрд╕ рдкрд░, рд╡рд╣ G1 рдФрд░ JDK 11 рдХреЗ рдЧреБрдЪреНрдЫрд╛ рдореЗрдВ 30% рддрдХ рд╣рд╛рд░ рдЧрдпрд╛ред рдФрд░ рдмрдбрд╝реЗ рд╕рдореВрд╣реЛрдВ рдкрд░ рд╕реНрдерд┐рддрд┐ рдФрд░ рднреА рдЦрд░рд╛рдм рд╣реЛрдЧреАред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрджрд┐ рдЖрдк рд╕рднреА рдкрд░реАрдХреНрд╖рдгреЛрдВ рдХреЛ рджреЗрдЦрддреЗ рд╣реИрдВ, рддреЛ рдЖрд╢реНрдЪрд░реНрдп рдХреА рдмрд╛рдд рд╣реИ рдХрд┐ рд╕рдорд╛рдирд╛рдВрддрд░ JDK 11 рдХреА рддреБрд▓рдирд╛ рдореЗрдВ JDK 8 рдкрд░ рддреЗрдЬреА рд╕реЗ рдЪрд▓рддрд╛ рд╣реИред рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпрд╣ рдПрдХ рдмрд╣реБрдд рдЕрдЪреНрдЫреЗ рд╕рдВрдпреЛрдЧ рдХреЗ рдХрд╛рд░рдг рд╣реИ: рдЗрди рдкрд░реАрдХреНрд╖рдг рд░рди рдореЗрдВ, рд╕рднреА рдиреЛрдбреНрд╕ рдкрд░ рдкреВрд░реНрдг рд╡рд┐рд░рд╛рдо рд╕рдордХрд╛рд▓рд┐рдХ рд░реВрдк рд╕реЗ рд╢реБрд░реВ рд╣реБрдЖ, рдЬрд┐рд╕рдиреЗ рдХрд▓реЗрдХреНрдЯрд░ рдХреЗ рдХрд╛рдо рдХреЛ рд╕рдорд╛рдирд╛рдВрддрд░ рдХрд┐рдпрд╛ред рдЬрд╛рд╣рд┐рд░ рд╣реИ, рдЗрд╕ рдкреНрд░рднрд╛рд╡ рдкрд░ рднрд░реЛрд╕рд╛ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕ рддрдереНрдп рдХреЗ рдмрд╛рд╡рдЬреВрдж рдХрд┐ рд╕рдорд╛рдирд╛рдВрддрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП рд╣рдорд╛рд░реЗ рдкрд░реАрдХреНрд╖рдг рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдореЗрдВ, рд╣рдордиреЗ рдХреНрд▓рд╕реНрдЯрд░ рд╕реНрдерд┐рд░рддрд╛ рдкрд░ рд▓рдВрдмреЗ рд╕рдордп рдХреЗ рдард╣рд░рд╛рд╡ рдХреЗ рднрдпрд╛рд╡рд╣ рдкреНрд░рднрд╛рд╡ рдХрд╛ рдирд┐рд░реАрдХреНрд╖рдг рдирд╣реАрдВ рдХрд┐рдпрд╛, рдпрд╣ рдПрдХ рдмрд╣реБрдд рд╣реА рд╕рдВрднрд╛рд╡рд┐рдд рдкрд░рд┐рджреГрд╢реНрдп рд╣реИред </font><font style="vertical-align: inherit;">рдЕрдиреНрдп рдкрд░реАрдХреНрд╖рдгреЛрдВ рдореЗрдВ, рдЬрдм рд╣рдордиреЗ рдвреЗрд░ рдФрд░ рдбреЗрдЯрд╛ рдХреА рдорд╛рддреНрд░рд╛ рдореЗрдВ рд╡реГрджреНрдзрд┐ рдХреА, рдпрд╛ рдЙрд╕реА рдвреЗрд░ рдХреЛ рдЫреЛрдбрд╝ рджрд┐рдпрд╛, рд▓реЗрдХрд┐рди рдСрдкрд░реЗрдЯрд┐рдВрдЧ рдорд╛рд░реНрдЬрд┐рди рдХреЛ рдХрдо рдХрд░ рджрд┐рдпрд╛, рддреЛ рд╕рдорд╛рдирд╛рдВрддрд░ рдиреЗ рд╡рд┐рдирд╛рд╢рдХрд╛рд░реА рд░реВрдк рд╕реЗ рдХрд╛рд░реНрдп рдХрд┐рдпрд╛ред </font><font style="vertical-align: inherit;">рд▓реЗрдХрд┐рди рдЬрдм рдпрд╣ рд╡рд┐рдлрд▓рддрд╛рдУрдВ рдХреА рдУрд░ рдирд╣реАрдВ рд▓реЗ рдЬрд╛рддрд╛ рд╣реИ, рддрдм рднреА рдЧреНрд░рд╛рдлрд╝ рдкрд░ рдЗрд╕рдХрд╛ рд▓рд╛рдн рдЙрд╕реА рдиреЛрдб рдкрд░ рдХрд╛рдо рдХрд░рддреЗ рд╕рдордп рдЧрд╛рдпрдм рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдпрд╣ рдЙрдореНрдореАрдж рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИ рдХрд┐ рдХреНрд▓рд╕реНрдЯрд░ рдХреЗ рд▓рд┐рдП рдирдП рдиреЛрдбреНрд╕ рдХреЗ рд╕рд╛рде рд╕реНрдерд┐рддрд┐ рдЦрд░рд╛рдм рд╣реЛ рдЬрд╛рдПрдЧреАред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рджреВрд╕рд░реА рдУрд░, G1 рдФрд░ JDK 11 рдХреЗ рдПрдХ рд╕рдореВрд╣ рдиреЗ рдЫреЛрдЯреЗ рд╡рд┐рд░рд╛рдореЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд┐рдпрд╛, рдЗрд╕рд▓рд┐рдП рдХрдиреНрд╡реЗрдпрд░ рдмрдВрдж рдирд╣реАрдВ рд╣реБрдЖред </font><font style="vertical-align: inherit;">рдЗрд╕рдореЗрдВ рдПрдХ рддрдВрддреНрд░ рд╣реИ рдЬреЛ рдХрдо рдбрд╛рдЙрдирдЯрд╛рдЗрдореНрд╕ рдХреЛ рдХрдо рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдЬрдмрдХрд┐ рдард╣рд░рд╛рд╡ 150 рдПрдордПрд╕ рд╕реЗ рдЕрдзрд┐рдХ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ, рдХрдЪрд░рд╛ рд╕рдВрдЧреНрд░рд╣ рдХреЗрд╡рд▓ рдПрдХ рд╕реНрдерд╛рдиреАрдп рдкреНрд░рднрд╛рд╡ рд╣реЛрддрд╛ рд╣реИред</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi507198/index.html">рдкреЙрдбрдХрд╛рд╕реНрдЯ рдХреЙрд░реНрдкреЛрд░реЗрдЯ рдореАрдбрд┐рдпрд╛ рдХреЗ рд░реВрдк рдореЗрдВ: рдХреИрд╕реЗ рдЙрди рдкрд░ рдкреИрд╕рд╛ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдФрд░ рдХреНрдпрд╛ рдореИрдЯреНрд░рд┐рдХреНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП</a></li>
<li><a href="../hi507200/index.html">7 рддрд░реАрдХреЗ рдбреЗрдЯрд╛ рд╡реИрдЬреНрдЮрд╛рдирд┐рдХреЛрдВ рдиреЗ рдЖрдкрдХреЛ рдмреЗрд╡рдХреВрдл рдмрдирд╛рдпрд╛</a></li>
<li><a href="../hi507202/index.html">рдПрд╡рд┐рдЯреЛ рдПрдирд╛рд▓рд┐рдЯрд┐рдХреНрд╕ рдореАрдЯрдЕрдк</a></li>
<li><a href="../hi507204/index.html">рдФрджреНрдпреЛрдЧрд┐рдХ рдбрд┐рдЬрд╛рдЗрди рдЖрдВрддрд░рд┐рдХ рд░рд╕реЛрдИ: рдмреЙрдХреНрд╕ рдореЗрдВ рд╕реНрдХреЗрдЪ рд╕реЗ рдЙрддреНрдкрд╛рдж рддрдХ</a></li>
<li><a href="../hi507206/index.html">рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ рд╡рд╛рдИ рд╕рдВрджреЗрд╢рд╡рд╛рд╣рдХ</a></li>
<li><a href="../hi507212/index.html">ML- рдПрдЬреЗрдВрдЯреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ "рдЕрдкрдиреЗ рдЖрдк рдХреЗ рд╕рд╛рде рдЦреЗрд▓рдиреЗ" рдХреА рд╡рд┐рдзрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХрддрд╛ рдореЗрдВ рд╕реНрдорд╛рд░реНрдЯ рдЧреЗрдорд┐рдВрдЧ рдкреНрд░рддрд┐рджреНрд╡рдВрджреНрд╡рд┐рдпреЛрдВ рдХреЛ рдкреНрд░рд╢рд┐рдХреНрд╖рд┐рдд рдХрд░рдирд╛</a></li>
<li><a href="../hi507214/index.html">рдЗрдВрдЯрд░реИрдХреНрдЯрд┐рд╡ рдкреАрдбреАрдПрдл рдлреЙрд░реНрдо, рдпрд╛ рдирдП рдХреМрд╢рд▓ ABBYY FineReader PDF рдХреИрд╕реЗ рдмрдирд╛рдПрдВ рдФрд░ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░реЗрдВ</a></li>
<li><a href="../hi507218/index.html">рдореБрдЭреЗ рдкрдврд╝реЗрдВ, рдпрд╛ рдкрд╛рда рдЕрдВрдд рддрдХ рдХреНрдпреЛрдВ рдирд╣реАрдВ рдкрдврд╝рд╛ рдЧрдпрд╛ рд╣реИ</a></li>
<li><a href="../hi507222/index.html">рд╣рд░ рдХрд┐рд╕реА рдХреЛ рдорд╛рд╕реНрдХ рдХреНрдпреЛрдВ рдкрд╣рдирдирд╛ рдЪрд╛рд╣рд┐рдП</a></li>
<li><a href="../hi507224/index.html">рджреГрд╢реНрдп рдкрд░реАрдХреНрд╖рдг рдХреЗ рд╕рд╛рде рдиреЗрддреНрд░рд╣реАрди рдзрдмреНрдмреЛрдВ рдХреЛ рдХреИрд╕реЗ рдЦрддреНрдо рдХрд┐рдпрд╛ рдЬрд╛рдП</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>