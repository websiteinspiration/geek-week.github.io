<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🌉 📦 👐🏾 Administre varias libretas de direcciones en la edición de código abierto Zimbra Collaboration Suite 🧟 🤳 📑</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La libreta de direcciones global en Zimbra OSE se implementa utilizando una cuenta de sistema galsync separada, que está disponible en cada dominio de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Administre varias libretas de direcciones en la edición de código abierto Zimbra Collaboration Suite</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/zimbra/blog/506710/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La libreta de direcciones global en Zimbra OSE se implementa utilizando una cuenta de sistema galsync separada, que está disponible en cada dominio de correo de Zimbra OSE. La información sobre cada usuario en el dominio se agrega a la lista de contactos de esta cuenta, y los usuarios del dominio tienen acceso a esta lista de direcciones y pueden usarla para buscar usuarios y completar automáticamente al escribir una dirección de correo electrónico.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta implementación de la libreta de direcciones global permite simplificar la importación de nuevos datos, pero por defecto funciona dentro de un solo dominio. Las grandes empresas a menudo usan dominios de correo separados para diferentes divisiones o filiales, y a menudo es necesario tener una libreta de direcciones global común, que contendrá las direcciones de correo y los datos de usuario de varios o incluso todos los dominios de la compañía.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/op/xi/ie/opxiieyaijocgswpkt2td6f4-u0.png" alt="imagen"><a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para combinar las listas de contactos de cuentas de galsync de diferentes dominios de correo, debe configurar su sincronización. Usando los dominios msk.company.ru y spb.company.ru como ejemplos, configuraremos una libreta de direcciones común para las sucursales de la compañía en Moscú y San Petersburgo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por defecto, la cuenta galsync en los dominios OSE de Zimbra tiene un sufijo que es un conjunto aleatorio de números y letras. Esto en el futuro puede dificultarnos trabajar con él y, por lo tanto, primero eliminaremos la cuenta </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">galsync.kf9song4@msk.company.ru</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y luego crearemos una nueva </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">galsync @ msk company.ru</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> usando los siguientes comandos:</font></font><br>
<br>
<pre><code class="plaintext hljs">zmgsautil deleteAccount -a galsync.kf9song4@msk.company.ru<font></font>
zmgsautil createAccount -a galsync@msk.company.ru -n GAL --domain msk.company.ru -t zimbra -s mail.company.ru -f GAL</code></pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Llamamos su atención sobre el hecho de que la cuenta galsync nunca debe eliminarse de la misma manera que una cuenta normal. Esto hará que Zimbra OSE informe constantemente un error cuando intente acceder a un dominio que se quedó sin una cuenta galsync. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Después de eso, agregue una nueva fuente de datos SPB a la cuenta galsync del dominio de Moscú, cuyos contactos se agregarán automáticamente a la carpeta de contactos _SPB. Esto se hace usando el comando </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zmgsautil addDataSource -a galsync@msk.company.ru -n SPB --domain msk.company.ru -t ldap -f _SPB -p 1d</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .&nbsp; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como fuente de información, especificamos el dominio spb.company.ru y configuramos un filtro para buscar contactos:</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zmprov mds galsync @ msk. = zimbraDistributionList) (! (zimbraHideInGAL = TRUE)))) 'zimbraGalSyncLdapSearchBase dc = spb, dc = company, dc = ru zimbraGalSyncLdapURL ldap: //192.168.0.15: 389</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora solo queda activar la fuente de contacto agregada por nosotros </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zmprov mds galsync@msk.company.ru SPB zimbraDataSourceEnabled TRUE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y forzar la primera sincronización usando el comando </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zmgsautil forceSync -a galsync@msk.company.ru -n SPB</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para asegurarse de que la sincronización de contactos entre las libretas de direcciones globales funciona, puede verificar el contenido de la carpeta _SPB que acabamos de crear&nbsp; </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zmmailbox -z -m galsync@msk.company.ru gaf</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Si todo está en orden, solo queda ingresar el comando&nbsp; </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zmprov md msk.company.ru zimbraGALMode ambos</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;y verificar cómo funciona el autocompletado al marcar contactos desde el dominio de San Petersburgo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En el caso de que necesite usuarios del dominio spb.company.ru para poder ver también a los usuarios del dominio msk.company.ru, deberá hacer lo mismo, pero intercambie los dominios:</font></font><br>
<br>
<b><ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zmgsautil addDataSource -a galsync@spb.company.ru -n MSK --dominio spb.company.ru -t ldap -f _MSK -p1d</font></font></li>
<li>zmprov mds galsync@spb.company.ru SPB zimbraGalSyncLdapBindDn $zimbra_ldap_userdn zimbraGalSyncLdapBindPassword $zimbra_ldap_password zimbraGalSyncLdapFilter '(|(&amp;(mail=*)(zimbraAccountStatus=active)(!(zimbraHideInGAL=TRUE)))(&amp;(mail=*)(objectClass=zimbraDistributionList)(!(zimbraHideInGAL=TRUE))))' zimbraGalSyncLdapSearchBase&nbsp;dc=msk,dc=company,dc=ru zimbraGalSyncLdapURL ldap://192.168.0.15:389</li>
<li>zmprov mds galsync@spb.company.ru MSK zimbraDataSourceEnabled TRUE</li>
<li>zmgsautil forceSync -a galsync@spb.company.ru -n MSKzmmailbox -z -m galsync@spb.company.ru gaf</li>
<li>zmprov md spb.company.ru zimbraGALMode both</li>
</ol></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El número de fuentes de datos en su cuenta galsync es ilimitado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puede agregar nuevas fuentes de contacto para su cuenta galsync en la consola de administración. Sin embargo, para hacer esto, aún tiene que trabajar en la línea de comando de todos modos. Para, por ejemplo, agregar contactos desde una sucursal en Kaluga a galsync de un dominio de Moscú, use el comando&nbsp; </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zmgsautil addDataSource -a galsync@msk.company.ru -n KLG --domain msk.company.ru -t ldap -f _KLG -p 1d</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> agrega una fuente de datos KLG y una carpeta para ellos llamada _KLG.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wb/cb/w5/wbcbw5hkl0jlhblzzhjow6sg4wu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Después de eso, en la consola de administración, vaya a Configuración - Dominios - configure GAL, seleccione la fuente KLG en el asistente de configuración de la libreta de direcciones global que se abre e ingrese todos los parámetros necesarios, similares a los utilizados en ejemplos anteriores. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hz/2m/7u/hz2m7uz_n9oqktc_-lnamg7dv5m.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
También puede conectar Active Directory como fuente de contacto externa. </font><font style="vertical-align: inherit;">Esto se hace de la misma manera que en el caso de LDAP normal: se </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">crea</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> una fuente de datos AD - </font><b><font style="vertical-align: inherit;">zmgsautil addDataSource -a galsync@msk.company.ru -n AD --dominio msk.company.ru -t ldap -f _AD -p 1d</font></b><font style="vertical-align: inherit;"> , y luego el filtro de búsqueda y los datos para autocompletar se indican en la consola de administración.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para todas las preguntas relacionadas con la Suite Zextras, puede contactar al representante de la empresa Zextras Ekaterina Triandafilidi por correo electrónico katerina@zextras.com</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es506700/index.html">Configuramos las acciones de GitHub para Android con la implementación posterior en PlayMarket</a></li>
<li><a href="../es506702/index.html">Los discos duros más fiables según Backblaze Q1 2020</a></li>
<li><a href="../es506704/index.html">¿Por qué escribir en PHP en 2020? Holivarim es un podcast interactivo en Youtube este jueves</a></li>
<li><a href="../es506706/index.html">El rendimiento de Java moderno cuando se trabaja con grandes cantidades de datos, parte 1</a></li>
<li><a href="../es506708/index.html">Autenticación de dos factores VPN / Mikrotik: simple y escalable</a></li>
<li><a href="../es506716/index.html">Lista lineal multiproceso: problema de existencia de elementos, mejora de la productividad y relación STL</a></li>
<li><a href="../es506726/index.html">Experiencia en el uso de la tecnología Rutoken para el registro y autorización de usuarios en el sistema (parte 2)</a></li>
<li><a href="../es506730/index.html">Snort o Suricata. Parte 1: elija un IDS / IPS gratuito para proteger la red corporativa</a></li>
<li><a href="../es506732/index.html">Reutilización de componentes de la interfaz de usuario en toda la organización</a></li>
<li><a href="../es506734/index.html">Cálculos transitorios en redes eléctricas.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>