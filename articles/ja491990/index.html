<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👊🏾 ♾ 💰 中国のチップADC Hx711と連携（結論） 😍 🤰🏾 ⏫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="しばらくして、最初の記事を2回目の知り合いがしたため、このADCの使用に関する問題が不完全に感じられました。はい、この製品の特定の研究が行われ、弱点が見つかり、これらの弱点を回避する方法が提案されましたが、実験的、実用的なアプリケーションの問題はありませんでした。
 
 Andrei Gerasim...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>中国のチップADC Hx711と連携（結論）</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/491990/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">しばらくして、最初の記事を2回目の知り合いがしたため、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このADCの使用に関する問題が不完全に</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">感じ</font><b><font style="vertical-align: inherit;">られました</font></b><font style="vertical-align: inherit;">。はい、この製品の特定の研究が行われ、弱点が見つかり、これらの弱点を回避する方法が提案されましたが、実験的、実用的なアプリケーションの問題はありませんでした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Andrei Gerasimenkoの作業（「3.3VからのADC NH711-中国のドキュメントを信じないでください...」（https // habr.com / ru / post / 438772））は、ハイブの重量を完全に考慮する必要はありませんでした。加重ハイブの相対性の状態により、計量エラーが解消されました。外部条件の変化に起因する技術的エラーがすべての追跡オブジェクトに作用し、ハイブの状態の分析から自動的に除外されたためです。単純計量では状況が異なります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ランダム分布以外の測定誤差の分布という形で変換器の弱点があり、私が指摘したのは、Nikopol_86によっても発見されました（「...中国のドキュメントを信じない」Nikopol_86 2月86日09:27）。これも理論的研究でした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
24ビット変換の最後のビットの震えを「落ち着かせる」ための移動平均法の私の適用は、その有効性を示しましたが、上記のすべての結果を考慮した既製の測定デバイスはありませんでした。</font></font><br>
<br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hx711のはかりでの使用への適合性に関する最終的な結論として、回路図に基づいて計量プログラムが開発されました。</font></font></b></i><br>
<br>
<img src="https://habrastorage.org/webt/4h/sy/o5/4hsyo5yiiy4qex1_odr4l86ibtk.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
回路は、5ボルト、1アンペアのコンスタントな従来の標準電源から給電されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プログラムを開発する際、前述のADCの欠点はすべて考慮されました。</font><font style="vertical-align: inherit;">そして、今度はATMega16コントローラーに埋め込まれたプログラムについて。</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 電源がオンになると、インジケーターが表示されます。一番下の行にロードセルから読み取られたADC値、一番下の行のADC値を正規化して得られた重量値が一番上の行に表示されます。</font><font style="vertical-align: inherit;">通常、これは次のとおりです：上の行は1.015、一番下の行は1085です。目的のコンテナーをプラットフォームに配置した後、Key2（パッケージング）を押すと読み取り値がゼロになり、インジケーターの上下の行でそれぞれ0,000と0になります。</font><font style="vertical-align: inherit;">その後、計量された荷物を台に載せ、一番上のラインから重量を読み取ります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
オートゼロ機能、つまりはかりがオンになった瞬間にプラットフォームから風袋重量を読み取り重量に入力する機能は実装されていないことに注意してください。正規化係数の値は、事前に（コントローラーのフラッシュメモリに）プログラムに「縫い込まれ」ているため、風袋重量を考慮した直後に計量することができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
正規化係数を変更するために、重量の一部（この場合は2 kg）でスケールを校正するモードが提供されています。このモードに入るには、プラットフォームを解放し、安定した測定値を待ち、Key12とKey17を同時に押す必要があります。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一番上の行に「Cal：turn Key 12」と表示されます。これは、天びんが分銅の一部で校正モードに入ったことを示します。続行するには、Key12を押す必要があります。一番下の行は、「風袋キーを押す」を示しています。これは、天びんが容器の値を「記憶」する準備ができていることを意味します。続行するには、Key2（Tara）を押します。一番下の行には「Place 2kg key17」と表示されています。作業台に2 kgの重りを載せ、待ってからKey17を押します。上の行のインジケーターは2,000、下の行は2130です。天びんは計量モードに切り替わりました。分銅を取り除き、計量を続けます。新しい正規化係数がコントローラーRAMに記録され、天びんの電源をオフにすると消去される（消える）ことが重要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同様の手順が便利ですが、作業の過程で、2 kgの重量が常に手元にあるとは限りません。この場合、校正補正手順が提供されます。この手順に入るには、天びんの電源を切り、JP1を再配置して、コントローラーの出力ポートがアースに短絡されるようにします。スケールをオンにします。正規化係数の1つの値が上の行に追加されます。この場合は5325です。Key2スケールをゼロにし、プラットフォームに既知の重量を置き、Key12キーでそれを増やし、Key17でスケールが示す重量の値を減らします。プラットホームに置かれた重量とスケールで示された重量の平等を達成します。等式に達した後、JP1は回路を開きます。重要：天びんがオフのときは、ジャンパーを閉じることをお勧めします。電源が入っているときにのみ開きます。表示される正規化係数の値も、調整プロセス中に変化します。逆の関係は、係数が高いほど、表示される重みが低くなり、その逆も同様です。重要なのは、新しい係数値もコントローラーの内部RAMに書き込まれることです。まあ、それはすべてです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらのはかりは、パッケージングワークショップで、8時間の2つの作業シフトで、連続的に周囲温度18〜22℃で操作されました。すでに操作の初日は、外的要因による重量の変化：装置の加熱、ドアが開いていることによる周囲温度の急上昇が満足できることを示しました。すべての変動は10〜15グラムの範囲（パッケージ化された製品の平均重量は10 kgです）であり、これは所定の重量に対して許容範囲です。したがって、計量の最大許容限界が15 kg LELである計量器で許容される計量誤差は次</font></font><br>
<br>
<img src="https://habrastorage.org/webt/yz/vj/eb/yzvjebt6nvwwea-efnp38pzvwvy.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
の</font><font style="vertical-align: inherit;">とおりです</font><font style="vertical-align: inherit;">。入力された校正補正モードは便利です。しかし、それは主に、体重5 kgあたり5〜10グラムずれた体重測定に使用されました。エラーは許容範囲内であるため、スケールのエラーを正確にゼロにすることは当然のことですが、それ以上の必要はありません。</font></font><br>
<br>
<u><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論として信じて</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中国のADCモジュールベースNh711チップは、実行可能な従来のバランススキームおよび中間クラスとして使用することができるように自分自身を示しています。マイクロ回路自体の周囲温度による重量補正がないことは、このモジュール（マイクロ回路）の最も脆弱な点です。私の実務では、周囲温度の変動が小さい条件で動作するデバイスの場合、測定誤差が計測によって許容される誤差を超えないことが示されています。ただし、このモジュールを、たとえば市場で動作する体重計に使用する場合の問題は、夏の気温が+30を超え、冬の気温が最大-15度に達する場合、未解決のままです。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 残念ながら、私はヒートチャンバーでスケールをテストしてこの質問に答える機会がありません。そのため、記事の最後に、マイクロコントローラーのフラッシュメモリ用のhexファイル（arduino用ではありません）を添付します。</font><font style="vertical-align: inherit;">上の図は、ひずみゲージの特性も示しています。</font><font style="vertical-align: inherit;">このADCモジュールに興味があり、ヒートチャンバーがある場合は、必要なテストを自分で実施できます。</font><font style="vertical-align: inherit;">結果を共有することをお勧めします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ファイル：Scale16_11.hex。</font><font style="vertical-align: inherit;">リンク：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cloud.mail.ru/public/4Edm/43fwpHEPU</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
 すべて</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">最高</font></a><font style="vertical-align: inherit;">です！</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja491976/index.html">私たちは、オンラインストアまたはプロダクションのためにUNIT経済を転換します</a></li>
<li><a href="../ja491980/index.html">面接のメリット。Flutter開発者オプション</a></li>
<li><a href="../ja491984/index.html">HELの空港オートメーション</a></li>
<li><a href="../ja491986/index.html">RemoteLoRa-ON / OFF以上</a></li>
<li><a href="../ja491988/index.html">Red Hat OpenShift 4.2および4.3の新機能</a></li>
<li><a href="../ja491992/index.html">アナリストの育成</a></li>
<li><a href="../ja491994/index.html">CocoapodsからSwift Package Managerへの移行</a></li>
<li><a href="../ja491996/index.html">C ++のコルーチンの詳細</a></li>
<li><a href="../ja492000/index.html">非常に最初の製品。バーンアウト</a></li>
<li><a href="../ja492002/index.html">光を吸収する翼：スーパーブラックバタフライの秘密</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>