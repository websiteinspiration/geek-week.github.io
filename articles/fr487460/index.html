<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üå∑ ‚öïÔ∏è üë®üèª‚Äçüåæ Delta: plateforme de synchronisation et d'enrichissement des donn√©es üóÇÔ∏è ü§æüèΩ üßíüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En pr√©vision du lancement d'un nouveau volet au cours Data Engineer, nous avons pr√©par√© une traduction de mat√©riel int√©ressant.
 
 
 
 
 
 Aper√ßu
 Nou...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Delta: plateforme de synchronisation et d'enrichissement des donn√©es</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/487460/"><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En pr√©vision du lancement d'un nouveau volet au cours </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Data Engineer, nous avons</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pr√©par√© une traduction de mat√©riel int√©ressant.</font></font><br>
</b></i><br>
<br>
<img src="https://habrastorage.org/webt/pg/_y/c6/pg_yc6ttjvtbnkh2-rhe_eq1dnw.png"><br>
<br>
<hr><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aper√ßu</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Nous allons parler d'un mod√®le assez populaire selon lequel les applications utilisent plusieurs magasins de donn√©es, o√π chaque magasin est utilis√© √† ses propres fins, par exemple, pour stocker la forme canonique de donn√©es (MySQL, etc.), fournir des capacit√©s de recherche avanc√©es (ElasticSearch, etc. .), la mise en cache (Memcached, etc.) et autres. En r√®gle g√©n√©rale, lorsque vous utilisez plusieurs stockages de donn√©es, l'un d'entre eux fonctionne comme stockage principal et l'autre comme stockage d√©riv√©. Le seul probl√®me est de savoir comment synchroniser ces magasins de donn√©es.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons examin√© un certain nombre de mod√®les diff√©rents qui ont tent√© de r√©soudre le probl√®me de la synchronisation de plusieurs r√©f√©rentiels, tels que la double entr√©e, les transactions distribu√©es, etc. </font><font style="vertical-align: inherit;">Cependant, ces approches pr√©sentent des limites importantes en termes d'utilisation r√©elle, de fiabilit√© et de maintenance. </font><font style="vertical-align: inherit;">Outre la synchronisation des donn√©es, certaines applications doivent √©galement enrichir les donn√©es en appelant des services externes.</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour r√©soudre ces probl√®mes, Delta a √©t√© d√©velopp√©. </font><font style="vertical-align: inherit;">Delta est finalement une plate-forme coh√©rente et √©v√©nementielle pour synchroniser et enrichir les donn√©es.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Solutions existantes</font></font></h3><br>
 <h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Double saisie</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Pour synchroniser deux magasins de donn√©es, vous pouvez utiliser un double enregistrement, qui √©crit dans un magasin, puis √©crit imm√©diatement dans un autre. Le premier enregistrement peut √™tre r√©p√©t√© et le second peut √™tre interrompu si le premier √©choue apr√®s avoir √©puis√© le nombre de tentatives. Cependant, deux magasins de donn√©es peuvent arr√™ter la synchronisation si l'√©criture dans le deuxi√®me magasin √©choue. Ce probl√®me est g√©n√©ralement r√©solu en cr√©ant une proc√©dure de r√©cup√©ration qui peut p√©riodiquement retransf√©rer les donn√©es du premier stockage vers le second ou le faire uniquement si des diff√©rences sont constat√©es dans les donn√©es. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Probl√®mes:</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'ex√©cution d'une proc√©dure de r√©cup√©ration est un travail sp√©cifique qui ne peut pas √™tre r√©utilis√©. </font><font style="vertical-align: inherit;">De plus, les donn√©es entre les stockages ne sont pas synchronis√©es jusqu'√† ce que la proc√©dure de r√©cup√©ration soit termin√©e. </font><font style="vertical-align: inherit;">La solution est compliqu√©e si plus de deux magasins de donn√©es sont utilis√©s. </font><font style="vertical-align: inherit;">Enfin, la proc√©dure de r√©cup√©ration peut ajouter du stress √† la source de donn√©es d'origine.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Table des journaux des modifications</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Lorsque des modifications se produisent dans un ensemble de tables (par exemple, l'insertion, la mise √† jour et la suppression d'enregistrements), les enregistrements de modification sont ajout√©s √† la table de journal dans le cadre de la m√™me transaction. Un autre thread ou processus demande constamment des √©v√©nements √† la table des journaux et les √©crit dans un ou plusieurs stockages de donn√©es, lorsqu'il devient n√©cessaire de supprimer des √©v√©nements de la table des journaux apr√®s avoir confirm√© l'enregistrement par tous les stockages. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Probl√®mes:</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ce mod√®le doit √™tre impl√©ment√© en tant que biblioth√®que et, id√©alement, sans changer le code d'application l'utilisant. Dans un environnement polyglotte, l'impl√©mentation d'une telle biblioth√®que doit exister dans tous les langages n√©cessaires, mais il est tr√®s difficile d'assurer la coordination des fonctions et des comportements entre les langages.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un autre probl√®me r√©side dans l'obtention de modifications de sch√©ma dans des syst√®mes qui ne prennent pas en charge les modifications de sch√©ma transactionnelles [1] [2], comme MySQL. </font><font style="vertical-align: inherit;">Par cons√©quent, un mod√®le pour effectuer une modification (par exemple, modifier un sch√©ma) et l'√©crire dans la table du journal des modifications ne fonctionnera pas toujours.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transactions distribu√©es</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Les transactions distribu√©es peuvent √™tre utilis√©es pour fractionner une transaction entre plusieurs stockages de donn√©es h√©t√©rog√®nes afin que l'op√©ration soit valid√©e dans tous les magasins utilis√©s ou non valid√©e dans aucun d'entre eux. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Probl√®mes:</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les transactions distribu√©es sont un tr√®s gros probl√®me pour les entrep√¥ts de donn√©es h√©t√©rog√®nes. </font><font style="vertical-align: inherit;">De par leur nature, ils ne peuvent compter que sur le plus petit d√©nominateur commun des syst√®mes concern√©s. </font><font style="vertical-align: inherit;">Par exemple, les transactions XA bloquent l'ex√©cution en cas d'√©chec lors du processus de pr√©paration. </font><font style="vertical-align: inherit;">En outre, XA ne fournit pas de d√©tection de blocage et ne prend pas en charge les sch√©mas de gestion de concurrence optimiste. </font><font style="vertical-align: inherit;">De plus, certains syst√®mes comme ElasticSearch ne prennent pas en charge XA ou tout autre mod√®le de transaction h√©t√©rog√®ne. </font><font style="vertical-align: inherit;">Ainsi, garantir l'atomicit√© de l'enregistrement dans diverses technologies de stockage de donn√©es reste une t√¢che tr√®s difficile pour les applications [3].</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Delta</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Delta a √©t√© con√ßu pour r√©pondre aux limites des solutions de synchronisation de donn√©es existantes, et il enrichit √©galement les donn√©es √† la vol√©e. Notre objectif √©tait d'abstraire tous ces points complexes des d√©veloppeurs d'applications afin qu'ils puissent se concentrer pleinement sur la mise en ≈ìuvre de la fonctionnalit√© m√©tier. Ensuite, nous d√©crirons ¬´Movie Search¬ª, le cas d'utilisation r√©el de Delta de Netflix. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Netflix utilise largement l'architecture de microservices et chaque microservice sert g√©n√©ralement un type de donn√©es. Les principales informations sur le film sont extraites d'un microservice appel√© Movie Service, ainsi que les donn√©es connexes, telles que les informations sur les producteurs, les acteurs, les vendeurs, etc., sont g√©r√©es par plusieurs autres microservices (√† savoir, Deal Service, Talent Service et Vendor Service).</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les utilisateurs professionnels des studios Netflix doivent souvent rechercher diff√©rents crit√®res pour les films, c'est pourquoi il est tr√®s important pour eux de pouvoir rechercher toutes les donn√©es relatives aux films. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avant Delta, l'√©quipe de recherche de films devait r√©cup√©rer les donn√©es de plusieurs microservices avant d'indexer les donn√©es de films. De plus, l'√©quipe a d√ª d√©velopper un syst√®me qui mettrait p√©riodiquement √† jour l'index de recherche, en demandant des changements √† d'autres microservices, m√™me s'il n'y avait aucun changement. Ce syst√®me est rapidement devenu envahi par la complexit√© et est devenu difficile √† entretenir. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/tc/kb/t9/tckbt9vwkwiqmilkt4y18gjqbjs.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 1. Syst√®me de vote avant Delta</font></font></i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Apr√®s avoir utilis√© Delta, le syst√®me a √©t√© simplifi√© en un syst√®me pilot√© par les √©v√©nements, comme illustr√© dans la figure suivante. Les √©v√©nements CDC (Change-Data-Capture) sont envoy√©s aux rubriques Keystone Kafka √† l'aide du Delta-Connector. Une application Delta construite √† l'aide du Delta Stream Processing Framework (bas√© sur Flink) re√ßoit les √©v√©nements CDC du sujet, les enrichit, en invoquant d'autres microservices, et transmet enfin les donn√©es enrichies √† l'index de recherche dans Elasticsearch. L'ensemble du processus se d√©roule en temps quasi r√©el, c'est-√†-dire que d√®s que les modifications sont enregistr√©es dans l'entrep√¥t de donn√©es, les index de recherche sont mis √† jour. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bz/lg/t4/bzlgt47eyfuw8wlbzv2dsx6i3ge.png"><br>
 <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 2. Pipeline de donn√©es utilisant Delta</font></font></i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Dans les sections suivantes, nous d√©crivons le travail du Delta-Connector, qui se connecte au r√©f√©rentiel et publie les √©v√©nements CDC au niveau du transport, qui est une infrastructure de transmission de donn√©es en temps r√©el qui dirige les √©v√©nements CDC vers les sujets Kafka. </font><font style="vertical-align: inherit;">Et √† la toute fin, nous parlerons de l'infrastructure de traitement de flux Delta que les d√©veloppeurs d'applications peuvent utiliser pour la logique de traitement et d'enrichissement.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CDC (Change-Data-Capture)</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Nous avons d√©velopp√© un service CDC appel√© Delta-Connector, qui peut capturer les modifications valid√©es du magasin de donn√©es en temps r√©el et les √©crire dans le flux. </font><font style="vertical-align: inherit;">Les modifications en temps r√©el sont extraites du journal des transactions et des vidages de stockage. </font><font style="vertical-align: inherit;">Les vidages sont utilis√©s car les journaux de transactions ne stockent g√©n√©ralement pas l'int√©gralit√© de l'historique des modifications. </font><font style="vertical-align: inherit;">Les modifications sont g√©n√©ralement s√©rialis√©es en tant qu'√©v√©nements Delta, de sorte que le destinataire n'a pas √† se soucier de l'origine du changement. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Delta-Connector prend en charge plusieurs fonctionnalit√©s suppl√©mentaires, telles que:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Possibilit√© d'√©crire une sortie personnalis√©e apr√®s Kafka.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La possibilit√© d'activer les vidages manuels √† tout moment pour toutes les tables, une table sp√©cifique ou pour certaines cl√©s primaires.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les vidages peuvent √™tre r√©cup√©r√©s par morceaux, il n'est donc pas n√©cessaire de tout recommencer en cas de panne.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il n'est pas n√©cessaire de mettre des verrous sur les tables, ce qui est tr√®s important pour que le trafic d'√©criture vers la base de donn√©es ne soit jamais bloqu√© par notre service.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Haute disponibilit√© gr√¢ce aux sauvegardes dans les zones de disponibilit√© AWS.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous prenons actuellement en charge MySQL et Postgres, y compris les d√©ploiements sur AWS RDS et Aurora. </font><font style="vertical-align: inherit;">Nous prenons √©galement en charge Cassandra (multima√Ætre). </font><font style="vertical-align: inherit;">Vous pouvez en savoir plus sur le Delta-Connector sur ce </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">blog</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kafka et niveau de transport</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La couche Delta Event Transport est bas√©e sur le service de messagerie de la plate-forme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Keystone</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Donc, historiquement, la publication sur Netflix a √©t√© optimis√©e pour une disponibilit√© accrue plut√¥t que pour la long√©vit√© (voir </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l'article pr√©c√©dent</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). Un compromis √©tait l'incoh√©rence potentielle des donn√©es des courtiers dans divers sc√©narios frontaliers. Par exemple, l' </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√©lection d'un chef impur</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est charg√©e de s'assurer que le destinataire duplique ou perd potentiellement des √©v√©nements.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avec Delta, nous voulions obtenir des garanties de durabilit√© plus solides afin d'assurer la livraison des √©v√©nements CDC aux stockages d√©riv√©s. Pour ce faire, nous avons propos√© un cluster Kafka sp√©cialement con√ßu comme objet de premi√®re classe. Vous pouvez consulter certains param√®tres de courtier dans le tableau ci-dessous: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ri/70/hn/ri70hnpnr5wmiedci0_n5clwlwc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans les clusters Keystone Kafka, l' </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√©lection de dirigeants impurs est</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> g√©n√©ralement activ√©e pour garantir la disponibilit√© de l'√©diteur. Cela peut entra√Æner une perte de message si une r√©plique non synchronis√©e est s√©lectionn√©e comme leader. Pour le nouveau cluster Kafka hautement fiable, l'option d' </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√©lection de chef impur</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est </font><font style="vertical-align: inherit;">d√©sactiv√©e pour √©viter la perte de messages. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons √©galement augment√© le </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">facteur</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de </font><i><font style="vertical-align: inherit;">r√©plication</font></i><font style="vertical-align: inherit;"> de 2 √† 3 et </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">les r√©pliques d'insync minimales</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de 1 √† 2. Les √©diteurs qui √©crivent dans ce cluster ont besoin d'acquis de tous les autres, garantissant que 2 r√©pliques sur 3 auront les messages les plus √† jour envoy√©s par l'√©diteur.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque l'instance de courtier se ferme, la nouvelle instance remplace l'ancienne. Cependant, le nouveau courtier devra rattraper les r√©pliques non synchronis√©es, ce qui peut prendre plusieurs heures. Pour r√©duire le temps de r√©cup√©ration de ce sc√©nario, nous avons commenc√© √† utiliser Amazon Elastic Block Store au lieu des disques des courtiers locaux. Lorsqu'une nouvelle instance remplace une instance de courtier termin√©e, elle attache le volume EBS que l'instance termin√©e poss√©dait et commence √† rattraper les nouveaux messages. Ce processus r√©duit le temps n√©cessaire pour √©liminer le backlog de plusieurs heures √† plusieurs minutes, car la nouvelle instance n'a plus besoin d'√™tre r√©pliqu√©e √† partir d'un √©tat vide. En g√©n√©ral, des cycles de vie de stockage et de courtage s√©par√©s r√©duisent consid√©rablement l'effet du changement de courtier.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour augmenter encore la garantie de livraison des donn√©es, nous avons utilis√© </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un syst√®me de suivi des messages</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour d√©tecter toute perte de messages dans des conditions extr√™mes (par exemple, synchronisation d'horloge dans le chef de section).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cadre de traitement de flux</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le niveau de traitement chez Delta est bas√© sur la plate-forme Netflix SPaaS, qui permet l'int√©gration d'Apache Flink avec l'√©cosyst√®me Netflix. La plate-forme fournit une interface utilisateur qui contr√¥le le d√©ploiement des travaux Flink et l'orchestration des clusters Flink au-dessus de notre plate-forme de gestion de conteneurs Titus. L'interface g√®re √©galement les configurations de travaux et permet aux utilisateurs d'effectuer des changements de configuration de mani√®re dynamique sans avoir √† recompiler les travaux Flink. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Delta fournit un cadre de traitement de flux pour les donn√©es </font><b><i><font style="vertical-align: inherit;">bas√©es</font></i></b><font style="vertical-align: inherit;"> sur Flink et SPaaS, qui utilise des </font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">annotations</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DSL (Domain Specific Language) pour r√©sumer les d√©tails techniques. Par exemple, afin de d√©terminer l'√©tape par laquelle les √©v√©nements seront enrichis en appelant des services externes, les utilisateurs doivent √©crire la prochaine DSL, et le framework cr√©era un mod√®le bas√© sur celui-ci que Flink ex√©cutera. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fu/l2/kn/ful2knsuaqitsat9p69qhitq-a4.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 3. Exemple d'enrichissement DSL dans Delta</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Le cadre de traitement raccourcit non seulement la courbe d'apprentissage, mais fournit √©galement des fonctions g√©n√©rales de traitement des flux, telles que la d√©duplication, la sch√©matisation, ainsi que la flexibilit√© et la tol√©rance aux pannes pour r√©soudre les probl√®mes courants au travail.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le Delta Stream Processing Framework se compose de deux modules cl√©s, le module DSL &amp; API et le module Runtime. Le module DSL et API fournit les API DSL et UDF (User-Defined-Function) afin que les utilisateurs puissent √©crire leur propre logique de traitement (comme le filtrage ou les transformations). Le module Runtime fournit une impl√©mentation de l'analyseur DSL, qui construit une repr√©sentation interne des √©tapes de traitement dans les mod√®les DAG. Le composant Execution interpr√®te les mod√®les DAG pour initialiser les instructions Flink r√©elles et finalement lancer l'application Flink. L'architecture du cadre est illustr√©e dans la figure suivante. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/9_/gm/on/9_gmono77zxzhhorwhyghdkgdqq.png"> <br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 4. Architecture du cadre de traitement du flux Delta</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Cette approche pr√©sente plusieurs avantages:</font></font><br>
<br>
<ul>
<li>     -      Flink   SPaaS.</li>
<li>      ,         -     (UDF).</li>
<li>  Delta   ,             ,     .</li>
</ul><br>
<br>
<h3>  </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Delta est en production depuis plus d'un an et joue un r√¥le cl√© dans de nombreuses applications Netflix Studio. </font><font style="vertical-align: inherit;">Il a aid√© les √©quipes √† mettre en ≈ìuvre des cas d'utilisation tels que l'indexation de recherche, le stockage de donn√©es et les workflows √©v√©nementiels. </font><font style="vertical-align: inherit;">Voici un aper√ßu de l'architecture de haut niveau de la plate-forme Delta. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/im/rf/dq/imrfdqholl1umfrm_pb4nqwy064.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 5. L'architecture de haut niveau de Delta.</font></font></i><br>
 <br>
 <h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remerciements</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Nous tenons √† remercier les personnes suivantes qui ont contribu√© √† la cr√©ation et au d√©veloppement de Delta chez Netflix: Allen Wang, Charles Zhao, Jaebin Yoon, Josh Snyder, Kasturi Chatterjee, Mark Cho, Olof Johansson, Piyush Goyal, Prashanth Ramdas, Raghuram Onti Srinivasan, Sandeep Gupta , Steven Wu, Tharanga Gamaethige, Yun Wang et Zhenzhong Xu.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sources</font></font></h3><br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dev.mysql.com/doc/refman/5.7/en/implicit-commit.html</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dev.mysql.com/doc/refman/5.7/en/cannot-roll-back.html</font></font></a></li>
<li>Martin Kleppmann, Alastair R. Beresford, Boerge Svingen: Online event processing. Commun. ACM 62(5): 43‚Äì49 (2019). DOI: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">doi.org/10.1145/3312527</a></li>
</ol><br>
<b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">   </a>: ¬´Data Build Tool   Amazon Redshift¬ª.</b></div>
      
    </div><p class="reference-to-source js-reference-to-source">Source: https://habr.com/ru/post/undefined/</p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr487444/index.html">¬´Tout en buvant du caf√©, factur√© et re√ßu une pouss√©e pour le paiement¬ª - des innovations qui vous permettent de faire des affaires 24/7</a></li>
<li><a href="../fr487446/index.html">Une entreprise peut-elle ¬´poss√©der¬ª la couleur?</a></li>
<li><a href="../fr487448/index.html">Super-pouvoirs des mat√©riaux ultra-minces: en science des mat√©riaux, la 2D est la nouvelle 3D</a></li>
<li><a href="../fr487450/index.html">Nous configurons WireGuard sur un routeur Mikrotik ex√©cutant OpenWrt</a></li>
<li><a href="../fr487454/index.html">Qui sont ces gens? Pourquoi ont-ils besoin de moi? et autres probl√®mes de Scrum Master</a></li>
<li><a href="../fr487462/index.html">Biblioth√®que JavaScript Webix vue par un d√©butant. Partie 4. Travailler avec des donn√©es. CRUD</a></li>
<li><a href="../fr487470/index.html">Calibry: Perc√©e 3D Prix Perc√©e</a></li>
<li><a href="../fr487486/index.html">Sega Dreamcast Anatomy: Console Second Life</a></li>
<li><a href="../fr487488/index.html">Cas d'application des outils d'analyse d'anomalies de r√©seau: d√©tection de la propagation de code malveillant</a></li>
<li><a href="../fr487490/index.html">Transformation XSL sur MS SQL sans CLR</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>