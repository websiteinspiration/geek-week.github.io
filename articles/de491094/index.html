<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🕴🏽 🌏 ⚠️ Installation von Firebird 3 unter modernen Linux-Versionen: CentOS8 und Ubuntu 19 🚌 🏇🏾 🌤️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In diesem Artikel beschreiben wir die Mindestschritte, die erforderlich sind, um Firebird Version 3.0 auf neuen Linux-Distributionen optimal zu instal...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Installation von Firebird 3 unter modernen Linux-Versionen: CentOS8 und Ubuntu 19</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/491094/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In diesem Artikel beschreiben wir die Mindestschritte, die erforderlich sind, um Firebird Version 3.0 auf neuen Linux-Distributionen optimal zu installieren. </font><font style="vertical-align: inherit;">Beispielsweise wurden CentOS 8 und Ubuntu 19 ausgewählt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Für die "Übermittlung" der Firebird-Distribution an das Zielsystem wurde in diesem Handbuch die Option ausgewählt, das tar.gz-Archiv über den Link von der offiziellen Website des Projekts ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">firebirdsql.org</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">herunterzuladen</font></a><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Für die Ungeduldigsten - sofort in die Schlacht:</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schnelle Installation</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bearbeiten Sie die Datei, </font></font><code>/etc/sysctl.conf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">indem Sie die folgende Zeile hinzufügen:</font></font><br>
<br>
<pre><code class="plaintext hljs">vm.max_map_count = 256000
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Speichern Sie die Datei und wenden Sie die Einstellung an:</font></font><br>
<br>
<pre><code class="plaintext hljs">sudo sysctl -p /etc/sysctl.conf
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Weitere Anweisungen unterscheiden sich für CentOS 8 und Ubuntu 19, sie enthalten jedoch </font></font><code></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">auch </font></font><code></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">den Link von der offiziellen Firebird-Projektwebsite zum Herunterladen des Distributionspakets und das Verzeichnis, in das das Distributionspaket während des Startvorgangs entpackt wird. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Derzeit (März 2020) ist </font><font style="vertical-align: inherit;">die Version </font><font style="vertical-align: inherit;">Firebird 3.0.5 relevant ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier ist ein Link</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zur 64-Bit-Version). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CentOS 8</font></font><br>
<br>
<pre><code class="plaintext hljs">sudo yum -y install epel-release<font></font>
sudo yum -y makecache<font></font>
sudo yum -y install libicu libtommath tar<font></font>
ln -s libncurses.so.5 \<font></font>
/usr/lib64/libncurses.so.5<font></font>
ln -s libtommath.so.1 \<font></font>
/usr/lib64/libtommath.so.0<font></font>
curl -L |tar -zxC /tmp<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ubuntu 19</font></font><br>
<br>
<pre><code class="plaintext hljs">sudo apt-get -y install libncurses5 libtommath1<font></font>
ln -s libtommath.so.1 \<font></font>
/usr/lib/x86_64-linux-gnu/libtommath.so.0<font></font>
wget -O- |tar -zxC /tmp<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Installieren des Firebird DBMS:</font></font><br>
<br>
<pre><code class="plaintext hljs">cd /tmp/<font></font>
sudo ./install.sh<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie besser verstehen möchten, wozu diese Aktionen dienen, lesen Sie weiter. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hauptteil </font></font></strong><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kleine Präambel</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Es wird davon ausgegangen, dass das Betriebssystem bereits in der Mindestversion installiert ist und der Zugriff auf öffentliche Repositorys oder deren lokale Kopien konfiguriert ist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es wird davon ausgegangen, dass der Leser über Grundkenntnisse in Linux und Firebird DBMS verfügt. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Planung Es wird</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
empfohlen, separate Abschnitte für temporäre Dateien ( </font></font><code>/tmp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), Datenbankdateien und lokale Sicherungen </font><font style="vertical-align: inherit;">auf dem DBMS-Server zuzuweisen </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Temporäre Include-Sperrdateien, Sortierdateien, Materialisierungsdateien globaler temporärer Tabellen (GTTs) und Überwachungstabellen. Sortierdateien und globale temporäre Tabellen befinden sich in </font></font><code>/tmp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, mon $ table-Dateien und Sperrdateien befinden sich in </font></font><code>/tmp/firebird</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sortierdateien werden </font></font><code>unlink</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">unmittelbar nach der Erstellung </font><font style="vertical-align: inherit;">"gelöscht" ( </font><font style="vertical-align: inherit;">), daher können sie in der Verzeichnisliste nicht "gesehen" werden - nur in der Liste der Prozesshandles (markiert als </font></font><code>deleted</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">):</font></font><br>
<br>
<pre><code class="plaintext hljs">sudo ls -lhF /proc/`pgrep firebird`/fd
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der Pseudoverzeichnisliste </font></font><code>/proc/…/fd/</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">werden Symlinks angezeigt, und die tatsächlichen Informationen zur Datei werden angegeben durch:</font></font><br>
<br>
<pre><code class="plaintext hljs">sudo stat -L /proc/`pgrep firebird`/fd/
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wo </font></font><code></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ist der Deskriptor (Deskriptor) der interessierenden Datei? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anstatt " </font></font><code>pgrep -</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font><font style="vertical-align: inherit;">aufzurufen </font><font style="vertical-align: inherit;">, können Sie sofort die Kennung des interessierenden Prozesses ersetzen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Temporäre Dateien können sehr groß sein, daher wird </font></font><code>/tmp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">empfohlen, mindestens 20 bis 30 GB zuzuweisen. Beachten Sie, dass die Größe des Sortierens von Dateien nur von der Datenmenge abhängt, die explizit oder implizit in der Anforderung sortiert ist, und dass ein einzelner Benutzer Gigabyte temporärer Dateien „erstellen“ kann. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Abschnitt für Datenbankdateien sollte alle Datenbankdateien enthalten. plus mindestens eine Kopie der größten Datenbankdatei. Es sollte das Wachstum von Datenbankdateien in der Zukunft einige Jahre im Voraus berücksichtigen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Abschnitt für lokale Sicherungen muss mindestens ein Sicherungsarchiv aller Basen sowie die Sicherung der größten Basis enthalten. </font><font style="vertical-align: inherit;">Es ist ratsam, dass in diesem Abschnitt auch die größte Basis wiederhergestellt werden kann. </font><font style="vertical-align: inherit;">Es sollte das Wachstum von Backups und Backup-Archiven in der Zukunft für einige Jahre berücksichtigen. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vorbereitende Vorbereitung Der</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Firebird 3.0 DBMS-Server weist den Systemspeicher dynamisch zu und gibt ihn frei, was zu einer Fragmentierung führen kann. </font><font style="vertical-align: inherit;">Wenn beispielsweise eine große Anzahl von Benutzern gleichzeitig die Verbindung zum Superserver trennt, können bei neuen Verbindungen Fehler auftreten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Speicherfragmentierung wird </font></font><code>vm.max_map_count</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">standardmäßig </font><font style="vertical-align: inherit;">über den Systemparameter gesteuert </font><font style="vertical-align: inherit;">- 64 KB. </font><font style="vertical-align: inherit;">Es wird empfohlen, den Wert viermal zu erhöhen:</font></font><br>
<br>
<pre><code class="plaintext hljs">sudo sysctl vm.max_map_count=256000
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fügen Sie der Datei die folgende </font></font><code>/etc/sysctl.conf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zeile </font><font style="vertical-align: inherit;">hinzu, um den neuen Wert beim Neustart des Systems festzulegen </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="plaintext hljs">vm.max_map_count = 256000
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist ratsam, einen Kommentar abzugeben, damit der Grund für die Änderung dieses Parameters verstanden wird. Sie können zuerst die Datei bearbeiten und dann die darin gespeicherten Einstellungen anwenden:</font></font><br>
<br>
<pre><code class="plaintext hljs">sudo sysctl -p /etc/sysctl.conf
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Installieren der erforderlichen Pakete Die </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ausführbaren Dateien des Firebird 3.0 Linux DBMS hängen von den </font><font style="vertical-align: inherit;">Bibliotheken </font><font style="vertical-align: inherit;">ncurses ( </font></font><code>libncurses.so.5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), ICU (ohne Versionsbindung und ohne Anzeige in der Ausgabe </font></font><code>ldd</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) und tommath ( </font></font><code>libtommath.so.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) ab. Zum Herunterladen und Entpacken des Assembly-Archivs sind Dienstprogramme erforderlich </font></font><code>gzip</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>tar</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und </font></font><code>curl</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">oder </font></font><code>wget</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Version der ICU </font></font><code>gzip</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>tar</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und </font></font><code>curl</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ </font></font><code>wget</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- sind unbedeutend. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Arbeit mit Paketen hängt vom System und vom im System verwendeten Paketmanager ab. Daher werden wir sie einzeln betrachten. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CentOS 8</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
CentOS 8 verwendet den neuen Paketmanager - </font></font><code>dnf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und wird auf Befehl "transparent" aufgerufen </font></font><code>yum</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Da es für unsere Zwecke keinen Unterschied zwischen ihnen gibt, wird es Beispiele geben </font></font><code>yum</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aktualisieren des Metadaten-Cache:</font></font><code>sudo yum makecache</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das libtomath-Paket befindet sich in einem separaten E (xtra) P (ackages for) E (nterprise) L (inux) -Repositorys. Wir überprüfen daher, ob es bereits verbunden ist:</font></font><br>
<br>
<pre><code class="plaintext hljs">yum -C repolist
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Option "Nur aus dem Cache" ( </font></font><code>-C</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">oder </font></font><code>--cache-only</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font><font style="vertical-align: inherit;">wird </font><font style="vertical-align: inherit;">verwendet, um unnötige Überprüfungen und Downloads zu vermeiden und das Yum zu beschleunigen. </font><font style="vertical-align: inherit;">Wenn die Liste kein Epel-Repository enthält, installieren Sie es und aktualisieren Sie den Metadaten-Cache:</font></font><br>
<br>
<pre><code class="plaintext hljs">sudo yum install epel-release &amp;&amp;<font></font>
sudo yum makecache<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir bestätigen die Anforderungen, falls erforderlich, indem wir die Werte von pgp-Schlüsseln mit denen überprüfen, die bereits aus einer vertrauenswürdigen Quelle bekannt sind. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie Probleme beim Herunterladen von Repository-Metainformationen von https-Ressourcen haben, bearbeiten Sie die Datei </font></font><code>/etc/yum.repos.d/epel.repo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ersetzen Sie sie </font></font><code>https://</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">durch </font></font><code>http://</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und wiederholen Sie den Befehl zum Aktualisieren des Cache. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Überprüfen Sie den Status der erforderlichen Pakete (der Befehl ist gefaltet, im Ausgabebeispiel wird das 32-Bit-Paket gefiltert):</font></font><br>
<br>
<pre><code class="plaintext hljs">yum -C list \<font></font>
ncurses libicu libtommath \<font></font>
gzip tar curl wget |<font></font>
grep -v i686<font></font>
Installed Packages<font></font>
curl.x86_64 7.61.1-11.el8 @anaconda<font></font>
gzip.x86_64 1.9-9.el8 @anaconda<font></font>
ncurses.x86_64 6.1-7.20180224.el8 @anaconda<font></font>
Available Packages<font></font>
libicu.x86_64 60.3-1.el8 BaseOS<font></font>
libtommath.x86_64 1.1.0-1.el8 epel<font></font>
tar.x86_64 2:1.30-4.el8 BaseOS<font></font>
wget.x86_64 1.19.5-8.el8_1.1 AppStream<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir sehen , </font><font style="vertical-align: inherit;">dass </font></font><code>curl</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>gzip</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und </font></font><code>ncurses</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sind in der pseudo-Repository des Installateurs (befinden </font></font><code>anaconda</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), und </font></font><code>tar</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- wird von der minimalen Installation des Systems ausgeschlossen. </font><font style="vertical-align: inherit;">Hauptversionen </font></font><code>libncurses</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und </font></font><code>libtommath</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mehr als erforderlich: 6 und 1 statt 5 bzw. 0. </font><font style="vertical-align: inherit;">Wenn dasselbe Paket installiert und verfügbar ist, wurde ein Update dafür veröffentlicht. </font><font style="vertical-align: inherit;">Installieren Sie die fehlenden Pakete:</font></font><br>
<br>
<pre><code class="plaintext hljs">sudo yum install \<font></font>
libicu libtommath tar<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ubuntu 19 </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dienstprogramme sind für die </font><font style="vertical-align: inherit;">Paketverwaltung konzipiert </font></font><code>apt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>apt‑get</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und </font></font><code>apt‑cache</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Die erste ist für interaktives Arbeiten konzipiert, die letzten beiden für die Verwendung in Skripten. </font><font style="vertical-align: inherit;">Paketnamen unterscheiden sich geringfügig und enthalten eine Version. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir überprüfen den Status der erforderlichen Pakete (der Befehl ist komplex, das Ausgabebeispiel wird reduziert und 32-Bit-Pakete werden herausgefiltert):</font></font><br>
<br>
<pre><code class="plaintext hljs">apt list libncurses? libicu?? libtommath? \<font></font>
gzip tar curl wget |<font></font>
grep -v i386<font></font>
curl 7.65.3-1<font></font>
gzip 1.10-0 [upgradable…]<font></font>
libicu63 63.2-2 [installed]<font></font>
libncurses5 6.1<font></font>
libncurses6 6.1 [installed,automatic]<font></font>
libtommath1 1.1.0<font></font>
tar 1.30 [installed]<font></font>
wget 1.20.3 [installed]<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pakete, für die </font></font><code>installed</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ </font></font><code>upgradable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font><font style="vertical-align: inherit;">in eckigen Klammern </font><font style="vertical-align: inherit;">installiert </font><font style="vertical-align: inherit;">sind </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Verfügbar, aber nicht installiert </font></font><code>ncurses5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, anstatt </font></font><code>curl</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">installiert </font></font><code>wget</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Installieren Sie die fehlenden Pakete:</font></font><br>
<br>
<pre><code class="plaintext hljs">sudo apt‑get install \<font></font>
libncurses5 libtommath1<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Erstellen von Symlinks </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da </font></font><code>libtommath.so.1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diese </font></font><code>libncurses.so.6</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">abwärtskompatibel mit </font></font><code>libtommath.so.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und sind </font></font><code>libncurses.so.5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, reicht es für Firebird aus, Symlinks zu vorhandenen Versionen von Bibliotheken zu erstellen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir finden </font></font><code>libtommath.so.1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(befindet </font></font><code>libncurses.so.?</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sich im selben Verzeichnis):</font></font><br>
<br>
<pre><code class="plaintext hljs">find /usr -name libtommath.so.1
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CentOS:</font></font><br>
<br>
<pre><code class="plaintext hljs">/usr/lib64/libtommath.so.1
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ubuntu:</font></font><br>
<br>
<pre><code class="plaintext hljs">/usr/lib/x86_64-linux-gnu/libtommath.so.1
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Erstellen Sie Symlinks. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CentOS:</font></font><br>
<br>
<pre><code class="plaintext hljs">sudo ln -s libtommath.so.1 \<font></font>
/usr/lib64/libtommath.so.0<font></font>
sudo ln -s libncurses.so.6 \<font></font>
/usr/lib64/libncurses.so.5<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ubuntu:</font></font><br>
<br>
<pre><code class="plaintext hljs">sudo ln -s libtommath.so.1 \<font></font>
/usr/lib/x86_64-linux-gnu/libtommath.so.0<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Überprüfen Sie das Ergebnis (der Befehl ist gefaltet, Ausgabebeispiele werden gekürzt):</font></font><br>
<br>
<pre><code class="plaintext hljs">ls -lhF \<font></font>
$(dirname `find /usr -name libtommath.so.1`) |<font></font>
grep "lib\(ncurses\|tommath\)\.so\."<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CentOS:</font></font><br>
<br>
<pre><code class="plaintext hljs">libncurses.so.5 -&gt; libncurses.so.6*<font></font>
libncurses.so.6 -&gt; libncurses.so.6.1*<font></font>
libncurses.so.6.1*<font></font>
libtommath.so.0 -&gt; libtommath.so.1*<font></font>
libtommath.so.1 -&gt; libtommath.so.1.1.0*<font></font>
libtommath.so.1.1.0*<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ubuntu:</font></font><br>
<br>
<pre><code class="plaintext hljs">libncurses.so.5 -&gt; libncurses.so.5.9<font></font>
libncurses.so.5.9<font></font>
libncurses.so.6 -&gt; libncurses.so.6.1<font></font>
libncurses.so.6.1<font></font>
libtommath.so.0 -&gt; libtommath.so.1<font></font>
libtommath.so.1 -&gt; libtommath.so.1.1.0<font></font>
libtommath.so.1.1.0<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Herunterladen des Firebird DBMS-Verteilungskits. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die offizielle Website des Firebird-Projekts (firebirdsql.org) veröffentlicht Links zu Distributionen der "offiziellen" Releases (Releases) und "täglichen" Assemblys (Snapshot Build). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Offizielle Linux-Versionen sind als Archive (tar.gz) und deb / rpm-Pakete verfügbar, und Builds sind nur als Archive verfügbar. </font><font style="vertical-align: inherit;">Wir werden uns das "generische Installationsprogramm" (generisches Installationsprogramm von tar.gz) ansehen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Assembly-Archiv muss heruntergeladen und entpackt werden, aber wir werden beide Prozesse kombinieren. </font><font style="vertical-align: inherit;">Das Entpacken erfolgt in </font></font><code>/tmp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, die URL zeigt einen Link zum herunterladbaren Archiv an. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Locken:</font></font><br>
<br>
<pre><code class="plaintext hljs">curl -L URL | tar -zxC /tmp
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
wget:</font></font><br>
<br>
<pre><code class="plaintext hljs">wget -O– URL | tar -zxC /tmp
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Standardmäßig </font></font><code>curl</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sendet es die geladenen Daten an die Standardausgabe, verarbeitet jedoch keine Weiterleitungen und wir fügen " </font></font><code>‑L</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" hinzu, aber </font></font><code>wget</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">im Gegenteil: Es verarbeitet Weiterleitungen, schreibt jedoch Daten in eine Datei und wir setzen " </font></font><code>‑O‑</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">". Für </font></font><code>tar</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zeigen die Verwendung des </font></font><code>gzip</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Filters und das Verzeichnis , </font><font style="vertical-align: inherit;">in dem das Entpacken durchgeführt werden. Nach Abschluss des Prozesses wird die Verzeichnis Art sein </font></font><code>Firebird‑3.0.5.33220‑0.amd64</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mit drei Dateien: </font></font><code>install.sh</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>buildroot.tar.gz</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und </font></font><code>manifest.txt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Installieren von Firebird</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Während der vorläufigen Vorbereitung haben wir den Wert des Systemparameters angepasst </font></font><code>vm.max_map_count</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, die Verfügbarkeit überprüft und die Bibliotheken ICU, ncurses und tommath installiert. Wir haben sichergestellt, dass die Versionen von ncurses und tommath ( </font></font><code>libncures.so.5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und </font></font><code>libtommath.so.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font><font style="vertical-align: inherit;">korrekt sind, </font><font style="vertical-align: inherit;">und die erforderlichen Symlinks erstellt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eigentlich ist die Installation sehr einfach. </font><font style="vertical-align: inherit;">Wir gehen zu dem Verzeichnis, in dem das Archiv des Firebird-Distributionskits entpackt wurde, überprüfen und setzen gegebenenfalls das Flag "ausführbare Datei" für das Skript </font></font><code>install.sh</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="plaintext hljs">chmod +x install.sh
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Führen Sie das Installationsskript aus:</font></font><br>
<br>
<pre><code class="plaintext hljs">sudo ./install.sh
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Durch Drücken der Eingabetaste bestätigen wir den Beginn der Installation und geben nach Erhalt der Anfrage das sysdba-Passwort ein. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Installationsskript startet automatisch eine </font></font><code>systemd</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Einheit </font></font><code>firebird-superserver</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(die Standard-Firebird 3.0-Architektur). </font><font style="vertical-align: inherit;">Der Firebird-Dienst arbeitet mit Standardparametern für einen Superserver: einem Seitencache von 2048 Seiten (pro Basis), einem Sortierpuffer von 64 MB (gemeinsam genutzt) und dem Verbinden nur von Clients der dritten Version. </font><font style="vertical-align: inherit;">Ansichtsoptionen </font></font><code>firebird.conf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="plaintext hljs">grep -v ^# firebird.conf | grep -v ^$
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bitte beachten Sie, dass neue Werte von </font></font><code>firebird.conf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">erst nach dem Neustart des Firebird-Dienstes aktiviert werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei der Auswahl der Parameterwerte sollte berücksichtigt werden, dass es drei Hauptkonsumenten gibt: Seitencache (für die Datenbank), Sortierpuffer (gemeinsam genutzt) und Speicher, der vom Server für Clientverbindungen zugewiesen wird. Sie können nur die ersten beiden verwalten. Die Speicherkapazität für Clientverbindungen hängt von der Anzahl und dem Text der zwischengespeicherten Anforderungen, ihren Plänen und den an den Anforderungen beteiligten Datenbankobjekten ab. Die Speicherauswertung von Clientverbindungen erfolgt nur empirisch und kann sich ändern, wenn sich Clientanwendungen und / oder Datenbankobjekte ändern. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Für einen Superserver auf Hosts mit wenig Speicher (bis zu 12-16 GB) sollten Sie nicht mehr als ein Drittel oder ein Viertel des gesamten Arbeitsspeichers für den Seitencache und den Sortierpuffer zuweisen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn die Anzahl der Datenbanken nicht festgelegt ist und sich ändern kann, sollte der Gesamtspeicher des Seitencaches durch die maximale Anzahl der Datenbanken geteilt werden, die sich auf dem Server befinden können. Die Größe des Seitencaches wird in Seiten festgelegt und muss separat in Bytes konvertiert werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um auf die klassische Architektur zu </font><font style="vertical-align: inherit;">wechseln, müssen Sie zumindest explizit angeben , </font></font><code>ServerMode</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in </font></font><code>firebird.conf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, reduzieren Sie </font><font style="vertical-align: inherit;">die Seiten - </font><font style="vertical-align: inherit;">Cache an der gleichen Stelle (nicht mehr als 2K), reduzieren Sie </font><font style="vertical-align: inherit;">die Sortierpuffer (die zulässige Gesamtmenge aller Art , </font><font style="vertical-align: inherit;">dividiert durch die maximale Anzahl der Verbindungen), deaktivieren und das Gerät stoppen </font></font><code>firebird-superserver</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, aktivieren und ausführen Einheit </font></font><code>firebird-classic.socket</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Verwendung der Superclassics-Architektur in Firebird 3.0 macht wenig Sinn: „Zuverlässigkeit“ hat - wie ein Superserver - denselben allgemeinen Sortierpuffer. </font><font style="vertical-align: inherit;">Es gibt keinen allgemeinen Seiten-Cache und der „Verlust“ beim Synchronisieren verschiedener Verbindungen untereinander ist der gleiche wie bei einem Klassiker. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist zu beachten, dass in Firebird 3.0 einige der Parameter (Seitencache, Sperrdateigrößen, Hash-Tabellen und einige andere) </font></font><code>databases.conf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">für jede Datenbank einzeln festgelegt werden können. </font><font style="vertical-align: inherit;">Für einen Superserver ist es beispielsweise nützlich, einen kleinen Wert </font></font><code>DefaultDbCachePages</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in </font></font><code>firebird.conf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">festzulegen und einzelne Seitencaches auf die erforderlichen Datenbanken in festzulegen </font></font><code>databases.conf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><b><font style="vertical-align: inherit;">Stellen</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Sie Fragen zu dem Artikel in den Kommentaren oder schreiben Sie Briefe an unsere Support-Adresse </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">support@ibase.ru.</font></font></b></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de491084/index.html">saneex.c: try / catch / finally basierend auf setjmp / longjmp (C99) schneller als Standard-C ++ - Ausnahmen ¹</a></li>
<li><a href="../de491086/index.html">Webix JavaScript-Bibliothek mit den Augen eines Anfängers. Teil 6. Serverinteraktion</a></li>
<li><a href="../de491088/index.html">GitHub: Neue Open Source Library für OSINT</a></li>
<li><a href="../de491090/index.html">Konvertieren Sie Textdokumente in C # in XML</a></li>
<li><a href="../de491092/index.html">Wie Crash Bandicoot Playstation gehackt hat</a></li>
<li><a href="../de491100/index.html">Auf Wanhao 5S druckten sie eine Puppe mit der Größe einer Person</a></li>
<li><a href="../de491102/index.html">Wie man einen Service entwickelt, wenn es harte Konkurrenten gibt</a></li>
<li><a href="../de491104/index.html">Wie ich einen Hardwarefehler auf meinem Lenovo MiiX 2 10 Tablet gefunden habe</a></li>
<li><a href="../de491106/index.html">Warum benötigen Sie möglicherweise eine halbsynchrone Replikation?</a></li>
<li><a href="../de491108/index.html">Organisieren von Bereitstellungen in vielen k8s-Umgebungen mithilfe der Helmdatei</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>