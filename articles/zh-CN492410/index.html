<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¦ ğŸ¤ŸğŸ» ğŸ‘©â€â¤ï¸â€ğŸ’‹â€ğŸ‘¨ Yandexè¿›è¡Œäº†æµ‹é‡ï¼ŒC ++æ¯”Rustæ›´å¿«æ›´å®‰å…¨ ğŸ¦‚ ğŸ“ ğŸ†</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="å‰§é€ï¼šC ++æ—¢ä¸å¿«ä¹Ÿä¸æ…¢ï¼Œé€šå¸¸è¿™ä¸æ˜¯é‡ç‚¹ã€‚æœ¬æ–‡æ˜¯æ­ç©¿å¤§å‹ä¿„ç½—æ–¯å…¬å¸å…³äºRustè¯­è¨€ç¥è¯çš„å…‰è£ä¼ ç»Ÿçš„å»¶ç»­ã€‚ä¸Šä¸€ä¸ªæ˜¯â€œ æ¯”Rustï¼ŒMail.Ru Groupè¿›è¡Œæµ‹é‡è¦å¿« â€ã€‚
 

æœ€è¿‘ï¼Œæˆ‘è¯•å›¾å¼•è¯±ä¸€ä½åŒäº‹ï¼Œæ¥è‡ªé‚»è¿‘éƒ¨é—¨çš„sishnik æš—é”ˆçš„ä¸€é¢ã€‚ä½†æ˜¯æˆ‘ä¸åŒäº‹çš„å¯¹è¯æ²¡æœ‰è§£å†³ã€‚å› ä¸ºï¼Œå¼•ç”¨ï¼š
 201...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Yandexè¿›è¡Œäº†æµ‹é‡ï¼ŒC ++æ¯”Rustæ›´å¿«æ›´å®‰å…¨</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/492410/"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‰§é€ï¼šC ++æ—¢ä¸å¿«ä¹Ÿä¸æ…¢ï¼Œé€šå¸¸è¿™ä¸æ˜¯é‡ç‚¹ã€‚</font><font style="vertical-align: inherit;">æœ¬æ–‡æ˜¯æ­ç©¿å¤§å‹ä¿„ç½—æ–¯å…¬å¸å…³äºRustè¯­è¨€ç¥è¯çš„å…‰è£ä¼ ç»Ÿçš„å»¶ç»­ã€‚</font><font style="vertical-align: inherit;">ä¸Šä¸€ä¸ªæ˜¯â€œ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¯”Rustï¼ŒMail.Ru Groupè¿›è¡Œæµ‹é‡è¦å¿«</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> â€ã€‚</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœ€è¿‘ï¼Œæˆ‘è¯•å›¾å¼•è¯±ä¸€ä½åŒäº‹ï¼Œæ¥è‡ªé‚»è¿‘éƒ¨é—¨çš„sishnik </font></font><del><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æš—</font></font></del><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é”ˆçš„ä¸€é¢ã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯æˆ‘ä¸åŒäº‹çš„å¯¹è¯æ²¡æœ‰è§£å†³ã€‚</font><font style="vertical-align: inherit;">å› ä¸ºï¼Œå¼•ç”¨ï¼š</font></font></p><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2019å¹´ï¼Œæˆ‘å‚åŠ äº†</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C ++ CoreHardä¼šè®®</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œå¬äº†å®‰ä¸œçš„æŠ¥å‘Š</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å®‰æ‰˜ä»€å¡</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Polukhinaä¸Šå¿…ä¸å¯å°‘çš„C ++ã€‚</font><font style="vertical-align: inherit;">æ®å®‰ä¸œè¯´ï¼Œé²æ–¯ç‰¹è¿˜å¾ˆå¹´è½»ï¼Œä¸æ˜¯å¾ˆå¿«ï¼Œä¹Ÿä¸æ˜¯å¾ˆå®‰å…¨ã€‚</font></font></blockquote><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anton Polukhinæ˜¯ä¿„ç½—æ–¯åœ¨æ ‡å‡†åŒ–C ++å·¥ä½œç»„å›½é™…ä¼šè®®ä¸Šçš„ISOä»£è¡¨ï¼Œä»–æ˜¯æ¥å—çš„C ++è¯­è¨€æ ‡å‡†ææ¡ˆçš„ä½œè€…ã€‚</font><font style="vertical-align: inherit;">Antonåœ¨C ++æ–¹é¢ç¡®å®å¾ˆé…·è€Œä¸”æœ‰æƒå¨ã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯è¯¥æŠ¥å‘ŠåŒ…å«ä¸€äº›æœ‰å…³Rustçš„ä¸¥é‡äº‹å®é”™è¯¯ã€‚</font><font style="vertical-align: inherit;">è®©æˆ‘ä»¬æŠŠå®ƒä»¬åˆ†å¼€ã€‚</font></font></p><a name="habracut"></a><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘ä»¬æ­£åœ¨è°ˆè®ºä»</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13:00</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åˆ°</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">22:35çš„</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æŠ¥å‘Š</font><font style="vertical-align: inherit;">ã€‚</font></font></p><br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/fT3OALUyuhs" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<h1 id="oglavlenie"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç›®å½•</font></font></h1><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç¥è¯1ã€‚</font><font style="vertical-align: inherit;">Rustä¸­çš„ç®—æœ¯å¹¶ä¸æ¯”C ++æ›´å®‰å…¨</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç¥è¯2ã€‚</font><font style="vertical-align: inherit;">Rustçš„ä¼˜ç‚¹ä»…åœ¨å¯¹è±¡å¯¿å‘½åˆ†æä¸­</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç¥è¯3ã€‚</font><font style="vertical-align: inherit;">Rustä¸­çš„å‡½æ•°è°ƒç”¨ä¼šæ— æ„è¯†åœ°è§¦æ‘¸å†…å­˜</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> â„–4. Rust  C++</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> â„–5. C â†’ ++ â€” noop, C â†’ Rust â€” PAIN!!!!!!!</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> â„–6. unsafe    Rust</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> â„–7. Rust     </a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> â„–8.  Rust  </a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a></li>
</ul><br>
<a name="para_1"></a><br>
<h1 id="mif-1-arifmetika-v-rust-nichut-ne-bezopasney-c"> â„–1.   Rust    C++.</h1><br>
<p>          (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">link:godbolt</a>):</p><br>
<div class="scrollable-table"><table>
<tbody><tr>
<th>Rust</th>
<th>C++</th>
</tr>
<tr>
<td><pre><code class="rust">pub fn square(num: i32) -&gt; i32 {<font></font>
    return num * num<font></font>
}</code></pre><br>
 </td>
<td><pre><code class="cpp">auto square(std::int32_t num) {<font></font>
    return num * num;<font></font>
}</code></pre><br>
 </td>
</tr>
<tr>
<td><pre><code class="plaintext">example::square:<font></font>
  mov eax, edi<font></font>
  imul eax, edi<font></font>
  ret</code></pre><br>
 </td>
<td><pre><code class="plaintext">square(int): # @square(int)<font></font>
  mov eax, edi<font></font>
  imul eax, edi<font></font>
  ret</code></pre><br>
 </td>
</tr>
</tbody></table></div><br>
<p> (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">13:35</a>):</p><br>
<blockquote>   . !     .   C++  Rust     .</blockquote><p>  ,         ,       .   ,      ,    .        ,    Rust   [-2147483648, 2147483647],    C++  [-46340, 46340].    ? ?</p><br>
<p>  -46340  46340 â€”     ,     <code>std::int32_t</code>.        - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">signed overflow</a>.    ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">PVS-Studio</a>.     ,    ,    CI      ,    :</p><br>
<pre><code class="bash">runtime error: signed integer overflow: 46341 * 46341 cannot be represented in type 'int'<font></font>
runtime error: signed integer overflow: -46341 * -46341 cannot be represented in type 'int'</code></pre><br>
<p> Rust          . </p><br>
<p> ,      (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">13:58</a>):</p><br>
<blockquote>          ,   C++          .   .     C++    .   Rust'   ,       .        .  Rust'   ,           ,     ,   .     ,     , Rust     .     -   .</blockquote><p>  ,     Rust,    ,    Rust  LLVM â€”    ,    Clang. , Rust Â«Â»     C++         .          ,   ,  .            C++        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> </a>.    .</p><br>
<p>  ,        int'a:</p><br>
<pre><code class="cpp">unsigned MAX_INT = 2147483647;<font></font>
<font></font>
int hash_code(std::string x) {<font></font>
    int h = 13;<font></font>
    for (unsigned i = 0; i &lt; 3; i++) {<font></font>
        h += h * 27752 + x[i];<font></font>
    }<font></font>
    if (h &lt; 0) h += MAX_INT;<font></font>
    return h;<font></font>
}</code></pre><br>
<blockquote>  ,  ,   Â«byeÂ»,     ( ,       )    .    ,   ,   ,    MAX_INT     .</blockquote><p>  PVS-Studio,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">  </a>.   27752  3 ,  ,       ,      -  .</p><br>
<p>   Rust    (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">link:playground</a>):</p><br>
<pre><code class="rust">fn hash_code(x: String) -&gt; i32 {<font></font>
    let mut h = 13i32;<font></font>
    for i in 0..3 {<font></font>
        h += h * 27752 + x.as_bytes()[i] as i32;<font></font>
    }<font></font>
    if h &lt; 0 {<font></font>
        h += i32::max_value();<font></font>
    }<font></font>
    return h;<font></font>
}<font></font>
<font></font>
fn main() {<font></font>
    let h = hash_code("bye".to_string());<font></font>
    println!("hash: {}", h);<font></font>
}</code></pre><br>
<p>     Debug  Release  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> </a>,        : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">wrapping*</a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">saturating*</a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">overflowing*</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">checked*</a>.</p><br>
<p> ,             . </p><br>
<p>   â€”    ,         C++    .     .           ,      ,         Â«Â»  ,      .</p><br>
<a name="para_2"></a><br>
<h1 id="mif-2-plyusy-rust-tolko-v-analize-vremeni-zhizni-obektov"> â„–2.  Rust      .</h1><br>
<p>     (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">link:godbolt</a>):</p><br>
<div class="scrollable-table"><table>
<tbody><tr>
<th>Rust</th>
<th>C++</th>
</tr>
<tr>
<td><pre><code class="rust">pub fn foo(max: i32,<font></font>
           num: i32) -&gt; i32 {<font></font>
    return max * num<font></font>
}<font></font>
<font></font>
pub fn bar(max: i32,<font></font>
           num: i32) -&gt; i32 {<font></font>
    return bar(max, num) *<font></font>
           bar(max, num)<font></font>
}</code></pre><br>
 </td>
<td><pre><code class="cpp">auto foo(std::int32_t max,<font></font>
         std::int32_t num) {<font></font>
    return max * num;<font></font>
}<font></font>
<font></font>
std::int32_t bar(std::int32_t max,<font></font>
                 std::int32_t num) {<font></font>
    return bar(max, num) *<font></font>
           bar(max, num);<font></font>
}</code></pre><br>
 </td>
</tr>
<tr>
<td><pre><code class="plaintext">example::foo:<font></font>
  mov eax, edi<font></font>
  imul eax, esi<font></font>
  ret<font></font>
example::bar:<font></font>
  ret</code></pre><br>
 </td>
<td><pre><code class="plaintext">foo(int, int): # @foo(int, int)<font></font>
  mov eax, edi<font></font>
  imul eax, esi<font></font>
  ret<font></font>
bar(int, int): # @bar(int, int)<font></font>
  ret</code></pre><br>
 </td>
</tr>
</tbody></table></div><br>
<p> (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">15:15</a>):</p><br>
<blockquote> Rust'   C++    ,   <code>bar</code>   .      -,    -  .      â€¦   ,  Rust    ,          , UB â€”   ,     , -   .  -  ,    - . --   . </blockquote><p>    . -      ,   NOP   <code>bar</code>   C++,    Rust.    LLVM.</p><br>
<p>  LLVM IR    ,   (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">link:godbolt</a>):</p><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td>code</td>
<td><pre><code class="rust">#[no_mangle]<font></font>
pub fn bar(max: i32, num: i32) -&gt; i32 {<font></font>
    return bar(max, num) * bar(max, num)<font></font>
}</code></pre><br>
 </td>
</tr>
<tr>
<td>asm</td>
<td><pre><code class="plaintext">bar:<font></font>
    ret</code></pre><br>
 </td>
</tr>
<tr>
<td>IR</td>
<td><pre><code class="plaintext">define i32 @bar(i32 %max, i32 %num) unnamed_addr #0 !dbg !5 {<font></font>
start:<font></font>
  ret i32 undef, !dbg !8<font></font>
}</code></pre><br>
 </td>
</tr>
</tbody></table></div><br>
<p><code>ret i32 undef</code> â€”   ,  LLVM.</p><br>
<p>  LLVM    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">2006 </a>.    ,          ,  LLVM      .  ,  .  LLVM 6   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">llvm.sideeffect</a>,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">2019 </a>  rustc    <code>-Z insert-sideeffect</code>,   <code>llvm.sideeffect</code>     .      (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">link:godbolt</a>). ,          stable rustc  .</p><br>
<p> C++          ,      LLVM   Rust  C.</p><br>
<p>,  ,      LLVM,     : "        ".   ,     Rust   ,   ,      .</p><br>
<a name="para_3"></a><br>
<h1 id="mif-3-vyzovy-funkciy-v-rust-bezdumno-trogayut-pamyat"> â„–3.    Rust   .</h1><br>
<p> (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">16:00</a>):</p><br>
<blockquote>   .     Rust.    <code>bar</code>      <code>foo</code>.  ,  Rust    :    -  ,       .  C++  . Rust    . -   . </blockquote><p>  (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">link:godbolt</a>):</p><br>
<div class="scrollable-table"><table>
<tbody><tr>
<th>Rust</th>
<th>C++</th>
</tr>
<tr>
<td><pre><code class="rust">fn foo(max: i32,<font></font>
       num: i32) -&gt; i32 {<font></font>
    return max * num<font></font>
}<font></font>
<font></font>
pub fn bar(max: i32,<font></font>
           num: i32) -&gt; i32 {<font></font>
    return foo(max, num) *<font></font>
           foo(max, num)<font></font>
}</code></pre><br>
 </td>
<td><pre><code class="cpp">auto foo(std::int32_t max,<font></font>
         std::int32_t num) {<font></font>
    return max * num;<font></font>
}<font></font>
<font></font>
std::int32_t bar(std::int32_t max,<font></font>
                 std::int32_t num) {<font></font>
    return foo(max, num) *<font></font>
           foo(max, num);<font></font>
}</code></pre><br>
 </td>
</tr>
<tr>
<td><pre><code class="plaintext">example::bar:<font></font>
    push    rax<font></font>
    mov     eax, edi<font></font>
    imul    eax, esi<font></font>
    jo      .LBB0_1<font></font>
    imul    eax, eax<font></font>
    jo      .LBB0_5<font></font>
    pop     rcx<font></font>
    ret<font></font>
.LBB0_1:<font></font>
    lea     rdi, [rip + str.0]<font></font>
    lea     rdx, [rip + .L...]<font></font>
    jmp     .LBB0_2<font></font>
.LBB0_5:<font></font>
    lea     rdi, [rip + str.0]<font></font>
    lea     rdx, [rip + .L...]<font></font>
.LBB0_2:<font></font>
    mov     esi, 33<font></font>
    call    qword ptr [rip +..]<font></font>
    ud2</code></pre><br>
 </td>
<td><pre><code class="plaintext">bar(int, int): # @bar(int, int)<font></font>
    mov     eax, edi<font></font>
    imul    eax, esi<font></font>
    jo      .LBB1_3<font></font>
    imul    eax, eax<font></font>
    jo      .LBB1_3<font></font>
    ret<font></font>
.LBB1_3:<font></font>
    ud2</code></pre><br>
 </td>
</tr>
</tbody></table></div><br>
<p>   Rust ,       .       <code>-ftrapv</code>  C++  <code>-C overflow-checks=on</code>  Rust,      .   C++    <code>ud2</code>,    "Illegal instruction (core dumped)",  Rust     <code>core::panicking::panic</code>,       .    <code>core::panicking::panic</code>     :</p><br>
<pre><code class="plaintext">$ ./signed_overflow <font></font>
thread 'main' panicked at 'attempt to multiply with overflow', signed_overflow.rs:6:12<font></font>
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace</code></pre><br>
<p>    "" ,   ?     x86-64 ,      16 ,  <code>call</code>  8-    ,   .   ,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">push rax</a>.      Rust,   C++(<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">link:godbolt</a>):</p><br>
<div class="scrollable-table"><table>
<tbody><tr>
<th>Rust</th>
<th>C++</th>
</tr>
<tr>
<td><pre><code class="rust">extern "C" { fn foo(); }<font></font>
<font></font>
pub fn bar(max: i32,<font></font>
           num: i32) -&gt; i32 {<font></font>
    let z = max * num;<font></font>
    unsafe { foo(); }<font></font>
    return z<font></font>
}</code></pre><br>
 </td>
<td><pre><code class="cpp">extern "C" void foo();<font></font>
<font></font>
std::int32_t bar(std::int32_t max,<font></font>
                 std::int32_t num) {<font></font>
    auto z = max * num;<font></font>
    foo();<font></font>
    return z;<font></font>
}</code></pre><br>
 </td>
</tr>
<tr>
<td><pre><code class="plaintext">example::bar:<font></font>
    push    rbx<font></font>
    mov     ebx, edi<font></font>
    imul    ebx, esi<font></font>
    jo      .LBB0_2<font></font>
    call    qword ptr [rip + foo..]<font></font>
    mov     eax, ebx<font></font>
    pop     rbx<font></font>
    ret</code></pre><br>
 </td>
<td><pre><code class="plaintext">bar(int, int): # @bar(int, int)<font></font>
    push    rbx<font></font>
    mov     ebx, edi<font></font>
    imul    ebx, esi<font></font>
    jo      .LBB0_1<font></font>
    call    foo<font></font>
    mov     eax, ebx<font></font>
    pop     rbx<font></font>
    ret</code></pre><br>
 </td>
</tr>
</tbody></table></div><br>
<p> C++,  Rust    ,   <code>push rbx</code>   . Q.E.D.</p><br>
<p>    ,   C++        <code>-ftrapv</code>,       .    ,  Rust        <code>-C overflow-checks=on</code>,     (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">link:godbolt</a>)     C++,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"></a>   .    <code>-ftrapv</code>  gcc <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">  2008 </a>.</p><br>
<a name="para_4"></a><br>
<h1 id="mif-4-rust-medlennee-c"> â„–4. Rust  C++.</h1><br>
<p> (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">18:10</a>):</p><br>
<blockquote>  Rust ...</blockquote><p>      ,   Rust',      .    ,  "" ,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">17:30</a>(<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">link:godbolt</a>):</p><br>
<div class="scrollable-table"><table>
<tbody><tr>
<th>Rust</th>
<th>C++</th>
</tr>
<tr>
<td><pre><code class="rust">pub struct Stats {<font></font>
    x: u32,<font></font>
    y: u32,<font></font>
    z: u32,<font></font>
}<font></font>
<font></font>
pub fn sum(a: &amp;Stats,<font></font>
           b: &amp;Stats) -&gt; Stats {<font></font>
    return Stats {<font></font>
        x: a.x + b.x,<font></font>
        y: a.y + b.y,<font></font>
        z: a.z + b.z<font></font>
    };<font></font>
}</code></pre><br>
 </td>
<td><pre><code class="cpp">struct Stats {<font></font>
    std::uint32_t x,<font></font>
                  y,<font></font>
                  z;<font></font>
};<font></font>
<font></font>
auto sum(const Stats&amp; a,<font></font>
         const Stats&amp; b) {<font></font>
    return Stats {<font></font>
        a.x + b.x,<font></font>
        a.y + b.y,<font></font>
        a.z + b.z<font></font>
    };<font></font>
}</code></pre><br>
 </td>
</tr>
<tr>
<td><pre><code class="plaintext">example::sum:<font></font>
  mov ecx, dword ptr [rdx]<font></font>
  mov r8d, dword ptr [rdx + 4]<font></font>
  add ecx, dword ptr [rsi]<font></font>
  add r8d, dword ptr [rsi + 4]<font></font>
  mov edx, dword ptr [rdx + 8]<font></font>
  add edx, dword ptr [rsi + 8]<font></font>
  mov rax, rdi<font></font>
  mov dword ptr [rdi], ecx<font></font>
  mov dword ptr [rdi + 4], r8d<font></font>
  mov dword ptr [rdi + 8], edx<font></font>
  ret</code></pre><br>
 </td>
<td><pre><code class="plaintext">sum(Stats const&amp;, Stats const&amp;):<font></font>
  mov eax, dword ptr [rsi]<font></font>
  add eax, dword ptr [rdi]<font></font>
  mov ecx, dword ptr [rsi + 4]<font></font>
  add ecx, dword ptr [rdi + 4]<font></font>
  mov edx, dword ptr [rsi + 8]<font></font>
  add edx, dword ptr [rdi + 8]<font></font>
  shl rcx, 32<font></font>
  or rax, rcx<font></font>
  ret</code></pre><br>
 </td>
</tr>
</tbody></table></div><br>
<p> ,           ,  ,    â†’  . </p><br>
<p> 2019   CppCon    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">There Are No Zero-cost Abstractions</a>  Chandler Carruth.     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">17:30</a>   - ,  <code>std::unique_ptr</code>     (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">link:godbolt</a>).    -            <code>noexcept</code>, rvalue ,   <code>std::move</code>.   Rust      .      .    Rust      <code>extern "Rust"</code>  <code>unsafe</code>,      (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">link:godbolt</a>):</p><br>
<div class="scrollable-table"><table>
<tbody><tr>
<th>Rust</th>
<th>C++</th>
</tr>
<tr>
<td><pre><code class="rust">extern "Rust" {<font></font>
    fn bar(k: &amp;i32);<font></font>
    fn baz(_: Box&lt;i32&gt;);<font></font>
}<font></font>
<font></font>
pub fn foo(mut ptr: Box&lt;i32&gt;) {<font></font>
    if *ptr &gt; 42 {<font></font>
        unsafe { bar(&amp;*ptr) };<font></font>
        *ptr = 42;<font></font>
    }<font></font>
    unsafe { baz(ptr) }<font></font>
}</code></pre><br>
 </td>
<td><pre><code class="cpp">void bar(int* ptr)<font></font>
    noexcept;<font></font>
<font></font>
// Takes ownership.<font></font>
void baz(std::unique_ptr&lt;int&gt;&amp;&amp; ptr)<font></font>
    noexcept;<font></font>
<font></font>
void foo(std::unique_ptr&lt;int&gt;&amp;&amp; ptr) {<font></font>
    if (*ptr &gt; 42) {<font></font>
      bar(ptr.get());<font></font>
      *ptr = 42;<font></font>
    }<font></font>
    baz(std::move(ptr));<font></font>
}</code></pre><br>
 </td>
</tr>
<tr>
<td><pre><code class="plaintext">example::foo:<font></font>
    push    rbx<font></font>
    mov     rbx, rdi<font></font>
    cmp     dword ptr [rdi], 43<font></font>
    jl      .LBB0_2<font></font>
    mov     rdi, rbx<font></font>
    call    qword ptr [rip + bar..]<font></font>
    mov     dword ptr [rbx], 42<font></font>
.LBB0_2:<font></font>
    mov     rdi, rbx<font></font>
    pop     rbx<font></font>
    jmp     qword ptr [rip + baz..]<font></font>
</code></pre><br>
 </td>
<td><pre><code class="plaintext">foo(std::unique_ptr&lt;...&gt;&amp;&amp;):<font></font>
    pushq   %rbx<font></font>
    movq    %rdi, %rbx<font></font>
    movq    (%rdi), %rdi<font></font>
    cmpl    $43, (%rdi)<font></font>
    jl      .LBB0_2<font></font>
    callq   bar(int*)<font></font>
    movq    (%rbx), %rax<font></font>
    movl    $42, (%rax)<font></font>
.LBB0_2:<font></font>
    movq    %rbx, %rdi<font></font>
    popq    %rbx<font></font>
    jmp     baz(...)<font></font>
</code></pre><br>
 </td>
</tr>
</tbody></table></div><br>
<p>   Rust   .        <code>noexcept</code>, rvalue   <code>std::move</code>.      .    ,  ,     .</p><br>
<p>  2019 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Rust    C++   Benchmarks Game</a>.    C++    .             .       .</p><br>
<a name="para_5"></a><br>
<h1 id="mif-5-c--s--noop-c--rust--pain"> â„–5. C â†’ ++ â€” noop, C â†’ Rust â€” PAIN!!!!!!!</h1><br>
<p> (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">18:30</a>):</p><br>
<blockquote>     ,     Rust  ,        .     ,   ,    .  ++        ,        .  Rust'         -     . </blockquote><p>             .</p><br>
<p>,     Rust     ,   ,      .        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">  Starcraft</a>,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"></a>   .</p><br>
<p> ,   Rust    cargo,            .   ,      ,      .  2020     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">crates.io</a>   40 000 . </p><br>
<p>            :</p><br>
<pre><code class="plaintext"># Cargo.toml<font></font>
[dependencies]<font></font>
flate2 = "1.0"</code></pre><br>
<p>          cargo  .   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">flate2</a>  ,           miniz,   C,         Rust.  flate2   .</p><br>
<a name="para_6"></a><br>
<h1 id="mif-6-unsafe-otklyuchaet-vse-proverki-rust"> â„–6. unsafe    Rust.</h1><br>
<p> (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">19:14</a>):</p><br>
<blockquote>  <code>unsafe</code>    Rust',     ,     ,        .</blockquote><p>          Rust' .</p><br>
<p>,       <code>unsafe</code> â€”   ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"></a>   Rust ,  <code>unsafe</code> :</p><br>
<ol>
<li>  ;</li>
<li>   unsafe ;</li>
<li>     ;</li>
<li>   unsafe ;</li>
<li>    <code>union</code>.</li>
</ol><br>
<p>      Rust     .      lifetime-,    <code>unsafe</code>    .           ,    ,     - .      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">You canâ€™t "turn off the borrow checker" in Rust</a>.</p><br>
<p> <code>unsafe</code>     " ,  ".   ,           ,      . ,   .     ,   <code>malloc</code>  NULL       ,   Rust      .      ,  ,  , <code>malloc</code>,    : " ,  ;  ,   ,       ".           <code>unsafe</code>.</p><br>
<a name="para_7"></a><br>
<h1 id="mif-7-rust-ne-pomozhet-s-sishnymi-bibliotekami"> â„–7. Rust     .</h1><br>
<p> (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">19:25</a>):</p><br>
<blockquote>             C++     ,      , -    -    , -    null    .        .     Rust    .  -   .    Rust    ,       ,        C++.</blockquote><p><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">  Microsoft</a>, 70%             ,  Rust     .  ,        Rust.</p><br>
<p>  ,   <code>unsafe</code>  Rust,     ,   â€¦    ,     ,    .  ,  ,   Rust   .</p><br>
<p>,  ,     ,    Rust   C++       ,  Rust   .   Rust             .          ,  <code>unsafe</code>    .</p><br>
<p>   <code>unsafe</code>    :</p><br>
<pre><code class="rust">// Warning: Calling this method with an out-of-bounds index is undefined behavior.<font></font>
unsafe fn unchecked_get_elem_by_index(elems: &amp;[u8], index: usize) -&gt; u8 {<font></font>
    *elems.get_unchecked(index)<font></font>
}</code></pre><br>
<p><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><code>slice::get_unchecked</code></a> â€”   <code>unsafe</code> ,            .      <code>get_elem_by_index</code>     ,     ,     .          <code>unsafe</code>(<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">link:playground</a>):</p><br>
<pre><code class="rust">// Warning: Calling this method with an out-of-bounds index is undefined behavior.<font></font>
unsafe fn unchecked_get_elem_by_index(elems: &amp;[u8], index: usize) -&gt; u8 {<font></font>
    *elems.get_unchecked(index)<font></font>
}<font></font>
<font></font>
fn main() {<font></font>
    let elems = &amp;[42];<font></font>
    let elem = unsafe { unchecked_get_elem_by_index(elems, 0) };<font></font>
    dbg!(elem);<font></font>
}</code></pre><br>
<p>   ,   ,       .        <code>unsafe</code>.</p><br>
<p>  ,    <code>unsafe</code>      (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">link:playground</a>):</p><br>
<pre><code class="rust">// Warning: Calling this method with an out-of-bounds index is undefined behavior.<font></font>
unsafe fn unchecked_get_elem_by_index(elems: &amp;[u8], index: usize) -&gt; u8 {<font></font>
    *elems.get_unchecked(index)<font></font>
}<font></font>
<font></font>
fn get_elem_by_index(elems: &amp;[u8], index: usize) -&gt; Option&lt;u8&gt; {<font></font>
    if index &lt; elems.len() {<font></font>
        let elem = unsafe { unchecked_get_elem_by_index(elems, index) };<font></font>
        Some(elem)<font></font>
    } else {<font></font>
        None<font></font>
    }<font></font>
}<font></font>
<font></font>
fn main() {<font></font>
    let elems = &amp;[42];<font></font>
    let elem = get_elem_by_index(elems, 0);<font></font>
    dbg!(&amp;elem);<font></font>
}</code></pre><br>
<p>        ,       .  ,         Rust (  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><code>slice::get</code></a>),  ,     <code>unsafe</code>  Rust       .    <code>unchecked_get_elem_by_index</code>    ,   C.</p><br>
<p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"> LTO</a>       :</p><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td>C</td>
<td><pre><code class="cpp">#include &lt;stdint.h&gt;<font></font>
<font></font>
uint32_t mul(uint32_t a, uint32_t b) {<font></font>
    return a * b;<font></font>
}</code></pre><br>
 </td>
</tr>
<tr>
<td>Rust</td>
<td><pre><code class="rust">#[link(name="mul", kind="static")]<font></font>
extern {<font></font>
    fn mul(a: u32, b: u32) -&gt; u32;<font></font>
}<font></font>
<font></font>
#[inline(never)]<font></font>
#[no_mangle]<font></font>
fn multiply(a: u32, b: u32) -&gt; u32 {<font></font>
    unsafe { mul(a, b) }<font></font>
}<font></font>
<font></font>
fn main() {<font></font>
    println!("42*42 = {}!", multiply(42,42));<font></font>
    println!("87*31 = {}!", multiply(87,31));<font></font>
}</code></pre><br>
 </td>
</tr>
<tr>
<td>asm</td>
<td><pre><code class="plaintext">000000000002eda0 &lt;multiply&gt;:<font></font>
   2eda0:   89 f8                   mov    %edi,%eax<font></font>
   2eda2:   0f af c6                imul   %esi,%eax<font></font>
   2eda5:   c3                      retq</code></pre><br>
 </td>
</tr>
</tbody></table></div><br>
<p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"></a>     .     ,    C(<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">link:godbolt</a>),    ,   Rust.</p><br>
<a name="para_8"></a><br>
<h1 id="mif-8-bezopasnost-rust-ne-dokazana"> â„–8.  Rust  .</h1><br>
<p> (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">20:38</a>):</p><br>
<blockquote>      X.       .            X,    ,      .  . .  .    ,          X,       .</blockquote><p> 2018  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"></a>,    Rust,  , ,     .    ,           <code>unsafe</code>       <code>safe</code> ,     ,          .</p><br>
<p>  ,       (),   unsafe,     ,        .</p><br>
<p>            ,  Mutex, RwLock, thread::spawn.     .  ,  Rust         ; ,  Mutex   ,      ,   ,       . ? .</p><br>
<a name="conclusion"></a><br>
<h1 id="zaklyuchenie"></h1><br>
<p>        , <strong></strong>          .      " - C++"   ,     C++,      .</p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½†æ˜¯ï¼Œæˆ‘å¸Œæœ›å¾—åˆ°å…¬è®¤çš„ä¸“å®¶çš„å…¨é¢æŠ¥é“ï¼Œè‡³å°‘ä¸åŒ…å«ä¸¥é‡çš„äº‹å®é”™è¯¯ã€‚</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">éå¸¸æ„Ÿè°¢</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dmitry Kashitsyn</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alexei Kladovå®¡é˜…</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">äº†è¿™ç¯‡æ–‡ç« ã€‚</font></font></p></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN492394/index.html">é»‘æš—å®‡å®™ã€‚ç¬¬2éƒ¨åˆ†</a></li>
<li><a href="../zh-CN492398/index.html">æˆ‘ä»¬ä¸ºè¿œç¨‹å·¥ä½œï¼Œæ’­å®¢ï¼Œè§†é¢‘å’Œæµåª’ä½“é…ç½®è®¾å¤‡</a></li>
<li><a href="../zh-CN492404/index.html">Flutter + Arduino Nano 33 BLEæ„Ÿåº”=éå¸¸ç®€å•çš„BLEä¼ æ„Ÿå™¨</a></li>
<li><a href="../zh-CN492406/index.html">æå®¢æ’­å®¢ï¼šå…³äºé¡¹ç›®ç®¡ç†ï¼ŒæŠ€æœ¯åˆ†æå’ŒGTDçš„ä¸€ç³»åˆ—æˆç†Ÿç¨‹åº</a></li>
<li><a href="../zh-CN492408/index.html">Yandexæ¡Œé¢å‡ºå¸­äººæ•°ä¸‹é™ï¼š2019å¹´å‘ç”Ÿäº†ä»€ä¹ˆä»¥åŠå¯¹2020å¹´çš„å½±å“</a></li>
<li><a href="../zh-CN492414/index.html">NSIç³»ç»Ÿè§£å‰–</a></li>
<li><a href="../zh-CN492420/index.html">å¾®ä¿¡æˆ–çœŸæ­£å…¨é¢çš„åº”ç”¨ç¨‹åºã€‚å¼€å‘äººå‘˜å¯ä»¥åšä»€ä¹ˆ</a></li>
<li><a href="../zh-CN492422/index.html">Escobar Fold 2-éª—å±€ç»§ç»­</a></li>
<li><a href="../zh-CN492424/index.html">Angularï¼šå¦ä¸€ç§é€€è®¢æ–¹å¼</a></li>
<li><a href="../zh-CN492426/index.html">å¦‚ä½•ç»•å¼€ä¿¡æ¯æŠ€æœ¯çš„åœ°é›·</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>