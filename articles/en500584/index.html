<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸš„ ğŸ”™ â›…ï¸ The prince said or where the war was. My experience in the study "War and Peace" ğŸ¤˜ğŸ¼ ğŸ––ğŸ¿ ğŸ¬</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I still havenâ€™t read the novel-epic of Leo Tolstoy â€œWar and Peaceâ€ - at school it was not interesting because of the authorâ€™s â€œverbiageâ€, but somehow ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>The prince said or where the war was. My experience in the study "War and Peace"</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/500584/"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I still havenâ€™t read the </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">novel-epic of Leo Tolstoy â€œWar and Peaceâ€</font></a><font style="vertical-align: inherit;"> - at school it was not interesting because of the authorâ€™s â€œverbiageâ€, but somehow thereâ€™s no time to start such a voluminous work. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
However, I decided that it was worth studying ...</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/40e/6c9/749/40e6c97494b54cfa03add251ba665675.jpg" alt="image"></div><a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Training</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I did not clean out third-party words and signs (Latin part numbers, footnote numbers and part of comments) that against the background of almost 400 thousand words of the text of the novel, an error of even a thousand words would not give incorrect data, but I decided to make the minimum text preparation .</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Part of the file preparation program</font></font></b>
                        <div class="spoiler_text">from collections import Counter<br>
import matplotlib.pyplot as plt<br>
import numpy as np<br>
 <br>
#filename = input(Â«   : â€)<br>
 <br>
filename = #    <br>
file = open(filename, 'r')<br>
text = file.read()<br>
text = text.replace(â€œ\nÂ», " ")<br>
text =text.replace(']','').replace('[','').replace('\"','').replace(",", "").replace(".", "").replace("?", "").replace("!", "").replace(")", "").replace("(", "")<br>
text =text.lower()<br>
words_untill = text.split() #        <br>
<br>
â€¦<br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As a person who works constantly with numbers, I became interested in the following questions:</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. The longest word in the novel</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Having learned from his wife that Lev Nikolayevich was still the graphomaniac, he decided to find out what long words he had invented for the novel by Tolstoy. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So, TOP 3 long words. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The first place (27 letters and a hyphen) was</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> divided by the words </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">supernaturally beautiful</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">supernaturally refined</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">irresistibly charming</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">... How a good head waiter serves as something </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">supernaturally beautiful</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> that piece of beef that you donâ€™t want if you see it in a dirty kitchen, so in tonight Anna Pavlovna served her guests first viscount, then abbot, as something </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">supernaturally refined</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ... </font></font></i><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">... The Frenchman is self-confident because he respects himself personally, both mind and body,</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">irresistibly charming</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> for both men and women. The Englishman is self-confident on the grounds that he is a citizen of the most comfortable state in the world, and therefore, as an Englishman, he always knows what he needs to do and knows that everything he does as an Englishman is undoubtedly good. The Italian is self-confident because he is excited and easily forgets himself and others ... </font></font></i><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Second place (25 letters and a hyphen)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> took the word</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> monotonously diverse</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ... The Hussars did not look back, but with every sound of a passing nucleus, as if on command, the entire squadron with with his </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">monotonously diverse</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> faces, holding his breath while the core flew, he rose on stirrups and fell again ... </font></font></i><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Third place (24 letters) was</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> taken by the word</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Excellency</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , this word, unlike the previous ones, occurs eight times, as an appeal to Field Marshal Mikhail Illarionovich Kutuzov.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Part of the program for finding the longest word</font></font></b>
                        <div class="spoiler_text">from collections import Counter<br>
import matplotlib.pyplot as plt<br>
import numpy as np<br>
â€¦<br>
words = text.split() #  ,         ,   <br>
words = sorted(words, key = len, reverse=True) #   <br>
â€¦<br>
for i in range(3): #   <br>
 print(words[i].ljust(30), len(words[i])) # -3       <br>
â€¦<br>
</div>
                    </div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. The most commonly used word</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Previously, the list was cleared of words of one and two letters in order to remove prepositions and short pronouns from cycles of comparisons. </font><font style="vertical-align: inherit;">After the first iteration, it turned out that not one of the three letters (sword, evil, rear, etc.) was included in the TOP-10, and I sequentially cleared the list of three-letter words, and even, after further experiments, of four-letter ones words.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Part of a short word cleaning program</font></font></b>
                        <div class="spoiler_text">â€¦<br>
words2 =[]# c,   <br>
for i in range(len(words)):#        <br>
 if len(words[i])&gt;4:<br>
 words2.append(words[i])<br>
 else: break #        , ,     ,     <br>
â€¦<br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There werenâ€™t so many nouns in the list of most frequently used words, so I had to remove the words â€œonlyâ€, â€œwhenâ€, </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
â€œsoâ€, â€œnowâ€, â€œthisâ€, â€œwhichâ€, â€œ </font><font style="vertical-align: inherit;">from the list of words of the novel </font><font style="vertical-align: inherit;">which â€,â€œ because â€,â€œ again â€,â€œ suddenly â€,â€œ very â€,â€œ nothing â€,â€œ his â€.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Part of the program for finding the most popular words</font></font></b>
                        <div class="spoiler_text">â€¦<br>
words_counts = Counter(words2)<br>
n = []<br>
pop_word = []<br>
for word, count in words_counts.most_common(10):# -10   <br>
 n.append(count)<br>
 pop_word.append(word)<br>
 print(word.ljust(20), count)<br>
â€¦<br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As a result, the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TOP-10</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> popular words: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. said - 1411 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. prince - 952 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. time - 544 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4. Andrey - 500 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5. spoke - 464 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
6. princess - 435 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
7. said - 424 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
8. people - 391 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
9. Natasha - 376 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
10. people - 372 </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Since the search was conducted without taking into account the forms of words, for the â€œprince" I had to find all forms of the word. </font><font style="vertical-align: inherit;">After clarifying the data, the PRINCE took first place in the TOP with 1435 references in the novel, against the verb TOLD.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Search all forms of the word PRINCE</font></font></b>
                        <div class="spoiler_text">â€¦<br>
n4 = []<br>
form_n4 = []<br>
for i in range(len(words_untill)):<br>
 if Â«Â» in words_untill[i]:<br>
 n4.append(1)<br>
 form_n4.append(words_untill[i])<br>
 else: n4.append(0)<br>
print(Â«   â€” Â» + str(len(form_n4)))<br>
â€¦<br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As you can see from the list, the verbs SAID (1411) and SPEAKED (464) are more common in the novel than the verbs SAID (424), which suggests that men speak 4.5 times more in the novel than women (accusations are heard here sexism addressed to Leo Nikolaevich), and the Princess (435) appears much less often than the Prince. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It also became interesting what attitude the society had towards </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Natalya Ilyinichna Rostova aka Natasha Rostova</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Throughout the novel, she remained Natasha, despite the fact that by the end of the novel Natalia Rostova became the wife of Pierre Bezukhov. </font><font style="vertical-align: inherit;">In all forms, Natasha occurs in the text 591 times, while forms of the name Natalya and Natalie occur only 9 times.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. Where was the war in the novel?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despite the name, â€œwarâ€ in the novel occurs in all forms only 278 times.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Search all forms of the word WAR</font></font></b>
                        <div class="spoiler_text">â€¦<br>
n3 = []<br>
form_n3 = []<br>
for i in range(len(words_untill)):<br>
 if Â«Â» in words_untill[i] and Â«Â» not in words_untill[i]:#   Â«Â»    <br>
 n3.append(1)<br>
 form_n3.append(words_untill[i])<br>
 else: n3.append(0)<br>
print(form_n3)<br>
print(Â«   â€” Â» + str(len(form_n3)))<br>
â€¦<br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I divided the whole novel into sections of 10 thousand words and decided to trace the mention of the words â€œprinceâ€, â€œNatashaâ€ and â€œwarâ€ during the course of the novel.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Breaking a novel of 10 thousand words</font></font></b>
                        <div class="spoiler_text">â€¦<br>
              : Â«0Â» â€”   , Â«1Â» â€” .<br>
â€¦<br>
m1=[]<br>
m2=[]<br>
m3 =[]<br>
m4 = []<br>
while i &lt;= len(n1):<br>
 m1.append(sum(n1[i: i+10000]))# Â«Â»<br>
 m2.append(sum(n4[i: i+10000]))#     Â«Â»<br>
 m3.append(sum(n3[i: i+10000]))#     Â«Â»<br>
 m4.append(sum(nata1[i: i+10000]))#     Â«Â»<br>
 i=i+10000<br>
â€¦<br>
</div>
                    </div><br>
<img src="https://habrastorage.org/getpro/habr/post_images/cab/ca8/714/cabca8714e0968960600c7ff794e0a29.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The histogram shows that less about the princes after a surge in the description of the war towards the end of the novel, and more and more they remember about Natasha. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The inverse correlation is clearly visible in the distribution of the dependence on the words â€œwarâ€ and â€œNatashaâ€ - the less war, the more Natasha. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/09d/1aa/b38/09d1aab382f50a759899efaa3aebf6e1.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The inverse correlation in the distribution of the reference to the words â€œprinceâ€ and â€œNatashaâ€ is also clearly visible. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/395/08d/877/39508d877eb7a6373e06cbea56e3ac08.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the distribution of the dependence on the mention of the words â€œprinceâ€ and â€œwarâ€ there is no clear correlation, although it is clear that when little is said about the war, then they do not remember the princes, but this does not explain the large number of references to the â€œprincesâ€ in the absence of a â€œwarâ€. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/a31/8ba/ffa/a318baffac6fd2202bfc2f5547002a53.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It is necessary to track the correlation during the development of the narrative.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/904/886/995/904886995a69d276fc403ccc66367049.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As can be seen from the graph, a high correlation is present only in the middle of the novel, when there is war in the novel, in other places of the novel the correlation is low, on the basis of which it can be concluded that the use of the â€œprinceâ€ and â€œwarâ€ does not have a constant correlation in the course of the novel.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">findings</font></font></h2><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">You need to read the classics !!!</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If you want to read about the war, and not about love, then read the first part of the first volume and the third volume.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If you want to read about how princes lived in peacetime, then the second volume is perfect.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If you are interested in love in the absence of war, then you should read the fourth volume.</font></font></li>
</ol></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en500572/index.html">Spring MVC: Website Design and RESTful Services</a></li>
<li><a href="../en500574/index.html">Full analysis of the first part of the exam in SHAD 2020</a></li>
<li><a href="../en500576/index.html">Interpolation and discretization, why are they needed for projective image conversion?</a></li>
<li><a href="../en500578/index.html">The Only One That Matters (Part 4 of Mark Andriessen's Startup Guide, 2007)</a></li>
<li><a href="../en500580/index.html">Understanding CSS Grid (Part 3): Grid Areas</a></li>
<li><a href="../en500588/index.html">Trimming Threads: Migrating from Puppet Enterprise to Ansible Tower. Part 2</a></li>
<li><a href="../en500592/index.html">Pro juniors, or half a million "lost" developers</a></li>
<li><a href="../en500596/index.html">How to reuse code with symfony 5 bundles? Part 7. Release cycle, installation and update</a></li>
<li><a href="../en500602/index.html">6P3S Transmitters and Sunset Romanticism</a></li>
<li><a href="../en500610/index.html">Remote Tools: how the misuse of applications almost cost us $ 50,000</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>