<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚀 ♟️ 👩🏾‍🏭 画像輪郭検出アルゴリズム 👨🏼‍💻 🕕 ✊🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="この記事では、最も一般的な4つのループ検出アルゴリズムを紹介しています。
 
 最初の2つ、つまり四角形をトレースし、ムーアの周囲をトレースするアルゴリズムは、実装が簡単であるため、特定のパターンの輪郭を決定するためによく使用されます。残念ながら、どちらのアルゴリズムにもいくつかの弱点があり、特殊な...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>画像輪郭検出アルゴリズム</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/467611/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この記事では、最も一般的な4つのループ検出アルゴリズムを紹介しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初の2つ、つまり四角形をトレースし、ムーアの周囲をトレースするアルゴリズムは、実装が簡単であるため、特定のパターンの輪郭を決定するためによく使用されます。残念ながら、どちらのアルゴリズムにもいくつかの弱点があり</font><font style="vertical-align: inherit;">、特殊なタイプの隣接関係があるため、パターンの大きなクラスの輪郭</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">検出</font><font style="vertical-align: inherit;">する</font><b><font style="vertical-align: inherit;">ことができません</font></b><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらのアルゴリズムは</font><font style="vertical-align: inherit;">、パターン内の</font><font style="vertical-align: inherit;">すべての</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「穴」</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を無視</font><font style="vertical-align: inherit;">します。たとえば、</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図1</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に</font><font style="vertical-align: inherit;">示すようなパターンがある場合</font><font style="vertical-align: inherit;">、アルゴリズムによって検出される回路は</font><b><i><font style="vertical-align: inherit;">図2に</font></i></b><font style="vertical-align: inherit;">示すようなものになり</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（輪郭は青いピクセルで示されます）。</font><font style="vertical-align: inherit;">一部のアプリケーション領域ではこれはまったく問題ありませんが、他の領域、たとえば文字認識では、特定の文字を区別するすべてのスペースを見つけるためにパターンの内部部分を検出する必要があります。</font><font style="vertical-align: inherit;">（</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図3</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、パターンの「完全な」アウトラインを示しています。）</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0e7/d3b/f5b/0e7d3bf5bc9c451588718fe5d909a2fb.gif" alt="画像"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、完全な輪郭を取得するには、最初に</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「穴の検索」</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アルゴリズム</font><font style="vertical-align: inherit;">を使用して特定のパターンの穴を決定し、次に各穴に輪郭検出アルゴリズムを適用する必要があります。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cb7/22c/32f/cb722c32fcc45aeea8d8b097a0d01f84.gif" alt="画像"></div><a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接続とは何ですか？</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
バイナリ値を持つデジタル画像では、ピクセルは次のいずれかの値になります。1-パターンの一部である場合、または0-背景の一部である場合、つまりグレーのグラデーションなし。 （値が1のピクセルは黒で、値が0のピクセルは白であると想定します）。</font><font style="vertical-align: inherit;">デジタルパターンで</font><b><i><font style="vertical-align: inherit;">オブジェクト</font></i></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
を識別するに</font><font style="vertical-align: inherit;">は、互いに「接続」されている黒いピクセルのグループを見つける必要があります。つまり、</font><font style="vertical-align: inherit;">特定のデジタルパターン内</font><font style="vertical-align: inherit;">の</font><b><i><font style="vertical-align: inherit;">オブジェクト</font></i></b><font style="vertical-align: inherit;">は、</font><font style="vertical-align: inherit;">このパターンの</font><b><i><font style="vertical-align: inherit;">接続されたコンポーネントです</font></i></b><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">
一般的な場合では、</font><b><i><font style="vertical-align: inherit;">連結成分</font></i></b><font style="vertical-align: inherit;">は黒のピクセル</font><b><font style="vertical-align: inherit;">Pの</font></b><font style="vertical-align: inherit;">セットで</font><font style="vertical-align: inherit;">あり、ピクセルの各ペア</font><b><font style="vertical-align: inherit;">p </font></b><b><sub><font style="vertical-align: inherit;">i</font></sub></b><font style="vertical-align: inherit;">および</font><b><font style="vertical-align: inherit;">p </font></b><b><sub><font style="vertical-align: inherit;">jに対して</font></sub></b></font><b><i><font style="vertical-align: inherit;"></font></i></b><font style="vertical-align: inherit;"></font><b><i><font style="vertical-align: inherit;"></font></i></b><font style="vertical-align: inherit;"></font><b><i><font style="vertical-align: inherit;"></font></i></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><b><i><font style="vertical-align: inherit;"></font></i></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font><sub><font style="vertical-align: inherit;"></font></sub></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font><sub><font style="vertical-align: inherit;"></font></sub></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">画素の配列が存在する</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、I</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、...、p個の</font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J</font></font></sub></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：ように</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
配列内の全ての画素が設定されているa）の</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、即ち黒であり、</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
b）</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">隣り</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">合う</font><b><i><font style="vertical-align: inherit;">シーケンス内の</font></i></b><font style="vertical-align: inherit;"> 2ピクセルごと</font><font style="vertical-align: inherit;">が「隣人」です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
重要な質問が発生します</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。2つのピクセルが「隣接」であるといつ言えますか？</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正方形のピクセルを使用するため、次の理由により、前の質問に対する答えは簡単ではありません。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正方形のテッセレーション</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ピクセルには共通またはエッジ、または頂点があるか、共通点がありません。</font><font style="vertical-align: inherit;">各ピクセルには、頂点を共有する8つのピクセルがあります。</font><font style="vertical-align: inherit;">そのようなピクセルは、そのピクセルの「ムーア近傍」を構成します。</font><font style="vertical-align: inherit;">共通の頂点が1つしかない「隣接」ピクセルを検討する必要がありますか？</font><font style="vertical-align: inherit;">または、「近傍」と見なされるためには、2つのピクセルに共通のエッジが必要ですか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
つまり、4つの接続性と8つの接続性という2つのタイプの接続性があります。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4接続</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
与えられた黒いピクセルのセットが</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4連結であるといつ</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">言える</font><b><i><font style="vertical-align: inherit;">でしょうか。</font></i></b><font style="vertical-align: inherit;">まず、あなたはの概念を定義する必要が</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4近傍</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（とも呼ばれる</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">直接の隣人を</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4近傍の定義</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：ピクセル</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qは</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ある</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の4近傍</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所定のピクセル</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">場合は</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Q</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pは</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">共通のエッジを持っています。ピクセル</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の4近傍</font><font style="vertical-align: inherit;">（</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P2、P4、P6、</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">および</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P8</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">として指定</font><font style="vertical-align: inherit;">）を</font><font style="vertical-align: inherit;">以下の</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図2に</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">示します。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/02b/592/5ef/02b5925eff29a4b14330e63c43714837.gif" height="202" width="177"></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4連結成分の定義</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：黒色画素の集合は</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pで</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ある</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4-連結成分</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">画素の各ペアの場合</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、P </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、I</font></font></sub></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">及び</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jの</font></font></sub></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中の</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pは、</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">画素の配列が存在する</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、I</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、...、p個の</font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J</font></font></sub></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：なるように</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
）、全ての画素ではシーケンスはセット</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">にあります。</font><font style="vertical-align: inherit;">黒であり、</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
b）は、2つの画素ごとに</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次の</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">互いに</font><b><i><font style="vertical-align: inherit;">シーケンスでは</font></i></b><font style="vertical-align: inherit;">ある</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4人の隣人</font></font></i></b><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4連結パターンの例</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下の図は、4つの接続パターンの例を示しています。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b71/3c8/b76/b713c8b761d034fc04d486aed3029149.gif" height="216" width="576"></div><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8接続</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
与えられた黒のピクセルのセットが</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8連結であると言うのは</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">いつですか？まず、我々はの概念を定義する必要が</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8近傍を</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（とも呼ばれる</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">間接的な隣人</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8近傍の定義</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：Aピクセル</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qが</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ある</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8近傍</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（または単に</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">隣人</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所定のピクセルの）</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">場合は</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Q</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pは</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">共通のエッジまたは頂点を持っています。与えられたピクセル</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の8近傍は、</font><font style="vertical-align: inherit;">このピクセルのムーア近傍を構成します。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8連結成分の定義</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：黒ピクセルのセット</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8連結成分</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（または単に</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">連結成分</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）、画素の各ペアに対してあれば</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、P </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I</font></font></sub></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">および</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pの</font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J</font></font></sub></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">における</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> P</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">画素の配列が存在する</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> P </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、I</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、...、p個の</font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J</font></font></sub></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ように：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
シーケンス内のすべての画素が設定されているa）の</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> P</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、即ち </font><font style="vertical-align: inherit;">黒、及びある</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
）bは2つの画素ごとに</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">順に隣接</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">している</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 8近傍の</font></font></i></b><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：すべての4連結のパターンは8連結であり、すなわち </font><font style="vertical-align: inherit;">4連結パターンは、多くの8連結パターンのサブセットです。</font><font style="vertical-align: inherit;">一方、8連結パターンは4連結ではない場合があります。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8リンクパターンの例</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次の図は、8接続で4接続ではないパターンを示しています。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7f0/3d4/d90/7f03d4d904e9a4ebd1b7765ee7f4358f.gif" height="180" width="180"></div><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8以外の接続パターンの例：</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
下の図は、8連結ではないパターンの例を示しています。</font><font style="vertical-align: inherit;">複数の接続コンポーネントで構成されます（図は3つの接続コンポーネントを示しています）。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/768/7bb/f90/7687bbf9070e4e581e4ebfde132a1164.gif" height="180" width="180"></div><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スクエアトレースアルゴリズム</font></font></h2><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">考え</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スクエアトレースアルゴリズムの背後にある考え方は非常に単純です。これは、アルゴリズムがバイナリパターンの輪郭を検出する最初の試みの1つだったことが原因である可能性があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それがどのように機能するかを理解するには、少し想像力が必要です... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、デジタルパターンがあるとします。たとえば、白いピクセルの背景に黒いピクセルのグループがあるとします。グリッド上;黒のピクセルを見つけ、それを「</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">初期</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」ピクセル</font><font style="vertical-align: inherit;">として宣言します</font><font style="vertical-align: inherit;">。 （「</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">初期</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」ピクセルを</font><font style="vertical-align: inherit;">見つけることは、</font><font style="vertical-align: inherit;">さまざまな方法で実装できます。グリッドの左下隅から始め、ピクセルの各列を下から上に、左端の列から右端に、黒いピクセルに出会うまでスキャンします。「</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">初期</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」と宣言します。</font><font style="vertical-align: inherit;">」</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次の</font><b><i><font style="vertical-align: inherit;">図1に</font></i></b><font style="vertical-align: inherit;">示すよう</font><font style="vertical-align: inherit;">
に、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">開始</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ピクセル</font><font style="vertical-align: inherit;">上にテントウムシが立っているとし</font><font style="vertical-align: inherit;">ます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">パターンの輪郭を取得するには、次のことを行う必要があり</font><font style="vertical-align: inherit;">
ます。歩き回る黒いピクセルがパターンの輪郭になります。</font></font><b><i><font style="vertical-align: inherit;"></font></i></b><font style="vertical-align: inherit;"></font><br>
<br>
<code> ,      ,  , <br>
<br>
 ,      ,  ,<br>
<br>
     <b></b> .</code><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/baa/0c2/69e/baa0c269e22368fa231d774f6bf3b062.gif" height="252" width="216"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スクエアトレースアルゴリズムの重要な側面は、「方向感覚」です。</font><font style="vertical-align: inherit;">左と右への回転は、現在の位置を基準にして実行されます。これは、現在のピクセルに到達する方法に依存します。</font><font style="vertical-align: inherit;">したがって、正しい動きをするためには、あなたの方向を追跡する必要があります。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アルゴリズム</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下は正方形トレースアルゴリズムの形式的記述である</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
正方形：入力</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テッセレーション</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">連結成分含有</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">のP</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">黒細胞。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
出力：</font><font style="vertical-align: inherit;">境界ピクセルの</font><font style="vertical-align: inherit;">行</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">B（b </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、b </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、...、b </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">k</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、つまり </font><font style="vertical-align: inherit;">回路。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
開始</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">B</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を空のセットとして</font><font style="vertical-align: inherit;">定義し</font><font style="vertical-align: inherit;">ます。</font></font></li>
<li><font style="vertical-align: inherit;"><b><font style="vertical-align: inherit;">P</font></b><font style="vertical-align: inherit;">からの</font><font style="vertical-align: inherit;">黒いピクセル</font><b><font style="vertical-align: inherit;">s </font></b><b><font style="vertical-align: inherit;">が見つかる</font></b><font style="vertical-align: inherit;">まで、</font><font style="vertical-align: inherit;">セル</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を下から上、左から右にスキャンし</font><b><font style="vertical-align: inherit;">ます</font></b><font style="vertical-align: inherit;">。</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font></li>
<li><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bedとに</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">挿入</font><b><font style="vertical-align: inherit;">し</font></b><font style="vertical-align: inherit;">ます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">現在のピクセル</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pを</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">初期ピクセル</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sにし</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">左折、つまり </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の左側にある隣接するピクセルに移動し</font><font style="vertical-align: inherit;">ます。</font></font></li>
<li><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pを</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更新します</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">現在のピクセルになります。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">しながら、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pは</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">等しくない</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、実行</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
現在の画素場合</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pが</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">黒であります</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><b><font style="vertical-align: inherit;">Bに</font></b></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">挿入</font><font style="vertical-align: inherit;">し、左に曲がります（</font><b><font style="vertical-align: inherit;">p</font></b><font style="vertical-align: inherit;">の左側にある隣接するピクセルに移動し</font><font style="vertical-align: inherit;">ます）。</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font></li>
<li><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pを</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更新します</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">現在のピクセルになります。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さもないと</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">右折（</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の右側にある隣接するピクセルに移動</font><font style="vertical-align: inherit;">）。</font></font></li>
<li><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pを</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更新します</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">現在のピクセルになります。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「バイ」サイクルの終わり</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
エンド</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ノート：</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「左」および「右」</font><b><font style="vertical-align: inherit;">の</font></b><font style="vertical-align: inherit;">概念は、ページまたはリーダーに関してではなく、スキャン中に「現在の」ピクセルに入る方向に関して考慮する必要があります。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デモンストレーション</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下は、正方形トレースアルゴリズムがパターンの輪郭を検出する方法のアニメーションによるデモです。</font><font style="vertical-align: inherit;">てんとう虫がピクセル単位で移動することを忘れないでください。</font><font style="vertical-align: inherit;">左右に曲がるとその方向がどのように変わるかに注意してください。</font><font style="vertical-align: inherit;">左と右の回転は、ピクセルの現在の方向を基準にして実行されます。</font><font style="vertical-align: inherit;">てんとう虫の向き。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/39c/148/f77/39c148f774519015dc130273d8383dd3.gif" height="360" width="288"></div><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分析</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スクエアトレースアルゴリズムの機能は非常に制限されています。</font><font style="vertical-align: inherit;">彼は、実際のアプリケーションでしばしば発生するパターンの大きなファミリーの輪郭を検出することができません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは主に、左右の回転では</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
現在のピクセルから</font><font style="vertical-align: inherit;">「</font><font style="vertical-align: inherit;">対角線上」に</font><font style="vertical-align: inherit;">あるピクセルが考慮されないため</font><font style="vertical-align: inherit;">です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さまざまな接続のさまざまなパターンを見て、正方形トレースアルゴリズムが失敗する理由を見てみましょう。</font><font style="vertical-align: inherit;">さらに、アルゴリズムの機能を改善し、特別な種類の接続を持つパターンでも動作するようにする方法を検討します。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">停止基準</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アルゴリズムの弱点の1つは、停止基準の選択です。つまり、アルゴリズムはいつ実行を停止しますか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スクエアトレースアルゴリズムの元の説明では、完了の条件は、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初の</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ピクセルを2回</font><font style="vertical-align: inherit;">ヒットする</font><font style="vertical-align: inherit;">ことです。アルゴリズムがそのような基準に依存している場合、パターンの大きなファミリーの輪郭を検出できないことがわかります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下は、不適切な停止基準の選択が原因でアルゴリズムがパターンの正確な輪郭を検出できない方法を説明するアニメーションデモです。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0ef/783/09a/0ef78309a17e9e72b09a28890abb6791.gif" height="252" width="216"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ご覧のとおり、停止基準を改善することは、アルゴリズムの全体的なパフォーマンスを改善するための良い出発点となります。既存の停止基準には2つの効果的な選択肢があります。a </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
）</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初の</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ピクセルに</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回</font><font style="vertical-align: inherit;">アクセスすることによってのみ停止</font><font style="vertical-align: inherit;">する（nは2以上</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
）</font><font style="vertical-align: inherit;">または</font><font style="vertical-align: inherit;">b）</font><b><font style="vertical-align: inherit;">最初の</font></b><font style="vertical-align: inherit;">ピクセルに</font><b><i><font style="vertical-align: inherit;">再度</font></i></b><font style="vertical-align: inherit;">アクセスした</font><font style="vertical-align: inherit;">ときと同じ方法で、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初の</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ピクセルに2 </font><font style="vertical-align: inherit;">回</font><font style="vertical-align: inherit;">アクセスした</font><font style="vertical-align: inherit;">後に停止する</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この基準は</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jacob Eliosoff</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">によって提案された</font><font style="vertical-align: inherit;">ので</font><font style="vertical-align: inherit;">、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">Jacob </font></a></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を停止するため</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の</font><b><i><font style="vertical-align: inherit;">基準</font></i></b><font style="vertical-align: inherit;">と呼びます</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
停止基準を変更すると、一般に、スクエアトレースアルゴリズムの効率が向上しますが、特別なタイプの接続性を持つパターンの場合にある他の弱点を克服することはできません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スクエアトレースアルゴリズムは、接続4を持たない、接続8のパターンファミリーのアウトラインを検出できません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下は、接続4なしの接続8のパターンの正しいアウトラインをスクエアトレースアルゴリズム（ジェイコブの停止基準を使用）が検出できない方法のアニメーションデモです。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9bb/c26/238/9bbc26238da41c3fb5c5eac1e44fe507.gif" height="288" width="216"></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このアルゴリズムは完全に役に立たないのですか？</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記の分析を読んだ場合、方形トレースアルゴリズムではほとんどのパターンの輪郭を検出できないと思うでしょう。しかし、それは判明しました。特殊なパターンのパターンがあり、正方形のトレースアルゴリズムによって輪郭が完全に正しく検出されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ましょう</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pが</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">グリッドに接続4と黒画素の集合です。グリッドの白いピクセル、つまり背景ピクセル</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">W</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の接続性も4です。このようなパターンとその背景の条件下では、正方形のトレースアルゴリズム（Jacob停止基準を使用）が常に輪郭の決定にうまく対処できることが証明できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下は、パターンピクセルと背景ピクセルの両方が4つ接続されている場合に、正方形トレースアルゴリズムがJacob停止基準を使用してアウトラインを正しく決定することの証明です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
証明</font><font style="vertical-align: inherit;">：</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与えられ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">たパターン</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pは</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、パターンの</font><font style="vertical-align: inherit;">すべてのピクセル（つまり、黒）と背景ピクセル（つまり、白）Wの接続が4になるようなものです。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初の観察</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Wの白いピクセルのセットの接続は4なので、これは、パターンを「</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">穴</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」に</font><font style="vertical-align: inherit;">することはできません</font><font style="vertical-align: inherit;">（非公式な用語では、「</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">穴</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」とは、パターンの黒いピクセルで完全に囲まれた白いピクセルのグループを意味します）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「</font><b><i><font style="vertical-align: inherit;">穴</font></i></b><font style="vertical-align: inherit;">」の存在</font></font><b><i><font style="vertical-align: inherit;"></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「パターンでは他の白色画素から白画素群の分離につながる。4.白画素の複数の接続を失った</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上で</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、図2</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">及び</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図3に</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">示す以下の二種類の」</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">穴</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パターン4に関連して生じる可能性」：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8d9/a4e/9b1/8d9a4e9b18b2753038c0abbd11ad7dcd.gif" height="180" width="432"></div><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2番目の観察。</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
パターンの2つの黒いピクセルは、1つの共通の側面を持つ必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2つの黒いピクセルに共通の頂点が1つだけあるとします。次に、パターンの4連結性のプロパティを満たすために、これらの2つのピクセルを接続するパスが存在する必要があります。これにより、このパス上の隣接する2つすべてのピクセルの接続性は4になります。ただし、</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図3の</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ようなパターンが得られ</font><b><i><font style="vertical-align: inherit;">ます</font></i></b><font style="vertical-align: inherit;">。言い換えると、これにより白いピクセルが分離されます。</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図4</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すなわち示す典型的なパターン模様や背景-4関連の画素を満たすという仮定下、 「</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">穴</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」</font><font style="vertical-align: inherit;">がなく</font><font style="vertical-align: inherit;">、2つの黒いピクセルごとに1つの共通の側面があります。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a68/2e0/7e0/a682e07e0732655da35269badcfe6b69.gif" height="216" width="216"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このようなパターンを次のように表すと便利です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初に、境界ピクセルを検討</font><font style="vertical-align: inherit;">します。</font><font style="vertical-align: inherit;">パターンの概要。次に、各境界ピクセルに単位長の4つのエッジがあると見なすと、これらのエッジのいくつかが隣接する白いピクセルと共通であることがわかります。このようなエッジを</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">境界エッジ</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と呼び</font><b><i><font style="vertical-align: inherit;">ます</font></i></b><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このような境界エッジは、ポリゴンのエッジと見なすことができます。</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下、このアイデアは、からパターンに対応するポリゴンの例により実証される</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。図4</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/220/ebe/5ea/220ebe5ea9383e00a2709117b237248b.gif" height="216" width="216"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このようなパターンで発生する可能性のある境界ピクセルのすべての「構成」を検討すると、</font><font style="vertical-align: inherit;">下の</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図6</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図7に</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">示す2つの単純なケースがあることがわかり</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
境界ピクセルは、これらの場合の倍数または他の配置、すなわちこれら2つのケースのねじれと回転。境界リブは、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E1、E2、E3</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">および</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E4</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">として青でマークされてい</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bf5/99b/6fa/bf599b6fafebb09a80c32eceb0520270.gif" height="216" width="576"></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3番目の観察</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
上記の2つのケースの場合、どの初期ピクセルを選択した場合でも、どの方向に移動した場合でも、正方形トレースアルゴリズムは決して</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「戻る」（バックトラック）</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ことはなく</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></b> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">境界エッジ</font></font></i><font style="vertical-align: inherit;"><b><font style="vertical-align: inherit;">を「通過する」</font></b><font style="vertical-align: inherit;">ことはありません</font><b><font style="vertical-align: inherit;">。</font></b><font style="vertical-align: inherit;"> 2回（2回目に境界をトレースしない場合のみ）、</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">境界エッジを</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">見逃すことはありません</font><font style="vertical-align: inherit;">。見てみな！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで2つの概念を明確にする必要があります。a </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
）</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「戻る」</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アルゴリズム</font><font style="vertical-align: inherit;">。境界全体をトレースする前に、すでに訪れたピクセルに戻ります</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。b）各</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">境界エッジ</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">について、</font><b><font style="vertical-align: inherit;">「進む」</font></b><font style="vertical-align: inherit;">には2つの方法があります</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、つまり、「内側」と「外側」（「内側」は対応するポリゴンの内側、「外側」-ポリゴンの外側を意味します）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、アルゴリズムが境界エッジの1つを「内側」に通過すると、次の境界エッジ、つまり「外側」を「外側」に通過します。スクエアトレースアルゴリズムは、2つの連続したエッジを同じ方法で通過できません。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最後の観察</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
各パターンには、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">偶数の</font></font></b> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">境界エッジがあり</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font><b><i><font style="vertical-align: inherit;">図5</font></i></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
のポリゴンを見ると</font><font style="vertical-align: inherit;">、次のことがわかります。</font><font style="vertical-align: inherit;">図でマークされた</font><font style="vertical-align: inherit;">
頂点</font><b><font style="vertical-align: inherit;">S</font></b><font style="vertical-align: inherit;">から開始し</font><font style="vertical-align: inherit;">、境界エッジに沿って、再び</font><b><font style="vertical-align: inherit;">S</font></b><font style="vertical-align: inherit;">に到達するまで続ける場合</font></font><b><i><font style="vertical-align: inherit;"></font></i></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、それから私たちはその過程で偶数の境界エッジを越えることに注意します。各境界エッジを別々の方向の「ステップ」と見なすことができます。次に、開始位置に戻りたい場合は、右側の「ステップ」ごとに、対応する左側の「ステップ」が必要です。同じことが垂直方向の「ステップ」にも当てはまります。したがって、「ステップ」には対応するペアが必要であり、これがこれらのパターンのそれぞれに偶数の境界エッジがある理由を説明しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、正方形をトレースするためのアルゴリズムが</font><font style="vertical-align: inherit;">（最初のピクセルの）</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初の境界エッジを</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2回</font><font style="vertical-align: inherit;">目に入ると、最初</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と同じ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方向</font><font style="vertical-align: inherit;">にそれを行い</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、境界エッジを通過する方法が2つあり、アルゴリズムが内側と外側に交互に移動し、偶数の境界エッジがあるため、アルゴリズムは、最初の境界エッジを2回目に通過するためです。最初。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4連結パターンと背景の場合、四角形トレースアルゴリズムは境界全体を検出します。</font><font style="vertical-align: inherit;">輪郭、パターン、および単一のトレース、つまり </font><font style="vertical-align: inherit;">2回目に</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初の境界エッジに</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到達する</font><font style="vertical-align: inherit;">と、1回目と同じ方法で入る</font><font style="vertical-align: inherit;">ため、再度トレースすることはありません</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">したがって、パターンと背景の両方が4接続されている場合、Jacobの停止基準を使用する正方形トレースアルゴリズムは、パターンのカウンターを正しく決定します。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ムーアの周囲をたどる</font></font></h2><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">考え</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Moore-Neighborトレースの背後にある考え方は単純です。</font><font style="vertical-align: inherit;">しかし、それを説明する前</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に、</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ピクセルの</font><b><i><font style="vertical-align: inherit;">ムーア近傍</font></i></b><font style="vertical-align: inherit;">という重要な概念を説明する必要があり</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ムーアの近所</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ピクセル</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">のムーア近傍は、</font><font style="vertical-align: inherit;">そのピクセルと共通の頂点またはエッジを持つ8つのピクセルのセットです。</font><font style="vertical-align: inherit;">そのようなピクセル、すなわち、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ｐ１、Ｐ２、Ｐ３、Ｐ４、Ｐ５、Ｐ６、Ｐ７およびＰ８</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図１に</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">示されている</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ムーア近傍（</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8近傍</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">または</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">間接近傍</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">とも呼ばれ</font><b><i><font style="vertical-align: inherit;">ます</font></i></b><font style="vertical-align: inherit;">）は、文献でしばしば言及される重要な概念です。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/863/08c/2ea/86308c2ea8863bc111d206fb5070250f.gif" height="195" width="178"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、ムーアの周囲の痕跡の根底にあるアイデアを知る準備ができました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デジタルパターンがあるとします。白いピクセルの背景にある黒いピクセルのグループ、つまりグリッド上;黒のピクセルを見つけて、「</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">初期</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」ピクセルとして</font><font style="vertical-align: inherit;">宣言し</font><font style="vertical-align: inherit;">ます。 （「</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">開始</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」ピクセルを見つける方法はいくつかありますが、以前と同様に、左下隅から開始し、最初の黒ピクセルが見つかるまですべてのピクセル列を順番にスキャンします</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">
これ</font><font style="vertical-align: inherit;">が「</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">開始</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」で</font><font style="vertical-align: inherit;">あると宣言します</font><font style="vertical-align: inherit;">。）</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次に、もう一度想像してみます</font><font style="vertical-align: inherit;">。</font><b><i><font style="vertical-align: inherit;">図2に</font></i></b><font style="vertical-align: inherit;">示すように、</font><font style="vertical-align: inherit;">あなたが</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">開始</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ピクセルに</font><font style="vertical-align: inherit;">立っているてんとう虫であること</font></font><b><i><font style="vertical-align: inherit;"></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">未満。</font><font style="vertical-align: inherit;">一般化を失うことなく、パターンを時計回りに移動して輪郭を検出します。</font><font style="vertical-align: inherit;">（私たちがどちらの方向を選択するかは関係ありません。主なことは、それをアルゴリズムで常に使用することです）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一般的な考え方は次のとおりです。黒いピクセル</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pに</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">入るたびに、</font><font style="vertical-align: inherit;">前に立っていた白いピクセルに戻ります。</font><font style="vertical-align: inherit;">その後</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、我々は</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">行く</font><font style="vertical-align: inherit;">の周りの</font><font style="vertical-align: inherit;">ピクセル</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pの</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我々は黒画素に到達するまで、ムーアのその周辺のすべてのピクセルを訪問し、時計回りに。</font><font style="vertical-align: inherit;">アルゴリズムは、開始ピクセルが2回目に開始ピクセルに到達すると終了します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アルゴリズムが訪れた黒いピクセルがパターンの輪郭になります。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/43e/afb/a2f/43eafba2f0611e11eb82c8ed7159971c.gif" height="252" width="216"></div><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アルゴリズム</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下は、ムーア近傍トレースアルゴリズムの正式な説明です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
入力：</font><font style="vertical-align: inherit;">黒いセルの</font><font style="vertical-align: inherit;">接続されたコンポーネント</font><b><font style="vertical-align: inherit;">P</font></b><font style="vertical-align: inherit;">を含む</font><font style="vertical-align: inherit;">正方形の</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テッセレーション</font></font></a> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
出力：</font><font style="vertical-align: inherit;">境界ピクセルの</font><font style="vertical-align: inherit;">行</font><b><font style="vertical-align: inherit;">B（b </font></b><b><sub><font style="vertical-align: inherit;">1</font></sub></b><b><font style="vertical-align: inherit;">、b </font></b><b><sub><font style="vertical-align: inherit;">2</font></sub></b><b><font style="vertical-align: inherit;">、...、b </font></b><b><sub><font style="vertical-align: inherit;">k</font></sub></b><b><font style="vertical-align: inherit;">）</font></b><font style="vertical-align: inherit;">、つまり </font><font style="vertical-align: inherit;">回路。</font><b><font style="vertical-align: inherit;">Mで</font></b><font style="vertical-align: inherit;"> 
表す</font><b><font style="vertical-align: inherit;">（a）</font></b><font style="vertical-align: inherit;">ピクセル</font><b><font style="vertical-align: inherit;">aの</font></b><font style="vertical-align: inherit;">ムーア近傍</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">
してみましょう</font><b><font style="vertical-align: inherit;">pが</font></b><font style="vertical-align: inherit;">現在の境界ピクセルです。</font><font style="vertical-align: inherit;">
ましょう</font><b><font style="vertical-align: inherit;">cは</font></b><font style="vertical-align: inherit;">検討中の現在のピクセルである、即ち </font><b><font style="vertical-align: inherit;">c</font></b><font style="vertical-align: inherit;">は</font><b><font style="vertical-align: inherit;">M（p）にあり</font></b><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">
開始</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font><sub><font style="vertical-align: inherit;"></font></sub><font style="vertical-align: inherit;"></font><sub><font style="vertical-align: inherit;"></font></sub><font style="vertical-align: inherit;"></font><sub><font style="vertical-align: inherit;"></font></sub><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">B</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を空のセットとして</font><font style="vertical-align: inherit;">定義し</font><font style="vertical-align: inherit;">ます。</font></font></li>
<li>       <b>T</b>,      <b>s</b>  <b>P</b>.</li>
<li> <b>s</b>  <b>B</b>.</li>
<li>      <b>p</b>  <b>s</b>, .. <b>p=s</b></li>
<li> , ..   ,      <b>s</b>.</li>
<li>   <b>c</b>       <b>M(p)</b>.</li>
<li> <b>c</b>   <b>s</b>, <br>
<br>
<ul>
<li> <b>c</b> — <br>
<ul>
<li> <b>c</b>  <b>B</b></li>
<li> <b>p=c</b></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">戻る（現在のピクセル</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pに</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">移動したピクセルに移動します</font><font style="vertical-align: inherit;">）</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さもないと</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">現在のピクセル</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><b><font style="vertical-align: inherit;">Mの</font></b><font style="vertical-align: inherit;">次の時計回りのピクセルに</font><font style="vertical-align: inherit;">移動します</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（p）</font></font></b></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さようならサイクルの終わり</font></font></li>
</ul></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
終わり</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デモンストレーション</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下は、ムーアの近傍トレースがパターン輪郭検出を実行する方法のアニメーションによるデモです。</font><font style="vertical-align: inherit;">（時計回りにアウトラインをトレースすることにしました。）</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/544/3f0/295/5443f02954a35cf08c7a9e462bfa0f8a.gif" height="360" width="360"></div><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分析</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ムーアの周囲を追跡する際の主な弱点は、停止基準の選択にあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ムーアの周囲を追跡するアルゴリズムの元の説明では、停止基準は</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初の</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ピクセルを2回目</font><font style="vertical-align: inherit;">にヒットする</font><font style="vertical-align: inherit;">ことです。正方形のトレースアルゴリズムと同様に、この基準を使用してムーアの周囲をトレースしても、パターンの大きなファミリーの輪郭を検出できないことがわかります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下は、不適切な停止基準を選択したためにアルゴリズムがパターンの正確な輪郭を見つけられない理由を説明するアニメーションデモです。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a1c/d5e/7af/a1cd5e7afa1cd1b7312e5770c6cf826c.gif" height="252" width="216"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ご覧のとおり、停止基準を改善することは、トレースの全体的なパフォーマンスを改善するための良い出発点となります。停止基準には、Jacobの停止基準と同様の2つの効果的な代替案があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ジェイコブ基準を使用すると、ムーアの周囲をトレースする効率が大幅に向上し、接続性に関係なく、あらゆるパターンの輪郭を決定するための最適なアルゴリズムになります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは主に、アルゴリズムが境界ピクセルのムーア近傍全体をチェックして次の境界ピクセルを検索するためです。左右にのみ回転してピクセルを「斜めに」見逃す四角形トレースアルゴリズムとは異なり、ムーアの近傍トレースは常に、接続されているコンポーネントの外側の境界を検出できます。その理由は次のとおりです</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。8連結</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（または単に</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">連結</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）パターンの場合、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次の</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">境界ピクセルは現在の境界ピクセルのムーア近傍内にあります。ムーアの近傍トレースは、現在の境界ピクセルのムーア近傍の各ピクセルをチェックするため、次の境界ピクセルを検出する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ムーアの近傍のトレースが、最初と同じ方法で2回目に最初のピクセルに達した場合、これは</font><b><font style="vertical-align: inherit;">、</font></b><font style="vertical-align: inherit;">パターンの</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完全な</font></font></b> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外部輪郭</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が検出されたことを意味し</font><font style="vertical-align: inherit;">ます。アルゴリズムが停止されない場合は、同じ輪郭が再び検出されます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ラジアルスキャン</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
放射状スイープアルゴリズムは、いくつかの本で説明されている輪郭検出アルゴリズムです。複雑な名前にもかかわらず、根本的なアイデアは非常に単純です。実際、ラジアルスイープアルゴリズム</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ムーアの周囲の痕跡</font><b><font style="vertical-align: inherit;">と同じである</font></b><font style="vertical-align: inherit;">ことがわかります。 「なぜ彼に言及するのですか？」</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ムーアの周囲をトレースすると、黒いピクセルが見つかるまで、ムーアの近くで特定の方向（時計回りの方向を選択）で現在の境界ピクセルが検索されます。次に、そのピクセルを現在の境界ピクセルとして宣言し、続行します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
放射状スキャンアルゴリズムも同じです。一方、特定の境界ピクセルのムーア近傍で次の黒いピクセルを見つける興味深い方法を提供します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この方法は、次のアイデアに基づいています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
新しい境界ピクセルを見つけるたびに、それを現在のピクセル</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pにし</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font><b><font style="vertical-align: inherit;">P</font></b><font style="vertical-align: inherit;">を</font><b><font style="vertical-align: inherit;">前の</font></b><font style="vertical-align: inherit;">境界ピクセル</font><font style="vertical-align: inherit;">と</font><font style="vertical-align: inherit;">接続</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">する想像上の線分</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">描画</font><b><font style="vertical-align: inherit;">し</font></b><font style="vertical-align: inherit;">ます。次に</font><font style="vertical-align: inherit;">、</font><font style="vertical-align: inherit;">ムーア</font><b><font style="vertical-align: inherit;">P</font></b><font style="vertical-align: inherit;">のピクセルの近傍で黒いピクセルに遭遇するまで</font><font style="vertical-align: inherit;">、セグメントを</font><font style="vertical-align: inherit;">時計回り</font><font style="vertical-align: inherit;">に</font><b><font style="vertical-align: inherit;">P</font></b><font style="vertical-align: inherit;">に対して</font><b><font style="vertical-align: inherit;">回転さ</font></b><font style="vertical-align: inherit;">せます</font><font style="vertical-align: inherit;">。近隣のムーア</font><b><font style="vertical-align: inherit;">Pの</font></b><font style="vertical-align: inherit;">各ピクセルの検証と同じようにセグメントを回転させます</font><font style="vertical-align: inherit;">。</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ラジアルスキャンアルゴリズムがどのように機能するか、ムーアの周囲をトレースするように見えるアニメーションのデモを作成しました。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fa1/419/ff6/fa1419ff6b8efc7ef94d978854f99fab.gif" height="360" width="326"></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">そして、放射状掃引アルゴリズムはいつ停止しますか？</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次の停止基準を使用してアルゴリズムの動作を説明しましょう...</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">停止基準1</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ラジアルスキャンアルゴリズムが</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初のピクセル</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に2度目に</font><font style="vertical-align: inherit;">アクセスしたときに完了し</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下はアニメーション化されたデモであり、ブレーク基準が正しく変更される理由は明らかです。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/04c/432/408/04c432408fca093316e950c77bdd5537.gif" height="252" width="216"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
両方のアルゴリズムでこの停止基準を使用する場合、ラジアルスキャンアルゴリズムの効果はムーアの周囲のトレースと同じであることにも言及する価値があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
正方形トレースアルゴリズムとムーア近傍トレースでは、Jacob停止基準を使用すると、両方のアルゴリズムのパフォーマンスが大幅に向上することがわかりました。</font></font><br>
<br>
<b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jacobの停止基準で</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は</font><font style="vertical-align: inherit;">、最初と同じ方向に2回目に</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">開始</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ピクセル</font><font style="vertical-align: inherit;">にアクセスしたときに、アルゴリズムが実行を停止する必要があります</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
残念ながら、ラジアルスイープアルゴリズムではジェイコブ停止基準を使用できません。その理由は、ラジアルスキャンアルゴリズムは概念を定義しないためです。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">境界ピクセルに当たる「方向」</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">言い換えると、アルゴリズムが境界ピクセルに陥った「方向」は明確ではありません（その定義は重要です）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、特定のピクセルをヒットする方向に依存しない別の停止基準を提案する必要があります。これにより、ラジアルスキャンアルゴリズムの効率を向上させることができます。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">停止基準2</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アルゴリズムが新しい境界ピクセル</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iを</font></font></sub></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">検出するたび</font><font style="vertical-align: inherit;">に、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一連の</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">境界ピクセル</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、P </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、P </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、...、P </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iに</font></font></sub></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">挿入される</font><font style="vertical-align: inherit;">と仮定し</font><font style="vertical-align: inherit;">ます。現在の境界ピクセルとして宣言されています。 （</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初の</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ピクセル</font><font style="vertical-align: inherit;">を考慮し</font><font style="vertical-align: inherit;">ます）。我々は以前の境界画素知っていることをこれは意味</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I-1の</font></font></sub></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">現在の各境界画素</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Iを</font></font></sub></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。 （</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">開始ピクセル</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">については、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></sub></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">境界ピクセルの行の</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初の</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ピクセルに</font><font style="vertical-align: inherit;">面するグリッド上のピクセルのいずれとも同等ではない仮想ピクセルです</font><font style="vertical-align: inherit;">）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記の仮定に基づいて、停止基準を次のように決定できます。次の</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
場合にアルゴリズムが実行を</font><font style="vertical-align: inherit;">停止します。a </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
）現在の境界ピクセル</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></sub></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以前に</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一連の境界ピクセル内の</font><font style="vertical-align: inherit;">ピクセル</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">j</font></font></sub></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">j &lt;i</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">として出会ったこと</font><font style="vertical-align: inherit;">、および</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
b）</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i- 1</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = P </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">j-1</font></font></sub></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
つまり、アルゴリズムは、</font><b><font style="vertical-align: inherit;">2番目の</font></b><font style="vertical-align: inherit;">境界ピクセルPにアクセスすると実行を完了します。</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">時間二時間（境界画素の行の）Pの前に境界画素がある場合に</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、同じ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pのために訪問したときにP前と画素</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初の</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">時間。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
停止基準の条件が満たされ、アルゴリズムがシャットダウンしない場合、ラジアルスキャンアルゴリズムは</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">同じ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">境界</font><font style="vertical-align: inherit;">を再度検出</font><b><font style="vertical-align: inherit;">し</font></b><font style="vertical-align: inherit;">続け</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この停止基準を使用したラジアルスキャンアルゴリズムの効果は、ジェイコブ停止基準を使用してムーア近傍をトレースするパフォーマンスと同様です。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Theo Pavlidisアルゴリズム</font></font></h2><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">考え</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このアルゴリズムは、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Theo Pavlidis</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">によって提案された最新のループ検出アルゴリズムの1つです</font><font style="vertical-align: inherit;">。彼は1982年の著書「</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">グラフィックスと画像処理のアルゴリズム」</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（第7章、セクション5）で</font><font style="vertical-align: inherit;">それを引用しました</font><font style="vertical-align: inherit;">。正方形をトレースしたり、ムーアの周囲をトレースしたりするアルゴリズムほど単純ではありませんが、それほど複雑ではありません（これは、ほとんどの輪郭検出アルゴリズムの特徴です）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このアルゴリズムについては、彼の本でのやり方とは異なります。私たちのアプローチは理解しやすく、アルゴリズムの根底にある一般的なアイデアのアイデアを提供します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一般化を失うことなく、ループを時計回りに回って、記事に記載されている他のすべてのアルゴリズムの順序に合わせることにしました。一方、Pavlidisは反時計回りに方向を選択しました。これはアルゴリズムのパフォーマンスには影響しません。唯一の違いは、コンターを移動するときに行う動きの相対的な方向です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それではアイデアに移り</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ましょう</font><font style="vertical-align: inherit;">... </font><font style="vertical-align: inherit;">デジタルパターンがあるとしましょう。白いピクセルの背景上の黒いピクセルのグループ、つまりグリッド上;黒のピクセルを見つけて、「</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">初期</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」ピクセルとして</font><font style="vertical-align: inherit;">宣言し</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">たとえば、上記のように、さまざまな方法で</font><font style="vertical-align: inherit;">「</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">開始</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」ピクセル</font><font style="vertical-align: inherit;">を検索できます</font><font style="vertical-align: inherit;">。</font><b><font style="vertical-align: inherit;">イニシャル</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
を見つけるには</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このメソッドを使用するピクセルはオプションです。代わりに、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">開始</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ピクセルを選択するためにPavlidisアルゴリズムによって課された次の制限を満たす</font><b><font style="vertical-align: inherit;">開始</font></b><font style="vertical-align: inherit;">ピクセルを</font><font style="vertical-align: inherit;">選択します。</font><b><font style="vertical-align: inherit;">開始</font></b><font style="vertical-align: inherit;">ピクセル</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を入力する方向の重要な制限</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
実際には、</font><font style="vertical-align: inherit;">この条件のもとで</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">開始</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ピクセルとして任意の黒の境界ピクセルを選択できます。</font><font style="vertical-align: inherit;">その上で、左隣のピクセルは黒ではありません。言い換える</font><font style="vertical-align: inherit;">と、左隣のピクセルが白くなるような方向で</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">開始</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ピクセル</font><font style="vertical-align: inherit;">を入力する必要があります</font><font style="vertical-align: inherit;">（ここでの「左」は、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">開始ピクセル</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を入力する方向を基準にしています</font><font style="vertical-align: inherit;">）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今あなたが立っているてんとう虫であると想像してください</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下の</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図1に</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">示すように、</font><b><font style="vertical-align: inherit;">開始</font></b><font style="vertical-align: inherit;">ピクセル</font><font style="vertical-align: inherit;">。アルゴリズムを実行するプロセスでは、目の前の3ピクセルのみに関心があります。</font><b><i><font style="vertical-align: inherit;">図1に</font></i></b><font style="vertical-align: inherit;">示す</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P1、P2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、および</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P3</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。 （</font><b><font style="vertical-align: inherit;">P2</font></b><font style="vertical-align: inherit;">を</font><b><font style="vertical-align: inherit;">前の</font></b><font style="vertical-align: inherit;">ピクセル</font><font style="vertical-align: inherit;">として指定し</font><font style="vertical-align: inherit;">ます</font><b><font style="vertical-align: inherit;">。P1</font></b><font style="vertical-align: inherit;">は</font><b><font style="vertical-align: inherit;">P2</font></b><font style="vertical-align: inherit;">の左側の</font><font style="vertical-align: inherit;">ピクセル</font><font style="vertical-align: inherit;">、</font><b><font style="vertical-align: inherit;">P3</font></b><font style="vertical-align: inherit;">は</font><b><font style="vertical-align: inherit;">P2</font></b><font style="vertical-align: inherit;">の右側のピクセル</font><font style="vertical-align: inherit;">です）。</font></font><b><i><font style="vertical-align: inherit;"></font></i></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/53e/792/4b1/53e7924b1a7cb6c5e84f70a038d52bc8.gif" height="252" width="216"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スクエアトレースアルゴリズムと同様に、Pavlidisアルゴリズムで最も重要なのは「方向感覚」です。左折と右折は、現在のピクセルをどのように入力したかに応じて、現在の位置を基準にして実行されます。したがって、正しい動きをするためには、現在の方向を追跡することが重要です。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">しかし、どのように配置されていても、ピクセルP1、P2、P3は上記のように決定されます。</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
この情報が</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
あれば</font><font style="vertical-align: inherit;">、アルゴリズムを説明する準備ができています... </font><font style="vertical-align: inherit;">現在の境界ピクセル（最初の</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">初期</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ピクセル）に</font><font style="vertical-align: inherit;">立つたびに</font><font style="vertical-align: inherit;">、次のことを行います。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">まず</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、ピクセル</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P1を</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">確認し</font><font style="vertical-align: inherit;">ます。場合</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P1は</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">黒、その後宣言</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P1を</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">電流境界画素と</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1つ前に移動し、次に左</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に</font><font style="vertical-align: inherit;">移動</font><font style="vertical-align: inherit;">してP1 </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">移動します</font><font style="vertical-align: inherit;">（</font><font style="vertical-align: inherit;">移動</font><font style="vertical-align: inherit;">の</font><b><font style="vertical-align: inherit;">順序</font></b><font style="vertical-align: inherit;">は非常に重要です）。</font><b><i><font style="vertical-align: inherit;">図2</font></i></b><font style="vertical-align: inherit;">以下、この場合を示しています。</font><b><font style="vertical-align: inherit;">P1</font></b><font style="vertical-align: inherit;">へのパス</font><font style="vertical-align: inherit;">は青色で表示されます。</font></font><br>
<br><font style="vertical-align: inherit;"></font><b><i><font style="vertical-align: inherit;"></font></i></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ae9/c32/131/ae9c321310cb5a8902ae4df3dc42cdc9.gif" height="180" width="206"></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">そして、P1が白の場合にのみ、P2のチェックに進みます... </font></font></b><font style="vertical-align: inherit;"><b><font style="vertical-align: inherit;">P2が</font></b><font style="vertical-align: inherit;">黒の</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
場合、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P2を</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">現在の境界ピクセルとして</font><font style="vertical-align: inherit;">宣言し</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1ステップ先</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に</font><b><font style="vertical-align: inherit;">移動</font></b><font style="vertical-align: inherit;">して</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P2に</font></font></b><font style="vertical-align: inherit;"><b><font style="vertical-align: inherit;">移動</font></b><font style="vertical-align: inherit;">します</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">このケースを</font><font style="vertical-align: inherit;">以下の</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図3に</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">示します。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で</font><font style="vertical-align: inherit;">たどる必要のあるパス</font><font style="vertical-align: inherit;">は青色で表示されます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b34/7eb/934/b347eb9345873e5ba6aa136ab2fbb406.gif" height="180" width="206"></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P1とP2の両方が白の場合にのみ、P3を確認してください。P3 </font></font></b><font style="vertical-align: inherit;"><b><font style="vertical-align: inherit;">が</font></b><font style="vertical-align: inherit;">黒の</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
場合</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P3を</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">現在の境界線ピクセルとして</font><font style="vertical-align: inherit;">宣言</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">し、右に1ステップ、次に左</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に</font><b><font style="vertical-align: inherit;">1ステップ移動</font></b><font style="vertical-align: inherit;">します（図4を参照）。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0ad/bb6/7fa/0adbb67fa67183dec47bb4c1bf3221a7.gif" height="180" width="206"></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">それで全部です！</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 3つの単純なケースに対する3つの単純なルール。ご覧のように、すべての移動は現在の方向を基準に行われるため、コーナリング時に方向を追跡することが重要です。しかし、何かを忘れたようです。</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3つのピクセルすべてが目の前で白の場合はどうなりますか？</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次に、時計回りに（現在の境界ピクセルに立って）90度回転して、目の前に3つのピクセルの新しいセットを表示します。次に、これらの新しいピクセルに対して同じチェックを行います。まだ質問があるかもしれません：</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これら</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 3つのピクセル</font><font style="vertical-align: inherit;">すべて</font><font style="vertical-align: inherit;">が白の</font><font style="vertical-align: inherit;">場合はどうなり</font><font style="vertical-align: inherit;">ますか？次に、同じピクセルに立って、時計回りに90度回転します。ムーアのピクセルの近傍全体をチェックする前に、3回（時計回りに90度ずつ）回転できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
黒のピクセルを検出せずに3回回転する場合、これは、</font><font style="vertical-align: inherit;">他の黒のピクセルに接続されていない</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">孤立したピクセル</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上に立っていることを意味し</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">そのため、このアルゴリズムでは3回の回転が可能になり、実行が完了します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
別の側面：</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アルゴリズムはいつ実行を完了しますか？</font></font></i></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アルゴリズムは、次の2つの場合に作業を完了し</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ます。</font><font style="vertical-align: inherit;">このアルゴリズムでは、3回（毎回時計回りに90度）回転できます。実行が完了して分離ピクセルを宣言した後、または</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
b）現在の境界ピクセルが</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">初期</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ピクセルの場合、アルゴリズムはパターンの輪郭を検出したことを「宣言」して終了します。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アルゴリズム</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下は、Pavlidisアルゴリズムの正式な説明です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
入力：</font><font style="vertical-align: inherit;">黒いセルの</font><font style="vertical-align: inherit;">連結成分</font><b><font style="vertical-align: inherit;">P</font></b><font style="vertical-align: inherit;">を含む</font><font style="vertical-align: inherit;">正方形の</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テッセレーション</font></font></a><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
出力：</font><font style="vertical-align: inherit;">境界ピクセルの</font><font style="vertical-align: inherit;">行</font><b><font style="vertical-align: inherit;">B（b </font></b><b><sub><font style="vertical-align: inherit;">1</font></sub></b><b><font style="vertical-align: inherit;">、b </font></b><b><sub><font style="vertical-align: inherit;">2</font></sub></b><b><font style="vertical-align: inherit;">、...、b </font></b><b><sub><font style="vertical-align: inherit;">k</font></sub></b><b><font style="vertical-align: inherit;">）</font></b><font style="vertical-align: inherit;">、つまり </font><font style="vertical-align: inherit;">回路。</font><font style="vertical-align: inherit;">
定義：</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font><sub><font style="vertical-align: inherit;"></font></sub><font style="vertical-align: inherit;"></font><sub><font style="vertical-align: inherit;"></font></sub><font style="vertical-align: inherit;"></font><sub><font style="vertical-align: inherit;"></font></sub><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表す</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、すなわち、現在の境界画素を </font><font style="vertical-align: inherit;">私たちが立っているピクセル。</font></font></li>
<li><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P1、P2、</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">および</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P3</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を次のように</font><font style="vertical-align: inherit;">定義</font><font style="vertical-align: inherit;">します</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（上記の図1も参照）。</font></font></i></b></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、あなたの前にあるピクセルで、あなたが立っているピクセルに隣接しています。</font><font style="vertical-align: inherit;">ピクセル</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pで</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P2に</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">隣接する左のピクセル</font><font style="vertical-align: inherit;">です。</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P3</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P2に</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">隣接する右のピクセル</font><font style="vertical-align: inherit;">です。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特定の方向の</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「ステップ」</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を、その方向に1ピクセル移動</font><font style="vertical-align: inherit;">することと定義します</font><font style="vertical-align: inherit;">。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
開始</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">B</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を空のセットとして</font><font style="vertical-align: inherit;">定義し</font><font style="vertical-align: inherit;">ます。</font></font></li>
<li><font style="vertical-align: inherit;"><b><font style="vertical-align: inherit;">P</font></b><font style="vertical-align: inherit;">から</font><font style="vertical-align: inherit;">黒い</font><b><font style="vertical-align: inherit;">最初の</font></b><font style="vertical-align: inherit;">ピクセル</font><b><font style="vertical-align: inherit;">s </font></b><b><font style="vertical-align: inherit;">が見つかる</font></b><font style="vertical-align: inherit;">まで、</font><font style="vertical-align: inherit;">セル</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を下から上、左から右に</font><font style="vertical-align: inherit;">スキャンし</font><b><font style="vertical-align: inherit;">ます</font></b><b><i><font style="vertical-align: inherit;">（最初のピクセルに入る方向に関する重要な制限を参照してください）。</font></i></b></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b> <b><i><font style="vertical-align: inherit;"></font></i></b></li>
<li><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bedとに</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">挿入</font><b><font style="vertical-align: inherit;">し</font></b><font style="vertical-align: inherit;">ます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">現在のピクセル</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を初期ピクセル</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">として</font><font style="vertical-align: inherit;">設定し</font><font style="vertical-align: inherit;">ます。</font></font></li>
<li> :<br>
  <b>P1</b> <br>
<ul>
<li> <b>P1</b>  <b>B</b></li>
<li> <b>p=P1</b></li>
<li>    ,     </li>
</ul><br>
  <b>P2</b> <br>
<ul>
<li> <b>P2</b>  <b>B</b></li>
<li> <b>p=P2</b></li>
<li>     <b><i>(.   3)</i></b></li>
</ul><br>
  <b>P3</b> <br>
<ul>
<li> <b>P3</b>  <b>B</b></li>
<li> <b>p=P3</b></li>
<li>   ,      <b><i>(.   4)</i></b></li>
</ul><br>
       90    ,   <b>  p</b><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プログラムを終了し</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></b> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">孤立した</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ピクセル</font><font style="vertical-align: inherit;">を宣言します</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さもないと</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">現在のピクセル</font><b><font style="vertical-align: inherit;">pに</font></b><font style="vertical-align: inherit;">立ち、時計回りに90度回転します</font></font><b><font style="vertical-align: inherit;"></font></b></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一方、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P = S&nbsp; </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（繰り返しループを終了）</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
終わり</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デモンストレーション</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下は、Pavlidisアルゴリズムが特定のパターンの輪郭を検出する方法のアニメーションによるデモです。</font><font style="vertical-align: inherit;">ピクセル単位で歩くことを忘れないでください。</font><font style="vertical-align: inherit;">左または右に曲がると、向きがどのように変わるかに注意してください。</font><font style="vertical-align: inherit;">アルゴリズムをできるだけ詳細に説明するために、考えられるすべてのケースをアルゴリズムに含めました。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/22a/f0f/1dd/22af0f1dd39a517bb6097cd0fe3ec99d.gif" height="324" width="288"></div><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分析</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pavlidisアルゴリズムがパターンの輪郭を検出するのに理想的であると思われる場合は、考えを変える必要があります... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このアルゴリズムは、たとえばムーアの周囲をトレースするよりも少し複雑です。特定の種類の接続性を持つパターンのファミリー。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このアルゴリズムは、4連結パターンで非常にうまく機能します。この問題は、4接続ではない8接続のパターンをトレースすると発生します。以下は、Pavlidisアルゴリズムが8連結パターン（4連結パターンではない）の正しい輪郭を検出できない方法のアニメーションによるデモです。ほとんどの境界線をスキップします。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/225/56a/816/22556a816442cf010492cc30b64392eb.gif" height="252" width="247"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アルゴリズムを変更してパフォーマンスを大幅に改善するには、2つの簡単な方法があります。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a）停止基準を置き換える</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
開始ピクセルに2回目にアクセスしたときにアルゴリズムを完了する代わりに、3回目または4回目に開始ピクセルにアクセスしたときにアルゴリズムを終了できます。これにより、アルゴリズムの全体的なパフォーマンスが向上します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
または</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b）問題の原因を突き止める、つまり開始ピクセルを選択する前</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
に、開始ピクセルへのエントリが実行される方向に関して重要な制限があります。基本的に、開始ピクセルを入力する必要があります。これにより、立ったときに左側のピクセルが白になります。この制限を導入する理由はこれです：私たちは常に3つの画素を見て以来、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目の前で</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">米国</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特定の順序</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で、一部のパターンでは、最初のピクセルのすぐ左側にある境界ピクセルをスキップします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
開始ピクセルから左の隣接ピクセルだけでなく、その</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すぐ下</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の</font><b><font style="vertical-align: inherit;">ピクセル</font></b><font style="vertical-align: inherit;">も欠落するリスクがあり</font><b><font style="vertical-align: inherit;">ます</font></b><font style="vertical-align: inherit;">（分析で示されています）。さらに、いくつかのパターンでは、</font><font style="vertical-align: inherit;">以下の</font><b><i><font style="vertical-align: inherit;">図5の</font></i></b><font style="vertical-align: inherit;">ピクセル</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に</font><font style="vertical-align: inherit;">対応するピクセルがスキップされ</font><font style="vertical-align: inherit;">ます。したがって、</font><font style="vertical-align: inherit;">下の</font><b><i><font style="vertical-align: inherit;">図5に</font></i></b><font style="vertical-align: inherit;">示す</font><font style="vertical-align: inherit;">ピクセル</font><b><font style="vertical-align: inherit;">L、W</font></b><font style="vertical-align: inherit;">、</font><b><font style="vertical-align: inherit;">Rに</font></b><font style="vertical-align: inherit;">対応するピクセル</font><font style="vertical-align: inherit;">が白に</font><font style="vertical-align: inherit;">なる方向に、開始ピクセルをヒットする必要があると仮定します</font><font style="vertical-align: inherit;">。</font></font><b><i><font style="vertical-align: inherit;"></font></i></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><i><font style="vertical-align: inherit;"></font></i></b><font style="vertical-align: inherit;"></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9c8/a81/359/9c8a81359338b31b6f5c0e016230e629.gif" height="200" width="159"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この場合、デモンストレーションに示されているようなパターンが正しく検出され、Pavlidisアルゴリズムの有効性が大幅に向上します。</font><font style="vertical-align: inherit;">一方、これらの要件を満たす最初のピクセルを見つけることは困難な作業であり、多くの場合、そのようなピクセルを見つけることは不可能です。</font><font style="vertical-align: inherit;">この場合、別の方法を使用して、Pavlidisアルゴリズムを改善する必要があります。つまり、開始点を3回目に訪れた後のアルゴリズムの完了です。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja467593/index.html">（関連なし、修理済み）注。Tele2が新規加入者の個人アカウントへのアクセスを共有する方法</a></li>
<li><a href="../ja467597/index.html">Vowpal Wabbitによるビッグデータ製品ガイドラインのパーソナライズ</a></li>
<li><a href="../ja467599/index.html">OpenGLを使用した3Dレンダリング</a></li>
<li><a href="../ja467605/index.html">必要なのはURLだけです</a></li>
<li><a href="../ja467609/index.html">React Nativeでのモバイルアプリケーションの作成</a></li>
<li><a href="../ja467615/index.html">Pythonラッパーを作成して狂わないようにする方法</a></li>
<li><a href="../ja467617/index.html">Kaspresso：待っていた自動テストフレームワーク</a></li>
<li><a href="../ja467619/index.html">Aquafor投手は、水処理用のフィルターを設計できない方法の良い例です</a></li>
<li><a href="../ja467621/index.html">オゾンでElasticsearchモスクワのミートアップ</a></li>
<li><a href="../ja467623/index.html">React Native：アニメーションAPIを使用してアニメーション入力フィールドを作成する</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>