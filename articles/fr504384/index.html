<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙆 👩🏻‍🤝‍👨🏽 🎨 Introduisez progressivement TypeScript dans votre projet React 🧓🏿 👨‍👩‍👧‍👧 🧝🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour, Habr! 
 
 Récemment, dans le domaine du front-end, la combinaison de React + TypeScript est devenue particulièrement populaire. En conséquenc...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Introduisez progressivement TypeScript dans votre projet React</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/504384/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bonjour, Habr! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Récemment, dans le domaine du front-end, la combinaison de React + TypeScript est devenue particulièrement populaire. </font><font style="vertical-align: inherit;">En conséquence, la pertinence d'une migration compétente de JavaScript vers TypeScript augmente, de préférence en peu de temps. </font><font style="vertical-align: inherit;">Aujourd'hui, nous aimerions discuter de ce sujet avec vous.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ob/0p/2g/ob0p2gizhv0uq6lpukyxjyg4gye.jpeg"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comment créer et injecter en toute sécurité des composants React TypeScript dans votre projet React JS. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pourquoi pourriez-vous avoir besoin de migrer de JS vers TS? </font><font style="vertical-align: inherit;">Il peut y avoir plusieurs raisons à cela, mais ce n'est pas le but. </font><font style="vertical-align: inherit;">Le fait (hypothétique) est le suivant: vous devez commencer à utiliser TypeScript et vous avez besoin d'un moyen simple de l'implémenter dans votre projet. </font><font style="vertical-align: inherit;">De plus, tout cela doit être fait d'une manière ou d'une autre, sans violer la structure de tout le code disponible, et convaincre l'équipe de la nécessité d'une telle transition. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici, nous allons démontrer une refactorisation étape par étape: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">comment incorporer des composants React dans une autre base de code, puis utiliser Bit pour les entrer en toute sécurité dans une application JavaScript React fonctionnelle</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Intégrez en toute sécurité des composants TS dans un projet JS à l'aide de Bit</font></font></h4><br>
<img src="https://habrastorage.org/webt/-m/ew/xu/-mewxuart0vwekxdx8emsordwfu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe de nombreuses façons de passer de React JS à React TS. L'essence de cet article est de montrer comment cela se fait progressivement. Une méthode similaire est applicable dans d'autres cas. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'idée de base est de tirer le meilleur parti de vos composants React + avec Bit pour les isoler les uns des autres dans votre propre environnement de développement Bit. Ensemble, cela vous permet d'assembler des composants TS et de les injecter en toute sécurité dans une application React JS entièrement fonctionnelle. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bit</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Est un outil open source pour extraire des composants des référentiels Git. </font><font style="vertical-align: inherit;">Bit vous permet de créer des composants TS en dehors d'un projet écrit en JS, en les allouant à chaque environnement de développement isolé autonome, qui peut fonctionner dans d'autres projets, quelles que soient leurs configurations. </font><font style="vertical-align: inherit;">Ensuite, vous pouvez simplement versionner et «importer des bits» ces composants dans votre projet JS et ils fonctionneront. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avec Bit, il y a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bit.dev</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , un hub distant où vous pouvez stocker ces composants puis les réutiliser. </font><font style="vertical-align: inherit;">Nous conserverons les composants TS dans Bit.dev, et à partir de là, nous commencerons à les introduire dans notre projet React JS. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fp/eo/t0/fpeot07yiiql3rzhh5lntqafd-m.gif"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exemple: recherche de composants partagés React dans bit.dev</font></font></i><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exemple d'utilisation</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour les besoins de cet article, nous analyserons un exemple qui, dans le monde frontal, est comparable au «bonjour monde» classique: nous parlerons d'une application pour la planification de cas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ne vous inquiétez pas, je ne vais pas vous dire comment écrire une telle application pour React. Je suppose que vous savez déjà comment procéder et, pour être honnête, le sujet est loin d'être nouveau, alors ignorez. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais je vais utiliser cette application comme exemple - vous pouvez à juste titre la bifurquer, ou au moins ouvrir un lien et voir tout son code. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/-m/wf/mg/-mwfmgs_4e5lzdegiy0ewoppk0g.png"><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/deleteman/react-todo-demo</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Cette base de code comprend les composants suivants: </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TodoList</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: Il s'agit du composant principal affiché sous la forme d'un champ de saisie de texte avec le bouton habituel. </font><font style="vertical-align: inherit;">Tout est dans le formulaire, après envoi auquel le texte est ajouté à la liste supportée par l'application principale. </font><font style="vertical-align: inherit;">Le code de ce composant est très simple:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> React, { Component } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span><font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TodoList</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{<font></font>
  render() {<font></font>
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"todoListMain"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"header"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">{this.props.addItem}</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Task"</span>
            <span class="hljs-attr">ref</span>=<span class="hljs-string">{this.props.inputElement}</span>
            <span class="hljs-attr">value</span>=<span class="hljs-string">{this.props.currentItem.text}</span>
            <span class="hljs-attr">onChange</span>=<span class="hljs-string">{this.props.handleInput}</span>
             /&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span> Add Task <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><font></font>
    )<font></font>
  }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> TodoList</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TodoItems</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Un composant de liste très simple utilisé pour afficher une liste interne des éléments ajoutés via le composant précédent. </font><font style="vertical-align: inherit;">Chacun des éléments est cliquable et après avoir cliqué dessus, il est supprimé de la liste. </font><font style="vertical-align: inherit;">Le code est également assez simple:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> React, { Component } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span><font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TodoItems</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{<font></font>
<font></font>
  createTasks(item) {<font></font>
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{item.key}</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> this.props.deleteItem(item.key)}&gt;{item.text}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><font></font>
  }<font></font>
<font></font>
  render() {<font></font>
    <span class="hljs-keyword">const</span> todoEntries = <span class="hljs-keyword">this</span>.props.entries || []  
    <span class="hljs-keyword">const</span> listItems = todoEntries.map(<span class="hljs-keyword">this</span>.createTasks.bind(<span class="hljs-keyword">this</span>))    <font></font>
<font></font>
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"theList"</span>&gt;</span>{listItems}<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><font></font>
  }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> TodoItems</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans les deux cas, les méthodes correspondantes sont acceptées en tant que propriétés (accessoires) du composant principal de l'application. </font><font style="vertical-align: inherit;">Le code complet de ce composant est donné ici. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je suis d'accord, cette application est très simple, mais, je souligne encore une fois, il pourrait y avoir n'importe quelle application React sur laquelle vous travaillez actuellement - et soudain, vous obtenez la tâche de commencer la migration vers TypeScript. </font><font style="vertical-align: inherit;">Que faire?</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Option # 1: Après avoir essuyé les larmes, vous commencez à réécrire toute la base du code source. </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Option # 2: Renommez tous vos fichiers .js en .ts, configurez les étapes nécessaires dans le processus d'assemblage et lavez-vous les mains.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Option n ° 3: vous décidez qu'il est vraiment temps de passer à la migration progressive de tout l'ancien code et d'écrire tout le nouveau code directement sur TypeScript.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je veux discuter de l'option # 3 plus en détail, mais, en principe, je ne vous refuse pas que dans la même application, vous pouvez coexister des composants écrits à la fois en JavaScript pur et en TypeScript.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Entrez TypeScript</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Donc, à titre d'exemple, supposons que nous soyons chargés d'ajouter un bouton à bascule à chaque composant de notre liste de tâches. </font><font style="vertical-align: inherit;">Après avoir cliqué sur un élément, il doit être changé en arrière-plan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Rien de surnaturel, mais comme vous vous en souvenez, dans ce cas, nous nous intéressons au processus, pas au code en tant que tel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Donc, nous n'essaierons pas d'ajouter TypeScript à votre projet personnalisé, afin de ne pas casser accidentellement votre assemblage existant en plusieurs jours, mais de créer un projet complètement nouveau en utilisant TypeScript pur:</font></font><br>
<br>
<pre><code class="plaintext hljs">$ npx create-react-app ts-components --template typescript</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Remarque: pour utiliser npx, vous n'avez besoin que de la nouvelle version de NPM, et elle est incluse dans le processus d'installation dans les versions </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.2.0</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et supérieures. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme précédemment, dans ce cas, un modèle est créé pour le projet, mais cette fois, nous utilisons TypeScript comme langage de base. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De plus, un simple composant de commutation, adapté à l'insertion dans un autre projet, sans introduire de dépendances supplémentaires. Si vous êtes curieux de savoir comment procéder, lisez l'article suivant sur la façon d'écrire </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">des composants réutilisables</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> React, {useState} <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;<font></font>
<font></font>
interface IActionProps {<font></font>
	<span class="hljs-attr">action</span>: <span class="hljs-function">(<span class="hljs-params">status:boolean</span>) =&gt;</span> <span class="hljs-keyword">void</span>,<font></font>
	buttonText?: string<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">const</span> Toggle = <span class="hljs-function">(<span class="hljs-params">{action, buttonText=<span class="hljs-string">"Toggle"</span>}: IActionProps</span>) =&gt;</span> {
	<span class="hljs-keyword">const</span> [isSelected, setSelected] = useState(<span class="hljs-literal">false</span>)
	<span class="hljs-keyword">return</span> (
		<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> {
		setSelected(!isSelected)
		action(isSelected)
		}} &gt;{buttonText}<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><font></font>
	)	<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> Toggle</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant que ce composant est écrit, vous pouvez utiliser Bit (il s'agit d'un outil open source pour versionner et publier des composants individuels) pour extraire ce composant spécifique et le partager afin de pouvoir l'importer ultérieurement à partir de notre projet JavaScript.</font></font><br>
<br>
<pre><code class="plaintext hljs">//  Bit        <font></font>
$ yarn global add bit-bin<font></font>
$ bit init --package-manager yarn//    ( ,       bit.dev)<font></font>
$ bit login//   <font></font>
$ bit add src/components/Toggle.tsx //   (    env)<font></font>
$ bit import bit.envs/compilers/react-typescript --compiler//   <font></font>
$ bit tag –all</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous configurez donc votre projet et configurez le nouveau composant Toggle (commutateur) afin qu'il puisse être partagé avec d'autres projets. Mais, avant de pouvoir le faire dans la pratique, vous devez vous connecter à Bit.dev (il s'agit d'un concentrateur de composants - un site avec un registre et une documentation qui complète Bit en tant que plate-forme de publication et d'aperçu des composants). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une fois connecté, créez simplement une nouvelle collection appelée «toggler», rendez-la publique, puis exécutez la commande suivante dans la fenêtre du terminal:</font></font><br>
<br>
<pre><code class="plaintext hljs">$ bit export user-name.toggler</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si «nom d'utilisateur» est vraiment votre nom d'utilisateur, le composant sera alors exporté et vous pouvez le voir sur Bit.dev. Il devrait ressembler à ceci: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xw/yd/3x/xwyd3xkdwa-irkryeb4b-pmohwk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Notez comment, par défaut, le programme crée un exemple de fichier </font></font><code>index.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour tester le composant. Dans le même temps, le contenu écrit dans ce fichier par défaut peut ne pas être idéal, de sorte que la plate-forme facilite l'ajout de code supplémentaire, afin que les autres comprennent comment utiliser votre composant public dans leur code. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, ici, j'ai mis à jour mon exemple de fichier, en ajoutant des explications sur la façon d'utiliser le composant </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Toggler</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (n'oubliez pas de cliquer sur le bouton "Enregistrer" lorsque vous avez terminé!):</font></font><br>
<br>
<img src="https://habrastorage.org/webt/tu/jp/uk/tujpukgiq2wyx8f3zuu95kvndog.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voyons maintenant comment importer ce nouveau composant dans votre propre application React basée sur JS.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Importer un composant externe</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bit prend en charge la compilation de votre code TypeScript en JavaScript grâce au compilateur que nous avons ajouté. </font><font style="vertical-align: inherit;">Cela résout tous nos problèmes, et il ne nous reste plus qu'à ajouter ce composant à votre projet en tant que dépendance. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
À toutes fins utiles, j'ai utilisé Yarn ici, mais vous pouvez utiliser NPM avec le même succès, tout ce dont vous avez besoin pour cela:</font></font><br>
<br>
<pre><code class="plaintext hljs">$ yarn add @bit/your-username.your-collection.your-component</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans mon cas, ce code se transforme en:</font></font><br>
<br>
<pre><code class="plaintext hljs">$ yarn add @bit/deleteman.toggler.toggle</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Remarque: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vous ne pourrez pas installer de composants sans vous connecter</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (rappelez-vous la partie à propos </font></font><code>$ bit login</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de ce guide?). </font><font style="vertical-align: inherit;">Si vous souhaitez installer des composants à partir du registre Bit, vous devez configurer le registre manuellement, comme ceci:</font></font><br>
<br>
<pre><code class="plaintext hljs">$ npm config set '@bit:registry' https://node.bit.dev</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, votre composant TypeScript (déjà compilé en JavaScript) sera inclus dans le projet, et vous pourrez vous référer à ce composant de leur code comme suit:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> React, { Component, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> Toggle <span class="hljs-keyword">from</span> <span class="hljs-string">'@bit/deleteman.toggler.toggle'</span>;<font></font>
<font></font>
<font></font>
<span class="hljs-keyword">const</span> TodoItem = <span class="hljs-function">(<span class="hljs-params">{text, itemKey}</span>) =&gt;</span> {<font></font>
<font></font>
 	<span class="hljs-keyword">const</span> [iClass, setIClass] = useState(<span class="hljs-string">"white"</span>)<font></font>
<font></font>
  	<span class="hljs-keyword">const</span> toggleBackground = <span class="hljs-function"><span class="hljs-params">status</span> =&gt;</span> {<font></font>
  		setIClass(status ? <span class="hljs-string">"white"</span> : <span class="hljs-string">"black"</span>)<font></font>
  	}<font></font>
<font></font>
  	<span class="hljs-keyword">const</span> toggleProps = {
  		<span class="hljs-attr">action</span>: toggleBackground,
  		<span class="hljs-attr">buttonText</span>: <span class="hljs-string">"Select"</span><font></font>
  	}<font></font>
<font></font>
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{iClass}</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{itemKey}</span> &gt;</span>{text}<span class="hljs-tag">&lt;<span class="hljs-name">Toggle</span> {<span class="hljs-attr">...toggleProps</span>}/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> TodoItem</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Faites attention à la ligne 2, où j'importe le composant externe que j'ai l'intention d'utiliser dans le cadre de la déclaration de retour. </font><font style="vertical-align: inherit;">Rien de compliqué, aucune modification de configuration supplémentaire n'est requise dans votre projet ou ailleurs. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Félicitations, maintenant que vous avez un projet qui utilise à la fois TypeScript et JavaScript, vous pouvez potentiellement le faire pour que vous ne le remarquiez même pas! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme je l'ai mentionné ci-dessus, le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">code de projet complet est publié sur GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> !</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous êtes intéressé par la migration TypeScript, ou si vous voulez simplement l'expérimenter et voir comment cela fonctionne, alors c'est la façon dont il est pratique d'introduire progressivement le langage dans un projet existant, sans risquer de faire tomber l'ensemble du processus d'assemblage. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Faites attention à Bit et regardez Bit.dev, trouvez d'autres composants écrits en JavaScript et TypeScript en même temps pour comprendre comment les autres les écrivent!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr504358/index.html">PuppetConf 2016. Kubernetes pour les administrateurs système. Partie 2</a></li>
<li><a href="../fr504362/index.html">Chargez rapidement de grandes quantités de données dans Google Colab</a></li>
<li><a href="../fr504370/index.html">Office 365 et équipes Microsoft - Commodité de collaboration et impact sur la sécurité</a></li>
<li><a href="../fr504374/index.html">Traversée de graphe simple: recherche en profondeur et étendue en utilisant JavaScript comme exemple</a></li>
<li><a href="../fr504382/index.html">Comment je (PhD Neurobiologie) est devenu Data Scientist en 6 mois</a></li>
<li><a href="../fr504386/index.html">Variables virtuelles Vassbotn H. Class</a></li>
<li><a href="../fr504392/index.html">De combien de programmeurs et de mots avez-vous besoin pour reconnaître un passeport manuscrit?</a></li>
<li><a href="../fr504400/index.html">Mise en cache. Partie 2: 60 jours avant la sortie</a></li>
<li><a href="../fr504402/index.html">29 mai Java Digest</a></li>
<li><a href="../fr504408/index.html">Modèle de cadre de test simple et pratique sur séléniure pour les autotests de l'interface utilisateur</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>