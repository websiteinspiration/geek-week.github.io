<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>☂️ ✋🏽 👨‍👧‍👦 How to eliminate blind spots with visual testing 👏🏻 😜 📘</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A translation of the article was prepared ahead of the start of the Python QA Engineer course .
 
 
 Visual errors are errors in the presentation of t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>How to eliminate blind spots with visual testing</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/507224/"><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A translation of the article was prepared ahead of the start of </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the Python QA Engineer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> course </font><font style="vertical-align: inherit;">.</font></font></b></i><br>
<br>
<hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Visual errors are errors in the presentation of the application. They appear throughout the life of the application, and very often pop up when the application is displayed on the screens of mobile devices of various sizes (on laptops, phones, tablets, watches). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The worst part about visual errors is that they cannot be "caught" using conventional automated testing. This is because most </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">automated testing</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tools </font><font style="vertical-align: inherit;">check against the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DOM (document object model)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> to report the status of the application.</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example, the application from </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">this tweet</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> does not show the last digit of the price, however, the full price is in the DOM. </font><font style="vertical-align: inherit;">In the first case, the real price is 1250 New Zealand dollars, but it is displayed as 125 New Zealand dollars. </font><font style="vertical-align: inherit;">Very big difference! </font></font><br>
<br>
<img src="https://habrastorage.org/webt/px/jl/fl/pxjlflbnzqexojsuop3b3iqf_9e.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unfortunately, automated testing will tell you that everything is in order and the price is correct, even if users see a different picture. </font><font style="vertical-align: inherit;">Today we’ll talk about how to catch such errors using </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">visual testing</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">What is visual testing?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In order to catch visual errors, our automation scripts need “eyes”, that is, the ability to see the application as users see it in order to check its appearance. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Visual testing tools allow us to do just that. </font><font style="vertical-align: inherit;">They take a screenshot of your application when it takes the desired state, and then take a new screenshot every time you run the test. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Screenshots from regression testing are compared with the “correct” screenshot. </font><font style="vertical-align: inherit;">If significant mismatches are detected, the test fails. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Some of these tools use artificial intelligence to view screenshots to look more like people. </font><font style="vertical-align: inherit;">They are much more efficient than the basic pixel-based image comparison methods.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Should I start all over again?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When I tell engineers about the benefits of visual testing, they often ask me if they will now have to “throw away” all existing tests and start over. The answer is no. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Visual testing can be integrated into your existing testing system. Many visual testing tools support all major programming languages, as well as automation frameworks such as Selenium WebDriver, Cypress, Appium and others. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despite the fact that visual assertions complement your existing functional assertions, the advantage of visual testing is that it also carries a lot of </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">functional tests</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example, in the example from the Wellington Suite above, current tests most likely include assertions for prices. </font><font style="vertical-align: inherit;">Of course, you can leave them and add visual tests to them to make sure that prices are displayed correctly. </font><font style="vertical-align: inherit;">A comparison made by visual testing algorithms already ensures that the price is correct and displayed correctly. </font><font style="vertical-align: inherit;">As a result, it turns out that for tests you need to write less code, and the less code, the easier it is to maintain.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">What if I do not want to take a screenshot of the entire screen?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despite the fact that a screenshot of the whole screen can help you find those errors that you could not even think of, this approach to visual testing is not always true. </font><font style="vertical-align: inherit;">Sometimes the screen you are testing is still under development and therefore often changes, or there is data on the screen that is not relevant to your tests.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ignoring Scopes</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Some visual testing tools allow you to ignore specific areas of the screen. </font><font style="vertical-align: inherit;">This method is suitable for those areas that are not related to testing, for example, status bars, date lines, advertising, etc.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rm/gz/qe/rmgzqek2cfqvdkx4zxwdkkosln8.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Area Frames</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It happens that there is no specific area that needs to be ignored, but there is an area that needs to be tested, and here you will also come to the aid of visual testing. </font><font style="vertical-align: inherit;">By annotating a screenshot or setting the area locator in the code, you can check only some limited area.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Be careful with the boundaries </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Checking the entire screen will ensure that nothing is missed on it, since, in fact, such a check includes those things that you might not cover with tests. </font><font style="vertical-align: inherit;">When narrowing the scope of visual testing, special attention should be paid to areas between the boundaries that you might have missed. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I advise expanding the testing area as much as possible (for example, taking an entire section, instead of a specific element within a section), and, if necessary, combine visual assert with traditional ones.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">What about dynamic data that varies from test to test?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You may think that visual testing is not applicable where data changes from test to test, but it is not. </font><font style="vertical-align: inherit;">Using artificial intelligence, visual testing can recognize the patterns that make up the screen layout, and then use a different comparison algorithm that will verify that the layout remains unchanged during the regression regardless of the data in it. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This method is ideal for applications like news sites, social networks and any other where the data is not static.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Is visual testing applicable only to web applications?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Visual testing is not limited to web applications. Visual testing can be used for </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mobile applications</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">design systems</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> such as Storybook, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PDF files</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and individual images. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cross-platform testing can also be done using visual grids. These grids make visual testing faster and more intelligent, allowing you to run tests on many devices with different screen sizes, where errors are mainly hidden!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Visual grids differ from normal ones in that they do not need to run the entire script for each configuration. </font><font style="vertical-align: inherit;">Instead, the visual grid runs the script on one configuration, captures the state of your application, and then duplicates that particular state on all supported configurations, thus saving time and effort in writing and running cross-platform tests.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How to get started with visual testing</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There are many </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">free tools</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> you can start using right now. </font><font style="vertical-align: inherit;">When choosing one of them, make sure that the tool provides the flexibility that meets the specifics of your testing.</font></font><br>
<br>
<hr><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Testing layouts using Selenium and Python</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<hr></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en507210/index.html">The performance of modern Java when working with large amounts of data, part 2</a></li>
<li><a href="../en507212/index.html">Training smart gaming rivals in Unity using the "play with yourself" method using ML-Agents</a></li>
<li><a href="../en507214/index.html">How to create and modify interactive PDF forms, or the new skill ABBYY FineReader PDF</a></li>
<li><a href="../en507218/index.html">Read me, or why the text is not read to the end</a></li>
<li><a href="../en507222/index.html">Why everyone should wear masks</a></li>
<li><a href="../en507226/index.html">OCR for PDF in .NET - How to extract text from inaccessible PDF documents</a></li>
<li><a href="../en507234/index.html">Snort or Suricata. Part 2: installation and initial setup of Suricata</a></li>
<li><a href="../en507236/index.html">We increase the effectiveness of interaction between designers and frontend developers</a></li>
<li><a href="../en507238/index.html">We use DS to process customer reviews from large sites</a></li>
<li><a href="../en507242/index.html">What is interesting Wi-Fi 6 in the performance of Huawei</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>