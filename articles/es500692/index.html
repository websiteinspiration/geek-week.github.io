<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü¶ñ üï≥Ô∏è ü•à Representaci√≥n de juegos en 3D: introducci√≥n üëßüèº üñêÔ∏è üÖ±Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Juegas al nuevo Call of Mario: Deathduty Battleyard en tu PC de juegos perfecta. Mire el hermoso monitor 4K s√∫per ancho, admire el magn√≠fico paisaje y...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Representaci√≥n de juegos en 3D: introducci√≥n</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/500692/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/dq/hw/gw/dqhwgwxgezi8q8erzwy94bjwst0.jpeg" width="500"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Juegas al nuevo Call of Mario: Deathduty Battleyard en tu PC de juegos perfecta. Mire el hermoso monitor 4K s√∫per ancho, admire el magn√≠fico paisaje y los intrincados detalles. ¬øAlguna vez te has preguntado c√≥mo llegan los gr√°ficos a la pantalla? ¬øTe has preguntado c√≥mo el juego hace que la computadora te muestre todo esto? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bienvenido a nuestro recorrido por la representaci√≥n de juegos en 3D: un viaje para principiantes, desde el cual aprender√° a crear un marco b√°sico en la pantalla.</font></font><br>
<a name="habracut"></a><br>
<img src="https://habrastorage.org/getpro/habr/post_images/d50/b40/462/d50b40462a4a18cef3e522b236f52c99.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cada a√±o, se lanzan cientos de juegos nuevos para tel√©fonos inteligentes, consolas y PC. La variedad de formatos y g√©neros es muy grande, pero uno de ellos, tal vez, se domina mejor: estos son juegos en 3D. Qu√© juego fue el primero: una pregunta discutible, y un vistazo r√°pido a la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">base del Libro Guinness de los r√©cords</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dio varios resultados. Puede considerarse el primer juego de Ultimate Knight Lore, lanzado en 1984, pero estrictamente hablando, las im√°genes en este juego eran bidimensionales: no se utiliz√≥ informaci√≥n en tres dimensiones completas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, si realmente queremos entender c√≥mo los juegos 3D modernos forman una imagen, entonces tenemos que comenzar con otro ejemplo: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Winning Run</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Namco, lanzado en 1988. Quiz√°s este fue el primer juego completamente tridimensional que utiliza tecnolog√≠as que no son muy diferentes de las modernas. Por supuesto, cualquier juego cuya edad haya excedido los 30 a√±os no es lo mismo que, por ejemplo, Codemasters F1, lanzado en 2018. Pero los diagramas de circuito son similares.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/512/06c/a91/51206ca91484780f2fd5c73deffd796b.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En este art√≠culo, veremos el proceso de generaci√≥n de una imagen b√°sica para un monitor o TV usando un juego en 3D. </font><font style="vertical-align: inherit;">Comencemos con el resultado final y pregunt√©monos: "¬øQu√© estoy mirando?" </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Luego analizamos cada etapa de la formaci√≥n de la imagen que vemos. </font><font style="vertical-align: inherit;">En el curso de la acci√≥n, consideraremos conceptos tales como v√©rtices y p√≠xeles, texturas y pasadas, buffers y sombreados, software e instrucciones. </font><font style="vertical-align: inherit;">Descubriremos c√≥mo participa la tarjeta de video en el proceso y por qu√© es necesaria. </font><font style="vertical-align: inherit;">Despu√©s de eso, puede ver sus juegos y PC bajo una nueva luz y comenzar a apreciar m√°s los gr√°ficos de video.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opciones de marco: p√≠xeles y colores.</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comencemos el juego 3D, como muestra tomaremos la </font><font style="vertical-align: inherit;">compa√±√≠a Crytek </font><font style="vertical-align: inherit;">lanzada en 2007 </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Crysis</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">A continuaci√≥n se muestra una fotograf√≠a de la pantalla en la que se muestra el juego:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/142/b40/5c4/142b405c4f4583d032427b7513391735.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta imagen generalmente se llama un </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">marco</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Pero, ¬øqu√© estamos viendo exactamente? </font><font style="vertical-align: inherit;">Usamos una lente macro:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/593/f64/712/593f64712c5065a03fcbca1c90649938.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Desafortunadamente, el resplandor y la retroiluminaci√≥n externa del monitor estropean la foto, pero si la mejoramos un poco, obtenemos</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/915/b4f/3df/915b4f3dff7fdfb77917465635d64610.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vemos que el marco en el monitor consiste en una cuadr√≠cula de elementos de colores separados, y si los incrementamos a√∫n m√°s, notaremos que cada elemento es un bloque de tres piezas. Tal bloque se llama </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p√≠xel</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (p√≠xel, abreviatura de elemento de imagen). En la mayor√≠a de los monitores, los p√≠xeles se pintan con tres colores: rojo, verde y azul (RGB, rojo-verde-azul). Para mostrar un nuevo cuadro, debe procesar una lista de miles, si no millones, de valores RGB y guardarlos en una memoria a la que tenga acceso el monitor. Dichos fragmentos de memoria se denominan </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memorias intermedias</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , es decir, el monitor recibe el contenido de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la memoria intermedia de trama</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este es el punto final de todo el proceso, por lo que ahora nos moveremos en la direcci√≥n opuesta a su comienzo. </font><font style="vertical-align: inherit;">El proceso a menudo se describe mediante el t√©rmino </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">representaci√≥n</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (representaci√≥n), pero en realidad es una secuencia de pasos separados conectados entre s√≠, que en esencia difieren mucho. </font><font style="vertical-align: inherit;">Imagine que es un chef en un restaurante con estrella Michelin: el resultado final es un plato de comida deliciosa, pero cu√°nto se necesita hacer para lograrlo. </font><font style="vertical-align: inherit;">Al igual que con la cocina, se necesitan ingredientes b√°sicos para el renderizado.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Elementos de construcci√≥n necesarios: modelos y texturas.</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los bloques de construcci√≥n principales de cualquier juego en 3D son recursos visuales que llenan el mundo que se dibujar√°. </font><font style="vertical-align: inherit;">Las pel√≠culas, los programas de televisi√≥n y los teatros necesitan actores, disfraces, accesorios, escenograf√≠a, iluminaci√≥n: la lista es bastante larga. </font><font style="vertical-align: inherit;">Lo mismo con los juegos en 3D. </font><font style="vertical-align: inherit;">Todo lo que ves en el marco generado fue desarrollado por artistas y expertos en modelado. </font><font style="vertical-align: inherit;">Para que quede m√°s claro, pasemos a la vieja escuela y echemos un vistazo al modelo Quake II de la compa√±√≠a id Software:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/938/10b/28f/93810b28f68f5e90d272480b2effbf97.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El juego sali√≥ hace m√°s de 20 a√±os. </font><font style="vertical-align: inherit;">En ese momento, Quake II era una obra maestra tecnol√≥gica, aunque, como en cualquier juego de esos a√±os, los modelos aqu√≠ se ven muy primitivos. </font><font style="vertical-align: inherit;">Pero es f√°cil demostrar en qu√© consisten.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a04/5f2/834/a045f2834673247daedbaaf24b3f33e9.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En la imagen anterior, vemos un tipo angular que consiste en tri√°ngulos conectados entre s√≠. Cada esquina se llama v√©rtice o v√©rtice. Cada v√©rtice act√∫a como un punto en el espacio y se describe con al menos tres n√∫meros: las </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">coordenadas x, y, z</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Sin embargo, esto no es suficiente para un juego en 3D, por lo que cada v√©rtice tiene significados adicionales: color, direcci√≥n del lado frontal (s√≠, un punto no puede tener un lado frontal ... ¬°sigue leyendo!), Brillo, grado de transparencia, etc.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c42/4ff/db3/c424ffdb3f95d9758bc1a8eeb5c4a870.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los v√©rtices siempre tienen un conjunto de valores asociados con los mapas de textura. Estas son fotos de la "ropa" que usa la modelo. Pero como la imagen es plana, el mapa debe contener una vista desde cualquier direcci√≥n desde donde podamos ver el modelo. El ejemplo de Quake II ilustra un enfoque simple: im√°genes desde el frente, la parte posterior y los lados (brazos). Y los juegos 3D modernos ya funcionan para modelos con numerosos mapas de textura, cada uno de los cuales contiene muchos detalles, sin espacios vac√≠os entre ellos. Algunos mapas no parecen materiales o propiedades; en cambio, proporcionan informaci√≥n sobre c√≥mo se refleja la luz desde la superficie. Cada v√©rtice tiene un conjunto de coordenadas en el mapa de textura asociado con el modelo, de modo que puede "estirarse" sobre el v√©rtice. Esto significa que cuando mueves el v√©rtice, la textura se mover√° con √©l.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En el mundo tridimensional renderizado, todo lo que ves comienza con un conjunto de v√©rtices y mapas de textura. Se cargan en memorias intermedias conectadas entre s√≠. </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El b√∫fer de</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> v√©rtices ( </font><i><font style="vertical-align: inherit;">b√∫fer de</font></i><font style="vertical-align: inherit;"> v√©rtices) contiene texturas y porciones de memoria asignadas para su posterior representaci√≥n. </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> b√∫fer de comandos contiene una lista de instrucciones sobre qu√© hacer con estos recursos.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todo esto forma el marco necesario que se utilizar√° para crear la cuadr√≠cula final de p√≠xeles de colores. </font><font style="vertical-align: inherit;">En algunos juegos, esta es una gran cantidad de datos, porque lleva demasiado tiempo recrear los b√∫feres para cada nuevo marco. </font><font style="vertical-align: inherit;">Los juegos tambi√©n almacenan en buffers la informaci√≥n necesaria para formar un mundo entero que un jugador puede ver, o una parte lo suficientemente grande, actualiz√°ndose seg√∫n sea necesario. </font><font style="vertical-align: inherit;">Por ejemplo, en un juego de carreras como F1 2018, todo se almacenar√° en una gran colecci√≥n de buffers. </font><font style="vertical-align: inherit;">Y en un juego de mundo abierto como Skyrim, los datos se cargar√°n en buffers y se eliminar√°n de ellos a medida que la c√°mara se mueva por el mundo.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configuraci√≥n de escena: v√©rtices</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Con toda la informaci√≥n visual, el juego comenzar√° el proceso de visualizaci√≥n. La escena comienza en una determinada posici√≥n por defecto, con la disposici√≥n base de modelos, fuentes de luz, etc. Esta ser√° la pantalla "cero", el punto de partida para los gr√°ficos. A menudo no se muestra, simplemente es procesado por el sistema. Para ilustrar lo que sucede en la primera etapa del renderizado, utilizaremos la herramienta en l√≠nea </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Real-Time Rendering</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Creemos el "juego" m√°s simple: una caja parada en el suelo.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6eb/6c2/84a/6eb6c284ac1f6dbfd1d88b80ccce1e7b.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este objeto contiene 8 v√©rtices, cada uno de los cuales se describe mediante una lista de n√∫meros. </font><font style="vertical-align: inherit;">Los v√©rtices forman un modelo que consta de 12 tri√°ngulos. </font><font style="vertical-align: inherit;">Cada tri√°ngulo, e incluso el objeto en s√≠, se llama </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">primitivo</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">A medida que las primitivas se mueven, giran y escalan, los n√∫meros pasan por cadenas de operaciones matem√°ticas y se actualizan.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/683/dfb/2cf/683dfb2cf7936d1ae5d7150ee5e3691a.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tenga en cuenta que los n√∫meros de puntos del modelo no cambian. </font><font style="vertical-align: inherit;">Estos n√∫meros muestran exactamente d√≥nde se encuentra el modelo en el mundo virtual. </font><font style="vertical-align: inherit;">La consideraci√≥n de los c√°lculos matem√°ticos correspondientes est√° m√°s all√° del alcance del art√≠culo, solo diremos que primero todos los objetos se colocan donde deber√≠an estar. </font><font style="vertical-align: inherit;">Y luego comienza la coloraci√≥n.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/245/ab4/c10/245ab4c109ab76e81bb20fb9dab7bab4.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tome otro modelo que tenga 10 veces m√°s v√©rtices que el cuadro anterior. </font><font style="vertical-align: inherit;">En el proceso de pintura m√°s simple, se toma el color de cada v√©rtice y luego se calculan los cambios de color de una superficie a otra. </font><font style="vertical-align: inherit;">Esto se llama </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">interpolaci√≥n</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6bb/54f/3b7/6bb54f3b70c60c558dfbe029e3361207.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aumentar el n√∫mero de v√©rtices en el modelo no solo le permite crear objetos m√°s realistas, sino que tambi√©n mejora el resultado de la interpolaci√≥n de color.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/682/c4e/d4d/682c4ed4d29b1d3e7bd03302783c9057.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En esta etapa de renderizado, el efecto de las fuentes de luz en la escena se puede calcular en detalle. </font><font style="vertical-align: inherit;">Por ejemplo, c√≥mo los materiales del modelo reflejan el color. </font><font style="vertical-align: inherit;">Dichos c√°lculos deben tener en cuenta la posici√≥n y direcci√≥n de la c√°mara, as√≠ como la posici√≥n y direcci√≥n de las fuentes de luz.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0e9/044/b91/0e9044b9132d022e5a19e490cfe36091.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para hacer esto, hay varios m√©todos matem√°ticos diferentes, algunos simples, otros muy complejos. En la ilustraci√≥n anterior, vemos que el objeto a la derecha se ve mucho m√°s bonito y realista, pero se requiere m√°s trabajo para dibujarlo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es importante tener en cuenta que ahora comparamos objetos con un peque√±o n√∫mero de picos con los juegos m√°s modernos. Despl√°cese hacia arriba y examine cuidadosamente la imagen de Crysis: esta escena muestra m√°s de un mill√≥n de tri√°ngulos. Usando el </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">punto de referencia de Unigine Valley como</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ejemplo, </font><font style="vertical-align: inherit;">puedes entender cu√°ntos tri√°ngulos se usan en los juegos modernos.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/486/232/4ec/4862324ec5749273f8b64dd9ad463386.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cada objeto en esta imagen consiste en v√©rtices conectados entre s√≠, que est√°n formados por las primitivas que consisten en tri√°ngulos. </font><font style="vertical-align: inherit;">El punto de referencia se puede ejecutar en modo de estructura al√°mbrica, en el que los bordes de cada tri√°ngulo se indican con l√≠neas blancas.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/636/687/f15/636687f15006991fcf278df6af74227e.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como puede ver, cualquier objeto consta de tri√°ngulos, y para cada tri√°ngulo se calcula la ubicaci√≥n, direcci√≥n y color. </font><font style="vertical-align: inherit;">Esto tiene en cuenta la ubicaci√≥n de las fuentes de luz, as√≠ como la ubicaci√≥n y direcci√≥n de la c√°mara. </font><font style="vertical-align: inherit;">Todos los cambios asociados con los v√©rtices deben transferirse al juego para que tenga toda la informaci√≥n necesaria para dibujar el siguiente cuadro, esto se realiza actualizando el b√∫fer de v√©rtices. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sorprendentemente, esta no es la parte m√°s dif√≠cil de renderizar, con el hardware adecuado, ¬°todos los c√°lculos se realizan en unas pocas mil√©simas de segundo! </font><font style="vertical-align: inherit;">Siga adelante.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dimensi√≥n perdida: rasterizaci√≥n</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despu√©s de procesar todos los v√©rtices y completar la colocaci√≥n de todos los objetos en nuestra escena tridimensional, el proceso de renderizado pasa a una etapa muy importante. </font><font style="vertical-align: inherit;">Hasta este punto, el juego era realmente tridimensional, pero el cuadro final ya no es as√≠: en el curso de una serie de cambios, el mundo visto se transforma del espacio 3D, que consta de miles de puntos conectados, en una imagen bidimensional, que consiste en p√≠xeles de colores. </font><font style="vertical-align: inherit;">En la mayor√≠a de los juegos, este procedimiento consta de al menos dos fases: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">espacio de pantalla de proyecci√≥n</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (proyecci√≥n de espacio de pantalla) y </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rasterizaci√≥n</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/17f/b9b/264/17fb9b264f727fefbc583b0768b0619b.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Volviendo a nuestra herramienta de renderizado basada en la web, nos mostrar√° c√≥mo el volumen del mundo virtual se convierte en una imagen plana. La c√°mara se muestra a la izquierda, las l√≠neas que emanan crean una </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pir√°mide truncada de visibilidad</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (frustum), y todo lo que entra en ella se puede mostrar en el cuadro final. La secci√≥n perpendicular de la pir√°mide se llama </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ventana - esto es lo que se mostrar√° en el monitor. Se utilizan numerosos c√°lculos matem√°ticos para proyectar todo el contenido de la pir√°mide en el √°rea de visualizaci√≥n, teniendo en cuenta la perspectiva de la c√°mara.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aunque los gr√°ficos en el √°rea de visualizaci√≥n son bidimensionales, los datos siguen siendo realmente tridimensionales, y luego esta informaci√≥n se utilizar√° para calcular qu√© primitivas son visibles para nosotros y cu√°les est√°n ocultas. Esto puede ser sorprendentemente dif√≠cil de hacer, porque los primitivos pueden proyectar sombras visibles para nosotros, incluso si los primitivos mismos est√°n ocultos para nosotros. Elimina escondidos de nosotros las primitivas llamadas </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ca√≠da</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (eliminaci√≥n). Esta operaci√≥n puede afectar significativamente la velocidad de renderizado de todo el cuadro. Despu√©s de que se completa la clasificaci√≥n en primitivas visibles y ocultas, as√≠ como se eliminan los tri√°ngulos fuera de los l√≠mites de la pir√°mide de visibilidad, se completa la √∫ltima etapa de tridimensionalidad y el marco se hace completamente bidimensional mediante rasterizaci√≥n.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6db/645/fe9/6db645fe9bd2138481a6f502c1ca8eda.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La ilustraci√≥n de arriba muestra un ejemplo muy simple de un cuadro que contiene una primitiva. </font><font style="vertical-align: inherit;">La cuadr√≠cula de p√≠xeles se superpone a la forma geom√©trica y los p√≠xeles correspondientes se marcan para el procesamiento posterior. </font><font style="vertical-align: inherit;">El resultado final no se parece demasiado al tri√°ngulo original, porque no estamos utilizando suficientes p√≠xeles. </font><font style="vertical-align: inherit;">A este respecto, surge el problema del </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alias</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (aliasing, l√≠neas escalonadas), que se resuelve de varias maneras. </font><font style="vertical-align: inherit;">Por lo tanto, un cambio en la </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">resoluci√≥n</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> del juego </font><font style="vertical-align: inherit;">(el n√∫mero total de p√≠xeles en el cuadro) afecta tanto el resultado final: m√°s p√≠xeles no solo mejoran la visualizaci√≥n de los formularios, sino que tambi√©n reducen el efecto de alias no deseado.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despu√©s de completar esta parte de la representaci√≥n, pasamos al siguiente gran paso: la coloraci√≥n final de todos los p√≠xeles en el marco. </font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Llevar la luz: etapa de p√≠xeles</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hemos llegado a la etapa m√°s dif√≠cil de renderizado. </font><font style="vertical-align: inherit;">Una vez que se redujo a tirar de modelos de ropa (texturas) utilizando informaci√≥n de p√≠xeles (originalmente obtenida de los v√©rtices). </font><font style="vertical-align: inherit;">Sin embargo, el hecho es que aunque las texturas y el marco en s√≠ son bidimensionales, sin embargo, el mundo virtual en la etapa de procesamiento de v√©rtices se distorsion√≥, cambi√≥ y cambi√≥. </font><font style="vertical-align: inherit;">Para tener en cuenta todo esto, se utilizan c√°lculos matem√°ticos adicionales, sin embargo, los nuevos problemas pueden ser caracter√≠sticos del resultado.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c0f/3f4/f2b/c0f3f4f2b83db10efd3058fec26c27fe.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En esta ilustraci√≥n, se aplica una textura de tablero de ajedrez al plano. Hay una onda visual desagradable, que se ve exacerbada por el alias. Para resolver este problema, utilice versiones m√°s peque√±as de mapas de textura ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mapeos m√∫ltiples</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">mapas </font><font style="vertical-align: inherit;">MIP), reutilice la informaci√≥n de estas texturas ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">filtrado</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , filtrado) y c√°lculos matem√°ticos adicionales. El efecto es notable:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e8d/a5b/bcd/e8da5bbcd3bf8fc8e9e75c7a9614d2eb.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para cualquier juego, esta fue realmente una etapa dif√≠cil, pero hoy ya no lo es, porque debido al amplio uso de otros efectos visuales, como reflejos y sombras, el procesamiento de texturas se ha convertido en una etapa relativamente peque√±a del proceso de renderizado. Cuando se juega a altas resoluciones, la carga en las etapas de rasterizaci√≥n y procesamiento de p√≠xeles aumenta, pero esto afecta el procesamiento de v√©rtices relativamente poco. Aunque el color primario debido a las fuentes de luz se realiza en la etapa de v√©rtice, se pueden aplicar efectos de iluminaci√≥n m√°s sofisticados.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a62/0bc/a60/a620bca60aa98557848fd500e30f3d94.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En la ilustraci√≥n anterior, ya no vemos cambios de color entre diferentes tri√°ngulos, lo que nos da la sensaci√≥n de un objeto liso sin costuras. Aunque en este ejemplo la esfera consta del mismo n√∫mero de tri√°ngulos que la esfera verde en la ilustraci√≥n anterior, como resultado del procedimiento de coloraci√≥n de p√≠xeles, nos parece que se utilizan muchos m√°s tri√°ngulos.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/321/204/fa2/321204fa222c1a25b1f6197b04c30f52.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En muchos juegos, la fase de p√≠xeles debe ejecutarse varias veces. Por ejemplo, para que un espejo o superficie del agua refleje el mundo circundante, primero debe dibujarse este mundo. Cada ejecuci√≥n se denomina </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pasada</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (pasada), y para obtener la imagen final de cada cuadro se pueden usar f√°cilmente cuatro o m√°s pasadas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adem√°s, a veces necesita ejecutar la etapa de v√©rtice nuevamente para volver a dibujar el mundo desde otro punto y usar esta imagen en una escena que se muestra al jugador. Para hacer esto, use la representaci√≥n de un </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">solo b√∫fer</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (objetivos de representaci√≥n): use b√∫feres que act√∫en como el almacenamiento final del marco, pero tambi√©n pueden actuar como texturas con un paso diferente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para evaluar la complejidad de la etapa de p√≠xeles, puede leer</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">An√°lisis de cuadros en Doom 2016</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Te sorprender√° la cantidad de operaciones que se necesitan para crear un marco.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4fc/618/e79/4fc618e791b417e9359ca81948ae187f.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todo el trabajo realizado para crear el marco debe guardarse en el b√∫fer, ya sea el resultado final o intermedio. </font><font style="vertical-align: inherit;">En general, el juego utiliza sobre la marcha al menos dos buffers para la visualizaci√≥n final: uno para el "trabajo actual", y el segundo buffer est√° esperando que se acceda a un monitor o est√° en proceso de visualizaci√≥n. </font><font style="vertical-align: inherit;">Siempre necesita un b√∫fer de pantalla en el que se guardar√° el resultado de la representaci√≥n, y cuando todos los b√∫feres est√©n llenos, debe continuar y crear un nuevo b√∫fer. </font><font style="vertical-align: inherit;">Una vez finalizado el trabajo con el marco, se da un comando simple, se intercambian las memorias intermedias de marcos finales, el monitor recibe el √∫ltimo marco renderizado y comienza el proceso de renderizaci√≥n del siguiente marco.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/925/e6e/c4d/925e6ec4d1593ec473c0660ffa555969.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En este cuadro de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Assassin's Creed Odyssey</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , vemos el contenido del b√∫fer de cuadros completo. </font><font style="vertical-align: inherit;">Este contenido se puede representar en una tabla que contiene solo n√∫meros. </font><font style="vertical-align: inherit;">Se env√≠an en forma de se√±ales el√©ctricas a un monitor o TV, y los p√≠xeles de la pantalla cambian sus valores. </font><font style="vertical-align: inherit;">Nuestros ojos ven una imagen plana y s√≥lida, pero nuestro cerebro la interpreta como tridimensional. </font><font style="vertical-align: inherit;">Se oculta tanto trabajo detr√°s de escena de una sola toma en el juego que vale la pena echar un vistazo a c√≥mo los programadores pueden manejarlo.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gesti√≥n de procesos: API e instrucciones</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para descubrir c√≥mo hacer que el juego ejecute y administre todos los c√°lculos, v√©rtices, texturas, iluminaci√≥n, buffers, etc. Esta es una tarea enorme. Afortunadamente, ay√∫denos en estas </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">interfaces de programaci√≥n</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (interfaz de programaci√≥n de aplicaciones, API). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las API de representaci√≥n reducen la complejidad general al ofrecer estructuras, reglas y bibliotecas de software que permiten instrucciones simplificadas que son independientes del hardware. Tome cualquier juego 3D lanzado para PC en los √∫ltimos tres a√±os: fue creado usando una de las tres API populares: Direct3D, OpenGL o Vulkan. Hay otros desarrollos similares, especialmente en el segmento m√≥vil, pero en este art√≠culo hablaremos de los tres mencionados.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/383/aea/228/383aea228f8c09089472da334107b6e2.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A pesar de las diferencias en los nombres de las instrucciones y operaciones (por ejemplo, un bloque de c√≥digo para procesar p√≠xeles en DirectX se llama sombreador de p√≠xeles, y en Vulkan se llama sombreador de fragmentos), el resultado final no difiere, m√°s precisamente, no deber√≠a diferir. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La diferencia se manifestar√° en qu√© equipo se utiliza para renderizar. Las instrucciones generadas por la API deben convertirse en comandos compatibles con el hardware que son procesados ‚Äã‚Äãpor los controladores del dispositivo. Y los fabricantes de equipos tienen que gastar muchos recursos y tiempo para que sus conductores realicen esta conversi√≥n lo m√°s r√°pido y correctamente posible.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8df/431/c77/8df431c7781e07219bfaab3829f209df.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por ejemplo, la versi√≥n beta temprana de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The Talos Principle</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (2014) era compatible con las tres API mencionadas. </font><font style="vertical-align: inherit;">Para demostrar c√≥mo pueden diferir los resultados de diferentes combinaciones de controladores e interfaces, ejecutamos el est√°ndar de referencia incorporado al establecer la resoluci√≥n a 1080p y la configuraci√≥n de m√°xima calidad. </font><font style="vertical-align: inherit;">El procesador Intel Core i7-9700K funcionaba sin overclocking, la tarjeta de video Nvidia Titan X (Pascal), RAM - 32 GB de RAM DDR4.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DirectX 9 = un promedio de 188.4 cuadros / s.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DirectX 11 = un promedio de 202.3 cuadros / s.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenGL = promedio 87.9 cuadros / s.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vulkan = un promedio de 189.4 cuadros / s.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No analizaremos los resultados, y ciertamente no dicen que alguna API es "mejor" que la otra (no se olvide, la versi√≥n beta del juego fue probada). Solo diremos que la programaci√≥n para diferentes API est√° asociada con varias dificultades, y en cualquier momento el rendimiento tambi√©n ser√° diferente. En general, los desarrolladores de juegos eligen la API con la que tienen m√°s experiencia y optimizan su c√≥digo para ello. A veces, el t√©rmino </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">motor se</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> usa para describir el c√≥digo responsable de la representaci√≥n, </font><font style="vertical-align: inherit;">pero estrictamente hablando, el motor es un conjunto completo de herramientas que procesa todos los aspectos del juego, no solo los gr√°ficos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No es tan f√°cil crear un programa desde cero que represente un juego en 3D. Por lo tanto, hoy en d√≠a se utilizan muchos sistemas con licencia de terceros (por ejemplo, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unreal Engine</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font><font style="vertical-align: inherit;">Para evaluar su complejidad, abra el motor de c√≥digo abierto para </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quake</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y vea el archivo gl_draw.c: contiene instrucciones para diferentes operaciones de representaci√≥n y refleja solo una peque√±a parte de todo el motor. </font><font style="vertical-align: inherit;">Pero Quake se lanz√≥ hace m√°s de 20 a√±os, y </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">todo el juego</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (incluidos todos los recursos visuales, sonidos, m√∫sica, etc.) ocupa 55 MB. </font><font style="vertical-align: inherit;">A modo de comparaci√≥n, en </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Far Cry 5, </font></font></a> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">solo los</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sombreadores ocupan 62 MB.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El tiempo es lo m√°s importante: usar el equipo adecuado</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todo lo anterior puede ser calculado y procesado por el procesador de cualquier sistema inform√°tico. Los procesadores modernos de la familia x86-64 admiten todas las operaciones matem√°ticas necesarias e incluso contienen subsistemas separados para esto. Sin embargo, la tarea de renderizar un solo marco requiere numerosos c√°lculos repetidos y una paralelizaci√≥n significativa del trabajo. Los procesadores centrales no est√°n adaptados para esto, porque est√°n creados para resolver la gama m√°s amplia posible de tareas. Los procesadores especializados para la inform√°tica gr√°fica se denominan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GPU</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (unidades de procesamiento de gr√°ficos). Se crean para DirectX, OpenGL y Vulkan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Utilizaremos un punto de referencia que le permite renderizar un marco utilizando un procesador central o un equipo especializado: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V-ray NEXT</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Empresas del Grupo del Caos. </font><font style="vertical-align: inherit;">De hecho, realiza el trazado de rayos en lugar de renderizar, pero la mayor√≠a de las operaciones num√©ricas aqu√≠ tambi√©n dependen del hardware.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dc6/4be/7bd/dc64be7bd6494f79cec1f01c501b7502.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pasemos el punto de referencia en tres modos: solo el procesador central, solo el procesador gr√°fico y una combinaci√≥n de ambos procesadores:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CPU sola = 53 millones de rayos</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GPU sola = 251 millones de rayos</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La combinaci√≥n de ambos procesadores = 299 millones de rayos.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La unidad de medida puede ignorarse, la esencia es cinco veces la diferencia. </font><font style="vertical-align: inherit;">Pero a√∫n as√≠, esta prueba no est√° demasiado relacionada con los juegos, as√≠ que pasemos al punto de referencia de la vieja escuela </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Futuremark 3DMark03</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ejecutemos una prueba simple de Wings of Fury con un c√°lculo forzado de todos los sombreadores de v√©rtices (es decir, con un conjunto completo de operaciones para mover y colorear tri√°ngulos) usando el procesador central.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9f3/f30/609/9f3f30609c33987cb25f2e10c4aff602.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El resultado no deber√≠a sorprenderte:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Procesador central = promedio 77 cuadros / s.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GPU = promedio 1,580 cuadros / s.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cuando el procesador central realiza todos los c√°lculos con los v√©rtices, se requiere un promedio de 13 ms para procesar y mostrar cada fotograma. Y cuando se usa un procesador de gr√°ficos, esta cifra cae a 0.6 ms, m√°s de 20 veces m√°s r√°pido. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La diferencia aumenta a√∫n m√°s si ejecuta la prueba de referencia m√°s dif√≠cil: la Madre Naturaleza. ¬°El procesador central produjo 3,1 cuadros / s insignificantes! Y el procesador gr√°fico se dispar√≥ a 1388 cuadros / s .: casi 450 veces m√°s r√°pido. Tenga en cuenta: 3DMark03 sali√≥ 16 atr√°s, y en la prueba en el procesador central solo se procesan los v√©rtices, el procesador de gr√°ficos a√∫n toma la etapa de rasterizaci√≥n y p√≠xeles. ¬øImag√≠nese si el punto de referencia fuera moderno y la mayor√≠a de las operaciones se realizaran mediante programaci√≥n?</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7ec/85a/87f/7ec85a87fbffad6ef27cf88d08970aea.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">intentemos de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nuevo con el punto de referencia de </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">Unigine Valley</font></a><font style="vertical-align: inherit;"> , los gr√°ficos que procesa son muy similares a los utilizados en juegos como Far Cry 5. Tambi√©n hay un motor de renderizado completo de software adem√°s del DirectX 11. Cuando se ejecuta en un procesador de video, obtuvimos un resultado promedio de 196 cuadros / s . ¬øQu√© pasa con la versi√≥n del software? Despu√©s de un par de fallas, una poderosa PC de prueba gener√≥ un promedio de 0.1 cuadros / s. - casi </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dos mil veces</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> m√°s lento. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La raz√≥n de una gran diferencia radica en los c√°lculos matem√°ticos y el formato de datos utilizado en la representaci√≥n 3D. Cada n√∫cleo de la CPU est√° equipado </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">con m√≥dulos de punto flotante</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. El i7-9700K contiene 8 n√∫cleos, cada uno con dos de estos m√≥dulos. Aunque la arquitectura de los m√≥dulos en Titan X es diferente, ambos tipos pueden realizar los mismos c√°lculos con datos del mismo formato. Esta tarjeta de video tiene m√°s de 3,500 m√≥dulos para realizar c√°lculos comparables, y aunque su frecuencia de reloj es mucho menor que en el procesador central (1.5 GHz y 4.7 GHz), el procesador de video toma la cantidad de m√≥dulos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aunque la Titan X no es una tarjeta gr√°fica masiva, incluso un modelo econ√≥mico superar√° a cualquier procesador central. Por lo tanto, todos los juegos 3D y API est√°n dise√±ados para equipos especializados. Puede descargar </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V-ray</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3DMark</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cualquier </font></font></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">referencia de </font></font></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unigine</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y pruebe su sistema: vea usted mismo qu√© tan bien est√°n adaptados los procesadores de video para renderizar gr√°ficos en juegos.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ultimas palabras</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fue una breve digresi√≥n en el proceso de creaci√≥n de un solo cuadro en juegos 3D, desde un punto en el espacio hasta una imagen colorida en un monitor. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De hecho, todo el proceso solo funciona con n√∫meros. Sin embargo, mucho ha quedado fuera del alcance del art√≠culo. No consideramos c√°lculos matem√°ticos espec√≠ficos de √°lgebra lineal euclidiana, trigonometr√≠a y c√°lculos diferenciales realizados por sombreadores de v√©rtices y p√≠xeles. Tampoco hablamos sobre c√≥mo se procesan las texturas mediante el muestreo estad√≠stico. Omit√≠ efectos visuales tan geniales como bloquear la luz ambiental en el espacio de la pantalla, reducir la interferencia con el trazado de rayos, utilizando el rango din√°mico extendido y el suavizado temporal.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y la pr√≥xima vez que lance un juego 3D moderno, esperamos que no solo vea los gr√°ficos con otros ojos, sino que tambi√©n quiera saber m√°s al respecto.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es500670/index.html">C√≥mo creamos nuestro producto. Primera parte, investigaci√≥n</a></li>
<li><a href="../es500672/index.html">Continuaci√≥n de la transmisi√≥n para probadores y no solo</a></li>
<li><a href="../es500676/index.html">Anuncio de un taller en l√≠nea sobre automatizaci√≥n de pruebas.</a></li>
<li><a href="../es500678/index.html">ClickHouse para usuarios avanzados en Preguntas y respuestas</a></li>
<li><a href="../es500688/index.html">Trabajando con una base de datos en Flask: de junio a junio</a></li>
<li><a href="../es500694/index.html">68 consejos no solicitados</a></li>
<li><a href="../es500696/index.html">C√≥mo los zapatos para correr est√°n tratando de adaptarse al pie femenino</a></li>
<li><a href="../es500698/index.html">Evgeny Katyshev: "OpenStreetMap no es adecuado para ninguna informaci√≥n"</a></li>
<li><a href="../es500700/index.html">Soporte para TLS1.3 y expansi√≥n de su cuenta personal: lo que se ha hecho para el primer trimestre de 2020</a></li>
<li><a href="../es500704/index.html">Los unicornios (Airbnb, Uber, Lyft, Careem) despiden a miles de empleados en medio de problemas durante la pandemia de coronavirus</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>