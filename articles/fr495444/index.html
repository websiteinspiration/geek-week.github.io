<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🕳️ 👨🏾‍🤝‍👨🏼 🚴🏾 Tableaux en C ++ 👦 👶🏽 🛬</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nous continuons la série «C ++, creuser plus profondément». Le but de cette série est de vous en dire le plus possible sur les différentes fonctionnal...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Tableaux en C ++</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/495444/"><hr><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous continuons la série «C ++, creuser plus profondément». </font><font style="vertical-align: inherit;">Le but de cette série est de vous en dire le plus possible sur les différentes fonctionnalités du langage, peut-être assez particulières. </font><font style="vertical-align: inherit;">Ceci est le quatrième article de la série, les trois premiers sur la surcharge en C ++ sont </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
</p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cet article concerne les tableaux. </font><font style="vertical-align: inherit;">Les tableaux peuvent être attribués aux couches les plus anciennes de C ++, ils provenaient des premières versions de C. Néanmoins, les tableaux sont inclus dans le système de type orienté objet de C ++, bien qu'avec quelques mises en garde. </font><font style="vertical-align: inherit;">Il est important que le programmeur connaisse ces fonctionnalités afin d'éviter des erreurs potentielles. </font><font style="vertical-align: inherit;">L'article explore également un autre héritage C - types triviaux et variables non initialisées. </font><font style="vertical-align: inherit;">Certaines des innovations de C ++ 11 affectent le travail avec les tableaux; toutes ces nouvelles fonctionnalités sont également décrites en détail. </font><font style="vertical-align: inherit;">Essayons donc de tout dire sur les tableaux.</font></font><br>
</p><br>
<hr><a name="habracut"></a><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Table des matières</font></font></h1><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Table des matières</font></font></b>
                        <div class="spoiler_text"><p>&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">1.  </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">1.1.  </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">1.2.        </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">1.3.   </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">1.4.     </a><br>
&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">2.    </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">2.1. </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">2.2. </a><br>
&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">3.  </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">3.1.     </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">3.2.   </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">3.2.1  </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">3.2.2   </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">3.2.3   </a><br>
&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">4.     </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">4.1.   </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">4.2.   </a><br>
&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">5.  </a><br>
&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">6.  </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">6.1.     </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">6.2.     </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">6.3.   </a><br>
&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">7.     </a><br>
&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">8.   </a><br>
&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> </a><br>
</p><br>
</div>
                    </div><br>
<a name="id-1"></a><br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Dispositions générales</font></font></h1><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un tableau est le type d'agrégat le plus simple. </font><font style="vertical-align: inherit;">Il modélise un ensemble d'éléments similaires disposés en ligne dans un segment continu de la mémoire. </font><font style="vertical-align: inherit;">Les tableaux sous une forme ou une autre sont pris en charge par presque tous les langages de programmation, et il n'est pas surprenant qu'ils soient apparus dans les premières versions de C puis soient devenus partie intégrante de C ++.</font></font><br>
</p><br>
<a name="id-1-1"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.1. </font><font style="vertical-align: inherit;">Déclaration de tableau</font></font></h2><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si </font></font><code>T</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un type, une </font></font><code>N</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">constante ou une expression est évalué au moment de la compilation, alors l'instruction</font></font><br>
</p><br>
<pre><code class="cpp hljs">T a[N];</code></pre><br>
<p>  <code>a</code>  «  <code>N</code>   <code>T</code>» (array of <code>N</code> elements of the type <code>T</code>).  <code>N</code>       <code>std::size_t</code>,   ,   ,    .      <code>sizeof(T)</code> ,   ,     ,  <code>N*sizeof(T)</code> .       .     <code>T[N]</code>,         .  , ,    ,   ,    .<br>
</p><br>
<p>      (regular arrays),       ,  «»         C++  .<br>
<br>
    :<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">8</span>;
<span class="hljs-function"><span class="hljs-keyword">constexpr</span> <span class="hljs-keyword">int</span> <span class="hljs-title">Square</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>{ <span class="hljs-keyword">return</span> n * n; }<font></font>
<font></font>
<span class="hljs-keyword">int</span> a1[<span class="hljs-number">1</span>];
<span class="hljs-keyword">int</span> a2[N];
<span class="hljs-keyword">int</span> a3[<span class="hljs-string">'Q'</span>];
<span class="hljs-keyword">int</span> a4[Square(<span class="hljs-number">2</span>)];</code></pre><br>
<p>     :<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">int</span> n;<font></font>
<font></font>
<span class="hljs-keyword">int</span> b1[<span class="hljs-number">0</span>];   <span class="hljs-comment">//  </span>
<span class="hljs-keyword">int</span> b2[n];   <span class="hljs-comment">//      </span>
<span class="hljs-keyword">int</span> b3[<span class="hljs-string">"Q"</span>]; <span class="hljs-comment">//     size_t</span></code></pre><br>
<p>      ,    <code>0</code>  <code>N-1</code>.  :<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">int</span> a[<span class="hljs-number">4</span>];<font></font>
a[<span class="hljs-number">0</span>] = <span class="hljs-number">42</span>;
<span class="hljs-keyword">int</span> t = a[<span class="hljs-number">3</span>];</code></pre><br>
<p>     ,      .<br>
</p><br>
<p>      ,       .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">int</span> a[<span class="hljs-number">4</span>], b[<span class="hljs-number">8</span>];</code></pre><br>
<p>     .        <code>typedef</code>:<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">int</span> I4[<span class="hljs-number">4</span>];</code></pre><br>
<p>   (C++11)    <code>using</code>:<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">using</span> I4 = <span class="hljs-keyword">int</span>[<span class="hljs-number">4</span>];</code></pre><br>
<p>      :<br>
</p><br>
<pre><code class="cpp hljs">I4 a, b;</code></pre><br>
<p>    , <br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">int</span> a[<span class="hljs-number">4</span>], b[<span class="hljs-number">4</span>];</code></pre><br>
<a name="id-1-2"></a><br>
<h2>1.2.        </h2><br>
<p>       <code>sizeof</code>      .<br>
</p><br>
<p> <code>sizeof</code>      ,        .<br>
</p><br>
<p> <code>_countof()</code> ( MSVS   <code>&lt;cstdlib&gt;</code>)   ,    .  ++17     <code>std::size()</code>,      (    ,     ).<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">int</span> a[<span class="hljs-number">4</span>];
<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-keyword">sizeof</span>(a) &lt;&lt; <span class="hljs-string">' '</span> &lt;&lt; <span class="hljs-built_in">std</span>::size(a) &lt;&lt; <span class="hljs-string">'\n'</span>;</code></pre><br>
<p>: <code>16 4</code><br>
</p><br>
<p> C++11      ( )   <code>std::begin()</code>  <code>std::end()</code>.    <code>std::begin()</code>      , <code>std::end()</code>  past-the-last . (   : <code>std::cbegin()</code>, <code>std::cend()</code>.)       <code>for</code>.<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">int</span> a[<span class="hljs-number">4</span>]{ <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span> };<font></font>
<font></font>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> t : a)<font></font>
{<font></font>
    <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; t &lt;&lt; <span class="hljs-string">' '</span>;<font></font>
}</code></pre><br>
<p>    :<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-built_in">std</span>::sort(<span class="hljs-built_in">std</span>::begin(a), <span class="hljs-built_in">std</span>::end(a));</code></pre><br>
<a name="id-1-3"></a><br>
<h2>1.3.   </h2><br>
<p>   ,      ,           ,      . ,  ,    . (,          .)        .   (.  6)    .<br>
</p><br>
<a name="id-1-4"></a><br>
<h2>1.4.     </h2><br>
<p>  ,     <code>void</code>.<br>
</p><br>
<p>   .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">int</span> u, v;
<span class="hljs-keyword">int</span> &amp;rr[<span class="hljs-number">2</span>] = { u, v }; <span class="hljs-comment">// </span></code></pre><br>
<p>      .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">int</span> * <span class="hljs-keyword">const</span> rr[<span class="hljs-number">2</span>] = { &amp;u, &amp;v };</code></pre><br>
<p>(       3.2.)<br>
</p><br>
<p> C++11   <code>std::reference_wrapper&lt;&gt;</code>.    ,          .         ,    - <code>get()</code>.  .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">int</span> u = <span class="hljs-number">42</span>, v = <span class="hljs-number">5</span>;
<span class="hljs-built_in">std</span>::reference_wrapper&lt;<span class="hljs-keyword">int</span>&gt; rr[<span class="hljs-number">2</span>] = { u, v };
<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; rr[<span class="hljs-number">0</span>] &lt;&lt; <span class="hljs-string">' '</span> &lt;&lt; rr[<span class="hljs-number">1</span>] &lt;&lt; <span class="hljs-string">'\n'</span>; <span class="hljs-comment">// : 42 5</span>
++rr[<span class="hljs-number">0</span>];<font></font>
rr[<span class="hljs-number">1</span>].get() = <span class="hljs-number">125</span>;                          <span class="hljs-comment">// get() </span>
<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; u &lt;&lt; <span class="hljs-string">' '</span> &lt;&lt; v &lt;&lt; <span class="hljs-string">'\n'</span>;         <span class="hljs-comment">// : 43 125</span></code></pre><br>
<p>   .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">int</span> ff[<span class="hljs-number">2</span>](<span class="hljs-keyword">double</span>); <span class="hljs-comment">// </span></code></pre><br>
<p>       .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">int</span> (*ff[<span class="hljs-number">2</span>])(<span class="hljs-keyword">double</span>);</code></pre><br>
<p> <code>std::reference_wrapper&lt;&gt;</code>    ,       —         ,        <code>&amp;</code>.       —    <code>std::function&lt;&gt;</code>,       .<br>
</p><br>
<p>       <code>auto</code>.<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">auto</span> x[<span class="hljs-number">2</span>] = {<span class="hljs-number">1</span>, <span class="hljs-number">2</span>}   <span class="hljs-comment">// </span></code></pre><br>
<p> <code>const</code>     ,      .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">using</span> I4 = <span class="hljs-keyword">int</span>[<span class="hljs-number">4</span>];
<span class="hljs-keyword">const</span> I4 ci; <span class="hljs-comment">//  ,   const int ci[4];</span></code></pre><br>
<a name="id-2"></a><br>
<h1>2.    </h1><br>
<p>     ,        C++.<br>
</p><br>
<a name="id-2-1"></a><br>
<h2>2.1. </h2><br>
<p>   ,       ,               «».     (decay, array-to-pointer decay). (Decay     .)     ,                 .    <code>sizeof</code>,  <code>&amp;</code> ( )     .  <code>sizeof</code>    1.2,           4.      <code>decltype</code>     ,  .<br>
</p><br>
<p>,       .   (  C)     :<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">100</span>;
<span class="hljs-keyword">int</span> a[N];
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> *d = a, *end = d + N; d &lt; end; ++d)<font></font>
{<font></font>
    *d = rand();<font></font>
}</code></pre><br>
<p>                ,        .<br>
</p><br>
<p>      . <br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a[<span class="hljs-number">4</span>])</span></span>;
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a[])</span></span>;
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">int</span> *a)</span></span>;</code></pre><br>
<p>    —     .             (,    ).<br>
</p><br>
<p>      .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-comment">// file 1</span>
<span class="hljs-keyword">int</span> A[<span class="hljs-number">4</span>];<font></font>
<font></font>
<span class="hljs-comment">// file 2</span>
<span class="hljs-keyword">extern</span> <span class="hljs-keyword">int</span> A[];</code></pre><br>
<p>             .<br>
</p><br>
<p>       <code>auto</code>   .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">int</span> a[<span class="hljs-number">4</span>];
<span class="hljs-keyword">auto</span> da = a; <span class="hljs-comment">//  da   int*</span></code></pre><br>
<p>   <br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(T t)</span></span>;</code></pre><br>
<p>        ,    .<br>
</p><br>
<p>      . ( C   .)  .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">B</span> {</span><span class="hljs-comment">/* ... */</span>};
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">D</span> :</span> <span class="hljs-keyword">public</span> B {<span class="hljs-comment">/* ... */</span>};
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(B[], <span class="hljs-keyword">int</span> size)</span></span>; <span class="hljs-comment">//     B</span></code></pre><br>
<p>      .<br>
</p><br>
<pre><code class="cpp hljs">D d[<span class="hljs-number">4</span>];<font></font>
Foo(d, _countof(d));</code></pre><br>
<p>  <code>sizeof(B) &lt; sizeof(D)</code>,    <code>Foo()</code>    <code>d</code> ( , )    , ,   <code>Foo()</code>   .        ,     , .<br>
</p><br>
<a name="id-2-2"></a><br>
<h2>2.2. </h2><br>
<p>   (    )      ,       «».        ,    :<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">using</span> I4 = <span class="hljs-keyword">int</span>[<span class="hljs-number">4</span>];<font></font>
I4 a;<font></font>
I4 b = a; <span class="hljs-comment">// </span><font></font>
I4 b2;<font></font>
b2 = a; <span class="hljs-comment">// </span></code></pre><br>
<p>     .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-function">I4 <span class="hljs-title">Foo</span><span class="hljs-params">()</span></span>; <span class="hljs-comment">// </span></code></pre><br>
<p>     //,     (  ) .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">X</span> 
{</span> 
    <span class="hljs-keyword">int</span> A[<span class="hljs-number">4</span>]; <font></font>
};</code></pre><br>
<p>            ,     .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-function">X <span class="hljs-title">Foo</span><span class="hljs-params">()</span></span>;<font></font>
X x;<font></font>
X x2 = x;<font></font>
X x3;<font></font>
x3 = Foo();</code></pre><br>
<a name="id-3"></a><br>
<h1>3.  </h1><br>
<p>          .<br>
</p><br>
<a name="id-3-1"></a><br>
<h2>3.1.     </h2><br>
<p>         ++.      ,    — .         ,      .           ,      .  ,       ++,       .      , , ,   , ,   ,    .        :   , , , ,  . <br>
</p><br>
<p>    ,    -   .           .     ,    .        ,   -   ,    .<br>
</p><br>
<p>    :         (),     ,  ,   ,     . ,          .              .<br>
</p><br>
<p>     ,       ,         .<br>
</p><br>
<p>   ++11  ,    (  <code>&lt;type_traits&gt;</code>).     ,    .  <code>std::is_trivial&lt;&gt;::value</code>   <code>true</code>,  <code>T</code>    <code>false</code>   .<br>
</p><br>
<a name="id-3-2"></a><br>
<h2>3.2.   </h2><br>
<a name="id-3-2-1"></a><br>
<h3>3.2.1.  </h3><br>
<p>    ,             . ,        ,   .      ,        ,    .<br>
</p><br>
<p>  C         :<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">int</span> a[<span class="hljs-number">4</span>] = { <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span> };</code></pre><br>
<p> ++11    (uniform initialization)     :<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">int</span> a[<span class="hljs-number">4</span>]{ <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span> };</code></pre><br>
<p>      =,         , ,  ,   .<br>
</p><br>
<p>    ,      .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">int</span> a[] { <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span> };</code></pre><br>
<p>   ,         .      ,          (, ,  ),       .  ,    ,            .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">int</span> a[<span class="hljs-number">4</span>]{};</code></pre><br>
<p>       .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> a[<span class="hljs-number">4</span>] = { <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span> };</code></pre><br>
<p>      ,         .<br>
</p><br>
<p>     .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> str[] = <span class="hljs-string">"meow"</span>;
<span class="hljs-keyword">const</span> <span class="hljs-keyword">wchar_t</span> wstr[] = <span class="hljs-string">L"meow"</span>;</code></pre><br>
<p>         ,     .<br>
</p><br>
<h3>3.2.2.   </h3><br>
<p> ++11    ,    .     :           .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">X</span>
{</span>
    <span class="hljs-keyword">int</span> a[<span class="hljs-number">4</span>]{ <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span> };
    <span class="hljs-keyword">int</span> b[<span class="hljs-number">2</span>];
<span class="hljs-comment">// ...</span>
<span class="hljs-keyword">public</span>:<font></font>
    X(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v) : b{ u, v } <font></font>
    {}<font></font>
<span class="hljs-comment">// ...</span>
};</code></pre><br>
<p>         ,        .<br>
</p><br>
<p> ,   ,     ,        .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">X</span>
{</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> A[];
<span class="hljs-comment">// ...</span><font></font>
};<font></font>
<font></font>
<span class="hljs-keyword">int</span> X::A[] = { <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span> };</code></pre><br>
<a name="id-3-2-3"></a><br>
<h3>3.2.3.   </h3><br>
<p>,    ,    ,         (,   ,   <code>constexpr</code>).            ,     ,     —             .      :<br>
</p><br>
<pre><code class="cpp hljs">T a[] = {x1 <span class="hljs-comment">/*, ... */</span>};</code></pre><br>
<p><br>
</p><br>
<pre><code class="cpp hljs">T a[]{x1 <span class="hljs-comment">/*, ... */</span>};</code></pre><br>
<p>     <br>
</p><br>
<pre><code class="cpp hljs">T t = x1;</code></pre><br>
<p>       .            .<br>
</p><br>
<p> .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Int</span>
{</span>
    <span class="hljs-keyword">int</span> m_Value;
<span class="hljs-keyword">public</span>:<font></font>
    Int(<span class="hljs-keyword">int</span> v) : m_Value(v) {}
<span class="hljs-comment">// ...</span><font></font>
};<font></font>
<span class="hljs-comment">// ...</span>
<span class="hljs-keyword">int</span> x, y;
<span class="hljs-comment">// ...</span>
Int rr[] = { x, y };</code></pre><br>
<p>    <code>Int</code>  <code>explicit</code>,     .     <br>
</p><br>
<pre><code class="cpp hljs">Int rr[] = { Int(x), Int(y) };</code></pre><br>
<p>                    .           .<br>
</p><br>
<a name="id-4"></a><br>
<h1>4.     </h1><br>
<a name="id-4-1"></a><br>
<h2>4.1.   </h2><br>
<p>    <br>
</p><br>
<pre><code class="cpp hljs">T a[N];</code></pre><br>
<p>        :<br>
</p><br>
<pre><code class="cpp hljs">T(*pa)[N] = &amp;a;</code></pre><br>
<p>      <code>&amp;</code>.       <code>T(*)[N]</code>.<br>
</p><br>
<p>    ,        <code>N</code>     <code>T</code>.<br>
</p><br>
<p>   —       (  , , ),    .   ,  «»  .      . </p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">int</span> a[<span class="hljs-number">4</span>];
<span class="hljs-keyword">int</span>(*pa)[<span class="hljs-number">4</span>] = &amp;a; <span class="hljs-comment">// OK</span>
<span class="hljs-keyword">int</span>(*p2)[<span class="hljs-number">2</span>] = &amp;a; <span class="hljs-comment">// ,   </span></code></pre><br>
<p>         ,     .<br>
</p><br>
<p>          <code>*</code>  .<br>
</p><br>
<pre><code class="cpp hljs">(*pa)[<span class="hljs-number">3</span>] = <span class="hljs-number">42</span>;</code></pre><br>
<p>           .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">using</span> I4 = <span class="hljs-keyword">int</span>[<span class="hljs-number">4</span>];<font></font>
I4 a{ <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span> };<font></font>
I4 *pa = &amp;a;</code></pre><br>
<p>   <code>auto</code>,             .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">int</span> a[<span class="hljs-number">4</span>];
<span class="hljs-keyword">auto</span> pa = &amp;a; <span class="hljs-comment">//  pa   int(*)[4]</span></code></pre><br>
<p>          ,     .<br>
</p><br>
<a name="id-4-2"></a><br>
<h2>4.2.   </h2><br>
<p>    <br>
</p><br>
<pre><code class="cpp hljs">T a[N];</code></pre><br>
<p>        :<br>
</p><br>
<pre><code class="cpp hljs">T(&amp;ra)[N] = a;</code></pre><br>
<p>    ,        .       <code>T(&amp;)[N]</code>.<br>
</p><br>
<p>         .<br>
</p><br>
<pre><code class="cpp hljs">T(*pa)[N] = &amp;a;<font></font>
T(&amp;ra)[N] = *pa;</code></pre><br>
<p>  ,  «»  .      .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">int</span> a[<span class="hljs-number">4</span>];
<span class="hljs-keyword">int</span>(&amp;ra)[<span class="hljs-number">4</span>] = a; <span class="hljs-comment">// OK</span>
<span class="hljs-keyword">int</span>(&amp;r2)[<span class="hljs-number">2</span>] = a; <span class="hljs-comment">// ,   </span></code></pre><br>
<p>        ,     .<br>
</p><br>
<pre><code class="cpp hljs">ra[<span class="hljs-number">3</span>] = <span class="hljs-number">0</span>;</code></pre><br>
<p>        ,      .<br>
</p><br>
<p> <br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(T(&amp;a)[N])</span></span>;</code></pre><br>
<p>   <code>T[N]</code>,     .<br>
</p><br>
<p>           .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">using</span> I4 = <span class="hljs-keyword">int</span>[<span class="hljs-number">4</span>];<font></font>
I4 a{ <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span> };<font></font>
I4 &amp;ra = a;</code></pre><br>
<p>   <code>auto</code>,        .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">int</span> a[<span class="hljs-number">4</span>];
<span class="hljs-keyword">auto</span> &amp;ra = a; <span class="hljs-comment">//  ra   int(&amp;)[4]</span></code></pre><br>
<p>    <code>&amp;</code>  <code>auto</code>,     ,   <code>ra</code>    <code>int*</code>.<br>
</p><br>
<p>   <br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(T&amp; t)</span></span>;</code></pre><br>
<p>          ,    .<br>
</p><br>
<p>         .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T, <span class="hljs-built_in">std</span>::<span class="hljs-keyword">size_t</span> N&gt;
<span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(T(&amp;a)[N])</span></span>;</code></pre><br>
<p>        <code>T</code>    <code>N</code> (   ).       ,   .        <code>_countof()</code>    <code>std::size()</code>,      <code>std::begin()</code>  <code>std::end()</code>,       <code>for</code>       .   5     .<br>
</p><br>
<a name="id-5"></a><br>
<h1>5.  </h1><br>
<p>C++     ,    <code>a[N, M]</code> ,      « »,      <code>a[N][M]</code>.<br>
</p><br>
<p> <code>T</code>  , <code>N</code>  <code>M</code> ,     ,  <br>
</p><br>
<pre><code class="cpp hljs">T a[N][M];</code></pre><br>
<p> <code>a</code>   ,   <code>N</code> ,       <code>M</code>   <code>T</code>.      .  <code>a[i][j]</code>,  <code>i</code>  <code>0</code>  <code>N-1</code>, <code>j</code>  <code>0</code>  <code>M-1</code>,      .       ,      .  <code>N</code>      , <code>M</code> .      <code>T[N][M]</code>.<br>
</p><br>
<p> <code>a[i]</code>    <code>M</code>   <code>T</code>.       ,          .<br>
</p><br>
<pre><code class="cpp hljs">T *dai = a[i];<font></font>
T(*pai)[M] = &amp;a[i];<font></font>
T(&amp;rai)[M] = a[i];</code></pre><br>
<p>      .        ,         .<br>
</p><br>
<pre><code class="cpp hljs">T a[N][M];<font></font>
T(*da)[M] = a;</code></pre><br>
<p> ,            :<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(T a[N][M])</span></span>;
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(T a[][M])</span></span>;
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(T(*a)[M])</span></span>;</code></pre><br>
<p> ,            .<br>
</p><br>
<p>          .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">using</span> I4 = <span class="hljs-keyword">int</span>[<span class="hljs-number">4</span>];<font></font>
I4 b[<span class="hljs-number">2</span>];</code></pre><br>
<p>   , <br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">int</span> b[<span class="hljs-number">2</span>][<span class="hljs-number">4</span>];</code></pre><br>
<p>    :<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">int</span> b[<span class="hljs-number">2</span>][<span class="hljs-number">4</span>] = {{<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>}, {<span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>}};</code></pre><br>
<p>      ,       <code>{}</code>.          .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">int</span> b[][<span class="hljs-number">4</span>] = {{<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>}, {<span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>}}; <span class="hljs-comment">// </span>
<span class="hljs-keyword">int</span> b[][] = {{<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>}, {<span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>}};  <span class="hljs-comment">// </span></code></pre><br>
<p>     :<br>
</p><br>
<pre><code class="cpp hljs">T a[N][M];<font></font>
T(*pa)[N][M] = &amp;a;</code></pre><br>
<p>   .       .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T, <span class="hljs-built_in">std</span>::<span class="hljs-keyword">size_t</span> N, <span class="hljs-built_in">std</span>::<span class="hljs-keyword">size_t</span> M&gt;
<span class="hljs-keyword">void</span> <span class="hljs-title">Print2dArray</span><span class="hljs-params">(T(&amp;a)[N][M])</span>
</span>{
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; N; ++i)<font></font>
    {<font></font>
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; M; ++j)<font></font>
        {<font></font>
            <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; a[i][j] &lt;&lt; <span class="hljs-string">' '</span>;<font></font>
        }<font></font>
        <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">'\n'</span>;<font></font>
    }<font></font>
}<font></font>
<span class="hljs-comment">// ...</span>
<span class="hljs-keyword">int</span> b[<span class="hljs-number">2</span>][<span class="hljs-number">4</span>] = {{<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>}, {<span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>}};<font></font>
Print2dArray(b);</code></pre><br>
<p> :<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span>
<span class="hljs-number">5</span> <span class="hljs-number">6</span> <span class="hljs-number">7</span> <span class="hljs-number">8</span></code></pre><br>
<p>      .  <br>
</p><br>
<pre><code class="cpp hljs">T mtx[N][M];</code></pre><br>
<p><code>N</code>      , <code>M</code>   ,  <code>mtx[i][j]</code>       <code>i</code>-   <code>j</code>- ,  <code>mtx[i]</code>    <code>M</code>,   <code>i</code>-  . ,       .          ,    .<br>
</p><br>
<a name="id-6"></a><br>
<h1>6.  </h1><br>
<p> C++   « ».         ,          (   ).      .      C++ .<br>
</p><br>
<a name="id-6-1"></a><br>
<h2>6.1.     </h2><br>
<p> <code>T</code>  , <code>n</code> ,        ,  <br>
</p><br>
<pre><code class="cpp hljs">T *pa = <span class="hljs-keyword">new</span> T[n];</code></pre><br>
<p>    .   <code>n</code>    <code>std::size_t</code>,    .  ,    ,   <code>n*sizeof(T)</code>,     .  <code>pa</code>     .<br>
</p><br>
<p>  <code>T</code> ,      ,           .<br>
</p><br>
<p> C++11     .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">int</span> *pa = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[n]{<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>};</code></pre><br>
<p>     ,     (   ,   <code>n</code>    ).      ,         ,       .  ,    ,            .<br>
</p><br>
<p> <code>new[]</code>      .    , ,  <code>T</code>      ,         .  -   ,          ,   ,    .            <code>std::bad_alloc</code>.<br>
</p><br>
<p>    <code>delete[]</code>,    ,   <code>new[]</code>.<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">delete</span>[] pa;</code></pre><br>
<p> ,      ,         ,    (    ),    .<br>
</p><br>
<p>    <code>pa</code>,   <code>new[]</code>,      ,    (   «»)   ,     .        <code>for</code>.<br>
</p><br>
<a name="id-6-2"></a><br>
<h2>6.2.     </h2><br>
<p>   <code>std::unique_ptr&lt;&gt;</code>         (. [Josuttis]).      ,    <code>[]</code>   <code>-&gt;</code>    <code>delete[]</code>     .  :<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">int</span> n = <span class="hljs-number">100</span>; 
<span class="hljs-function"><span class="hljs-built_in">std</span>::<span class="hljs-built_in">unique_ptr</span>&lt;<span class="hljs-keyword">int</span>[]&gt; <span class="hljs-title">aptr</span><span class="hljs-params">(<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[n])</span></span>;
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i)<font></font>
{<font></font>
    aptr[i] = i; <font></font>
}</code></pre><br>
<p>    :      , ,        <code>for</code>.   <code>std::unique_ptr&lt;&gt;</code>  ,     <code>std::vector&lt;&gt;</code>.   <code>std::shared_ptr&lt;&gt;</code>               .<br>
</p><br>
<a name="id-6-3"></a><br>
<h2>6.3.   </h2><br>
<p>        ,    <code>new T[n][m]</code>,    <code>n</code>  <code>m</code>     ,  .      ,        ,    .  <code>M</code> ,     ,      :<br>
</p><br>
<pre><code class="cpp hljs">T(*pa)[M] = <span class="hljs-keyword">new</span> T[n][M];</code></pre><br>
<p> <code>new[]</code>    .          <code>pa[i][j]</code>,    <code>pa[i]</code>    <code>M</code>   <code>T</code>.<br>
</p><br>
<p>       .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">using</span> I4 = <span class="hljs-keyword">int</span>[<span class="hljs-number">4</span>];<font></font>
I4 *pa = <span class="hljs-keyword">new</span> I4[n];</code></pre><br>
<p>   <code>[]</code>   ,      ,       .      .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-comment">// 2D interface to a buffer</span>
<span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MatrixView</span> 
{</span>
    T * <span class="hljs-keyword">const</span> m_Buff;
    <span class="hljs-keyword">int</span> <span class="hljs-keyword">const</span> m_RowCount;
    <span class="hljs-keyword">int</span> <span class="hljs-keyword">const</span> m_ColCount;
<span class="hljs-keyword">public</span>:<font></font>
    MatrixView(T* buff, <span class="hljs-keyword">int</span> rowCount, <span class="hljs-keyword">int</span> colCount)<font></font>
        : m_Buff(buff)<font></font>
        , m_RowCount(rowCount)<font></font>
        , m_ColCount(colCount)<font></font>
    {}<font></font>
    T *<span class="hljs-keyword">operator</span>[](<span class="hljs-keyword">int</span> rowInd) <span class="hljs-keyword">const</span><font></font>
    {<font></font>
        <span class="hljs-keyword">return</span> m_Buff + rowInd * m_ColCount;<font></font>
    }<font></font>
};<font></font>
<span class="hljs-comment">// buffer owner</span>
<span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DynBuffer</span> 
{</span>
    T* <span class="hljs-keyword">const</span> m_Buff;
<span class="hljs-keyword">protected</span>:
    <span class="hljs-function">T* <span class="hljs-title">Buff</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{ <span class="hljs-keyword">return</span> m_Buff; };<font></font>
    DynBuffer(<span class="hljs-keyword">int</span> length) : m_Buff(<span class="hljs-keyword">new</span> T[length]{}) {}<font></font>
    ~DynBuffer() { <span class="hljs-keyword">delete</span>[] m_Buff; }<font></font>
    DynBuffer(<span class="hljs-keyword">const</span> DynBuffer&amp;) = <span class="hljs-keyword">delete</span>;<font></font>
    DynBuffer&amp; <span class="hljs-keyword">operator</span>=(<span class="hljs-keyword">const</span> DynBuffer&amp;) = <span class="hljs-keyword">delete</span>;<font></font>
};<font></font>
<font></font>
<span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MatrixSimple</span> 
    :</span> DynBuffer&lt;T&gt;, <span class="hljs-keyword">public</span> MatrixView&lt;T&gt;<font></font>
{<font></font>
    <span class="hljs-keyword">using</span> Buff = DynBuffer&lt;T&gt;;
    <span class="hljs-keyword">using</span> View = MatrixView&lt;T&gt;;
<span class="hljs-keyword">public</span>:<font></font>
    MatrixSimple(<span class="hljs-keyword">int</span> rowCount, <span class="hljs-keyword">int</span> colCount)<font></font>
        : Buff(rowCount * colCount)<font></font>
        , View(Buff::Buff(), rowCount, colCount)<font></font>
    {}<font></font>
};</code></pre><br>
<p>  :<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-function">MatrixSimple&lt;<span class="hljs-keyword">int</span>&gt; <span class="hljs-title">mtx</span><span class="hljs-params">(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>)</span></span>;<font></font>
mtx[<span class="hljs-number">1</span>][<span class="hljs-number">2</span>] = <span class="hljs-number">42</span>; <span class="hljs-comment">//  ,  </span></code></pre><br>
<p>        proxy-,  ,  <code>RowProxy</code>,       .   , ,   ,  - <code>begin()</code>, <code>end()</code>, etc.       .<br>
</p><br>
<a name="id-7"></a><br>
<h1>7.     </h1><br>
<p>             ,     «».         <code>T[]</code>.  .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-comment">//  </span>
<span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">U</span>
{</span>
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* <span class="hljs-title">Tag</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{ <span class="hljs-keyword">return</span> <span class="hljs-string">"base"</span>; }<font></font>
};<font></font>
<font></font>
<span class="hljs-comment">//    </span>
<span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">U</span>&lt;T*&gt;
{</span>
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* <span class="hljs-title">Tag</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{ <span class="hljs-keyword">return</span> <span class="hljs-string">"pointer"</span>; }<font></font>
};<font></font>
<font></font>
<span class="hljs-comment">//    </span>
<span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">U</span>&lt;T[]&gt;
{</span>
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* <span class="hljs-title">Tag</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>{ <span class="hljs-keyword">return</span> <span class="hljs-string">"array"</span>; }<font></font>
};<font></font>
<font></font>
U&lt;<span class="hljs-keyword">int</span>&gt; u1;<font></font>
U&lt;<span class="hljs-keyword">int</span>*&gt; u2;<font></font>
U&lt;<span class="hljs-keyword">int</span>[]&gt; u3;<font></font>
<font></font>
<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; u1.Tag() &lt;&lt; <span class="hljs-string">' '</span> &lt;&lt; u2.Tag() &lt;&lt; <span class="hljs-string">' '</span> &lt;&lt; u3.Tag();</code></pre><br>
<p>: <code>base pointer array</code><br>
</p><br>
<p>          <code>std::unique_ptr&lt;&gt;</code>,        ,  .  6.2.<br>
</p><br>
<a name="id-8"></a><br>
<h1>8.   </h1><br>
<p>     (  ),     .<br>
</p><br>
<p>      <code>std::array&lt;&gt;</code>. (  C++11, . [Josuttis].)       ,     :    .       ,         .  :<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-built_in">std</span>::<span class="hljs-built_in">array</span>&lt;<span class="hljs-keyword">int</span>, 4&gt; a{<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>};</code></pre><br>
<p>        .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; a.size(); ++i)<font></font>
{<font></font>
    <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; a[i] &lt;&lt; <span class="hljs-string">' '</span>;<font></font>
}<font></font>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> it = a.begin(); it != a.end(); ++it)<font></font>
{<font></font>
    <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; *it &lt;&lt; <span class="hljs-string">' '</span>;<font></font>
}<font></font>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> t : a)<font></font>
{<font></font>
    <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; t &lt;&lt; <span class="hljs-string">' '</span>;<font></font>
}</code></pre><br>
<p>     <code>std::vector&lt;&gt;</code>.     ,     (  №1),  -     .<br>
</p><br>
<p>         <code>std::valarray&lt;&gt;</code>.      .<br>
</p><br>
<a name="id-refs"></a><br>
<h1> </h1><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[Josuttis] </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Josattis, Nikolai M. C ++ Standard Library: Reference Guide, 2nd ed.: Per. </font><font style="vertical-align: inherit;">de l'anglais </font><font style="vertical-align: inherit;">- M.: LLC «I.D. </font><font style="vertical-align: inherit;">Williams, 2014.</font></font><br>
</p><br>
<br></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr495432/index.html">Singleton avec pièges</a></li>
<li><a href="../fr495434/index.html">Qu'est-il arrivé au transport au cours des deux dernières semaines</a></li>
<li><a href="../fr495436/index.html">Nous ouvrons l'accès au cours pratique sur l'utilisation du système DLP</a></li>
<li><a href="../fr495438/index.html">Langue R pour les utilisateurs d'Excel (cours vidéo gratuit)</a></li>
<li><a href="../fr495440/index.html">Aux Pays-Bas, les serveurs sont presque terminés: de nouvelles commandes pourraient ne pas être possibles, le VPS et Internet prendront-ils fin?</a></li>
<li><a href="../fr495446/index.html">L'antigravité n'est pas ce que vous pensiez</a></li>
<li><a href="../fr495448/index.html">Mitaps en ligne pour toute la semaine sur le dos, le devant, QA, PM, DevOps et un peu sur les robots, à partir du 3 avril</a></li>
<li><a href="../fr495450/index.html">Débogage des applications Golang lourdement chargées ou comment nous avons cherché un problème dans Kubernetes qui n'était pas là</a></li>
<li><a href="../fr495452/index.html">Comment préparer un site pour la croissance de la charge</a></li>
<li><a href="../fr495454/index.html">Brève introduction à BPF et eBPF</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>