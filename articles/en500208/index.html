<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üïí üè¥‚Äç‚ò†Ô∏è üöΩ Again about BLE, temperature and Xiaomi sensors ‚ÜóÔ∏è ü§õ üëò</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Not so long ago, I managed to get the famous Xiaomi temperature and humidity sensors. These sensors have deservedly gained wide popularity, because at...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Again about BLE, temperature and Xiaomi sensors</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/500208/"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Not so long ago, I managed to get the famous Xiaomi temperature and humidity sensors. </font><font style="vertical-align: inherit;">These sensors have deservedly gained wide popularity, because at their fairly low price, they are quite convenient to use, and they also know how to transmit their readings via the BLE protocol to the same Mi Home. </font><font style="vertical-align: inherit;">In addition, the entire Internet is littered with options for connecting these sensors to </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Home Assistant</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MajorDoMo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and other systems.</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">But it seemed to me not enough and I wanted to do everything my own way (do not ask me why and why, I just wanted to). </font><font style="vertical-align: inherit;">Namely, I wanted to read data from sensors that are hung around the house and somehow interesting to work with them. </font><font style="vertical-align: inherit;">Therefore, I rummaged in my electronic bins and found the ESP32 module there.</font></font></p><br>
<p><img src="https://habrastorage.org/webt/ap/ci/xj/apcixjdp_ae-u9fllhz2js2_b5g.jpeg"></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A quick google showed: ESP32 is what I need. </font><font style="vertical-align: inherit;">It knows how to Bluetooth and WiFi, is programmed from the Arduino IDE and will allow me to get readings from the sensor and send them via WiFi wherever I need (at least to the home server, even to the cloud). </font><font style="vertical-align: inherit;">In addition, a very quick and simple </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tutorial</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> was found </font><font style="vertical-align: inherit;">that just solved my problem. </font><font style="vertical-align: inherit;">But as it turned out, not everything is so simple ...</font></font></p><a name="habracut"></a><br>
<h2 id="pervye-problemy"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">First problems</font></font></h2><br>
<p>      ,   .    ‚Ä¶ ,      .</p><br>
<p>   ,        ESP32,       .    (  ,  )    .      ,         .    ,   BLE     .       ,   ,        - .</p><br>
<h2 id="kak-ono-rabotaet">  </h2><br>
<p>  BLE    2- .    (discover mode)   (connection mode).       ,   Bluetooth        .          .    -       .       ,         .</p><br>
<p> Xiaomi     ,                .         .       .   ,    .</p><br>
<h2 id="tak-chto-vse-taki-slomalos">  - ?</h2><br>
<p>    .          ,          (advertising ).</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">initBluetooth</span><span class="hljs-params">()</span>
</span>{<font></font>
    BLEDevice::init(<span class="hljs-string">""</span>);<font></font>
    pBLEScan = BLEDevice::getScan(); <span class="hljs-comment">//create new scan</span>
    pBLEScan-&gt;setAdvertisedDeviceCallbacks(<span class="hljs-keyword">new</span> MyAdvertisedDeviceCallbacks());<font></font>
    pBLEScan-&gt;setActiveScan(<span class="hljs-literal">true</span>); <span class="hljs-comment">//active scan uses more power, but get results faster</span>
    pBLEScan-&gt;setInterval(<span class="hljs-number">0x50</span>);<font></font>
    pBLEScan-&gt;setWindow(<span class="hljs-number">0x30</span>);<font></font>
}</code></pre><br>
<p>      :</p><br>
<pre><code class="cpp hljs"> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">onResult</span><span class="hljs-params">(BLEAdvertisedDevice advertisedDevice)</span>
    </span>{
        <span class="hljs-keyword">if</span> (advertisedDevice.haveName() &amp;&amp; advertisedDevice.haveServiceData() &amp;&amp; !advertisedDevice.getName().compare(<span class="hljs-string">"MJ_HT_V1"</span>)) {
            <span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> strServiceData = advertisedDevice.getServiceData();
            <span class="hljs-keyword">uint8_t</span> cServiceData[<span class="hljs-number">100</span>];
            <span class="hljs-keyword">char</span> charServiceData[<span class="hljs-number">100</span>];<font></font>
<font></font>
            strServiceData.copy((<span class="hljs-keyword">char</span> *)cServiceData, strServiceData.length(), <span class="hljs-number">0</span>);<font></font>
<font></font>
            Serial.<span class="hljs-built_in">printf</span>(<span class="hljs-string">"\n\nAdvertised Device: %s\n"</span>, advertisedDevice.toString().c_str());<font></font>
<font></font>
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;strServiceData.length();i++) {
                <span class="hljs-built_in">sprintf</span>(&amp;charServiceData[i*<span class="hljs-number">2</span>], <span class="hljs-string">"%02x"</span>, cServiceData[i]);<font></font>
            }<font></font>
<font></font>
            <span class="hljs-built_in">std</span>::<span class="hljs-built_in">stringstream</span> ss;<font></font>
            ss &lt;&lt; <span class="hljs-string">"fe95"</span> &lt;&lt; charServiceData;<font></font>
<font></font>
            Serial.print(<span class="hljs-string">"Payload:"</span>);<font></font>
            Serial.println(ss.str().c_str());<font></font>
<font></font>
            <span class="hljs-keyword">char</span> eventLog[<span class="hljs-number">256</span>];
            <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> value, value2;
            <span class="hljs-keyword">char</span> charValue[<span class="hljs-number">5</span>] = {<span class="hljs-number">0</span>,};
            <span class="hljs-keyword">switch</span> (cServiceData[<span class="hljs-number">11</span>]) {
                <span class="hljs-keyword">case</span> <span class="hljs-number">0x04</span>:
                    <span class="hljs-built_in">sprintf</span>(charValue, <span class="hljs-string">"%02X%02X"</span>, cServiceData[<span class="hljs-number">15</span>], cServiceData[<span class="hljs-number">14</span>]);<font></font>
                    value = strtol(charValue, <span class="hljs-number">0</span>, <span class="hljs-number">16</span>);
                    <span class="hljs-keyword">if</span>(METRIC)<font></font>
                    {<font></font>
                      current_temperature = (<span class="hljs-keyword">float</span>)value/<span class="hljs-number">10</span>;<font></font>
                    }<span class="hljs-keyword">else</span><font></font>
                    {<font></font>
                      current_temperature = CelciusToFahrenheit((<span class="hljs-keyword">float</span>)value/<span class="hljs-number">10</span>);<font></font>
                    }<font></font>
                    displayTemperature();  <font></font>
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-number">0x06</span>:
                    <span class="hljs-built_in">sprintf</span>(charValue, <span class="hljs-string">"%02X%02X"</span>, cServiceData[<span class="hljs-number">15</span>], cServiceData[<span class="hljs-number">14</span>]);<font></font>
                    value = strtol(charValue, <span class="hljs-number">0</span>, <span class="hljs-number">16</span>);  <font></font>
                    current_humidity = (<span class="hljs-keyword">float</span>)value/<span class="hljs-number">10</span>;<font></font>
                    displayHumidity();                      <font></font>
                    Serial.<span class="hljs-built_in">printf</span>(<span class="hljs-string">"HUMIDITY_EVENT: %s, %d\n"</span>, charValue, value);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-number">0x0A</span>:
                    <span class="hljs-built_in">sprintf</span>(charValue, <span class="hljs-string">"%02X"</span>, cServiceData[<span class="hljs-number">14</span>]);<font></font>
                    value = strtol(charValue, <span class="hljs-number">0</span>, <span class="hljs-number">16</span>);                    <font></font>
                    Serial.<span class="hljs-built_in">printf</span>(<span class="hljs-string">"BATTERY_EVENT: %s, %d\n"</span>, charValue, value);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-number">0x0D</span>:
                    <span class="hljs-built_in">sprintf</span>(charValue, <span class="hljs-string">"%02X%02X"</span>, cServiceData[<span class="hljs-number">15</span>], cServiceData[<span class="hljs-number">14</span>]);<font></font>
                    value = strtol(charValue, <span class="hljs-number">0</span>, <span class="hljs-number">16</span>);      
                    <span class="hljs-keyword">if</span>(METRIC)<font></font>
                    {<font></font>
                      current_temperature = (<span class="hljs-keyword">float</span>)value/<span class="hljs-number">10</span>;<font></font>
                    }<span class="hljs-keyword">else</span><font></font>
                    {<font></font>
                      current_temperature = CelciusToFahrenheit((<span class="hljs-keyword">float</span>)value/<span class="hljs-number">10</span>);<font></font>
                    }<font></font>
                    displayTemperature();               <font></font>
                    Serial.<span class="hljs-built_in">printf</span>(<span class="hljs-string">"TEMPERATURE_EVENT: %s, %d\n"</span>, charValue, value);                    
                    <span class="hljs-built_in">sprintf</span>(charValue, <span class="hljs-string">"%02X%02X"</span>, cServiceData[<span class="hljs-number">17</span>], cServiceData[<span class="hljs-number">16</span>]);<font></font>
                    value2 = strtol(charValue, <span class="hljs-number">0</span>, <span class="hljs-number">16</span>);<font></font>
                    current_humidity = (<span class="hljs-keyword">float</span>)value2/<span class="hljs-number">10</span>;<font></font>
                    displayHumidity();                                        <font></font>
                    Serial.<span class="hljs-built_in">printf</span>(<span class="hljs-string">"HUMIDITY_EVENT: %s, %d\n"</span>, charValue, value2);
                    <span class="hljs-keyword">break</span>;<font></font>
            }<font></font>
        }<font></font>
    }</code></pre><br>
<p>,  - .</p><br>
<p>        switch,    11   service data .    ,         11 .   .</p><br>
<p> advertising             (payload).       ,    ,   .         .  payload     (      ):</p><br>
<pre><code class="plaintext hljs">020106121695fe5020aa01ab9f0231342d580a10014309094d4a5f48545f563105030f180a180916ffffc8b33f8a48db</code></pre><br>
<p>    .   (  0x02)     .    ,     (    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"></a>).        .      (   )     .</p><br>
<p>       0x16,    service data, ..  ,    .      2:</p><br>
<pre><code class="plaintext hljs">121695fe5020aa01ab9f0231342d580a100143<font></font>
0916ffffc8b33f8a48db</code></pre><br>
<p>  ,   ,  11      ,  ,    switch (0x0A).        ,   ,      .     . ,       ,   . </p><br>
<h2 id="pochemu-tak-vyshlo">  ?</h2><br>
<p>   -   ,      ,    ,      .       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow">ESP32  Arduino</a>.     ,     ,  getServiceData       ,    . ..     ,  payload     service data. ,    . ,             (   1.0.4).      Arduino IDE    ESP32  Boards Manager      .        getServiceData()     service data.    ,       . ,        . </p><br>
<h2 id="finalnyy-kod"> </h2><br>
<p>        .          .     ,   ,      .     ,   payload     service data (    findServiceData).</p><br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyAdvertisedDeviceCallbacks</span>:</span> <span class="hljs-keyword">public</span> BLEAdvertisedDeviceCallbacks {<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">uint8_t</span>* <span class="hljs-title">findServiceData</span><span class="hljs-params">(<span class="hljs-keyword">uint8_t</span>* data, <span class="hljs-keyword">size_t</span> length, <span class="hljs-keyword">uint8_t</span>* foundBlockLength)</span> </span>{
        <span class="hljs-comment">//      [ ][ ][]</span>
        <span class="hljs-comment">//      0x16,     0x95 0xfe</span>
        <span class="hljs-comment">//   ,       </span>
        <span class="hljs-comment">//         </span>
        <span class="hljs-keyword">uint8_t</span>* rightBorder = data + length;
        <span class="hljs-keyword">while</span> (data &lt; rightBorder) {
            <span class="hljs-keyword">uint8_t</span> blockLength = *data;
            <span class="hljs-keyword">if</span> (blockLength &lt; <span class="hljs-number">5</span>) { <span class="hljs-comment">//      </span>
                data += (blockLength+<span class="hljs-number">1</span>);
                <span class="hljs-keyword">continue</span>;<font></font>
            }<font></font>
            <span class="hljs-keyword">uint8_t</span> blockType = *(data+<span class="hljs-number">1</span>);
            <span class="hljs-keyword">uint16_t</span> serviceType = *(<span class="hljs-keyword">uint16_t</span>*)(data + <span class="hljs-number">2</span>);
            <span class="hljs-keyword">if</span> (blockType == <span class="hljs-number">0x16</span> &amp;&amp; serviceType == <span class="hljs-number">0xfe95</span>) { <span class="hljs-comment">//    </span>
                *foundBlockLength = blockLength<span class="hljs-number">-3</span>; <span class="hljs-comment">//    </span>
                <span class="hljs-keyword">return</span> data+<span class="hljs-number">4</span>; <span class="hljs-comment">//     </span><font></font>
            }<font></font>
            data += (blockLength+<span class="hljs-number">1</span>);<font></font>
        }   <font></font>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">onResult</span><span class="hljs-params">(BLEAdvertisedDevice advertisedDevice)</span> </span>{
        <span class="hljs-keyword">if</span> (!advertisedDevice.haveName() || advertisedDevice.getName().compare(<span class="hljs-string">"MJ_HT_V1"</span>))
            <span class="hljs-keyword">return</span>; <span class="hljs-comment">//    ,     </span><font></font>
<font></font>
        <span class="hljs-keyword">uint8_t</span>* payload = advertisedDevice.getPayload();
        <span class="hljs-keyword">size_t</span> payloadLength = advertisedDevice.getPayloadLength();<font></font>
        Serial.<span class="hljs-built_in">printf</span>(<span class="hljs-string">"\n\nAdvertised Device: %s\n"</span>, advertisedDevice.toString().c_str());<font></font>
        printBuffer(payload, payloadLength);<font></font>
        <span class="hljs-keyword">uint8_t</span> serviceDataLength=<span class="hljs-number">0</span>;
        <span class="hljs-keyword">uint8_t</span>* serviceData = findServiceData(payload, payloadLength, &amp;serviceDataLength);<font></font>
<font></font>
        <span class="hljs-keyword">if</span> (serviceData == <span class="hljs-literal">nullptr</span>) {
            <span class="hljs-keyword">return</span>; <span class="hljs-comment">//      </span><font></font>
        }<font></font>
<font></font>
        Serial.<span class="hljs-built_in">printf</span>(<span class="hljs-string">"Found service data len: %d\n"</span>, serviceDataLength);<font></font>
        printBuffer(serviceData, serviceDataLength);<font></font>
<font></font>
        <span class="hljs-comment">// 11      </span>
        <span class="hljs-comment">// 0x0D -   </span>
        <span class="hljs-comment">// 0x0A - </span>
        <span class="hljs-comment">// 0x06 - </span>
        <span class="hljs-comment">// 0x04 - </span><font></font>
<font></font>
        <span class="hljs-keyword">switch</span> (serviceData[<span class="hljs-number">11</span>])<font></font>
        {<font></font>
            <span class="hljs-keyword">case</span> <span class="hljs-number">0x0D</span>:<font></font>
            {<font></font>
                <span class="hljs-keyword">float</span> temp = *(<span class="hljs-keyword">uint16_t</span>*)(serviceData + <span class="hljs-number">11</span> + <span class="hljs-number">3</span>) / <span class="hljs-number">10.0</span>;
                <span class="hljs-keyword">float</span> humidity = *(<span class="hljs-keyword">uint16_t</span>*)(serviceData + <span class="hljs-number">11</span> + <span class="hljs-number">5</span>) / <span class="hljs-number">10.0</span>;<font></font>
                Serial.<span class="hljs-built_in">printf</span>(<span class="hljs-string">"Temp: %f Humidity: %f\n"</span>, temp, humidity);<font></font>
            }<font></font>
            <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">0x04</span>:<font></font>
            {<font></font>
                <span class="hljs-keyword">float</span> temp = *(<span class="hljs-keyword">uint16_t</span>*)(serviceData + <span class="hljs-number">11</span> + <span class="hljs-number">3</span>) / <span class="hljs-number">10.0</span>;<font></font>
                Serial.<span class="hljs-built_in">printf</span>(<span class="hljs-string">"Temp: %f\n"</span>, temp);<font></font>
            }<font></font>
            <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">0x06</span>:<font></font>
            {<font></font>
                <span class="hljs-keyword">float</span> humidity = *(<span class="hljs-keyword">uint16_t</span>*)(serviceData + <span class="hljs-number">11</span> + <span class="hljs-number">3</span>) / <span class="hljs-number">10.0</span>;<font></font>
                Serial.<span class="hljs-built_in">printf</span>(<span class="hljs-string">"Humidity: %f\n"</span>, humidity);<font></font>
            }<font></font>
            <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">0x0A</span>:<font></font>
            {<font></font>
                <span class="hljs-keyword">int</span> battery = *(serviceData + <span class="hljs-number">11</span> + <span class="hljs-number">3</span>);<font></font>
                Serial.<span class="hljs-built_in">printf</span>(<span class="hljs-string">"Battery: %d\n"</span>, battery);<font></font>
            }<font></font>
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">default</span>:
            <span class="hljs-keyword">break</span>;<font></font>
        } <font></font>
    }<font></font>
};</code></pre><br>
<h2 id="vyvod"></h2><br>
<p>      ,        . -   ESP32     StackOverflow,        .       ,    . ,     -, , ,           .       ,         . </p><br>
<p>-  ,  ,  -   .    , ,     ,        .</p><br>
<p>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"></a>.</p><br>
<p><em>UPD:   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="></a></em></p></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en500198/index.html">We write front-end which works. Or how to become an engineer from a developer. Part 1</a></li>
<li><a href="../en500200/index.html">Job search in Germany as a product manager and more. Part 4/5. Work with a vacancy</a></li>
<li><a href="../en500202/index.html">Modeling a meander inverted-F antenna is easy</a></li>
<li><a href="../en500204/index.html">Translation of Andrew Un's book, Passion for Machine Learning, Chapters 42 and 43</a></li>
<li><a href="../en500206/index.html">Healers cannot be burned now</a></li>
<li><a href="../en500210/index.html">Flutter Layout Rules Everyone Should Know</a></li>
<li><a href="../en500212/index.html">Load Testing Atlassian Jira, Confluence, Bitbucket Part 2</a></li>
<li><a href="../en500214/index.html">List of Famous SMR Drives</a></li>
<li><a href="../en500216/index.html">Forget the Anthropocene: we have entered the synthetic age</a></li>
<li><a href="../en500218/index.html">Epidemiological model Covid-19</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>