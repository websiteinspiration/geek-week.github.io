<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>„äôÔ∏è ü§±üèº üíï Contratos p√∫blicos, como garantir sua consist√™ncia ü§µüèª üññüèø ü§∏üèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="- Seu sistema consiste em muitos servi√ßos interconectados?
- ainda atualiza manualmente o c√≥digo de servi√ßo ao alterar a API p√∫blica?
- as mudan√ßas em...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Contratos p√∫blicos, como garantir sua consist√™ncia</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/directum/blog/502652/"><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seu sistema consiste em muitos servi√ßos interconectados?</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ainda atualiza manualmente o c√≥digo de servi√ßo ao alterar a API p√∫blica?</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">as mudan√ßas em seus servi√ßos geralmente prejudicam o trabalho de outras pessoas, e outros desenvolvedores o odeiam por isso?</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se voc√™ respondeu sim pelo menos uma vez, ent√£o seja bem-vindo!</font></font><br>
<a name="habracut"></a><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Termos e Condi√ß√µes</font></font></h4><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contratos p√∫blicos, especifica√ß√µes</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - interfaces p√∫blicas atrav√©s das quais voc√™ pode interagir com o servi√ßo. </font><font style="vertical-align: inherit;">No texto, eles significam a mesma coisa.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sobre o que √© o artigo</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aprenda como reduzir o tempo gasto no desenvolvimento de servi√ßos da Web usando ferramentas para descri√ß√£o unificada de contratos e gera√ß√£o autom√°tica de c√≥digo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O uso adequado das t√©cnicas e ferramentas descritas abaixo permitir√° que voc√™ implante rapidamente novos recursos e n√£o quebre os antigos.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como √© o problema</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Existe um sistema que consiste em v√°rios servi√ßos. </font><font style="vertical-align: inherit;">Esses servi√ßos s√£o atribu√≠dos a diferentes equipes. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/-e/nt/tj/-enttjd6jjg8qoq2c51pw4fha0a.png"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os servi√ßos ao consumidor dependem do provedor de servi√ßos. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O sistema evolui e um dia o provedor de servi√ßos altera seus contratos p√∫blicos. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hk/sf/qs/hksfqs6qfhp-ptvnfidpouif2ki.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se os servi√ßos ao consumidor n√£o estiverem prontos para mudan√ßa, o sistema deixar√° de funcionar completamente.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/1u/iv/iq/1uiviq4rc31xzihqfa4rc2qzgdy.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como resolver este problema</font></font></h3><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A equipe de servi√ßo do fornecedor corrigir√° tudo</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso pode ser feito se a equipe do fornecedor possuir a √°rea de assunto de outros servi√ßos e tiver acesso aos seus reposit√≥rios git. </font><font style="vertical-align: inherit;">Isso funcionar√° apenas em pequenos projetos quando houver poucos servi√ßos dependentes. </font><font style="vertical-align: inherit;">Esta √© a op√ß√£o mais barata. </font><font style="vertical-align: inherit;">Se poss√≠vel, voc√™ deve us√°-lo.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Atualize o c√≥digo do seu servi√ßo para a equipe do consumidor</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por que os outros est√£o quebrando, mas estamos reparando? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No entanto, a quest√£o principal √© como consertar seu servi√ßo, como √© o contrato agora? </font><font style="vertical-align: inherit;">Voc√™ precisa aprender o novo c√≥digo de servi√ßo do provedor ou entrar em contato com sua equipe. </font><font style="vertical-align: inherit;">Passamos um tempo estudando o c√≥digo e interagindo com outra equipe.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pense no que fazer para impedir que o problema apare√ßa</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A op√ß√£o mais razo√°vel a longo prazo. </font><font style="vertical-align: inherit;">Considere isso na pr√≥xima se√ß√£o.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como evitar a manifesta√ß√£o de um problema </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O ciclo de vida do desenvolvimento de software pode ser representado em tr√™s est√°gios: design, implementa√ß√£o e teste. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cada uma das etapas precisa ser expandida da seguinte maneira:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">na fase de projeto, defina declarativamente os contratos;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">durante a implementa√ß√£o, geramos c√≥digo de servidor e cliente sob contratos;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">durante o teste, verificamos contratos e tentamos levar em considera√ß√£o as necessidades do cliente (CDC).</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cada uma das etapas √© explicada abaixo com o exemplo do nosso problema.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como o problema parece conosco</font></font></h3><br>
<img src="https://habrastorage.org/webt/ws/qh/3j/wsqh3j_vzqriz0hufhvw5k4j_1i.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√â assim que nosso ecossistema se parece. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C√≠rculos s√£o servi√ßos e setas s√£o canais de comunica√ß√£o entre eles. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Frontend √© um aplicativo cliente baseado na Web. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A maioria das setas leva ao Servi√ßo de Armazenamento. Ele armazena documentos. Este √© o servi√ßo mais importante. Afinal, nosso produto √© um sistema de gerenciamento eletr√¥nico de documentos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se este servi√ßo alterar seus contratos, o sistema deixar√° de funcionar imediatamente. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/4t/mx/xx/4tmxxxgjb3e888bmekaqofdxhq8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As fontes do nosso sistema s√£o escritas principalmente em c #, mas tamb√©m existem servi√ßos no Go e Python. Nesse contexto, n√£o importa o que os outros servi√ßos na figura fazem. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rt/qw/pu/rtqwpuk7eea5fyotxyspnctk2iq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cada servi√ßo tem sua pr√≥pria implementa√ß√£o de cliente para trabalhar com o servi√ßo de armazenamento. Ao alterar contratos, voc√™ deve atualizar manualmente o c√≥digo em cada projeto.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gostaria de me afastar da atualiza√ß√£o manual para a autom√°tica. </font><font style="vertical-align: inherit;">Isso ajudar√° a aumentar a taxa na qual o c√≥digo do cliente √© alterado e reduz os erros. </font><font style="vertical-align: inherit;">Erros s√£o erros de digita√ß√£o no URL, erros devido a descuido, etc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No entanto, essa abordagem n√£o corrige erros na l√≥gica de neg√≥cios do cliente. </font><font style="vertical-align: inherit;">Voc√™ s√≥ pode ajust√°-lo manualmente.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Do problema √† tarefa</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No nosso caso, √© necess√°rio implementar </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a gera√ß√£o autom√°tica de c√≥digo do cliente. </font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ao fazer isso, o seguinte deve ser considerado:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lado do servidor - os controladores j√° est√£o gravados;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o navegador √© um cliente do servi√ßo;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os servi√ßos se comunicam por HTTP.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a gera√ß√£o deve ser ajustada. </font><font style="vertical-align: inherit;">Por exemplo, para suportar o JWT.</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quest√µes</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No decurso da solu√ß√£o do problema, surgiram perguntas:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">qual ferramenta escolher;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">como conseguir contratos;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">onde colocar os contratos;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">onde colocar o c√≥digo do cliente;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">em que ponto fazer a gera√ß√£o.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A seguir est√£o as respostas para essas perguntas.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qual ferramenta escolher</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As ferramentas para trabalhar com contratos s√£o apresentadas em duas dire√ß√µes - RPC e REST. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wy/3e/3k/wy3e3k54sqffxjda4tvynid6rcy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O RPC pode ser entendido apenas como uma chamada remota, enquanto o REST requer condi√ß√µes adicionais para verbos e URLs HTTP.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As diferen√ßas nas chamadas RPC e REST s√£o apresentadas aqui.</font></font></b>
                        <div class="spoiler_text"><div class="scrollable-table"><table>
<tbody><tr>
<td colspan="2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RPC - Chamada de procedimento remoto</font></font></td>
<td colspan="2">REST Representational State Transfer</td>
</tr>
<tr>
<td colspan="2">  </td>
<td colspan="2">, HTTP-  URL</td>
</tr>
<tr>
<td></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Restaurant</a>:8080/Orders/PlaceOrder</td>
<td>POST</td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Restaurant</a>:8080/Orders</td>
</tr>
<tr>
<td></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Restaurant</a>:8080/Orders/GetOrder?OrderNumber=1</td>
<td>GET</td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Restaurant</a>:8080/Orders/1</td>
</tr>
<tr>
<td></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Restaurant</a>:8080/Orders/UpdateOrder</td>
<td>PUT</td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Restaurant</a>:8080/Orders/1</td>
</tr>
</tbody></table></div><br>
</div>
                    </div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ferramentas</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A tabela mostra uma compara√ß√£o de ferramentas para trabalhar com REST e RPC.</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Propriedades</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Openapi</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wsdl</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thrift</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gRPC</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um tipo</font></font></td>
<td colspan="2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DESCANSAR</font></font></td>
<td colspan="2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rpc</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plataforma</font></font></td>
<td colspan="4"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N√£o depende</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L√≠ngua</font></font></td>
<td colspan="4"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N√£o depende</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sequ√™ncia de desenvolvimento *</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c√≥digo primeiro, especifica√ß√£o primeiro</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c√≥digo primeiro, especifica√ß√£o primeiro</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">especifique primeiro</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c√≥digo primeiro, especifica√ß√£o primeiro</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Protocolo de transporte</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTTP / 1.1</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">any (REST requer HTTP)</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pr√≥prio</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTTP / 2</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vis√£o</font></font></td>
<td colspan="2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">especifica√ß√£o</font></font></td>
<td colspan="2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">estrutura </font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comente</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Baixo limite de entrada, muita documenta√ß√£o</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redund√¢ncia XML, SOAP, etc.</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Limiar alto de entrada, pouca documenta√ß√£o</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Limite m√©dio de entrada, melhor documenta√ß√£o</font></font></td>
</tr>
</tbody></table></div><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√≥digo primeiro</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - primeiro escrevemos a parte do servidor e, em seguida, obtemos contratos. </font><font style="vertical-align: inherit;">√â conveniente quando o lado do servidor j√° est√° gravado. </font><font style="vertical-align: inherit;">N√£o h√° necessidade de descrever manualmente os contratos. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Especifique primeiro</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - primeiro definimos os contratos, depois obtemos a parte do cliente e a parte do servidor. </font><font style="vertical-align: inherit;">√â conveniente no in√≠cio do desenvolvimento quando ainda n√£o h√° c√≥digo. </font><font style="vertical-align: inherit;">
A </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sa√≠da</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> WSDL n√£o </font><b><font style="vertical-align: inherit;">√©</font></b><font style="vertical-align: inherit;"> adequada devido √† sua redund√¢ncia. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O Apache Thrift √© muito ex√≥tico e dif√≠cil de aprender.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O GRPC requer Net Core 3.0 e Net Standard 2.1. </font><font style="vertical-align: inherit;">No momento da an√°lise, o n√∫cleo l√≠quido 2.2 e o padr√£o l√≠quido 2.0 foram utilizados. </font><font style="vertical-align: inherit;">N√£o h√° suporte GRPC no navegador pronto para uso, √© necess√°ria uma solu√ß√£o adicional. </font><font style="vertical-align: inherit;">O GRPC usa a serializa√ß√£o bin√°ria Protobuf e HTTP / 2. </font><font style="vertical-align: inherit;">Por esse motivo, a variedade de utilit√°rios para testar APIs como o Postman etc. est√° diminuindo. </font><font style="vertical-align: inherit;">O teste de carga atrav√©s de algum JMeter pode exigir um esfor√ßo adicional. </font><font style="vertical-align: inherit;">N√£o √© adequado, a mudan√ßa para o GRPC requer muitos recursos. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O OpenAPI n√£o requer atualiza√ß√µes adicionais. </font><font style="vertical-align: inherit;">Ele cativa uma abund√¢ncia de ferramentas que suportam o trabalho com o REST e esta especifica√ß√£o. </font><font style="vertical-align: inherit;">N√≥s selecionamos.</font></font></b><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ferramentas para trabalhar com OpenAPI</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A tabela mostra uma compara√ß√£o de ferramentas para trabalhar com o OpenAPI.</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ferramentas</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">swashbuckle</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NSwag</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Openapitools</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vers√µes de especifica√ß√£o suportadas</font></font></td>
<td colspan="3"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pode gerar especifica√ß√µes no formato OpenApi v2, v3</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Primeiro c√≥digo de suporte</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">H√° sim</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">H√° sim</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N√£o</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idiomas de servidor suportados</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N√£o</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C #</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Muito de</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idiomas do cliente suportados</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N√£o</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API de C #, TypeScript, AngularJS, Angular (v2 +), window.fetch</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Muito de</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configura√ß√µes de gera√ß√£o</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N√£o</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">H√° sim</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">H√° sim</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vis√£o</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pacote de pepitas</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pacote Nuget + utilit√°rio separado</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Utilit√°rio separado</font></font></td>
</tr>
</tbody></table></div><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A conclus√£o do</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Swashbuckle n√£o √© adequada, porque </font><font style="vertical-align: inherit;">permite que voc√™ obtenha apenas a especifica√ß√£o. </font><font style="vertical-align: inherit;">Para gerar o c√≥digo do cliente, voc√™ precisa usar uma solu√ß√£o adicional. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O OpenApiTools √© uma ferramenta interessante com v√°rias configura√ß√µes, mas n√£o suporta c√≥digo primeiro. </font><font style="vertical-align: inherit;">Sua vantagem √© a capacidade de gerar c√≥digo de servidor em v√°rios idiomas. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O NSwag √© conveniente, pois √© um pacote Nuget. </font><font style="vertical-align: inherit;">√â f√°cil conectar-se ao criar um projeto. </font><font style="vertical-align: inherit;">Oferece suporte a tudo o que precisamos: primeira abordagem de c√≥digo e gera√ß√£o de c√≥digo de cliente em c #. </font><font style="vertical-align: inherit;">N√≥s selecionamos.</font></font></b><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Onde organizar contratos. </font><font style="vertical-align: inherit;">Como acessar servi√ßos para contratos</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui est√£o as solu√ß√µes para organizar o armazenamento do contrato. </font><font style="vertical-align: inherit;">As solu√ß√µes s√£o listadas em ordem crescente de complexidade.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A pasta do projeto de servi√ßo do provedor √© a op√ß√£o mais f√°cil. </font><font style="vertical-align: inherit;">Se voc√™ precisar executar a abordagem, escolha-a.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uma pasta compartilhada √© uma op√ß√£o v√°lida se os projetos desejados estiverem no mesmo reposit√≥rio. </font><font style="vertical-align: inherit;">A longo prazo, ser√° dif√≠cil manter a integridade dos contratos na pasta. </font><font style="vertical-align: inherit;">Isso pode exigir uma ferramenta adicional para explicar diferentes vers√µes de contratos, etc.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reposit√≥rio separado para especifica√ß√µes - se os projetos estiverem em reposit√≥rios diferentes, os contratos dever√£o ser colocados em um local p√∫blico. </font><font style="vertical-align: inherit;">As desvantagens s√£o as mesmas da pasta compartilhada.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">atrav√©s da API de servi√ßo (swagger.ui, swaggerhub) - um servi√ßo separado que lida com o gerenciamento de especifica√ß√µes.</font></font></li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Decidimos usar a op√ß√£o mais simples - armazenar contratos na pasta do projeto do provedor de servi√ßos. </font><font style="vertical-align: inherit;">Isso √© o suficiente para n√≥s nesta fase, ent√£o por que pagar mais?</font></font></b><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em que ponto voc√™ gera</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora voc√™ precisa decidir em que ponto executar a gera√ß√£o de c√≥digo. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se os contratos fossem compartilhados, os servi√ßos ao consumidor poderiam receb√™-los e gerar o c√≥digo, se necess√°rio. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Decidimos colocar os contratos na pasta com o projeto do provedor de servi√ßos. </font><font style="vertical-align: inherit;">Isso significa que a gera√ß√£o pode ser feita ap√≥s a montagem do pr√≥prio projeto de servi√ßo do fornecedor.</font></font></b><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Onde colocar o c√≥digo do cliente</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O c√≥digo do cliente ser√° gerado por contrato. </font><font style="vertical-align: inherit;">Resta descobrir onde coloc√°-lo. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parece uma boa ideia colocar o c√≥digo do cliente em um projeto StorageServiceClientProxy separado. </font><font style="vertical-align: inherit;">Cada projeto poder√° conectar esta montagem. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Benef√≠cios desta solu√ß√£o:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o c√≥digo do cliente est√° pr√≥ximo ao seu servi√ßo e est√° constantemente atualizado;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">os consumidores podem usar o link para o projeto em um reposit√≥rio.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Desvantagens:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n√£o funcionar√° se voc√™ precisar gerar um cliente em outra parte do sistema, por exemplo, um reposit√≥rio diferente. </font><font style="vertical-align: inherit;">√â resolvido usando pelo menos uma pasta compartilhada para contratos;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">os consumidores devem ser escritos no mesmo idioma. </font><font style="vertical-align: inherit;">Se voc√™ precisar de um cliente em outro idioma, precisar√° usar o OpenApiTools.</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prendemos NSwag</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Atributos do Controlador</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√â necess√°rio informar ao NSwag como gerar a especifica√ß√£o correta para nossos controladores. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para fazer isso, voc√™ precisa organizar os atributos.</font></font><br>
<br>
<pre><code class="cs hljs">[<span class="hljs-meta">Microsoft.AspNetCore.Mvc.Routing.Route(<span class="hljs-meta-string">"[controller]"</span>)</span>]  <span class="hljs-comment">//  url</span>
[<span class="hljs-meta">Microsoft.AspNetCore.Mvc.ApiController</span>] <span class="hljs-comment">//     </span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">DescriptionController</span> : <span class="hljs-title">ControllerBase</span> {<font></font>
[<span class="hljs-meta">NSwag.Annotations.OpenApiOperation(<span class="hljs-meta-string">"GetDescription"</span>)</span>] <span class="hljs-comment">//    </span>
[<span class="hljs-meta">Microsoft.AspNetCore.Mvc.ProducesResponseType(typeof(ConversionDescription), 200)</span>] <span class="hljs-comment">//    200  </span>
[<span class="hljs-meta">Microsoft.AspNetCore.Mvc.ProducesResponseType(401)</span>] <span class="hljs-comment">//    401</span>
[<span class="hljs-meta">Microsoft.AspNetCore.Mvc.ProducesResponseType(403)</span>] <span class="hljs-comment">//    403</span>
[<span class="hljs-meta">Microsoft.AspNetCore.Mvc.HttpGet(<span class="hljs-meta-string">"{pluginName}/{binaryDataId}"</span>)</span>] <span class="hljs-comment">//  url</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> ActionResult&lt;ConversionDescription&gt; <span class="hljs-title">GetDescription</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> pluginName, Guid binaryDataId</span>)</span> { 
 <span class="hljs-comment">// ... </span>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por padr√£o, o NSwag n√£o pode gerar a especifica√ß√£o correta para o tipo de aplicativo MIME / octet-stream. </font><font style="vertical-align: inherit;">Por exemplo, isso pode acontecer quando os arquivos s√£o transferidos. </font><font style="vertical-align: inherit;">Para corrigir isso, voc√™ precisa escrever seu atributo e processador para criar a especifica√ß√£o.</font></font><br>
<br>
<pre><code class="cs hljs">[<span class="hljs-meta">Microsoft.AspNetCore.Mvc.Route(<span class="hljs-meta-string">"[controller]"</span>)</span>]<font></font>
[<span class="hljs-meta">Microsoft.AspNetCore.Mvc.ApiController</span>]
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">FileController</span> : <span class="hljs-title">ControllerBase</span> {<font></font>
[<span class="hljs-meta">NSwag.Annotations.OpenApiOperation(<span class="hljs-meta-string">"SaveFile"</span>)</span>]<font></font>
[<span class="hljs-meta">Microsoft.AspNetCore.Mvc.ProducesResponseType(401)</span>]<font></font>
[<span class="hljs-meta">Microsoft.AspNetCore.Mvc.ProducesResponseType(403)</span>]<font></font>
[<span class="hljs-meta">Microsoft.AspNetCore.Mvc.HttpPost(<span class="hljs-meta-string">"{pluginName}/{binaryDataId}/{fileName}"</span>)</span>]<font></font>
[<span class="hljs-meta">OurNamespace.FileUploadOperation</span>] <span class="hljs-comment">//  </span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">SaveFile</span>(<span class="hljs-params"></span>)</span> { <span class="hljs-comment">// ... }</span>
</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Processador para gerar especifica√ß√µes para opera√ß√µes de arquivo</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A ideia √© que voc√™ possa escrever seu atributo e processador para lidar com esse atributo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Penduramos o atributo no controlador e, quando o NSwag o encontrar, ele o processar√° usando nosso processador. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para implementar isso, o NSwag fornece as classes OpenApiOperationProcessorAttribute e IOperationProcessor. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em nosso projeto, fizemos nossos herdeiros:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FileUploadOperationAttribute: OpenApiOperationProcessorAttribute</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FileUploadOperationProcessor: IOperationProcessor</font></font></li>
</ul><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Leia mais sobre o uso de processadores aqui.</font></font></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configura√ß√£o do NSwag para gera√ß√£o de especifica√ß√µes e c√≥digos</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nas 3 se√ß√µes principais da configura√ß√£o:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tempo de execu√ß√£o - Especifica o tempo de execu√ß√£o .net. </font><font style="vertical-align: inherit;">Por exemplo, NetCore22;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">documentGenerator - descreve como gerar uma especifica√ß√£o;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">codeGenerators - define como gerar c√≥digo de acordo com a especifica√ß√£o.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O NSwag cont√©m v√°rias configura√ß√µes, o que √© confuso no in√≠cio. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por conveni√™ncia, voc√™ pode usar o NSwag Studio. </font><font style="vertical-align: inherit;">Com ele, √© poss√≠vel ver em tempo real como v√°rias configura√ß√µes afetam o resultado da gera√ß√£o ou das especifica√ß√µes do c√≥digo. </font><font style="vertical-align: inherit;">Depois disso, selecione manualmente as configura√ß√µes selecionadas no arquivo de configura√ß√£o. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Leia mais sobre as configura√ß√µes aqui</font></font></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Geramos a especifica√ß√£o e o c√≥digo do cliente ao montar o projeto do provedor de servi√ßos</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para que ap√≥s a montagem do projeto do provedor de servi√ßos, a especifica√ß√£o e o c√≥digo sejam gerados, fa√ßa o seguinte:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Criamos um projeto WebApi para o cliente.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Escrevemos uma configura√ß√£o para o Nswag CLI - Nswag.json (descrito na se√ß√£o anterior).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Escrevemos um destino PostBuild dentro do projeto do provedor de servi√ßos csproj.</font></font></li>
</ol><br>
<code>&lt;Target Name="GenerateWebApiProxyClient‚Äú AfterTargets="PostBuildEvent"&gt;<br>
&lt;Exec Command="$(NSwagExe_Core22) run nswag.json‚Äù/&gt;<br>
</code><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ (NSwagExe_Core22) execute nswag.json - execute o utilit√°rio NSwag em .bet runtine netCore 2.2 com a configura√ß√£o nswag.json </font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O destino faz o seguinte:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O NSwag gera uma especifica√ß√£o de um assembly de servi√ßo do fornecedor.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O NSwag gera o c√≥digo do cliente conforme a especifica√ß√£o.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ap√≥s cada montagem do projeto do provedor de servi√ßos, o projeto do cliente √© atualizado. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O projeto do cliente e do provedor de servi√ßos est√° na mesma solu√ß√£o. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A montagem ocorre como parte da solu√ß√£o. </font><font style="vertical-align: inherit;">A solu√ß√£o est√° configurada para que o projeto do cliente seja montado ap√≥s o projeto de servi√ßo do fornecedor. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O NSwag tamb√©m permite que voc√™ personalize imperativamente a especifica√ß√£o / gera√ß√£o de c√≥digo atrav√©s da API do software.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como adicionar suporte ao JWT</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Precisamos proteger nosso servi√ßo contra solicita√ß√µes n√£o autorizadas. </font><font style="vertical-align: inherit;">Para isso, usaremos tokens JWT. </font><font style="vertical-align: inherit;">Eles devem ser enviados nos cabe√ßalhos de cada solicita√ß√£o HTTP para que o provedor de servi√ßos possa verific√°-los e decidir se deve ou n√£o atender √† solicita√ß√£o. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais informa√ß√µes sobre JWT aqui </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jwt.io</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A tarefa se resume √† necessidade de modificar os cabe√ßalhos da solicita√ß√£o HTTP de sa√≠da. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para fazer isso, o gerador de c√≥digo NSwag pode gerar um ponto de extens√£o - o m√©todo CreateHttpRequestMessageAsync. </font><font style="vertical-align: inherit;">Dentro deste m√©todo, h√° acesso √† solicita√ß√£o HTTP antes de ser enviada.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exemplo de c√≥digo</font></font></b>
                        <div class="spoiler_text"><pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">protected</span> Task&lt;HttpRequestMessage&gt; <span class="hljs-title">CreateHttpRequestMessageAsync</span>(<span class="hljs-params">CancellationToken cancellationToken</span>)</span> {
      <span class="hljs-keyword">var</span> message = <span class="hljs-keyword">new</span> HttpRequestMessage();<font></font>
<font></font>
      <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">string</span>.IsNullOrWhiteSpace(<span class="hljs-keyword">this</span>.AuthorizationToken)) {<font></font>
        message.Headers.Authorization =<font></font>
          <span class="hljs-keyword">new</span> System.Net.Http.Headers.AuthenticationHeaderValue(BearerScheme, <span class="hljs-keyword">this</span>.AuthorizationToken);<font></font>
      }<font></font>
<font></font>
      <span class="hljs-keyword">return</span> Task.FromResult(message);<font></font>
    }<font></font>
</code></pre><br>
</div>
                    </div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclus√£o</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Escolhemos a op√ß√£o com OpenAPI, porque </font><font style="vertical-align: inherit;">√â f√°cil de implementar, e as ferramentas para trabalhar com esta especifica√ß√£o s√£o altamente desenvolvidas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Conclus√µes sobre OpenAPI e GRPC: </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenAPI</font></font></b><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a especifica√ß√£o √© detalhada;</font></font></li>
<li>          ,  ;</li>
<li>     ;</li>
<li>    .</li>
</ul><br>
<b>GRPC</b><br>
<br>
<ul>
<li>  ,      URL, HTTP  ..;</li>
<li>      OpenAPI;</li>
<li>    ;</li>
<li>           ;</li>
<li>     HTTP/2.</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Assim, recebemos uma especifica√ß√£o baseada no c√≥digo j√° escrito dos controladores. </font><font style="vertical-align: inherit;">Para fazer isso, era necess√°rio travar atributos especiais nos controladores. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, com base nas especifica√ß√µes recebidas, implementamos a gera√ß√£o do c√≥digo do cliente. </font><font style="vertical-align: inherit;">Agora n√£o precisamos atualizar manualmente o c√≥digo do cliente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estudos foram realizados na √°rea de contratos de vers√£o e teste. </font><font style="vertical-align: inherit;">No entanto, n√£o foi poss√≠vel testar tudo na pr√°tica devido √† falta de recursos.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Controle de vers√£o de contratos p√∫blicos</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por que versionar contratos p√∫blicos?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ap√≥s altera√ß√µes nos provedores de servi√ßos, todo o sistema deve permanecer em um estado operacional consistente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Altera√ß√µes de quebra na API p√∫blica devem ser evitadas para n√£o prejudicar os clientes.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Op√ß√µes de solu√ß√£o</font></font></h3><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sem controle de vers√£o de contratos p√∫blicos</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A pr√≥pria equipe do provedor de servi√ßos corrige os servi√ßos ao consumidor. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/f0/k3/_6/f0k3_6ed1gt10sz1k5ol2brrj80.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Essa abordagem n√£o funcionar√° se a equipe do provedor de servi√ßos n√£o tiver acesso aos reposit√≥rios de servi√ßos ao consumidor ou n√£o possuir compet√™ncias. </font><font style="vertical-align: inherit;">Se n√£o houver esses problemas, voc√™ poder√° ficar sem o controle de vers√£o.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/-8/dd/ri/-8ddri4wch4oiugyd2bvz28zvzk.png"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usar controle de vers√£o de contratos p√∫blicos</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A equipe do provedor de servi√ßos deixa a vers√£o anterior dos contratos. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/-v/xg/e9/-vxge9yyrzws2i3lbm5b6rrvbyq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Essa abordagem n√£o apresenta os inconvenientes da anterior, mas acrescenta outras dificuldades. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ precisa decidir o seguinte:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">qual ferramenta usar;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quando introduzir uma nova vers√£o;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quanto tempo manter vers√µes antigas.</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qual ferramenta usar</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A tabela mostra os recursos do OpeanAPI e GRPC associados ao controle de vers√£o.</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gRPC</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Openapi</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Atributo de vers√£o</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No n√≠vel do protobuf, h√° um pacote de atributos [packageName]. [Version]</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No n√≠vel de especifica√ß√£o, existem os atributos basePath (para URL) e Vers√£o</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Atributo preterido para m√©todos</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sim, mas n√£o levado em considera√ß√£o pelo gerador de c√≥digo em C #</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sim, est√° marcado como Obsoleto.O </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NSwag n√£o √© suportado com o c√≥digo primeiro, voc√™ precisa escrever seu processador</font></font><br>
</td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Atributo preterido para par√¢metros</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Est√° marcado como obsoleto</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sim, est√° marcado como Obsoleto.O </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NSwag n√£o √© suportado com o c√≥digo primeiro, voc√™ precisa escrever seu processador</font></font><br>
</td>
</tr>
</tbody></table></div><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Preterido</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> significa que essa API n√£o vale mais a pena usar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ambas as ferramentas oferecem suporte √† vers√£o e aos atributos preteridos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se voc√™ usar o OpenAPI e a primeira abordagem de c√≥digo, novamente precisar√° escrever processadores para criar a especifica√ß√£o correta.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quando introduzir uma nova vers√£o</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A nova vers√£o deve ser introduzida quando altera√ß√µes nos contratos n√£o preservam a compatibilidade com vers√µes anteriores. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como verificar se as altera√ß√µes violam a compatibilidade entre as vers√µes nova e antiga dos contratos?</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para OpenAPI, existe uma ferramenta opeanapi-diff do Azure para verificar a compatibilidade entre duas especifica√ß√µes </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/Azure/openapi-diff;</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nenhuma ferramenta autom√°tica foi encontrada para o gRPC, existem apenas pol√≠ticas de vers√£o; </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">general </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/grpc/grpc/blob/master/doc/versioning.md;</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">em .Net </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">docs.microsoft.com/en-us/aspnet/core/grpc/versioning?view=aspnetcore-3.1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quanto tempo manter as vers√µes</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N√£o h√° resposta certa para essa pergunta. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para remover o suporte para a vers√£o antiga, voc√™ precisa saber quem usa seu servi√ßo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ser√° ruim se a vers√£o for removida e algu√©m a usar. </font><font style="vertical-align: inherit;">√â especialmente dif√≠cil se voc√™ n√£o controla seus clientes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ent√£o, o que pode ser feito nessa situa√ß√£o?</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">notifique os clientes que a vers√£o antiga n√£o ser√° mais suportada. </font><font style="vertical-align: inherit;">Nesse caso, podemos perder a receita do cliente;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">suporta todo o conjunto de vers√µes. </font><font style="vertical-align: inherit;">O custo do suporte de software est√° aumentando;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para responder a essa pergunta, voc√™ precisa perguntar √† empresa - a receita de clientes antigos excede o custo de suporte a vers√µes antigas de software? </font><font style="vertical-align: inherit;">Poderia ser mais rent√°vel pedir aos clientes para atualizar?</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O √∫nico conselho nessa situa√ß√£o √© prestar mais aten√ß√£o aos contratos p√∫blicos, a fim de reduzir a frequ√™ncia de suas altera√ß√µes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se contratos p√∫blicos forem usados ‚Äã‚Äãem um sistema fechado, voc√™ poder√° usar a abordagem CDC. </font><font style="vertical-align: inherit;">Para que possamos descobrir quando os clientes deixaram de usar vers√µes mais antigas do software. </font><font style="vertical-align: inherit;">Depois disso, voc√™ pode remover o suporte da vers√£o antiga.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclus√£o</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Use controle de vers√£o somente se voc√™ n√£o puder ficar sem ele. </font><font style="vertical-align: inherit;">Se voc√™ decidir usar o controle de vers√£o, ao criar contratos, considere a compatibilidade de vers√£o. </font><font style="vertical-align: inherit;">√â preciso encontrar um equil√≠brio entre o custo do suporte a vers√µes mais antigas e os benef√≠cios que ela oferece. </font><font style="vertical-align: inherit;">Tamb√©m vale a pena decidir quando voc√™ pode parar de oferecer suporte √† vers√£o antiga.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Testando contratos e CDC</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta se√ß√£o √© iluminada superficialmente, como </font><font style="vertical-align: inherit;">N√£o h√° pr√©-requisitos s√©rios para a implementa√ß√£o dessa abordagem.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contratos orientados ao consumidor (CDC)</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O CDC √© a resposta para a quest√£o de como garantir que o fornecedor e o consumidor usem os mesmos contratos. </font><font style="vertical-align: inherit;">Esses s√£o alguns tipos de testes de integra√ß√£o destinados a verificar contratos. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A ideia √© a seguinte:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O consumidor descreve o contrato.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O fornecedor implementa este contrato em casa.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Este contrato √© usado no processo de IC no consumidor e fornecedor. </font><font style="vertical-align: inherit;">Se o processo for violado, algu√©m deixou de cumprir o contrato.</font></font></li>
</ol><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pacto</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O PACT √© uma ferramenta que implementa essa ideia.</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O consumidor grava testes usando a biblioteca PACT.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Esses testes s√£o convertidos em um arquivo de artefato-pacto. </font><font style="vertical-align: inherit;">Ele cont√©m informa√ß√µes sobre os contratos.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O provedor e o consumidor usam o arquivo pacto para executar os testes.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Durante os testes do cliente, um stub do provedor √© criado e, durante os testes do fornecedor, um stub do cliente √© criado. </font><font style="vertical-align: inherit;">Ambos os stubs usam um arquivo pacto. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comportamento semelhante de cria√ß√£o de stub pode ser alcan√ßado atrav√©s do Swagger Mock Validator </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bitbucket.org/atlassian/swagger-mock-validator/src/master</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Links √∫teis sobre o Pacto</font></font></h3><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pact broker - solu√ß√£o de gerenciamento de arquivos pact </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">docs.pact.io/pact_broker</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O Pacto ainda n√£o suporta GRPC. </font><font style="vertical-align: inherit;">Leia mais sobre o roteiro Pacto </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pact.canny.io</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mais informa√ß√µes sobre PACT em </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">docs.pact.io</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por que voc√™ deve usar o PACT </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">docs.pact.io/faq/convinceme</font></font></a></li>
</ul><br>
<img src="https://habrastorage.org/webt/0u/qv/-f/0uqv-fhceairtmtcfyv6fy9b-xg.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como o CDC pode ser incorporado no IC</font></font></h3><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">implantar o Pact + Pact broker;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adquira uma solu√ß√£o SaaS Pact Flow pronta para uso.</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclus√£o</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√â necess√°rio pacto para garantir a conformidade do contrato. </font><font style="vertical-align: inherit;">Ele mostrar√° quando altera√ß√µes nos contratos violam as expectativas dos servi√ßos ao consumidor. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Essa ferramenta √© adequada quando o fornecedor se adapta ao cliente - o cliente. </font><font style="vertical-align: inherit;">Isso s√≥ √© poss√≠vel dentro de um sistema isolado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se voc√™ est√° prestando um servi√ßo para o mundo exterior e n√£o sabe quem s√£o seus clientes, o Pact n√£o √© para voc√™.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt502636/index.html">Neg√≥cios e cyberpunk: misture, mantenha, use</a></li>
<li><a href="../pt502638/index.html">Como desenvolver um blog no Instagram em 2020: an√°lise do caso de Sasha Mitroshina</a></li>
<li><a href="../pt502642/index.html">Colocando o jogo "Cobra" na t√°bua de p√£o. Parte 2: exibi√ß√£o "vetor"</a></li>
<li><a href="../pt502644/index.html">Como Sherpaa transmitiu expectativas irreais de capital de risco</a></li>
<li><a href="../pt502648/index.html">Os 10 principais equ√≠vocos sobre como transportar o Hadoop para a nuvem</a></li>
<li><a href="../pt502654/index.html">Jack Ma tem muitos erros em ingl√™s, mas suas habilidades de falar s√£o mais altas que a maioria dos estudantes. Por que √© que?</a></li>
<li><a href="../pt502656/index.html">Microminiaturiza√ß√£o: semicondutor magn√©tico de dois √°tomos</a></li>
<li><a href="../pt502660/index.html">Como traduzir "participa√ß√£o" / "participantes" sem parte / participa√ß√£o</a></li>
<li><a href="../pt502662/index.html">Vida cotidiana "alquimista"</a></li>
<li><a href="../pt502666/index.html">Montagem 486 - sele√ß√£o de componentes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>