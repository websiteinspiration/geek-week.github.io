<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>✋🏿 🆑 🌲 VPN-Killer. Richtiger Fernzugriff auf Kampfserver 👩🏻‍⚖️ 🅾️ 👁️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Die in diesem Artikel geäußerte Meinung ist die persönliche Meinung des Autors. Er betont, dass dies möglicherweise nicht mit der Meinung seines Arbei...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>VPN-Killer. Richtiger Fernzugriff auf Kampfserver</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/vdsina/blog/491962/"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die in diesem Artikel geäußerte Meinung ist die persönliche Meinung des Autors. </font><font style="vertical-align: inherit;">Er betont, dass dies möglicherweise nicht mit der Meinung seines Arbeitgebers, seiner Vorgesetzten und der Sicherheitsabteilung übereinstimmt. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eines der coolsten Dinge in unserem Unternehmen in Bezug auf die Infrastruktur ist die Implementierung des Fernzugriffs. </font><font style="vertical-align: inherit;">Dies ist nur super-mega-geschützte Magie. </font><font style="vertical-align: inherit;">Ich habe mit vielen meiner Sicherheitskollegen und Auditoren gesprochen, und es scheint, dass wir versehentlich eine ganz neue Geschichte erfunden haben, indem wir kommerzielle Lösungen und unsere Software gemischt haben. </font><font style="vertical-align: inherit;">Daher dachte ich, es wäre interessant, tief in die technischen Details einzutauchen, wie die Branche mit veralteten Fernzugriffslösungen arbeitet und wie wir sie implementieren.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gute Person VPN wird nicht beraten</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich beginne mit einer starken Aussage: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alle VPNs sind Müll</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VPN kann wie andere digitale Technologien so konfiguriert werden, dass die Welt nicht untergeht, wenn es gehackt wird. </font><font style="vertical-align: inherit;">Das macht aber niemand ... aber theoretisch können sie! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In 99,95% der Fälle ist das VPN konfiguriert für:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erstellen einer Netzwerkbrücke zwischen dem Gerät (Laptop oder einem anderen Server)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">... und ein größeres Netzwerk von Servern (beispielsweise in der Wolke oder </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">on-prem</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">... und das Internet, geschützt durch eine zusätzliche Verschlüsselungsebene</font></font></li>
</ol><br>
<img src="https://habrastorage.org/webt/jx/nd/df/jxnddfmvj_3nujlmacixtdz3nbq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das ist keine gute Idee. Stellen Sie sich vor, ein Virus hat sich auf Ihrem Laptop niedergelassen und Sie stellen über VPN eine Verbindung zu einem Netzwerk von Kampfservern her? Ta Dam! Der Virus hat jetzt LAN-Zugriff auf Ihre Produktion. Was ist am Auspuff? Traurigkeit. Viel Traurigkeit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Okay, nehmen wir an, der Virenfall ist weit hergeholt. Aber was ist mit der Tatsache, dass ein Hacker das VPN selbst infiltrieren kann, beispielsweise mithilfe einer Sicherheitsanfälligkeit in dem Gerät oder der Software, auf der das VPN funktioniert? Haben Sie sich also direkt in das Zielnetzwerk begeben? Dies ist eine ernste Angelegenheit und weit davon entfernt, zu theoretisieren. Weitere Informationen finden Sie in dem Artikel darüber, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wie Heartbleed zum Erfassen von VPN</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mithilfe des Angriffsvektors verwendet wurde, vor dem ich direkt </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in meinem Blog</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gewarnt </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">habe</font></a><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vor nicht allzu langer Zeit gab es weltweit eine Welle von VPN-Schwachstellen, die </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">von Cyberkriminellen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sofort </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">genutzt wurden</font></a><font style="vertical-align: inherit;"> , um Zugang zu </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">Zielnetzwerken</font></a><font style="vertical-align: inherit;"> zu erhalten. </font><font style="vertical-align: inherit;">Aber das ist nicht überraschend, oder? </font><font style="vertical-align: inherit;">Diese Systeme "schauen" direkt in das Netzwerk, ohne dass andere Schutzmechanismen vor ihnen liegen. </font><font style="vertical-align: inherit;">Fixes und Patches werden normalerweise nicht automatisch angewendet und beinhalten proprietäre Mechanismen, die von proprietärer Software gesteuert werden, die auf einem proprietären Betriebssystem ausgeführt wird. </font><font style="vertical-align: inherit;">Nun, viel Glück dort. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ist es schwierig, diese VPN-Geräte zu finden? </font><font style="vertical-align: inherit;">Bevor ich diesen Artikel geschrieben habe, habe ich es nie versucht, daher wusste ich es nicht genau. </font><font style="vertical-align: inherit;">Etwa eine halbe Stunde in </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Shodan.io</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und bitte - ein paar wichtige Ergebnisse aus der Ausgabe:</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thomson Reuters</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ist ein 41-Milliarden-Dollar-Unternehmen mit 26.000 Mitarbeitern, von denen die Hälfte aus Finanzdienstleistungen stammt.</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SAP Concur</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ist ein Reisemanagement-Service, der eine Reihe von persönlichen Daten und Zahlungsdaten aller Art liefert.</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Progressive Insurance</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - persönliche Daten und persönliche medizinische Informationen, zusammen mit einigen Zahlungsdaten.</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chevron Phillips Chemical</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - der Name spricht für sich.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nun, das ist wahrscheinlich nicht sehr gut. </font><font style="vertical-align: inherit;">Wenn diese Dinge so leicht zu finden sind, scheint es nicht die perfekte Lösung zu sein, sie online zu stellen. </font><font style="vertical-align: inherit;">Haben wir eine andere Wahl?</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kein Vertrauen</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zero Trust [wörtlich: „Zero Trust“] - Im Wesentlichen bedeutet dies, dass Sie jede Verbindung autorisieren und nicht davon ausgehen, dass einige von ihnen vertrauenswürdig sind, da sie sich bereits in Ihrem Netzwerk befinden. </font><font style="vertical-align: inherit;">Wenn Sie diesen Begriff besser verstehen und Ihren Geschäftsansatz überdenken möchten, lesen Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diesen Artikel über Network World</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (entschuldigen Sie eine weitere schamlose Selbst-PR). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben die </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Okta Advanced Server Access</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (OASA) -Lösung gekauft, um die Zero-Trust-Autorisierung auf Kampfservern einzuführen. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OASA ist</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> aus drei Gründen cool:</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Dies ist nur ein Wrapper um die Konfiguration von OpenSSH auf Steroiden</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unter der Haube ist die OASA-Plattform eine gut verwaltete Bereitstellung von OpenSSH (der gleiche ssh-Befehl in Ihrer Konsole). </font><font style="vertical-align: inherit;">Und OpenSSH ist eine äußerst bewährte und sichere Remoteverwaltungslösung. </font><font style="vertical-align: inherit;">Übrigens hat OpenSSH seit 2003 keine einzige Sicherheitsanfälligkeit mehr, die in der Standardkonfiguration zu unbefugtem Remotezugriff führen könnte. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Einstiegspunkte in diesem Schema sind reguläre Amazon Linux 2 EC2-Instanzen. Daher ist der Angriffsbereich extrem klein. </font><font style="vertical-align: inherit;">Denken Sie daran: Eines der Hauptprobleme bei der Verwendung eines VPN sind die proprietären Software- / Betriebssystemkonfigurationen, die automatische Patches verhindern. </font><font style="vertical-align: inherit;">Die Möglichkeit, unsere Netzwerkeintrittspunkte zusammen mit dem Rest der Infrastruktur zu aktualisieren, ist ein großer Gewinn.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Es gibt keine Netzwerkbrücken</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie oben erwähnt, sind die meisten VPNs so konfiguriert, dass sie eine Netzwerkbrücke zwischen einem Netzwerkgerät wie einem Laptop und einem Netzwerk von Servern im Internet herstellen. Eine meiner schmerzhaftesten Stellen bei VPNs ist, dass sie den gesamten Netzwerkverkehr abfangen. Sie können natürlich ein anderes Verhalten konfigurieren, aber unsere Clients und die Sicherheitsprotokolle </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NIST 800-53 SC-7 (7)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> erfordern normalerweise genau das. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies ist ein gutes Beispiel dafür, wie weit einige Sicherheitsmaßnahmen hinter der Branchenentwicklung zurückliegen. In der Welt der alten Schule könnte VPN die einzige Schicht für die Verschlüsselung des Datenverkehrs sein. Auditoren glauben manchmal, dass Sie Ihre Daten ohne VPN-Schutz über unverschlüsselte Kanäle senden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zum Glück gibt es einen besseren Weg. Im OASA-Modell wird individuell eine Verbindung zwischen Ihnen und dem Server hergestellt. Als Antwort auf die Anforderung "Ich möchte mich bei der EC2-Instanz i-028d62efa6f0b36b5 anmelden" stellt Ihr System beispielsweise eine Verbindung zum Eingabepunkt des Netzwerks und dann zum Zielserver her. OASA schützt diese Verbindungen auch, indem zehnminütige Client-Zertifikate nach der ersten Überprüfung Ihrer Daten durch </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SSO ausgestellt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> werden und anschließend überprüft wird, ob Sie sich auf dem beabsichtigten (und bestätigten) vertrauenswürdigen Gerät befinden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt wenig Freiheit, das Netz zu durchstreifen. </font><font style="vertical-align: inherit;">Ein Administrator kann einen Netzwerkeintrittspunkt eingeben und Ports an ein anderes Ziel weiterleiten. Diese Funktion ist jedoch standardmäßig deaktiviert und sollte beim Herstellen einer Verbindung explizit angefordert werden. </font><font style="vertical-align: inherit;">Und das Beste daran ist, dass niemand von mir verlangt, den gesamten Datenverkehr durch die Virtual Private Cloud zu transportieren, da dies nicht als „VPN“ bezeichnet wird.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. Dedizierter Netzwerkzugriff und zufällige IP</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diese Netzwerkeintrittspunkte werden für jede Virtual Private Cloud separat bereitgestellt (z. B. einer für Prod, einer für Staging, einer für Dev usw.). Darüber hinaus wird jeder von ihnen von unserer Sicherheitslösung genau überwacht, die alle Aktivitäten protokolliert und den Datenverkehr filtert. Befindet sich der Cracker in einem der Einstiegspunkte, funktioniert auch etwas nicht. In jedem Fall erlaubt unser Sicherheitsschema keinen Zugriff auf geschützte Ressourcen, nur weil Sie sich bereits in der Virtual Private Cloud befinden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Einer meiner Lieblingsabwehrmechanismen ist zufällig aufgetaucht. </font><font style="vertical-align: inherit;">Als wir mit der Konfiguration der Einstiegspunkte begannen, wurde jeder für eine statische IP-Adresse von AWS konfiguriert. </font><font style="vertical-align: inherit;">Sehr schnell stellten wir fest, dass diese IP-Adressen manchmal nicht zum richtigen Zeitpunkt an EC2-Instanzen gebunden waren, was zu einer falschen OASA-Selbstkonfiguration führen konnte. </font><font style="vertical-align: inherit;">Nachdem ich die Freuden eines Dutzend verschiedener Korrekturen in der Produktion erlebt hatte, konnte ich es nicht ertragen und löschte einfach die ganze Geschichte über statische IPs - und es funktionierte. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/8b/jb/bj/8bjbbj8qux60kjwmdjyqjihqgiw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
OASA benötigt lediglich eine mit dem Internet verbundene IP-Adresse, die nicht im Voraus bekannt sein muss. </font><font style="vertical-align: inherit;">Wenn der Client bereit ist, eine Verbindung herzustellen, wird eine eindeutige GUID angefordert, mit deren Hilfe die IP ermittelt wird:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Benutzer: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich möchte mich anmelden, um eine Verbindung zu vpc-99f2acff herzustellen</font></font></i></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OASA-Client-Anwendung: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich habe vpc-99f2acff als bekannten Server mit der GUID 25af5d4f-e657-4583-b0bd-beb1ca4f0c1f definiert</font></font></i></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OASA-Server: Auf </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">K 25af5d4f-e657-4583-b0bd-beb1ca4f0c1f kann unter 3.22.198.24 zugegriffen werden. Hier sind die Zertifikate</font></font></i></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OASA-Client-Anwendung: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zertifikate installiert, Verbindung zu 3.22.198.24 über SSH ...</font></font></i></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies bedeutet, dass jede Instanz unserer Einstiegspunktinfrastruktur (ein </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">separater Beitrag</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , auf den Sie aufmerksam gemacht werden) mit einem völlig neuen Satz von IP-Adressen geliefert wird. </font><font style="vertical-align: inherit;">Daher müssen zufällige Hacker nach einer IP unter zig Millionen suchen, und ihre Zahl wächst von Tag zu Tag. </font><font style="vertical-align: inherit;">Leider ist diese Suche für sie völlig vergeblich, dank ...</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Klopfen des Unternehmensports</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Port-Klopfen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> [wörtlich: Klopfen an Ports] ist eine Sache, die im Prinzip in der realen Welt niemand verwendet, deren Konfiguration jedoch sehr viel Spaß macht. Kurz gesagt, das Klopfen von Ports ist eine Folge von "Unebenheiten" an verschiedenen geschlossenen Netzwerkports. Wenn die Sequenz korrekt wiederholt wird, öffnet sich der "echte" Port für Ihre IP. Elegant, aber bei großen Projekten unpraktisch. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich war von der Idee inspiriert und dachte darüber nach, wie ich die Idee verbessern kann. So wurde die Lösung geboren, die ich </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enterprise Port Knocking</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nenne </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich wollte einen Mechanismus schaffen, der die Nähe unserer Einstiegspunkte zum Internet garantiert, bis jemand darauf zugreifen kann. Dieser Mechanismus sollte einfach zu bedienen, zuverlässig und auf vorhandene Weise authentifiziert sein.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich skizzierte die Architektur des Mechanismus und ging mit ihr zu unserem unglaublich talentierten Team von Ingenieuren. </font><font style="vertical-align: inherit;">Ein paar Wochen später fingen wir an. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Service ist recht einfach und wird als AWS Lambda-Funktion bereitgestellt. Der Zugriff darauf erfolgt über das AWS API Gateway (die Freude an der Architektur ohne Server!). Für eine einfache und zuverlässige Verwendung. </font><font style="vertical-align: inherit;">Der Mechanismus funktioniert folgendermaßen:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Benutzer wird erfolgreich über SSO authentifiziert.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Anwendung umgeht konfigurierte AWS-Konten auf der Suche nach einer speziell gekennzeichneten Sicherheitsgruppe (AWS-Konzept für Firewall-Regeln).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Anwendung aktualisiert die Sicherheitsgruppe und ermöglicht den Zugriff auf die IP-Adresse des Anforderers. </font><font style="vertical-align: inherit;">Eine Regel in der Sicherheitsgruppe speichert auch den Zeitstempel zum Hinzufügen.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Cron-Task löscht die Liste der zulässigen IPs in jedem angegebenen Zeitraum.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dank dieser Situation verfügen wir jetzt über eine RAS-Lösung, die vollständig für das Internet geschlossen ist und eine Zwei-Faktor-Authentifizierung über unsere Benutzerdatenbank erfordert, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bevor der Port in der Firewall geöffnet wird</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Und es ist einfach!</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe noch nicht angesprochen, wie einfach diese Mechanismen funktionieren. </font><font style="vertical-align: inherit;">Ich weiß, dass es viele Komponenten gibt, aber zusammen bilden sie eine sehr einfache Berechtigung:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Melden Sie sich über SSO an.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Klicken Sie im SSO-Portal auf den Start von Enterprise Port Knocking.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Geben Sie im Terminal mit dem Befehl SSH das Ziel als ID der Ziel-EC2-Instanz an. </font><font style="vertical-align: inherit;">Das OASA-System ist intelligent genug, um herauszufinden, welcher Einstiegspunkt verwendet werden soll, und alles andere geschieht automatisch!</font></font></li>
</ol><br>
<img src="https://habrastorage.org/webt/p4/ho/t0/p4hot0sae_e-5bywuqqbwsc2juo.gif"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieses gesamte System ist ein großer Sieg für unsere Infrastruktur, für die Einhaltung aller Sicherheitsvereinbarungen und für die Sicherheit unserer Kunden. </font><font style="vertical-align: inherit;">Benutzer mögen es wirklich, wie einfach es ist, eine Verbindung zu unseren Servern herzustellen, da Sie keine zusätzliche Authentifizierung durchführen oder sich merken müssen, welches VPN verwendet werden soll. </font><font style="vertical-align: inherit;">Und ich mag meinen ruhigen Schlaf sehr. </font><font style="vertical-align: inherit;">Alle haben vom neuen Modell gewonnen! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na ja, bis auf die Hacker natürlich.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/9fa/cf4/a34/9facf4a348ef01048b4eb5e16ae66daa.png"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de491946/index.html">Gesetze der Programmierung</a></li>
<li><a href="../de491948/index.html">Design-Token können mehr: Sie können eine einzige Informationsquelle über UI-Komponenten erstellen</a></li>
<li><a href="../de491956/index.html">Rust 1.42.0 Release: Slice-Vorlagen und bequemere Panikmeldungen</a></li>
<li><a href="../de491958/index.html">Handbuch zur Komprimierung von Skelettanimationen</a></li>
<li><a href="../de491960/index.html">Ära, in der es schwer ist, sich zu verlaufen</a></li>
<li><a href="../de491964/index.html">Remotecodeausführung in SMB v3: CVE-2020-0796</a></li>
<li><a href="../de491974/index.html">Coronavirus: Warum müssen Sie jetzt handeln?</a></li>
<li><a href="../de491976/index.html">Wir drehen die UNIT-Wirtschaft für einen Online-Shop oder eine Produktion</a></li>
<li><a href="../de491980/index.html">Die Vorteile von Interviews. Flutter Developer Option</a></li>
<li><a href="../de491984/index.html">Flughafenautomatisierung bei HEL</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>