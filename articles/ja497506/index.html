<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍚 👸 ⚖️ LaravelでリモートコマンドのToDoを作成する 👨🏾‍💼 💀 👩🏾‍🍳</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="敬礼、ハブロフスク。次の記事は、私たちの定期的な読者の1人によって書かれたものであり、間違いなくハードコアな素材であるとは主張していませんが、初心者向けのチュートリアルとして役立つでしょう。コメントでの記事に関するあなたの意見を聞くのを楽しみにしています。よりハードコアな知識を得るために、Frame...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>LaravelでリモートコマンドのToDoを作成する</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/497506/"><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">敬礼、ハブロフスク。</font><font style="vertical-align: inherit;">次の記事は、私たちの定期的な読者の1人によって書かれたものであり、間違いなくハードコアな素材であるとは主張していませんが、初心者向けのチュートリアルとして役立つでしょう。</font><font style="vertical-align: inherit;">コメントでの記事に関するあなたの意見を聞くのを楽しみにしています。よりハードコアな知識を得るために、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Framework Laravel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コースに招待します</font><font style="vertical-align: inherit;">。</font></font></b></i><br>
<br>
<img src="https://habrastorage.org/webt/0k/zr/tc/0kzrtcgvl777bqznfbpicgqsepc.png"><br>
<hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 みなさん、こんにちは！</font><font style="vertical-align: inherit;">今日、そんな「離れた」時代の中で、自分でタスクを作れるシンプルなToDoを作りたいと思います。</font><font style="vertical-align: inherit;">それは公式のLaravelドキュメントに書かれていることのように聞こえますが、それはその方法です-私は彼らのtodoをベースとして使用し、少し変形します。私のストーリーの大部分は、管理者の役割を</font></font><strike><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作成して別のとんでもないクローン</font></font></strike><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を作成する方法についてです</font><strike><font style="vertical-align: inherit;">Trelloは非常に一貫性がないようです</font></strike><font style="vertical-align: inherit;">。</font></font><br>
 <a name="habracut"></a><br>
 <h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 基盤を作成する </font></font></h3><br>
 <img src="https://habrastorage.org/webt/hg/vy/ak/hgvyakmhibjsmwd1zethg1wbgmm.gif"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私が言ったように、私たちは基礎として次の</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ガイド</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">をとります</font><font style="vertical-align: inherit;">。これは非常にシンプルであり、コントローラーとモデルのプログラミングよりも、移行とルーティングの操作に重点を置いています。残念ながら、それはバージョン5.1から更新されませんでした、そしてあなただけの最後の7バージョンにLaravelにプログラムを起動する場合（これは3月3日のみ新鮮でした）、あなたはへのルーティングを書く必要はありません</font></font><code>app/Http/routes.php</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、それだけには</font></font><code>routes/web.php</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、これはすでにバージョン6以降に変更されました（ ）、そして一般的に、全体の違いはここで終わります。最終的に、次のようなものが得られます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vt/kw/at/vtkwatppc_py1c7l9jutt16qouq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、レイアウトフレームワークをブートストラップからブルマに変更しました。</font><font style="vertical-align: inherit;">第一に、私はそれが好きですが、第二に、ブレード登録テンプレートのコードベースがすでにありました（一方で、登録ページと承認ページの作成は非常に簡単ですが、その方法を示します）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このバージョンのプロジェクトは、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">のマスターブランチで</font><font style="vertical-align: inherit;">ダウンロードできます</font><font style="vertical-align: inherit;">（新しいブランチでは、完成したアプリケーションをダウンロードできます）。</font><font style="vertical-align: inherit;">composerとlaravelがすでにインストールされている場合は、次のコマンドを使用してアクティブ化できます。</font></font><br>
<br>
<pre><code class="plaintext hljs">composer install<font></font>
//   .env,    .env example,     <font></font>
php artisan key:generate //  <font></font>
php artisan serve // <font></font>
</code></pre><br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 認可と登録を作成します</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すぐに使用できる認証がバージョン6から変更されました。</font><font style="vertical-align: inherit;">ここですばやく作成するには、コントローラーとブレードテンプレートをすばやく生成できるパッケージをインストールする必要があります。</font></font><br>
<br>
<pre><code class="plaintext hljs">composer install laravel/ui<font></font>
php artisan ui vue --auth<font></font>
 </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
いくつかの新しいファイルがプロジェクトに表示されます：</font><i><font style="vertical-align: inherit;">認証</font></i><font style="vertical-align: inherit;">サブフォルダが表示されます</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
で</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">resoursesの</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フォルダ</font><font style="vertical-align: inherit;">、その中で、認可専用の刃テンプレートファイル、パスワードが存在します。当初、ブレードテンプレートは</font><i><font style="vertical-align: inherit;">ブートストラップ</font></i><font style="vertical-align: inherit;">で</font><font style="vertical-align: inherit;">作成されていました</font><font style="vertical-align: inherit;">が</font><font style="vertical-align: inherit;">、CSSフレームワークをプロジェクトで共通に保つために、</font><i><font style="vertical-align: inherit;">テンプレート</font></i><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">少し</font><i><font style="vertical-align: inherit;">ブルマ</font></i><font style="vertical-align: inherit;">に変換しました</font><font style="vertical-align: inherit;">。ただし、ウェブサイトを快適に使用するには、ナビゲーションバーが必要です。では</font><i><font style="vertical-align: inherit;">リソース、</font></i><font style="vertical-align: inherit;">私が作成した</font><i><font style="vertical-align: inherit;">含まれ</font></i><font style="vertical-align: inherit;">たフォルダ</font><font style="vertical-align: inherit;">-私は補助ファイルを置いている、</font><i><font style="vertical-align: inherit;">ヘッダ</font></i><font style="vertical-align: inherit;">および</font><i><font style="vertical-align: inherit;">NAVを</font></i><font style="vertical-align: inherit;">。あまりスペースを取らないようにするために、ヘッダーにはブルマ接続のあるヘッドしかなかったと言い</font><font style="vertical-align: inherit;">ます。</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><code>nav.blade.php</code><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="html hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">nav</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"navbar has-background-black-ter"</span> <span class="hljs-attr">role</span>=<span class="hljs-string">"navigation"</span> <span class="hljs-attr">aria-label</span>=<span class="hljs-string">"main navigation"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"navbar-brand"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"navbar-item has-text-white is-size-4"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/"</span>&gt;</span><font></font>
      TODO<font></font>
    <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">role</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"navbar-burger"</span> <span class="hljs-attr">aria-label</span>=<span class="hljs-string">"menu"</span> <span class="hljs-attr">aria-expanded</span>=<span class="hljs-string">"false"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">aria-hidden</span>=<span class="hljs-string">"true"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">aria-hidden</span>=<span class="hljs-string">"true"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">aria-hidden</span>=<span class="hljs-string">"true"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"navbar-menu"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"navbar-start"</span>&gt;</span><font></font>
      @if (Auth::check())<font></font>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"button is-primary"</span>&gt;</span>
        <span class="hljs-comment">&lt;!--   ,  -&gt;   --&gt;</span><font></font>
        {{{ Auth::user()-&gt;name}}}<font></font>
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><font></font>
      @else<font></font>
      <span class="hljs-comment">&lt;!--    --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"navbar-item has-text-danger"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"{{route('register')}}"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"navbar-item has-text-danger"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"{{route('login')}}"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><font></font>
      @endif<font></font>
      @if (Auth::check())<font></font>
      <span class="hljs-comment">&lt;!--  ,       --&gt;</span>
      <span class="hljs-comment">&lt;!--      --&gt;</span><font></font>
<font></font>
      <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"navbar-item has-text-danger"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"{{url('/logout') }}"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"event.preventDefault();
                  document.getElementById('logout-form').submit();"</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"logout-form"</span> <span class="hljs-attr">action</span>=<span class="hljs-string">"{{ url('/logout') }}"</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"POST"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"display: none;"</span>&gt;</span><font></font>
        {{ csrf_field() }}<font></font>
      <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><font></font>
<font></font>
      @endif<font></font>
      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><font></font>
<font></font>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"navbar-end"</span>&gt;</span>
      <span class="hljs-comment">&lt;!-- navbar items --&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span>
 </code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">建築を始めます </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちのプロジェクトの構造については、もう話し合います。</font><font style="vertical-align: inherit;">これで、読者はアプリケーションをニーズに合わせて変換できるようになりますが、アプリケーションに、タスクを設定および削除できる1人の管理者（プロジェクトマネージャーなど）と、これらのコマンドを表示できるある種のチームが必要だとします。</font><font style="vertical-align: inherit;">もちろん、誰かがタスクを実行して、自分がそのタスクを実行したことを示すことができれば非常に便利ですが、後で詳しく説明します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それでは、2つのユーザーグループを用意し、アクセスを許可された承認済みのユーザーだけがタスクボードを表示でき、一部の特権管理者がタスクを追加できることに同意します。</font><font style="vertical-align: inherit;">始めましょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
少し簡単にするために、アプリケーションを2つのページに分割することにしました。1つは編集機能のないタスクのみで、もう1つは特権管理者のみが使用できます。</font><font style="vertical-align: inherit;">チームが利用できるページに名前を付けることにしました</font></font><code>welcome.blade.php</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="php hljs">@<span class="hljs-keyword">include</span>(<span class="hljs-string">'includes.header'</span>)<font></font>
<font></font>
&lt;body&gt;<font></font>
    @<span class="hljs-keyword">include</span>(<span class="hljs-string">'includes.nav'</span>)<font></font>
    &lt;div <span class="hljs-class"><span class="hljs-keyword">class</span>="<span class="hljs-title">columns</span> <span class="hljs-title">is</span>-<span class="hljs-title">centered</span>"&gt;
        &lt;<span class="hljs-title">div</span> <span class="hljs-title">class</span>="<span class="hljs-title">column</span> <span class="hljs-title">is</span>-<span class="hljs-title">half</span>"&gt;
            &lt;<span class="hljs-title">div</span> <span class="hljs-title">class</span>="<span class="hljs-title">panel</span>"&gt;
                &lt;<span class="hljs-title">div</span> <span class="hljs-title">class</span>="<span class="hljs-title">panel</span>-<span class="hljs-title">heading</span>"&gt;
                     
                &lt;/<span class="hljs-title">div</span>&gt;

                &lt;<span class="hljs-title">div</span> <span class="hljs-title">class</span>="<span class="hljs-title">panel</span>-<span class="hljs-title">body</span>"&gt;
                    @<span class="hljs-title">foreach</span> ($<span class="hljs-title">tasks</span> <span class="hljs-title">as</span> $<span class="hljs-title">task</span>)
                    &lt;<span class="hljs-title">a</span> <span class="hljs-title">class</span>="<span class="hljs-title">panel</span>-<span class="hljs-title">block</span>"&gt;
                        &lt;<span class="hljs-title">button</span> <span class="hljs-title">class</span>="<span class="hljs-title">button</span> <span class="hljs-title">is</span>-<span class="hljs-title">rounded</span>"&gt;
                            &lt;<span class="hljs-title">span</span>&gt;</span>{{ $task-&gt;name }}&lt;/span&gt;<font></font>
                        &lt;/button&gt;<font></font>
                        @<span class="hljs-keyword">endforeach</span><font></font>
                &lt;/div&gt;<font></font>
            &lt;/div&gt;<font></font>
        &lt;/div&gt;<font></font>
    &lt;/div&gt;<font></font>
&lt;body&gt;<font></font>
&lt;/html&gt;<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このページには、タスクのみがリストされています。</font><font style="vertical-align: inherit;">それを表示するには、web.phpに新しいパスを追加します。</font></font><br>
<br>
<pre><code class="php hljs">Route::get(<span class="hljs-string">'/'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> view(<span class="hljs-string">'welcome'</span>, [
        <span class="hljs-string">'tasks'</span> =&gt; Task::orderBy(<span class="hljs-string">'created_at'</span>, <span class="hljs-string">'asc'</span>)-&gt;get(),<font></font>
    ]);<font></font>
});<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リストが同じで、編集および追加が可能なテンプレートはと呼ばれ</font></font><code>task.blade.php</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">大きすぎるので、スポイラーの下に配置します。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">task.blade.php</font></font></b><div class="spoiler_text"><pre><code class="plaintext hljs">@extends('layouts.app')<font></font>
<font></font>
@section('content')<font></font>
&lt;div class="columns is-centered"&gt;<font></font>
    &lt;div class="column is-half"&gt;<font></font>
        &lt;div class="panel"&gt;<font></font>
            &lt;div class="panel-heading"&gt;<font></font>
                 <font></font>
            &lt;/div&gt;<font></font>
            &lt;div class="panel-block"&gt;<font></font>
                @include('common.errors')<font></font>
                &lt;!--     --&gt;<font></font>
                &lt;form action="{{ url('task')}}" method="POST"&gt;<font></font>
                    {{ csrf_field() }}<font></font>
<font></font>
                    &lt;div class="field"&gt;<font></font>
                        &lt;label for="task-name" class="label is-medium"&gt;&lt;/label&gt;<font></font>
                        &lt;input type=" text" name="name" id="task-name" class="input is-medium"<font></font>
                            value="{{ old('task') }}"&gt;<font></font>
                    &lt;/div&gt;<font></font>
<font></font>
                    &lt;div class="field"&gt;<font></font>
                        &lt;button type="submit" class="button is-success"&gt;<font></font>
                            &lt;span class="icon"&gt;<font></font>
                                &lt;i class="fa fa-btn fa-plus"&gt;<font></font>
                            &lt;/span&gt;&lt;/i&gt;<font></font>
                            &lt;span&gt; &lt;/span&gt;<font></font>
                        &lt;/button&gt;<font></font>
                    &lt;/div&gt;<font></font>
                &lt;/form&gt;<font></font>
            &lt;/div&gt;<font></font>
        &lt;/div&gt;<font></font>
<font></font>
        &lt;!-- Current Tasks --&gt;<font></font>
        @if (count($tasks) &gt; 0)<font></font>
        &lt;div class="panel"&gt;<font></font>
            &lt;div class="panel-heading"&gt;<font></font>
                 <font></font>
            &lt;/div&gt;<font></font>
<font></font>
            &lt;div class="panel-body"&gt;<font></font>
                {{-- &lt;table class="table table-striped task-table"&gt;<font></font>
                    &lt;thead&gt;<font></font>
                        &lt;th&gt;&lt;/th&gt;<font></font>
                        &lt;th&gt;&nbsp;&lt;/th&gt;<font></font>
                    &lt;/thead&gt;<font></font>
                    &lt;tbody&gt; --}}<font></font>
                @foreach ($tasks as $task)<font></font>
                &lt;a class="panel-block"&gt;<font></font>
                    &lt;button class="button is-rounded"&gt;<font></font>
                    &lt;span&gt;{{ $task-&gt;name }}&lt;/span&gt;<font></font>
                &lt;/button&gt;<font></font>
                    &lt;form action="{{ url('task/'.$task-&gt;id) }}" method="POST"&gt;<font></font>
                        {{ csrf_field() }}<font></font>
                        {{ method_field('DELETE') }}<font></font>
                        &lt;button type="submit" class="button is-danger"&gt;<font></font>
                            &lt;span class="icon is-small"&gt; &lt;i class="fa fa-btn fa-trash"&gt;&lt;/i&gt;&lt;/span&gt;<font></font>
                            &lt;span&gt;  &lt;/span&gt;<font></font>
                        &lt;/button&gt;<font></font>
                    &lt;/form&gt;<font></font>
                &lt;/a&gt;<font></font>
                @endforeach<font></font>
            &lt;/div&gt;<font></font>
        &lt;/div&gt;<font></font>
        @endif<font></font>
    &lt;/div&gt;<font></font>
&lt;/div&gt;<font></font>
@endsection<font></font>
<font></font>
</code></pre><br>
 </div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、このテンプレートは、元のチュートリアルと同様に、次のように展開され</font></font><code>app/layouts.blade.php</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<pre><code class="php hljs">@<span class="hljs-keyword">include</span>(<span class="hljs-string">'includes.header'</span>)<font></font>
<font></font>
&lt;body&gt;<font></font>
    @<span class="hljs-keyword">include</span>(<span class="hljs-string">'includes.nav'</span>)<font></font>
<font></font>
    @<span class="hljs-keyword">yield</span>(<span class="hljs-string">'content'</span>)<font></font>
<font></font>
&lt;/body&gt;<font></font>
<font></font>
&lt;/html&gt;<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
いいね！</font><font style="vertical-align: inherit;">外観を決定したので、ルーティングと作成に進むことができます</font></font><code>middlewares</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Users</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モデルに移動して、</font><font style="vertical-align: inherit;">新しいタイプのユーザーを追加します。</font></font><br>
<br>
<pre><code class="php hljs"><span class="hljs-keyword">const</span> ADMIN_TYPE = <span class="hljs-string">'admin'</span>;
<span class="hljs-keyword">const</span> TEAM_TYPE = <span class="hljs-string">'team'</span>;
<span class="hljs-comment">#       :</span><font></font>
<font></font>
<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isAdmin</span>(<span class="hljs-params"></span>)</span>{        
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;type === <span class="hljs-built_in">self</span>::ADMIN_TYPE;
    <span class="hljs-comment">//        </span><font></font>
}<font></font>
</code></pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、usersテーブル（データベース/ migrationsフォルダー）の最後の移行に移動し、新しいデータ型の列を追加します。</font></font><br>
<br>
<pre><code class="plaintext hljs">$table-&gt;string('type')-&gt;default('team');<font></font>
//  ,         <font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、</font></font><code>app/Http/Controllers/Auth/RegisterController.php</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作成関数を少し編集してください（バージョン5では少し異なっていました）。</font></font><br>
<br>
<pre><code class="php hljs"><span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">create</span>(<span class="hljs-params"><span class="hljs-keyword">array</span> $data</span>)
    </span>{
        <span class="hljs-keyword">return</span> User::create([
            <span class="hljs-string">'name'</span> =&gt; $data[<span class="hljs-string">'name'</span>],
            <span class="hljs-string">'email'</span> =&gt; $data[<span class="hljs-string">'email'</span>],
            <span class="hljs-string">'password'</span> =&gt; Hash::make($data[<span class="hljs-string">'password'</span>]),
            <span class="hljs-string">'type'</span> =&gt; User::TEAM_TYPE,  <font></font>
        ]);<font></font>
    }<font></font>
<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
では、管理者向けのミドルウェアを作成する必要があります。</font><font style="vertical-align: inherit;">これを行う最も簡単な方法は、次のコマンドを使用することです。</font></font><br>
<br>
<pre><code class="plaintext hljs">php artisan make:middleware IsAdmin
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
成功したと思います。</font><font style="vertical-align: inherit;">フォルダー内に表示され</font></font><code>HTTP/middleware</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ているはずですが</font></font><code>isAdmin.php</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、その中でハンドル関数を次のように編集する必要があります。</font></font><br>
<br>
<pre><code class="plaintext hljs">public function handle($request, Closure $next)<font></font>
    {<font></font>
        if(auth()-&gt;user()-&gt;isAdmin()) {<font></font>
            return $next($request);<font></font>
        //   , .   -   <font></font>
    }<font></font>
        return redirect('/');<font></font>
    }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、私たちは登録する必要があり</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ミドルウェア</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で</font></font><code>app/HTTP/Kernel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">それを使用するために：</font></font><br>
<br>
<pre><code class="plaintext hljs">protected $routeMiddleware = [<font></font>
    #  ,      <font></font>
        is_admin' =&gt; \App\Http\Middleware\IsAdmin::class,<font></font>
];<font></font>
</code></pre><br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ダッシュ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
パスをに変換します</font></font><code>web.php</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。これ</font><font style="vertical-align: inherit;">により</font><font style="vertical-align: inherit;">、特権管理者のみが表示できるようになります。</font></font><br>
<br>
<pre><code class="php hljs">Route::get(<span class="hljs-string">'/dash'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> view(<span class="hljs-string">'tasks'</span>, [
        <span class="hljs-string">'tasks'</span> =&gt; Task::orderBy(<span class="hljs-string">'created_at'</span>, <span class="hljs-string">'asc'</span>)-&gt;get(),<font></font>
    ]); <font></font>
})<font></font>
-&gt;middleware(<span class="hljs-string">'is_admin'</span>)    <font></font>
-&gt;name(<span class="hljs-string">'admin'</span>);<font></font>
<font></font>
<span class="hljs-comment">#       </span><font></font>
<font></font>
Auth::routes();<font></font>
Route::post(<span class="hljs-string">'/logout'</span>, <span class="hljs-string">'Auth\LoginController@logout'</span>)-&gt;name(<span class="hljs-string">'logout'</span>);
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
管理者用のカスタムコントローラーを作成する必要があります。</font></font><br>
<br>
<pre><code class="plaintext hljs">php artisan make:controller AdminController
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
編集：</font></font><br>
<br>
<pre><code class="plaintext hljs">public function __construct()<font></font>
    {<font></font>
        $this-&gt;middleware('auth');<font></font>
    }<font></font>
    public function admin()<font></font>
    {<font></font>
        return view('admin');<font></font>
    }<font></font>
 </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべての登録を正確に取得</font></font><code>RouteServiceProvider.php</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">する</font></font><code>app/HTTP/Providers</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ために</font><font style="vertical-align: inherit;">、リダイレクト</font><font style="vertical-align: inherit;">は元はホームパターン用に設計</font><font style="vertical-align: inherit;">され</font><font style="vertical-align: inherit;">ていた</font><font style="vertical-align: inherit;">ため</font><font style="vertical-align: inherit;">、に修正することを忘れないでください</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="php hljs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">const</span> HOME = <span class="hljs-string">'/'</span>;
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、管理者はティンカーターミナルでアシスタントの助けを借りてのみ表示できます。 </font></font><br>
<br>
<pre><code class="plaintext hljs">php artisan tinker<font></font>
use App\User;<font></font>
User::where('email', 'admin@mail.com')-&gt;update(['type' =&gt; 'admin']);<font></font>
//    <font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それで全部です。完成したアプリケーションを試してみたい場合は、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リンクを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">繰り返します</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">。</font></a><font style="vertical-align: inherit;">もちろん、リソースに登録したすべてのユーザーがタスクを表示できるため、現在のところ、アプリケーションを本番環境で使用することはできません。しかし、どのようにアクセスを制限しますか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
おそらく、会社のメールがあり、メールの検証で常連を使用してチームへのアクセスを制限できます。または、同様の操作を行って、管理者と同じ方法でチームのメンバーシップのチェックを追加できます。伝統的に、私はちょうどLaravelマスタリングを開始しようとしている人のためのいくつかの有用なリンクを提供します：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
→ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Laravelへの移行に関するドキュメントよりもAもう少し詳しい記事</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
→A </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Laravelにおける役割についての媒体に良い記事を</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
→</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">      Laravel 7</a><br>
<br>
<hr><br>
<b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">     « »   Forge/Envoyer.<br>
</a></b><br>
<hr></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja497486/index.html">データ部。2013年。回顧</a></li>
<li><a href="../ja497488/index.html">Microsoft Teams、PowerApps、Power Automateを使用して人事プロセスを自動化します。従業員の離職リクエスト</a></li>
<li><a href="../ja497490/index.html">タツノオトシゴの父性の難しさ：免疫系の遺伝的変態</a></li>
<li><a href="../ja497492/index.html">TSD上のアプリケーションと1Cとの通信：HTTPサービスによるエンタープライズ8.3。パート1.1（APIの詳細な説明）</a></li>
<li><a href="../ja497504/index.html">QuarkusがMicroProfileとSpringを統合する方法</a></li>
<li><a href="../ja497508/index.html">RESTinioで複数階建てのC ++テンプレートを実行し続けます：express-jsルーターのタイプセーフな代替手段</a></li>
<li><a href="../ja497510/index.html">ビデオゲームの音声合成-問題＃2。獲物</a></li>
<li><a href="../ja497512/index.html">溶融氷河は将来水力発電を提供しますか？</a></li>
<li><a href="../ja497516/index.html">自分で無響シールドボックスを作成する方法</a></li>
<li><a href="../ja497520/index.html">HTTP / 3とHTTP / 2のパフォーマンス比較</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>