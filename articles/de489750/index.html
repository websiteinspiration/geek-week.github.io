<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⚰️ 🔹 🧑🏿 Verwalten eines Docker-Schwarmclusters mit Swarmpit 🤭 💃🏻 🧙</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Guten Tag,% Benutzername%. Es ist Zeit, den Blog nach 6 Jahren Inaktivität aufzudecken und erneut zu versuchen, der Community etwas Nützliches zu brin...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Verwalten eines Docker-Schwarmclusters mit Swarmpit</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489750/"><img src="https://habrastorage.org/getpro/habr/post_images/1fa/e69/e6f/1fae69e6f5c70e49c561eeecc13a5e2d.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Guten Tag,% Benutzername%. </font><font style="vertical-align: inherit;">Es ist Zeit, den Blog nach 6 Jahren Inaktivität aufzudecken und erneut zu versuchen, der Community etwas Nützliches zu bringen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich bin sehr überrascht, dass es auf dem Hub noch keinen Artikel über Swarmpit gibt. </font><font style="vertical-align: inherit;">Natürlich verstehe ich, dass die meisten Leute, die Docker studieren, wahrscheinlich damit aufhören und dann versuchen, den Mount Everest namens Kubernetes zu besteigen. </font><font style="vertical-align: inherit;">Ich kenne die genauen Zahlen nicht, aber ich denke, die meisten von ihnen gehen verloren und werden entweder auf Docker getötet oder verwenden sie einfach. </font><font style="vertical-align: inherit;">Aber vergeblich!</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Docker Swarm ist ein nahezu perfektes System für fast alle. Ich bezweifle sehr, dass eine wirklich große Anzahl von Menschen Kubernetes braucht. Ich habe ihn fast einen Tag lang getötet und festgestellt, dass ich 30 weitere töten würde, damit ich es später ruhig verwenden kann, ABER ich bin ein einfacher Programmierer und bei all diesen coolen DevOps geht es überhaupt nicht ums Programmieren. Und dann hörte ich von Docker Swarm und an einem Tag war es absolut einfach, in ihn einzudringen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wer braucht Docker Swarm? Sie sind bereits von den großartigen Funktionen des Docker-Ökosystems durchdrungen. Ihre Anwendungen bestehen aus Microservices. Gleichzeitig haben Sie mehrere Server und ich möchte Fehlertoleranz und irgendwie die Last verwalten.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und in diesem Artikel werde ich nicht beschreiben, wie man es konfiguriert und was es ist. </font><font style="vertical-align: inherit;">Ich werde noch weiter gehen und ein wahnsinnig einfaches Tool für die Arbeit mit einem bereits konfigurierten Cluster zeigen. </font><font style="vertical-align: inherit;">Ja, der Cluster muss konfiguriert werden. Dies sind eigentlich nur ein paar Befehle ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">weitere Details hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ):</font></font><br>
<br>
<pre><code class="plaintext hljs">docker swarm init<font></font>
docker swarm join<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Allgemeinen könnte ich einfach einen Link zur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Swarmpit-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Website </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">hinterlassen</font></a><font style="vertical-align: inherit;"> und fertig sein, Sie können alle lesen, aber er wird im Allgemeinen von einem Team installiert und Sie müssen dort nicht einmal nachdenken, Sie entspannen sich einfach und starten Ihre Container. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Link </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Trotzdem werde ich ein wenig beschreiben und Screenshots von diesem wunderbaren Admin-Panel zeigen.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Startbildschirm</font></font></h4> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alle Informationen zum Cluster werden hier gesammelt. </font><font style="vertical-align: inherit;">Sie können hier auch ausgewählte Dienste anheften und deren Status überwachen:</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/9e8/3c7/334/9e83c73348c1a7713f7124e331ddd073.png" alt="Bild"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Verbindung von Drittregistern</font></font></h4> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Standardmäßig sucht Swarmpit in hub.docker.com nach Bildern</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/859/a56/a22/859a56a22257a13f5a8420b914cea611.png" alt="Bild"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. Hinzufügen eines neuen Dienstes</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier ist alles sehr einfach und klar. </font><font style="vertical-align: inherit;">Zuerst finden wir das Bild in offenen oder geschlossenen Registern. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/554/8d7/0ad/5548d70ad4540fea19f0d60fe851d30d.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir wählen die Version, den Namen und den Modus selbst aus: global oder repliziert. </font><font style="vertical-align: inherit;">Sie können auch einen auszuführenden Befehl angeben: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/34c/ff1/6cf/34cff16cfbea72a93e05df8738755144.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Konfigurieren Sie dann das Netzwerk. </font><font style="vertical-align: inherit;">Kann von allgemein hinzufügen, Ports konfigurieren und Hostnamen-Alias ​​für den Dienst angeben. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/e40/560/1f8/e405601f8a931c464cc012eabb96bba3.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir setzen Umgebungsvariablen, verbinden Speicher, fügen Konfigurationen und geheime Konfigurationen hinzu. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/fdb/3dd/6ce/fdb3dd6ce794de2c4dbdf2701cf0a837.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir legen Grenzwerte für die Anwendung fest: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/927/0f5/f3c/9270f5f3cc6ce05c002d4aff24fc341e.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir können Tags für den Dienst ausgeben, die automatische Aktualisierung des Images aktivieren, Knoten für die Bereitstellung ausgeben und im Allgemeinen die Richtlinie für die erneute Bereitstellung konfigurieren, um Ausfallzeiten der Anwendung zu vermeiden: Protokolleinstellungen </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/04f/601/2c4/04f6012c4901ab0b1d97a54c7f44d5ea.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
:</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/f04/b02/ec3/f04b02ec31f08dd54dd832457ca72129.png" alt="Bild"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. Natürlich können Sie Netzwerke hinzufügen und ändern</font></font></h4><br>
<img src="https://habrastorage.org/getpro/habr/post_images/5dd/eab/cf6/5ddeabcf601de005584f2e67c4219a27.png" alt="Bild"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. Zeigen Sie die mit dem Cluster verbundenen Knoten an</font></font></h4> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie können mehrere Knoten auf einem Computer haben (lesen Sie mehr über </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Docker-Computer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), aber die Swarmpit-Instanz kann nur mit einem Cluster verbunden werden und überwacht ihn nur.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/c24/527/5c0/c245275c0a8be1aff702c11bfd4d39dc.png" alt="Bild"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6. Fügen Sie Docker-gesteuerte Repositorys hinzu</font></font></h4><br>
<img src="https://habrastorage.org/getpro/habr/post_images/ad4/eb2/637/ad4eb26376e475c9078db98dbccfb7c8.png" alt="Bild"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7. Nun, fügen Sie selbst Konfigurationen hinzu</font></font></h4><br>
<img src="https://habrastorage.org/getpro/habr/post_images/491/9ce/d80/4919ced803c3fa2d1b05fc1201fc5291.png" alt="Bild"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8. Sie können auch Benutzer mit zwei Zugriffstypen hinzufügen</font></font></h4><br>
<img src="https://habrastorage.org/getpro/habr/post_images/03f/43f/0b4/03f43f0b45dcb8068b704ce098887a3c.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
weil Dieser Docker-Schwarm kann selbst Stapel erstellen und ihr Start ist nur im Docker-Compose-Format möglich: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/24a/291/816/24a291816b67f68bd4bbf7b8e672d7b3.png" alt="Bild"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vorteile:</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
+ Ich bin keine Kung-Fu-Masterkonsole, obwohl ich einige meiner Dienste darin bereitgestellt und viel Zeit dafür aufgewendet habe. Swarmpit spart viel Zeit, insbesondere wenn Sie beispielsweise mit Konfigurationen für denselben Nginx spielen. Und bald versprechen sie, die Konfigurationen mit der automatischen Erkennung verwandter Dienste zu versionieren. Jene. änderte die Zeile, speicherte und die Konfiguration flog automatisch zu allen Diensten, wo es zuvor angegeben wurde. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ Außerdem habe ich das Vorhandensein der API nicht erwähnt, und hier sind die schicken Funktionen zum Verwalten des Clusters mit meiner Logik. Sie können den Status über die API überwachen, der Anwendung während eines Splashs Replikate hinzufügen und diese reduzieren, wenn Sie sie reduzieren. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Minuspunkte:</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-Master-Passwort kann in keiner Weise zurückgesetzt werden und Sie müssen den Cluster neu installieren, wenn Sie ihn verloren haben </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-Entwickler wie 1-2, so dass sie lange Zeit Funktionen hinzufügen, aber im Moment habe ich </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
keine </font><font style="vertical-align: inherit;">kritischen Fehler gefunden </font><font style="vertical-align: inherit;">-Alle kleinen Fehler, aber die meisten von ihnen sind in Problem und Die Entwickler versprechen, alle 2.0- </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Controls nur auf dem verbundenen Cluster </font><font style="vertical-align: inherit;">zu erfüllen </font><font style="vertical-align: inherit;">, keine Unterstützung für Cluster von Drittanbietern oder </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
eine Verbindung zu diesem </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">herzustellen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und werden wahrscheinlich nicht </font><font style="vertical-align: inherit;">erneut einen Link zur Website geben. Swarmpit </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">tyts</font></a></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Github Seite Swarmpit </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tyts</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Moment habe ich 2 weitere Open Source Projekte auf NodeJS gemacht, bei Interesse kann ich auch darüber sprechen. </font><font style="vertical-align: inherit;">Die erste ist eine Weiterleitung für ein werbefreies Telegramm und ultraklein (Docker Image wiegt 27 MB und ist auch in NodeJS ohne ein einziges Paket geschrieben), die zweite ist ein CDN-Server für Bilder, die Bilder im laufenden Betrieb ändern können (Größe ändern, Format ändern, Qualität usw.). und kann 200 US-Dollar sparen (möglicherweise weniger, dies ist der Preis für Business CloudFlare, mit dem Sie dasselbe tun können).</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de489736/index.html">[Übersetzung] IOC e-Sports Kommuniqué und Erklärung</a></li>
<li><a href="../de489740/index.html">Vereinfachen Sie das Schreiben von HTTP-Handlern in Golang</a></li>
<li><a href="../de489742/index.html">Hackathon für 200 Personen - was Sie organisieren müssen</a></li>
<li><a href="../de489744/index.html">Konvertieren Sie die Infix-Notation in Postfix</a></li>
<li><a href="../de489746/index.html">In den meisten Fällen ist eine Serialisierung in Android nicht erforderlich</a></li>
<li><a href="../de489754/index.html">20 Projektmanagementsysteme, Übersicht über 100 Chips</a></li>
<li><a href="../de489756/index.html">Erstellen Sie einen Stifteffekt in SVG</a></li>
<li><a href="../de489758/index.html">Winkel: Ein Beispiel für die Verwendung von NGRX</a></li>
<li><a href="../de489760/index.html">Bewusstsein und Existenz. Quantenmechanik ohne Paradoxien</a></li>
<li><a href="../de489762/index.html">Ein einfaches Beispiel für Parsing und Datenanalyse für World of Tanks</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>