<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤘🏽 🔬 🔲 Vue Features zum Erinnern 👶🏼 🔵 🧕🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Wir vom Ptah- Team haben uns entschlossen, etwas weiter als das übliche SPA zu gehen, und versucht, Vue als Zielseiten-Designer zu verwenden. Und jetz...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Vue Features zum Erinnern</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/491130/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir vom </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ptah-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Team haben uns </font><font style="vertical-align: inherit;">entschlossen, etwas weiter als das übliche SPA zu gehen, und versucht, Vue als Zielseiten-Designer zu verwenden. </font><font style="vertical-align: inherit;">Und jetzt möchten wir einen Teil unserer Erfahrungen teilen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieser Artikel richtet sich in erster Linie an diejenigen, die gerade mit Vue begonnen haben und dessen Funktionen und Fähigkeiten besser kennenlernen möchten. </font><font style="vertical-align: inherit;">Hier möchte ich über einige der Funktionen des Frameworks sprechen, die von unerfahrenen Entwicklern oft unverdient vergessen werden.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Renderfunktionen</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Komponentenvorlagen sind eines der Dinge, für die Entwickler Vue lieben. </font><font style="vertical-align: inherit;">Sie sind einfach und logisch, dank ihnen hat das Framework eine niedrige Eintrittsschwelle. </font><font style="vertical-align: inherit;">Die Vorlagensyntax reicht in 90% der Fälle aus, um logischen und schönen Code zu schreiben. </font><font style="vertical-align: inherit;">Aber was tun, wenn Sie in den verbleibenden 10% sind und keine kompakte Komponente schreiben können? </font><font style="vertical-align: inherit;">Die Renderfunktion hilft Ihnen dabei. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lassen Sie uns anhand des Beispiels aus der Dokumentation sehen, was es ist:</font></font><br>
<br>
<pre><code class="javascript hljs">Vue.component(<span class="hljs-string">'anchored-heading'</span>, {
 <span class="hljs-attr">render</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">createElement</span>) </span>{
   <span class="hljs-keyword">return</span> createElement(
     <span class="hljs-string">'h'</span> + <span class="hljs-keyword">this</span>.level,   <span class="hljs-comment">//  </span>
     <span class="hljs-keyword">this</span>.$slots.default <span class="hljs-comment">//   </span><font></font>
   )<font></font>
 },<font></font>
 <span class="hljs-attr">props</span>: {
   <span class="hljs-attr">level</span>: {
     <span class="hljs-attr">type</span>: <span class="hljs-built_in">Number</span>,
     <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span><font></font>
   }<font></font>
 }<font></font>
})<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Komponente mit </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">verankerten Überschriften</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> akzeptiert die </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ebene-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Eigenschaft </font><font style="vertical-align: inherit;">und zeichnet das Titel-Tag. </font><font style="vertical-align: inherit;">Also Aufnahme</font></font><br>
<br>
<pre><code class="javascript hljs">&lt;anchored-heading :level=<span class="hljs-string">"1"</span>&gt;, !&lt;/anchored-heading&gt;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wird konvertiert zu</font></font><br>
<br>
<pre><code class="javascript hljs">&lt;h1&gt;, !&lt;/h1&gt;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn diese Komponente unter Verwendung einer Standardvorlage beschrieben würde, würde sie bis zu 6 </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v-if-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bedingungen enthalten </font><font style="vertical-align: inherit;">, die verschiedene Ebenen von Headern beschreiben:</font></font><br>
<br>
<pre><code class="javascript hljs">&lt;h1 v-<span class="hljs-keyword">if</span>=<span class="hljs-string">"level === 1"</span>&gt;
 <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">slot</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span></span><font></font>
&lt;/h1&gt;<font></font>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"level === 2"</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">slot</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"level === 3"</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">slot</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h4</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"level === 4"</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">slot</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span></span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h5</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"level === 5"</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">slot</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">h5</span>&gt;</span></span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h6</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"level === 6"</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">slot</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">h6</span>&gt;</span></span>
</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie es funktioniert?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Rendermethode verwendet zwei Argumente. </font><font style="vertical-align: inherit;">Das erste Argument für </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">createElement</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ist eine Funktion, die beschreibt, welches Vue-Element erstellt werden soll. </font><font style="vertical-align: inherit;">In der Community ist es üblich, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">createElement</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> auf einen Buchstaben </font><i><font style="vertical-align: inherit;">abzukürzen</font></i><font style="vertical-align: inherit;"> - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">h</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Das zweite Argument ist </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kontext</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , um auf Kontextdaten zuzugreifen. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">createElement akzeptiert</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> drei Argumente:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das zu erstellende Element. </font><font style="vertical-align: inherit;">Dies kann nicht nur ein HTML-Tag sein, sondern auch ein Komponentenname. </font><font style="vertical-align: inherit;">Dieses Argument ist erforderlich;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein Objekt mit Daten. </font><font style="vertical-align: inherit;">Es kann eine Liste von Klassen, Stilen, Eingabeparametern für die Komponente, Methoden zur Behandlung von Ereignissen usw. enthalten. </font><font style="vertical-align: inherit;">Weitere Einzelheiten finden Sie in der Dokumentation. </font><font style="vertical-align: inherit;">Optionales Argument;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Untergeordnete virtuelle Knoten. </font><font style="vertical-align: inherit;">Es kann entweder eine Zeichenfolge oder ein Array sein. </font><font style="vertical-align: inherit;">Im obigen Beispiel ist </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dies. $ Slots.default</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Renderfunktionen können in den unerwartetsten Situationen hilfreich sein. </font><font style="vertical-align: inherit;">In Ptah müssen wir beispielsweise häufig das </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Style-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Tag auf </font><font style="vertical-align: inherit;">der Seite verwenden, damit einige Designerelemente ordnungsgemäß funktionieren. </font><font style="vertical-align: inherit;">Vue verbietet jedoch die Verwendung dieses Tags innerhalb der </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vorlagenkomponente</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Diese Einschränkung kann dank eines kleinen Wrappers leicht umgangen werden:</font></font><br>
<br>
<pre><code class="javascript hljs">Vue.component(<span class="hljs-string">'v-style'</span>, {
 <span class="hljs-attr">render</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">h</span>) </span>{
   <span class="hljs-keyword">return</span> h(<span class="hljs-string">'style'</span>, <span class="hljs-keyword">this</span>.$slots.default)<font></font>
 }<font></font>
})<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt in den Vorlagen, anstelle des </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stil</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Tag, </font><font style="vertical-align: inherit;">können Sie mit </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v-Stil</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sobald Ihnen der Eindruck entsteht, dass die Standardfunktionen von Vue-Vorlagen nicht ausreichen, denken Sie an die Renderfunktionen. </font><font style="vertical-align: inherit;">Sie sehen nur auf den ersten Blick kompliziert aus, aber Sie können alle Funktionen nutzen, die JS in ihnen bietet.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mixins</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Haben Sie mehrere ähnliche Komponenten mit doppeltem Code? </font><font style="vertical-align: inherit;">Mixins oder Verunreinigungen tragen zur Einhaltung des DRY-Prinzips bei - die Funktionalität von Mixins kann in mehreren Komponenten gleichzeitig verwendet werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nehmen wir ein Beispiel. </font><font style="vertical-align: inherit;">Angenommen, wir haben zwei Komponenten mit ähnlicher Logik:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span>  {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'TextElement'</span>,<font></font>
<font></font>
  data () {<font></font>
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">elementName</span>: <span class="hljs-string">'Text'</span>,
      <span class="hljs-attr">showEditor</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">editor</span>: <span class="hljs-literal">null</span><font></font>
    }<font></font>
  },<font></font>
  <font></font>
  <span class="hljs-attr">methods</span>: {<font></font>
    initEditor () {<font></font>
      <span class="hljs-keyword">this</span>.showEditor = <span class="hljs-literal">true</span>
      <span class="hljs-keyword">this</span>.editor = <span class="hljs-keyword">new</span> Editor(<span class="hljs-keyword">this</span>.elementName)<font></font>
    }<font></font>
  }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span>  {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'ButtonElement'</span>,<font></font>
<font></font>
  data () {<font></font>
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">elementName</span>: <span class="hljs-string">'Button'</span>,
      <span class="hljs-attr">showEditor</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">editor</span>: <span class="hljs-literal">null</span><font></font>
    }<font></font>
  },<font></font>
  <font></font>
  <span class="hljs-attr">methods</span>: {<font></font>
    initEditor () {<font></font>
      <span class="hljs-keyword">this</span>.showEditor = <span class="hljs-literal">true</span>
      <span class="hljs-keyword">this</span>.editor = <span class="hljs-keyword">new</span> Editor(<span class="hljs-keyword">this</span>.elementName)<font></font>
    }<font></font>
  }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Komponenten sind unterschiedlich, haben aber die gleiche Logik. </font><font style="vertical-align: inherit;">Um es zu machen, müssen Sie eine reguläre js-Datei erstellen. </font><font style="vertical-align: inherit;">Es wäre logisch, es im </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mixins-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Verzeichnis </font><font style="vertical-align: inherit;">neben den Komponenten </font><i><font style="vertical-align: inherit;">abzulegen</font></i><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">// mixin.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span>  {<font></font>
  data () {<font></font>
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">showEditor</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">editor</span>: <span class="hljs-literal">null</span><font></font>
    }<font></font>
  },<font></font>
  <font></font>
  <span class="hljs-attr">methods</span>: {<font></font>
    initEditor () {<font></font>
      <span class="hljs-keyword">this</span>.showEditor = <span class="hljs-literal">true</span>
      <span class="hljs-keyword">this</span>.editor = <span class="hljs-keyword">new</span> Editor(<span class="hljs-keyword">this</span>.elementName)<font></font>
    }<font></font>
  }<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">// TextElement.vue</span>
<span class="hljs-keyword">import</span> mixin <span class="hljs-keyword">from</span> <span class="hljs-string">'./mixins/mixin'</span><font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span>  {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'TextElement'</span>,<font></font>
<font></font>
  <span class="hljs-attr">mixins</span>: [mixin]  <span class="hljs-comment">//  </span><font></font>
<font></font>
  data () {<font></font>
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">elementName</span>: <span class="hljs-string">'Text'</span>,<font></font>
    }<font></font>
  },<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">// ButtonElement.vue</span>
<span class="hljs-keyword">import</span> mixin <span class="hljs-keyword">from</span> <span class="hljs-string">'./mixins/mixin'</span><font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span>  {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'ButtonElement'</span>,<font></font>
<font></font>
  <span class="hljs-attr">mixins</span>: [mixin]<font></font>
<font></font>
  data () {<font></font>
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">elementName</span>: <span class="hljs-string">'Button'</span><font></font>
    }<font></font>
  }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie Sie dem Beispiel entnehmen können, wurde fast die gesamte Logik auf das Mixin migriert. Bei Verwendung von Verunreinigungen in den Komponenten verschmelzen alle Optionen. In der Komponente können Sie die Methode </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">initEditor ()</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> frei aufrufen </font><font style="vertical-align: inherit;">, und umgekehrt wird der </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Elementname</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> der Komponente </font><font style="vertical-align: inherit;">in der Verunreinigung verwendet </font><font style="vertical-align: inherit;">. In diesem Fall werden die </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Datenobjekte</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> rekursiv zusammengeführt, und die Eigenschaften der Komponente haben Vorrang.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Vorteile von Verunreinigungen liegen auf der Hand - dies ist die Wiederverwendung von Code. </font><font style="vertical-align: inherit;">Aber es gibt ein Minus. </font><font style="vertical-align: inherit;">Dieses Beispiel ist synthetisch, nur ein paar Zeilen. </font><font style="vertical-align: inherit;">Reale Komponenten, wie sie in Ptah verwendet werden, können in ein paar hundert Codezeilen geschrieben werden. </font><font style="vertical-align: inherit;">Einer Person, die diesen Code nicht geschrieben hat, wird nicht immer klar sein, wie er funktioniert, insbesondere wenn sie das Hinzufügen von Mixins zur Komponente übersieht. </font><font style="vertical-align: inherit;">Leider funktioniert es nicht, dieses Minus loszuwerden. </font><font style="vertical-align: inherit;">Ich kann zwei Dinge empfehlen: Beschreiben Sie die Funktionsweise der Komponente in JSDoc und verwenden Sie spezielle Namen für Eigenschaften aus der Verunreinigung (Sie können beispielsweise ein Präfix hinzufügen, das Sie im Voraus mit dem Team vereinbaren).</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bereitstellen / Injizieren</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieses Optionspaar wird immer zusammen verwendet und ermöglicht es Ihnen, Daten von der übergeordneten Komponente in die gesamte Hierarchie ihrer Nachkommen zu übertragen. </font><font style="vertical-align: inherit;">Diese Optionen werden hauptsächlich zum Schreiben von Plugins verwendet. In der offiziellen Dokumentation wird die Verwendung in Plugins nicht empfohlen. </font><font style="vertical-align: inherit;">In Anwendungen baut die Kommunikation zwischen Komponenten sehr gut auf Vuex auf. </font><font style="vertical-align: inherit;">Diese Funktionalität verdient jedoch noch Aufmerksamkeit.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie es funktioniert?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zuerst müssen wir die Daten in der übergeordneten Komponente definieren, die wir an ihre Nachkommen weitergeben.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">// Parent.vue        </span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">provide</span>: {
   <span class="hljs-attr">device</span>: <span class="hljs-string">'is-desktop'</span><font></font>
  }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt müssen die übertragenen Daten in die untergeordnete Komponente eingebettet werden.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">// Child.vue    </span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">inject</span>: [<span class="hljs-string">'device'</span>],<font></font>
<font></font>
  created () {<font></font>
   <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">this</span>.device) <span class="hljs-comment">// =&gt; "is-desktop"</span><font></font>
  }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie Sie dem Beispiel entnehmen können, ist alles recht einfach. </font><font style="vertical-align: inherit;">Es ist jedoch ein signifikantes Minus zu beachten: Die Daten aus dem Bereitstellungs- / Injektionspaket sind standardmäßig nicht reaktiv! </font><font style="vertical-align: inherit;">Dieser Nachteil kann jedoch mit </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Object.defineProperty</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> leicht umgangen werden </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="javascript hljs">provide () {
 <span class="hljs-keyword">let</span> device = {}
 <span class="hljs-built_in">Object</span>.defineProperty(device, <span class="hljs-string">'type'</span>, { <span class="hljs-attr">enumerable</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">get</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">this</span>.device })
 <span class="hljs-keyword">return</span> { device }<font></font>
},<font></font>
<font></font>
data () {<font></font>
 <span class="hljs-keyword">return</span> {
   <span class="hljs-attr">device</span>: <span class="hljs-string">'is-desktop'</span><font></font>
 }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn Sie</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
nun </font><i><font style="vertical-align: inherit;">this.device</font></i><font style="vertical-align: inherit;"> im übergeordneten </font><i><font style="vertical-align: inherit;">Gerät</font></i><font style="vertical-align: inherit;"> ändern, wird es in den Nachkommen geändert.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Komponenten-Meta</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt Situationen, in denen nicht im Voraus bekannt ist, welche Komponente im Code verwendet wird. </font><font style="vertical-align: inherit;">Betrachten Sie ein Beispiel aus unserem Editor. </font><font style="vertical-align: inherit;">Die Aufgabe lautet wie folgt: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zeigen Sie</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> im bedingten Bereich von </font><i><font style="vertical-align: inherit;">FirstScreen</font></i><font style="vertical-align: inherit;"> die </font><font style="vertical-align: inherit;">Elemente </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Text, Logo und </font></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schaltfläche</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> an und fügen </font><i><font style="vertical-align: inherit;">Sie</font></i><font style="vertical-align: inherit;"> diesen Elementen </font><i><font style="vertical-align: inherit;">SocialIcons hinzu</font></i><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist also offensichtlich, dass wir eine Abschnittskomponente haben werden, die als Container für die Elemente und 4 Komponenten für die Elemente selbst dient. </font><font style="vertical-align: inherit;">Die Struktur wird ungefähr wie folgt sein:</font></font><br>
<br>
<pre><code class="javascript hljs">/ sections<font></font>
 -- FirstScreen.vue<font></font>
/ elements<font></font>
 -- Text.vue<font></font>
 -- Logo.vue<font></font>
 -- Button.vue<font></font>
 -- SocialIcons.vue<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es </font><font style="vertical-align: inherit;">wäre eine äußerst unkluge Entscheidung </font><font style="vertical-align: inherit;">, </font><font style="vertical-align: inherit;">alle Komponenten von Elementen gleichzeitig </font><font style="vertical-align: inherit;">zur </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FirstScreen-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Vorlage hinzuzufügen </font><font style="vertical-align: inherit;">und sie dann unter Bedingungen zu wechseln. </font><font style="vertical-align: inherit;">Für solche Aufgaben gibt es ein einfaches und wunderbares Werkzeug:</font></font><br>
<br>
<pre><code class="javascript hljs">&lt;component :is=<span class="hljs-string">"%componentName%"</span>/&gt;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Komponentenelement</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mit dem Attribut </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: is</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> schreibt </font><font style="vertical-align: inherit;">einfach den Namen der Komponente. </font><font style="vertical-align: inherit;">Und dank ihm ist unsere Aufgabe einfach gelöst:</font></font><br>
<br>
<pre><code class="javascript hljs">&lt;script&gt;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span>  {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'FirstScreen'</span>,<font></font>
<font></font>
  data () {<font></font>
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">elements</span>: [
        <span class="hljs-string">'Text'</span>,
        <span class="hljs-string">'Logo'</span>,
        <span class="hljs-string">'Button'</span>,<font></font>
      ],<font></font>
    }<font></font>
  }<font></font>
}<font></font>
&lt;/script&gt;<font></font>
<font></font>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"first-screen"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">component</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"element in elements"</span> <span class="hljs-attr">:is</span>=<span class="hljs-string">"element"</span>/&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Elements-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Array haben </font><font style="vertical-align: inherit;">wir die Namen der Komponenten geschrieben und diese Komponenten dann einfach in einer Schleife innerhalb der </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FirstScreen-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Vorlage </font><i><font style="vertical-align: inherit;">ausgegeben</font></i><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Um unserem Abschnitt ein Element mit den </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Symbolen</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sozialer Netzwerke hinzuzufügen, müssen wir nur </font><i><font style="vertical-align: inherit;">this.elements.push ('SocialIcons')</font></i><font style="vertical-align: inherit;"> ausführen </font><font style="vertical-align: inherit;">.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de491114/index.html">Kluger Umzug oder wie man ein Unternehmen für die Arbeit auswählt und es nicht bereut</a></li>
<li><a href="../de491116/index.html">Moderne Identifikationsstandards: OAuth 2.0, OpenID Connect, WebAuthn</a></li>
<li><a href="../de491118/index.html">Entwicklerherz: Devkits der 5. Konsolengeneration (Teil 1)</a></li>
<li><a href="../de491120/index.html">$ mol: 4 Jahre später</a></li>
<li><a href="../de491122/index.html">Forensische Analyse von HiSuite-Backups</a></li>
<li><a href="../de491132/index.html">Wenn der Bloom-Filter nicht passt</a></li>
<li><a href="../de491134/index.html">5 Stufen der Unvermeidlichkeit der Annahme der ISO / IEC 27001-Zertifizierung. Negation</a></li>
<li><a href="../de491136/index.html">Projizieren von Inhalten in Angular oder verlorene ng-Inhaltsdokumentation</a></li>
<li><a href="../de491138/index.html">Satelliten- und Ansible Tower-Integration</a></li>
<li><a href="../de491146/index.html">UML für Entwickler</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>