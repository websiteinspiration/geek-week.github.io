<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘©ğŸ¿â€ğŸ¨ ğŸ…±ï¸ ğŸ¤ ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨SDKã®ãªã„Pythonã®Kubernetesã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ ğŸ– ğŸ§‘ğŸ» â›…ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Goã¯ç¾åœ¨ã€äººã€…ãŒKubernetesã®ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã‚’æ›¸ãã“ã¨ã‚’é¸æŠã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã®ä¸­ã§ç‹¬å è€…ã§ã™ã€‚æ¬¡ã®ã‚ˆã†ãªå®¢è¦³çš„ãªç†ç”±ãŒã‚ã‚Šã¾ã™ã€‚
 
 

1. Go- Operator SDKã§ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚’é–‹ç™ºã™ã‚‹ãŸã‚ã®å¼·åŠ›ãªãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãŒã‚ã‚Šã¾ã™ã€‚
2. Goã¯ã€Dockerã‚„Kuberne...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨SDKã®ãªã„Pythonã®Kubernetesã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/459320/"><img src="https://habrastorage.org/webt/yo/3r/fn/yo3rfndq6dajcymrpuowr3esuea.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Goã¯ç¾åœ¨ã€äººã€…ãŒKubernetesã®ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã‚’æ›¸ãã“ã¨ã‚’é¸æŠã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã®ä¸­ã§ç‹¬å è€…ã§ã™ã€‚</font><font style="vertical-align: inherit;">æ¬¡ã®ã‚ˆã†ãªå®¢è¦³çš„ãªç†ç”±ãŒã‚ã‚Šã¾ã™ã€‚</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Go- </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Operator SDKã§ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚’é–‹ç™ºã™ã‚‹ãŸã‚ã®å¼·åŠ›ãªãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãŒã‚ã‚Š</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ã¾ã™</font></a><font style="vertical-align: inherit;">ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Goã¯ã€Dockerã‚„Kubernetesãªã©ã®é€†ã•ã¾ã®ã‚¢ãƒ—ãƒªã‚’ä½œæˆã—ã¦ã„ã¾ã™ã€‚</font><font style="vertical-align: inherit;">Goã§ç‹¬è‡ªã®ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚’ä½œæˆã™ã‚‹ã«ã¯-ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã¨åŒã˜è¨€èªã‚’è©±ã—ã¾ã™ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Goã®é«˜æ€§èƒ½ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã€ç®±ã‹ã‚‰å‡ºã—ã¦åŒæ™‚å®Ÿè¡Œã‚’æ“ä½œã™ã‚‹ãŸã‚ã®ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ„ãƒ¼ãƒ«ã€‚</font></font></li>
</ol><br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NB</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼šã¡ãªã¿ã«ã€</font><font style="vertical-align: inherit;">å¤–å›½ã®è‘—è€…ã«ã‚ˆã‚‹ç¿»è¨³ã®1ã¤ã§ã€</font><font style="vertical-align: inherit;">Go </font><font style="vertical-align: inherit;">ã«</font><font style="vertical-align: inherit;">ç‹¬è‡ªã®æ¼”ç®—å­ã‚’</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¨˜è¿°ã™ã‚‹</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–¹æ³•</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ã«ã¤ã„ã¦</font></a><font style="vertical-align: inherit;">ã¯</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">æ—¢ã«èª¬æ˜</font></a><font style="vertical-align: inherit;">ã—ã¾ã—ãŸ</font><font style="vertical-align: inherit;">ã€‚</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã—ã‹ã—ã€å›²ç¢ã®å­¦ç¿’ãŒæ™‚é–“ã®ä¸è¶³ã‚„ã€æ ¹æœ¬çš„ã«ã¯ã‚„ã‚‹æ°—ã«ã‚ˆã£ã¦å¦¨ã’ã‚‰ã‚ŒãŸã‚‰ã©ã†ã§ã—ã‚‡ã†ï¼Ÿ</font><font style="vertical-align: inherit;">ã“ã®è¨˜äº‹ã§ã¯ã€ã»ã¨ã‚“ã©ã™ã¹ã¦ã®DevOpsã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãŒçŸ¥ã£ã¦ã„ã‚‹æœ€ã‚‚ä¸€èˆ¬çš„ãªè¨€èªã®1ã¤ã§ã‚ã‚‹</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Python</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚’ä½¿ç”¨ã—ã¦ã€ç¢ºå®Ÿãªæ¼”ç®—å­ã‚’ä½œæˆã™ã‚‹æ–¹æ³•ã®ä¾‹ã‚’ç¤ºã—ã¾ã™</font><font style="vertical-align: inherit;">ã€‚</font></font><a name="habracut"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‡ºä¼šã„ï¼šã‚³ãƒ”ãƒ¼ãƒ©ã‚¤ã‚¿ãƒ¼-ã‚³ãƒ”ãƒ¼ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ï¼</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãŸã¨ãˆã°ã€æ–°ã—ã„åå‰ç©ºé–“ãŒè¡¨ç¤ºã•ã‚ŒãŸã¨ãã€ã¾ãŸã¯ConfigMapã¨Secretã®2ã¤ã®ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã®ã„ãšã‚Œã‹ãŒå¤‰æ›´ã•ã‚ŒãŸã¨ãã«ã€ConfigMapã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹ã‚ˆã†ã«è¨­è¨ˆã•ã‚ŒãŸå˜ç´”ãªã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ã®é–‹ç™ºã‚’è€ƒãˆã¦ã¿ã¾ã—ã‚‡ã†ã€‚</font><font style="vertical-align: inherit;">å®Ÿç”¨çš„ãªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®è¦³ç‚¹ã‹ã‚‰è¦‹ã‚‹ã¨ã€ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ã¯ã€ï¼ˆConfigMapã‚’æ›´æ–°ã™ã‚‹ã“ã¨ã«ã‚ˆã£ã¦ï¼‰ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ§‹æˆã‚’å¤§é‡ã«æ›´æ–°ã™ã‚‹å ´åˆã‚„ã€ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆãƒ‡ãƒ¼ã‚¿ï¼ˆDockerãƒ¬ã‚¸ã‚¹ãƒˆãƒªã‚’æ“ä½œã™ã‚‹ãŸã‚ã®ã‚­ãƒ¼ï¼ˆåå‰ç©ºé–“ã«ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚’è¿½åŠ ã™ã‚‹å ´åˆï¼‰ãªã©ï¼‰ã‚’æ›´æ–°ã™ã‚‹å ´åˆã«å½¹ç«‹ã¡ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã ã‹ã‚‰</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€å„ªã‚ŒãŸã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ãŒæŒã¤ã¹ãã‚‚ã®</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼š</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ã¨ã®å¯¾è©±ã¯ã€</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚«ã‚¹ã‚¿ãƒ ãƒªã‚½ãƒ¼ã‚¹å®šç¾©</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆä»¥é™ã€CRDï¼‰</font><font style="vertical-align: inherit;">ã‚’ä½¿ç”¨ã—ã¦å®Ÿè¡Œã•ã‚Œ</font><font style="vertical-align: inherit;">ã¾ã™ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ã¯ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã§ãã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã“ã‚Œã‚’è¡Œã†ã«ã¯ã€ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ•ãƒ©ã‚°ã¨ç’°å¢ƒå¤‰æ•°ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dockerã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã¨Helmãƒãƒ£ãƒ¼ãƒˆã®ã‚¢ã‚»ãƒ³ãƒ–ãƒªãŒå®Œæˆã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ç°¡å˜ã«ï¼ˆæ–‡å­—é€šã‚Š1ã¤ã®ã‚³ãƒãƒ³ãƒ‰ã§ï¼‰Kubernetesã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã«ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã¾ã™ã€‚</font></font></li>
</ol><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CRD</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ãŒã©ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’æ¢ã—ã€ã©ã“ã‚’æ¢ã™ã¹ãã‹ã‚’çŸ¥ã‚‹ãŸã‚ã«ã¯ã€ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ã«ãƒ«ãƒ¼ãƒ«ã‚’è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font><font style="vertical-align: inherit;">å„ãƒ«ãƒ¼ãƒ«ã¯ã€å˜ä¸€ã®CRDã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦è¡¨ã•ã‚Œã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã“ã®CRDã«ã¯ã©ã®ã‚ˆã†ãªãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒã‚ã‚Šã¾ã™ã‹ï¼Ÿ</font></font><br>
<br>
<ol>
<li> <b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¢ã—ã¦ã„ã‚‹</font><b><font style="vertical-align: inherit;">ãƒªã‚½ãƒ¼ã‚¹ã®ã‚¿ã‚¤ãƒ—</font></b><font style="vertical-align: inherit;">ï¼ˆConfigMapã¾ãŸã¯Secretï¼‰ã€‚</font></font></li>
<li> <b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒªã‚½ãƒ¼ã‚¹ã‚’é…ç½®ã™ã‚‹</font><b><font style="vertical-align: inherit;">ãƒãƒ¼ãƒ ã‚¹ãƒšãƒ¼ã‚¹ã®ãƒªã‚¹ãƒˆ</font></b><font style="vertical-align: inherit;">ã€‚</font></font></li>
<li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚åå‰ç©ºé–“ã§ãƒªã‚½ãƒ¼ã‚¹ã‚’æ¤œç´¢ã—ã¾ã™ã€‚</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CRDã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="plaintext hljs">apiVersion: apiextensions.k8s.io/v1beta1<font></font>
kind: CustomResourceDefinition<font></font>
metadata:<font></font>
  name: copyrator.flant.com<font></font>
spec:<font></font>
  group: flant.com<font></font>
  versions:<font></font>
  - name: v1<font></font>
    served: true<font></font>
    storage: true<font></font>
  scope: Namespaced<font></font>
  names:<font></font>
    plural: copyrators<font></font>
    singular: copyrator<font></font>
    kind: CopyratorRule<font></font>
    shortNames:<font></font>
    - copyr<font></font>
  validation:<font></font>
    openAPIV3Schema:<font></font>
      type: object<font></font>
      properties:<font></font>
        ruleType:<font></font>
          type: string<font></font>
        namespaces:<font></font>
          type: array<font></font>
          items:<font></font>
            type: string<font></font>
        selector:<font></font>
          type: string</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãã—ã¦ã€ã™ãã«</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å˜ç´”ãªãƒ«ãƒ¼ãƒ«ã‚’</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½œæˆ</font><font style="vertical-align: inherit;">ã—ã¾ã™</font><font style="vertical-align: inherit;">ã€‚æ¬¡</font></font><code>default</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã®å½¢å¼ã®ãƒ©ãƒ™ãƒ«ã‚’æŒã¤ã™ã¹ã¦ã®ConfigMap </font><font style="vertical-align: inherit;">ã®åå‰ã§åå‰ç©ºé–“ã‚’æ¤œç´¢ã—ã¾ã™</font></font><code>copyrator: "true"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<pre><code class="plaintext hljs">apiVersion: flant.com/v1<font></font>
kind: CopyratorRule<font></font>
metadata:<font></font>
  name: main-rule<font></font>
  labels:<font></font>
    module: copyrator<font></font>
ruleType: configmap<font></font>
selector:<font></font>
  copyrator: "true"<font></font>
namespace: default</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã§ããŸï¼</font><font style="vertical-align: inherit;">æ¬¡ã«ã€ã©ã†ã„ã†ã‚ã‘ã‹ç§ãŸã¡ã®ãƒ«ãƒ¼ãƒ«ã«é–¢ã™ã‚‹æƒ…å ±ã‚’å–å¾—ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã‚µãƒ¼ãƒãƒ¼APIã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æ›¸ãè¾¼ã¾ãªã„ã‚ˆã†ã«ã€ã™ãã«äºˆç´„ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã“ã‚Œã‚’è¡Œã†ã«ã¯ã€æ—¢æˆã®Pythonãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ¼</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kubernetes-client</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚’ä½¿ç”¨ã—</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ã¾ã™</font></a><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">import</span> kubernetes
<span class="hljs-keyword">from</span> contextlib <span class="hljs-keyword">import</span> suppress<font></font>
<font></font>
<font></font>
CRD_GROUP = <span class="hljs-string">'flant.com'</span>
CRD_VERSION = <span class="hljs-string">'v1'</span>
CRD_PLURAL = <span class="hljs-string">'copyrators'</span><font></font>
<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">load_crd</span>(<span class="hljs-params">namespace, name</span>):</span><font></font>
    client = kubernetes.client.ApiClient()<font></font>
    custom_api = kubernetes.client.CustomObjectsApi(client)<font></font>
<font></font>
    <span class="hljs-keyword">with</span> suppress(kubernetes.client.api_client.ApiException):<font></font>
        crd = custom_api.get_namespaced_custom_object(<font></font>
            CRD_GROUP,<font></font>
            CRD_VERSION,<font></font>
            namespace,<font></font>
            CRD_PLURAL,<font></font>
            name,<font></font>
        )<font></font>
    <span class="hljs-keyword">return</span> {x: crd[x] <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> (<span class="hljs-string">'ruleType'</span>, <span class="hljs-string">'selector'</span>, <span class="hljs-string">'namespace'</span>)}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®ã‚³ãƒ¼ãƒ‰ã®çµæœã€æ¬¡ã®çµæœãŒå¾—ã‚‰ã‚Œã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="json hljs">{'ruleType': 'configmap', 'selector': {'copyrator': '<span class="hljs-literal">true</span>'}, 'namespace': ['default']}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã™ã°ã‚‰ã—ã„ï¼šã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ã®ãƒ«ãƒ¼ãƒ«ã‚’ãªã‚“ã¨ã‹å¾—ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚</font><font style="vertical-align: inherit;">ãã—ã¦æœ€ã‚‚é‡è¦ãªã“ã¨ã¯ã€Kubernetesã®æ–¹æ³•ã¨å‘¼ã°ã‚Œã‚‹æ–¹æ³•ã‚’å®Ÿè¡Œã—ãŸã“ã¨ã§ã™ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç’°å¢ƒå¤‰æ•°ã¾ãŸã¯ãƒ•ãƒ©ã‚°ï¼Ÿ</font><font style="vertical-align: inherit;">å…¨éƒ¨å–ã‚Šã¾ã™ï¼</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ã®ãƒ¡ã‚¤ãƒ³æ§‹æˆã«é€²ã¿ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ§‹æˆã™ã‚‹ã«ã¯ã€2ã¤ã®åŸºæœ¬çš„ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒãŒã‚ã‚Šã¾ã™ã€‚</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã™ã‚‹</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ç’°å¢ƒå¤‰æ•°ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ </font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€ãƒ‡ãƒ¼ã‚¿ã‚¿ã‚¤ãƒ—ã®ã‚µãƒãƒ¼ãƒˆã¨æ¤œè¨¼ã«ã‚ˆã‚Šã€è¨­å®šã‚’ã‚ˆã‚ŠæŸ”è»Ÿã«èª­ã¿å–ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</font><font style="vertical-align: inherit;">Pythonæ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ã¯ã€</font></font><code>argparser</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½¿ç”¨</font><font style="vertical-align: inherit;">ã™ã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«</font><font style="vertical-align: inherit;">ãŒã‚ã‚Šã¾ã™ã€‚</font><font style="vertical-align: inherit;">ãã®æ©Ÿèƒ½ã®è©³ç´°ã¨ä¾‹ã¯ã€</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¨˜è¼‰</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã•ã‚Œã¦ã„</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ã¾ã™</font></a><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®å ´åˆã€ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ•ãƒ©ã‚°ã®èª­ã¿å–ã‚Šã‚’è¨­å®šã™ã‚‹ä¾‹ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="python hljs">   parser = ArgumentParser(<font></font>
        description=<span class="hljs-string">'Copyrator - copy operator.'</span>,<font></font>
        prog=<span class="hljs-string">'copyrator'</span><font></font>
    )<font></font>
    parser.add_argument(<font></font>
        <span class="hljs-string">'--namespace'</span>,<font></font>
        type=str,<font></font>
        default=getenv(<span class="hljs-string">'NAMESPACE'</span>, <span class="hljs-string">'default'</span>),<font></font>
        help=<span class="hljs-string">'Operator Namespace'</span><font></font>
    )<font></font>
    parser.add_argument(<font></font>
        <span class="hljs-string">'--rule-name'</span>,<font></font>
        type=str,<font></font>
        default=getenv(<span class="hljs-string">'RULE_NAME'</span>, <span class="hljs-string">'main-rule'</span>),<font></font>
        help=<span class="hljs-string">'CRD Name'</span><font></font>
    )<font></font>
    args = parser.parse_args()</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸€æ–¹ã€Kubernetesã§ç’°å¢ƒå¤‰æ•°ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€ãƒãƒƒãƒ‰ã«é–¢ã™ã‚‹ã‚µãƒ¼ãƒ“ã‚¹æƒ…å ±ã‚’ã‚³ãƒ³ãƒ†ãƒŠã«ç°¡å˜ã«è»¢é€ã§ãã¾ã™ã€‚</font><font style="vertical-align: inherit;">ãŸã¨ãˆã°ã€æ¬¡ã®æ§‹æˆã§ãƒãƒƒãƒ‰ãŒå®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹åå‰ç©ºé–“ã«é–¢ã™ã‚‹æƒ…å ±ã‚’å–å¾—ã§ãã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="plaintext hljs">env:<font></font>
- name: NAMESPACE<font></font>
  valueFrom:<font></font>
     fieldRef:<font></font>
         fieldPath: metadata.namespace </code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¼”ç®—å­ãƒ­ã‚¸ãƒƒã‚¯</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ConfigMapã¨Secretã‚’æ“ä½œã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã‚’åˆ†é›¢ã™ã‚‹æ–¹æ³•ã‚’ç†è§£ã™ã‚‹ãŸã‚ã«ã€ç‰¹åˆ¥ãªã‚«ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">æ¬¡ã«ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿½è·¡ãŠã‚ˆã³ä½œæˆã™ã‚‹ãŸã‚ã«å¿…è¦ãªãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç†è§£ã§ãã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="plaintext hljs">LIST_TYPES_MAP = {<font></font>
    'configmap': 'list_namespaced_config_map',<font></font>
    'secret': 'list_namespaced_secret',<font></font>
}<font></font>
<font></font>
CREATE_TYPES_MAP = {<font></font>
    'configmap': 'create_namespaced_config_map',<font></font>
    'secret': 'create_namespaced_secret',<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¬¡ã«ã€APIã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰ã‚¤ãƒ™ãƒ³ãƒˆã‚’å—ä¿¡ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font><font style="vertical-align: inherit;">æ¬¡ã®ã‚ˆã†ã«å®Ÿè£…ã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">handle</span>(<span class="hljs-params">specs</span>):</span><font></font>
    kubernetes.config.load_incluster_config()<font></font>
    v1 = kubernetes.client.CoreV1Api()<font></font>
<font></font>
    <span class="hljs-comment">#      </span>
    method = getattr(v1, LIST_TYPES_MAP[specs[<span class="hljs-string">'ruleType'</span>]])<font></font>
    func = partial(method, specs[<span class="hljs-string">'namespace'</span>])<font></font>
<font></font>
    w = kubernetes.watch.Watch()<font></font>
    <span class="hljs-keyword">for</span> event <span class="hljs-keyword">in</span> w.stream(func, _request_timeout=<span class="hljs-number">60</span>):<font></font>
        handle_event(v1, specs, event)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚¤ãƒ™ãƒ³ãƒˆã‚’å—ã‘å–ã£ãŸã‚‰ã€ãã®å‡¦ç†ã®ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ã«é€²ã¿ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-comment">#  ,    </span>
ALLOWED_EVENT_TYPES = {<span class="hljs-string">'ADDED'</span>, <span class="hljs-string">'UPDATED'</span>}<font></font>
<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">handle_event</span>(<span class="hljs-params">v1, specs, event</span>):</span>
    <span class="hljs-keyword">if</span> event[<span class="hljs-string">'type'</span>] <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> ALLOWED_EVENT_TYPES:
        <span class="hljs-keyword">return</span><font></font>
<font></font>
    object_ = event[<span class="hljs-string">'object'</span>]<font></font>
    labels = object_[<span class="hljs-string">'metadata'</span>].get(<span class="hljs-string">'labels'</span>, {})<font></font>
<font></font>
    <span class="hljs-comment">#    selector'</span>
    <span class="hljs-keyword">for</span> key, value <span class="hljs-keyword">in</span> specs[<span class="hljs-string">'selector'</span>].items():
        <span class="hljs-keyword">if</span> labels.get(key) != value:
            <span class="hljs-keyword">return</span>
    <span class="hljs-comment">#   namespace'</span><font></font>
    namespaces = map(<font></font>
        <span class="hljs-keyword">lambda</span> x: x.metadata.name,<font></font>
        filter(<font></font>
            <span class="hljs-keyword">lambda</span> x: x.status.phase == <span class="hljs-string">'Active'</span>,<font></font>
            v1.list_namespace().items<font></font>
        )<font></font>
    )<font></font>
    <span class="hljs-keyword">for</span> namespace <span class="hljs-keyword">in</span> namespaces:
        <span class="hljs-comment">#  ,  namespace</span>
        object_[<span class="hljs-string">'metadata'</span>] = {
            <span class="hljs-string">'labels'</span>: object_[<span class="hljs-string">'metadata'</span>][<span class="hljs-string">'labels'</span>],
            <span class="hljs-string">'namespace'</span>: namespace,
            <span class="hljs-string">'name'</span>: object_[<span class="hljs-string">'metadata'</span>][<span class="hljs-string">'name'</span>],<font></font>
        }<font></font>
        <span class="hljs-comment">#   / </span><font></font>
        methodcaller(<font></font>
            CREATE_TYPES_MAP[specs[<span class="hljs-string">'ruleType'</span>]],<font></font>
            namespace,<font></font>
            object_<font></font>
        )(v1)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åŸºæœ¬çš„ãªãƒ­ã‚¸ãƒƒã‚¯ãŒæº–å‚™ã§ãã¾ã—ãŸï¼</font><font style="vertical-align: inherit;">ã“ã‚Œã‚’ã™ã¹ã¦1ã¤ã®Pythonãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ãƒ‘ãƒƒã‚¯ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font><font style="vertical-align: inherit;">ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã—</font></font><code>setup.py</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«é–¢ã™ã‚‹ãƒ¡ã‚¿æƒ…å ±ã‚’ãã“ã«æ›¸ãè¾¼ã¿</font><font style="vertical-align: inherit;">ã¾ã™</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">from</span> sys <span class="hljs-keyword">import</span> version_info<font></font>
<font></font>
<span class="hljs-keyword">from</span> setuptools <span class="hljs-keyword">import</span> find_packages, setup<font></font>
<font></font>
<span class="hljs-keyword">if</span> version_info[:<span class="hljs-number">2</span>] &lt; (<span class="hljs-number">3</span>, <span class="hljs-number">5</span>):
    <span class="hljs-keyword">raise</span> RuntimeError(
        <span class="hljs-string">'Unsupported python version %s.'</span> % <span class="hljs-string">'.'</span>.join(version_info)<font></font>
    )<font></font>
<font></font>
<font></font>
_NAME = <span class="hljs-string">'copyrator'</span><font></font>
setup(<font></font>
    name=_NAME,<font></font>
    version=<span class="hljs-string">'0.0.1'</span>,<font></font>
    packages=find_packages(),<font></font>
    classifiers=[<font></font>
        <span class="hljs-string">'Development Status :: 3 - Alpha'</span>,
        <span class="hljs-string">'Programming Language :: Python'</span>,
        <span class="hljs-string">'Programming Language :: Python :: 3'</span>,
        <span class="hljs-string">'Programming Language :: Python :: 3.5'</span>,
        <span class="hljs-string">'Programming Language :: Python :: 3.6'</span>,
        <span class="hljs-string">'Programming Language :: Python :: 3.7'</span>,<font></font>
    ],<font></font>
    author=<span class="hljs-string">'Flant'</span>,<font></font>
    author_email=<span class="hljs-string">'maksim.nabokikh@flant.com'</span>,<font></font>
    include_package_data=<span class="hljs-literal">True</span>,<font></font>
    install_requires=[<font></font>
        <span class="hljs-string">'kubernetes==9.0.0'</span>,<font></font>
    ],<font></font>
    entry_points={<font></font>
        <span class="hljs-string">'console_scripts'</span>: [
            <span class="hljs-string">'{0} = {0}.cli:main'</span>.format(_NAME),<font></font>
        ]<font></font>
    }<font></font>
)</code></pre><br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ³¨</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼šPythonç”¨ã®kubernetesã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«ã¯ã€ç‹¬è‡ªã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ãŒã‚ã‚Šã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¨Kubernetesãƒãƒ¼ã‚¸ãƒ§ãƒ³é–“ã®äº’æ›æ€§ã®è©³ç´°ã«ã¤ã„ã¦ã¯</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€äº’æ›æ€§ãƒãƒˆãƒªãƒƒã‚¯ã‚¹</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚’ã”è¦§ãã ã•ã„</font><font style="vertical-align: inherit;">ã€‚</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã‚Œã§ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="plaintext hljs">copyrator<font></font>
â”œâ”€â”€ copyrator<font></font>
â”‚   â”œâ”€â”€ cli.py #     <font></font>
â”‚   â”œâ”€â”€ constant.py # ,    <font></font>
â”‚   â”œâ”€â”€ load_crd.py #   CRD<font></font>
â”‚   â””â”€â”€ operator.py #    <font></font>
â””â”€â”€ setup.py #  </code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dockerã¨Helm</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dockerfileã¯é€”æ–¹ã‚‚ãªãå˜ç´”ã«ãªã‚Šã¾ã™ã€‚åŸºæœ¬çš„ãªpython-alpineã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’å–å¾—ã—ã¦ã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">æœ€é©åŒ–ã¯ã‚ˆã‚Šè‰¯ã„æ™‚æœŸã¾ã§å»¶æœŸã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="plaintext hljs">FROM python:3.7.3-alpine3.9<font></font>
<font></font>
ADD . /app<font></font>
<font></font>
RUN pip3 install /app<font></font>
<font></font>
ENTRYPOINT ["copyrator"]</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ã®é…ç½®ã‚‚éå¸¸ã«ç°¡å˜ã§ã™ã€‚</font></font><br>
<br>
<pre><code class="plaintext hljs">apiVersion: apps/v1<font></font>
kind: Deployment<font></font>
metadata:<font></font>
  name: {{ .Chart.Name }}<font></font>
spec:<font></font>
  selector:<font></font>
    matchLabels:<font></font>
      name: {{ .Chart.Name }}<font></font>
  template:<font></font>
    metadata:<font></font>
      labels:<font></font>
        name: {{ .Chart.Name }}<font></font>
    spec:<font></font>
      containers:<font></font>
      - name: {{ .Chart.Name }}<font></font>
        image: privaterepo.yourcompany.com/copyrator:latest<font></font>
        imagePullPolicy: Always<font></font>
        args: ["--rule-type", "main-rule"]<font></font>
        env:<font></font>
        - name: NAMESPACE<font></font>
          valueFrom:<font></font>
            fieldRef:<font></font>
              fieldPath: metadata.namespace<font></font>
      serviceAccountName: {{ .Chart.Name }}-acc</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æœ€å¾Œã«ã€å¿…è¦ãªæ¨©é™ã‚’æŒã¤ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ã«é©åˆ‡ãªå½¹å‰²ã‚’ä½œæˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="plaintext hljs">apiVersion: v1<font></font>
kind: ServiceAccount<font></font>
metadata:<font></font>
  name: {{ .Chart.Name }}-acc<font></font>
<font></font>
---<font></font>
apiVersion: rbac.authorization.k8s.io/v1beta1<font></font>
kind: ClusterRole<font></font>
metadata:<font></font>
  name: {{ .Chart.Name }}<font></font>
rules:<font></font>
  - apiGroups: [""]<font></font>
    resources: ["namespaces"]<font></font>
    verbs: ["get", "watch", "list"]<font></font>
  - apiGroups: [""]<font></font>
    resources: ["secrets", "configmaps"]<font></font>
    verbs: ["*"]<font></font>
---<font></font>
apiVersion: rbac.authorization.k8s.io/v1beta1<font></font>
kind: ClusterRoleBinding<font></font>
metadata:<font></font>
  name: {{ .Chart.Name }}<font></font>
roleRef:<font></font>
  apiGroup: rbac.authorization.k8s.io<font></font>
  kind: ClusterRole<font></font>
  name: {{ .Chart.Name }}<font></font>
subjects:<font></font>
- kind: ServiceAccount<font></font>
  name: {{ .Chart.Name }}-acc</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åˆè¨ˆ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã—ãŸãŒã£ã¦ã€æã‚Œã‚‹ã“ã¨ãªãéé›£ã—ã€Goã‚’å­¦ã¶ã“ã¨ãªãã€Pythonã§Kubernetesç”¨ã®ç‹¬è‡ªã®æ¼”ç®—å­ã‚’ã¾ã¨ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚ã‚‚ã¡ã‚ã‚“ã€å½¼ã«ã¯ã¾ã æˆé•·ã®ä½™åœ°ãŒã‚ã‚Šã¾ã™ã€‚å°†æ¥çš„ã«ã¯ã€ã„ãã¤ã‹ã®ãƒ«ãƒ¼ãƒ«ã‚’å‡¦ç†ã—ã€è¤‡æ•°ã®ã‚¹ãƒ¬ãƒƒãƒ‰ã§ä½œæ¥­ã—ã€CRDã®å¤‰æ›´ã‚’å€‹åˆ¥ã«ç›£è¦–ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™... </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚³ãƒ¼ãƒ‰ã‚’è©³ã—ãèª¿ã¹ã‚‹ãŸã‚ã«ã€</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒªãƒã‚¸ãƒˆãƒªã«é…ç½®ã—ã¾ã™</font></font></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚ Pythonã‚’ä½¿ç”¨ã—ã¦å®Ÿè£…ã•ã‚ŒãŸã‚ˆã‚Šæ·±åˆ»ãªã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ã®ä¾‹ãŒå¿…è¦ãªå ´åˆã¯ã€mongodbã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ãŸã‚ã®2ã¤ã®ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ï¼ˆ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœ€åˆ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¨</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2ç•ªç›®</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰ã«</font><font style="vertical-align: inherit;">æ³¨æ„ã‚’å‘ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PSãã—ã¦ã€Kubernetesã®ã‚¤ãƒ™ãƒ³ãƒˆã«å¯¾å‡¦ã™ã‚‹ã®ãŒé¢å€’ãªå ´åˆã‚„ã€Bashã®ä½¿ç”¨ã«æ…£ã‚Œã¦ã„ã‚‹å ´åˆã¯ã€</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚·ã‚§ãƒ«ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ã®</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å½¢ã§æ—¢è£½ã®ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ç”¨æ„ã—ã¦ã„</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ã¾ã™</font></a><font style="vertical-align: inherit;">ï¼ˆ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4æœˆã«</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ç™ºè¡¨</font></a><font style="vertical-align: inherit;">ã—ãŸï¼‰ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PPS</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç§ãŸã¡ã®ãƒ–ãƒ­ã‚°ã‚‚èª­ã‚“ã§ãã ã•ã„ï¼š</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kubernetes-clusterã®èª¿ç†ã¯ç°¡å˜ã§ä¾¿åˆ©ã§ã™ã‹ï¼Ÿ</font><font style="vertical-align: inherit;">ã‚¢ãƒ‰ã‚ªãƒ³ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚’ç™ºè¡¨</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> â€;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">â€œ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚·ã‚§ãƒ«ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ã®ç´¹ä»‹ï¼šKubernetesã®ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚’ã•ã‚‰ã«ç°¡å˜ã«ã™ã‚‹</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> â€;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">â€œ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kubernetesã®æ‹¡å¼µã¨è£œå®Œï¼ˆãƒ¬ãƒ“ãƒ¥ãƒ¼ã¨ãƒ“ãƒ‡ã‚ªãƒ¬ãƒãƒ¼ãƒˆï¼‰</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> â€;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">â€œ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Golangã§Kubernetesã®æ¼”ç®—å­ã‚’ä½œæˆã™ã‚‹</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> â€;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€Œ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kubernetesã®ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ï¼šã‚¹ãƒ†ãƒ¼ãƒˆãƒ•ãƒ«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œã™ã‚‹æ–¹æ³•</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€</font></font></li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja459310/index.html">ãƒ†ã‚¹ãƒˆè‡ªå‹•åŒ–ãƒ„ãƒ¼ãƒ«ã¾ãŸã¯ãƒ¢ãƒã‚¤ãƒ«ã‚¹ãƒ†ãƒ­ã‚¤ãƒ‰ãƒ†ã‚¹ã‚¿ãƒ¼</a></li>
<li><a href="../ja459312/index.html">è¦ªæ„›ãªã‚‹ã‚¢ã‚¸ãƒ£ã‚¤ãƒ«ã€ç§ã¯ãµã‚Šã‚’ã™ã‚‹ã®ã«ã†ã‚“ã–ã‚Šã§ã™</a></li>
<li><a href="../ja459314/index.html">Hash Match Joinã‚’è¦–è¦šåŒ–ã—ã¦å‡¦ç†ã—ã¾ã™</a></li>
<li><a href="../ja459316/index.html">Hydra 2019ï¼šæœ€åˆã®ãƒ›ãƒ¼ãƒ«ã®ç„¡æ–™æ”¾é€ã¨ã‚«ãƒ³ãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã§ã®äºˆå®šã«ã¤ã„ã¦</a></li>
<li><a href="../ja459318/index.html">TypeScriptã¨çŸ­ã„ã‚¹ãƒ—ãƒªãƒ³ãƒˆã€‚ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚¤ãƒ³ã‚¿ãƒ“ãƒ¥ãƒ¼ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ãƒ„ãƒ¼ãƒ«ã®ä½œæˆæ–¹æ³•</a></li>
<li><a href="../ja459322/index.html">å‡ºç‰ˆç¤¾ãƒ”ãƒ¼ã‚¿ãƒ¼ã€‚ã‚µãƒãƒ¼ã‚»ãƒ¼ãƒ«</a></li>
<li><a href="../ja459326/index.html">Kubernetesã§ã®è‡ªå‹•ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã¨ãƒªã‚½ãƒ¼ã‚¹ç®¡ç†ï¼ˆãƒ¬ãƒ“ãƒ¥ãƒ¼ã¨ãƒ“ãƒ‡ã‚ªãƒ¬ãƒãƒ¼ãƒˆï¼‰</a></li>
<li><a href="../ja459328/index.html">ã‚¯ãƒ©ã‚¹æœ€é«˜ã®ãŠé‡‘ã®ä¾¡å€¤-Mpow A5ï¼ˆ059ï¼‰</a></li>
<li><a href="../ja459330/index.html">ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼ã¨ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã®ãŸã‚ã®Bitrixï¼šæ„›ã¨æ†ã—ã¿</a></li>
<li><a href="../ja459334/index.html">YouTrack 2019.2ï¼šã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®ãƒãƒŠãƒ¼ã€ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆãƒšãƒ¼ã‚¸ã®æ”¹å–„ã€æ–°ã—ã„æ¤œç´¢ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãªã©</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>