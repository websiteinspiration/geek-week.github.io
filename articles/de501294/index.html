<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçñ üßòüèº ‚ò¶Ô∏è Was kann sich aus der Schw√§chung der Transaktionsisolation in Datenbanken ergeben? ü§úüèæ üî£ üë©üèº‚Äç‚öïÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo alle zusammen. In Kontakt Vladislav Rodin. Ich bin derzeit Leiter des High Load Architect-Kurses bei OTUS und unterrichte auch Kurse √ºber Softwa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Was kann sich aus der Schw√§chung der Transaktionsisolation in Datenbanken ergeben?</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/501294/"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hallo alle zusammen. </font><font style="vertical-align: inherit;">In Kontakt Vladislav Rodin. </font><font style="vertical-align: inherit;">Ich bin derzeit Leiter des High Load Architect-Kurses bei OTUS und unterrichte auch Kurse √ºber Softwarearchitektur. </font></font><br>
</i><br>
<b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie Sie vielleicht bemerkt haben, unterrichte ich neben dem Unterrichten auch urheberrechtlich gesch√ºtztes Material f√ºr den OTUS-Blog im Hub und m√∂chte mit dem heutigen Artikel zusammenfallen, um den </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"PostgreSQL"</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -Kurs zu starten </font><font style="vertical-align: inherit;">, der derzeit f√ºr die Rekrutierung offen ist.</font></font></i></b><br>
<br>
<img src="https://habrastorage.org/webt/wc/kz/hr/wckzhr5i0yusvkgrw6ibzhuu5rm.png"><br>
<hr><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Einf√ºhrung</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">letzte Mal haben</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sie und ich √ºber diese Transaktion in Datenbanken gesprochen, die f√ºr zwei Zwecke verwendet wurden: um Fehlertoleranz und Datenzugriff in einem wettbewerbsorientierten Umfeld sicherzustellen. </font><font style="vertical-align: inherit;">Um diese Aufgaben auszuf√ºhren, muss eine Transaktion √ºber ACID-Eigenschaften verf√ºgen. </font><font style="vertical-align: inherit;">Heute werden wir </font><font style="vertical-align: inherit;">in dieser Abk√ºrzung </font><font style="vertical-align: inherit;">ausf√ºhrlich √ºber den Buchstaben </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I (Isolation)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sprechen </font><font style="vertical-align: inherit;">.</font></font><br>
<a name="habracut"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Isolierung</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Isolation l√∂st das Problem des Zugriffs auf Daten in einem Wettbewerbsumfeld und bietet wirksamen Schutz vor Rennbedingungen. Im Idealfall bedeutet Isolation Serialisierung, dh eine Eigenschaft, die sicherstellt, dass das Ergebnis der parallelen Ausf√ºhrung von Transaktionen dasselbe ist, als ob sie nacheinander ausgef√ºhrt w√ºrden. Das Hauptproblem dieser Eigenschaft besteht darin, dass sie technisch sehr schwierig bereitzustellen ist und daher einen erheblichen Einfluss auf die Systemleistung hat. Aus diesem Grund wird die Isolation h√§ufig geschw√§cht, wodurch die Risiken einiger Anomalien akzeptiert werden, auf die weiter unten eingegangen wird. Die M√∂glichkeit, dass bestimmte Anomalien auftreten, kennzeichnet den Grad der Transaktionsisolation.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die bekanntesten Anomalien sind: Dirty Read, nicht wiederholbares Lesen, Phantom Read, aber tats√§chlich gibt es 5 weitere: Dirty Write, Aktualisierung des Cursors verloren, Update verloren, Leseversatz, Schreibversatz.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schmutziges Schreiben</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Wesentliche der Anomalie ist, dass Transaktionen nicht festgeschriebene Daten √ºberschreiben k√∂nnen. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/007/48f/64e/00748f64e3706c7ecd676eaabe4a0351.jpg" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diese Anomalie ist nicht nur gef√§hrlich, weil die Daten nach dem Festschreiben beider Transaktionen (wie im Bild) in Konflikt geraten k√∂nnen, sondern auch, weil die Atomizit√§t verletzt wird: Da wir das √úberschreiben nicht gesperrter Daten zulassen, ist nicht klar, wie eine Transaktion zur√ºckgesetzt werden kann, ohne die andere zu treffen . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Anomalie wird ganz einfach behandelt: Wir legen die Schreibsperre auf, bevor die Aufzeichnung beginnt, und verbieten anderen Transaktionen, die Aufzeichnung zu √§ndern, bis die Sperre aufgehoben wird.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schmutzige Lekt√ºre</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dirty Read bedeutet das Lesen nicht festgeschriebener Daten. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/334/54a/0a2/33454a0a2a3312fa8f010e33110ec5f3.jpg" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Probleme treten auf, wenn anhand einer Stichprobe einige Ma√ünahmen durchgef√ºhrt oder Entscheidungen getroffen werden m√ºssen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um die Anomalie zu beheben, k√∂nnen Sie eine Lesesperre aufh√§ngen, die jedoch die Leistung stark beeintr√§chtigt. </font><font style="vertical-align: inherit;">Es ist viel einfacher zu sagen, dass f√ºr eine Rollback-Transaktion der Anfangszustand der Daten (vor der Aufzeichnung) im System gespeichert werden muss. </font><font style="vertical-align: inherit;">Warum nicht von dort lesen? </font><font style="vertical-align: inherit;">Dies ist ziemlich kosteng√ºnstig, daher entfernen die meisten Datenbanken standardm√§√üig fehlerhaftes Lesen.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Update verloren</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Verlorene Aktualisierung bedeutet verlorene Aktualisierungen, und die √úbersetzung spiegelt genau das Wesentliche des Problems wider: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/7a7/185/a1b/7a7185a1b409181482510eec788255ae.jpg" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tats√§chlich wurde das Ergebnis der Transaktion T2 abgebrochen. </font><font style="vertical-align: inherit;">Diese Situation wird durch explizite oder implizite Schreibsperren behoben. </font><font style="vertical-align: inherit;">Das hei√üt, wir aktualisieren entweder einfach den Datensatz und dann tritt eine implizite Sperre auf, oder wir f√ºhren eine </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Auswahl f√ºr die Aktualisierung durch</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , wodurch eine Lese- und Schreibsperre auftritt. </font><font style="vertical-align: inherit;">Bitte beachten Sie, dass eine solche Operation ziemlich gef√§hrlich ist: Mit unserer ‚Äûunschuldigen‚Äú Lesung blockieren wir andere Lesungen. </font><font style="vertical-align: inherit;">Einige Datenbanken bieten eine sicherere </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Auswahl f√ºr die Freigabe</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mit der Sie Daten lesen, aber nicht √§ndern k√∂nnen.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cursor hat Update verloren</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F√ºr eine feinere Steuerung k√∂nnen Basen andere Werkzeuge anbieten, beispielsweise einen Cursor. </font><font style="vertical-align: inherit;">Ein Cursor ist eine Struktur, die eine Reihe von Linien enth√§lt und √ºber die Sie iterieren k√∂nnen. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Deklarieren Sie den Cursornamen f√ºr select_statement</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Der Inhalt des Cursors wird durch Auswahl beschrieben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Warum brauchen wir einen Cursor? </font><font style="vertical-align: inherit;">Tatsache ist, dass einige Datenbanken eine Sperre f√ºr alle Datens√§tze bieten, die durch Auswahl ausgew√§hlt wurden (Lesestabilit√§t), oder nur f√ºr den Datensatz, auf dem sich der Cursor gerade befindet (Cursorstabilit√§t). </font><font style="vertical-align: inherit;">Mit der Cursor-Stabilit√§t wird eine kurze Sperre implementiert, mit der wir die Anzahl der Sperren reduzieren k√∂nnen, wenn wir √ºber eine gro√üe Datenprobe iterieren. </font><font style="vertical-align: inherit;">Daher wird die verlorene Aktualisierungsanomalie f√ºr den Cursor separat hervorgehoben.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nicht wiederholbares Lesen</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nicht wiederholbares Lesen bedeutet, dass w√§hrend der Ausf√ºhrung unserer Transaktion 2 aufeinanderfolgende Lesevorg√§nge desselben Datensatzes zu unterschiedlichen Ergebnissen f√ºhren, da eine andere Transaktion zwischen diesen beiden Lesevorg√§ngen intervenierte, unsere Daten √§nderte und festgeschrieben wurde. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/3b8/ac7/be3/3b8ac7be3f4b29b3b20f8d4d72e52e35.jpg" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Warum ist das √ºberhaupt ein Problem? </font><font style="vertical-align: inherit;">Stellen Sie sich vor, der Zweck der Transaktion T2 im Bild besteht darin, alle Produkte auszuw√§hlen, deren Preis weniger als 150 cu betr√§gt </font><font style="vertical-align: inherit;">Jemand anderes hat den Preis auf 200 US-Dollar aktualisiert </font><font style="vertical-align: inherit;">Somit funktionierte der installierte Filter nicht. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diese Anomalien treten nicht mehr auf, wenn zweiphasige Sperren hinzugef√ºgt werden oder wenn der MVCC-Mechanismus verwendet wird, √ºber den ich separat sprechen m√∂chte.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Phantom gelesen</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Phantom liest Daten, die von einer anderen Transaktion hinzugef√ºgt wurden. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/946/4dc/24e/9464dc24e22f13034a28f3b798d0aadc.jpg" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn diese Anomalie auftritt, k√∂nnen Sie beispielsweise die falsche Auswahl des billigsten Produkts beobachten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Phantomwerte loszuwerden ist schon ziemlich schwierig. </font><font style="vertical-align: inherit;">Normales Blockieren reicht nicht aus, da wir nicht blockieren k√∂nnen, was noch nicht verf√ºgbar ist. </font><font style="vertical-align: inherit;">2PL-Systeme verwenden Predictive Locking, w√§hrend MVCC-Systeme einen Transaktionsplaner verwenden, um Transaktionen abzubrechen, die durch eine Einf√ºgung unterbrochen werden k√∂nnten. </font><font style="vertical-align: inherit;">Sowohl der erste als auch der zweite Mechanismus sind ziemlich schwer.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schr√§gstellung lesen</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Leseversatz entsteht, wenn wir mit mehreren Tabellen arbeiten, deren Inhalt sich konsistent √§ndern sollte. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Angenommen, es gibt Tabellen, die Beitr√§ge und ihre Metainformationen darstellen: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/b9c/982/e3e/b9c982e3e51222ea919510ce857a2ab6.jpg" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine Transaktion liest aus Tabellen, eine andere √§ndert sie: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/04e/df8/5a1/04edf85a1ceb8791f55ab6afa1c40b8f.jpg" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als Ergebnis der Transaktion T1 hat der Beitrag den Titel = Gut und aktualisiert_durch = T2, was eine gewisse Inkonsistenz darstellt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tats√§chlich ist dies ein nicht wiederholbarer Lesevorgang, der jedoch Teil mehrerer Tabellen ist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zur Korrektur kann T1 Sperren f√ºr alle zu lesenden Zeilen aufh√§ngen, wodurch verhindert wird, dass T2 Informationen √§ndert. </font><font style="vertical-align: inherit;">Bei MVCC wird die Transaktion T2 abgebrochen. </font><font style="vertical-align: inherit;">Der Schutz vor dieser Anomalie kann wichtig werden, wenn wir Cursor verwenden.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schiefe schreiben</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diese Anomalie l√§sst sich auch anhand eines Beispiels leichter erkl√§ren: Nehmen wir an, dass in unserem System mindestens ein Arzt im Dienst sein muss, aber beide √Ñrzte beschlie√üen, ihren Dienst zu k√ºndigen: Die </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/23a/f78/439/23af784391a4f9adaeb322e5e509f933.jpg" alt="Bild"><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/8ec/2cb/d15/8ec2cbd1598ce5fa1e4d22607284795a.jpg" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anomalie hat dazu gef√ºhrt, dass keiner der √Ñrzte im Dienst sein wird. Warum ist das passiert? Da die Transaktion eine Bedingung √ºberpr√ºft hat, die m√∂glicherweise von einer anderen Transaktion verletzt wurde, und aufgrund der Isolation, wurde diese √Ñnderung nicht angezeigt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies ist der gleiche nicht wiederholbare Lesevorgang. Alternativ k√∂nnen ausgew√§hlte Elemente Sperren f√ºr diese Datens√§tze aufh√§ngen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Schreibversatz und Leseversatz sind Kombinationen fr√ºherer Anomalien. Sie k√∂nnen einen Schreibversatz in Betracht ziehen, der im Wesentlichen ein Phantom-Lesevorgang ist. Stellen Sie sich eine Tabelle vor, in der die Namen der Mitarbeiter, ihr Gehalt und das Projekt, an dem sie arbeiten, aufgef√ºhrt sind:</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/ab4/61a/f1e/ab461af1ee01323db8377074875a044b.jpg" alt="Bild"><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/acd/126/e73/acd126e73fbe5310bfcb5bf0291e36c2.jpg" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als Ergebnis erhalten wir das folgende Bild: Jeder Manager war der Meinung, dass seine √Ñnderung nicht zum Budget f√ºhren w√ºrde, und nahm daher personelle √Ñnderungen vor, die insgesamt zu einem √úberlauf f√ºhrten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Ursache des Problems ist genau die gleiche wie beim Phantomlesen.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ergebnisse</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Schw√§chung der Transaktionsisolation in der Datenbank stellt einen Kompromiss zwischen Sicherheit und Leistung dar. Die Wahl dieser Stufe sollte auf der Grundlage potenzieller Risiken f√ºr das Unternehmen im Falle von Anomalien getroffen werden.</font></font><br>
<br>
<hr><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erfahren Sie mehr √ºber den Kurs.</font></font><br>
</a><br>
<hr></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de501282/index.html">Nebeneffekt von Coronavirus: Roboter werden unsere Aufgaben noch schneller erledigen</a></li>
<li><a href="../de501284/index.html">8 Fragen zu unbemannten Fahrzeugen aus dem Silicon Valley</a></li>
<li><a href="../de501286/index.html">Easygui Python Grundlagen. Teil 1</a></li>
<li><a href="../de501288/index.html">Beeilen Sie sich noch heute nicht, auf EDI und EDS umzusteigen: Fallstricke, die Sie m√∂glicherweise nicht kennen</a></li>
<li><a href="../de501292/index.html">Sch√§tzung der Kosten von Handelsschiffen. Arithmetik und gesunder Menschenverstand</a></li>
<li><a href="../de501296/index.html">Wie man eine Karriere als Programmierer macht, ohne ein Gesch√§ftsproblem zu l√∂sen</a></li>
<li><a href="../de501298/index.html">Erstellen Sie Ihr eigenes QGIS-Plugin-Repository</a></li>
<li><a href="../de501300/index.html">Reagieren und Atlaskit in Atlassian Server- und Rechenzentrums-Plugins</a></li>
<li><a href="../de501302/index.html">Bitte machen Sie keinen L√§rm</a></li>
<li><a href="../de501306/index.html">Erstellen einer Pipeline zur Bereitstellung von Graal Native Image f√ºr Endbenutzer</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>