<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏽‍🎤 👦🏽 😿 Examen et test du Huawei Dorado 5000V6 ✊🏼 👩🏽‍🤝‍👨🏿 👩🏻‍✈️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Il y a six mois, je commençais déjà à parler de la mise à jour de la gamme de stockage Huawei - Dorado V6. En fait, j'ai réussi à les connaître avant ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Examen et test du Huawei Dorado 5000V6</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/lanit/blog/493928/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2cd/1a0/1bc/2cd1a01bc464943673f99ff1e0d31f21.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y a six mois, je commençais déjà à parler de la mise à jour de la gamme de stockage Huawei - Dorado V6. En fait, j'ai réussi à les connaître avant l'annonce officielle, et il est logique qu'à cette époque je n'ai pas eu l'occasion de les toucher de mes propres mains. Dans mon article « </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Huawei Dorado V6: Sichuan Heat</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> », je me suis concentré sur les anciens modèles Dorado 8000 et 18000 V6, car du point de vue de l'architecture, ils étaient surtout intéressants à ce moment-là. Enfin, j'ai eu l'occasion de tester le système 5000V6 dans notre laboratoire et de parler davantage du côté technique de ces systèmes.</font></font><br>
<a name="habracut"></a><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/35c/b51/06b/35cb5106b670e7d371da8b6dd78bce6a.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D'une part, il s'agit d'une revue et d'un test du système 5000V6, d'autre part, c'est une suite logique de l'article précédent, car </font><font style="vertical-align: inherit;">au cours des six derniers mois, plus de détails sont apparus sur les différents composants du système, la logique de travail et les fonctionnalités implémentées. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais allons droit au but. </font><font style="vertical-align: inherit;">Comme ce système est plus familier - un système à double contrôleur, il a perdu certains des avantages de ses sœurs aînées.</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Manque de Frontend et Backend partagés.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ed6/201/20e/ed620120e6d1247dfba8ad4775fdf98a.jpg"></div></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">De plus, dans les systèmes 5000V6 et 6000V6, seuls deux processeurs Kunpeng 920 sont installés sur chacun des contrôleurs, et un dans le 3000V6.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si les mêmes étagères sont fournies pour 5000V6 et 6000V6 que pour 8000V6 et 18000V6 avec des puces Kunpeng, qui sont conçues pour accélérer le processus de reconstruction, et ces étagères sont connectées via 100 Go de RDMA, alors pour les modèles 3000V6 plus jeunes, seules les étagères SAS sont disponibles.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0fb/811/cbf/0fb811cbfbf2c45865364ac8f87c7c99.png"></div></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les modèles 5000V6 et 6000V6 sont conçus pour installer 36 SSD PALM ou 25 disques SSD SAS «ordinaires» de 2,5 pouces (sélectionnés lors de la configuration du système lors de la commande), le plus jeune 3000V6 ne prend en charge que 25 disques SSD SAS.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3000V6 prend en charge l'installation de jusqu'à trois cartes d'interface remplaçables à chaud sur le contrôleur, 5000V6 et 6000V6 prennent en charge six cartes.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme dans l'article précédent, il existe une note de bas de page concernant le NVMe de bout en bout: la prise en charge de NVMe sur RoCE v2 et NVMe sur TCP / IP est prévue dans un proche avenir. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sur le plan architectural, les systèmes à double contrôleur diffèrent bien sûr également.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8c5/311/835/8c531183543d80cc68454d83f8607674.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
OceanStor Dorado V6 utilise une architecture active-active qui possède les technologies suivantes.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Algorithme d'équilibrage de charge: équilibre les demandes de lecture et d'écriture reçues par chaque contrôleur.&nbsp;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cache global: permet aux LUN de ne pas avoir de propriétaires. </font><font style="vertical-align: inherit;">Chaque contrôleur traite les demandes de lecture et d'écriture reçues, fournissant un équilibrage de charge entre les contrôleurs.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RAID 2.0+: distribue uniformément les données sur tous les disques du pool de stockage, équilibrant la charge sur le disque.</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RAID 2.0+</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si les données ne sont pas stockées uniformément sur un SSD, certains SSD fortement chargés peuvent devenir un goulot d'étranglement du système. </font><font style="vertical-align: inherit;">OceanStor Dorado V6 utilise RAID 2.0+ pour répartir uniformément les données sur tous les LUN de chaque SSD, en équilibrant la charge entre les disques. </font><font style="vertical-align: inherit;">OceanStor Dorado V6 implémente RAID 2.0+ comme suit:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plusieurs SSD forment un pool de stockage</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chaque SSD est divisé en blocs de taille fixe (généralement 4 Mo par bloc) pour simplifier la gestion de l'espace logique</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">des morceaux de différents SSD forment un groupe de morceaux basé sur une politique RAID définie par l'utilisateur</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le groupe de morceaux est divisé en «grains» (généralement 8 Ko), qui sont la plus petite unité pour les volumes</font></font></li>
</ul><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f2f/078/498/f2f0784987ff6f097560add9447b6ea1.png"></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ROW Full-Stripe Write</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les puces de mémoire flash sur les SSD peuvent être effacées un nombre limité de fois. </font><font style="vertical-align: inherit;">Dans le mode de réécriture RAID traditionnel (écriture sur place), les données chaudes du SSD sont continuellement écrasées et ses puces flash s'usent rapidement. </font><font style="vertical-align: inherit;">OceanStor Dorado V6 utilise un enregistrement en écriture entièrement redirectionnelle (ROW) pour les données nouvelles et anciennes. </font><font style="vertical-align: inherit;">Il alloue une nouvelle puce flash pour chaque enregistrement, en équilibrant le nombre de fois que toutes les puces flash sont effacées. </font><font style="vertical-align: inherit;">Cela réduit considérablement la charge du processeur sur le contrôleur lui-même et la charge de lecture / écriture sur le SSD pendant le processus d'écriture, augmentant les performances du système à différents niveaux RAID.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/704/861/180/704861180772c1d39a355463eca02b89.png"></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hiérarchisation des E / S de bout en bout</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour garantir une latence cohérente pour certains types d'E / S, les contrôleurs OceanStor Dorado V6 marquent chaque opération d'E / S en priorité en fonction de son type. </font><font style="vertical-align: inherit;">Cela permet au système de planifier le processeur et d'autres ressources et de les hiérarchiser, offrant une garantie de latence en fonction des priorités d'E / S. </font><font style="vertical-align: inherit;">En particulier, après avoir reçu plusieurs SSD d'E / S, vérifiez leurs priorités et traitez principalement les opérations avec une priorité plus élevée. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
OceanStor Dorado V6 classe les opérations d'E / S dans les cinq types suivants et les hiérarchise par ordre décroissant, offrant une réponse d'E / S interne et externe optimale:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">opérations de lecture / écriture</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fonctionnalités d'E / S avancées</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rebild</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vider le cache</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Collecte des ordures</font></font></li>
</ul><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a58/69f/eb7/a5869feb7c729344df874a13f3b4d39c.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sur chaque disque, en plus de prioriser les opérations d'entrée / sortie, OceanStor Dorado V6 permet également des requêtes de lecture de haute priorité pour interrompre les opérations d'écriture et d'effacement en cours. </font><font style="vertical-align: inherit;">Dans ce cas, le délai de lecture du disque (s'il n'y avait pas de données dans le cache) affecte directement le délai de lecture de l'hôte. </font><font style="vertical-align: inherit;">En règle générale, un lecteur flash SSD effectue trois opérations: lecture, écriture et effacement. </font><font style="vertical-align: inherit;">Le retard d'effacement est de 5 ms à 15 ms, le retard d'écriture est de 2 ms à 4 ms et le retard de lecture est de quelques dizaines de microsecondes à 100 microsecondes. </font><font style="vertical-align: inherit;">Lorsque la puce flash effectue une opération d'écriture ou d'effacement, l'opération de lecture doit attendre la fin de l'opération en cours, ce qui entraîne une augmentation significative du délai de lecture.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Boîtier de disque intelligent</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme je l'ai écrit dans un article précédent, les nouvelles étagères à disques sont équipées de leur propre processeur et RAM. Cela vous permet de transférer des tâches telles que la récupération après une panne de disque à partir des contrôleurs. Cela réduit considérablement la charge sur les contrôleurs en cas de récupération de données en raison de pannes de disque. La figure suivante montre le processus de récupération de données dans une seule étagère de disque en utilisant RAID 6 (21 + 2) comme exemple. Si le lecteur D1 est défectueux, le contrôleur doit lire D2-D21 et P, puis recompter D1. Au total, 21 blocs de données doivent être lus à partir des disques. Les opérations de lecture et de restauration consomment de grandes ressources processeur.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/797/a68/25b/797a6825b40fe83972747d60963a7099.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'étagère Smart Disk Enclosure reçoit une demande de restauration et lit les données pour calculer localement les données de parité. </font><font style="vertical-align: inherit;">Il lui suffit ensuite de transférer les données de parité au contrôleur. </font><font style="vertical-align: inherit;">La figure suivante montre que seuls quatre blocs de données de parité doivent être transférés entre le contrôleur et l'étagère de disque. </font><font style="vertical-align: inherit;">Cela permet d'économiser les performances des opérations de récupération en réduisant la bande passante réseau de cinq fois.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bb1/0be/92e/bb10be92e77854ae131965364eb5ff85.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par conséquent, en transférant cette charge aux processeurs de l'étagère, il est possible de réduire la charge sur les contrôleurs de la tâche de reconstruction à moins de 10%.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SmartDedupe et SmartCompression</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
OceanStor Dorado V6 effectue automatiquement la déduplication adaptative et la compression en fonction des caractéristiques des données utilisateur, maximisant ainsi l'efficacité. </font><font style="vertical-align: inherit;">Le processus adaptatif de déduplication et de compression est le suivant.</font></font><br>
<br>
<ol>
<li>   ,    ,              .     ,      .           .</li>
<li>         ,   «»  (SFP)       «».     ,            .</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lorsque plusieurs SFP identiques sont accumulés dans le tableau des «capacités», les données correspondant à ces SFP sont lues à partir des disques de déduplication après traitement. </font><font style="vertical-align: inherit;">Une fois la déduplication terminée, la table des empreintes digitales est mise à jour.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avant de compresser les données, OceanStor Dorado V6 utilise son propre algorithme de prétraitement pour déterminer la partie qui est difficile à compresser dans des blocs de données en fonction du format de données.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
OceanStor réorganise les données en les divisant en deux parties:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour la partie difficile à compresser, le système la comprime à l'aide d'un algorithme de compression Huawei spécialement développé</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d'autre part, le système utilise un algorithme de compression commun</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Certains fournisseurs de stockage utilisent déjà le compactage des données dans leur arsenal. </font><font style="vertical-align: inherit;">Mais ils utilisent généralement un bloc 4K ou 1K pour compresser les données. </font><font style="vertical-align: inherit;">Huawei est allé plus loin et utilise l'alignement des octets. </font><font style="vertical-align: inherit;">Je pense que l'illustration est claire.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/89e/9e1/1c7/89e9e11c728e732e06593718d8d78275.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, nous adaptons 32 Ko de données utilisateur en moins de 5 Ko. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La compression et la déduplication fonctionnent désormais toujours à partir du moment où vous installez la licence Storage E ﬃ cency appropriée. </font><font style="vertical-align: inherit;">Il ne peut pas être désactivé à partir du Device Mabager, mais si vous le souhaitez vraiment, vous pouvez le faire via la CLI. </font><font style="vertical-align: inherit;">Selon la logique du fournisseur, les technologies peu encombrantes devraient toujours fonctionner sur les SSD. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un point important tout au long de la ligne. </font><font style="vertical-align: inherit;">Bien qu'il n'y ait que cinq modèles, ils diffèrent entre eux par le volume du cache de chaque contrôleur:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OceanStor Dorado 3000 V6: 192 Go</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OceanStor Dorado 5000 V6: 256 Go / 512 Go</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OceanStor Dorado 6000 V6: 1024 Go</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OceanStor Dorado 8000 V6: 512 Go / 1024 Go / 2048 Go</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OceanStor Dorado 18000 V6: 512 Go / 1024 Go / 2048 Go</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme vous pouvez le voir, le volume total des anciens modèles ne change pas, mais le nombre de lecteurs change. </font><font style="vertical-align: inherit;">Selon les déclarations des ingénieurs de Huawei, ils n'ont tout simplement pas eu l'occasion de tester des systèmes sur un volume supérieur à 2Pb. </font><font style="vertical-align: inherit;">Théoriquement, ils soutiennent plus. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nombre maximum de disques / capacité maximale:&nbsp;</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OceanStor Dorado 3000 V6 - 1000 / 500TiB</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OceanStor Dorado 5000 V6 - 1200 / 1024TiB</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OceanStor Dorado 6000 V6 - 1500 / 2048TiB</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OceanStor Dorado 8000 V6 - 3200 / 2048TiB</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OceanStor Dorado 18000 V6 - 6400 / 2048TiB</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans un article précédent, j'ai oublié de mentionner quelles cartes d'interface sont généralement disponibles:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d13/0d5/b2f/d130d5b2fbf51e9fc453a4c28b0dbb94.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai déjà dit (dans l'article précédent et dans celui-ci) que Huawei propose des SSD de leur propre conception - Palm Size, ou, comme ils les appellent, des SSD développés par Huawei (HSSD) comme périphériques de stockage. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Outre le fait que l'entreprise considère que son développement est plus rapide, il propose également quelques fonctionnalités clés.</font></font><br>
<br>
<ul>
<li><b> </b><br>
<br>
 SSD         /    - NAND.             - NAND.<br>
<br>
HSSD      .     SSD       ,    /.     SSD        /     , ,  ,   ,     .</li>
<li><b>   (Bad Block)</b><br>
<br>
        - NAND. HSSD        /,      - NAND.    , SSD       (XOR)      . HSSD       ,        .</li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vérification des antécédents</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Après avoir stocké des données dans le flash NAND pendant une longue période, des erreurs de données peuvent se produire en raison d'interférences de lecture, d'interférences d'écriture ou de dysfonctionnements accidentels. </font><font style="vertical-align: inherit;">HSSD lit périodiquement les données d'une mémoire flash NAND, vérifie les changements de bits et écrit les changements de bits dans de nouvelles pages. </font><font style="vertical-align: inherit;">Ce processus pré-détecte et traite les risques, ce qui empêche efficacement la perte de données et améliore la sécurité et la fiabilité des données.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Passons donc directement aux tests. </font><font style="vertical-align: inherit;">Nous avons testé les deux variantes des contrôleurs 5000V6 avec 256 Go et 512 Go de cache. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le premier test a été, pour ainsi dire, un échauffement.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9ef/74f/e06/9ef74fe0601efe8dc8afc866acd8686d.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme nous pouvons le voir, sur ce profil de charge de 8k 50r / 50rw, la différence était d'environ 7% (220 kIOPs contre 205 kIOPs) et n'affectait que le nombre final d'IOPS, et le temps de réponse est resté au même niveau - 0,9 ms. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Soit dit en passant, il était très simple de déterminer que nous avons commencé à nous reposer sur le contrôleur, le système lui-même a signalé une utilisation élevée des processeurs du contrôleur.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ff3/02c/cae/ff302ccaef40a16017f20beffb4f24f8.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le deuxième test que nous utilisons pour tous les systèmes sur SSD consiste à les évaluer et à les comparer avec un profil plus complexe.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Profil</font></font></b><div class="spoiler_text">[global]<br>
direct=1<br>
thread=1<br>
iodepth=16<br>
filename=/dev/sdb<br>
ioengine=libaio<br>
runtime=3600000<br>
group_reptorting<br>
time_based<br>
[8r]<br>
rw=randread<br>
numjobs=24<br>
bs=8k<br>
<br>
[8w]<br>
rw=randwrite<br>
numjobs=24<br>
bs=8k<br>
<br>
[32r]<br>
rw=randread<br>
bs=32k<br>
numjobs=1<br>
<br>
[32w]<br>
rw=randwrite<br>
numjobs=1<br>
bs=32k<br>
<br>
[128r]<br>
rw=read<br>
bs=128k<br>
numjobs=1<br>
<br>
[128w]<br>
rw=write<br>
bs=128k<br>
numjobs=1<br>
<br>
[512r]<br>
rw=read<br>
bs=512k<br>
numjobs=1<br>
<br>
[512w]<br>
rw=write<br>
bs=512k<br>
numjobs=1<br>
</div></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e13/cbe/bbd/e13cbebbdd25d28e81f684e92cfa6ff7.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici, l'image est complètement différente. Si la différence du nombre d'E / S par seconde sur deux mille (172 kIOP contre 170 kIOP) n'est pas significative du tout, le retard a augmenté cinq fois (de 0,4 ms à 2,1 ms), nous indique que lorsque vous travaillez avec un grand bloc, une plus grande quantité de cache donne un avantage au système. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'année dernière, mes collègues et moi avons déjà </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">testé le Huawei Dorado 5000 V3</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , nous pouvons donc maintenant comparer ces deux systèmes.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/609/60b/444/60960b4448d639bca195d7df880beb78.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Progrès sur le visage. </font><font style="vertical-align: inherit;">Le profil de charge et la procédure de test étaient les mêmes dans les deux cas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien sûr, il serait bon de faire une comparaison avec les concurrents aussi, personnellement, mes mains étaient très égratignées par rapport au NetApp AFF A400, système Full NVMe, qui est apparu il n'y a pas si longtemps. </font><font style="vertical-align: inherit;">Malheureusement, elle n'a pas encore visité notre laboratoire de test, et comparer avec l'AFF A300 n'est pas tout à fait logique, même si le précédent Dorado 5000 V3 de Huawei était positionné comme son concurrent. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans la cour du 21e siècle, de nombreuses entreprises proposent différents programmes pour augmenter l'attractivité de leurs systèmes. </font><font style="vertical-align: inherit;">Huawei a décidé de suivre cette voie.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Garantie de capacité e ﬀ cace</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avec les nouveaux systèmes de stockage V6, vous pouvez compter en toute sécurité sur un stockage de données efficace avec compression et déduplication. En général, de nombreux fournisseurs sur le marché proposent déjà des programmes similaires qui, grâce à un stockage plus efficace, permettent un stockage garanti de plus de données sur le volume utile acquis du système de stockage de données.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le coût de chaque téraoctet de SSD est encore assez élevé, les technologies de compression et de déduplication sont donc extrêmement utiles et présentent une grande efficacité sur de nombreux types de données. </font><font style="vertical-align: inherit;">Si vos données sont vidéo, audio, images, données scientifiques, PDF, XML ou données cryptées, la déduplication ne sera pas effective, sinon la garantie fonctionne. </font><font style="vertical-align: inherit;">Même si vous avez acheté un système avec le nombre maximum de lecteurs installés, vous recevrez également avec les lecteurs du programme une étagère d'extension.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Flashver</font></font></h3><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c6f/2af/236/c6f2af236f647f254a720c8f0cae5219.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si, avec la baie, vous achetez le programme Huawei Hi-Care Onsite ou Co-Care ou supérieur, vous pouvez compter sur la mise à jour gratuite des contrôleurs vers de nouveaux modèles de la même ligne. Cela vous permet d'avoir le système le plus moderne et le plus productif sans avoir besoin d'acheter de nouveaux systèmes ou de migrer des données. Le processus de remplacement des contrôleurs se déroule également sans interruption de service. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous êtes un fan des interfaces et que vous souhaitez consulter le Gestionnaire de périphériques mis à jour, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OceanStor Dorado 18000 V6 6.0.0 DeviceManager</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est déjà disponible sur le portail Huawei </font><font style="vertical-align: inherit;">.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Malheureusement, ce système n'a été testé que pendant quelques jours, nous n'avons donc réussi à mesurer les performances. </font><font style="vertical-align: inherit;">Mais je voudrais également effectuer des tests fonctionnels, nos tests de défaillance préférés et vérifier certaines plaintes de performances qui concernaient la ligne V3 précédente lors de l'exécution de certaines opérations - il est important de comprendre quels changements dans la nouvelle ligne (et, par conséquent, dans le logiciel) se sont produits et quel effet ont-ils apporté. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je tiens à noter que la plupart des tests que je réalise pour mes articles sont du travail d'équipe. </font><font style="vertical-align: inherit;">J'exprime ma gratitude à mes collègues du Groupe d'intégration de l'entreprise </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Onlanta"</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> avec qui je travaille.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Soit dit en passant, nous recherchons un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">architecte système</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans notre équipe </font><font style="vertical-align: inherit;">.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr493918/index.html">Comment la pandémie a affecté les fournisseurs de VPN</a></li>
<li><a href="../fr493920/index.html">À propos d'une vulnérabilité dans ...</a></li>
<li><a href="../fr493922/index.html">Lunettes de vision crépusculaire. API Android Camera2 du Maker Part 5 Flash</a></li>
<li><a href="../fr493924/index.html">Arrêtez le convoyeur! Vous offrez des projecteurs Epson XGA au prix de SVGA</a></li>
<li><a href="../fr493926/index.html">Astuces pour tester les applications Web Laravel à l'aide de fabriques de modèles</a></li>
<li><a href="../fr493932/index.html">Présentation des enquêtes Google. Pourquoi il ne convient pas pour une recherche sérieuse</a></li>
<li><a href="../fr493934/index.html">Qui, comment et sur quoi ont exploré les océans du monde - nous analysons les bases de la NOAA</a></li>
<li><a href="../fr493938/index.html">Comment réduire les coûts dans AWS</a></li>
<li><a href="../fr493940/index.html">Protocole de traitement du coronavirus naturel 2019-nCoV</a></li>
<li><a href="../fr493942/index.html">Virus de base en 20 minutes ou pourquoi utiliser un antivirus</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>