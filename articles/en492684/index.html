<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üö¥üèø üçê üçæ Free proxy server for enterprise with domain authentication üë©üèº‚ÄçüöÄ üï† üçï</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="pfSense + Squid with https filtering + Single Sign-On (SSO) technology with Active Directory group filtering
 
 Brief Background
 At the enterprise, t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Free proxy server for enterprise with domain authentication</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/492684/"><img src="https://habrastorage.org/webt/di/mw/gp/dimwgp8eg4qj0yhrddh70ogizb8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
pfSense + Squid with https filtering + Single Sign-On (SSO) technology with Active Directory group filtering</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Brief Background</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
At the enterprise, there was a need to implement a proxy server with the ability to filter access to sites (including https) by groups from AD so that users do not enter any additional passwords, and it can be administered from the web interface. </font><font style="vertical-align: inherit;">Not a bad application, is it? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The correct answer would be to buy solutions like Kerio Control or UserGate, but as always there is no money, but there is a need. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Then the good old Squid comes to our rescue, but then again - where to get the web interface? </font><font style="vertical-align: inherit;">SAMS2? </font><font style="vertical-align: inherit;">Morally obsolete. </font><font style="vertical-align: inherit;">Here pfSense comes to the rescue.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Description</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This article will describe how to configure the Squid proxy server. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kerberos will be used to authorize users. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SquidGuard will be used to filter by domain groups. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For monitoring, Lightsquid, sqstat and pfSense internal monitoring systems will be used. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It will also solve a common problem associated with the introduction of single sign-on (SSO) technology, namely applications that try to go online under the computer account \ their system account.</font></font><br>
<a name="habracut"></a><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Preparing to Install Squid</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The basis will be taken pfSense, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Installation Instructions.</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Inside of which we organize authentication to the firewall itself using domain accounts. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instruction</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Very important! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Before starting the installation of Squid, you need to configure the DNS server in pfsense, make an A and PTR record for it on our DNS server and configure NTP so that the time does not differ from the time on the domain controller. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And on your network, you can provide the pfSense WAN interface with access to the Internet, and users on the local network can connect to the LAN interface, including via port 7445 and 3128 (in my case, 8080). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Everything is ready? Is the LDAP connection with the domain for authorization on pfSense installed and time synchronized? Fine. It's time to start the main process.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Installation and Preset</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Install Squid, SquidGuard and LightSquid from the pfSense package manager in the "System / Package Manager" section. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After successful installation, go to "Services / Squid Proxy server /" and first of all, in the Local Cache tab, configure caching, I set everything to 0, because </font><font style="vertical-align: inherit;">I don‚Äôt see much point in caching sites, and browsers do just fine with this. </font><font style="vertical-align: inherit;">After the settings, click the "Save" button at the bottom of the screen and this will give us the opportunity to make basic proxy settings. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The main settings are as follows: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/b89/765/898/b8976589832ffe6b3409f2968944a555.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The default port is 3128, but I prefer to use 8080.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The selected parameters in the Proxy Interface tab determine which interfaces our proxy server will listen to. Since this firewall is designed in such a way that it looks at the Internet with a WAN interface, even though the LAN and WAN can be in the same local subnet, I recommend using the LAN for the proxy. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lupbek is needed for sqstat to work. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Below you will find the settings of the Transparent (transparent) proxy, as well as SSL Filter, but we do not need them, our proxy will not be transparent, and for filtering https we will not deal with certificate substitution (we have document flow, bank clients, etc.), but just look at the handshake.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
At this stage, we need to go to our domain controller, create an account in it for authentication (you can use the one that is configured for authentication on pfSense itself). This is a very important factor - if you intend to use AES128 or AES256 encryption, check the appropriate box in the account settings. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If your domain is a very complex forest with a large number of directories or your .local domain, it is POSSIBLE, but not exact, you will have to use a simple password for this account, a bug known, but it may just not work with a complex password, you need check on a specific case. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/464/460/1bd/4644601bd11e0c408f396e888ad98a59.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After that, we create the key file for Kerberos, on the domain controller, open a command line with administrator rights and enter:</font></font><br>
<br>
<pre><code class="plaintext hljs"># ktpass -princ HTTP/pfsense.domain.local@DOMAIN.LOCAL -mapuser pfsense -pass 3EYldza1sR -crypto {DES-CBC-CRC|DES-CBC-MD5|RC4-HMAC-NT|AES256-SHA1|AES128-SHA1|All} -ptype KRB5_NT_PRINCIPAL -out C:\keytabs\PROXY.keytab</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Where we specify our FQDN pfSense, be sure to follow the register, enter our domain account and its password in the mapuser parameter, and select the encryption method in crypto, I used rc4 to work and in the -out field we select where we will send our ready-made key file. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After successfully creating the key file, we will send it to our pfSense, I used Far for this, but you can also do this with both commands and putty, or through the pfSense web interface in the Diagnostics \ Command Line section. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now we can edit \ create /etc/krb5.conf </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/187/5aa/131/1875aa131a28b9d023f1f60d8d9d7bcf.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
where /etc/krb5.keytab is the key file we created. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Be sure to check the operation of kerberos with kinit, if it does not work, then there is no point in reading.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configure Squid authentication and access list without authentication</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Having successfully configured kerberos we will fasten it to our Squid. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To do this, go to Services \ Squid Proxy Server and in the main settings go down to the very bottom, there we will find the "Advanced Settings" button. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the Custom Options (Before Auth) field, enter:</font></font><br>
<br>
<pre><code class="perl hljs"><span class="hljs-comment">#</span>
auth_param negotiate program /usr/<span class="hljs-keyword">local</span>/libexec/squid/negotiate_kerberos_auth -<span class="hljs-keyword">s</span> GSS_C_NO_NAME -k /usr/<span class="hljs-keyword">local</span>/etc/squid/squid.keytab -t none<font></font>
auth_param negotiate children <span class="hljs-number">1000</span><font></font>
auth_param negotiate keep_alive on<font></font>
<span class="hljs-comment"># </span><font></font>
acl auth proxy_auth REQUIRED<font></font>
acl nonauth dstdomain <span class="hljs-string">"/etc/squid/nonauth.txt"</span> 
<span class="hljs-comment"># </span><font></font>
http_access allow nonauth <font></font>
http_access deny !auth<font></font>
http_access allow auth</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
where </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">auth_param negotiate program / usr / local / libexec / squid / negotiate_kerberos_auth</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - selects the Kerberos authentication helper we need. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-s switch</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> with the value </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GSS_C_NO_NAME</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - defines the use of any account from the key file. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-k</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> switch </font><font style="vertical-align: inherit;">with the value </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/usr/local/etc/squid/squid.keytab</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - defines the use of this keytab file. In my case, this is the same keytab file that we created, which I copied to the / usr / local / etc / squid / directory and renamed it because I didn‚Äôt want to be friends with that directory, apparently there were not enough rights. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-t</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> switch </font><font style="vertical-align: inherit;">with the </font><i><font style="vertical-align: inherit;">-t none</font></i><font style="vertical-align: inherit;"> value</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Disables cyclic requests to the domain controller, which greatly reduces the load on it if you have more than 50 users. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For the duration of the test, you can also add the -d switch - that is, diagnostics, more logs will be displayed. </font></font><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">auth_param negotiate children 1000</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - specifies how many concurrent authorization processes can be run </font></font><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">auth_param the negotiate keep_alive on</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - does not break the connection while polling authorization chain </font></font><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the acl the auth proxy_auth REQUIRED is</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - creates and requires an access control list that includes users authenticated </font></font><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">acl nonauth dstdomain " /etc/squid/nonauth.txt "</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- We inform the squid about the nonauth access list which contains the destination domains, to which everyone will always be allowed access. </font><font style="vertical-align: inherit;">We create the file itself, and inside it we enter the domains in the format</font></font><br>
<br>
<pre><code class="perl hljs">.whatsapp.com<font></font>
.whatsapp.net</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Whatsapp is not in vain used as an example - it is very picky about authentication proxies and will not work if it is not allowed before authentication. </font></font><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http_access allow nonauth</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - allow access to this list to all </font></font><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http_access deny! auth</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - disable access by unauthorized users to other sites </font></font><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http_access allow auth</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - allow access by authorized users. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Everything, the squid itself is configured for you, now it's time to start filtering by groups.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configure SquidGuard</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Go to Services \ SquidGuard Proxy Filter. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the LDAP Options we enter the details of our account used for Kerberos authentication, but in the following format:</font></font><br>
<br>
<pre><code class="perl hljs">CN=pfsense,OU=service-accounts,DC=domain,DC=<span class="hljs-keyword">local</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If there are spaces and / or non-Latin characters, this entire entry should be enclosed in single or double quotes:</font></font><br>
<br>
<pre><code class="perl hljs"><span class="hljs-string">'CN=sg,OU=service-accounts,DC=domain,DC=local'</span>
<span class="hljs-string">"CN=sg,OU=service-accounts,DC=domain,DC=local"</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Next, be sure to put these checkmarks: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/3f8/f81/b8a/3f8f81b8a41103327f6a9421ed50dda0.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To cut off unnecessary </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DOMAIN \</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pfsense</font></font><s> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DOMAIN</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.LOCAL</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> to which the whole system is very sensitive. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now we go to Group Acl and bind our domain access groups, I use simple names in the spirit of group_0, group_1, etc. up to 3, where 3 is access only to the white list, and 0 is everything. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Groups are attached as follows:</font></font><br>
<br>
<pre><code class="perl hljs">ldapusersearch ldap:<span class="hljs-regexp">//dc</span>.domain.local:<span class="hljs-number">3268</span>/DC=DOMAIN,DC=LOCAL?sAMAccountName?<span class="hljs-function"><span class="hljs-keyword">sub</span>?(&amp;(<span class="hljs-title">sAMAccountName</span>=%<span class="hljs-title">s</span>)(<span class="hljs-title">memberOf</span>=<span class="hljs-title">CN</span>=<span class="hljs-title">group_0</span>%2<span class="hljs-title">cOU</span>=<span class="hljs-title">squid</span>%2<span class="hljs-title">cOU</span>=<span class="hljs-title">service</span>-<span class="hljs-title">groups</span>%2<span class="hljs-title">cDC</span>=<span class="hljs-title">DOMAIN</span>%2<span class="hljs-title">cDC</span>=<span class="hljs-title">LOCAL</span>))</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
we save our group, go to Times, there I created one gap meaning to always work, now go to Target Categories and create lists as you like, after creating the lists we return to our groups and inside the group we select with buttons who can and where not .</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LightSquid and sqstat</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If during the setup process we selected a loopback in the squid settings and opened the ability to access 7445 in the firewall both on our network and on pfSense itself, then when we go to Diagnostics \ Squid Proxy Reports we can open sqstat and Lighsquid without problems, for the latter You will need to come up with a username and password in the same place, and there is also the opportunity to choose the design.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Completion</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
pfSense is a very powerful tool that can do a lot of things - both traffic proxying and user access control to the Internet is just a fraction of all the functionality, nevertheless, in an enterprise with 500 machines this solved the problem and saved on the purchase of a proxy. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I hope this article helps someone solve a problem that is quite relevant for medium and large enterprises.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en492670/index.html">Create your functions in SIL</a></li>
<li><a href="../en492672/index.html">How to effectively switch to remote work?</a></li>
<li><a href="../en492676/index.html">Memory on magnetic cores in the Saturn 5 rocket</a></li>
<li><a href="../en492678/index.html">Development of the first project on the platform of Microsoft Dynamics 365 For Finance and Operations</a></li>
<li><a href="../en492682/index.html">Testosterone, why is it for men and how to maintain strength in old age</a></li>
<li><a href="../en492686/index.html">When Linux conntrack is no longer your friend</a></li>
<li><a href="../en492694/index.html">Recipes for ailing SQL queries</a></li>
<li><a href="../en492696/index.html">On what to test algorithms for the recognition and processing of identity documents?</a></li>
<li><a href="../en492700/index.html">Internet declarative shopping with Payment Request API and Angular</a></li>
<li><a href="../en492702/index.html">Machine translate. From the cold war to the present</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>