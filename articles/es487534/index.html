<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>   etcd 3.4.3: investigaci贸n de seguridad y confiabilidad de almacenamiento  ю </title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nota perev. : El contenido de este art铆culo no es del todo t铆pico de nuestro blog. Sin embargo, como mucha gente sabe, etcd se encuentra en el coraz贸n...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>etcd 3.4.3: investigaci贸n de seguridad y confiabilidad de almacenamiento</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/487534/"><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nota perev.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : El contenido de este art铆culo no es del todo t铆pico de nuestro blog. Sin embargo, como mucha gente sabe, etcd se encuentra en el coraz贸n de Kubernetes, por lo que este estudio, realizado por un consultor independiente en el campo de la confiabilidad, result贸 ser interesante entre los ingenieros que operan este sistema. Adem谩s, es interesante en el contexto de c贸mo los proyectos de c贸digo abierto que ya han demostrado su eficacia en la producci贸n se est谩n mejorando incluso a un nivel tan "bajo".</font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/xd/av/d3/xdavd35rjqklgnrnd-0wulkpayo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
La</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> b贸veda de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> valor-clave (KV),</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"> etc.</font></a><font style="vertical-align: inherit;"> es una base de datos distribuida basada en el algoritmo de consenso Raft. En un an谩lisis</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> realizado en 2014</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , encontramos que etcd 0.4.1 se vio afectado por las llamadas lecturas obsoletas por defecto</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(lea las operaciones que devuelven un valor antiguo e irrelevante debido a un retraso en la sincronizaci贸n - aprox. transl.)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Decidimos volver a etcd (esta vez, a la versi贸n 3.4.3) para evaluar nuevamente en detalle su potencial en el campo de la confiabilidad y la seguridad.</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hemos encontrado que la operaci贸n con pares de "clave-valor" estrictamente serializable y que los procesos del observador </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(relojes)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> entregados a cada cambio en la clave de orden. </font><font style="vertical-align: inherit;">Sin embargo, los </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bloqueos</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en etcd son fundamentalmente inseguros, y los riesgos asociados con ellos se ven exacerbados por un error, como resultado de lo cual no se verifica la relevancia del </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">arrendamiento</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> despu茅s de esperar el bloqueo. </font><font style="vertical-align: inherit;">Puede leer el comentario de los desarrolladores de etcd en nuestro informe </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en el blog del proyecto</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El estudio fue patrocinado por la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cloud Native Computing Foundation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (CNCF), parte de The Linux Foundation. </font><font style="vertical-align: inherit;">Se llev贸 a cabo en pleno cumplimiento de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">las pol铆ticas 茅ticas de Jepsen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Antecedentes</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El repositorio de Etc KV es un sistema distribuido dise帽ado para ser utilizado como base para la coordinaci贸n. Al igual que </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zookeeper</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Consul</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , etcd almacena peque帽as cantidades de estados raramente actualizados ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">por defecto, hasta 8 GB</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) en forma de un mapa de valores clave y proporciona </font><font style="vertical-align: inherit;">lecturas, escrituras y microtransacciones </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">estrictamente serializables en</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> todo el almac茅n de datos, as铆 como primitivas de coordinaci贸n como </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bloqueos</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , seguimiento </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(relojes)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y selecci贸n de l铆deres. Muchos sistemas distribuidos, como </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kubernetes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenStack</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , usan etcd para almacenar metadatos de cl煤ster, coordinar vistas coordinadas de datos, elegir un l铆der, etc.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En 2014, ya realizamos una evaluaci贸n de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">etcd 0.4.1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Luego descubrimos que, por defecto, es propenso a lecturas obsoletas debido a la optimizaci贸n. Si bien el </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">trabajo sobre los principios de Raft</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> discute la necesidad de dividir las operaciones de lectura en subprocesos y pasarlos a trav茅s de un sistema de consenso para garantizar la viabilidad, etcd lee en cualquier l铆der local sin verificar un estado m谩s actual en el l铆der m谩s nuevo. El equipo de desarrollo de etcd implement贸 el </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">indicador de qu贸rum opcional</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , y en la API de la versi贸n 3.0 de etcd </font><font style="vertical-align: inherit;">, la </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">linealizaci贸n</font></a><font style="vertical-align: inherit;"> para todas las operaciones, excepto las operaciones de seguimiento, </font><font style="vertical-align: inherit;">apareci贸 </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de forma predeterminada</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">
La API etcd 3.0 se concentra en un mapa plano KV donde las claves y los valores son opacos</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">opacos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> conjuntos de bytes. Usando consultas de rango, puede simular claves jer谩rquicas. Los usuarios pueden leer, escribir y eliminar claves, as铆 como monitorear el flujo de actualizaciones para una sola clave o rango de claves. El kit de herramientas etcd se complementa con arrendamientos (objetos variables con una vida 煤til limitada, que se mantienen en estado activo mediante solicitudes de latidos del cliente), bloqueos (objetos con nombre dedicados vinculados a arrendamientos) y la elecci贸n de l铆deres. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En la versi贸n 3.0, etcd ofrece una </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">API transaccional</font></a><font style="vertical-align: inherit;"> limitada</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para operaciones at贸micas con muchas claves. </font><font style="vertical-align: inherit;">En este modelo, una transacci贸n es una expresi贸n condicional con un predicado, una rama verdadera y una rama falsa. </font><font style="vertical-align: inherit;">Un predicado puede ser una conjunci贸n de varias comparaciones clave: igualdad o diversas desigualdades, de acuerdo con las versiones de una clave, revisi贸n global, etc., o el valor clave actual. </font><font style="vertical-align: inherit;">Las ramas verdaderas y falsas pueden incluir m煤ltiples operaciones de lectura y escritura; </font><font style="vertical-align: inherit;">todos ellos se aplican at贸micamente dependiendo del resultado de la estimaci贸n de predicados.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.1 Garant铆as de consistencia en la documentaci贸n</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A partir de octubre de 2019, la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">documentaci贸n de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> etcd </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">para la API</font></a><font style="vertical-align: inherit;"> establece que "todas las llamadas a la API demuestran coherencia constante, la forma m谩s s贸lida de garant铆a de coherencia disponible en los sistemas distribuidos". Esto no es as铆: la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">consistencia constante es</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> estrictamente m谩s d茅bil que la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">linealizaci贸n</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, y la linealizaci贸n es definitivamente alcanzable en sistemas distribuidos. Adem谩s, la documentaci贸n establece que "durante la operaci贸n de lectura, etcd no garantiza la transferencia del valor [m谩s reciente (medido por el reloj externo despu茅s de la finalizaci贸n de la consulta)] disponible en cualquier representante del cl煤ster" Esta tambi茅n es una afirmaci贸n demasiado conservadora: si etcd proporciona linealizaci贸n, las operaciones de lectura siempre est谩n asociadas con el estado comprometido m谩s reciente en orden de linealizaci贸n. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La documentaci贸n tambi茅n afirma que etcd garantiza el </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aislamiento serializable</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: todas las operaciones (incluso las que afectan a varias teclas) se realizan en un orden general. Los autores describen el aislamiento serializable como "el nivel de aislamiento m谩s fuerte disponible en sistemas distribuidos". Esto (dependiendo de lo que quiere decir con el "nivel de aislamiento") tampoco es cierto; la serializaci贸n estricta es m谩s fuerte que la simple serializaci贸n, mientras que la primera tambi茅n se puede lograr en sistemas distribuidos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La documentaci贸n dice que todas las operaciones (excepto el seguimiento) en etcd son linealizables por defecto. En este caso, la linealizaci贸n se define como la consistencia con relojes globales d茅bilmente sincronizados. Cabe se帽alar que dicha definici贸n no solo es incompatible con la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">definici贸n de linealizaci贸n</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Herlihy &amp; Wing, pero tambi茅n implica una violaci贸n de la causalidad: los nodos con horas de atenci贸n intentar谩n leer los resultados de las operaciones que ni siquiera han comenzado. Suponemos que etcd todav铆a no es una m谩quina del tiempo, y dado que se basa en el algoritmo Raft, se debe aplicar la definici贸n generalmente aceptada de linealizaci贸n. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dado que las operaciones de KV en etcd son serializables y linealizables, creemos que, de hecho, etcd proporciona </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">una serializaci贸n estricta</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> por defecto </font><font style="vertical-align: inherit;">. Esto tiene sentido, ya que todas las teclas, etcd est谩n en una sola m谩quina de estado, y Raft proporciona un pedido completo de todas las operaciones en esta m谩quina de estado. De hecho, todo el conjunto de datos etcd es un 煤nico objeto linealizable. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bandera opcional </font></font><code>serializable</code> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">baja</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El nivel de operaciones de lectura de consistencia serializable estricta a regular, que permite la lectura de un estado comprometido desactualizado. </font><font style="vertical-align: inherit;">Tenga en cuenta que la bandera </font></font><code>serializable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">no afecta la serializaci贸n de la historia; </font><font style="vertical-align: inherit;">Las operaciones de KV, etc. son serializables en todos los casos.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Prueba de desarrollo</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para crear </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un conjunto de pruebas,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> utilizamos la </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">biblioteca Jepsen</font></a><font style="vertical-align: inherit;"> adecuada</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Se analiz贸 la versi贸n, etcd 3.4.3 (la 煤ltima a partir de octubre de 19), trabajando en cl煤steres de Debian Stretch que constan de 5 nodos. Hemos implementado una serie de fallas en estos grupos, incluyendo particiones de red, aislando nodos individuales, dividiendo el grupo en una mayor铆a y una minor铆a, as铆 como particiones no transitivas con una mayor铆a superpuesta. Ellos "cayeron" y suspendieron subconjuntos aleatorios de nodos, y tambi茅n desactivaron deliberadamente a los l铆deres. Se introdujeron distorsiones temporales de hasta varios cientos de segundos, tanto a intervalos de varios segundos como a milisegundos ("parpadeo" r谩pido). Dado que etcd admite el cambio din谩mico de la cantidad de componentes, agregamos y eliminamos nodos al azar durante las pruebas.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las cargas de prueba incluyeron registros, conjuntos y pruebas transaccionales para verificar operaciones en KV, as铆 como cargas especializadas para cerraduras y relojes.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.1 Registros</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para evaluar la confiabilidad de etcd durante las operaciones KV, se desarroll贸 una </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prueba de registro</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> durante la cual se realizaron operaciones aleatorias de lectura, escritura, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">comparaci贸n y configuraci贸n</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en las teclas de la unidad. </font><font style="vertical-align: inherit;">Los resultados se </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">evaluaron</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> utilizando la </font><font style="vertical-align: inherit;">herramienta de linealizaci贸n de </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">Knossos</font></a><font style="vertical-align: inherit;"> utilizando el modelo de registro de comparaci贸n / instalaci贸n y la informaci贸n de versi贸n.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.2 Conjuntos</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para cuantificar las lecturas obsoletas, se desarroll贸 una </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prueba</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que utilizaba una transacci贸n de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">comparar y establecer</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para leer un conjunto de enteros de una sola clave y luego agregar un valor a este conjunto. </font><font style="vertical-align: inherit;">Durante la prueba, tambi茅n realizamos una lectura paralela de todo el conjunto. </font><font style="vertical-align: inherit;">Despu茅s de completar la prueba, los resultados se analizaron para detectar casos en los que el elemento, que se sab铆a que </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">estaba</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> presente en el conjunto, estaba ausente en los resultados de lectura. </font><font style="vertical-align: inherit;">Estos casos se usaron para cuantificar las lecturas obsoletas y las actualizaciones perdidas.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3 Anexar prueba</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para verificar la serializaci贸n estricta, se desarroll贸 una </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prueba de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adici贸n durante la cual las transacciones se le铆an en paralelo y se agregaban valores a las listas que constaban de conjuntos 煤nicos de enteros. Cada lista se almacen贸 en una clave etcd, y se hicieron adiciones dentro de cada transacci贸n, leyendo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cada clave que necesitaba ser cambiada</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en una transacci贸n, y luego </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">estas claves se escribieron y las lecturas se realizaron</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en la segunda transacci贸n, que </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">estaba protegida</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para asegurarse de que no haya cambiado ninguna clave grabada desde la primera lectura. </font><font style="vertical-align: inherit;">Al final de la prueba, trazamos la relaci贸n entre las transacciones en funci贸n de la prioridad en tiempo real y la relaci贸n de las operaciones de lectura y adici贸n. </font><font style="vertical-align: inherit;">La verificaci贸n de este gr谩fico en busca de bucles permiti贸 determinar si las operaciones eran estrictamente serializables. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si bien etcd evita que las transacciones escriban la misma clave varias veces, puede crear transacciones con hasta un registro por clave. </font><font style="vertical-align: inherit;">Tambi茅n nos aseguramos de que las operaciones de lectura dentro de la misma transacci贸n reflejaran operaciones de escritura anteriores de la misma transacci贸n.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.4 cerraduras</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como servicio de coordinaci贸n, etcd promete </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">soporte integrado para bloqueo distribuido</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Investigamos estas cerraduras de dos maneras. Al principio, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">se</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> generaron </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">solicitudes aleatorias de bloqueo y desbloqueo</font></a><font style="vertical-align: inherit;"> , recibiendo un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contrato de arrendamiento para cada bloqueo y dej谩ndolo abierto</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> utilizando el cliente incorporado, </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">etc.</font></a><font style="vertical-align: inherit;"> en el cliente Java </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><code> keepalive</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hasta su </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lanzamiento</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Probamos los resultados con Knossos para ver si forman una implementaci贸n linealizada del servicio de bloqueo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para una prueba m谩s pr谩ctica (y para cuantificar la frecuencia de fallas de bloqueo), utilizamos bloqueos y etcd para organizar </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la exclusi贸n mutua al realizar actualizaciones en el conjunto en memoria</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y busqu茅 actualizaciones perdidas en este conjunto. </font><font style="vertical-align: inherit;">Esta prueba nos permiti贸 confirmar directamente si los sistemas que usan etcd como mutex pueden actualizar de manera segura el estado interno. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La tercera versi贸n de la prueba de bloqueo involucr贸 </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">guardias en la clave de arrendamiento</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para modificar el conjunto almacenado en etcd.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5 Seguimiento</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para verificar que los relojes proporcionan informaci贸n sobre cada actualizaci贸n de clave, se cre贸 una clave como parte de la prueba y se </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">asignaron ciegamente</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> valores enteros 煤nicos. </font><font style="vertical-align: inherit;">Mientras tanto, los clientes compartieron </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">esta clave</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> durante varios segundos a la vez. </font><font style="vertical-align: inherit;">Cada vez despu茅s del inicio del reloj, el cliente comenz贸 con la revisi贸n en la que se hab铆a detenido la 煤ltima vez. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al final de este proceso, nos </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aseguramos de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que cada cliente observara la misma secuencia de cambios clave.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. Resultados</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1 Seguimiento desde la 0陋 revisi贸n</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al rastrear una clave, los clientes pueden especificar una </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">revisi贸n inicial</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que es "una revisi贸n opcional con la que se inicia el rastreo (inclusive)". Si el usuario desea ver cada operaci贸n con una determinada clave, puede especificar la primera revisi贸n de etcd. 驴Qu茅 es esta auditor铆a? </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El modelo de datos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y el </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">glosario</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> no proporcionan una respuesta a esta pregunta; las revisiones se describen como contadores de 64 bits que aumentan monot贸nicamente, pero no est谩 claro si etcd comienza desde 0 o 1. Es razonable suponer que la cuenta regresiva es desde cero (por si acaso). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por desgracia, esto est谩 mal. Al solicitar la revisi贸n n煤mero 0, etcd comienza a transmitir actualizaciones, comenzando con la </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">revisi贸n actual en el servidor m谩s una</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, pero no con el primero. </font><font style="vertical-align: inherit;">La solicitud de la primera revisi贸n da todos los cambios. </font><font style="vertical-align: inherit;">Este comportamiento </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">no</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est谩 </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">documentado en ninguna parte</font></a><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Creemos que, en la pr谩ctica, es poco probable que esta sutileza provoque problemas en la producci贸n, ya que la mayor铆a de los cl煤steres no persisten en la primera revisi贸n. </font><font style="vertical-align: inherit;">Adem谩s, etcd comprime la historia de todos modos con el tiempo, por lo que en aplicaciones del mundo real, lo m谩s probable, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en cualquier caso,</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> no requiere leer todas las versiones, comenzando con la primera revisi贸n. </font><font style="vertical-align: inherit;">Tal comportamiento est谩 justificado, pero no da帽ar铆a la descripci贸n correspondiente en la documentaci贸n.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.2 Cerraduras m铆ticas</font></font></h3><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La documentaci贸n de la API para los bloqueos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> establece que una clave bloqueada "se puede usar junto con las transacciones para garantizar que las actualizaciones en etc. se produzcan solo cuando el bloqueo sea de su propiedad". Es extra帽o, pero no proporciona ninguna garant铆a para las cerraduras en s铆 mismas y su prop贸sito no se explica. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sin embargo, en otros materiales, los mantenedores, etc., a煤n comparten informaci贸n sobre el uso de cerraduras. Por ejemplo, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">el anuncio de lanzamiento de etcd 3.2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> describe una aplicaci贸n </font></font><code>etcdctl</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para bloquear cambios en el intercambio de archivos en un disco. Adem谩s, en un problema en GitHub con una pregunta sobre el </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prop贸sito espec铆fico de los bloqueos,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> uno de los desarrolladores de etcd respondi贸 lo siguiente:</font></font><br>
<br>
<blockquote>     etcd  ,   (  )        ,     (        etcd), - :<br>
<br>
<ol>
<li>    etcd;</li>
<li>  - ( ,     etcd);</li>
<li>    .</li>
</ol></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Solo se da un ejemplo de este tipo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><code>  etcdctl</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: se us贸 una cerradura para proteger al equipo </font></font><code>put</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, pero no vincul贸 la clave de la cerradura a la actualizaci贸n. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por desgracia, esto no es seguro porque permite que varios clientes mantengan simult谩neamente el mismo bloqueo. El problema se ve agravado por la suspensi贸n de procesos, bloqueos de red o particiones, sin embargo, tambi茅n puede ocurrir en grupos completamente sanos sin fallas externas. Por ejemplo, en esta </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ejecuci贸n de prueba, el</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> proceso n煤mero 3 establece con 茅xito el bloqueo, y el proceso 1 obtiene el mismo bloqueo en paralelo incluso antes de que el proceso 3 tenga la oportunidad de eliminarlo:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ko/hy/lz/kohylznbfb8bh5a2m1l88kysrg4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La violaci贸n de mutex fue m谩s notable en los contratos de arrendamiento con TTL cortos: los TTL de 1, 2 y 3 segundos no pudieron proporcionar una exclusi贸n mutua despu茅s de solo unos minutos de prueba (incluso en grupos sanos). Las suspensiones de proceso y las particiones de red provocaron problemas a煤n m谩s r谩pido. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En una de nuestras variantes de prueba de bloqueo, se utilizaron mutexes etcd para proteger las actualizaciones conjuntas de un conjunto de enteros (como sugiere la documentaci贸n, etcd). Cada actualizaci贸n lee el valor de muestra actual en memoria y, despu茅s de aproximadamente un segundo, vuelve a escribir esta colecci贸n con la adici贸n de un elemento 煤nico. Con arrendamientos con un TTL de dos segundos, cinco procesos paralelos y una pausa de proceso cada cinco segundos, pudimos causar una p茅rdida constante de aproximadamente el 18% de las actualizaciones confirmadas.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este problema fue exacerbado por el mecanismo de bloqueo interno en etcd. Si el cliente esper贸 a que el otro cliente lo desbloqueara, perdi贸 su contrato de arrendamiento y, despu茅s de eso, se liber贸 el bloqueo, el servidor </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">no verific贸 dos veces el contrato</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">arrendamiento</font></a><font style="vertical-align: inherit;"> para asegurarse de que todav铆a es v谩lido antes de informarle al cliente que el bloqueo ahora est谩 detr谩s de 茅l. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La inclusi贸n de una verificaci贸n de arrendamiento adicional, as铆 como la selecci贸n de TTL m谩s largos y el establecimiento cuidadoso de los </font><font style="vertical-align: inherit;">tiempos </font><font style="vertical-align: inherit;">de </font><font style="vertical-align: inherit;">espera </font><font style="vertical-align: inherit;">de las </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">elecciones</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , reducir谩n la frecuencia de este problema. Sin embargo, las violaciones de mutex no se pueden eliminar por completo, ya que los bloqueos distribuidos son fundamentalmente inseguros en los sistemas asincr贸nicos. El Dr. Martin Kleppmann describe convincentemente esto en </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">su art铆culo.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sobre cerraduras distribuidas. Seg煤n 茅l, los servicios de bloqueo deben sacrificar la correcci贸n para mantener la viabilidad en los sistemas as铆ncronos: si el proceso falla mientras se controla el bloqueo, el servicio de bloqueo necesita alguna forma de forzar el desbloqueo. Sin embargo, si el proceso en realidad no cay贸, sino que simplemente se ejecuta lentamente o no est谩 disponible temporalmente, desbloquearlo puede llevar a que se mantenga en varios lugares al mismo tiempo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero incluso si el servicio de bloqueo distribuido usa, por ejemplo, alg煤n tipo de detector de falla m谩gica y puede garantizar la exclusi贸n mutua, en el caso de alg煤n recurso no local, su uso seguir谩 siendo inseguro. Suponga que el proceso A env铆a un mensaje a la base de datos D mientras mantiene un bloqueo. Despu茅s de eso, el proceso A se bloquea y el proceso B recibe un bloqueo y tambi茅n env铆a un mensaje a la base D. El problema es que un mensaje del proceso A (debido a la asincron铆a) puede aparecer despu茅s de un mensaje del proceso B, violando la excepci贸n mutua que se supon铆a que deb铆a proporcionar el bloqueo. . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para evitar este problema, es necesario confiar en el hecho de que </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">el propio sistema de almacenamiento</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> admitir谩 la correcci贸n de las transacciones o, si el servicio de bloqueo proporciona dicho mecanismo, utilice</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Token de </font><font style="vertical-align: inherit;">" </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cercado"</font></font></i><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que se incluir谩 en todas las operaciones realizadas por el titular de la cerradura. Asegurar谩 que no se produzcan operaciones repentinas del titular de la cerradura anterior entre las operaciones del propietario de la cerradura actual. Por ejemplo, en </font><font style="vertical-align: inherit;">el </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">servicio de bloqueo Chubby</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de Google </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">,</font></a><font style="vertical-align: inherit;"> estos tokens se llaman </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">secuenciadores</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . En etcd, puede usar la revisi贸n de la clave de bloqueo como un token de bloqueo ordenado globalmente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adem谩s, las teclas de bloqueo en etcd se pueden usar para proteger las actualizaciones transaccionales en el propio etcd. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verificaci贸n de la versi贸n de la clave de bloqueo como parte de la transacci贸n</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, los usuarios pueden evitar una transacci贸n si el bloqueo ya no se mantiene (es decir, la versi贸n de la clave de bloqueo es mayor que cero). </font><font style="vertical-align: inherit;">En nuestras pruebas, este enfoque nos permiti贸 aislar con 茅xito las operaciones de lectura-modificaci贸n-escritura en las que la escritura era la 煤nica transacci贸n protegida por bloqueo. </font><font style="vertical-align: inherit;">Este enfoque proporciona un aislamiento similar a los tokens de barrera, pero (como los tokens de barrera) no garantiza la atomicidad: un proceso puede bloquearse o perder un mutex durante una actualizaci贸n que consta de muchas operaciones, dejando a etcd en un estado l贸gicamente inconsistente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los resultados del trabajo en los temas del proyecto:</font></font><br>
<ul>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Los relojes que comienzan en la revisi贸n 0 comienzan m谩s tarde</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , no se ha decidido;</font></font></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Los bloqueos regresan despu茅s de bloquear sin verificar la propiedad</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - en el maestro;</font></font></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Las cerraduras no est谩n documentadas como inseguras</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , no resueltas.</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. Discusi贸n</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En nuestras pruebas, etc. 3.4.3 estuvo a la altura de las expectativas con respecto a las operaciones de KV: observamos una consistencia estrictamente serializable de lectura, escritura e incluso transacciones de m煤ltiples claves, a pesar de la suspensi贸n de procesos, bloqueos, manipulaci贸n del reloj y la red, as铆 como un cambio en el n煤mero de miembros del cl煤ster . </font><font style="vertical-align: inherit;">El comportamiento estrictamente serializable se implement贸 por defecto en las operaciones KV; </font><font style="vertical-align: inherit;">El rendimiento de las lecturas con el </font></font><code>serializable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">conjunto de </font><font style="vertical-align: inherit;">indicadores </font><font style="vertical-align: inherit;">condujo a la aparici贸n de lecturas obsoletas (como se describe en la documentaci贸n). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El monitor </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(relojes)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> funciona correctamente, al menos en las teclas individuales. </font><font style="vertical-align: inherit;">Hasta que la compresi贸n del historial destruy贸 los datos antiguos, el reloj emiti贸 con 茅xito cada actualizaci贸n clave.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sin embargo, result贸 que los bloqueos en etcd (como todos los bloqueos distribuidos) no proporcionan exclusi贸n mutua. Diferentes procesos pueden mantener la cerradura al mismo tiempo, incluso en cl煤steres saludables con relojes perfectamente sincronizados. La documentaci贸n con la API de bloqueo no dec铆a nada al respecto, y los ejemplos de bloqueos presentados no eran seguros. Sin embargo, algunos de los problemas con los bloqueos tuvieron que desaparecer despu茅s del lanzamiento de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">este parche</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como resultado de nuestra colaboraci贸n, el equipo de etcd realiz贸 varias modificaciones a la documentaci贸n (ya han aparecido en GitHub y se publicar谩n en futuras versiones del sitio web del proyecto). La p谩gina API de garant铆as de GitHub ahora establece que, por defecto, etcd es </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">estrictamente serializable</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y se ha eliminado la afirmaci贸n de que serial y serializable son los niveles m谩s fuertes de consistencia disponibles en los sistemas distribuidos. Con respecto a las revisiones, ahora se indica que el inicio debe ser </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">desde la unidad (1)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , aunque la documentaci贸n de la API </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">todav铆a no dice</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que un intento de comenzar desde la 0陋 revisi贸n dar谩 como resultado "eventos de salida que ocurrieron despu茅s de la revisi贸n actual m谩s 1" en lugar del esperado "despacho de todos los eventos". La documentaci贸n de los problemas de seguridad de la cerradura est谩 </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en desarrollo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Algunos cambios en la documentaci贸n, como describir el comportamiento especial de etcd al intentar leer, comenzando con una revisi贸n cero, a煤n requieren atenci贸n.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como de costumbre, enfatizamos que Jepsen prefiere un enfoque experimental para la verificaci贸n de seguridad: podemos confirmar la presencia de errores, pero no su ausencia. </font><font style="vertical-align: inherit;">Se est谩n haciendo esfuerzos considerables para encontrar problemas, pero no podemos probar la correcci贸n general de etcd.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.1 Recomendaciones</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si usa bloqueos en etcd, piense si los necesita por seguridad o simplemente para aumentar el rendimiento limitando probabil铆sticamente la concurrencia. Los bloqueos Etcd se pueden usar para aumentar el rendimiento, pero usarlos por motivos de seguridad puede ser arriesgado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En particular, si usa el bloqueo etcd para proteger un recurso compartido como un archivo, base de datos o servicio, este recurso deber铆a garantizar la seguridad </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sin</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bloqueo. Una forma de lograr esto es usar una </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ficha de bombardeo mon贸tono</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Puede ser, por ejemplo, una revisi贸n de etcd asociada con la clave de bloqueo retenida actual. El recurso compartido debe garantizar que una vez que el cliente haya utilizado el token</font></font><code>y</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para realizar alguna operaci贸n, cualquier operaci贸n con un token </font></font><code>x &lt; y</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ser谩 rechazada. Este enfoque no garantiza la atomicidad, pero s铆 garantiza que las operaciones dentro del marco de bloqueo se realicen en orden y no de forma intermitente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sospechamos que es poco probable que los usuarios comunes encuentren este problema. Pero si todav铆a </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">conf铆a</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en leer todos los cambios de etcd, comenzando con la primera revisi贸n, recuerde que necesita pasar 1, no 0. como par谩metro. Nuestros experimentos muestran que una revisi贸n cero en este caso significa "revisi贸n actual", no "Lo m谩s temprano".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Finalmente, los bloqueos y etcd (como todos los bloqueos distribuidos) enga帽an a los usuarios: pueden querer usarlos como bloqueos normales, pero se sorprender谩n mucho cuando se den cuenta de que estos bloqueos no proporcionan exclusi贸n mutua. </font><font style="vertical-align: inherit;">La documentaci贸n de la API, las publicaciones de blog, los problemas en GitHub no dicen nada sobre este riesgo. </font><font style="vertical-align: inherit;">Recomendamos que incluya informaci贸n en la documentaci贸n de etcd que los bloqueos no proporcionan exclusi贸n mutua y proporcione ejemplos de uso de tokens de barrera para actualizar el estado de los recursos compartidos en lugar de ejemplos que podr铆an conducir a la p茅rdida de actualizaciones.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.2 Planes adicionales</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El proyecto etcd se ha considerado estable durante varios a帽os: el algoritmo Raft basado en 茅l ha funcionado bien, la API para operaciones KV es simple y directa. Aunque algunas caracter铆sticas adicionales han recibido recientemente una nueva API, su sem谩ntica es relativamente simple. Creemos que ya hemos estudiado suficientes comandos b谩sicos como </font></font><code>get</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y </font></font><code>put</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, transacciones, bloqueo y seguimiento. Sin embargo, hay otras pruebas que deben realizarse. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por el momento, no hemos realizado una evaluaci贸n suficientemente detallada de las </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eliminaciones.</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: Puede haber casos l铆mite asociados con versiones y revisiones, cuando los objetos se crean y eliminan constantemente. En futuras pruebas, pretendemos someter las operaciones de eliminaci贸n a un estudio m谩s cuidadoso. Tampoco probamos las consultas de rango ni las operaciones de seguimiento con varias claves, aunque sospechamos que su sem谩ntica es similar a las operaciones con claves 煤nicas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En las pruebas, utilizamos la suspensi贸n de procesos, bloqueos, manipulaciones con el reloj, la red se dividi贸 y la composici贸n del cl煤ster cambi贸; Entre bastidores hab铆a problemas como da帽os en el disco y otras </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fallas bizantinas</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> a nivel de un nodo. Estas oportunidades pueden explorarse en futuras investigaciones. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El trabajo fue apoyado por la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cloud Native Computing Foundation.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, parte de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The Linux Foundation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , y cumple con </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">las pol铆ticas 茅ticas de Jepsen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Queremos agradecer al equipo de etcd por su ayuda, y a los siguientes representantes en particular: Chris Aniszczyk, Gyuho Lee, Xiang Li, Hitoshi Mitake, Jingyi Hu y Brandon Philips.</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PD del traductor</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lea tambi茅n en nuestro blog:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TiKV - base de datos distribuida de valores clave para la nube nativa</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ";</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zetcd de CoreOS: Reemplazando ZooKeeper con ... almacenamiento, etcd</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ";</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KeyDB como un reemplazo [potencial] para Redis</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ";</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bases de datos y Kubernetes (revisi贸n e informe de video)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ".</font></font></li>
</ul></div>
      
    </div><p class="reference-to-source js-reference-to-source">Source: https://habr.com/ru/post/undefined/</p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es487516/index.html">T茅cnicas de caza y t谩cticas de atacantes que usan archivos Prefetch</a></li>
<li><a href="../es487518/index.html">Productos radiactivos. Espectr贸metro de rayos gamma. Parte 2</a></li>
<li><a href="../es487522/index.html">Hacemos volar la terminal (parte 1)</a></li>
<li><a href="../es487524/index.html">驴Por qu茅 necesita un hackathon de inicio de hardware?</a></li>
<li><a href="../es487528/index.html">蟹屑械薪械薪懈 胁 锌芯谢蟹芯胁邪械谢泻芯屑 芯谐谢邪械薪懈懈 懈 锌芯谢懈懈泻械 泻芯薪懈写械薪懈邪谢薪芯懈 薪邪 械胁懈邪 啸邪斜邪</a></li>
<li><a href="../es487538/index.html">隆.NET Interactive ya est谩 aqu铆! El | Vista previa de Cuadernos .NET 2</a></li>
<li><a href="../es487540/index.html">HighLoad ++, Anastasia Tsymbalyuk, Stanislav Tselovalnikov (Sberbank): c贸mo nos convertimos en MDA</a></li>
<li><a href="../es487542/index.html">PRESENTE: cifrado en bloque ultraligero (traducci贸n del PRESENTE original: un cifrado en bloque ultraligero)</a></li>
<li><a href="../es487544/index.html">Documentaci贸n .NET: Novedades para enero</a></li>
<li><a href="../es487548/index.html">Nuevo experimento: llamar a los servicios .NET gRPC desde un navegador con gRPC-Web</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>