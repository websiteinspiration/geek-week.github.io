<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ“µ ğŸ¤¦ğŸ¾ â¬ ä¾‹ã¨ã—ã¦ç°¡å˜ãªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ãŸSpring Securityã§ã®ç™»éŒ²ã¨æ‰¿èª ğŸ’ ğŸ™ŒğŸ½ ğŸ–¨ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ã“ã‚“ã«ã¡ã¯ï¼
 
 ã“ã®è¨˜äº‹ã§ã¯ã€Spring Bootã¨Spring Securityã‚’ä½¿ç”¨ã—ãŸç°¡å˜ãªWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ä½œæˆã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€æ–°ã—ã„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç™»éŒ²ã¨æ‰¿èªã‚’å®Ÿè£…ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å½¹å‰²ã«å¿œã˜ã¦ã‚µã‚¤ãƒˆã®ãƒšãƒ¼ã‚¸ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’åˆ¶é™ã—ã¾ã™ã€‚
 ã“ã®è¨˜äº‹ã®ä¸»ãªç›®çš„ã¯ã€ã•ã¾...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ä¾‹ã¨ã—ã¦ç°¡å˜ãªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ãŸSpring Securityã§ã®ç™»éŒ²ã¨æ‰¿èª</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/482552/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã“ã‚“ã«ã¡ã¯ï¼</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®è¨˜äº‹ã§ã¯ã€Spring Bootã¨Spring Securityã‚’ä½¿ç”¨ã—ãŸç°¡å˜ãªWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ä½œæˆã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€æ–°ã—ã„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç™»éŒ²ã¨æ‰¿èªã‚’å®Ÿè£…ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å½¹å‰²ã«å¿œã˜ã¦ã‚µã‚¤ãƒˆã®ãƒšãƒ¼ã‚¸ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’åˆ¶é™ã—ã¾ã™ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®è¨˜äº‹ã®ä¸»ãªç›®çš„ã¯ã€ã•ã¾ã–ã¾ãªå½¹å‰²ã‚’æŒã¤ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚µã‚¤ãƒˆã®ã•ã¾ã–ã¾ãªãƒšãƒ¼ã‚¸ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’åˆ¶é™ã™ã‚‹æ–¹æ³•ã‚’ç¤ºã™ã“ã¨ã§ã™ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã©ã†ãªã‚Šã¾ã™ã‹ï¼Ÿ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¬¡ã®ãƒšãƒ¼ã‚¸ãŒã‚ã‚‹ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆï¼š </font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã™ã¹ã¦ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ãƒšãƒ¼ã‚¸ï¼šãƒ›ãƒ¼ãƒ ã€ç™»éŒ²ã€ãƒ­ã‚°ã‚¤ãƒ³ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç™»éŒ²ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒåˆ©ç”¨ã§ãã‚‹ãƒšãƒ¼ã‚¸ï¼šãƒ‹ãƒ¥ãƒ¼ã‚¹ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åˆ©ç”¨å¯èƒ½ãªç®¡ç†ãƒšãƒ¼ã‚¸ã€‚</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½•ã‚’ä½¿ã†ã‹</font></font></h3><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JDK 8+;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Intellij Idea;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Springï¼ˆSpring Bootã€Spring MVCã€Spring Securityï¼‰;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒã‚¤ãƒãƒãƒ¼ãƒˆ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JSP</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PostgreSQL</font></font></li>
</ul><a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚³ãƒ³ãƒ†ãƒ³ãƒ„</font></font></h3><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ä¸»ãªæ³¨é‡ˆã®èª¬æ˜ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IDEã§æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ï¼ˆãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼‰ã®ä½œæˆã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã€ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã€ã‚µãƒ¼ãƒ“ã‚¹ã€ãƒªãƒã‚¸ãƒˆãƒªã€ãƒ“ãƒ¥ãƒ¼ã‚’è¿½åŠ ã—ã¾ã™ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®èµ·å‹•ã€‚</font></font></li>
</ol><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.ä½¿ç”¨ã•ã‚Œã‚‹ä¸»ãªæ³¨é‡ˆã®èª¬æ˜</font></font></h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¯ã€MVCã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ä½¿ç”¨ã•ã‚Œã‚‹ç‰¹æ®Šãªã‚¿ã‚¤ãƒ—ã®ã‚¯ãƒ©ã‚¹ã§ã™ã€‚ã“ã‚Œã¯ã€HttpServletRequestã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨HttpServletResponseã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§æ©Ÿèƒ½ã™ã‚‹é€šå¸¸ã®HttpServletã‚µãƒ¼ãƒ–ãƒ¬ãƒƒãƒˆã®ã‚ˆã†ã§ã™ãŒã€Spring Frameworkã®é«˜åº¦ãªæ©Ÿèƒ½ã‚’å‚™ãˆã¦ã„ã¾ã™ã€‚</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒªãƒã‚¸ãƒˆãƒª</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒ‡ãƒ¼ã‚¿ã®æ¤œç´¢ã€å—ä¿¡ã€ãŠã‚ˆã³ä¿å­˜</font><font style="vertical-align: inherit;">ã«</font><font style="vertical-align: inherit;">å¿…è¦ãªä½œæ¥­</font><font style="vertical-align: inherit;">ã®ãƒªã‚¹ãƒˆã‚’è¨­å®šã™ã‚‹ãŸã‚ã«ã‚¯ãƒ©ã‚¹ãŒä½¿ç”¨ã•ã‚Œã‚‹ã“ã¨ã‚’ç¤ºã—</font><font style="vertical-align: inherit;">ã¾ã™ã€‚ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ã¦ã€DAOãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’å®Ÿè£…ã§ãã¾ã™ã€‚</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚µãƒ¼ãƒ“ã‚¹</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -ã‚¯ãƒ©ã‚¹ãŒãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’å®Ÿè£…ã™ã‚‹ãŸã‚ã®ã‚µãƒ¼ãƒ“ã‚¹ã§ã‚ã‚‹ã“ã¨ã‚’ç¤ºã—ã¾ã™ã€‚</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ§‹æˆ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -ã“ã®æ³¨é‡ˆã¯ã€Beanã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å®šç¾©ã™ã‚‹ã‚¯ãƒ©ã‚¹ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è‡ªå‹•é…ç·š</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å€¤ã‚’è‡ªå‹•çš„ã«è¨­å®šã§ãã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã“ã®ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã®æ©Ÿèƒ½ã¯ã€åˆ¥ã®Beanã®ã‚³ãƒ”ãƒ¼ã‚’Beanã«æ¸¡ã™æœ€å–„ã®æ–¹æ³•ã«ã¤ã„ã¦å¿ƒé…ã™ã‚‹å¿…è¦ãŒãªã„ã“ã¨ã§ã™ã€‚</font><font style="vertical-align: inherit;">Springè‡ªä½“ãŒç›®çš„ã®Beanã‚’è¦‹ã¤ã‘ã¦ã€ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã§ãƒãƒ¼ã‚¯ã•ã‚ŒãŸãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å€¤ã‚’ç½®ãæ›ãˆã¾ã™ã€‚</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spring Securityã«é–¢ã™ã‚‹æƒ…å ±</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æœ€ã‚‚åŸºæœ¬çš„ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SecurityContextHolder</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã§ã™ã€‚</font><font style="vertical-align: inherit;">ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆãƒ—ãƒªãƒ³ã‚·ãƒ‘ãƒ«ï¼‰ã«é–¢ã™ã‚‹è©³ç´°æƒ…å ±ã‚’å«ã‚€ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ç¾åœ¨ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«é–¢ã™ã‚‹æƒ…å ±ã‚’æ ¼ç´ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">Spring Securityã¯ã€</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">èªè¨¼</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã•ã‚ŒãŸã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§</font><font style="vertical-align: inherit;">ã‚ã‚‹</font><b><font style="vertical-align: inherit;">èªè¨¼</font></b><font style="vertical-align: inherit;">ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½¿ç”¨ã—</font><font style="vertical-align: inherit;">ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã€Œãƒ¦ãƒ¼ã‚¶ãƒ¼ã€ã¯å˜ãªã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚</font><font style="vertical-align: inherit;">ã»ã¨ã‚“ã©ã®å ´åˆã€</font><b><font style="vertical-align: inherit;">UserDetails</font></b></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ã‚¯ãƒ©ã‚¹ã«ã‚­ãƒ£ã‚¹ãƒˆ</font><font style="vertical-align: inherit;">ã§ãã¾ã™</font><font style="vertical-align: inherit;">ã€‚</font><b><font style="vertical-align: inherit;">UserDetailsã¯ã€</font></b><font style="vertical-align: inherit;">ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¨ã©ã®ã‚ˆã†ãªæ˜¥ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¯ã€å†…éƒ¨ã§å¿…è¦ã¨ã®é–“ã®ã‚¢ãƒ€ãƒ—ã‚¿ã¨ã—ã¦è€ƒãˆã‚‹ã“ã¨ãŒã§ã</font><b><font style="vertical-align: inherit;">SecurityContextHolder</font></b><font style="vertical-align: inherit;">ã€‚</font><b><font style="vertical-align: inherit;">UserDetailsSâ€‹â€‹ervice</font></b><font style="vertical-align: inherit;">ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã¯</font><font style="vertical-align: inherit;">
ã€</font><b><font style="vertical-align: inherit;">UserDetailsã®</font></b><font style="vertical-align: inherit;">ä½œæˆã«</font><font style="vertical-align: inherit;">ä½¿ç”¨ã•</font><font style="vertical-align: inherit;">ã‚Œã¾ã™</font><b><font style="vertical-align: inherit;">ã€‚</font></b></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€å˜ä¸€ã®ãƒ¡ã‚½ãƒƒãƒ‰ã§ï¼š</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-function">UserDetails <span class="hljs-title">loadUserByUsername</span><span class="hljs-params">(String username)</span> <span class="hljs-keyword">throws</span> UsernameNotFoundException 
</span></code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. IDEã§æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mavenãƒ“ãƒ«ãƒ‰ã‚·ã‚¹ãƒ†ãƒ ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚</font><b><font style="vertical-align: inherit;">GroupIdã®</font></b></font><br>
<br>
<img src="https://habrastorage.org/webt/k4/x-/yv/k4x-yvce2pkv81gn4o-5hmxwgpo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ä¸‹</font><font style="vertical-align: inherit;">ã¯ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒªãƒªãƒ¼ã‚¹ã™ã‚‹ä¼šç¤¾ï¼ˆã¾ãŸã¯å€‹äººã®ãƒ‰ãƒ¡ã‚¤ãƒ³åï¼‰ã®ä¸€æ„ã®è­˜åˆ¥å­ã‚’æŒ‡ã—ã¾ã™ã€‚</font><b><font style="vertical-align: inherit;">ArtefactId</font></b><font style="vertical-align: inherit;">ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®åå‰ã«ã™ãã¾ã›ã‚“ã€‚</font><font style="vertical-align: inherit;">
ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆãŒå®Œäº†ã™ã‚‹ã¨ã€pom.xmlãƒ•ã‚¡ã‚¤ãƒ«</font><b><font style="vertical-align: inherit;">ãŒé–‹ã</font></b><font style="vertical-align: inherit;">ã€Ideaã¯è‡ªå‹•ã‚¤ãƒ³ãƒãƒ¼ãƒˆã‚’æœ‰åŠ¹ã«ã™ã‚‹ã‚ˆã†ææ¡ˆã—ã¾ã™-æ‹’å¦ã—ãªã„ã§ãã ã•ã„ã€‚</font><font style="vertical-align: inherit;">ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ä½¿ç”¨ã•ã‚Œã‚‹ã™ã¹ã¦ã®ä¾å­˜é–¢ä¿‚ï¼ˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼‰ãŒå«ã¾ã‚Œã¾ã™ã€‚</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<img src="https://habrastorage.org/webt/t8/t4/ep/t8t4epn19a0gytk7lz1aviwzm0k.png"><br>
<br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<img src="https://habrastorage.org/webt/m9/xd/au/m9xdaux9kaa3zly9u5e_lp1kkqg.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ï¼ˆãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼‰ã®ä½œæˆ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã™ãã«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ä½œæˆã«ç§»ã‚Šã¾ã™ã€‚</font><font style="vertical-align: inherit;">åˆ¤æ˜ã™ã‚‹ã¯ãšã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ã‚’ä»¥ä¸‹ã«ç¤ºã—ã¾ã™ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ly/js/z_/lyjsz_zy6cq4ls7sd3_k0p9y8zw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¬¡ã«ã€å„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ä½•ãŒæ ¼ç´ã•ã‚Œã‚‹ã‹ã«ã¤ã„ã¦ç°¡å˜ã«èª¬æ˜ã—ã¾ã™ã€‚</font></font><br>
<br>
<ul>
<li><b>src\main\java\com\boots\config</b> â€”     MVC (MvcConfig)   (WebSecurityConfig);</li>
<li><b>src\main\java\com\boots\controller</b> â€”   ;</li>
<li><b>src\main\java\com\boots\entity</b> â€”   ;</li>
<li><b>src\main\java\com\boots\repository</b> â€”  ;</li>
<li><b>src\main\java\com\boots\service</b> â€”  c   ;</li>
<li><b>src\main\webapp\resources</b> â€”  : js, css, img;</li>
<li><b>src\main\webapp\WEB-INF\jsp</b> â€”     .jsp.</li>
</ul><br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pom.xml</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¤œè¨ã—ã¦ãã ã•ã„</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã§ã¯ã€</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¦ª</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¿ã‚°ã‚’ä½¿ç”¨ã—ã¦è¦ªãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®ãƒªãƒ³ã‚¯ã‚’æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">è¦ªã®ã™ã¹ã¦ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¨ä¾å­˜é–¢ä¿‚ãŒã“ã®å­ãƒ•ã‚¡ã‚¤ãƒ«ã«è¿½åŠ ã•ã‚Œã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">parent</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.1.9.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">parent</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¬¡ã«ã€Springãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã€PostgreSQLãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ã€Tomcatã‚µãƒ¼ãƒãƒ¼ã€JSTLã®ä¾å­˜é–¢ä¿‚ã‚’è¿½åŠ ã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">java.version</span>&gt;</span>1.8<span class="hljs-tag">&lt;/<span class="hljs-name">java.version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€mavenã¯å¤ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®Java 1.6ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ã“ã‚Œã‚’ä¿®æ­£ã™ã‚‹ã«ã¯ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æ˜ç¤ºçš„ã«æŒ‡å®šã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-security<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-data-jpa<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.postgresql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>postgresql<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>42.2.8<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>runtime<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jstl<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.tomcat.embed<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>tomcat-embed-jasper<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>9.0.27<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.security<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-security-taglibs<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.2.0.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã¾ãŸã€jarã¾ãŸã¯warã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã‚’ãƒ‘ãƒƒã‚¯ã—ã¦ã€Œã‚¤ãƒ³ãƒ—ãƒ¬ãƒ¼ã‚¹ã€ã§å®Ÿè¡Œã§ãã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’è¿½åŠ ã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span>
</code></pre><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å®Œå…¨ãªpom.xml</font></font></b><div class="spoiler_text"><pre><code class="xml hljs"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">project</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://maven.apache.org/POM/4.0.0"</span>
         <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
         <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">modelVersion</span>&gt;</span>4.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">modelVersion</span>&gt;</span><font></font>
<font></font>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>ark<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><font></font>
<font></font>
    <span class="hljs-tag">&lt;<span class="hljs-name">parent</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.1.6.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">parent</span>&gt;</span><font></font>
<font></font>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-security<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-data-jpa<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.postgresql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>postgresql<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>runtime<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jstl<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.tomcat.embed<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>tomcat-embed-jasper<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>9.0.27<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.security<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-security-taglibs<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.2.0.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><font></font>
<font></font>
<font></font>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-devtools<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><font></font>
<font></font>
    <span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">java.version</span>&gt;</span>1.8<span class="hljs-tag">&lt;/<span class="hljs-name">java.version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span><font></font>
<font></font>
    <span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">application.properties</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ãƒ•ã‚¡ã‚¤ãƒ«ã«å…¥åŠ›ã—ã¾ã™</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">æœ€åˆã®3è¡Œã«ã¯ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«æ¥ç¶šã™ã‚‹ãŸã‚ã®ãƒ‡ãƒ¼ã‚¿ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ï¼ˆãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åã¯ã€Œspringã€ã€ãƒ­ã‚°ã‚¤ãƒ³ãŠã‚ˆã³ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã§ã™ï¼‰ã€‚</font><font style="vertical-align: inherit;">æœ€å¾Œã®2è¡Œã¯ã€.jspãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®ãƒ‘ã‚¹ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚</font></font><br>
<pre><code class="xml hljs">spring.datasource.url=jdbc:postgresql://localhost/spring<font></font>
spring.datasource.username=postgres<font></font>
spring.datasource.password=password<font></font>
spring.jpa.show-sql=true<font></font>
spring.jpa.generate-ddl=false<font></font>
spring.jpa.hibernate.ddl-auto=update<font></font>
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true<font></font>
<font></font>
spring.mvc.view.prefix = /WEB-INF/jsp/<font></font>
spring.mvc.view.suffix = .jsp<font></font>
</code></pre><br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">spring.jpa.show-sql</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£</font><font style="vertical-align: inherit;">ã¯ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¯ã‚¨ãƒªã®æœ¬æ–‡ã‚’ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«è¡¨ç¤ºã—ã¾ã™ã€‚</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">spring.jpa.hibernate.ddl-autoã‚’</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½¿ç”¨ã™ã‚‹ã¨ã€ãƒ¢ãƒ‡ãƒ«ã«åŸºã¥ã„ã¦ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ä½œæˆã™ã‚‹ãŸã‚ã®æˆ¦ç•¥ã‚’è¨­å®šã§ãã¾ã™ã€‚ã“ã‚Œã«ã¯ã€ç•°ãªã‚‹å€¤ï¼ˆãªã—ã€ä½œæˆã€æ›´æ–°ãªã©ï¼‰ãŒã‚ã‚Šã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã“ã®å ´åˆã®</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ›´æ–°</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¨ã¯ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ†ãƒ¼ãƒ–ãƒ«ã¨ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒãƒ¢ãƒ‡ãƒ«ã«åŸºã¥ã„ã¦ä½œæˆã•ã‚Œã‚‹ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»Šå¾Œã¯ã€</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">spring</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¨ã„ã†åå‰ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ä½œæˆã™ã‚‹ã ã‘</font><font style="vertical-align: inherit;">ã§ã‚ˆãã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ†ãƒ¼ãƒ–ãƒ«ã€ãƒ­ãƒ¼ãƒ«ã€ãŠã‚ˆã³ãã‚Œã‚‰ã®ãƒªãƒ³ã‚¯ãƒ†ãƒ¼ãƒ–ãƒ«ã¨å¤–éƒ¨ã‚­ãƒ¼ãŒã€ãƒ¢ãƒ‡ãƒ«ï¼ˆã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼‰ã«åŸºã¥ã„ã¦è‡ªå‹•çš„ã«ç”Ÿæˆã•ã‚Œã¾ã™ã€‚ã“ã‚Œã‚’ä½œæˆã—ã¾ã™ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã€ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã€ã‚µãƒ¼ãƒ“ã‚¹ã€ãƒªãƒã‚¸ãƒˆãƒªã€ãƒ“ãƒ¥ãƒ¼ã‚’è¿½åŠ ã™ã‚‹</font></font></h3><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.1ã€‚</font><font style="vertical-align: inherit;">ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ï¼ˆãƒ¢ãƒ‡ãƒ«ï¼‰ã®è¿½åŠ </font></font></h4><br>
<i><b> </b>   :  ,          (   ).     ,  <b>Alt+Insert</b>  Idea    .<br>
<br>
         <b>Alt+Enter</b>.<br>
</i><br>
<img src="https://habrastorage.org/webt/ui/kj/rb/uikjrbx43srmtyfybki9eesdyma.png"><br>
<br>
<div class="spoiler"><b class="spoiler_title">User</b><div class="spoiler_text"><pre><code class="java hljs"><span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "t_user")</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">UserDetails</span> </span>{
    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;
    <span class="hljs-meta">@Size(min=2, message = "  5 ")</span>
    <span class="hljs-keyword">private</span> String username;
    <span class="hljs-meta">@Size(min=2, message = "  5 ")</span>
    <span class="hljs-keyword">private</span> String password;
    <span class="hljs-meta">@Transient</span>
    <span class="hljs-keyword">private</span> String passwordConfirm;
    <span class="hljs-meta">@ManyToMany(fetch = FetchType.EAGER)</span>
    <span class="hljs-keyword">private</span> Set&lt;Role&gt; roles;<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">User</span><span class="hljs-params">()</span> </span>{<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> Long <span class="hljs-title">getId</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> id;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setId</span><span class="hljs-params">(Long id)</span> </span>{
        <span class="hljs-keyword">this</span>.id = id;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getUsername</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> username;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isAccountNonExpired</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isAccountNonLocked</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isCredentialsNonExpired</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isEnabled</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setUsername</span><span class="hljs-params">(String username)</span> </span>{
        <span class="hljs-keyword">this</span>.username = username;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {
        <span class="hljs-keyword">return</span> getRoles();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getPassword</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> password;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setPassword</span><span class="hljs-params">(String password)</span> </span>{
        <span class="hljs-keyword">this</span>.password = password;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getPasswordConfirm</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> passwordConfirm;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setPasswordConfirm</span><span class="hljs-params">(String passwordConfirm)</span> </span>{
        <span class="hljs-keyword">this</span>.passwordConfirm = passwordConfirm;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> Set&lt;Role&gt; <span class="hljs-title">getRoles</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> roles;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setRoles</span><span class="hljs-params">(Set&lt;Role&gt; roles)</span> </span>{
        <span class="hljs-keyword">this</span>.roles = roles;<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
</div></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ¦ãƒ¼ã‚¶ãƒ¼</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¤ã„ã¦ã®æœ€åˆã«ï¼š</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¯ã€ã‚¯ãƒ©ã‚¹ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ãƒãƒƒãƒ”ãƒ³ã‚°ã‚’æŒã£ã¦ã„ã‚‹ã¨è¨€ã„ã¾ã™ã€‚</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆåå‰= "t_user"ï¼‰</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¯ã€ã©ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ç¤ºã—ã¾ã™ã€‚</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GenerationType.IDENTITY</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> IDENTITYãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãŒIDã®ç”Ÿæˆã«å¾“äº‹ã™ã‚‹ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚ä»–ã®æˆ¦ç•¥ãŒã‚ã‚Šã¾ã™ã€‚ SEQUENCE-PostgreSQLã‚„Oracleãªã©ã®çµ„ã¿è¾¼ã¿ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¨ãƒ³ã‚¸ãƒ³ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ã“ã‚Œã¯ã€ã‚·ãƒ¼ã‚±ãƒ³ã‚·ãƒ£ãƒ«å€¤ï¼ˆã‚·ãƒ¼ã‚±ãƒ³ã‚¹ï¼‰ã‚’ç”Ÿæˆã™ã‚‹ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã§ã™ã€‚ TABLE-åˆ¥ã®ãƒ†ãƒ¼ãƒ–ãƒ«ãŒåˆæœŸåŒ–ã•ã‚ŒãŸã‚­ãƒ¼å€¤ã§ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚åˆ¥ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯AUTOã§ã™ã€‚Hibernateã¯ä¸Šè¨˜ã®æˆ¦ç•¥ã®1ã¤ã‚’é¸æŠã—ã¾ã™ãŒã€æˆ¦ç•¥ã‚’æ˜ç¤ºçš„ã«æŒ‡å®šã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚</font><b><font style="vertical-align: inherit;">Transient</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã®ä¸‹ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ã¯è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ã€‚</font><font style="vertical-align: inherit;">å½¹å‰²ã®ãƒªã‚¹ãƒˆã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨å¤šå¯¾å¤šã®é–¢ä¿‚ã«é–¢é€£ä»˜ã‘ã‚‰ã‚Œã¦ã„ã¾ã™ï¼ˆ1äººã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä¸€æ–¹ã®å´ã«è¤‡æ•°ã®å½¹å‰²ã‚’æŒã¡ã€1ã¤ã®å½¹å‰²ãŒã‚‚ã†ä¸€æ–¹ã®å´ã«è¤‡æ•°ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’æŒã¤ã“ã¨ãŒã§ãã¾ã™ï¼‰ã€‚</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FetchType.EAGER-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€Œè²ªæ¬²ã€ãªãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã€ã¤ã¾ã‚Š </font><font style="vertical-align: inherit;">å½¹å‰²ã®ãƒªã‚¹ãƒˆã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ä¸€ç·’ã«ã™ãã«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¾ã™ï¼ˆé€£çµ¡ã•ã‚Œã‚‹ã¾ã§å¾…æ©Ÿã—ã¾ã›ã‚“ï¼‰ã€‚</font><font style="vertical-align: inherit;">Spring Securityã§</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¼•ãç¶šã</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">User</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¯ãƒ©ã‚¹ã‚’ä½¿ç”¨ã™ã‚‹ã«ã¯</font><font style="vertical-align: inherit;">ã€</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UserDetails</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã‚’å®Ÿè£…ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ã“ã‚Œã‚’è¡Œã†ã«ã¯ã€ã™ã¹ã¦ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ãŸã ã—ã€ã“ã®ä¾‹ã§ã¯ã€</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">getAuthoritiesï¼ˆï¼‰</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ¡ã‚½ãƒƒãƒ‰ã®ã¿ã‚’ä½¿ç”¨ã—ã€</font><font style="vertical-align: inherit;">ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ­ãƒ¼ãƒ«ã®ãƒªã‚¹ãƒˆã‚’è¿”ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã—ãŸãŒã£ã¦ã€æ®‹ã‚Šã®ãƒ¡ã‚½ãƒƒãƒ‰ã«ã¤ã„ã¦ã¯ã€æˆ»ã‚Šå€¤ã‚’</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">trueã«</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¤‰æ›´ã—</font><b><font style="vertical-align: inherit;">ã¾ã™</font></b><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å½¹å‰²</font></font></b><div class="spoiler_text"><pre><code class="java hljs"><span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "t_role")</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Role</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">GrantedAuthority</span> </span>{
    <span class="hljs-meta">@Id</span>
    <span class="hljs-keyword">private</span> Long id;
    <span class="hljs-keyword">private</span> String name;
    <span class="hljs-meta">@Transient</span>
    <span class="hljs-meta">@ManyToMany(mappedBy = "roles")</span>
    <span class="hljs-keyword">private</span> Set&lt;User&gt; users;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Role</span><span class="hljs-params">()</span> </span>{<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Role</span><span class="hljs-params">(Long id)</span> </span>{
        <span class="hljs-keyword">this</span>.id = id;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Role</span><span class="hljs-params">(Long id, String name)</span> </span>{
        <span class="hljs-keyword">this</span>.id = id;
        <span class="hljs-keyword">this</span>.name = name;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> Long <span class="hljs-title">getId</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> id;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setId</span><span class="hljs-params">(Long id)</span> </span>{
        <span class="hljs-keyword">this</span>.id = id;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> name;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setName</span><span class="hljs-params">(String name)</span> </span>{
        <span class="hljs-keyword">this</span>.name = name;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> Set&lt;User&gt; <span class="hljs-title">getUsers</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> users;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setUsers</span><span class="hljs-params">(Set&lt;User&gt; users)</span> </span>{
        <span class="hljs-keyword">this</span>.users = users;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getAuthority</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> getName();<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
</div></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å½¹å‰² </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã“ã®ã‚¯ãƒ©ã‚¹ã¯ã€</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GrantedAuthority</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®Ÿè£…ã™ã‚‹</font><b><font style="vertical-align: inherit;">å¿…è¦ãŒã‚ã‚Š</font></b><font style="vertical-align: inherit;">ã¾ã™ã€‚ã“ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹</font><font style="vertical-align: inherit;">ã§ã¯ã€1ã¤ã®</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">getAuthorityï¼ˆï¼‰</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ¡ã‚½ãƒƒãƒ‰ã®ã¿ã‚’å†å®šç¾©ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™</font><font style="vertical-align: inherit;">ï¼ˆãƒ­ãƒ¼ãƒ«åã‚’è¿”ã—ã¾ã™ï¼‰ã€‚</font><font style="vertical-align: inherit;">ãƒ­ãƒ¼ãƒ«åã¯ã€ãƒ‘ã‚¿ãƒ¼ãƒ³ "ROLE_NAME"ã«ä¸€è‡´ã™ã‚‹å¿…è¦ãŒã‚ã‚Š</font><font style="vertical-align: inherit;">ã¾ã™ï¼ˆ</font><font style="vertical-align: inherit;">ä¾‹ï¼š</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ROLE_USERï¼‰</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã«åŠ ãˆã¦ã€ã•ã‚‰ã«ã„ãã¤ã‹ã®ãƒ‘ãƒ–ãƒªãƒƒã‚¯ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã‚’è¿½åŠ ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚æœ€åˆã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ãƒ¼ã¯idã®ã¿ã‚’å—ã‘å…¥ã‚Œã€2ç•ªç›®ã®IDã¨åå‰ã‚’å—ã‘å…¥ã‚Œã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã“ã§ã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åˆ¶é™ã‚’è¿½åŠ ã§ãã¾ã™ã€‚</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚µã‚¤ã‚ºï¼ˆæœ€å°= 2ï¼‰</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®æœ€å°é•·ãŒ2ã§ã‚ã‚‹ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚åˆ¶é™ã«é•åã™ã‚‹ã¨ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.2ã€‚</font><font style="vertical-align: inherit;">ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¨ã‚µãƒ¼ãƒ“ã‚¹ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®å®Ÿè£…</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Spring Dataã¯ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’æä¾›ã™ã‚‹ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’ä½œæˆã™ã‚‹ãŸã‚ã®ä¸€é€£ã®æ—¢æˆã®å®Ÿè£…ã‚’æä¾›ã—ã¾ã™ã€‚</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JpaRepository</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹</font><font style="vertical-align: inherit;">ã¯ã€</font><b><font style="vertical-align: inherit;">ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’æ“ä½œ</font></b><font style="vertical-align: inherit;">ã™ã‚‹ãŸã‚ã®ä¸€é€£ã®æ¨™æº–ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆfindByã€saveã€deleteByIdãªã©ï¼‰ã‚’æä¾›ã—ã¾ã™ã€‚</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UserRepositoryã€‚</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒªãƒã‚¸ãƒˆãƒªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’ä½œæˆã—ã€</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JpaRepository &lt;Userã€Long&gt;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚’ç¶™æ‰¿ã—</font><font style="vertical-align: inherit;">ã€</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">User</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¯ãƒ©ã‚¹</font><font style="vertical-align: inherit;">ã‚’</font><font style="vertical-align: inherit;">æŒ‡å®šã—</font><b><font style="vertical-align: inherit;">ã¾ã™</font></b><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ãã®IDã‚¿ã‚¤ãƒ—ã¯</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Long</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã§ã™ã€‚</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">UserRepository</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">JpaRepository</span>&lt;<span class="hljs-title">User</span>, <span class="hljs-title">Long</span>&gt; </span>{
    <span class="hljs-function">User <span class="hljs-title">findByUsername</span><span class="hljs-params">(String username)</span></span>;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã«ã€‚</font><font style="vertical-align: inherit;">ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’ä½œæˆã—ã¦</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JpaRepository</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚’ç¶™æ‰¿ã™ã‚‹</font><b><font style="vertical-align: inherit;">ã ã‘ã§ã€</font></b><font style="vertical-align: inherit;">æ¨™æº–ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¯ã‚¨ãƒªã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚</font><font style="vertical-align: inherit;">ç‰¹å®šã®ãƒ¡ã‚½ãƒƒãƒ‰ãŒå¿…è¦ãªå ´åˆã¯ã€ã‚¢ã‚¤ãƒ‡ã‚¢ã®ãƒ’ãƒ³ãƒˆã«åŸºã¥ã„ã¦ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã«è¿½åŠ ã™ã‚‹ã ã‘ã§ã™ã€‚</font><font style="vertical-align: inherit;">ãŸã¨ãˆã°ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å†…ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’åå‰ã§æ¤œç´¢ã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ãŒå¿…è¦ã§ã™ã€‚</font><font style="vertical-align: inherit;">è¿”ã•ã‚ŒãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚¿ã‚¤ãƒ—ã‚’è¨˜è¿°ã—ã€æ¬¡ã«IDEãŒå¯èƒ½ãªã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æä¾›ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ãã‚Œã‚‰ã€‚</font><font style="vertical-align: inherit;">ã“ã®å ´åˆã€ãƒ¡ã‚½ãƒƒãƒ‰åãŒãƒªã‚¯ã‚¨ã‚¹ãƒˆã®æœ¬æ–‡ã‚’æ±ºå®šã—ã¾ã™ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ia/1r/b-/ia1rb-sfptgoogvuh1n4gqibh4g.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¿…è¦ã«å¿œã˜</font><font style="vertical-align: inherit;">ã¦ã€ãƒ¡ã‚½ãƒƒãƒ‰ã«å¯¾ã—ã¦</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Query</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³</font><font style="vertical-align: inherit;">ã‚’</font><font style="vertical-align: inherit;">ä½¿ç”¨ã—ã€</font><font style="vertical-align: inherit;">HQLã¾ãŸã¯SQLã§ã‚¯ã‚¨ãƒªã‚’è¨˜è¿°ã§ãã¾ã™ï¼ˆnativeQuery = trueã‚’è¿½åŠ ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼‰ã€‚</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-meta">@Query(value = "SELECT nextval(pg_get_serial_sequence('t_user', 'id'))", nativeQuery = true)</span>
    <span class="hljs-function">Long <span class="hljs-title">getNextId</span><span class="hljs-params">()</span></span>;
</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RoleRepositoryã€‚</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åŒã˜æ–¹æ³•ã§ä½œæˆã—ã¾ã™ã€‚ã“ã“ã§ã¯ç‹¬è‡ªã®ãƒ¡ã‚½ãƒƒãƒ‰ã¯å¿…è¦ã‚ã‚Šã¾ã›ã‚“ã€‚</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">RoleRepository</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">JpaRepository</span>&lt;<span class="hljs-title">Role</span>, <span class="hljs-title">Long</span>&gt; </span>{<font></font>
}<font></font>
</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UserServiceã€‚</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã®ãƒ¡ã‚½ãƒƒãƒ‰ãŒå«ã¾ã‚Œã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã“ã®ã‚¯ãƒ©ã‚¹ã¯ã€</font><font style="vertical-align: inherit;">Spring Securityã«å¿…è¦ãª</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UserDetailsSâ€‹â€‹ervice</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®Ÿè£…ã—ã¾ã™ã€‚ã“ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹</font><font style="vertical-align: inherit;">ã§ã¯ã€1ã¤ã®</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">loadUserByUsernameï¼ˆï¼‰</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®ã‚¯ãƒ©ã‚¹ã§ã¯ã€EntityManagerã‚’ä½¿ç”¨ã—ã¦ã€SQLã‚¯ã‚¨ãƒªã‚’å®Ÿè¡Œã™ã‚‹åˆ¥ã®æ–¹æ³•ã‚’ç¢ºèªã§ãã¾ã™ã€‚</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚µãƒ¼ãƒ“ã‚¹</font></font></b><div class="spoiler_text"><pre><code class="java hljs"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserService</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">UserDetailsService</span> </span>{
    <span class="hljs-meta">@PersistenceContext</span>
    <span class="hljs-keyword">private</span> EntityManager em;
    <span class="hljs-meta">@Autowired</span><font></font>
    UserRepository userRepository;<font></font>
    <span class="hljs-meta">@Autowired</span><font></font>
    RoleRepository roleRepository;<font></font>
    <span class="hljs-meta">@Autowired</span><font></font>
    BCryptPasswordEncoder bCryptPasswordEncoder;<font></font>
<font></font>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> UserDetails <span class="hljs-title">loadUserByUsername</span><span class="hljs-params">(String username)</span> <span class="hljs-keyword">throws</span> UsernameNotFoundException </span>{<font></font>
        User user = userRepository.findByUsername(username);<font></font>
<font></font>
        <span class="hljs-keyword">if</span> (user == <span class="hljs-keyword">null</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> UsernameNotFoundException(<span class="hljs-string">"User not found"</span>);<font></font>
        }<font></font>
<font></font>
        <span class="hljs-keyword">return</span> user;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> User <span class="hljs-title">findUserById</span><span class="hljs-params">(Long userId)</span> </span>{<font></font>
        Optional&lt;User&gt; userFromDb = userRepository.findById(userId);<font></font>
        <span class="hljs-keyword">return</span> userFromDb.orElse(<span class="hljs-keyword">new</span> User());<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;User&gt; <span class="hljs-title">allUsers</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> userRepository.findAll();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">saveUser</span><span class="hljs-params">(User user)</span> </span>{<font></font>
        User userFromDB = userRepository.findByUsername(user.getUsername());<font></font>
<font></font>
        <span class="hljs-keyword">if</span> (userFromDB != <span class="hljs-keyword">null</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<font></font>
        }<font></font>
<font></font>
        user.setRoles(Collections.singleton(<span class="hljs-keyword">new</span> Role(<span class="hljs-number">1L</span>, <span class="hljs-string">"ROLE_USER"</span>)));<font></font>
        user.setPassword(bCryptPasswordEncoder.encode(user.getPassword()));<font></font>
        userRepository.save(user);<font></font>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">deleteUser</span><span class="hljs-params">(Long userId)</span> </span>{
        <span class="hljs-keyword">if</span> (userRepository.findById(userId).isPresent()) {<font></font>
            userRepository.deleteById(userId);<font></font>
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<font></font>
        }<font></font>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;User&gt; <span class="hljs-title">usergtList</span><span class="hljs-params">(Long idMin)</span> </span>{
        <span class="hljs-keyword">return</span> em.createQuery(<span class="hljs-string">"SELECT u FROM User u WHERE u.id &gt; :paramId"</span>, User.class)<font></font>
                .setParameter("paramId", idMin).getResultList();<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">saveUserï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼‰</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ãƒ¡ã‚½ãƒƒãƒ‰ã‚’æ¤œè¨ã—ã¦ãã ã•ã„</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">saveUser</span><span class="hljs-params">(User user)</span> </span>{<font></font>
        User userFromDB = userRepository.findByUsername(user.getUsername());<font></font>
<font></font>
        <span class="hljs-keyword">if</span> (userFromDB != <span class="hljs-keyword">null</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<font></font>
        }<font></font>
<font></font>
        user.setRoles(Collections.singleton(<span class="hljs-keyword">new</span> Role(<span class="hljs-number">1L</span>, <span class="hljs-string">"ROLE_USER"</span>)));<font></font>
        user.setPassword(bCryptPasswordEncoder.encode(user.getPassword()));<font></font>
        userRepository.save(user);<font></font>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<font></font>
    }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã¾ãšã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å†…ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼åã«ã‚ˆã‚‹æ¤œç´¢ãŒè¡Œã‚ã‚Œã€åŒã˜åå‰ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ—¢ã«å­˜åœ¨ã™ã‚‹å ´åˆã€ãƒ¡ã‚½ãƒƒãƒ‰ã¯ä½œæ¥­ã‚’çµ‚äº†ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ãƒ¦ãƒ¼ã‚¶ãƒ¼åã‚’å–å¾—ã—ãªã„å ´åˆã€ROLE_USERãƒ­ãƒ¼ãƒ«ãŒè¿½åŠ ã•ã‚Œã¾ã™ã€‚</font><font style="vertical-align: inherit;">ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’æœªåŠ å·¥ã®å½¢å¼ã§ä¿å­˜ã—ãªã„ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã«ã€ä»¥å‰ã«</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bCryptPasswordEncoder</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚’ä½¿ç”¨ã—ã¦ãƒãƒƒã‚·ãƒ¥ã•ã‚Œ</font><font style="vertical-align: inherit;">ã¾ã™ã€‚</font><font style="vertical-align: inherit;">æ¬¡ã«ã€æ–°ã—ã„ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ä¿å­˜ã•ã‚Œã¾ã™ã€‚</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.3ã€‚</font><font style="vertical-align: inherit;">ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã®è¿½åŠ </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚µãƒ¼ãƒãƒ¼ã«ã‚ˆã£ã¦å‡¦ç†ã•ã‚Œãšã€å˜ã«ãƒšãƒ¼ã‚¸ã‚’è¿”ã™ãƒšãƒ¼ã‚¸ã®å ´åˆã€æ§‹æˆã§ãƒãƒƒãƒ”ãƒ³ã‚°ã‚’æ§‹æˆã§ãã¾ã™ã€‚</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ­ã‚°ã‚¤ãƒ³</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒšãƒ¼ã‚¸ã¯</font><font style="vertical-align: inherit;">ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§Spring Securityã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã«ã‚ˆã£ã¦å‡¦ç†ã•ã‚Œã‚‹ãŸã‚ã€åˆ¥ã®ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã¯å¿…è¦ã‚ã‚Šã¾ã›ã‚“ã€‚</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MvcConfig</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">WebMvcConfigurer</span> </span>{<font></font>
<font></font>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">addViewControllers</span><span class="hljs-params">(ViewControllerRegistry registry)</span> </span>{<font></font>
        registry.addViewController(<span class="hljs-string">"/login"</span>).setViewName(<span class="hljs-string">"login"</span>);<font></font>
        registry.addViewController(<span class="hljs-string">"/news"</span>).setViewName(<span class="hljs-string">"news"</span>);<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RegistrationControllerã€‚</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç™»éŒ²ãƒšãƒ¼ã‚¸ã«ã¯åˆ¥ã®ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ãŒå¿…è¦ã§ã™ã€‚</font><font style="vertical-align: inherit;">GETãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å‡¦ç†ã™ã‚‹ã«ã¯ã€æ³¨é‡ˆ</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@GetMappingï¼ˆ "/ç™»éŒ²"ï¼‰ãŒä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> POSTã®ãŸã‚ã«ã€ - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@PostMappingï¼ˆ "/ç™»éŒ²"ï¼‰ </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RegistrationController</font></font></b><div class="spoiler_text"><pre><code class="java hljs"><span class="hljs-meta">@Controller</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RegistrationController</span> </span>{<font></font>
<font></font>
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> UserService userService;<font></font>
<font></font>
    <span class="hljs-meta">@GetMapping("/registration")</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">registration</span><span class="hljs-params">(Model model)</span> </span>{<font></font>
        model.addAttribute(<span class="hljs-string">"userForm"</span>, <span class="hljs-keyword">new</span> User());<font></font>
<font></font>
        <span class="hljs-keyword">return</span> <span class="hljs-string">"registration"</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@PostMapping("/registration")</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">addUser</span><span class="hljs-params">(<span class="hljs-meta">@ModelAttribute("userForm")</span> <span class="hljs-meta">@Valid</span> User userForm, BindingResult bindingResult, Model model)</span> </span>{<font></font>
<font></font>
        <span class="hljs-keyword">if</span> (bindingResult.hasErrors()) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"registration"</span>;<font></font>
        }<font></font>
        <span class="hljs-keyword">if</span> (!userForm.getPassword().equals(userForm.getPasswordConfirm())){<font></font>
            model.addAttribute(<span class="hljs-string">"passwordError"</span>, <span class="hljs-string">"  "</span>);
            <span class="hljs-keyword">return</span> <span class="hljs-string">"registration"</span>;<font></font>
        }<font></font>
        <span class="hljs-keyword">if</span> (!userService.saveUser(userForm)){<font></font>
            model.addAttribute(<span class="hljs-string">"usernameError"</span>, <span class="hljs-string">"     "</span>);
            <span class="hljs-keyword">return</span> <span class="hljs-string">"registration"</span>;<font></font>
        }<font></font>
<font></font>
        <span class="hljs-keyword">return</span> <span class="hljs-string">"redirect:/"</span>;<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒšãƒ¼ã‚¸ã‹ã‚‰ä½•ã‹ã‚’è¿½åŠ ã¾ãŸã¯å—ä¿¡ã™ã‚‹ã«ã¯ã€ãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ GETãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ã¯ã€</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">User</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¯ãƒ©ã‚¹ã®æ–°ã—ã„ç©ºã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒãƒšãƒ¼ã‚¸ã«è¿½åŠ ã•ã‚Œã¾ã™</font><font style="vertical-align: inherit;">ã€‚ã“ã‚Œã¯ã€POSTãƒªã‚¯ã‚¨ã‚¹ãƒˆä¸­ã«ä¸€åº¦ã«1ã¤ãšã¤ç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼åã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã€passwordComfirmï¼‰ã‚’å–å¾—ã›ãšã«ã€ã™ãã«å…¥åŠ›æ¸ˆã¿ã®userFormã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å–å¾—ã™ã‚‹ãŸã‚ã«è¡Œã‚ã‚Œã¾ã™ã€‚</font><b><font style="vertical-align: inherit;">addUserï¼ˆï¼‰</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ãƒ¡ã‚½ãƒƒãƒ‰</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¯</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€GETãƒªã‚¯ã‚¨ã‚¹ãƒˆä¸­ã«è¿½åŠ ã•ã‚ŒãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆuserFormï¼‰ã‚’ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã¨ã—ã¦</font><b><font style="vertical-align: inherit;">æƒ³å®š</font></b><font style="vertical-align: inherit;">ã—ã¾ã™ã€‚ Annotation </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Valid</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¯ã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«èª²ã•ã‚ŒãŸåˆ¶é™ï¼ˆã“ã®å ´åˆã¯2æ–‡å­—ä»¥ä¸Šï¼‰ãŒæº€ãŸã•ã‚Œã¦ã„ã‚‹ã‹ã©ã†ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ã€‚åˆ¶é™ãŒæº€ãŸã•ã‚Œã¦ã„ãªã„å ´åˆã€</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bindingResult</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã«ã¯ã‚¨ãƒ©ãƒ¼ãŒå«ã¾ã‚Œã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¨ãã®ç¢ºèªãŒä¸€è‡´ã—ãªã„å ´åˆã¯ã€ãƒšãƒ¼ã‚¸ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¿½åŠ ã—ã¦è¿”ã—ã¦ãã ã•ã„ã€‚</font><font style="vertical-align: inherit;">æœ€å¾Œã«ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«è¿½åŠ ã—ã¦ä¿å­˜ã—ã‚ˆã†ã¨ã—ã¾ã™ã€‚</font><b><font style="vertical-align: inherit;">saveUserï¼ˆï¼‰</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ãƒ¡ã‚½ãƒƒãƒ‰</font><font style="vertical-align: inherit;">ã¯ã€åŒã˜åå‰ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã™ã§ã«å­˜åœ¨ã™ã‚‹å ´åˆã¯falseã‚’è¿”ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ä¿å­˜ã•ã‚Œã¦ã„ã‚‹å ´åˆã¯trueã‚’è¿”ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ä¿å­˜ã«å¤±æ•—ã—ãŸå ´åˆã¯ã€ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¿½åŠ ã—ã¦ãƒšãƒ¼ã‚¸ã‚’è¿”ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ­£å¸¸ã«ä¿å­˜ã•ã‚ŒãŸã‚‰ã€ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã«ç§»å‹•ã—ã¾ã™ã€‚</font><b><font style="vertical-align: inherit;">ç®¡ç†ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ </font></b><font style="vertical-align: inherit;">ç®¡ç†ãƒšãƒ¼ã‚¸ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã¯ã€ç®¡ç†è€…ãƒ­ãƒ¼ãƒ«ã‚’æŒã¤ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«åˆ¶é™ã•ã‚Œã¦ã„ã¾ã™ã€‚</font><b><font style="vertical-align: inherit;">userListï¼ˆï¼‰</font></b><font style="vertical-align: inherit;">ãƒ¡ã‚½ãƒƒãƒ‰ã«</font><font style="vertical-align: inherit;">ã¯ä½•ã‚‚æ–°ã—ã„ã‚‚ã®ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã™ã¹ã¦ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘å–ã‚Šã€ãƒšãƒ¼ã‚¸ã«è¿½åŠ ã—ã¾ã™ã€‚</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç®¡ç†ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼</font></font></b><div class="spoiler_text"><pre><code class="java hljs"><span class="hljs-meta">@Controller</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AdminController</span> </span>{
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> UserService userService;<font></font>
<font></font>
    <span class="hljs-meta">@GetMapping("/admin")</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">userList</span><span class="hljs-params">(Model model)</span> </span>{<font></font>
        model.addAttribute(<span class="hljs-string">"allUsers"</span>, userService.allUsers());
        <span class="hljs-keyword">return</span> <span class="hljs-string">"admin"</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@PostMapping("/admin")</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String  <span class="hljs-title">deleteUser</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam(required = true, defaultValue = "" )</span> Long userId,
                              <span class="hljs-meta">@RequestParam(required = true, defaultValue = "" )</span> String action,
                              Model model)</span> </span>{
        <span class="hljs-keyword">if</span> (action.equals(<span class="hljs-string">"delete"</span>)){<font></font>
            userService.deleteUser(userId);<font></font>
        }<font></font>
        <span class="hljs-keyword">return</span> <span class="hljs-string">"redirect:/admin"</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@GetMapping("/admin/gt/{userId}")</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String  <span class="hljs-title">gtUser</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable("userId")</span> Long userId, Model model)</span> </span>{<font></font>
        model.addAttribute(<span class="hljs-string">"allUsers"</span>, userService.usergtList(userId));
        <span class="hljs-keyword">return</span> <span class="hljs-string">"admin"</span>;<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">deleteUserï¼ˆï¼‰</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ãƒ¡ã‚½ãƒƒãƒ‰</font><font style="vertical-align: inherit;">ã¯</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RequestParam</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—</font><b><font style="vertical-align: inherit;">ã¾ã™</font></b><font style="vertical-align: inherit;">ã€‚ãƒ“ãƒ¥ãƒ¼ã«ã¯ãƒ•ã‚©ãƒ¼ãƒ ãŒã‚ã‚Šã€userIdã¨actionã®2ã¤ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã‚’æ¸¡ã™å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ãƒªãƒ³ã‚¯ã®å½¢å¼ã¯</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">httpï¼š// localhostï¼š8080 / adminï¼ŸUserId = 24ï¼†action = delete</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã“ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã‚‹ã¨ã€id = 24ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå‰Šé™¤ã•ã‚Œã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’URLã«æ¸¡ã™åˆ¥ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ã€</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PathVariable</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨</font><b><font style="vertical-align: inherit;">ã§ã™</font></b><font style="vertical-align: inherit;">ã€‚ã“ã®ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ã¦ã€URLã®å€‹ã€…ã®éƒ¨åˆ†ã‚’å–å¾—ã—ã¾ã™</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚getUserï¼ˆï¼‰</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ¡ã‚½ãƒƒãƒ‰ã®å ´åˆã€</font><font style="vertical-align: inherit;">URLã¯æ¬¡ã®ã‚ˆã†</font><font style="vertical-align: inherit;">ã«ãªã‚Š</font><font style="vertical-align: inherit;">ã¾ã™</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚httpï¼š// localhostï¼š8080 / admin / gt / 24</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€ç§»è¡Œå¾Œã€id&gt; 24ã®ã™ã¹ã¦ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒªã‚¹ãƒˆãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</font><b><font style="vertical-align: inherit;">WebSecurityConfig </font></b></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£</font></font></b><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¨­å®šã€‚</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2ã¤ã®è±†ãŒå«ã¾ã‚Œã¦ã„ã¾ã™</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BCryptPasswordEncoder</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãŠã‚ˆã³</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AuthenticationManager</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚ã“ã‚Œã‚‰ã¯ã€ä»¥å‰ã«userServiceã‚¯ãƒ©ã‚¹ã§ã™ã§ã«æ¤œå‡ºã•ã‚Œã¦ã„ã¾ã™ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã•ã‚‰ã«ã€</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">configureï¼ˆï¼‰</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ¡ã‚½ãƒƒãƒ‰ã¯</font><font style="vertical-align: inherit;">ã€ã•ã¾ã–ã¾ãªã‚µã‚¤ãƒˆãƒªã‚½ãƒ¼ã‚¹ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’</font><b><font style="vertical-align: inherit;">æ§‹æˆã—</font></b><font style="vertical-align: inherit;">ã¾ã™ã€‚</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">antMatchersï¼ˆï¼‰</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ¡ã‚½ãƒƒãƒ‰ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã¨ã—ã¦</font><font style="vertical-align: inherit;">ã€åˆ¶é™ã‚’è¨­å®šã™ã‚‹ãƒ‘ã‚¹</font><b><font style="vertical-align: inherit;">ã‚’</font></b><font style="vertical-align: inherit;">æ¸¡ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">æ¬¡ã«ã€ã“ã®ãƒšãƒ¼ã‚¸ãŒåˆ©ç”¨ã§ãã‚‹å½¹å‰²ã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ç¤ºã—ã¾ã™ã€‚</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebSecurityConfig</font></font></b><div class="spoiler_text"><pre><code class="java hljs"><span class="hljs-meta">@Configuration</span>
<span class="hljs-meta">@EnableWebSecurity</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">WebSecurityConfig</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">WebSecurityConfigurerAdapter</span> </span>{
    <span class="hljs-meta">@Autowired</span><font></font>
    UserService userService;<font></font>
<font></font>
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> BCryptPasswordEncoder <span class="hljs-title">bCryptPasswordEncoder</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> BCryptPasswordEncoder();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">configure</span><span class="hljs-params">(HttpSecurity httpSecurity)</span> <span class="hljs-keyword">throws</span> Exception </span>{<font></font>
        httpSecurity<font></font>
                .csrf()<font></font>
                    .disable()<font></font>
                .authorizeRequests()<font></font>
                    <span class="hljs-comment">//     </span>
                    .antMatchers(<span class="hljs-string">"/registration"</span>).not().fullyAuthenticated()
                    <span class="hljs-comment">//      </span>
                    .antMatchers(<span class="hljs-string">"/admin/**"</span>).hasRole(<span class="hljs-string">"ADMIN"</span>)<font></font>
                    .antMatchers(<span class="hljs-string">"/news"</span>).hasRole(<span class="hljs-string">"USER"</span>)
                    <span class="hljs-comment">//   </span>
                    .antMatchers(<span class="hljs-string">"/"</span>, <span class="hljs-string">"/resources/**"</span>).permitAll()
                <span class="hljs-comment">//    </span><font></font>
                .anyRequest().authenticated()<font></font>
                .and()<font></font>
                    <span class="hljs-comment">//    </span><font></font>
                    .formLogin()<font></font>
                    .loginPage(<span class="hljs-string">"/login"</span>)
                    <span class="hljs-comment">//      </span>
                    .defaultSuccessUrl(<span class="hljs-string">"/"</span>)<font></font>
                    .permitAll()<font></font>
                .and()<font></font>
                    .logout()<font></font>
                    .permitAll()<font></font>
                    .logoutSuccessUrl(<span class="hljs-string">"/"</span>);<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">configureGlobal</span><span class="hljs-params">(AuthenticationManagerBuilder auth)</span> <span class="hljs-keyword">throws</span> Exception </span>{<font></font>
        auth.userDetailsService(userService).passwordEncoder(bCryptPasswordEncoder());<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
</div></div><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.4ã€‚</font><font style="vertical-align: inherit;">ãƒ“ãƒ¥ãƒ¼ã‚’è¿½åŠ ã™ã‚‹</font></font></h4><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">index.jspã®</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã«ã¯ã€ã‚²ã‚¹ãƒˆç”¨ã¨æ‰¿èªæ¸ˆã¿ãƒ¦ãƒ¼ã‚¶ãƒ¼ç”¨ã®2ã¤ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒã‚ã‚Šã¾ã™ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/webt/td/f_/rb/tdf_rbnrq5zmuwkpzi1izzf5xfu.png"><br>
<br>
<img src="https://habrastorage.org/webt/bt/7z/mh/bt7zmh7dlr01k6jpse3bahvrc14.png"><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">index.jsp</font></font></b><div class="spoiler_text"><pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">%@</span> <span class="hljs-attr">taglib</span> <span class="hljs-attr">prefix</span>=<span class="hljs-string">"c"</span> <span class="hljs-attr">uri</span>=<span class="hljs-string">"http://java.sun.com/jsp/jstl/core"</span> %&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">%@</span> <span class="hljs-attr">taglib</span> <span class="hljs-attr">prefix</span>=<span class="hljs-string">"sec"</span> <span class="hljs-attr">uri</span>=<span class="hljs-string">"http://www.springframework.org/security/tags"</span> %&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">%@</span> <span class="hljs-attr">page</span> <span class="hljs-attr">language</span>=<span class="hljs-string">"java"</span> <span class="hljs-attr">contentType</span>=<span class="hljs-string">"text/html; charset=utf-8"</span> <span class="hljs-attr">pageEncoding</span>=<span class="hljs-string">"utf-8"</span>%&gt;</span><font></font>
<font></font>
<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">HTML</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">"Content-Type"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"text/html; charset=UTF-8"</span>/&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/css"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"${contextPath}/resources/css/style.css"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>${pageContext.request.userPrincipal.name}<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">sec:authorize</span> <span class="hljs-attr">access</span>=<span class="hljs-string">"!isAuthenticated()"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h4</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/login"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h4</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/registration"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">sec:authorize</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">sec:authorize</span> <span class="hljs-attr">access</span>=<span class="hljs-string">"isAuthenticated()"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h4</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/logout"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">sec:authorize</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h4</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/news"</span>&gt;</span> ( )<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h4</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/admin"</span>&gt;</span> ( )<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ‰¿èªæ¸ˆã¿ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒšãƒ¼ã‚¸ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ä¸€éƒ¨ã‚’éè¡¨ç¤ºã«ã™ã‚‹ã«ã¯ï¼ˆç™»éŒ²ãŠã‚ˆã³æ‰¿èªãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯ï¼‰ã€</font><font style="vertical-align: inherit;">Spring Securityã‚¿ã‚°ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ‰¿èª</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¿ã‚°</font><font style="vertical-align: inherit;">ã‚’</font><font style="vertical-align: inherit;">ä½¿ç”¨ã§ãã¾ã™</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ã‚¢ã‚¯ã‚»ã‚¹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯ã„ãã¤ã‹ã®å¼ã‚’å—ã‘å…¥ã‚Œã¾ã™ã€‚ãŸã¨ãˆã°ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ­ãƒ¼ãƒ«</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hasRoleï¼ˆ 'ADMIN'ï¼‰ã«</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¿œã˜ã¦åˆ¶é™ã‚’è¨­å®šã§ãã¾ã™</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">registration.jsp</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç™»éŒ²ãƒšãƒ¼ã‚¸ã€‚</font></font><br>
<img src="https://habrastorage.org/webt/bb/q7/eb/bbq7ebi7zzfqlwbur0utiujn2sk.png"><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">registration.jsp</font></font></b><div class="spoiler_text"><pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">%@</span> <span class="hljs-attr">taglib</span> <span class="hljs-attr">prefix</span>=<span class="hljs-string">"form"</span> <span class="hljs-attr">uri</span>=<span class="hljs-string">"http://www.springframework.org/tags/form"</span> %&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">%@</span> <span class="hljs-attr">taglib</span> <span class="hljs-attr">prefix</span>=<span class="hljs-string">"c"</span> <span class="hljs-attr">uri</span>=<span class="hljs-string">"http://java.sun.com/jsp/jstl/core"</span> %&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">%@</span> <span class="hljs-attr">page</span> <span class="hljs-attr">language</span>=<span class="hljs-string">"java"</span> <span class="hljs-attr">contentType</span>=<span class="hljs-string">"text/html; charset=utf-8"</span> <span class="hljs-attr">pageEncoding</span>=<span class="hljs-string">"utf-8"</span>%&gt;</span><font></font>
<font></font>
<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"utf-8"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">form:form</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"POST"</span> <span class="hljs-attr">modelAttribute</span>=<span class="hljs-string">"userForm"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">form:input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"username"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Username"</span>
                  <span class="hljs-attr">autofocus</span>=<span class="hljs-string">"true"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">form:input</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">form:errors</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"username"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">form:errors</span>&gt;</span><font></font>
        ${usernameError}<font></font>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">form:input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Password"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">form:input</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">form:input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"passwordConfirm"</span>
                  <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Confirm your password"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">form:input</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">form:errors</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"password"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">form:errors</span>&gt;</span><font></font>
        ${passwordError}<font></font>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">form:form</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><font></font>
<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®ãƒšãƒ¼ã‚¸ã§ã¯ã€ã‚¿ã‚°ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒ•ã‚©ãƒ¼ãƒ ã‚¿ã‚°ã‚’ä½¿ç”¨ã—ã¦ã€userFormãƒ¢ãƒ‡ãƒ«å±æ€§ã‚’ãƒªãƒ³ã‚¯ã—ï¼ˆã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã§GETãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½¿ç”¨ã—ã¦ãƒšãƒ¼ã‚¸ã«è¿½åŠ ï¼‰ã€ãƒ•ã‚©ãƒ¼ãƒ ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">form:form</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"POST"</span> <span class="hljs-attr">modelAttribute</span>=<span class="hljs-string">"userForm"</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã¾ãŸã€userFormãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ãƒã‚¤ãƒ³ãƒ‰ã™ã‚‹ãƒ‘ã‚¹ã‚’æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">form:input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"username"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Username"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">form:input</span>&gt;</span>
</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">login.jspãƒ­ã‚°ã‚¤ãƒ³</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒšãƒ¼ã‚¸ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/webt/af/js/lv/afjslvso7xhnhbzdbl2txeh-o04.png"><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">login.jsp</font></font></b><div class="spoiler_text"><pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">%@</span> <span class="hljs-attr">taglib</span> <span class="hljs-attr">prefix</span>=<span class="hljs-string">"sec"</span> <span class="hljs-attr">uri</span>=<span class="hljs-string">"http://www.springframework.org/security/tags"</span> %&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">%@</span> <span class="hljs-attr">page</span> <span class="hljs-attr">language</span>=<span class="hljs-string">"java"</span> <span class="hljs-attr">contentType</span>=<span class="hljs-string">"text/html; charset=utf-8"</span> <span class="hljs-attr">pageEncoding</span>=<span class="hljs-string">"utf-8"</span>%&gt;</span><font></font>
<font></font>
<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"utf-8"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Log in with your account<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">sec:authorize</span> <span class="hljs-attr">access</span>=<span class="hljs-string">"isAuthenticated()"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">%</span> <span class="hljs-attr">response.sendRedirect</span>("/"); %&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">sec:authorize</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"POST"</span> <span class="hljs-attr">action</span>=<span class="hljs-string">"/login"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>  <span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"username"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Username"</span>
             <span class="hljs-attr">autofocus</span>=<span class="hljs-string">"true"</span>/&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Password"</span>/&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span>Log In<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h4</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/registration"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®ãƒšãƒ¼ã‚¸ã¯ã€ã™ã§ã«è¿°ã¹ãŸã‚ˆã†ã«ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯Springã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã«ã‚ˆã£ã¦å‡¦ç†ã•ã‚Œã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ï¼š</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">action = "/ login"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãŠã‚ˆã³å…¥åŠ›ã®åå‰ã€‚</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">admin.jspç®¡ç†</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒšãƒ¼ã‚¸ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/webt/kf/s8/uz/kfs8uz5ja4he06qkklcr0rrxfcc.png"><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">admin.jsp</font></font></b><div class="spoiler_text"><pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">%@</span> <span class="hljs-attr">taglib</span> <span class="hljs-attr">prefix</span>=<span class="hljs-string">"c"</span> <span class="hljs-attr">uri</span>=<span class="hljs-string">"http://java.sun.com/jsp/jstl/core"</span> %&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">%@</span> <span class="hljs-attr">page</span> <span class="hljs-attr">language</span>=<span class="hljs-string">"java"</span> <span class="hljs-attr">contentType</span>=<span class="hljs-string">"text/html; charset=utf-8"</span> <span class="hljs-attr">pageEncoding</span>=<span class="hljs-string">"utf-8"</span>%&gt;</span><font></font>
<font></font>
<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"utf-8"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Log in with your account<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/css"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"${contextPath}/resources/css/style.css"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">table</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">thead</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>ID<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>UserName<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Password<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Roles<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">thead</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">c:forEach</span> <span class="hljs-attr">items</span>=<span class="hljs-string">"${allUsers}"</span> <span class="hljs-attr">var</span>=<span class="hljs-string">"user"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>${user.id}<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>${user.username}<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>${user.password}<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">c:forEach</span> <span class="hljs-attr">items</span>=<span class="hljs-string">"${user.roles}"</span> <span class="hljs-attr">var</span>=<span class="hljs-string">"role"</span>&gt;</span>${role.name}; <span class="hljs-tag">&lt;/<span class="hljs-name">c:forEach</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">"${pageContext.request.contextPath}/admin"</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"post"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"hidden"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"userId"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"${user.id}"</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"hidden"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"action"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"delete"</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span>Delete<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">c:forEach</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><font></font>
<font></font>
</code></pre><br>
</div></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">news.jsp</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒšãƒ¼ã‚¸ã¯é™çš„ã§ã™ã€‚</font><font style="vertical-align: inherit;">ã“ã‚Œã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ¨©åˆ©ã‚’ç¤ºã™ãŸã‚ã«ã®ã¿ä½¿ç”¨ã•ã‚Œã‚‹ãŸã‚ã€é¸æŠã—ãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã§ã™ã€‚</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">news.jsp</font></font></b><div class="spoiler_text"><pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">%@</span> <span class="hljs-attr">taglib</span> <span class="hljs-attr">prefix</span>=<span class="hljs-string">"c"</span> <span class="hljs-attr">uri</span>=<span class="hljs-string">"http://java.sun.com/jsp/jstl/core"</span> %&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">%@</span> <span class="hljs-attr">page</span> <span class="hljs-attr">language</span>=<span class="hljs-string">"java"</span> <span class="hljs-attr">contentType</span>=<span class="hljs-string">"text/html; charset=utf-8"</span> <span class="hljs-attr">pageEncoding</span>=<span class="hljs-string">"utf-8"</span>%&gt;</span><font></font>
<font></font>
<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"utf-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>    .<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre><br>
</div></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®èµ·å‹•</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒ¡ã‚¤ãƒ³ã®Applicationã‚¯ãƒ©ã‚¹ã«ã€ä»¥ä¸‹ã‚’è¿½åŠ ã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-meta">@SpringBootApplication</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Application</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{<font></font>
        SpringApplication.run(Application.class, args);<font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã«é€²ã‚€å‰ã«ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹é€ ãŒæœ€åˆã«ç¤ºã—ãŸã‚‚ã®ã¨ä¸€è‡´ã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã“ã§</font><font style="vertical-align: inherit;">ã€</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">spring</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¨ã„ã†ç©ºã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ä½œæˆ</font><font style="vertical-align: inherit;">ã—ã¾ã™ã€‚ã“ã‚Œã¯ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æœ€åˆã«èµ·å‹•ã™ã‚‹å‰ã«ã€ä¸€åº¦ã ã‘è¡Œã†å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œã—ã¦ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãŒã©ã®ã‚ˆã†ã«å¤‰åŒ–ã™ã‚‹ã‹ã‚’ç¢ºèªã§ãã¾ã™-ãã®ä¸­ã«3ã¤ã®ç©ºã®ãƒ†ãƒ¼ãƒ–ãƒ«ãŒä½œæˆã•ã‚Œã¾ã™ã€‚</font><font style="vertical-align: inherit;">ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ­ãƒ¼ãƒ«ã‚’t_roleãƒ†ãƒ¼ãƒ–ãƒ«ã«è¿½åŠ ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font></font><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ­ãƒ¼ãƒ«ã‚’è¿½åŠ ã™ã‚‹SQLã‚¯ã‚¨ãƒª</font></font></b><div class="spoiler_text"><pre><code class="sql hljs"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> public.t_role(<span class="hljs-keyword">id</span>, <span class="hljs-keyword">name</span>)
  <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">1</span>, <span class="hljs-string">'ROLE_USER'</span>), (<span class="hljs-number">2</span>, <span class="hljs-string">'ROLE_ADMIN'</span>); 
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã‚Œã§ç™»éŒ²ã‚’è©¦ã™ã“ã¨ãŒã§ãã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã“ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€ç®¡ç†è€…ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ç™»éŒ²ã™ã‚‹æ–¹æ³•ã‚’æä¾›ã—ã¦ã„ã¾ã›ã‚“ãŒã€ãƒ‡ãƒ¢ã«ã¯å¿…è¦ã§ã™ã€‚</font><font style="vertical-align: inherit;">ã—ãŸãŒã£ã¦ã€æ–°ã—ã„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ç™»éŒ²ã—ãŸå¾Œã€ã“ã®å½¹å‰²ã‚’ä¸ãˆã‚‹ã‚¨ãƒ³ãƒˆãƒªã‚’user-roleãƒ†ãƒ¼ãƒ–ãƒ«ã«è¿½åŠ ã—ã¾ã™ã€‚</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç®¡ç†è€…ãƒ­ãƒ¼ãƒ«ã‚’è¿½åŠ ã™ã‚‹SQLã‚¯ã‚¨ãƒª</font></font></b><div class="spoiler_text"><pre><code class="sql hljs"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> public.t_user_roles(user_id, roles_id)
  <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>);
</code></pre><br>
</div></div><br>
<img src="https://habrastorage.org/webt/l_/cq/lk/l_cqlktls4qt_1oalbhj_itn3po.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç®¡ç†è€…æ¨©é™ã‚’è¿½åŠ ã—ãŸå¾Œã€ç®¡ç†è€…ã®ãƒšãƒ¼ã‚¸ï¼ˆã‚¨ãƒ©ãƒ¼403ï¼‰ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„å ´åˆã¯ã€Webã‚µã‚¤ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ãã ã•ã„ã€‚</font><font style="vertical-align: inherit;">ç®¡ç†è€…ãƒ­ãƒ¼ãƒ«ã‚’æŒã¤ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã¿ãŒ</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒšãƒ¼ã‚¸</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">httpï¼š// localhostï¼š8080 / adminã«</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">httpï¼š// localhostï¼š8080 /</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç™»éŒ²ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«è¡¨ç¤ºã•ã‚Œã‚‹</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ãƒ‹ãƒ¥ãƒ¼ã‚¹</font></a><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ã¾ãŸã€ã‚µã‚¤ãƒˆã§æ‰¿èªã•ã‚ŒãŸçŠ¶æ…‹ã§ã€ç™»éŒ²ãƒšãƒ¼ã‚¸ã¨ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çµè«–</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãã®çµæœã€ãƒ­ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã¦ã‚µã‚¤ãƒˆãƒšãƒ¼ã‚¸ã¸ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¯ã‚»ã‚¹ã‚’åˆ¶å¾¡ã§ãã‚‹Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒä½œæˆã•ã‚Œã¾ã—ãŸã€‚</font><font style="vertical-align: inherit;">1äººã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«è¤‡æ•°ã®å½¹å‰²ã‚’å‰²ã‚Šå½“ã¦ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</font><font style="vertical-align: inherit;">ãŸã¨ãˆã°ã€æ–°ã—ã„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ç™»éŒ²ã™ã‚‹ã¨ãã«ã€ã™ã¹ã¦ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã¨ã£ã¦åŸºæœ¬çš„ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ­ãƒ¼ãƒ«ã‚’è¿½åŠ ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«è¿½åŠ ã®æ¨©é™ã‚’è¦æ±‚ã™ã‚‹ã¨ãã«ã€ãƒ©ã‚¤ã‚¿ãƒ¼ã®ãƒ­ãƒ¼ãƒ«ã‚’ä»˜ä¸ã—ã¦ã€ã‚µã‚¤ãƒˆã«æ–°ã—ã„ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚’è¿½åŠ ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
cssãŠã‚ˆã³jsãƒ•ã‚¡ã‚¤ãƒ«ãŒä½œæˆã•ã‚Œã¾ã—ãŸãŒã€ãã‚Œã‚‰ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¯é€ä¿¡ã•ã‚Œã¾ã›ã‚“ã§ã—ãŸã€‚</font><font style="vertical-align: inherit;">å¿…è¦ã«å¿œã˜ã¦ã€ãŸã¨ãˆã°Bootstrapã‚’ä½¿ç”¨ã—ã¦ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’è¿½åŠ ã—ãŸã‚Šã€jsã‚’ä½¿ç”¨ã—ã¦ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–æ€§ã‚’è¿½åŠ ã—ãŸã‚Šã§ãã¾ã™ã€‚</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å®Œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚</font></font></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½¿ç”¨ã—ãŸã‚½ãƒ¼ã‚¹</font></font></h3><br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spring Bootã€Spring Securityã€Spring Data JPAã€Hibernateã€MySQLã€JSPã€Bootstrapã€Docker Composeã«ã‚ˆã‚‹ç™»éŒ²ã¨ãƒ­ã‚°ã‚¤ãƒ³</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ˜¥ã®è£å´</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spring Security / Spring Security Technical Review</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Springå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–™ç†ã®å­¦ç¿’ï¼šSpring 3 MVC + Spring Security + Hibernate</font></font></a></li>
</ol></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja482540/index.html">ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢VSãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ï¼šãƒˆãƒ¬ãƒ³ãƒ‰ã¯ä½•ã§ã€å°†æ¥ã¯èª°ã§ã™ã‹ï¼Ÿ</a></li>
<li><a href="../ja482544/index.html">ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ãƒãƒ¼ãƒ ã«ã€Œ0ã€ã‚’è¨­å®šã™ã‚‹-æœ€å°è¦æ¨¡ã®æ®µéšçš„ãªæ‰‹é †</a></li>
<li><a href="../ja482546/index.html">VK Techï¼šGité–‹ç™ºå¹´</a></li>
<li><a href="../ja482548/index.html">Security Week 52 + 1ï¼šéæ¨™æº–ã®ä»Šå¹´ã®ãƒˆãƒƒãƒ—3ãƒ‹ãƒ¥ãƒ¼ã‚¹</a></li>
<li><a href="../ja482550/index.html">ç¥ç§˜çš„ãªLyXãƒ—ãƒ­ã‚°ãƒ©ãƒ ã€‚ãƒ‘ãƒ¼ãƒˆ2</a></li>
<li><a href="../ja482554/index.html">ãŠé¢¨å‘‚ã®ä¾‹ã«Xiaomiã‚’å‚™ãˆãŸã‚¹ãƒãƒ¼ãƒˆãƒ›ãƒ¼ãƒ </a></li>
<li><a href="../ja482556/index.html">è‰ãŒã€Œã‚ˆã‚Šç’°å¢ƒã«å„ªã—ãã€ã€AKGãŒdinostaticãƒ˜ãƒƒãƒ‰ãƒ•ã‚©ãƒ³ã‚’ç”Ÿç”£ã—ãŸé ƒ</a></li>
<li><a href="../ja482558/index.html">ç§‘å­¦è€…ã¯æœ€åˆã«äººé–“ã®ç´°èƒã§çœ ã£ã¦ã„ã‚‹ãƒ˜ãƒ«ãƒšã‚¹ã‚¦ã‚¤ãƒ«ã‚¹ã‚’æ®ºã—ã¾ã—ãŸ</a></li>
<li><a href="../ja482560/index.html">ç°¡å˜ãªæ–‡ç« ã®æ›¸ãæ–¹</a></li>
<li><a href="../ja482562/index.html">ãƒ‘ã‚½ã‚³ãƒ³ã¯10å¹´å‰ã«æ­»ã¬ã¯ãšã ã£ãŸï¼šä»£ã‚ã‚Šã«ä½•ãŒèµ·ã“ã£ãŸã®ã‹</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>