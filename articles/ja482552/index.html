<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📵 🤦🏾 ⏬ 例として簡単なアプリケーションを使用したSpring Securityでの登録と承認 🏒 🙌🏽 🖨️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="こんにちは！
 
 この記事では、Spring BootとSpring Securityを使用した簡単なWebアプリケーションの作成について説明します。アプリケーションは、新しいユーザーの登録と承認を実装し、ユーザーの役割に応じてサイトのページへのアクセスを制限します。
 この記事の主な目的は、さま...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>例として簡単なアプリケーションを使用したSpring Securityでの登録と承認</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/482552/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">こんにちは！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、Spring BootとSpring Securityを使用した簡単なWebアプリケーションの作成について説明します。</font><font style="vertical-align: inherit;">アプリケーションは、新しいユーザーの登録と承認を実装し、ユーザーの役割に応じてサイトのページへのアクセスを制限します。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事の主な目的は、さまざまな役割を持つユーザーがサイトのさまざまなページへのアクセスを制限する方法を示すことです。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アプリケーションはどうなりますか？</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次のページがあるウェブサイト： </font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべてのユーザーがアクセスできるページ：ホーム、登録、ログイン。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">登録ユーザーが利用できるページ：ニュース。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">利用可能な管理ページ。</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">何を使うか</font></font></h3><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JDK 8+;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Intellij Idea;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spring（Spring Boot、Spring MVC、Spring Security）;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ハイバネート</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JSP</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PostgreSQL</font></font></li>
</ul><a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンテンツ</font></font></h3><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用されている主な注釈の説明。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IDEで新しいプロジェクトを作成します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロジェクト構造（パッケージ）の作成。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エンティティ、コントローラ、サービス、リポジトリ、ビューを追加します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アプリケーションの起動。</font></font></li>
</ol><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.使用される主な注釈の説明</font></font></h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コントローラ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、MVCアプリケーションで使用される特殊なタイプのクラスです。これは、HttpServletRequestオブジェクトとHttpServletResponseオブジェクトで機能する通常のHttpServletサーブレットのようですが、Spring Frameworkの高度な機能を備えています。</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リポジトリ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
データの検索、受信、および保存</font><font style="vertical-align: inherit;">に</font><font style="vertical-align: inherit;">必要な作業</font><font style="vertical-align: inherit;">のリストを設定するためにクラスが使用されることを示し</font><font style="vertical-align: inherit;">ます。アノテーションを使用して、DAOテンプレートを実装できます。</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サービス</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -クラスがビジネスロジックを実装するためのサービスであることを示します。</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">構成</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -この注釈は、Beanコンポーネントを定義するクラスに使用されます。</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自動配線</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-アノテーションを使用すると、フィールドの値を自動的に設定できます。</font><font style="vertical-align: inherit;">このアノテーションの機能は、別のBeanのコピーをBeanに渡す最善の方法について心配する必要がないことです。</font><font style="vertical-align: inherit;">Spring自体が目的のBeanを見つけて、アノテーションでマークされたプロパティの値を置き換えます。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spring Securityに関する情報</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最も基本的なオブジェクトは</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SecurityContextHolder</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。</font><font style="vertical-align: inherit;">アプリケーションを使用しているユーザー（プリンシパル）に関する詳細情報を含む、アプリケーションの現在のセキュリティコンテキストに関する情報を格納します。</font><font style="vertical-align: inherit;">Spring Securityは、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">認証</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">されたセッションユーザーで</font><font style="vertical-align: inherit;">ある</font><b><font style="vertical-align: inherit;">認証</font></b><font style="vertical-align: inherit;">オブジェクトを使用し</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「ユーザー」は単なるオブジェクトです。</font><font style="vertical-align: inherit;">ほとんどの場合、</font><b><font style="vertical-align: inherit;">UserDetails</font></b></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
クラスにキャスト</font><font style="vertical-align: inherit;">できます</font><font style="vertical-align: inherit;">。</font><b><font style="vertical-align: inherit;">UserDetailsは、</font></b><font style="vertical-align: inherit;">ユーザーデータベースとどのような春のセキュリティは、内部で必要との間のアダプタとして考えることができ</font><b><font style="vertical-align: inherit;">SecurityContextHolder</font></b><font style="vertical-align: inherit;">。</font><b><font style="vertical-align: inherit;">UserDetailsS​​ervice</font></b><font style="vertical-align: inherit;">インターフェイスは</font><font style="vertical-align: inherit;">
、</font><b><font style="vertical-align: inherit;">UserDetailsの</font></b><font style="vertical-align: inherit;">作成に</font><font style="vertical-align: inherit;">使用さ</font><font style="vertical-align: inherit;">れます</font><b><font style="vertical-align: inherit;">。</font></b></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、単一のメソッドで：</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-function">UserDetails <span class="hljs-title">loadUserByUsername</span><span class="hljs-params">(String username)</span> <span class="hljs-keyword">throws</span> UsernameNotFoundException 
</span></code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. IDEで新しいプロジェクトを作成する</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mavenビルドシステムを使用します。</font><b><font style="vertical-align: inherit;">GroupIdの</font></b></font><br>
<br>
<img src="https://habrastorage.org/webt/k4/x-/yv/k4x-yvce2pkv81gn4o-5hmxwgpo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
下</font><font style="vertical-align: inherit;">は、プロジェクトをリリースする会社（または個人のドメイン名）の一意の識別子を指します。</font><b><font style="vertical-align: inherit;">ArtefactId</font></b><font style="vertical-align: inherit;">はプロジェクトの名前にすぎません。</font><font style="vertical-align: inherit;">
プロジェクトの作成が完了すると、pom.xmlファイル</font><b><font style="vertical-align: inherit;">が開き</font></b><font style="vertical-align: inherit;">、Ideaは自動インポートを有効にするよう提案します-拒否しないでください。</font><font style="vertical-align: inherit;">このファイルには、プロジェクトで使用されるすべての依存関係（ライブラリ）が含まれます。</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<img src="https://habrastorage.org/webt/t8/t4/ep/t8t4epn19a0gytk7lz1aviwzm0k.png"><br>
<br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<img src="https://habrastorage.org/webt/m9/xd/au/m9xdaux9kaa3zly9u5e_lp1kkqg.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.プロジェクト構造（パッケージ）の作成</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すぐにパッケージの作成に移ります。</font><font style="vertical-align: inherit;">判明するはずのプロジェクト構造を以下に示します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ly/js/z_/lyjsz_zy6cq4ls7sd3_k0p9y8zw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、各パッケージに何が格納されるかについて簡単に説明します。</font></font><br>
<br>
<ul>
<li><b>src\main\java\com\boots\config</b> —     MVC (MvcConfig)   (WebSecurityConfig);</li>
<li><b>src\main\java\com\boots\controller</b> —   ;</li>
<li><b>src\main\java\com\boots\entity</b> —   ;</li>
<li><b>src\main\java\com\boots\repository</b> —  ;</li>
<li><b>src\main\java\com\boots\service</b> —  c   ;</li>
<li><b>src\main\webapp\resources</b> —  : js, css, img;</li>
<li><b>src\main\webapp\WEB-INF\jsp</b> —     .jsp.</li>
</ul><br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pom.xml</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ファイルを検討してください</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">このファイルでは、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">親</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">タグを使用して親ファイルへのリンクを指定する必要があります</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">親のすべてのプロパティと依存関係がこの子ファイルに追加されます。</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">parent</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.1.9.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">parent</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、Springモジュール、PostgreSQLデータベースドライバー、Tomcatサーバー、JSTLの依存関係を追加します。</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">java.version</span>&gt;</span>1.8<span class="hljs-tag">&lt;/<span class="hljs-name">java.version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デフォルトでは、mavenは古いバージョンのJava 1.6を使用します。これを修正するには、バージョンを明示的に指定します。</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-security<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-data-jpa<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.postgresql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>postgresql<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>42.2.8<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>runtime<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jstl<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.tomcat.embed<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>tomcat-embed-jasper<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>9.0.27<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.security<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-security-taglibs<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.2.0.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、jarまたはwarアーカイブをパックして「インプレース」で実行できるプラグインを追加します。</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span>
</code></pre><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完全なpom.xml</font></font></b><div class="spoiler_text"><pre><code class="xml hljs"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">project</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://maven.apache.org/POM/4.0.0"</span>
         <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
         <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">modelVersion</span>&gt;</span>4.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">modelVersion</span>&gt;</span><font></font>
<font></font>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>ark<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><font></font>
<font></font>
    <span class="hljs-tag">&lt;<span class="hljs-name">parent</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.1.6.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">parent</span>&gt;</span><font></font>
<font></font>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-security<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-data-jpa<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.postgresql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>postgresql<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>runtime<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jstl<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.tomcat.embed<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>tomcat-embed-jasper<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>9.0.27<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.security<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-security-taglibs<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.2.0.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><font></font>
<font></font>
<font></font>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-devtools<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><font></font>
<font></font>
    <span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">java.version</span>&gt;</span>1.8<span class="hljs-tag">&lt;/<span class="hljs-name">java.version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span><font></font>
<font></font>
    <span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">application.properties</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ファイルに入力します</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">最初の3行には、データベースに接続するためのデータが含まれています（データベース名は「spring」、ログインおよびパスワードです）。</font><font style="vertical-align: inherit;">最後の2行は、.jspファイルへのパスを示しています。</font></font><br>
<pre><code class="xml hljs">spring.datasource.url=jdbc:postgresql://localhost/spring<font></font>
spring.datasource.username=postgres<font></font>
spring.datasource.password=password<font></font>
spring.jpa.show-sql=true<font></font>
spring.jpa.generate-ddl=false<font></font>
spring.jpa.hibernate.ddl-auto=update<font></font>
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true<font></font>
<font></font>
spring.mvc.view.prefix = /WEB-INF/jsp/<font></font>
spring.mvc.view.suffix = .jsp<font></font>
</code></pre><br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">spring.jpa.show-sql</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
プロパティ</font><font style="vertical-align: inherit;">は、データベースクエリの本文をコンソールに表示します。</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">spring.jpa.hibernate.ddl-autoを</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用すると、モデルに基づいてデータベースを作成するための戦略を設定できます。これには、異なる値（なし、作成、更新など）があります。</font><font style="vertical-align: inherit;">この場合の</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更新</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">とは、データベーステーブルとフィールドがモデルに基づいて作成されることを意味します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今後は、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">spring</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">という名前のデータベースを作成するだけ</font><font style="vertical-align: inherit;">でよく、ユーザーテーブル、ロール、およびそれらのリンクテーブルと外部キーが、モデル（エンティティパッケージ）に基づいて自動的に生成されます。これを作成します。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.エンティティ、コントローラ、サービス、リポジトリ、ビューを追加する</font></font></h3><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.1。</font><font style="vertical-align: inherit;">エンティティ（モデル）の追加</font></font></h4><br>
<i><b> </b>   :  ,          (   ).     ,  <b>Alt+Insert</b>  Idea    .<br>
<br>
         <b>Alt+Enter</b>.<br>
</i><br>
<img src="https://habrastorage.org/webt/ui/kj/rb/uikjrbx43srmtyfybki9eesdyma.png"><br>
<br>
<div class="spoiler"><b class="spoiler_title">User</b><div class="spoiler_text"><pre><code class="java hljs"><span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "t_user")</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">UserDetails</span> </span>{
    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;
    <span class="hljs-meta">@Size(min=2, message = "  5 ")</span>
    <span class="hljs-keyword">private</span> String username;
    <span class="hljs-meta">@Size(min=2, message = "  5 ")</span>
    <span class="hljs-keyword">private</span> String password;
    <span class="hljs-meta">@Transient</span>
    <span class="hljs-keyword">private</span> String passwordConfirm;
    <span class="hljs-meta">@ManyToMany(fetch = FetchType.EAGER)</span>
    <span class="hljs-keyword">private</span> Set&lt;Role&gt; roles;<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">User</span><span class="hljs-params">()</span> </span>{<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> Long <span class="hljs-title">getId</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> id;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setId</span><span class="hljs-params">(Long id)</span> </span>{
        <span class="hljs-keyword">this</span>.id = id;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getUsername</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> username;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isAccountNonExpired</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isAccountNonLocked</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isCredentialsNonExpired</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isEnabled</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setUsername</span><span class="hljs-params">(String username)</span> </span>{
        <span class="hljs-keyword">this</span>.username = username;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {
        <span class="hljs-keyword">return</span> getRoles();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getPassword</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> password;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setPassword</span><span class="hljs-params">(String password)</span> </span>{
        <span class="hljs-keyword">this</span>.password = password;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getPasswordConfirm</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> passwordConfirm;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setPasswordConfirm</span><span class="hljs-params">(String passwordConfirm)</span> </span>{
        <span class="hljs-keyword">this</span>.passwordConfirm = passwordConfirm;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> Set&lt;Role&gt; <span class="hljs-title">getRoles</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> roles;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setRoles</span><span class="hljs-params">(Set&lt;Role&gt; roles)</span> </span>{
        <span class="hljs-keyword">this</span>.roles = roles;<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
</div></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユーザー</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アノテーションについての最初に：</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エンティティ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、クラスのフィールドがデータベースにマッピングを持っていると言います。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テーブル（名前= "t_user"）</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、どのテーブルを示します。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GenerationType.IDENTITY</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> IDENTITYパラメータは、データベースがIDの生成に従事することを意味します。他の戦略があります。 SEQUENCE-PostgreSQLやOracleなどの組み込みデータベースエンジンを使用します。これは、シーケンシャル値（シーケンス）を生成するメカニズムです。 TABLE-別のテーブルが初期化されたキー値で使用されます。別のオプションはAUTOです。Hibernateは上記の戦略の1つを選択しますが、戦略を明示的に指定することをお勧めします。</font><b><font style="vertical-align: inherit;">Transient</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
アノテーションの下のフィールド</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、データベースには表示されません。</font><font style="vertical-align: inherit;">役割のリストは、ユーザーと多対多の関係に関連付けられています（1人のユーザーが一方の側に複数の役割を持ち、1つの役割がもう一方の側に複数のユーザーを持つことができます）。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FetchType.EAGER-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「貪欲」なダウンロード、つまり </font><font style="vertical-align: inherit;">役割のリストは、ユーザーと一緒にすぐにダウンロードされます（連絡されるまで待機しません）。</font><font style="vertical-align: inherit;">Spring Securityで</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
引き続き</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">User</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クラスを使用するには</font><font style="vertical-align: inherit;">、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UserDetails</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インターフェイスを実装する必要があります</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">これを行うには、すべてのメソッドをオーバーライドします。</font><font style="vertical-align: inherit;">ただし、この例では、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">getAuthorities（）</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メソッドのみを使用し、</font><font style="vertical-align: inherit;">ユーザーロールのリストを返します。</font><font style="vertical-align: inherit;">したがって、残りのメソッドについては、戻り値を</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">trueに</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">変更し</font><b><font style="vertical-align: inherit;">ます</font></b><font style="vertical-align: inherit;">。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">役割</font></font></b><div class="spoiler_text"><pre><code class="java hljs"><span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "t_role")</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Role</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">GrantedAuthority</span> </span>{
    <span class="hljs-meta">@Id</span>
    <span class="hljs-keyword">private</span> Long id;
    <span class="hljs-keyword">private</span> String name;
    <span class="hljs-meta">@Transient</span>
    <span class="hljs-meta">@ManyToMany(mappedBy = "roles")</span>
    <span class="hljs-keyword">private</span> Set&lt;User&gt; users;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Role</span><span class="hljs-params">()</span> </span>{<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Role</span><span class="hljs-params">(Long id)</span> </span>{
        <span class="hljs-keyword">this</span>.id = id;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Role</span><span class="hljs-params">(Long id, String name)</span> </span>{
        <span class="hljs-keyword">this</span>.id = id;
        <span class="hljs-keyword">this</span>.name = name;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> Long <span class="hljs-title">getId</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> id;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setId</span><span class="hljs-params">(Long id)</span> </span>{
        <span class="hljs-keyword">this</span>.id = id;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> name;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setName</span><span class="hljs-params">(String name)</span> </span>{
        <span class="hljs-keyword">this</span>.name = name;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> Set&lt;User&gt; <span class="hljs-title">getUsers</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> users;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setUsers</span><span class="hljs-params">(Set&lt;User&gt; users)</span> </span>{
        <span class="hljs-keyword">this</span>.users = users;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getAuthority</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> getName();<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
</div></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">役割 </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このクラスは、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GrantedAuthority</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インターフェースを実装する</font><b><font style="vertical-align: inherit;">必要があり</font></b><font style="vertical-align: inherit;">ます。このインターフェース</font><font style="vertical-align: inherit;">では、1つの</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">getAuthority（）</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メソッドのみを再定義する必要があります</font><font style="vertical-align: inherit;">（ロール名を返します）。</font><font style="vertical-align: inherit;">ロール名は、パターン "ROLE_NAME"に一致する必要があり</font><font style="vertical-align: inherit;">ます（</font><font style="vertical-align: inherit;">例：</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ROLE_USER）</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">デフォルトのコンストラクターに加えて、さらにいくつかのパブリックコンストラクターを追加する必要があります。最初のコンストラクターはidのみを受け入れ、2番目のIDと名前を受け入れます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで、フィールド制限を追加できます。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サイズ（最小= 2）</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -フィールドの最小長が2であることを意味します。制限に違反すると、メッセージが表示されます。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.2。</font><font style="vertical-align: inherit;">データアクセスレイヤーとサービスレイヤーの実装</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Spring Dataは、データベースへのアクセスを提供するレイヤーを作成するための一連の既成の実装を提供します。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JpaRepository</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インターフェース</font><font style="vertical-align: inherit;">は、</font><b><font style="vertical-align: inherit;">データベースを操作</font></b><font style="vertical-align: inherit;">するための一連の標準メソッド（findBy、save、deleteByIdなど）を提供します。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UserRepository。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リポジトリパッケージにユーザーインターフェースを作成し、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JpaRepository &lt;User、Long&gt;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を継承し</font><font style="vertical-align: inherit;">、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">User</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クラス</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">指定し</font><b><font style="vertical-align: inherit;">ます</font></b><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">そのIDタイプは</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Long</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">UserRepository</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">JpaRepository</span>&lt;<span class="hljs-title">User</span>, <span class="hljs-title">Long</span>&gt; </span>{
    <span class="hljs-function">User <span class="hljs-title">findByUsername</span><span class="hljs-params">(String username)</span></span>;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
に。</font><font style="vertical-align: inherit;">インターフェースを作成して</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JpaRepository</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を継承する</font><b><font style="vertical-align: inherit;">だけで、</font></b><font style="vertical-align: inherit;">標準のデータベースクエリを実行できます。</font><font style="vertical-align: inherit;">特定のメソッドが必要な場合は、アイデアのヒントに基づいて、インターフェイスに追加するだけです。</font><font style="vertical-align: inherit;">たとえば、データベース内のユーザーを名前で検索するメソッドが必要です。</font><font style="vertical-align: inherit;">返されたオブジェクトのタイプを記述し、次にIDEが可能なオプションを提供します。</font><font style="vertical-align: inherit;">それら。</font><font style="vertical-align: inherit;">この場合、メソッド名がリクエストの本文を決定します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ia/1r/b-/ia1rb-sfptgoogvuh1n4gqibh4g.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
必要に応じ</font><font style="vertical-align: inherit;">て、メソッドに対して</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Query</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アノテーション</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">使用し、</font><font style="vertical-align: inherit;">HQLまたはSQLでクエリを記述できます（nativeQuery = trueを追加する必要があります）。</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-meta">@Query(value = "SELECT nextval(pg_get_serial_sequence('t_user', 'id'))", nativeQuery = true)</span>
    <span class="hljs-function">Long <span class="hljs-title">getNextId</span><span class="hljs-params">()</span></span>;
</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RoleRepository。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">同じ方法で作成します。ここでは独自のメソッドは必要ありません。</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">RoleRepository</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">JpaRepository</span>&lt;<span class="hljs-title">Role</span>, <span class="hljs-title">Long</span>&gt; </span>{<font></font>
}<font></font>
</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UserService。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アプリケーションのビジネスロジックのメソッドが含まれます。</font><font style="vertical-align: inherit;">このクラスは、</font><font style="vertical-align: inherit;">Spring Securityに必要な</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UserDetailsS​​ervice</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インターフェースを実装します。このインターフェース</font><font style="vertical-align: inherit;">では、1つの</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">loadUserByUsername（）</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メソッドをオーバーライドする必要があります</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このクラスでは、EntityManagerを使用して、SQLクエリを実行する別の方法を確認できます。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユーザーサービス</font></font></b><div class="spoiler_text"><pre><code class="java hljs"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserService</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">UserDetailsService</span> </span>{
    <span class="hljs-meta">@PersistenceContext</span>
    <span class="hljs-keyword">private</span> EntityManager em;
    <span class="hljs-meta">@Autowired</span><font></font>
    UserRepository userRepository;<font></font>
    <span class="hljs-meta">@Autowired</span><font></font>
    RoleRepository roleRepository;<font></font>
    <span class="hljs-meta">@Autowired</span><font></font>
    BCryptPasswordEncoder bCryptPasswordEncoder;<font></font>
<font></font>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> UserDetails <span class="hljs-title">loadUserByUsername</span><span class="hljs-params">(String username)</span> <span class="hljs-keyword">throws</span> UsernameNotFoundException </span>{<font></font>
        User user = userRepository.findByUsername(username);<font></font>
<font></font>
        <span class="hljs-keyword">if</span> (user == <span class="hljs-keyword">null</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> UsernameNotFoundException(<span class="hljs-string">"User not found"</span>);<font></font>
        }<font></font>
<font></font>
        <span class="hljs-keyword">return</span> user;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> User <span class="hljs-title">findUserById</span><span class="hljs-params">(Long userId)</span> </span>{<font></font>
        Optional&lt;User&gt; userFromDb = userRepository.findById(userId);<font></font>
        <span class="hljs-keyword">return</span> userFromDb.orElse(<span class="hljs-keyword">new</span> User());<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;User&gt; <span class="hljs-title">allUsers</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> userRepository.findAll();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">saveUser</span><span class="hljs-params">(User user)</span> </span>{<font></font>
        User userFromDB = userRepository.findByUsername(user.getUsername());<font></font>
<font></font>
        <span class="hljs-keyword">if</span> (userFromDB != <span class="hljs-keyword">null</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<font></font>
        }<font></font>
<font></font>
        user.setRoles(Collections.singleton(<span class="hljs-keyword">new</span> Role(<span class="hljs-number">1L</span>, <span class="hljs-string">"ROLE_USER"</span>)));<font></font>
        user.setPassword(bCryptPasswordEncoder.encode(user.getPassword()));<font></font>
        userRepository.save(user);<font></font>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">deleteUser</span><span class="hljs-params">(Long userId)</span> </span>{
        <span class="hljs-keyword">if</span> (userRepository.findById(userId).isPresent()) {<font></font>
            userRepository.deleteById(userId);<font></font>
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<font></font>
        }<font></font>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;User&gt; <span class="hljs-title">usergtList</span><span class="hljs-params">(Long idMin)</span> </span>{
        <span class="hljs-keyword">return</span> em.createQuery(<span class="hljs-string">"SELECT u FROM User u WHERE u.id &gt; :paramId"</span>, User.class)<font></font>
                .setParameter("paramId", idMin).getResultList();<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">saveUser（ユーザーユーザー）</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
メソッドを検討してください</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">saveUser</span><span class="hljs-params">(User user)</span> </span>{<font></font>
        User userFromDB = userRepository.findByUsername(user.getUsername());<font></font>
<font></font>
        <span class="hljs-keyword">if</span> (userFromDB != <span class="hljs-keyword">null</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<font></font>
        }<font></font>
<font></font>
        user.setRoles(Collections.singleton(<span class="hljs-keyword">new</span> Role(<span class="hljs-number">1L</span>, <span class="hljs-string">"ROLE_USER"</span>)));<font></font>
        user.setPassword(bCryptPasswordEncoder.encode(user.getPassword()));<font></font>
        userRepository.save(user);<font></font>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<font></font>
    }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、データベース内でユーザー名による検索が行われ、同じ名前のユーザーが既に存在する場合、メソッドは作業を終了します。</font><font style="vertical-align: inherit;">ユーザー名を取得しない場合、ROLE_USERロールが追加されます。</font><font style="vertical-align: inherit;">パスワードを未加工の形式で保存しないようにするために、以前に</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bCryptPasswordEncoder</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用してハッシュされ</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">次に、新しいユーザーがデータベースに保存されます。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.3。</font><font style="vertical-align: inherit;">コントローラーの追加</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サーバーによって処理されず、単にページを返すページの場合、構成でマッピングを構成できます。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ログイン</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ページは</font><font style="vertical-align: inherit;">、デフォルトでSpring Securityコントローラによって処理されるため、別のコントローラは必要ありません。</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MvcConfig</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">WebMvcConfigurer</span> </span>{<font></font>
<font></font>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">addViewControllers</span><span class="hljs-params">(ViewControllerRegistry registry)</span> </span>{<font></font>
        registry.addViewController(<span class="hljs-string">"/login"</span>).setViewName(<span class="hljs-string">"login"</span>);<font></font>
        registry.addViewController(<span class="hljs-string">"/news"</span>).setViewName(<span class="hljs-string">"news"</span>);<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RegistrationController。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">登録ページには別のコントローラーが必要です。</font><font style="vertical-align: inherit;">GETリクエストを処理するには、注釈</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@GetMapping（ "/登録"）が使用されている</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> POSTのために、 - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@PostMapping（ "/登録"） </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RegistrationController</font></font></b><div class="spoiler_text"><pre><code class="java hljs"><span class="hljs-meta">@Controller</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RegistrationController</span> </span>{<font></font>
<font></font>
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> UserService userService;<font></font>
<font></font>
    <span class="hljs-meta">@GetMapping("/registration")</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">registration</span><span class="hljs-params">(Model model)</span> </span>{<font></font>
        model.addAttribute(<span class="hljs-string">"userForm"</span>, <span class="hljs-keyword">new</span> User());<font></font>
<font></font>
        <span class="hljs-keyword">return</span> <span class="hljs-string">"registration"</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@PostMapping("/registration")</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">addUser</span><span class="hljs-params">(<span class="hljs-meta">@ModelAttribute("userForm")</span> <span class="hljs-meta">@Valid</span> User userForm, BindingResult bindingResult, Model model)</span> </span>{<font></font>
<font></font>
        <span class="hljs-keyword">if</span> (bindingResult.hasErrors()) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"registration"</span>;<font></font>
        }<font></font>
        <span class="hljs-keyword">if</span> (!userForm.getPassword().equals(userForm.getPasswordConfirm())){<font></font>
            model.addAttribute(<span class="hljs-string">"passwordError"</span>, <span class="hljs-string">"  "</span>);
            <span class="hljs-keyword">return</span> <span class="hljs-string">"registration"</span>;<font></font>
        }<font></font>
        <span class="hljs-keyword">if</span> (!userService.saveUser(userForm)){<font></font>
            model.addAttribute(<span class="hljs-string">"usernameError"</span>, <span class="hljs-string">"     "</span>);
            <span class="hljs-keyword">return</span> <span class="hljs-string">"registration"</span>;<font></font>
        }<font></font>
<font></font>
        <span class="hljs-keyword">return</span> <span class="hljs-string">"redirect:/"</span>;<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ページから何かを追加または受信するには、モデルを使用します。 GETリクエストでは、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">User</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クラスの新しい空のオブジェクトがページに追加されます</font><font style="vertical-align: inherit;">。これは、POSTリクエスト中に一度に1つずつ登録フォームからデータ（ユーザー名、パスワード、passwordComfirm）を取得せずに、すぐに入力済みのuserFormオブジェクトを取得するために行われます。</font><b><font style="vertical-align: inherit;">addUser（）</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
メソッド</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、GETリクエスト中に追加されたユーザーオブジェクト（userForm）をパラメーターとして</font><b><font style="vertical-align: inherit;">想定</font></b><font style="vertical-align: inherit;">します。 Annotation </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Valid</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、フィールドに課された制限（この場合は2文字以上）が満たされているかどうかをチェックします。制限が満たされていない場合、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bindingResult</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">にはエラーが含まれます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
パスワードとその確認が一致しない場合は、ページにメッセージを追加して返してください。</font><font style="vertical-align: inherit;">最後に、ユーザーをデータベースに追加して保存しようとします。</font><b><font style="vertical-align: inherit;">saveUser（）</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
メソッド</font><font style="vertical-align: inherit;">は、同じ名前のユーザーがすでに存在する場合はfalseを返し、ユーザーがデータベースに保存されている場合はtrueを返します。</font><font style="vertical-align: inherit;">保存に失敗した場合は、エラーメッセージを追加してページを返します。</font><font style="vertical-align: inherit;">ユーザーが正常に保存されたら、メインページに移動します。</font><b><font style="vertical-align: inherit;">管理コントローラー </font></b><font style="vertical-align: inherit;">管理ページへのアクセスは、管理者ロールを持つユーザーに制限されています。</font><b><font style="vertical-align: inherit;">userList（）</font></b><font style="vertical-align: inherit;">メソッドに</font><font style="vertical-align: inherit;">は何も新しいものはありません。すべてのユーザーのデータを受け取り、ページに追加します。</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">管理コントローラー</font></font></b><div class="spoiler_text"><pre><code class="java hljs"><span class="hljs-meta">@Controller</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AdminController</span> </span>{
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> UserService userService;<font></font>
<font></font>
    <span class="hljs-meta">@GetMapping("/admin")</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">userList</span><span class="hljs-params">(Model model)</span> </span>{<font></font>
        model.addAttribute(<span class="hljs-string">"allUsers"</span>, userService.allUsers());
        <span class="hljs-keyword">return</span> <span class="hljs-string">"admin"</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@PostMapping("/admin")</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String  <span class="hljs-title">deleteUser</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam(required = true, defaultValue = "" )</span> Long userId,
                              <span class="hljs-meta">@RequestParam(required = true, defaultValue = "" )</span> String action,
                              Model model)</span> </span>{
        <span class="hljs-keyword">if</span> (action.equals(<span class="hljs-string">"delete"</span>)){<font></font>
            userService.deleteUser(userId);<font></font>
        }<font></font>
        <span class="hljs-keyword">return</span> <span class="hljs-string">"redirect:/admin"</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@GetMapping("/admin/gt/{userId}")</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String  <span class="hljs-title">gtUser</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable("userId")</span> Long userId, Model model)</span> </span>{<font></font>
        model.addAttribute(<span class="hljs-string">"allUsers"</span>, userService.usergtList(userId));
        <span class="hljs-keyword">return</span> <span class="hljs-string">"admin"</span>;<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">deleteUser（）</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
メソッド</font><font style="vertical-align: inherit;">は</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RequestParam</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アノテーションを使用し</font><b><font style="vertical-align: inherit;">ます</font></b><font style="vertical-align: inherit;">。ビューにはフォームがあり、userIdとactionの2つのパラメーターを渡す必要があります。リンクの形式は</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http：// localhost：8080 / admin？UserId = 24＆action = delete</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このリクエストが実行されると、id = 24のユーザーが削除されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
パラメータをURLに渡す別のオプションは、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PathVariable</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用すること</font><b><font style="vertical-align: inherit;">です</font></b><font style="vertical-align: inherit;">。このアノテーションを使用して、URLの個々の部分を取得します</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。getUser（）</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メソッドの場合、</font><font style="vertical-align: inherit;">URLは次のよう</font><font style="vertical-align: inherit;">になり</font><font style="vertical-align: inherit;">ます</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。http：// localhost：8080 / admin / gt / 24</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、移行後、id&gt; 24のすべてのユーザーのリストが表示されます。</font><b><font style="vertical-align: inherit;">WebSecurityConfig </font></b></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">セキュリティ</font></font></b><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">設定。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2つの豆が含まれています</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BCryptPasswordEncoder</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">および</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AuthenticationManager</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。これらは、以前にuserServiceクラスですでに検出されています。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">configure（）</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メソッドは</font><font style="vertical-align: inherit;">、さまざまなサイトリソースへのアクセスを</font><b><font style="vertical-align: inherit;">構成し</font></b><font style="vertical-align: inherit;">ます。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">antMatchers（）</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メソッドのパラメーターとして</font><font style="vertical-align: inherit;">、制限を設定するパス</font><b><font style="vertical-align: inherit;">を</font></b><font style="vertical-align: inherit;">渡します。</font><font style="vertical-align: inherit;">次に、このページが利用できる役割をユーザーに示します。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebSecurityConfig</font></font></b><div class="spoiler_text"><pre><code class="java hljs"><span class="hljs-meta">@Configuration</span>
<span class="hljs-meta">@EnableWebSecurity</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">WebSecurityConfig</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">WebSecurityConfigurerAdapter</span> </span>{
    <span class="hljs-meta">@Autowired</span><font></font>
    UserService userService;<font></font>
<font></font>
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> BCryptPasswordEncoder <span class="hljs-title">bCryptPasswordEncoder</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> BCryptPasswordEncoder();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">configure</span><span class="hljs-params">(HttpSecurity httpSecurity)</span> <span class="hljs-keyword">throws</span> Exception </span>{<font></font>
        httpSecurity<font></font>
                .csrf()<font></font>
                    .disable()<font></font>
                .authorizeRequests()<font></font>
                    <span class="hljs-comment">//     </span>
                    .antMatchers(<span class="hljs-string">"/registration"</span>).not().fullyAuthenticated()
                    <span class="hljs-comment">//      </span>
                    .antMatchers(<span class="hljs-string">"/admin/**"</span>).hasRole(<span class="hljs-string">"ADMIN"</span>)<font></font>
                    .antMatchers(<span class="hljs-string">"/news"</span>).hasRole(<span class="hljs-string">"USER"</span>)
                    <span class="hljs-comment">//   </span>
                    .antMatchers(<span class="hljs-string">"/"</span>, <span class="hljs-string">"/resources/**"</span>).permitAll()
                <span class="hljs-comment">//    </span><font></font>
                .anyRequest().authenticated()<font></font>
                .and()<font></font>
                    <span class="hljs-comment">//    </span><font></font>
                    .formLogin()<font></font>
                    .loginPage(<span class="hljs-string">"/login"</span>)
                    <span class="hljs-comment">//      </span>
                    .defaultSuccessUrl(<span class="hljs-string">"/"</span>)<font></font>
                    .permitAll()<font></font>
                .and()<font></font>
                    .logout()<font></font>
                    .permitAll()<font></font>
                    .logoutSuccessUrl(<span class="hljs-string">"/"</span>);<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">configureGlobal</span><span class="hljs-params">(AuthenticationManagerBuilder auth)</span> <span class="hljs-keyword">throws</span> Exception </span>{<font></font>
        auth.userDetailsService(userService).passwordEncoder(bCryptPasswordEncoder());<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
</div></div><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.4。</font><font style="vertical-align: inherit;">ビューを追加する</font></font></h4><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">index.jspの</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ホームページには、ゲスト用と承認済みユーザー用の2つのオプションがあります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/td/f_/rb/tdf_rbnrq5zmuwkpzi1izzf5xfu.png"><br>
<br>
<img src="https://habrastorage.org/webt/bt/7z/mh/bt7zmh7dlr01k6jpse3bahvrc14.png"><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">index.jsp</font></font></b><div class="spoiler_text"><pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">%@</span> <span class="hljs-attr">taglib</span> <span class="hljs-attr">prefix</span>=<span class="hljs-string">"c"</span> <span class="hljs-attr">uri</span>=<span class="hljs-string">"http://java.sun.com/jsp/jstl/core"</span> %&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">%@</span> <span class="hljs-attr">taglib</span> <span class="hljs-attr">prefix</span>=<span class="hljs-string">"sec"</span> <span class="hljs-attr">uri</span>=<span class="hljs-string">"http://www.springframework.org/security/tags"</span> %&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">%@</span> <span class="hljs-attr">page</span> <span class="hljs-attr">language</span>=<span class="hljs-string">"java"</span> <span class="hljs-attr">contentType</span>=<span class="hljs-string">"text/html; charset=utf-8"</span> <span class="hljs-attr">pageEncoding</span>=<span class="hljs-string">"utf-8"</span>%&gt;</span><font></font>
<font></font>
<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">HTML</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">"Content-Type"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"text/html; charset=UTF-8"</span>/&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/css"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"${contextPath}/resources/css/style.css"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>${pageContext.request.userPrincipal.name}<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">sec:authorize</span> <span class="hljs-attr">access</span>=<span class="hljs-string">"!isAuthenticated()"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h4</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/login"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h4</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/registration"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">sec:authorize</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">sec:authorize</span> <span class="hljs-attr">access</span>=<span class="hljs-string">"isAuthenticated()"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h4</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/logout"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">sec:authorize</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h4</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/news"</span>&gt;</span> ( )<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h4</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/admin"</span>&gt;</span> ( )<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
承認済みユーザーのページのコンテンツの一部を非表示にするには（登録および承認ページへのリンク）、</font><font style="vertical-align: inherit;">Spring Securityタグライブラリの</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">承認</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">タグ</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">使用できます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">アクセスパラメータはいくつかの式を受け入れます。たとえば、ユーザーロール</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hasRole（ 'ADMIN'）に</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">応じて制限を設定できます</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">registration.jsp</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">登録ページ。</font></font><br>
<img src="https://habrastorage.org/webt/bb/q7/eb/bbq7ebi7zzfqlwbur0utiujn2sk.png"><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">registration.jsp</font></font></b><div class="spoiler_text"><pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">%@</span> <span class="hljs-attr">taglib</span> <span class="hljs-attr">prefix</span>=<span class="hljs-string">"form"</span> <span class="hljs-attr">uri</span>=<span class="hljs-string">"http://www.springframework.org/tags/form"</span> %&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">%@</span> <span class="hljs-attr">taglib</span> <span class="hljs-attr">prefix</span>=<span class="hljs-string">"c"</span> <span class="hljs-attr">uri</span>=<span class="hljs-string">"http://java.sun.com/jsp/jstl/core"</span> %&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">%@</span> <span class="hljs-attr">page</span> <span class="hljs-attr">language</span>=<span class="hljs-string">"java"</span> <span class="hljs-attr">contentType</span>=<span class="hljs-string">"text/html; charset=utf-8"</span> <span class="hljs-attr">pageEncoding</span>=<span class="hljs-string">"utf-8"</span>%&gt;</span><font></font>
<font></font>
<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"utf-8"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">form:form</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"POST"</span> <span class="hljs-attr">modelAttribute</span>=<span class="hljs-string">"userForm"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">form:input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"username"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Username"</span>
                  <span class="hljs-attr">autofocus</span>=<span class="hljs-string">"true"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">form:input</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">form:errors</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"username"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">form:errors</span>&gt;</span><font></font>
        ${usernameError}<font></font>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">form:input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Password"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">form:input</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">form:input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"passwordConfirm"</span>
                  <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Confirm your password"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">form:input</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">form:errors</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"password"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">form:errors</span>&gt;</span><font></font>
        ${passwordError}<font></font>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">form:form</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><font></font>
<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このページでは、タグライブラリのフォームタグを使用して、userFormモデル属性をリンクし（コントローラーでGETリクエストを使用してページに追加）、フォームを使用します。</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">form:form</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"POST"</span> <span class="hljs-attr">modelAttribute</span>=<span class="hljs-string">"userForm"</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、userFormプロパティをバインドするパスを指定する必要があります。</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">form:input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"username"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Username"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">form:input</span>&gt;</span>
</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">login.jspログイン</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ページ。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/af/js/lv/afjslvso7xhnhbzdbl2txeh-o04.png"><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">login.jsp</font></font></b><div class="spoiler_text"><pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">%@</span> <span class="hljs-attr">taglib</span> <span class="hljs-attr">prefix</span>=<span class="hljs-string">"sec"</span> <span class="hljs-attr">uri</span>=<span class="hljs-string">"http://www.springframework.org/security/tags"</span> %&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">%@</span> <span class="hljs-attr">page</span> <span class="hljs-attr">language</span>=<span class="hljs-string">"java"</span> <span class="hljs-attr">contentType</span>=<span class="hljs-string">"text/html; charset=utf-8"</span> <span class="hljs-attr">pageEncoding</span>=<span class="hljs-string">"utf-8"</span>%&gt;</span><font></font>
<font></font>
<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"utf-8"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Log in with your account<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">sec:authorize</span> <span class="hljs-attr">access</span>=<span class="hljs-string">"isAuthenticated()"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">%</span> <span class="hljs-attr">response.sendRedirect</span>("/"); %&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">sec:authorize</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"POST"</span> <span class="hljs-attr">action</span>=<span class="hljs-string">"/login"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>  <span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"username"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Username"</span>
             <span class="hljs-attr">autofocus</span>=<span class="hljs-string">"true"</span>/&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Password"</span>/&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span>Log In<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h4</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/registration"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このページは、すでに述べたように、デフォルトではSpringコントローラーによって処理されます。</font><font style="vertical-align: inherit;">アクションを指定することが重要です：</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">action = "/ login"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">および入力の名前。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">admin.jsp管理</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ページ。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/kf/s8/uz/kfs8uz5ja4he06qkklcr0rrxfcc.png"><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">admin.jsp</font></font></b><div class="spoiler_text"><pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">%@</span> <span class="hljs-attr">taglib</span> <span class="hljs-attr">prefix</span>=<span class="hljs-string">"c"</span> <span class="hljs-attr">uri</span>=<span class="hljs-string">"http://java.sun.com/jsp/jstl/core"</span> %&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">%@</span> <span class="hljs-attr">page</span> <span class="hljs-attr">language</span>=<span class="hljs-string">"java"</span> <span class="hljs-attr">contentType</span>=<span class="hljs-string">"text/html; charset=utf-8"</span> <span class="hljs-attr">pageEncoding</span>=<span class="hljs-string">"utf-8"</span>%&gt;</span><font></font>
<font></font>
<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"utf-8"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Log in with your account<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/css"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"${contextPath}/resources/css/style.css"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">table</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">thead</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>ID<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>UserName<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Password<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Roles<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">thead</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">c:forEach</span> <span class="hljs-attr">items</span>=<span class="hljs-string">"${allUsers}"</span> <span class="hljs-attr">var</span>=<span class="hljs-string">"user"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>${user.id}<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>${user.username}<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>${user.password}<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">c:forEach</span> <span class="hljs-attr">items</span>=<span class="hljs-string">"${user.roles}"</span> <span class="hljs-attr">var</span>=<span class="hljs-string">"role"</span>&gt;</span>${role.name}; <span class="hljs-tag">&lt;/<span class="hljs-name">c:forEach</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">"${pageContext.request.contextPath}/admin"</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"post"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"hidden"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"userId"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"${user.id}"</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"hidden"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"action"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"delete"</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span>Delete<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">c:forEach</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><font></font>
<font></font>
</code></pre><br>
</div></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">news.jsp</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ニュースページは静的です。</font><font style="vertical-align: inherit;">これは、ユーザーの権利を示すためにのみ使用されるため、選択したコンテンツです。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">news.jsp</font></font></b><div class="spoiler_text"><pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">%@</span> <span class="hljs-attr">taglib</span> <span class="hljs-attr">prefix</span>=<span class="hljs-string">"c"</span> <span class="hljs-attr">uri</span>=<span class="hljs-string">"http://java.sun.com/jsp/jstl/core"</span> %&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">%@</span> <span class="hljs-attr">page</span> <span class="hljs-attr">language</span>=<span class="hljs-string">"java"</span> <span class="hljs-attr">contentType</span>=<span class="hljs-string">"text/html; charset=utf-8"</span> <span class="hljs-attr">pageEncoding</span>=<span class="hljs-string">"utf-8"</span>%&gt;</span><font></font>
<font></font>
<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"utf-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>    .<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre><br>
</div></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.アプリケーションの起動</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
メインのApplicationクラスに、以下を追加します。</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-meta">@SpringBootApplication</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Application</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>{<font></font>
        SpringApplication.run(Application.class, args);<font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次のステップに進む前に、プロジェクトの構造が最初に示したものと一致していることを確認してください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで</font><font style="vertical-align: inherit;">、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">spring</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">という空のデータベースを作成</font><font style="vertical-align: inherit;">します。これは、アプリケーションを最初に起動する前に、一度だけ行う必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アプリケーションを実行して、データベースがどのように変化するかを確認できます-その中に3つの空のテーブルが作成されます。</font><font style="vertical-align: inherit;">ユーザーロールをt_roleテーブルに追加する必要があります。</font></font><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ロールを追加するSQLクエリ</font></font></b><div class="spoiler_text"><pre><code class="sql hljs"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> public.t_role(<span class="hljs-keyword">id</span>, <span class="hljs-keyword">name</span>)
  <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">1</span>, <span class="hljs-string">'ROLE_USER'</span>), (<span class="hljs-number">2</span>, <span class="hljs-string">'ROLE_ADMIN'</span>); 
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで登録を試すことができます。</font><font style="vertical-align: inherit;">このアプリケーションは、管理者ユーザーを登録する方法を提供していませんが、デモには必要です。</font><font style="vertical-align: inherit;">したがって、新しいユーザーを登録した後、この役割を与えるエントリをuser-roleテーブルに追加します。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">管理者ロールを追加するSQLクエリ</font></font></b><div class="spoiler_text"><pre><code class="sql hljs"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> public.t_user_roles(user_id, roles_id)
  <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>);
</code></pre><br>
</div></div><br>
<img src="https://habrastorage.org/webt/l_/cq/lk/l_cqlktls4qt_1oalbhj_itn3po.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
管理者権限を追加した後、管理者のページ（エラー403）にアクセスできない場合は、Webサイトにアクセスしてください。</font><font style="vertical-align: inherit;">管理者ロールを持つユーザーのみが</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ページ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http：// localhost：8080 / adminに</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アクセスできます。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http：// localhost：8080 /</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">登録ユーザーに表示される</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ニュース</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">また、サイトで承認された状態で、登録ページとログインページにアクセスすることもできます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その結果、ロールを使用してサイトページへのユーザーアクセスを制御できるWebアプリケーションが作成されました。</font><font style="vertical-align: inherit;">1人のユーザーに複数の役割を割り当てることができます。</font><font style="vertical-align: inherit;">たとえば、新しいユーザーを登録するときに、すべてのユーザーにとって基本的なユーザーロールを追加し、ユーザーに追加の権限を要求するときに、ライターのロールを付与して、サイトに新しいニュースを追加できるようにすることができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
cssおよびjsファイルが作成されましたが、それらのコンテンツは送信されませんでした。</font><font style="vertical-align: inherit;">必要に応じて、たとえばBootstrapを使用してデザインを追加したり、jsを使用してインタラクティブ性を追加したりできます。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完成したプロジェクトをダウンロードします。</font></font></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用したソース</font></font></h3><br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spring Boot、Spring Security、Spring Data JPA、Hibernate、MySQL、JSP、Bootstrap、Docker Composeによる登録とログイン</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">春の裏側</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spring Security / Spring Security Technical Review</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spring公式ドキュメント</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">料理の学習：Spring 3 MVC + Spring Security + Hibernate</font></font></a></li>
</ol></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja482540/index.html">ソフトウェアVSハードウェア：トレンドは何で、将来は誰ですか？</a></li>
<li><a href="../ja482544/index.html">スタートアップチームに「0」を設定する-最小規模の段階的な手順</a></li>
<li><a href="../ja482546/index.html">VK Tech：Git開発年</a></li>
<li><a href="../ja482548/index.html">Security Week 52 + 1：非標準の今年のトップ3ニュース</a></li>
<li><a href="../ja482550/index.html">神秘的なLyXプログラム。パート2</a></li>
<li><a href="../ja482554/index.html">お風呂の例にXiaomiを備えたスマートホーム</a></li>
<li><a href="../ja482556/index.html">草が「より環境に優しく」、AKGがdinostaticヘッドフォンを生産した頃</a></li>
<li><a href="../ja482558/index.html">科学者は最初に人間の細胞で眠っているヘルペスウイルスを殺しました</a></li>
<li><a href="../ja482560/index.html">簡単な文章の書き方</a></li>
<li><a href="../ja482562/index.html">パソコンは10年前に死ぬはずだった：代わりに何が起こったのか</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>