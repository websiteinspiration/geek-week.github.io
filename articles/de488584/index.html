<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üöé üßòüèæ üò´ Was Sie wissen m√∂chten, bevor Sie eine Anwendung f√ºr die Apple Watch schreiben: unsere Erfahrung üëì ü¶Ö üòà</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Eine sehr langsame Plattform erwartet Sie, der √úbergang zu neuen Frameworks, das Testen mit einer speziellen Atmosph√§re und Benachrichtigungen vom Bet...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Was Sie wissen m√∂chten, bevor Sie eine Anwendung f√ºr die Apple Watch schreiben: unsere Erfahrung</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/tuturu/blog/488584/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eine sehr langsame Plattform erwartet Sie, der √úbergang zu neuen Frameworks, das Testen mit einer speziellen Atmosph√§re und Benachrichtigungen vom Betriebssystem "hey, move" eine Sekunde vor dem erzwungenen Entladen des Threads. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yg/vm/ve/ygvmved3dfz17bij2tjwvs3bl_k.jpeg"><br>
 <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ja, das ist meine haarige Hand.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Unser Zugfahrplan sieht 600.000 Menschen pro Tag vor. Und jedes Jahr mehr und mehr - √ºber die mobile Anwendung. Wir dachten und beschlossen, eine Version f√ºr die Uhr zu machen. Das Problem war, dass wir nicht wussten, wie viele Apple Watch es auf dem russischen Markt gibt und wie viele von ihnen in elektrischen Z√ºgen fahren. Aber auf jeden Fall war es notwendig herauszufinden, wie das geht, also haben wir Apple um Statistiken gebeten.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seltsamerweise taten sie es nicht. </font><font style="vertical-align: inherit;">Dann haben sie in jeder Hinsicht weiter geholfen, aber hier mit Statistiken gibt es direkte Probleme. </font><font style="vertical-align: inherit;">Bis vor einem Jahr hatte niemand normale Daten, und selbst das Studium von Verkaufsberichten half nichts. </font><font style="vertical-align: inherit;">Uhren werden auf vielf√§ltige Weise ins ‚ÄûGrau‚Äú gebracht und zun√§chst nicht aus unserer Region. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Warum Statistiken? </font><font style="vertical-align: inherit;">Um zu verstehen, wie viele Generationen es auf dem Markt gibt. </font><font style="vertical-align: inherit;">Am Ende haben wir uns entschlossen, alle Ger√§te zu unterst√ºtzen.</font></font><br>
<br>
<a name="habracut"></a><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die letzten Statistiken, die wir f√ºr 2017 kennen, sahen folgenderma√üen aus:</font></font></b><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Generation (alle) - 57%</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Serie 2 (alle) - 32%</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Serie 1 (alle) - 11%</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit Blick auf die Zukunft hatten wir drei Monate nach der Ver√∂ffentlichung im Jahr 2019 Folgendes:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apple Watch Series 3 (alle) - 36%</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Serie 4 (alle) - 31%</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Serie 5 (alle) - 24%</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Generation (alle) - 4,5%</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Serie 2 (alle) - 2,5%</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Serie 1 (alle) - 2%</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bildschirmgr√∂√üenverteilung der letzten beiden Revisionen:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S4 gro√ü bei 44 mm - 58%, klein 40 - 42%.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S5 gro√ü - 60%, klein 40%. </font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vorg√§ngermodelle haben noch 38 mm, in der Gesamtzahl aller Installationen sind es etwas weniger als 20%, haupts√§chlich aufgrund von S3. </font><font style="vertical-align: inherit;">√úbrigens brauchten wir Schriftarten f√ºr verschiedene Bildschirmgr√∂√üen - unsere Designer haben adaptive gemacht.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sehr langsame Plattform</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir scheinen also nicht sehr viele Ger√§te zu haben, von denen jedoch bis zu 5% (wie erwartet) sehr alt sein werden. Die ersten Stunden waren anscheinend im Allgemeinen wie ein Ger√§t konzipiert, das Bilder zeigt, die auf dem Telefon generiert werden. Dann erschien ein eigenes entwickeltes Betriebssystem und in sp√§teren Revisionen auch ein Wi-Fi und eine SIM-Karte. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SIM-Karte in Russland funktioniert nicht.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Vielleicht werden sich die Betreiber in diesem Jahr einig sein, aber bisher gibt es nur WLAN und Kommunikation per Telefon (die Uhr stellt √ºber Bluetooth eine Verbindung zum iPhone her und nutzt dann die Internetverbindung). </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Logik der Arbeit mit Netzwerk, Speicher und Festplatte ist fast dieselbe wie unter iOS.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich meine, die Logik selbst ist √ºblich, die Dienste sind √ºblich, aber es gibt immer noch einen Hinterhalt mit Bibliotheken - tats√§chlich entwickeln sich nicht viele Leute stundenlang, so dass es unter iOS / iPadOS m√∂glicherweise keine beliebten Frameworks und Tools gibt. In unserem Fall bedeutete dies, dass der Haufen von Bibliotheken, den wir mit der √ºblichen Handbewegung an eine iOS-Anwendung angeschlossen hatten, aufgegeben werden musste. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alle Uhren f√ºhren ausnahmslos sehr langsame Festplattenzugriffe durch, verglichen mit dem Lesen aus dem Speicher. Wenn Sie sich auf einem iPhone nicht wirklich darum k√ºmmern k√∂nnen, wo genau sich der 40-KB-Tisch befindet, ist es auf der Uhr wichtig, ihn im Speicher zu behalten oder √ºber die Luft zu empfangen. Das Wichtigste ist, nichts von der Festplatte zu lesen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je neuer die Uhr, desto schneller dreht sie sich nat√ºrlich, aber wir arbeiten tats√§chlich f√ºr S3 mit Unterst√ºtzung f√ºr fr√ºhere Ger√§te und zus√§tzlichen Funktionen f√ºr S4 und S5. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Alpha-Version der Anwendung, die die Route nach Hause zeigte, wurde zehn Sekunden lang auf die Uhr geladen. Der MCC-Fahrplan wurde f√ºr 20 Sekunden in den 4 n√§chstgelegenen Z√ºgen angezeigt. Das Problem lag im Tabellenrender - zu viele Einzelelemente. Stellen Sie sich einen modernen Browser vor, der versucht, etwas auf dem 386SX-Kern zu rendern. Wir hatten also √§hnliche Probleme. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Deshalb ist sie nat√ºrlich Alpha, um mit ihr herumzust√∂bern. In der Beta-Phase verteilen wir die Last auf die Threads (wobei eine Funktion auf dem Weg abgefangen wird, dass beim Starten der Uhr unter watchOS 4 der Haupteinstiegspunkt nicht im Mainstream startet). F√ºr "schwache" Stunden war die Anzahl der Zellen in der Schnittstelle begrenzt.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/0e/3_/rc/0e3_rc3z5_qhzvxon98eqx0b1ww.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jeder von ihnen wurde f√ºr etwa eine Sekunde gerendert.</font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/mw/nl/hx/mwnlhx7nubewgno41trqwo-q2fa.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Einige Optimierungen der Benutzeroberfl√§che selbst und flogen zu S4, und f√ºr √§ltere Ger√§te musste die Anzahl der angezeigten Z√ºge reduziert werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie f√ºgten oben und unten "zeige die Verstorbenen" und "zeige als n√§chstes" und auf den Auserw√§hlten "zeige alle" ein. Da sich dieser Zeitplan h√§ufig √§ndert, war es h√§ufig erforderlich, ihn neu zu zeichnen: Wir sprechen von Situationen, in denen sich die Zusammensetzung der Tabelle entweder aufgrund eines abfahrenden Zuges oder aufgrund einer √Ñnderung des Zeitplans √§ndert (wir zeigen Echtzeitbewegungen, dh wir wissen, wo genau die einzelnen sind Zug in der Tat, und wie es alle weiteren Stationen entlang der Strecke beeinflussen wird).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oft gibt es Situationen, in denen die Daten eine Sekunde nach der Anforderung veraltet sind. Mit dem grundlegenden Ansatz wurde die gesamte Tabelle verdreht, dies ist die Standardmethode f√ºr iOS. Dort ist das Update in der Regel nicht wahrnehmbar. Und hier haben sie viel Mist gemacht, basierend auf der Verarbeitung des eingehenden Arrays, das zuerst die Daten analysiert, dann das Diff erstellt, dann die UI-Elemente findet, die ge√§ndert werden k√∂nnen, ohne den Rest zu ber√ºhren, und dann nur sie aktualisiert. Es gibt keine geeigneten Bibliotheken f√ºr eine Komplettl√∂sung unter WatchOS, aber es gibt ein Differentiator Kit, das eine Liste dar√ºber enth√§lt, wie und was sich durch Indizes des Datenarrays mit Markup ge√§ndert hat. Sie haben ihren Code darum geschrieben und ihn auf alle Tabellen gesetzt. Dies f√ºhrte zu einer Erh√∂hung der Leistungsaktualisierungen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Allgemeinen werden die n√§chsten N Z√ºge schnell angezeigt. Wenn Sie warten m√∂chten, aber ein vollst√§ndiges Bild w√ºnschen, k√∂nnen Sie auf "Alle anzeigen" klicken.</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie gesagt, das Zifferblatt in der Uhr ist gro√ü, aber langsam. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zuerst verwendeten wir einen Standardsatz von iOS-Bibliotheken, die √ºber die Festplatte funktionierten. </font><font style="vertical-align: inherit;">Wir haben den Zeitplan erhalten, ihn auf einer Festplatte aufgezeichnet, den Dienst angefordert, ihn von der Festplatte genommen und auf den Bildschirm abgewickelt. </font><font style="vertical-align: inherit;">Wie sich herausstellte, m√ºssen Sie den Cache im Speicher speichern. </font><font style="vertical-align: inherit;">Und doch sind wir es gewohnt, alle Arbeitszust√§nde des Benutzers auf der Festplatte zu speichern und von dort aus zu lesen - wir mussten nur alles aufzeichnen und speichern, was wir konnten. </font></font><br>
 <br>
<img src="https://habrastorage.org/webt/lq/6p/g0/lq6pg0q_bmiae_zthfovqhvc5oq.jpeg"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Warum ist eine st√§ndige Aufzeichnung notwendig? </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Denn wenn der Benutzer die Anwendung wechselt, erfolgt das Entladen fast sofort. </font><font style="vertical-align: inherit;">Normalerweise haben Sie keine Zeit, etwas auf die Bremsscheibe zu schreiben. Sie m√ºssen dies daher st√§ndig und iterativ tun, w√§hrend der Benutzer arbeitet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und dann n√§hern wir uns dem n√§chsten Hinterhalt.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Manische Energieeinsparung</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Akku in der Uhr ist klein und das gesamte Betriebssystem wird gesch√§rft, um die Stromversorgung so weit wie m√∂glich zu erhalten. </font><font style="vertical-align: inherit;">In der Praxis kann dies bedeuten, dass der Benutzer Folgendes tut:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Startet das Herunterladen von etwas (z. B. einen vollst√§ndigen Zeitplan)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Senkt die Hand</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wartet</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hebt eine Hand, um zu sehen, was geladen ist</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der Tat passiert Folgendes:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Benutzer beginnt mit dem Herunterladen des vollst√§ndigen Zeitplans</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Senkt die Hand</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uhren verstehen, dass sie nicht mit ihnen arbeiten und setzen den Prozess in ein Analogon von Hybernate. </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Benutzer wartet und hebt dann die Hand, um das Ergebnis anzuzeigen.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zum Zeitpunkt des Aufstiegs versteht die Uhr, dass sie weiterhin mit ihnen arbeiten, aufwachen und den Prozess aufwecken. </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Benutzer sieht den Start der Download-Anzeige. </font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gleichzeitig kann dies aus Sicht des Threads entweder der richtige Zeitpunkt oder eine ‚Äûsehr lange Sekunde‚Äú sein. Wenn Sie bei Zeit√ºberschreitungen Code schreiben, k√∂nnen Sie pl√∂tzlich sogar ein Jahr abfangen, in dem eine halbe Sekunde gewartet hat. Denken Sie daher daran, dass die Zeit relativ ist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Aufweckprozess droht Ihnen mit einem langen Debugging-Prozess - dort k√∂nnen Sie Abst√ºrze feststellen, wenn entweder der Ort ger√§umt ist oder etwas anderes Interessantes passiert.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Einschlafen kann zu einem Entladevorgang (ohne Aufwachen) werden. Sie m√ºssen also einige Dinge auf die Festplatte schreiben. </font><font style="vertical-align: inherit;">Das Betriebssystem teilt dem Thread "Gehe zum Hintergrund" mit und ruft die entsprechende Methode auf. </font><font style="vertical-align: inherit;">Normalerweise haben Sie ungef√§hr eine Sekunde Zeit, um schnell auszusteigen und im Hintergrund zu landen. </font><font style="vertical-align: inherit;">Wenn ein Benutzer dies beim Schreiben auf eine Disc tut (was, wie ich mich erinnere, auf Ger√§ten bis S4 h√∂llisch langsam ist), findet die Aufnahme m√∂glicherweise nicht statt. </font><font style="vertical-align: inherit;">Dazu m√ºssen Sie in den Modus ‚ÄûWichtiger Betrieb‚Äú wechseln und mit Hilfe mehrerer Sonderaufrufe den Thread ‚Äûbewusst‚Äú halten. </font><font style="vertical-align: inherit;">Dazu ben√∂tigen Sie einen separaten Handler, der den Aufzeichnungsprozess fragt, wann er beendet wird, und dann den Thread in den Ruhezustand versetzt.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Architektur</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unsere erste Bewerbung im Jahr 2017 war nur eine leere Bewerbung, die den auf dem Telefon erstellten Zeitplan anzeigen konnte. Es wurde verwendet, um Daten f√ºr einen Fernzug ‚Äã‚Äãauf einer Strecke, einem Auto und einem Ort anzuzeigen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die moderne Version f√ºr Z√ºge ist ‚Äûerwachsen‚Äú und autonom, dh sie kann jederzeit ohne Telefon leben. Sogar ab dem Moment der Installation (obwohl die Anwendung normalerweise √ºber das Telefon in die Uhr gelangt und es zu diesem Zeitpunkt sehr bequem ist, die Profildaten und alle ausgew√§hlten Routen vom Telefon zu kopieren).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Architektur der Uhr ist wahrscheinlich die modernste in iOS-Mustern. Redux ist kein Problem. Wir verwenden wie in der "gro√üen" Anwendung die Zustandsmaschine. Die Standard-MVC lautet wie folgt: Es gibt ein Modell auf der einen Seite, es gibt Ansichten f√ºr dieses Modell in der Mitte des Controllers. Der Controller nimmt Daten aus dem Modell, konvertiert sie und zeigt sie auf dem Bildschirm an. In der entgegengesetzten Richtung wartet der Controller auf Ansichtsnachrichten und stellt dem Modell Daten zur Verf√ºgung. Basierend auf diesem Muster wurden viele Arten von Architekturen erstellt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben einen Zustand, in dem Ereignisse einfliegen und es mutieren k√∂nnen. </font><font style="vertical-align: inherit;">Nebenwirkungen, die n√ºtzliche Arbeit leisten, k√∂nnen vom Staat abweichen. </font><font style="vertical-align: inherit;">Aus diesen Ergebnissen fliegen Ereignisse in den Zustand. </font><font style="vertical-align: inherit;">Der vollst√§ndige Status der Anwendung ist in der Geschichte gespeichert, ein solcher Punkt der Wahrheit. </font><font style="vertical-align: inherit;">Der Zustand kann in Teile zerlegt und geteilt werden, speichert aber in jedem Fall den gesamten Datensatz. </font><font style="vertical-align: inherit;">Die spezifische Implementierung der Architektur h√§ngt von der Religion ab, wir haben RXFeedback. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Zustandsmaschine ist durch Tests sehr gut abgedeckt. </font><font style="vertical-align: inherit;">Dies hat uns viel Zeit nur auf der Uhr gespart, da keine Tests innerhalb der Uhr selbst durchgef√ºhrt werden k√∂nnen. </font><font style="vertical-align: inherit;">Dies ist kein iPhone f√ºr Sie. </font><font style="vertical-align: inherit;">Hier m√ºssen Sie dies tun:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Erstellen Sie die Anwendung auf dem Emulator und sehen Sie. </font></font></li>
<li>           .       ,       .   id   Xcode    .</li>
</ol><br>
 <br>
<img src="https://habrastorage.org/webt/yw/hu/s1/ywhus1gi_nsclcypwnca5nvvubu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe S4 und S1 zum Testen verwendet. </font><font style="vertical-align: inherit;">Da es sehr schwierig ist, viele Dinge an der Uhr selbst zu √ºberpr√ºfen, erwies es sich als unglaublich praktisch, bestimmte Zust√§nde (Zust√§nde) zu isolieren, sie auf eine andere Komponente zu √ºbertragen und dort bereits Tests von allen Seiten abzudecken. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der zehnte Xcode (der vor Oktober 2019 war) freute sich, dass die Anwendung aus irgendeinem Grund, als sie auf der Uhr gestartet wurde, im Simulator nicht mehr funktionierte. </font><font style="vertical-align: inherit;">Es wurde durch Abhacken des Handelsdesinfektionsmittels entschieden, wenn jemand interessiert ist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dementsprechend m√ºssen Sie beim Zusammenstellen von Zielen mit dedizierten Zust√§nden und mit gemeinsamer Logik (es gab viele davon) diese mit der Uhr kompatibel machen. </font><font style="vertical-align: inherit;">Wir haben UIKit versehentlich ein paar Mal angeschlossen, und dies ist das UI-Framework des Telefons, das auf der Uhr nicht unterst√ºtzt wird. </font><font style="vertical-align: inherit;">Wenn Sie versehentlich in der Version abholen, wird die Bibliothek einfach keine Verbindung herstellen.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Autonomie</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Grundlegender Anwendungsfall - Der Benutzer hat eine Uhr und ein Telefon. Er h√§lt sie regelm√§√üig zusammen und die Uhr kann das Internet vom Telefon aus nutzen. </font></font><br>
 <br>
<img src="https://habrastorage.org/webt/kk/jk/an/kkjkan08hwnvexvgmv-kn1esf5o.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit den neuen Uhrenversionen wurde es m√∂glich, Ihr eigenes WLAN und Ihre eigene Uhr-SIM-Karte zu verwenden (es gibt eine eingebaute E-Sim). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unsere Aufgabe ist es, Favoriten zwischen zwei Anwendungen (am Telefon und auf der Uhr) zu synchronisieren. Jedes Mal, wenn wir anfangen, versuchen wir, die letzte Wahrheit zu lesen, und jedes Mal, wenn wir die Liste √§ndern, versuchen wir, sofort das zweite Ger√§t zu finden und ihm davon zu erz√§hlen. Es stellt sich nat√ºrlich nicht immer heraus, daher synchronisieren wir, wenn m√∂glich, beim Start. Wenn es zwei verschiedene Favoriten gibt, die mit Konflikten konfrontiert sind, halten wir es f√ºr genauer, was am Telefon ist, und l√∂sen Konflikte zu seinen Gunsten.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Andernfalls ist die Anwendung nicht mit dem Telefon verbunden. </font><font style="vertical-align: inherit;">Der Cache befindet sich im Inneren, Anforderungen an das Netzwerk werden von der Uhr (falls m√∂glich) √ºber die Br√ºcke √ºber das Telefon gesendet (falls m√∂glich). </font><font style="vertical-align: inherit;">Infolgedessen k√∂nnen Sie es so lange autonom verwenden, wie Sie m√∂chten, aber Sie m√ºssen die Anwendung nur irgendwie zum ersten Mal installieren (unsere Version unterst√ºtzt keine Installation von der Uhr direkt von der App aus). </font><font style="vertical-align: inherit;">Danach k√∂nnen Sie die Synchronisation vergessen, wenn Sie m√∂chten. </font><font style="vertical-align: inherit;">Vor watchOS 2 bestand das √ºbliche Anwendungsschema darin, dass alles am Telefon gez√§hlt und erledigt wurde und die Uhr nur das Ergebnis lieferte.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gesamt</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Basisanwendung f√ºr iOS hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Die Uhrenanwendung ist damit gekoppelt. </font><font style="vertical-align: inherit;">Die Anwendung verwendet eine Version der Version, passt sich jedoch auf einem bestimmten Ger√§t an die Geschwindigkeit an und passt die Benutzeroberfl√§che an die Bildschirmgr√∂√üe an. </font><font style="vertical-align: inherit;">Die erste Berechtigung bei der Installation per Telefon am selben Ort, Kopieren von Favoriten und h√§ufigen Routen. </font><font style="vertical-align: inherit;">Weitere Synchronisation oder autonome Existenz. </font><font style="vertical-align: inherit;">Geolokalisierung √ºber das Telefon (dies ist erforderlich, um zu verstehen, ob Sie in Moskau oder aus Moskau sind. Wenn Sie Geo nicht zulassen oder nicht, handelt es sich um zeitorientierte, invertierende Morgenanfragen.) </font><font style="vertical-align: inherit;">Es gab ungef√§hr so ‚Äã‚Äãviele Installationen wie erwartet (wir haben ber√ºcksichtigt, dass es in Russland nicht viele Stunden gibt und die Benutzer in elektrischen Z√ºgen sitzen). </font><font style="vertical-align: inherit;">Den Bewertungen nach zu urteilen, freuen sich die App-Benutzer auf der Uhr, ihren Zeitplan auf der Rolltreppe zu sehen.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de488572/index.html">Unity Analyzer jetzt Open Source</a></li>
<li><a href="../de488574/index.html">Die Sch√ºler schreiben einen Uart-Treiber f√ºr STM32F411</a></li>
<li><a href="../de488576/index.html">Armenische √ñko-Bewegung: Wie aus einem einfachen Wandkalender eine gro√üe Anti-Plastik-Kampagne wurde</a></li>
<li><a href="../de488578/index.html">Rot-schwarze B√§ume in Javascript</a></li>
<li><a href="../de488582/index.html">Erstellen einer Smart Library-Demo mit Intel Distribution des OpenVINO-Toolkits</a></li>
<li><a href="../de488586/index.html">The Ember Times - Ausgabe 135</a></li>
<li><a href="../de488588/index.html">C ++ 20 genehmigt! Was Sie erwartet und was Sie f√ºr Entwickler in C ++ 23 vorbereiten m√ºssen</a></li>
<li><a href="../de488590/index.html">FOSS News Nr. 3 - √úberpr√ºfung der kostenlosen und Open Source-Nachrichten f√ºr den 10. bis 16. Februar 2020</a></li>
<li><a href="../de488592/index.html">Ein offener Brief von Mail.ru √ºber das Spiel "Allods II: Lord of Souls"</a></li>
<li><a href="../de488594/index.html">Pandas und andere f√ºr dicke Daten</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>