<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòµ üêµ ü§¥üèø Comment organiser le backend d'une application mobile? üíÖüèª üßñüèø üë®üèø‚Äçüè´</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Qu'est-ce que nous faisons? Service d'enregistrement et d'autorisation des utilisateurs pour une application mobile
 
 Dans les projets pour animaux d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Comment organiser le backend d'une application mobile?</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/493762/"><img src="https://habrastorage.org/webt/cx/ck/zj/cxckzjwahn-3ez4gx8w1tlrzspq.jpeg" alt="image"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qu'est-ce que nous faisons? Service d'enregistrement et d'autorisation des utilisateurs pour une application mobile</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Dans les projets pour animaux de compagnie de chaque d√©veloppeur mobile, t√¥t ou tard, il arrive un moment o√π vous devez rapidement et sans trop de maux de t√™te cr√©er un serveur pour votre application. Peu importe la fonction que le serveur doit effectuer: qu'il s'agisse de stockage de donn√©es ou d'enregistrement / autorisation d'utilisateur. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En r√®gle g√©n√©rale, au d√©but, tout le monde suit (enfin, ou presque) le chemin de la moindre r√©sistance.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Nous recherchons une solution cl√© en main et voyons √† quelle vitesse elle peut s'adapter √† nos besoins.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä ce stade, la premi√®re chose que vous pouvez ¬´google¬ª est les services Firebase, dont les limites gratuites sont plus que suffisantes pour organiser le backend d'une petite application mobile. </font><font style="vertical-align: inherit;">Mais dans ce cas, compte tenu exactement du d√©veloppeur russe, nous risquons de marcher sur le rake de notre l√©gislation - le transfert de donn√©es transfrontalier et le stockage des donn√©es personnelles de l'utilisateur. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
(Loi f√©d√©rale 152 sur les donn√©es personnelles, article 12, chapitre 2) La </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
tentation d'utiliser Firebase est grande, mais si nous voulons nous assurer contre les tracas inutiles avec diverses agences de surveillance, nous commen√ßons √† chercher des options alternatives.</font></font><br>
<a name="habracut"></a><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'√©tape suivante est l'utilisation d'un serveur VDS avec une sorte de solution open source ou freemium, o√π le ¬´service en tant que service¬ª pr√™t √† l'emploi ou une solution permettant de d√©ployer des fonctionnalit√©s similaires est pris comme base.</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y a plusieurs ann√©es, sur Habr√©, j'ai d√©j√† √©crit un guide de configuration d√©taill√© de BaasBox (l'article a √©t√© retir√© du public en raison d'informations obsol√®tes) sur un serveur lou√© et a donn√© un exemple d'utilisation de divers appels dans l'application iOS pour le langage Objective C.Mais BaasBox est vraiment ¬´lourd¬ª et dicte votre minimum pour un serveur lou√©. Ayant jou√© un peu avec lui, il a √©t√© d√©cid√© d'utiliser une solution diff√©rente. √Ä cette √©poque, le serveur Parse n'√©tait soumis que r√©cemment au d√©veloppement open source par Facebook, il ne disposait pas d'autant d'adaptateurs qu'il l'est actuellement, mais ses capacit√©s √©taient plus que suffisantes pour les projets personnels et les applications de clients priv√©s (de nombreux projets sont encore existent et fonctionnent de mani√®re stable).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En toute honn√™tet√©, il convient de noter que le serveur d'analyse a beaucoup m√ªri et se d√©veloppe activement. √Ä l'heure actuelle, presque toutes les fonctionnalit√©s disponibles dans un anc√™tre commercial ont √©t√© recr√©√©es. Vous pouvez √©crire vos propres hooks, des notifications push localis√©es, un gestionnaire de processus, et il y a m√™me un abonnement pour changer des objets en fonction des sockets (ParseLiveQuery - si c'est int√©ressant, j'√©crirai un article s√©par√© sur la configuration de ParseLiveQuery).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais le serveur d'analyse a cess√© d'√™tre int√©ressant pr√©cis√©ment au moment o√π il √©tait n√©cessaire de mettre en ≈ìuvre un type de donn√©es non standard, ce qui est difficile √† travailler sur la base de types d√©finis dans le syst√®me. Cela interf√®re √©galement avec le fait que, n'√©tant pas un d√©veloppeur de serveur sp√©cialis√©, je n'attachais auparavant pas d'importance √† un d√©ploiement plus efficace de l'environnement et de nombreux fichiers de configuration ont √©t√© cr√©√©s √† la main, tandis que les actions √©taient constamment r√©p√©t√©es sur chaque nouveau serveur. C'est √† ce moment que la compr√©hension vient qu'une solution en bo√Æte n'est pas une solution √† tous les probl√®mes, et vous devez passer √† l'√©tape suivante de l'organisation de votre serveur pour une application mobile. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R√©cemment, mon principal langage de d√©veloppement est Swift.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C'est donc lui qui m'int√©resse principalement dans l'√©criture de code c√¥t√© serveur. </font><font style="vertical-align: inherit;">Swift lui-m√™me est facile √† installer sur un syst√®me Unix, mais il ne donnera aucun avantage √©vident. </font><font style="vertical-align: inherit;">√Ä la base, il ressemblera au d√©veloppement d'une application console avec une logique complexe. </font><font style="vertical-align: inherit;">Il faudra beaucoup de temps pour recr√©er les m√©thodes de base requises sur le serveur. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comme dans de nombreuses autres langues, swift c√¥t√© serveur a ses propres cadres et communaut√©s impliqu√©s dans le d√©veloppement de ces solutions. </font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä l'heure actuelle, il existe trois solutions les plus importantes pour d√©velopper Swift c√¥t√© serveur:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parfait</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vapeur </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kitura</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe d'autres options, mais elles ne m√©ritent pas d'√™tre mentionn√©es en raison de leur d√©veloppement interrompu depuis longtemps et de leur mort. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En termes de documentation et de support, j'aime plus Vapor, mais c'est une question de go√ªt. D'autres solutions seront proches de quelqu'un. D'une mani√®re ou d'une autre, dans de nombreux moments, ils sont similaires. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Naturellement, plus loin dans le cycle d'articles dans mes exemples, j'utiliserai Vapor. Sur cette base, nous mettons en ≈ìuvre le service d'enregistrement / autorisation des utilisateurs, l'envoi et la confirmation des e-mails, la possibilit√© de r√©initialiser et de changer le mot de passe. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vw/cb/al/vwcbalyvknowex3y_gfdmut4gzg.png" alt="image"><img src="https://habrastorage.org/webt/3p/vg/os/3pvgos4ozvoxeqhby2co5gd53b8.png" alt="image"><br>
<img src="https://habrastorage.org/webt/tj/r3/qb/tjr3qbenlq1jqhmuwfasf4mduqq.png" alt="image"><img src="https://habrastorage.org/webt/hj/kb/vy/hjkbvy9ei-pojewwbv4z6ywnu84.png" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vaut-il la peine de faire une impl√©mentation sans b√©n√©fice pratique?</font></font></b> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Probablement pas! Par cons√©quent, nous ferons le service le plus adulte que vous puissiez prendre et utiliser pour organiser la logique de stockage des donn√©es utilisateur sur votre serveur.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si la d√©cision est adulte, elle implique le recours √† des d√©cisions d√©lib√©r√©es. </font><font style="vertical-align: inherit;">Nous devons simplifier la mise √† l'√©chelle, impl√©menter la validation des donn√©es et pr√©voir le stockage de la session utilisateur, afin de ne pas l'obliger √† saisir √† chaque fois son identifiant et son mot de passe. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">De quoi avons-nous besoin pour cela?</font></font></b><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VAPOR 4 (oui, toujours en version b√™ta, mais la sortie arrive bient√¥t, comme promis par les d√©veloppeurs)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PostgreSQL (il existe un excellent adaptateur pour travailler avec cette base de donn√©es)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nginx</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SSL (fermez toutes nos demandes du client au serveur √† l'aide d'un certificat)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Localhost (pensez √† la m√©thode de d√©veloppement localement, afin de ne pas vous attacher au r√©seau et travailler sur la route sans aucun probl√®me)</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eh bien, nous </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">emballerons tout cela dans Docker</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour garantir le m√™me travail, ind√©pendamment de l'environnement d'ex√©cution actuel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Honn√™tement, j'√©tais sceptique √† l'√©gard du docker √† un moment donn√©, mais j'aurais d√ª regarder de plus pr√®s cette technologie. Le but de l'article n'est pas d'expliquer son travail et d'apprendre √† travailler avec lui (je soup√ßonne que je dois moi-m√™me encore apprendre de nombreuses fonctionnalit√©s int√©ressantes du docker). Mais ceux qui ne savent pas ce que c'est et comment travailler avec lui peuvent se familiariser ind√©pendamment avec Docker via le lien officiel: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.docker.com Pour l'</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
avenir, je vais laisser un lien utile vers l'application Kitematic, qui est con√ßue pour simplifier le travail avec les conteneurs </font><font style="vertical-align: inherit;">Docker </font><font style="vertical-align: inherit;">: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kitematic.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (indispensable pour ceux qui n'aiment pas utiliser le terminal).</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Commen√ßons donc par installer Docker sur un ordinateur Mac: </font></font></b><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">suivez le</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
lien </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hub.docker.com/editions/community/docker-ce-desktop-mac</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et t√©l√©chargez </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Get Docker Desktop For Mac (Stable).</font></font></b><br>
<br>
<img src="https://habrastorage.org/webt/-2/kn/cl/-2knclw93ax6stjjuiijrsr02fq.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ouvrez l'image r√©sultante et n'installez rien diff√®re de la copie standard de l'application dans le r√©pertoire du programme. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ea/0o/t1/ea0ot1fxqjce-px54lvazivob7q.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s cela, lancez simplement l'application et attendez que le service soit compl√®tement initialis√©. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/tc/fp/pc/tcfppc1iaj4q8ozy5cpgfziywfo.png" alt="image"><img src="https://habrastorage.org/webt/yp/_h/1s/yp_h1sn62l0sbk0fugzerwpqyhe.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
S'il n'y a pas encore d'ID Docker, alors il doit √™tre cr√©√© sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hub.docker.com.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Et si c'est le cas, connectez-vous simplement √† l'application. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wy/xv/iq/wyxviqdri5ynenssj2-oayiy5mi.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'est tout, la pr√©paration √† l'utilisation de Docker est termin√©e. Il ne reste plus qu'√† v√©rifier la version actuelle et les informations sur l'environnement. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&gt; version </font></font><br>
<img src="https://habrastorage.org/webt/8g/yb/_k/8gyb_kqje0p5rsbelsf9wpzf9fm.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
docker&gt; info docker</font></font><br>
<img src="https://habrastorage.org/webt/oc/g5/x1/ocg5x1slt4bmqm4srhm7adobq2i.png" alt="image"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ceci termine la pr√©paration du d√©veloppement du service d'autorisation. </font><font style="vertical-align: inherit;">Dans la partie suivante, nous verrons comment vous pouvez utiliser des conteneurs de divers services, nous traiterons de docker-compose pour automatiser l'assemblage de notre environnement et commencer √† √©crire du code. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS: Un petit conseil d'exp√©rience personnelle. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lorsque nous d√©veloppons des services sur notre machine locale, Docker alloue des ressources par d√©faut √† notre usage. </font><font style="vertical-align: inherit;">Si nous voulons visualiser le comportement attendu du service sur un serveur distant, nous devons nous occuper des ressources sur la machine locale, au plus pr√®s des caract√©ristiques du serveur. </font><font style="vertical-align: inherit;">Vous pouvez le faire dans les param√®tres de l'application Docker Desktop, que nous avons t√©l√©charg√©e: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hs/h9/ds/hsh9dspn18hwwbsqywrj-hjjuds.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auteur de l'article: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vitaly Podolsky, professeur HackerU</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr493748/index.html">Int√©r√™t pour le coronavirus COVID-19 sur Internet. Que recherchent-ils, combien, o√π et comment? Voyons voir Yandex.Wordstat et Google.</a></li>
<li><a href="../fr493752/index.html">CAPTCHA pour codeigniter 4</a></li>
<li><a href="../fr493756/index.html">Comment lancer une startup sur les march√©s √©trangers en quarantaine: Reddit, Product Hunt, ressources en Am√©rique latine</a></li>
<li><a href="../fr493758/index.html">L'intelligence artificielle cr√©era d'abord un corpus d'anciens manuscrits slaves</a></li>
<li><a href="../fr493760/index.html">Technologie Li-Ion: le co√ªt unitaire diminue plus rapidement que pr√©vu</a></li>
<li><a href="../fr493768/index.html">React Native Listing</a></li>
<li><a href="../fr493772/index.html">Les 10 meilleurs trucs et astuces de Kubernetes</a></li>
<li><a href="../fr493796/index.html">4 meilleurs mod√®les de conception pour les tests automatis√©s (et 86 autres)</a></li>
<li><a href="../fr493798/index.html">Il n'y a pas de conception dans 1C UX / UI</a></li>
<li><a href="../fr493800/index.html">Probabilit√© empirique</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>