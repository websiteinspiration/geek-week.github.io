<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë∏üèø ü§πüèª üèáüèº oVirt em 2 horas. Parte 1. Abra a Plataforma de Virtualiza√ß√£o de Failover üêØ ‚õ™Ô∏è üñ•Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introdu√ß√£o
 Projeto de c√≥digo aberto oVirt √© uma plataforma de virtualiza√ß√£o gratuita em n√≠vel empresarial. Percorrendo o habr, ele descobriu que o oV...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>oVirt em 2 horas. Parte 1. Abra a Plataforma de Virtualiza√ß√£o de Failover</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/501166/"><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Introdu√ß√£o</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Projeto de c√≥digo aberto </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">oVirt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √© uma plataforma de virtualiza√ß√£o gratuita em n√≠vel empresarial. Percorrendo o habr, ele descobriu que o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">oVirt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> n√£o √© coberto t√£o amplamente quanto merece. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O oVirt √© na verdade um upstream do sistema comercial da Red Hat Virtualization (RHV, anteriormente RHEV), crescendo sob a asa da Red Hat. Para evitar confus√£o, isso </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n√£o</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √© </font><font style="vertical-align: inherit;">o mesmo que CentOS x RHEL, o modelo est√° mais pr√≥ximo do Fedora vs RHEL. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sob o cap√¥ - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KVM</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , a interface da web √© usada para controle. √â baseado no OS RHEL / CentOS 7. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
oVirt pode ser usado tanto para virtualiza√ß√£o de servidor quanto para desktop (VDI) ‚Äútradicional‚Äù, ao contr√°rio da solu√ß√£o VMware, ambos os sistemas podem coexistir em um complexo. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Projete bem</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Est√° documentado</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , alcan√ßou a maturidade para uso produtivo e est√° pronto para altas cargas. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este artigo √© o primeiro de uma s√©rie sobre como criar um cluster de failover em funcionamento. </font><font style="vertical-align: inherit;">Depois de analis√°-los, obteremos um sistema totalmente funcional em um curto espa√ßo de tempo (cerca de 2 horas), embora v√°rios problemas, √© claro, n√£o possam ser resolvidos, tentarei abord√°-los nos seguintes artigos.</font></font><a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N√≥s o usamos h√° v√°rios anos, come√ßamos com a vers√£o 4.1. </font><font style="vertical-align: inherit;">Nosso sistema industrial agora vive na 10¬™ gera√ß√£o HPE Synergy 480 e ProLiant BL460c com CPU Xeon Gold. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No momento da reda√ß√£o deste artigo, a vers√£o atual √© 4.3.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artigos</font></font></h2><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Introdu√ß√£o - Estamos aqui</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instala√ß√£o do gerenciador (mecanismo de ovirt) e hipervisores (hosts)</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configura√ß√µes adicionais</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opera√ß√µes b√°sicas</font></font></a></li>
</ol><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recursos funcionais</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Existem 2 entidades principais no oVirt: mecanismo de ovirt e host (s) de ovirt. Para aqueles familiarizados com os produtos VMware, o oVirt como plataforma como um todo √© o vSphere, o ovirt-engine - a camada de controle - desempenha as mesmas fun√ß√µes que o vCenter, e o ovirt-host √© um hipervisor como o ESX (i). Porque O vSphere √© uma solu√ß√£o muito popular, √†s vezes vou fazer uma compara√ß√£o com ele. </font></font><br>
<img src="https://habrastorage.org/getpro/habr/post_images/d82/496/9a3/d824969a3b631cc28c6ed5c85efee8a3.png" alt="Painel oVirt"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
FIG. 1 - Painel de controle oVirt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como m√°quinas convidadas, a maioria das distribui√ß√µes e vers√µes do Linux do Windows s√£o suportadas. Para m√°quinas convidadas, existem agentes e dispositivos virtuais otimizados e drivers virtio, principalmente um controlador de disco e uma interface de rede.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para implementar uma solu√ß√£o tolerante a falhas e todos os recursos interessantes, voc√™ precisar√° de armazenamento compartilhado. </font><font style="vertical-align: inherit;">S√£o suportados os blocos FC, FCoE, iSCSI, armazenamento NFS de arquivos etc. Para implementar uma solu√ß√£o tolerante a falhas, o sistema de armazenamento tamb√©m deve ser tolerante a falhas (pelo menos 2 controladores, multipassagem).</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√â poss√≠vel usar armazenamentos locais, mas, por padr√£o, apenas armazenamentos compartilhados s√£o adequados para um cluster real. </font><font style="vertical-align: inherit;">Os armazenamentos locais tornam o sistema um conjunto d√≠spar de hipervisores e, mesmo que haja um armazenamento compartilhado, o cluster n√£o pode ser montado. </font><font style="vertical-align: inherit;">A maneira mais correta s√£o as m√°quinas sem disco com inicializa√ß√£o a partir da SAN ou discos de tamanho m√≠nimo. </font><font style="vertical-align: inherit;">Provavelmente, por meio do gancho vdsm, √© poss√≠vel montar a partir de unidades locais de armazenamento definido por software (por exemplo, Ceph) e apresentar sua VM, mas seriamente n√£o a considerou.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arquitetura</font></font></h4><br>
<img src="https://habrastorage.org/getpro/habr/post_images/e84/780/b8c/e84780b8cabaa37be0fbe136725dcdf6.png" alt="arco"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
FIG. </font><font style="vertical-align: inherit;">2 - arquitetura oVirt. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para mais informa√ß√µes sobre arquitetura, consulte a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">documenta√ß√£o</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> do desenvolvedor. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/8fe/1ce/052/8fe1ce052c9dcd6ccc9bec1750ce48c0.png" alt="dc"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
FIG. </font><font style="vertical-align: inherit;">3 - Objetos oVirt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O elemento superior na hierarquia √© o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Data Center</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Determina se o armazenamento compartilhado ou local √© usado, bem como o conjunto de fun√ß√µes usadas (compatibilidade, de 4.1 a 4.3). </font><font style="vertical-align: inherit;">Pode ser um ou mais. </font><font style="vertical-align: inherit;">Para muitas op√ß√µes, o uso do Data Center por padr√£o √© Padr√£o. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O Data Center consiste em um ou mais </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Clusters</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">O cluster determina o tipo de processador, pol√≠ticas de migra√ß√£o etc. Para instala√ß√µes pequenas, voc√™ tamb√©m pode limitar-se ao cluster Padr√£o. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O cluster, por sua vez, consiste em </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Host</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">est√° fazendo o trabalho principal - eles carregam m√°quinas virtuais, os armazenamentos est√£o conectados a eles. </font><font style="vertical-align: inherit;">Um cluster assume 2 ou mais hosts. </font><font style="vertical-align: inherit;">Embora seja tecnicamente poss√≠vel criar um cluster com um primeiro host, isso n√£o tem utilidade pr√°tica. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
OVirt suporta muitas fun√ß√µes, incluindo </font><font style="vertical-align: inherit;">migra√ß√£o ao vivo de m√°quinas virtuais entre hipervisores (migra√ß√£o ao vivo) e armazenamento (migra√ß√£o de armazenamento), virtualiza√ß√£o de desktops (infraestrutura de desktops virtuais) com pools de VMs, VMs estaduais e sem estado, suporte ao NVidia Grid vGPU, importa√ß√£o do vSphere, KVM, existe uma </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> poderosa </font><font style="vertical-align: inherit;">e muito mais . </font><font style="vertical-align: inherit;">Todos esses recursos est√£o dispon√≠veis sem royalties e, se necess√°rio, o suporte pode ser obtido da Red Hat atrav√©s de parceiros regionais.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sobre os pre√ßos do RHV</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O custo n√£o √© alto comparado ao VMware, apenas o suporte √© adquirido - sem a necessidade da compra da licen√ßa. </font><font style="vertical-align: inherit;">O suporte √© adquirido apenas em hipervisores; o mecanismo de ovirt, ao contr√°rio do vCenter Server, n√£o requer despesas.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exemplo de c√°lculo para o 1¬∫ ano de propriedade</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Considere um cluster de 4 m√°quinas de 2 soquetes e pre√ßos de varejo (sem descontos no projeto). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Uma assinatura RHV padr√£o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">custa US $ 999</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> por soquete / ano (premium 365/24/7 - US $ 1499), total 4 * 2 * US $ 999 = </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">US $ 7992</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pre√ßo do VSphere</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VMware vCenter Server Standard US $ 10.837,13 por inst√¢ncia, mais assinatura b√°sica de US $ 2.625,41 (Produ√ß√£o - US $ 3.125,39);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VMware vSphere Standard $ 1.164,15 + Assinatura b√°sica $ 552,61 (Produ√ß√£o $ 653,82);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VMware vSphere Enterprise Plus $ 6.309,23 + Assinatura b√°sica $ 1.261,09 (produ√ß√£o $ 1.499,94).</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Total: 10 837,13 + 2 625,41 + 4 * 2 * (1 164,15 + 552,61) = </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">US $ 27 196,62</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para a op√ß√£o mais jovem. </font><font style="vertical-align: inherit;">A diferen√ßa √© de cerca de 3,5 vezes! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No oVirt, todas as fun√ß√µes est√£o dispon√≠veis sem restri√ß√µes.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Breves especifica√ß√µes e altas</font></font></h2><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">requisitos de sistema</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O hipervisor requer uma CPU com a virtualiza√ß√£o de hardware ativada, a quantidade m√≠nima de RAM a iniciar √© de 2 GiB, a capacidade de armazenamento recomendada para o sistema operacional √© de 55 GiB (na maioria das vezes para revistas, etc., o pr√≥prio sistema operacional √© pequeno). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais detalhes </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Engine, os</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> requisitos m√≠nimos s√£o 2 n√∫cleos / 4 GiB de RAM / 25 GiB de armazenamento. </font><font style="vertical-align: inherit;">Recomendado - de 4 n√∫cleos / 16 GiB de RAM / 50 GiB de armazenamento. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como em qualquer sistema, h√° restri√ß√µes de volumes e quantidades, a maioria das quais excede os recursos dos servidores comerciais em massa dispon√≠veis. </font><font style="vertical-align: inherit;">Portanto, um par de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Intel Xeon Gold 6230</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pode endere√ßar 2 TiB de RAM e fornecer 40 n√∫cleos (80 threads), o que √© menor do que os limites de uma VM.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√°ximos da m√°quina virtual:</font></font></h4><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√°ximo de m√°quinas virtuais em execu√ß√£o simult√¢nea: ilimitado;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CPUs virtuais m√°ximas por m√°quina virtual: 384;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mem√≥ria m√°xima por m√°quina virtual: 4 TiB;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tamanho m√°ximo de disco √∫nico por m√°quina virtual: 8 TiB.</font></font></li>
</ul><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√°ximo do host:</font></font></h4><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N√∫cleos ou threads de CPU l√≥gica: 768;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RAM: 12 TiB;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N√∫mero de m√°quinas virtuais hospedadas: 250;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Migra√ß√µes ao vivo simult√¢neas: 2 de entrada e 2 de sa√≠da;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Largura de banda de migra√ß√£o ao vivo: o padr√£o √© 52 MiB (~ 436 Mb) por migra√ß√£o ao usar a pol√≠tica de migra√ß√£o herdada. </font><font style="vertical-align: inherit;">Outras pol√≠ticas usam valores de taxa de transfer√™ncia adapt√°veis ‚Äã‚Äãcom base na velocidade do dispositivo f√≠sico. </font><font style="vertical-align: inherit;">As pol√≠ticas de QoS podem limitar a largura de banda da migra√ß√£o.</font></font></li>
</ul><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√°ximos da entidade l√≥gica do gerente:</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em 4.3, existem os </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">seguintes limites</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Centro de dados</font></font><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contagem m√°xima do datacenter: 400;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contagem m√°xima de hosts: 400 suportados, 500 testados;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contagem m√°xima de VMs: 4000 suportados, 5000 testados;</font></font></li>
</ul></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grupo</font></font><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contagem m√°xima de cluster: 400;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contagem m√°xima de hosts: 400 suportados, 500 testados;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contagem m√°xima de VMs: 4000 suportados, 5000 testados;</font></font></li>
</ul></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rede</font></font><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redes l√≥gicas / cluster: 300;</font></font></li>
<li>SDN/external networks: 2600 tested, no enforced limit;</li>
</ul></li>
<li>Storage<br>
 <ul>
<li>Maximum domains: 50 supported, 70 tested;</li>
<li>Hosts per domain: No limit;</li>
<li>Logical volumes per block domain (more): 1500;</li>
<li>Maximum number of LUNs (more): 300;</li>
<li>Maximum disk size: 500 TiB (limited to 8 TiB by default).</li>
</ul></li>
</ul><br>
<br>
<h2> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como j√° mencionado, o oVirt √© constru√≠do a partir de 2 elementos b√°sicos - ovirt-engine (controle) e ovirt-host (hypervisor). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O mecanismo pode estar localizado fora da plataforma (gerenciador independente - pode ser uma VM em execu√ß√£o em outra plataforma ou em um hypervisor separado e at√© mesmo em uma m√°quina f√≠sica) e na pr√≥pria plataforma (mecanismo auto-hospedado, semelhante √† abordagem VCSA da VMware). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O hipervisor pode ser instalado em um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SO RHEL / CentOS 7 regular</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (host EL) e em um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SO m√≠nimo especializado</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (oVirt-Node, com base em el7). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os requisitos de hardware para todas as op√ß√µes s√£o aproximadamente os mesmos. </font></font><br>
<img src="https://habrastorage.org/getpro/habr/post_images/2d4/6ee/e87/2d46eee87509b852871b0a247005497d.png" alt="Arquitetura padr√£o"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
FIG. 4 - arquitetura padr√£o. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/894/aaa/576/894aaa576d2f26123a3b3149a5e18159.png" alt="Arquitetura do mecanismo auto-hospedado"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
FIG. 5 - Arquitetura do mecanismo auto-hospedado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para mim, escolhi a op√ß√£o Manager independente e os Hosts EL:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o Gerenciador aut√¥nomo √© um pouco mais f√°cil com problemas de inicializa√ß√£o, n√£o h√° dilema de ovos e galinhas (como no VCSA, voc√™ n√£o o executar√° at√© que pelo menos um host tenha subido totalmente), mas existe uma depend√™ncia de outro sistema </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">*</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O EL Host fornece todo o poder do sistema operacional, o que √© √∫til para monitoramento externo, depura√ß√£o, solu√ß√£o de problemas etc.</font></font></li>
</ul><br>
<i><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">*</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> No entanto, durante todo o per√≠odo de opera√ß√£o, isso n√£o foi necess√°rio, mesmo ap√≥s um grave acidente de energia. </font></font></i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas mais perto do ponto! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para o experimento, √© poss√≠vel liberar um par de blades ProLiant BL460c G7 com a CPU Xeon¬Æ. </font><font style="vertical-align: inherit;">Vamos reproduzir o processo de instala√ß√£o neles. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os n√≥s ser√£o nomeados ovirt.lab.example.com, kvm01.lab.example.com e kvm02.lab.example.com. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Prosseguimos diretamente para a</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> instala√ß√£o</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt501154/index.html">Medimos a temperatura sem ADC</a></li>
<li><a href="../pt501156/index.html">HackTheBox. Passagem da obscuridade. Inje√ß√£o de comando do SO e condi√ß√£o de corrida</a></li>
<li><a href="../pt501158/index.html">Tornando o Android View Binding conveniente com o Kotlin</a></li>
<li><a href="../pt501162/index.html">Compara√ß√£o de cenas de rap russas usando t√©cnicas de minera√ß√£o de texto e texto. Noize Mc e Kasta vs Pharaoh and Morgenshtern</a></li>
<li><a href="../pt501164/index.html">Visualiza√ß√£o de topologias de rede ou por que outro engenheiro de rede Python # 2</a></li>
<li><a href="../pt501168/index.html">Os auxiliares se salvam - eles salvam, salvam, queimam?</a></li>
<li><a href="../pt501172/index.html">Meu computador Mikrosh: continue a semana de nostalgia</a></li>
<li><a href="../pt501178/index.html">Como assistir porn√¥ afeta a produtividade do trabalho e estudo</a></li>
<li><a href="../pt501180/index.html">[P√≥s-pergunta] Voc√™ precisa de um movimento de TI para FACTS sobre coronav√≠rus e "efeitos colaterais"</a></li>
<li><a href="../pt501182/index.html">oVirt em 2 horas. Parte 2. Instalando o Gerenciador e os Hosts</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>